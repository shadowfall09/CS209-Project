{"items":[{"tags":["java","postgresql","hibernate","quarkus","liquibase-hibernate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696711326,"post_id":77248071,"comment_id":136189159,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":15131583,"reputation":1,"user_id":10949292,"display_name":"rubic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697184744,"creation_date":1696643382,"question_id":77248071,"body_markdown":"Currently, I&#39;m using PostgreSQL for my database and Quarkus with Hibernate ORM. For a while, I just used Hibernate&#39;s default HBM2DDL. Eventually, I discovered that it couldn&#39;t update every change I was making to my entities. Now I&#39;d like to use a proper database migration tool and run something that will generate diff SQL files that I can edit before putting into production.\r\n\r\nMy question is: how do I set up Quarkus and Hibernate ORM entities so that I can generate SQL diff files for database migrations?\r\n\r\nHere&#39;s what I&#39;ve tried so far:\r\n\r\nWhen using Quarkus, the main two supported database migration tools appear to be [Flyway](https://quarkus.io/guides/flyway) and [Liquibase](https://quarkus.io/guides/liquibase). I tried integrating each of these separately and ran into a number of issues:\r\n\r\n- Integrating Flyway worked nicely, but trying to hand write SQL migration files by studying my PanacheEntities and copying out Hibernate-generated changes became super tedious.\r\n\r\n- As a temporary workaround, I used Quarkus&#39;s Dev UI to [generate &quot;initial migration&quot; SQL files](https://quarkus.io/guides/hibernate-orm#flyway) for several different versions of my application, and then I went through and edited each file so that it would migrate correctly. This worked, but still required a lot of time and trial and error.\r\n\r\n- I discovered that [using JPA Buddy is a common answer to this question](https://stackoverflow.com/a/67935661). Sadly, generating diff migrations with JPA Buddy has since become a paid feature, so I would like to look elsewhere.\r\n\r\n- I restarted to a point before Flyway and integrated Liquibase, which was even faster to set up by reusing the SQL files I made for Flyway. I got the migration working, but still needed a solution to generate SQL diffs. Despite [Liquibase having support for generating a diff with Maven](https://docs.liquibase.com/tools-integrations/maven/commands/maven-diff.html), Quarkus&#39;s Liquibase page does not seem to have any support for it, or make any mention of how to improve writing migrations for future versions.\r\n\r\n- I tried adding [liquibase-hibernate](https://github.com/liquibase/liquibase-hibernate) as a dependency to the project, which also involved adding several other things to my `pom.xml` file, making a `liquibase.properties` file (even though I already have an `application.properties` file), and attempting to write an implementation of the `CustomMetadataFactory` class. It seems promising, but Quarkus changes things about Hibernate which prevents me from being able to exactly follow a tutorial for using Liquibase and Hibernate together.\r\n\r\nI find myself pretty stuck at this point. Generating a diff between a local development database and my current JPA entity changes seems to be possible with simpler Hibernate projects and with Spring Boot. What can I do?","title":"How do I perform database diff generation with Quarkus and Hibernate?","body":"<p>Currently, I'm using PostgreSQL for my database and Quarkus with Hibernate ORM. For a while, I just used Hibernate's default HBM2DDL. Eventually, I discovered that it couldn't update every change I was making to my entities. Now I'd like to use a proper database migration tool and run something that will generate diff SQL files that I can edit before putting into production.</p>\n<p>My question is: how do I set up Quarkus and Hibernate ORM entities so that I can generate SQL diff files for database migrations?</p>\n<p>Here's what I've tried so far:</p>\n<p>When using Quarkus, the main two supported database migration tools appear to be <a href=\"https://quarkus.io/guides/flyway\" rel=\"nofollow noreferrer\">Flyway</a> and <a href=\"https://quarkus.io/guides/liquibase\" rel=\"nofollow noreferrer\">Liquibase</a>. I tried integrating each of these separately and ran into a number of issues:</p>\n<ul>\n<li><p>Integrating Flyway worked nicely, but trying to hand write SQL migration files by studying my PanacheEntities and copying out Hibernate-generated changes became super tedious.</p>\n</li>\n<li><p>As a temporary workaround, I used Quarkus's Dev UI to <a href=\"https://quarkus.io/guides/hibernate-orm#flyway\" rel=\"nofollow noreferrer\">generate &quot;initial migration&quot; SQL files</a> for several different versions of my application, and then I went through and edited each file so that it would migrate correctly. This worked, but still required a lot of time and trial and error.</p>\n</li>\n<li><p>I discovered that <a href=\"https://stackoverflow.com/a/67935661\">using JPA Buddy is a common answer to this question</a>. Sadly, generating diff migrations with JPA Buddy has since become a paid feature, so I would like to look elsewhere.</p>\n</li>\n<li><p>I restarted to a point before Flyway and integrated Liquibase, which was even faster to set up by reusing the SQL files I made for Flyway. I got the migration working, but still needed a solution to generate SQL diffs. Despite <a href=\"https://docs.liquibase.com/tools-integrations/maven/commands/maven-diff.html\" rel=\"nofollow noreferrer\">Liquibase having support for generating a diff with Maven</a>, Quarkus's Liquibase page does not seem to have any support for it, or make any mention of how to improve writing migrations for future versions.</p>\n</li>\n<li><p>I tried adding <a href=\"https://github.com/liquibase/liquibase-hibernate\" rel=\"nofollow noreferrer\">liquibase-hibernate</a> as a dependency to the project, which also involved adding several other things to my <code>pom.xml</code> file, making a <code>liquibase.properties</code> file (even though I already have an <code>application.properties</code> file), and attempting to write an implementation of the <code>CustomMetadataFactory</code> class. It seems promising, but Quarkus changes things about Hibernate which prevents me from being able to exactly follow a tutorial for using Liquibase and Hibernate together.</p>\n</li>\n</ul>\n<p>I find myself pretty stuck at this point. Generating a diff between a local development database and my current JPA entity changes seems to be possible with simpler Hibernate projects and with Spring Boot. What can I do?</p>\n"},{"tags":["java","type-conversion"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1697186083,"post_id":77286106,"comment_id":136250840,"body_markdown":"fozzybear&#39;s answer is probably closest to what you are looking for.","body":"fozzybear&#39;s answer is probably closest to what you are looking for."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1697186212,"post_id":77286106,"comment_id":136250861,"body_markdown":"This is a pretty simple and straight forward solution: `Float[] array = IntStream.range(0, floats.length).mapToObj(i -&gt; floats[i]).toArray(Float[]::new);\n`","body":"This is a pretty simple and straight forward solution: <code>Float[] array = IntStream.range(0, floats.length).mapToObj(i -&gt; floats[i]).toArray(Float[]::new); </code>"},{"owner":{"account_id":25176073,"reputation":89,"user_id":19018243,"display_name":"fafa"},"score":0,"creation_date":1697187262,"post_id":77286106,"comment_id":136251044,"body_markdown":"@ODDminus1 your answer is the correct one - if you&#39;d make normal post out of it I would select it as the solution. - thank you for help","body":"@ODDminus1 your answer is the correct one - if you&#39;d make normal post out of it I would select it as the solution. - thank you for help"},{"owner":{"account_id":25176073,"reputation":89,"user_id":19018243,"display_name":"fafa"},"score":0,"creation_date":1697187313,"post_id":77286106,"comment_id":136251062,"body_markdown":"@Sweeper who/where is fozzybear? I do not see his answer here.","body":"@Sweeper who/where is fozzybear? I do not see his answer here."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1697187565,"post_id":77286106,"comment_id":136251111,"body_markdown":"Their answer is in the duplicate target. It&#39;s basically the same as what ODDminus1 suggested.","body":"Their answer is in the duplicate target. It&#39;s basically the same as what ODDminus1 suggested."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1697195192,"post_id":77286106,"comment_id":136252476,"body_markdown":"It might be somewhere in the duplicate target, but the target was very large and broad while this question was concise. Since the question is marked as a duplicate, answers are not allowed, so the comment will be all.","body":"It might be somewhere in the duplicate target, but the target was very large and broad while this question was concise. Since the question is marked as a duplicate, answers are not allowed, so the comment will be all."},{"owner":{"account_id":25176073,"reputation":89,"user_id":19018243,"display_name":"fafa"},"score":0,"creation_date":1697199070,"post_id":77286106,"comment_id":136253145,"body_markdown":"@ODDminus1 aha, OK - got that, thank you for explanation. I at least flagged your answer as being useful, if nothing more.","body":"@ODDminus1 aha, OK - got that, thank you for explanation. I at least flagged your answer as being useful, if nothing more."}],"owner":{"account_id":25176073,"reputation":89,"user_id":19018243,"display_name":"fafa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1697185980,"answer_count":0,"score":1,"last_activity_date":1697184661,"creation_date":1697184661,"question_id":77286106,"body_markdown":"I am trying to convert float array into Float array.\r\n\r\nI know how to do it with for() loop, but I am searching for a single-line solution if there is one.\r\n\r\nI saw [this post][1] for int[] to Integer[], but could not find a way for the floats. One of the  mentioned solution in that post looks like this (as I said it is for int[] to Integer[])\r\n\r\n    int [] ints = ...\r\n    Integer[] boxedInts = IntStream.of(ints).boxed().toArray(Integer[]::new);\r\n\r\nWhat I am asking is: is there a modification to above line so that it would apply to floats regarding my question, please?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30635884/19018243","title":"Java float[] to Float[] one-line conversion","body":"<p>I am trying to convert float array into Float array.</p>\n<p>I know how to do it with for() loop, but I am searching for a single-line solution if there is one.</p>\n<p>I saw <a href=\"https://stackoverflow.com/a/30635884/19018243\">this post</a> for int[] to Integer[], but could not find a way for the floats. One of the  mentioned solution in that post looks like this (as I said it is for int[] to Integer[])</p>\n<pre><code>int [] ints = ...\nInteger[] boxedInts = IntStream.of(ints).boxed().toArray(Integer[]::new);\n</code></pre>\n<p>What I am asking is: is there a modification to above line so that it would apply to floats regarding my question, please?</p>\n"},{"tags":["java","maven","recipe","openrewrite"],"comments":[{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1697133201,"post_id":77245664,"comment_id":136244818,"body_markdown":"All of that looks OK to me; are there any other fields in `SayHelloRecipe` that might cause the `@Value` annotation to create another constructor? It&#39;s hard to say with a limited view on your code. Perhaps a minimal reproduction sample could help here?","body":"All of that looks OK to me; are there any other fields in <code>SayHelloRecipe</code> that might cause the <code>@Value</code> annotation to create another constructor? It&#39;s hard to say with a limited view on your code. Perhaps a minimal reproduction sample could help here?"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1697184395,"post_id":77245664,"comment_id":136250544,"body_markdown":"@Tim Thanks for reviewing it. I have included the full code of the recipe, I hope that will help. One thing that I noticed reading the documentation, but didn&#39;t work to solve the problem, is that I originally had mistakenly placed the rewrite.yml file in the project where I wanted to use the recipe, whereas it&#39;s apparently meant to be part of the jar of the recipe. But as I said, that didn&#39;t work. I also ran other experiments, making the recipe and the project where I want to apply it be modules of the same multimodule project, for example, but all to no avail.","body":"@Tim Thanks for reviewing it. I have included the full code of the recipe, I hope that will help. One thing that I noticed reading the documentation, but didn&#39;t work to solve the problem, is that I originally had mistakenly placed the rewrite.yml file in the project where I wanted to use the recipe, whereas it&#39;s apparently meant to be part of the jar of the recipe. But as I said, that didn&#39;t work. I also ran other experiments, making the recipe and the project where I want to apply it be modules of the same multimodule project, for example, but all to no avail."},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1697391808,"post_id":77245664,"comment_id":136271306,"body_markdown":"Which path are you using in your library? It should be `src/main/resource/META-INF/rewrite/rewrite.yml` or similar, as seen in https://github.com/moderneinc/rewrite-recipe-starter/blob/main/src/main/resources/META-INF/rewrite/rewrite.yml","body":"Which path are you using in your library? It should be <code>src&#47;main&#47;resource&#47;META-INF&#47;rewrite&#47;rewrite.yml</code> or similar, as seen in <a href=\"https://github.com/moderneinc/rewrite-recipe-starter/blob/main/src/main/resources/META-INF/rewrite/rewrite.yml\" rel=\"nofollow noreferrer\">github.com/moderneinc/rewrite-recipe-starter/blob/main/src/m&zwnj;&#8203;ain/&hellip;</a>"},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1697391882,"post_id":77245664,"comment_id":136271308,"body_markdown":"You can also start with a fork of moderneinc/rewrite-recipe-starter to get started with a working library setup.","body":"You can also start with a fork of moderneinc/rewrite-recipe-starter to get started with a working library setup."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1697399326,"post_id":77245664,"comment_id":136272068,"body_markdown":"Yes, it is in that route, and I&#39;ve verified that it ends up in the jar for the recipe. In fact, after putting it in the correct route, the logs started to show both a call that showed the null value, and one that showed the right value. The recipe validation error, of course, still happens, as the first time the recipe is initialized, the property does not receive the value from the file for some reason, even though there&#39;s a subsequent call in which it does. I will try the fork approach that you suggest, hopefully that produces better results.","body":"Yes, it is in that route, and I&#39;ve verified that it ends up in the jar for the recipe. In fact, after putting it in the correct route, the logs started to show both a call that showed the null value, and one that showed the right value. The recipe validation error, of course, still happens, as the first time the recipe is initialized, the property does not receive the value from the file for some reason, even though there&#39;s a subsequent call in which it does. I will try the fork approach that you suggest, hopefully that produces better results."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1697539131,"post_id":77245664,"comment_id":136289749,"body_markdown":"@Tim Problem solved. The recipe name in the maven plugin configuration was incorrect :(","body":"@Tim Problem solved. The recipe name in the maven plugin configuration was incorrect :("},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1697540857,"post_id":77245664,"comment_id":136290082,"body_markdown":"Glad to hear your issue was resolved!","body":"Glad to hear your issue was resolved!"}],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697184213,"creation_date":1696605852,"question_id":77245664,"body_markdown":"I am trying to replicate SayHelloRecipe example from the OpenRewrite documentation. My recipe is as follows:\r\n\r\n```\r\npackage my.package.recipes;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.Value;\r\nimport org.openrewrite.Cursor;\r\nimport org.openrewrite.ExecutionContext;\r\nimport org.openrewrite.Option;\r\nimport org.openrewrite.Recipe;\r\nimport org.openrewrite.TreeVisitor;\r\nimport org.openrewrite.internal.lang.NonNull;\r\nimport org.openrewrite.java.JavaIsoVisitor;\r\nimport org.openrewrite.java.JavaTemplate;\r\nimport org.openrewrite.java.tree.J;\r\n\r\n@Value\r\n@EqualsAndHashCode(callSuper = false)\r\npublic class SayHelloRecipe extends Recipe {\r\n    @Option(displayName = &quot;Fully Qualified Class Name&quot;,\r\n            description = &quot;A fully qualified class name indicating which class to add a hello() method to.&quot;,\r\n            example = &quot;com.yourorg.FooBar&quot;)\r\n    @NonNull\r\n    String fullyQualifiedClassName;\r\n\r\n    @JsonCreator\r\n    public SayHelloRecipe(@NonNull @JsonProperty(&quot;fullyQualifiedClassName&quot;) String fullyQualifiedClassName) {\r\n        this.fullyQualifiedClassName = fullyQualifiedClassName;\r\n    }\r\n\r\n    @Override\r\n    public String getDisplayName() {\r\n        return &quot;Say Hello&quot;;\r\n    }\r\n\r\n    @Override\r\n    public String getDescription() {\r\n        return &quot;Adds a \\&quot;hello\\&quot; method to the specified class.&quot;;\r\n    }\r\n\r\n    @Override\r\n    public TreeVisitor&lt;?, ExecutionContext&gt; getVisitor() {\r\n        return new SayHelloVisitor();\r\n    }\r\n\r\n    public class SayHelloVisitor extends JavaIsoVisitor&lt;ExecutionContext&gt; {\r\n        private final JavaTemplate helloTemplate =\r\n                JavaTemplate.builder( &quot;public String hello() { return \\&quot;Hello from #{}!\\&quot;; }&quot;)\r\n                        .build();\r\n        @Override\r\n        public J.ClassDeclaration visitClassDeclaration(J.ClassDeclaration classDecl, ExecutionContext executionContext) {\r\n            if (classDecl.getType() == null || !classDecl.getType().getFullyQualifiedName().equals(fullyQualifiedClassName)) {\r\n                return classDecl;\r\n            }\r\n\r\n            boolean helloMethodExists = classDecl.getBody().getStatements().stream()\r\n                    .filter(statement -&gt; statement instanceof J.MethodDeclaration)\r\n                    .map(J.MethodDeclaration.class::cast)\r\n                    .anyMatch(methodDeclaration -&gt; methodDeclaration.getName().getSimpleName().equals(&quot;hello&quot;));\r\n\r\n            if (helloMethodExists) {\r\n                return classDecl;\r\n            }\r\n\r\n            classDecl = classDecl.withBody( helloTemplate.apply(new Cursor(getCursor(), classDecl.getBody()),\r\n                    classDecl.getBody().getCoordinates().lastStatement(),\r\n                    fullyQualifiedClassName ));\r\n\r\n            return classDecl;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe recipe compiles and its tests pass. I then have a different project with some sample code to which I want to apply some built-in recipes and this custom recipe. To this end, I have included in this other project a rewrite.yml file in the root of the project:\r\n\r\n```\r\n---\r\ntype: specs.openrewrite.org/v1beta/recipe\r\nname: my.package.recipes.AddHelloMethod\r\nrecipeList:\r\n  - my.package.recipes.SayHelloRecipe:\r\n      fullyQualifiedClassName: &#39;another.package.openrewritedemo.controller.MessageController&#39;\r\n```\r\n\r\nThe Maven configuration for the OpenRewrite plugin is as follows:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\r\n    &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;5.5.2&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n       &lt;activeRecipes&gt;\r\n          &lt;recipe&gt;org.openrewrite.java.OrderImports&lt;/recipe&gt;\r\n          &lt;recipe&gt;org.openrewrite.staticanalysis.CommonStaticAnalysis&lt;/recipe&gt;\r\n          &lt;recipe&gt;org.openrewrite.staticanalysis.JavaApiBestPractices&lt;/recipe&gt;\r\n          &lt;recipe&gt;org.openrewrite.java.spring.boot3.UpgradeSpringBoot_3_0&lt;/recipe&gt;\r\n          &lt;recipe&gt;my.package.recipes.SayHelloRecipe&lt;/recipe&gt;\r\n       &lt;/activeRecipes&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;dependencies&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rewrite-spring&lt;/artifactId&gt;\r\n          &lt;version&gt;5.0.10&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rewrite-static-analysis&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.7&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;com.acme&lt;/groupId&gt;\r\n          &lt;artifactId&gt;CustomRecipe&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAll of this seems correct to me, however when I try to run the project where I want to use my custom recipe, it throws an error stating &quot;Recipe validation error in fullyQualifiedClassName: is required&quot;, and by adding log statements to the recipe I have verified that fullyQualifiedClassName is null, as if it didn&#39;t receive the value specified in the rewrite.yml file. What can I do so the recipe will receive the value specified in the rewrite.yml file? Thanks in advance.","title":"OpenRewrite recipe specified in rewrite.yml with values for all mandatory properties fails because the recipe does not receive the values","body":"<p>I am trying to replicate SayHelloRecipe example from the OpenRewrite documentation. My recipe is as follows:</p>\n<pre><code>package my.package.recipes;\n\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.EqualsAndHashCode;\nimport lombok.Value;\nimport org.openrewrite.Cursor;\nimport org.openrewrite.ExecutionContext;\nimport org.openrewrite.Option;\nimport org.openrewrite.Recipe;\nimport org.openrewrite.TreeVisitor;\nimport org.openrewrite.internal.lang.NonNull;\nimport org.openrewrite.java.JavaIsoVisitor;\nimport org.openrewrite.java.JavaTemplate;\nimport org.openrewrite.java.tree.J;\n\n@Value\n@EqualsAndHashCode(callSuper = false)\npublic class SayHelloRecipe extends Recipe {\n    @Option(displayName = &quot;Fully Qualified Class Name&quot;,\n            description = &quot;A fully qualified class name indicating which class to add a hello() method to.&quot;,\n            example = &quot;com.yourorg.FooBar&quot;)\n    @NonNull\n    String fullyQualifiedClassName;\n\n    @JsonCreator\n    public SayHelloRecipe(@NonNull @JsonProperty(&quot;fullyQualifiedClassName&quot;) String fullyQualifiedClassName) {\n        this.fullyQualifiedClassName = fullyQualifiedClassName;\n    }\n\n    @Override\n    public String getDisplayName() {\n        return &quot;Say Hello&quot;;\n    }\n\n    @Override\n    public String getDescription() {\n        return &quot;Adds a \\&quot;hello\\&quot; method to the specified class.&quot;;\n    }\n\n    @Override\n    public TreeVisitor&lt;?, ExecutionContext&gt; getVisitor() {\n        return new SayHelloVisitor();\n    }\n\n    public class SayHelloVisitor extends JavaIsoVisitor&lt;ExecutionContext&gt; {\n        private final JavaTemplate helloTemplate =\n                JavaTemplate.builder( &quot;public String hello() { return \\&quot;Hello from #{}!\\&quot;; }&quot;)\n                        .build();\n        @Override\n        public J.ClassDeclaration visitClassDeclaration(J.ClassDeclaration classDecl, ExecutionContext executionContext) {\n            if (classDecl.getType() == null || !classDecl.getType().getFullyQualifiedName().equals(fullyQualifiedClassName)) {\n                return classDecl;\n            }\n\n            boolean helloMethodExists = classDecl.getBody().getStatements().stream()\n                    .filter(statement -&gt; statement instanceof J.MethodDeclaration)\n                    .map(J.MethodDeclaration.class::cast)\n                    .anyMatch(methodDeclaration -&gt; methodDeclaration.getName().getSimpleName().equals(&quot;hello&quot;));\n\n            if (helloMethodExists) {\n                return classDecl;\n            }\n\n            classDecl = classDecl.withBody( helloTemplate.apply(new Cursor(getCursor(), classDecl.getBody()),\n                    classDecl.getBody().getCoordinates().lastStatement(),\n                    fullyQualifiedClassName ));\n\n            return classDecl;\n        }\n    }\n}\n</code></pre>\n<p>The recipe compiles and its tests pass. I then have a different project with some sample code to which I want to apply some built-in recipes and this custom recipe. To this end, I have included in this other project a rewrite.yml file in the root of the project:</p>\n<pre><code>---\ntype: specs.openrewrite.org/v1beta/recipe\nname: my.package.recipes.AddHelloMethod\nrecipeList:\n  - my.package.recipes.SayHelloRecipe:\n      fullyQualifiedClassName: 'another.package.openrewritedemo.controller.MessageController'\n</code></pre>\n<p>The Maven configuration for the OpenRewrite plugin is as follows:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;5.5.2&lt;/version&gt;\n    &lt;configuration&gt;\n       &lt;activeRecipes&gt;\n          &lt;recipe&gt;org.openrewrite.java.OrderImports&lt;/recipe&gt;\n          &lt;recipe&gt;org.openrewrite.staticanalysis.CommonStaticAnalysis&lt;/recipe&gt;\n          &lt;recipe&gt;org.openrewrite.staticanalysis.JavaApiBestPractices&lt;/recipe&gt;\n          &lt;recipe&gt;org.openrewrite.java.spring.boot3.UpgradeSpringBoot_3_0&lt;/recipe&gt;\n          &lt;recipe&gt;my.package.recipes.SayHelloRecipe&lt;/recipe&gt;\n       &lt;/activeRecipes&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\n          &lt;artifactId&gt;rewrite-spring&lt;/artifactId&gt;\n          &lt;version&gt;5.0.10&lt;/version&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\n          &lt;artifactId&gt;rewrite-static-analysis&lt;/artifactId&gt;\n          &lt;version&gt;1.0.7&lt;/version&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;com.acme&lt;/groupId&gt;\n          &lt;artifactId&gt;CustomRecipe&lt;/artifactId&gt;\n          &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n       &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>All of this seems correct to me, however when I try to run the project where I want to use my custom recipe, it throws an error stating &quot;Recipe validation error in fullyQualifiedClassName: is required&quot;, and by adding log statements to the recipe I have verified that fullyQualifiedClassName is null, as if it didn't receive the value specified in the rewrite.yml file. What can I do so the recipe will receive the value specified in the rewrite.yml file? Thanks in advance.</p>\n"},{"tags":["java","barcode","zxing","code39"],"answers":[{"tags":[],"owner":{"account_id":6377538,"reputation":829,"user_id":4948006,"accept_rate":100,"display_name":"A M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697184128,"creation_date":1697184128,"answer_id":77286048,"question_id":77286047,"body_markdown":"I solved setting a configuration of the **DecodeHintType** structure.\r\n\r\nIn particular, when setting *ASSUME_CODE_39_CHECK_DIGIT* as false, the generation of check digit is disabled.\r\n\r\n    zxingHints.put(DecodeHintType.ASSUME_CODE_39_CHECK_DIGIT, Boolean.FALSE);\r\n\r\nSo, the complete configuration is:\r\n\r\n    Map&lt;DecodeHintType, Object&gt; zxingHints = new HashMap&lt;&gt;();\r\n\tzxingHints.put(DecodeHintType.TRY_HARDER, Boolean.TRUE);\r\n\tzxingHints.put(DecodeHintType.POSSIBLE_FORMATS, List.of(BarcodeFormat.CODE_39));\r\n    zxingHints.put(DecodeHintType.ASSUME_CODE_39_CHECK_DIGIT, Boolean.FALSE);\r\n\r\nMore info [here](https://zxing.github.io/zxing/apidocs/com/google/zxing/DecodeHintType.html#ASSUME_CODE_39_CHECK_DIGIT)","title":"ZXing - Read Code 39 barcode without check digit","body":"<p>I solved setting a configuration of the <strong>DecodeHintType</strong> structure.</p>\n<p>In particular, when setting <em>ASSUME_CODE_39_CHECK_DIGIT</em> as false, the generation of check digit is disabled.</p>\n<pre><code>zxingHints.put(DecodeHintType.ASSUME_CODE_39_CHECK_DIGIT, Boolean.FALSE);\n</code></pre>\n<p>So, the complete configuration is:</p>\n<pre><code>Map&lt;DecodeHintType, Object&gt; zxingHints = new HashMap&lt;&gt;();\nzxingHints.put(DecodeHintType.TRY_HARDER, Boolean.TRUE);\nzxingHints.put(DecodeHintType.POSSIBLE_FORMATS, List.of(BarcodeFormat.CODE_39));\nzxingHints.put(DecodeHintType.ASSUME_CODE_39_CHECK_DIGIT, Boolean.FALSE);\n</code></pre>\n<p>More info <a href=\"https://zxing.github.io/zxing/apidocs/com/google/zxing/DecodeHintType.html#ASSUME_CODE_39_CHECK_DIGIT\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":6377538,"reputation":829,"user_id":4948006,"accept_rate":100,"display_name":"A M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77286048,"answer_count":1,"score":-1,"last_activity_date":1697184128,"creation_date":1697184128,"question_id":77286047,"body_markdown":"I&#39;m using ZXing library for reading Code 39 barcodes from pdf documents. I noticed it adds a control character at the end of the barcode. \r\n\r\nIs there a way to disable the generation of that extra character?\r\n\r\nHere is my code snippet:\r\n\r\n    public Optional&lt;String&gt; readBarcode(File docFile){\r\n\t\ttry (PDDocument document = PDDocument.load(docFile)) {\r\n\t\t\tPDFRenderer pdfRenderer = new PDFRenderer(document);\r\n\t\t\tBufferedImage fullPageImage = pdfRenderer.renderImageWithDPI(0, 300, ImageType.RGB);\r\n\t\t\tint imageWidth = fullPageImage.getWidth();\r\n\t\t\tint imageHeight = fullPageImage.getHeight();\r\n\t\t\tint sectionWidth = 800;\r\n\t\t\tint sectionHeight = 800;\r\n\t\t\tint scanDelta = 200;\r\n\t\t\tint x = imageWidth - sectionWidth;\r\n\t\t\tint y = 0;\r\n\t\t\tint w = sectionWidth;\r\n\t\t\tint h = sectionHeight;\r\n\t\t\tint sectionNumber = 1;\r\n\t\t\tint rowIndex = 1;\r\n\t\t\tint columnIndex = 1;\r\n\t\t\t// Configuring ZXing\r\n\t\t\tMap&lt;DecodeHintType, Object&gt; zxingHints = new HashMap&lt;&gt;();\r\n\t\t\tzxingHints.put(DecodeHintType.TRY_HARDER, Boolean.TRUE);\r\n\t\t\tzxingHints.put(DecodeHintType.POSSIBLE_FORMATS, List.of(BarcodeFormat.CODE_39));\r\n\t\t\tdo {\r\n\t\t\t\tdo {\r\n\t\t\t\t\tBufferedImage imageSection = fullPageImage.getSubimage(x, y, w, h);\r\n\t\t\t\t\tBinaryBitmap binaryBitmap = new BinaryBitmap(new HybridBinarizer(new BufferedImageLuminanceSource(imageSection)));\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tResult barcodeDecodingResult = new MultiFormatReader().decode(binaryBitmap, zxingHints);\r\n\t\t\t\t\t\tif (StringUtils.isNotBlank(barcodeDecodingResult.getText())) {\r\n\t\t\t\t\t\t\t// Retrieving barcode \r\n\t\t\t\t\t\t\treturn Optional.of(barcodeDecodingResult.getText());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (NotFoundException ignored) {}\r\n\t\t\t\t\tx = Math.max(0, x - scanDelta);\r\n\t\t\t\t\tsectionNumber++;\r\n\t\t\t\t\tcolumnIndex++;\r\n\t\t\t\t} while (x &gt; 0);\r\n\t\t\t\ty = Math.min(imageHeight, y + scanDelta);\r\n\t\t\t\tx = imageWidth - sectionWidth;\r\n\t\t\t\tcolumnIndex = 1;\r\n\t\t\t\trowIndex++;\r\n\t\t\t} while ((y + sectionHeight) &lt; imageHeight);\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t\treturn Optional.empty();\r\n\t}\r\n\r\n","title":"ZXing - Read Code 39 barcode without check digit","body":"<p>I'm using ZXing library for reading Code 39 barcodes from pdf documents. I noticed it adds a control character at the end of the barcode.</p>\n<p>Is there a way to disable the generation of that extra character?</p>\n<p>Here is my code snippet:</p>\n<pre><code>public Optional&lt;String&gt; readBarcode(File docFile){\n    try (PDDocument document = PDDocument.load(docFile)) {\n        PDFRenderer pdfRenderer = new PDFRenderer(document);\n        BufferedImage fullPageImage = pdfRenderer.renderImageWithDPI(0, 300, ImageType.RGB);\n        int imageWidth = fullPageImage.getWidth();\n        int imageHeight = fullPageImage.getHeight();\n        int sectionWidth = 800;\n        int sectionHeight = 800;\n        int scanDelta = 200;\n        int x = imageWidth - sectionWidth;\n        int y = 0;\n        int w = sectionWidth;\n        int h = sectionHeight;\n        int sectionNumber = 1;\n        int rowIndex = 1;\n        int columnIndex = 1;\n        // Configuring ZXing\n        Map&lt;DecodeHintType, Object&gt; zxingHints = new HashMap&lt;&gt;();\n        zxingHints.put(DecodeHintType.TRY_HARDER, Boolean.TRUE);\n        zxingHints.put(DecodeHintType.POSSIBLE_FORMATS, List.of(BarcodeFormat.CODE_39));\n        do {\n            do {\n                BufferedImage imageSection = fullPageImage.getSubimage(x, y, w, h);\n                BinaryBitmap binaryBitmap = new BinaryBitmap(new HybridBinarizer(new BufferedImageLuminanceSource(imageSection)));\n                try {\n                    Result barcodeDecodingResult = new MultiFormatReader().decode(binaryBitmap, zxingHints);\n                    if (StringUtils.isNotBlank(barcodeDecodingResult.getText())) {\n                        // Retrieving barcode \n                        return Optional.of(barcodeDecodingResult.getText());\n                    }\n                } catch (NotFoundException ignored) {}\n                x = Math.max(0, x - scanDelta);\n                sectionNumber++;\n                columnIndex++;\n            } while (x &gt; 0);\n            y = Math.min(imageHeight, y + scanDelta);\n            x = imageWidth - sectionWidth;\n            columnIndex = 1;\n            rowIndex++;\n        } while ((y + sectionHeight) &lt; imageHeight);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n    return Optional.empty();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","cdi","inject","microprofile"],"owner":{"account_id":29662115,"reputation":1,"user_id":22733452,"display_name":"alwond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697182720,"creation_date":1697182529,"question_id":77285855,"body_markdown":"I have a problem that I&#39;ve been trying to solve for a while. I am trying to measure the performance in the app, and for that I want to use the microprofile metrics library from eclipse (more exactly, I am using the version 1.1.5). The application is using Spring Boot 2.7.2, Maven and Websphere/Liberty 22.0.0.6. Seems like everything worked fine til some point, since when I am starting the app, the endpoint /metrics is working and I can see metrics of type vendor and base, but no application ones (added in the code). It seems like the problem appears due to the fact that @Inject is providing a **null **MetricRegistry to which I am trying to add the custom made metrics. Here is the @Configuration for the Metrics module where the MetricRegistry is injected: \r\n\r\n\r\n```java\r\nimport jakarta.inject.Inject;\r\nimport org.eclipse.microprofile.metrics.MetricRegistry;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class MetricsConfiguration {\r\n    \r\n    @Inject\r\n    MetricRegistry metricRegistry;\r\n\r\n    @Bean\r\n    public MetricsPort metricsPort() {\r\n        return new MetricsPortImpl(metricRegistry);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd here is the dependency I added in order to be able to use the inject annotation from Jakarta:\r\n\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.inject&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.inject-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI tried to change the @Inject to @Autowired from Spring but it seems like MetricRegistry can be injected only using CDI. \r\nI tried changing the version of Jakarta but nothing improved. Initially I was using the version 9.1.0 for jakarta.jakartaee-api, which let me start the app but was providing the null MetricRegistry. \r\nI also tried the annotation @DependsOn to create the MetricsPort after the MetricRegistry was injected.\r\nI tried a bunch of different dependencies and options for `@Inject` annotation but nothing changed.","title":"@Inject from Jakarta failing to provide MetricRegistry Microprofile","body":"<p>I have a problem that I've been trying to solve for a while. I am trying to measure the performance in the app, and for that I want to use the microprofile metrics library from eclipse (more exactly, I am using the version 1.1.5). The application is using Spring Boot 2.7.2, Maven and Websphere/Liberty 22.0.0.6. Seems like everything worked fine til some point, since when I am starting the app, the endpoint /metrics is working and I can see metrics of type vendor and base, but no application ones (added in the code). It seems like the problem appears due to the fact that @Inject is providing a **null **MetricRegistry to which I am trying to add the custom made metrics. Here is the @Configuration for the Metrics module where the MetricRegistry is injected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.inject.Inject;\nimport org.eclipse.microprofile.metrics.MetricRegistry;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class MetricsConfiguration {\n    \n    @Inject\n    MetricRegistry metricRegistry;\n\n    @Bean\n    public MetricsPort metricsPort() {\n        return new MetricsPortImpl(metricRegistry);\n    }\n}\n\n</code></pre>\n<p>And here is the dependency I added in order to be able to use the inject annotation from Jakarta:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.inject&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.inject-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I tried to change the @Inject to @Autowired from Spring but it seems like MetricRegistry can be injected only using CDI.\nI tried changing the version of Jakarta but nothing improved. Initially I was using the version 9.1.0 for jakarta.jakartaee-api, which let me start the app but was providing the null MetricRegistry.\nI also tried the annotation @DependsOn to create the MetricsPort after the MetricRegistry was injected.\nI tried a bunch of different dependencies and options for <code>@Inject</code> annotation but nothing changed.</p>\n"},{"tags":["java","spring-boot","websocket"],"comments":[{"owner":{"account_id":22702283,"reputation":35,"user_id":16869520,"display_name":"Prithvi Emmanuel Machado"},"score":0,"creation_date":1697228675,"post_id":77280547,"comment_id":136258640,"body_markdown":"had to replace this registry.addEndpoint(&quot;/ws&quot;).withSockJS(); with registry.addEndpoint(&quot;/ws&quot;).setAllowedOriginPatterns(&quot;*&quot;).withSockJS(); and it worked","body":"had to replace this registry.addEndpoint(&quot;/ws&quot;).withSockJS(); with registry.addEndpoint(&quot;/ws&quot;).setAllowedOriginPatterns(&quot;*&quot;).wi&zwnj;&#8203;thSockJS(); and it worked"}],"owner":{"account_id":22702283,"reputation":35,"user_id":16869520,"display_name":"Prithvi Emmanuel Machado"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697182568,"creation_date":1697113394,"question_id":77280547,"body_markdown":"I am trying to create a gateway server that works with both rest apis and also web sockets. I have setup the rest api part but I am currently struggling with the ws part. I have the server running on localhost:8181. To configure the web socket I have used the following code\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig implements WebSocketMessageBrokerConfigurer{\r\n\r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry){\r\n            registry.addEndpoint(&quot;/ws&quot;).withSockJS();\r\n        }\r\n\r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry registry){\r\n            registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n            registry.enableSimpleBroker(&quot;/topic&quot;);\r\n        }\r\n\r\n    }\r\n\r\n\r\nbut when trying to connect to the server i keep getting this error \r\n\r\n    Access to XMLHttpRequest at &#39;http://localhost:8181/ws/info?t=1697111951247&#39; from origin &#39;null&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n    abstract-xhr.js:132     GET http://localhost:8181/ws/info?t=1697111951247 net::ERR_FAILED 403 (Forbidden)\r\n\r\nto connect with the server I am using the following code from a static html page\r\n    \r\n    var socket = new SockJS(&#39;http://localhost:8181/ws&#39;);\r\n    stompClient = Stomp.over(socket);\r\n    stompClient.connect({}, onConnect, onWebSocketError);\r\n\r\nI&#39;ve replaced http://localhost:8080/ws with just /ws then it gives invalid host error\r\nI have even tried setting CORS in Spring using the following code\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class CorsConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/ws/*&quot;)\r\n                .allowedOrigins(&quot;http://localhost:8181&quot;)\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\r\n                .allowedHeaders(&quot;&quot;)\r\n                .allowCredentials(true);\r\n        }\r\n    }\r\n\r\nStill no luck. Any help is appreciated","title":"Web sockets and RestAPIs with Spring Boot","body":"<p>I am trying to create a gateway server that works with both rest apis and also web sockets. I have setup the rest api part but I am currently struggling with the ws part. I have the server running on localhost:8181. To configure the web socket I have used the following code</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer{\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry){\n        registry.addEndpoint(&quot;/ws&quot;).withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry){\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n        registry.enableSimpleBroker(&quot;/topic&quot;);\n    }\n\n}\n</code></pre>\n<p>but when trying to connect to the server i keep getting this error</p>\n<pre><code>Access to XMLHttpRequest at 'http://localhost:8181/ws/info?t=1697111951247' from origin 'null' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\nabstract-xhr.js:132     GET http://localhost:8181/ws/info?t=1697111951247 net::ERR_FAILED 403 (Forbidden)\n</code></pre>\n<p>to connect with the server I am using the following code from a static html page</p>\n<pre><code>var socket = new SockJS('http://localhost:8181/ws');\nstompClient = Stomp.over(socket);\nstompClient.connect({}, onConnect, onWebSocketError);\n</code></pre>\n<p>I've replaced http://localhost:8080/ws with just /ws then it gives invalid host error\nI have even tried setting CORS in Spring using the following code</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class CorsConfig implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/ws/*&quot;)\n            .allowedOrigins(&quot;http://localhost:8181&quot;)\n            .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\n            .allowedHeaders(&quot;&quot;)\n            .allowCredentials(true);\n    }\n}\n</code></pre>\n<p>Still no luck. Any help is appreciated</p>\n"},{"tags":["java","amazon-web-services","maven","amazon-s3","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1697196036,"post_id":77285846,"comment_id":136252635,"body_markdown":"Please try suggestions from similar thread: https://stackoverflow.com/questions/37781970/disconnected-from-the-target-vm-address-127-0-0-162535-transport-socket","body":"Please try suggestions from similar thread: <a href=\"https://stackoverflow.com/questions/37781970/disconnected-from-the-target-vm-address-127-0-0-162535-transport-socket\" title=\"disconnected from the target vm address 127 0 0 162535 transport socket\">stackoverflow.com/questions/37781970/&hellip;</a>"}],"owner":{"account_id":29662189,"reputation":1,"user_id":22733505,"display_name":"neha anthony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697182425,"creation_date":1697182425,"question_id":77285846,"body_markdown":"While debuging program following  error is comming-\r\nConnected to the target VM, address: &#39;javadebug&#39;, transport: &#39;shared memory&#39;\r\n\r\nUsage:\r\n    &lt;textract-java&gt; &lt;bill.jpeg&gt; \r\n\r\nWhere:\r\n    bucketName - The name of the Amazon S3 bucket that contains the document. \r\n\r\n    docName - The document name (must be an image, i.e., book.png). \r\n\r\nDisconnected from the target VM, address: &#39;javadebug&#39;, transport: &#39;shared memory&#39;\r\n\r\nProcess finished with exit code 1\r\n     \r\n\r\nPlease help\r\n\r\nI am trying a aws java program to analyze the document.","title":"Disconnected from the target VM, address: &#39;javadebug&#39;, transport: &#39;shared memory&#39;","body":"<p>While debuging program following  error is comming-\nConnected to the target VM, address: 'javadebug', transport: 'shared memory'</p>\n<p>Usage:\n &lt;bill.jpeg&gt;</p>\n<p>Where:\nbucketName - The name of the Amazon S3 bucket that contains the document.</p>\n<pre><code>docName - The document name (must be an image, i.e., book.png). \n</code></pre>\n<p>Disconnected from the target VM, address: 'javadebug', transport: 'shared memory'</p>\n<p>Process finished with exit code 1</p>\n<p>Please help</p>\n<p>I am trying a aws java program to analyze the document.</p>\n"},{"tags":["java","arrays","programming-languages","methods"],"comments":[{"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"score":0,"creation_date":1267701583,"post_id":2378756,"comment_id":2355308,"body_markdown":"Do you mean copying the array, or just assigning the result of this method to a variable so you can use it?","body":"Do you mean copying the array, or just assigning the result of this method to a variable so you can use it?"},{"owner":{"account_id":41065,"reputation":37025,"user_id":119271,"accept_rate":78,"display_name":"Douglas"},"score":0,"creation_date":1267701851,"post_id":2378756,"comment_id":2355344,"body_markdown":"Do you mean appending the results onto another array? As in, you started with foo = { 9, 9, 9 }, then after calling your method you want to append them to foo such that foo becomes { 9, 9, 9, 1, 2, 3, 5 }?","body":"Do you mean appending the results onto another array? As in, you started with foo = { 9, 9, 9 }, then after calling your method you want to append them to foo such that foo becomes { 9, 9, 9, 1, 2, 3, 5 }?"}],"answers":[{"comments":[{"owner":{"account_id":64239,"reputation":17384,"user_id":189756,"accept_rate":88,"display_name":"Mohammad Sepahvand"},"score":0,"creation_date":1267701953,"post_id":2378759,"comment_id":2355355,"body_markdown":"Thank you very much, int[] x = method(); worked perfectly, thanks.","body":"Thank you very much, int[] x = method(); worked perfectly, thanks."},{"owner":{"account_id":12486597,"reputation":85,"user_id":12474034,"display_name":"Janjan"},"score":0,"creation_date":1594312279,"post_id":2378759,"comment_id":111089074,"body_markdown":"Is this equally valid? int [] x;   x = method():","body":"Is this equally valid? int [] x;   x = method():"}],"tags":[],"owner":{"account_id":104434,"reputation":2853,"user_id":279218,"accept_rate":74,"display_name":"saugata"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1267701377,"creation_date":1267701377,"answer_id":2378759,"question_id":2378756,"body_markdown":"    int[] x = method();","title":"How to store an array returned by a method in Java","body":"<pre><code>int[] x = method();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19015,"reputation":16929,"user_id":44124,"accept_rate":84,"display_name":"Kannan Ekanath"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1267701402,"creation_date":1267701402,"answer_id":2378760,"question_id":2378756,"body_markdown":"int[] anotherArray = method();\r\n\r\nDo you want to make another physical copy of the array ? \r\n\r\nThen use \r\n\r\n    System.arraycopy(Object src,  int  srcPos, Object dest, int destPos, int length)","title":"How to store an array returned by a method in Java","body":"<p>int[] anotherArray = method();</p>\n\n<p>Do you want to make another physical copy of the array ? </p>\n\n<p>Then use </p>\n\n<pre><code>System.arraycopy(Object src,  int  srcPos, Object dest, int destPos, int length)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2151,"reputation":3523,"user_id":2965,"accept_rate":86,"display_name":"Laurent K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697182200,"creation_date":1267701451,"answer_id":2378765,"question_id":2378756,"body_markdown":"If you want to duplicate the array, you can use [`copyOf()`][1].\r\n\r\n[1]: https://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#copyOf(int[],%20int)\r\n\r\n","title":"How to store an array returned by a method in Java","body":"<p>If you want to duplicate the array, you can use <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#copyOf(int%5B%5D,%20int)\" rel=\"nofollow noreferrer\"><code>copyOf()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267701652,"creation_date":1267701652,"answer_id":2378794,"question_id":2378756,"body_markdown":"Are you sure you have to copy?\r\n\r\n    int[] myArray = method();  // now myArray can be used ","title":"How to store an array returned by a method in Java","body":"<p>Are you sure you have to copy?</p>\n\n<pre><code>int[] myArray = method();  // now myArray can be used \n</code></pre>\n"},{"tags":[],"owner":{"account_id":80529,"reputation":448258,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1267701845,"creation_date":1267701845,"answer_id":2378817,"question_id":2378756,"body_markdown":"    public int[] method() {\r\n    \tint z[] = {1,2,3,5};\r\n    \treturn z;\r\n    }\r\n\r\nThe above method does not return an array par se, instead it returns a reference to the array. In the calling function you can collect this return value in another reference like:\r\n\r\n    int []copy = method();\r\n\r\nAfter this `copy` will also refer to the same array that `z` was refering to before.\r\n\r\nIf this is not what you want and you want to create a copy of the array you can create a copy using `System.arraycopy`.\r\n\r\n","title":"How to store an array returned by a method in Java","body":"<pre><code>public int[] method() {\n    int z[] = {1,2,3,5};\n    return z;\n}\n</code></pre>\n\n<p>The above method does not return an array par se, instead it returns a reference to the array. In the calling function you can collect this return value in another reference like:</p>\n\n<pre><code>int []copy = method();\n</code></pre>\n\n<p>After this <code>copy</code> will also refer to the same array that <code>z</code> was refering to before.</p>\n\n<p>If this is not what you want and you want to create a copy of the array you can create a copy using <code>System.arraycopy</code>.</p>\n"},{"comments":[{"owner":{"account_id":203704,"reputation":13105,"user_id":451518,"display_name":"default locale"},"score":1,"creation_date":1357717552,"post_id":14230191,"comment_id":19741329,"body_markdown":"Welcome to Stackoverflow! There is no need to duplicate other answers. Especially on a question answered 2 years ago.","body":"Welcome to Stackoverflow! There is no need to duplicate other answers. Especially on a question answered 2 years ago."}],"tags":[],"owner":{"account_id":2221174,"reputation":19,"user_id":1960502,"display_name":"porselvi"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1357717385,"creation_date":1357716220,"answer_id":14230191,"question_id":2378756,"body_markdown":"Try :-\r\n\r\n    int arr[]=mymethod();\r\n    \r\n    //caling method it stores in array\r\n    \r\n    public int[] mymethod()\r\n    {\r\n    \r\n       return arr;\r\n    \r\n    }","title":"How to store an array returned by a method in Java","body":"<p>Try :-</p>\n\n<pre><code>int arr[]=mymethod();\n\n//caling method it stores in array\n\npublic int[] mymethod()\n{\n\n   return arr;\n\n}\n</code></pre>\n"}],"owner":{"account_id":64239,"reputation":17384,"user_id":189756,"accept_rate":88,"display_name":"Mohammad Sepahvand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49214,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":2378817,"answer_count":6,"score":6,"last_activity_date":1697182200,"creation_date":1267701288,"question_id":2378756,"body_markdown":"I want to store the array returned by a method into another array. How can I do this? \r\n\r\n     \r\n    public int[] method(){\r\n        int z[] = {1,2,3,5};\r\n        return z;\r\n    }\r\n\r\nWhen I call this method, how can I store the returned array (z) into another array?\r\n\r\n\r\n\r\n","title":"How to store an array returned by a method in Java","body":"<p>I want to store the array returned by a method into another array. How can I do this? </p>\n\n<pre><code>public int[] method(){\n    int z[] = {1,2,3,5};\n    return z;\n}\n</code></pre>\n\n<p>When I call this method, how can I store the returned array (z) into another array?</p>\n"},{"tags":["java","windows","native","shutdown-hook"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1426917572,"post_id":29179684,"comment_id":46576247,"body_markdown":"Look at something like the JNA api, they probably have a os shutdown hook available","body":"Look at something like the JNA api, they probably have a os shutdown hook available"},{"owner":{"account_id":4427115,"reputation":323,"user_id":3605302,"accept_rate":56,"display_name":"Pranav"},"score":0,"creation_date":1427090815,"post_id":29179684,"comment_id":46619497,"body_markdown":"No luck so far. There is a method `Native.setProtected(true)` in the JNA API to prevent the VM from crashing but i&#39;m not able to get it to work.","body":"No luck so far. There is a method <code>Native.setProtected(true)</code> in the JNA API to prevent the VM from crashing but i&#39;m not able to get it to work."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427098453,"creation_date":1427098453,"answer_id":29205661,"question_id":29179684,"body_markdown":"You will have to write native methods. Two for adding and removing your shutdown hook, and one that will act as a callback method for the hook, from where java code will be invoked. \r\nYou hook will have to listen for OS shutting down message and invoke your callback when this occure. This is the way that plenty of apps that prevents windows from going into sleep mode or running screen saver works.\r\n\r\nCheck for some information about JNI here\r\n\r\nhttp://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/jniTOC.html\r\n\r\nand about hooks here\r\n\r\nhttps://msdn.microsoft.com/en-us/library/windows/desktop/ms644960%28v=vs.85%29.aspx","title":"Java shutdown hook call on windows shut down","body":"<p>You will have to write native methods. Two for adding and removing your shutdown hook, and one that will act as a callback method for the hook, from where java code will be invoked. \nYou hook will have to listen for OS shutting down message and invoke your callback when this occure. This is the way that plenty of apps that prevents windows from going into sleep mode or running screen saver works.</p>\n\n<p>Check for some information about JNI here</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/jniTOC.html\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/jniTOC.html</a></p>\n\n<p>and about hooks here</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms644960%28v=vs.85%29.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/windows/desktop/ms644960%28v=vs.85%29.aspx</a></p>\n"},{"comments":[{"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"score":0,"creation_date":1695422320,"post_id":29206136,"comment_id":136027346,"body_markdown":"You can use `sun.misc.Signal` nowadays too hook into the `WM_QUERYENDSESSION` code, still no proper public API though: https://stackoverflow.com/a/77160942/1514467","body":"You can use <code>sun.misc.Signal</code> nowadays too hook into the <code>WM_QUERYENDSESSION</code> code, still no proper public API though: <a href=\"https://stackoverflow.com/a/77160942/1514467\">stackoverflow.com/a/77160942/1514467</a>"}],"tags":[],"owner":{"account_id":1195086,"reputation":2530,"user_id":1166992,"accept_rate":83,"display_name":"Olivier Faucheux"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1427100408,"creation_date":1427100408,"answer_id":29206136,"question_id":29179684,"body_markdown":"`ShutdownHooks` indeed do not work by shutdown of Windows. I consider it as a bug of Java and opened a BugReport last week. It has however not (yet) been published.\r\n\r\nThere was an old Bug Report in 2008: [Runtime#addShutdownHook does not work on Windows Vista, when user logs out][1]. The same problem occurs with Windows 7. The ticket was closed by java.com without a satifying response.\r\n\r\nWindows gives by shutdown some time to the applications to terminate gracefully. The delay is defined by the registry key `WaitToKillApplication`. I expect the java program uses this delay to execute the hooks (and the finalizes if `Runtime.runFinalizersOnExit()` is set).\r\n\r\nLet see if Oracle recognizes it as a bug...\r\n\r\n\r\n  [1]: http://bugs.java.com/view_bug.do?bug_id=6667751","title":"Java shutdown hook call on windows shut down","body":"<p><code>ShutdownHooks</code> indeed do not work by shutdown of Windows. I consider it as a bug of Java and opened a BugReport last week. It has however not (yet) been published.</p>\n\n<p>There was an old Bug Report in 2008: <a href=\"http://bugs.java.com/view_bug.do?bug_id=6667751\" rel=\"nofollow\">Runtime#addShutdownHook does not work on Windows Vista, when user logs out</a>. The same problem occurs with Windows 7. The ticket was closed by java.com without a satifying response.</p>\n\n<p>Windows gives by shutdown some time to the applications to terminate gracefully. The delay is defined by the registry key <code>WaitToKillApplication</code>. I expect the java program uses this delay to execute the hooks (and the finalizes if <code>Runtime.runFinalizersOnExit()</code> is set).</p>\n\n<p>Let see if Oracle recognizes it as a bug...</p>\n"},{"tags":[],"owner":{"account_id":29657475,"reputation":11,"user_id":22729915,"display_name":"ЯazoR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697182197,"creation_date":1697182197,"answer_id":77285821,"question_id":29179684,"body_markdown":"I had to implement this for a Windows deployed application a couple years back using JDK 11.\r\n\r\nRegarding [the linked answer](https://stackoverflow.com/questions/61692/how-do-i-get-my-java-application-to-shutdown-nicely-in-windows/77285560#77285560) you could create a better suited implementation for this context.\r\n\r\nI originally posted my answer there to be at available for both questions but it had a different context as in showing UI elements which are not suppsed to be used in my implementation (as I was pointed out). Since there is no such requirement in this case I think the one I describe is the most straightforward implementation and a proper &quot;enough&quot; API to use.\r\n\r\nYou can directly use the respective classes even if they are part of the internal API since they are not strongly encapsulated.\r\n\r\nSee this [JEP403](https://openjdk.org/jeps/403) for details:\r\n&gt; It is not a goal to remove, encapsulate, or modify any critical\r\n&gt; internal APIs of the JDK for which standard replacements do not yet\r\n&gt; exist. This means that sun.misc.Unsafe will remain available.\r\n\r\nWhereas on the linked JEP the following is stated:\r\n&gt; Critical internal APIs not encapsulated in JDK 9\r\n&gt; \r\n&gt; The critical internal APIs that are not encapsulated in JDK 9, because\r\n&gt; supported replacements did not exist in JDK 8, are listed here.\r\n&gt; \r\n&gt;   - sun.misc.{Signal,SignalHandler}\r\n\r\nAnd also all currently supported (as of writing this post) LTS JDKs support the feature of raising a `TERM` signal on `WM_QUERYENDSESSION`. Sadly I cannot link the documentation for that, but I can link the source code references:\r\n[OpenJDK 8](https://github.com/frohoff/jdk8u-jdk/blob/da0da73ab82ed714dc5be94acd2f0d00fbdfe2e9/src/windows/native/sun/windows/awt_Toolkit.cpp#L1049C15-L1049C30),\r\n[OpenJDK 11](https://github.com/openjdk/jdk11/blob/master/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1271),\r\n[OpenJDK 17](https://github.com/openjdk/jdk17/blob/master/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1299),\r\n[OpenJDK 21](https://github.com/openjdk/jdk21/blob/master/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1300).\r\n\r\nBased on the above you can create a more simple implementation without using reflection (and exception handling because of that):\r\n```\r\nRuntime.getRuntime().addShutdownHook(/* Add your implementation here! */);\r\nSignalHandler handler = (Signal sig) -&gt; {\r\n    System.exit(0);\r\n};\r\nSignal.handle(new Signal(&quot;TERM&quot;), handler);\r\n```\r\n\r\nThis would work in the way that once the shutdown sequence is started your shutdown logic will be invoked. The current implementation and documented JEPs will also ensure this also happens on `WM_QUERYENDSESSION`. This will remain the case until this API is publicly available (which is at least the end of support date of JDK 21).\r\n\r\nWith this solution you do not have to use platform dependent libraries and any class names specified in `String` literals, only the name of the `Signal` but AFAIK there is no workaround for that. (You could also add support for `TERM` the same way.)","title":"Java shutdown hook call on windows shut down","body":"<p>I had to implement this for a Windows deployed application a couple years back using JDK 11.</p>\n<p>Regarding <a href=\"https://stackoverflow.com/questions/61692/how-do-i-get-my-java-application-to-shutdown-nicely-in-windows/77285560#77285560\">the linked answer</a> you could create a better suited implementation for this context.</p>\n<p>I originally posted my answer there to be at available for both questions but it had a different context as in showing UI elements which are not suppsed to be used in my implementation (as I was pointed out). Since there is no such requirement in this case I think the one I describe is the most straightforward implementation and a proper &quot;enough&quot; API to use.</p>\n<p>You can directly use the respective classes even if they are part of the internal API since they are not strongly encapsulated.</p>\n<p>See this <a href=\"https://openjdk.org/jeps/403\" rel=\"nofollow noreferrer\">JEP403</a> for details:</p>\n<blockquote>\n<p>It is not a goal to remove, encapsulate, or modify any critical\ninternal APIs of the JDK for which standard replacements do not yet\nexist. This means that sun.misc.Unsafe will remain available.</p>\n</blockquote>\n<p>Whereas on the linked JEP the following is stated:</p>\n<blockquote>\n<p>Critical internal APIs not encapsulated in JDK 9</p>\n<p>The critical internal APIs that are not encapsulated in JDK 9, because\nsupported replacements did not exist in JDK 8, are listed here.</p>\n<ul>\n<li>sun.misc.{Signal,SignalHandler}</li>\n</ul>\n</blockquote>\n<p>And also all currently supported (as of writing this post) LTS JDKs support the feature of raising a <code>TERM</code> signal on <code>WM_QUERYENDSESSION</code>. Sadly I cannot link the documentation for that, but I can link the source code references:\n<a href=\"https://github.com/frohoff/jdk8u-jdk/blob/da0da73ab82ed714dc5be94acd2f0d00fbdfe2e9/src/windows/native/sun/windows/awt_Toolkit.cpp#L1049C15-L1049C30\" rel=\"nofollow noreferrer\">OpenJDK 8</a>,\n<a href=\"https://github.com/openjdk/jdk11/blob/master/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1271\" rel=\"nofollow noreferrer\">OpenJDK 11</a>,\n<a href=\"https://github.com/openjdk/jdk17/blob/master/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1299\" rel=\"nofollow noreferrer\">OpenJDK 17</a>,\n<a href=\"https://github.com/openjdk/jdk21/blob/master/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1300\" rel=\"nofollow noreferrer\">OpenJDK 21</a>.</p>\n<p>Based on the above you can create a more simple implementation without using reflection (and exception handling because of that):</p>\n<pre><code>Runtime.getRuntime().addShutdownHook(/* Add your implementation here! */);\nSignalHandler handler = (Signal sig) -&gt; {\n    System.exit(0);\n};\nSignal.handle(new Signal(&quot;TERM&quot;), handler);\n</code></pre>\n<p>This would work in the way that once the shutdown sequence is started your shutdown logic will be invoked. The current implementation and documented JEPs will also ensure this also happens on <code>WM_QUERYENDSESSION</code>. This will remain the case until this API is publicly available (which is at least the end of support date of JDK 21).</p>\n<p>With this solution you do not have to use platform dependent libraries and any class names specified in <code>String</code> literals, only the name of the <code>Signal</code> but AFAIK there is no workaround for that. (You could also add support for <code>TERM</code> the same way.)</p>\n"}],"owner":{"account_id":4427115,"reputation":323,"user_id":3605302,"accept_rate":56,"display_name":"Pranav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2399,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1697182197,"creation_date":1426916715,"question_id":29179684,"body_markdown":"I have a situation in which I want to perform some task when the user signals the OS(in my case only Windows) to shutdown. \r\n\r\nI have tried using java shutdown hooks. The problem I face is that when I exit the program using `System.exit(0);`, the shutdown hooks are called but when I directly shutdown the computer, they aren&#39;t.\r\n\r\nThis is the code I have used for the shutdown hooks-\r\n\r\n    Runtime.getRuntime().addShutdownHook(new JVMShutdownHook()); //in main method\r\n\r\n    //within the main java class\r\n    private static class JVMShutdownHook extends Thread {\r\n    @Override\r\n    public void run() {\r\n       //perform tasks\r\n    }\r\n    }\r\n\r\nIs there any way to interact with the OS(I&#39;m assuming some native code) so that it allows my program to exit gracefully?\r\n\r\nAny help would be greatly appreciated.","title":"Java shutdown hook call on windows shut down","body":"<p>I have a situation in which I want to perform some task when the user signals the OS(in my case only Windows) to shutdown. </p>\n\n<p>I have tried using java shutdown hooks. The problem I face is that when I exit the program using <code>System.exit(0);</code>, the shutdown hooks are called but when I directly shutdown the computer, they aren't.</p>\n\n<p>This is the code I have used for the shutdown hooks-</p>\n\n<pre><code>Runtime.getRuntime().addShutdownHook(new JVMShutdownHook()); //in main method\n\n//within the main java class\nprivate static class JVMShutdownHook extends Thread {\n@Override\npublic void run() {\n   //perform tasks\n}\n}\n</code></pre>\n\n<p>Is there any way to interact with the OS(I'm assuming some native code) so that it allows my program to exit gracefully?</p>\n\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1697153118,"post_id":77282831,"comment_id":136247543,"body_markdown":"The log is clear: *Failed to authorize filter invocation [GET /v1/alerts] with attributes [authenticated]* So you have to be logged in, if you want to access this endpoint.","body":"The log is clear: <i>Failed to authorize filter invocation [GET /v1/alerts] with attributes [authenticated]</i> So you have to be logged in, if you want to access this endpoint."},{"owner":{"account_id":21044045,"reputation":39,"user_id":16234460,"display_name":"IamYourFaja"},"score":0,"creation_date":1697160011,"post_id":77282831,"comment_id":136248055,"body_markdown":"OK clearly I want `GET /v1/alerts` to be public/non-authenticated, what would I need to change? I&#39;m 99% sure I have the antMatchers configured correctly.","body":"OK clearly I want <code>GET &#47;v1&#47;alerts</code> to be public/non-authenticated, what would I need to change? I&#39;m 99% sure I have the antMatchers configured correctly."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1697184974,"post_id":77282831,"comment_id":136250647,"body_markdown":"Is this log line in your logs? *log.info(&quot;configuring security...&quot;);* At least with Spring Security 6 you need to add `@Configuration` on you class. Maybe it is not neccessary with Spring Security 5. I can&#39;t remember.","body":"Is this log line in your logs? <i>log.info(&quot;configuring security...&quot;);</i> At least with Spring Security 6 you need to add <code>@Configuration</code> on you class. Maybe it is not neccessary with Spring Security 5. I can&#39;t remember."}],"answers":[{"comments":[{"owner":{"account_id":21044045,"reputation":39,"user_id":16234460,"display_name":"IamYourFaja"},"score":0,"creation_date":1697152686,"post_id":77283920,"comment_id":136247507,"body_markdown":"Yes I can verify the controller endpoint is called, I just can&#39;t find where the error is coming from, and why Spring would try to route the user to `/error`.","body":"Yes I can verify the controller endpoint is called, I just can&#39;t find where the error is coming from, and why Spring would try to route the user to <code>&#47;error</code>."},{"owner":{"account_id":16282653,"reputation":85,"user_id":11758130,"display_name":"Chasca"},"score":0,"creation_date":1697181514,"post_id":77283920,"comment_id":136250068,"body_markdown":"Please see here : https://stackoverflow.com/questions/38747548/spring-boot-disable-error-mapping","body":"Please see here : <a href=\"https://stackoverflow.com/questions/38747548/spring-boot-disable-error-mapping\" title=\"spring boot disable error mapping\">stackoverflow.com/questions/38747548/&hellip;</a>"}],"tags":[],"owner":{"account_id":16282653,"reputation":85,"user_id":11758130,"display_name":"Chasca"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697181555,"creation_date":1697146018,"answer_id":77283920,"question_id":77282831,"body_markdown":"It seems that your Controller was actually called but an error occurred and Spring MVC routed it to __/error__. Then Spring Security tries to secure the __/error__ as well but denies it since you have no authentication. So your client (curl) gets a 401.\r\nIf you want to be sure add some logs in your Controller or run in debug and see if your code is called. \r\n\r\nTo disable the internal redirect to /error see https://stackoverflow.com/questions/38747548/spring-boot-disable-error-mapping","title":"Spring Security antMatchers being ignored or overridden","body":"<p>It seems that your Controller was actually called but an error occurred and Spring MVC routed it to <strong>/error</strong>. Then Spring Security tries to secure the <strong>/error</strong> as well but denies it since you have no authentication. So your client (curl) gets a 401.\nIf you want to be sure add some logs in your Controller or run in debug and see if your code is called.</p>\n<p>To disable the internal redirect to /error see <a href=\"https://stackoverflow.com/questions/38747548/spring-boot-disable-error-mapping\">Spring Boot Disable /error mapping</a></p>\n"}],"owner":{"account_id":21044045,"reputation":39,"user_id":16234460,"display_name":"IamYourFaja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77283920,"answer_count":1,"score":0,"last_activity_date":1697181555,"creation_date":1697133313,"question_id":77282831,"body_markdown":"Spring Security 5.x here. I have the following security configuration:\r\n```\r\n@EnableWebSecurity(debug = true)\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\r\n@Slf4j\r\npublic class ApiSecurityConfig {\r\n\r\n    private boolean securityDebug;\r\n\r\n\r\n    @Autowired\r\n    public ApiSecurityConfig(\r\n            @Value(&quot;${spring.security.debug:false}&quot;) boolean securityDebug) {\r\n        this.securityDebug = securityDebug;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n\r\n        log.info(&quot;configuring security...&quot;);\r\n\r\n        // enable CSRF\r\n        httpSecurity.csrf().disable();\r\n\r\n        // add CORS filter\r\n        httpSecurity.cors();\r\n\r\n        // add anonoymous/permitted paths (that is: what paths are allowed to bypass authentication)\r\n        httpSecurity.authorizeRequests()\r\n                .antMatchers(HttpMethod.GET, &quot;/v1/alerts&quot;).permitAll()\r\n\r\n                // restrict all other paths and set them to authenticated\r\n                .anyRequest().authenticated();\r\n\r\nhttpSecurity.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        return httpSecurity.build();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.debug(securityDebug)\r\n                .ignoring()\r\n                .antMatchers(&quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/img/**&quot;, &quot;/lib/**&quot;, &quot;/favicon.ico&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public CorsConfigurationSource corsConfigurationSource() {\r\n\r\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n\r\n        corsConfiguration.setAllowedOriginPatterns(List.of(&quot;*&quot;));\r\n        corsConfiguration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n        corsConfiguration.setAllowedHeaders(List.of(&quot;*&quot;));\r\n\r\n        UrlBasedCorsConfigurationSource corsConfigurationSource = new UrlBasedCorsConfigurationSource();\r\n        corsConfigurationSource.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n\r\n        return corsConfigurationSource;\r\n\r\n    }\r\n\r\n    @Bean\r\n    public DefaultWebSecurityExpressionHandler expressionHandler(RoleHierarchy roleHierarchy) {\r\n\r\n        DefaultWebSecurityExpressionHandler expressionHandler = new DefaultWebSecurityExpressionHandler();\r\n        expressionHandler.setRoleHierarchy(roleHierarchy);\r\n        return expressionHandler;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I run a curl on that GET `/v1/alerts` endpoint, I get 401s:\r\n```\r\ncurl -i -H &quot;Accept: application/json&quot; http://localhost:8080/v1/alerts\r\n\r\nHTTP/1.1 401 \r\nVary: Origin\r\nVary: Access-Control-Request-Method\r\nVary: Access-Control-Request-Headers\r\nWWW-Authenticate: Basic realm=&quot;Realm&quot;\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 1; mode=block\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\nPragma: no-cache\r\nExpires: 0\r\nX-Frame-Options: DENY\r\nContent-Length: 0\r\nDate: Thu, 12 Oct 2023 17:49:13 GMT\r\n```\r\n\r\nIn the Spring Security debug output I get:\r\n```\r\n13:52:58.212 [main] INFO  i.b.e.ws.MyServiceMonoServiceApp - Started MyServiceMonoServiceApp in 6.272 seconds (JVM running for 6.541)\r\n13:52:58.236 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT\r\n13:52:58.237 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\r\n13:53:06.602 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n13:53:06.602 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet &#39;dispatcherServlet&#39;\r\n13:53:06.602 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver\r\n13:53:06.602 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver\r\n13:53:06.602 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver\r\n13:53:06.605 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7db097a6\r\n13:53:06.605 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4d53d85e\r\n13:53:06.605 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\r\n13:53:06.605 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms\r\n13:53:06.617 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/alerts\r\n13:53:06.619 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext\r\n13:53:06.625 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to io.myorg.MyService.ws.alerts.AlertController#getAlertStatus()\r\n13:53:06.627 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\r\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Failed to authorize filter invocation [GET /v1/alerts] with attributes [authenticated]\r\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@553779ba, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]\r\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@3c2955f6, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@3c2955f6, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@3c2955f6, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]\r\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@5bb911c1\r\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\r\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@20ffa494\r\n13:53:06.632 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\r\n13:53:06.632 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\r\n13:53:06.632 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request\r\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error\r\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext\r\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\r\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error\r\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DefaultWebInvocationPrivilegeEvaluator - filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\norg.springframework.security.access.AccessDeniedException: Access is denied\r\n\tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73)\r\n\tat org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:100)\r\n\tat org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:67)\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.isAllowed(ErrorPageSecurityFilter.java:88)\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:76)\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237)\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store anonymous SecurityContext\r\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store anonymous SecurityContext\r\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request\r\n```\r\n\r\n**Any idea where I&#39;m going awry?**","title":"Spring Security antMatchers being ignored or overridden","body":"<p>Spring Security 5.x here. I have the following security configuration:</p>\n<pre><code>@EnableWebSecurity(debug = true)\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\n@Slf4j\npublic class ApiSecurityConfig {\n\n    private boolean securityDebug;\n\n\n    @Autowired\n    public ApiSecurityConfig(\n            @Value(&quot;${spring.security.debug:false}&quot;) boolean securityDebug) {\n        this.securityDebug = securityDebug;\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n\n        log.info(&quot;configuring security...&quot;);\n\n        // enable CSRF\n        httpSecurity.csrf().disable();\n\n        // add CORS filter\n        httpSecurity.cors();\n\n        // add anonoymous/permitted paths (that is: what paths are allowed to bypass authentication)\n        httpSecurity.authorizeRequests()\n                .antMatchers(HttpMethod.GET, &quot;/v1/alerts&quot;).permitAll()\n\n                // restrict all other paths and set them to authenticated\n                .anyRequest().authenticated();\n\nhttpSecurity.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        return httpSecurity.build();\n\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.debug(securityDebug)\n                .ignoring()\n                .antMatchers(&quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/img/**&quot;, &quot;/lib/**&quot;, &quot;/favicon.ico&quot;);\n    }\n\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\n\n        corsConfiguration.setAllowedOriginPatterns(List.of(&quot;*&quot;));\n        corsConfiguration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n        corsConfiguration.setAllowedHeaders(List.of(&quot;*&quot;));\n\n        UrlBasedCorsConfigurationSource corsConfigurationSource = new UrlBasedCorsConfigurationSource();\n        corsConfigurationSource.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n\n        return corsConfigurationSource;\n\n    }\n\n    @Bean\n    public DefaultWebSecurityExpressionHandler expressionHandler(RoleHierarchy roleHierarchy) {\n\n        DefaultWebSecurityExpressionHandler expressionHandler = new DefaultWebSecurityExpressionHandler();\n        expressionHandler.setRoleHierarchy(roleHierarchy);\n        return expressionHandler;\n\n    }\n\n}\n</code></pre>\n<p>When I run a curl on that GET <code>/v1/alerts</code> endpoint, I get 401s:</p>\n<pre><code>curl -i -H &quot;Accept: application/json&quot; http://localhost:8080/v1/alerts\n\nHTTP/1.1 401 \nVary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nWWW-Authenticate: Basic realm=&quot;Realm&quot;\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: DENY\nContent-Length: 0\nDate: Thu, 12 Oct 2023 17:49:13 GMT\n</code></pre>\n<p>In the Spring Security debug output I get:</p>\n<pre><code>13:52:58.212 [main] INFO  i.b.e.ws.MyServiceMonoServiceApp - Started MyServiceMonoServiceApp in 6.272 seconds (JVM running for 6.541)\n13:52:58.236 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT\n13:52:58.237 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\n13:53:06.602 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'\n13:53:06.602 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'\n13:53:06.602 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver\n13:53:06.602 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver\n13:53:06.602 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver\n13:53:06.605 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7db097a6\n13:53:06.605 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4d53d85e\n13:53:06.605 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\n13:53:06.605 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms\n13:53:06.617 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/alerts\n13:53:06.619 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext\n13:53:06.625 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to io.myorg.MyService.ws.alerts.AlertController#getAlertStatus()\n13:53:06.627 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Failed to authorize filter invocation [GET /v1/alerts] with attributes [authenticated]\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@553779ba, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@3c2955f6, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@3c2955f6, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@3c2955f6, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@5bb911c1\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@20ffa494\n13:53:06.632 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\n13:53:06.632 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\n13:53:06.632 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DefaultWebInvocationPrivilegeEvaluator - filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\norg.springframework.security.access.AccessDeniedException: Access is denied\n    at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73)\n    at org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:100)\n    at org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:67)\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.isAllowed(ErrorPageSecurityFilter.java:88)\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:76)\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237)\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store anonymous SecurityContext\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store anonymous SecurityContext\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request\n</code></pre>\n<p><strong>Any idea where I'm going awry?</strong></p>\n"},{"tags":["java","linux","visual-studio-code","vscode-debugger","java-18"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1697158078,"post_id":77284508,"comment_id":136247907,"body_markdown":"How did you install Java?  Are you using the package manager?  Have you verified what is actually in `/usr/lib/jvm`?  Java 18 has not been supported in over a year but the concepts should still work with supported versions such as 17 and 21.","body":"How did you install Java?  Are you using the package manager?  Have you verified what is actually in <code>&#47;usr&#47;lib&#47;jvm</code>?  Java 18 has not been supported in over a year but the concepts should still work with supported versions such as 17 and 21."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1698284421,"post_id":77284508,"comment_id":136386903,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697179707,"creation_date":1697179707,"answer_id":77285605,"question_id":77284508,"body_markdown":"The error prompts that the jdk path you set is wrong. Please set it to the root directory of the java installation path. (*At least **JDK 17** version is required*).\r\n\r\n &gt; Specifies the folder path to the JDK (**17 or more recent**) used to launch the Java Language Server. This setting will replace the Java extension&#39;s embedded JRE to start the Java Language Server.\r\n &gt;\r\n &gt; On Windows, backslashes must be escaped, i.e.\r\n &gt; \r\n &gt; &quot;java.jdt.ls.java.home&quot;:&quot;C:\\\\Program Files\\\\Java\\\\jdk-17.0_3&quot;\r\n\r\nAlso you are using *Code Runner* to execute the program, which may throw an error. Please use the official Java extension package to execute the program.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZiqM4.png","title":"Java Configuration in VS Code - Linux Mint","body":"<p>The error prompts that the jdk path you set is wrong. Please set it to the root directory of the java installation path. (<em>At least <strong>JDK 17</strong> version is required</em>).</p>\n<blockquote>\n<p>Specifies the folder path to the JDK (<strong>17 or more recent</strong>) used to launch the Java Language Server. This setting will replace the Java extension's embedded JRE to start the Java Language Server.</p>\n<p>On Windows, backslashes must be escaped, i.e.</p>\n<p>&quot;java.jdt.ls.java.home&quot;:&quot;C:\\Program Files\\Java\\jdk-17.0_3&quot;</p>\n</blockquote>\n<p>Also you are using <em>Code Runner</em> to execute the program, which may throw an error. Please use the official Java extension package to execute the program.</p>\n<p><a href=\"https://i.stack.imgur.com/ZiqM4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZiqM4.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24286550,"reputation":1,"user_id":22731983,"display_name":"Aylmer Bolzan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697180329,"creation_date":1697157737,"question_id":77284508,"body_markdown":"I really need your help: I can&#39;t install and configure Java in VS Code, on Linux Mint.\r\n\r\nI&#39;ve looked for videos, tutorials and the like, but without success. I&#39;ve already edited `/etc/bash.bashrc`, `/etc/enviroment` and finally, my last configuration attempt was `/etc/profile`, where I included:\r\n\r\n```\r\nJAVA_HOME=/usr/lib/jvm/java-18-openjdk-amd64/\r\nPATH=$JAVA_HOME/bin:$PATH export PATH JAVA_HOME\r\nCLASSPATH=$JAVA_HOME/lib/tools.jar\r\nCLASSPATH=.:$CLASSPATH\r\nexport JAVA_HOME PATH CLASSPATH\r\n```\r\n\r\nHowever, when I try to run a Run and Debug in VS Code, the return I get is just this:\r\n\r\n[enter image description here](https://i.stack.imgur.com/zeGQN.png)\r\n\r\nThis way, I can&#39;t run something in Java in VS Code.","title":"Java Configuration in VS Code - Linux Mint","body":"<p>I really need your help: I can't install and configure Java in VS Code, on Linux Mint.</p>\n<p>I've looked for videos, tutorials and the like, but without success. I've already edited <code>/etc/bash.bashrc</code>, <code>/etc/enviroment</code> and finally, my last configuration attempt was <code>/etc/profile</code>, where I included:</p>\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-18-openjdk-amd64/\nPATH=$JAVA_HOME/bin:$PATH export PATH JAVA_HOME\nCLASSPATH=$JAVA_HOME/lib/tools.jar\nCLASSPATH=.:$CLASSPATH\nexport JAVA_HOME PATH CLASSPATH\n</code></pre>\n<p>However, when I try to run a Run and Debug in VS Code, the return I get is just this:</p>\n<p><a href=\"https://i.stack.imgur.com/zeGQN.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This way, I can't run something in Java in VS Code.</p>\n"},{"tags":["java","spring","maven","parallel-processing","cucumber"],"comments":[{"owner":{"account_id":7084092,"reputation":473,"user_id":5421408,"display_name":"quantumferret"},"score":0,"creation_date":1651480210,"post_id":71020032,"comment_id":127366379,"body_markdown":"This is a question I also have, and is driving me a little crazy trying to find the answer; the documentation doesn&#39;t make it at all clear if JUnit 5 can run same-file scenarios in parallel or not, just that JUnit 4 definitely can&#39;t. It looks like the courgette-jvm library mentioned below supports JUnit as well, so that&#39;s something.","body":"This is a question I also have, and is driving me a little crazy trying to find the answer; the documentation doesn&#39;t make it at all clear if JUnit 5 can run same-file scenarios in parallel or not, just that JUnit 4 definitely can&#39;t. It looks like the courgette-jvm library mentioned below supports JUnit as well, so that&#39;s something."},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1651664383,"post_id":71020032,"comment_id":127415626,"body_markdown":"@quantumferret I&#39;ve recently switched to same setup but used TestNG rather than JUnit. Configuration was a lot easier than courgette-jvm.\nAlso using a Spring Boot I&#39;m pretty sure you face with single component among different thread issue. There you can register a scope provided by Spring SimpleThreadScope.class","body":"@quantumferret I&#39;ve recently switched to same setup but used TestNG rather than JUnit. Configuration was a lot easier than courgette-jvm. Also using a Spring Boot I&#39;m pretty sure you face with single component among different thread issue. There you can register a scope provided by Spring SimpleThreadScope.class"},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1697186726,"post_id":71020032,"comment_id":136250957,"body_markdown":"Does this answer your question? [How to run parallel Cucumber Spring Boot integration tests with Maven (surefire or failsafe)?](https://stackoverflow.com/questions/62303742/how-to-run-parallel-cucumber-spring-boot-integration-tests-with-maven-surefire)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62303742/how-to-run-parallel-cucumber-spring-boot-integration-tests-with-maven-surefire\">How to run parallel Cucumber Spring Boot integration tests with Maven (surefire or failsafe)?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1245793,"reputation":3093,"user_id":1207289,"accept_rate":84,"display_name":"user1207289"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645131451,"creation_date":1644958229,"answer_id":71133227,"question_id":71020032,"body_markdown":"I am using `testNG` with [`courgette-jvm`](https://github.com/prashant-ramcharan/courgette-jvm) to run parallel tests at scenario level \r\n. Here is  runner file\r\n\r\n    import courgette.api.CourgetteOptions;\r\n    import courgette.api.CourgetteRunLevel;\r\n    import courgette.api.CucumberOptions;\r\n    import courgette.api.testng.TestNGCourgette;\r\n    import org.testng.annotations.Test;\r\n\r\n    @Test\r\n    @CourgetteOptions(\r\n            threads = 10,\r\n            runLevel = CourgetteRunLevel.SCENARIO,\r\n            rerunFailedScenarios = true,\r\n            rerunAttempts = 1,\r\n            showTestOutput = true,\r\n            reportTitle = &quot;Courgette-JVM Example&quot;,\r\n            reportTargetDir = &quot;build&quot;,\r\n            environmentInfo = &quot;browser=chrome; git_branch=master&quot;,\r\n            cucumberOptions = @CucumberOptions(\r\n                    features = &quot;src/test/resources/com/test/&quot;,\r\n                    glue = &quot;com.test.stepdefs&quot;,\r\n                    publish = true,\r\n                    plugin = {\r\n                            &quot;pretty&quot;,\r\n                            &quot;json:target/cucumber-report/cucumber.json&quot;,\r\n                            &quot;html:target/cucumber-report/cucumber.html&quot;}\r\n            ))\r\n    class AcceptanceIT extends TestNGCourgette {\r\n    }\r\n\r\nand then use regular webdriver config, I use RemoteWebDriver\r\n\r\n\r\n      protected RemoteWebDriver createDriver() throws MalformedURLException {\r\n         //wherever grid hub is pointing. it should work without grid too\r\n        String hubURL = &quot;http://localhost:xxxx/wd/hub&quot;;\r\n    \r\n             ChromeOptions options = new ChromeOptions();\r\n             DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n             capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n             return (RemoteWebDriver) (driver = new RemoteWebDriver(new URL(hubURL), capabilities));\r\n            \r\n        }\r\n\r\n         public RemoteWebDriver getDriver() throws MalformedURLException {\r\n               if (driver == null) {\r\n                             this.createDriver();\r\n               }\r\n                return (RemoteWebDriver) driver;\r\n        }\r\n\r\n\r\nyou may have to utilize these dependencies\r\n\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.prashant-ramcharan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;courgette-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;5.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n          &lt;!-- httpclient dpendendecy is to resolve courgette-jvm error -  NoClassDefFoundError: org/apache/http/conn/ssl/TrustAllStrategy --&gt;        \r\n         &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n        &lt;version&gt;6.14.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n        &lt;version&gt;6.9.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n","title":"Cucumber 6 + JUnit 5 + Spring Parallel Scenarios Execution","body":"<p>I am using <code>testNG</code> with <a href=\"https://github.com/prashant-ramcharan/courgette-jvm\" rel=\"nofollow noreferrer\"><code>courgette-jvm</code></a> to run parallel tests at scenario level\n. Here is  runner file</p>\n<pre><code>import courgette.api.CourgetteOptions;\nimport courgette.api.CourgetteRunLevel;\nimport courgette.api.CucumberOptions;\nimport courgette.api.testng.TestNGCourgette;\nimport org.testng.annotations.Test;\n\n@Test\n@CourgetteOptions(\n        threads = 10,\n        runLevel = CourgetteRunLevel.SCENARIO,\n        rerunFailedScenarios = true,\n        rerunAttempts = 1,\n        showTestOutput = true,\n        reportTitle = &quot;Courgette-JVM Example&quot;,\n        reportTargetDir = &quot;build&quot;,\n        environmentInfo = &quot;browser=chrome; git_branch=master&quot;,\n        cucumberOptions = @CucumberOptions(\n                features = &quot;src/test/resources/com/test/&quot;,\n                glue = &quot;com.test.stepdefs&quot;,\n                publish = true,\n                plugin = {\n                        &quot;pretty&quot;,\n                        &quot;json:target/cucumber-report/cucumber.json&quot;,\n                        &quot;html:target/cucumber-report/cucumber.html&quot;}\n        ))\nclass AcceptanceIT extends TestNGCourgette {\n}\n</code></pre>\n<p>and then use regular webdriver config, I use RemoteWebDriver</p>\n<pre><code>  protected RemoteWebDriver createDriver() throws MalformedURLException {\n     //wherever grid hub is pointing. it should work without grid too\n    String hubURL = &quot;http://localhost:xxxx/wd/hub&quot;;\n\n         ChromeOptions options = new ChromeOptions();\n         DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n         capabilities.setCapability(ChromeOptions.CAPABILITY, options);\n         return (RemoteWebDriver) (driver = new RemoteWebDriver(new URL(hubURL), capabilities));\n        \n    }\n\n     public RemoteWebDriver getDriver() throws MalformedURLException {\n           if (driver == null) {\n                         this.createDriver();\n           }\n            return (RemoteWebDriver) driver;\n    }\n</code></pre>\n<p>you may have to utilize these dependencies</p>\n<pre><code>      &lt;dependency&gt;\n        &lt;groupId&gt;io.github.prashant-ramcharan&lt;/groupId&gt;\n        &lt;artifactId&gt;courgette-jvm&lt;/artifactId&gt;\n        &lt;version&gt;5.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n          &lt;dependency&gt;\n      &lt;!-- httpclient dpendendecy is to resolve courgette-jvm error -  NoClassDefFoundError: org/apache/http/conn/ssl/TrustAllStrategy --&gt;        \n     &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.10&lt;/version&gt;\n    &lt;/dependency&gt;\n      &lt;dependency&gt;\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n    &lt;version&gt;6.14.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n      &lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n    &lt;version&gt;6.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697180020,"creation_date":1644243319,"question_id":71020032,"body_markdown":"I&#39;ve been reading a lot of documentations, posts, articles and it&#39;s said that out-of-box solution to **run scenarios in a single feature file in parallel is impossible**. \r\nWe can use *maven-surefire-plugin* to run in parallel different feature files, but not scenarios.\r\n\r\nFor example there is a feature file with scenarios:\r\n\r\n    Feature: Parallel Scenarios\r\n\r\n        Scenario: First\r\n            ...\r\n\r\n        Scenario: Second\r\n            ...\r\n\r\n        Scenario: Third\r\n            ...\r\n\r\nAnd I&#39;d like to run all there scenarios concurrently in separated threads.\r\n\r\nHow can I achieve this?","title":"Cucumber 6 + JUnit 5 + Spring Parallel Scenarios Execution","body":"<p>I've been reading a lot of documentations, posts, articles and it's said that out-of-box solution to <strong>run scenarios in a single feature file in parallel is impossible</strong>.\nWe can use <em>maven-surefire-plugin</em> to run in parallel different feature files, but not scenarios.</p>\n<p>For example there is a feature file with scenarios:</p>\n<pre><code>Feature: Parallel Scenarios\n\n    Scenario: First\n        ...\n\n    Scenario: Second\n        ...\n\n    Scenario: Third\n        ...\n</code></pre>\n<p>And I'd like to run all there scenarios concurrently in separated threads.</p>\n<p>How can I achieve this?</p>\n"},{"tags":["java","spring-boot","selenium","cucumber","junit5"],"answers":[{"comments":[{"owner":{"account_id":232741,"reputation":1545,"user_id":497794,"accept_rate":50,"display_name":"marius_neo"},"score":1,"creation_date":1599028402,"post_id":60638873,"comment_id":112642363,"body_markdown":"Here is a sample project that runs the tests in parallel: https://github.com/cucumber/cucumber-jvm/tree/main/examples/java-calculator-junit5","body":"Here is a sample project that runs the tests in parallel: <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/examples/java-calculator-junit5\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/tree/main/examples/&hellip;</a>"}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1583939029,"creation_date":1583938554,"answer_id":60638873,"question_id":60625692,"body_markdown":"You can provide options by adding a `junit-platform.properties` file to your classpath root. For example:\r\n\r\n`src/test/resources/junit-platform.properties`\r\n```properties\r\ncucumber.execution.parallel.enabled=true\r\ncucumber.execution.parallel.config.strategy=fixed\r\ncucumber.execution.parallel.config.fixed.parallelism=10\r\n```\r\n\r\nYou can also pass options to the JUnit Platform via Surefires/Failsafes configurationParameters parameter field.\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;properties&gt;\r\n            &lt;configurationParameters&gt;\r\n                cucumber.execution.parallel.config.fixed.parallelism=24\r\n            &lt;/configurationParameters&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAnd because Cucumber is a JUnit Platform Engine you can also use any of the other ways you&#39;d pass configuration parameter to the [JUnit Platform][1].\r\n\r\n\r\nNote that `-D` will not work because surefire starts a new JVM, [you&#39;d have to use `-DargLine=&#39;....&#39;][2] for this.\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#running-tests-config-params\r\n  [2]: https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#argLine","title":"How to run parallel test jUnit5 in spring boot - cucumber version 5 and more","body":"<p>You can provide options by adding a <code>junit-platform.properties</code> file to your classpath root. For example:</p>\n\n<p><code>src/test/resources/junit-platform.properties</code></p>\n\n<pre><code>cucumber.execution.parallel.enabled=true\ncucumber.execution.parallel.config.strategy=fixed\ncucumber.execution.parallel.config.fixed.parallelism=10\n</code></pre>\n\n<p>You can also pass options to the JUnit Platform via Surefires/Failsafes configurationParameters parameter field.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M3&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;properties&gt;\n            &lt;configurationParameters&gt;\n                cucumber.execution.parallel.config.fixed.parallelism=24\n            &lt;/configurationParameters&gt;\n        &lt;/properties&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>And because Cucumber is a JUnit Platform Engine you can also use any of the other ways you'd pass configuration parameter to the <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-config-params\" rel=\"noreferrer\">JUnit Platform</a>.</p>\n\n<p>Note that <code>-D</code> will not work because surefire starts a new JVM, <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#argLine\" rel=\"noreferrer\">you'd have to use `-DargLine='....'</a> for this.</p>\n"}],"owner":{"account_id":17653444,"reputation":73,"user_id":12813493,"display_name":"olegMoshneaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4818,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60638873,"answer_count":1,"score":4,"last_activity_date":1697180005,"creation_date":1583873224,"question_id":60625692,"body_markdown":"For test framework were used next stack of technologies: Java, Maven, Selenium, Junit, Cucumber, Spring Boot, YAML\r\n\r\ncucumber.version = 5.4.0\r\nCucumber-JVM now has JUnit5 support and we can use parallel \r\nI have tried to add -Dcucumber.execution.parallel.enabled=true -Dcucumber.execution.parallel.config.strategy=dynamic\r\n\r\nhttps://github.com/cucumber/cucumber-jvm/blob/master/release-notes/v5.0.0.md\r\n\r\nwas used :\r\n\r\n                &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/RunCucumberIT.java&lt;/include&gt;\r\n                        &lt;release&gt;11&lt;/release&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;!--                    &lt;parallel&gt;methods&lt;/parallel&gt;--&gt;\r\n                    &lt;!--                    &lt;threadCount&gt;4&lt;/threadCount&gt;--&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"How to run parallel test jUnit5 in spring boot - cucumber version 5 and more","body":"<p>For test framework were used next stack of technologies: Java, Maven, Selenium, Junit, Cucumber, Spring Boot, YAML</p>\n\n<p>cucumber.version = 5.4.0\nCucumber-JVM now has JUnit5 support and we can use parallel \nI have tried to add -Dcucumber.execution.parallel.enabled=true -Dcucumber.execution.parallel.config.strategy=dynamic</p>\n\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/blob/master/release-notes/v5.0.0.md\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/blob/master/release-notes/v5.0.0.md</a></p>\n\n<p>was used :</p>\n\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/RunCucumberIT.java&lt;/include&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/includes&gt;\n                &lt;!--                    &lt;parallel&gt;methods&lt;/parallel&gt;--&gt;\n                &lt;!--                    &lt;threadCount&gt;4&lt;/threadCount&gt;--&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","cucumber","maven-surefire-plugin","maven-failsafe-plugin","cucumber-spring"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1591794341,"post_id":62303742,"comment_id":110191061,"body_markdown":"You may want to redo everything with `stepNotifications = false` . The `stepNotifications` confuse surefire/failsafe in lots of different ways.","body":"You may want to redo everything with <code>stepNotifications = false</code> . The <code>stepNotifications</code> confuse surefire/failsafe in lots of different ways."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1591795516,"post_id":62303742,"comment_id":110191833,"body_markdown":"When using `@CucumberContextConfiguration` you don&#39;t need the dummy step definition any more.","body":"When using <code>@CucumberContextConfiguration</code> you don&#39;t need the dummy step definition any more."},{"owner":{"account_id":18812678,"reputation":41,"user_id":13720545,"display_name":"maximotus"},"score":0,"creation_date":1591795824,"post_id":62303742,"comment_id":110192033,"body_markdown":"@M.P.Korstanje Thanks for that hint, but it results in the same actual output (for both failsafe and surefire). I think the problem is Spring Boot that somehow obstructs multi-threading with its context or something.","body":"@M.P.Korstanje Thanks for that hint, but it results in the same actual output (for both failsafe and surefire). I think the problem is Spring Boot that somehow obstructs multi-threading with its context or something."},{"owner":{"account_id":18812678,"reputation":41,"user_id":13720545,"display_name":"maximotus"},"score":0,"creation_date":1591796046,"post_id":62303742,"comment_id":110192205,"body_markdown":"@M.P.Korstanje Yeah you are right. I removed it. But still the same problem. Just the lines with &quot;INFO 13028 --- [           main] p.CucumberSpringContextConfiguration     : Spring Context initialized for executing cucumber tests.&quot; are missing in the output, as expected.","body":"@M.P.Korstanje Yeah you are right. I removed it. But still the same problem. Just the lines with &quot;INFO 13028 --- [           main] p.CucumberSpringContextConfiguration     : Spring Context initialized for executing cucumber tests.&quot; are missing in the output, as expected."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1591804376,"post_id":62303742,"comment_id":110197500,"body_markdown":"Beats me. I wrote tests to confirm it works a while ago. You&#39;ll have to deep dive.","body":"Beats me. I wrote tests to confirm it works a while ago. You&#39;ll have to deep dive."},{"owner":{"account_id":18812678,"reputation":41,"user_id":13720545,"display_name":"maximotus"},"score":0,"creation_date":1591807350,"post_id":62303742,"comment_id":110199202,"body_markdown":"Ok. Thanks for your help.","body":"Ok. Thanks for your help."},{"owner":{"account_id":5202792,"reputation":570,"user_id":4161663,"accept_rate":75,"display_name":"Anchika Agarwal"},"score":0,"creation_date":1592286341,"post_id":62303742,"comment_id":110362786,"body_markdown":"@maximotus Did you solve it ? I am facing same issue.","body":"@maximotus Did you solve it ? I am facing same issue."},{"owner":{"account_id":18812678,"reputation":41,"user_id":13720545,"display_name":"maximotus"},"score":0,"creation_date":1592378751,"post_id":62303742,"comment_id":110400797,"body_markdown":"@AnchikaAgarwal Not yet. If I make any progress, I&#39;ll let you know! I think the problem is somewhere in SpringBOOT, because it works with Spring.","body":"@AnchikaAgarwal Not yet. If I make any progress, I&#39;ll let you know! I think the problem is somewhere in SpringBOOT, because it works with Spring."},{"owner":{"account_id":5202792,"reputation":570,"user_id":4161663,"accept_rate":75,"display_name":"Anchika Agarwal"},"score":0,"creation_date":1592385294,"post_id":62303742,"comment_id":110403845,"body_markdown":"@maximotus I found the issue for me, not sure if its relevant to you. Cucumber was expecting junit4 but I had latest dependencies of junit5. So I had to add the vintage cucumber dependency post which it was able to run. I was able to run with surefie, but failsafe plugin seems to have some issue. Also, I have not yet able to run in parallel though.","body":"@maximotus I found the issue for me, not sure if its relevant to you. Cucumber was expecting junit4 but I had latest dependencies of junit5. So I had to add the vintage cucumber dependency post which it was able to run. I was able to run with surefie, but failsafe plugin seems to have some issue. Also, I have not yet able to run in parallel though."},{"owner":{"account_id":18812678,"reputation":41,"user_id":13720545,"display_name":"maximotus"},"score":0,"creation_date":1592842026,"post_id":62303742,"comment_id":110563133,"body_markdown":"I&#39;ve found out, that the dependency cucumber-junit includes junit4 for compile scope and junit5 (jupiter) and vintage for test.\nI&#39;ve tested the follwing with a cucumber spring (not springBOOT!) project:\nI&#39;ve used some jupiter and some junit4 classes and now I&#39;ve changed every jupiter class to junit4. Then I&#39;ve removed the redundant dependency junit4 from my pom.xml. And I&#39;ve removed jupiter and vintage from my pom.xml. Now, the tests run in parallel. As soon as I include jupiter and vintage, the tests run serially. I&#39;ll try to use Spring boot and exclude jupiter and vintage next.","body":"I&#39;ve found out, that the dependency cucumber-junit includes junit4 for compile scope and junit5 (jupiter) and vintage for test. I&#39;ve tested the follwing with a cucumber spring (not springBOOT!) project: I&#39;ve used some jupiter and some junit4 classes and now I&#39;ve changed every jupiter class to junit4. Then I&#39;ve removed the redundant dependency junit4 from my pom.xml. And I&#39;ve removed jupiter and vintage from my pom.xml. Now, the tests run in parallel. As soon as I include jupiter and vintage, the tests run serially. I&#39;ll try to use Spring boot and exclude jupiter and vintage next."}],"answers":[{"comments":[{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1697111081,"post_id":64536082,"comment_id":136240006,"body_markdown":"This did not work for me","body":"This did not work for me"}],"tags":[],"owner":{"account_id":19806082,"reputation":21,"user_id":14505989,"display_name":"Melissa Vargas"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603711034,"creation_date":1603711034,"answer_id":64536082,"question_id":62303742,"body_markdown":"For running cucumber test in parallel, you have to add in the pom.xml the exclusions for `juni-jupiter` and `junit-vintage`. This is how it worked for me:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"How to run parallel Cucumber Spring Boot integration tests with Maven (surefire or failsafe)?","body":"<p>For running cucumber test in parallel, you have to add in the pom.xml the exclusions for <code>juni-jupiter</code> and <code>junit-vintage</code>. This is how it worked for me:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697179988,"creation_date":1697179988,"answer_id":77285628,"question_id":62303742,"body_markdown":"My setup with [`cucumber-java`][1], [`cucumber-junit-platform-engine`][2] and [`cucumber-spring`][3] just wouldn&#39;t execute tests in parallel despite having the [required config properties][4] set, namely `cucumber.execution.parallel.enabled=true`.  \r\n\r\nThe following part of the [`cucumber-spring`][3] documentation made me look into JUnit parallel execution configuration as well:\r\n&gt; Cucumber Spring uses Spring&#39;s TestContextManager framework internally. As a result, a single\r\nCucumber scenario will mostly behave like a JUnit test.  \r\n\r\nSo, as Cucumber\r\nSpring tests mostly behave like standard JUnit tests, we need to combine JUnit&#39;s and Cucumber&#39;s parallel execution features. Example Maven config of how I eventually got it to work:\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.2&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;properties&gt;\r\n            &lt;configurationParameters&gt;\r\n                &lt;!-- ... Standard Cucumber Config ... --&gt;\r\n                junit.jupiter.execution.parallel.enabled=true\r\n                cucumber.execution.parallel.enabled=true\r\n                &lt;!-- ... More Parallel Execution Cucumber Config ... --&gt;\r\n            &lt;/configurationParameters&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-java\r\n  [2]: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine\r\n  [3]: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring\r\n  [4]: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#parallel-execution","title":"How to run parallel Cucumber Spring Boot integration tests with Maven (surefire or failsafe)?","body":"<p>My setup with <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-java\" rel=\"nofollow noreferrer\"><code>cucumber-java</code></a>, <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine\" rel=\"nofollow noreferrer\"><code>cucumber-junit-platform-engine</code></a> and <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring\" rel=\"nofollow noreferrer\"><code>cucumber-spring</code></a> just wouldn't execute tests in parallel despite having the <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#parallel-execution\" rel=\"nofollow noreferrer\">required config properties</a> set, namely <code>cucumber.execution.parallel.enabled=true</code>.</p>\n<p>The following part of the <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring\" rel=\"nofollow noreferrer\"><code>cucumber-spring</code></a> documentation made me look into JUnit parallel execution configuration as well:</p>\n<blockquote>\n<p>Cucumber Spring uses Spring's TestContextManager framework internally. As a result, a single\nCucumber scenario will mostly behave like a JUnit test.</p>\n</blockquote>\n<p>So, as Cucumber\nSpring tests mostly behave like standard JUnit tests, we need to combine JUnit's and Cucumber's parallel execution features. Example Maven config of how I eventually got it to work:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;properties&gt;\n            &lt;configurationParameters&gt;\n                &lt;!-- ... Standard Cucumber Config ... --&gt;\n                junit.jupiter.execution.parallel.enabled=true\n                cucumber.execution.parallel.enabled=true\n                &lt;!-- ... More Parallel Execution Cucumber Config ... --&gt;\n            &lt;/configurationParameters&gt;\n        &lt;/properties&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":18812678,"reputation":41,"user_id":13720545,"display_name":"maximotus"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3073,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697179988,"creation_date":1591792534,"question_id":62303742,"body_markdown":"*Hello folks,*\r\n&lt;br&gt;I&#39;m developing cucumber tests since january of this year and i&#39;m now facing a problem running cucumber integration tests in parallel with maven (surefire as well as failsafe) in a Spring Boot environment.\r\n\r\n**In a nutshell:**\r\n&lt;br&gt;I want to run cucumber integration tests in parallel with a spring boot application running.\r\nI use maven with either the Surefire or Failsafe plugin active.\r\nEverything works fine when i comment out every Spring Boot component in the code.\r\nThen i have as many threads as feature-files and they run parallel.\r\nBut when I add the Spring Boot components I need, the tests run serial.\r\n\r\n**My dependencies in the pom.xml:**\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.10&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.30&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.200&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n**My plugins in the pom.xml:**\r\n\r\n    &lt;plugins&gt;\r\n        &lt;!-- Maven Compiler --&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;8&lt;/source&gt;\r\n                &lt;target&gt;8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- Option 1 to run cucumber tests in parallel: Surefire --&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;parallel&gt;methods&lt;/parallel&gt;\r\n                &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- Option 2 to run cucumber tests in parallel: Failsafe --&gt;\r\n        &lt;!--&lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                        &lt;goal&gt;verify&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;parallel&gt;methods&lt;/parallel&gt;\r\n                        &lt;threadCount&gt;5&lt;/threadCount&gt;\r\n                        &lt;useUnlimitedThreads&gt;false&lt;/useUnlimitedThreads&gt;\r\n                        &amp;lt;!&amp;ndash; important for the right execution &amp;ndash;&amp;gt;\r\n                        &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;--&gt;\r\n    &lt;/plugins&gt;\r\n\r\n**My Java classes:**\r\n\r\n - RunCucumberIT.java --&gt; execution with failsafe\r\n - RunCucumberTest.java --&gt; same code as RunCucumberIT.java, other name for execution with surefire\r\n - StepDefinitions.java\r\n - TestApplication.java\r\n - CucumberSpringContextConfiguration.java\r\n\r\n**The Java code:**\r\n\r\n*RunCucumberIT.java and RunCucumberTest.java*\r\n\r\n    package parallel;\r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import org.junit.runner.RunWith;\r\n    /**\r\n     * Class to run the cucumber tests with Surefire.\r\n     */\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(plugin = { }, strict = true, snippets = CucumberOptions.SnippetType.CAMELCASE,\r\n            features = &quot;src/test/java/parallel&quot;, stepNotifications = true)\r\n    public class RunCucumberTest {\r\n    }\r\n\r\n*StepDefinitions.java*\r\n\r\n    package parallel;\r\n    import io.cucumber.java8.En;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    @Slf4j\r\n    public class StepDefinitions implements En {\r\n        public StepDefinitions() {\r\n            Given(&quot;Step from {string} in {string} feature file&quot;, this::printThreads);\r\n        }\r\n        private void printThreads(final String scenario, final String file) throws InterruptedException {\r\n            log.info(&quot; Thread ID - {} - {} from {} feature file.&quot;, Thread.currentThread().getId(), scenario, file);\r\n            Thread.sleep(5000L);\r\n        }\r\n    }\r\n\r\n*TestApplication.java*\r\n\r\n    package parallel;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    @SpringBootApplication\r\n    public class TestApplication {\r\n        public static void main(final String[] args) {\r\n            SpringApplication.run(TestApplication.class, args);\r\n        }\r\n    }\r\n\r\n*CucumberSpringContextConfiguration.java*\r\n\r\n    package parallel;\r\n    import io.cucumber.java.Before;\r\n    import io.cucumber.spring.CucumberContextConfiguration;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.boot.test.context.SpringBootContextLoader;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    /**\r\n     * Class to use spring application context while running cucumber.\r\n     */\r\n    @Slf4j\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @ContextConfiguration(classes = TestApplication.class, loader = SpringBootContextLoader.class)\r\n    @CucumberContextConfiguration\r\n    public class CucumberSpringContextConfiguration {\r\n        /**\r\n         * Need this method so the cucumber will recognize this class as glue and load spring context configuration.\r\n         */\r\n        @Before\r\n        public void setUp() {\r\n            log.info(&quot;Spring Context initialized for executing cucumber tests.&quot;);\r\n        }\r\n    }\r\n\r\n**My gherkin code:**\r\n\r\n*scenario-outline.feature*\r\n\r\n    Feature: Scenario Outlines feature file\r\n      Scenario Outline: &lt;scen_out_row_num&gt;\r\n        Given Step from &#39;&lt;scen_out_row_num&gt;&#39; in &#39;scenario-outlines&#39; feature file\r\n        Examples:\r\n          | scen_out_row_num       |\r\n          | Scenario Outline Row 1 |\r\n          | Scenario Outline Row 2 |\r\n\r\n*scenarios-0.feature*\r\n\r\n    Feature: Scenarios feature file\r\n      Scenario: Scenario Number One -\r\n        Given Step from &#39;Scenario 1&#39; in &#39;scenarios-0&#39; feature file\r\n      Scenario: Scenario Number Two -\r\n        Given Step from &#39;Scenario 2&#39; in &#39;scenarios-0&#39; feature file\r\n\r\n*scenarios-1.feature*\r\n\r\n    Feature: Scenarios feature file\r\n      Scenario: Scenario Number One a\r\n        Given Step from &#39;Scenario 1&#39; in &#39;scenarios-1&#39; feature file\r\n      Scenario: Scenario Number Two a\r\n        Given Step from &#39;Scenario 2&#39; in &#39;scenarios-1&#39; feature file\r\n\r\n*scenarios-2.feature*\r\n\r\n    Feature: Scenarios feature file\r\n      Scenario: Scenario Number One b\r\n        Given Step from &#39;Scenario 1&#39; in &#39;scenarios-2&#39; feature file\r\n      Scenario: Scenario Number Two b\r\n        Given Step from &#39;Scenario 2&#39; in &#39;scenarios-2&#39; feature file\r\n\r\n*scenarios-3.feature*\r\n\r\n    Feature: Scenarios feature file\r\n      Scenario: Scenario Number One c\r\n        Given Step from &#39;Scenario 1&#39; in &#39;scenarios-3&#39; feature file\r\n      Scenario: Scenario Number Two c\r\n        Given Step from &#39;Scenario 2&#39; in &#39;scenarios-3&#39; feature file\r\n\r\n**Expected behaviour:**\r\n&lt;br&gt;One thread per feature-file and parallel execution of the integration tests.\r\nSome output like that (this is the output when i comment out all Spring Boot stuff):\r\n\r\n    [INFO] --- maven-failsafe-plugin:3.0.0-M4:integration-test (default) @ cucumber-test ---\r\n    [INFO] \r\n    [INFO] -------------------------------------------------------\r\n    [INFO]  T E S T S\r\n    [INFO] -------------------------------------------------------\r\n    [INFO] Running Scenario Number One b\r\n    [pool-1-thread-4] INFO parallel.StepDefinitions -  Thread ID - 17 - Scenario 1 from scenarios-2 feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.338 s - in Scenario Number One b\r\n    [INFO] Running Scenario Number One a\r\n    [pool-1-thread-3] INFO parallel.StepDefinitions -  Thread ID - 16 - Scenario 1 from scenarios-1 feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.353 s - in Scenario Number One a\r\n    [INFO] Running Scenario Outline Row 1\r\n    [pool-1-thread-1] INFO parallel.StepDefinitions -  Thread ID - 14 - Scenario Outline Row 1 from scenario-outlines feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.363 s - in Scenario Outline Row 1\r\n    [INFO] Running Scenario Number One c\r\n    [pool-1-thread-5] INFO parallel.StepDefinitions -  Thread ID - 18 - Scenario 1 from scenarios-3 feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.371 s - in Scenario Number One c\r\n    [INFO] Running Scenario Number One -\r\n    [pool-1-thread-2] INFO parallel.StepDefinitions -  Thread ID - 15 - Scenario 1 from scenarios-0 feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.378 s - in Scenario Number One -\r\n    [INFO] Running Scenario Outline Row 2\r\n    [pool-1-thread-1] INFO parallel.StepDefinitions -  Thread ID - 14 - Scenario Outline Row 2 from scenario-outlines feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.003 s - in Scenario Outline Row 2\r\n    [INFO] Running Scenario Number Two a\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.011 s - in Scenario Number Two a\r\n    [INFO] Running Scenario Number Two c\r\n    [pool-1-thread-3] INFO parallel.StepDefinitions -  Thread ID - 16 - Scenario 2 from scenarios-1 feature file.\r\n    [pool-1-thread-5] INFO parallel.StepDefinitions -  Thread ID - 18 - Scenario 2 from scenarios-3 feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.017 s - in Scenario Number Two c\r\n    [INFO] Running Scenario Number Two b\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.027 s - in Scenario Number Two b\r\n    [INFO] Running Scenario Number Two -\r\n    [pool-1-thread-4] INFO parallel.StepDefinitions -  Thread ID - 17 - Scenario 2 from scenarios-2 feature file.\r\n    [pool-1-thread-2] INFO parallel.StepDefinitions -  Thread ID - 15 - Scenario 2 from scenarios-0 feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.043 s - in Scenario Number Two -\r\n    \r\n    \r\n    10\r\n     Scenarios (\r\n    10 passed\r\n    )\r\n    \r\n    \r\n    10\r\n     Steps (\r\n    10 passed\r\n    )\r\n    \r\n    \r\n    0m\r\n    10,486s\r\n\r\n**Actual behaviour:**\r\n&lt;br&gt;Just one thread is used and all tests run serially.\r\nOutput:\r\n\r\n    [INFO] --- maven-failsafe-plugin:3.0.0-M4:integration-test (default) @ cucumber-test ---\r\n    ...    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.2.4.RELEASE)\r\n    ...\r\n    Thread ID - 1 - Scenario Outline Row 1 from scenario-outlines feature file.\r\n    2020-06-10 12:04:02.519  INFO 13028 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [parallel.CucumberSpringContextConfiguration]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n    ...\r\n    2020-06-10 12:04:02.544  INFO 13028 --- [           main] parallel.StepDefinitions                 : \r\n    ... \r\n    Thread ID - 1 - Scenario Outline Row 2 from scenario-outlines feature file.\r\n    2020-06-10 12:04:07.550  INFO 13028 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [parallel.CucumberSpringContextConfiguration]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n    Thread ID - 1 - Scenario 1 from scenarios-0 feature file.\r\n    ...\r\n    Thread ID - 1 - Scenario 2 from scenarios-0 feature file.\r\n    ...\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0\r\n\r\nI hope this problem is understandable and someone can help me!\r\n\r\nThanks in advance,\r\n&lt;br&gt;Maximotus","title":"How to run parallel Cucumber Spring Boot integration tests with Maven (surefire or failsafe)?","body":"<p><em>Hello folks,</em>\n<br>I'm developing cucumber tests since january of this year and i'm now facing a problem running cucumber integration tests in parallel with maven (surefire as well as failsafe) in a Spring Boot environment.</p>\n\n<p><strong>In a nutshell:</strong>\n<br>I want to run cucumber integration tests in parallel with a spring boot application running.\nI use maven with either the Surefire or Failsafe plugin active.\nEverything works fine when i comment out every Spring Boot component in the code.\nThen i have as many threads as feature-files and they run parallel.\nBut when I add the Spring Boot components I need, the tests run serial.</p>\n\n<p><strong>My dependencies in the pom.xml:</strong></p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.10&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.30&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.200&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p><strong>My plugins in the pom.xml:</strong></p>\n\n<pre><code>&lt;plugins&gt;\n    &lt;!-- Maven Compiler --&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;8&lt;/source&gt;\n            &lt;target&gt;8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;!-- Option 1 to run cucumber tests in parallel: Surefire --&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.22.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;parallel&gt;methods&lt;/parallel&gt;\n            &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;!-- Option 2 to run cucumber tests in parallel: Failsafe --&gt;\n    &lt;!--&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M4&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                    &lt;goal&gt;verify&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;parallel&gt;methods&lt;/parallel&gt;\n                    &lt;threadCount&gt;5&lt;/threadCount&gt;\n                    &lt;useUnlimitedThreads&gt;false&lt;/useUnlimitedThreads&gt;\n                    &amp;lt;!&amp;ndash; important for the right execution &amp;ndash;&amp;gt;\n                    &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;--&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p><strong>My Java classes:</strong></p>\n\n<ul>\n<li>RunCucumberIT.java --> execution with failsafe</li>\n<li>RunCucumberTest.java --> same code as RunCucumberIT.java, other name for execution with surefire</li>\n<li>StepDefinitions.java</li>\n<li>TestApplication.java</li>\n<li>CucumberSpringContextConfiguration.java</li>\n</ul>\n\n<p><strong>The Java code:</strong></p>\n\n<p><em>RunCucumberIT.java and RunCucumberTest.java</em></p>\n\n<pre><code>package parallel;\nimport io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n/**\n * Class to run the cucumber tests with Surefire.\n */\n@RunWith(Cucumber.class)\n@CucumberOptions(plugin = { }, strict = true, snippets = CucumberOptions.SnippetType.CAMELCASE,\n        features = \"src/test/java/parallel\", stepNotifications = true)\npublic class RunCucumberTest {\n}\n</code></pre>\n\n<p><em>StepDefinitions.java</em></p>\n\n<pre><code>package parallel;\nimport io.cucumber.java8.En;\nimport lombok.extern.slf4j.Slf4j;\n@Slf4j\npublic class StepDefinitions implements En {\n    public StepDefinitions() {\n        Given(\"Step from {string} in {string} feature file\", this::printThreads);\n    }\n    private void printThreads(final String scenario, final String file) throws InterruptedException {\n        log.info(\" Thread ID - {} - {} from {} feature file.\", Thread.currentThread().getId(), scenario, file);\n        Thread.sleep(5000L);\n    }\n}\n</code></pre>\n\n<p><em>TestApplication.java</em></p>\n\n<pre><code>package parallel;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n@SpringBootApplication\npublic class TestApplication {\n    public static void main(final String[] args) {\n        SpringApplication.run(TestApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><em>CucumberSpringContextConfiguration.java</em></p>\n\n<pre><code>package parallel;\nimport io.cucumber.java.Before;\nimport io.cucumber.spring.CucumberContextConfiguration;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.boot.test.context.SpringBootContextLoader;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.ContextConfiguration;\n/**\n * Class to use spring application context while running cucumber.\n */\n@Slf4j\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ContextConfiguration(classes = TestApplication.class, loader = SpringBootContextLoader.class)\n@CucumberContextConfiguration\npublic class CucumberSpringContextConfiguration {\n    /**\n     * Need this method so the cucumber will recognize this class as glue and load spring context configuration.\n     */\n    @Before\n    public void setUp() {\n        log.info(\"Spring Context initialized for executing cucumber tests.\");\n    }\n}\n</code></pre>\n\n<p><strong>My gherkin code:</strong></p>\n\n<p><em>scenario-outline.feature</em></p>\n\n<pre><code>Feature: Scenario Outlines feature file\n  Scenario Outline: &lt;scen_out_row_num&gt;\n    Given Step from '&lt;scen_out_row_num&gt;' in 'scenario-outlines' feature file\n    Examples:\n      | scen_out_row_num       |\n      | Scenario Outline Row 1 |\n      | Scenario Outline Row 2 |\n</code></pre>\n\n<p><em>scenarios-0.feature</em></p>\n\n<pre><code>Feature: Scenarios feature file\n  Scenario: Scenario Number One -\n    Given Step from 'Scenario 1' in 'scenarios-0' feature file\n  Scenario: Scenario Number Two -\n    Given Step from 'Scenario 2' in 'scenarios-0' feature file\n</code></pre>\n\n<p><em>scenarios-1.feature</em></p>\n\n<pre><code>Feature: Scenarios feature file\n  Scenario: Scenario Number One a\n    Given Step from 'Scenario 1' in 'scenarios-1' feature file\n  Scenario: Scenario Number Two a\n    Given Step from 'Scenario 2' in 'scenarios-1' feature file\n</code></pre>\n\n<p><em>scenarios-2.feature</em></p>\n\n<pre><code>Feature: Scenarios feature file\n  Scenario: Scenario Number One b\n    Given Step from 'Scenario 1' in 'scenarios-2' feature file\n  Scenario: Scenario Number Two b\n    Given Step from 'Scenario 2' in 'scenarios-2' feature file\n</code></pre>\n\n<p><em>scenarios-3.feature</em></p>\n\n<pre><code>Feature: Scenarios feature file\n  Scenario: Scenario Number One c\n    Given Step from 'Scenario 1' in 'scenarios-3' feature file\n  Scenario: Scenario Number Two c\n    Given Step from 'Scenario 2' in 'scenarios-3' feature file\n</code></pre>\n\n<p><strong>Expected behaviour:</strong>\n<br>One thread per feature-file and parallel execution of the integration tests.\nSome output like that (this is the output when i comment out all Spring Boot stuff):</p>\n\n<pre><code>[INFO] --- maven-failsafe-plugin:3.0.0-M4:integration-test (default) @ cucumber-test ---\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running Scenario Number One b\n[pool-1-thread-4] INFO parallel.StepDefinitions -  Thread ID - 17 - Scenario 1 from scenarios-2 feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.338 s - in Scenario Number One b\n[INFO] Running Scenario Number One a\n[pool-1-thread-3] INFO parallel.StepDefinitions -  Thread ID - 16 - Scenario 1 from scenarios-1 feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.353 s - in Scenario Number One a\n[INFO] Running Scenario Outline Row 1\n[pool-1-thread-1] INFO parallel.StepDefinitions -  Thread ID - 14 - Scenario Outline Row 1 from scenario-outlines feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.363 s - in Scenario Outline Row 1\n[INFO] Running Scenario Number One c\n[pool-1-thread-5] INFO parallel.StepDefinitions -  Thread ID - 18 - Scenario 1 from scenarios-3 feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.371 s - in Scenario Number One c\n[INFO] Running Scenario Number One -\n[pool-1-thread-2] INFO parallel.StepDefinitions -  Thread ID - 15 - Scenario 1 from scenarios-0 feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.378 s - in Scenario Number One -\n[INFO] Running Scenario Outline Row 2\n[pool-1-thread-1] INFO parallel.StepDefinitions -  Thread ID - 14 - Scenario Outline Row 2 from scenario-outlines feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.003 s - in Scenario Outline Row 2\n[INFO] Running Scenario Number Two a\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.011 s - in Scenario Number Two a\n[INFO] Running Scenario Number Two c\n[pool-1-thread-3] INFO parallel.StepDefinitions -  Thread ID - 16 - Scenario 2 from scenarios-1 feature file.\n[pool-1-thread-5] INFO parallel.StepDefinitions -  Thread ID - 18 - Scenario 2 from scenarios-3 feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.017 s - in Scenario Number Two c\n[INFO] Running Scenario Number Two b\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.027 s - in Scenario Number Two b\n[INFO] Running Scenario Number Two -\n[pool-1-thread-4] INFO parallel.StepDefinitions -  Thread ID - 17 - Scenario 2 from scenarios-2 feature file.\n[pool-1-thread-2] INFO parallel.StepDefinitions -  Thread ID - 15 - Scenario 2 from scenarios-0 feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.043 s - in Scenario Number Two -\n\n\n10\n Scenarios (\n10 passed\n)\n\n\n10\n Steps (\n10 passed\n)\n\n\n0m\n10,486s\n</code></pre>\n\n<p><strong>Actual behaviour:</strong>\n<br>Just one thread is used and all tests run serially.\nOutput:</p>\n\n<pre><code>[INFO] --- maven-failsafe-plugin:3.0.0-M4:integration-test (default) @ cucumber-test ---\n...    \n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.4.RELEASE)\n...\nThread ID - 1 - Scenario Outline Row 1 from scenario-outlines feature file.\n2020-06-10 12:04:02.519  INFO 13028 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [parallel.CucumberSpringContextConfiguration]: no resource found for suffixes {-context.xml, Context.groovy}.\n...\n2020-06-10 12:04:02.544  INFO 13028 --- [           main] parallel.StepDefinitions                 : \n... \nThread ID - 1 - Scenario Outline Row 2 from scenario-outlines feature file.\n2020-06-10 12:04:07.550  INFO 13028 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [parallel.CucumberSpringContextConfiguration]: no resource found for suffixes {-context.xml, Context.groovy}.\nThread ID - 1 - Scenario 1 from scenarios-0 feature file.\n...\nThread ID - 1 - Scenario 2 from scenarios-0 feature file.\n...\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n\n<p>I hope this problem is understandable and someone can help me!</p>\n\n<p>Thanks in advance,\n<br>Maximotus</p>\n"},{"tags":["java","react-native","android-studio","gradle","react-native-image-picker"],"comments":[{"owner":{"account_id":21049065,"reputation":192,"user_id":15469806,"display_name":"Nibras Shami"},"score":0,"creation_date":1667989748,"post_id":74372060,"comment_id":131297535,"body_markdown":"What is your RN Version you are currently using?","body":"What is your RN Version you are currently using?"},{"owner":{"account_id":21049065,"reputation":192,"user_id":15469806,"display_name":"Nibras Shami"},"score":0,"creation_date":1667989949,"post_id":74372060,"comment_id":131297611,"body_markdown":"Refer to this GitHub Issue here, there was a global android build issue in react native when they released `0.70.0-rc0`. Read https://github.com/facebook/react-native/issues/35210 to know what action you have to take regarding it.","body":"Refer to this GitHub Issue here, there was a global android build issue in react native when they released <code>0.70.0-rc0</code>. Read <a href=\"https://github.com/facebook/react-native/issues/35210\" rel=\"nofollow noreferrer\">github.com/facebook/react-native/issues/35210</a> to know what action you have to take regarding it."},{"owner":{"account_id":24373989,"reputation":105,"user_id":18306564,"display_name":"JoseGE"},"score":0,"creation_date":1668009991,"post_id":74372060,"comment_id":131305215,"body_markdown":"`^0.64.1` That&#39;s the react native version im currently using","body":"<code>^0.64.1</code> That&#39;s the react native version im currently using"},{"owner":{"account_id":21049065,"reputation":192,"user_id":15469806,"display_name":"Nibras Shami"},"score":0,"creation_date":1668059310,"post_id":74372060,"comment_id":131316449,"body_markdown":"Consider Upgrading to `RN 0.64.4` and test if that solves your issue.","body":"Consider Upgrading to <code>RN 0.64.4</code> and test if that solves your issue."},{"owner":{"account_id":24373989,"reputation":105,"user_id":18306564,"display_name":"JoseGE"},"score":0,"creation_date":1668123667,"post_id":74372060,"comment_id":131336320,"body_markdown":"tried upgrading to several new ones, different packages differnt errors","body":"tried upgrading to several new ones, different packages differnt errors"}],"answers":[{"comments":[{"owner":{"account_id":24373989,"reputation":105,"user_id":18306564,"display_name":"JoseGE"},"score":1,"creation_date":1668020409,"post_id":74372356,"comment_id":131308869,"body_markdown":"tried everything here and nothing worked :(","body":"tried everything here and nothing worked :("}],"tags":[],"owner":{"account_id":14757159,"reputation":4270,"user_id":10657559,"display_name":"Thanhal P A"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667985021,"creation_date":1667985021,"answer_id":74372356,"question_id":74372060,"body_markdown":" 1. Check if both mac &amp; windows have same java version by running\r\n    command `java -version`\r\n     \r\n 2. If no, change the version of java in windows like as in mac then, clean and rebuild\r\n\r\n 3. If yes, check if one of this this solution works :\r\n\r\n \r\n    - https://stackoverflow.com/questions/74334162/react-native-android-build-failure-with-different-errors-without-any-changes-in\r\n\r\n    - https://stackoverflow.com/a/74371195/10657559\r\n","title":"React Native Task :react-native-image-picker:compileDebugJavaWithJavac FAILED","body":"<ol>\n<li><p>Check if both mac &amp; windows have same java version by running\ncommand <code>java -version</code></p>\n</li>\n<li><p>If no, change the version of java in windows like as in mac then, clean and rebuild</p>\n</li>\n<li><p>If yes, check if one of this this solution works :</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/74334162/react-native-android-build-failure-with-different-errors-without-any-changes-in\">React Native Android build failure with different errors without any changes in code for past days due to publish of React Native version 0.71.0-rc.0</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/74371195/10657559\">https://stackoverflow.com/a/74371195/10657559</a></p>\n</li>\n</ul>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":6415147,"reputation":3998,"user_id":9585130,"display_name":"Binh Ho"},"score":0,"creation_date":1681819773,"post_id":74872627,"comment_id":134115091,"body_markdown":"Maybe you talked about react-native-image-crop-picker","body":"Maybe you talked about react-native-image-crop-picker"},{"owner":{"account_id":22516601,"reputation":849,"user_id":16710738,"display_name":"Deepak Singh"},"score":0,"creation_date":1685530137,"post_id":74872627,"comment_id":134672046,"body_markdown":"i&#39;m getting this error npm ERR! notarget No matching version found for react-native-image-picker@0.38.1","body":"i&#39;m getting this error npm ERR! notarget No matching version found for react-native-image-picker@0.38.1"}],"tags":[],"owner":{"account_id":21208625,"reputation":86,"user_id":15597725,"display_name":"Mohammad"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1671607993,"creation_date":1671607993,"answer_id":74872627,"question_id":74372060,"body_markdown":"I downgrade version of react-native-image-picker to 0.38.1, works for me","title":"React Native Task :react-native-image-picker:compileDebugJavaWithJavac FAILED","body":"<p>I downgrade version of react-native-image-picker to 0.38.1, works for me</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677245029,"post_id":75511852,"comment_id":133304722,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75511852/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20027796,"reputation":1,"user_id":14681268,"display_name":"devtucuju"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1677468181,"creation_date":1676910489,"answer_id":75511852,"question_id":74372060,"body_markdown":"In my app, the error was fixed by fixing the version of the library in this way: &#39;react-native-image-picker&#39;: &#39;4.6.0&#39;, removing the ^ from &#39;react-native-image-picker&#39;: &#39;^4.6.0&#39;. After that, run yarn install or npm install","title":"React Native Task :react-native-image-picker:compileDebugJavaWithJavac FAILED","body":"<p>In my app, the error was fixed by fixing the version of the library in this way: 'react-native-image-picker': '4.6.0', removing the ^ from 'react-native-image-picker': '^4.6.0'. After that, run yarn install or npm install</p>\n"},{"tags":[],"owner":{"account_id":19314838,"reputation":25,"user_id":14119836,"display_name":"Mercy Ademiju"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682348994,"creation_date":1682348994,"answer_id":76093372,"question_id":74372060,"body_markdown":"Downgrade might work but you can also try to upgrade to the latest version. In my case, apparently, npm installed version 4.10.3 when the latest version is 5.3.1. just write: \r\n\r\n    npm install react-native-image-picker@latest","title":"React Native Task :react-native-image-picker:compileDebugJavaWithJavac FAILED","body":"<p>Downgrade might work but you can also try to upgrade to the latest version. In my case, apparently, npm installed version 4.10.3 when the latest version is 5.3.1. just write:</p>\n<pre><code>npm install react-native-image-picker@latest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27189860,"reputation":31,"user_id":20723809,"display_name":"Bv2124"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697179948,"creation_date":1697179948,"answer_id":77285623,"question_id":74372060,"body_markdown":"Just change the version of your image picker to \r\n\r\n    &quot;react-native-image-picker&quot;: &quot;^4.10.0&quot;, \r\n\r\nin Package.Json and then \r\n\r\nDelete Node Modules and then Run npm i --force after that cd android and then ./gradlew clean \r\n\r\nWorks well for me !","title":"React Native Task :react-native-image-picker:compileDebugJavaWithJavac FAILED","body":"<p>Just change the version of your image picker to</p>\n<pre><code>&quot;react-native-image-picker&quot;: &quot;^4.10.0&quot;, \n</code></pre>\n<p>in Package.Json and then</p>\n<p>Delete Node Modules and then Run npm i --force after that cd android and then ./gradlew clean</p>\n<p>Works well for me !</p>\n"}],"owner":{"account_id":24373989,"reputation":105,"user_id":18306564,"display_name":"JoseGE"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10723,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":74872627,"answer_count":5,"score":6,"last_activity_date":1697179948,"creation_date":1667983579,"question_id":74372060,"body_markdown":"When trying to run my project on my windows computer it is not working, it works on my macOS but when running it on windows it throws the following errors:\r\n\r\n```\r\nTask :react-native-image-picker:compileDebugJavaWithJavac FAILED\r\n```\r\n\r\n\r\n```\r\nif (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.TIRAMISU) {\r\n                                                           ^\r\n  symbol:   variable TIRAMISU\r\n  location: class VERSION_CODES\r\n```\r\n\r\nRunning it with `npx react-native run-android`\r\n\r\n`build.gradle` has the following:\r\n\r\n```\r\n\r\nbuildscript {\r\n    ext {\r\n        buildToolsVersion = &quot;30.0.3&quot;\r\n        minSdkVersion = 30\r\n        compileSdkVersion = 30\r\n        targetSdkVersion = 30\r\n                ndkVersion = &quot;20.1.5948944&quot;\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\nHave been trying to change the number with everything I have installed, `29`,`30`,`31`,and `33` minSdk, buildTools, compile, and targeted nothing is working.\r\n\r\nCurrently, have node 14 and JDK 11\r\n\r\nError changes when I use 33 to the following one:\r\n\r\n```\r\n Task :react-native-webview:compileDebugJavaWithJavac FAILED\r\n```\r\n\r\nHave already tried multiple times `./gradlew clean`\r\n\r\nSomeone knows what&#39;s going on? what am I missing?","title":"React Native Task :react-native-image-picker:compileDebugJavaWithJavac FAILED","body":"<p>When trying to run my project on my windows computer it is not working, it works on my macOS but when running it on windows it throws the following errors:</p>\n<pre><code>Task :react-native-image-picker:compileDebugJavaWithJavac FAILED\n</code></pre>\n<pre><code>if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.TIRAMISU) {\n                                                           ^\n  symbol:   variable TIRAMISU\n  location: class VERSION_CODES\n</code></pre>\n<p>Running it with <code>npx react-native run-android</code></p>\n<p><code>build.gradle</code> has the following:</p>\n<pre><code>\nbuildscript {\n    ext {\n        buildToolsVersion = &quot;30.0.3&quot;\n        minSdkVersion = 30\n        compileSdkVersion = 30\n        targetSdkVersion = 30\n                ndkVersion = &quot;20.1.5948944&quot;\n    }\n\n</code></pre>\n<p>Have been trying to change the number with everything I have installed, <code>29</code>,<code>30</code>,<code>31</code>,and <code>33</code> minSdk, buildTools, compile, and targeted nothing is working.</p>\n<p>Currently, have node 14 and JDK 11</p>\n<p>Error changes when I use 33 to the following one:</p>\n<pre><code> Task :react-native-webview:compileDebugJavaWithJavac FAILED\n</code></pre>\n<p>Have already tried multiple times <code>./gradlew clean</code></p>\n<p>Someone knows what's going on? what am I missing?</p>\n"},{"tags":["java","android","kotlin","android-studio","mobile"],"comments":[{"owner":{"account_id":14787189,"reputation":342,"user_id":10679074,"display_name":"H4x9r"},"score":0,"creation_date":1694002811,"post_id":77051653,"comment_id":135833461,"body_markdown":"try this vm option: --add-opens java.base/java.io=ALL-UNNAMED","body":"try this vm option: --add-opens java.base/java.io=ALL-UNNAMED"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1694004456,"post_id":77051653,"comment_id":135833892,"body_markdown":"Why is this repo even using reflection to access `java.io.File`&#39;s `path` field when there is a method for that: `getPath()`. I&#39;d create a PR to fix this behaviour in the repo.","body":"Why is this repo even using reflection to access <code>java.io.File</code>&#39;s <code>path</code> field when there is a method for that: <code>getPath()</code>. I&#39;d create a PR to fix this behaviour in the repo."}],"answers":[{"comments":[{"owner":{"account_id":29378957,"reputation":9,"user_id":22509897,"display_name":"yeshwanth"},"score":0,"creation_date":1694059832,"post_id":77051869,"comment_id":135842139,"body_markdown":"I am new to java, please tell me where to add the above command?","body":"I am new to java, please tell me where to add the above command?"}],"tags":[],"owner":{"account_id":14787189,"reputation":342,"user_id":10679074,"display_name":"H4x9r"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694004176,"creation_date":1694003056,"answer_id":77051869,"question_id":77051653,"body_markdown":"Java.lang.reflect.InaccessibleObjectException is a common error when dealing with module-based access control introduced in Java 9 and later. This error occurs when your code attempts to access private fields or methods within Java modules that are not accessible due to module restrictions. \r\n\r\nif your code relies on reflection to access private fields or methods, you can use the --add-opens option to open access to the relevant module. For example:\r\n\r\n    java --add-opens java.base/java.io=ALL-UNNAMED YourMainClass","title":"Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java","body":"<p>Java.lang.reflect.InaccessibleObjectException is a common error when dealing with module-based access control introduced in Java 9 and later. This error occurs when your code attempts to access private fields or methods within Java modules that are not accessible due to module restrictions.</p>\n<p>if your code relies on reflection to access private fields or methods, you can use the --add-opens option to open access to the relevant module. For example:</p>\n<pre><code>java --add-opens java.base/java.io=ALL-UNNAMED YourMainClass\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19441837,"reputation":1,"user_id":14220100,"display_name":"FrauleinEule"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697179802,"creation_date":1697179802,"answer_id":77285616,"question_id":77051653,"body_markdown":"you should add --add-opens java.base/java.io=ALL-UNNAMED YourMainClass\r\nat gradle.properties, just like this: \r\n\r\n    org.gradle.jvmargs=-Xmx2048m \\\r\n    --add-exports=java.base/sun.nio.ch=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.lang=ALL-UNNAMED \\\r\n    --add-exports=java.base/java.lang.reflect=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.io=ALL-UNNAMED \\\r\n    --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED \r\n\r\n","title":"Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java","body":"<p>you should add --add-opens java.base/java.io=ALL-UNNAMED YourMainClass\nat gradle.properties, just like this:</p>\n<pre><code>org.gradle.jvmargs=-Xmx2048m \\\n--add-exports=java.base/sun.nio.ch=ALL-UNNAMED \\\n--add-opens=java.base/java.lang=ALL-UNNAMED \\\n--add-exports=java.base/java.lang.reflect=ALL-UNNAMED \\\n--add-opens=java.base/java.io=ALL-UNNAMED \\\n--add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED \n</code></pre>\n"}],"owner":{"account_id":29378957,"reputation":9,"user_id":22509897,"display_name":"yeshwanth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":608,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1697179802,"creation_date":1694001426,"question_id":77051653,"body_markdown":"Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @3ca6a01c\r\n\r\nI took an android repo from github and build it successfullt. \r\nBut when I try to deploy it to my device it is giving above error.\r\n\r\nI am using Android Studio Giraffe | 2022.3.1 \r\nMy JAVA_HOME is C:\\Program Files\\Java\\jdk-11\r\n\r\nEarlier there was no JDK installed in laptop, saw online that, this problem might be because I am missing JDK 11 so installed it, expecting it to solve my problem but no results","title":"Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java","body":"<p>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @3ca6a01c</p>\n<p>I took an android repo from github and build it successfullt.\nBut when I try to deploy it to my device it is giving above error.</p>\n<p>I am using Android Studio Giraffe | 2022.3.1\nMy JAVA_HOME is C:\\Program Files\\Java\\jdk-11</p>\n<p>Earlier there was no JDK installed in laptop, saw online that, this problem might be because I am missing JDK 11 so installed it, expecting it to solve my problem but no results</p>\n"},{"tags":["java","app-inventor"],"comments":[{"owner":{"account_id":1681927,"reputation":6195,"user_id":1545993,"accept_rate":80,"display_name":"Taifun"},"score":0,"creation_date":1697224552,"post_id":77285440,"comment_id":136258064,"body_markdown":"Let me suggest you to ask the specialists in the MIT App Inventor community https://community.appinventor.mit.edu/","body":"Let me suggest you to ask the specialists in the MIT App Inventor community <a href=\"https://community.appinventor.mit.edu/\" rel=\"nofollow noreferrer\">community.appinventor.mit.edu</a>"}],"owner":{"account_id":18286595,"reputation":101,"user_id":13314370,"display_name":"Tanmay Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697179577,"creation_date":1697177509,"question_id":77285440,"body_markdown":"I have setup mit app inventor on my local machine. Now I am trying to load a particular project as soon as I land on the mit app inventor projects screen. \r\n\r\nSteps I have implemented to achieve this:\r\n1. Disable auto load of previous project from the code for every user.\r\n2. Passing the project ID (of the project that I want to auto load) in the URL.\r\n\r\nNow, as far as I understood the codebase then if we return the project ID that I am getting from URL from `getCurrentProjectID` function of `Ode.java` file then the job is done. Thats where the problem start, I am not sure how can I do that.\r\n\r\nI am open to any other approach to the main requirement.","title":"How to auto load a particular project in mit app inventor rather than the previous project?","body":"<p>I have setup mit app inventor on my local machine. Now I am trying to load a particular project as soon as I land on the mit app inventor projects screen.</p>\n<p>Steps I have implemented to achieve this:</p>\n<ol>\n<li>Disable auto load of previous project from the code for every user.</li>\n<li>Passing the project ID (of the project that I want to auto load) in the URL.</li>\n</ol>\n<p>Now, as far as I understood the codebase then if we return the project ID that I am getting from URL from <code>getCurrentProjectID</code> function of <code>Ode.java</code> file then the job is done. Thats where the problem start, I am not sure how can I do that.</p>\n<p>I am open to any other approach to the main requirement.</p>\n"},{"tags":["java","inheritance","subclass","superclass"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1697178092,"post_id":77285454,"comment_id":136249541,"body_markdown":"Where exactly were you expecting an error?","body":"Where exactly were you expecting an error?"},{"owner":{"account_id":29661514,"reputation":1,"user_id":22732963,"display_name":"Sonu Gupta"},"score":0,"creation_date":1697178310,"post_id":77285454,"comment_id":136249568,"body_markdown":"@JonSkeet Actually I was expecting an error since we can only access the member of the superclass using the reference of the superclass.","body":"@JonSkeet Actually I was expecting an error since we can only access the member of the superclass using the reference of the superclass."},{"owner":{"account_id":8087134,"reputation":28361,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":0,"creation_date":1697178346,"post_id":77285454,"comment_id":136249573,"body_markdown":"Try removing the `multiplication` method from the parent class.","body":"Try removing the <code>multiplication</code> method from the parent class."},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":1,"creation_date":1697178437,"post_id":77285454,"comment_id":136249587,"body_markdown":"Although you have the reference of the parent class, your actual object is of the child class. Which method will be called at runtime is dependent on the actual object not the reference type.","body":"Although you have the reference of the parent class, your actual object is of the child class. Which method will be called at runtime is dependent on the actual object not the reference type."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1697178574,"post_id":77285454,"comment_id":136249610,"body_markdown":"Take care of java naming conventions. Names should be camelCase. *public class My_Calculation extends Calculation {* --&gt; *public class MyCalculation extends Calculation {*","body":"Take care of java naming conventions. Names should be camelCase. <i>public class My_Calculation extends Calculation {</i> --&gt; <i>public class MyCalculation extends Calculation {</i>"},{"owner":{"account_id":29661514,"reputation":1,"user_id":22732963,"display_name":"Sonu Gupta"},"score":0,"creation_date":1697178790,"post_id":77285454,"comment_id":136249653,"body_markdown":"@Yousaf I know I would get an error if I removed the multiplication method from the parent class. But that&#39;s the question why is the sub-class multiplication get called? Since we know we can only access the members of the superclass using the reference variable of superclass Calculation which holds the object of a subclass","body":"@Yousaf I know I would get an error if I removed the multiplication method from the parent class. But that&#39;s the question why is the sub-class multiplication get called? Since we know we can only access the members of the superclass using the reference variable of superclass Calculation which holds the object of a subclass"},{"owner":{"account_id":29661514,"reputation":1,"user_id":22732963,"display_name":"Sonu Gupta"},"score":0,"creation_date":1697179085,"post_id":77285454,"comment_id":136249696,"body_markdown":"@RifatRubayatulIslam then why would we get an error if we remove multiplication from the superclass since runtime is dependent on the actual object, not the reference type?","body":"@RifatRubayatulIslam then why would we get an error if we remove multiplication from the superclass since runtime is dependent on the actual object, not the reference type?"},{"owner":{"account_id":8087134,"reputation":28361,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":0,"creation_date":1697179093,"post_id":77285454,"comment_id":136249697,"body_markdown":"To understand this, you need to know about compile-time type and runtime type. In your code, the compile-time type is the parent type but runtime type is the child type. At compile-time, compiler allows calling only those methods that are defined in the compile-time time, i.e., the parent class in your case. This is why removing the multiplication method from the parent throws an error. Now at runtime, the actual method that is called depends on the runtime type, i.e., the child class in your case.","body":"To understand this, you need to know about compile-time type and runtime type. In your code, the compile-time type is the parent type but runtime type is the child type. At compile-time, compiler allows calling only those methods that are defined in the compile-time time, i.e., the parent class in your case. This is why removing the multiplication method from the parent throws an error. Now at runtime, the actual method that is called depends on the runtime type, i.e., the child class in your case."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1697181264,"post_id":77285454,"comment_id":136250025,"body_markdown":"&quot;Actually I was expecting an error since we can only access the member of the superclass using the reference of the superclass&quot; - that doesn&#39;t answer my question at all. It just repeats what you&#39;d already written in the question. *Where* were you expecting the error? Which line, and why? (Where do you believe your code accesses a member without that member being present in the superclass?)","body":"&quot;Actually I was expecting an error since we can only access the member of the superclass using the reference of the superclass&quot; - that doesn&#39;t answer my question at all. It just repeats what you&#39;d already written in the question. <i>Where</i> were you expecting the error? Which line, and why? (Where do you believe your code accesses a member without that member being present in the superclass?)"}],"answers":[{"tags":[],"owner":{"account_id":5534447,"reputation":42,"user_id":4393276,"display_name":"luckyqiao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697179497,"creation_date":1697179497,"answer_id":77285587,"question_id":77285454,"body_markdown":"A subclass has same method with its super class in java is called **method overriding**. \r\nWhen an overridden method is called through a superclass reference, Java determines which version(superclass/subclasses) of that method is to be executed. Which method is called is determined by the type of the object being referred to, but not the type of the reference variable.\r\nThis is Runtime Polymorphism in Java.\r\n\r\nIn your code, the **multiplication** method of subclass is called, because the object&#39;s real type is *My_Calculation*","title":"Can we access the members of sub class using the refrenced variable of super class which holds the subclass object?","body":"<p>A subclass has same method with its super class in java is called <strong>method overriding</strong>.\nWhen an overridden method is called through a superclass reference, Java determines which version(superclass/subclasses) of that method is to be executed. Which method is called is determined by the type of the object being referred to, but not the type of the reference variable.\nThis is Runtime Polymorphism in Java.</p>\n<p>In your code, the <strong>multiplication</strong> method of subclass is called, because the object's real type is <em>My_Calculation</em></p>\n"}],"owner":{"account_id":29661514,"reputation":1,"user_id":22732963,"display_name":"Sonu Gupta"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697179567,"answer_count":1,"score":0,"last_activity_date":1697179497,"creation_date":1697177646,"question_id":77285454,"body_markdown":"If not,then for the below program, how is the **multiplication**(method) of subclass is accessed Since I used the refrence variable of superclass **Calculation** which holds object of subclass **My_Calculation**.\r\n***Output of below program is:**\r\nThe sum of the given numbers:30\r\nThe difference between the given numbers:10\r\nThe product of the given numbers in sub class is:200*\r\n\r\n    class Calculation {\r\n    int z;\r\n\r\n    public void addition(int x, int y) {\r\n       z = x + y;\r\n       System.out.println(&quot;The sum of the given numbers:&quot;+z);\r\n    }\r\n\r\n    public void Subtraction(int x, int y) {\r\n       z = x - y;\r\n       System.out.println(&quot;The difference between the given numbers:&quot;+z);\r\n    }\r\n    public void multiplication(int x, int y) {\r\n       z = x * y;\r\n       System.out.println(&quot;The product of the given numbers in super class is :&quot;+z);\r\n    }\r\n    }\r\n\r\n    public class My_Calculation extends Calculation {\r\n    public void multiplication(int x, int y) {\r\n       z = x * y;\r\n       System.out.println(&quot;The product of the given numbers in sub class is:&quot;+z);\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n       int a = 20, b = 10;\r\n       Calculation demo = new My_Calculation();\r\n       demo.addition(a, b);\r\n       demo.Subtraction(a, b);\r\n       demo.multiplication(a, b);\r\n    }\r\n    }\r\n\r\nI was expecting error since we can only access the member of super class using the refrence of super class.","title":"Can we access the members of sub class using the refrenced variable of super class which holds the subclass object?","body":"<p>If not,then for the below program, how is the <strong>multiplication</strong>(method) of subclass is accessed Since I used the refrence variable of superclass <strong>Calculation</strong> which holds object of subclass <strong>My_Calculation</strong>.\n<em><strong>Output of below program is:</strong>\nThe sum of the given numbers:30\nThe difference between the given numbers:10\nThe product of the given numbers in sub class is:200</em></p>\n<pre><code>class Calculation {\nint z;\n\npublic void addition(int x, int y) {\n   z = x + y;\n   System.out.println(&quot;The sum of the given numbers:&quot;+z);\n}\n\npublic void Subtraction(int x, int y) {\n   z = x - y;\n   System.out.println(&quot;The difference between the given numbers:&quot;+z);\n}\npublic void multiplication(int x, int y) {\n   z = x * y;\n   System.out.println(&quot;The product of the given numbers in super class is :&quot;+z);\n}\n}\n\npublic class My_Calculation extends Calculation {\npublic void multiplication(int x, int y) {\n   z = x * y;\n   System.out.println(&quot;The product of the given numbers in sub class is:&quot;+z);\n}\n\npublic static void main(String args[]) {\n   int a = 20, b = 10;\n   Calculation demo = new My_Calculation();\n   demo.addition(a, b);\n   demo.Subtraction(a, b);\n   demo.multiplication(a, b);\n}\n}\n</code></pre>\n<p>I was expecting error since we can only access the member of super class using the refrence of super class.</p>\n"},{"tags":["java","kotlin","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1605770645,"post_id":64906975,"comment_id":114755015,"body_markdown":"Please attach screenshot from &quot;Project Structure | Modules - Dependencies&quot; tab.","body":"Please attach screenshot from &quot;Project Structure | Modules - Dependencies&quot; tab."},{"owner":{"account_id":15341840,"reputation":456,"user_id":11068616,"display_name":"JetBrains"},"score":0,"creation_date":1605771765,"post_id":64906975,"comment_id":114755396,"body_markdown":"Please provide more information as @bedrov&#39;s written","body":"Please provide more information as @bedrov&#39;s written"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1606205864,"post_id":64906975,"comment_id":114885031,"body_markdown":"Project configuration looks fine. Could you please attach your project to check IDE generated files?","body":"Project configuration looks fine. Could you please attach your project to check IDE generated files?"},{"owner":{"account_id":7027138,"reputation":485,"user_id":10829405,"display_name":"A. P. Roblem"},"score":0,"creation_date":1606288291,"post_id":64906975,"comment_id":114915759,"body_markdown":"@y.bedrov Project files have been added, thanks","body":"@y.bedrov Project files have been added, thanks"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1606303750,"post_id":64906975,"comment_id":114922281,"body_markdown":"Please try to remove &quot;.idea/libraries&quot; file and reimport project again.","body":"Please try to remove &quot;.idea/libraries&quot; file and reimport project again."},{"owner":{"account_id":7027138,"reputation":485,"user_id":10829405,"display_name":"A. P. Roblem"},"score":0,"creation_date":1606305720,"post_id":64906975,"comment_id":114923126,"body_markdown":"That fixed it! Thank you for the help @y.bedrov!","body":"That fixed it! Thank you for the help @y.bedrov!"}],"answers":[{"tags":[],"owner":{"account_id":15341840,"reputation":456,"user_id":11068616,"display_name":"JetBrains"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605771701,"creation_date":1605771701,"answer_id":64907316,"question_id":64906975,"body_markdown":"Please provide more information and check what Kotlin version do you have installed:\r\n\r\n1) Tools &gt; Kotlin &gt; Configure Kotlin Plugin Updates: install the latest version of Kotlin\r\n\r\n2) File &gt; Project Structure &gt; Project: what is your Project SDK there? Choose 15 (something line java version &quot;15.0.1&quot;). If you don&#39;t have 15 there, click &quot;+&quot; and add the newest version (unless you need an older version).","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>Please provide more information and check what Kotlin version do you have installed:</p>\n<ol>\n<li><p>Tools &gt; Kotlin &gt; Configure Kotlin Plugin Updates: install the latest version of Kotlin</p>\n</li>\n<li><p>File &gt; Project Structure &gt; Project: what is your Project SDK there? Choose 15 (something line java version &quot;15.0.1&quot;). If you don't have 15 there, click &quot;+&quot; and add the newest version (unless you need an older version).</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":6,"creation_date":1619624564,"post_id":65004312,"comment_id":118963001,"body_markdown":"1) close project 2) delete `*.iml` and whole `.idea` directory 3) open the project again","body":"1) close project 2) delete <code>*.iml</code> and whole <code>.idea</code> directory 3) open the project again"}],"tags":[],"owner":{"account_id":7027138,"reputation":485,"user_id":10829405,"display_name":"A. P. Roblem"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1606305680,"creation_date":1606305680,"answer_id":65004312,"question_id":64906975,"body_markdown":"Removing the .idea/library file inside the project directory and then selecting &quot;use library from plugin&quot; when prompted to configure Kotlin files by the IDE solved the problem.","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>Removing the .idea/library file inside the project directory and then selecting &quot;use library from plugin&quot; when prompted to configure Kotlin files by the IDE solved the problem.</p>\n"},{"tags":[],"owner":{"display_name":"user15169495"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613482350,"creation_date":1612793357,"answer_id":66103264,"question_id":64906975,"body_markdown":"Probably you need to add KotlinJavaRuntime library in you project. Please see paragraph &quot;Create Kotlin files in Java projects&quot; in https://www.jetbrains.com/help/idea/mixing-java-and-kotlin-in-one-project.html \r\nAfter configuration you should see needed jars in **lib** folder in your project. Rebuild you project. Make also File-&gt;Invalidate Cache/Restart. ","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>Probably you need to add KotlinJavaRuntime library in you project. Please see paragraph &quot;Create Kotlin files in Java projects&quot; in <a href=\"https://www.jetbrains.com/help/idea/mixing-java-and-kotlin-in-one-project.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/mixing-java-and-kotlin-in-one-project.html</a>\nAfter configuration you should see needed jars in <strong>lib</strong> folder in your project. Rebuild you project. Make also File-&gt;Invalidate Cache/Restart.</p>\n"},{"tags":[],"owner":{"account_id":9465498,"reputation":1,"user_id":7037991,"display_name":"Peisheng ye"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616249888,"creation_date":1616249888,"answer_id":66722609,"question_id":64906975,"body_markdown":"I have a Ubuntu 16.04 with  IntelliJ 2020.3 newly installed. I run to the same issue here.\r\n\r\nTo solve this issue, I made a new kotlin file in my project. Then when the system was trying to add this new Kotlin file, you can find a notification related to &quot;Configure project&quot; on the right bottom corner of screen, click the notification. I get the following dialog.  \r\n\r\nThen check the Use library from plugin, this solve the issue.\r\n[Use library from plugin][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qOaLv.png","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>I have a Ubuntu 16.04 with  IntelliJ 2020.3 newly installed. I run to the same issue here.</p>\n<p>To solve this issue, I made a new kotlin file in my project. Then when the system was trying to add this new Kotlin file, you can find a notification related to &quot;Configure project&quot; on the right bottom corner of screen, click the notification. I get the following dialog.</p>\n<p>Then check the Use library from plugin, this solve the issue.\n<a href=\"https://i.stack.imgur.com/qOaLv.png\" rel=\"nofollow noreferrer\">Use library from plugin</a></p>\n"},{"tags":[],"owner":{"account_id":6396751,"reputation":500,"user_id":4960846,"display_name":"Loop"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629727637,"creation_date":1629727637,"answer_id":68894140,"question_id":64906975,"body_markdown":"I tried all of the above but eventually found out, that in one project, my SDKs were completely broken after the newest Intellij Update. If you go to Project Structure -&gt; Platform Settings -&gt; SDKs, I had an entry for Kotlin with a non existing path for an Intellij Version of last year. This was definitely not there before and it seems to have messed up the kotlin installation. After i deleted that entry and as described above the libraries as well, it worked again.\r\n","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>I tried all of the above but eventually found out, that in one project, my SDKs were completely broken after the newest Intellij Update. If you go to Project Structure -&gt; Platform Settings -&gt; SDKs, I had an entry for Kotlin with a non existing path for an Intellij Version of last year. This was definitely not there before and it seems to have messed up the kotlin installation. After i deleted that entry and as described above the libraries as well, it worked again.</p>\n"},{"comments":[{"owner":{"account_id":19214466,"reputation":146,"user_id":14039503,"display_name":"mercury"},"score":6,"creation_date":1678067444,"post_id":70287821,"comment_id":133455896,"body_markdown":"I do not have such a checkbox `Enable KotlinJavaRuntime`.","body":"I do not have such a checkbox <code>Enable KotlinJavaRuntime</code>."}],"tags":[],"owner":{"account_id":1053210,"reputation":1520,"user_id":1123041,"display_name":"vbevans94"},"comment_count":1,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1639144424,"creation_date":1639043608,"answer_id":70287821,"question_id":64906975,"body_markdown":"Try enabling `KotlinJavaRuntime`\r\n\r\n1. Open `Project Structure` window (File &gt; Project Structure)\r\n2. Go into `Modules`\r\n3. Go to `Dependencies` tab\r\n4. Tick the `Enable KotlinJavaRuntime` checkbox","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>Try enabling <code>KotlinJavaRuntime</code></p>\n<ol>\n<li>Open <code>Project Structure</code> window (File &gt; Project Structure)</li>\n<li>Go into <code>Modules</code></li>\n<li>Go to <code>Dependencies</code> tab</li>\n<li>Tick the <code>Enable KotlinJavaRuntime</code> checkbox</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648074613,"creation_date":1648074613,"answer_id":71594833,"question_id":64906975,"body_markdown":"For me this helped:\r\n\r\n1. Close the project\r\n2. Delete *idea.* folder\r\n3. Open project","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>For me this helped:</p>\n<ol>\n<li>Close the project</li>\n<li>Delete <em>idea.</em> folder</li>\n<li>Open project</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3476537,"reputation":51,"user_id":2909570,"display_name":"Moustafa Shamaa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667312545,"creation_date":1667312545,"answer_id":74277387,"question_id":64906975,"body_markdown":"In this case, it was a misconfigured IntelliJ instance.\r\n\r\n&gt; Project Structure -&gt; SDKs -&gt; kotlinSDK -&gt; + -&gt; ok\r\n\r\nrebuild will be work fine","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>In this case, it was a misconfigured IntelliJ instance.</p>\n<blockquote>\n<p>Project Structure -&gt; SDKs -&gt; kotlinSDK -&gt; + -&gt; ok</p>\n</blockquote>\n<p>rebuild will be work fine</p>\n"},{"tags":[],"owner":{"account_id":22474529,"reputation":21,"user_id":16674457,"display_name":"dodomku"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668610046,"creation_date":1668610046,"answer_id":74462532,"question_id":64906975,"body_markdown":"In my case the Kotlin Standard Library JDK extension was missing. https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-stdlib-jdk8\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.21&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>In my case the Kotlin Standard Library JDK extension was missing. <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-stdlib-jdk8\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-stdlib-jdk8</a></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n    &lt;version&gt;1.7.21&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13923811,"reputation":439,"user_id":10053593,"display_name":"tanany365"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688846495,"creation_date":1688846495,"answer_id":76644734,"question_id":64906975,"body_markdown":"You can open files in folder &quot;.idea&quot; and see if there are closing tags `&lt;/tagName&gt;` missing at the end of each file.\r\n","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>You can open files in folder &quot;.idea&quot; and see if there are closing tags <code>&lt;/tagName&gt;</code> missing at the end of each file.</p>\n"},{"tags":[],"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697179290,"creation_date":1697179290,"answer_id":77285567,"question_id":64906975,"body_markdown":"In my case `apply plugin: kotlin-android-extensions` was not added in **library&#39;s `build.gradle`** file.\r\n\r\nPlease check for each modules. Each module should have `apply plugin: kotlin-android-extensions`","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>In my case <code>apply plugin: kotlin-android-extensions</code> was not added in <strong>library's <code>build.gradle</code></strong> file.</p>\n<p>Please check for each modules. Each module should have <code>apply plugin: kotlin-android-extensions</code></p>\n"}],"owner":{"account_id":7027138,"reputation":485,"user_id":10829405,"display_name":"A. P. Roblem"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31351,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":65004312,"answer_count":11,"score":23,"last_activity_date":1697179290,"creation_date":1605770121,"question_id":64906975,"body_markdown":"I&#39;ve been trying to set up a new Kotlin project in IntelliJ IDEA, using the default IntelliJ Build System (not Gradle) and JDK 15. Whenever it creates the default main.kt file, and I try to build and run the main function, which looks like this:\r\n```kotlin\r\nfun main(args: Array&lt;String&gt;) {\r\n    println(&quot;Hello World!&quot;)\r\n}\r\n```\r\nthe build fails after a short time with the following errors:\r\n&gt; Kotlin: Cannot access built-in declaration &#39;kotlin.Array&#39;. Ensure that you have a dependency on the Kotlin standard library\r\n\r\n&gt; Kotlin: Cannot access built-in declaration &#39;kotlin.String&#39;. Ensure that you have a dependency on the Kotlin standard library\r\n\r\nand\r\n&gt; Kotlin: Unresolved reference: println\r\n\r\nI&#39;ve tried changing the project SDK to the kotlin SDK, to Java 14 and to Java 1.8. I&#39;m not sure exactly how to add the dependency it asks for. Any help is appreciated.\r\n\r\nThis is what the dependencies window shows within the project:\r\n[![Module Dependencies][1]][1]\r\n\r\nRight now the project is using JDK 15, and Kotlin 1.4.10. I&#39;ve tried updating the plugin, uninstalling and reinstalling, deactivating and reactivating, all to no avail.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Aw08d.jpg","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>I've been trying to set up a new Kotlin project in IntelliJ IDEA, using the default IntelliJ Build System (not Gradle) and JDK 15. Whenever it creates the default main.kt file, and I try to build and run the main function, which looks like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main(args: Array&lt;String&gt;) {\n    println(&quot;Hello World!&quot;)\n}\n</code></pre>\n<p>the build fails after a short time with the following errors:</p>\n<blockquote>\n<p>Kotlin: Cannot access built-in declaration 'kotlin.Array'. Ensure that you have a dependency on the Kotlin standard library</p>\n</blockquote>\n<blockquote>\n<p>Kotlin: Cannot access built-in declaration 'kotlin.String'. Ensure that you have a dependency on the Kotlin standard library</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>Kotlin: Unresolved reference: println</p>\n</blockquote>\n<p>I've tried changing the project SDK to the kotlin SDK, to Java 14 and to Java 1.8. I'm not sure exactly how to add the dependency it asks for. Any help is appreciated.</p>\n<p>This is what the dependencies window shows within the project:\n<a href=\"https://i.stack.imgur.com/Aw08d.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Aw08d.jpg\" alt=\"Module Dependencies\" /></a></p>\n<p>Right now the project is using JDK 15, and Kotlin 1.4.10. I've tried updating the plugin, uninstalling and reinstalling, deactivating and reactivating, all to no avail.</p>\n"},{"tags":["java","windows","shutdown"],"answers":[{"tags":[],"owner":{"account_id":1384,"reputation":7342,"user_id":1849,"accept_rate":100,"display_name":"Free Wildebeest"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1221431641,"creation_date":1221431641,"answer_id":61694,"question_id":61692,"body_markdown":"As far as I know you need to start using JNI to set up a message handler for the Windows [WM_QUERYENDSESSION](http://msdn.microsoft.com/en-us/library/aa376890.aspx) message.\r\n\r\nTo do this (if you&#39;re new to Windows programming like me) you&#39;ll need to create a new class of window with a new message handling function (as described [here](http://www.angelcode.com/dev/window/window.asp)) and handle the WM_QUERYENDSESSION from the message handler.\r\n\r\nNB: You&#39;ll need to use the JNIEnv::GetJavaVM(...) and then JavaVM::AttachCurrentThread(...) on the message handling thread before you can call any Java methods from your native message handling code. ","title":"How do I get my Java application to shutdown nicely in windows?","body":"<p>As far as I know you need to start using JNI to set up a message handler for the Windows <a href=\"http://msdn.microsoft.com/en-us/library/aa376890.aspx\" rel=\"nofollow noreferrer\">WM_QUERYENDSESSION</a> message.</p>\n\n<p>To do this (if you're new to Windows programming like me) you'll need to create a new class of window with a new message handling function (as described <a href=\"http://www.angelcode.com/dev/window/window.asp\" rel=\"nofollow noreferrer\">here</a>) and handle the WM_QUERYENDSESSION from the message handler.</p>\n\n<p>NB: You'll need to use the JNIEnv::GetJavaVM(...) and then JavaVM::AttachCurrentThread(...) on the message handling thread before you can call any Java methods from your native message handling code. </p>\n"},{"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1697179986,"post_id":72078,"comment_id":136249829,"body_markdown":"How does this resolve the need to show a UI during shutdown?","body":"How does this resolve the need to show a UI during shutdown?"}],"tags":[],"owner":{"account_id":7072,"reputation":2471,"user_id":12092,"display_name":"Steve g"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1221571131,"creation_date":1221571131,"answer_id":72078,"question_id":61692,"body_markdown":"The previously mentioned JNI approach will likely work.\r\n\r\nYou can use JNA which is basically a wrapper around JNI to make it easier to use.  An added bonus is that it (in my opinion at least) generally is faster and more maintainable than raw JNI.  You can find JNA at https://jna.dev.java.net/\r\n\r\n\r\nIf you&#39;re just starting the application in the start menu because you&#39;re trying to make it behave like a service in windows, you can use the java service wrapper which is found here:\r\nhttp://wrapper.tanukisoftware.org/doc/english/download.jsp","title":"How do I get my Java application to shutdown nicely in windows?","body":"<p>The previously mentioned JNI approach will likely work.</p>\n\n<p>You can use JNA which is basically a wrapper around JNI to make it easier to use.  An added bonus is that it (in my opinion at least) generally is faster and more maintainable than raw JNI.  You can find JNA at <a href=\"https://jna.dev.java.net/\" rel=\"nofollow noreferrer\">https://jna.dev.java.net/</a></p>\n\n<p>If you're just starting the application in the start menu because you're trying to make it behave like a service in windows, you can use the java service wrapper which is found here:\n<a href=\"http://wrapper.tanukisoftware.org/doc/english/download.jsp\" rel=\"nofollow noreferrer\">http://wrapper.tanukisoftware.org/doc/english/download.jsp</a></p>\n"},{"tags":[],"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695421427,"creation_date":1695421427,"answer_id":77160942,"question_id":61692,"body_markdown":"You can use the `sun.misc.Signal` and `sun.misc.SignalHandler` internal classes to replace the default `java.lang.Terminator` with your own custom handler. Don&#39;t forget to call `System::exit` from there. The JDK internally raises `SIGTERM` in response to `WM_QUERYENDSESSION`. See [awt_Toolkit.cpp][1] for details.\r\n\r\n\r\n```lang-java\r\npublic static void setQuitStrategy(Runnable handler) throws Exception {\r\n\tClass&lt;?&gt; signalClass = Class.forName(&quot;sun.misc.Signal&quot;);\r\n\tClass&lt;?&gt; signalHandlerClass = Class.forName(&quot;sun.misc.SignalHandler&quot;);\r\n\r\n\tObject signal = signalClass.getConstructor(String.class).newInstance(&quot;TERM&quot;);\r\n\tObject signalHandler = Proxy.newProxyInstance(signalHandlerClass.getClassLoader(), new Class[] { signalHandlerClass }, (proxy, method, args) -&gt; {\r\n\t\thandler.run();\r\n\t\treturn null;\r\n\t});\r\n\r\n\tMethod handle = signalClass.getMethod(&quot;handle&quot;, new Class[] { signalClass, signalHandlerClass });\r\n\thandle.invoke(null, signal, signalHandler);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/JetBrains/JetBrainsRuntime/blob/8845e3aa8ada1562db459cdb92ca62f1839158f3/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1317","title":"How do I get my Java application to shutdown nicely in windows?","body":"<p>You can use the <code>sun.misc.Signal</code> and <code>sun.misc.SignalHandler</code> internal classes to replace the default <code>java.lang.Terminator</code> with your own custom handler. Don't forget to call <code>System::exit</code> from there. The JDK internally raises <code>SIGTERM</code> in response to <code>WM_QUERYENDSESSION</code>. See <a href=\"https://github.com/JetBrains/JetBrainsRuntime/blob/8845e3aa8ada1562db459cdb92ca62f1839158f3/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1317\" rel=\"nofollow noreferrer\">awt_Toolkit.cpp</a> for details.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void setQuitStrategy(Runnable handler) throws Exception {\n    Class&lt;?&gt; signalClass = Class.forName(&quot;sun.misc.Signal&quot;);\n    Class&lt;?&gt; signalHandlerClass = Class.forName(&quot;sun.misc.SignalHandler&quot;);\n\n    Object signal = signalClass.getConstructor(String.class).newInstance(&quot;TERM&quot;);\n    Object signalHandler = Proxy.newProxyInstance(signalHandlerClass.getClassLoader(), new Class[] { signalHandlerClass }, (proxy, method, args) -&gt; {\n        handler.run();\n        return null;\n    });\n\n    Method handle = signalClass.getMethod(&quot;handle&quot;, new Class[] { signalClass, signalHandlerClass });\n    handle.invoke(null, signal, signalHandler);\n}\n</code></pre>\n"}],"owner":{"account_id":1384,"reputation":7342,"user_id":1849,"accept_rate":100,"display_name":"Free Wildebeest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8634,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72078,"answer_count":3,"score":6,"last_activity_date":1697179225,"creation_date":1221431283,"question_id":61692,"body_markdown":"I have a Java application which I want to shutdown &#39;nicely&#39; when the user selects Start-&gt;Shutdown. I&#39;ve tried using JVM shutdown listeners via Runtime.addShutdownHook(...) but this doesn&#39;t work as I can&#39;t use any UI elements from it.\r\n\r\nI&#39;ve also tried using the exit handler on my main application UI window but it has no way to pause or halt shutdown as far as I can tell. How can I handle shutdown nicely?","title":"How do I get my Java application to shutdown nicely in windows?","body":"<p>I have a Java application which I want to shutdown 'nicely' when the user selects Start->Shutdown. I've tried using JVM shutdown listeners via Runtime.addShutdownHook(...) but this doesn't work as I can't use any UI elements from it.</p>\n\n<p>I've also tried using the exit handler on my main application UI window but it has no way to pause or halt shutdown as far as I can tell. How can I handle shutdown nicely?</p>\n"},{"tags":["java","spring","spring-boot","classcastexception","spring-data-redis"],"comments":[{"owner":{"account_id":5977652,"reputation":394,"user_id":4697928,"display_name":"Abishek Stephen"},"score":0,"creation_date":1680724767,"post_id":75943457,"comment_id":133948787,"body_markdown":"Seems to be an issue with ClassLoader. Could you try removing one or the other in         template.setHashKeySerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader()));\n        template.setValueSerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader()));","body":"Seems to be an issue with ClassLoader. Could you try removing one or the other in         template.setHashKeySerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader())&zwnj;&#8203;);         template.setValueSerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader())&zwnj;&#8203;);"},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1680761192,"post_id":75943457,"comment_id":133953508,"body_markdown":"I tried-  template.setHashKeySerializer(new JdkSerializationRedisSerializer());\n        template.setValueSerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader())); and the other way template.setHashKeySerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader()));\n        template.setValueSerializer(new JdkSerializationRedisSerializer()); but getting the same error.","body":"I tried-  template.setHashKeySerializer(new JdkSerializationRedisSerializer());         template.setValueSerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader())&zwnj;&#8203;); and the other way template.setHashKeySerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader())&zwnj;&#8203;);         template.setValueSerializer(new JdkSerializationRedisSerializer()); but getting the same error."},{"owner":{"account_id":1656890,"reputation":8197,"user_id":1526192,"display_name":"Phil Webb"},"score":2,"creation_date":1681075891,"post_id":75943457,"comment_id":133996574,"body_markdown":"This is almost certainly related to devtools, you could try removing the `spring-boot-devtools` dependency entirely to see if that &quot;fixes&quot; things.","body":"This is almost certainly related to devtools, you could try removing the <code>spring-boot-devtools</code> dependency entirely to see if that &quot;fixes&quot; things."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":1,"creation_date":1681121627,"post_id":75943457,"comment_id":134001443,"body_markdown":"I removed devtools and it worked.","body":"I removed devtools and it worked."}],"answers":[{"comments":[{"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"score":1,"creation_date":1688802212,"post_id":76444927,"comment_id":135125206,"body_markdown":"But how is disabling spring-devtools resolving this issue? What is the logic behind this?","body":"But how is disabling spring-devtools resolving this issue? What is the logic behind this?"},{"owner":{"account_id":24883578,"reputation":76,"user_id":18756500,"display_name":"ForeverMorning"},"score":0,"creation_date":1689294146,"post_id":76444927,"comment_id":135196790,"body_markdown":"I didn&#39;t dive into this problem. Maybe the spring devtools module use different ClassLoader than Jeddis (many Spring projects use Jeddis to interact with Redis). This causes Jeddis can&#39;t wrapper response to object in some cases.","body":"I didn&#39;t dive into this problem. Maybe the spring devtools module use different ClassLoader than Jeddis (many Spring projects use Jeddis to interact with Redis). This causes Jeddis can&#39;t wrapper response to object in some cases."}],"tags":[],"owner":{"account_id":24883578,"reputation":76,"user_id":18756500,"display_name":"ForeverMorning"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1686673365,"creation_date":1686376637,"answer_id":76444927,"question_id":75943457,"body_markdown":"I met the same error. The only way is to remove `spring-devtools` module. It seems like to be caused by `ClassLoader`. But I don&#39;t know how to solve it. But removing this module really worked.","title":"ClassCastException: with unnamed module of loader &#39;app&#39;: Spring Data Redis","body":"<p>I met the same error. The only way is to remove <code>spring-devtools</code> module. It seems like to be caused by <code>ClassLoader</code>. But I don't know how to solve it. But removing this module really worked.</p>\n"},{"tags":[],"owner":{"account_id":21261211,"reputation":1,"user_id":15641954,"display_name":"nhhoang188"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688096553,"creation_date":1688096553,"answer_id":76585888,"question_id":75943457,"body_markdown":"try this way:\r\n\r\n&gt; you need to set a System property before calling SpringApplication.run(…​). For example:\r\n&gt; \r\n\r\n    public static void main(String[] args) {\r\n    System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\r\n    SpringApplication.run(MyApp.class, args);}\r\n\r\nReference [Spring Doc][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart-disable","title":"ClassCastException: with unnamed module of loader &#39;app&#39;: Spring Data Redis","body":"<p>try this way:</p>\n<blockquote>\n<p>you need to set a System property before calling SpringApplication.run(…​). For example:</p>\n</blockquote>\n<pre><code>public static void main(String[] args) {\nSystem.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\nSpringApplication.run(MyApp.class, args);}\n</code></pre>\n<p>Reference <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart-disable\" rel=\"nofollow noreferrer\">Spring Doc</a></p>\n"},{"comments":[{"owner":{"account_id":22084389,"reputation":211938,"user_id":16343464,"display_name":"mozway"},"score":2,"creation_date":1697181043,"post_id":77285551,"comment_id":136249990,"body_markdown":"Can you be more explicit? Please explain exactly what to do for your suggestion to work.","body":"Can you be more explicit? Please explain exactly what to do for your suggestion to work."}],"tags":[],"owner":{"account_id":29661861,"reputation":1,"user_id":22733240,"display_name":"Pabitra Das"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697179120,"creation_date":1697179120,"answer_id":77285551,"question_id":75943457,"body_markdown":"If you are using spring devtools.Disabled devtools it will work.","title":"ClassCastException: with unnamed module of loader &#39;app&#39;: Spring Data Redis","body":"<p>If you are using spring devtools.Disabled devtools it will work.</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3765,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76444927,"answer_count":3,"score":3,"last_activity_date":1697179120,"creation_date":1680724066,"question_id":75943457,"body_markdown":"I am working on a small demo project for **Redis and Spring Boot.** But for the following **GET** endpoints I am getting **ClassCastException.**-\r\n```\r\n@GetMapping(&quot;/all&quot;)\r\n    public List&lt;Product&gt; getAllProducts(){\r\n        return productRepository.findAll();\r\n    }\r\n\r\n    @GetMapping(&quot;/product/{id}&quot;)\r\n    public Product finProduct(@PathVariable int id){\r\n        return productRepository.findProductById(id);\r\n    }\r\n```\r\nSerivces-\r\n```\r\npublic List&lt;Product&gt; findAll() {\r\n        List&lt;Product&gt; products=new ArrayList&lt;&gt;();\r\n        redisTemplate.opsForHash().values(HASH_KEY).forEach(e-&gt;products.add((Product)e));\r\n        return products;\r\n    }\r\n\r\n    public Product findProductById(int id) {\r\n\r\n        return (Product) redisTemplate.opsForHash().get(HASH_KEY, id);\r\n    }\r\n```\r\nI am getting following error-\r\n```\r\njava.lang.ClassCastException: class com.ayushsingh.springdataredisdemo.entity.Product cannot be cast to class com.ayushsingh.springdataredisdemo.entity.Product (com.ayushsingh.springdataredisdemo.entity.Product is in unnamed module of loader &#39;app&#39;; com.ayushsingh.springdataredisdemo.entity.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @18f69edd)\r\n```\r\n\r\nI referred the following article: https://medium.com/javarevisited/classcast-exception-when-using-redis-and-springboot-frameworks-in-conjunction-ea132dd0d7ea, but still getting same error.  \r\n**Beans-**\r\n```\r\n@Configuration\r\n@EnableRedisRepositories\r\npublic class RedisConfig {\r\n\r\n    // Connection Configuration\r\n    @Bean\r\n    public JedisConnectionFactory connectionFactory() {\r\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration();\r\n        configuration.setHostName(&quot;localhost&quot;);\r\n        configuration.setPort(6379);\r\n        Duration readTimeout = Duration.ofMillis(30 * 1000);\r\n        Duration connectTimeout = Duration.ofMillis(3 * 1000);\r\n        JedisClientConfiguration clientConfiguration = JedisClientConfiguration.builder()\r\n                .readTimeout(readTimeout)\r\n                .connectTimeout(connectTimeout)\r\n                .usePooling()\r\n                .build();\r\n        JedisConnectionFactory jedisConnectionFactory = new JedisConnectionFactory(configuration, clientConfiguration);\r\n        return jedisConnectionFactory;\r\n    }\r\n\r\n    // Redis template to acces Redis server\r\n    @Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n        template.setConnectionFactory(connectionFactory());\r\n        template.setKeySerializer(new StringRedisSerializer());\r\n        template.setHashKeySerializer(new StringRedisSerializer());\r\n        template.setHashKeySerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader()));\r\n        template.setValueSerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader()));\r\n        template.setEnableTransactionSupport(true);\r\n\r\n        template.afterPropertiesSet();\r\n        return template;\r\n    }\r\n}\r\n```\r\n**application properties-**\r\n```\r\nspring.devtools.restart.enabled=false\r\nserver.port=8082\r\n```\r\n\r\nPlease help!","title":"ClassCastException: with unnamed module of loader &#39;app&#39;: Spring Data Redis","body":"<p>I am working on a small demo project for <strong>Redis and Spring Boot.</strong> But for the following <strong>GET</strong> endpoints I am getting <strong>ClassCastException.</strong>-</p>\n<pre><code>@GetMapping(&quot;/all&quot;)\n    public List&lt;Product&gt; getAllProducts(){\n        return productRepository.findAll();\n    }\n\n    @GetMapping(&quot;/product/{id}&quot;)\n    public Product finProduct(@PathVariable int id){\n        return productRepository.findProductById(id);\n    }\n</code></pre>\n<p>Serivces-</p>\n<pre><code>public List&lt;Product&gt; findAll() {\n        List&lt;Product&gt; products=new ArrayList&lt;&gt;();\n        redisTemplate.opsForHash().values(HASH_KEY).forEach(e-&gt;products.add((Product)e));\n        return products;\n    }\n\n    public Product findProductById(int id) {\n\n        return (Product) redisTemplate.opsForHash().get(HASH_KEY, id);\n    }\n</code></pre>\n<p>I am getting following error-</p>\n<pre><code>java.lang.ClassCastException: class com.ayushsingh.springdataredisdemo.entity.Product cannot be cast to class com.ayushsingh.springdataredisdemo.entity.Product (com.ayushsingh.springdataredisdemo.entity.Product is in unnamed module of loader 'app'; com.ayushsingh.springdataredisdemo.entity.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @18f69edd)\n</code></pre>\n<p>I referred the following article: <a href=\"https://medium.com/javarevisited/classcast-exception-when-using-redis-and-springboot-frameworks-in-conjunction-ea132dd0d7ea\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/classcast-exception-when-using-redis-and-springboot-frameworks-in-conjunction-ea132dd0d7ea</a>, but still getting same error.<br />\n<strong>Beans-</strong></p>\n<pre><code>@Configuration\n@EnableRedisRepositories\npublic class RedisConfig {\n\n    // Connection Configuration\n    @Bean\n    public JedisConnectionFactory connectionFactory() {\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration();\n        configuration.setHostName(&quot;localhost&quot;);\n        configuration.setPort(6379);\n        Duration readTimeout = Duration.ofMillis(30 * 1000);\n        Duration connectTimeout = Duration.ofMillis(3 * 1000);\n        JedisClientConfiguration clientConfiguration = JedisClientConfiguration.builder()\n                .readTimeout(readTimeout)\n                .connectTimeout(connectTimeout)\n                .usePooling()\n                .build();\n        JedisConnectionFactory jedisConnectionFactory = new JedisConnectionFactory(configuration, clientConfiguration);\n        return jedisConnectionFactory;\n    }\n\n    // Redis template to acces Redis server\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(connectionFactory());\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setHashKeySerializer(new StringRedisSerializer());\n        template.setHashKeySerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader()));\n        template.setValueSerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader()));\n        template.setEnableTransactionSupport(true);\n\n        template.afterPropertiesSet();\n        return template;\n    }\n}\n</code></pre>\n<p><strong>application properties-</strong></p>\n<pre><code>spring.devtools.restart.enabled=false\nserver.port=8082\n</code></pre>\n<p>Please help!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697200849,"post_id":77285525,"comment_id":136253468,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29661815,"reputation":1,"user_id":22733209,"display_name":"CDRIVE911"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697178758,"creation_date":1697178758,"question_id":77285525,"body_markdown":"I have pulled in the map api in my site. However, I see that it comes with the entire map and its a clickable searchable map. The more customers use the app, and I charged more ? \r\n\r\njust the standard address lookup address like on other sites. I did not want a searchable map. ","title":"once map api is called on my page, and users continue to use the map function, am I charged every click someone searches on the map?","body":"<p>I have pulled in the map api in my site. However, I see that it comes with the entire map and its a clickable searchable map. The more customers use the app, and I charged more ?</p>\n<p>just the standard address lookup address like on other sites. I did not want a searchable map.</p>\n"},{"tags":["java","github","dependencies"],"comments":[{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1697178815,"post_id":77285512,"comment_id":136249656,"body_markdown":"How were you managing your dependencies? Did you use maven/gradle or just added the jar files in your classpath?","body":"How were you managing your dependencies? Did you use maven/gradle or just added the jar files in your classpath?"}],"owner":{"account_id":29618043,"reputation":1,"user_id":22699692,"display_name":"VishIsHere26"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697178571,"creation_date":1697178571,"question_id":77285512,"body_markdown":"So i recently uploaded my GUI calculator project in GitHub for which i used exp4j \r\nI&#39;ve dragged the project file and uploaded it in repository without uploading external dependency.\r\n\r\n\r\n**Would my code run in other user&#39;s device if they download project files?**","title":"How to add external dependency to a project in github when u use that external dependency in your project?","body":"<p>So i recently uploaded my GUI calculator project in GitHub for which i used exp4j\nI've dragged the project file and uploaded it in repository without uploading external dependency.</p>\n<p><strong>Would my code run in other user's device if they download project files?</strong></p>\n"},{"tags":["java","spring-boot","architecture"],"answers":[{"tags":[],"owner":{"account_id":333767,"reputation":1040,"user_id":659803,"accept_rate":57,"display_name":"Arun Avanathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697177778,"creation_date":1697177778,"answer_id":77285463,"question_id":76967021,"body_markdown":"Need more data:\r\n1. What is the data size in central hub?\r\n2. What is the growth of data in central hub?\r\n3. How much time it takes per schedule?\r\n4. Should your data from central hub to Elastic Index be on real time/immediate OR delay is okay?\r\n\r\n\r\nAssuming it is a large data set, here is another option:\r\n\r\nOption 1: What you have above\r\nOption 2: If you have eventing mechanism from central hub, you can replace data refresh module with event listeners pumping data from events to Elastic Index Builder. \r\n\r\n**Option 1:** \r\n\r\n**Pros:**\r\n\r\n  1. Simple to implement \r\n\r\n**Cons:**\r\n\r\n  1. You need to query central hub periodically - this puts additional load on Central Hub\r\n  2. If the growth of data is large, this approach is not scalable to read all data with every schedule\r\n  3. If time per schedule is is x hours, your processing speed per schedule needs to be &lt; x. \r\n  4. With growth in data, delay might increase\r\n  5. What happens if there is failure? rerun the scheduler? Now it is getting complicated.\r\n\r\n**Option 2:**\r\n\r\n  **Pros:**\r\n\r\n  1. Highly scalable - even though data in Central hub is growing\r\n  2. You may not need a DB for copying data\r\n  3. Events can be retried if there is failure\r\n  4. If there is a change in Central hub, that data can show up in the \r\nindex &lt; few seconds (most of the time)\r\n\r\n  **Cons:**\r\n\r\n  1. Eventing is another infrastructure you need to maintain, but there are well tested open source &amp; commercial products to suit your needs.","title":"Is there better way to implement Scheduler based project?","body":"<p>Need more data:</p>\n<ol>\n<li>What is the data size in central hub?</li>\n<li>What is the growth of data in central hub?</li>\n<li>How much time it takes per schedule?</li>\n<li>Should your data from central hub to Elastic Index be on real time/immediate OR delay is okay?</li>\n</ol>\n<p>Assuming it is a large data set, here is another option:</p>\n<p>Option 1: What you have above\nOption 2: If you have eventing mechanism from central hub, you can replace data refresh module with event listeners pumping data from events to Elastic Index Builder.</p>\n<p><strong>Option 1:</strong></p>\n<p><strong>Pros:</strong></p>\n<ol>\n<li>Simple to implement</li>\n</ol>\n<p><strong>Cons:</strong></p>\n<ol>\n<li>You need to query central hub periodically - this puts additional load on Central Hub</li>\n<li>If the growth of data is large, this approach is not scalable to read all data with every schedule</li>\n<li>If time per schedule is is x hours, your processing speed per schedule needs to be &lt; x.</li>\n<li>With growth in data, delay might increase</li>\n<li>What happens if there is failure? rerun the scheduler? Now it is getting complicated.</li>\n</ol>\n<p><strong>Option 2:</strong></p>\n<p><strong>Pros:</strong></p>\n<ol>\n<li>Highly scalable - even though data in Central hub is growing</li>\n<li>You may not need a DB for copying data</li>\n<li>Events can be retried if there is failure</li>\n<li>If there is a change in Central hub, that data can show up in the\nindex &lt; few seconds (most of the time)</li>\n</ol>\n<p><strong>Cons:</strong></p>\n<ol>\n<li>Eventing is another infrastructure you need to maintain, but there are well tested open source &amp; commercial products to suit your needs.</li>\n</ol>\n"}],"owner":{"account_id":22071184,"reputation":33,"user_id":16332139,"display_name":"Bhavin "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697177778,"creation_date":1692861730,"question_id":76967021,"body_markdown":"In My Team we have lot of similar project, \r\n\r\n 1. which fetches the data from central hub periodically and save it to local db.\r\n 2. We create Elastic Data index from local db.\r\n 3. We have backend module to Provide this elastic data to UI Dashboard.\r\n\r\n[![Architecture diagram would be as follows][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ksQk7.png\r\n\r\nIs there any better way to do this ?","title":"Is there better way to implement Scheduler based project?","body":"<p>In My Team we have lot of similar project,</p>\n<ol>\n<li>which fetches the data from central hub periodically and save it to local db.</li>\n<li>We create Elastic Data index from local db.</li>\n<li>We have backend module to Provide this elastic data to UI Dashboard.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ksQk7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ksQk7.png\" alt=\"Architecture diagram would be as follows\" /></a></p>\n<p>Is there any better way to do this ?</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1621522699,"post_id":67622739,"comment_id":119526874,"body_markdown":"Does the article with the id you&#39;re querying for exist? Could there be concurrent modifications, e.g. the article being created or deleted in &quot;parallel&quot; transactions so that isolation hits you? - &quot;Occasionally&quot; isn&#39;t an easy thing to debug or solve, especially given the limited amount of information you can provide here. You should try to gather more information so maybe a pattern emerges that let&#39;s you reproduce the behavior. Information how to reproduce it or at least info like &quot;it mostly happens when xyz happens as well&quot; would help to narrow down the cause for this.","body":"Does the article with the id you&#39;re querying for exist? Could there be concurrent modifications, e.g. the article being created or deleted in &quot;parallel&quot; transactions so that isolation hits you? - &quot;Occasionally&quot; isn&#39;t an easy thing to debug or solve, especially given the limited amount of information you can provide here. You should try to gather more information so maybe a pattern emerges that let&#39;s you reproduce the behavior. Information how to reproduce it or at least info like &quot;it mostly happens when xyz happens as well&quot; would help to narrow down the cause for this."},{"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1621534843,"post_id":67622739,"comment_id":119532310,"body_markdown":"This problem makes me so confused. I will try to reproduce it.@Thomas","body":"This problem makes me so confused. I will try to reproduce it.@Thomas"}],"answers":[{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":2,"creation_date":1697177558,"post_id":77285421,"comment_id":136249479,"body_markdown":"Please use answering posts only to answer. If you cannot answer according to [answer] please wait for your commenting privilege. I [edit]ed for you, to reduce this to what I think may be accepted as an answer. Please review and in case you do not see this as an answer you can give and cannot edit it yourself into one, then please delete this post. Otherwise welcome to StackOverflow.","body":"Please use answering posts only to answer. If you cannot answer according to <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> please wait for your commenting privilege. I <a href=\"https://stackoverflow.com/posts/77285421/edit\">edit</a>ed for you, to reduce this to what I think may be accepted as an answer. Please review and in case you do not see this as an answer you can give and cannot edit it yourself into one, then please delete this post. Otherwise welcome to StackOverflow."}],"tags":[],"owner":{"account_id":29661631,"reputation":1,"user_id":22733060,"display_name":"anonna"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697177455,"creation_date":1697177235,"answer_id":77285421,"question_id":67622739,"body_markdown":"I observe this after I use `selectByPrimaryKey(null)` to query record.  I add a check before `selectByPrimaryKey` to ensure that it cannot get a null parameter. And other `selectByPrimary(id)` is OK.  \r\n","title":"MyBatis could not get record when using selectByPrimaryKey ocassionally","body":"<p>I observe this after I use <code>selectByPrimaryKey(null)</code> to query record.  I add a check before <code>selectByPrimaryKey</code> to ensure that it cannot get a null parameter. And other <code>selectByPrimary(id)</code> is OK.</p>\n"}],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697177455,"creation_date":1621522000,"question_id":67622739,"body_markdown":"Today I found the same http request to the backend api server, sometimes it could fetch the article, sometimes it could not fetch the article, this is my code:\r\n\r\n\r\n\r\n\r\n    Article article = articleMapper.selectByPrimaryKey(id);\r\n\r\n\r\n\r\nand this is the code generate automaticlly using MyBatis Generator:\r\n\r\n\r\n\r\n     &lt;select id=&quot;selectByPrimaryKey&quot; parameterType=&quot;java.lang.Long&quot; resultMap=&quot;BaseResultMap&quot;&gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n        --&gt;\r\n        select \r\n        &lt;include refid=&quot;Base_Column_List&quot; /&gt;\r\n        from article\r\n        where id = #{id,jdbcType=BIGINT}\r\n      &lt;/select&gt;\r\n\r\n\r\nthe same http request, with the same article id. I do not know where is going wrong.My PostgreSQL version is 13. And this is my auto generate xml config:\r\n\r\n\r\n\r\n     &lt;table tableName=&quot;article&quot;\r\n                enableCountByExample=&quot;true&quot;\r\n                enableUpdateByExample=&quot;true&quot;\r\n                enableDeleteByExample=&quot;true&quot;\r\n                enableSelectByExample=&quot;true&quot;\r\n                selectByExampleQueryId=&quot;true&quot;&gt;\r\n                &lt;generatedKey column=&quot;ID&quot; sqlStatement=&quot;JDBC&quot; identity=&quot;true&quot; /&gt;\r\n            &lt;/table&gt;\r\n\r\n\r\n\r\nany clue to figure out what wrong with the code? I am a newbie about PostgreSQL as backend database.\r\n\r\n\r\n* Does the article with the id you&#39;re querying for exist? Yes, I am sure the ID exists.\r\n\r\n\r\n* Could there be concurrent modifications? No, It is impossible. I will never edit the article after write into database. No transactions,The article is an old article.\r\n\r\n\r\n\r\n\r\n\r\n","title":"MyBatis could not get record when using selectByPrimaryKey ocassionally","body":"<p>Today I found the same http request to the backend api server, sometimes it could fetch the article, sometimes it could not fetch the article, this is my code:</p>\n<pre><code>Article article = articleMapper.selectByPrimaryKey(id);\n</code></pre>\n<p>and this is the code generate automaticlly using MyBatis Generator:</p>\n<pre><code> &lt;select id=&quot;selectByPrimaryKey&quot; parameterType=&quot;java.lang.Long&quot; resultMap=&quot;BaseResultMap&quot;&gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n    --&gt;\n    select \n    &lt;include refid=&quot;Base_Column_List&quot; /&gt;\n    from article\n    where id = #{id,jdbcType=BIGINT}\n  &lt;/select&gt;\n</code></pre>\n<p>the same http request, with the same article id. I do not know where is going wrong.My PostgreSQL version is 13. And this is my auto generate xml config:</p>\n<pre><code> &lt;table tableName=&quot;article&quot;\n            enableCountByExample=&quot;true&quot;\n            enableUpdateByExample=&quot;true&quot;\n            enableDeleteByExample=&quot;true&quot;\n            enableSelectByExample=&quot;true&quot;\n            selectByExampleQueryId=&quot;true&quot;&gt;\n            &lt;generatedKey column=&quot;ID&quot; sqlStatement=&quot;JDBC&quot; identity=&quot;true&quot; /&gt;\n        &lt;/table&gt;\n</code></pre>\n<p>any clue to figure out what wrong with the code? I am a newbie about PostgreSQL as backend database.</p>\n<ul>\n<li><p>Does the article with the id you're querying for exist? Yes, I am sure the ID exists.</p>\n</li>\n<li><p>Could there be concurrent modifications? No, It is impossible. I will never edit the article after write into database. No transactions,The article is an old article.</p>\n</li>\n</ul>\n"},{"tags":["java","groovy","intellij-idea"],"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":2,"creation_date":1616754629,"post_id":5010362,"comment_id":118107767,"body_markdown":"Please re-read the answers. Since at least 2016.3, there is a much better way. See answer from @Birchlabs for details. It should now be the accepted answer.","body":"Please re-read the answers. Since at least 2016.3, there is a much better way. See answer from @Birchlabs for details. It should now be the accepted answer."},{"owner":{"account_id":4534566,"reputation":4099,"user_id":3684132,"accept_rate":63,"display_name":"BAERUS"},"score":1,"creation_date":1630055022,"post_id":5010362,"comment_id":121856324,"body_markdown":"Agreed, birchlabs answer is exactly what&#39;s asked for. Helped me out a lot, wonderful!","body":"Agreed, birchlabs answer is exactly what&#39;s asked for. Helped me out a lot, wonderful!"}],"answers":[{"comments":[{"owner":{"account_id":87908,"reputation":21547,"user_id":243494,"accept_rate":81,"display_name":"Kyle"},"score":4,"creation_date":1297811481,"post_id":5010479,"comment_id":5601302,"body_markdown":"Nothing seems to show up in either the &quot;Variables&quot; or the &quot;Watches&quot; tabs. I am using Groovy if that matters.  Also, this seems like it will show the return value of the last method executed from the context of the calling code, rather than from the context of the method itself.  The important difference of this is that if you can see it from the context of the method itself, you can also look at the values of the local variables of the method. This could allow you to see what went wrong if the method is returning an incorrect value.","body":"Nothing seems to show up in either the &quot;Variables&quot; or the &quot;Watches&quot; tabs. I am using Groovy if that matters.  Also, this seems like it will show the return value of the last method executed from the context of the calling code, rather than from the context of the method itself.  The important difference of this is that if you can see it from the context of the method itself, you can also look at the values of the local variables of the method. This could allow you to see what went wrong if the method is returning an incorrect value."},{"owner":{"account_id":189124,"reputation":2471,"user_id":428272,"accept_rate":50,"display_name":"Omri Spector"},"score":3,"creation_date":1394528623,"post_id":5010479,"comment_id":33918947,"body_markdown":"It shows the return value in the &quot;Variables&quot; pane (using fully qualified method name). This should have been the accepted answer.\n@CrazyCoder +1 from me :-)","body":"It shows the return value in the &quot;Variables&quot; pane (using fully qualified method name). This should have been the accepted answer. @CrazyCoder +1 from me :-)"},{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":4,"creation_date":1408348472,"post_id":5010479,"comment_id":39538785,"body_markdown":"@CrazyCoder: Does this feature still exist for IDEA 13?  I cannot find it.","body":"@CrazyCoder: Does this feature still exist for IDEA 13?  I cannot find it."},{"owner":{"account_id":1345865,"reputation":68508,"user_id":1286639,"accept_rate":64,"display_name":"GoZoner"},"score":0,"creation_date":1441122707,"post_id":5010479,"comment_id":52546021,"body_markdown":"@kevinarpe It is on the debugger settings popup menu, top item.","body":"@kevinarpe It is on the debugger settings popup menu, top item."},{"owner":{"account_id":83972,"reputation":1932,"user_id":235041,"accept_rate":75,"display_name":"Sanjiv Jivan"},"score":1,"creation_date":1445545287,"post_id":5010479,"comment_id":54380082,"body_markdown":"I&#39;m on Intellij 15 and don&#39;t see this as well. Can you post a screenshot?","body":"I&#39;m on Intellij 15 and don&#39;t see this as well. Can you post a screenshot?"},{"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"score":0,"creation_date":1465514870,"post_id":5010479,"comment_id":62946402,"body_markdown":"I am using IntelliJ 15.0.4 on mac. Nothing changes on selecting &#39;Watch method return values&#39; though I vaguely remember this working in previous versions.","body":"I am using IntelliJ 15.0.4 on mac. Nothing changes on selecting &#39;Watch method return values&#39; though I vaguely remember this working in previous versions."},{"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"score":4,"creation_date":1484648800,"post_id":5010479,"comment_id":70585191,"body_markdown":"in Jan 2017 (Idea 2016.3.2): you have to click on the Settings icon (the gear, right above the yellow menu item on the 2nd image), an a menu shows that includes &quot;Show Method Return Values&quot;. No need to restart anything: after the next return from a method, its ObjectClassName.methodName() appears in the Variables view right below __this__.","body":"in Jan 2017 (Idea 2016.3.2): you have to click on the Settings icon (the gear, right above the yellow menu item on the 2nd image), an a menu shows that includes &quot;Show Method Return Values&quot;. No need to restart anything: after the next return from a method, its ObjectClassName.methodName() appears in the Variables view right below <b>this</b>."}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":7,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1683737832,"creation_date":1297810286,"answer_id":5010479,"question_id":5010362,"body_markdown":"There is **Watch method return values** button available in the [debugger panel][1].\r\n\r\n&gt; **Watch method return values**: Click this button to watch return values of the last executed method.\r\n\r\n![watch method return values][2]\r\n\r\nSince IDEA version 12, it is found in the debugger panel&#39;s Settings menu (the gear icon in the bottom left) which includes &quot;Show Method Return Values&quot;\r\n\r\n  [1]: http://www.jetbrains.com/idea/webhelp/debug-tool-window-variables.html\r\n  [2]: http://i.stack.imgur.com/wH2F5.png\r\n  [3]: http://i.stack.imgur.com/6Nm3c.png","title":"Can I find out the return value before returning while debugging in IntelliJ?","body":"<p>There is <strong>Watch method return values</strong> button available in the <a href=\"http://www.jetbrains.com/idea/webhelp/debug-tool-window-variables.html\" rel=\"nofollow noreferrer\">debugger panel</a>.</p>\n<blockquote>\n<p><strong>Watch method return values</strong>: Click this button to watch return values of the last executed method.</p>\n</blockquote>\n<p><img src=\"https://i.stack.imgur.com/wH2F5.png\" alt=\"watch method return values\" /></p>\n<p>Since IDEA version 12, it is found in the debugger panel's Settings menu (the gear icon in the bottom left) which includes &quot;Show Method Return Values&quot;</p>\n"},{"comments":[{"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"score":1,"creation_date":1400695793,"post_id":5011418,"comment_id":36590760,"body_markdown":"Actually, once you have added a breakpoint and a watch to (new X()), then you can simply do Alt+F8 on that watch to &#39;analyze&#39; the returned object. This is really useful.","body":"Actually, once you have added a breakpoint and a watch to (new X()), then you can simply do Alt+F8 on that watch to &#39;analyze&#39; the returned object. This is really useful."},{"owner":{"account_id":103001,"reputation":2586,"user_id":276120,"accept_rate":50,"display_name":"Mashmagar"},"score":2,"creation_date":1527860599,"post_id":5011418,"comment_id":88299987,"body_markdown":"If I&#39;m understanding this correctly, the proposed solution here only works if the expression has no side effects. I definitely don&#39;t recommend putting complicated expressions in the variables/watch window in general.","body":"If I&#39;m understanding this correctly, the proposed solution here only works if the expression has no side effects. I definitely don&#39;t recommend putting complicated expressions in the variables/watch window in general."},{"owner":{"account_id":3708,"reputation":16857,"user_id":5382,"display_name":"Mikezx6r"},"score":4,"creation_date":1572873312,"post_id":5011418,"comment_id":103685172,"body_markdown":"Since at least 2016.3, there is a much better way. See answer from Birchlabs for details. It should now be the accepted answer.","body":"Since at least 2016.3, there is a much better way. See answer from Birchlabs for details. It should now be the accepted answer."},{"owner":{"account_id":7032595,"reputation":132,"user_id":5387752,"display_name":"Edvaaart"},"score":0,"creation_date":1667815552,"post_id":5011418,"comment_id":131249324,"body_markdown":"Although the suggested answer is applicable to many scenarios, I agree with @Mashmagar. There seem to be 3 potential issues with this approach: 1. If in `return withSideEffects()` has side effects or is timeconsuming, I do not always want to explicitly evaluate them twice (one the inspect the value and one when returning), 2. I want to know the return value before leaving the scope of the method from which we return,  3. beware of complicated expressions in the variables/watch window. They are susceptible to performance hits and side effects. I learned this the hard way.","body":"Although the suggested answer is applicable to many scenarios, I agree with @Mashmagar. There seem to be 3 potential issues with this approach: 1. If in <code>return withSideEffects()</code> has side effects or is timeconsuming, I do not always want to explicitly evaluate them twice (one the inspect the value and one when returning), 2. I want to know the return value before leaving the scope of the method from which we return,  3. beware of complicated expressions in the variables/watch window. They are susceptible to performance hits and side effects. I learned this the hard way."}],"tags":[],"owner":{"account_id":291176,"reputation":2015,"user_id":593172,"accept_rate":89,"display_name":"jluzwick"},"comment_count":4,"down_vote_count":2,"up_vote_count":35,"is_accepted":true,"score":33,"last_activity_date":1297818633,"creation_date":1297818117,"answer_id":5011418,"question_id":5010362,"body_markdown":"There seems to be a couple ways you can do this.  The first one involves setting up the breakpoint on the method signature, in your case you would setup a breakpoint on Object method(){  .  This will allow you to watch for the entrance and exit of the method.  I believe you have to use this in conjunction with &quot;**Watch method return values&quot;** like stated above, but I haven&#39;t been able to completely test this as it takes too long to compute. Beware, this does dramatically decrease the performance of the debugger and it will take longer to debug.\r\n\r\n\r\nAlso you can do the following manually. \r\n\r\n 1. Setup the breakpoint on the return line.\r\n 2. When the return line is hit, click on the return line, specifically put the cursor on the operation that you want to see, then go to Run-&gt;Evaluate Expression (or Alt-F8) and it should run the expression at that point and return what it&#39;s returning.\r\n\r\n**Note**: If you create a breakpoint, there are a lot of things you can tell IDEA to do with them, such as if you break on a breakpoint, you can tell them to perform an expression and log it.  You can look around with what you can do if you right-click on a breakpoint and click properties.\r\n\r\n***UPDATE***:\r\nTry this in conjunction with the first way of doing it.  Don&#39;t use &quot;Watch method return values&quot; as it seems to slow down or freeze up the debugging session.  Instead do the following\r\n\r\n 1. Right-click on the return expression you want to see and click &quot;Add to Watches&quot;\r\n 2. Next add a method breakpoint like stated above. \r\n 3. Debug your program and your method will break on the method signature. \r\n 4. Hit the F9 key for continue and it should break again ***AFTER*** the return expression has been computed and your return expression should be in the watch column.\r\n\r\nRemember that method breakpoints are slower so it might take more time, a tricky way to improve this if you are noticing too much of a performance hit is by just setting the return statement breakpoint (without having a method breakpoint) and then adding the method breakpoint ***AFTER*** the return statement breakpoint hits and then continuing.\r\n\r\n\r\nHope this helps,","title":"Can I find out the return value before returning while debugging in IntelliJ?","body":"<p>There seems to be a couple ways you can do this.  The first one involves setting up the breakpoint on the method signature, in your case you would setup a breakpoint on Object method(){  .  This will allow you to watch for the entrance and exit of the method.  I believe you have to use this in conjunction with \"<strong>Watch method return values\"</strong> like stated above, but I haven't been able to completely test this as it takes too long to compute. Beware, this does dramatically decrease the performance of the debugger and it will take longer to debug.</p>\n\n<p>Also you can do the following manually. </p>\n\n<ol>\n<li>Setup the breakpoint on the return line.</li>\n<li>When the return line is hit, click on the return line, specifically put the cursor on the operation that you want to see, then go to Run->Evaluate Expression (or Alt-F8) and it should run the expression at that point and return what it's returning.</li>\n</ol>\n\n<p><strong>Note</strong>: If you create a breakpoint, there are a lot of things you can tell IDEA to do with them, such as if you break on a breakpoint, you can tell them to perform an expression and log it.  You can look around with what you can do if you right-click on a breakpoint and click properties.</p>\n\n<p><em><strong>UPDATE</em></strong>:\nTry this in conjunction with the first way of doing it.  Don't use \"Watch method return values\" as it seems to slow down or freeze up the debugging session.  Instead do the following</p>\n\n<ol>\n<li>Right-click on the return expression you want to see and click \"Add to Watches\"</li>\n<li>Next add a method breakpoint like stated above. </li>\n<li>Debug your program and your method will break on the method signature. </li>\n<li>Hit the F9 key for continue and it should break again <strong><em>AFTER</em></strong> the return expression has been computed and your return expression should be in the watch column.</li>\n</ol>\n\n<p>Remember that method breakpoints are slower so it might take more time, a tricky way to improve this if you are noticing too much of a performance hit is by just setting the return statement breakpoint (without having a method breakpoint) and then adding the method breakpoint <strong><em>AFTER</em></strong> the return statement breakpoint hits and then continuing.</p>\n\n<p>Hope this helps,</p>\n"},{"comments":[{"owner":{"account_id":332422,"reputation":1916,"user_id":657723,"accept_rate":60,"display_name":"Ivan Balashov"},"score":3,"creation_date":1629799679,"post_id":36570524,"comment_id":121776607,"body_markdown":"Great! Any chance we could also make conditional breakpoints work with this? The use-case is to stop before function returns depending on its return value.","body":"Great! Any chance we could also make conditional breakpoints work with this? The use-case is to stop before function returns depending on its return value."},{"owner":{"account_id":7032595,"reputation":132,"user_id":5387752,"display_name":"Edvaaart"},"score":3,"creation_date":1667817408,"post_id":36570524,"comment_id":131249947,"body_markdown":"Can we get this to work without actually leaving the scope of the method we will be returning from? In this example I mean the scope of `Test#test()`. So I can inspect other variables used in that method that were potentially used to calculate the result? Due to possible side effects of `Test#rand()` I do not want to call `rand()` twice (once to watch the contents, and once when actually returning).","body":"Can we get this to work without actually leaving the scope of the method we will be returning from? In this example I mean the scope of <code>Test#test()</code>. So I can inspect other variables used in that method that were potentially used to calculate the result? Due to possible side effects of <code>Test#rand()</code> I do not want to call <code>rand()</code> twice (once to watch the contents, and once when actually returning)."}],"tags":[],"owner":{"account_id":6835055,"reputation":7617,"user_id":5257399,"accept_rate":80,"display_name":"Birchlabs"},"comment_count":2,"down_vote_count":2,"up_vote_count":246,"is_accepted":false,"score":244,"last_activity_date":1477408258,"creation_date":1460456814,"answer_id":36570524,"question_id":5010362,"body_markdown":"On IntelliJ IDEA 2016.3: it&#39;s hidden inside the cog button of the debug panel. Ensure `Show Method Return Values` is _checked_.\r\n\r\n[![IntelliJ IDEA 2016.3 &quot;Show Method Return Values&quot;][1]][1]\r\n\r\n\r\nUse the debugger to _break somewhere inside_ the function whose return value you&#39;d like to see.\r\n\r\n[![step into function][2]][2]\r\n\r\n_Step out_ of the function (or _step over_ until you escape):\r\n\r\n[![step out][3]][3]\r\n\r\nObserve that the return value appears in your variables:\r\n\r\n[![observe the return value][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5ei7C.png\r\n  [2]: https://i.stack.imgur.com/8vLIg.png\r\n  [3]: https://i.stack.imgur.com/83Fvi.png\r\n  [4]: https://i.stack.imgur.com/2qafi.png","title":"Can I find out the return value before returning while debugging in IntelliJ?","body":"<p>On IntelliJ IDEA 2016.3: it's hidden inside the cog button of the debug panel. Ensure <code>Show Method Return Values</code> is <em>checked</em>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5ei7C.png\"><img src=\"https://i.stack.imgur.com/5ei7C.png\" alt=\"IntelliJ IDEA 2016.3 &quot;Show Method Return Values&quot;\"></a></p>\n\n<p>Use the debugger to <em>break somewhere inside</em> the function whose return value you'd like to see.</p>\n\n<p><a href=\"https://i.stack.imgur.com/8vLIg.png\"><img src=\"https://i.stack.imgur.com/8vLIg.png\" alt=\"step into function\"></a></p>\n\n<p><em>Step out</em> of the function (or <em>step over</em> until you escape):</p>\n\n<p><a href=\"https://i.stack.imgur.com/83Fvi.png\"><img src=\"https://i.stack.imgur.com/83Fvi.png\" alt=\"step out\"></a></p>\n\n<p>Observe that the return value appears in your variables:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2qafi.png\"><img src=\"https://i.stack.imgur.com/2qafi.png\" alt=\"observe the return value\"></a></p>\n"},{"comments":[{"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"score":2,"creation_date":1548404766,"post_id":51396825,"comment_id":95537073,"body_markdown":"If you use an Intel graphic chip this keyboard shortcut [will shut down your secundary monitors](https://stackoverflow.com/questions/35108927/ctrl-alt-f8-disconnects-displays).","body":"If you use an Intel graphic chip this keyboard shortcut <a href=\"https://stackoverflow.com/questions/35108927/ctrl-alt-f8-disconnects-displays\">will shut down your secundary monitors</a>."},{"owner":{"account_id":9901019,"reputation":421,"user_id":7331042,"display_name":"Dmitriy Pavlukhin"},"score":3,"creation_date":1559907242,"post_id":51396825,"comment_id":99575742,"body_markdown":"Linux users: Ctrl+Alt+F8 - Will send user to the 2nd GUI Terminal. In Ubuntu I pressed Ctrl+Alt+F2 to return back.","body":"Linux users: Ctrl+Alt+F8 - Will send user to the 2nd GUI Terminal. In Ubuntu I pressed Ctrl+Alt+F2 to return back."}],"tags":[],"owner":{"account_id":2778814,"reputation":1045,"user_id":2391790,"accept_rate":70,"display_name":"unlimitednzt"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1664349394,"creation_date":1531901537,"answer_id":51396825,"question_id":5010362,"body_markdown":"This was asked a while ago, but I use a different method when I want to handle this situation.\r\n\r\nWhen debugging, you can mark the expression (in your case, the expression right after the &quot;return&quot;) and hit &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;ALT&lt;/kbd&gt; + &lt;kbd&gt;F8&lt;/kbd&gt; (Quick Evaluate Expression). IntelliJ will pop up a little window showing you the value that will be returned.","title":"Can I find out the return value before returning while debugging in IntelliJ?","body":"<p>This was asked a while ago, but I use a different method when I want to handle this situation.</p>\n<p>When debugging, you can mark the expression (in your case, the expression right after the &quot;return&quot;) and hit <kbd>CTRL</kbd> + <kbd>ALT</kbd> + <kbd>F8</kbd> (Quick Evaluate Expression). IntelliJ will pop up a little window showing you the value that will be returned.</p>\n"},{"tags":[],"owner":{"account_id":7032595,"reputation":132,"user_id":5387752,"display_name":"Edvaaart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667821290,"creation_date":1667821290,"answer_id":74346035,"question_id":5010362,"body_markdown":"Since the accepted answer did not exactly answer all my scenarios (or at least I could not get them to work reading the instructions) in which I need this, I felt free to also post an answer that solves it for my specific situation. \r\n\r\nI have some additional requirements when trying to inspect the return value. \r\n\r\n 1. I do not want to leave the scope of the method from which we return.\r\n \r\n 2. I do not want to call the\r\n    method in the return statement twice (once for inspecting and once\r\n    when actually returning) as nicely demonstrated by using `Math.random()` in the example.\r\n\r\nFor me the solution was rather unexpected. After fiddling around with **Step Over** (as opposed to **Step Out**), I came up with the following construction:\r\n\r\nInstead of using\r\n\r\n    private double rand() {\r\n    \treturn Math.random();\r\n    }\r\n\r\nI use\r\n\r\n    private double rand() {\r\n    \treturn \r\n          Math.random();\r\n    }\r\n\r\nWhen your cursor is at `Math.random()`, select **Step Over** and it will show the value in the watch window, without leaving the calling scope of the `rand()`.\r\n\r\nSo it appears the **Step Over** mentioned in the accepted answer does not solve the issue if the `return` keyword is on the same line as the expression you are trying to inspect. Which of course makes sense from a syntactic point of view. \r\n\r\nI guess this still might pose problems for autoformatters that  reduce those two lines to a single one, but for me this finally solved my debugging problem.","title":"Can I find out the return value before returning while debugging in IntelliJ?","body":"<p>Since the accepted answer did not exactly answer all my scenarios (or at least I could not get them to work reading the instructions) in which I need this, I felt free to also post an answer that solves it for my specific situation.</p>\n<p>I have some additional requirements when trying to inspect the return value.</p>\n<ol>\n<li><p>I do not want to leave the scope of the method from which we return.</p>\n</li>\n<li><p>I do not want to call the\nmethod in the return statement twice (once for inspecting and once\nwhen actually returning) as nicely demonstrated by using <code>Math.random()</code> in the example.</p>\n</li>\n</ol>\n<p>For me the solution was rather unexpected. After fiddling around with <strong>Step Over</strong> (as opposed to <strong>Step Out</strong>), I came up with the following construction:</p>\n<p>Instead of using</p>\n<pre><code>private double rand() {\n    return Math.random();\n}\n</code></pre>\n<p>I use</p>\n<pre><code>private double rand() {\n    return \n      Math.random();\n}\n</code></pre>\n<p>When your cursor is at <code>Math.random()</code>, select <strong>Step Over</strong> and it will show the value in the watch window, without leaving the calling scope of the <code>rand()</code>.</p>\n<p>So it appears the <strong>Step Over</strong> mentioned in the accepted answer does not solve the issue if the <code>return</code> keyword is on the same line as the expression you are trying to inspect. Which of course makes sense from a syntactic point of view.</p>\n<p>I guess this still might pose problems for autoformatters that  reduce those two lines to a single one, but for me this finally solved my debugging problem.</p>\n"},{"tags":[],"owner":{"account_id":19039335,"reputation":556,"user_id":13899808,"display_name":"H&#252;seyin Aydın"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683737550,"creation_date":1683732619,"answer_id":76220241,"question_id":5010362,"body_markdown":"You can add return line to watch list in order to see the result without returning. Follow the steps below:\r\n\r\n\r\n 1. Select the return line completely\r\n 2. Right click to selection\r\n 3. Select `Add to Watches`\r\n\r\nNow you can see the return result in debugger.\r\n\r\n","title":"Can I find out the return value before returning while debugging in IntelliJ?","body":"<p>You can add return line to watch list in order to see the result without returning. Follow the steps below:</p>\n<ol>\n<li>Select the return line completely</li>\n<li>Right click to selection</li>\n<li>Select <code>Add to Watches</code></li>\n</ol>\n<p>Now you can see the return result in debugger.</p>\n"}],"owner":{"account_id":87908,"reputation":21547,"user_id":243494,"accept_rate":81,"display_name":"Kyle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52862,"favorite_count":0,"down_vote_count":0,"up_vote_count":194,"accepted_answer_id":5011418,"answer_count":6,"score":194,"last_activity_date":1697176670,"creation_date":1297809560,"question_id":5010362,"body_markdown":"With:\r\n\r\n    Object method(){\r\n        ...\r\n        return /* some complex expression */\r\n    }\r\n\r\nIs there a way I can see what value will be returned while debugging? Like somehow set a breakpoint that would be hit right after the return, but before execution goes to the calling code?  I&#39;d like to be able to know what the return value is and also be able to see what values of all of the local variables are.\r\n\r\nThe way I do it now is by making a temporary variable: `Object ret = /* something complex */; return ret;`. But that&#39;s a hassle and also adds an extra unnecessary line of code.\r\n\r\n\r\nNote: This is the same question as https://stackoverflow.com/questions/268048/can-i-find-out-the-return-value-before-returning-while-debugging-in-visual-studio, but for IntelliJ.","title":"Can I find out the return value before returning while debugging in IntelliJ?","body":"<p>With:</p>\n<pre><code>Object method(){\n    ...\n    return /* some complex expression */\n}\n</code></pre>\n<p>Is there a way I can see what value will be returned while debugging? Like somehow set a breakpoint that would be hit right after the return, but before execution goes to the calling code?  I'd like to be able to know what the return value is and also be able to see what values of all of the local variables are.</p>\n<p>The way I do it now is by making a temporary variable: <code>Object ret = /* something complex */; return ret;</code>. But that's a hassle and also adds an extra unnecessary line of code.</p>\n<p>Note: This is the same question as <a href=\"https://stackoverflow.com/questions/268048/can-i-find-out-the-return-value-before-returning-while-debugging-in-visual-studio\">Can I find out the return value before returning while debugging in Visual Studio?</a>, but for IntelliJ.</p>\n"},{"tags":["java","android-studio","keyboard","android-softkeyboard","android-custom-keyboard"],"owner":{"account_id":21229242,"reputation":1,"user_id":15614284,"display_name":"AhsanSheikh6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697176225,"creation_date":1697176225,"question_id":77285333,"body_markdown":"I have developed a custom keyboard and its sending stickers and gifs alright but the problem which is occurring is that whatsapp supports 512x512px stickers only and my mobile&#39;s massenger supports 420x420 stickers so, HOW do I know which app is currently running besides my custom keyboard so that I could send the correctly formatted stickers. Any help is appreciated and if any other approach might be viable so please do tell. Thank you \r\n\r\nI have tried numerous things but some code only give the name which is on top of the stack which in this case is my keyboard but I cant get the name of current opened massenger app&#39;s name","title":"How to get the name of current opened application in android studio","body":"<p>I have developed a custom keyboard and its sending stickers and gifs alright but the problem which is occurring is that whatsapp supports 512x512px stickers only and my mobile's massenger supports 420x420 stickers so, HOW do I know which app is currently running besides my custom keyboard so that I could send the correctly formatted stickers. Any help is appreciated and if any other approach might be viable so please do tell. Thank you</p>\n<p>I have tried numerous things but some code only give the name which is on top of the stack which in this case is my keyboard but I cant get the name of current opened massenger app's name</p>\n"},{"tags":["java","maven","lombok"],"answers":[{"comments":[{"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"score":0,"creation_date":1450711599,"post_id":34396649,"comment_id":56539316,"body_markdown":"actually if I downgrade the logbook version to 1.14.8 it works, only the new version from 1.16 on does not work","body":"actually if I downgrade the logbook version to 1.14.8 it works, only the new version from 1.16 on does not work"},{"owner":{"account_id":3990113,"reputation":455,"user_id":3289354,"display_name":"liudongmiao"},"score":0,"creation_date":1467167039,"post_id":34396649,"comment_id":63614532,"body_markdown":"it&#39;s nothing with proc.","body":"it&#39;s nothing with proc."},{"owner":{"account_id":3342991,"reputation":1334,"user_id":2808815,"accept_rate":82,"display_name":"Joe Caruso"},"score":0,"creation_date":1693489247,"post_id":34396649,"comment_id":135770143,"body_markdown":"This solved my problem.","body":"This solved my problem."}],"tags":[],"owner":{"account_id":7297,"reputation":32778,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1450703866,"creation_date":1450703866,"answer_id":34396649,"question_id":34358689,"body_markdown":"Could it be that you&#39;ve specified `-proc:none` or explicitly specified annotation processors using `-processor &lt;processorclass&gt;` in your java compilation (javac)?","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>Could it be that you've specified <code>-proc:none</code> or explicitly specified annotation processors using <code>-processor &lt;processorclass&gt;</code> in your java compilation (javac)?</p>\n"},{"comments":[{"owner":{"account_id":3381550,"reputation":1165,"user_id":2838491,"accept_rate":29,"display_name":"joao cenoura"},"score":0,"creation_date":1453825499,"post_id":34417495,"comment_id":57764138,"body_markdown":"Experienced the same with maven 3.0.5, Netbeans 8.0.2, java 1.8.0_72-internal; OpenJDK 64-Bit Server VM 25.72-b05 and downgrading to 1.14.8 made maven compile correctly. I&#39;ve managed to compile a few time correctly with 1.16 but after a while it started to throw `error: cannot find symbol`","body":"Experienced the same with maven 3.0.5, Netbeans 8.0.2, java 1.8.0_72-internal; OpenJDK 64-Bit Server VM 25.72-b05 and downgrading to 1.14.8 made maven compile correctly. I&#39;ve managed to compile a few time correctly with 1.16 but after a while it started to throw <code>error: cannot find symbol</code>"},{"owner":{"account_id":3990113,"reputation":455,"user_id":3289354,"display_name":"liudongmiao"},"score":0,"creation_date":1467167012,"post_id":34417495,"comment_id":63614527,"body_markdown":"Just see my answer, and it will be fixed in lombok&#39;s next version.","body":"Just see my answer, and it will be fixed in lombok&#39;s next version."},{"owner":{"account_id":1939971,"reputation":1639,"user_id":1746384,"accept_rate":62,"display_name":"Artur Szymański"},"score":0,"creation_date":1468264497,"post_id":34417495,"comment_id":64045410,"body_markdown":"This solved my issue! In my case Getters and Setters were not generated in Android Studio.","body":"This solved my issue! In my case Getters and Setters were not generated in Android Studio."}],"tags":[],"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"comment_count":3,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1450792555,"creation_date":1450792555,"answer_id":34417495,"question_id":34358689,"body_markdown":"I have downgraded the lombok to 1.14.8 this version works with maven build, I havent found why the 1.16 verson is not working :( ","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>I have downgraded the lombok to 1.14.8 this version works with maven build, I havent found why the 1.16 verson is not working :( </p>\n"},{"comments":[{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":2,"creation_date":1464770161,"post_id":35019148,"comment_id":62614482,"body_markdown":"This solution is still valid with `maven-compiler-plugin:3.5.1`.","body":"This solution is still valid with <code>maven-compiler-plugin:3.5.1</code>."},{"owner":{"account_id":5066727,"reputation":3340,"user_id":4066662,"accept_rate":38,"display_name":"Fabian"},"score":2,"creation_date":1527644135,"post_id":35019148,"comment_id":88199493,"body_markdown":"I&#39;ve tried version `maven-compiler-plugin:3.5.1` and `maven-compiler-plugin:3.7.0` but only `maven-compiler-plugin:3.5` would work with Lombok for me","body":"I&#39;ve tried version <code>maven-compiler-plugin:3.5.1</code> and <code>maven-compiler-plugin:3.7.0</code> but only <code>maven-compiler-plugin:3.5</code> would work with Lombok for me"}],"tags":[],"owner":{"account_id":6743416,"reputation":421,"user_id":5195843,"display_name":"Andrew Onischenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1453826663,"creation_date":1453826663,"answer_id":35019148,"question_id":34358689,"body_markdown":"Had the same problem using maven-compiler-plugin v.2.3.2\r\nAfter updating the version up to 3.5 problem disappeared\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.5&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t...\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nHope this helps","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>Had the same problem using maven-compiler-plugin v.2.3.2\nAfter updating the version up to 3.5 problem disappeared</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.5&lt;/version&gt;\n    &lt;configuration&gt;\n        ...\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Hope this helps</p>\n"},{"comments":[{"owner":{"account_id":7297,"reputation":32778,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"score":2,"creation_date":1467186232,"post_id":36132959,"comment_id":63621741,"body_markdown":"A [pull request to solve this](https://github.com/rzwitserloot/lombok/pull/1138) has been merged and will be in lombok 1.16.9+. A [preview jar is available](https://projectlombok.org/download-edge.html) so please give it a try and give feedback.","body":"A <a href=\"https://github.com/rzwitserloot/lombok/pull/1138\" rel=\"nofollow noreferrer\">pull request to solve this</a> has been merged and will be in lombok 1.16.9+. A <a href=\"https://projectlombok.org/download-edge.html\" rel=\"nofollow noreferrer\">preview jar is available</a> so please give it a try and give feedback."}],"tags":[],"owner":{"account_id":3990113,"reputation":455,"user_id":3289354,"display_name":"liudongmiao"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466671461,"creation_date":1458568610,"answer_id":36132959,"question_id":34358689,"body_markdown":"In short, upgrade `maven-compiler-plugin` to up `2.4`, or downgrade `lombok` to below `1.14.*`.\r\n\r\n&lt;strike&gt;It seems that `maven-compiler-plugin` below `2.4` doesn&#39;t support `javax.annotation.processing.Processor` with a name with `$`.&lt;/strike&gt;\r\n\r\nUpdate: You can configuration `maven-compiler-plugin` to `fork`, or update `plexus-compiler-javac` to `1.8.6`. (`maven-compiler-plugin` `2.3.2` requires `1.8.1`, and `2.4` requires `1.8.6`)\r\n\r\nSince `1.16`, lombok uses `ShadowClassLoader`, which prevents the IDE promotion for lombok&#39;s internal class. However, it doesn&#39;t use the `ShadowClassLoader` if the classloader is `org.codehaus.plexus.compiler.javac.IsolatedClassLoader`. (I don&#39;t known why lombok guys use hard code to solve other issue *may* related with `plexus-compiler-javac`.)\r\n\r\n`maven-compiler-plugin` `2.4`, or rather,  `plexus-compiler-javac` `1.8.6`, doesn&#39;t use `org.codehaus.plexus.compiler.javac.IsolatedClassLoader`, so it works again.","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>In short, upgrade <code>maven-compiler-plugin</code> to up <code>2.4</code>, or downgrade <code>lombok</code> to below <code>1.14.*</code>.</p>\n\n<p><strike>It seems that <code>maven-compiler-plugin</code> below <code>2.4</code> doesn't support <code>javax.annotation.processing.Processor</code> with a name with <code>$</code>.</strike></p>\n\n<p>Update: You can configuration <code>maven-compiler-plugin</code> to <code>fork</code>, or update <code>plexus-compiler-javac</code> to <code>1.8.6</code>. (<code>maven-compiler-plugin</code> <code>2.3.2</code> requires <code>1.8.1</code>, and <code>2.4</code> requires <code>1.8.6</code>)</p>\n\n<p>Since <code>1.16</code>, lombok uses <code>ShadowClassLoader</code>, which prevents the IDE promotion for lombok's internal class. However, it doesn't use the <code>ShadowClassLoader</code> if the classloader is <code>org.codehaus.plexus.compiler.javac.IsolatedClassLoader</code>. (I don't known why lombok guys use hard code to solve other issue <em>may</em> related with <code>plexus-compiler-javac</code>.)</p>\n\n<p><code>maven-compiler-plugin</code> <code>2.4</code>, or rather,  <code>plexus-compiler-javac</code> <code>1.8.6</code>, doesn't use <code>org.codehaus.plexus.compiler.javac.IsolatedClassLoader</code>, so it works again.</p>\n"},{"comments":[{"owner":{"account_id":3990113,"reputation":455,"user_id":3289354,"display_name":"liudongmiao"},"score":2,"creation_date":1466671548,"post_id":37594029,"comment_id":63417512,"body_markdown":"It&#39;s not a issue related to jdk.","body":"It&#39;s not a issue related to jdk."},{"owner":{"account_id":2279339,"reputation":5596,"user_id":2004857,"accept_rate":43,"display_name":"Victor Basso"},"score":2,"creation_date":1467199199,"post_id":37594029,"comment_id":63630309,"body_markdown":"I see mentions to specific JDK versions on [lombok&#39;s changelog](https://projectlombok.org/changelog.html).\nIf someone knows why this specific issue can&#39;t be related to jdk, please share.","body":"I see mentions to specific JDK versions on <a href=\"https://projectlombok.org/changelog.html\" rel=\"nofollow noreferrer\">lombok&#39;s changelog</a>. If someone knows why this specific issue can&#39;t be related to jdk, please share."}],"tags":[],"owner":{"account_id":2279339,"reputation":5596,"user_id":2004857,"accept_rate":43,"display_name":"Victor Basso"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1464875893,"creation_date":1464875893,"answer_id":37594029,"question_id":34358689,"body_markdown":"In my case it was solved by upgrading JDK (was 1.8.0_66, now 1.8.0_92)","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>In my case it was solved by upgrading JDK (was 1.8.0_66, now 1.8.0_92)</p>\n"},{"tags":[],"owner":{"account_id":2791660,"reputation":29,"user_id":2401788,"display_name":"vishal"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1478583928,"creation_date":1478583928,"answer_id":40479806,"question_id":34358689,"body_markdown":"If you are using lombok annotations in static classes in that case you will have to mention the full name of the class ie. instead of `@Data` to `@lombok.Data` . This has worked for me.","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>If you are using lombok annotations in static classes in that case you will have to mention the full name of the class ie. instead of <code>@Data</code> to <code>@lombok.Data</code> . This has worked for me.</p>\n"},{"comments":[{"owner":{"account_id":1806699,"reputation":908,"user_id":1643670,"accept_rate":83,"display_name":"YingYang"},"score":1,"creation_date":1510569679,"post_id":40844182,"comment_id":81475523,"body_markdown":"+1 This solved my problem. There is another workaround mentioned in the comments that I use now: &quot;A work around is to create a static method that returns the builder in the class and use that one instead of the lombok generated one.&quot;","body":"+1 This solved my problem. There is another workaround mentioned in the comments that I use now: &quot;A work around is to create a static method that returns the builder in the class and use that one instead of the lombok generated one.&quot;"},{"owner":{"account_id":26545592,"reputation":176,"user_id":20175711,"display_name":"Not A Number"},"score":0,"creation_date":1673850475,"post_id":40844182,"comment_id":132581141,"body_markdown":"Experienced this with lombok v1.18.24, so static import of @Builder&#39;s issue is still relevant","body":"Experienced this with lombok v1.18.24, so static import of @Builder&#39;s issue is still relevant"}],"tags":[],"owner":{"account_id":95142,"reputation":543,"user_id":259294,"display_name":"Gilad Bar Orion"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1480338536,"creation_date":1480335593,"answer_id":40844182,"question_id":34358689,"body_markdown":"If you&#39;re using Lombok related static methods (mainly @Builder) with static imports, you might experience similar issues (even in other parts of your code!).\r\n\r\nThere is an open issue about it: https://github.com/rzwitserloot/lombok/issues/979\r\n\r\nThe current workaround is to simply not use static imports, e.g. change \r\n\r\n    import static my.org.Foo.FooBuilder\r\n     ...\r\n    FooBuilder builder = Foo.builder();\r\n\r\nto: \r\n\r\n    Foo.FooBuilder builder = Foo.builder(); // note &gt;&gt;Foo.&lt;&lt;FooBuilder; without static import\r\n\r\n","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>If you're using Lombok related static methods (mainly @Builder) with static imports, you might experience similar issues (even in other parts of your code!).</p>\n\n<p>There is an open issue about it: <a href=\"https://github.com/rzwitserloot/lombok/issues/979\" rel=\"noreferrer\">https://github.com/rzwitserloot/lombok/issues/979</a></p>\n\n<p>The current workaround is to simply not use static imports, e.g. change </p>\n\n<pre><code>import static my.org.Foo.FooBuilder\n ...\nFooBuilder builder = Foo.builder();\n</code></pre>\n\n<p>to: </p>\n\n<pre><code>Foo.FooBuilder builder = Foo.builder(); // note &gt;&gt;Foo.&lt;&lt;FooBuilder; without static import\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11828335,"reputation":71,"user_id":8655731,"display_name":"barney..gumble"},"score":0,"creation_date":1598345427,"post_id":45949974,"comment_id":112421212,"body_markdown":"In my case this solution worked for lombok annotations on nested classes.","body":"In my case this solution worked for lombok annotations on nested classes."}],"tags":[],"owner":{"account_id":11176081,"reputation":517,"user_id":8201635,"display_name":"B. Stackhouse"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1504051348,"creation_date":1504051348,"answer_id":45949974,"question_id":34358689,"body_markdown":"My solution was to prefix the annotation with lombok package name.\r\n\r\n    @lombok.Builder\r\n    @lombok.experimental.Accessors(prefix = &quot;m&quot;, chain = true)\r\n\r\nrather than\r\n\r\n    @Builder\r\n    @Accessors(prefix = &quot;m&quot;, chain = true)\r\n","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>My solution was to prefix the annotation with lombok package name.</p>\n\n<pre><code>@lombok.Builder\n@lombok.experimental.Accessors(prefix = \"m\", chain = true)\n</code></pre>\n\n<p>rather than</p>\n\n<pre><code>@Builder\n@Accessors(prefix = \"m\", chain = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496386,"reputation":378,"user_id":2172637,"accept_rate":79,"display_name":"0x52616A657368"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510609120,"creation_date":1510609120,"answer_id":47273992,"question_id":34358689,"body_markdown":"try to specify &lt;type&gt; parameter for &quot;lombok&quot; module within dependencies.I faced the same issue and resolved this by this work around.","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>try to specify  parameter for \"lombok\" module within dependencies.I faced the same issue and resolved this by this work around.</p>\n"},{"tags":[],"owner":{"account_id":5066727,"reputation":3340,"user_id":4066662,"accept_rate":38,"display_name":"Fabian"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1620813864,"creation_date":1527716866,"answer_id":50613789,"question_id":34358689,"body_markdown":"I was actually able to solve this by following an answer posted here :\r\n\r\nhttps://stackoverflow.com/questions/47676369\r\n\r\nBasically I had to add `lombok` to the `maven-compiler-plugin` `&lt;annotationProcessorPaths&gt;`","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>I was actually able to solve this by following an answer posted here :</p>\n<p><a href=\"https://stackoverflow.com/questions/47676369\">MapStruct and Lombok not working together</a></p>\n<p>Basically I had to add <code>lombok</code> to the <code>maven-compiler-plugin</code> <code>&lt;annotationProcessorPaths&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":16235797,"reputation":31,"user_id":11723321,"display_name":"朱正欢"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561980529,"creation_date":1561974376,"answer_id":56833405,"question_id":34358689,"body_markdown":"I don&#39;t know but for some reason it solves my problem.\r\n\r\nI have two classes that use @Builder to generate a build method. But one is normal, the other one is abnormal. I have checked everything and it seems ok.\r\nBut when I run `mvn` to compile my project, the error is as follows:\r\n\r\n&gt; Can&#39;t not find the symbol\r\nmethod builder()\r\n\r\n\r\n\r\n    import lombok.*;\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    class A {\r\n     \r\n    }\r\n\r\n\r\n    import lombok.*;\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    class B {\r\n     \r\n    }\r\n\r\nClass A compiles correctly, but Class B reports the problem above.\r\n\r\nI tried to replace the version of the Lombok JAR, but even though I set the version to latest, it&#39;s not ok.\r\n\r\nSo, I tried to import Lombok per class that I reference. \r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    class B {\r\n     \r\n    }\r\n\r\nIt works! It seems a bug. ","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>I don't know but for some reason it solves my problem.</p>\n\n<p>I have two classes that use @Builder to generate a build method. But one is normal, the other one is abnormal. I have checked everything and it seems ok.\nBut when I run <code>mvn</code> to compile my project, the error is as follows:</p>\n\n<blockquote>\n  <p>Can't not find the symbol\n  method builder()</p>\n</blockquote>\n\n<pre><code>import lombok.*;\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\nclass A {\n\n}\n\n\nimport lombok.*;\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\nclass B {\n\n}\n</code></pre>\n\n<p>Class A compiles correctly, but Class B reports the problem above.</p>\n\n<p>I tried to replace the version of the Lombok JAR, but even though I set the version to latest, it's not ok.</p>\n\n<p>So, I tried to import Lombok per class that I reference. </p>\n\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\nclass B {\n\n}\n</code></pre>\n\n<p>It works! It seems a bug. </p>\n"},{"comments":[{"owner":{"account_id":19048,"reputation":1761,"user_id":44276,"display_name":"berlindev"},"score":0,"creation_date":1701082590,"post_id":66711307,"comment_id":136726664,"body_markdown":"I am using it with spring-boot, hibernate and vaadin, and this was the solution.\nlombok is currently in 1.18.30 and still a reliable tool!","body":"I am using it with spring-boot, hibernate and vaadin, and this was the solution. lombok is currently in 1.18.30 and still a reliable tool!"}],"tags":[],"owner":{"account_id":7533198,"reputation":1546,"user_id":5720532,"display_name":"Abderrazzak Nejeoui"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1616168558,"creation_date":1616168558,"answer_id":66711307,"question_id":34358689,"body_markdown":"For other users using JDK9 and above you should add annotationProcessorPaths to maven compiler plugin\r\n```\r\n&lt;annotationProcessorPaths&gt;\r\n\t&lt;path&gt;\r\n\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.18.16&lt;/version&gt;\r\n\t&lt;/path&gt;\r\n&lt;/annotationProcessorPaths&gt;\r\n```","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>For other users using JDK9 and above you should add annotationProcessorPaths to maven compiler plugin</p>\n<pre><code>&lt;annotationProcessorPaths&gt;\n    &lt;path&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.16&lt;/version&gt;\n    &lt;/path&gt;\n&lt;/annotationProcessorPaths&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647610022,"creation_date":1647610022,"answer_id":71527754,"question_id":34358689,"body_markdown":"For me the solution was, to **do not use** `import static` on lombok builder. Changing:\r\n\r\n    import static Foo.builder;\r\n\r\n    builder().id(1).build()\r\n\r\nTo:\r\n\r\n    Foo.builder().id(1).build()\r\n\r\n","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>For me the solution was, to <strong>do not use</strong> <code>import static</code> on lombok builder. Changing:</p>\n<pre><code>import static Foo.builder;\n\nbuilder().id(1).build()\n</code></pre>\n<p>To:</p>\n<pre><code>Foo.builder().id(1).build()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"score":0,"creation_date":1649185891,"post_id":71754878,"comment_id":126810892,"body_markdown":"This should be a comment and not an answer","body":"This should be a comment and not an answer"}],"tags":[],"owner":{"account_id":14969595,"reputation":21,"user_id":11359147,"display_name":"lucasheartcliff"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649173975,"creation_date":1649173975,"answer_id":71754878,"question_id":34358689,"body_markdown":"In my case i have got this error because a compile error in other class but the lombok was suppressing the real problem.\r\nI recommend you to take a look in your classes to find some error.\r\nI hope it helps you","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>In my case i have got this error because a compile error in other class but the lombok was suppressing the real problem.\nI recommend you to take a look in your classes to find some error.\nI hope it helps you</p>\n"},{"tags":[],"owner":{"account_id":271557,"reputation":12418,"user_id":562154,"accept_rate":75,"display_name":"Xiao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650347756,"creation_date":1650343918,"answer_id":71919832,"question_id":34358689,"body_markdown":"In my case, I fixed two config and it works.\r\n1. someone set compiler args to `-proc:none` in compiler args:\r\n\r\n   ```\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven_compiler_version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;compilerArgs&gt;\r\n                &lt;!--remove below compiler arg fixed my problem--&gt;\r\n    \t        &lt;compilerArg&gt;-proc:none&lt;/compilerArg&gt;\r\n    \t        &lt;compilerArg&gt;-parameters&lt;/compilerArg&gt;\r\n            &lt;/compilerArgs&gt;\r\n            &lt;fork&gt;true&lt;/fork&gt;\r\n            &lt;source&gt;${java_source_version}&lt;/source&gt;\r\n            &lt;target&gt;${java_target_version}&lt;/target&gt;\r\n            &lt;encoding&gt;${file_encoding}&lt;/encoding&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n2. `Build, Execution, Deployment` &gt; `Compiler` &gt; `Java Compiler` &gt; `Use compiler` is `Ajc`.\r\n\r\nI use lombok 1.18.24 and java 8.\r\n\r\nAfter remove `-proc:none` compiler argument and change compiler to `javac`, the project could be compiled in IDEA maven or in standalone maven.\r\n\r\n","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>In my case, I fixed two config and it works.</p>\n<ol>\n<li><p>someone set compiler args to <code>-proc:none</code> in compiler args:</p>\n<pre><code> &lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n     &lt;version&gt;${maven_compiler_version}&lt;/version&gt;\n     &lt;configuration&gt;\n         &lt;compilerArgs&gt;\n             &lt;!--remove below compiler arg fixed my problem--&gt;\n             &lt;compilerArg&gt;-proc:none&lt;/compilerArg&gt;\n             &lt;compilerArg&gt;-parameters&lt;/compilerArg&gt;\n         &lt;/compilerArgs&gt;\n         &lt;fork&gt;true&lt;/fork&gt;\n         &lt;source&gt;${java_source_version}&lt;/source&gt;\n         &lt;target&gt;${java_target_version}&lt;/target&gt;\n         &lt;encoding&gt;${file_encoding}&lt;/encoding&gt;\n     &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n</li>\n<li><p><code>Build, Execution, Deployment</code> &gt; <code>Compiler</code> &gt; <code>Java Compiler</code> &gt; <code>Use compiler</code> is <code>Ajc</code>.</p>\n</li>\n</ol>\n<p>I use lombok 1.18.24 and java 8.</p>\n<p>After remove <code>-proc:none</code> compiler argument and change compiler to <code>javac</code>, the project could be compiled in IDEA maven or in standalone maven.</p>\n"},{"tags":[],"owner":{"account_id":9630589,"reputation":1,"user_id":7148647,"display_name":"Tachiguishi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653259306,"creation_date":1653259306,"answer_id":72341767,"question_id":34358689,"body_markdown":"I designed the `&lt;annotationProcessor&gt;` in `maven-compiler-plugin`\r\n\r\n```xml\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;annotationProcessors&gt;\r\n          &lt;annotationProcessor&gt;lombok.launch.AnnotationProcessorHider$AnnotationProcessor&lt;/annotationProcessor&gt;\r\n        &lt;/annotationProcessors&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>I designed the <code>&lt;annotationProcessor&gt;</code> in <code>maven-compiler-plugin</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;annotationProcessors&gt;\n          &lt;annotationProcessor&gt;lombok.launch.AnnotationProcessorHider$AnnotationProcessor&lt;/annotationProcessor&gt;\n        &lt;/annotationProcessors&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684488093,"creation_date":1684488093,"answer_id":76287708,"question_id":34358689,"body_markdown":"*If none of the other (common) answers worked for you::* \r\n\r\n*(this is an Rare case thats Unlikely to fit yours)*\r\n\r\n1. Inside my project, I had a **java file** called `Comment.java`, \\\r\n   However, the inside of it is just **BLANK** \\\r\n   (or only comments, no `public class Comments`, no package declaration). \r\n1. Run `mvn install` (using right click on the project in Eclipse)\r\n1. -&gt; Fail \\\r\n   eg:: \r\n   ```\r\n   [ERROR] /G:/XXX/XXX/XXX/src/main/java/XXXX/SomeClassAA.java:[37,28] cannot find symbol\r\n   symbol:   method add(SomeClassBB)\r\n   ```\r\n1. -&gt; To solve this, dont use a Blank java class in your project.\r\n\r\n\\---\r\n\r\n- (Also, note, sometimes you need to run `mvn install` *twice*, \\\r\n  the 1st run fails for no reason, but 2nd run success. \\\r\n  Idk why (maybe doing mvn clean 1st time). &amp; Probably not be your case.)","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p><em>If none of the other (common) answers worked for you::</em></p>\n<p><em>(this is an Rare case thats Unlikely to fit yours)</em></p>\n<ol>\n<li>Inside my project, I had a <strong>java file</strong> called <code>Comment.java</code>, <br />\nHowever, the inside of it is just <strong>BLANK</strong> <br />\n(or only comments, no <code>public class Comments</code>, no package declaration).</li>\n<li>Run <code>mvn install</code> (using right click on the project in Eclipse)</li>\n<li>-&gt; Fail <br />\neg::\n<pre><code>[ERROR] /G:/XXX/XXX/XXX/src/main/java/XXXX/SomeClassAA.java:[37,28] cannot find symbol\nsymbol:   method add(SomeClassBB)\n</code></pre>\n</li>\n<li>-&gt; To solve this, dont use a Blank java class in your project.</li>\n</ol>\n<p>---</p>\n<ul>\n<li>(Also, note, sometimes you need to run <code>mvn install</code> <em>twice</em>, <br />\nthe 1st run fails for no reason, but 2nd run success. <br />\nIdk why (maybe doing mvn clean 1st time). &amp; Probably not be your case.)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15782199,"reputation":69,"user_id":11388213,"display_name":"Universe Whole-Xuan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697176169,"creation_date":1697176169,"answer_id":77285331,"question_id":34358689,"body_markdown":"In my case,I annotated @Nullable into Optional generic type.It seem not unsupported this &quot;Target&quot;.\r\n\r\n    public record DTO(Optional&lt;@Nullable Integer&gt; userId){\r\n    }\r\n\r\n","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>In my case,I annotated @Nullable into Optional generic type.It seem not unsupported this &quot;Target&quot;.</p>\n<pre><code>public record DTO(Optional&lt;@Nullable Integer&gt; userId){\n}\n</code></pre>\n"}],"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51935,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":34417495,"answer_count":18,"score":42,"last_activity_date":1697176169,"creation_date":1450451750,"question_id":34358689,"body_markdown":"I&#39;m using project lombok for the first time and I have problems compiling the project via maven when I run the build I receive errors where methods annotated with project lombok annotations are called.\r\n\r\nThis is the annotated parameter:\r\n\r\n    \tprivate @Getter @Setter String paymentNonce = null;\r\n\r\nand in this line for example the maven breaks the build:\r\n\r\n\t\r\n\r\n    if (!StringUtilities.isNullOrEmpty(getPaymentNonce())) {\r\n\r\nthis is my maven dependency \r\n\r\n    &lt;dependency&gt; \r\n\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.16.4&lt;/version&gt; \r\n\t&lt;/dependency&gt;\r\n\r\nthe maven error:\r\n\r\n    \r\n\r\n    [INFO] Compiling 158 source files to C:\\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\target\\classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR :\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\PaymentProcessor.java:[94,38] error: cannot find symbol\r\n    [ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\PaymentProcessor.java:[97,106] error: cannot find symbol\r\n    [ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\PaymentProcessor.java:[142,2] error: cannot find symbol\r\n    [ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\ShoppingCart.java:[27,6] error: cannot find symbol\r\n    [ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\ShoppingCart.java:[32,75] error: cannot find symbol\r\n    .....\r\n    \r\nI&#39;m using java 8","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>I'm using project lombok for the first time and I have problems compiling the project via maven when I run the build I receive errors where methods annotated with project lombok annotations are called.</p>\n\n<p>This is the annotated parameter:</p>\n\n<pre><code>    private @Getter @Setter String paymentNonce = null;\n</code></pre>\n\n<p>and in this line for example the maven breaks the build:</p>\n\n<pre><code>if (!StringUtilities.isNullOrEmpty(getPaymentNonce())) {\n</code></pre>\n\n<p>this is my maven dependency </p>\n\n<pre><code>&lt;dependency&gt; \n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.16.4&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n\n<p>the maven error:</p>\n\n<pre><code>[INFO] Compiling 158 source files to C:\\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\target\\classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\PaymentProcessor.java:[94,38] error: cannot find symbol\n[ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\PaymentProcessor.java:[97,106] error: cannot find symbol\n[ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\PaymentProcessor.java:[142,2] error: cannot find symbol\n[ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\ShoppingCart.java:[27,6] error: cannot find symbol\n[ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\ShoppingCart.java:[32,75] error: cannot find symbol\n.....\n</code></pre>\n\n<p>I'm using java 8</p>\n"},{"tags":["java","c++","ffi","project-panama","java-21"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":7,"creation_date":1696936303,"post_id":77264229,"comment_id":136213551,"body_markdown":"Your `FunctionDescriptor.of(ADDRESS, ADDRESS, JAVA_LONG)` is wrong. The native function does not return an address, but the point itself. Note that the “address” you are trying to dereference, i.e. `38654705673` is exactly `9L &lt;&lt; 32 | 9L`, in other words, the expected max point but interpreted wrong.","body":"Your <code>FunctionDescriptor.of(ADDRESS, ADDRESS, JAVA_LONG)</code> is wrong. The native function does not return an address, but the point itself. Note that the “address” you are trying to dereference, i.e. <code>38654705673</code> is exactly <code>9L &lt;&lt; 32 | 9L</code>, in other words, the expected max point but interpreted wrong."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":4,"creation_date":1696968001,"post_id":77264229,"comment_id":136219639,"body_markdown":"As Holger says, the function descriptor is incorrect here, should be `FunctionDescriptor.of(structLayout, ADDRESS, JAVA_LONG)` (assuming your native `long` is 64 bits). Additionally, the C++ ABI is not supported. Linking against C++ functions might work, but you&#39;re better off specifying C linkage using `extern &quot;C&quot;` (and then watch out for any warnings about incompatible ABI).","body":"As Holger says, the function descriptor is incorrect here, should be <code>FunctionDescriptor.of(structLayout, ADDRESS, JAVA_LONG)</code> (assuming your native <code>long</code> is 64 bits). Additionally, the C++ ABI is not supported. Linking against C++ functions might work, but you&#39;re better off specifying C linkage using <code>extern &quot;C&quot;</code> (and then watch out for any warnings about incompatible ABI)."},{"owner":{"account_id":21399443,"reputation":73,"user_id":15761878,"display_name":"jdragon"},"score":0,"creation_date":1696998827,"post_id":77264229,"comment_id":136222634,"body_markdown":"Thank you very much for your help. I have approved my code and made the necessary modifications as per your instructions. I added my modification method in the description, is there anything wrong with me?","body":"Thank you very much for your help. I have approved my code and made the necessary modifications as per your instructions. I added my modification method in the description, is there anything wrong with me?"}],"answers":[{"tags":[],"owner":{"account_id":21399443,"reputation":73,"user_id":15761878,"display_name":"jdragon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697175476,"creation_date":1697175476,"answer_id":77285281,"question_id":77264229,"body_markdown":"Fortunately, with the help of Holger and Jorn Vernee, I modified the code and successfully ran it. The following modifications have been made\r\n\r\n```C\r\nextern &quot;C&quot; MATHLIBRARY_API Point test_point(Point points[], long count);\r\n```\r\n\r\n```java\r\npublic static void dereferenceSegmentsStruct() throws Throwable {\r\n    StructLayout structLayout = MemoryLayout.structLayout(\r\n            JAVA_INT.withName(&quot;x&quot;),\r\n            JAVA_INT.withName(&quot;y&quot;));\r\n\r\n    MethodHandle test_point = linker.downcallHandle(\r\n            symbolLookup.find(&quot;test_point&quot;).orElseThrow(),\r\n            FunctionDescriptor.of(structLayout, ADDRESS, JAVA_LONG)\r\n    );\r\n\r\n    SequenceLayout ptsLayout = MemoryLayout.sequenceLayout(10, structLayout);\r\n\r\n    VarHandle xHandle    // (MemorySegment, long) -&gt; int\r\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\r\n            PathElement.groupElement(&quot;x&quot;));\r\n    VarHandle yHandle    // (MemorySegment, long) -&gt; int\r\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\r\n            PathElement.groupElement(&quot;y&quot;));\r\n\r\n    MemorySegment segment = Arena.ofAuto().allocate(ptsLayout);\r\n    for (int i = 0; i &lt; ptsLayout.elementCount(); i++) {\r\n        xHandle.set(segment,\r\n                /* index */ (long) i,\r\n                /* value to write */ i); // x\r\n        yHandle.set(segment,\r\n                /* index */ (long) i,\r\n                /* value to write */ i); // y\r\n    }\r\n    SegmentAllocator allocator = SegmentAllocator.slicingAllocator(Arena.ofAuto().allocate(100));\r\n    MemorySegment result = (MemorySegment) test_point.invoke(allocator, segment, ptsLayout.elementCount());\r\n    System.out.println(result);\r\n    result = result.reinterpret(structLayout.byteSize());\r\n    VarHandle resultX    // (MemorySegment, long) -&gt; int\r\n            = structLayout.varHandle(PathElement.groupElement(&quot;x&quot;));\r\n    VarHandle resultY    // (MemorySegment, long) -&gt; int\r\n            = structLayout.varHandle(PathElement.groupElement(&quot;y&quot;));\r\n    System.out.println(StringTemplate.STR. &quot;\\{ resultX.get(result) }:\\{ resultY.get(result) }&quot; );\r\n}\r\n```\r\n\r\n","title":"How to get a C++ struct return value from Java using the Foreign Function &amp; Memory API","body":"<p>Fortunately, with the help of Holger and Jorn Vernee, I modified the code and successfully ran it. The following modifications have been made</p>\n<pre><code>extern &quot;C&quot; MATHLIBRARY_API Point test_point(Point points[], long count);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void dereferenceSegmentsStruct() throws Throwable {\n    StructLayout structLayout = MemoryLayout.structLayout(\n            JAVA_INT.withName(&quot;x&quot;),\n            JAVA_INT.withName(&quot;y&quot;));\n\n    MethodHandle test_point = linker.downcallHandle(\n            symbolLookup.find(&quot;test_point&quot;).orElseThrow(),\n            FunctionDescriptor.of(structLayout, ADDRESS, JAVA_LONG)\n    );\n\n    SequenceLayout ptsLayout = MemoryLayout.sequenceLayout(10, structLayout);\n\n    VarHandle xHandle    // (MemorySegment, long) -&gt; int\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\n            PathElement.groupElement(&quot;x&quot;));\n    VarHandle yHandle    // (MemorySegment, long) -&gt; int\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\n            PathElement.groupElement(&quot;y&quot;));\n\n    MemorySegment segment = Arena.ofAuto().allocate(ptsLayout);\n    for (int i = 0; i &lt; ptsLayout.elementCount(); i++) {\n        xHandle.set(segment,\n                /* index */ (long) i,\n                /* value to write */ i); // x\n        yHandle.set(segment,\n                /* index */ (long) i,\n                /* value to write */ i); // y\n    }\n    SegmentAllocator allocator = SegmentAllocator.slicingAllocator(Arena.ofAuto().allocate(100));\n    MemorySegment result = (MemorySegment) test_point.invoke(allocator, segment, ptsLayout.elementCount());\n    System.out.println(result);\n    result = result.reinterpret(structLayout.byteSize());\n    VarHandle resultX    // (MemorySegment, long) -&gt; int\n            = structLayout.varHandle(PathElement.groupElement(&quot;x&quot;));\n    VarHandle resultY    // (MemorySegment, long) -&gt; int\n            = structLayout.varHandle(PathElement.groupElement(&quot;y&quot;));\n    System.out.println(StringTemplate.STR. &quot;\\{ resultX.get(result) }:\\{ resultY.get(result) }&quot; );\n}\n</code></pre>\n"}],"owner":{"account_id":21399443,"reputation":73,"user_id":15761878,"display_name":"jdragon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":77285281,"answer_count":1,"score":4,"last_activity_date":1697175476,"creation_date":1696927668,"question_id":77264229,"body_markdown":"When I try to get the struct return value in C++, I cannot resolve the value in the struct.\r\n\r\nThis is my structure.\r\n\r\n```C++\r\nstruct Point {\r\n    int x;\r\n    int y;\r\n};\r\n```\r\n\r\n\r\nThis is my C++ method\r\n\r\n```C++\r\nPoint test_point(Point points[],long count)\r\n{\r\n    if (count &lt;= 0) {\r\n        // Return a default Point with x and y set to 0\r\n        Point defaultPoint = { 0, 0 };\r\n        return defaultPoint;\r\n    }\r\n\r\n    Point maxPoint = points[0];\r\n    int maxSum = maxPoint.x + maxPoint.y;\r\n\r\n    for (int i = 1; i &lt; count; ++i) {\r\n        int currentSum = points[i].x + points[i].y;\r\n        if (currentSum &gt; maxSum) {\r\n            maxSum = currentSum;\r\n            maxPoint = points[i];\r\n        }\r\n    }\r\n\r\n    int x = maxPoint.x;\r\n    int y = maxPoint.y;\r\n    std::cout &lt;&lt; &quot;x = &quot; &lt;&lt; x &lt;&lt; &quot;, y = &quot; &lt;&lt; y &lt;&lt; std::endl;\r\n    return maxPoint;\r\n}\r\n```\r\n\r\nThis is my Java method\r\n\r\n```java\r\npublic static void dereferenceSegmentsStruct() throws Throwable {\r\n    Linker linker = Linker.nativeLinker();\r\n    SymbolLookup symbolLookup = SymbolLookup.loaderLookup();\r\n    MethodHandle test_point = linker.downcallHandle(\r\n            symbolLookup.find(&quot;test_point&quot;).orElseThrow(),\r\n            FunctionDescriptor.of(ADDRESS, ADDRESS, JAVA_LONG)\r\n    );\r\n\r\n    StructLayout structLayout = MemoryLayout.structLayout(\r\n            JAVA_INT.withName(&quot;x&quot;),\r\n            JAVA_INT.withName(&quot;y&quot;));\r\n\r\n    SequenceLayout ptsLayout = MemoryLayout.sequenceLayout(10, structLayout);\r\n\r\n    VarHandle xHandle    // (MemorySegment, long) -&gt; int\r\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\r\n            PathElement.groupElement(&quot;x&quot;));\r\n    VarHandle yHandle    // (MemorySegment, long) -&gt; int\r\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\r\n            PathElement.groupElement(&quot;y&quot;));\r\n\r\n    MemorySegment segment = Arena.ofAuto().allocate(ptsLayout);\r\n    for (int i = 0; i &lt; ptsLayout.elementCount(); i++) {\r\n        xHandle.set(segment,\r\n                /* index */ (long) i,\r\n                /* value to write */ i); // x\r\n        yHandle.set(segment,\r\n                /* index */ (long) i,\r\n                /* value to write */ i); // y\r\n    }\r\n\r\n    MemorySegment result = (MemorySegment) test_point.invoke(segment, ptsLayout.elementCount());\r\n    result = result.reinterpret(structLayout.byteSize());\r\n    System.out.println(result.getAtIndex(JAVA_INT, 0));\r\n}\r\n```\r\n\r\nI see zero length, I try to use a method to modify the zero length.\r\n\r\n\r\n[image](https://i.stack.imgur.com/i4fUW.png)\r\n\r\n\r\nI still can&#39;t get it, it gives the following error.\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Misaligned access at address: 38654705673\r\n\tat java.base/java.lang.invoke.VarHandleSegmentViewBase.newIllegalArgumentExceptionForMisalignedAccess(VarHandleSegmentViewBase.java:57)\r\n\tat java.base/java.lang.invoke.VarHandleSegmentAsInts.offsetNoVMAlignCheck(VarHandleSegmentAsInts.java:100)\r\n\tat java.base/java.lang.invoke.VarHandleSegmentAsInts.get(VarHandleSegmentAsInts.java:111)\r\n\tat java.base/java.lang.foreign.MemorySegment.getAtIndex(MemorySegment.java:1921)\r\n\tat org.example/org.example.TestNative.dereferenceSegmentsStruct(TestNative.java:109)\r\n\tat org.example/org.example.TestNative.main(TestNative.java:33)\r\n```\r\n\r\nWhat do I need to do to read the x and y of the Point returned in C++?\r\n\r\n\r\n","title":"How to get a C++ struct return value from Java using the Foreign Function &amp; Memory API","body":"<p>When I try to get the struct return value in C++, I cannot resolve the value in the struct.</p>\n<p>This is my structure.</p>\n<pre><code>struct Point {\n    int x;\n    int y;\n};\n</code></pre>\n<p>This is my C++ method</p>\n<pre><code>Point test_point(Point points[],long count)\n{\n    if (count &lt;= 0) {\n        // Return a default Point with x and y set to 0\n        Point defaultPoint = { 0, 0 };\n        return defaultPoint;\n    }\n\n    Point maxPoint = points[0];\n    int maxSum = maxPoint.x + maxPoint.y;\n\n    for (int i = 1; i &lt; count; ++i) {\n        int currentSum = points[i].x + points[i].y;\n        if (currentSum &gt; maxSum) {\n            maxSum = currentSum;\n            maxPoint = points[i];\n        }\n    }\n\n    int x = maxPoint.x;\n    int y = maxPoint.y;\n    std::cout &lt;&lt; &quot;x = &quot; &lt;&lt; x &lt;&lt; &quot;, y = &quot; &lt;&lt; y &lt;&lt; std::endl;\n    return maxPoint;\n}\n</code></pre>\n<p>This is my Java method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void dereferenceSegmentsStruct() throws Throwable {\n    Linker linker = Linker.nativeLinker();\n    SymbolLookup symbolLookup = SymbolLookup.loaderLookup();\n    MethodHandle test_point = linker.downcallHandle(\n            symbolLookup.find(&quot;test_point&quot;).orElseThrow(),\n            FunctionDescriptor.of(ADDRESS, ADDRESS, JAVA_LONG)\n    );\n\n    StructLayout structLayout = MemoryLayout.structLayout(\n            JAVA_INT.withName(&quot;x&quot;),\n            JAVA_INT.withName(&quot;y&quot;));\n\n    SequenceLayout ptsLayout = MemoryLayout.sequenceLayout(10, structLayout);\n\n    VarHandle xHandle    // (MemorySegment, long) -&gt; int\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\n            PathElement.groupElement(&quot;x&quot;));\n    VarHandle yHandle    // (MemorySegment, long) -&gt; int\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\n            PathElement.groupElement(&quot;y&quot;));\n\n    MemorySegment segment = Arena.ofAuto().allocate(ptsLayout);\n    for (int i = 0; i &lt; ptsLayout.elementCount(); i++) {\n        xHandle.set(segment,\n                /* index */ (long) i,\n                /* value to write */ i); // x\n        yHandle.set(segment,\n                /* index */ (long) i,\n                /* value to write */ i); // y\n    }\n\n    MemorySegment result = (MemorySegment) test_point.invoke(segment, ptsLayout.elementCount());\n    result = result.reinterpret(structLayout.byteSize());\n    System.out.println(result.getAtIndex(JAVA_INT, 0));\n}\n</code></pre>\n<p>I see zero length, I try to use a method to modify the zero length.</p>\n<p><a href=\"https://i.stack.imgur.com/i4fUW.png\" rel=\"nofollow noreferrer\">image</a></p>\n<p>I still can't get it, it gives the following error.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Misaligned access at address: 38654705673\n    at java.base/java.lang.invoke.VarHandleSegmentViewBase.newIllegalArgumentExceptionForMisalignedAccess(VarHandleSegmentViewBase.java:57)\n    at java.base/java.lang.invoke.VarHandleSegmentAsInts.offsetNoVMAlignCheck(VarHandleSegmentAsInts.java:100)\n    at java.base/java.lang.invoke.VarHandleSegmentAsInts.get(VarHandleSegmentAsInts.java:111)\n    at java.base/java.lang.foreign.MemorySegment.getAtIndex(MemorySegment.java:1921)\n    at org.example/org.example.TestNative.dereferenceSegmentsStruct(TestNative.java:109)\n    at org.example/org.example.TestNative.main(TestNative.java:33)\n</code></pre>\n<p>What do I need to do to read the x and y of the Point returned in C++?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1696953496,"post_id":77264239,"comment_id":136217203,"body_markdown":"You use very old versions of everything. It is probably hard to answer you after all these years for non-supported Apache Kafka and Spring library for that.","body":"You use very old versions of everything. It is probably hard to answer you after all these years for non-supported Apache Kafka and Spring library for that."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1697175619,"post_id":77264239,"comment_id":136249241,"body_markdown":"You can start by adding more logging for onPartitionsAssigned / revoked listeners","body":"You can start by adding more logging for onPartitionsAssigned / revoked listeners"}],"owner":{"account_id":6651681,"reputation":9,"user_id":5133470,"display_name":"pingzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697175426,"creation_date":1696927712,"question_id":77264239,"body_markdown":"kafka server 2.2.1\r\nkafka-clients 0.11.0.2\r\nspring-kafka 1.3.9.RELEASE\r\n\r\nconsumer.config \r\n\r\n```\r\nauto-offset-reset=latest\r\nenable-auto-commit=true\r\n```\r\n\r\none consumer-group consumes three topic (topic1, topic2, topic3)\r\n\r\ni consume from server with all 8 pods, and when one pod is killed because of OOM, consumer rebalance. After this, topic1 and topic2 are working, but topic3 not assigned to the consumer, causing topic3 message backlog.\r\n\r\nI ask why the problem is happening ","title":"Kafka rebalance after consumer no work on some topic","body":"<p>kafka server 2.2.1\nkafka-clients 0.11.0.2\nspring-kafka 1.3.9.RELEASE</p>\n<p>consumer.config</p>\n<pre><code>auto-offset-reset=latest\nenable-auto-commit=true\n</code></pre>\n<p>one consumer-group consumes three topic (topic1, topic2, topic3)</p>\n<p>i consume from server with all 8 pods, and when one pod is killed because of OOM, consumer rebalance. After this, topic1 and topic2 are working, but topic3 not assigned to the consumer, causing topic3 message backlog.</p>\n<p>I ask why the problem is happening</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":3,"creation_date":1697139100,"post_id":77283309,"comment_id":136245779,"body_markdown":"Not inline, but using the builder pattern makes it [fluent](https://www.baeldung.com/java-fluent-interface-vs-builder-pattern).","body":"Not inline, but using the builder pattern makes it <a href=\"https://www.baeldung.com/java-fluent-interface-vs-builder-pattern\" rel=\"nofollow noreferrer\">fluent</a>."},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1697139306,"post_id":77283309,"comment_id":136245806,"body_markdown":"You can take parameters in the Constructuor. Then you won&#39;t have to use setter. You would be able to write `userDetails.setResource_access(new ResourceAccess(new HbgDept (roleList)));`","body":"You can take parameters in the Constructuor. Then you won&#39;t have to use setter. You would be able to write <code>userDetails.setResource_access(new ResourceAccess(new HbgDept (roleList)));</code>"},{"owner":{"account_id":8903500,"reputation":1374,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"score":0,"creation_date":1697140730,"post_id":77283309,"comment_id":136246008,"body_markdown":"But I can not set roleList.","body":"But I can not set roleList."}],"answers":[{"tags":[],"owner":{"account_id":13606858,"reputation":161,"user_id":9815739,"display_name":"fjavierm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697139191,"creation_date":1697139191,"answer_id":77283411,"question_id":77283309,"body_markdown":"I imagine that something like this can be done, but is not pretty:\r\n\r\n`userDetails.setResource_access(new ResourceAccess(new HbgDept(roleList)));`\r\n\r\nAnother option can be:\r\n\r\n````\r\npublic class UserDetails {\r\n    ...\r\n    public void init_resource_access(List&lt;whatever-type&gt; roleList) {\r\n        resource_access = new ResourceAccess(new HbgDept(roleList)); \r\n    }\r\n...\r\n}\r\n\r\n// use it as\r\nuserDetails.init_resource_access(roleList);\r\n```","title":"How to initialize multiple objects in java as inline class initialization","body":"<p>I imagine that something like this can be done, but is not pretty:</p>\n<p><code>userDetails.setResource_access(new ResourceAccess(new HbgDept(roleList)));</code></p>\n<p>Another option can be:</p>\n<pre><code>public class UserDetails {\n    ...\n    public void init_resource_access(List&lt;whatever-type&gt; roleList) {\n        resource_access = new ResourceAccess(new HbgDept(roleList)); \n    }\n...\n}\n\n// use it as\nuserDetails.init_resource_access(roleList);\n```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697175364,"creation_date":1697175364,"answer_id":77285270,"question_id":77283309,"body_markdown":"Make _HbgDept_ the inner-class of _ResourceAccess_.\r\n\r\n```java\r\nclass ResourceAccess {\r\n    private HbgDept hbg_dept;\r\n\r\n    ResourceAccess(List&lt;String&gt; roles) {\r\n        hbg_dept = new HbgDept();\r\n        hbg_dept.setRoles(roleList);\r\n    }\r\n\r\n    class HbgDept {\r\n        private List&lt;String&gt; roles;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nuserDetails.setResource_access(new ResourceAccess(roleList));\r\n```","title":"How to initialize multiple objects in java as inline class initialization","body":"<p>Make <em>HbgDept</em> the inner-class of <em>ResourceAccess</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ResourceAccess {\n    private HbgDept hbg_dept;\n\n    ResourceAccess(List&lt;String&gt; roles) {\n        hbg_dept = new HbgDept();\n        hbg_dept.setRoles(roleList);\n    }\n\n    class HbgDept {\n        private List&lt;String&gt; roles;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>userDetails.setResource_access(new ResourceAccess(roleList));\n</code></pre>\n"}],"owner":{"account_id":8903500,"reputation":1374,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697175364,"creation_date":1697138128,"question_id":77283309,"body_markdown":"I have following data source:\r\n\r\n    &quot;resource_access&quot;: {\r\n        &quot;hbg-dept&quot;: {\r\n          &quot;roles&quot;: [\r\n            &quot;admin&quot;,\r\n            &quot;manager&quot;\r\n            \r\n          ]\r\n        }\r\n      },\r\n\r\nTo create a data model out of the above data source, I have created two class. Like:\r\n\r\n    public class ResourceAccess {\r\n      private HbgDept hbg_dept;\r\n    }\r\n\r\n    public class HbgDept {\r\n      private List&lt;String&gt; roles;\r\n    }\r\n\r\nAnd I am using ResourceAccess as a property in my UserDetails class. \r\n\r\n    public class UserDetails {\r\n      private String name;\r\n      private String preferred_username;\r\n      private String given_name;\r\n      private String family_name;\r\n      private String email;\r\n      private ResourceAccess resource_access;\r\n    }\r\n\r\nBut, when I try to embed data in resource_access in the UserDetails class. I need to initialize as follows:\r\n\r\n \r\n\r\n    HbgDept vwagKums = new HbgDept ();\r\n    HbgDept.setRoles(roleList);\r\n    \r\n    ResourceAccess resourceAccess = new ResourceAccess();\r\n    resourceAccess.sethbg_dept(vwagKums);\r\n    \r\n    userDetails.setResource_access(resourceAccess);\r\n\r\nMy question is, this why everything is working fine. But, is there some other way to initialize some better way? May be inline? I came from C# where I can initialize inline. But here I can not do so.\r\n\r\n","title":"How to initialize multiple objects in java as inline class initialization","body":"<p>I have following data source:</p>\n<pre><code>&quot;resource_access&quot;: {\n    &quot;hbg-dept&quot;: {\n      &quot;roles&quot;: [\n        &quot;admin&quot;,\n        &quot;manager&quot;\n        \n      ]\n    }\n  },\n</code></pre>\n<p>To create a data model out of the above data source, I have created two class. Like:</p>\n<pre><code>public class ResourceAccess {\n  private HbgDept hbg_dept;\n}\n\npublic class HbgDept {\n  private List&lt;String&gt; roles;\n}\n</code></pre>\n<p>And I am using ResourceAccess as a property in my UserDetails class.</p>\n<pre><code>public class UserDetails {\n  private String name;\n  private String preferred_username;\n  private String given_name;\n  private String family_name;\n  private String email;\n  private ResourceAccess resource_access;\n}\n</code></pre>\n<p>But, when I try to embed data in resource_access in the UserDetails class. I need to initialize as follows:</p>\n<pre><code>HbgDept vwagKums = new HbgDept ();\nHbgDept.setRoles(roleList);\n\nResourceAccess resourceAccess = new ResourceAccess();\nresourceAccess.sethbg_dept(vwagKums);\n\nuserDetails.setResource_access(resourceAccess);\n</code></pre>\n<p>My question is, this why everything is working fine. But, is there some other way to initialize some better way? May be inline? I came from C# where I can initialize inline. But here I can not do so.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4498330,"reputation":974,"user_id":4329912,"display_name":"Pubudu"},"score":0,"creation_date":1697144731,"post_id":77283640,"comment_id":136246621,"body_markdown":"Do you need to be able to refer to the transformed list afterwards? If so, don&#39;t think there&#39;s any way to simultaneously do both.","body":"Do you need to be able to refer to the transformed list afterwards? If so, don&#39;t think there&#39;s any way to simultaneously do both."},{"owner":{"account_id":12317129,"reputation":131,"user_id":8987189,"display_name":"Samakaab"},"score":0,"creation_date":1697147957,"post_id":77283640,"comment_id":136247028,"body_markdown":"Why on earth would you want to combine two totally different results in one go?","body":"Why on earth would you want to combine two totally different results in one go?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697159583,"creation_date":1697144772,"answer_id":77283849,"question_id":77283640,"body_markdown":"You can&#39;t return more than one type from a stream.  So you would need to house the information in a class or some other structure (e.g. a map).  Here I create a class to hold the results. `SummaryStatistics` does something similar.\r\n```\r\nint[] nums = {5,5,5,5,5};\r\nInfo&lt;Integer&gt; results = Arrays.stream(nums).boxed().reduce(new Info&lt;&gt;(),\r\n        Info::add,\r\n        (a,b)-&gt;a); // combiner - required but not used in this case\r\n\r\nSystem.out.println(results.getList());\r\nSystem.out.println(results.areAllTheSame());\r\n```\r\nprints\r\n```\r\n[5, 5, 5, 5, 5]\r\ntrue\r\n```\r\n\r\n- The `add()` method both adds the value to the list and increments count if the `item` matches the `first` value added. `count` defaults to `1`. It also returns `this` to simplify the `reduce` method since the accumulator is expected to return the updated value.\r\n- reduce first creates a class in which the values are stored.\r\n- `allAreTheSame()` returns the `boolean` resulting from comparing the count to the list size.\r\n```\r\nclass Info&lt;T&gt; {\r\n    private T first = null;\r\n    private List&lt;T&gt; list = new ArrayList&lt;&gt;();\r\n    private int count = 1;\r\n\r\n    public Info&lt;T&gt; add(T item) {\r\n        list.add(item);\r\n        if (first == null) {\r\n            first = item;\r\n        } else if (first == item) {\r\n            count++;\r\n        } \r\n        return this;\r\n    }\r\n    \r\n    public List&lt;T&gt; getList() {\r\n        return list;\r\n    }\r\n\r\n    public boolean areAllTheSame() {\r\n        return count == list.size();\r\n    }\r\n}\r\n\r\n\r\n","title":"How to run multiple operations on Java 8 stream calls","body":"<p>You can't return more than one type from a stream.  So you would need to house the information in a class or some other structure (e.g. a map).  Here I create a class to hold the results. <code>SummaryStatistics</code> does something similar.</p>\n<pre><code>int[] nums = {5,5,5,5,5};\nInfo&lt;Integer&gt; results = Arrays.stream(nums).boxed().reduce(new Info&lt;&gt;(),\n        Info::add,\n        (a,b)-&gt;a); // combiner - required but not used in this case\n\nSystem.out.println(results.getList());\nSystem.out.println(results.areAllTheSame());\n</code></pre>\n<p>prints</p>\n<pre><code>[5, 5, 5, 5, 5]\ntrue\n</code></pre>\n<ul>\n<li>The <code>add()</code> method both adds the value to the list and increments count if the <code>item</code> matches the <code>first</code> value added. <code>count</code> defaults to <code>1</code>. It also returns <code>this</code> to simplify the <code>reduce</code> method since the accumulator is expected to return the updated value.</li>\n<li>reduce first creates a class in which the values are stored.</li>\n<li><code>allAreTheSame()</code> returns the <code>boolean</code> resulting from comparing the count to the list size.</li>\n</ul>\n<pre><code>class Info&lt;T&gt; {\n    private T first = null;\n    private List&lt;T&gt; list = new ArrayList&lt;&gt;();\n    private int count = 1;\n\n    public Info&lt;T&gt; add(T item) {\n        list.add(item);\n        if (first == null) {\n            first = item;\n        } else if (first == item) {\n            count++;\n        } \n        return this;\n    }\n    \n    public List&lt;T&gt; getList() {\n        return list;\n    }\n\n    public boolean areAllTheSame() {\n        return count == list.size();\n    }\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697145987,"creation_date":1697145987,"answer_id":77283919,"question_id":77283640,"body_markdown":"You could use a teeeing collector to do both tasks simultaneously. Something like:\r\n\r\n    int[] nums = {6,5,5,5,5};\r\n    HashMap&lt;String, Object&gt; result = Arrays.stream(nums)\r\n                                           .boxed()\r\n                                           .collect(Collectors.teeing(\r\n                                                   Collectors.toList(),\r\n                                                   Collectors.filtering(i -&gt; i != 5,Collectors.counting()),\r\n                                                   (myList, count) -&gt; {\r\n                                                       HashMap&lt;String, Object&gt; map = new HashMap();\r\n                                                       map.put(&quot;myList&quot;, myList);\r\n                                                       map.put(&quot;myBool&quot;, count == 0);\r\n                                                       return map;})\r\n                                                   );\r\n\r\n    System.out.println(result.get(&quot;myList&quot;));\r\n    System.out.println(result.get(&quot;myBool&quot;));\r\n\r\n**But just because you can doesn’t mean you should** \r\n\r\nIt is much more understandable and cleaner not to combine two operations that give two completely different results, but to do them separately. There is nothing wrong with:\r\n\r\n    List&lt;Integer&gt; list = Arrays.stream(nums).boxed().toList();\r\n    boolean allFives = list.stream().allMatch(i -&gt; i == 5);","title":"How to run multiple operations on Java 8 stream calls","body":"<p>You could use a teeeing collector to do both tasks simultaneously. Something like:</p>\n<pre><code>int[] nums = {6,5,5,5,5};\nHashMap&lt;String, Object&gt; result = Arrays.stream(nums)\n                                       .boxed()\n                                       .collect(Collectors.teeing(\n                                               Collectors.toList(),\n                                               Collectors.filtering(i -&gt; i != 5,Collectors.counting()),\n                                               (myList, count) -&gt; {\n                                                   HashMap&lt;String, Object&gt; map = new HashMap();\n                                                   map.put(&quot;myList&quot;, myList);\n                                                   map.put(&quot;myBool&quot;, count == 0);\n                                                   return map;})\n                                               );\n\nSystem.out.println(result.get(&quot;myList&quot;));\nSystem.out.println(result.get(&quot;myBool&quot;));\n</code></pre>\n<p><strong>But just because you can doesn’t mean you should</strong></p>\n<p>It is much more understandable and cleaner not to combine two operations that give two completely different results, but to do them separately. There is nothing wrong with:</p>\n<pre><code>List&lt;Integer&gt; list = Arrays.stream(nums).boxed().toList();\nboolean allFives = list.stream().allMatch(i -&gt; i == 5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697174649,"creation_date":1697174649,"answer_id":77285230,"question_id":77283640,"body_markdown":"&gt; _&quot;... How can I combine the 2 where during `Arrays.stream()` not only do I convert it to `List&lt;Integer&gt;` but also track of all elements were same?&quot;_\r\n\r\nI guess you could assign _null_ to _l_ if _nums_ is not all _5_&#39;s.\r\n\r\n```java\r\nint []nums = { 1, 2, 3 };\r\nList&lt;Integer&gt; l\r\n    = IntStream.of(nums).allMatch(i-&gt;i == 5)\r\n    ? IntStream.of(nums).boxed().toList()\r\n    : null;\r\n```","title":"How to run multiple operations on Java 8 stream calls","body":"<blockquote>\n<p><em>&quot;... How can I combine the 2 where during <code>Arrays.stream()</code> not only do I convert it to <code>List&lt;Integer&gt;</code> but also track of all elements were same?&quot;</em></p>\n</blockquote>\n<p>I guess you could assign <em>null</em> to <em>l</em> if <em>nums</em> is not all <em>5</em>'s.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int []nums = { 1, 2, 3 };\nList&lt;Integer&gt; l\n    = IntStream.of(nums).allMatch(i-&gt;i == 5)\n    ? IntStream.of(nums).boxed().toList()\n    : null;\n</code></pre>\n"}],"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697174649,"creation_date":1697142186,"question_id":77283640,"body_markdown":"Say I am converting `int []nums` to `List&lt;Integer&gt;` using java 8 streams as\r\n```        \r\nList&lt;Integer&gt; l = Arrays.stream(nums).mapToObj(i-&gt;i).collect(Collectors.toList())\r\n```\r\n\r\nAlso say, I want to see a standalone operation if all elements in `List&lt;Integer&gt;` have a value of say `5`, I can do this I think\r\n`boolean match = list.stream().allMatch(s -&gt; s.equals(list.get(5)));`\r\n\r\nHow can I combine the 2 where during `Arrays.stream()` not only do I convert it to `List&lt;Integer&gt;` but also track of all elements were same?\r\n","title":"How to run multiple operations on Java 8 stream calls","body":"<p>Say I am converting <code>int []nums</code> to <code>List&lt;Integer&gt;</code> using java 8 streams as</p>\n<pre><code>List&lt;Integer&gt; l = Arrays.stream(nums).mapToObj(i-&gt;i).collect(Collectors.toList())\n</code></pre>\n<p>Also say, I want to see a standalone operation if all elements in <code>List&lt;Integer&gt;</code> have a value of say <code>5</code>, I can do this I think\n<code>boolean match = list.stream().allMatch(s -&gt; s.equals(list.get(5)));</code></p>\n<p>How can I combine the 2 where during <code>Arrays.stream()</code> not only do I convert it to <code>List&lt;Integer&gt;</code> but also track of all elements were same?</p>\n"},{"tags":["java","oracle","performance"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697169510,"post_id":77284926,"comment_id":136248753,"body_markdown":"1) Try inlining the date parameter so that the query strings are identical.  2) Is it the same database on the same database server via the same network path ... in both cases?","body":"1) Try inlining the date parameter so that the query strings are identical.  2) Is it the same database on the same database server via the same network path ... in both cases?"},{"owner":{"account_id":21985462,"reputation":385,"user_id":16389607,"display_name":"David Holly"},"score":0,"creation_date":1697170977,"post_id":77284926,"comment_id":136248861,"body_markdown":"@StephenC Yes same database, same server, same network path.. In the java program, it actually pass in the same 20/09/2023 date parameter too.","body":"@StephenC Yes same database, same server, same network path.. In the java program, it actually pass in the same 20/09/2023 date parameter too."},{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":1,"creation_date":1697171773,"post_id":77284926,"comment_id":136248925,"body_markdown":"You need to capture two execution plans when the query is running: one for SQL Developer version and another for Java version. See [`dbms_sql_monitor.report_sql_monitor`](https://docs.oracle.com/en/database/oracle/oracle-database/19/arpls/DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690).","body":"You need to capture two execution plans when the query is running: one for SQL Developer version and another for Java version. See <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/arpls/DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690\" rel=\"nofollow noreferrer\"><code>dbms_sql_monitor.report_sql_monitor</code></a>."},{"owner":{"account_id":177686,"reputation":35366,"user_id":409172,"accept_rate":50,"display_name":"Jon Heller"},"score":4,"creation_date":1697173688,"post_id":77284926,"comment_id":136249075,"body_markdown":"@DavidHolly Are you sure that SQL Developer is returning all 100K records, and not just the top N rows?","body":"@DavidHolly Are you sure that SQL Developer is returning all 100K records, and not just the top N rows?"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1697175344,"post_id":77284926,"comment_id":136249220,"body_markdown":"Are you pointing to remote db server from you local java environment while running the query directly inside the remote db?","body":"Are you pointing to remote db server from you local java environment while running the query directly inside the remote db?"},{"owner":{"account_id":21985462,"reputation":385,"user_id":16389607,"display_name":"David Holly"},"score":0,"creation_date":1697177421,"post_id":77284926,"comment_id":136249459,"body_markdown":"@hermit yes.. am pointing to remote db from local java environment","body":"@hermit yes.. am pointing to remote db from local java environment"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1697181797,"post_id":77284926,"comment_id":136250101,"body_markdown":"Pointing from local java code to remote db is inherently slow because your local code needs to setup connection to the remote server and fetch data from it. For example, pointing to the db in  staging environment from local will lead to large query execution time.\n\nBut, when you run the sql query directly, you are logging in to the server and running your query there. So, it is faster.\n\nBut, when your code gets deployed to staging, the execution time will significantly improve given that your application and db are hosted in the same environment, e.g. staging.","body":"Pointing from local java code to remote db is inherently slow because your local code needs to setup connection to the remote server and fetch data from it. For example, pointing to the db in  staging environment from local will lead to large query execution time.  But, when you run the sql query directly, you are logging in to the server and running your query there. So, it is faster.  But, when your code gets deployed to staging, the execution time will significantly improve given that your application and db are hosted in the same environment, e.g. staging."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697182119,"post_id":77284926,"comment_id":136250149,"body_markdown":"@hermit - that doesn&#39;t explain a 33 secs vs 1 hour difference.","body":"@hermit - that doesn&#39;t explain a 33 secs vs 1 hour difference."},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1697182555,"post_id":77284926,"comment_id":136250215,"body_markdown":"@StephenC Agreed. It might not be the sole reason, but, we cannot rule out the fact that it might have played some role in aggravating the delay.","body":"@StephenC Agreed. It might not be the sole reason, but, we cannot rule out the fact that it might have played some role in aggravating the delay."},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1697182558,"post_id":77284926,"comment_id":136250217,"body_markdown":"@DavidHolly If it is possible, could you please try deploying the code in the same env as the db and observe the execution time?","body":"@DavidHolly If it is possible, could you please try deploying the code in the same env as the db and observe the execution time?"}],"answers":[{"tags":[],"owner":{"account_id":177686,"reputation":35366,"user_id":409172,"accept_rate":50,"display_name":"Jon Heller"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697174643,"creation_date":1697174643,"answer_id":77285229,"question_id":77284926,"body_markdown":"Rewriting the joins to analytic functions should avoid most potential database problems. Since the rewritten query has no joins, there are very few ways the execution plan can go wrong. As an added bonus, the new code is smaller and arguably simpler.\r\n\r\n```\r\n-- ref_ids that only have old data.\r\nselect distinct ref_id\r\nfrom\r\n(\r\n\t--all data along with counts of new dates per ref_id.\r\n\tselect ref_id, start_date,\r\n\t\tsum(case when start_date &gt;= to_date(&#39;20/09/2023&#39; , &#39;dd/mm/yyyy&#39;) then 1 else 0 end) \r\n        over (partition by ref_id) new_dates_per_ref_id\r\n\tfrom\r\n\t(\r\n\t\t--all data\r\n\t\tselect ref_id, start_date from os_historystep\r\n\t\tunion all\r\n\t\tselect ref_id, start_date from os_currentstep\r\n\t)\r\n)\r\nwhere start_date &lt; to_date(&#39;20/09/2023&#39; , &#39;dd/mm/yyyy&#39;)\r\n\tand new_dates_per_ref_id = 0;\r\n```\r\n\r\nHowever, this answer is merely a workaround. You may want to dig into the execution plans and find out why this problem is happening. To do that, I recommend you follow astentx&#39;s advice and use [dbms_sql_monitor.report_sql_monitor](https://docs.oracle.com/en/database/oracle/oracle-database/19/arpls/DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690). But solving difficult Oracle performance problems can take a long time, so there&#39;s nothing wrong with just avoiding the problem if you don&#39;t have hours to spend on query tuning.","title":"Why the oracle query is slow in java but much faster when it is just directly executed in sqlDeveloper?","body":"<p>Rewriting the joins to analytic functions should avoid most potential database problems. Since the rewritten query has no joins, there are very few ways the execution plan can go wrong. As an added bonus, the new code is smaller and arguably simpler.</p>\n<pre><code>-- ref_ids that only have old data.\nselect distinct ref_id\nfrom\n(\n    --all data along with counts of new dates per ref_id.\n    select ref_id, start_date,\n        sum(case when start_date &gt;= to_date('20/09/2023' , 'dd/mm/yyyy') then 1 else 0 end) \n        over (partition by ref_id) new_dates_per_ref_id\n    from\n    (\n        --all data\n        select ref_id, start_date from os_historystep\n        union all\n        select ref_id, start_date from os_currentstep\n    )\n)\nwhere start_date &lt; to_date('20/09/2023' , 'dd/mm/yyyy')\n    and new_dates_per_ref_id = 0;\n</code></pre>\n<p>However, this answer is merely a workaround. You may want to dig into the execution plans and find out why this problem is happening. To do that, I recommend you follow astentx's advice and use <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/arpls/DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690\" rel=\"nofollow noreferrer\">dbms_sql_monitor.report_sql_monitor</a>. But solving difficult Oracle performance problems can take a long time, so there's nothing wrong with just avoiding the problem if you don't have hours to spend on query tuning.</p>\n"}],"owner":{"account_id":21985462,"reputation":385,"user_id":16389607,"display_name":"David Holly"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77285229,"answer_count":1,"score":1,"last_activity_date":1697174643,"creation_date":1697168179,"question_id":77284926,"body_markdown":"I have around 100k records in the db table and when I execute this query in oracle sqlDeveloper, it takes around 33 seconds to fetch the 100k records.\r\n\r\n```\r\nselect wflworkflo1_.REF_ID from ( select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &lt; to_date(&#39;20/09/2023&#39; , &#39;dd/mm/yyyy&#39;) UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &lt; to_date(&#39;20/09/2023&#39; , &#39;dd/mm/yyyy&#39;)) wflworkflo1_ WHERE REF_ID NOT IN (SELECT DISTINCT REF_ID FROM (select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &gt;= to_date(&#39;20/09/2023&#39; , &#39;dd/mm/yyyy&#39;) UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &gt;= to_date(&#39;20/09/2023&#39; , &#39;dd/mm/yyyy&#39;)) INT_WFL GROUP BY REF_ID) group by wflworkflo1_.REF_ID having max(wflworkflo1_.START_DATE) &lt; to_date(&#39;20/09/2023&#39; , &#39;dd/mm/yyyy&#39;);\r\n```\r\n\r\nIn my java program, this is the method to run the query.\r\n\r\n    public List&lt;String&gt; findCurrHistStepRefIdWithStartDate(String targetStartDate)\r\n\t\t\tthrows BocException {\r\n\t\t\r\n\t\tStringBuffer sql = new StringBuffer();\r\n\t\tsql.append(\r\n\t\t\t\t&quot;select wflworkflo1_.REF_ID from ( select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &lt; to_date(?, &#39;dd/mm/yyyy&#39;) UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &lt; to_date(?, &#39;dd/mm/yyyy&#39;)) wflworkflo1_ WHERE REF_ID NOT IN (SELECT DISTINCT REF_ID FROM (select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &gt;= to_date(?, &#39;dd/mm/yyyy&#39;) UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &gt;= to_date(?, &#39;dd/mm/yyyy&#39;)) INT_WFL GROUP BY REF_ID) group by wflworkflo1_.REF_ID having max(wflworkflo1_.START_DATE) &lt; to_date(?, &#39;dd/mm/yyyy&#39;)&quot;);\r\n\t\t\r\n\t\tJdbcTemplate template = getJdbcTemplate();\r\n\t\t\r\n\t\treturn template.queryForList(sql.toString(), String.class,\r\n\t\t\t\ttargetStartDate, targetStartDate, targetStartDate, targetStartDate,\r\n\t\t\t\ttargetStartDate);\r\n\r\n\t}\r\n\r\nThis Java function takes more than 1 hour to return the result. Why is there such a huge difference? ","title":"Why the oracle query is slow in java but much faster when it is just directly executed in sqlDeveloper?","body":"<p>I have around 100k records in the db table and when I execute this query in oracle sqlDeveloper, it takes around 33 seconds to fetch the 100k records.</p>\n<pre><code>select wflworkflo1_.REF_ID from ( select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &lt; to_date('20/09/2023' , 'dd/mm/yyyy') UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &lt; to_date('20/09/2023' , 'dd/mm/yyyy')) wflworkflo1_ WHERE REF_ID NOT IN (SELECT DISTINCT REF_ID FROM (select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &gt;= to_date('20/09/2023' , 'dd/mm/yyyy') UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &gt;= to_date('20/09/2023' , 'dd/mm/yyyy')) INT_WFL GROUP BY REF_ID) group by wflworkflo1_.REF_ID having max(wflworkflo1_.START_DATE) &lt; to_date('20/09/2023' , 'dd/mm/yyyy');\n</code></pre>\n<p>In my java program, this is the method to run the query.</p>\n<pre><code>public List&lt;String&gt; findCurrHistStepRefIdWithStartDate(String targetStartDate)\n        throws BocException {\n    \n    StringBuffer sql = new StringBuffer();\n    sql.append(\n            &quot;select wflworkflo1_.REF_ID from ( select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &lt; to_date(?, 'dd/mm/yyyy') UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &lt; to_date(?, 'dd/mm/yyyy')) wflworkflo1_ WHERE REF_ID NOT IN (SELECT DISTINCT REF_ID FROM (select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &gt;= to_date(?, 'dd/mm/yyyy') UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &gt;= to_date(?, 'dd/mm/yyyy')) INT_WFL GROUP BY REF_ID) group by wflworkflo1_.REF_ID having max(wflworkflo1_.START_DATE) &lt; to_date(?, 'dd/mm/yyyy')&quot;);\n    \n    JdbcTemplate template = getJdbcTemplate();\n    \n    return template.queryForList(sql.toString(), String.class,\n            targetStartDate, targetStartDate, targetStartDate, targetStartDate,\n            targetStartDate);\n\n}\n</code></pre>\n<p>This Java function takes more than 1 hour to return the result. Why is there such a huge difference?</p>\n"},{"tags":["java","sockets","tcp","objectinputstream"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697198972,"post_id":77284894,"comment_id":136253126,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":20101147,"reputation":15,"user_id":14739581,"display_name":"Krlin Homon"},"score":0,"creation_date":1697177961,"post_id":77285207,"comment_id":136249526,"body_markdown":"Thanks for answering my question and I also have a doubt that Server get the fileLength is 10 and will receive 10 file bytes, but some bytes are lost during transmission, Server only receive 8 bytes. will this happen? if will, how to break the while loop and throw Exceptions.","body":"Thanks for answering my question and I also have a doubt that Server get the fileLength is 10 and will receive 10 file bytes, but some bytes are lost during transmission, Server only receive 8 bytes. will this happen? if will, how to break the while loop and throw Exceptions."},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1697199962,"post_id":77285207,"comment_id":136253310,"body_markdown":"`Socket`s in Java [work with TCP](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/package-summary.html#sockets-heading). Mitigating loss of data during transmission is the responsibility of the TCP protocol implementation to guarantee (eg via retransmission). As far as I know, if an error occurs at the TCP level, then an exception will be thrown (although I can&#39;t find a reference for that right now sadly). So you get all bytes if and only if no exceptions occur (ie the mechanism you describe is already in place, you just need to handle the exceptions).","body":"<code>Socket</code>s in Java <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/package-summary.html#sockets-heading\" rel=\"nofollow noreferrer\">work with TCP</a>. Mitigating loss of data during transmission is the responsibility of the TCP protocol implementation to guarantee (eg via retransmission). As far as I know, if an error occurs at the TCP level, then an exception will be thrown (although I can&#39;t find a reference for that right now sadly). So you get all bytes if and only if no exceptions occur (ie the mechanism you describe is already in place, you just need to handle the exceptions)."},{"owner":{"account_id":20101147,"reputation":15,"user_id":14739581,"display_name":"Krlin Homon"},"score":0,"creation_date":1697365305,"post_id":77285207,"comment_id":136268459,"body_markdown":"So it is, I understand, thank you so much!","body":"So it is, I understand, thank you so much!"}],"tags":[],"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697174213,"creation_date":1697174213,"answer_id":77285207,"question_id":77284894,"body_markdown":"According to the documentation of `read` method in `ObjectInputStream`:\r\n\r\n&gt; This method will block until some input is available.\r\n\r\nSo basically you are never getting `len` to be equal to `-1` at server side. That&#39;s because of the sequence of events:\r\n\r\n1. Client sends the model and then the file bytes. Client then *waits* to receive model from server. `ObjectInputStream` is in blocking I/O mode here, so is `readObject` in the following snippet of your client side code:\r\n   ```\r\n   System.out.println(&quot;file send over&quot;);\r\n   FileTransModel model = (FileTransModel) ois.readObject(); // Blocks here.\r\n   ```\r\n2. Server receives the model. Then server receives buffers of *a positive size* until the other end is closed.\r\n3. But client is waiting for the model to be received, so it&#39;s not going to close.\r\n4. Since server is *waiting blocked for more bytes or a `-1`* (assuming no `IOException` occurs) inside the loop, then it is not going to send the model back.\r\n\r\nAs a result both sides are blocked waiting from each other.\r\n\r\nTo solve this you can signify the end of file transmission in a way such that the server knows when to stop reading file bytes. Since the file contents can be arbitrary and its size is not pre-determined at server side, then you can send the file size *before* you begin sending its contents to the server. But the model already has this information, so your reading loop in the server side can be modified from:\r\n```\r\nFileOutputStream fos = new FileOutputStream(file);\r\nBufferedOutputStream bufferedOutputStream = new BufferedOutputStream(fos);\r\n\r\nint len;\r\nlen = ois.read(BUFFER);\r\nint size = 0;\r\nwhile (true) {\r\n    size += len;\r\n    System.out.println(len + &quot;: &quot; + size);\r\n    if (len == -1) {\r\n        break;\r\n    }\r\n    bufferedOutputStream.write(BUFFER, 0, len);\r\n    bufferedOutputStream.flush();\r\n    len = ois.read(BUFFER);\r\n}\r\n```\r\nto:\r\n```\r\ntry (final FileOutputStream fos = new FileOutputStream(file);\r\n     final BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(fos)) {\r\n    final long expected = fileTransModel.getFileLength() == null? 0: fileTransModel.getFileLength();\r\n    long size = 0;\r\n    while (size &lt; expected) {\r\n        final int current = ois.read(BUFFER);\r\n        bufferedOutputStream.write(BUFFER, 0, current);\r\n        //bufferedOutputStream.flush(); //Flushing after each write would defeat the purpose of buffering, so better don&#39;t do it.\r\n        size += current;\r\n        System.out.println(&quot;So far: &quot; + size);\r\n    }\r\n} //Always close the file.\r\n```\r\n\r\nClosing the client side `ObjectOutputStream` (the `oos` reference) right after writing the file contents, in order for example to get a `-1` at the server side, is not an option here since closing `oos` would close the underlying `OutputStream` of the `Socket`, which in turn according to the documentation would close the `Socket` itself. So then if you were going to send the model back (ie from server to client), then a `SocketException` would be raised (the `Socket` would be no more usable).\r\n","title":"Trans File use java socket, ObjectInputStream and ObjectOutputStream but blocked","body":"<p>According to the documentation of <code>read</code> method in <code>ObjectInputStream</code>:</p>\n<blockquote>\n<p>This method will block until some input is available.</p>\n</blockquote>\n<p>So basically you are never getting <code>len</code> to be equal to <code>-1</code> at server side. That's because of the sequence of events:</p>\n<ol>\n<li>Client sends the model and then the file bytes. Client then <em>waits</em> to receive model from server. <code>ObjectInputStream</code> is in blocking I/O mode here, so is <code>readObject</code> in the following snippet of your client side code:\n<pre><code>System.out.println(&quot;file send over&quot;);\nFileTransModel model = (FileTransModel) ois.readObject(); // Blocks here.\n</code></pre>\n</li>\n<li>Server receives the model. Then server receives buffers of <em>a positive size</em> until the other end is closed.</li>\n<li>But client is waiting for the model to be received, so it's not going to close.</li>\n<li>Since server is <em>waiting blocked for more bytes or a <code>-1</code></em> (assuming no <code>IOException</code> occurs) inside the loop, then it is not going to send the model back.</li>\n</ol>\n<p>As a result both sides are blocked waiting from each other.</p>\n<p>To solve this you can signify the end of file transmission in a way such that the server knows when to stop reading file bytes. Since the file contents can be arbitrary and its size is not pre-determined at server side, then you can send the file size <em>before</em> you begin sending its contents to the server. But the model already has this information, so your reading loop in the server side can be modified from:</p>\n<pre><code>FileOutputStream fos = new FileOutputStream(file);\nBufferedOutputStream bufferedOutputStream = new BufferedOutputStream(fos);\n\nint len;\nlen = ois.read(BUFFER);\nint size = 0;\nwhile (true) {\n    size += len;\n    System.out.println(len + &quot;: &quot; + size);\n    if (len == -1) {\n        break;\n    }\n    bufferedOutputStream.write(BUFFER, 0, len);\n    bufferedOutputStream.flush();\n    len = ois.read(BUFFER);\n}\n</code></pre>\n<p>to:</p>\n<pre><code>try (final FileOutputStream fos = new FileOutputStream(file);\n     final BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(fos)) {\n    final long expected = fileTransModel.getFileLength() == null? 0: fileTransModel.getFileLength();\n    long size = 0;\n    while (size &lt; expected) {\n        final int current = ois.read(BUFFER);\n        bufferedOutputStream.write(BUFFER, 0, current);\n        //bufferedOutputStream.flush(); //Flushing after each write would defeat the purpose of buffering, so better don't do it.\n        size += current;\n        System.out.println(&quot;So far: &quot; + size);\n    }\n} //Always close the file.\n</code></pre>\n<p>Closing the client side <code>ObjectOutputStream</code> (the <code>oos</code> reference) right after writing the file contents, in order for example to get a <code>-1</code> at the server side, is not an option here since closing <code>oos</code> would close the underlying <code>OutputStream</code> of the <code>Socket</code>, which in turn according to the documentation would close the <code>Socket</code> itself. So then if you were going to send the model back (ie from server to client), then a <code>SocketException</code> would be raised (the <code>Socket</code> would be no more usable).</p>\n"}],"owner":{"account_id":20101147,"reputation":15,"user_id":14739581,"display_name":"Krlin Homon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77285207,"answer_count":1,"score":1,"last_activity_date":1697174213,"creation_date":1697167438,"question_id":77284894,"body_markdown":"Send file with socket BIO use Socket, ServerSocket, ObjectInputStream and ObjectOutputStream but blocked. The detail code is:\r\nModel:\r\n```\r\n@Data\r\n@ToString\r\npublic class FileTransModel implements Serializable {\r\n    private String fileName;\r\n    private Long fileLength;\r\n    private Integer status;\r\n}\r\n```\r\nClient:\r\n```\r\npublic class FileTransClient {\r\n\r\n    private static final int BUFFER_SIZE = 1024 * 8;\r\n    \r\n    private static final byte[] BUFFER = new byte[BUFFER_SIZE];\r\n    \r\n    \r\n\r\n    public static void main(String[] args) {\r\n        try (Socket socket = new Socket(&quot;localhost&quot;, 1888);\r\n             ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());\r\n             ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream())) {\r\n            \r\n            File file = new File(&quot;D:\\\\trans\\\\1.mp4&quot;);\r\n            FileTransModel fileTransModel = new FileTransModel();\r\n            fileTransModel.setFileName(file.getName());\r\n            fileTransModel.setFileLength(file.length());\r\n            oos.writeObject(fileTransModel);\r\n\r\n            FileInputStream fileInputStream = new FileInputStream(file);\r\n            BufferedInputStream bufferedInputStream = new BufferedInputStream(fileInputStream);\r\n            int len;\r\n            while ((len = bufferedInputStream.read(BUFFER)) != -1) {\r\n                System.out.println(len);\r\n                oos.write(BUFFER, 0, len);\r\n                oos.flush();\r\n            }\r\n            System.out.println(&quot;file send over&quot;);\r\n            FileTransModel model = (FileTransModel) ois.readObject();\r\n            System.out.println(model);\r\n            \r\n        } catch (IOException | ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nServer:\r\n```\r\npublic class FileTransServer {\r\n\r\n    private static final int BUFFER_SIZE = 1024 * 8;\r\n\r\n    private static final byte[] BUFFER = new byte[BUFFER_SIZE];\r\n\r\n    public static void main(String[] args) {\r\n        ServerSocket serverSocket;\r\n        try {\r\n            serverSocket = new ServerSocket(1888);\r\n            System.out.println(&quot;Socket Server start on port: 1888&quot;);\r\n            while(true) {\r\n                Socket accept = serverSocket.accept();\r\n                System.out.println(&quot;new file come!&quot;);\r\n                new Thread(new Task(accept)).start();\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n    \r\n    private static class Task implements Runnable {\r\n\r\n        Socket socket;\r\n        \r\n        public Task(Socket socket) {\r\n            this.socket = socket;\r\n        }\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());\r\n                ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());\r\n                FileTransModel fileTransModel = (FileTransModel) ois.readObject();\r\n                System.out.println(fileTransModel);\r\n                \r\n                File file = new File(&quot;D:\\\\trans_rec2\\\\&quot;+fileTransModel.getFileName());\r\n                if (!file.exists()) {\r\n                    file.createNewFile();\r\n                }\r\n\r\n                FileOutputStream fos = new FileOutputStream(file);\r\n                BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(fos);\r\n\r\n                int len;\r\n                len = ois.read(BUFFER);\r\n                int size = 0;\r\n                while (true) {\r\n                    size += len;\r\n                    System.out.println(len + &quot;: &quot; + size);\r\n                    if (len == -1) {\r\n                        break;\r\n                    }\r\n                    bufferedOutputStream.write(BUFFER, 0, len);\r\n                    bufferedOutputStream.flush();\r\n                    len = ois.read(BUFFER);\r\n                }\r\n                System.out.println(&quot;file write over&quot;);\r\n                \r\n                fileTransModel.setStatus(0);\r\n                \r\n                oos.writeObject(fileTransModel);\r\n                System.out.println(&quot;file receive over&quot;);\r\n                \r\n            } catch (IOException | ClassNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nand the result is :\r\n[enter image description here](https://i.stack.imgur.com/LMxIw.png)\r\nClient had trans over, but Server is like that:\r\n[enter image description here](https://i.stack.imgur.com/pjx7E.png)\r\nit cannot go on. how to fix it\r\n\r\n\r\nI have tried to use DataInputStream and DataOutputStream, but the result is the same.","title":"Trans File use java socket, ObjectInputStream and ObjectOutputStream but blocked","body":"<p>Send file with socket BIO use Socket, ServerSocket, ObjectInputStream and ObjectOutputStream but blocked. The detail code is:\nModel:</p>\n<pre><code>@Data\n@ToString\npublic class FileTransModel implements Serializable {\n    private String fileName;\n    private Long fileLength;\n    private Integer status;\n}\n</code></pre>\n<p>Client:</p>\n<pre><code>public class FileTransClient {\n\n    private static final int BUFFER_SIZE = 1024 * 8;\n    \n    private static final byte[] BUFFER = new byte[BUFFER_SIZE];\n    \n    \n\n    public static void main(String[] args) {\n        try (Socket socket = new Socket(&quot;localhost&quot;, 1888);\n             ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());\n             ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream())) {\n            \n            File file = new File(&quot;D:\\\\trans\\\\1.mp4&quot;);\n            FileTransModel fileTransModel = new FileTransModel();\n            fileTransModel.setFileName(file.getName());\n            fileTransModel.setFileLength(file.length());\n            oos.writeObject(fileTransModel);\n\n            FileInputStream fileInputStream = new FileInputStream(file);\n            BufferedInputStream bufferedInputStream = new BufferedInputStream(fileInputStream);\n            int len;\n            while ((len = bufferedInputStream.read(BUFFER)) != -1) {\n                System.out.println(len);\n                oos.write(BUFFER, 0, len);\n                oos.flush();\n            }\n            System.out.println(&quot;file send over&quot;);\n            FileTransModel model = (FileTransModel) ois.readObject();\n            System.out.println(model);\n            \n        } catch (IOException | ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Server:</p>\n<pre><code>public class FileTransServer {\n\n    private static final int BUFFER_SIZE = 1024 * 8;\n\n    private static final byte[] BUFFER = new byte[BUFFER_SIZE];\n\n    public static void main(String[] args) {\n        ServerSocket serverSocket;\n        try {\n            serverSocket = new ServerSocket(1888);\n            System.out.println(&quot;Socket Server start on port: 1888&quot;);\n            while(true) {\n                Socket accept = serverSocket.accept();\n                System.out.println(&quot;new file come!&quot;);\n                new Thread(new Task(accept)).start();\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n    \n    private static class Task implements Runnable {\n\n        Socket socket;\n        \n        public Task(Socket socket) {\n            this.socket = socket;\n        }\n        @Override\n        public void run() {\n            try {\n                ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());\n                ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());\n                FileTransModel fileTransModel = (FileTransModel) ois.readObject();\n                System.out.println(fileTransModel);\n                \n                File file = new File(&quot;D:\\\\trans_rec2\\\\&quot;+fileTransModel.getFileName());\n                if (!file.exists()) {\n                    file.createNewFile();\n                }\n\n                FileOutputStream fos = new FileOutputStream(file);\n                BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(fos);\n\n                int len;\n                len = ois.read(BUFFER);\n                int size = 0;\n                while (true) {\n                    size += len;\n                    System.out.println(len + &quot;: &quot; + size);\n                    if (len == -1) {\n                        break;\n                    }\n                    bufferedOutputStream.write(BUFFER, 0, len);\n                    bufferedOutputStream.flush();\n                    len = ois.read(BUFFER);\n                }\n                System.out.println(&quot;file write over&quot;);\n                \n                fileTransModel.setStatus(0);\n                \n                oos.writeObject(fileTransModel);\n                System.out.println(&quot;file receive over&quot;);\n                \n            } catch (IOException | ClassNotFoundException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>and the result is :\n<a href=\"https://i.stack.imgur.com/LMxIw.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nClient had trans over, but Server is like that:\n<a href=\"https://i.stack.imgur.com/pjx7E.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nit cannot go on. how to fix it</p>\n<p>I have tried to use DataInputStream and DataOutputStream, but the result is the same.</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697174181,"creation_date":1697174181,"answer_id":77285206,"question_id":77272889,"body_markdown":"Kafka is a TCP protocol. There&#39;s no HTTP happening here other than the Spring POST mapping . \r\n\r\nThe code you&#39;ve shown is not a blocking call, so there&#39;s only a slight performance overhead on the TCP connection to the broker, and the in memory buffer that you&#39;re actually sending to here. So, yes, Kafka automatically batches data client side. See producer config `batch.size`","title":"Is there performance benefit to configure recative simple Spring application with kafka producer?","body":"<p>Kafka is a TCP protocol. There's no HTTP happening here other than the Spring POST mapping .</p>\n<p>The code you've shown is not a blocking call, so there's only a slight performance overhead on the TCP connection to the broker, and the in memory buffer that you're actually sending to here. So, yes, Kafka automatically batches data client side. See producer config <code>batch.size</code></p>\n"}],"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697174200,"creation_date":1697025821,"question_id":77272889,"body_markdown":"I have to create a very simple Spring application that will receive http request and send kafka message. Like that:\r\n\r\n\r\n    @PostMapping(value = &quot;/send&quot;)\r\n    public void sendMessage(@RequesyBody body) {\r\n        kafkaTemplate.send((value = &quot;/send&quot;))\r\n    }\r\n\r\nBut what about performance here? In case when I resend data to another http service I can configure reactive approach and save threading count. But what I am getting here? Thread per request? Does kafka client has it is own http client under the hood? Or If it uses low level socker connection - can it be configured with event looping?\r\n\r\nBtw, as I know 9may be wrong) that reactive style is usefull for requests with small data sending. With kafka I will definitelly sending data continuously. From other point there will be a lot of incoming http requests - so probably it is better to accumulate messages somewhere - do spring kafkaClient do this by default?","title":"Is there performance benefit to configure recative simple Spring application with kafka producer?","body":"<p>I have to create a very simple Spring application that will receive http request and send kafka message. Like that:</p>\n<pre><code>@PostMapping(value = &quot;/send&quot;)\npublic void sendMessage(@RequesyBody body) {\n    kafkaTemplate.send((value = &quot;/send&quot;))\n}\n</code></pre>\n<p>But what about performance here? In case when I resend data to another http service I can configure reactive approach and save threading count. But what I am getting here? Thread per request? Does kafka client has it is own http client under the hood? Or If it uses low level socker connection - can it be configured with event looping?</p>\n<p>Btw, as I know 9may be wrong) that reactive style is usefull for requests with small data sending. With kafka I will definitelly sending data continuously. From other point there will be a lot of incoming http requests - so probably it is better to accumulate messages somewhere - do spring kafkaClient do this by default?</p>\n"},{"tags":["java","apache-kafka","spring-kafka","batch-processing"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1697172830,"post_id":77282014,"comment_id":136248995,"body_markdown":"Are you committing offsets automatically? If not, it should retry based on the committed offset position, not based on the batch information","body":"Are you committing offsets automatically? If not, it should retry based on the committed offset position, not based on the batch information"},{"owner":{"account_id":11623510,"reputation":1028,"user_id":8514043,"display_name":"maroodb"},"score":0,"creation_date":1697183385,"post_id":77282014,"comment_id":136250349,"body_markdown":"Yes offsets are committed automatically. In this case it will re-consume the same batch ?","body":"Yes offsets are committed automatically. In this case it will re-consume the same batch ?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1697218328,"post_id":77282014,"comment_id":136257084,"body_markdown":"It will resume from after the greatest committed offset of that batch. Batches aren&#39;t relevant though, Kafka always resumes from the committed offsets, if they exist. Otherwise, falls back to `auto.offset.reset` (default=latest) (end of the topic). Otherwise, you can manually `seek` your consumer to a mapping of TopicPartition to Offset values. https://kafka.apache.org/35/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html","body":"It will resume from after the greatest committed offset of that batch. Batches aren&#39;t relevant though, Kafka always resumes from the committed offsets, if they exist. Otherwise, falls back to <code>auto.offset.reset</code> (default=latest) (end of the topic). Otherwise, you can manually <code>seek</code> your consumer to a mapping of TopicPartition to Offset values. <a href=\"https://kafka.apache.org/35/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html\" rel=\"nofollow noreferrer\">kafka.apache.org/35/javadoc/org/apache/kafka/clients/consume&zwnj;&#8203;r/&hellip;</a>"}],"owner":{"account_id":11623510,"reputation":1028,"user_id":8514043,"display_name":"maroodb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697172795,"creation_date":1697125033,"question_id":77282014,"body_markdown":"I have a Spring Boot Kafka consumer that operates in batch mode. Here&#39;s the relevant code snippet:\r\n\r\n```java\r\n@KafkaListener(topics = &quot;my-fancy-topic&quot;,\r\n  batch = &quot;true&quot;,\r\n  containerFactory = &quot;stringStringKafkaListenerContainerFactory&quot;)\r\npublic void consumeEvent(List&lt;ConsumerRecord&lt;String, String&gt;&gt; consumerRecords) {\r\n    myBusinessLogic(consumerRecords);\r\n}\r\n```\r\n\r\nI&#39;ve configured the error handler with `FixedBackOff.UNLIMITED_ATTEMPTS`. This means that if my `myBusinessLogic()` throws an exception, the consumer will repeatedly attempt to consume the Kafka messages indefinitely.\r\n\r\nMy question concern to the behaviour when the consumer fails to handle a batch of messages, let&#39;s say Batch X contains 4 messages (A, B, C, D). \r\nI would like to know if, during the next attempt, the consumer will try to reprocess the exact same messages (A, B, C, D), or if there&#39;s no guarantee of message identity in the retry. \r\n\r\nIf there isn&#39;t, how can I ensure that the retry processes the same set of messages (A, B, C, D)?\r\nI have a use case where I need to ensure idempotency by having the same combination of messages inside a batch.","title":"Idempotent Message Retries in a Spring Boot Kafka Consumer with Batch Mode","body":"<p>I have a Spring Boot Kafka consumer that operates in batch mode. Here's the relevant code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topics = &quot;my-fancy-topic&quot;,\n  batch = &quot;true&quot;,\n  containerFactory = &quot;stringStringKafkaListenerContainerFactory&quot;)\npublic void consumeEvent(List&lt;ConsumerRecord&lt;String, String&gt;&gt; consumerRecords) {\n    myBusinessLogic(consumerRecords);\n}\n</code></pre>\n<p>I've configured the error handler with <code>FixedBackOff.UNLIMITED_ATTEMPTS</code>. This means that if my <code>myBusinessLogic()</code> throws an exception, the consumer will repeatedly attempt to consume the Kafka messages indefinitely.</p>\n<p>My question concern to the behaviour when the consumer fails to handle a batch of messages, let's say Batch X contains 4 messages (A, B, C, D).\nI would like to know if, during the next attempt, the consumer will try to reprocess the exact same messages (A, B, C, D), or if there's no guarantee of message identity in the retry.</p>\n<p>If there isn't, how can I ensure that the retry processes the same set of messages (A, B, C, D)?\nI have a use case where I need to ensure idempotency by having the same combination of messages inside a batch.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"comments":[{"owner":{"account_id":29647293,"reputation":25,"user_id":22722037,"display_name":"vijay"},"score":0,"creation_date":1697180102,"post_id":77285112,"comment_id":136249852,"body_markdown":"I passed props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;); but still once I reach a specific timestamp, the message in the kafka(which is mid) is not pushed to &#39;output-topic&#39;, why?","body":"I passed props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;); but still once I reach a specific timestamp, the message in the kafka(which is mid) is not pushed to &#39;output-topic&#39;, why?"},{"owner":{"account_id":29647293,"reputation":25,"user_id":22722037,"display_name":"vijay"},"score":0,"creation_date":1697181827,"post_id":77285112,"comment_id":136250108,"body_markdown":"I need to read all the messages in kafka everysecond from beginning","body":"I need to read all the messages in kafka everysecond from beginning"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1697218139,"post_id":77285112,"comment_id":136257043,"body_markdown":"1. As mentioned, for Kafka Streams you need `consumerPrefix(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG)` 2. Disable auto commits and dont manually commit. You need a consumer object, not Kafka streams to use `consumer.seekToBeginning` - https://kafka.apache.org/35/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html","body":"1. As mentioned, for Kafka Streams you need <code>consumerPrefix(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG)</code> 2. Disable auto commits and dont manually commit. You need a consumer object, not Kafka streams to use <code>consumer.seekToBeginning</code> - <a href=\"https://kafka.apache.org/35/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html\" rel=\"nofollow noreferrer\">kafka.apache.org/35/javadoc/org/apache/kafka/clients/consume&zwnj;&#8203;r/&hellip;</a>"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697172564,"creation_date":1697172564,"answer_id":77285112,"question_id":77282167,"body_markdown":"In Kafka Streams, there&#39;s a static `consumerPrefix()` function that must be added to modify consumer client properties.\r\n\r\nOtherwise, you must pass `consumer.auto.offset.reset` as the property key.\r\n\r\nOtherwise, Kafka Streams consumes data in the order that the producer wrote the data. Your timestamp field isn&#39;t really relevant since producers can easily send data out of order, and you should use Kafka Streams windowing functions with a TimestampExtractor against the actual record timestamp, instead of data encoded in the value ","title":"KafkaStreams not reading messages from kafka in the beginning","body":"<p>In Kafka Streams, there's a static <code>consumerPrefix()</code> function that must be added to modify consumer client properties.</p>\n<p>Otherwise, you must pass <code>consumer.auto.offset.reset</code> as the property key.</p>\n<p>Otherwise, Kafka Streams consumes data in the order that the producer wrote the data. Your timestamp field isn't really relevant since producers can easily send data out of order, and you should use Kafka Streams windowing functions with a TimestampExtractor against the actual record timestamp, instead of data encoded in the value</p>\n"}],"owner":{"account_id":29647293,"reputation":25,"user_id":22722037,"display_name":"vijay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697172584,"creation_date":1697126519,"question_id":77282167,"body_markdown":"    @Bean\r\n        public KafkaStreams kafkaStreams(KafkaStreamsConfiguration streamsConfig) {\r\n            Properties props = new Properties();\r\n            props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n            props.put(StreamsConfig.APPLICATION_ID_CONFIG, applicationId);\r\n            props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\r\n            props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\r\n            props.put(ConsumerConfig.GROUP_ID_CONFIG, UUID.randomUUID().toString());\r\n            props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n            props.put(StreamsConfig.NUM_STREAM_THREADS_CONFIG, 1);\r\n    \r\n            StreamsBuilder builder = new StreamsBuilder();\r\n            \r\n            KStream&lt;String, String&gt; kStream = builder.stream(&quot;input-topic&quot;, Consumed.with( Serdes.String(), Serdes.String() ));\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            \r\n            // Use mapValues to parse JSON and extract the timestamp\r\n            kStream = kStream.mapValues(value -&gt; {\r\n                try {\r\n                    JsonNode jsonNode = objectMapper.readTree(value);\r\n                    long timestamp = jsonNode.get(&quot;timestamp&quot;).asLong();\r\n                    long tenMinutesAgo = System.currentTimeMillis() / 60000; // Current time in minutes\r\n                    if (timestamp &lt;= tenMinutesAgo) {\r\n                        log.info(&quot;paased timestamp: &quot; + timestamp);\r\n                        log.info(&quot;original tenMinutesAgo: &quot; + tenMinutesAgo);\r\n                        return value; // Keep messages that match the criteria\r\n                    } else {\r\n                        return null; // Filter out messages that don&#39;t match the criteria\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    return null;\r\n                }\r\n            }).filter((key, value) -&gt; value != null); // Remove messages that failed parsing\r\n    \r\n            kStream.to(&quot;output-topic&quot;, Produced.with(Serdes.String(), Serdes.String()));\r\n    \r\n            KafkaStreams kafkaStreams = new KafkaStreams(builder.build(), props);\r\n            kafkaStreams.start();\r\n            return kafkaStreams;\r\n        }\r\n\r\nIn input-topic I pass\r\n\r\n    {&quot;timestamp&quot;: &quot;28285312&quot;,&quot;id&quot;:&quot;time01&quot;}\r\n    {&quot;timestamp&quot;: &quot;28285420&quot;,&quot;id&quot;:&quot;time02&quot;}\r\n    {&quot;timestamp&quot;: &quot;28285412&quot;,&quot;id&quot;:&quot;time05&quot;}\r\n    {&quot;timestamp&quot;: &quot;28285412&quot;,&quot;id&quot;:&quot;time03&quot;}\r\n    {&quot;timestamp&quot;: &quot;28285412&quot;,&quot;id&quot;:&quot;time04&quot;}\r\n\r\nIn output-topic, It check for the latest message timestamp with current timestamp, if it is less than or equal to current timestamp then it goes to output-topic. So, here 3rd timestamp is greater than current timestamp so it does not move to output topic but once it reaches the same timestamp as third one, kafkastream does not pick and put in output-topic.\r\n","title":"KafkaStreams not reading messages from kafka in the beginning","body":"<pre><code>@Bean\n    public KafkaStreams kafkaStreams(KafkaStreamsConfiguration streamsConfig) {\n        Properties props = new Properties();\n        props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, applicationId);\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, UUID.randomUUID().toString());\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        props.put(StreamsConfig.NUM_STREAM_THREADS_CONFIG, 1);\n\n        StreamsBuilder builder = new StreamsBuilder();\n        \n        KStream&lt;String, String&gt; kStream = builder.stream(&quot;input-topic&quot;, Consumed.with( Serdes.String(), Serdes.String() ));\n        ObjectMapper objectMapper = new ObjectMapper();\n        \n        // Use mapValues to parse JSON and extract the timestamp\n        kStream = kStream.mapValues(value -&gt; {\n            try {\n                JsonNode jsonNode = objectMapper.readTree(value);\n                long timestamp = jsonNode.get(&quot;timestamp&quot;).asLong();\n                long tenMinutesAgo = System.currentTimeMillis() / 60000; // Current time in minutes\n                if (timestamp &lt;= tenMinutesAgo) {\n                    log.info(&quot;paased timestamp: &quot; + timestamp);\n                    log.info(&quot;original tenMinutesAgo: &quot; + tenMinutesAgo);\n                    return value; // Keep messages that match the criteria\n                } else {\n                    return null; // Filter out messages that don't match the criteria\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n                return null;\n            }\n        }).filter((key, value) -&gt; value != null); // Remove messages that failed parsing\n\n        kStream.to(&quot;output-topic&quot;, Produced.with(Serdes.String(), Serdes.String()));\n\n        KafkaStreams kafkaStreams = new KafkaStreams(builder.build(), props);\n        kafkaStreams.start();\n        return kafkaStreams;\n    }\n</code></pre>\n<p>In input-topic I pass</p>\n<pre><code>{&quot;timestamp&quot;: &quot;28285312&quot;,&quot;id&quot;:&quot;time01&quot;}\n{&quot;timestamp&quot;: &quot;28285420&quot;,&quot;id&quot;:&quot;time02&quot;}\n{&quot;timestamp&quot;: &quot;28285412&quot;,&quot;id&quot;:&quot;time05&quot;}\n{&quot;timestamp&quot;: &quot;28285412&quot;,&quot;id&quot;:&quot;time03&quot;}\n{&quot;timestamp&quot;: &quot;28285412&quot;,&quot;id&quot;:&quot;time04&quot;}\n</code></pre>\n<p>In output-topic, It check for the latest message timestamp with current timestamp, if it is less than or equal to current timestamp then it goes to output-topic. So, here 3rd timestamp is greater than current timestamp so it does not move to output topic but once it reaches the same timestamp as third one, kafkastream does not pick and put in output-topic.</p>\n"},{"tags":["java","maven","quarkus","sonarqube-scan"],"owner":{"account_id":10414482,"reputation":11,"user_id":8820990,"display_name":"dhruv dar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697171596,"creation_date":1697166718,"question_id":77284854,"body_markdown":"I have a multi module maven project in which I don&#39;t want to sonar scan the parent module but only the child module. Is it possible ?","title":"Is it possible to scan child module but skip parent","body":"<p>I have a multi module maven project in which I don't want to sonar scan the parent module but only the child module. Is it possible ?</p>\n"},{"tags":["java","servlets","return"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1259140498,"creation_date":1259140498,"answer_id":1795634,"question_id":1795624,"body_markdown":"No. As a regular `void` method, it does not require a `return`","title":"Should a servlet explicitly return at the end of doGet/doPost?","body":"<p>No. As a regular <code>void</code> method, it does not require a <code>return</code></p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1259146735,"post_id":1795636,"comment_id":1683734,"body_markdown":"Its only implicit for a `void` method.","body":"Its only implicit for a <code>void</code> method."}],"tags":[],"owner":{"account_id":76242,"reputation":512,"user_id":218428,"accept_rate":56,"display_name":"Alexander Reifinger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259140522,"creation_date":1259140522,"answer_id":1795636,"question_id":1795624,"body_markdown":"There is no difference at all, a return is implicit at the end of a method.","title":"Should a servlet explicitly return at the end of doGet/doPost?","body":"<p>There is no difference at all, a return is implicit at the end of a method.</p>\n"},{"tags":[],"owner":{"account_id":19562,"reputation":30712,"user_id":45935,"accept_rate":100,"display_name":"Jim Ferrans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259140532,"creation_date":1259140532,"answer_id":1795639,"question_id":1795624,"body_markdown":"No difference at all, the return statement is unnecessary.","title":"Should a servlet explicitly return at the end of doGet/doPost?","body":"<p>No difference at all, the return statement is unnecessary.</p>\n"},{"tags":[],"owner":{"account_id":5094,"reputation":7198,"user_id":8015,"display_name":"mfx"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259140959,"creation_date":1259140959,"answer_id":1795683,"question_id":1795624,"body_markdown":"Utterly unnecessary; doesn&#39;t add any style points, either.","title":"Should a servlet explicitly return at the end of doGet/doPost?","body":"<p>Utterly unnecessary; doesn't add any style points, either.</p>\n"},{"comments":[{"owner":{"account_id":9512217,"reputation":1116,"user_id":7069816,"accept_rate":75,"display_name":"absin"},"score":0,"creation_date":1519015274,"post_id":1796453,"comment_id":84722624,"body_markdown":"Unrelated to the question, but what else can produce the same effect (the code block after `dispatcher` or `redirect` not getting executed) in a servlet?","body":"Unrelated to the question, but what else can produce the same effect (the code block after <code>dispatcher</code> or <code>redirect</code> not getting executed) in a servlet?"},{"owner":{"account_id":9150660,"reputation":615,"user_id":6805354,"accept_rate":47,"display_name":"MadMax"},"score":0,"creation_date":1523367219,"post_id":1796453,"comment_id":86524920,"body_markdown":"if you return without explicity writing anything to the response does the servlet just send a blank response ?","body":"if you return without explicity writing anything to the response does the servlet just send a blank response ?"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1259149801,"creation_date":1259149801,"answer_id":1796453,"question_id":1795624,"body_markdown":"There are however cases where you see the `return` statement in a servlet method which might be at first glance confusing for starters. Here&#39;s an example:\r\n\r\n\r\n    protected void doPost(request, response) {\r\n        if (someCondition) {\r\n            response.sendRedirect(&quot;page&quot;);\r\n            return;\r\n        }\r\n        doSomethingElse();\r\n        request.getRequestDispatcher(&quot;page&quot;).forward(request, response);\r\n    }\r\n\r\nHere the `return` statement is **necessary** because calling a redirect (or forward) does not cause the code to magically jump out of the method block as some starters seem to think. It still continues to run until the end which would cause an `IllegalStateException: response already committed` at the point when the forward is called.","title":"Should a servlet explicitly return at the end of doGet/doPost?","body":"<p>There are however cases where you see the <code>return</code> statement in a servlet method which might be at first glance confusing for starters. Here's an example:</p>\n\n<pre><code>protected void doPost(request, response) {\n    if (someCondition) {\n        response.sendRedirect(\"page\");\n        return;\n    }\n    doSomethingElse();\n    request.getRequestDispatcher(\"page\").forward(request, response);\n}\n</code></pre>\n\n<p>Here the <code>return</code> statement is <strong>necessary</strong> because calling a redirect (or forward) does not cause the code to magically jump out of the method block as some starters seem to think. It still continues to run until the end which would cause an <code>IllegalStateException: response already committed</code> at the point when the forward is called.</p>\n"}],"owner":{"account_id":76239,"reputation":85,"user_id":218423,"display_name":"havstein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4658,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":1795634,"answer_count":5,"score":4,"last_activity_date":1697171151,"creation_date":1259140401,"question_id":1795624,"body_markdown":"Is there any difference between explicitly returning at the end of doGet or doPost-methods, and just letting the method return &quot;by itself&quot;?\r\n\r\n    public void doGet(HttpSerlvetRequest req, HttpServletResponse resp) {\r\n        &lt;my code here&gt;\r\n        return;\r\n    }\r\n\r\n    public void doGet(HttpSerlvetRequest req, HttpServletResponse resp) {\r\n        &lt;my code here&gt;\r\n    }","title":"Should a servlet explicitly return at the end of doGet/doPost?","body":"<p>Is there any difference between explicitly returning at the end of doGet or doPost-methods, and just letting the method return \"by itself\"?</p>\n\n<pre><code>public void doGet(HttpSerlvetRequest req, HttpServletResponse resp) {\n    &lt;my code here&gt;\n    return;\n}\n\npublic void doGet(HttpSerlvetRequest req, HttpServletResponse resp) {\n    &lt;my code here&gt;\n}\n</code></pre>\n"},{"tags":["java","record","java-16","java-record"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1654070044,"post_id":72458073,"comment_id":128001562,"body_markdown":"Only the `dateOfBirth` field is &quot;deep cloned&quot;, none of your operations on the `Map` perfom &quot;deep cloning&quot;. The references in the new map&#39;s entries are still pointing to the existing objects. But those (String and Integer) are immutable, so it&#39;s not a terrible problem. Your loop can be replaced by `metaData = new HashMap(metaData);` since that constructor does exactly what your loop does.  `Map.copyOf` [creates an unmodifiable Map](https://docs.oracle.com/javase/10/docs/api/java/util/Map.html#copyOf(java.util.Map)), but the values are still the same.","body":"Only the <code>dateOfBirth</code> field is &quot;deep cloned&quot;, none of your operations on the <code>Map</code> perfom &quot;deep cloning&quot;. The references in the new map&#39;s entries are still pointing to the existing objects. But those (String and Integer) are immutable, so it&#39;s not a terrible problem. Your loop can be replaced by <code>metaData = new HashMap(metaData);</code> since that constructor does exactly what your loop does.  <code>Map.copyOf</code> <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Map.html#copyOf(java.util.Map)\" rel=\"nofollow noreferrer\">creates an unmodifiable Map</a>, but the values are still the same."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1654070139,"post_id":72458073,"comment_id":128001592,"body_markdown":"By the way… Why are you mixing the modern *java.time* classes with the terrible legacy date-time classes? Never use either `Date` class, they were replaced by `java.time.LocalDate` and `java.time.Instant` classes. Being mutable is one of the many flawed design decisions in those legacy classes.","body":"By the way… Why are you mixing the modern <i>java.time</i> classes with the terrible legacy date-time classes? Never use either <code>Date</code> class, they were replaced by <code>java.time.LocalDate</code> and <code>java.time.Instant</code> classes. Being mutable is one of the many flawed design decisions in those legacy classes."},{"owner":{"account_id":2497273,"reputation":483,"user_id":2173372,"accept_rate":14,"display_name":"user2173372"},"score":0,"creation_date":1654073083,"post_id":72458073,"comment_id":128002593,"body_markdown":"This example I have just  used to show the doubt I am having it  is not for the actual project.","body":"This example I have just  used to show the doubt I am having it  is not for the actual project."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1654077211,"post_id":72458536,"comment_id":128004131,"body_markdown":"It should be noted that when not using `Map.copyOf` but a mutable map, the record should also haven an explicit declaration of the `metaData()` method, creating and returning a defensive copy. Yet another reason to prefer `Map.copyOf` over a new `HashMap`. Of course, `copyOf` does not work if `null` support is needed. In this case, `metaData = Collections.unmodifiableMap(new HashMap&lt;&gt;(oldMetaData));` is preferable.","body":"It should be noted that when not using <code>Map.copyOf</code> but a mutable map, the record should also haven an explicit declaration of the <code>metaData()</code> method, creating and returning a defensive copy. Yet another reason to prefer <code>Map.copyOf</code> over a new <code>HashMap</code>. Of course, <code>copyOf</code> does not work if <code>null</code> support is needed. In this case, <code>metaData = Collections.unmodifiableMap(new HashMap&lt;&gt;(oldMetaData));</code> is preferable."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1654077676,"post_id":72458536,"comment_id":128004300,"body_markdown":"It’s also worth noting that `Map.copyOf` becomes a no-op when the source is already an immutable map. Which is very useful when dealing with multiple immutable objects, like passing the `metaData()` of one record to the constructor of another…","body":"It’s also worth noting that <code>Map.copyOf</code> becomes a no-op when the source is already an immutable map. Which is very useful when dealing with multiple immutable objects, like passing the <code>metaData()</code> of one record to the constructor of another…"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654131278,"post_id":72458536,"comment_id":128020742,"body_markdown":"@Holger Thanks. I incorporated some of your comments into the Answer.","body":"@Holger Thanks. I incorporated some of your comments into the Answer."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654153605,"post_id":72458536,"comment_id":128024668,"body_markdown":"@Holger Another good point. I incorporated into the Answer. Thank you again.","body":"@Holger Another good point. I incorporated into the Answer. Thank you again."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654153581,"creation_date":1654071648,"answer_id":72458536,"question_id":72458073,"body_markdown":"First of all, in terms of design, generally the responsibility for copying data should fall upon the calling method that instantiates the record. The constructor should *not* be doing this copying, commonly.\r\n\r\nLet’s change the name of this record, as “ImmutableRecord” is redundant, and fails to reflect your problem domain. Apparently you intend to represent students, given the admission date field. So your entire class definition could be:\r\n\r\n    public record Student ( String name, LocalDate admitted, LocalDate dateOfBirth, Map&lt;String, Integer&gt; metaData ) {}\r\n\r\nThe modern and immutable `LocalDate` class should always be used instead of the mutable legacy class `java.sql.Date` class.\r\n\r\nThe calling method should do the copying, as seen further below.\r\n\r\nRegarding your attempt to clone the map:\r\n\r\n        Map&lt;String, Integer&gt; tempMap = new HashMap&lt;&gt;();\r\n        for(Map.Entry&lt;String, Integer&gt; entry: metaData.entrySet()){\r\n            tempMap.put(entry.getKey(), entry.getValue());\r\n        }\r\n\r\nThat copying is *not* a deep clone. You did not copy the *content* of the keys. Nor did you copy the content of the values. You did create another `Map` object. But both the old map and the new map have entries holding *references* to the very same key &amp; value objects.\r\n\r\nYour copying is effectively the same as merely passing the old map to the constructor of a new map. Both old and new map have entries that point to the same key objects and the same value objects.\r\n\r\n    Map &lt; String , Integer &gt; metaData = new HashMap &lt;&gt; ( oldMetaData ) ;\r\n\r\nYour copying is nearly the same as `Map.copyOf( oldMap )` except that `copyOf` produces an unmodifiable map of some unspecified class implementing `Map` rather than a modifiable `HashMap`. But like your code above, both the old and new maps point to the same key objects and the same value objects. \r\n\r\nSo the calling code would look something like this:\r\n\r\n    Student someStudent = new Student( &quot;Alice&quot; , … ) ;\r\n    …\r\n    Student twinStudent = \r\n        new Student( \r\n            &quot;Bob&quot; , \r\n            LocalDate.of( 2021, Month.MARCH, 23 ), \r\n            someStudent.dateOfBirth, \r\n            Map.copyOf( someStudent.metaData ) \r\n        ) \r\n    ;\r\n\r\nThe purpose of the [records][1] feature is to concisely define a class whose main purpose is to communicate data transparently and immutably. So ideally a record should contain immutable content. That is another reason to prefer `Map.copyOf` over a new `HashMap`.\r\n\r\nAs [commented][2], another reason to prefer `Map.copyOf` is that if the passed map is already unmodifiable, that passed map is returned directly. Less memory used, and less CPU used.\r\n\r\nAs [commented][3], one possible limitation to using `Map.copyOf` is that nulls are *not* tolerated in the map reference, in any of the keys, nor in any of the values. `Map.copyOf` is a “null-free zone”, my own newly coined term. \r\n\r\nIf nulls are tolerable in your scheme, an alternative would be [`Collections.unmodifiableMap`][4]. And, for defensive programming, make a copy of the map being wrapped by `Collections.unmodifiableMap`. \r\n\r\n    metaData = Collections.unmodifiableMap( new HashMap&lt;&gt;( oldMetaData ) ) ;\r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/395\r\n  [2]: https://stackoverflow.com/questions/72458073/creating-immutable-records-having-mutable-fields/72458536?noredirect=1#comment128004300_72458536\r\n  [3]: https://stackoverflow.com/questions/72458073/creating-immutable-records-having-mutable-fields/72458536?noredirect=1#comment128004131_72458536\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#unmodifiableMap(java.util.Map)","title":"Creating immutable Records having mutable fields","body":"<p>First of all, in terms of design, generally the responsibility for copying data should fall upon the calling method that instantiates the record. The constructor should <em>not</em> be doing this copying, commonly.</p>\n<p>Let’s change the name of this record, as “ImmutableRecord” is redundant, and fails to reflect your problem domain. Apparently you intend to represent students, given the admission date field. So your entire class definition could be:</p>\n<pre><code>public record Student ( String name, LocalDate admitted, LocalDate dateOfBirth, Map&lt;String, Integer&gt; metaData ) {}\n</code></pre>\n<p>The modern and immutable <code>LocalDate</code> class should always be used instead of the mutable legacy class <code>java.sql.Date</code> class.</p>\n<p>The calling method should do the copying, as seen further below.</p>\n<p>Regarding your attempt to clone the map:</p>\n<pre><code>    Map&lt;String, Integer&gt; tempMap = new HashMap&lt;&gt;();\n    for(Map.Entry&lt;String, Integer&gt; entry: metaData.entrySet()){\n        tempMap.put(entry.getKey(), entry.getValue());\n    }\n</code></pre>\n<p>That copying is <em>not</em> a deep clone. You did not copy the <em>content</em> of the keys. Nor did you copy the content of the values. You did create another <code>Map</code> object. But both the old map and the new map have entries holding <em>references</em> to the very same key &amp; value objects.</p>\n<p>Your copying is effectively the same as merely passing the old map to the constructor of a new map. Both old and new map have entries that point to the same key objects and the same value objects.</p>\n<pre><code>Map &lt; String , Integer &gt; metaData = new HashMap &lt;&gt; ( oldMetaData ) ;\n</code></pre>\n<p>Your copying is nearly the same as <code>Map.copyOf( oldMap )</code> except that <code>copyOf</code> produces an unmodifiable map of some unspecified class implementing <code>Map</code> rather than a modifiable <code>HashMap</code>. But like your code above, both the old and new maps point to the same key objects and the same value objects.</p>\n<p>So the calling code would look something like this:</p>\n<pre><code>Student someStudent = new Student( &quot;Alice&quot; , … ) ;\n…\nStudent twinStudent = \n    new Student( \n        &quot;Bob&quot; , \n        LocalDate.of( 2021, Month.MARCH, 23 ), \n        someStudent.dateOfBirth, \n        Map.copyOf( someStudent.metaData ) \n    ) \n;\n</code></pre>\n<p>The purpose of the <a href=\"http://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">records</a> feature is to concisely define a class whose main purpose is to communicate data transparently and immutably. So ideally a record should contain immutable content. That is another reason to prefer <code>Map.copyOf</code> over a new <code>HashMap</code>.</p>\n<p>As <a href=\"https://stackoverflow.com/questions/72458073/creating-immutable-records-having-mutable-fields/72458536?noredirect=1#comment128004300_72458536\">commented</a>, another reason to prefer <code>Map.copyOf</code> is that if the passed map is already unmodifiable, that passed map is returned directly. Less memory used, and less CPU used.</p>\n<p>As <a href=\"https://stackoverflow.com/questions/72458073/creating-immutable-records-having-mutable-fields/72458536?noredirect=1#comment128004131_72458536\">commented</a>, one possible limitation to using <code>Map.copyOf</code> is that nulls are <em>not</em> tolerated in the map reference, in any of the keys, nor in any of the values. <code>Map.copyOf</code> is a “null-free zone”, my own newly coined term.</p>\n<p>If nulls are tolerable in your scheme, an alternative would be <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#unmodifiableMap(java.util.Map)\" rel=\"nofollow noreferrer\"><code>Collections.unmodifiableMap</code></a>. And, for defensive programming, make a copy of the map being wrapped by <code>Collections.unmodifiableMap</code>.</p>\n<pre><code>metaData = Collections.unmodifiableMap( new HashMap&lt;&gt;( oldMetaData ) ) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662110421,"creation_date":1662110421,"answer_id":73580367,"question_id":72458073,"body_markdown":"It is probably best to think of the design decision as binary... i.e., is it immutable or not?\r\n\r\nIn your case you have something that&#39;s mutable.  That being the case just use Lombok `@Data` to build it.\r\n\r\nIn addition you can:\r\n\r\n*  add @Builder to provide you with a fluent builder\r\n* add @With to provide you with a copying mutator","title":"Creating immutable Records having mutable fields","body":"<p>It is probably best to think of the design decision as binary... i.e., is it immutable or not?</p>\n<p>In your case you have something that's mutable.  That being the case just use Lombok <code>@Data</code> to build it.</p>\n<p>In addition you can:</p>\n<ul>\n<li>add @Builder to provide you with a fluent builder</li>\n<li>add @With to provide you with a copying mutator</li>\n</ul>\n"}],"owner":{"account_id":2497273,"reputation":483,"user_id":2173372,"accept_rate":14,"display_name":"user2173372"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3690,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1697170465,"creation_date":1654069385,"question_id":72458073,"body_markdown":"I want to create an immutable record which has 2 mutable fields Date and a HashMap\r\n\r\n    public record ImmutableRecord(String name, LocalDate admissionDate, Date dateOfBirth, Map&lt;String, Integer&gt; metaData) {\r\n    \r\n        public ImmutableRecord{\r\n            // Date is a mutable field\r\n            dateOfBirth = new Date(dateOfBirth.getTime());\r\n    \r\n            // HashMap is a mutable field\r\n            Map&lt;String, Integer&gt; tempMap = new HashMap&lt;&gt;();\r\n            for(Map.Entry&lt;String, Integer&gt; entry: metaData.entrySet()){\r\n                tempMap.put(entry.getKey(), entry.getValue());\r\n            }\r\n            metaData = tempMap;\r\n    \r\n            //Can I use following instead of above for deep copying the map?\r\n            metaData = Map.copyOf(metaData);\r\n        }\r\n    \r\n    }\r\n\r\nWhich of the following approach is correct using forEach to deep clone every field or using Map.copyOf","title":"Creating immutable Records having mutable fields","body":"<p>I want to create an immutable record which has 2 mutable fields Date and a HashMap</p>\n<pre><code>public record ImmutableRecord(String name, LocalDate admissionDate, Date dateOfBirth, Map&lt;String, Integer&gt; metaData) {\n\n    public ImmutableRecord{\n        // Date is a mutable field\n        dateOfBirth = new Date(dateOfBirth.getTime());\n\n        // HashMap is a mutable field\n        Map&lt;String, Integer&gt; tempMap = new HashMap&lt;&gt;();\n        for(Map.Entry&lt;String, Integer&gt; entry: metaData.entrySet()){\n            tempMap.put(entry.getKey(), entry.getValue());\n        }\n        metaData = tempMap;\n\n        //Can I use following instead of above for deep copying the map?\n        metaData = Map.copyOf(metaData);\n    }\n\n}\n</code></pre>\n<p>Which of the following approach is correct using forEach to deep clone every field or using Map.copyOf</p>\n"},{"tags":["java","db2","prepared-statement"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1445496776,"post_id":33274889,"comment_id":54350505,"body_markdown":"Show us the code that prepares and runs the statement.","body":"Show us the code that prepares and runs the statement."},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":0,"creation_date":1445499737,"post_id":33274889,"comment_id":54351993,"body_markdown":"@a_horse_with_no_name added","body":"@a_horse_with_no_name added"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1445499852,"post_id":33274889,"comment_id":54352046,"body_markdown":"What do you see when you add a `System.out.println(sSQL);` after the `getSQL()` call?","body":"What do you see when you add a <code>System.out.println(sSQL);</code> after the <code>getSQL()</code> call?"},{"owner":{"account_id":7104805,"reputation":1066,"user_id":5434821,"accept_rate":89,"display_name":"PK20"},"score":0,"creation_date":1445503670,"post_id":33274889,"comment_id":54354260,"body_markdown":"were you able to successfully execute your query outside your program. I think it is because of invalid schema or not able to reach db","body":"were you able to successfully execute your query outside your program. I think it is because of invalid schema or not able to reach db"},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":0,"creation_date":1445504929,"post_id":33274889,"comment_id":54355044,"body_markdown":"I&#39;m sorry, it maybe because of a blank query because there were some XML reading problems. After fixing them, the error went away. I will have to investigate further *if* the error comes up again.","body":"I&#39;m sorry, it maybe because of a blank query because there were some XML reading problems. After fixing them, the error went away. I will have to investigate further <i>if</i> the error comes up again."}],"answers":[{"comments":[{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":0,"creation_date":1663602212,"post_id":73725187,"comment_id":130273116,"body_markdown":"Thanks for your effort. This was 7 years ago, and I now have zero memory of what I was trying to do back then. Thanks anyway.","body":"Thanks for your effort. This was 7 years ago, and I now have zero memory of what I was trying to do back then. Thanks anyway."},{"owner":{"account_id":1575525,"reputation":587,"user_id":1462096,"accept_rate":16,"display_name":"b10n1k"},"score":0,"creation_date":1663653821,"post_id":73725187,"comment_id":130284170,"body_markdown":"why do you think this would work?","body":"why do you think this would work?"},{"owner":{"account_id":25857991,"reputation":1,"user_id":19590919,"display_name":"yang"},"score":0,"creation_date":1663810052,"post_id":73725187,"comment_id":130328673,"body_markdown":"Although the problem is seven years ago, I came across this error message &quot;ERRORCODE=-4462, SQLSTATE=null &quot;this year. After searching for a long time, I finally came across someone asking this question, but there was no answer under the post, so I want to answer it, if other people encounter this message, it should be easy to find the error reason","body":"Although the problem is seven years ago, I came across this error message &quot;ERRORCODE=-4462, SQLSTATE=null &quot;this year. After searching for a long time, I finally came across someone asking this question, but there was no answer under the post, so I want to answer it, if other people encounter this message, it should be easy to find the error reason"}],"tags":[],"owner":{"account_id":25857991,"reputation":1,"user_id":19590919,"display_name":"yang"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663210903,"creation_date":1663210903,"answer_id":73725187,"question_id":33274889,"body_markdown":"Because the SQL execution has comments;\r\nPlease refer to the official documentation\r\nhttps://www.ibm.com/support/pages/apar/PH14323\r\n\r\nAlso try writing it like this\r\n\r\n    &lt;sql&gt; \r\n      select MY_COLUMN from MY_TABLE where OTHER_COLUMN = ? \r\n    &lt;/sql&gt;","title":"DB2 SqlException: SQL passed with no tokens (Error Code -4462)","body":"<p>Because the SQL execution has comments;\nPlease refer to the official documentation\n<a href=\"https://www.ibm.com/support/pages/apar/PH14323\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/pages/apar/PH14323</a></p>\n<p>Also try writing it like this</p>\n<pre><code>&lt;sql&gt; \n  select MY_COLUMN from MY_TABLE where OTHER_COLUMN = ? \n&lt;/sql&gt;\n</code></pre>\n"}],"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697170216,"creation_date":1445496397,"question_id":33274889,"body_markdown":"Trying to use `prepareStatement` on a query from an XML file:\r\n\r\n    &lt;sql&gt;&lt;![CDATA[\r\n      select MY_COLUMN from MY_TABLE where OTHER_COLUMN = ? \r\n    ]]&gt;\r\n    &lt;/sql&gt;\r\n\r\nBut I get this exception:\r\n\r\n    com.ibm.db2.jcc.am.SqlException: [jcc][t4][10234][10927][3.59.81] SQL passed with no tokens. ERRORCODE=-4462, SQLSTATE=null\r\n            at com.ibm.db2.jcc.am.dd.a(dd.java:660)\r\n            at com.ibm.db2.jcc.am.dd.a(dd.java:60)\r\n            at com.ibm.db2.jcc.am.dd.a(dd.java:120)\r\n            at com.ibm.db2.jcc.am.jb.v(jb.java:7334)\r\n            at com.ibm.db2.jcc.am.jb.a(jb.java:2124)\r\n            at com.ibm.db2.jcc.am.jb.prepareStatement(jb.java:754)\r\n\r\nI read that this is because the SQL is not in a single line. Is that the cause?\r\n\r\nI also read that in IBM Portal, you have to change `db2_zos.DbDriverType` from 2 to 4. But I think it&#39;s irrelevant to me as I don&#39;t use IBM Portal.\r\n\r\nNothing else useful turned up from Google. I would love to know the real cause of the error, and to find an easier fix than forcing all SQL to single line.\r\n\r\n**Code:**\r\n\r\n    ArrayList arrList = new ArrayList();\r\n\r\n    String sSQL = queryManager.getSQL(&quot;QRY001&quot;);\r\n\r\n    Connection conn = null;\r\n    PreparedStatement ps = null;\r\n    ResultSet rs = null;\r\n    try {\r\n      conn = getConnection(); //a connection pool wrapper for java.sql.DriverManager.getConnection(...)\r\n      ps = conn.prepareStatement(sSQL); // **** EXCEPTION OCCURS HERE\r\n\r\n      ps.setInt(1, Integer.parseInt(otherColumn));\r\n      rs = ps.executeQuery();\r\n      while (rs.next())\r\n      {\r\n        arrList.add(rs.getString(1));\r\n      }\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n      throw new OEException(e);\r\n    } finally {\r\n      try {\r\n        if (rs != null) {\r\n          rs.close();\r\n        }\r\n        if (ps != null) {\r\n          ps.close();\r\n        }\r\n        releaseConnection(conn);\r\n      } catch (Exception e) {\r\n        throw new CustomException(e);\r\n      }\r\n    }\r\n    return arrList;","title":"DB2 SqlException: SQL passed with no tokens (Error Code -4462)","body":"<p>Trying to use <code>prepareStatement</code> on a query from an XML file:</p>\n\n<pre><code>&lt;sql&gt;&lt;![CDATA[\n  select MY_COLUMN from MY_TABLE where OTHER_COLUMN = ? \n]]&gt;\n&lt;/sql&gt;\n</code></pre>\n\n<p>But I get this exception:</p>\n\n<pre><code>com.ibm.db2.jcc.am.SqlException: [jcc][t4][10234][10927][3.59.81] SQL passed with no tokens. ERRORCODE=-4462, SQLSTATE=null\n        at com.ibm.db2.jcc.am.dd.a(dd.java:660)\n        at com.ibm.db2.jcc.am.dd.a(dd.java:60)\n        at com.ibm.db2.jcc.am.dd.a(dd.java:120)\n        at com.ibm.db2.jcc.am.jb.v(jb.java:7334)\n        at com.ibm.db2.jcc.am.jb.a(jb.java:2124)\n        at com.ibm.db2.jcc.am.jb.prepareStatement(jb.java:754)\n</code></pre>\n\n<p>I read that this is because the SQL is not in a single line. Is that the cause?</p>\n\n<p>I also read that in IBM Portal, you have to change <code>db2_zos.DbDriverType</code> from 2 to 4. But I think it's irrelevant to me as I don't use IBM Portal.</p>\n\n<p>Nothing else useful turned up from Google. I would love to know the real cause of the error, and to find an easier fix than forcing all SQL to single line.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>ArrayList arrList = new ArrayList();\n\nString sSQL = queryManager.getSQL(\"QRY001\");\n\nConnection conn = null;\nPreparedStatement ps = null;\nResultSet rs = null;\ntry {\n  conn = getConnection(); //a connection pool wrapper for java.sql.DriverManager.getConnection(...)\n  ps = conn.prepareStatement(sSQL); // **** EXCEPTION OCCURS HERE\n\n  ps.setInt(1, Integer.parseInt(otherColumn));\n  rs = ps.executeQuery();\n  while (rs.next())\n  {\n    arrList.add(rs.getString(1));\n  }\n} catch (Exception e) {\n  e.printStackTrace();\n  throw new OEException(e);\n} finally {\n  try {\n    if (rs != null) {\n      rs.close();\n    }\n    if (ps != null) {\n      ps.close();\n    }\n    releaseConnection(conn);\n  } catch (Exception e) {\n    throw new CustomException(e);\n  }\n}\nreturn arrList;\n</code></pre>\n"},{"tags":["java","hibernate","spring"],"comments":[{"owner":{"account_id":58992,"reputation":15767,"user_id":176569,"accept_rate":70,"display_name":"bpgergo"},"score":0,"creation_date":1321009040,"post_id":8092872,"comment_id":9920399,"body_markdown":"maybe you should have posted the pom.xml as well. there could be a problem with the Spring dependency. So make sure Spring jar will be on classpath when you run it.","body":"maybe you should have posted the pom.xml as well. there could be a problem with the Spring dependency. So make sure Spring jar will be on classpath when you run it."}],"answers":[{"tags":[],"owner":{"account_id":917764,"reputation":52459,"user_id":950178,"display_name":"Jayendra"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1321008834,"creation_date":1321008834,"answer_id":8092925,"question_id":8092872,"body_markdown":"Make sure archive `org.springframework.jdbc_XX.jar` exists in your classpath.","title":"java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource","body":"<p>Make sure archive <code>org.springframework.jdbc_XX.jar</code> exists in your classpath.</p>\n"},{"comments":[{"owner":{"account_id":2874535,"reputation":78,"user_id":2467003,"accept_rate":57,"display_name":"Adewale Oluyinka"},"score":0,"creation_date":1477259583,"post_id":24861413,"comment_id":67680844,"body_markdown":"Saved me. Thanks!","body":"Saved me. Thanks!"},{"owner":{"account_id":5263557,"reputation":127,"user_id":4204338,"accept_rate":100,"display_name":"John Lopez"},"score":0,"creation_date":1484694636,"post_id":24861413,"comment_id":70612799,"body_markdown":"In my case, I added [spring-jdbc 3.2.0](https://mvnrepository.com/artifact/org.springframework/spring-jdbc/3.2.0.RELEASE) in my classpath.\nThank you.","body":"In my case, I added <a href=\"https://mvnrepository.com/artifact/org.springframework/spring-jdbc/3.2.0.RELEASE\" rel=\"nofollow noreferrer\">spring-jdbc 3.2.0</a> in my classpath. Thank you."}],"tags":[],"owner":{"account_id":4777214,"reputation":277,"user_id":3859996,"accept_rate":20,"display_name":"Phong Nguyen"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1697170185,"creation_date":1405933937,"answer_id":24861413,"question_id":8092872,"body_markdown":"insert this dependency to your pom.xml file:\r\n\r\nIt will run properly definitely!\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.0.6.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource","body":"<p>insert this dependency to your pom.xml file:</p>\n<p>It will run properly definitely!</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;4.0.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1001426,"reputation":1683,"user_id":1016193,"accept_rate":42,"display_name":"achref05"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55504,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1697170185,"creation_date":1321008548,"question_id":8092872,"body_markdown":"I am writing an application using Hibernate and Spring. However I am encountering the following error:\r\n\r\n    nov. 11, 2011 10:32:11 AM org.apache.catalina.core.AprLifecycleListener init\r\n    Infos: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Program Files\\Java\\jre7\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\apache-maven-2.2.1\\bin;C:\\Program Files\\Java\\jdk1.7.0\\bin;C:\\Program Files\\Java\\jdk1.7.0\\jre\\bin;C:\\Program Files\\Java\\jdk1.7.0\\bin;C:\\Program Files\\Java\\jre7\\bin;C:\\apache-ant-1.8.2\\bin;.\r\n    nov. 11, 2011 10:32:12 AM org.apache.coyote.AbstractProtocol init\r\n    Infos: Initializing ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    nov. 11, 2011 10:32:12 AM org.apache.coyote.AbstractProtocol init\r\n    Infos: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    nov. 11, 2011 10:32:12 AM org.apache.catalina.startup.Catalina load\r\n    Infos: Initialization processed in 769 ms\r\n    nov. 11, 2011 10:32:12 AM org.apache.catalina.core.StandardService startInternal\r\n    Infos: D&#233;marrage du service Catalina\r\n    nov. 11, 2011 10:32:12 AM org.apache.catalina.core.StandardEngine startInternal\r\n    Infos: Starting Servlet Engine: Apache Tomcat/7.0.21\r\n    nov. 11, 2011 10:32:12 AM org.apache.catalina.startup.HostConfig deployDescriptor\r\n    Infos: D&#233;ploiement du descripteur de configuration achrefliferay-portlet.xml\r\n    nov. 11, 2011 10:32:12 AM org.apache.catalina.startup.HostConfig deployDescriptor\r\n    Avertissement: A docBase C:\\liferay-portal-6.1.0\\tomcat-7.0.21\\webapps\\achrefliferay-portlet inside the host appBase has been specified, and will be ignored\r\n    nov. 11, 2011 10:32:12 AM org.apache.catalina.startup.SetContextPropertiesRule begin\r\n    Avertissement: [SetContextPropertiesRule]{Context} Setting property &#39;source&#39; to &#39;org.eclipse.jst.jee.server:achrefliferay-portlet&#39; did not find a matching property.\r\n    10:32:13,318 INFO  [ContextLoader:187] Root WebApplicationContext: initialization started\r\n    10:32:13,367 INFO  [XmlWebApplicationContext:456] Refreshing Root WebApplicationContext: startup date [Fri Nov 11 10:32:13 GMT 2011]; root of context hierarchy\r\n    10:32:13,446 INFO  [XmlBeanDefinitionReader:315] Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]\r\n    10:32:13,705 INFO  [XmlBeanDefinitionReader:315] Loading XML bean definitions from ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]\r\n    10:32:14,198 INFO  [PropertyPlaceholderConfigurer:177] Loading properties file from ServletContext resource [/WEB-INF/jdbc.properties]\r\n    10:32:14,286 INFO  [DefaultListableBeanFactory:422] Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@2d726d05: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,articleDaoImp,org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,dataSource,sessionFactory,org.springframework.jdbc.datasource.DriverManagerDataSource#0,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,txnManager,org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor#0]; root of factory hierarchy\r\n    10:32:14,305 ERROR [ContextLoader:220] Context initialization failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor#0&#39; defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]: Initialization of bean failed; nested exception is java.lang.NoClassDefFoundError: Lorg/springframework/jdbc/support/lob/LobHandler;\r\n    Related cause: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name &#39;dataSource&#39; defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\r\n    Related cause: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name &#39;org.springframework.jdbc.datasource.DriverManagerDataSource#0&#39; defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:527)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\r\n    \tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.NoClassDefFoundError: Lorg/springframework/jdbc/support/lob/LobHandler;\r\n    \tat java.lang.Class.getDeclaredFields0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredFields(Unknown Source)\r\n    \tat java.lang.Class.getDeclaredFields(Unknown Source)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:372)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:320)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:798)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:493)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:398)\r\n    \tat org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \t... 18 more\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.jdbc.support.lob.LobHandler\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1678)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1523)\r\n    \t... 39 more\r\n    Related cause:\r\n    org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name &#39;dataSource&#39; defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1250)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:576)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1319)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:315)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:394)\r\n    \tat org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\r\n    \tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1678)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1523)\r\n    \tat org.springframework.util.ClassUtils.forName(ClassUtils.java:257)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:408)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1271)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1242)\r\n    \t... 30 more\r\n    Related cause:\r\n    org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name &#39;org.springframework.jdbc.datasource.DriverManagerDataSource#0&#39; defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1250)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:576)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1319)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:315)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:394)\r\n    \tat org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\r\n    \tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1678)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1523)\r\n    \tat org.springframework.util.ClassUtils.forName(ClassUtils.java:257)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:408)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1271)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1242)\r\n    \t... 30 more\r\n    nov. 11, 2011 10:32:14 AM org.apache.catalina.core.StandardContext startInternal\r\n    Grave: Error listenerStart\r\n    nov. 11, 2011 10:32:14 AM org.apache.catalina.core.StandardContext startInternal\r\n    Grave: Erreur de d&#233;marrage du contexte [/achrefliferay-portlet] suite aux erreurs pr&#233;c&#233;dentes\r\n    nov. 11, 2011 10:32:14 AM org.apache.catalina.startup.HostConfig deployDescriptor\r\n    Infos: D&#233;ploiement du descripteur de configuration ROOT.xml\r\n    Loading jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/system.properties\r\n    10:32:15,617 INFO  [EasyConf:122] Refreshed the configuration of all components\r\n    10:32:15,959 INFO  [ConfigurationLoader:56] Properties for jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal loaded from [file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-developer.properties, file:/C:/liferay-portal-6.1.0/portal-ide.properties, file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-ext.properties, jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal.properties]\r\n    Loading jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal.properties\r\n    Loading file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-ext.properties\r\n    Loading file:/C:/liferay-portal-6.1.0/portal-ide.properties\r\n    Loading file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-developer.properties\r\n    10:32:22,625 INFO  [DialectDetector:80] Determine dialect for PostgreSQL 9\r\n    10:32:22,678 INFO  [DialectDetector:145] Found dialect org.hibernate.dialect.PostgreSQLDialect\r\n    Starting Liferay Portal Community Edition 6.1.0 CE (Paton / Build 6100 / March 24, 2011)\r\n    10:32:47,529 INFO  [BaseDB:406] Database supports case sensitive queries\r\n    10:32:48,000 INFO  [PluginPackageUtil:1098] Reading plugin package for the root context\r\n    10:32:54,200 INFO  [PluginPackageUtil:1282] Reloading repositories\r\n    10:32:59,742 INFO  [AutoDeployDir:105] Auto deploy scanner started for C:\\liferay-portal-6.1.0\\deploy\r\n    10:33:01,108 INFO  [PluginPackageUtil:1101] Reading plugin package for achrefliferay-portlet\r\n    10:33:01,109 WARN  [PluginPackageUtil:1060] Plugin package on context achrefliferay-portlet cannot be tracked because this WAR does not contain a liferay-plugin-package.xml file\r\n    nov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\r\n    Infos: Illegal access: this web application instance has been stopped already.  Could not load service.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\r\n    nov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\r\n    Infos: Illegal access: this web application instance has been stopped already.  Could not load service.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\r\n    nov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\r\n    Infos: Illegal access: this web application instance has been stopped already.  Could not load portlet.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\r\n    nov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\r\n    Infos: Illegal access: this web application instance has been stopped already.  Could not load portlet.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\r\n    nov. 11, 2011 10:33:01 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    Infos: D&#233;ploiement du r&#233;pertoire tunnel-web de l&#39;application web\r\n    nov. 11, 2011 10:33:08 AM org.apache.coyote.AbstractProtocol start\r\n    Infos: Starting ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    nov. 11, 2011 10:33:08 AM org.apache.coyote.AbstractProtocol start\r\n    Infos: Starting ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    nov. 11, 2011 10:33:08 AM org.apache.catalina.startup.Catalina start\r\n    Infos: Server startup in 55882 ms\r\n\r\n##hibernatedataaccess.xml\r\n\r\nThis is my `hibernatedataaccess.xml`:\r\n      \r\n&lt;!-- language: lang-xml --&gt;\r\n        \r\n          &lt;!-- Auto-detect the DAOs --&gt;\r\n          &lt;context:component-scan base-package=&quot;com.bd.dao&quot;/&gt;\r\n        \r\n          &lt;context:property-placeholder location=&quot;WEB-INF/jdbc.properties&quot;/&gt;\r\n        \r\n        \r\n        \t&lt;bean id=&quot;dataSource&quot;\r\n        \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;${database.driver}&quot; /&gt;\r\n        \t\t&lt;property name=&quot;url&quot; value=&quot;${database.url}&quot; /&gt;\r\n        \t\t&lt;property name=&quot;username&quot; value=&quot;${database.user}&quot; /&gt;\r\n        \t\t&lt;property name=&quot;password&quot; value=&quot;${database.password}&quot; /&gt;\r\n        \t&lt;/bean&gt;\r\n        \r\n         \r\n          \r\n          \t&lt;bean id=&quot;sessionFactory&quot;\r\n        \t\tclass=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n        \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n        \t\t&lt;property name=&quot;annotatedClasses&quot;&gt;\r\n        \t\t\t&lt;list&gt;\r\n        \t\t\t\t&lt;value&gt;com.bd.entity.Article&lt;/value&gt;\r\n        \t\t\t\t\r\n        \t\t\t&lt;/list&gt;\r\n        \t\t&lt;/property&gt;\r\n        \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n        \t\t\t&lt;props&gt;\r\n        \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;${hibernate.dialect}&lt;/prop&gt;\r\n        \t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;${hibernate.show_sql}&lt;/prop&gt;\t\t\r\n        \t\t\t\t&lt;!-- generation base donn&#233;e \t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create-drop&lt;/prop&gt; --&gt;\r\n        \t\t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create-drop&lt;/prop&gt;\r\n        \t\t\t&lt;/props&gt;\r\n        \t\t&lt;/property&gt;\r\n        \t\t\r\n        \t&lt;/bean&gt;\r\n          \r\n          \r\n        \r\n          &lt;tx:annotation-driven transaction-manager=&quot;txnManager&quot;/&gt;\r\n        \r\n          &lt;bean id=&quot;txnManager&quot;\r\n                class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;\r\n                p:sessionFactory-ref=&quot;sessionFactory&quot;/&gt;\r\n        \r\n          &lt;bean class=&quot;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor&quot;/&gt;\r\n        \r\n        &lt;/beans&gt;\r\n    \r\n##aplicationcontest.xml\r\n\r\nThis is my `aplicationcontest.xml`:\r\n    \r\n&lt;!-- language: lang-xml --&gt;\r\n    \r\n      &lt;!-- Auto-detect components --&gt;\r\n      &lt;context:component-scan base-package=&quot;com.bd.entity&quot;/&gt; \r\n    &lt;b:import resource=&quot;hibernateDataAccessContext.xml&quot;/&gt;\r\n    \r\n    &lt;/b:beans&gt;\r\n\r\n## Web.xml\r\n\r\nThis is my `web.xml`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n      &lt;display-name&gt;achrefliferay-portlet&lt;/display-name&gt;\r\n      \r\n       &lt;context-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;\r\n    \r\n                            /WEB-INF/applicationContext.xml\r\n    \r\n            &lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n    \r\n     &lt;context-param&gt;\r\n        &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;/WEB-INF/classes/log4j.properties&lt;/param-value&gt;\r\n      &lt;/context-param&gt;\r\n      \r\n      &lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n      \r\n      &lt;context-param&gt;\r\n    \t\t&lt;description&gt;\r\n    \t\tVaadin production mode&lt;/description&gt;\r\n    \t\t&lt;param-name&gt;productionMode&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;false&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;Vaadin&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;description&gt;\r\n    \t\t\tVaadin application class to start&lt;/description&gt;\r\n    \t\t\t&lt;param-name&gt;application&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;com.vaadin.demo.workoutlog.WorkoutLog&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;Vaadin&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/Vaadin-hibernate-portletApplicationServlet/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;Vaadin&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/VAADIN/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n      \r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n      &lt;jsp-config&gt;\r\n      \t&lt;taglib&gt;\r\n      \t\t&lt;taglib-uri&gt;http://java.sun.com/portlet_2_0&lt;/taglib-uri&gt;\r\n      \t\t&lt;taglib-location&gt;\r\n      \t\t\t/WEB-INF/tld/liferay-portlet.tld\r\n      \t\t&lt;/taglib-location&gt;\r\n      \t&lt;/taglib&gt;\r\n      &lt;/jsp-config&gt;\r\n    &lt;/web-app&gt;\r\n\r\n\r\n\r\nWhat could be wrong?\r\n        ","title":"java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource","body":"<p>I am writing an application using Hibernate and Spring. However I am encountering the following error:</p>\n\n<pre><code>nov. 11, 2011 10:32:11 AM org.apache.catalina.core.AprLifecycleListener init\nInfos: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Program Files\\Java\\jre7\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\apache-maven-2.2.1\\bin;C:\\Program Files\\Java\\jdk1.7.0\\bin;C:\\Program Files\\Java\\jdk1.7.0\\jre\\bin;C:\\Program Files\\Java\\jdk1.7.0\\bin;C:\\Program Files\\Java\\jre7\\bin;C:\\apache-ant-1.8.2\\bin;.\nnov. 11, 2011 10:32:12 AM org.apache.coyote.AbstractProtocol init\nInfos: Initializing ProtocolHandler [\"http-bio-8080\"]\nnov. 11, 2011 10:32:12 AM org.apache.coyote.AbstractProtocol init\nInfos: Initializing ProtocolHandler [\"ajp-bio-8009\"]\nnov. 11, 2011 10:32:12 AM org.apache.catalina.startup.Catalina load\nInfos: Initialization processed in 769 ms\nnov. 11, 2011 10:32:12 AM org.apache.catalina.core.StandardService startInternal\nInfos: Démarrage du service Catalina\nnov. 11, 2011 10:32:12 AM org.apache.catalina.core.StandardEngine startInternal\nInfos: Starting Servlet Engine: Apache Tomcat/7.0.21\nnov. 11, 2011 10:32:12 AM org.apache.catalina.startup.HostConfig deployDescriptor\nInfos: Déploiement du descripteur de configuration achrefliferay-portlet.xml\nnov. 11, 2011 10:32:12 AM org.apache.catalina.startup.HostConfig deployDescriptor\nAvertissement: A docBase C:\\liferay-portal-6.1.0\\tomcat-7.0.21\\webapps\\achrefliferay-portlet inside the host appBase has been specified, and will be ignored\nnov. 11, 2011 10:32:12 AM org.apache.catalina.startup.SetContextPropertiesRule begin\nAvertissement: [SetContextPropertiesRule]{Context} Setting property 'source' to 'org.eclipse.jst.jee.server:achrefliferay-portlet' did not find a matching property.\n10:32:13,318 INFO  [ContextLoader:187] Root WebApplicationContext: initialization started\n10:32:13,367 INFO  [XmlWebApplicationContext:456] Refreshing Root WebApplicationContext: startup date [Fri Nov 11 10:32:13 GMT 2011]; root of context hierarchy\n10:32:13,446 INFO  [XmlBeanDefinitionReader:315] Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]\n10:32:13,705 INFO  [XmlBeanDefinitionReader:315] Loading XML bean definitions from ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]\n10:32:14,198 INFO  [PropertyPlaceholderConfigurer:177] Loading properties file from ServletContext resource [/WEB-INF/jdbc.properties]\n10:32:14,286 INFO  [DefaultListableBeanFactory:422] Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@2d726d05: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,articleDaoImp,org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,dataSource,sessionFactory,org.springframework.jdbc.datasource.DriverManagerDataSource#0,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,txnManager,org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor#0]; root of factory hierarchy\n10:32:14,305 ERROR [ContextLoader:220] Context initialization failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor#0' defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]: Initialization of bean failed; nested exception is java.lang.NoClassDefFoundError: Lorg/springframework/jdbc/support/lob/LobHandler;\nRelated cause: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name 'dataSource' defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\nRelated cause: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name 'org.springframework.jdbc.datasource.DriverManagerDataSource#0' defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:527)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\n    at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\n    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.NoClassDefFoundError: Lorg/springframework/jdbc/support/lob/LobHandler;\n    at java.lang.Class.getDeclaredFields0(Native Method)\n    at java.lang.Class.privateGetDeclaredFields(Unknown Source)\n    at java.lang.Class.getDeclaredFields(Unknown Source)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:372)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:320)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:798)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:493)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:398)\n    at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    ... 18 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.jdbc.support.lob.LobHandler\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1678)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1523)\n    ... 39 more\nRelated cause:\norg.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name 'dataSource' defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1250)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:576)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1319)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:315)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:394)\n    at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\n    at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\n    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1678)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1523)\n    at org.springframework.util.ClassUtils.forName(ClassUtils.java:257)\n    at org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:408)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1271)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1242)\n    ... 30 more\nRelated cause:\norg.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name 'org.springframework.jdbc.datasource.DriverManagerDataSource#0' defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1250)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:576)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1319)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:315)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:394)\n    at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\n    at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\n    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1678)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1523)\n    at org.springframework.util.ClassUtils.forName(ClassUtils.java:257)\n    at org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:408)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1271)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1242)\n    ... 30 more\nnov. 11, 2011 10:32:14 AM org.apache.catalina.core.StandardContext startInternal\nGrave: Error listenerStart\nnov. 11, 2011 10:32:14 AM org.apache.catalina.core.StandardContext startInternal\nGrave: Erreur de démarrage du contexte [/achrefliferay-portlet] suite aux erreurs précédentes\nnov. 11, 2011 10:32:14 AM org.apache.catalina.startup.HostConfig deployDescriptor\nInfos: Déploiement du descripteur de configuration ROOT.xml\nLoading jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/system.properties\n10:32:15,617 INFO  [EasyConf:122] Refreshed the configuration of all components\n10:32:15,959 INFO  [ConfigurationLoader:56] Properties for jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal loaded from [file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-developer.properties, file:/C:/liferay-portal-6.1.0/portal-ide.properties, file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-ext.properties, jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal.properties]\nLoading jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal.properties\nLoading file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-ext.properties\nLoading file:/C:/liferay-portal-6.1.0/portal-ide.properties\nLoading file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-developer.properties\n10:32:22,625 INFO  [DialectDetector:80] Determine dialect for PostgreSQL 9\n10:32:22,678 INFO  [DialectDetector:145] Found dialect org.hibernate.dialect.PostgreSQLDialect\nStarting Liferay Portal Community Edition 6.1.0 CE (Paton / Build 6100 / March 24, 2011)\n10:32:47,529 INFO  [BaseDB:406] Database supports case sensitive queries\n10:32:48,000 INFO  [PluginPackageUtil:1098] Reading plugin package for the root context\n10:32:54,200 INFO  [PluginPackageUtil:1282] Reloading repositories\n10:32:59,742 INFO  [AutoDeployDir:105] Auto deploy scanner started for C:\\liferay-portal-6.1.0\\deploy\n10:33:01,108 INFO  [PluginPackageUtil:1101] Reading plugin package for achrefliferay-portlet\n10:33:01,109 WARN  [PluginPackageUtil:1060] Plugin package on context achrefliferay-portlet cannot be tracked because this WAR does not contain a liferay-plugin-package.xml file\nnov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\nInfos: Illegal access: this web application instance has been stopped already.  Could not load service.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\nnov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\nInfos: Illegal access: this web application instance has been stopped already.  Could not load service.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\nnov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\nInfos: Illegal access: this web application instance has been stopped already.  Could not load portlet.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\nnov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\nInfos: Illegal access: this web application instance has been stopped already.  Could not load portlet.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\nnov. 11, 2011 10:33:01 AM org.apache.catalina.startup.HostConfig deployDirectory\nInfos: Déploiement du répertoire tunnel-web de l'application web\nnov. 11, 2011 10:33:08 AM org.apache.coyote.AbstractProtocol start\nInfos: Starting ProtocolHandler [\"http-bio-8080\"]\nnov. 11, 2011 10:33:08 AM org.apache.coyote.AbstractProtocol start\nInfos: Starting ProtocolHandler [\"ajp-bio-8009\"]\nnov. 11, 2011 10:33:08 AM org.apache.catalina.startup.Catalina start\nInfos: Server startup in 55882 ms\n</code></pre>\n\n<h2>hibernatedataaccess.xml</h2>\n\n<p>This is my <code>hibernatedataaccess.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;!-- Auto-detect the DAOs --&gt;\n      &lt;context:component-scan base-package=\"com.bd.dao\"/&gt;\n\n      &lt;context:property-placeholder location=\"WEB-INF/jdbc.properties\"/&gt;\n\n\n        &lt;bean id=\"dataSource\"\n            class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n            &lt;property name=\"driverClassName\" value=\"${database.driver}\" /&gt;\n            &lt;property name=\"url\" value=\"${database.url}\" /&gt;\n            &lt;property name=\"username\" value=\"${database.user}\" /&gt;\n            &lt;property name=\"password\" value=\"${database.password}\" /&gt;\n        &lt;/bean&gt;\n\n\n\n        &lt;bean id=\"sessionFactory\"\n            class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n            &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n            &lt;property name=\"annotatedClasses\"&gt;\n                &lt;list&gt;\n                    &lt;value&gt;com.bd.entity.Article&lt;/value&gt;\n\n                &lt;/list&gt;\n            &lt;/property&gt;\n            &lt;property name=\"hibernateProperties\"&gt;\n                &lt;props&gt;\n                    &lt;prop key=\"hibernate.dialect\"&gt;${hibernate.dialect}&lt;/prop&gt;\n                    &lt;prop key=\"hibernate.show_sql\"&gt;${hibernate.show_sql}&lt;/prop&gt;     \n                    &lt;!-- generation base donnée     &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;create-drop&lt;/prop&gt; --&gt;\n            &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;create-drop&lt;/prop&gt;\n                &lt;/props&gt;\n            &lt;/property&gt;\n\n        &lt;/bean&gt;\n\n\n\n      &lt;tx:annotation-driven transaction-manager=\"txnManager\"/&gt;\n\n      &lt;bean id=\"txnManager\"\n            class=\"org.springframework.orm.hibernate3.HibernateTransactionManager\"\n            p:sessionFactory-ref=\"sessionFactory\"/&gt;\n\n      &lt;bean class=\"org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor\"/&gt;\n\n    &lt;/beans&gt;\n</code></pre>\n\n<h2>aplicationcontest.xml</h2>\n\n<p>This is my <code>aplicationcontest.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;!-- Auto-detect components --&gt;\n  &lt;context:component-scan base-package=\"com.bd.entity\"/&gt; \n&lt;b:import resource=\"hibernateDataAccessContext.xml\"/&gt;\n\n&lt;/b:beans&gt;\n</code></pre>\n\n<h2>Web.xml</h2>\n\n<p>This is my <code>web.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" id=\"WebApp_ID\" version=\"2.5\"&gt;\n  &lt;display-name&gt;achrefliferay-portlet&lt;/display-name&gt;\n\n   &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n\n                        /WEB-INF/applicationContext.xml\n\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n &lt;context-param&gt;\n    &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/classes/log4j.properties&lt;/param-value&gt;\n  &lt;/context-param&gt;\n\n  &lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n  &lt;context-param&gt;\n        &lt;description&gt;\n        Vaadin production mode&lt;/description&gt;\n        &lt;param-name&gt;productionMode&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Vaadin&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;description&gt;\n            Vaadin application class to start&lt;/description&gt;\n            &lt;param-name&gt;application&lt;/param-name&gt;\n            &lt;param-value&gt;com.vaadin.demo.workoutlog.WorkoutLog&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Vaadin&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/Vaadin-hibernate-portletApplicationServlet/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Vaadin&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/VAADIN/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n  &lt;jsp-config&gt;\n    &lt;taglib&gt;\n        &lt;taglib-uri&gt;http://java.sun.com/portlet_2_0&lt;/taglib-uri&gt;\n        &lt;taglib-location&gt;\n            /WEB-INF/tld/liferay-portlet.tld\n        &lt;/taglib-location&gt;\n    &lt;/taglib&gt;\n  &lt;/jsp-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>What could be wrong?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":485590,"reputation":2558,"user_id":901982,"accept_rate":54,"display_name":"Matto"},"score":1,"creation_date":1377544550,"post_id":8958217,"comment_id":27114503,"body_markdown":"I wonder, will deleting in a loop cause performance problems?","body":"I wonder, will deleting in a loop cause performance problems?"}],"answers":[{"comments":[{"owner":{"account_id":24677,"reputation":6257,"user_id":62921,"accept_rate":100,"display_name":"ForceMagic"},"score":1,"creation_date":1353725091,"post_id":8959971,"comment_id":18538377,"body_markdown":"Just a note for other people. If you use the Hibernate version suggested by Jamshid, you still have to store the transaction : tx = session.beginTransaction(); and then execute a commit : tx.commit(); in order to get it working.","body":"Just a note for other people. If you use the Hibernate version suggested by Jamshid, you still have to store the transaction : tx = session.beginTransaction(); and then execute a commit : tx.commit(); in order to get it working."},{"owner":{"account_id":415789,"reputation":426,"user_id":790797,"accept_rate":75,"display_name":"Lyrion"},"score":1,"creation_date":1353931705,"post_id":8959971,"comment_id":18584003,"body_markdown":"Does that criteria actually work? It looks strange, getting student as uniqueResult then deleting that.","body":"Does that criteria actually work? It looks strange, getting student as uniqueResult then deleting that."},{"owner":{"account_id":1147586,"reputation":481,"user_id":1130007,"display_name":"chan"},"score":1,"creation_date":1364557180,"post_id":8959971,"comment_id":22298422,"body_markdown":"I have moved away from Hibernate and sorry to put this comment after really long time but I don&#39;t think the above hibernate criteria example will work because that is the main reason why I asked this question and why I had to do the way I am doing it in my example.","body":"I have moved away from Hibernate and sorry to put this comment after really long time but I don&#39;t think the above hibernate criteria example will work because that is the main reason why I asked this question and why I had to do the way I am doing it in my example."},{"owner":{"account_id":84980,"reputation":1626,"user_id":237229,"accept_rate":80,"display_name":"Michael"},"score":1,"creation_date":1403220371,"post_id":8959971,"comment_id":37586372,"body_markdown":"This isn&#39;t a particularly good solution, you will need to go to the db to retrieve the results and then send a subsequent delete instruction.  What if you have to delete 1M rows?  You really don&#39;t want to pull them all in to memory to only reissue the query back to the DB.","body":"This isn&#39;t a particularly good solution, you will need to go to the db to retrieve the results and then send a subsequent delete instruction.  What if you have to delete 1M rows?  You really don&#39;t want to pull them all in to memory to only reissue the query back to the DB."},{"owner":{"account_id":182362,"reputation":15840,"user_id":416996,"accept_rate":85,"display_name":"Jama A."},"score":0,"creation_date":1403284274,"post_id":8959971,"comment_id":37613902,"body_markdown":"@Michael, you are absolutely right... I mentioned Criteria is meant for retrieving and i just answered how to achieve that even with Criteria while saying HQL is best option...","body":"@Michael, you are absolutely right... I mentioned Criteria is meant for retrieving and i just answered how to achieve that even with Criteria while saying HQL is best option..."},{"owner":{"account_id":52517,"reputation":6279,"user_id":156973,"display_name":"izogfif"},"score":0,"creation_date":1601283473,"post_id":8959971,"comment_id":113348371,"body_markdown":"But will HQL work in case of compound key? I want to delete multiple entities that have ids from the given list. ID is an `@Embeddable` class.","body":"But will HQL work in case of compound key? I want to delete multiple entities that have ids from the given list. ID is an <code>@Embeddable</code> class."}],"tags":[],"owner":{"account_id":182362,"reputation":15840,"user_id":416996,"accept_rate":85,"display_name":"Jama A."},"comment_count":6,"down_vote_count":2,"up_vote_count":78,"is_accepted":false,"score":76,"last_activity_date":1697168975,"creation_date":1327221718,"answer_id":8959971,"question_id":8958217,"body_markdown":"For **deleting** data, use HQL which is **the best option**.\r\nI think **Criteria&#39;s** main purpose is for **retrieving** data only.\r\n\r\nThis one is with `Criteria`:\r\n\r\n```java\r\nStudent student = (Student ) session.createCriteria(Student.class)\r\n\t\t\t\t.add(Restrictions.eq(&quot;classId&quot;, classId)).uniqueResult();\r\nsession.delete(student);\r\n```\r\n\r\nAnd this one is simple HQL query:\r\n\r\n```java\r\nString hql = &quot;delete from Student where classId= :classId&quot;;\r\nsession.createQuery(hql).setString(&quot;classId&quot;, classId).executeUpdate();\r\n```\r\n","title":"How to delete by criteria in hibernate?","body":"<p>For <strong>deleting</strong> data, use HQL which is <strong>the best option</strong>.\nI think <strong>Criteria's</strong> main purpose is for <strong>retrieving</strong> data only.</p>\n<p>This one is with <code>Criteria</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Student student = (Student ) session.createCriteria(Student.class)\n                .add(Restrictions.eq(&quot;classId&quot;, classId)).uniqueResult();\nsession.delete(student);\n</code></pre>\n<p>And this one is simple HQL query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String hql = &quot;delete from Student where classId= :classId&quot;;\nsession.createQuery(hql).setString(&quot;classId&quot;, classId).executeUpdate();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"score":0,"creation_date":1614639687,"post_id":13404758,"comment_id":117441864,"body_markdown":"why do you use `setLong` with `new Integer()` ?","body":"why do you use <code>setLong</code> with <code>new Integer()</code> ?"}],"tags":[],"owner":{"account_id":227875,"reputation":557,"user_id":489802,"accept_rate":71,"display_name":"Shams"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1487768708,"creation_date":1353007907,"answer_id":13404758,"question_id":8958217,"body_markdown":" You can easily achieve by following simple hibernate as follows,\r\n\r\n    Session session=getSession();  \r\n    String hql = &quot;delete from Student where classId= :id&quot;; \r\n    session.createQuery(hql).setLong(&quot;id&quot;, new Integer(id)).executeUpdate();\r\n    \r\n\r\nfor details [refer][1]\r\n\r\n\r\n  [1]: http://www.smashplus.info/2012/11/delete-query-in-hibernate-example.html","title":"How to delete by criteria in hibernate?","body":"<p>You can easily achieve by following simple hibernate as follows,</p>\n\n<pre><code>Session session=getSession();  \nString hql = \"delete from Student where classId= :id\"; \nsession.createQuery(hql).setLong(\"id\", new Integer(id)).executeUpdate();\n</code></pre>\n\n<p>for details <a href=\"http://www.smashplus.info/2012/11/delete-query-in-hibernate-example.html\" rel=\"noreferrer\">refer</a></p>\n"},{"tags":[],"owner":{"account_id":4998832,"reputation":74,"user_id":4018442,"display_name":"onacione"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1418894837,"creation_date":1418894837,"answer_id":27543172,"question_id":8958217,"body_markdown":"   \r\n\r\n     /**\r\n     * \r\n     * @param objects\r\n     */\r\n     public static void deleteAll(List&lt;?&gt; objects) {\r\n        \r\n                try {\r\n                    HibernateEntityManager em = JPA.em().unwrap(HibernateEntityManager.class);\r\n                    Session session = em.getSession();\r\n                    for (Object o : objects) {\r\n                        session.delete(o);\r\n                    }\r\n                } catch (Exception e) {\r\n                    Logger.error(&quot;CommonHibernateBD_deleteAll error: &quot; + e);\r\n                    e.printStackTrace();\r\n                }\r\n        \r\n         }","title":"How to delete by criteria in hibernate?","body":"<pre><code> /**\n * \n * @param objects\n */\n public static void deleteAll(List&lt;?&gt; objects) {\n\n            try {\n                HibernateEntityManager em = JPA.em().unwrap(HibernateEntityManager.class);\n                Session session = em.getSession();\n                for (Object o : objects) {\n                    session.delete(o);\n                }\n            } catch (Exception e) {\n                Logger.error(\"CommonHibernateBD_deleteAll error: \" + e);\n                e.printStackTrace();\n            }\n\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5428310,"reputation":51,"user_id":4319957,"accept_rate":50,"display_name":"Boni Saputra"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1439949824,"creation_date":1439949824,"answer_id":32085391,"question_id":8958217,"body_markdown":"first you need a form with input , the value of the input is model that you have modeled in modelmap, than\r\nmake \r\n&lt;a href=&quot;delete?id=${studentid}&quot;&gt;delete &lt;a/&gt;\r\nin some link.\r\nthan get the id parameter , with \r\n@requestparam(&quot;id&quot;)String id\r\n\r\nknow we got id of the object\r\nand then delete the id\r\ne.g.\r\n\r\n    @RequestMapping(value=&quot;delsubloc&quot;,method=RequestMethod.GET)\r\n    \tpublic String DeleteLoc(@RequestParam(&quot;id&quot;)Long id) {\r\n    \t\tPplLocDtlDAO dtl = new PplLocDtlDAO();\r\n    \t\tPplLocDtl loc = new PplLocDtl();\r\n    \t\tloc.setLocDtlId((long)id);\r\n    \t\tdtl.delete(loc);\r\n    \t\treturn &quot;redirect:/lokasi&quot;;\r\n        }\r\n\r\n","title":"How to delete by criteria in hibernate?","body":"<p>first you need a form with input , the value of the input is model that you have modeled in modelmap, than\nmake \ndelete \nin some link.\nthan get the id parameter , with \n@requestparam(\"id\")String id</p>\n\n<p>know we got id of the object\nand then delete the id\ne.g.</p>\n\n<pre><code>@RequestMapping(value=\"delsubloc\",method=RequestMethod.GET)\n    public String DeleteLoc(@RequestParam(\"id\")Long id) {\n        PplLocDtlDAO dtl = new PplLocDtlDAO();\n        PplLocDtl loc = new PplLocDtl();\n        loc.setLocDtlId((long)id);\n        dtl.delete(loc);\n        return \"redirect:/lokasi\";\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1401475,"reputation":1995,"user_id":1339923,"accept_rate":100,"display_name":"Lambart"},"score":3,"creation_date":1489880395,"post_id":32203081,"comment_id":72865734,"body_markdown":"Well, it doesn&#39;t directly answer the question &quot;How can I do this using Hibernate with criteria?&quot; ... but does implement the simplest, pure-Hibernate solution for deleting a single entity by id.","body":"Well, it doesn&#39;t directly answer the question &quot;How can I do this using Hibernate with criteria?&quot; ... but does implement the simplest, pure-Hibernate solution for deleting a single entity by id."},{"owner":{"account_id":2648056,"reputation":6847,"user_id":2290369,"accept_rate":80,"display_name":"Ismail Yavuz"},"score":1,"creation_date":1489985152,"post_id":32203081,"comment_id":72892566,"body_markdown":"@Lambart You&#39;re right but probably &quot;with criteria&quot; means &quot;I want to use objects&quot; here. So I keep the answer.","body":"@Lambart You&#39;re right but probably &quot;with criteria&quot; means &quot;I want to use objects&quot; here. So I keep the answer."}],"tags":[],"owner":{"account_id":2648056,"reputation":6847,"user_id":2290369,"accept_rate":80,"display_name":"Ismail Yavuz"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1440502988,"creation_date":1440502988,"answer_id":32203081,"question_id":8958217,"body_markdown":"This one is the best way and better than @Jama Asatillayev &#39;s answer.\r\nBecause you dont have to retrieve the persistent object first. \r\n\r\n    Product product = new Product();\r\n    product.setId(37);\r\n    session.delete(product);\r\n\r\nAnd hibernate will run:\r\n\r\n    Hibernate: delete from PRODUCT where PRODUCT_ID=?\r\n\r\nMore details: http://www.codejava.net/frameworks/hibernate/hibernate-basics-3-ways-to-delete-an-entity-from-the-datastore","title":"How to delete by criteria in hibernate?","body":"<p>This one is the best way and better than @Jama Asatillayev 's answer.\nBecause you dont have to retrieve the persistent object first. </p>\n\n<pre><code>Product product = new Product();\nproduct.setId(37);\nsession.delete(product);\n</code></pre>\n\n<p>And hibernate will run:</p>\n\n<pre><code>Hibernate: delete from PRODUCT where PRODUCT_ID=?\n</code></pre>\n\n<p>More details: <a href=\"http://www.codejava.net/frameworks/hibernate/hibernate-basics-3-ways-to-delete-an-entity-from-the-datastore\" rel=\"noreferrer\">http://www.codejava.net/frameworks/hibernate/hibernate-basics-3-ways-to-delete-an-entity-from-the-datastore</a></p>\n"},{"tags":[],"owner":{"account_id":1513574,"reputation":168,"user_id":5899384,"display_name":"Rodrigo R. Coelho"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1475095511,"creation_date":1475095511,"answer_id":39757328,"question_id":8958217,"body_markdown":"You should upgrade your hibernate version to a version that implements JPA 2.1 (Hibernate starts JPA 2.1 on version 4.3.11.Final - [Hibernate Downloads][1]) \r\n\r\n\r\nOnce you have upgraded, you can use **CriteriaDelete** to do what you want.\r\nhere is a small example:\r\n[Example][2]\r\n\r\n  [1]: http://hibernate.org/orm/downloads/ &quot;Hibernate Downloads&quot;\r\n\r\n  [2]: http://www.thoughts-on-java.org/criteria-updatedelete-easy-way-to/ &quot;Example&quot;","title":"How to delete by criteria in hibernate?","body":"<p>You should upgrade your hibernate version to a version that implements JPA 2.1 (Hibernate starts JPA 2.1 on version 4.3.11.Final - <a href=\"http://hibernate.org/orm/downloads/\" rel=\"nofollow\" title=\"Hibernate Downloads\">Hibernate Downloads</a>) </p>\n\n<p>Once you have upgraded, you can use <strong>CriteriaDelete</strong> to do what you want.\nhere is a small example:\n<a href=\"http://www.thoughts-on-java.org/criteria-updatedelete-easy-way-to/\" rel=\"nofollow\" title=\"Example\">Example</a></p>\n"},{"tags":[],"owner":{"account_id":5288895,"reputation":1547,"user_id":4222003,"accept_rate":67,"display_name":"Maulik Kakadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527144888,"creation_date":1527144888,"answer_id":50502848,"question_id":8958217,"body_markdown":"You Can use criteria for in condition \r\n\r\n    public Integer deleteByFieldIn(String Field, Iterable&lt;?&gt; values) {\r\n    \tCriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n    \tCriteriaDelete&lt;T&gt; delete = cb.createCriteriaDelete(getDomainClass());\r\n    \tRoot&lt;T&gt; e = delete.from(getDomainClass());\r\n    \tdelete.where(cb.in(e.get(Field)).value(values));\r\n    \treturn entityManager.createQuery(delete).executeUpdate();\r\n    }\r\n\r\nand You can use same for equal  condition by replacing in to equal like\r\n\r\n    public Integer deleteById(String id) {\r\n    \tCriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n    \tCriteriaDelete&lt;T&gt; delete = cb.createCriteriaDelete(getDomainClass());\r\n    \tRoot&lt;T&gt; e = delete.from(getDomainClass());\r\n    \tdelete.where(cb.equal(e.get(&quot;id&quot;), id));\r\n    \treturn entityManager.createQuery(delete).executeUpdate();\r\n    }","title":"How to delete by criteria in hibernate?","body":"<p>You Can use criteria for in condition </p>\n\n<pre><code>public Integer deleteByFieldIn(String Field, Iterable&lt;?&gt; values) {\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n    CriteriaDelete&lt;T&gt; delete = cb.createCriteriaDelete(getDomainClass());\n    Root&lt;T&gt; e = delete.from(getDomainClass());\n    delete.where(cb.in(e.get(Field)).value(values));\n    return entityManager.createQuery(delete).executeUpdate();\n}\n</code></pre>\n\n<p>and You can use same for equal  condition by replacing in to equal like</p>\n\n<pre><code>public Integer deleteById(String id) {\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n    CriteriaDelete&lt;T&gt; delete = cb.createCriteriaDelete(getDomainClass());\n    Root&lt;T&gt; e = delete.from(getDomainClass());\n    delete.where(cb.equal(e.get(\"id\"), id));\n    return entityManager.createQuery(delete).executeUpdate();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2701493,"reputation":1169,"user_id":2332121,"display_name":"Sanjeev Dhiman"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1549438161,"creation_date":1549438161,"answer_id":54548571,"question_id":8958217,"body_markdown":"I know I&#39;m pretty late to the party but if you happen to use JPA 2.1 you can do it this way -\r\n\r\n&gt; https://thoughts-on-java.org/criteria-updatedelete-easy-way-to/\r\n\r\n\r\n     public void deleteOrder(Double amount) {\r\n        CriteriaBuilder cb = this.em.getCriteriaBuilder();\r\n\r\n        // create delete\r\n        CriteriaDelete&lt;Order&gt; delete = cb.\r\n         createCriteriaDelete(Order.class);\r\n\r\n        // set the root class\r\n        Root e = delete.from(Order.class);\r\n\r\n        // set where clause\r\n        delete.where(cb.lessThanOrEqualTo(e.get(&quot;amount&quot;), amount));\r\n\r\n        // perform update\r\n        this.em.createQuery(delete).executeUpdate();\r\n    }","title":"How to delete by criteria in hibernate?","body":"<p>I know I'm pretty late to the party but if you happen to use JPA 2.1 you can do it this way -</p>\n\n<blockquote>\n  <p><a href=\"https://thoughts-on-java.org/criteria-updatedelete-easy-way-to/\" rel=\"noreferrer\">https://thoughts-on-java.org/criteria-updatedelete-easy-way-to/</a></p>\n</blockquote>\n\n<pre><code> public void deleteOrder(Double amount) {\n    CriteriaBuilder cb = this.em.getCriteriaBuilder();\n\n    // create delete\n    CriteriaDelete&lt;Order&gt; delete = cb.\n     createCriteriaDelete(Order.class);\n\n    // set the root class\n    Root e = delete.from(Order.class);\n\n    // set where clause\n    delete.where(cb.lessThanOrEqualTo(e.get(\"amount\"), amount));\n\n    // perform update\n    this.em.createQuery(delete).executeUpdate();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7968615,"reputation":360,"user_id":10335878,"display_name":"Pivoter"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1571942796,"creation_date":1571942796,"answer_id":58547474,"question_id":8958217,"body_markdown":"To delete, you must use the ```CriteriaDelete``` query. ```CriteriaBuilder``` ensures that the query is type safe if this use properly. Add a metadata class ```Student_``` to your method to avoid errors peculiar to ```HQL```, ```JPQL``` or ```NativeQuery```.\r\n\r\n```\r\n...\r\n\r\nprivate EntityManager em;\r\n\r\n...\r\n\r\npublic void deleteByIdUser(int classId) {\r\n    try {\r\n\t\tCriteriaBuilder builder = em.getCriteriaBuilder();\r\n\t\tCriteriaDelete&lt;Student&gt; deleteQuery = builder.createCriteriaDelete(Student.class);\r\n\t\t\t\r\n\t\tRoot&lt;Student&gt; studentTable = deleteQuery.from(Student.class);\t\t\r\n\t\t\r\n        Path&lt;Long&gt; classIdPath = userRoleTable.get(Student_.classId);\r\n\t\tPredicate classIdPredicate = builder.equal(classIdPath, classId);\r\n\t\t\t\r\n\t\tdeleteQuery.where(classIdPredicate);\r\n\t\tem.createQuery(deleteQuery).executeUpdate();\t\r\n\t} catch (Exception e) {\r\n\t\t...\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThis info must be added to pom to generate metadata classes for your entities.\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t&lt;configuration&gt;\r\n\t    &lt;annotationProcessorPaths&gt;\r\n\t\t\t&lt;path&gt;\r\n\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t\t\t&lt;/path&gt;\r\n\t\t&lt;/annotationProcessorPaths&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nThis is verbose, but avoids redundant ```RuntimeExceptions```.","title":"How to delete by criteria in hibernate?","body":"<p>To delete, you must use the <code>CriteriaDelete</code> query. <code>CriteriaBuilder</code> ensures that the query is type safe if this use properly. Add a metadata class <code>Student_</code> to your method to avoid errors peculiar to <code>HQL</code>, <code>JPQL</code> or <code>NativeQuery</code>.</p>\n\n<pre><code>...\n\nprivate EntityManager em;\n\n...\n\npublic void deleteByIdUser(int classId) {\n    try {\n        CriteriaBuilder builder = em.getCriteriaBuilder();\n        CriteriaDelete&lt;Student&gt; deleteQuery = builder.createCriteriaDelete(Student.class);\n\n        Root&lt;Student&gt; studentTable = deleteQuery.from(Student.class);       \n\n        Path&lt;Long&gt; classIdPath = userRoleTable.get(Student_.classId);\n        Predicate classIdPredicate = builder.equal(classIdPath, classId);\n\n        deleteQuery.where(classIdPredicate);\n        em.createQuery(deleteQuery).executeUpdate();    \n    } catch (Exception e) {\n        ...\n    }\n}\n\n</code></pre>\n\n<p>This info must be added to pom to generate metadata classes for your entities.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>This is verbose, but avoids redundant <code>RuntimeExceptions</code>.</p>\n"}],"owner":{"account_id":1147586,"reputation":481,"user_id":1130007,"display_name":"chan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100061,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":9,"score":41,"last_activity_date":1697168975,"creation_date":1327195470,"question_id":8958217,"body_markdown":"I have a student table and want to delete all students in a class.\r\n\r\nSo my sql query would look like:\r\n\r\n    delete from student where classId = 333\r\n\r\nHow can I do this using hibernate with criteria? \r\n\r\nI need this so I can put in one of my base classes to use by any DAO objects that extend from it. So I can make this generic across all of my DAO objects.\r\n\r\nCurrently I have created a generic method that will taken in the Student Object - calls the find method that uses the criteria to get the list and then I do a batch delete under one transaction as follows:\r\n\r\n\tpublic boolean deleteByCriteria(Object deleteObject) {\r\n\t\tList deleteObjectList = find(deleteObject);\r\n\t\tif (deleteObjectList == null)\r\n\t\t\treturn false;\r\n\t\treturn deleteAll(deleteObjectList);\r\n\t}\r\n\t\r\n\tpublic boolean deleteAll(List deleteObjectList) {\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;Entered BaseSchoolRollBookDAO -&gt; delete&quot;);\r\n\t\t\tlogger.debug(&quot;Object for batch deletion [&quot; + deleteObjectList + &quot;]&quot;);\r\n\t\t}\r\n\t\tboolean result = false;\r\n\t\tTransaction tx = null;\r\n\t\t// Get CurrentSession from HibernateUtils\r\n\t\tSession session = HibernateUtils.getSession();\r\n\t\t// Start transaction\r\n\t\ttx = session.beginTransaction();\r\n\r\n\t\t// Create new Criteria to be passed\r\n\t\ttry {\r\n\t\t\tint flushCount = 0;\r\n\t\t\tfor (Object deleteObject : deleteObjectList) {\r\n\t\t\t\tsession.delete(deleteObject);\r\n\t\t\t\tflushCount++;\r\n\t\t\t\t\r\n\t\t\t\tif (flushCount % 20 == 0) {\r\n\t\t\t\t\tsession.flush();\r\n\t\t\t\t\tsession.clear();\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t\t\r\n\t\t\ttx.commit();\r\n\t\t\tresult = true;\r\n\t\t} catch (HibernateException e) {\r\n\t\t\tlogger.fatal(&quot;Exception in executing batch Delete query&quot;, e);\r\n\t\t\tif (tx != null &amp;&amp; tx.isActive())\r\n\t\t\t\ttx.rollback(); \r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n","title":"How to delete by criteria in hibernate?","body":"<p>I have a student table and want to delete all students in a class.</p>\n\n<p>So my sql query would look like:</p>\n\n<pre><code>delete from student where classId = 333\n</code></pre>\n\n<p>How can I do this using hibernate with criteria? </p>\n\n<p>I need this so I can put in one of my base classes to use by any DAO objects that extend from it. So I can make this generic across all of my DAO objects.</p>\n\n<p>Currently I have created a generic method that will taken in the Student Object - calls the find method that uses the criteria to get the list and then I do a batch delete under one transaction as follows:</p>\n\n<pre><code>public boolean deleteByCriteria(Object deleteObject) {\n    List deleteObjectList = find(deleteObject);\n    if (deleteObjectList == null)\n        return false;\n    return deleteAll(deleteObjectList);\n}\n\npublic boolean deleteAll(List deleteObjectList) {\n    if (logger.isDebugEnabled()) {\n        logger.debug(\"Entered BaseSchoolRollBookDAO -&gt; delete\");\n        logger.debug(\"Object for batch deletion [\" + deleteObjectList + \"]\");\n    }\n    boolean result = false;\n    Transaction tx = null;\n    // Get CurrentSession from HibernateUtils\n    Session session = HibernateUtils.getSession();\n    // Start transaction\n    tx = session.beginTransaction();\n\n    // Create new Criteria to be passed\n    try {\n        int flushCount = 0;\n        for (Object deleteObject : deleteObjectList) {\n            session.delete(deleteObject);\n            flushCount++;\n\n            if (flushCount % 20 == 0) {\n                session.flush();\n                session.clear();\n            }\n        }           \n\n        tx.commit();\n        result = true;\n    } catch (HibernateException e) {\n        logger.fatal(\"Exception in executing batch Delete query\", e);\n        if (tx != null &amp;&amp; tx.isActive())\n            tx.rollback(); \n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","firebase","firebase-cloud-messaging","xmpp"],"owner":{"account_id":29657201,"reputation":1,"user_id":22729698,"display_name":"杨志朋"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697167646,"creation_date":1697166459,"question_id":77284841,"body_markdown":"App Server is connected to XMPP and can send messages to the client in one go. But the client sends upstream messages through `FirebaseMessaging.getInstance().send(remotemsage)`, and the App Server cannot receive it.\r\n\r\nupstream message：\r\n```\r\nFirebaseMessaging.getInstance().send(new RemoteMessage.Builder(to)\r\n     .setMessageId(messageId)\r\n     .addData(&quot;message&quot;, &quot;111&quot;)\r\n     .build());\r\n```\r\n```\r\n@Override\r\npublic void onMessageSent(@NonNull String msgId) {\r\n     super.onMessageSent(msgId);\r\n     Log.e(&quot;TAG&quot;, &quot;onMessageSent: &quot; + msgId);\r\n}\r\n```\r\nThe `onMessageSent()` Log will print.\r\n\r\n\r\n* First, the App Server is running on a personal computer and cannot receive it;\r\n* Secondly, the App Server is run on the Singapore server, the client device is connected to the VPN, and the uplink is sent, but it still cannot be received;\r\n\r\nWhat should I do to let the App server receive the upstream message?\r\n","title":"Unable to receive XMPP upstream messages","body":"<p>App Server is connected to XMPP and can send messages to the client in one go. But the client sends upstream messages through <code>FirebaseMessaging.getInstance().send(remotemsage)</code>, and the App Server cannot receive it.</p>\n<p>upstream message：</p>\n<pre><code>FirebaseMessaging.getInstance().send(new RemoteMessage.Builder(to)\n     .setMessageId(messageId)\n     .addData(&quot;message&quot;, &quot;111&quot;)\n     .build());\n</code></pre>\n<pre><code>@Override\npublic void onMessageSent(@NonNull String msgId) {\n     super.onMessageSent(msgId);\n     Log.e(&quot;TAG&quot;, &quot;onMessageSent: &quot; + msgId);\n}\n</code></pre>\n<p>The <code>onMessageSent()</code> Log will print.</p>\n<ul>\n<li>First, the App Server is running on a personal computer and cannot receive it;</li>\n<li>Secondly, the App Server is run on the Singapore server, the client device is connected to the VPN, and the uplink is sent, but it still cannot be received;</li>\n</ul>\n<p>What should I do to let the App server receive the upstream message?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1695848440,"post_id":77190775,"comment_id":136080484,"body_markdown":"That is a [large topic](https://docs.spring.io/spring-framework/reference/core/beans.html) - can you update the question with a specific example with some code?","body":"That is a <a href=\"https://docs.spring.io/spring-framework/reference/core/beans.html\" rel=\"nofollow noreferrer\">large topic</a> - can you update the question with a specific example with some code?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1695852601,"post_id":77190775,"comment_id":136081040,"body_markdown":"Isn&#39;t that covered by the Spring documentation? If not, what exactly is missing?","body":"Isn&#39;t that covered by the Spring documentation? If not, what exactly is missing?"},{"owner":{"account_id":26967643,"reputation":1,"user_id":20534197,"display_name":"Kkraft"},"score":0,"creation_date":1696033207,"post_id":77190775,"comment_id":136106722,"body_markdown":"@Robert i think there&#39;s not any mention to injecting the applicationContext by autowire in the documentation, but i saw people doing this in many tutorials and forum answers","body":"@Robert i think there&#39;s not any mention to injecting the applicationContext by autowire in the documentation, but i saw people doing this in many tutorials and forum answers"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696060808,"post_id":77190775,"comment_id":136108146,"body_markdown":"It is actually mentioned in the documentation, but in passing, see [&quot;Customizing the Nature of a Bean&quot;, section &quot;ApplicationContextAware and BeanNameAware&quot;](https://docs.spring.io/spring-framework/reference/core/beans/factory-nature.html#beans-factory-aware), specifically the paragraph starting with _&quot;Autowiring is another alternative to obtain a reference to the `ApplicationContext`.&quot;_","body":"It is actually mentioned in the documentation, but in passing, see <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/factory-nature.html#beans-factory-aware\" rel=\"nofollow noreferrer\">&quot;Customizing the Nature of a Bean&quot;, section &quot;ApplicationContextAware and BeanNameAware&quot;</a>, specifically the paragraph starting with <i>&quot;Autowiring is another alternative to obtain a reference to the <code>ApplicationContext</code>.&quot;</i>"}],"owner":{"account_id":26967643,"reputation":1,"user_id":20534197,"display_name":"Kkraft"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697166936,"creation_date":1695847471,"question_id":77190775,"body_markdown":"What does Spring actually do when you autowire the applicationContext?\r\n\r\nI first thought it does not appear in the applicationContext.getBeanDefinitionNames(), so I guess Spring injects any variable with autowired and ApplicationContext?\r\n\r\n**Code example:**\r\nTrying to get the injected bean:\r\n\r\n    @Component\r\n    public class Stackteste1 {\r\n    \r\n      @Autowired //Here it autowires the context without errors\r\n      ApplicationContext context; //ps: i think it would be byType injection because no matter the variable name it injects\r\n    \r\n      @Bean\r\n      public String testBean(){ //But if i try to get the context bean it says the bean was not found, the same happens in setter and contructor autowire\r\n          context.getBean(ApplicationContext.class);\r\n          return(&quot;test&quot;);\r\n      } \r\n    \r\n    }\r\n","title":"How @Autowired applicationContext works?","body":"<p>What does Spring actually do when you autowire the applicationContext?</p>\n<p>I first thought it does not appear in the applicationContext.getBeanDefinitionNames(), so I guess Spring injects any variable with autowired and ApplicationContext?</p>\n<p><strong>Code example:</strong>\nTrying to get the injected bean:</p>\n<pre><code>@Component\npublic class Stackteste1 {\n\n  @Autowired //Here it autowires the context without errors\n  ApplicationContext context; //ps: i think it would be byType injection because no matter the variable name it injects\n\n  @Bean\n  public String testBean(){ //But if i try to get the context bean it says the bean was not found, the same happens in setter and contructor autowire\n      context.getBean(ApplicationContext.class);\n      return(&quot;test&quot;);\n  } \n\n}\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1697091643,"post_id":77278070,"comment_id":136236252,"body_markdown":"Why do you want to know this? This is implementation detail and your code should not depend on it.","body":"Why do you want to know this? This is implementation detail and your code should not depend on it."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1697096010,"post_id":77278070,"comment_id":136236983,"body_markdown":"[Why does a HashMap sometimes print in natural order](https://stackoverflow.com/questions/47357126/why-does-a-hashmap-sometimes-print-in-natural-order) isn&#39;t *quite* the same question, but it explains a lot of what you&#39;re seeing.","body":"<a href=\"https://stackoverflow.com/questions/47357126/why-does-a-hashmap-sometimes-print-in-natural-order\">Why does a HashMap sometimes print in natural order</a> isn&#39;t <i>quite</i> the same question, but it explains a lot of what you&#39;re seeing."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1697096244,"post_id":77278070,"comment_id":136237023,"body_markdown":"In all situations.","body":"In all situations."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1697168260,"post_id":77278070,"comment_id":136248685,"body_markdown":"A single-byte string&#39;s hashcode will be equivalent to `bytes[0] &amp; 0xff`. So the hashcodes of `&quot;a&quot;, &quot;b&quot;, &quot;c&quot;` are `97,98,99` respectively. With the modulus from hashmap, it&#39;s no wonder this specific case is stored sequentially. Your experiment isn&#39;t terrible, but you&#39;re forgetting about your assumptions (that single-byte strings are representative of all strings, and for their `#hashCode` this is not true).","body":"A single-byte string&#39;s hashcode will be equivalent to <code>bytes[0] &amp; 0xff</code>. So the hashcodes of <code>&quot;a&quot;, &quot;b&quot;, &quot;c&quot;</code> are <code>97,98,99</code> respectively. With the modulus from hashmap, it&#39;s no wonder this specific case is stored sequentially. Your experiment isn&#39;t terrible, but you&#39;re forgetting about your assumptions (that single-byte strings are representative of all strings, and for their <code>#hashCode</code> this is not true)."}],"answers":[{"tags":[],"owner":{"account_id":29646715,"reputation":26,"user_id":22721567,"display_name":"oakley"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697092378,"creation_date":1697092062,"answer_id":77278161,"question_id":77278070,"body_markdown":"As suggested by doc that order is indeed non-deterministic.\r\n\r\nTry running the code with more data in HashMap to see the difference.\r\n\r\nSet is unordered by design.\r\n\r\nIf order is necessary for your requirement (in main data structure) try **LinkedHashMap** which maintains order of insertion. (As it implements LinkedList internally.)\r\n\r\nHope this helps. ","title":"In which situation is HashMap keySet() ordered undeterministic","body":"<p>As suggested by doc that order is indeed non-deterministic.</p>\n<p>Try running the code with more data in HashMap to see the difference.</p>\n<p>Set is unordered by design.</p>\n<p>If order is necessary for your requirement (in main data structure) try <strong>LinkedHashMap</strong> which maintains order of insertion. (As it implements LinkedList internally.)</p>\n<p>Hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1697099408,"post_id":77278508,"comment_id":136237703,"body_markdown":"A comment to your foot note 1: some versions of Java 1.7 had dilebartely added code that makes the hashcodes appear non-deterministic, see https://stackoverflow.com/questions/24771793/why-the-order-of-elements-in-hashsets-keyset-changes-from-run-to-run and https://github.com/openjdk/jdk8u/blob/4824bf600d5033f6041d6d98c359d5c22961e2cc/jdk/src/share/classes/java/util/HashMap.java#L205","body":"A comment to your foot note 1: some versions of Java 1.7 had dilebartely added code that makes the hashcodes appear non-deterministic, see <a href=\"https://stackoverflow.com/questions/24771793/why-the-order-of-elements-in-hashsets-keyset-changes-from-run-to-run\" title=\"why the order of elements in hashsets keyset changes from run to run\">stackoverflow.com/questions/24771793/&hellip;</a> and <a href=\"https://github.com/openjdk/jdk8u/blob/4824bf600d5033f6041d6d98c359d5c22961e2cc/jdk/src/share/classes/java/util/HashMap.java#L205\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk8u/blob/&hellip;</a>"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697166355,"creation_date":1697095617,"answer_id":77278508,"question_id":77278070,"body_markdown":"&gt; In which situation is `HashMap::keySet()` ordered non-deterministically?\r\n\r\nIn short ... when any of the preconditions 1, 2 or 3 (below!) are not true.\r\n\r\n--------------\r\n\r\nThe javadoc says what it says.  The `HashMap` implementation does not **guarantee** any particular order for the key set.\r\n\r\nThe fact that the javadoc does not guarantee an order does NOT mean that the order cannot be predicted in some circumstances.\r\n\r\nAs your observations bear out!\r\n\r\nIn practice the order of the keys in a `HashMap` will be *deterministic* if all of the following are true:\r\n\r\n  1.  The `HashMap` implementation does not change&lt;sup&gt;1&lt;/sup&gt;.\r\n  2.  The key classes `equals` and `hashCode` methods follow the relevant invariants specified in the `Object` javadocs.  (And in some cases, the `compareTo` method may be involved as well.)\r\n  3.  The key classes `hashCode` is predictable based on a key&#39;s value.  \r\n\r\nIf in addition:\r\n\r\n  4.  The map is created with the same initial capacity and load factor.\r\n  5.  The keys&#39; insertion (and deletion) order is the same.\r\n\r\n... you will get the same key set order repeatably.\r\n\r\nIndeed, if all of the above are true AND you have complete information / knowledge about the `HashMap` implementation and so on, then you could&lt;sup&gt;2&lt;/sup&gt; actually *a priori predict* the key order with 100% accuracy. \r\n\r\nNote that 2 and 3 are satisfied for `Integer` and `String`.  Indeed the javadocs for both classes specify the precise values returned by `hashCode()`.  That is why you are seeing the same key order repeatably for those key types in your experiments.\r\n\r\nNote: you probably shouldn&#39;t make use of these properties in an application, since the javadocs don&#39;t actually guarantee them.\r\n\r\n-----------------------\r\n\r\n&lt;sup&gt;1 - Or more precisely *while* it does not change.  In fact, the implementations of `HashMap` have changed between different Java versions.  As a consequence the key order can be different if you run your tests on platforms with different versions of Java.  It is also conceivable that a future implementation of `HashMap` could be made *deliberately* non-deterministic ... though I can&#39;t imagine why they would do this.&lt;br&gt;\r\n2. The process would be very tedious and time consuming to do by hand, and I&#39;m not going to explain it.  But https://stackoverflow.com/questions/47357126 may help you understand what you would need to do.&lt;/sup&gt;","title":"In which situation is HashMap keySet() ordered undeterministic","body":"<blockquote>\n<p>In which situation is <code>HashMap::keySet()</code> ordered non-deterministically?</p>\n</blockquote>\n<p>In short ... when any of the preconditions 1, 2 or 3 (below!) are not true.</p>\n<hr />\n<p>The javadoc says what it says.  The <code>HashMap</code> implementation does not <strong>guarantee</strong> any particular order for the key set.</p>\n<p>The fact that the javadoc does not guarantee an order does NOT mean that the order cannot be predicted in some circumstances.</p>\n<p>As your observations bear out!</p>\n<p>In practice the order of the keys in a <code>HashMap</code> will be <em>deterministic</em> if all of the following are true:</p>\n<ol>\n<li>The <code>HashMap</code> implementation does not change<sup>1</sup>.</li>\n<li>The key classes <code>equals</code> and <code>hashCode</code> methods follow the relevant invariants specified in the <code>Object</code> javadocs.  (And in some cases, the <code>compareTo</code> method may be involved as well.)</li>\n<li>The key classes <code>hashCode</code> is predictable based on a key's value.</li>\n</ol>\n<p>If in addition:</p>\n<ol start=\"4\">\n<li>The map is created with the same initial capacity and load factor.</li>\n<li>The keys' insertion (and deletion) order is the same.</li>\n</ol>\n<p>... you will get the same key set order repeatably.</p>\n<p>Indeed, if all of the above are true AND you have complete information / knowledge about the <code>HashMap</code> implementation and so on, then you could<sup>2</sup> actually <em>a priori predict</em> the key order with 100% accuracy.</p>\n<p>Note that 2 and 3 are satisfied for <code>Integer</code> and <code>String</code>.  Indeed the javadocs for both classes specify the precise values returned by <code>hashCode()</code>.  That is why you are seeing the same key order repeatably for those key types in your experiments.</p>\n<p>Note: you probably shouldn't make use of these properties in an application, since the javadocs don't actually guarantee them.</p>\n<hr />\n<p><sup>1 - Or more precisely <em>while</em> it does not change.  In fact, the implementations of <code>HashMap</code> have changed between different Java versions.  As a consequence the key order can be different if you run your tests on platforms with different versions of Java.  It is also conceivable that a future implementation of <code>HashMap</code> could be made <em>deliberately</em> non-deterministic ... though I can't imagine why they would do this.<br>\n2. The process would be very tedious and time consuming to do by hand, and I'm not going to explain it.  But <a href=\"https://stackoverflow.com/questions/47357126\">Why does a HashMap sometimes print in natural order</a> may help you understand what you would need to do.</sup></p>\n"}],"owner":{"account_id":465939,"reputation":3614,"user_id":870382,"accept_rate":56,"display_name":"Novice User"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697166355,"creation_date":1697091004,"question_id":77278070,"body_markdown":"The docs https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html say\r\n\r\n\r\n\r\n&gt; This class makes no guarantees as to the order of the map;\r\n&gt; In particular, it does not guarantee that the order will remain constant\r\n&gt; over time.\r\n\r\n\r\n\r\nHowever I ran some experiment \r\n\r\n```\r\nvar first = new HashMap&lt;String, Object&gt;();\r\nfirst.put(&quot;a&quot;, 1)\r\nfirst.put(&quot;b&quot;, 2);\r\nfirst.put(&quot;c&quot;, null)\r\n```\r\n\r\n`first.keySet()` order is always `[a, b, c]`\r\n\r\nSo if I have `String` or `Integer` as the key for `HashMap` then will the order be the same and deterministic for any other `HashMap` instance for the same Key and value?\r\n\r\n","title":"In which situation is HashMap keySet() ordered undeterministic","body":"<p>The docs <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html</a> say</p>\n<blockquote>\n<p>This class makes no guarantees as to the order of the map;\nIn particular, it does not guarantee that the order will remain constant\nover time.</p>\n</blockquote>\n<p>However I ran some experiment</p>\n<pre><code>var first = new HashMap&lt;String, Object&gt;();\nfirst.put(&quot;a&quot;, 1)\nfirst.put(&quot;b&quot;, 2);\nfirst.put(&quot;c&quot;, null)\n</code></pre>\n<p><code>first.keySet()</code> order is always <code>[a, b, c]</code></p>\n<p>So if I have <code>String</code> or <code>Integer</code> as the key for <code>HashMap</code> then will the order be the same and deterministic for any other <code>HashMap</code> instance for the same Key and value?</p>\n"},{"tags":["java","spring","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1405600396,"post_id":24756102,"comment_id":38499281,"body_markdown":"Where is the 401 coming from? The token endpoint (it looks like it has some funny authentication filters, so maybe)? If you could pinpoint that in the server logs that would certainly help (enable DEBUG logging in org.springframework.security if you haven&#39;t already).","body":"Where is the 401 coming from? The token endpoint (it looks like it has some funny authentication filters, so maybe)? If you could pinpoint that in the server logs that would certainly help (enable DEBUG logging in org.springframework.security if you haven&#39;t already)."},{"owner":{"account_id":4749608,"reputation":70,"user_id":3839955,"display_name":"Kerem YILDIZ"},"score":0,"creation_date":1405608307,"post_id":24756102,"comment_id":38505166,"body_markdown":"@DaveSyer yes problem is coming from token endpoint, I debugged the code, it succesfully implement /oauth/authorize. But when try to request /outh/token, 401 unauthorized error appears.","body":"@DaveSyer yes problem is coming from token endpoint, I debugged the code, it succesfully implement /oauth/authorize. But when try to request /outh/token, 401 unauthorized error appears."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1405670176,"post_id":24756102,"comment_id":38530108,"body_markdown":"Can you explain why you configured the token endpoint security the way you did then.","body":"Can you explain why you configured the token endpoint security the way you did then."},{"owner":{"account_id":4749608,"reputation":70,"user_id":3839955,"display_name":"Kerem YILDIZ"},"score":0,"creation_date":1405686777,"post_id":24756102,"comment_id":38539742,"body_markdown":"@DaveSyer I am new to spring-security-oauth2, So that&#39;s why it is normal to see a funny configuration :). I was inspired from sparklr2 and tonr2 applications and then created both server and client aplications. Could you show me a better way to configure token endpoint?.","body":"@DaveSyer I am new to spring-security-oauth2, So that&#39;s why it is normal to see a funny configuration :). I was inspired from sparklr2 and tonr2 applications and then created both server and client aplications. Could you show me a better way to configure token endpoint?."},{"owner":{"account_id":4749608,"reputation":70,"user_id":3839955,"display_name":"Kerem YILDIZ"},"score":0,"creation_date":1405686800,"post_id":24756102,"comment_id":38539759,"body_markdown":"@DaveSyer All I want to do is bypassing login forms at both client and server applications without asking username/password, getting access token and finally getting a string message. I was trying to get a String message from /index map (I could find a better mapname :)). I binded resource to the HelloController (I could find a better controller name). In controller in /index map it requests &quot;http://localhost/Authorization/oauth/authorize&quot; by using OAuth2RestTemplate.","body":"@DaveSyer All I want to do is bypassing login forms at both client and server applications without asking username/password, getting access token and finally getting a string message. I was trying to get a String message from /index map (I could find a better mapname :)). I binded resource to the HelloController (I could find a better controller name). In controller in /index map it requests &quot;<a href=\"http://localhost/Authorization/oauth/authorize\" rel=\"nofollow noreferrer\">localhost/Authorization/oauth/authorize</a>&quot; by using OAuth2RestTemplate."}],"answers":[{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405701053,"creation_date":1405701053,"answer_id":24829837,"question_id":24756102,"body_markdown":"I guess it&#39;s up to you to decide how to do authentication. But note that the /token endpoint is not (in standard auth code flows anyway) consumed by users. It should have security appropriate to its consumers (client apps), so if I were you I would start by removing the &quot;preAuthFilter&quot; (how would it be able to authenticate a client?). If you don&#39;t think clients ought to have secrets you are probably not writing an enterprise or web grade product, but you are free to secure that /token endpoint any way you like. Just be aware that it will be getting Basic authentication headers from the client (if the client is a standard tonr-style Spring Security app).","title":"401 unauthorized error before trying to get access token in spring security oauth 2","body":"<p>I guess it's up to you to decide how to do authentication. But note that the /token endpoint is not (in standard auth code flows anyway) consumed by users. It should have security appropriate to its consumers (client apps), so if I were you I would start by removing the \"preAuthFilter\" (how would it be able to authenticate a client?). If you don't think clients ought to have secrets you are probably not writing an enterprise or web grade product, but you are free to secure that /token endpoint any way you like. Just be aware that it will be getting Basic authentication headers from the client (if the client is a standard tonr-style Spring Security app).</p>\n"}],"owner":{"account_id":4749608,"reputation":70,"user_id":3839955,"display_name":"Kerem YILDIZ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9696,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697166190,"creation_date":1405420912,"question_id":24756102,"body_markdown":"I am getting 401 unauthorized error before trying to get access token in spring security oauth2.\r\n\r\nI have both server (authorization and resource server) and client applications. Those applications created by using sparklr2 and tonr2 applications.\r\n\r\nI have bypassed login form at both applications. It means that it doesn&#39;t ask username and password at the beginning or both appkications, I used custom classes and setting user roles as &quot;ROLE_USER&quot; for both applications.\r\n\r\nThis is my error stack trace:\r\n\r\n   \r\n\r\n     SEVERE: Servlet.service() for servlet [mvc-dispatcher] in context with path [/Client] threw exception [Request processing failed; nested exception is error=&quot;access_denied&quot;, error_description=&quot;Error requesting access token.&quot;] with root cause org.springframework.web.client.HttpClientErrorException: 401 Unauthorized\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:88)\r\n\tat org.springframework.security.oauth2.client.token.OAuth2AccessTokenSupport$AccessTokenErrorHandler.handleError(OAuth2AccessTokenSupport.java:243)\r\n\tat org.springframework.web.client.RestTemplate.handleResponseError(RestTemplate.java:556)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:514)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:479)\r\n\tat org.springframework.security.oauth2.client.token.OAuth2AccessTokenSupport.retrieveToken(OAuth2AccessTokenSupport.java:136)\r\n\tat org.springframework.security.oauth2.client.token.grant.code.AuthorizationCodeAccessTokenProvider.obtainAccessToken(AuthorizationCodeAccessTokenProvider.java:198)\r\n\tat org.springframework.security.oauth2.client.token.AccessTokenProviderChain.obtainNewAccessTokenInternal(AccessTokenProviderChain.java:142)\r\n\tat org.springframework.security.oauth2.client.token.AccessTokenProviderChain.obtainAccessToken(AccessTokenProviderChain.java:118)\r\n\tat org.springframework.security.oauth2.client.OAuth2RestTemplate.acquireAccessToken(OAuth2RestTemplate.java:221)\r\n\tat org.springframework.security.oauth2.client.OAuth2RestTemplate.getAccessToken(OAuth2RestTemplate.java:173)\r\n\tat org.springframework.security.oauth2.client.OAuth2RestTemplate.createRequest(OAuth2RestTemplate.java:105)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:505)\r\n\tat org.springframework.security.oauth2.client.OAuth2RestTemplate.doExecute(OAuth2RestTemplate.java:128)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:472)\r\n\tat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:237)\r\n\tat com.sebit.security.client.oauth2.controller.HelloController.welcomePage(HelloController.java:36)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:844)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.oauth2.client.filter.OAuth2ClientContextFilter.doFilter(OAuth2ClientContextFilter.java:57)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:150)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:94)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\nThis is my web.xml at my server application:\r\n\r\n      &lt;servlet&gt;\r\n    &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet\r\n\t\t&lt;/servlet-class&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n  \r\n    &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n  \r\n    &lt;listener&gt;\r\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener\r\n\t\t&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n  \r\n    &lt;context-param&gt;\r\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    &lt;param-value&gt;/WEB-INF/spring-servlet.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n  \r\n    &lt;filter&gt;\r\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n   \t  &lt;init-param&gt;\r\n\t\t&lt;param-name&gt;contextAttribute&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;org.springframework.web.servlet.FrameworkServlet.CONTEXT.spring&lt;/param-value&gt;\r\n\t  &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n  \r\n    &lt;filter-mapping&gt;\r\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n\r\nThis is my spring-servlet.xml at server side:\r\n\r\n\t&lt;http pattern=&quot;/oauth/token&quot; create-session=&quot;stateless&quot; authentication-manager-ref=&quot;clientAuthenticationManager&quot;\r\n\t\tentry-point-ref=&quot;preAuthenticatedProcessingFilterEntryPoint&quot; \r\n\t\txmlns=&quot;http://www.springframework.org/schema/security&quot;&gt;\r\n\t\t&lt;custom-filter position=&quot;PRE_AUTH_FILTER&quot; ref=&quot;preAuthFilter&quot; /&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/oauth/token&quot; access=&quot;IS_AUTHENTICATED_FULLY&quot; /&gt;\r\n\t\t&lt;anonymous enabled=&quot;false&quot; /&gt;\r\n\t\t&lt;http-basic entry-point-ref=&quot;preAuthenticatedProcessingFilterEntryPoint&quot; /&gt;\r\n\r\n\t\t&lt;custom-filter ref=&quot;clientCredentialsTokenEndpointFilter&quot; before=&quot;BASIC_AUTH_FILTER&quot; /&gt;\r\n\t\t&lt;access-denied-handler ref=&quot;oauthAccessDeniedHandler&quot; /&gt;\r\n\t&lt;/http&gt;\r\n\r\n\t\r\n\r\n\t&lt;http pattern=&quot;/index/**&quot; create-session=&quot;never&quot; \r\n\t\tentry-point-ref=&quot;preAuthenticatedProcessingFilterEntryPoint&quot; access-decision-manager-ref=&quot;accessDecisionManager&quot;\r\n\t\txmlns=&quot;http://www.springframework.org/schema/security&quot;&gt;\r\n\t\t&lt;custom-filter position=&quot;PRE_AUTH_FILTER&quot; ref=&quot;preAuthFilter&quot; /&gt;\r\n\t\t&lt;anonymous enabled=&quot;false&quot; /&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/index&quot; access=&quot;ROLE_USER, SCOPE_READ&quot; /&gt;\r\n\t\t\r\n\t\t&lt;custom-filter ref=&quot;resourceServerFilter&quot; before=&quot;PRE_AUTH_FILTER&quot; /&gt;\r\n\t\t&lt;access-denied-handler ref=&quot;oauthAccessDeniedHandler&quot; /&gt;\r\n\t&lt;/http&gt;\r\n\r\n\r\n\t&lt;http auto-config=&quot;false&quot; xmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n\t\t&gt;\r\n\t\t&lt;custom-filter position=&quot;PRE_AUTH_FILTER&quot; ref=&quot;preAuthFilter&quot; /&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/oauth/**&quot; access=&quot;ROLE_USER&quot; /&gt;\r\n\t\t&lt;!--intercept-url pattern=&quot;/index/**&quot; access=&quot;ROLE_USER&quot; /--&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/**&quot; access=&quot;IS_AUTHENTICATED_ANONYMOUSLY&quot; /&gt;\r\n\t\t&lt;http-basic entry-point-ref=&quot;preAuthenticatedProcessingFilterEntryPoint&quot; /&gt;\r\n\t\t&lt;anonymous /&gt;\r\n\t&lt;/http&gt;\r\n\r\n\t&lt;beans:bean id=&quot;oauthAccessDeniedHandler&quot; class=&quot;org.springframework.security.oauth2.provider.error.OAuth2AccessDeniedHandler&quot; /&gt;\r\n\r\n\t&lt;beans:bean id=&quot;userDetailsServiceImpl&quot;\r\n\t\tclass=&quot;com.sebit.security.server.oauth2.controller.UserDetailsServiceImpl&quot; /&gt;\r\n\r\n\r\n\t&lt;beans:bean id=&quot;preAuthenticatedProcessingFilterEntryPoint&quot;\r\n\t\tclass=&quot;org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint&quot;&gt; \r\n\t\t\t&lt;beans:property name=&quot;realmName&quot; value=&quot;Authorization&quot; /&gt;\r\n\t\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;preAuthenticationProvider&quot;\r\n\t\tclass=&quot;org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationProvider&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;preAuthenticatedUserDetailsService&quot;\r\n\t\t\tref=&quot;userDetailsServiceImpl&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;preAuthFilter&quot;\r\n\t\tclass=&quot;com.sebit.security.server.oauth2.controller.PreAuthentication&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;authenticationManager&quot; ref=&quot;appControlAuthenticationManager&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;clientCredentialsTokenEndpointFilter&quot; class=&quot;org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;authenticationManager&quot; ref=&quot;clientAuthenticationManager&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;bean id=&quot;accessDecisionManager&quot; class=&quot;org.springframework.security.access.vote.UnanimousBased&quot; xmlns=&quot;http://www.springframework.org/schema/beans&quot;&gt;\r\n\t\t&lt;constructor-arg&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;bean class=&quot;org.springframework.security.oauth2.provider.vote.ScopeVoter&quot; /&gt;\r\n\t\t\t\t&lt;bean class=&quot;org.springframework.security.access.vote.RoleVoter&quot; /&gt;\r\n\t\t\t\t&lt;bean class=&quot;org.springframework.security.access.vote.AuthenticatedVoter&quot; /&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/constructor-arg&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;authentication-manager id=&quot;clientAuthenticationManager&quot; xmlns=&quot;http://www.springframework.org/schema/security&quot;&gt;\r\n\t\t&lt;authentication-provider user-service-ref=&quot;clientDetailsUserService&quot; /&gt;\r\n\t&lt;/authentication-manager&gt;\r\n\r\n\t&lt;authentication-manager alias=&quot;appControlAuthenticationManager&quot;&gt;\r\n\t\t&lt;authentication-provider ref=&quot;preAuthenticationProvider&quot; /&gt;\r\n\t&lt;/authentication-manager&gt;\r\n\r\n\t&lt;beans:bean id=&quot;clientDetailsUserService&quot; class=&quot;org.springframework.security.oauth2.provider.client.ClientDetailsUserDetailsService&quot;&gt;\r\n\t\t&lt;beans:constructor-arg ref=&quot;clientDetails&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;tokenStore&quot; class=&quot;org.springframework.security.oauth2.provider.token.store.InMemoryTokenStore&quot; /&gt;\r\n\r\n\t&lt;beans:bean id=&quot;tokenServices&quot; class=&quot;org.springframework.security.oauth2.provider.token.DefaultTokenServices&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;tokenStore&quot; ref=&quot;tokenStore&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;supportRefreshToken&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;clientDetailsService&quot; ref=&quot;clientDetails&quot;/&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\r\n\t&lt;oauth:authorization-server client-details-service-ref=&quot;clientDetails&quot; token-services-ref=&quot;tokenServices&quot;\r\n\t\t&gt;\r\n\t\t&lt;oauth:authorization-code /&gt;\r\n\t\t&lt;oauth:implicit /&gt;\r\n\t\t&lt;oauth:refresh-token /&gt;\r\n\t\t&lt;oauth:client-credentials /&gt;\r\n\t\t&lt;oauth:password /&gt;\r\n\t&lt;/oauth:authorization-server&gt;\r\n\r\n\t&lt;oauth:resource-server id=&quot;resourceServerFilter&quot; resource-id=&quot;Authorization&quot; token-services-ref=&quot;tokenServices&quot; /&gt;\r\n\r\n\t&lt;oauth:client-details-service id=&quot;clientDetails&quot;&gt;\r\n\t\t&lt;oauth:client client-id=&quot;myClient&quot; resource-ids=&quot;Authorization&quot; authorized-grant-types=&quot;authorization_code&quot;\r\n\t\t\tauthorities=&quot;ROLE_CLIENT&quot; scope=&quot;read,write&quot; secret=&quot;secret&quot;/&gt;\r\n\t&lt;/oauth:client-details-service&gt;\r\n\r\n\t&lt;beans:bean id=&quot;accessConfirmationController&quot; class=&quot;com.sebit.security.server.oauth2.controller.AccessConfirmationController&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;clientDetailsService&quot; ref=&quot;clientDetails&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;mvc:default-servlet-handler /&gt;\r\n\r\n\t&lt;global-method-security pre-post-annotations=&quot;enabled&quot; proxy-target-class=&quot;true&quot;&gt;\r\n\t\t&lt;expression-handler ref=&quot;oauthExpressionHandler&quot; /&gt;\r\n\t&lt;/global-method-security&gt;\r\n\r\n\t&lt;oauth:expression-handler id=&quot;oauthExpressionHandler&quot; /&gt;\r\n\r\n\r\nThis is my web.xml at client side:\r\n\r\n      &lt;servlet&gt;\r\n    &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet\r\n\t\t&lt;/servlet-class&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;listener&gt;\r\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener\r\n\t\t&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n    &lt;context-param&gt;\r\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    &lt;param-value&gt;/WEB-INF/mvc-dispatcher-servlet.xml, /WEB-INF/spring-security.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;filter&gt;\r\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy\r\n\t\t&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nThis is my spring-security.xml at client side:\r\n\r\n        &lt;http auto-config=&quot;false&quot; xmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n    &gt;\r\n    \t&lt;intercept-url pattern=&quot;/**&quot; access=&quot;IS_AUTHENTICATED_ANONYMOUSLY&quot; /&gt;\r\n    \t&lt;intercept-url pattern=&quot;/index/**&quot; access=&quot;ROLE_USER&quot; /&gt;\r\n    \t&lt;custom-filter position=&quot;PRE_AUTH_FILTER&quot; ref=&quot;preAuthFilter&quot; /&gt;\r\n    \t&lt;http-basic entry-point-ref=&quot;preAuthenticatedProcessingFilterEntryPoint&quot; /&gt;\r\n    \t&lt;anonymous/&gt;\r\n    \t&lt;custom-filter ref=&quot;oauth2ClientFilter&quot; after=&quot;EXCEPTION_TRANSLATION_FILTER&quot; /&gt;\r\n    &lt;/http&gt;   \r\n\r\n\t&lt;oauth:client id=&quot;oauth2ClientFilter&quot; /&gt;\r\n\r\n\t&lt;beans:bean id=&quot;userDetailsServiceImpl&quot;\r\n\t\tclass=&quot;com.sebit.security.client.oauth2.controller.UserDetailsServiceImpl&quot; /&gt;\r\n\r\n\t&lt;beans:bean id=&quot;preAuthenticatedProcessingFilterEntryPoint&quot;\r\n\t\tclass=&quot;org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint&quot;&gt; \r\n\t\t\t&lt;beans:property name=&quot;realmName&quot; value=&quot;messages&quot; /&gt;\r\n\t\t&lt;/beans:bean&gt;\r\n\t\t\t\r\n\t&lt;beans:bean id=&quot;preAuthenticationProvider&quot;\r\n\t    class=&quot;org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationProvider&quot;&gt;\r\n\t    &lt;beans:property name=&quot;preAuthenticatedUserDetailsService&quot;\r\n\t        ref=&quot;userDetailsServiceImpl&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;preAuthFilter&quot;\r\n\t    class=&quot;com.sebit.security.client.oauth2.controller.PreAuthentication&quot;&gt;\r\n\t    &lt;beans:property name=&quot;authenticationManager&quot; ref=&quot;appControlAuthenticationManager&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;authentication-manager alias=&quot;appControlAuthenticationManager&quot;&gt;\r\n\t    &lt;authentication-provider ref=&quot;preAuthenticationProvider&quot; /&gt;\r\n\t&lt;/authentication-manager&gt;\r\n\r\n    &lt;oauth:resource id=&quot;Authorization&quot; type=&quot;authorization_code&quot;\r\n    \tclient-id=&quot;myClient&quot; client-secret=&quot;secret&quot; access-token-uri=&quot;http://localhost/Authorization/oauth/token&quot;\r\n    \tuser-authorization-uri=&quot;http://localhost/Authorization/oauth/authorize&quot; scope=&quot;read,write&quot; /&gt;    \r\n\r\n\t&lt;mvc:default-servlet-handler /&gt;\r\n\r\n\t&lt;mvc:annotation-driven&gt;\r\n\t\t&lt;mvc:message-converters&gt;\r\n\t\t\t&lt;beans:bean class=&quot;org.springframework.http.converter.BufferedImageHttpMessageConverter&quot; /&gt;\r\n\t\t&lt;/mvc:message-converters&gt;\r\n\t&lt;/mvc:annotation-driven&gt;\r\n\t\r\n\t&lt;beans:bean id=&quot;conversionService&quot; class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;converters&quot;&gt;\r\n\t\t\t&lt;beans:set&gt;\r\n\t\t\t\t&lt;beans:bean class=&quot;com.sebit.security.client.oauth2.controller.AccessTokenRequestConverter&quot; /&gt;\r\n\t\t\t&lt;/beans:set&gt;\r\n\t\t&lt;/beans:property&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;helloController&quot; class=&quot;com.sebit.security.client.oauth2.controller.HelloController&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;restTemplate&quot;&gt;\r\n\t\t\t&lt;oauth:rest-template resource=&quot;Authorization&quot; /&gt;\r\n\t\t&lt;/beans:property&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\nThis is my mvc-dispatcher-servlet at client side:\r\n\r\n    &lt;bean\r\n\t  class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t  &lt;property name=&quot;suffix&quot;&gt;\r\n\t\t&lt;value&gt;.jsp&lt;/value&gt;\r\n\t  &lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\nAfter I call \r\n\r\n&quot;/Client/index&quot;\r\n\r\nit successfully bypasses login forms (at server and client side) and it succesfully calls\r\n \r\n&quot;/Authorization/oauth/authorize&quot;\r\n\r\nIt successfully add client_id, response_type, scope, redirect_uri and state parameters.\r\n\r\nAccess is confirmed and approval page come. After I clicked on &quot;Authorize&quot; button, I get 401 unauthorized error.\r\n\r\nAny helps greatly appreciated, thanks.\r\n\r\n\r\n","title":"401 unauthorized error before trying to get access token in spring security oauth 2","body":"<p>I am getting 401 unauthorized error before trying to get access token in spring security oauth2.</p>\n\n<p>I have both server (authorization and resource server) and client applications. Those applications created by using sparklr2 and tonr2 applications.</p>\n\n<p>I have bypassed login form at both applications. It means that it doesn't ask username and password at the beginning or both appkications, I used custom classes and setting user roles as \"ROLE_USER\" for both applications.</p>\n\n<p>This is my error stack trace:</p>\n\n<pre><code> SEVERE: Servlet.service() for servlet [mvc-dispatcher] in context with path [/Client] threw exception [Request processing failed; nested exception is error=\"access_denied\", error_description=\"Error requesting access token.\"] with root cause org.springframework.web.client.HttpClientErrorException: 401 Unauthorized\nat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:88)\nat org.springframework.security.oauth2.client.token.OAuth2AccessTokenSupport$AccessTokenErrorHandler.handleError(OAuth2AccessTokenSupport.java:243)\nat org.springframework.web.client.RestTemplate.handleResponseError(RestTemplate.java:556)\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:514)\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:479)\nat org.springframework.security.oauth2.client.token.OAuth2AccessTokenSupport.retrieveToken(OAuth2AccessTokenSupport.java:136)\nat org.springframework.security.oauth2.client.token.grant.code.AuthorizationCodeAccessTokenProvider.obtainAccessToken(AuthorizationCodeAccessTokenProvider.java:198)\nat org.springframework.security.oauth2.client.token.AccessTokenProviderChain.obtainNewAccessTokenInternal(AccessTokenProviderChain.java:142)\nat org.springframework.security.oauth2.client.token.AccessTokenProviderChain.obtainAccessToken(AccessTokenProviderChain.java:118)\nat org.springframework.security.oauth2.client.OAuth2RestTemplate.acquireAccessToken(OAuth2RestTemplate.java:221)\nat org.springframework.security.oauth2.client.OAuth2RestTemplate.getAccessToken(OAuth2RestTemplate.java:173)\nat org.springframework.security.oauth2.client.OAuth2RestTemplate.createRequest(OAuth2RestTemplate.java:105)\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:505)\nat org.springframework.security.oauth2.client.OAuth2RestTemplate.doExecute(OAuth2RestTemplate.java:128)\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:472)\nat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:237)\nat com.sebit.security.client.oauth2.controller.HelloController.welcomePage(HelloController.java:36)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953)\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:844)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.oauth2.client.filter.OAuth2ClientContextFilter.doFilter(OAuth2ClientContextFilter.java:57)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:150)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:94)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\nat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\nat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>This is my web.xml at my server application:</p>\n\n<pre><code>  &lt;servlet&gt;\n&lt;servlet-name&gt;spring&lt;/servlet-name&gt;\n&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet\n    &lt;/servlet-class&gt;\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;spring&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;listener&gt;\n&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener\n    &lt;/listener-class&gt;\n&lt;/listener&gt;\n\n&lt;context-param&gt;\n&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n&lt;param-value&gt;/WEB-INF/spring-servlet.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;filter&gt;\n&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;contextAttribute&lt;/param-name&gt;\n    &lt;param-value&gt;org.springframework.web.servlet.FrameworkServlet.CONTEXT.spring&lt;/param-value&gt;\n  &lt;/init-param&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>This is my spring-servlet.xml at server side:</p>\n\n<pre><code>&lt;http pattern=\"/oauth/token\" create-session=\"stateless\" authentication-manager-ref=\"clientAuthenticationManager\"\n    entry-point-ref=\"preAuthenticatedProcessingFilterEntryPoint\" \n    xmlns=\"http://www.springframework.org/schema/security\"&gt;\n    &lt;custom-filter position=\"PRE_AUTH_FILTER\" ref=\"preAuthFilter\" /&gt;\n    &lt;intercept-url pattern=\"/oauth/token\" access=\"IS_AUTHENTICATED_FULLY\" /&gt;\n    &lt;anonymous enabled=\"false\" /&gt;\n    &lt;http-basic entry-point-ref=\"preAuthenticatedProcessingFilterEntryPoint\" /&gt;\n\n    &lt;custom-filter ref=\"clientCredentialsTokenEndpointFilter\" before=\"BASIC_AUTH_FILTER\" /&gt;\n    &lt;access-denied-handler ref=\"oauthAccessDeniedHandler\" /&gt;\n&lt;/http&gt;\n\n\n\n&lt;http pattern=\"/index/**\" create-session=\"never\" \n    entry-point-ref=\"preAuthenticatedProcessingFilterEntryPoint\" access-decision-manager-ref=\"accessDecisionManager\"\n    xmlns=\"http://www.springframework.org/schema/security\"&gt;\n    &lt;custom-filter position=\"PRE_AUTH_FILTER\" ref=\"preAuthFilter\" /&gt;\n    &lt;anonymous enabled=\"false\" /&gt;\n    &lt;intercept-url pattern=\"/index\" access=\"ROLE_USER, SCOPE_READ\" /&gt;\n\n    &lt;custom-filter ref=\"resourceServerFilter\" before=\"PRE_AUTH_FILTER\" /&gt;\n    &lt;access-denied-handler ref=\"oauthAccessDeniedHandler\" /&gt;\n&lt;/http&gt;\n\n\n&lt;http auto-config=\"false\" xmlns=\"http://www.springframework.org/schema/security\"\n    &gt;\n    &lt;custom-filter position=\"PRE_AUTH_FILTER\" ref=\"preAuthFilter\" /&gt;\n    &lt;intercept-url pattern=\"/oauth/**\" access=\"ROLE_USER\" /&gt;\n    &lt;!--intercept-url pattern=\"/index/**\" access=\"ROLE_USER\" /--&gt;\n    &lt;intercept-url pattern=\"/**\" access=\"IS_AUTHENTICATED_ANONYMOUSLY\" /&gt;\n    &lt;http-basic entry-point-ref=\"preAuthenticatedProcessingFilterEntryPoint\" /&gt;\n    &lt;anonymous /&gt;\n&lt;/http&gt;\n\n&lt;beans:bean id=\"oauthAccessDeniedHandler\" class=\"org.springframework.security.oauth2.provider.error.OAuth2AccessDeniedHandler\" /&gt;\n\n&lt;beans:bean id=\"userDetailsServiceImpl\"\n    class=\"com.sebit.security.server.oauth2.controller.UserDetailsServiceImpl\" /&gt;\n\n\n&lt;beans:bean id=\"preAuthenticatedProcessingFilterEntryPoint\"\n    class=\"org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint\"&gt; \n        &lt;beans:property name=\"realmName\" value=\"Authorization\" /&gt;\n    &lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"preAuthenticationProvider\"\n    class=\"org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationProvider\"&gt;\n    &lt;beans:property name=\"preAuthenticatedUserDetailsService\"\n        ref=\"userDetailsServiceImpl\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"preAuthFilter\"\n    class=\"com.sebit.security.server.oauth2.controller.PreAuthentication\"&gt;\n    &lt;beans:property name=\"authenticationManager\" ref=\"appControlAuthenticationManager\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"clientCredentialsTokenEndpointFilter\" class=\"org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter\"&gt;\n    &lt;beans:property name=\"authenticationManager\" ref=\"clientAuthenticationManager\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;bean id=\"accessDecisionManager\" class=\"org.springframework.security.access.vote.UnanimousBased\" xmlns=\"http://www.springframework.org/schema/beans\"&gt;\n    &lt;constructor-arg&gt;\n        &lt;list&gt;\n            &lt;bean class=\"org.springframework.security.oauth2.provider.vote.ScopeVoter\" /&gt;\n            &lt;bean class=\"org.springframework.security.access.vote.RoleVoter\" /&gt;\n            &lt;bean class=\"org.springframework.security.access.vote.AuthenticatedVoter\" /&gt;\n        &lt;/list&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n\n&lt;authentication-manager id=\"clientAuthenticationManager\" xmlns=\"http://www.springframework.org/schema/security\"&gt;\n    &lt;authentication-provider user-service-ref=\"clientDetailsUserService\" /&gt;\n&lt;/authentication-manager&gt;\n\n&lt;authentication-manager alias=\"appControlAuthenticationManager\"&gt;\n    &lt;authentication-provider ref=\"preAuthenticationProvider\" /&gt;\n&lt;/authentication-manager&gt;\n\n&lt;beans:bean id=\"clientDetailsUserService\" class=\"org.springframework.security.oauth2.provider.client.ClientDetailsUserDetailsService\"&gt;\n    &lt;beans:constructor-arg ref=\"clientDetails\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"tokenStore\" class=\"org.springframework.security.oauth2.provider.token.store.InMemoryTokenStore\" /&gt;\n\n&lt;beans:bean id=\"tokenServices\" class=\"org.springframework.security.oauth2.provider.token.DefaultTokenServices\"&gt;\n    &lt;beans:property name=\"tokenStore\" ref=\"tokenStore\" /&gt;\n    &lt;beans:property name=\"supportRefreshToken\" value=\"true\" /&gt;\n    &lt;beans:property name=\"clientDetailsService\" ref=\"clientDetails\"/&gt;\n&lt;/beans:bean&gt;\n\n\n&lt;oauth:authorization-server client-details-service-ref=\"clientDetails\" token-services-ref=\"tokenServices\"\n    &gt;\n    &lt;oauth:authorization-code /&gt;\n    &lt;oauth:implicit /&gt;\n    &lt;oauth:refresh-token /&gt;\n    &lt;oauth:client-credentials /&gt;\n    &lt;oauth:password /&gt;\n&lt;/oauth:authorization-server&gt;\n\n&lt;oauth:resource-server id=\"resourceServerFilter\" resource-id=\"Authorization\" token-services-ref=\"tokenServices\" /&gt;\n\n&lt;oauth:client-details-service id=\"clientDetails\"&gt;\n    &lt;oauth:client client-id=\"myClient\" resource-ids=\"Authorization\" authorized-grant-types=\"authorization_code\"\n        authorities=\"ROLE_CLIENT\" scope=\"read,write\" secret=\"secret\"/&gt;\n&lt;/oauth:client-details-service&gt;\n\n&lt;beans:bean id=\"accessConfirmationController\" class=\"com.sebit.security.server.oauth2.controller.AccessConfirmationController\"&gt;\n    &lt;beans:property name=\"clientDetailsService\" ref=\"clientDetails\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;mvc:default-servlet-handler /&gt;\n\n&lt;global-method-security pre-post-annotations=\"enabled\" proxy-target-class=\"true\"&gt;\n    &lt;expression-handler ref=\"oauthExpressionHandler\" /&gt;\n&lt;/global-method-security&gt;\n\n&lt;oauth:expression-handler id=\"oauthExpressionHandler\" /&gt;\n</code></pre>\n\n<p>This is my web.xml at client side:</p>\n\n<pre><code>  &lt;servlet&gt;\n&lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet\n    &lt;/servlet-class&gt;\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;listener&gt;\n&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener\n    &lt;/listener-class&gt;\n&lt;/listener&gt;\n&lt;context-param&gt;\n&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n&lt;param-value&gt;/WEB-INF/mvc-dispatcher-servlet.xml, /WEB-INF/spring-security.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;filter&gt;\n&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy\n    &lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>This is my spring-security.xml at client side:</p>\n\n<pre><code>    &lt;http auto-config=\"false\" xmlns=\"http://www.springframework.org/schema/security\"\n&gt;\n    &lt;intercept-url pattern=\"/**\" access=\"IS_AUTHENTICATED_ANONYMOUSLY\" /&gt;\n    &lt;intercept-url pattern=\"/index/**\" access=\"ROLE_USER\" /&gt;\n    &lt;custom-filter position=\"PRE_AUTH_FILTER\" ref=\"preAuthFilter\" /&gt;\n    &lt;http-basic entry-point-ref=\"preAuthenticatedProcessingFilterEntryPoint\" /&gt;\n    &lt;anonymous/&gt;\n    &lt;custom-filter ref=\"oauth2ClientFilter\" after=\"EXCEPTION_TRANSLATION_FILTER\" /&gt;\n&lt;/http&gt;   \n\n&lt;oauth:client id=\"oauth2ClientFilter\" /&gt;\n\n&lt;beans:bean id=\"userDetailsServiceImpl\"\n    class=\"com.sebit.security.client.oauth2.controller.UserDetailsServiceImpl\" /&gt;\n\n&lt;beans:bean id=\"preAuthenticatedProcessingFilterEntryPoint\"\n    class=\"org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint\"&gt; \n        &lt;beans:property name=\"realmName\" value=\"messages\" /&gt;\n    &lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"preAuthenticationProvider\"\n    class=\"org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationProvider\"&gt;\n    &lt;beans:property name=\"preAuthenticatedUserDetailsService\"\n        ref=\"userDetailsServiceImpl\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"preAuthFilter\"\n    class=\"com.sebit.security.client.oauth2.controller.PreAuthentication\"&gt;\n    &lt;beans:property name=\"authenticationManager\" ref=\"appControlAuthenticationManager\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;authentication-manager alias=\"appControlAuthenticationManager\"&gt;\n    &lt;authentication-provider ref=\"preAuthenticationProvider\" /&gt;\n&lt;/authentication-manager&gt;\n\n&lt;oauth:resource id=\"Authorization\" type=\"authorization_code\"\n    client-id=\"myClient\" client-secret=\"secret\" access-token-uri=\"http://localhost/Authorization/oauth/token\"\n    user-authorization-uri=\"http://localhost/Authorization/oauth/authorize\" scope=\"read,write\" /&gt;    \n\n&lt;mvc:default-servlet-handler /&gt;\n\n&lt;mvc:annotation-driven&gt;\n    &lt;mvc:message-converters&gt;\n        &lt;beans:bean class=\"org.springframework.http.converter.BufferedImageHttpMessageConverter\" /&gt;\n    &lt;/mvc:message-converters&gt;\n&lt;/mvc:annotation-driven&gt;\n\n&lt;beans:bean id=\"conversionService\" class=\"org.springframework.context.support.ConversionServiceFactoryBean\"&gt;\n    &lt;beans:property name=\"converters\"&gt;\n        &lt;beans:set&gt;\n            &lt;beans:bean class=\"com.sebit.security.client.oauth2.controller.AccessTokenRequestConverter\" /&gt;\n        &lt;/beans:set&gt;\n    &lt;/beans:property&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"helloController\" class=\"com.sebit.security.client.oauth2.controller.HelloController\"&gt;\n    &lt;beans:property name=\"restTemplate\"&gt;\n        &lt;oauth:rest-template resource=\"Authorization\" /&gt;\n    &lt;/beans:property&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>This is my mvc-dispatcher-servlet at client side:</p>\n\n<pre><code>&lt;bean\n  class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n  &lt;property name=\"suffix\"&gt;\n    &lt;value&gt;.jsp&lt;/value&gt;\n  &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>After I call </p>\n\n<p>\"/Client/index\"</p>\n\n<p>it successfully bypasses login forms (at server and client side) and it succesfully calls</p>\n\n<p>\"/Authorization/oauth/authorize\"</p>\n\n<p>It successfully add client_id, response_type, scope, redirect_uri and state parameters.</p>\n\n<p>Access is confirmed and approval page come. After I clicked on \"Authorize\" button, I get 401 unauthorized error.</p>\n\n<p>Any helps greatly appreciated, thanks.</p>\n"},{"tags":["java","spring","hibernate","glassfish-3","entitymanager"],"comments":[{"owner":{"account_id":1309458,"reputation":5903,"user_id":1257771,"accept_rate":55,"display_name":"kasavbere"},"score":0,"creation_date":1348851722,"post_id":12635975,"comment_id":17054013,"body_markdown":"I am running `java EE 6`","body":"I am running <code>java EE 6</code>"},{"owner":{"account_id":1309458,"reputation":5903,"user_id":1257771,"accept_rate":55,"display_name":"kasavbere"},"score":0,"creation_date":1348858163,"post_id":12635975,"comment_id":17056302,"body_markdown":"Where is the injection coming from? Per the line `&lt;class&gt;com.mysite.restapi.RestletChildApplication&lt;/class&gt;`, am I supposed to create an instance of `EntityManager` in the  class `com.mysite.restapi.RestletChildApplication`?","body":"Where is the injection coming from? Per the line <code>&lt;class&gt;com.mysite.restapi.RestletChildApplication&lt;&#47;class&gt;</code>, am I supposed to create an instance of <code>EntityManager</code> in the  class <code>com.mysite.restapi.RestletChildApplication</code>?"}],"answers":[{"comments":[{"owner":{"account_id":1309458,"reputation":5903,"user_id":1257771,"accept_rate":55,"display_name":"kasavbere"},"score":0,"creation_date":1348819818,"post_id":12636030,"comment_id":17040443,"body_markdown":"Thanks! I fixed it and rerun, etc. But I still get the `NPE` at `entityManager.persist(object);`","body":"Thanks! I fixed it and rerun, etc. But I still get the <code>NPE</code> at <code>entityManager.persist(object);</code>"},{"owner":{"account_id":1309458,"reputation":5903,"user_id":1257771,"accept_rate":55,"display_name":"kasavbere"},"score":0,"creation_date":1348820512,"post_id":12636030,"comment_id":17040683,"body_markdown":"is `persistence-context.xml` the same as `persistence.xml`? I have the former but not the latter. Also my `persistence-context.xml` was generated by netbeans. Should I additionally create a `persistence.xml` file?","body":"is <code>persistence-context.xml</code> the same as <code>persistence.xml</code>? I have the former but not the latter. Also my <code>persistence-context.xml</code> was generated by netbeans. Should I additionally create a <code>persistence.xml</code> file?"},{"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"score":0,"creation_date":1348820994,"post_id":12636030,"comment_id":17040873,"body_markdown":"First time listen about `persistence-context.xml`. You must have `persistence.xml`","body":"First time listen about <code>persistence-context.xml</code>. You must have <code>persistence.xml</code>"}],"tags":[],"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1348819485,"creation_date":1348819485,"answer_id":12636030,"question_id":12635975,"body_markdown":"    setEntityManager \r\n\r\n \r\ninstead of  \r\n\r\n    setEngityManager  \r\nyou have typo.  \r\n  \r\nCreate persistence unit, like here  \r\n[java.net][1]  \r\n  \r\nand inject EntityManager by persistence unit&#39;s name  \r\n\r\n    @PersistenceContext(unitName=&quot;your_unit_name&quot;)\r\n    private EntityManager em;\r\n\r\n\r\n  [1]: http://glassfish.java.net/javaee5/persistence/persistence-example.html#Using_Netbeans_Java_SE_Example","title":"entityManager.persist(object) NullPointerException","body":"<pre><code>setEntityManager \n</code></pre>\n\n<p>instead of  </p>\n\n<pre><code>setEngityManager  \n</code></pre>\n\n<p>you have typo.  </p>\n\n<p>Create persistence unit, like here<br>\n<a href=\"http://glassfish.java.net/javaee5/persistence/persistence-example.html#Using_Netbeans_Java_SE_Example\" rel=\"nofollow\">java.net</a>  </p>\n\n<p>and inject EntityManager by persistence unit's name  </p>\n\n<pre><code>@PersistenceContext(unitName=\"your_unit_name\")\nprivate EntityManager em;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1309458,"reputation":5903,"user_id":1257771,"accept_rate":55,"display_name":"kasavbere"},"score":0,"creation_date":1348856731,"post_id":12638240,"comment_id":17055822,"body_markdown":"I am running  `EE 6`. Does my `persistence.xml` file above look correct? I juste edited the post to add it.","body":"I am running  <code>EE 6</code>. Does my <code>persistence.xml</code> file above look correct? I juste edited the post to add it."}],"tags":[],"owner":{"account_id":1668716,"reputation":2369,"user_id":1535606,"accept_rate":21,"display_name":"Arun Chandrasekaran"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348828037,"creation_date":1348828037,"answer_id":12638240,"question_id":12635975,"body_markdown":"Incase of Java EE 5, `@PersistenceContext(unitName=&quot;your_unit_name&quot;)` can be used only container managed objects like EJB or Servlet.\r\n\r\nIncase you want to create EntityManager object in a non-container managed object like a plain java class use refer the following sample.\r\n\r\n\r\n\r\n    private EntityManagerFactory emf;\r\n    \r\n    public static EntityManagerFactory getEntityManagerFactory() {\r\n        if (emf == null) {\r\n    \t\temf = Persistence.createEntityManagerFactory(&quot;your_unit_name&quot;);\r\n        }\r\n        return emf;\r\n    }\r\n    \r\n    public static EntityManager getEntityManager() {\r\n    \tEntityManager entityManager = null;\r\n    \tif (null != emf)\r\n               entityManager = emf.createEntityManager();\r\n    \r\n    \treturn entityManager;\r\n    }\r\n\r\nIncase of Java EE 6, you may refer CDI - Context and Dependency injection on how to inject EntityManager.","title":"entityManager.persist(object) NullPointerException","body":"<p>Incase of Java EE 5, <code>@PersistenceContext(unitName=\"your_unit_name\")</code> can be used only container managed objects like EJB or Servlet.</p>\n\n<p>Incase you want to create EntityManager object in a non-container managed object like a plain java class use refer the following sample.</p>\n\n<pre><code>private EntityManagerFactory emf;\n\npublic static EntityManagerFactory getEntityManagerFactory() {\n    if (emf == null) {\n        emf = Persistence.createEntityManagerFactory(\"your_unit_name\");\n    }\n    return emf;\n}\n\npublic static EntityManager getEntityManager() {\n    EntityManager entityManager = null;\n    if (null != emf)\n           entityManager = emf.createEntityManager();\n\n    return entityManager;\n}\n</code></pre>\n\n<p>Incase of Java EE 6, you may refer CDI - Context and Dependency injection on how to inject EntityManager.</p>\n"},{"tags":[],"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631885519,"creation_date":1631885519,"answer_id":69224331,"question_id":12635975,"body_markdown":"The above answers are useful. The very short version is that likely your EntityManager is null. The call itself shouldn&#39;t throw a null pointer exception.","title":"entityManager.persist(object) NullPointerException","body":"<p>The above answers are useful. The very short version is that likely your EntityManager is null. The call itself shouldn't throw a null pointer exception.</p>\n"}],"owner":{"account_id":1309458,"reputation":5903,"user_id":1257771,"accept_rate":55,"display_name":"kasavbere"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9764,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697166190,"creation_date":1348819277,"question_id":12635975,"body_markdown":"I have been struggling all week to learn Java EE. I am building a REST api using Restlet 2.0, Spring, Hibernate, and Maven through Netbeans 7.2. Now I am at the point where whenever I make a service call that tries to persist data to the database, the following method throws a `NullPointerException`\r\n\r\n    @Override\r\n    public void save(T object) {\r\n        entityManager.persist(object);\r\n    }\r\n\r\n\r\nFrom looking at the code, the following piece is supposed to inject the `entityManager`\r\n\r\n    protected EntityManager entityManager;\r\n\r\n    @PersistenceContext\r\n    public void setEngityManager(EntityManager entityManger) {\r\n        this.entityManager = entityManager;\r\n    }\r\n\r\nI found the link https://stackoverflow.com/questions/2108446/entitymanager-injection-results-in-nullpointerexception. But I am too new to understand how to implement it in my code. Also, I am using Glassfish 3.1.2. \r\n\r\nWill someone please help with some code sample?\r\n\r\n\r\nEDIT/UPDATE:\r\n\r\nBelow is the persistence.xml file I am using. I am running MySQL and Glassfish. Should I save it under `WEB-INF` which is where `persistence-context.xml` is OR under `src/main/resource` which is where `hibernate.cfg.xml` is?\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence-unit name=&quot;pu1&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n        &lt;class&gt;com.mysite.restapi.RestletChildApplication&lt;/class&gt;\r\n        &lt;properties&gt;\r\n                &lt;property name=&quot;hibernate.connection.driver_class&quot;\r\n                        value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.url&quot;\r\n                        value=&quot;jdbc:mysql://localhost:3306/mydatabase&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;myname&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;mypassword&quot;/&gt;\r\n                &lt;property name=&quot;show_sql&quot; value=&quot;true&quot; /&gt;\r\n                &lt;property name=&quot;dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot; /&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;","title":"entityManager.persist(object) NullPointerException","body":"<p>I have been struggling all week to learn Java EE. I am building a REST api using Restlet 2.0, Spring, Hibernate, and Maven through Netbeans 7.2. Now I am at the point where whenever I make a service call that tries to persist data to the database, the following method throws a <code>NullPointerException</code></p>\n\n<pre><code>@Override\npublic void save(T object) {\n    entityManager.persist(object);\n}\n</code></pre>\n\n<p>From looking at the code, the following piece is supposed to inject the <code>entityManager</code></p>\n\n<pre><code>protected EntityManager entityManager;\n\n@PersistenceContext\npublic void setEngityManager(EntityManager entityManger) {\n    this.entityManager = entityManager;\n}\n</code></pre>\n\n<p>I found the link <a href=\"https://stackoverflow.com/questions/2108446/entitymanager-injection-results-in-nullpointerexception\">EntityManager injection results in NullPointerException</a>. But I am too new to understand how to implement it in my code. Also, I am using Glassfish 3.1.2. </p>\n\n<p>Will someone please help with some code sample?</p>\n\n<p>EDIT/UPDATE:</p>\n\n<p>Below is the persistence.xml file I am using. I am running MySQL and Glassfish. Should I save it under <code>WEB-INF</code> which is where <code>persistence-context.xml</code> is OR under <code>src/main/resource</code> which is where <code>hibernate.cfg.xml</code> is?</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence-unit name=\"pu1\" transaction-type=\"JTA\"&gt;\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n    &lt;class&gt;com.mysite.restapi.RestletChildApplication&lt;/class&gt;\n    &lt;properties&gt;\n            &lt;property name=\"hibernate.connection.driver_class\"\n                    value=\"com.mysql.jdbc.Driver\" /&gt;\n            &lt;property name=\"hibernate.connection.url\"\n                    value=\"jdbc:mysql://localhost:3306/mydatabase\" /&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"myname\"/&gt;\n            &lt;property name=\"hibernate.connection.password\" value=\"mypassword\"/&gt;\n            &lt;property name=\"show_sql\" value=\"true\" /&gt;\n            &lt;property name=\"dialect\" value=\"org.hibernate.dialect.MySQLDialect\" /&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n"},{"tags":["java","logging","playframework","slf4j","mdc"],"owner":{"account_id":11848650,"reputation":21,"user_id":8670547,"display_name":"Shorifuzzaman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697165951,"creation_date":1662732560,"question_id":73663432,"body_markdown":"I am facing an issue on propagating slf4 MDC in play framework. I actually require to pass an X-Request-Id from request through multiple threads for the purpose of slf4 logging.\r\n\r\nI found a solution here, https://yanns.github.io/blog/2014/05/04/slf4j-mapped-diagnostic-context-mdc-with-play-framework/ for passing MDC in an asynchronous environment. But unfortunately it&#39;s not working. After putting MDC in a filter I am getting null value in controller for that MDC. Here is my code snippts.\r\n\r\n- `LoggingFilters.java`\r\n\r\n```\r\n@Component\r\npublic class LoggingFilters extends Filter {\r\n  private final Executor exec;\r\n  public static final String REQUEST_ID_STRING = &quot;X-Request-Id&quot;;\r\n  private static final Logger log = LoggerFactory.getLogger(LoggingFilters.class);\r\n\r\n  @Inject\r\n  public LoggingFilters(final Materializer mat, final Executor exec) {\r\n    super(mat);\r\n    this.exec = exec;\r\n  }\r\n\r\n  @Override\r\n  public CompletionStage&lt;Result&gt; apply(\r\n      final Function&lt;Http.RequestHeader, CompletionStage&lt;Result&gt;&gt; nextFilter,\r\n      final Http.RequestHeader requestHeader) {\r\n    final String requestId = requestHeader.header(REQUEST_ID_STRING).orElse(UUID.randomUUID().toString());\r\n    MDC.put(REQUEST_ID_STRING, requestId);\r\n    return nextFilter\r\n        .apply(requestHeader)\r\n        .thenApplyAsync(\r\n            result -&gt; {\r\n              MDC.remove(REQUEST_ID_STRING);\r\n              return result;\r\n            }, exec);\r\n  }\r\n}\r\n```\r\n\r\n- Filters.java\r\n\r\n```\r\npublic class Filters implements HttpFilters {\r\n\r\n  private final List&lt;EssentialFilter&gt; filters;\r\n\r\n  @Inject\r\n  public Filters(final LoggingFilters loggingFilter) {\r\n    filters = Lists.newArrayList(\r\n        loggingFilter.asJava());\r\n  }\r\n\r\n  @Override\r\n  public List&lt;EssentialFilter&gt; getFilters() {\r\n    return filters;\r\n  }\r\n}\r\n```\r\n\r\n- `MDCPropagatingDispatcherConfigurator.scala`\r\n\r\n```\r\npackage topl.util\r\n\r\nimport akka.dispatch._\r\nimport com.typesafe.config.Config\r\nimport org.slf4j.MDC\r\n\r\nimport java.util.concurrent.TimeUnit\r\nimport scala.concurrent.ExecutionContext\r\nimport scala.concurrent.duration.{Duration, FiniteDuration}\r\n\r\nclass MDCPropagatingDispatcherConfigurator(config: Config, prerequisites: DispatcherPrerequisites)\r\n  extends MessageDispatcherConfigurator(config, prerequisites) {\r\n\r\n  private val instance = new MDCPropagatingDispatcher(\r\n    this,\r\n    config.getString(&quot;id&quot;),\r\n    config.getInt(&quot;throughput&quot;),\r\n    FiniteDuration(config.getDuration(&quot;throughput-deadline-time&quot;, TimeUnit.NANOSECONDS), TimeUnit.NANOSECONDS),\r\n    configureExecutor(),\r\n    FiniteDuration(config.getDuration(&quot;shutdown-timeout&quot;, TimeUnit.MILLISECONDS), TimeUnit.MILLISECONDS))\r\n\r\n  override def dispatcher(): MessageDispatcher = instance\r\n}\r\n\r\nclass MDCPropagatingDispatcher(_configurator: MessageDispatcherConfigurator,\r\n                               id: String,\r\n                               throughput: Int,\r\n                               throughputDeadlineTime: Duration,\r\n                               executorServiceFactoryProvider: ExecutorServiceFactoryProvider,\r\n                               shutdownTimeout: FiniteDuration)\r\n  extends Dispatcher(_configurator, id, throughput, throughputDeadlineTime, executorServiceFactoryProvider, shutdownTimeout) {\r\n\r\n  self =&gt;\r\n\r\n  override def prepare(): ExecutionContext = new ExecutionContext {\r\n    // capture the MDC\r\n    val mdcContext = MDC.getCopyOfContextMap\r\n\r\n    def execute(r: Runnable) = self.execute(new Runnable {\r\n      def run() = {\r\n        // backup the callee MDC context\r\n        val oldMDCContext = MDC.getCopyOfContextMap\r\n\r\n        // Run the runnable with the captured context\r\n        setContextMap(mdcContext)\r\n        try {\r\n          r.run()\r\n        } finally {\r\n          // restore the callee MDC context\r\n          setContextMap(oldMDCContext)\r\n        }\r\n      }\r\n    })\r\n\r\n    def reportFailure(t: Throwable) = self.reportFailure(t)\r\n  }\r\n\r\n  private[this] def setContextMap(context: java.util.Map[String, String]) {\r\n    if (context == null) {\r\n      MDC.clear()\r\n    } else {\r\n      MDC.setContextMap(context)\r\n    }\r\n  }\r\n\r\n}\r\n```\r\n\r\n- `Application.conf`\r\n\r\n```\r\nakka {\r\n  actor {\r\n       default-dispatcher {\r\n                  type = &quot;topl.util.MDCPropagatingDispatcherConfigurator&quot;\r\n                }\r\n  }\r\n}\r\n```\r\n\r\n- I have also some custom Execution Context for serving different purposes. I am also passing MDC context there too. For example: MediumExecutionContext    \r\n  - ```\r\n    MediumExecutionContext.java\r\n    ```\r\n\r\n    ```\r\n    @Component\r\n    public class MediumExecutionContext extends CustomExecutionContext {\r\n    \r\n      public MediumExecutionContext(final ActorSystem actorSystem) {\r\n        // uses a custom thread pool defined in application-default.conf\r\n        super(actorSystem, &quot;medium-dispatcher&quot;);\r\n      }\r\n    \r\n      @Override\r\n      public ExecutionContext prepare() {\r\n        final Map&lt;String, String&gt; mdcContext = MDC.getCopyOfContextMap();\r\n        return new ExecutionContext() {\r\n          @Override\r\n          public void execute(final Runnable r) {\r\n            final Map&lt;String, String&gt; oldMDCContext = MDC.getCopyOfContextMap();\r\n            setContextMap(mdcContext);\r\n            try {\r\n              r.run();\r\n            } finally {\r\n              setContextMap(oldMDCContext);\r\n            }\r\n          }\r\n    \r\n          @Override\r\n          public ExecutionContext prepare() {\r\n            return this;\r\n          }\r\n    \r\n          @Override\r\n          public void reportFailure(final Throwable t) {\r\n            play.Logger.info(&quot;error occured in dispatcher&quot;);\r\n          }\r\n        };\r\n      }\r\n    \r\n      private void setContextMap(final Map&lt;String, String&gt; context) {\r\n        if (context == null) {\r\n          MDC.clear();\r\n        } else {\r\n          MDC.setContextMap(context);\r\n        }\r\n      }\r\n    }\r\n    ```\r\n\r\n  - `DispatchHelper.java`  \r\n\r\n    ```\r\n    public Executor getMediumExecutor() {\r\n      return HttpExecution.fromThread((Executor)mediumExecutionContext);\r\n    }\r\n    \r\n    ```\r\n\r\n\r\n- `logback.xml`\r\n\r\n  ```\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n          &lt;encoder&gt;\r\n              &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} %mdc{X-Request-Id:--} - %msg%n\r\n              &lt;/pattern&gt;\r\n          &lt;/encoder&gt;\r\n      &lt;/appender&gt;\r\n  \r\n  ```\r\n\r\n\r\n- `Controller`\r\n\r\n  ```\r\n  @Slf4j \r\n  @RequiredArgsConstructor \r\n  @Controller \r\n  @GeneralOpenApiResource \r\n  public class FetchDirectoryApi extends NewAuthenticatedInterceptorStack {\r\n  \r\n      public CompletionStage&lt;Result&gt; getRootDirectories(final Request request,final String category) {\r\n              log.info(&quot;Test 1&quot;); //I am not getting the MDC context here and it&#39;snot logging the x-request-id \r\n              }\r\n  }\r\n  ```\r\n\r\nSo, could you please help me to make this work? Or, is there any different approach that I can follow to log the request_id from some nested threads?\r\n\r\nI have got a Fix!\r\n\r\n&gt; Solution:\r\n\r\nI am sharing the solution here so that it helps other. \r\n\r\n- Method Interception:\r\nInstead of Filter it&#39;s better to use a Method interceptor to store the MDC. I have followed [this link][1] to extend Action.Simple for intercepting the request in play framework.\r\n\r\n```\r\npublic class DefaultAction extends Action.Simple {\r\n    @Override\r\n    public CompletionStage&lt;Result&gt; call(final Request request) {\r\n        try {\r\n            MDC.put(&quot;TestKey&quot;, &quot;Test Value&quot;)\r\n            return delegate.call(request);\r\n        } finally {\r\n            // Clean up the MDC\r\n            MDC.remove(&quot;TestKey&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n- Change for Custom Dispatchers:\r\nTo propagate MDC context to different Dispatchers (which runs in different threads) I override the execute() method as follows.\r\n\r\n```\r\npublic class MediumExecutionContext extends CustomExecutionContext {\r\n    public MediumExecutionContext(final ActorSystem actorSystem) {\r\n        // uses a custom thread pool defined in application.conf\r\n        super(actorSystem, &quot;medium-dispatcher&quot;);\r\n    }\r\n    \r\n    @Override\r\n    public void execute(final Runnable command) {\r\n        final Map&lt;String, String&gt; mdcContext = MDC.getCopyOfContextMap();\r\n        final Runnable runnable = () -&gt; {\r\n            final Map&lt;String, String&gt; oldMdcContext = MDC.getCopyOfContextMap();\r\n            MDC.setContextMap(mdcContext);\r\n            try {\r\n                command.run();\r\n            } finally {\r\n                MDC.setContextMap(oldMdcContext);\r\n            }\r\n        };\r\n        runnable.run();\r\n    }\r\n}\r\n```\r\n\r\nNow it should propagate the MDC value through the dispatchers (in different thread).\r\n\r\n  [1]: https://petrepopescu.tech/2021/09/intercepting-and-manipulating-requests-in-play-framework/","title":"How can we propagate slf4j MDC/Request_id in Play framework for Java","body":"<p>I am facing an issue on propagating slf4 MDC in play framework. I actually require to pass an X-Request-Id from request through multiple threads for the purpose of slf4 logging.</p>\n<p>I found a solution here, <a href=\"https://yanns.github.io/blog/2014/05/04/slf4j-mapped-diagnostic-context-mdc-with-play-framework/\" rel=\"nofollow noreferrer\">https://yanns.github.io/blog/2014/05/04/slf4j-mapped-diagnostic-context-mdc-with-play-framework/</a> for passing MDC in an asynchronous environment. But unfortunately it's not working. After putting MDC in a filter I am getting null value in controller for that MDC. Here is my code snippts.</p>\n<ul>\n<li><code>LoggingFilters.java</code></li>\n</ul>\n<pre><code>@Component\npublic class LoggingFilters extends Filter {\n  private final Executor exec;\n  public static final String REQUEST_ID_STRING = &quot;X-Request-Id&quot;;\n  private static final Logger log = LoggerFactory.getLogger(LoggingFilters.class);\n\n  @Inject\n  public LoggingFilters(final Materializer mat, final Executor exec) {\n    super(mat);\n    this.exec = exec;\n  }\n\n  @Override\n  public CompletionStage&lt;Result&gt; apply(\n      final Function&lt;Http.RequestHeader, CompletionStage&lt;Result&gt;&gt; nextFilter,\n      final Http.RequestHeader requestHeader) {\n    final String requestId = requestHeader.header(REQUEST_ID_STRING).orElse(UUID.randomUUID().toString());\n    MDC.put(REQUEST_ID_STRING, requestId);\n    return nextFilter\n        .apply(requestHeader)\n        .thenApplyAsync(\n            result -&gt; {\n              MDC.remove(REQUEST_ID_STRING);\n              return result;\n            }, exec);\n  }\n}\n</code></pre>\n<ul>\n<li>Filters.java</li>\n</ul>\n<pre><code>public class Filters implements HttpFilters {\n\n  private final List&lt;EssentialFilter&gt; filters;\n\n  @Inject\n  public Filters(final LoggingFilters loggingFilter) {\n    filters = Lists.newArrayList(\n        loggingFilter.asJava());\n  }\n\n  @Override\n  public List&lt;EssentialFilter&gt; getFilters() {\n    return filters;\n  }\n}\n</code></pre>\n<ul>\n<li><code>MDCPropagatingDispatcherConfigurator.scala</code></li>\n</ul>\n<pre><code>package topl.util\n\nimport akka.dispatch._\nimport com.typesafe.config.Config\nimport org.slf4j.MDC\n\nimport java.util.concurrent.TimeUnit\nimport scala.concurrent.ExecutionContext\nimport scala.concurrent.duration.{Duration, FiniteDuration}\n\nclass MDCPropagatingDispatcherConfigurator(config: Config, prerequisites: DispatcherPrerequisites)\n  extends MessageDispatcherConfigurator(config, prerequisites) {\n\n  private val instance = new MDCPropagatingDispatcher(\n    this,\n    config.getString(&quot;id&quot;),\n    config.getInt(&quot;throughput&quot;),\n    FiniteDuration(config.getDuration(&quot;throughput-deadline-time&quot;, TimeUnit.NANOSECONDS), TimeUnit.NANOSECONDS),\n    configureExecutor(),\n    FiniteDuration(config.getDuration(&quot;shutdown-timeout&quot;, TimeUnit.MILLISECONDS), TimeUnit.MILLISECONDS))\n\n  override def dispatcher(): MessageDispatcher = instance\n}\n\nclass MDCPropagatingDispatcher(_configurator: MessageDispatcherConfigurator,\n                               id: String,\n                               throughput: Int,\n                               throughputDeadlineTime: Duration,\n                               executorServiceFactoryProvider: ExecutorServiceFactoryProvider,\n                               shutdownTimeout: FiniteDuration)\n  extends Dispatcher(_configurator, id, throughput, throughputDeadlineTime, executorServiceFactoryProvider, shutdownTimeout) {\n\n  self =&gt;\n\n  override def prepare(): ExecutionContext = new ExecutionContext {\n    // capture the MDC\n    val mdcContext = MDC.getCopyOfContextMap\n\n    def execute(r: Runnable) = self.execute(new Runnable {\n      def run() = {\n        // backup the callee MDC context\n        val oldMDCContext = MDC.getCopyOfContextMap\n\n        // Run the runnable with the captured context\n        setContextMap(mdcContext)\n        try {\n          r.run()\n        } finally {\n          // restore the callee MDC context\n          setContextMap(oldMDCContext)\n        }\n      }\n    })\n\n    def reportFailure(t: Throwable) = self.reportFailure(t)\n  }\n\n  private[this] def setContextMap(context: java.util.Map[String, String]) {\n    if (context == null) {\n      MDC.clear()\n    } else {\n      MDC.setContextMap(context)\n    }\n  }\n\n}\n</code></pre>\n<ul>\n<li><code>Application.conf</code></li>\n</ul>\n<pre><code>akka {\n  actor {\n       default-dispatcher {\n                  type = &quot;topl.util.MDCPropagatingDispatcherConfigurator&quot;\n                }\n  }\n}\n</code></pre>\n<ul>\n<li><p>I have also some custom Execution Context for serving different purposes. I am also passing MDC context there too. For example: MediumExecutionContext</p>\n<ul>\n<li>\n<pre><code>MediumExecutionContext.java\n</code></pre>\n<pre><code>@Component\npublic class MediumExecutionContext extends CustomExecutionContext {\n\n  public MediumExecutionContext(final ActorSystem actorSystem) {\n    // uses a custom thread pool defined in application-default.conf\n    super(actorSystem, &quot;medium-dispatcher&quot;);\n  }\n\n  @Override\n  public ExecutionContext prepare() {\n    final Map&lt;String, String&gt; mdcContext = MDC.getCopyOfContextMap();\n    return new ExecutionContext() {\n      @Override\n      public void execute(final Runnable r) {\n        final Map&lt;String, String&gt; oldMDCContext = MDC.getCopyOfContextMap();\n        setContextMap(mdcContext);\n        try {\n          r.run();\n        } finally {\n          setContextMap(oldMDCContext);\n        }\n      }\n\n      @Override\n      public ExecutionContext prepare() {\n        return this;\n      }\n\n      @Override\n      public void reportFailure(final Throwable t) {\n        play.Logger.info(&quot;error occured in dispatcher&quot;);\n      }\n    };\n  }\n\n  private void setContextMap(final Map&lt;String, String&gt; context) {\n    if (context == null) {\n      MDC.clear();\n    } else {\n      MDC.setContextMap(context);\n    }\n  }\n}\n</code></pre>\n</li>\n<li><p><code>DispatchHelper.java</code></p>\n<pre><code>public Executor getMediumExecutor() {\n  return HttpExecution.fromThread((Executor)mediumExecutionContext);\n}\n\n</code></pre>\n</li>\n</ul>\n</li>\n<li><p><code>logback.xml</code></p>\n<pre><code>  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} %mdc{X-Request-Id:--} - %msg%n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n</code></pre>\n</li>\n<li><p><code>Controller</code></p>\n<pre><code>@Slf4j \n@RequiredArgsConstructor \n@Controller \n@GeneralOpenApiResource \npublic class FetchDirectoryApi extends NewAuthenticatedInterceptorStack {\n\n    public CompletionStage&lt;Result&gt; getRootDirectories(final Request request,final String category) {\n            log.info(&quot;Test 1&quot;); //I am not getting the MDC context here and it'snot logging the x-request-id \n            }\n}\n</code></pre>\n</li>\n</ul>\n<p>So, could you please help me to make this work? Or, is there any different approach that I can follow to log the request_id from some nested threads?</p>\n<p>I have got a Fix!</p>\n<blockquote>\n<p>Solution:</p>\n</blockquote>\n<p>I am sharing the solution here so that it helps other.</p>\n<ul>\n<li>Method Interception:\nInstead of Filter it's better to use a Method interceptor to store the MDC. I have followed <a href=\"https://petrepopescu.tech/2021/09/intercepting-and-manipulating-requests-in-play-framework/\" rel=\"nofollow noreferrer\">this link</a> to extend Action.Simple for intercepting the request in play framework.</li>\n</ul>\n<pre><code>public class DefaultAction extends Action.Simple {\n    @Override\n    public CompletionStage&lt;Result&gt; call(final Request request) {\n        try {\n            MDC.put(&quot;TestKey&quot;, &quot;Test Value&quot;)\n            return delegate.call(request);\n        } finally {\n            // Clean up the MDC\n            MDC.remove(&quot;TestKey&quot;)\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>Change for Custom Dispatchers:\nTo propagate MDC context to different Dispatchers (which runs in different threads) I override the execute() method as follows.</li>\n</ul>\n<pre><code>public class MediumExecutionContext extends CustomExecutionContext {\n    public MediumExecutionContext(final ActorSystem actorSystem) {\n        // uses a custom thread pool defined in application.conf\n        super(actorSystem, &quot;medium-dispatcher&quot;);\n    }\n    \n    @Override\n    public void execute(final Runnable command) {\n        final Map&lt;String, String&gt; mdcContext = MDC.getCopyOfContextMap();\n        final Runnable runnable = () -&gt; {\n            final Map&lt;String, String&gt; oldMdcContext = MDC.getCopyOfContextMap();\n            MDC.setContextMap(mdcContext);\n            try {\n                command.run();\n            } finally {\n                MDC.setContextMap(oldMdcContext);\n            }\n        };\n        runnable.run();\n    }\n}\n</code></pre>\n<p>Now it should propagate the MDC value through the dispatchers (in different thread).</p>\n"},{"tags":["java","spring","spring-security","basic-authentication"],"comments":[{"owner":{"display_name":"user10871691"},"score":0,"creation_date":1593503908,"post_id":62652673,"comment_id":110796865,"body_markdown":"How do you perform that POST? Using Postman?","body":"How do you perform that POST? Using Postman?"},{"owner":{"account_id":15441701,"reputation":37,"user_id":11140063,"display_name":"Svetlana Guma"},"score":0,"creation_date":1593505526,"post_id":62652673,"comment_id":110797690,"body_markdown":"yes, and tried with/without Basic authentication","body":"yes, and tried with/without Basic authentication"},{"owner":{"display_name":"user10871691"},"score":0,"creation_date":1593505704,"post_id":62652673,"comment_id":110797804,"body_markdown":"This line `http.csrf().disable().requestMatcher(EndpointRequest.toAnyEndpoint()).authorizeRequests().anyRequest().authenticated().and().httpBasic();` worked for me","body":"This line <code>http.csrf().disable().requestMatcher(EndpointRequest.toAnyEn&zwnj;&#8203;dpoint()).authorizeR&zwnj;&#8203;equests().anyRequest&zwnj;&#8203;().authenticated().a&zwnj;&#8203;nd().httpBasic();</code> worked for me"},{"owner":{"account_id":441392,"reputation":3406,"user_id":831460,"accept_rate":50,"display_name":"Marek Puchalski"},"score":0,"creation_date":1593513379,"post_id":62652673,"comment_id":110801608,"body_markdown":"If you have solved your issue yourself, then please write down the answer yourself for future generations. If some comments were helpful, please upvote them.","body":"If you have solved your issue yourself, then please write down the answer yourself for future generations. If some comments were helpful, please upvote them."}],"answers":[{"tags":[],"owner":{"account_id":22792024,"reputation":11,"user_id":16946197,"display_name":"Taewoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697165542,"creation_date":1695188279,"answer_id":77139552,"question_id":62652673,"body_markdown":"``` http.csrf().disable()``` is not working in Spring Boot 3.x.x. You should try the following line.\r\n\r\n\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SpringFilterChainConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(AbstractHttpConfigurer::disable);\r\n        http.cors(AbstractHttpConfigurer::disable);\r\n\r\n        return http\r\n                .authorizeHttpRequests(request -&gt; request\r\n                        .requestMatchers(HttpMethod.POST, &quot;/api/users&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.POST, &quot;/api/users/login&quot;).permitAll()\r\n                        .anyRequest()\r\n                        .authenticated()\r\n                ).build();\r\n    }\r\n}\r\n\r\n```","title":"Spring Security CSRF disable is not working","body":"<p><code> http.csrf().disable()</code> is not working in Spring Boot 3.x.x. You should try the following line.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SpringFilterChainConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf(AbstractHttpConfigurer::disable);\n        http.cors(AbstractHttpConfigurer::disable);\n\n        return http\n                .authorizeHttpRequests(request -&gt; request\n                        .requestMatchers(HttpMethod.POST, &quot;/api/users&quot;).permitAll()\n                        .requestMatchers(HttpMethod.POST, &quot;/api/users/login&quot;).permitAll()\n                        .anyRequest()\n                        .authenticated()\n                ).build();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":15441701,"reputation":37,"user_id":11140063,"display_name":"Svetlana Guma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3603,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697165542,"creation_date":1593503405,"question_id":62652673,"body_markdown":"I want to protect `/actuator/shutdown` endpoint with Basic auth. I have an implementation of `UserDetailsService` and my security class looks like this:\r\n```\r\n@Configuration\r\npublic static class ActuatorWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\r\n\r\n  @Autowired\r\n  UserProvider userProvider;\r\n\r\n  @Autowired\r\n  public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n    auth.userDetailsService(new UserDetailsServiceCustom(userProvider)).passwordEncoder(new BCryptPasswordEncoder(12));\r\n  }\r\n\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    http.csrf().disable()\r\n       .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n    http.authorizeRequests()\r\n       .antMatchers(&quot;/actuator/shutdown&quot;).authenticated().and().httpBasic();\r\n  }\r\n}\r\n```\r\nI enabled shutdown endpoint like this in properties:\r\n```\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: shutdown\r\n  endpoint:\r\n    shutdown:\r\n      enabled: true\r\n```\r\nWhen I perform `POST /actuator/shutdown` I receive 403 FORBIDDEN and with debugger I see that `UserDetailsServiceCustom` method is not triggered at all, but if I try `GET /actuator/shutdown` I receive 405 and method in `UserDetailsServiceCustom` is triggered properly, so it means that I can access this endpoint but something stands in a way of POST. I googled a lot and found out that it&#39;s because of CSRF but as you can see I&#39;ve disabled it already. I also tried to add `web.ignoring().antMatchers(&quot;/actuator/shutdown&quot;)` but this way anyone can access this endpoint.\r\n\r\nSo my question is how to enable Basic Authentication that uses my database users for this endpoint?\r\n\r\n**UPDATE**\r\nOkay so the problem was not with the HttpSecurity config or CSRF but with how I incorrectly implemented [multiple HttpSecurity][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#multiple-httpsecurity","title":"Spring Security CSRF disable is not working","body":"<p>I want to protect <code>/actuator/shutdown</code> endpoint with Basic auth. I have an implementation of <code>UserDetailsService</code> and my security class looks like this:</p>\n<pre><code>@Configuration\npublic static class ActuatorWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n\n  @Autowired\n  UserProvider userProvider;\n\n  @Autowired\n  public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(new UserDetailsServiceCustom(userProvider)).passwordEncoder(new BCryptPasswordEncoder(12));\n  }\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n       .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n    http.authorizeRequests()\n       .antMatchers(&quot;/actuator/shutdown&quot;).authenticated().and().httpBasic();\n  }\n}\n</code></pre>\n<p>I enabled shutdown endpoint like this in properties:</p>\n<pre><code>management:\n  endpoints:\n    web:\n      exposure:\n        include: shutdown\n  endpoint:\n    shutdown:\n      enabled: true\n</code></pre>\n<p>When I perform <code>POST /actuator/shutdown</code> I receive 403 FORBIDDEN and with debugger I see that <code>UserDetailsServiceCustom</code> method is not triggered at all, but if I try <code>GET /actuator/shutdown</code> I receive 405 and method in <code>UserDetailsServiceCustom</code> is triggered properly, so it means that I can access this endpoint but something stands in a way of POST. I googled a lot and found out that it's because of CSRF but as you can see I've disabled it already. I also tried to add <code>web.ignoring().antMatchers(&quot;/actuator/shutdown&quot;)</code> but this way anyone can access this endpoint.</p>\n<p>So my question is how to enable Basic Authentication that uses my database users for this endpoint?</p>\n<p><strong>UPDATE</strong>\nOkay so the problem was not with the HttpSecurity config or CSRF but with how I incorrectly implemented <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#multiple-httpsecurity\" rel=\"nofollow noreferrer\">multiple HttpSecurity</a></p>\n"},{"tags":["java","maven","tomcat","java-11"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697164868,"post_id":77284736,"comment_id":136248452,"body_markdown":"What version of Tomcat and Maven are you using? What kind of project?","body":"What version of Tomcat and Maven are you using? What kind of project?"},{"owner":{"account_id":7493445,"reputation":161,"user_id":5694406,"display_name":"Rakesh Sharma"},"score":0,"creation_date":1697166626,"post_id":77284736,"comment_id":136248551,"body_markdown":"@aled - Maven 3.8.1 and Tomcat 9.0.41","body":"@aled - Maven 3.8.1 and Tomcat 9.0.41"},{"owner":{"account_id":7493445,"reputation":161,"user_id":5694406,"display_name":"Rakesh Sharma"},"score":0,"creation_date":1697166743,"post_id":77284736,"comment_id":136248558,"body_markdown":"I feel, this is class loading issue. Is there any way to check which jar is loading javax.annotation.Resource ? I tried Tomcat Fine level logging but that doesnt tell anything about jar.","body":"I feel, this is class loading issue. Is there any way to check which jar is loading javax.annotation.Resource ? I tried Tomcat Fine level logging but that doesnt tell anything about jar."}],"owner":{"account_id":7493445,"reputation":161,"user_id":5694406,"display_name":"Rakesh Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697164835,"creation_date":1697163916,"question_id":77284736,"body_markdown":"I have a project in java 8 which I am trying to migrate to Java 11. I faced issue with sun.security.x509. That got resolved by adding below code in pom\r\n\r\n        &lt;compilerArgs&gt;\r\n            &lt;arg&gt;--add-exports&lt;/arg&gt;&lt;arg&gt;java.base/sun.security.x509=ALL-UNNAMED&lt;/arg&gt;\r\n        &lt;/compilerArgs&gt;\r\n        \r\nWhen I am do tomcat start after maven build, I get below error,\r\n```\r\nPost-processing of merged bean definition failed; nested exception is java.lang.NoSuchMethodError: javax.annotation.Resource.lookup()Ljava/lang/String;\r\n```\r\nI can see few posts on StackOverflow related to this error. \r\n\r\nhttps://stackoverflow.com/questions/56855335/javax-annotation-classes-and-java-11-jdk\r\n\r\nhttps://stackoverflow.com/questions/52607814/how-to-remove-a-maven-lib-jsr250-api-1-0-jar-from-the-plugin-classpath-jetty\r\n\r\nhttps://stackoverflow.com/questions/61149455/access-sun-security-x509-in-jdk-11-without-modules\r\n\r\nI dont see jsr250-api lib in my target folder.\r\nI tried all of those but no luck. I am not sure what is wrong here. \r\n\r\nPlease let me know if you have any idea about this error.","title":"Why I am getting Tomcat startup error with java 11","body":"<p>I have a project in java 8 which I am trying to migrate to Java 11. I faced issue with sun.security.x509. That got resolved by adding below code in pom</p>\n<pre><code>    &lt;compilerArgs&gt;\n        &lt;arg&gt;--add-exports&lt;/arg&gt;&lt;arg&gt;java.base/sun.security.x509=ALL-UNNAMED&lt;/arg&gt;\n    &lt;/compilerArgs&gt;\n    \n</code></pre>\n<p>When I am do tomcat start after maven build, I get below error,</p>\n<pre><code>Post-processing of merged bean definition failed; nested exception is java.lang.NoSuchMethodError: javax.annotation.Resource.lookup()Ljava/lang/String;\n</code></pre>\n<p>I can see few posts on StackOverflow related to this error.</p>\n<p><a href=\"https://stackoverflow.com/questions/56855335/javax-annotation-classes-and-java-11-jdk\">javax.annotation classes and Java 11 JDK</a></p>\n<p><a href=\"https://stackoverflow.com/questions/52607814/how-to-remove-a-maven-lib-jsr250-api-1-0-jar-from-the-plugin-classpath-jetty\">How to remove a maven lib (jsr250-api-1.0.jar) from the plugin classpath (jetty:run)?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/61149455/access-sun-security-x509-in-jdk-11-without-modules\">Access `sun.security.x509` in JDK 11 without modules?</a></p>\n<p>I dont see jsr250-api lib in my target folder.\nI tried all of those but no luck. I am not sure what is wrong here.</p>\n<p>Please let me know if you have any idea about this error.</p>\n"},{"tags":["java","eclipse","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697205814,"post_id":77284729,"comment_id":136254479,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":29660669,"reputation":1,"user_id":22732290,"display_name":"Vijay Dhandhukiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697164221,"creation_date":1697164126,"answer_id":77284749,"question_id":77284729,"body_markdown":"you can do below mentioned steps to resolve this issue.\r\nclick on below steps to see image\r\n\r\n1) [right click on project&gt;BuildPath&gt;Configure Buildpath][1]\r\n\r\n\r\n2) [in java build path &gt; Libraries &gt; JRE System Library &gt; Edit][2]\r\n\r\n3) [click Workspace Default JRE &gt; click finish &gt; Click apply and close][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vUpdN.png\r\n  [2]: https://i.stack.imgur.com/CDjx5.png\r\n  [3]: https://i.stack.imgur.com/3YP1q.png","title":"The type java.lang.String cannot be resolved. It is indirectly referenced from required type org.openqa.selenium.WebDriver","body":"<p>you can do below mentioned steps to resolve this issue.\nclick on below steps to see image</p>\n<ol>\n<li><p><a href=\"https://i.stack.imgur.com/vUpdN.png\" rel=\"nofollow noreferrer\">right click on project&gt;BuildPath&gt;Configure Buildpath</a></p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/CDjx5.png\" rel=\"nofollow noreferrer\">in java build path &gt; Libraries &gt; JRE System Library &gt; Edit</a></p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/3YP1q.png\" rel=\"nofollow noreferrer\">click Workspace Default JRE &gt; click finish &gt; Click apply and close</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":29660669,"reputation":1,"user_id":22732290,"display_name":"Vijay Dhandhukiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697164221,"creation_date":1697163814,"question_id":77284729,"body_markdown":"[enter image description here](https://i.stack.imgur.com/hCaZD.png)\r\n\r\ngetting error as shown in message ( The type java.lang.String cannot be resolved. It is indirectly referenced from required type org.openqa.selenium.WebDriver)\r\n\r\nerror should be gone if buildpath is correct","title":"The type java.lang.String cannot be resolved. It is indirectly referenced from required type org.openqa.selenium.WebDriver","body":"<p><a href=\"https://i.stack.imgur.com/hCaZD.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>getting error as shown in message ( The type java.lang.String cannot be resolved. It is indirectly referenced from required type org.openqa.selenium.WebDriver)</p>\n<p>error should be gone if buildpath is correct</p>\n"},{"tags":["java","amazon-web-services","amazon-sqs"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1697199710,"post_id":77284732,"comment_id":136253268,"body_markdown":"Since you have content based deduplication enabled, are you sure the messages aren&#39;t being removed because they are duplicates of other messages?","body":"Since you have content based deduplication enabled, are you sure the messages aren&#39;t being removed because they are duplicates of other messages?"},{"owner":{"account_id":14107503,"reputation":31,"user_id":10191198,"display_name":"hun"},"score":0,"creation_date":1697295123,"post_id":77284732,"comment_id":136263276,"body_markdown":"@MarkB \nYes, there is no duplication of messages because we are using the index value in the forloop. Using the SqsClient, we see that we have 100M in SQS, which is fine.","body":"@MarkB  Yes, there is no duplication of messages because we are using the index value in the forloop. Using the SqsClient, we see that we have 100M in SQS, which is fine."},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1697295166,"post_id":77284732,"comment_id":136263284,"body_markdown":"So it&#39;s just the web console that is showing the wrong number?","body":"So it&#39;s just the web console that is showing the wrong number?"}],"owner":{"account_id":14107503,"reputation":31,"user_id":10191198,"display_name":"hun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697163848,"creation_date":1697163848,"question_id":77284732,"body_markdown":"I am trying to send messages to AWS SQS using the SqsAsyncClient in the AWS SDK for Java.\r\n\r\nI created 100,000 Dummy Data, cut them into 10 pieces and send them to sqsAsyncClient.sendMessageBatch, but when I look at the AWS Console, only 38730 or 37520 or 38490 messages are available.\r\n\r\nIn other words, more than 60000 messages are missing, so what&#39;s going on that&#39;s causing them to disappear?\r\n\r\nThe SQS I am trying to use is FIFO Queue and I have content based deduplication and high throughput FIFO Queue enabled as well.\r\n\r\nHere is the code\r\n\r\n```java\r\n@Component\r\npublic class QueueMessagePublisher {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(QueueMessagePublisher.class);\r\n\r\n    @Value(&quot;${spring.cloud.aws.sqs.region}&quot;)\r\n    private String region;\r\n\r\n    @Value(&quot;${spring.cloud.aws.credentials.access-key}&quot;)\r\n    private String accessKey;\r\n\r\n    @Value(&quot;${spring.cloud.aws.credentials.secret-key}&quot;)\r\n    private String secretKey;\r\n\r\n    private SqsAsyncClient sqsAsyncClient;\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    public QueueMessagePublisher(final ObjectMapper objectMapper) {\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        this.sqsAsyncClient = SqsAsyncClient.builder()\r\n                .region(Region.of(region))\r\n                .credentialsProvider(StaticCredentialsProvider.create(\r\n                        AwsBasicCredentials.create(\r\n                                accessKey,\r\n                                secretKey)))\r\n                .build();\r\n    }\r\n\r\n    public void send() throws JsonProcessingException, ExecutionException, InterruptedException {\r\n        List&lt;SendMessageBatchRequestEntry&gt; appPushes = new ArrayList&lt;&gt;();\r\n\r\n        for (int i=0; i&lt;100000; i++) {\r\n            appPushes.add(\r\n                    SendMessageBatchRequestEntry.builder()\r\n                            .id(UUID.randomUUID().toString())\r\n                            .messageGroupId(UUID.randomUUID().toString())\r\n                            .messageDeduplicationId(UUID.randomUUID().toString())\r\n                            .messageBody(objectMapper.writeValueAsString(new AppPush(String.valueOf(i))))\r\n                            .build()\r\n            );\r\n        }\r\n\r\n        final List&lt;List&lt;SendMessageBatchRequestEntry&gt;&gt; partition = Lists.partition(appPushes, 10);\r\n\r\n        final String queueUrl = sqsAsyncClient.getQueueUrl(GetQueueUrlRequest\r\n                .builder()\r\n                .queueName(&quot;test.fifo&quot;)\r\n                .build()\r\n        ).get().queueUrl();\r\n\r\n\r\n        for (List&lt;SendMessageBatchRequestEntry&gt; messages : partition) {\r\n            SendMessageBatchRequest sendMessageBatchRequest = SendMessageBatchRequest.builder()\r\n                    .queueUrl(queueUrl)\r\n                    .entries(Collections.unmodifiableCollection(messages))\r\n                    .build();\r\n\r\n            sqsAsyncClient.sendMessageBatch(sendMessageBatchRequest)\r\n                    .thenAccept(sendMessageBatchResponse -&gt; {\r\n                        log.info(&quot;Send Message Success : {} / Send Message Fail : {}&quot;, sendMessageBatchResponse.successful().size(), sendMessageBatchResponse.failed().size());\r\n                    });\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Lost AWS SQS messages","body":"<p>I am trying to send messages to AWS SQS using the SqsAsyncClient in the AWS SDK for Java.</p>\n<p>I created 100,000 Dummy Data, cut them into 10 pieces and send them to sqsAsyncClient.sendMessageBatch, but when I look at the AWS Console, only 38730 or 37520 or 38490 messages are available.</p>\n<p>In other words, more than 60000 messages are missing, so what's going on that's causing them to disappear?</p>\n<p>The SQS I am trying to use is FIFO Queue and I have content based deduplication and high throughput FIFO Queue enabled as well.</p>\n<p>Here is the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class QueueMessagePublisher {\n\n    private static final Logger log = LoggerFactory.getLogger(QueueMessagePublisher.class);\n\n    @Value(&quot;${spring.cloud.aws.sqs.region}&quot;)\n    private String region;\n\n    @Value(&quot;${spring.cloud.aws.credentials.access-key}&quot;)\n    private String accessKey;\n\n    @Value(&quot;${spring.cloud.aws.credentials.secret-key}&quot;)\n    private String secretKey;\n\n    private SqsAsyncClient sqsAsyncClient;\n\n    private final ObjectMapper objectMapper;\n\n    public QueueMessagePublisher(final ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    @PostConstruct\n    public void init() {\n        this.sqsAsyncClient = SqsAsyncClient.builder()\n                .region(Region.of(region))\n                .credentialsProvider(StaticCredentialsProvider.create(\n                        AwsBasicCredentials.create(\n                                accessKey,\n                                secretKey)))\n                .build();\n    }\n\n    public void send() throws JsonProcessingException, ExecutionException, InterruptedException {\n        List&lt;SendMessageBatchRequestEntry&gt; appPushes = new ArrayList&lt;&gt;();\n\n        for (int i=0; i&lt;100000; i++) {\n            appPushes.add(\n                    SendMessageBatchRequestEntry.builder()\n                            .id(UUID.randomUUID().toString())\n                            .messageGroupId(UUID.randomUUID().toString())\n                            .messageDeduplicationId(UUID.randomUUID().toString())\n                            .messageBody(objectMapper.writeValueAsString(new AppPush(String.valueOf(i))))\n                            .build()\n            );\n        }\n\n        final List&lt;List&lt;SendMessageBatchRequestEntry&gt;&gt; partition = Lists.partition(appPushes, 10);\n\n        final String queueUrl = sqsAsyncClient.getQueueUrl(GetQueueUrlRequest\n                .builder()\n                .queueName(&quot;test.fifo&quot;)\n                .build()\n        ).get().queueUrl();\n\n\n        for (List&lt;SendMessageBatchRequestEntry&gt; messages : partition) {\n            SendMessageBatchRequest sendMessageBatchRequest = SendMessageBatchRequest.builder()\n                    .queueUrl(queueUrl)\n                    .entries(Collections.unmodifiableCollection(messages))\n                    .build();\n\n            sqsAsyncClient.sendMessageBatch(sendMessageBatchRequest)\n                    .thenAccept(sendMessageBatchResponse -&gt; {\n                        log.info(&quot;Send Message Success : {} / Send Message Fail : {}&quot;, sendMessageBatchResponse.successful().size(), sendMessageBatchResponse.failed().size());\n                    });\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","elastic-stack"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1620106357,"post_id":67379282,"comment_id":119095435,"body_markdown":"Note, JAVA_HOME should not include the exe in the path, it should be `C:\\Program Files\\Java\\jdk-15\\bin\\bin\\` If you are unsure how to set or change an environment variable then see here: https://superuser.com/questions/949560/how-do-i-set-system-environment-variables-in-windows-10","body":"Note, JAVA_HOME should not include the exe in the path, it should be `C:\\Program Files\\Java\\jdk-15\\bin\\bin` If you are unsure how to set or change an environment variable then see here: <a href=\"https://superuser.com/questions/949560/how-do-i-set-system-environment-variables-in-windows-10\" title=\"how do i set system environment variables in windows 10\">superuser.com/questions/949560/&hellip;</a>"},{"owner":{"account_id":12720857,"reputation":21,"user_id":15789042,"display_name":"Amrit"},"score":0,"creation_date":1620195071,"post_id":67379282,"comment_id":119125169,"body_markdown":"For some reason elasticsearch.bat tries to find JAVA_HOME inside of C:\\Program Files\\Java\\jdk-15\\bin\\bin\\java.exe when the path for JAVA_HOME is set to C:\\Program Files\\Java\\jdk-15\\bin How do I fix this? Is there a file in the elasticsearch folder I need to alter so that it searches for JAVA_HOME in the right location?","body":"For some reason elasticsearch.bat tries to find JAVA_HOME inside of C:\\Program Files\\Java\\jdk-15\\bin\\bin\\java.exe when the path for JAVA_HOME is set to C:\\Program Files\\Java\\jdk-15\\bin How do I fix this? Is there a file in the elasticsearch folder I need to alter so that it searches for JAVA_HOME in the right location?"}],"answers":[{"comments":[{"owner":{"account_id":12720857,"reputation":21,"user_id":15789042,"display_name":"Amrit"},"score":0,"creation_date":1620194974,"post_id":67379351,"comment_id":119125137,"body_markdown":"For some reason elasticsearch.bat tries to find JAVA_HOME inside of C:\\Program Files\\Java\\jdk-15\\bin\\bin\\java.exe when the path for JAVA_HOME is set to C:\\Program Files\\Java\\jdk-15\\bin   \nHow do I fix this?  Is there a file in the elasticsearch folder I need to alter so that it searches for JAVA_HOME in the right location?","body":"For some reason elasticsearch.bat tries to find JAVA_HOME inside of C:\\Program Files\\Java\\jdk-15\\bin\\bin\\java.exe when the path for JAVA_HOME is set to C:\\Program Files\\Java\\jdk-15\\bin    How do I fix this?  Is there a file in the elasticsearch folder I need to alter so that it searches for JAVA_HOME in the right location?"},{"owner":{"account_id":4964028,"reputation":16,"user_id":3994036,"display_name":"Hadi rezaei zadeh"},"score":0,"creation_date":1620216046,"post_id":67379351,"comment_id":119133595,"body_markdown":"@Amrit Yes service.bat - But first check your  JAVA_HOME, elasticsearch use %JAVA_HOME%\\bin\\java.exe for java, So your JAVA_HOME shoud not include \\bin part it shoud point to C:\\Program Files\\Java\\jdk-15  or change %JAVA_HOME%\\bin\\java.exe in service,bat to %JAVA_HOME%\\java.exe","body":"@Amrit Yes service.bat - But first check your  JAVA_HOME, elasticsearch use %JAVA_HOME%\\bin\\java.exe for java, So your JAVA_HOME shoud not include \\bin part it shoud point to C:\\Program Files\\Java\\jdk-15  or change %JAVA_HOME%\\bin\\java.exe in service,bat to %JAVA_HOME%\\java.exe"}],"tags":[],"owner":{"account_id":4964028,"reputation":16,"user_id":3994036,"display_name":"Hadi rezaei zadeh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620216440,"creation_date":1620106647,"answer_id":67379351,"question_id":67379282,"body_markdown":"First chack your JAVA_HOME, it shoud point to &quot;C:\\Program Files\\Java\\jdk-15\\&quot;\r\n\r\nif you open service.bat you will see elasticsearch use  %JAVA_HOME%\\bin\\java.exe, so your JAVA_HOME shoud not have \\bin part.","title":"java error installing running elastic stack in Windows 10","body":"<p>First chack your JAVA_HOME, it shoud point to &quot;C:\\Program Files\\Java\\jdk-15&quot;</p>\n<p>if you open service.bat you will see elasticsearch use  %JAVA_HOME%\\bin\\java.exe, so your JAVA_HOME shoud not have \\bin part.</p>\n"},{"tags":[],"owner":{"account_id":20730976,"reputation":9,"user_id":15222998,"display_name":"CptnFlipFlops"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1620109333,"creation_date":1620109333,"answer_id":67379732,"question_id":67379282,"body_markdown":"Try using the docker ELK Stack instead installing everything manually - https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html\r\n\r\nAnd you can run this in a [VirtualBox][1] instance of [Fedora][2] or [Ubuntu][3] so that you don&#39;t break your windows environment. \r\n\r\n\r\n  [1]: https://www.virtualbox.org/wiki/Downloads\r\n  [2]: https://www.osboxes.org/fedora/\r\n  [3]: https://www.osboxes.org/ubuntu/","title":"java error installing running elastic stack in Windows 10","body":"<p>Try using the docker ELK Stack instead installing everything manually - <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html</a></p>\n<p>And you can run this in a <a href=\"https://www.virtualbox.org/wiki/Downloads\" rel=\"nofollow noreferrer\">VirtualBox</a> instance of <a href=\"https://www.osboxes.org/fedora/\" rel=\"nofollow noreferrer\">Fedora</a> or <a href=\"https://www.osboxes.org/ubuntu/\" rel=\"nofollow noreferrer\">Ubuntu</a> so that you don't break your windows environment.</p>\n"},{"tags":[],"owner":{"account_id":21631185,"reputation":11,"user_id":15954749,"display_name":"Ajay Nikumbh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635228160,"creation_date":1635228160,"answer_id":69718107,"question_id":67379282,"body_markdown":"You&#39;r facing this problem due to wrong java folder location. Change or move your java folder to program files/Java and updated java path to ur system path and this will solve your problem .. !! This worked for me..","title":"java error installing running elastic stack in Windows 10","body":"<p>You'r facing this problem due to wrong java folder location. Change or move your java folder to program files/Java and updated java path to ur system path and this will solve your problem .. !! This worked for me..</p>\n"},{"tags":[],"owner":{"account_id":27851651,"reputation":1,"user_id":21266046,"display_name":"Asilkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677076442,"creation_date":1677076223,"answer_id":75534157,"question_id":67379282,"body_markdown":"First, make sure you have installed Java correctly. Set the JAVA_HOME variable to specify the path to Java in your Windows environment variables and add it to the PATH. If these didn&#39;t work, try the following way.\r\n\r\n1-Go to C:\\elasticsearch-version\\bin &lt;br&gt;\r\n2-Open elasticsearch-env.bat for Windows with a text editor &lt;br&gt; \r\n3-Find the set JAVA_HOME variables and remove the extra &quot;\\bin&quot; added to the JAVA path you defined. &lt;br&gt;\r\n\r\nThis is because you define JAVA_HOME as &quot;C:\\Program Files\\Java\\jdk\\bin&quot;. You can also solve the problem by removing the &quot;\\bin&quot; here. However, this can cause other problems.","title":"java error installing running elastic stack in Windows 10","body":"<p>First, make sure you have installed Java correctly. Set the JAVA_HOME variable to specify the path to Java in your Windows environment variables and add it to the PATH. If these didn't work, try the following way.</p>\n<p>1-Go to C:\\elasticsearch-version\\bin <br>\n2-Open elasticsearch-env.bat for Windows with a text editor <br>\n3-Find the set JAVA_HOME variables and remove the extra &quot;\\bin&quot; added to the JAVA path you defined. <br></p>\n<p>This is because you define JAVA_HOME as &quot;C:\\Program Files\\Java\\jdk\\bin&quot;. You can also solve the problem by removing the &quot;\\bin&quot; here. However, this can cause other problems.</p>\n"},{"tags":[],"owner":{"account_id":29660495,"reputation":1,"user_id":22732150,"display_name":"Baishan Zhou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697161481,"creation_date":1697161481,"answer_id":77284639,"question_id":67379282,"body_markdown":"I had the same issue and I changed the content of elasticsearch-env.bat and it worked.\r\n\r\nyou can alter elasticsearch-env.bat file, change from\r\n\r\n    if defined ES_JAVA_HOME (\r\n      set JAVA=&quot;%ES_JAVA_HOME%**\\bin**\\java.exe&quot;\r\n      set JAVA_TYPE=ES_JAVA_HOME\r\n    ) else if defined JAVA_HOME (\r\n      rem fallback to JAVA_HOME\r\n      echo &quot;warning: usage of JAVA_HOME is deprecated, use ES_JAVA_HOME&quot; &gt;&amp;2\r\n      set JAVA=&quot;%JAVA_HOME%**\\bin**\\java.exe&quot;\r\n      set &quot;ES_JAVA_HOME=%JAVA_HOME%&quot;\r\n      set JAVA_TYPE=JAVA_HOME\r\n\r\nto\r\n\r\n    if defined ES_JAVA_HOME (\r\n      set JAVA=&quot;%ES_JAVA_HOME%\\java.exe&quot;\r\n      set JAVA_TYPE=ES_JAVA_HOME\r\n    ) else if defined JAVA_HOME (\r\n      rem fallback to JAVA_HOME\r\n      echo &quot;warning: usage of JAVA_HOME is deprecated, use ES_JAVA_HOME&quot; &gt;&amp;2\r\n      set JAVA=&quot;%JAVA_HOME%\\java.exe&quot;\r\n      set &quot;ES_JAVA_HOME=%JAVA_HOME%&quot;\r\n      set JAVA_TYPE=JAVA_HOME","title":"java error installing running elastic stack in Windows 10","body":"<p>I had the same issue and I changed the content of elasticsearch-env.bat and it worked.</p>\n<p>you can alter elasticsearch-env.bat file, change from</p>\n<pre><code>if defined ES_JAVA_HOME (\n  set JAVA=&quot;%ES_JAVA_HOME%**\\bin**\\java.exe&quot;\n  set JAVA_TYPE=ES_JAVA_HOME\n) else if defined JAVA_HOME (\n  rem fallback to JAVA_HOME\n  echo &quot;warning: usage of JAVA_HOME is deprecated, use ES_JAVA_HOME&quot; &gt;&amp;2\n  set JAVA=&quot;%JAVA_HOME%**\\bin**\\java.exe&quot;\n  set &quot;ES_JAVA_HOME=%JAVA_HOME%&quot;\n  set JAVA_TYPE=JAVA_HOME\n</code></pre>\n<p>to</p>\n<pre><code>if defined ES_JAVA_HOME (\n  set JAVA=&quot;%ES_JAVA_HOME%\\java.exe&quot;\n  set JAVA_TYPE=ES_JAVA_HOME\n) else if defined JAVA_HOME (\n  rem fallback to JAVA_HOME\n  echo &quot;warning: usage of JAVA_HOME is deprecated, use ES_JAVA_HOME&quot; &gt;&amp;2\n  set JAVA=&quot;%JAVA_HOME%\\java.exe&quot;\n  set &quot;ES_JAVA_HOME=%JAVA_HOME%&quot;\n  set JAVA_TYPE=JAVA_HOME\n</code></pre>\n"}],"owner":{"account_id":12720857,"reputation":21,"user_id":15789042,"display_name":"Amrit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4676,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1697161481,"creation_date":1620106102,"question_id":67379282,"body_markdown":"I try to run elastic stack in windows 10 but I get the error: \r\n\r\n&quot;warning: usage of JAVA_HOME is deprecated, use ES_JAVA_HOME&quot;\r\n&quot;could not find java in JAVA_HOME at &quot;C:\\Program Files\\Java\\jdk-15\\bin\\bin\\java.exe&quot;&quot;\r\n\r\nMy java.exe is located in C:\\Program Files\\Java\\jdk-15\\bin\\java.exe   which is slightly different than above but all of my other java programs seem to work.  \r\n\r\nHow do I fix this so that Elastic Stack will work?","title":"java error installing running elastic stack in Windows 10","body":"<p>I try to run elastic stack in windows 10 but I get the error:</p>\n<p>&quot;warning: usage of JAVA_HOME is deprecated, use ES_JAVA_HOME&quot;\n&quot;could not find java in JAVA_HOME at &quot;C:\\Program Files\\Java\\jdk-15\\bin\\bin\\java.exe&quot;&quot;</p>\n<p>My java.exe is located in C:\\Program Files\\Java\\jdk-15\\bin\\java.exe   which is slightly different than above but all of my other java programs seem to work.</p>\n<p>How do I fix this so that Elastic Stack will work?</p>\n"},{"tags":["java","smartcard","pkcs#11","sunpkcs11"],"answers":[{"comments":[{"owner":{"account_id":14244857,"reputation":375,"user_id":10290248,"display_name":"ajayg2808"},"score":0,"creation_date":1658728786,"post_id":73035304,"comment_id":129113715,"body_markdown":"Thank you for your answer. 1) As you mentioned with Java 9 it will work with some options, but with java 11 all internal java api&#39;s like `sun.security.pkcs11.*` or `*internal.*` are not accessible at all. 2) Yes, i have created package and module for my application, i have pasted minimal code here rather than complete application code. 3) You actually do not need hardware to run it if you are expert in Java (as i&#39;m not) you will come to know working of SunPKCS11. I just need alternative for `sun.security.pkcs11.*` in java 11. 4) Even with `jdeps` i am not able to file alternative API.","body":"Thank you for your answer. 1) As you mentioned with Java 9 it will work with some options, but with java 11 all internal java api&#39;s like <code>sun.security.pkcs11.*</code> or <code>*internal.*</code> are not accessible at all. 2) Yes, i have created package and module for my application, i have pasted minimal code here rather than complete application code. 3) You actually do not need hardware to run it if you are expert in Java (as i&#39;m not) you will come to know working of SunPKCS11. I just need alternative for <code>sun.security.pkcs11.*</code> in java 11. 4) Even with <code>jdeps</code> i am not able to file alternative API."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1658837650,"post_id":73035304,"comment_id":129146481,"body_markdown":"If your app _is_ modular then of course using UNNAMED won&#39;t work. Without details I can&#39;t even guess what will and certainly can&#39;t verify. Do you want me to delete this so you can try to find someone else?","body":"If your app <i>is</i> modular then of course using UNNAMED won&#39;t work. Without details I can&#39;t even guess what will and certainly can&#39;t verify. Do you want me to delete this so you can try to find someone else?"}],"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658226678,"creation_date":1658226678,"answer_id":73035304,"question_id":72869306,"body_markdown":"Java 9 up no longer puts the standard-library in jar files (rt.jar, etc) but they are still there. Your problem is probably (though I didn&#39;t read through all the code and certainly can&#39;t test without your hardware) that Java 9 up also introduces **modules**. Much as in Java forever your code can reference another class or interface (or static member therof) by its simple name only if you `import` it _or_ it is in the same package as your code (if any) or the special package `java.lang`, now in 9 up you can only access a package if it is in the same module as your code or the special `java.base` module _or_ your module and/or the other module explicitly allow the access; the explicit specification closet to older Java is an &#39;open&#39;. \r\n\r\nThus the quick solution is to add to your `java` command (explicitly or via `_JAVA_OPTS` or equivalent) `--add-opens jdk.crypto.cryptoki/sun.security.pkcs11.*=ALL-UNNAMED` -- this should produce substantially the same result as running on 8 (or lower). \r\n\r\nThe official solution is to put your code in a module -- either by itself or with other related code -- that `requires` the (or each) needed module, given it exports the needed parts, which I haven&#39;t checked for yours. However, since your code apparently isn&#39;t even in a package yet, putting it in a module will be some work.","title":"Signature generation with OpenSC Smart Card","body":"<p>Java 9 up no longer puts the standard-library in jar files (rt.jar, etc) but they are still there. Your problem is probably (though I didn't read through all the code and certainly can't test without your hardware) that Java 9 up also introduces <strong>modules</strong>. Much as in Java forever your code can reference another class or interface (or static member therof) by its simple name only if you <code>import</code> it <em>or</em> it is in the same package as your code (if any) or the special package <code>java.lang</code>, now in 9 up you can only access a package if it is in the same module as your code or the special <code>java.base</code> module <em>or</em> your module and/or the other module explicitly allow the access; the explicit specification closet to older Java is an 'open'.</p>\n<p>Thus the quick solution is to add to your <code>java</code> command (explicitly or via <code>_JAVA_OPTS</code> or equivalent) <code>--add-opens jdk.crypto.cryptoki/sun.security.pkcs11.*=ALL-UNNAMED</code> -- this should produce substantially the same result as running on 8 (or lower).</p>\n<p>The official solution is to put your code in a module -- either by itself or with other related code -- that <code>requires</code> the (or each) needed module, given it exports the needed parts, which I haven't checked for yours. However, since your code apparently isn't even in a package yet, putting it in a module will be some work.</p>\n"}],"owner":{"account_id":14244857,"reputation":375,"user_id":10290248,"display_name":"ajayg2808"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697161126,"creation_date":1657023480,"question_id":72869306,"body_markdown":"I have Escrypt Smart Card to sign data bytes and get signature and certificate for it.\r\n\r\nI have java tool to do it and everything was fine until **Java 8**. Now application migrated to **Java 11**. And problem start from here.\r\n\r\n1. SunPKCS11.jar/ library is not a part of Java 11, hence application breaks.\r\n2. I tried with different solution available over internet and oracle [release notes][1], it suggest to use `java.security` package for cryptographic operation. \r\n\r\nI am not able to switch from Java 8 to java 11, any support would be really useful.\r\n\r\n**Edit-1: Minimum usable code**\r\n\r\n\r\n----------\r\n- Signature calculator is used to parse signature  \r\n- It is written with **Java 8 &amp; SunPKCS11.jar** want to migrate it to **Java 11**\r\n\r\n&#39;&#39;&#39;\r\n\r\n    import java.io.IOException;\r\n\timport java.util.Scanner;\r\n\r\n\timport javax.xml.bind.annotation.adapters.HexBinaryAdapter;\r\n\r\n\timport sun.security.pkcs11.wrapper.CK_ATTRIBUTE;\r\n\timport sun.security.pkcs11.wrapper.CK_MECHANISM;\r\n\timport sun.security.pkcs11.wrapper.CK_RSA_PKCS_PSS_PARAMS;\r\n\timport sun.security.pkcs11.wrapper.PKCS11;\r\n\timport sun.security.pkcs11.wrapper.PKCS11Constants;\r\n\timport sun.security.pkcs11.wrapper.PKCS11Exception;\r\n\r\n\tpublic class Application {\r\n\r\n\t  public static void main(String[] args) {\r\n\t\ttry {\r\n\t\t  // PKCS11 middleware (UBK PKI) path\r\n\t\t  String libraryPath = &quot;&quot;;\r\n\r\n\t\t  OpenScPkcs11 openScPkcs11 = new OpenScPkcs11(libraryPath);\r\n\r\n\t\t  openScPkcs11.login(&quot;&quot;, &quot;&quot;);\r\n\t\t  byte[] hash = null;\r\n\t\t  String keypath = null;\r\n\t\t  String oid = null;\r\n\t\t  String authbits = null;\r\n\t\t  openScPkcs11.calcSign(hash, keypath, oid, authbits);\r\n\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t  // TODO Auto-generated catch block\r\n\t\t  e.printStackTrace();\r\n\t\t}\r\n\t  }\r\n\r\n\t}\r\n\r\n\tclass OpenScPkcs11 {\r\n\r\n\t  private static HexBinaryAdapter hexBinaryAdapter = new HexBinaryAdapter();\r\n\r\n\t  private int slotId = 0x3;\r\n\t  private String libraryPath;\r\n\t  private PKCS11 pkcs11Instance;\r\n\t  private String signatureAlgo = &quot;RSA&quot;;\r\n\t  private long session = -1;\r\n\t  private boolean isLoginDone = false;\r\n\t  private SignatureMechanism.Algorithms algorithm = SignatureMechanism.Algorithms.SHA256;\r\n\r\n\t  public OpenScPkcs11(String libraryPath) throws IOException, PKCS11Exception {\r\n\t\tthis.libraryPath = libraryPath;\r\n\t\tinitializeMiddleware();\r\n\t  }\r\n\r\n\r\n\t  public void calcSign(byte[] hash, String keyPath, String userOid, String authbits) throws Exception {\r\n\t\tbyte[] signature = new byte[512];\r\n\r\n\t\tif (this.pkcs11Instance != null) {\r\n\r\n\t\t  if (this.session &lt; 0) {\r\n\t\t\tthis.openSession();\r\n\t\t  }\r\n\r\n\t\t  if (!this.isLoginDone) {\r\n\t\t\tthis.login(&quot;&quot;, &quot;&quot;);\r\n\t\t  }\r\n\r\n\t\t  Mechanism mechanism = SignatureMechanism.getMechanism(this.algorithm);\r\n\r\n\r\n\t\t  CK_ATTRIBUTE[] pTemplate = new CK_ATTRIBUTE[3];\r\n\t\t  pTemplate[0] = new CK_ATTRIBUTE(PKCS11Constants.CKA_CLASS, PKCS11Constants.CKO_PRIVATE_KEY);\r\n\t\t  pTemplate[1] = new CK_ATTRIBUTE(PKCS11Constants.CKA_VENDOR_DEFINED + 1, keyPath);\r\n\t\t  pTemplate[2] = new CK_ATTRIBUTE(PKCS11Constants.CKA_VENDOR_DEFINED + 2, authbits);\r\n\r\n\t\t  // define the attibutes for certificate\r\n\t\t  CK_ATTRIBUTE[] certAttribute = new CK_ATTRIBUTE[1];\r\n\t\t  certAttribute[0] = new CK_ATTRIBUTE(PKCS11Constants.CKA_VENDOR_DEFINED + 3);\r\n\r\n\t\t  long[] c_FindObjects = null;\r\n\r\n\t\t  this.pkcs11Instance.C_FindObjectsInit(this.session, pTemplate);\r\n\t\t  c_FindObjects = this.pkcs11Instance.C_FindObjects(this.session, 32);\r\n\t\t  this.pkcs11Instance.C_FindObjectsFinal(this.session);\r\n\r\n\t\t  CK_MECHANISM pMechanism = null;\r\n\r\n\t\t  // RSA Algorithm\r\n\t\t  String signatureAlgorithmType = this.getSignatureAlgorithmType();\r\n\r\n\t\t  if (signatureAlgorithmType.equalsIgnoreCase(&quot;RSA&quot;)) {\r\n\t\t\tpMechanism = new CK_MECHANISM(mechanism.getId());\r\n\r\n\t\t\tCK_RSA_PKCS_PSS_PARAMS ck_RSA_PKCS_PSS_PARAMS =\r\n\t\t\t\tnew CK_RSA_PKCS_PSS_PARAMS(this.algorithm.name(), &quot;MGF1&quot;, this.algorithm.name(), (int) mechanism.getsLen());\r\n\t\t\tpMechanism.pParameter = ck_RSA_PKCS_PSS_PARAMS;\r\n\t\t  }\r\n\t\t  else if (signatureAlgorithmType.equalsIgnoreCase(&quot;ECDSA&quot;)) { // ECDSA Algorithm\r\n\t\t\tpMechanism = new CK_MECHANISM(PKCS11Constants.CKM_ECDSA);\r\n\t\t  }\r\n\t\t  else {\r\n\t\t\tthrow new Exception(&quot;Signature algorithm &quot; + signatureAlgorithmType + &quot; is not supported&quot;);\r\n\t\t  }\r\n\r\n\t\t  if ((c_FindObjects != null) &amp;&amp; (c_FindObjects.length &gt; 0)) {\r\n\t\t\tlong c_FindObjectFound = c_FindObjects[0];\r\n\t\t\tboolean objFound = false;\r\n\r\n\t\t\tfor (long c_FindObject : c_FindObjects) {\r\n\t\t\t  this.pkcs11Instance.C_GetAttributeValue(this.session, c_FindObject, certAttribute);\r\n\r\n\r\n\t\t\t  // Binary certificate as byte array\r\n\t\t\t  byte[] certificateBytes = certAttribute[0].getByteArray();\r\n\r\n\t\t\t  if ((userOid != null) &amp;&amp; !userOid.isEmpty()) {\r\n\t\t\t\t// Match certificate with userOid, if matches (Certificate parser used)\r\n\t\t\t\tif (parseOidInfo(certificateBytes, userOid)) {\r\n\t\t\t\t  c_FindObjectFound = c_FindObject;\r\n\t\t\t\t  objFound = true;\r\n\t\t\t\t  break;\r\n\t\t\t\t}\r\n\t\t\t  }\r\n\t\t\t}\r\n\r\n\t\t\tif (objFound) {\r\n\t\t\t  System.out.println(&quot;Signature found for given OID configuration.&quot;);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t  this.pkcs11Instance.C_GetAttributeValue(this.session, c_FindObjectFound, certAttribute);\r\n\t\t\t  CertificateParser certificateParser = new CertificateParser(certAttribute[0].getByteArray());\r\n\t\t\t}\r\n\t\t\t  this.pkcs11Instance.C_SignInit(this.session, pMechanism, c_FindObjectFound);\r\n\t\t\t  this.pkcs11Instance.C_SignUpdate(this.session, 0, hash, 0, (int) mechanism.getsLen());\r\n\t\t\t  signature = this.pkcs11Instance.C_SignFinal(this.session, mechanism.getSignFinalArgument());\r\n\t\t\t\r\n\t\t  }\r\n\t\t  else {\r\n\t\t\tString errorMessage = &quot;Unable to find keys.&quot;;\r\n\t\t\tthrow new Exception(errorMessage);\r\n\t\t  }\r\n\t\t}\r\n\t\telse {\r\n\t\t  throw new Exception(&quot;Initialize middleware first.&quot;);\r\n\t\t}\r\n\t  }\r\n\r\n\r\n\t  /**\r\n\t   * @return\r\n\t   */\r\n\t  private String getSignatureAlgorithmType() {\r\n\t\treturn this.signatureAlgo;\r\n\t  }\r\n\r\n\r\n\t  public void login(String userName, String password) throws Exception {\r\n\t\tif (this.pkcs11Instance != null) {\r\n\t\t  openSession();\r\n\t\t  String pwd = password;\r\n\t\t  if (pwd == null || pwd.trim().isEmpty()) {\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tpwd = sc.next();\r\n\t\t\tsc.close();\r\n\t\t  }\r\n\t\t  this.pkcs11Instance.C_Login(this.session, PKCS11Constants.CKU_USER, pwd.toCharArray());\r\n\t\t  this.isLoginDone = true;\r\n\t\t}\r\n\t\telse {\r\n\t\t  throw new Exception(&quot;Initialize middleware first.&quot;);\r\n\t\t}\r\n\t  }\r\n\r\n\t  public void logout() throws PKCS11Exception {\r\n\t\tif (this.pkcs11Instance != null) {\r\n\t\t  this.pkcs11Instance.C_Logout(this.session);\r\n\t\t}\r\n\t  }\r\n\r\n\r\n\t  public void openSession() throws Exception {\r\n\t\tif (this.pkcs11Instance != null) {\r\n\t\t  if (this.session &lt; 0) {\r\n\r\n\t\t\tlong[] c_GetSlotList = this.pkcs11Instance.C_GetSlotList(true);\r\n\r\n\t\t\tif ((c_GetSlotList != null) &amp;&amp; (c_GetSlotList.length &gt; 0)) {\r\n\t\t\t  for (long element : c_GetSlotList) {\r\n\t\t\t\tif (element == this.slotId) {\r\n\t\t\t\t  this.session =\r\n\t\t\t\t\t  this.pkcs11Instance.C_OpenSession(this.slotId, PKCS11Constants.CKF_SERIAL_SESSION, null, null);\r\n\t\t\t\t  break;\r\n\t\t\t\t}\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t  }\r\n\t\t}\r\n\t\telse {\r\n\t\t  throw new Exception(&quot;Initialize middleware first.&quot;);\r\n\t\t}\r\n\t  }\r\n\r\n\t  public void closeSession() throws PKCS11Exception {\r\n\t\tif ((this.pkcs11Instance != null) &amp;&amp; (this.session &gt;= 0)) {\r\n\t\t  this.pkcs11Instance.C_CloseSession(this.session);\r\n\t\t  this.session = -1;\r\n\t\t}\r\n\t  }\r\n\r\n\t  public void initializeMiddleware(String libraryPath1) throws IOException, PKCS11Exception {\r\n\t\tthis.pkcs11Instance = PKCS11.getInstance(libraryPath1, &quot;C_GetFunctionList&quot;, null, false);\r\n\t\tthis.libraryPath = libraryPath1;\r\n\t  }\r\n\r\n\t  public void initializeMiddleware() throws IOException, PKCS11Exception {\r\n\t\tthis.pkcs11Instance = PKCS11.getInstance(this.libraryPath, &quot;C_GetFunctionList&quot;, null, false);\r\n\t  }\r\n\r\n\t  public static String getString(final byte[] data) {\r\n\t\tif ((data != null) &amp;&amp; (data.length &gt; 0)) {\r\n\t\t  return hexBinaryAdapter.marshal(data);\r\n\t\t}\r\n\t\treturn null;\r\n\t  }\r\n\t}\r\n\r\n\tclass SignatureMechanism {\r\n\r\n\t  public static enum Algorithms {\r\n\r\n\t\t\t\t\t\t\t\t\t SHA256(0x250),\r\n\t\t\t\t\t\t\t\t\t /**\r\n\t\t\t\t\t\t\t\t\t  * Hash calculation Algorithm\r\n\t\t\t\t\t\t\t\t\t  */\r\n\t\t\t\t\t\t\t\t\t RIPEMD160(0x240),\r\n\t\t\t\t\t\t\t\t\t /**\r\n\t\t\t\t\t\t\t\t\t  * Hash calculation Algorithm\r\n\t\t\t\t\t\t\t\t\t  */\r\n\t\t\t\t\t\t\t\t\t RIPEMD160_1(0x0),\r\n\r\n\t\t\t\t\t\t\t\t\t /**\r\n\t\t\t\t\t\t\t\t\t  * Secure Hash Algorithm 512 for hash Calculation\r\n\t\t\t\t\t\t\t\t\t  */\r\n\t\t\t\t\t\t\t\t\t SHA512(0x251);\r\n\r\n\t\tprivate int value = 0;\r\n\r\n\t\tprivate Algorithms(final int algorithmValue) {\r\n\t\t  this.value = algorithmValue;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @return the hash value\r\n\t\t */\r\n\t\tpublic int getValue() {\r\n\t\t  return this.value;\r\n\t\t}\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @param algorithm : Algorithm used for hash calculation\r\n\t   * @return signature mechanism\r\n\t   */\r\n\t  public static Mechanism getMechanism(final Algorithms algorithm) {\r\n\r\n\t\tMechanism mechanism = new Mechanism();\r\n\t\tif (algorithm == Algorithms.SHA256) {\r\n\t\t  mechanism.setHashAlg(PKCS11Constants.CKM_SHA256);\r\n\t\t  mechanism.setMgf(PKCS11Constants.CKG_MGF1_SHA1 + 1);\r\n\t\t  mechanism.setsLen(32);\r\n\t\t  mechanism.setSignFinalArgument(512);\r\n\t\t} // TODO Verify with ETAS Middleware team\r\n\t\telse if (algorithm == Algorithms.SHA512) {\r\n\t\t  mechanism.setHashAlg(PKCS11Constants.CKM_SHA512);\r\n\t\t  mechanism.setMgf(PKCS11Constants.CKG_MGF1_SHA1 + 1);\r\n\t\t  mechanism.setsLen(64);\r\n\t\t  mechanism.setSignFinalArgument(1024);\r\n\t\t}\r\n\t\telse if (algorithm == Algorithms.RIPEMD160) {\r\n\t\t  mechanism.setHashAlg(PKCS11Constants.CKM_RIPEMD160);\r\n\t\t  mechanism.setMgf(0x80000001); // hard coded becuase it is defined by escrypt and not present in PKCS11\r\n\t\t  mechanism.setsLen(20);\r\n\t\t}\r\n\t\telse if (algorithm == Algorithms.RIPEMD160_1) {\r\n\t\t  mechanism.setId(PKCS11Constants.CKM_RIPEMD160_RSA_PKCS);\r\n\t\t}\r\n\r\n\t\treturn mechanism;\r\n\t  }\r\n\r\n\t}\r\n\tclass Mechanism{\r\n\r\n\t  private long hashAlg;\r\n\t  private long mgf;\r\n\t  private long sLen;\r\n\t  private long ulMaxObjectCount = 32;\r\n\t  private int signFinalArgument = 128;\r\n\t  private long id = PKCS11Constants.CKM_RSA_PKCS_PSS;\r\n\r\n\r\n\t  /**\r\n\t   * @return the hashAlg\r\n\t   */\r\n\t  public long getHashAlg() {\r\n\t\treturn hashAlg;\r\n\t  }\r\n\r\n\r\n\t  /**\r\n\t   * @param hashAlg the hashAlg to set\r\n\t   */\r\n\t  public void setHashAlg(long hashAlg) {\r\n\t\tthis.hashAlg = hashAlg;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @return the mgf\r\n\t   */\r\n\t  public long getMgf() {\r\n\t\treturn mgf;\r\n\t  }\r\n\r\n\r\n\t  /**\r\n\t   * @param mgf the mgf to set\r\n\t   */\r\n\t  public void setMgf(long mgf) {\r\n\t\tthis.mgf = mgf;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @return the sLen\r\n\t   */\r\n\t  public long getsLen() {\r\n\t\treturn sLen;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @param sLen the sLen to set\r\n\t   */\r\n\t  public void setsLen(long sLen) {\r\n\t\tthis.sLen = sLen;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @return the ulMaxObjectCount\r\n\t   */\r\n\t  public long getUlMaxObjectCount() {\r\n\t\treturn ulMaxObjectCount;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @param ulMaxObjectCount the ulMaxObjectCount to set\r\n\t   */\r\n\t  public void setUlMaxObjectCount(long ulMaxObjectCount) {\r\n\t\tthis.ulMaxObjectCount = ulMaxObjectCount;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @return the signFinalArgument\r\n\t   */\r\n\t  public int getSignFinalArgument() {\r\n\t\treturn signFinalArgument;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @param signFinalArgument the signFinalArgument to set\r\n\t   */\r\n\t  public void setSignFinalArgument(int signFinalArgument) {\r\n\t\tthis.signFinalArgument = signFinalArgument;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @return the id\r\n\t   */\r\n\t  public long getId() {\r\n\t\treturn id;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @param id the id to set\r\n\t   */\r\n\t  public void setId(long id) {\r\n\t\tthis.id = id;\r\n\t  }\r\n\r\n\t}\r\n&#39;&#39;&#39;\r\n\r\nThank You!\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/security/pkcs11-reference-guide1.html#GUID-4C366313-33B9-458C-A845-33D0C8A9C367","title":"Signature generation with OpenSC Smart Card","body":"<p>I have Escrypt Smart Card to sign data bytes and get signature and certificate for it.</p>\n<p>I have java tool to do it and everything was fine until <strong>Java 8</strong>. Now application migrated to <strong>Java 11</strong>. And problem start from here.</p>\n<ol>\n<li>SunPKCS11.jar/ library is not a part of Java 11, hence application breaks.</li>\n<li>I tried with different solution available over internet and oracle <a href=\"https://docs.oracle.com/en/java/javase/11/security/pkcs11-reference-guide1.html#GUID-4C366313-33B9-458C-A845-33D0C8A9C367\" rel=\"nofollow noreferrer\">release notes</a>, it suggest to use <code>java.security</code> package for cryptographic operation.</li>\n</ol>\n<p>I am not able to switch from Java 8 to java 11, any support would be really useful.</p>\n<p><strong>Edit-1: Minimum usable code</strong></p>\n<hr />\n<ul>\n<li>Signature calculator is used to parse signature</li>\n<li>It is written with <strong>Java 8 &amp; SunPKCS11.jar</strong> want to migrate it to <strong>Java 11</strong></li>\n</ul>\n<p>'''</p>\n<pre><code>import java.io.IOException;\nimport java.util.Scanner;\n\nimport javax.xml.bind.annotation.adapters.HexBinaryAdapter;\n\nimport sun.security.pkcs11.wrapper.CK_ATTRIBUTE;\nimport sun.security.pkcs11.wrapper.CK_MECHANISM;\nimport sun.security.pkcs11.wrapper.CK_RSA_PKCS_PSS_PARAMS;\nimport sun.security.pkcs11.wrapper.PKCS11;\nimport sun.security.pkcs11.wrapper.PKCS11Constants;\nimport sun.security.pkcs11.wrapper.PKCS11Exception;\n\npublic class Application {\n\n  public static void main(String[] args) {\n    try {\n      // PKCS11 middleware (UBK PKI) path\n      String libraryPath = &quot;&quot;;\n\n      OpenScPkcs11 openScPkcs11 = new OpenScPkcs11(libraryPath);\n\n      openScPkcs11.login(&quot;&quot;, &quot;&quot;);\n      byte[] hash = null;\n      String keypath = null;\n      String oid = null;\n      String authbits = null;\n      openScPkcs11.calcSign(hash, keypath, oid, authbits);\n\n    }\n    catch (Exception e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n    }\n  }\n\n}\n\nclass OpenScPkcs11 {\n\n  private static HexBinaryAdapter hexBinaryAdapter = new HexBinaryAdapter();\n\n  private int slotId = 0x3;\n  private String libraryPath;\n  private PKCS11 pkcs11Instance;\n  private String signatureAlgo = &quot;RSA&quot;;\n  private long session = -1;\n  private boolean isLoginDone = false;\n  private SignatureMechanism.Algorithms algorithm = SignatureMechanism.Algorithms.SHA256;\n\n  public OpenScPkcs11(String libraryPath) throws IOException, PKCS11Exception {\n    this.libraryPath = libraryPath;\n    initializeMiddleware();\n  }\n\n\n  public void calcSign(byte[] hash, String keyPath, String userOid, String authbits) throws Exception {\n    byte[] signature = new byte[512];\n\n    if (this.pkcs11Instance != null) {\n\n      if (this.session &lt; 0) {\n        this.openSession();\n      }\n\n      if (!this.isLoginDone) {\n        this.login(&quot;&quot;, &quot;&quot;);\n      }\n\n      Mechanism mechanism = SignatureMechanism.getMechanism(this.algorithm);\n\n\n      CK_ATTRIBUTE[] pTemplate = new CK_ATTRIBUTE[3];\n      pTemplate[0] = new CK_ATTRIBUTE(PKCS11Constants.CKA_CLASS, PKCS11Constants.CKO_PRIVATE_KEY);\n      pTemplate[1] = new CK_ATTRIBUTE(PKCS11Constants.CKA_VENDOR_DEFINED + 1, keyPath);\n      pTemplate[2] = new CK_ATTRIBUTE(PKCS11Constants.CKA_VENDOR_DEFINED + 2, authbits);\n\n      // define the attibutes for certificate\n      CK_ATTRIBUTE[] certAttribute = new CK_ATTRIBUTE[1];\n      certAttribute[0] = new CK_ATTRIBUTE(PKCS11Constants.CKA_VENDOR_DEFINED + 3);\n\n      long[] c_FindObjects = null;\n\n      this.pkcs11Instance.C_FindObjectsInit(this.session, pTemplate);\n      c_FindObjects = this.pkcs11Instance.C_FindObjects(this.session, 32);\n      this.pkcs11Instance.C_FindObjectsFinal(this.session);\n\n      CK_MECHANISM pMechanism = null;\n\n      // RSA Algorithm\n      String signatureAlgorithmType = this.getSignatureAlgorithmType();\n\n      if (signatureAlgorithmType.equalsIgnoreCase(&quot;RSA&quot;)) {\n        pMechanism = new CK_MECHANISM(mechanism.getId());\n\n        CK_RSA_PKCS_PSS_PARAMS ck_RSA_PKCS_PSS_PARAMS =\n            new CK_RSA_PKCS_PSS_PARAMS(this.algorithm.name(), &quot;MGF1&quot;, this.algorithm.name(), (int) mechanism.getsLen());\n        pMechanism.pParameter = ck_RSA_PKCS_PSS_PARAMS;\n      }\n      else if (signatureAlgorithmType.equalsIgnoreCase(&quot;ECDSA&quot;)) { // ECDSA Algorithm\n        pMechanism = new CK_MECHANISM(PKCS11Constants.CKM_ECDSA);\n      }\n      else {\n        throw new Exception(&quot;Signature algorithm &quot; + signatureAlgorithmType + &quot; is not supported&quot;);\n      }\n\n      if ((c_FindObjects != null) &amp;&amp; (c_FindObjects.length &gt; 0)) {\n        long c_FindObjectFound = c_FindObjects[0];\n        boolean objFound = false;\n\n        for (long c_FindObject : c_FindObjects) {\n          this.pkcs11Instance.C_GetAttributeValue(this.session, c_FindObject, certAttribute);\n\n\n          // Binary certificate as byte array\n          byte[] certificateBytes = certAttribute[0].getByteArray();\n\n          if ((userOid != null) &amp;&amp; !userOid.isEmpty()) {\n            // Match certificate with userOid, if matches (Certificate parser used)\n            if (parseOidInfo(certificateBytes, userOid)) {\n              c_FindObjectFound = c_FindObject;\n              objFound = true;\n              break;\n            }\n          }\n        }\n\n        if (objFound) {\n          System.out.println(&quot;Signature found for given OID configuration.&quot;);\n        }\n        else {\n          this.pkcs11Instance.C_GetAttributeValue(this.session, c_FindObjectFound, certAttribute);\n          CertificateParser certificateParser = new CertificateParser(certAttribute[0].getByteArray());\n        }\n          this.pkcs11Instance.C_SignInit(this.session, pMechanism, c_FindObjectFound);\n          this.pkcs11Instance.C_SignUpdate(this.session, 0, hash, 0, (int) mechanism.getsLen());\n          signature = this.pkcs11Instance.C_SignFinal(this.session, mechanism.getSignFinalArgument());\n        \n      }\n      else {\n        String errorMessage = &quot;Unable to find keys.&quot;;\n        throw new Exception(errorMessage);\n      }\n    }\n    else {\n      throw new Exception(&quot;Initialize middleware first.&quot;);\n    }\n  }\n\n\n  /**\n   * @return\n   */\n  private String getSignatureAlgorithmType() {\n    return this.signatureAlgo;\n  }\n\n\n  public void login(String userName, String password) throws Exception {\n    if (this.pkcs11Instance != null) {\n      openSession();\n      String pwd = password;\n      if (pwd == null || pwd.trim().isEmpty()) {\n        Scanner sc = new Scanner(System.in);\n        pwd = sc.next();\n        sc.close();\n      }\n      this.pkcs11Instance.C_Login(this.session, PKCS11Constants.CKU_USER, pwd.toCharArray());\n      this.isLoginDone = true;\n    }\n    else {\n      throw new Exception(&quot;Initialize middleware first.&quot;);\n    }\n  }\n\n  public void logout() throws PKCS11Exception {\n    if (this.pkcs11Instance != null) {\n      this.pkcs11Instance.C_Logout(this.session);\n    }\n  }\n\n\n  public void openSession() throws Exception {\n    if (this.pkcs11Instance != null) {\n      if (this.session &lt; 0) {\n\n        long[] c_GetSlotList = this.pkcs11Instance.C_GetSlotList(true);\n\n        if ((c_GetSlotList != null) &amp;&amp; (c_GetSlotList.length &gt; 0)) {\n          for (long element : c_GetSlotList) {\n            if (element == this.slotId) {\n              this.session =\n                  this.pkcs11Instance.C_OpenSession(this.slotId, PKCS11Constants.CKF_SERIAL_SESSION, null, null);\n              break;\n            }\n          }\n        }\n      }\n    }\n    else {\n      throw new Exception(&quot;Initialize middleware first.&quot;);\n    }\n  }\n\n  public void closeSession() throws PKCS11Exception {\n    if ((this.pkcs11Instance != null) &amp;&amp; (this.session &gt;= 0)) {\n      this.pkcs11Instance.C_CloseSession(this.session);\n      this.session = -1;\n    }\n  }\n\n  public void initializeMiddleware(String libraryPath1) throws IOException, PKCS11Exception {\n    this.pkcs11Instance = PKCS11.getInstance(libraryPath1, &quot;C_GetFunctionList&quot;, null, false);\n    this.libraryPath = libraryPath1;\n  }\n\n  public void initializeMiddleware() throws IOException, PKCS11Exception {\n    this.pkcs11Instance = PKCS11.getInstance(this.libraryPath, &quot;C_GetFunctionList&quot;, null, false);\n  }\n\n  public static String getString(final byte[] data) {\n    if ((data != null) &amp;&amp; (data.length &gt; 0)) {\n      return hexBinaryAdapter.marshal(data);\n    }\n    return null;\n  }\n}\n\nclass SignatureMechanism {\n\n  public static enum Algorithms {\n\n                                 SHA256(0x250),\n                                 /**\n                                  * Hash calculation Algorithm\n                                  */\n                                 RIPEMD160(0x240),\n                                 /**\n                                  * Hash calculation Algorithm\n                                  */\n                                 RIPEMD160_1(0x0),\n\n                                 /**\n                                  * Secure Hash Algorithm 512 for hash Calculation\n                                  */\n                                 SHA512(0x251);\n\n    private int value = 0;\n\n    private Algorithms(final int algorithmValue) {\n      this.value = algorithmValue;\n    }\n\n    /**\n     * @return the hash value\n     */\n    public int getValue() {\n      return this.value;\n    }\n  }\n\n  /**\n   * @param algorithm : Algorithm used for hash calculation\n   * @return signature mechanism\n   */\n  public static Mechanism getMechanism(final Algorithms algorithm) {\n\n    Mechanism mechanism = new Mechanism();\n    if (algorithm == Algorithms.SHA256) {\n      mechanism.setHashAlg(PKCS11Constants.CKM_SHA256);\n      mechanism.setMgf(PKCS11Constants.CKG_MGF1_SHA1 + 1);\n      mechanism.setsLen(32);\n      mechanism.setSignFinalArgument(512);\n    } // TODO Verify with ETAS Middleware team\n    else if (algorithm == Algorithms.SHA512) {\n      mechanism.setHashAlg(PKCS11Constants.CKM_SHA512);\n      mechanism.setMgf(PKCS11Constants.CKG_MGF1_SHA1 + 1);\n      mechanism.setsLen(64);\n      mechanism.setSignFinalArgument(1024);\n    }\n    else if (algorithm == Algorithms.RIPEMD160) {\n      mechanism.setHashAlg(PKCS11Constants.CKM_RIPEMD160);\n      mechanism.setMgf(0x80000001); // hard coded becuase it is defined by escrypt and not present in PKCS11\n      mechanism.setsLen(20);\n    }\n    else if (algorithm == Algorithms.RIPEMD160_1) {\n      mechanism.setId(PKCS11Constants.CKM_RIPEMD160_RSA_PKCS);\n    }\n\n    return mechanism;\n  }\n\n}\nclass Mechanism{\n\n  private long hashAlg;\n  private long mgf;\n  private long sLen;\n  private long ulMaxObjectCount = 32;\n  private int signFinalArgument = 128;\n  private long id = PKCS11Constants.CKM_RSA_PKCS_PSS;\n\n\n  /**\n   * @return the hashAlg\n   */\n  public long getHashAlg() {\n    return hashAlg;\n  }\n\n\n  /**\n   * @param hashAlg the hashAlg to set\n   */\n  public void setHashAlg(long hashAlg) {\n    this.hashAlg = hashAlg;\n  }\n\n  /**\n   * @return the mgf\n   */\n  public long getMgf() {\n    return mgf;\n  }\n\n\n  /**\n   * @param mgf the mgf to set\n   */\n  public void setMgf(long mgf) {\n    this.mgf = mgf;\n  }\n\n  /**\n   * @return the sLen\n   */\n  public long getsLen() {\n    return sLen;\n  }\n\n  /**\n   * @param sLen the sLen to set\n   */\n  public void setsLen(long sLen) {\n    this.sLen = sLen;\n  }\n\n  /**\n   * @return the ulMaxObjectCount\n   */\n  public long getUlMaxObjectCount() {\n    return ulMaxObjectCount;\n  }\n\n  /**\n   * @param ulMaxObjectCount the ulMaxObjectCount to set\n   */\n  public void setUlMaxObjectCount(long ulMaxObjectCount) {\n    this.ulMaxObjectCount = ulMaxObjectCount;\n  }\n\n  /**\n   * @return the signFinalArgument\n   */\n  public int getSignFinalArgument() {\n    return signFinalArgument;\n  }\n\n  /**\n   * @param signFinalArgument the signFinalArgument to set\n   */\n  public void setSignFinalArgument(int signFinalArgument) {\n    this.signFinalArgument = signFinalArgument;\n  }\n\n  /**\n   * @return the id\n   */\n  public long getId() {\n    return id;\n  }\n\n  /**\n   * @param id the id to set\n   */\n  public void setId(long id) {\n    this.id = id;\n  }\n\n}\n</code></pre>\n<p>'''</p>\n<p>Thank You!</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1697120439,"post_id":77281418,"comment_id":136242120,"body_markdown":"Please add the actual error message / stacktrace to your question. This should tell you (and us) where exactly the error happens, what index is your code trying to access and how long your array actually is.","body":"Please add the actual error message / stacktrace to your question. This should tell you (and us) where exactly the error happens, what index is your code trying to access and how long your array actually is."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1697120492,"post_id":77281418,"comment_id":136242129,"body_markdown":"And also an example input, while you&#39;re at it.","body":"And also an example input, while you&#39;re at it."},{"owner":{"account_id":1710898,"reputation":437,"user_id":1568996,"accept_rate":88,"display_name":"DeerSpotter"},"score":0,"creation_date":1697120537,"post_id":77281418,"comment_id":136242137,"body_markdown":"which python version","body":"which python version"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1697120663,"post_id":77281418,"comment_id":136242173,"body_markdown":"@DeerSpotter considering the python code is the one that works, is that *really* relevant?","body":"@DeerSpotter considering the python code is the one that works, is that <i>really</i> relevant?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1697120988,"post_id":77281418,"comment_id":136242251,"body_markdown":"Hint: `if stack and stack[-1] == &#39;~&#39;:` is more like `else if (c == &#39;~&#39; &amp;&amp; stack.length() &gt; 0) {` notice you didn&#39;t include a test for `stack` being empty (in Java). That&#39;s what `if stack` guards in python.","body":"Hint: <code>if stack and stack[-1] == &#39;~&#39;:</code> is more like <code>else if (c == &#39;~&#39; &amp;&amp; stack.length() &gt; 0) {</code> notice you didn&#39;t include a test for <code>stack</code> being empty (in Java). That&#39;s what <code>if stack</code> guards in python."},{"owner":{"account_id":1710898,"reputation":437,"user_id":1568996,"accept_rate":88,"display_name":"DeerSpotter"},"score":0,"creation_date":1697121392,"post_id":77281418,"comment_id":136242348,"body_markdown":"@FedericoklezCulloca no not really. :)","body":"@FedericoklezCulloca no not really. :)"}],"answers":[{"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1697122481,"post_id":77281534,"comment_id":136242658,"body_markdown":"From the question: &quot;I fail to see how it doesnt work **in Java.**&quot;","body":"From the question: &quot;I fail to see how it doesnt work <b>in Java.</b>&quot;"},{"owner":{"account_id":1710898,"reputation":437,"user_id":1568996,"accept_rate":88,"display_name":"DeerSpotter"},"score":0,"creation_date":1697137207,"post_id":77281534,"comment_id":136245484,"body_markdown":"@FedericoklezCulloca i corrected the python issue so that the java translation can then work.","body":"@FedericoklezCulloca i corrected the python issue so that the java translation can then work."},{"owner":{"account_id":1710898,"reputation":437,"user_id":1568996,"accept_rate":88,"display_name":"DeerSpotter"},"score":0,"creation_date":1697137729,"post_id":77281534,"comment_id":136245563,"body_markdown":"@FedericoklezCulloca is it better now?","body":"@FedericoklezCulloca is it better now?"}],"tags":[],"owner":{"account_id":1710898,"reputation":437,"user_id":1568996,"accept_rate":88,"display_name":"DeerSpotter"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697139802,"creation_date":1697121198,"answer_id":77281534,"question_id":77281418,"body_markdown":"The &quot;index out of bounds&quot; error may occur if the formula is not properly formatted or if there are missing parentheses. To fix the error and ensure that the code handles the bounds correctly, you can modify the code as follows:\r\n\r\npython code fixed the bounds issue:\r\n\r\n\r\n    def evaluate_formula(formula, variables, values):\r\n        stack = []\r\n        for char in formula:\r\n            if char == &#39;(&#39;:\r\n                stack.append(char)\r\n            elif char == &#39;)&#39;:\r\n                # Check for empty stack or missing opening parenthesis\r\n                if not stack or stack[-1] != &#39;(&#39;:\r\n                    return None\r\n    \r\n                while stack[-1] != &#39;(&#39;:\r\n                    operator = stack.pop()\r\n                    operand2 = stack.pop()\r\n                    operand1 = stack.pop()\r\n                    if operator == &#39;&amp;&#39;:\r\n                        stack.append(operand1 and operand2)\r\n                    elif operator == &#39;|&#39;:\r\n                        stack.append(operand1 or operand2)\r\n    \r\n                # Pop the opening parenthesis\r\n                stack.pop()\r\n            elif char in variables:\r\n                if char in values:\r\n                    stack.append(values[char])\r\n                else:\r\n                    return None\r\n            elif char == &#39;~&#39;:\r\n                if stack and stack[-1] == &#39;~&#39;:\r\n                    stack.pop()\r\n                    if stack and stack[-1] == &#39;(&#39;:\r\n                        return None\r\n                else:\r\n                    stack.append(&#39;~&#39;)\r\n            elif char in [&#39;&amp;&#39;, &#39;|&#39;]:\r\n                stack.append(char)\r\n    \r\n        # Ensure that there is only one element in the stack and it&#39;s a boolean\r\n        if len(stack) == 1 and type(stack[0]) == bool:\r\n            return stack[0]\r\n        else:\r\n            return None\r\n\r\njava code: \r\n\r\nsave it as: FormulaEvaluator.java\r\n\r\n\r\n\r\n\r\n    import java.util.Stack;\r\n    \r\n    public class FormulaEvaluator {\r\n        public static Boolean evaluateFormula(String formula, String[] variables, Boolean[] values) {\r\n            Stack&lt;Object&gt; stack = new Stack&lt;&gt;();\r\n            for (char c : formula.toCharArray()) {\r\n                if (c == &#39;(&#39;) {\r\n                    stack.push(c);\r\n                } else if (c == &#39;)&#39;) {\r\n                    if (stack.isEmpty() || !stack.peek().equals(&#39;(&#39;)) {\r\n                        return null;\r\n                    }\r\n                    stack.pop(); // Remove the opening parenthesis\r\n    \r\n                    while (!stack.isEmpty() &amp;&amp; stack.peek() instanceof Boolean) {\r\n                        Boolean operand2 = (Boolean) stack.pop();\r\n                        char operator = (char) stack.pop();\r\n                        Boolean operand1 = (Boolean) stack.pop();\r\n    \r\n                        if (operator == &#39;&amp;&#39;) {\r\n                            stack.push(operand1 &amp;&amp; operand2);\r\n                        } else if (operator == &#39;|&#39;) {\r\n                            stack.push(operand1 || operand2);\r\n                        }\r\n                    }\r\n                } else if (contains(variables, c)) {\r\n                    int index = getIndex(variables, c);\r\n                    if (index != -1) {\r\n                        stack.push(values[index]);\r\n                    } else {\r\n                        return null;\r\n                    }\r\n                } else if (c == &#39;~&#39;) {\r\n                    if (!stack.isEmpty() &amp;&amp; stack.peek().equals(&#39;~&#39;)) {\r\n                        stack.pop();\r\n                        if (!stack.isEmpty() &amp;&amp; stack.peek().equals(&#39;(&#39;)) {\r\n                            return null;\r\n                        }\r\n                    } else {\r\n                        stack.push(&#39;~&#39;);\r\n                    }\r\n                } else if (c == &#39;&amp;&#39; || c == &#39;|&#39;) {\r\n                    stack.push(c);\r\n                }\r\n            }\r\n    \r\n            if (stack.size() == 1 &amp;&amp; stack.peek() instanceof Boolean) {\r\n                return (Boolean) stack.peek();\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        private static boolean contains(String[] array, char c) {\r\n            for (String s : array) {\r\n                if (s.equals(String.valueOf(c))) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private static int getIndex(String[] array, char c) {\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                if (array[i].equals(String.valueOf(c))) {\r\n                    return i;\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Converting Python to Java: Keep getting index out of bounds","body":"<p>The &quot;index out of bounds&quot; error may occur if the formula is not properly formatted or if there are missing parentheses. To fix the error and ensure that the code handles the bounds correctly, you can modify the code as follows:</p>\n<p>python code fixed the bounds issue:</p>\n<pre><code>def evaluate_formula(formula, variables, values):\n    stack = []\n    for char in formula:\n        if char == '(':\n            stack.append(char)\n        elif char == ')':\n            # Check for empty stack or missing opening parenthesis\n            if not stack or stack[-1] != '(':\n                return None\n\n            while stack[-1] != '(':\n                operator = stack.pop()\n                operand2 = stack.pop()\n                operand1 = stack.pop()\n                if operator == '&amp;':\n                    stack.append(operand1 and operand2)\n                elif operator == '|':\n                    stack.append(operand1 or operand2)\n\n            # Pop the opening parenthesis\n            stack.pop()\n        elif char in variables:\n            if char in values:\n                stack.append(values[char])\n            else:\n                return None\n        elif char == '~':\n            if stack and stack[-1] == '~':\n                stack.pop()\n                if stack and stack[-1] == '(':\n                    return None\n            else:\n                stack.append('~')\n        elif char in ['&amp;', '|']:\n            stack.append(char)\n\n    # Ensure that there is only one element in the stack and it's a boolean\n    if len(stack) == 1 and type(stack[0]) == bool:\n        return stack[0]\n    else:\n        return None\n</code></pre>\n<p>java code:</p>\n<p>save it as: FormulaEvaluator.java</p>\n<pre><code>import java.util.Stack;\n\npublic class FormulaEvaluator {\n    public static Boolean evaluateFormula(String formula, String[] variables, Boolean[] values) {\n        Stack&lt;Object&gt; stack = new Stack&lt;&gt;();\n        for (char c : formula.toCharArray()) {\n            if (c == '(') {\n                stack.push(c);\n            } else if (c == ')') {\n                if (stack.isEmpty() || !stack.peek().equals('(')) {\n                    return null;\n                }\n                stack.pop(); // Remove the opening parenthesis\n\n                while (!stack.isEmpty() &amp;&amp; stack.peek() instanceof Boolean) {\n                    Boolean operand2 = (Boolean) stack.pop();\n                    char operator = (char) stack.pop();\n                    Boolean operand1 = (Boolean) stack.pop();\n\n                    if (operator == '&amp;') {\n                        stack.push(operand1 &amp;&amp; operand2);\n                    } else if (operator == '|') {\n                        stack.push(operand1 || operand2);\n                    }\n                }\n            } else if (contains(variables, c)) {\n                int index = getIndex(variables, c);\n                if (index != -1) {\n                    stack.push(values[index]);\n                } else {\n                    return null;\n                }\n            } else if (c == '~') {\n                if (!stack.isEmpty() &amp;&amp; stack.peek().equals('~')) {\n                    stack.pop();\n                    if (!stack.isEmpty() &amp;&amp; stack.peek().equals('(')) {\n                        return null;\n                    }\n                } else {\n                    stack.push('~');\n                }\n            } else if (c == '&amp;' || c == '|') {\n                stack.push(c);\n            }\n        }\n\n        if (stack.size() == 1 &amp;&amp; stack.peek() instanceof Boolean) {\n            return (Boolean) stack.peek();\n        } else {\n            return null;\n        }\n    }\n\n    private static boolean contains(String[] array, char c) {\n        for (String s : array) {\n            if (s.equals(String.valueOf(c))) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private static int getIndex(String[] array, char c) {\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i].equals(String.valueOf(c))) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1710898,"reputation":437,"user_id":1568996,"accept_rate":88,"display_name":"DeerSpotter"},"score":0,"creation_date":1697223131,"post_id":77283843,"comment_id":136257840,"body_markdown":"did my response not work or is yours just a little different?","body":"did my response not work or is yours just a little different?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1697230945,"post_id":77283843,"comment_id":136258904,"body_markdown":"@DeerSpotter, this is just the answer, I didn&#39;t write the question.","body":"@DeerSpotter, this is just the answer, I didn&#39;t write the question."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697161094,"creation_date":1697144668,"answer_id":77283843,"question_id":77281418,"body_markdown":"Use _char_ values _0_ and _1_ to represent the _bool_ value.\r\n\r\n```java\r\nCharacter evaluateFormula(String formula, String variables, String values) {\r\n    Deque&lt;Character&gt; stack = new ArrayDeque&lt;&gt;();\r\n    for (char c : formula.toCharArray())\r\n        if (c == &#39;(&#39;)\r\n            stack.add(c);\r\n        else if (c == &#39;)&#39;)\r\n            while (stack.getLast() != &#39;(&#39;) {\r\n                char operator = stack.pop();\r\n                boolean operand2 = stack.pop() == 1;\r\n                boolean operand1 = stack.pop() == 1;\r\n                if (operator == &#39;&amp;&#39;) \r\n                    stack.add((char) (operand1 &amp;&amp; operand2 ? 1 : 0));\r\n                else if (operator == &#39;|&#39;) \r\n                    stack.add((char) (operand1 || operand2 ? 1 : 0));\r\n            }\r\n        else if (variables.contains(String.valueOf(c)))\r\n            if (values.contains(String.valueOf(c)))\r\n                stack.add(values.charAt(c))\r\n            else\r\n                return null;\r\n        else if (c == &#39;~&#39;)\r\n            if (!stack.isEmpty() &amp;&amp; stack.getLast() == &#39;~&#39;) {\r\n                stack.pop();\r\n                if (!stack.isEmpty() &amp;&amp; stack.getLast() == &#39;(&#39;)\r\n                    return null;\r\n            } else\r\n                stack.add(&#39;~&#39;);\r\n        else if (c == &#39;&amp;&#39; || c == &#39;|&#39;)\r\n            stack.add(c);\r\n\r\n    if (stack.size() == 1 &amp;&amp; stack.getFirst() &lt;= 1)\r\n        return stack.getFirst();\r\n    else\r\n        return null;\r\n}\r\n```\r\n\r\nAnd, here is an optimized version, for re-used variables.\r\n\r\n```java\r\nimport static java.lang.String.valueOf;\r\n```\r\n\r\n```java\r\nCharacter evaluateFormula(String formula, String variables, String values) {\r\n    Deque&lt;Character&gt; s = new ArrayDeque&lt;&gt;();\r\n    char op;\r\n    boolean op1, op2;\r\n    for (char c : formula.toCharArray())\r\n        switch (c) {\r\n            case &#39;(&#39;, &#39;&amp;&#39;, &#39;|&#39; -&gt; s.add(c);\r\n            case &#39;)&#39; -&gt; {\r\n                while (s.getLast() != &#39;(&#39;) {\r\n                    op = s.pop();\r\n                    op1 = s.pop() == 1;\r\n                    op2 = s.pop() == 1;\r\n                    if (op == &#39;&amp;&#39;) s.add((char) (op1 &amp;&amp; op2 ? 1 : 0));\r\n                    else if (op == &#39;|&#39;) s.add((char) (op1 || op2 ? 1 : 0));\r\n                }\r\n            }\r\n            case &#39;~&#39; -&gt; {\r\n                if (!s.isEmpty() &amp;&amp; s.getLast() == &#39;~&#39;) {\r\n                    s.pop();\r\n                    if (!s.isEmpty() &amp;&amp; s.getLast() == &#39;(&#39;) return null;\r\n                } else s.add(&#39;~&#39;);\r\n            }\r\n            default -&gt; {\r\n                if (variables.contains(valueOf(c)))\r\n                    if (values.contains(valueOf(c))) s.add(values.charAt(c));\r\n                    else return null;\r\n            }\r\n        }\r\n    if (s.size() == 1 &amp;&amp; s.getFirst() &lt;= 1) return s.getFirst();\r\n    else return null;\r\n}\r\n```","title":"Converting Python to Java: Keep getting index out of bounds","body":"<p>Use <em>char</em> values <em>0</em> and <em>1</em> to represent the <em>bool</em> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Character evaluateFormula(String formula, String variables, String values) {\n    Deque&lt;Character&gt; stack = new ArrayDeque&lt;&gt;();\n    for (char c : formula.toCharArray())\n        if (c == '(')\n            stack.add(c);\n        else if (c == ')')\n            while (stack.getLast() != '(') {\n                char operator = stack.pop();\n                boolean operand2 = stack.pop() == 1;\n                boolean operand1 = stack.pop() == 1;\n                if (operator == '&amp;') \n                    stack.add((char) (operand1 &amp;&amp; operand2 ? 1 : 0));\n                else if (operator == '|') \n                    stack.add((char) (operand1 || operand2 ? 1 : 0));\n            }\n        else if (variables.contains(String.valueOf(c)))\n            if (values.contains(String.valueOf(c)))\n                stack.add(values.charAt(c))\n            else\n                return null;\n        else if (c == '~')\n            if (!stack.isEmpty() &amp;&amp; stack.getLast() == '~') {\n                stack.pop();\n                if (!stack.isEmpty() &amp;&amp; stack.getLast() == '(')\n                    return null;\n            } else\n                stack.add('~');\n        else if (c == '&amp;' || c == '|')\n            stack.add(c);\n\n    if (stack.size() == 1 &amp;&amp; stack.getFirst() &lt;= 1)\n        return stack.getFirst();\n    else\n        return null;\n}\n</code></pre>\n<p>And, here is an optimized version, for re-used variables.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.String.valueOf;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Character evaluateFormula(String formula, String variables, String values) {\n    Deque&lt;Character&gt; s = new ArrayDeque&lt;&gt;();\n    char op;\n    boolean op1, op2;\n    for (char c : formula.toCharArray())\n        switch (c) {\n            case '(', '&amp;', '|' -&gt; s.add(c);\n            case ')' -&gt; {\n                while (s.getLast() != '(') {\n                    op = s.pop();\n                    op1 = s.pop() == 1;\n                    op2 = s.pop() == 1;\n                    if (op == '&amp;') s.add((char) (op1 &amp;&amp; op2 ? 1 : 0));\n                    else if (op == '|') s.add((char) (op1 || op2 ? 1 : 0));\n                }\n            }\n            case '~' -&gt; {\n                if (!s.isEmpty() &amp;&amp; s.getLast() == '~') {\n                    s.pop();\n                    if (!s.isEmpty() &amp;&amp; s.getLast() == '(') return null;\n                } else s.add('~');\n            }\n            default -&gt; {\n                if (variables.contains(valueOf(c)))\n                    if (values.contains(valueOf(c))) s.add(values.charAt(c));\n                    else return null;\n            }\n        }\n    if (s.size() == 1 &amp;&amp; s.getFirst() &lt;= 1) return s.getFirst();\n    else return null;\n}\n</code></pre>\n"}],"owner":{"account_id":2233666,"reputation":109,"user_id":5736915,"display_name":"user5736915"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1697161094,"creation_date":1697120299,"question_id":77281418,"body_markdown":"Ive been trying to convert python code into Java, and Im having a head banging time trying to figure out why my solution keeps giving me an index out of bounds error. Any ideas? I think its a simple syntax or counting error but as a Python programmer I fail to see how it doesnt work in Java. \r\n\r\nPython Code:\r\n```\r\ndef evaluate_formula(formula, variables, values):\r\n    stack = []\r\n    for char in formula:\r\n        if char == &#39;(&#39;:\r\n            stack.append(char)\r\n        elif char == &#39;)&#39;:\r\n            while stack[-1] != &#39;(&#39;:\r\n                operator = stack.pop()\r\n                operand2 = stack.pop()\r\n                operand1 = stack.pop()\r\n                if operator == &#39;&amp;&#39;:\r\n                    stack.append(operand1 and operand2)\r\n                elif operator == &#39;|&#39;:\r\n                    stack.append(operand1 or operand2)\r\n        elif char in variables:\r\n            if char in values:\r\n                stack.append(values[char])\r\n            else:\r\n                return None\r\n        elif char == &#39;~&#39;:\r\n            if stack and stack[-1] == &#39;~&#39;:\r\n                stack.pop()\r\n                if stack and stack[-1] == &#39;(&#39;:\r\n                    return None\r\n            else:\r\n                stack.append(&#39;~&#39;)\r\n        elif char in [&#39;&amp;&#39;, &#39;|&#39;]:\r\n            stack.append(char)\r\n\r\n    if len(stack) == 1 and type(stack[0]) == bool:\r\n        return stack[0]\r\n    else:\r\n        return None\r\n```\r\nJava Code\r\n```\r\n    public static String evaluateFormula(String str, char[] variableValues) {\r\n        String evaluated = &quot;&quot;;\r\n        for (char c : str.toCharArray()) {\r\n            if (Character.isAlphabetic(c)) {\r\n                evaluated += variableValues[c - &#39;a&#39;];\r\n            } else if (c == &#39;&amp;&#39;) {\r\n                int index = evaluated.length() - 1;\r\n                char op1 = evaluated.charAt(index - 1);\r\n                char op2 = evaluated.charAt(index);\r\n                evaluated = evaluated.substring(0, index - 1) + (op1 == &#39;T&#39; &amp;&amp; op2 == &#39;T&#39; ? &#39;T&#39; : &#39;F&#39;);\r\n            } else if (c == &#39;|&#39;) {\r\n                int index = evaluated.length() - 1;\r\n                char op1 = evaluated.charAt(index - 1);\r\n                char op2 = evaluated.charAt(index);\r\n                evaluated = evaluated.substring(0, index - 1) + (op1 == &#39;T&#39; || op2 == &#39;T&#39; ? &#39;T&#39; : &#39;F&#39;);\r\n            } else if (c == &#39;~&#39;) {\r\n                int index = evaluated.length() - 1;\r\n                char op = evaluated.charAt(index);\r\n                \r\n                evaluated = evaluated.substring(0, index - 1) + (op == &#39;T&#39; ? &#39;F&#39; : &#39;T&#39;);\r\n            }\r\n        }\r\n        return evaluated;\r\n    }\r\n\r\n```","title":"Converting Python to Java: Keep getting index out of bounds","body":"<p>Ive been trying to convert python code into Java, and Im having a head banging time trying to figure out why my solution keeps giving me an index out of bounds error. Any ideas? I think its a simple syntax or counting error but as a Python programmer I fail to see how it doesnt work in Java.</p>\n<p>Python Code:</p>\n<pre><code>def evaluate_formula(formula, variables, values):\n    stack = []\n    for char in formula:\n        if char == '(':\n            stack.append(char)\n        elif char == ')':\n            while stack[-1] != '(':\n                operator = stack.pop()\n                operand2 = stack.pop()\n                operand1 = stack.pop()\n                if operator == '&amp;':\n                    stack.append(operand1 and operand2)\n                elif operator == '|':\n                    stack.append(operand1 or operand2)\n        elif char in variables:\n            if char in values:\n                stack.append(values[char])\n            else:\n                return None\n        elif char == '~':\n            if stack and stack[-1] == '~':\n                stack.pop()\n                if stack and stack[-1] == '(':\n                    return None\n            else:\n                stack.append('~')\n        elif char in ['&amp;', '|']:\n            stack.append(char)\n\n    if len(stack) == 1 and type(stack[0]) == bool:\n        return stack[0]\n    else:\n        return None\n</code></pre>\n<p>Java Code</p>\n<pre><code>    public static String evaluateFormula(String str, char[] variableValues) {\n        String evaluated = &quot;&quot;;\n        for (char c : str.toCharArray()) {\n            if (Character.isAlphabetic(c)) {\n                evaluated += variableValues[c - 'a'];\n            } else if (c == '&amp;') {\n                int index = evaluated.length() - 1;\n                char op1 = evaluated.charAt(index - 1);\n                char op2 = evaluated.charAt(index);\n                evaluated = evaluated.substring(0, index - 1) + (op1 == 'T' &amp;&amp; op2 == 'T' ? 'T' : 'F');\n            } else if (c == '|') {\n                int index = evaluated.length() - 1;\n                char op1 = evaluated.charAt(index - 1);\n                char op2 = evaluated.charAt(index);\n                evaluated = evaluated.substring(0, index - 1) + (op1 == 'T' || op2 == 'T' ? 'T' : 'F');\n            } else if (c == '~') {\n                int index = evaluated.length() - 1;\n                char op = evaluated.charAt(index);\n                \n                evaluated = evaluated.substring(0, index - 1) + (op == 'T' ? 'F' : 'T');\n            }\n        }\n        return evaluated;\n    }\n\n</code></pre>\n"},{"tags":["java","generics","multiple-inheritance"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697161003,"post_id":77283492,"comment_id":136248145,"body_markdown":"`B` does not implement `Comparable&lt;B&gt;`, so it is not comparable. It is incorrectly defined IMO.","body":"<code>B</code> does not implement <code>Comparable&lt;B&gt;</code>, so it is not comparable. It is incorrectly defined IMO."}],"answers":[{"comments":[{"owner":{"account_id":19762529,"reputation":65,"user_id":14990433,"display_name":"Daybreak Texas"},"score":0,"creation_date":1697140917,"post_id":77283504,"comment_id":136246026,"body_markdown":"Thanks for the reply, another question is: what if I still want MovieList to implement the KeyListInterface, in this case, how should I deal with the type Parameter passed into the KeyListInterface? Since the code below still shows an error\n\n&gt; Type parameter &#39;T&#39; is not within its bound; should implement &#39;java.lang.Comparable&lt;T&gt;&#39;","body":"Thanks for the reply, another question is: what if I still want MovieList to implement the KeyListInterface, in this case, how should I deal with the type Parameter passed into the KeyListInterface? Since the code below still shows an error  &gt; Type parameter &#39;T&#39; is not within its bound; should implement &#39;java.lang.Comparable&lt;T&gt;&#39;"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1697141487,"post_id":77283504,"comment_id":136246116,"body_markdown":"You would need to change `KeyListInterface` in the same way.","body":"You would need to change <code>KeyListInterface</code> in the same way."},{"owner":{"account_id":19762529,"reputation":65,"user_id":14990433,"display_name":"Daybreak Texas"},"score":0,"creation_date":1697142902,"post_id":77283504,"comment_id":136246338,"body_markdown":"Hi, Thanks for the instruction, I have tried to modify both the interface and class for MovieList, but the old error still remains. I&#39;m wondering if there is an easier way to make my MovieList both Comparable and also inherit the KeyListInterface.","body":"Hi, Thanks for the instruction, I have tried to modify both the interface and class for MovieList, but the old error still remains. I&#39;m wondering if there is an easier way to make my MovieList both Comparable and also inherit the KeyListInterface."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1697146653,"post_id":77283504,"comment_id":136246856,"body_markdown":"Not really.  If you have a new error, show us the updated code and what exact error you get.  It seems likely that you may simply need to find more and more places you need to replace `&lt;T extends Comparable&lt;T&gt;&gt;` with `&lt;T extends Comparable&lt;? super T&gt;&gt;`.","body":"Not really.  If you have a new error, show us the updated code and what exact error you get.  It seems likely that you may simply need to find more and more places you need to replace <code>&lt;T extends Comparable&lt;T&gt;&gt;</code> with <code>&lt;T extends Comparable&lt;? super T&gt;&gt;</code>."},{"owner":{"account_id":19762529,"reputation":65,"user_id":14990433,"display_name":"Daybreak Texas"},"score":0,"creation_date":1697160394,"post_id":77283504,"comment_id":136248091,"body_markdown":"After several attempts, I think it is probably the issue with the Java inheritance. And I have generalized the question a little bit to make it easier to understand.","body":"After several attempts, I think it is probably the issue with the Java inheritance. And I have generalized the question a little bit to make it easier to understand."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1697163720,"post_id":77283504,"comment_id":136248382,"body_markdown":"Your new edit suggests a completely different issue, likely one where you tried to redefine the `Comparable` interface.  If anywhere in your code has a line that begins `interface Comparable`, that&#39;s a problem.","body":"Your new edit suggests a completely different issue, likely one where you tried to redefine the <code>Comparable</code> interface.  If anywhere in your code has a line that begins <code>interface Comparable</code>, that&#39;s a problem."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1697163923,"post_id":77283504,"comment_id":136248394,"body_markdown":"More to the point, your interfaces work with the correction I&#39;ve shown: https://ideone.com/BBOsqH","body":"More to the point, your interfaces work with the correction I&#39;ve shown: <a href=\"https://ideone.com/BBOsqH\" rel=\"nofollow noreferrer\">ideone.com/BBOsqH</a>"}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697140423,"creation_date":1697140423,"answer_id":77283504,"question_id":77283492,"body_markdown":"```\r\nMovieList implements KeyListInterface\r\nKeyListInterface extends Comparable&lt;KeyListInterface&gt;\r\n```\r\n\r\nUnfortunately, what you have here is that `MovieList` implements `Comparable&lt;KeyListInterface&gt;`, not `MovieList` implements `Comparable&lt;MovieList&gt;`.  This is not a situation where `T implements Comparable&lt;T&gt;` as a result.\r\n\r\nYou _can_ make this work, but to allow it you must modify your generics slightly, with\r\n\r\n```\r\npublic class MovieList&lt;T extends Comparable&lt;? super T&gt;&gt;\r\n```","title":"Why a Class which implements a Comparable Interface is not Comparable?","body":"<pre><code>MovieList implements KeyListInterface\nKeyListInterface extends Comparable&lt;KeyListInterface&gt;\n</code></pre>\n<p>Unfortunately, what you have here is that <code>MovieList</code> implements <code>Comparable&lt;KeyListInterface&gt;</code>, not <code>MovieList</code> implements <code>Comparable&lt;MovieList&gt;</code>.  This is not a situation where <code>T implements Comparable&lt;T&gt;</code> as a result.</p>\n<p>You <em>can</em> make this work, but to allow it you must modify your generics slightly, with</p>\n<pre><code>public class MovieList&lt;T extends Comparable&lt;? super T&gt;&gt;\n</code></pre>\n"}],"owner":{"account_id":19762529,"reputation":65,"user_id":14990433,"display_name":"Daybreak Texas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697160241,"creation_date":1697140281,"question_id":77283492,"body_markdown":"To generalize the question\r\n\r\nIf Interface A is Comparable,\r\nClass B extends Interface A.\r\nAnd for Class C the type parameter it takes must be comparable.\r\n\r\nFor class A\r\n```java\r\npublic interface A extends Comparable&lt;A&gt;{\r\n}\r\n```\r\n\r\nFor class B\r\n```java\r\npublic class B implements A{\r\n    @Override\r\n    public int compareTo(A o) {\r\n        return 0;\r\n    }\r\n}\r\n```\r\n\r\nFor class C\r\n```java\r\npublic class C&lt;T extends Comparable&lt;T&gt;&gt; {\r\n    public int data;\r\n}\r\n```\r\n\r\nNow try to declare an instance of C using the type parameter B\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        C&lt;B&gt; test = new C&lt;B&gt;();\r\n    }\r\n}\r\n```\r\n\r\nIt shows an error \r\n&gt; Type parameter &#39;B&#39; is not within its bound; should implement &#39;java.lang.Comparable&lt;B&gt;&#39;\r\n\r\nI believe Class B has extended A and should be comparable. I&#39;m not sure why it doesn&#39;t work.\r\n\r\n\r\n\r\n\r\nFor my code: \r\nThe relationship between the class and interface is\r\n\r\n```java\r\nMovieList implements KeyListInterface\r\nKeyListInterface extends Comparable&lt;KeyListInterface&gt;\r\n```\r\n\r\nand the definition of RedBlackTree is \r\n```java\r\npublic class RedBlackTree&lt;T extends Comparable&lt;T&gt;&gt; extends BinarySearchTree&lt;T&gt;\r\n```\r\n\r\nWhen I tried to instantiate a RedBlackTree in the test methods with the following line\r\n```java\r\n        RedBlackTree&lt;MovieList&gt; Tree = new RedBlackTree&lt;&gt;();\r\n```\r\n, passing into the type parameter as MovieList, it showed the error\r\n&gt; Type parameter &#39;MovieList&#39; is not within its bound; should implement &#39;java.lang.Comparable&lt;MovieList&gt;&#39;\r\n\r\nI&#39;m wondering what this error means, since with the structure shown above, I believe that MovieList is comparable\r\n\r\nBelow is just the placeholder for the MovieList class and the KeyListInterface is shown below\r\n\r\n```java\r\n/**\r\n * This is the interface of a type that will allow us to store duplicate keys in a single node of a tree.\r\n */\r\npublic interface KeyListInterface&lt;T extends Comparable&lt;T&gt;&gt; extends Comparable&lt;KeyListInterface&lt;T&gt;&gt;, Iterable&lt;T&gt; {\r\n\r\n    /**\r\n     * Adds another object with the same key to the list.\r\n     * @param newKey new object that maps to the same key as all objects in the list\r\n     */\r\n    public void addKey(T newKey);\r\n\r\n    /**\r\n     * Checks if the list contains key.\r\n     * @param key the key object to check for\r\n     */\r\n    public boolean containsKey(T key);\r\n\r\n}\r\n```\r\n\r\n```java\r\nimport java.util.Iterator;\r\n\r\npublic class MovieList&lt;T extends Comparable&lt;T&gt;&gt; implements KeyListInterface&lt;T&gt; {\r\n    @Override\r\n    public void addKey(T newKey) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean containsKey(T key) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(KeyListInterface&lt;T&gt; o) {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;T&gt; iterator() {\r\n        return null;\r\n    }\r\n}\r\n```","title":"Why a Class which implements a Comparable Interface is not Comparable?","body":"<p>To generalize the question</p>\n<p>If Interface A is Comparable,\nClass B extends Interface A.\nAnd for Class C the type parameter it takes must be comparable.</p>\n<p>For class A</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface A extends Comparable&lt;A&gt;{\n}\n</code></pre>\n<p>For class B</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class B implements A{\n    @Override\n    public int compareTo(A o) {\n        return 0;\n    }\n}\n</code></pre>\n<p>For class C</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class C&lt;T extends Comparable&lt;T&gt;&gt; {\n    public int data;\n}\n</code></pre>\n<p>Now try to declare an instance of C using the type parameter B</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        C&lt;B&gt; test = new C&lt;B&gt;();\n    }\n}\n</code></pre>\n<p>It shows an error</p>\n<blockquote>\n<p>Type parameter 'B' is not within its bound; should implement 'java.lang.Comparable'</p>\n</blockquote>\n<p>I believe Class B has extended A and should be comparable. I'm not sure why it doesn't work.</p>\n<p>For my code:\nThe relationship between the class and interface is</p>\n<pre class=\"lang-java prettyprint-override\"><code>MovieList implements KeyListInterface\nKeyListInterface extends Comparable&lt;KeyListInterface&gt;\n</code></pre>\n<p>and the definition of RedBlackTree is</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RedBlackTree&lt;T extends Comparable&lt;T&gt;&gt; extends BinarySearchTree&lt;T&gt;\n</code></pre>\n<p>When I tried to instantiate a RedBlackTree in the test methods with the following line</p>\n<pre class=\"lang-java prettyprint-override\"><code>        RedBlackTree&lt;MovieList&gt; Tree = new RedBlackTree&lt;&gt;();\n</code></pre>\n<p>, passing into the type parameter as MovieList, it showed the error</p>\n<blockquote>\n<p>Type parameter 'MovieList' is not within its bound; should implement 'java.lang.Comparable'</p>\n</blockquote>\n<p>I'm wondering what this error means, since with the structure shown above, I believe that MovieList is comparable</p>\n<p>Below is just the placeholder for the MovieList class and the KeyListInterface is shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * This is the interface of a type that will allow us to store duplicate keys in a single node of a tree.\n */\npublic interface KeyListInterface&lt;T extends Comparable&lt;T&gt;&gt; extends Comparable&lt;KeyListInterface&lt;T&gt;&gt;, Iterable&lt;T&gt; {\n\n    /**\n     * Adds another object with the same key to the list.\n     * @param newKey new object that maps to the same key as all objects in the list\n     */\n    public void addKey(T newKey);\n\n    /**\n     * Checks if the list contains key.\n     * @param key the key object to check for\n     */\n    public boolean containsKey(T key);\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Iterator;\n\npublic class MovieList&lt;T extends Comparable&lt;T&gt;&gt; implements KeyListInterface&lt;T&gt; {\n    @Override\n    public void addKey(T newKey) {\n\n    }\n\n    @Override\n    public boolean containsKey(T key) {\n        return false;\n    }\n\n    @Override\n    public int compareTo(KeyListInterface&lt;T&gt; o) {\n        return 0;\n    }\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1492807778,"post_id":43544806,"comment_id":74155748,"body_markdown":"Why isn&#39;t your updated solution not ideal? It returns exactly what you want... Else configure maven to process your properties file to replace the `@prop@`. However I would probably go for the `InfoContributor`.","body":"Why isn&#39;t your updated solution not ideal? It returns exactly what you want... Else configure maven to process your properties file to replace the <code>@prop@</code>. However I would probably go for the <code>InfoContributor</code>."}],"answers":[{"tags":[],"owner":{"account_id":6348925,"reputation":559,"user_id":4928612,"accept_rate":75,"display_name":"barcom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503346045,"creation_date":1503346045,"answer_id":45804770,"question_id":43544806,"body_markdown":"This should work:\r\n\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;additionalProperties&gt;\r\n          &lt;spring-boot-version&gt;${spring.boot.version}&lt;/spring-boot-version&gt;\r\n        &lt;/additionalProperties&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nYou then don&#39;t need the app.info properties.","title":"How to get the version of Spring Boot in the /info actuator endpoint","body":"<p>This should work:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;additionalProperties&gt;\n      &lt;spring-boot-version&gt;${spring.boot.version}&lt;/spring-boot-version&gt;\n    &lt;/additionalProperties&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>You then don't need the app.info properties.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639798663,"creation_date":1639798663,"answer_id":70400812,"question_id":43544806,"body_markdown":"As you mentioned in your update, an `InfoContributor` can be used to add this property based on the value in `SpringBootVersion`:\r\n\r\n```lang-java\r\n@Component\r\npublic class SpringBootVersionInfoContributor implements InfoContributor {\r\n    @Override\r\n    public void contribute(Info.Builder builder) {\r\n        builder.withDetail(&quot;spring-boot.version&quot;, SpringBootVersion.getVersion());\r\n    }\r\n}\r\n```\r\n\r\nThis seems a pretty solid idiomatic approach to adding this detail.","title":"How to get the version of Spring Boot in the /info actuator endpoint","body":"<p>As you mentioned in your update, an <code>InfoContributor</code> can be used to add this property based on the value in <code>SpringBootVersion</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class SpringBootVersionInfoContributor implements InfoContributor {\n    @Override\n    public void contribute(Info.Builder builder) {\n        builder.withDetail(&quot;spring-boot.version&quot;, SpringBootVersion.getVersion());\n    }\n}\n</code></pre>\n<p>This seems a pretty solid idiomatic approach to adding this detail.</p>\n"}],"owner":{"account_id":10503536,"reputation":131,"user_id":7741517,"display_name":"jonathan.stiles"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13753,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1697159311,"creation_date":1492783576,"question_id":43544806,"body_markdown":"It&#39;s possible to include the version of Spring Boot in the banner.txt by adding `${spring-boot.version}`.\r\n\r\nHow can I do the same for the `/info` actuator endpoint?\r\nI&#39;ve tried adding both of the following to my application properties, but no luck:\r\n\r\n* `info.app.spring-boot.version=${spring-boot.version}`\r\n* `info.app.spring-boot.version=@spring-boot.version@` \r\n\r\nThe `/info` endpoint will print &quot;${spring-boot.version}&quot; (or &quot;@spring-boot.version@&quot; ), doesn&#39;t resolve the placeholder variable\r\n\r\n\r\nMy next idea was to create a Maven property for the Spring Boot version and reference it in the parent section like so\r\n\r\n\r\n```lang-xml\r\n&lt;properties&gt;\r\n    &lt;spring.boot.version&gt;1.5.3.RELEASE&lt;/spring.boot.version&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nBut this didn&#39;t work because Maven resolves placeholder variables AFTER handling the `&lt;parent&gt;` section\r\n\r\n\r\n## UPDATE\r\nThe following does work, but it&#39;s not ideal:\r\n\r\n```lang-java\r\n@Component\r\npublic class MyInfoContributor implements InfoContributor {\r\n    @Override\r\n    public void contribute(Info.Builder builder) {\r\n\r\n        builder.withDetail(&quot;spring-boot.version&quot;, SpringBootVersion.getVersion());\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to get the version of Spring Boot in the /info actuator endpoint","body":"<p>It's possible to include the version of Spring Boot in the banner.txt by adding <code>${spring-boot.version}</code>.</p>\n<p>How can I do the same for the <code>/info</code> actuator endpoint?\nI've tried adding both of the following to my application properties, but no luck:</p>\n<ul>\n<li><code>info.app.spring-boot.version=${spring-boot.version}</code></li>\n<li><code>info.app.spring-boot.version=@spring-boot.version@</code></li>\n</ul>\n<p>The <code>/info</code> endpoint will print &quot;${spring-boot.version}&quot; (or &quot;@spring-boot.version@&quot; ), doesn't resolve the placeholder variable</p>\n<p>My next idea was to create a Maven property for the Spring Boot version and reference it in the parent section like so</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;spring.boot.version&gt;1.5.3.RELEASE&lt;/spring.boot.version&gt;\n&lt;/properties&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>But this didn't work because Maven resolves placeholder variables AFTER handling the <code>&lt;parent&gt;</code> section</p>\n<h2>UPDATE</h2>\n<p>The following does work, but it's not ideal:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MyInfoContributor implements InfoContributor {\n    @Override\n    public void contribute(Info.Builder builder) {\n\n        builder.withDetail(&quot;spring-boot.version&quot;, SpringBootVersion.getVersion());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","active-directory","ldap"],"comments":[{"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"score":0,"creation_date":1435175429,"post_id":31034908,"comment_id":50095691,"body_markdown":"Hope it helps :http://forum.spring.io/forum/spring-projects/data/ldap/22371-ldap-error-code-32-no-such-object","body":"Hope it helps :<a href=\"http://forum.spring.io/forum/spring-projects/data/ldap/22371-ldap-error-code-32-no-such-object\" rel=\"nofollow noreferrer\">forum.spring.io/forum/spring-projects/data/ldap/&hellip;</a>"},{"owner":{"account_id":2051906,"reputation":855,"user_id":1830720,"accept_rate":44,"display_name":"Rodolfo Velasco"},"score":0,"creation_date":1515465472,"post_id":31034908,"comment_id":83300935,"body_markdown":"Could you solve your issue?","body":"Could you solve your issue?"}],"answers":[{"comments":[{"owner":{"account_id":1061383,"reputation":8686,"user_id":1062933,"accept_rate":85,"display_name":"NaN"},"score":0,"creation_date":1663355983,"post_id":48688075,"comment_id":130228621,"body_markdown":"It does not work, you will get error 67 attribute already exists. Baeldung floped at this tutorial","body":"It does not work, you will get error 67 attribute already exists. Baeldung floped at this tutorial"}],"tags":[],"owner":{"account_id":11431994,"reputation":11,"user_id":8380428,"display_name":"Florian Campa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518100850,"creation_date":1518100850,"answer_id":48688075,"question_id":31034908,"body_markdown":"This answer is for the posterity\r\n\r\nCheck this link : http://www.baeldung.com/spring-ldap\r\n\r\nExemple of code :\r\n\r\n\r\n        @Autowired\r\n\t    private LdapTemplate ldapTemplate;\r\n\r\n        private static final String BASE_DN = &quot;OU=Metaverse&quot;;\r\n\r\n        protected void buildDn(UserAd user) {\r\n            Name dn = LdapNameBuilder.newInstance(BASE_DN)\r\n\t\t\t\t.add(&quot;OU&quot;, &quot;Orga_Unit&quot;)\r\n\t\t\t\t.add(&quot;OU&quot;, &quot;Orga_Unit&quot;)\r\n\t\t\t\t.add(&quot;CN&quot;, &quot;ldap_cn&quot;).build();\r\n\t\t\r\n\t\t    DirContextAdapter context = new DirContextAdapter(dn);\r\n\t\t \r\n\t        context.setAttributeValues(\r\n\t           &quot;objectclass&quot;, \r\n\t           new String[] \r\n\t           { &quot;top&quot;, \r\n\t             &quot;person&quot;, \r\n\t             &quot;organizationalPerson&quot;});\r\n\t        context.setAttributeValue(&quot;sn&quot;, &quot;CREATETEST&quot;);\r\n\t        context.setAttributeValue(&quot;userPassword&quot;,&quot;password&quot;);\r\n\t \r\n\t        ldapTemplate.bind(context);\r\n        }","title":"Change Active Directory Password Via Spring LDAP","body":"<p>This answer is for the posterity</p>\n\n<p>Check this link : <a href=\"http://www.baeldung.com/spring-ldap\" rel=\"nofollow noreferrer\">http://www.baeldung.com/spring-ldap</a></p>\n\n<p>Exemple of code :</p>\n\n<pre><code>    @Autowired\n    private LdapTemplate ldapTemplate;\n\n    private static final String BASE_DN = \"OU=Metaverse\";\n\n    protected void buildDn(UserAd user) {\n        Name dn = LdapNameBuilder.newInstance(BASE_DN)\n            .add(\"OU\", \"Orga_Unit\")\n            .add(\"OU\", \"Orga_Unit\")\n            .add(\"CN\", \"ldap_cn\").build();\n\n        DirContextAdapter context = new DirContextAdapter(dn);\n\n        context.setAttributeValues(\n           \"objectclass\", \n           new String[] \n           { \"top\", \n             \"person\", \n             \"organizationalPerson\"});\n        context.setAttributeValue(\"sn\", \"CREATETEST\");\n        context.setAttributeValue(\"userPassword\",\"password\");\n\n        ldapTemplate.bind(context);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1457031,"reputation":1235,"user_id":1372366,"accept_rate":75,"display_name":"selman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544716566,"creation_date":1544716566,"answer_id":53765622,"question_id":31034908,"body_markdown":"Your base is already defined in Spring LdapContextSource.\r\nSo just execute:\r\n\r\n    ldapTemplate.modifyAttributes(&quot;CN=Name Surname,OU=Office&quot;, new ModificationItem[] { repitem });","title":"Change Active Directory Password Via Spring LDAP","body":"<p>Your base is already defined in Spring LdapContextSource.\nSo just execute:</p>\n\n<pre><code>ldapTemplate.modifyAttributes(\"CN=Name Surname,OU=Office\", new ModificationItem[] { repitem });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1061383,"reputation":8686,"user_id":1062933,"accept_rate":85,"display_name":"NaN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663375415,"creation_date":1663375415,"answer_id":73751427,"question_id":31034908,"body_markdown":"You need to add double quotes between your new password, and then convert it to UTF-16, like this:\r\n```\r\nString newPass = &quot;\\&quot;&quot; + password + &quot;\\&quot;&quot;;\r\nbyte[] newPassUtf16 = newPass.getBytes(&quot;UTF-16LE&quot;);\r\n```","title":"Change Active Directory Password Via Spring LDAP","body":"<p>You need to add double quotes between your new password, and then convert it to UTF-16, like this:</p>\n<pre><code>String newPass = &quot;\\&quot;&quot; + password + &quot;\\&quot;&quot;;\nbyte[] newPassUtf16 = newPass.getBytes(&quot;UTF-16LE&quot;);\n</code></pre>\n"}],"owner":{"account_id":1321971,"reputation":307,"user_id":1267608,"accept_rate":0,"display_name":"fciri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8315,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1697159311,"creation_date":1435172756,"question_id":31034908,"body_markdown":"I have a Java application and I want that each user have the possibility to change own password via application.\r\n\r\nThis is my code:\r\n\r\n    public void changePassword()\r\n    {\r\n        LdapContextSource contextSource = new LdapContextSource();\r\n\t    contextSource.setUrl(&quot;LDAPS://X.Y.Z.T/&quot;);\r\n\t    contextSource.setBase(&quot;DC=example,DC=com&quot;);\r\n\t    contextSource.setUserDn(&quot;username@example.com&quot;);\r\n\t    contextSource.setPassword(&quot;oldpass&quot;);\r\n\t    contextSource.afterPropertiesSet();\r\n\r\n\t    LdapTemplate ldapTemplate = new LdapTemplate(contextSource);\r\n\t\t\r\n\t    byte[] li_byOldpass = encodePassword(&quot;oldpass&quot;);\r\n\t    byte[] li_byNewpass = encodePassword(&quot;newpass&quot;);\r\n\t\t\r\n\t    Attribute oldattr = new BasicAttribute(&quot;unicodePwd&quot;, li_byOldpass);\r\n\t    Attribute newattr = new BasicAttribute(&quot;unicodePwd&quot;, li_byNewpass);\r\n \t    ModificationItem olditem = new   ModificationItem(DirContext.REMOVE_ATTRIBUTE, oldattr);\r\n        ModificationItem newitem = new ModificationItem(DirContext.ADD_ATTRIBUTE, newattr);\r\n        ModificationItem repitem = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, newattr);\r\n    \r\n        ModificationItem[] mods = new ModificationItem[2];\r\n        mods[0] = olditem;\r\n        mods[1] = newitem;\r\n    \r\n        try\r\n     \t{\r\n            ldapTemplate.modifyAttributes(&quot;CN=Name Surname,OU=Office,DC=example,DC=com&quot;, new ModificationItem[] { repitem });   \r\n\t    }catch(Exception e)\r\n    \t{\r\n\t       System.out.println(&quot;Error in changing password on Active Directory: &quot; + e.getMessage() );\r\n\t    }\r\n    }\r\n\r\nUnfortunately it doesn&#39;t work, and this is the errore that i get:\r\n\r\n\r\n----------\r\n\r\n\r\n**[LDAP: error code 32 - 0000208D: NameErr: DSID-0310020A, problem 2001 (NO_OBJECT), data 0, best match of:&#39;DC=example,DC=com&#39;];**\r\n\r\n----------\r\n\r\nAny help will be appreciate\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n\r\n","title":"Change Active Directory Password Via Spring LDAP","body":"<p>I have a Java application and I want that each user have the possibility to change own password via application.</p>\n\n<p>This is my code:</p>\n\n<pre><code>public void changePassword()\n{\n    LdapContextSource contextSource = new LdapContextSource();\n    contextSource.setUrl(\"LDAPS://X.Y.Z.T/\");\n    contextSource.setBase(\"DC=example,DC=com\");\n    contextSource.setUserDn(\"username@example.com\");\n    contextSource.setPassword(\"oldpass\");\n    contextSource.afterPropertiesSet();\n\n    LdapTemplate ldapTemplate = new LdapTemplate(contextSource);\n\n    byte[] li_byOldpass = encodePassword(\"oldpass\");\n    byte[] li_byNewpass = encodePassword(\"newpass\");\n\n    Attribute oldattr = new BasicAttribute(\"unicodePwd\", li_byOldpass);\n    Attribute newattr = new BasicAttribute(\"unicodePwd\", li_byNewpass);\n    ModificationItem olditem = new   ModificationItem(DirContext.REMOVE_ATTRIBUTE, oldattr);\n    ModificationItem newitem = new ModificationItem(DirContext.ADD_ATTRIBUTE, newattr);\n    ModificationItem repitem = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, newattr);\n\n    ModificationItem[] mods = new ModificationItem[2];\n    mods[0] = olditem;\n    mods[1] = newitem;\n\n    try\n    {\n        ldapTemplate.modifyAttributes(\"CN=Name Surname,OU=Office,DC=example,DC=com\", new ModificationItem[] { repitem });   \n    }catch(Exception e)\n    {\n       System.out.println(\"Error in changing password on Active Directory: \" + e.getMessage() );\n    }\n}\n</code></pre>\n\n<p>Unfortunately it doesn't work, and this is the errore that i get:</p>\n\n<hr>\n\n<p><strong>[LDAP: error code 32 - 0000208D: NameErr: DSID-0310020A, problem 2001 (NO_OBJECT), data 0, best match of:'DC=example,DC=com'];</strong></p>\n\n<hr>\n\n<p>Any help will be appreciate</p>\n\n<p>Thanks</p>\n"},{"tags":["java","servlets","get","ejb"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1697155125,"post_id":77284372,"comment_id":136247731,"body_markdown":"Are there any special messages on deployment? Usually when something does not work, you can see it in the logs there. And sometimes really strange things can happen with out-of-date certificates. For example, 5 years ago, when certificates ran out of date on a glassfish JEE server, the whole console and some internal services would shut down. From 1 moment to the next everything stopped working... Maybe something like that&#39;s happening here too...? Also, let your IDE generate a proper `serialVersionUID`. JEE is full of surprises.","body":"Are there any special messages on deployment? Usually when something does not work, you can see it in the logs there. And sometimes really strange things can happen with out-of-date certificates. For example, 5 years ago, when certificates ran out of date on a glassfish JEE server, the whole console and some internal services would shut down. From 1 moment to the next everything stopped working... Maybe something like that&#39;s happening here too...? Also, let your IDE generate a proper <code>serialVersionUID</code>. JEE is full of surprises."},{"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"score":0,"creation_date":1697155953,"post_id":77284372,"comment_id":136247797,"body_markdown":"@JayC667 I don&#39;t think there is anything in the deployment that wasn&#39;t there prior to me screwing it up. I added the log above. I commented out the &quot;private static final long serialVersionUID = 1L;&quot; and eclipse gave me a warning. If I use Eclipse&#39;s &quot;Add generated serial version ID&quot; it adds the same line of code.","body":"@JayC667 I don&#39;t think there is anything in the deployment that wasn&#39;t there prior to me screwing it up. I added the log above. I commented out the &quot;private static final long serialVersionUID = 1L;&quot; and eclipse gave me a warning. If I use Eclipse&#39;s &quot;Add generated serial version ID&quot; it adds the same line of code."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1697156213,"post_id":77284372,"comment_id":136247808,"body_markdown":"Go back in your commit history and test older versions until you find the change that broke it.","body":"Go back in your commit history and test older versions until you find the change that broke it."},{"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"score":0,"creation_date":1697158003,"post_id":77284372,"comment_id":136247900,"body_markdown":"Finally got it. I compared the build path and runtime to an older version and got these lined up. I also switched the Runtime JRE to Execution Environment on my server. I&#39;ve added and deleted the server a million times, but somehow this random combination of things fixed the issue. On launch, it finally through an error with the new controller I added, so it actually recognized the code. I fixed the error and the call went through. Not entirely sure what changed, but it is recognizing my code changes again.","body":"Finally got it. I compared the build path and runtime to an older version and got these lined up. I also switched the Runtime JRE to Execution Environment on my server. I&#39;ve added and deleted the server a million times, but somehow this random combination of things fixed the issue. On launch, it finally through an error with the new controller I added, so it actually recognized the code. I fixed the error and the call went through. Not entirely sure what changed, but it is recognizing my code changes again."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1697191375,"post_id":77284372,"comment_id":136251837,"body_markdown":"@rphello101 It is near impossible that Eclipse will generate &quot;1L&quot; for `serialVersionUID`. That only happens if there is a syntactic error inside the file. &quot;1L&quot; or &quot;-1L&quot;. Now that you&#39;ve fixed it, let Eclipse generate it anew. I bet that some proper UID is generated this time ;-)","body":"@rphello101 It is near impossible that Eclipse will generate &quot;1L&quot; for <code>serialVersionUID</code>. That only happens if there is a syntactic error inside the file. &quot;1L&quot; or &quot;-1L&quot;. Now that you&#39;ve fixed it, let Eclipse generate it anew. I bet that some proper UID is generated this time ;-)"},{"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"score":0,"creation_date":1697210534,"post_id":77284372,"comment_id":136255508,"body_markdown":"@JayC667 you are indeed correct. It now has quite a long number","body":"@JayC667 you are indeed correct. It now has quite a long number"}],"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697157086,"creation_date":1697154292,"question_id":77284372,"body_markdown":"I have a Java EJB application I have been developing. I&#39;m putting the final touches on it before moving it to production and, of course, broke it somehow. No clue what happened and I&#39;ve been banging my head against a wall for several hours now. Hoping for some help. \r\n\r\nI&#39;m using a Red Hat JBoss EAP 7.0 server. Targeted runtime JBoss EAP 7.0 and EJB Module is 3.2. I don&#39;t believe I screwed up anything in the build path, but I guess that&#39;s a possibility. No web.xml file since I can use annotations. \r\n\r\nThe application launches and can be accessed in the browser. The UI loads, but the first call to the server fails: \r\n\r\n    $.get(&quot;Controller?action=login&amp;userid=&quot; + params.get(&#39;userid&#39;) + &quot;&amp;timestamp=&quot; + getDateStamp(), function(authText) {...});\r\n\r\nI get the error: \r\n\r\n&gt; XHRGET\r\n&gt; http://localhost/OfflineInspections/Controller?action=login&amp;userid=9043&amp;timestamp=20231012_162723\r\n&gt; [HTTP/1.1 404 Not Found 2ms]\r\n\r\n\r\nIn my controller: \r\n\r\n    @WebServlet(&quot;/Controller&quot;)\r\n    public class Controller extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\t\r\n           \r\n        /**\r\n         * @see HttpServlet#HttpServlet()\r\n         */\r\n        public Controller() {\r\n            super();\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\tString action = request.getParameter(&quot;action&quot;);\r\n    \t\t\r\n    \t\tUtil.log(&quot;v&quot; + Util.VERSION + &quot; Get Request. Action: &quot; + action);\r\n    \t\tSystem.out.println(&quot;testing&quot;);\r\n    ...\r\n\r\n&quot;testing&quot; doesn&#39;t show up on the console. \r\n\r\nI&#39;m out of ideas. Where else can I look? \r\n\r\nEDIT: \r\n\r\nServer log: \r\n\r\n    17:08:36,521 INFO  [org.jboss.modules] (main) JBoss Modules version 1.6.4.Final-redhat-1\r\n    17:08:36,648 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.7.SP1-redhat-1\r\n    17:08:36,700 INFO  [org.jboss.as] (MSC service thread 1-8) WFLYSRV0049: JBoss EAP 7.1.3.GA (WildFly Core 3.0.16.Final-redhat-1) starting\r\n    17:08:37,151 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute &#39;security-realm&#39; in the resource at address &#39;/core-service=management/management-interface=http-interface&#39; is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.\r\n    17:08:37,159 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 29) WFLYCTL0028: Attribute &#39;security-realm&#39; in the resource at address &#39;/subsystem=undertow/server=default-server/https-listener=https&#39; is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.\r\n    17:08:37,160 INFO  [org.wildfly.security] (ServerService Thread Pool -- 5) ELY00001: WildFly Elytron version 1.1.10.Final-redhat-1\r\n    17:08:37,175 INFO  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) WFLYDS0004: Found OfflineInspections.ear in deployment directory. To trigger deployment create a file called OfflineInspections.ear.dodeploy\r\n    17:08:37,187 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)\r\n    17:08:37,192 INFO  [org.xnio] (MSC service thread 1-3) XNIO version 3.5.5.Final-redhat-1\r\n    17:08:37,195 INFO  [org.xnio.nio] (MSC service thread 1-3) XNIO NIO Implementation Version 3.5.5.Final-redhat-1\r\n    17:08:37,203 INFO  [org.jboss.as.jaxrs] (ServerService Thread Pool -- 47) WFLYRS0016: RESTEasy version 3.0.25.Final-redhat-1\r\n    17:08:37,205 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 45) WFLYCLINF0001: Activating Infinispan subsystem.\r\n    17:08:37,206 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 66) WFLYWS0002: Activating WebServices Extension\r\n    17:08:37,207 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 56) WFLYNAM0001: Activating Naming Subsystem\r\n    17:08:37,208 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 52) WFLYJSF0007: Activated the following JSF Implementations: [main]\r\n    17:08:37,208 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 63) WFLYSEC0002: Activating Security Subsystem\r\n    17:08:37,208 INFO  [org.wildfly.iiop.openjdk] (ServerService Thread Pool -- 46) WFLYIIOP0001: Activating IIOP Subsystem\r\n    17:08:37,212 INFO  [org.jboss.as.security] (MSC service thread 1-4) WFLYSEC0001: Current PicketBox version=5.0.3.Final-redhat-1\r\n    17:08:37,221 INFO  [org.jboss.as.connector] (MSC service thread 1-2) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.9.Final-redhat-1)\r\n    17:08:37,227 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 39) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.4)\r\n    17:08:37,230 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0003: Undertow 1.4.18.SP7-redhat-1 starting\r\n    17:08:37,231 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-6) WFLYJCA0018: Started Driver service with driver-name = h2\r\n    17:08:37,232 INFO  [org.jboss.as.naming] (MSC service thread 1-2) WFLYNAM0003: Starting Naming Service\r\n    17:08:37,232 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-2) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]\r\n    17:08:37,262 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 39) WFLYJCA0004: Deploying JDBC-compliant driver class com.microsoft.sqlserver.jdbc.SQLServerDriver (version 7.0)\r\n    17:08:37,262 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = sqlserver2008\r\n    17:08:37,270 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 65) WFLYUT0014: Creating file handler for path &#39;C:\\JBOSS-EAP70/welcome-content&#39; with options [directory-listing: &#39;false&#39;, follow-symlink: &#39;false&#39;, case-sensitive: &#39;true&#39;, safe-symlink-paths: &#39;[]&#39;]\r\n    17:08:37,427 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 44) WFLYIO001: Worker &#39;default&#39; has auto-configured to 48 core threads with 384 task threads based on your 24 available processors\r\n    17:08:37,450 INFO  [org.jboss.remoting] (MSC service thread 1-3) JBoss Remoting version 5.0.7.Final-redhat-1\r\n    17:08:37,461 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0012: Started server default-server.\r\n    17:08:37,462 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0018: Host default-host starting\r\n    17:08:37,467 INFO  [org.jboss.as.patching] (MSC service thread 1-6) WFLYPAT0050: JBoss EAP cumulative patch ID is: base, one-off patches include: none\r\n    17:08:37,473 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow AJP listener ajp-default listening on 0.0.0.0:8009\r\n    17:08:37,473 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0006: Undertow HTTP listener default listening on 0.0.0.0:80\r\n    17:08:37,475 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-2) WFLYDS0013: Started FileSystemDeploymentService for directory C:\\JBOSS-EAP70\\standalone\\deployments\r\n    17:08:37,478 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0027: Starting deployment of &quot;OfflineInspections.ear&quot; (runtime-name: &quot;OfflineInspections.ear&quot;)\r\n    17:08:37,503 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-7) WFLYMSGAMQ0001: AIO wasn&#39;t located on this platform, it will fall back to using pure Java NIO.\r\n    17:08:37,520 INFO  [org.jboss.as.ejb3] (MSC service thread 1-3) WFLYEJB0493: EJB subsystem suspension complete\r\n    17:08:37,530 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,journalDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\journal,bindingsDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\bindings,largeMessagesDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\largemessages,pagingDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\paging)\r\n    17:08:37,535 INFO  [org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$AS7DataSourceDeployer] (MSC service thread 1-7) IJ020018: Enabling &lt;validate-on-match&gt; for java:/OfflineInspCTZDS\r\n    17:08:37,543 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221013: Using NIO Journal\r\n    17:08:37,546 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;OfflineInspections-WebAppMin.war&quot;)\r\n    17:08:37,546 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;OfflineInspections-EJBApp.jar&quot;)\r\n    17:08:37,547 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-4) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\r\n    17:08:37,549 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0001: Bound data source [java:/OfflineInspCTZDS]\r\n    17:08:37,549 INFO  [org.wildfly.iiop.openjdk] (MSC service thread 1-8) WFLYIIOP0009: CORBA ORB Service started\r\n    17:08:37,567 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE\r\n    17:08:37,567 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221043: Protocol module found: [artemis-hornetq-protocol]. Adding protocol support for: HORNETQ\r\n    17:08:37,748 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0006: Undertow HTTPS listener https listening on 0.0.0.0:8443\r\n    17:08:37,779 INFO  [org.jboss.ws.common.management] (MSC service thread 1-7) JBWS022052: Starting JBossWS 5.1.10.Final-redhat-1 (Apache CXF 3.1.13.redhat-1) \r\n    17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-5) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor acceptor\r\n    17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-2) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor-throughput acceptor\r\n    17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-4) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor-throughput acceptor\r\n    17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-1) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor acceptor\r\n    17:08:37,856 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-2) WFLYSRV0018: Deployment &quot;deployment.OfflineInspections.ear.OfflineInspections-EJBApp.jar&quot; is using a private module (&quot;org.apache.commons.codec&quot;) which may be changed or removed in future versions without notice.\r\n    17:08:37,857 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-4) WFLYSRV0018: Deployment &quot;deployment.OfflineInspections.ear&quot; is using a private module (&quot;org.apache.commons.codec&quot;) which may be changed or removed in future versions without notice.\r\n    17:08:37,880 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221007: Server is now live\r\n    17:08:37,880 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221001: Apache ActiveMQ Artemis Message Broker version 1.5.5.012-redhat-1 [default, nodeID=0c3f2876-09ad-11eb-9f33-00155d0cd203] \r\n    17:08:37,882 WARN  [org.apache.activemq.artemis.jms.server] (ServerService Thread Pool -- 68) AMQ122005: Invalid &quot;host&quot; value &quot;0.0.0.0&quot; detected for &quot;http-connector&quot; connector. Switching to &quot;DESKTOP-OQ0COFF&quot;. If this new address is incorrect please manually configure the connector to use the proper one.\r\n    17:08:37,891 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 68) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/exported/jms/RemoteConnectionFactory\r\n    17:08:37,896 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 69) AMQ221003: Deploying queue jms.queue.ExpiryQueue\r\n    17:08:37,899 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 70) AMQ221003: Deploying queue jms.queue.DLQ\r\n    17:08:37,899 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 71) WFLYMSGAMQ0002: Bound messaging object to jndi name java:/ConnectionFactory\r\n    17:08:37,912 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-6) WFLYJCA0007: Registered connection factory java:/JmsXA\r\n    17:08:37,935 INFO  [org.apache.activemq.artemis.ra] (MSC service thread 1-6) Resource adaptor started\r\n    17:08:37,935 INFO  [org.jboss.as.connector.services.resourceadapters.ResourceAdapterActivatorService$ResourceAdapterActivator] (MSC service thread 1-6) IJ020002: Deployed: file://RaActivatoractivemq-ra\r\n    17:08:37,936 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-2) WFLYJCA0002: Bound JCA ConnectionFactory [java:/JmsXA]\r\n    17:08:37,936 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-1) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/DefaultJMSConnectionFactory\r\n    17:08:37,940 INFO  [org.infinispan.factories.GlobalComponentRegistry] (MSC service thread 1-5) ISPN000128: Infinispan version: Infinispan &#39;Chakra&#39; 8.2.11.Final-redhat-1\r\n    17:08:38,044 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 71) WFLYCLINF0002: Started client-mappings cache from ejb container\r\n    17:08:38,099 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 70) WFLYUT0021: Registered web context: &#39;/OfflineInspections&#39; for server &#39;default-server&#39;\r\n    17:08:38,103 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;subsystem&quot; =&gt; &quot;undertow&quot;),\r\n        (&quot;server&quot; =&gt; &quot;default-server&quot;),\r\n        (&quot;host&quot; =&gt; &quot;default-host&quot;),\r\n        (&quot;filter-ref&quot; =&gt; &quot;contentsecuritypolicy&quot;)\r\n    ]) - failure description: {\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.filter.contentsecuritypolicy&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.undertow.server.default-server.default-host.filter-ref.contentsecuritypolicy is missing [jboss.undertow.filter.contentsecuritypolicy]&quot;]\r\n    }\r\n    17:08:38,106 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 40) WFLYSRV0010: Deployed &quot;OfflineInspections.ear&quot; (runtime-name : &quot;OfflineInspections.ear&quot;)\r\n    17:08:38,107 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report\r\n    WFLYCTL0184:    New missing/unsatisfied dependencies:\r\n          service jboss.undertow.filter.contentsecuritypolicy (missing) dependents: [service jboss.undertow.server.default-server.default-host.filter-ref.contentsecuritypolicy] \r\n    \r\n    17:08:38,130 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n    17:08:38,132 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://0.0.0.0:9990/management\r\n    17:08:38,132 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://0.0.0.0:9990\r\n    17:08:38,132 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: JBoss EAP 7.1.3.GA (WildFly Core 3.0.16.Final-redhat-1) started (with errors) in 1764ms - Started 517 of 747 services (1 services failed or missing dependencies, 380 services are lazy, passive or on-demand)\r\n\r\nEDIT 2\r\n\r\nI tried adding a new controller with just a doGet that outputs a single line to the console. I tried a call from the front end and am getting a 404 there are well. Somehow the application isn&#39;t recognizing my controllers. \r\n\r\nCould this be an issue with a mapped library or something?","title":"Java EJB application - why am I getting a 404 error when trying to make a GET call to my controller?","body":"<p>I have a Java EJB application I have been developing. I'm putting the final touches on it before moving it to production and, of course, broke it somehow. No clue what happened and I've been banging my head against a wall for several hours now. Hoping for some help.</p>\n<p>I'm using a Red Hat JBoss EAP 7.0 server. Targeted runtime JBoss EAP 7.0 and EJB Module is 3.2. I don't believe I screwed up anything in the build path, but I guess that's a possibility. No web.xml file since I can use annotations.</p>\n<p>The application launches and can be accessed in the browser. The UI loads, but the first call to the server fails:</p>\n<pre><code>$.get(&quot;Controller?action=login&amp;userid=&quot; + params.get('userid') + &quot;&amp;timestamp=&quot; + getDateStamp(), function(authText) {...});\n</code></pre>\n<p>I get the error:</p>\n<blockquote>\n<p>XHRGET\nhttp://localhost/OfflineInspections/Controller?action=login&amp;userid=9043&amp;timestamp=20231012_162723\n[HTTP/1.1 404 Not Found 2ms]</p>\n</blockquote>\n<p>In my controller:</p>\n<pre><code>@WebServlet(&quot;/Controller&quot;)\npublic class Controller extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n        \n       \n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public Controller() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        String action = request.getParameter(&quot;action&quot;);\n        \n        Util.log(&quot;v&quot; + Util.VERSION + &quot; Get Request. Action: &quot; + action);\n        System.out.println(&quot;testing&quot;);\n...\n</code></pre>\n<p>&quot;testing&quot; doesn't show up on the console.</p>\n<p>I'm out of ideas. Where else can I look?</p>\n<p>EDIT:</p>\n<p>Server log:</p>\n<pre><code>17:08:36,521 INFO  [org.jboss.modules] (main) JBoss Modules version 1.6.4.Final-redhat-1\n17:08:36,648 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.7.SP1-redhat-1\n17:08:36,700 INFO  [org.jboss.as] (MSC service thread 1-8) WFLYSRV0049: JBoss EAP 7.1.3.GA (WildFly Core 3.0.16.Final-redhat-1) starting\n17:08:37,151 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.\n17:08:37,159 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 29) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.\n17:08:37,160 INFO  [org.wildfly.security] (ServerService Thread Pool -- 5) ELY00001: WildFly Elytron version 1.1.10.Final-redhat-1\n17:08:37,175 INFO  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) WFLYDS0004: Found OfflineInspections.ear in deployment directory. To trigger deployment create a file called OfflineInspections.ear.dodeploy\n17:08:37,187 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)\n17:08:37,192 INFO  [org.xnio] (MSC service thread 1-3) XNIO version 3.5.5.Final-redhat-1\n17:08:37,195 INFO  [org.xnio.nio] (MSC service thread 1-3) XNIO NIO Implementation Version 3.5.5.Final-redhat-1\n17:08:37,203 INFO  [org.jboss.as.jaxrs] (ServerService Thread Pool -- 47) WFLYRS0016: RESTEasy version 3.0.25.Final-redhat-1\n17:08:37,205 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 45) WFLYCLINF0001: Activating Infinispan subsystem.\n17:08:37,206 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 66) WFLYWS0002: Activating WebServices Extension\n17:08:37,207 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 56) WFLYNAM0001: Activating Naming Subsystem\n17:08:37,208 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 52) WFLYJSF0007: Activated the following JSF Implementations: [main]\n17:08:37,208 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 63) WFLYSEC0002: Activating Security Subsystem\n17:08:37,208 INFO  [org.wildfly.iiop.openjdk] (ServerService Thread Pool -- 46) WFLYIIOP0001: Activating IIOP Subsystem\n17:08:37,212 INFO  [org.jboss.as.security] (MSC service thread 1-4) WFLYSEC0001: Current PicketBox version=5.0.3.Final-redhat-1\n17:08:37,221 INFO  [org.jboss.as.connector] (MSC service thread 1-2) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.9.Final-redhat-1)\n17:08:37,227 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 39) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.4)\n17:08:37,230 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0003: Undertow 1.4.18.SP7-redhat-1 starting\n17:08:37,231 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-6) WFLYJCA0018: Started Driver service with driver-name = h2\n17:08:37,232 INFO  [org.jboss.as.naming] (MSC service thread 1-2) WFLYNAM0003: Starting Naming Service\n17:08:37,232 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-2) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]\n17:08:37,262 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 39) WFLYJCA0004: Deploying JDBC-compliant driver class com.microsoft.sqlserver.jdbc.SQLServerDriver (version 7.0)\n17:08:37,262 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = sqlserver2008\n17:08:37,270 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 65) WFLYUT0014: Creating file handler for path 'C:\\JBOSS-EAP70/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']\n17:08:37,427 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 44) WFLYIO001: Worker 'default' has auto-configured to 48 core threads with 384 task threads based on your 24 available processors\n17:08:37,450 INFO  [org.jboss.remoting] (MSC service thread 1-3) JBoss Remoting version 5.0.7.Final-redhat-1\n17:08:37,461 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0012: Started server default-server.\n17:08:37,462 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0018: Host default-host starting\n17:08:37,467 INFO  [org.jboss.as.patching] (MSC service thread 1-6) WFLYPAT0050: JBoss EAP cumulative patch ID is: base, one-off patches include: none\n17:08:37,473 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow AJP listener ajp-default listening on 0.0.0.0:8009\n17:08:37,473 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0006: Undertow HTTP listener default listening on 0.0.0.0:80\n17:08:37,475 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-2) WFLYDS0013: Started FileSystemDeploymentService for directory C:\\JBOSS-EAP70\\standalone\\deployments\n17:08:37,478 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0027: Starting deployment of &quot;OfflineInspections.ear&quot; (runtime-name: &quot;OfflineInspections.ear&quot;)\n17:08:37,503 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-7) WFLYMSGAMQ0001: AIO wasn't located on this platform, it will fall back to using pure Java NIO.\n17:08:37,520 INFO  [org.jboss.as.ejb3] (MSC service thread 1-3) WFLYEJB0493: EJB subsystem suspension complete\n17:08:37,530 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,journalDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\journal,bindingsDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\bindings,largeMessagesDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\largemessages,pagingDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\paging)\n17:08:37,535 INFO  [org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$AS7DataSourceDeployer] (MSC service thread 1-7) IJ020018: Enabling &lt;validate-on-match&gt; for java:/OfflineInspCTZDS\n17:08:37,543 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221013: Using NIO Journal\n17:08:37,546 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;OfflineInspections-WebAppMin.war&quot;)\n17:08:37,546 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;OfflineInspections-EJBApp.jar&quot;)\n17:08:37,547 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-4) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\n17:08:37,549 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0001: Bound data source [java:/OfflineInspCTZDS]\n17:08:37,549 INFO  [org.wildfly.iiop.openjdk] (MSC service thread 1-8) WFLYIIOP0009: CORBA ORB Service started\n17:08:37,567 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE\n17:08:37,567 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221043: Protocol module found: [artemis-hornetq-protocol]. Adding protocol support for: HORNETQ\n17:08:37,748 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0006: Undertow HTTPS listener https listening on 0.0.0.0:8443\n17:08:37,779 INFO  [org.jboss.ws.common.management] (MSC service thread 1-7) JBWS022052: Starting JBossWS 5.1.10.Final-redhat-1 (Apache CXF 3.1.13.redhat-1) \n17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-5) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor acceptor\n17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-2) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor-throughput acceptor\n17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-4) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor-throughput acceptor\n17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-1) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor acceptor\n17:08:37,856 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-2) WFLYSRV0018: Deployment &quot;deployment.OfflineInspections.ear.OfflineInspections-EJBApp.jar&quot; is using a private module (&quot;org.apache.commons.codec&quot;) which may be changed or removed in future versions without notice.\n17:08:37,857 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-4) WFLYSRV0018: Deployment &quot;deployment.OfflineInspections.ear&quot; is using a private module (&quot;org.apache.commons.codec&quot;) which may be changed or removed in future versions without notice.\n17:08:37,880 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221007: Server is now live\n17:08:37,880 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221001: Apache ActiveMQ Artemis Message Broker version 1.5.5.012-redhat-1 [default, nodeID=0c3f2876-09ad-11eb-9f33-00155d0cd203] \n17:08:37,882 WARN  [org.apache.activemq.artemis.jms.server] (ServerService Thread Pool -- 68) AMQ122005: Invalid &quot;host&quot; value &quot;0.0.0.0&quot; detected for &quot;http-connector&quot; connector. Switching to &quot;DESKTOP-OQ0COFF&quot;. If this new address is incorrect please manually configure the connector to use the proper one.\n17:08:37,891 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 68) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/exported/jms/RemoteConnectionFactory\n17:08:37,896 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 69) AMQ221003: Deploying queue jms.queue.ExpiryQueue\n17:08:37,899 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 70) AMQ221003: Deploying queue jms.queue.DLQ\n17:08:37,899 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 71) WFLYMSGAMQ0002: Bound messaging object to jndi name java:/ConnectionFactory\n17:08:37,912 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-6) WFLYJCA0007: Registered connection factory java:/JmsXA\n17:08:37,935 INFO  [org.apache.activemq.artemis.ra] (MSC service thread 1-6) Resource adaptor started\n17:08:37,935 INFO  [org.jboss.as.connector.services.resourceadapters.ResourceAdapterActivatorService$ResourceAdapterActivator] (MSC service thread 1-6) IJ020002: Deployed: file://RaActivatoractivemq-ra\n17:08:37,936 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-2) WFLYJCA0002: Bound JCA ConnectionFactory [java:/JmsXA]\n17:08:37,936 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-1) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/DefaultJMSConnectionFactory\n17:08:37,940 INFO  [org.infinispan.factories.GlobalComponentRegistry] (MSC service thread 1-5) ISPN000128: Infinispan version: Infinispan 'Chakra' 8.2.11.Final-redhat-1\n17:08:38,044 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 71) WFLYCLINF0002: Started client-mappings cache from ejb container\n17:08:38,099 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 70) WFLYUT0021: Registered web context: '/OfflineInspections' for server 'default-server'\n17:08:38,103 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\n    (&quot;subsystem&quot; =&gt; &quot;undertow&quot;),\n    (&quot;server&quot; =&gt; &quot;default-server&quot;),\n    (&quot;host&quot; =&gt; &quot;default-host&quot;),\n    (&quot;filter-ref&quot; =&gt; &quot;contentsecuritypolicy&quot;)\n]) - failure description: {\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.filter.contentsecuritypolicy&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.undertow.server.default-server.default-host.filter-ref.contentsecuritypolicy is missing [jboss.undertow.filter.contentsecuritypolicy]&quot;]\n}\n17:08:38,106 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 40) WFLYSRV0010: Deployed &quot;OfflineInspections.ear&quot; (runtime-name : &quot;OfflineInspections.ear&quot;)\n17:08:38,107 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report\nWFLYCTL0184:    New missing/unsatisfied dependencies:\n      service jboss.undertow.filter.contentsecuritypolicy (missing) dependents: [service jboss.undertow.server.default-server.default-host.filter-ref.contentsecuritypolicy] \n\n17:08:38,130 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n17:08:38,132 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://0.0.0.0:9990/management\n17:08:38,132 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://0.0.0.0:9990\n17:08:38,132 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: JBoss EAP 7.1.3.GA (WildFly Core 3.0.16.Final-redhat-1) started (with errors) in 1764ms - Started 517 of 747 services (1 services failed or missing dependencies, 380 services are lazy, passive or on-demand)\n</code></pre>\n<p>EDIT 2</p>\n<p>I tried adding a new controller with just a doGet that outputs a single line to the console. I tried a call from the front end and am getting a 404 there are well. Somehow the application isn't recognizing my controllers.</p>\n<p>Could this be an issue with a mapped library or something?</p>\n"},{"tags":["java","spring","spring-mvc","spring-data","springfox"],"comments":[{"owner":{"account_id":1306942,"reputation":4457,"user_id":1255737,"display_name":"rmlan"},"score":0,"creation_date":1477404083,"post_id":40241843,"comment_id":67746089,"body_markdown":"Not positive this is it, but shouldn&#39;t `= ?1` actually be `= :companyId` in your query?","body":"Not positive this is it, but shouldn&#39;t <code>= ?1</code> actually be <code>= :companyId</code> in your query?"},{"owner":{"account_id":3915675,"reputation":484,"user_id":3239534,"display_name":"Rstar37"},"score":0,"creation_date":1654712240,"post_id":40241843,"comment_id":128159462,"body_markdown":"possibly a duplicate of https://stackoverflow.com/questions/70178343/springfox-3-0-0-is-not-working-with-spring-boot-2-6-0","body":"possibly a duplicate of <a href=\"https://stackoverflow.com/questions/70178343/springfox-3-0-0-is-not-working-with-spring-boot-2-6-0\" title=\"springfox 3 0 0 is not working with spring boot 2 6 0\">stackoverflow.com/questions/70178343/&hellip;</a>"},{"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"ℛɑƒ&#230;Ŀᴿᴹᴿ"},"score":2,"creation_date":1659352937,"post_id":40241843,"comment_id":129266899,"body_markdown":"@EnableWebMvc in main class worked for me: https://stackoverflow.com/a/70703081/5626568","body":"@EnableWebMvc in main class worked for me: <a href=\"https://stackoverflow.com/a/70703081/5626568\">stackoverflow.com/a/70703081/5626568</a>"},{"owner":{"account_id":6460855,"reputation":85,"user_id":5004741,"accept_rate":50,"display_name":"Yashaswi Bhardwaj"},"score":0,"creation_date":1686906646,"post_id":40241843,"comment_id":134865747,"body_markdown":"spring.mvc.pathmatch.matching-strategy=ant_path_matcher worked for me","body":"spring.mvc.pathmatch.matching-strategy=ant_path_matcher worked for me"}],"answers":[{"comments":[{"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"score":0,"creation_date":1477464265,"post_id":40242202,"comment_id":67772361,"body_markdown":"I have tried your answer. But it results with same error.","body":"I have tried your answer. But it results with same error."},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1477466392,"post_id":40242202,"comment_id":67773491,"body_markdown":"I think the issue is related to spring-fox not to spring-data. `documentationPluginsBootstrapper` is a spring-fox component. What version of spring-fox are you using?","body":"I think the issue is related to spring-fox not to spring-data. <code>documentationPluginsBootstrapper</code> is a spring-fox component. What version of spring-fox are you using?"},{"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"score":0,"creation_date":1477467768,"post_id":40242202,"comment_id":67774278,"body_markdown":"I am not using spring-fox in my application.","body":"I am not using spring-fox in my application."},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1477470083,"post_id":40242202,"comment_id":67775539,"body_markdown":"https://github.com/springfox/springfox/blob/master/springfox-spring-web/src/main/java/springfox/documentation/spring/web/plugins/DocumentationPluginsBootstrapper.java","body":"<a href=\"https://github.com/springfox/springfox/blob/master/springfox-spring-web/src/main/java/springfox/documentation/spring/web/plugins/DocumentationPluginsBootstrapper.java\" rel=\"nofollow noreferrer\">github.com/springfox/springfox/blob/master/springfox-spring-&zwnj;&#8203;web/&hellip;</a>"},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1477472499,"post_id":40242202,"comment_id":67777090,"body_markdown":"Please share the list of all dependencies.","body":"Please share the list of all dependencies."},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1477474513,"post_id":40242202,"comment_id":67778414,"body_markdown":"As you can see you have this dependencies : io.springfox:springfox-swagger2:jar:2.6.0:compile\n[INFO] |  +- io.swagger:swagger-annotations:jar:1.5.10:compile\n[INFO] |  +- io.swagger:swagger-models:jar:1.5.10:compile\n[INFO] |  +- io.springfox:springfox-spi:jar:2.6.0:compile\n[INFO] |  |  \\- io.springfox:springfox-core:jar:2.6.0:compile\n[INFO] |  +- io.springfox:springfox-schema:jar:2.6.0:compile\n[INFO] |  +- io.springfox:springfox-swagger-common:jar:2.6.0:compile\n...","body":"As you can see you have this dependencies : io.springfox:springfox-swagger2:jar:2.6.0:compile [INFO] |  +- io.swagger:swagger-annotations:jar:1.5.10:compile [INFO] |  +- io.swagger:swagger-models:jar:1.5.10:compile [INFO] |  +- io.springfox:springfox-spi:jar:2.6.0:compile [INFO] |  |  \\- io.springfox:springfox-core:jar:2.6.0:compile [INFO] |  +- io.springfox:springfox-schema:jar:2.6.0:compile [INFO] |  +- io.springfox:springfox-swagger-common:jar:2.6.0:compile ..."},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1477474893,"post_id":40242202,"comment_id":67778679,"body_markdown":"Are you using swagger to document your api? If not remove these dependencies `io.springfox:springfox-swagger2` `io.springfox:springfox-swagger-ui` `io.springfox:springfox-data-rest`","body":"Are you using swagger to document your api? If not remove these dependencies <code>io.springfox:springfox-swagger2</code> <code>io.springfox:springfox-swagger-ui</code> <code>io.springfox:springfox-data-rest</code>"},{"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"score":0,"creation_date":1477475803,"post_id":40242202,"comment_id":67779223,"body_markdown":"Yes. I am using swagger for API. Then how to proceed ?","body":"Yes. I am using swagger for API. Then how to proceed ?"},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1477484647,"post_id":40242202,"comment_id":67784789,"body_markdown":"Can you share spring configuration?","body":"Can you share spring configuration?"},{"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"score":0,"creation_date":1477487751,"post_id":40242202,"comment_id":67786953,"body_markdown":"What do you mean by spring configuration ?","body":"What do you mean by spring configuration ?"},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1477488758,"post_id":40242202,"comment_id":67787782,"body_markdown":"Configuration class where your added `@EnableWebMvc` and `@EnableSwagger2`","body":"Configuration class where your added <code>@EnableWebMvc</code> and <code>@EnableSwagger2</code>"},{"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"score":0,"creation_date":1477554302,"post_id":40242202,"comment_id":67816639,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/126796/discussion-between-karan-and-issam-el-atif).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/126796/discussion-between-karan-and-issam-el-atif\">continue this discussion in chat</a>."},{"owner":{"account_id":276437,"reputation":1526,"user_id":569864,"accept_rate":95,"display_name":"Abderrazak BOUADMA"},"score":0,"creation_date":1481114937,"post_id":40242202,"comment_id":69242791,"body_markdown":"I run with the same issue and rollback to springfox 2.5.0 solves the issue (at least the application starts and every thing is okey). It looks that there&#39;s a bug intorudcued sine 2.6.0 of springfox","body":"I run with the same issue and rollback to springfox 2.5.0 solves the issue (at least the application starts and every thing is okey). It looks that there&#39;s a bug intorudcued sine 2.6.0 of springfox"}],"tags":[],"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"comment_count":13,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477405023,"creation_date":1477404357,"answer_id":40242202,"question_id":40241843,"body_markdown":"Change your query to \r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;from employee as ft where ft.company.id = :companyId&quot;)\r\n    void deleteAllEmployeeCompany(\r\n            @Param(&quot;companyId&quot;) @RequestParam(&quot;companyId&quot;) int companyId);\r\n\r\nOr with SpEL \r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;from employee as ft where ft.company.id = ?#{companyId}&quot;)\r\n    void deleteAllEmployeeCompany(\r\n            @Param(&quot;companyId&quot;) @RequestParam(&quot;companyId&quot;) int companyId);\r\n\r\nCheck this https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>Change your query to </p>\n\n<pre><code>@Modifying\n@Transactional\n@Query(\"from employee as ft where ft.company.id = :companyId\")\nvoid deleteAllEmployeeCompany(\n        @Param(\"companyId\") @RequestParam(\"companyId\") int companyId);\n</code></pre>\n\n<p>Or with SpEL </p>\n\n<pre><code>@Modifying\n@Transactional\n@Query(\"from employee as ft where ft.company.id = ?#{companyId}\")\nvoid deleteAllEmployeeCompany(\n        @Param(\"companyId\") @RequestParam(\"companyId\") int companyId);\n</code></pre>\n\n<p>Check this <a href=\"https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions\" rel=\"nofollow\">https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions</a></p>\n"},{"comments":[{"owner":{"account_id":5596885,"reputation":945,"user_id":4434367,"display_name":"Mate Šimović"},"score":3,"creation_date":1531220857,"post_id":41017979,"comment_id":89505065,"body_markdown":"For me, the newest working version of springfox-swagger2 is 2.8.0, so try rollbacking to that version. Works in combination with the newest released version of springfox-swagger-ui 2.9.2.","body":"For me, the newest working version of springfox-swagger2 is 2.8.0, so try rollbacking to that version. Works in combination with the newest released version of springfox-swagger-ui 2.9.2."},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":17,"creation_date":1630531717,"post_id":41017979,"comment_id":121984916,"body_markdown":"How a documentation tool can murder an application is totally beyond me. Irresponsible.","body":"How a documentation tool can murder an application is totally beyond me. Irresponsible."},{"owner":{"account_id":19135528,"reputation":53,"user_id":13976582,"display_name":"Yash Nasery"},"score":0,"creation_date":1643014749,"post_id":41017979,"comment_id":125218199,"body_markdown":"Thank you so much @MateŠimović the 2.8.0 thing worked for me with springfox-swagger-ui-2.9.2 and spring-boot-starter-parent 2.6.2!!","body":"Thank you so much @MateŠimović the 2.8.0 thing worked for me with springfox-swagger-ui-2.9.2 and spring-boot-starter-parent 2.6.2!!"}],"tags":[],"owner":{"account_id":276437,"reputation":1526,"user_id":569864,"accept_rate":95,"display_name":"Abderrazak BOUADMA"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1481115096,"creation_date":1481115096,"answer_id":41017979,"question_id":40241843,"body_markdown":"a work around is to rollback to springfox-swagger2 2.5.0 .","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>a work around is to rollback to springfox-swagger2 2.5.0 .</p>\n"},{"tags":[],"owner":{"account_id":256360,"reputation":33466,"user_id":537031,"accept_rate":97,"display_name":"Igor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489081846,"creation_date":1489081846,"answer_id":42702185,"question_id":40241843,"body_markdown":"For me the issue seemed to be attempting to pass in an argument to a controller action (for a controller annotated with `RestController`) that was not getting resolved.\r\n\r\ne.g.\r\n\r\n    @ResponseBody\r\n    @PostMapping(value = &quot;/foo&quot;)\r\n    com.bestbuy.checkout.domain.Order foo(\r\n        Bar justSomeObject\r\n    ) {","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>For me the issue seemed to be attempting to pass in an argument to a controller action (for a controller annotated with <code>RestController</code>) that was not getting resolved.</p>\n\n<p>e.g.</p>\n\n<pre><code>@ResponseBody\n@PostMapping(value = \"/foo\")\ncom.bestbuy.checkout.domain.Order foo(\n    Bar justSomeObject\n) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6884068,"reputation":156,"user_id":5289811,"display_name":"gvk"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1569577506,"creation_date":1569577506,"answer_id":58132001,"question_id":40241843,"body_markdown":"I have got the same issue in spring boot version 1.5.3.RELEASE, but could resolve it by adding guava version 20.0.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I have got the same issue in spring boot version 1.5.3.RELEASE, but could resolve it by adding guava version 20.0.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4479391,"reputation":499,"user_id":3643595,"display_name":"Ankush"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617702209,"creation_date":1617702209,"answer_id":66966253,"question_id":40241843,"body_markdown":"As per : https://github.com/springfox/springfox/issues/2616 solution, I tried adding exclusion to recently added Lettuce library and it is working fine now. Only springfox guava dependency should be coming. As per this question something like below will work:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.netflix.hystrix&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hystrix-javanica&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.16&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>As per : <a href=\"https://github.com/springfox/springfox/issues/2616\" rel=\"nofollow noreferrer\">https://github.com/springfox/springfox/issues/2616</a> solution, I tried adding exclusion to recently added Lettuce library and it is working fine now. Only springfox guava dependency should be coming. As per this question something like below will work:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.netflix.hystrix&lt;/groupId&gt;\n    &lt;artifactId&gt;hystrix-javanica&lt;/artifactId&gt;\n    &lt;version&gt;1.3.16&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11959000,"reputation":21,"user_id":8750497,"display_name":"Efqan Mustafayev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618559440,"creation_date":1618559440,"answer_id":67121180,"question_id":40241843,"body_markdown":"I also had an issue like that in gradle. I solved it by removing all guava dependencies from springfox subdependecies:\r\n\r\n    implementation(&#39;io.springfox:springfox-spi:2.9.2&#39;) {\r\n        exclude group: &#39;com.google.guava&#39;, module: &#39;guava&#39;\r\n    }\r\n\r\n    implementation(&#39;io.springfox:springfox-schema:2.9.2&#39;) {\r\n        exclude group: &#39;com.google.guava&#39;, module: &#39;guava&#39;\r\n    }\r\n\r\n    implementation(&#39;io.springfox:springfox-spring-web:2.9.2&#39;) {\r\n        exclude group: &#39;com.google.guava&#39;, module: &#39;guava&#39;\r\n    }\r\n\r\nand implemented guava separately:\r\n\r\n    implementation(&#39;com.google.guava:guava:28.1-jre&#39;)\r\n\r\nMy spring-boot version:\r\n\r\n&gt; 2.5.0-SNAPSHOT","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I also had an issue like that in gradle. I solved it by removing all guava dependencies from springfox subdependecies:</p>\n<pre><code>implementation('io.springfox:springfox-spi:2.9.2') {\n    exclude group: 'com.google.guava', module: 'guava'\n}\n\nimplementation('io.springfox:springfox-schema:2.9.2') {\n    exclude group: 'com.google.guava', module: 'guava'\n}\n\nimplementation('io.springfox:springfox-spring-web:2.9.2') {\n    exclude group: 'com.google.guava', module: 'guava'\n}\n</code></pre>\n<p>and implemented guava separately:</p>\n<pre><code>implementation('com.google.guava:guava:28.1-jre')\n</code></pre>\n<p>My spring-boot version:</p>\n<blockquote>\n<p>2.5.0-SNAPSHOT</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":7441676,"reputation":860,"user_id":5659278,"display_name":"Kushwaha"},"score":1,"creation_date":1638359675,"post_id":70134860,"comment_id":124065832,"body_markdown":"it solved my problem :) thank you","body":"it solved my problem :) thank you"},{"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"score":1,"creation_date":1638765898,"post_id":70134860,"comment_id":124166876,"body_markdown":"It solved my problem. Thanks!","body":"It solved my problem. Thanks!"},{"owner":{"account_id":5044742,"reputation":371,"user_id":4051116,"display_name":"ChamaraL"},"score":2,"creation_date":1641537377,"post_id":70134860,"comment_id":124834309,"body_markdown":"Yeah, that&#39;s the thing. This happened to me with open-api-generator integration which uses springfox for their implementations. I even I tried with spring boot version 2.6.2 updating springfox-swagger2 and springfox-swagger-ui to the latest versions 3.0.x. No luck. Had to roll back to Spring boot 2.5.4 and 2.9.2 version of springfox. Hope in the future they fix this","body":"Yeah, that&#39;s the thing. This happened to me with open-api-generator integration which uses springfox for their implementations. I even I tried with spring boot version 2.6.2 updating springfox-swagger2 and springfox-swagger-ui to the latest versions 3.0.x. No luck. Had to roll back to Spring boot 2.5.4 and 2.9.2 version of springfox. Hope in the future they fix this"},{"owner":{"account_id":1525586,"reputation":151,"user_id":1424124,"display_name":"Mark"},"score":2,"creation_date":1641557413,"post_id":70134860,"comment_id":124840576,"body_markdown":"spring boot 2.6.2 includes the recommended log4j 2.17 so this really needs to be fixed","body":"spring boot 2.6.2 includes the recommended log4j 2.17 so this really needs to be fixed"},{"owner":{"account_id":4347060,"reputation":191,"user_id":3548741,"display_name":"cem &#231;etin"},"score":1,"creation_date":1644687387,"post_id":70134860,"comment_id":125674794,"body_markdown":"it solved my problem, thanks. Changed the version as follows :     \n\t&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;","body":"it solved my problem, thanks. Changed the version as follows :      \t&lt;parent&gt;         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;         &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;         &lt;version&gt;2.5.6&lt;/version&gt;         &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;     &lt;/parent&gt;"},{"owner":{"account_id":145152,"reputation":3852,"user_id":354756,"accept_rate":92,"display_name":"daniloquio"},"score":0,"creation_date":1649183602,"post_id":70134860,"comment_id":126810110,"body_markdown":"With the new vulnerability Spring4Shell this solution is no longer a valid option.","body":"With the new vulnerability Spring4Shell this solution is no longer a valid option."}],"tags":[],"owner":{"account_id":15345556,"reputation":1373,"user_id":13541620,"display_name":"Affes Salem"},"comment_count":6,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1638016689,"creation_date":1638016689,"answer_id":70134860,"question_id":40241843,"body_markdown":"I got same issue using **springfox-swagger2** and **springfox-swagger-ui** \r\nSwitching back spring boot version from **2.6.0** to **2.5.2** Solved my issue.\r\n\r\n&gt;I know rolling back to older versions is not the best way to fix issues but helped me for now.","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I got same issue using <strong>springfox-swagger2</strong> and <strong>springfox-swagger-ui</strong>\nSwitching back spring boot version from <strong>2.6.0</strong> to <strong>2.5.2</strong> Solved my issue.</p>\n<blockquote>\n<p>I know rolling back to older versions is not the best way to fix issues but helped me for now.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638765978,"creation_date":1638765978,"answer_id":70240986,"question_id":40241843,"body_markdown":"Reducing the version of my project helped me. \r\nInitially, I was using spring 2.6.0 but I moved to 2.5.2 and it solves the issue.","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>Reducing the version of my project helped me.\nInitially, I was using spring 2.6.0 but I moved to 2.5.2 and it solves the issue.</p>\n"},{"comments":[{"owner":{"account_id":10925100,"reputation":976,"user_id":8030048,"display_name":"M. Amer"},"score":3,"creation_date":1639936803,"post_id":70254543,"comment_id":124470086,"body_markdown":"Just to add this will not work if spring boot actuator dependency is there.\nI had to remove the actuator dependency (losing the actuator endpoints of course).\nand after adding this property with swagger version(s) up to 3.0.0 this worked","body":"Just to add this will not work if spring boot actuator dependency is there. I had to remove the actuator dependency (losing the actuator endpoints of course). and after adding this property with swagger version(s) up to 3.0.0 this worked"}],"tags":[],"owner":{"account_id":21547969,"reputation":61,"user_id":15884525,"display_name":"Liang Zong"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1638847044,"creation_date":1638847044,"answer_id":70254543,"question_id":40241843,"body_markdown":"i got similar issue and it was solved after follow https://stackoverflow.com/questions/70036953/springboot-2-6-0-spring-fox-3-failed-to-start-bean-documentationpluginsboot/70037507#70037507 \r\n\r\ni was using spring 2.6.1 and springfox-swagger2 2.9.2.\r\n&quot;setting spring.mvc.pathmatch.matching-strategy to ant-path-matcher in your application.properties file&quot;\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>i got similar issue and it was solved after follow <a href=\"https://stackoverflow.com/questions/70036953/springboot-2-6-0-spring-fox-3-failed-to-start-bean-documentationpluginsboot/70037507#70037507\">Springboot 2.6.0 / Spring fox 3 - Failed to start bean &#39;documentationPluginsBootstrapper&#39;</a></p>\n<p>i was using spring 2.6.1 and springfox-swagger2 2.9.2.\n&quot;setting spring.mvc.pathmatch.matching-strategy to ant-path-matcher in your application.properties file&quot;</p>\n"},{"tags":[],"owner":{"account_id":9478939,"reputation":385,"user_id":7047517,"display_name":"Kailas010"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1640616769,"creation_date":1640616333,"answer_id":70496954,"question_id":40241843,"body_markdown":"With Spring-Boot 2.6.0 and SpringFox 3.0.0 issue is pathmatcher, you can set pathmach with below property and this issue will be resolved \r\n\r\n      spring:\r\n            mvc:\r\n              pathmatch:\r\n                    matching-strategy: ant_path_matcher","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>With Spring-Boot 2.6.0 and SpringFox 3.0.0 issue is pathmatcher, you can set pathmach with below property and this issue will be resolved</p>\n<pre><code>  spring:\n        mvc:\n          pathmatch:\n                matching-strategy: ant_path_matcher\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1640643396,"post_id":70499498,"comment_id":124624430,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70499498/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23760158,"reputation":21,"user_id":17775688,"display_name":"SURYA NARAYAN BISOYI"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640632279,"creation_date":1640632279,"answer_id":70499498,"question_id":40241843,"body_markdown":"With Spring-Boot 2.6.2 issue is pathmatcher, you can set pathmach with below property in application.properties file and this issue will be resolved\r\n\r\n&quot;spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER&quot;\r\n\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>With Spring-Boot 2.6.2 issue is pathmatcher, you can set pathmach with below property in application.properties file and this issue will be resolved</p>\n<p>&quot;spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER&quot;</p>\n"},{"comments":[{"owner":{"account_id":6208837,"reputation":1161,"user_id":4835773,"accept_rate":60,"display_name":"Zafar"},"score":6,"creation_date":1642020121,"post_id":70503395,"comment_id":124964553,"body_markdown":"Is there a documentation for this?","body":"Is there a documentation for this?"},{"owner":{"account_id":18861894,"reputation":69,"user_id":13758558,"display_name":"user13758558"},"score":21,"creation_date":1642373976,"post_id":70503395,"comment_id":125047690,"body_markdown":"what does this do?","body":"what does this do?"},{"owner":{"account_id":10192889,"reputation":149,"user_id":7525684,"display_name":"CoderCal"},"score":10,"creation_date":1643314375,"post_id":70503395,"comment_id":125313760,"body_markdown":"Didn&#39;t work for me on springfox-swagger-ui version(3.0.0) and spring-boot version(2.6.2) for some reason. Went down to spring-boot version(2.5.8) and resolved the issue without `spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER` in my application.properties","body":"Didn&#39;t work for me on springfox-swagger-ui version(3.0.0) and spring-boot version(2.6.2) for some reason. Went down to spring-boot version(2.5.8) and resolved the issue without <code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER</code> in my application.properties"},{"owner":{"account_id":2004750,"reputation":8566,"user_id":1795426,"display_name":"user11153"},"score":13,"creation_date":1643732348,"post_id":70503395,"comment_id":125415252,"body_markdown":"@CoderCal This solution worked for me: https://github.com/springfox/springfox/issues/3462#issuecomment-1010721223","body":"@CoderCal This solution worked for me: <a href=\"https://github.com/springfox/springfox/issues/3462#issuecomment-1010721223\" rel=\"nofollow noreferrer\">github.com/springfox/springfox/issues/&hellip;</a>"},{"owner":{"account_id":1392973,"reputation":3417,"user_id":1323329,"display_name":"bratan"},"score":1,"creation_date":1644915384,"post_id":70503395,"comment_id":125725027,"body_markdown":"Worked for me using spring boot 2.6.3","body":"Worked for me using spring boot 2.6.3"},{"owner":{"account_id":428717,"reputation":434,"user_id":811219,"accept_rate":40,"display_name":"Nikki"},"score":3,"creation_date":1645000157,"post_id":70503395,"comment_id":125751271,"body_markdown":"This wont work if you are using spring actuator","body":"This wont work if you are using spring actuator"},{"owner":{"account_id":2126645,"reputation":187,"user_id":2058176,"accept_rate":80,"display_name":"muddy"},"score":0,"creation_date":1646780231,"post_id":70503395,"comment_id":126207888,"body_markdown":"This worked for me as well on upgrading to spring boot 2.6","body":"This worked for me as well on upgrading to spring boot 2.6"},{"owner":{"account_id":10176853,"reputation":367,"user_id":7515186,"display_name":"Syed Zeeshan Ali"},"score":0,"creation_date":1649120035,"post_id":70503395,"comment_id":126790414,"body_markdown":"I tried multiple solutions,\nbut finally solved by the above solution\nmy spring version is 2.6.4 and I am also using a spring actuator\nspringfox-swagger2 - 3.0.0\nspringfox-boot-starter - 3.0.0\nspringfox-swagger-ui - 3.0.0","body":"I tried multiple solutions, but finally solved by the above solution my spring version is 2.6.4 and I am also using a spring actuator springfox-swagger2 - 3.0.0 springfox-boot-starter - 3.0.0 springfox-swagger-ui - 3.0.0"},{"owner":{"account_id":10024757,"reputation":123,"user_id":7413222,"display_name":"Daidipya"},"score":0,"creation_date":1651566563,"post_id":70503395,"comment_id":127388078,"body_markdown":"This solution worked for me with spring version 2.6.7  , all springfox dependencies 3.0.0","body":"This solution worked for me with spring version 2.6.7  , all springfox dependencies 3.0.0"},{"owner":{"account_id":2471685,"reputation":521,"user_id":2153380,"accept_rate":67,"display_name":"CᴴᴀZ"},"score":0,"creation_date":1655813317,"post_id":70503395,"comment_id":128415711,"body_markdown":"Worked with springfox-boot-starter:3.0.0 and spring-boot-starter:2.7.0","body":"Worked with springfox-boot-starter:3.0.0 and spring-boot-starter:2.7.0"},{"owner":{"account_id":953085,"reputation":1269,"user_id":978865,"accept_rate":11,"display_name":"S.P Singh"},"score":0,"creation_date":1672392718,"post_id":70503395,"comment_id":132280898,"body_markdown":"It worked for me on swagger version: &#39;2.6.0&#39;","body":"It worked for me on swagger version: &#39;2.6.0&#39;"},{"owner":{"account_id":1049017,"reputation":623,"user_id":1053362,"accept_rate":100,"display_name":"Antoine Dahan"},"score":0,"creation_date":1674579805,"post_id":70503395,"comment_id":132742358,"body_markdown":"Solved issue for me (`springfox-swagger2` version `3.0.0` &amp; `spring-boot` version `2.7.4`).","body":"Solved issue for me (<code>springfox-swagger2</code> version <code>3.0.0</code> &amp; <code>spring-boot</code> version <code>2.7.4</code>)."},{"owner":{"account_id":9301145,"reputation":573,"user_id":6934036,"accept_rate":60,"display_name":"Mohammad Salehi"},"score":0,"creation_date":1688976871,"post_id":70503395,"comment_id":135142129,"body_markdown":"Only changing application.properties worked for me.","body":"Only changing application.properties worked for me."}],"tags":[],"owner":{"account_id":23763533,"reputation":2291,"user_id":17778576,"display_name":"Santh"},"comment_count":13,"down_vote_count":0,"up_vote_count":223,"is_accepted":false,"score":223,"last_activity_date":1640672080,"creation_date":1640672080,"answer_id":70503395,"question_id":40241843,"body_markdown":"I got same issue using springfox-swagger2 and springfox-swagger-ui version(3.0.0), spring-boot version(2.6.2)\r\n\r\nThe way to resolve this issue is by adding pathmatcher in application. properties or application.yml\r\n\r\nfor application.properties:\r\n---------------------------\r\nspring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n\r\nfor application.yml:\r\n--------------------\r\n\r\n    spring:\r\n        mvc:\r\n          pathmatch:\r\n                matching-strategy: ant_path_matcher\r\n\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I got same issue using springfox-swagger2 and springfox-swagger-ui version(3.0.0), spring-boot version(2.6.2)</p>\n<p>The way to resolve this issue is by adding pathmatcher in application. properties or application.yml</p>\n<h2>for application.properties:</h2>\n<p>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER</p>\n<h2>for application.yml:</h2>\n<pre><code>spring:\n    mvc:\n      pathmatch:\n            matching-strategy: ant_path_matcher\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10843746,"reputation":6105,"user_id":7974082,"display_name":"Michał Stochmal"},"score":1,"creation_date":1642757701,"post_id":70609881,"comment_id":125162014,"body_markdown":"This will fix the app starting issue but springfox will stop working ;). I think the only thing to do is to wait for a patch to springfox.","body":"This will fix the app starting issue but springfox will stop working ;). I think the only thing to do is to wait for a patch to springfox."}],"tags":[],"owner":{"account_id":8523114,"reputation":546,"user_id":6389283,"accept_rate":69,"display_name":"Jestino Sam"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1641496367,"creation_date":1641484645,"answer_id":70609881,"question_id":40241843,"body_markdown":"As per official [doc][1], adding below property in yaml resolved the issue for me.\r\n\r\n    springfox:\r\n      documentation:\r\n        auto-startup: false\r\n\r\n  [1]: https://springfox.github.io/springfox/docs/snapshot/#configuring-startup","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>As per official <a href=\"https://springfox.github.io/springfox/docs/snapshot/#configuring-startup\" rel=\"noreferrer\">doc</a>, adding below property in yaml resolved the issue for me.</p>\n<pre><code>springfox:\n  documentation:\n    auto-startup: false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17099853,"reputation":51,"user_id":12374039,"display_name":"vamshi vishnu"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641501087,"creation_date":1641501087,"answer_id":70613291,"question_id":40241843,"body_markdown":" removing old swagger dependencies and config classes.\r\n using new springdoc dependency will help \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>removing old swagger dependencies and config classes.\nusing new springdoc dependency will help</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8860450,"reputation":199,"user_id":6616810,"display_name":"Himanshu Gupta"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642085906,"creation_date":1642085906,"answer_id":70698669,"question_id":40241843,"body_markdown":"Downgrading the Springboot version from 2.6.0 to 2.5.4 solves the issue, provided the below swagger version\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>Downgrading the Springboot version from 2.6.0 to 2.5.4 solves the issue, provided the below swagger version</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4095273,"reputation":1557,"user_id":3362244,"accept_rate":60,"display_name":"teuber789"},"score":6,"creation_date":1647654004,"post_id":70799519,"comment_id":126432241,"body_markdown":"Suggestion 3 should be the accepted answer IMO. Depending on a project that hasn&#39;t had attention in almost two years is not a wise move. As of now, no commits have been made on SpringFox since Oct 2020.","body":"Suggestion 3 should be the accepted answer IMO. Depending on a project that hasn&#39;t had attention in almost two years is not a wise move. As of now, no commits have been made on SpringFox since Oct 2020."},{"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"score":2,"creation_date":1649309127,"post_id":70799519,"comment_id":126843923,"body_markdown":"#3 is the best solution and I can confirm that the migration is indeed straight forward","body":"#3 is the best solution and I can confirm that the migration is indeed straight forward"},{"owner":{"account_id":1573267,"reputation":7512,"user_id":1460461,"accept_rate":38,"display_name":"Benvorth"},"score":1,"creation_date":1654238586,"post_id":70799519,"comment_id":128047853,"body_markdown":"Be careful with downgrading sping-boot since it may contain the old log4j versions with a serious exploid to JNDI-calls...","body":"Be careful with downgrading sping-boot since it may contain the old log4j versions with a serious exploid to JNDI-calls..."},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":2,"creation_date":1654370035,"post_id":70799519,"comment_id":128076498,"body_markdown":"Whenever I read &quot;downgrade&quot;, it makes my stomach turn.","body":"Whenever I read &quot;downgrade&quot;, it makes my stomach turn."}],"tags":[],"owner":{"account_id":10843746,"reputation":6105,"user_id":7974082,"display_name":"Michał Stochmal"},"comment_count":4,"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1654470264,"creation_date":1642759387,"answer_id":70799519,"question_id":40241843,"body_markdown":"This issue is caused by `Spring Fox 3.0.0` not supporting new [PathPattern Based Path Matching Strategy for Spring MVC][1] which is now the new default from `spring-boot 2.6.0`.\r\n\r\nThere are actually some workarounds for this issue like:\r\n1. Downgrading `spring-boot` back to version lower than 2.6.0. **I wouldn&#39;t recommend that due to major security issues with older versions of spring boot / spring framework (like log4shell or CVE-2022-22965 for example.)**\r\n2. Changing PathPattern matching back to AntPatternMatching in yml, like mentioned by [@santhanam][2].\r\n3. `SpringFox` hasn&#39;t been updated for a year or so, so I would prefer remove it completely from a project and replace it with maintained [springdoc-openapi][3] library. There is a section in `springdoc` documentation about migration from `SpringFox` and it&#39;s actually very straightforward to perform. And you&#39;ll get rid of issues caused by SpringFox completely.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#pathpattern-based-path-matching-strategy-for-spring-mvc\r\n  [2]: https://stackoverflow.com/a/70503395/7974082\r\n  [3]: https://springdoc.org/#migrating-from-springfox","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>This issue is caused by <code>Spring Fox 3.0.0</code> not supporting new <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#pathpattern-based-path-matching-strategy-for-spring-mvc\" rel=\"noreferrer\">PathPattern Based Path Matching Strategy for Spring MVC</a> which is now the new default from <code>spring-boot 2.6.0</code>.</p>\n<p>There are actually some workarounds for this issue like:</p>\n<ol>\n<li>Downgrading <code>spring-boot</code> back to version lower than 2.6.0. <strong>I wouldn't recommend that due to major security issues with older versions of spring boot / spring framework (like log4shell or CVE-2022-22965 for example.)</strong></li>\n<li>Changing PathPattern matching back to AntPatternMatching in yml, like mentioned by <a href=\"https://stackoverflow.com/a/70503395/7974082\">@santhanam</a>.</li>\n<li><code>SpringFox</code> hasn't been updated for a year or so, so I would prefer remove it completely from a project and replace it with maintained <a href=\"https://springdoc.org/#migrating-from-springfox\" rel=\"noreferrer\">springdoc-openapi</a> library. There is a section in <code>springdoc</code> documentation about migration from <code>SpringFox</code> and it's actually very straightforward to perform. And you'll get rid of issues caused by SpringFox completely.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15837305,"reputation":107,"user_id":11443732,"display_name":"Jester Shoeman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643379632,"creation_date":1643379632,"answer_id":70895244,"question_id":40241843,"body_markdown":"I added @EnableWebMvc as decorator to my SwaggerConfig, which solved to problem.\r\n\r\n    @EnableWebMvc\r\n    public class SwaggerConfig {}\r\n\r\nVersions: Sprint 2.6.1 and springfox-swagger* 2.9.2","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I added @EnableWebMvc as decorator to my SwaggerConfig, which solved to problem.</p>\n<pre><code>@EnableWebMvc\npublic class SwaggerConfig {}\n</code></pre>\n<p>Versions: Sprint 2.6.1 and springfox-swagger* 2.9.2</p>\n"},{"comments":[{"owner":{"account_id":13749502,"reputation":575,"user_id":9922061,"display_name":"Kimanthi K."},"score":1,"creation_date":1656197136,"post_id":70951174,"comment_id":128513621,"body_markdown":"This answer is from a legend.","body":"This answer is from a legend."}],"tags":[],"owner":{"account_id":24129195,"reputation":291,"user_id":18097023,"display_name":"mohammad mohammadian"},"comment_count":1,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1643782785,"creation_date":1643782263,"answer_id":70951174,"question_id":40241843,"body_markdown":"what I found was that spring is using mvcmatchers by default which conflicts with swagger because it uses the antmatchers so we can solve this by \r\n# A \r\nchange spring to use antmatchers with configuring it \r\nin application.properties\r\n```\r\nspring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n```\r\n# B\r\n enabling mvcmatchers in spring creating a config file for swagger to use\r\n1. create a file for configs of swagger in anywhere you want\r\n2. put these annotations \r\n```\r\n@EnableWebMvc\r\n@EnableSwagger2\r\n@Component\r\npublic class SwaggersConfigs {\r\n}\r\n```\r\n# C\r\nenableing mvcmatchers in all spring application with putting\r\n@EnableWebMvc\r\nannotation above the main class of spring boot aplication\r\nlike this\r\n```\r\n\r\n@EnableWebMvc\r\n@EnableSwagger2\r\n@SpringBootApplication\r\npublic class SwaggerDemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SwaggerDemoApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n# D\r\nuse older versions metioned in the other comments","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>what I found was that spring is using mvcmatchers by default which conflicts with swagger because it uses the antmatchers so we can solve this by</p>\n<h1>A</h1>\n<p>change spring to use antmatchers with configuring it\nin application.properties</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\n</code></pre>\n<h1>B</h1>\n<p>enabling mvcmatchers in spring creating a config file for swagger to use</p>\n<ol>\n<li>create a file for configs of swagger in anywhere you want</li>\n<li>put these annotations</li>\n</ol>\n<pre><code>@EnableWebMvc\n@EnableSwagger2\n@Component\npublic class SwaggersConfigs {\n}\n</code></pre>\n<h1>C</h1>\n<p>enableing mvcmatchers in all spring application with putting\n@EnableWebMvc\nannotation above the main class of spring boot aplication\nlike this</p>\n<pre><code>\n@EnableWebMvc\n@EnableSwagger2\n@SpringBootApplication\npublic class SwaggerDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SwaggerDemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<h1>D</h1>\n<p>use older versions metioned in the other comments</p>\n"},{"comments":[{"owner":{"account_id":5557760,"reputation":323,"user_id":4527149,"display_name":"CdVr"},"score":0,"creation_date":1656511035,"post_id":71344965,"comment_id":128591035,"body_markdown":"That&#39;s cool thing","body":"That&#39;s cool thing"},{"owner":{"account_id":412897,"reputation":909,"user_id":786229,"accept_rate":100,"display_name":"MuffinMan"},"score":0,"creation_date":1697679601,"post_id":71344965,"comment_id":136311306,"body_markdown":"This is a good solution if you can&#39;t move to Spring Boot 3 because you can&#39;t upgrade to Java 17.","body":"This is a good solution if you can&#39;t move to Spring Boot 3 because you can&#39;t upgrade to Java 17."}],"tags":[],"owner":{"account_id":24445518,"reputation":175,"user_id":18368535,"display_name":"Konlan Mikpekoah"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1648809465,"creation_date":1646350083,"answer_id":71344965,"question_id":40241843,"body_markdown":"this works \r\nSpringboot version  2.6.0 and higher  does not support swagger 2 \r\nRemove springfox and swagger 2 dependencies. Add springdoc-openapi-ui dependency instead.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nadd this to your application.properties file\r\n\r\nspring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n\r\nafter that navigate to \r\nhttp://localhost:8080/swagger-ui/index.html\r\n\r\nThis worked for me ","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>this works\nSpringboot version  2.6.0 and higher  does not support swagger 2\nRemove springfox and swagger 2 dependencies. Add springdoc-openapi-ui dependency instead.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>add this to your application.properties file</p>\n<p>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER</p>\n<p>after that navigate to\nhttp://localhost:8080/swagger-ui/index.html</p>\n<p>This worked for me</p>\n"},{"tags":[],"owner":{"account_id":21355783,"reputation":13,"user_id":15724742,"display_name":"MikeMopo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648073517,"creation_date":1648073517,"answer_id":71594681,"question_id":40241843,"body_markdown":"The general reason is that due to the springboot versioning, the default strategy for matching the request path and spring MVC processing mapping has been changed from antpathmatcher to pathpatternparser. This can be resolved by editing the properties.yml and adding\r\n\r\nspring:\r\n  mvc:\r\n    pathmatch:\r\n      matching-strategy: ant_path_matcher","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>The general reason is that due to the springboot versioning, the default strategy for matching the request path and spring MVC processing mapping has been changed from antpathmatcher to pathpatternparser. This can be resolved by editing the properties.yml and adding</p>\n<p>spring:\nmvc:\npathmatch:\nmatching-strategy: ant_path_matcher</p>\n"},{"tags":[],"owner":{"account_id":1324115,"reputation":844,"user_id":1269333,"accept_rate":50,"display_name":"Vlad"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1649083875,"creation_date":1649083875,"answer_id":71739339,"question_id":40241843,"body_markdown":"In addition to setting the `matching-strategy` property, as mentioned by other answers, I also had to add the below bean to overcome this:\r\n\r\n    @Bean\r\n    public WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier, ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier, EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties, WebEndpointProperties webEndpointProperties, Environment environment) {\r\n    \tList&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList();\r\n    \tCollection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\r\n    \tallEndpoints.addAll(webEndpoints);\r\n    \tallEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\r\n    \tallEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\r\n    \tString basePath = webEndpointProperties.getBasePath();\r\n    \tEndpointMapping endpointMapping = new EndpointMapping(basePath);\r\n    \tboolean shouldRegisterLinksMapping = this.shouldRegisterLinksMapping(webEndpointProperties, environment, basePath);\r\n    \treturn new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes, corsProperties.toCorsConfiguration(), new EndpointLinksResolver(allEndpoints, basePath), shouldRegisterLinksMapping, null);\r\n    }\r\n    \r\n    \r\n    private boolean shouldRegisterLinksMapping(WebEndpointProperties webEndpointProperties, Environment environment, String basePath) {\r\n        return webEndpointProperties.getDiscovery().isEnabled() &amp;&amp; (StringUtils.hasText(basePath) || ManagementPortType.get(environment).equals(ManagementPortType.DIFFERENT));\r\n    }\r\n\r\nSolution found [here][1].\r\n \r\n\r\n\r\n  [1]: https://github.com/springfox/springfox/issues/3462#issuecomment-1010721223","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>In addition to setting the <code>matching-strategy</code> property, as mentioned by other answers, I also had to add the below bean to overcome this:</p>\n<pre><code>@Bean\npublic WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier, ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier, EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties, WebEndpointProperties webEndpointProperties, Environment environment) {\n    List&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList();\n    Collection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\n    allEndpoints.addAll(webEndpoints);\n    allEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\n    allEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\n    String basePath = webEndpointProperties.getBasePath();\n    EndpointMapping endpointMapping = new EndpointMapping(basePath);\n    boolean shouldRegisterLinksMapping = this.shouldRegisterLinksMapping(webEndpointProperties, environment, basePath);\n    return new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes, corsProperties.toCorsConfiguration(), new EndpointLinksResolver(allEndpoints, basePath), shouldRegisterLinksMapping, null);\n}\n\n\nprivate boolean shouldRegisterLinksMapping(WebEndpointProperties webEndpointProperties, Environment environment, String basePath) {\n    return webEndpointProperties.getDiscovery().isEnabled() &amp;&amp; (StringUtils.hasText(basePath) || ManagementPortType.get(environment).equals(ManagementPortType.DIFFERENT));\n}\n</code></pre>\n<p>Solution found <a href=\"https://github.com/springfox/springfox/issues/3462#issuecomment-1010721223\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":7326184,"reputation":420,"user_id":5580515,"display_name":"Mahendra Sri Dayarathna"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1649424070,"creation_date":1649424070,"answer_id":71797783,"question_id":40241843,"body_markdown":"The reason for the error is swagger and spring-boot The version does not match\r\n\r\nRemove All other dependencies and include only below one for swagger\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n       &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n       &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAdd below Configurations :\r\n\r\nFor application.properties\r\n\r\n    spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n\r\nFor application.yml\r\n\r\n    spring:\r\n        mvc:\r\n          pathmatch:\r\n                matching-strategy: ant_path_matcher\r\n\r\n\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>The reason for the error is swagger and spring-boot The version does not match</p>\n<p>Remove All other dependencies and include only below one for swagger</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n   &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n   &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Add below Configurations :</p>\n<p>For application.properties</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\n</code></pre>\n<p>For application.yml</p>\n<pre><code>spring:\n    mvc:\n      pathmatch:\n            matching-strategy: ant_path_matcher\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7499984,"reputation":301,"user_id":5698765,"display_name":"Ahmad Jahanbin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649574515,"creation_date":1649574515,"answer_id":71814476,"question_id":40241843,"body_markdown":"I have a mircoservice environment, and I was adding swagger to all of them. I had the same issue, the solution [@Santhanam][1] worked for all the services except one. The service had `spring-boot-starter-actuator` as a dependency. Problem fixed by removing it.\r\n\r\nIt seems the config `spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER` **does not affect Spring Actuator auto-generated paths**.\r\n\r\nFor those who tried other answers and still have the problem, the solution is to remove Spring Actuator or to configure it in a way to use `ANT_PATH_MATCHER` as matching strategy.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70503395/5698765","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I have a mircoservice environment, and I was adding swagger to all of them. I had the same issue, the solution <a href=\"https://stackoverflow.com/a/70503395/5698765\">@Santhanam</a> worked for all the services except one. The service had <code>spring-boot-starter-actuator</code> as a dependency. Problem fixed by removing it.</p>\n<p>It seems the config <code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER</code> <strong>does not affect Spring Actuator auto-generated paths</strong>.</p>\n<p>For those who tried other answers and still have the problem, the solution is to remove Spring Actuator or to configure it in a way to use <code>ANT_PATH_MATCHER</code> as matching strategy.</p>\n"},{"comments":[{"owner":{"account_id":9151411,"reputation":517,"user_id":6805866,"display_name":"NikolaS"},"score":1,"creation_date":1676031835,"post_id":72003352,"comment_id":133060297,"body_markdown":"This did trick for SpringBoot version 2.7.8. Tnx! :)","body":"This did trick for SpringBoot version 2.7.8. Tnx! :)"}],"tags":[],"owner":{"account_id":25090567,"reputation":101,"user_id":18942247,"display_name":"Vijay Rajendran"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1650907105,"creation_date":1650907105,"answer_id":72003352,"question_id":40241843,"body_markdown":"This solution fixed the issue along with the below property\r\n\r\n**spring.mvc.pathmatch.matching-strategy=ant_path_matcher**\r\n\r\nI&#39;m using spring boot **2.6.6**","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>This solution fixed the issue along with the below property</p>\n<p><strong>spring.mvc.pathmatch.matching-strategy=ant_path_matcher</strong></p>\n<p>I'm using spring boot <strong>2.6.6</strong></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1652121638,"post_id":72169393,"comment_id":127524868,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/72169393/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":13679377,"reputation":1,"user_id":9870100,"display_name":"NGUENKO Chimi Steve"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668493254,"creation_date":1652086847,"answer_id":72169393,"question_id":40241843,"body_markdown":"I solved the issue easily. What we need to know is that Spinifex is no more up to date For more info click on this [link](https://springdoc.org/migrating-from-springfox.html). Nowadays, you can use spring-doc,  by remplacing spring-fox dependencies with this dependency :  \r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;1.6.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    then add also this beans :\r\n    @Bean\r\n        public GroupedOpenApi publicApi() {\r\n            return GroupedOpenApi.builder()\r\n                    .group(&quot;springshop-public&quot;)\r\n                    .pathsToMatch(&quot;/public/**&quot;)\r\n                    .build();\r\n        }\r\n        @Bean\r\n        public GroupedOpenApi adminApi() {\r\n            return GroupedOpenApi.builder()\r\n                    .group(&quot;springshop-admin&quot;)\r\n                    .pathsToMatch(&quot;/**&quot;)\r\n                    .build();\r\n        }\r\n\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I solved the issue easily. What we need to know is that Spinifex is no more up to date For more info click on this <a href=\"https://springdoc.org/migrating-from-springfox.html\" rel=\"nofollow noreferrer\">link</a>. Nowadays, you can use spring-doc,  by remplacing spring-fox dependencies with this dependency :</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n      &lt;version&gt;1.6.8&lt;/version&gt;\n&lt;/dependency&gt;\n\nthen add also this beans :\n@Bean\n    public GroupedOpenApi publicApi() {\n        return GroupedOpenApi.builder()\n                .group(&quot;springshop-public&quot;)\n                .pathsToMatch(&quot;/public/**&quot;)\n                .build();\n    }\n    @Bean\n    public GroupedOpenApi adminApi() {\n        return GroupedOpenApi.builder()\n                .group(&quot;springshop-admin&quot;)\n                .pathsToMatch(&quot;/**&quot;)\n                .build();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"score":0,"creation_date":1672953044,"post_id":73761649,"comment_id":132395396,"body_markdown":"It solved my problem, I often copy my own answer to configure swagger. Very helpful","body":"It solved my problem, I often copy my own answer to configure swagger. Very helpful"}],"tags":[],"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1685453185,"creation_date":1663494212,"answer_id":73761649,"question_id":40241843,"body_markdown":"Just add this configuration to your application.properties\r\n\r\n    spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n\r\nor if you using yaml file application.yml\r\n\r\n    spring:\r\n    mvc:\r\n      pathmatch:\r\n            matching-strategy: ant_path_matcher\r\n\r\nthen Run your application.\r\n\r\nYou need to edit one part, the base package name. As shown in the screenshot my base package name.\r\n[my package name][1]\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig2 {\r\n        @Bean\r\n        public Docket docket() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .enable(true)\r\n                    .apiInfo(new ApiInfoBuilder()\r\n                            .title(&quot;Swagger Super&quot;)\r\n                            .description(&quot;Swagger Description details&quot;)\r\n                            .version(&quot;1.0&quot;).build())\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.basePackage(&quot;com.example.swagger.controller&quot;))\r\n                    .paths(PathSelectors.any()).build();\r\n        }\r\n    }\r\nOR \r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig2 {\r\n        @Bean\r\n        public Docket docket() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .enable(true)\r\n                    .apiInfo(new ApiInfoBuilder()\r\n                            .title(&quot;Swagger Super&quot;)\r\n                            .description(&quot;Swagger Description details&quot;)\r\n                            .version(&quot;1.0&quot;).build())\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.withClassAnnotation(Api.class))\r\n                    .paths(PathSelectors.any()).build();\r\n        }\r\n    }\r\nAnd the Swagger Dependencies\r\n\r\n             &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.1&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.1&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\nIt&#39;s working fine\r\n\r\nAlso, you can define separately\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class Swagger2UiConfiguration {\r\n        @Bean\r\n        public Docket api() {\r\n            return (new Docket(DocumentationType.SWAGGER_2)).apiInfo(this.apiInfo()).select().apis(RequestHandlerSelectors.withMethodAnnotation(ApiOperation.class)).paths(PathSelectors.any()).build();\r\n        }\r\n    \r\n        private ApiInfo apiInfo() {\r\n            return (new ApiInfoBuilder()).title(&quot;Swagger API&quot;).version(&quot;1.0&quot;).description(&quot;Swagger is Awesome&quot;).build();\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/RvLEJ.png\r\n\r\n\r\n\r\n**Note:** SNAPSHOT, M1, M2, M3, and M4 releases typically WORK IN PROGRESS. The Spring team is still working on them, Recommend NOT using them.\r\n\r\n**Note:** If want to implement springdoc-openAPI for the new version **spring-boot 3** then use the below-following dependency. That specific version would be working with **spring boot 3**\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nI hope this helps! Let me know if you have any questions or if there&#39;s anything else I can assist you with.\r\n\r\nHappy coding! &#128104;‍&#128187;\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>Just add this configuration to your application.properties</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\n</code></pre>\n<p>or if you using yaml file application.yml</p>\n<pre><code>spring:\nmvc:\n  pathmatch:\n        matching-strategy: ant_path_matcher\n</code></pre>\n<p>then Run your application.</p>\n<p>You need to edit one part, the base package name. As shown in the screenshot my base package name.\n<a href=\"https://i.stack.imgur.com/RvLEJ.png\" rel=\"nofollow noreferrer\">my package name</a></p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig2 {\n    @Bean\n    public Docket docket() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .enable(true)\n                .apiInfo(new ApiInfoBuilder()\n                        .title(&quot;Swagger Super&quot;)\n                        .description(&quot;Swagger Description details&quot;)\n                        .version(&quot;1.0&quot;).build())\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.example.swagger.controller&quot;))\n                .paths(PathSelectors.any()).build();\n    }\n}\n</code></pre>\n<p>OR</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig2 {\n    @Bean\n    public Docket docket() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .enable(true)\n                .apiInfo(new ApiInfoBuilder()\n                        .title(&quot;Swagger Super&quot;)\n                        .description(&quot;Swagger Description details&quot;)\n                        .version(&quot;1.0&quot;).build())\n                .select()\n                .apis(RequestHandlerSelectors.withClassAnnotation(Api.class))\n                .paths(PathSelectors.any()).build();\n    }\n}\n</code></pre>\n<p>And the Swagger Dependencies</p>\n<pre><code>         &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>It's working fine</p>\n<p>Also, you can define separately</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class Swagger2UiConfiguration {\n    @Bean\n    public Docket api() {\n        return (new Docket(DocumentationType.SWAGGER_2)).apiInfo(this.apiInfo()).select().apis(RequestHandlerSelectors.withMethodAnnotation(ApiOperation.class)).paths(PathSelectors.any()).build();\n    }\n\n    private ApiInfo apiInfo() {\n        return (new ApiInfoBuilder()).title(&quot;Swagger API&quot;).version(&quot;1.0&quot;).description(&quot;Swagger is Awesome&quot;).build();\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> SNAPSHOT, M1, M2, M3, and M4 releases typically WORK IN PROGRESS. The Spring team is still working on them, Recommend NOT using them.</p>\n<p><strong>Note:</strong> If want to implement springdoc-openAPI for the new version <strong>spring-boot 3</strong> then use the below-following dependency. That specific version would be working with <strong>spring boot 3</strong></p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I hope this helps! Let me know if you have any questions or if there's anything else I can assist you with.</p>\n<p>Happy coding! 👨‍💻</p>\n"},{"tags":[],"owner":{"account_id":8065471,"reputation":1181,"user_id":6079771,"display_name":"moolsbytheway"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664660846,"creation_date":1664660846,"answer_id":73921967,"question_id":40241843,"body_markdown":"If you are using spring boot 2.6 and trying to use springfox-swagger you will have a hard time.\r\n\r\n\r\nIf you are trying to have swagger documentation just use this dependency\r\n\r\n    implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.4&#39;\r\n\r\nit will generate the doc for you that you can access using `/v3/api-docs` and the swagger-ui is accessible using `/swagger-ui/index.html`\r\n\r\n\r\nHope this helps someone.\r\n\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>If you are using spring boot 2.6 and trying to use springfox-swagger you will have a hard time.</p>\n<p>If you are trying to have swagger documentation just use this dependency</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-ui:1.6.4'\n</code></pre>\n<p>it will generate the doc for you that you can access using <code>/v3/api-docs</code> and the swagger-ui is accessible using <code>/swagger-ui/index.html</code></p>\n<p>Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":26981418,"reputation":11,"user_id":20545708,"display_name":"Ashish Muley"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669275401,"creation_date":1668841297,"answer_id":74498133,"question_id":40241843,"body_markdown":"change spring to use antmatchers with configuring it in application.properties in your spring boot project.\r\n\r\n    spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>change spring to use antmatchers with configuring it in application.properties in your spring boot project.</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8499563,"reputation":156,"user_id":6373062,"display_name":"Semih Erkaraca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672041814,"creation_date":1672041814,"answer_id":74918350,"question_id":40241843,"body_markdown":"I am using 2.7.6 version of spring boot and I was getting the same error. So I found the solution and check this; [Failed to start bean ‘documentationPluginsBootstrapper’ – use springdoc-openapi-ui][1]\r\n\r\n\r\n  [1]: https://webfuse.in/blogs/issues-troubleshooting/org-springframework-context-applicationcontextexception-failed-to-start-bean-documentationpluginsbootstrapper-nested-exception-is-java-lang-nullpointerexception/\r\n\r\n\r\nI added openapi dependency to my pom.xml file: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAlso added matching-strategy to my application.preperties or application.yml file;  \r\n\r\n    spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I am using 2.7.6 version of spring boot and I was getting the same error. So I found the solution and check this; <a href=\"https://webfuse.in/blogs/issues-troubleshooting/org-springframework-context-applicationcontextexception-failed-to-start-bean-documentationpluginsbootstrapper-nested-exception-is-java-lang-nullpointerexception/\" rel=\"nofollow noreferrer\">Failed to start bean ‘documentationPluginsBootstrapper’ – use springdoc-openapi-ui</a></p>\n<p>I added openapi dependency to my pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also added matching-strategy to my application.preperties or application.yml file;</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15289376,"reputation":13,"user_id":11031372,"display_name":"Fabian Velez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676407042,"creation_date":1676407042,"answer_id":75453043,"question_id":40241843,"body_markdown":"I resolve this issue in Spring Boot 2.1.6.RELEASE and Spring Fox 3.0.0 just adding this dependency:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I resolve this issue in Spring Boot 2.1.6.RELEASE and Spring Fox 3.0.0 just adding this dependency:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28033290,"reputation":1,"user_id":21412121,"display_name":"Debo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678974086,"creation_date":1678974086,"answer_id":75757098,"question_id":40241843,"body_markdown":"For me the issue was with the spring actuator and I have upgraded my spring version to 2.7.1\r\nRemoving the spring actuator helped.","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>For me the issue was with the spring actuator and I have upgraded my spring version to 2.7.1\nRemoving the spring actuator helped.</p>\n"},{"tags":[],"owner":{"account_id":6164499,"reputation":475,"user_id":4805256,"display_name":"arjun kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683005588,"creation_date":1683005588,"answer_id":76151968,"question_id":40241843,"body_markdown":"Mine was fixed by below, during upgrade to 2.7 we have added docs profile in Application properties file and was enforcing springfox runtime.\r\nRemoving docs profile helped.\r\nHowever if you wanted to use swagger docs using 2.7 feature then try using openapi lib.","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>Mine was fixed by below, during upgrade to 2.7 we have added docs profile in Application properties file and was enforcing springfox runtime.\nRemoving docs profile helped.\nHowever if you wanted to use swagger docs using 2.7 feature then try using openapi lib.</p>\n"},{"tags":[],"owner":{"account_id":21683420,"reputation":23,"user_id":15999204,"display_name":"Rawan AlKhalawi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683719397,"creation_date":1683719397,"answer_id":76218038,"question_id":40241843,"body_markdown":"    implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.15&#39;\r\n\timplementation &#39;io.springfox:springfox-swagger2:3.0.0&#39;\r\n\timplementation &#39;io.springfox:springfox-swagger-ui:3.0.0&#39;\r\n\r\nhttps://localhost:8080/swagger-ui/index.html","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<pre><code>implementation 'org.springdoc:springdoc-openapi-ui:1.6.15'\nimplementation 'io.springfox:springfox-swagger2:3.0.0'\nimplementation 'io.springfox:springfox-swagger-ui:3.0.0'\n</code></pre>\n<p>https://localhost:8080/swagger-ui/index.html</p>\n"},{"tags":[],"owner":{"account_id":23334750,"reputation":61,"user_id":17410605,"display_name":"Nati"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689171954,"creation_date":1689171954,"answer_id":76671643,"question_id":40241843,"body_markdown":"Setting the `spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER` in the `application.properties` will hide just hide the javanull error which results in the White label error page. &lt;br/&gt;\r\nUse the following solution mentioned in the link &lt;br/&gt;\r\nhttps://stackoverflow.com/a/76671291/17410605\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>Setting the <code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER</code> in the <code>application.properties</code> will hide just hide the javanull error which results in the White label error page. <br/>\nUse the following solution mentioned in the link <br/>\n<a href=\"https://stackoverflow.com/a/76671291/17410605\">https://stackoverflow.com/a/76671291/17410605</a></p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697155315,"creation_date":1697155315,"answer_id":77284426,"question_id":40241843,"body_markdown":"# Latest update wokring with me \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<h1>Latest update wokring with me</h1>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270581,"favorite_count":0,"down_vote_count":0,"up_vote_count":108,"answer_count":35,"score":108,"last_activity_date":1697155315,"creation_date":1477403429,"question_id":40241843,"body_markdown":"I am using spring data rest for my application.\r\n\r\nI am getting following error and application doesn&#39;t get started when I add this method in repository:-\r\n\r\n**Method:-**\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;from employee as ft where ft.company.id = ?1&quot;)\r\n    void deleteAllEmployeeCompany(\r\n            @Param(&quot;companyId&quot;) @RequestParam(&quot;companyId&quot;) int companyId);\r\n\r\n**Error:-**\r\n\r\n    org.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:176) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:51) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:346) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:149) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:112) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:874) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:144) ~[spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) [spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:371) [spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\r\n\r\n\r\n\r\nHow to solve this ?\r\n\r\n\r\nUpdated:-\r\n\r\nList of all dependencies:-\r\n\r\n    [INFO] com.test:test-service:jar:0.0.1-SNAPSHOT\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework.boot:spring-boot-starter-logging:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  |     +- ch.qos.logback:logback-classic:jar:1.1.7:compile\r\n    [INFO] |  |     |  \\- ch.qos.logback:logback-core:jar:1.1.7:compile\r\n    [INFO] |  |     +- org.slf4j:jul-to-slf4j:jar:1.7.21:compile\r\n    [INFO] |  |     \\- org.slf4j:log4j-over-slf4j:jar:1.7.21:compile\r\n    [INFO] |  \\- org.springframework.boot:spring-boot-actuator:jar:1.4.1.RELEASE:compile\r\n    [INFO] |     \\- org.springframework:spring-context:jar:4.3.3.RELEASE:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework:spring-aop:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.5.5:compile\r\n    [INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.5.5:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jdbc:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  +- org.hibernate:hibernate-core:jar:5.0.11.Final:compile\r\n    [INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.3.0.Final:compile\r\n    [INFO] |  |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\r\n    [INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\r\n    [INFO] |  |  +- org.jboss:jandex:jar:2.0.0.Final:compile\r\n    [INFO] |  |  +- dom4j:dom4j:jar:1.6.1:compile\r\n    [INFO] |  |  |  \\- xml-apis:xml-apis:jar:1.4.01:compile\r\n    [INFO] |  |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.0.1.Final:compile\r\n    [INFO] |  +- org.hibernate:hibernate-entitymanager:jar:5.0.11.Final:compile\r\n    [INFO] |  +- javax.transaction:javax.transaction-api:jar:1.2:compile\r\n    [INFO] |  +- org.springframework.data:spring-data-jpa:jar:1.10.3.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.data:spring-data-commons:jar:1.12.3.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework:spring-orm:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework:spring-tx:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework:spring-beans:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  |  \\- org.slf4j:jcl-over-slf4j:jar:1.7.21:compile\r\n    [INFO] |  \\- org.springframework:spring-aspects:jar:4.3.3.RELEASE:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-data-rest:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.8.3:compile\r\n    [INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.8.3:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.8.3:compile\r\n    [INFO] |  \\- org.springframework.data:spring-data-rest-webmvc:jar:2.5.3.RELEASE:compile\r\n    [INFO] |     \\- org.springframework.data:spring-data-rest-core:jar:2.5.3.RELEASE:compile\r\n    [INFO] |        \\- org.atteo:evo-inflector:jar:1.2.1:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:8.5.5:compile\r\n    [INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:8.5.5:compile\r\n    [INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:8.5.5:compile\r\n    [INFO] |  +- org.hibernate:hibernate-validator:jar:5.2.4.Final:compile\r\n    [INFO] |  |  \\- javax.validation:validation-api:jar:1.1.0.Final:compile\r\n    [INFO] |  +- org.springframework:spring-web:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  \\- org.springframework:spring-webmvc:jar:4.3.3.RELEASE:compile\r\n    [INFO] |     \\- org.springframework:spring-expression:jar:4.3.3.RELEASE:compile\r\n    [INFO] +- org.springframework.cloud:spring-cloud-starter-eureka:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  |  |  \\- org.springframework.security:spring-security-crypto:jar:4.1.3.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.1.RELEASE:compile\r\n    [INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.47:compile\r\n    [INFO] |  |        \\- org.bouncycastle:bcprov-jdk15on:jar:1.47:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-netflix-core:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-netflix-eureka-client:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  +- com.netflix.eureka:eureka-client:jar:1.4.6:compile\r\n    [INFO] |  |  +- org.codehaus.jettison:jettison:jar:1.3.7:runtime\r\n    [INFO] |  |  |  \\- stax:stax-api:jar:1.0.1:runtime\r\n    [INFO] |  |  +- com.netflix.netflix-commons:netflix-eventbus:jar:0.3.0:runtime\r\n    [INFO] |  |  +- com.netflix.archaius:archaius-core:jar:0.7.4:compile\r\n    [INFO] |  |  +- javax.ws.rs:jsr311-api:jar:1.1.1:runtime\r\n    [INFO] |  |  +- com.netflix.servo:servo-core:jar:0.10.1:runtime\r\n    [INFO] |  |  |  \\- com.netflix.servo:servo-internal:jar:0.10.1:runtime\r\n    [INFO] |  |  +- com.sun.jersey:jersey-core:jar:1.19.1:runtime\r\n    [INFO] |  |  +- com.sun.jersey:jersey-client:jar:1.19.1:runtime\r\n    [INFO] |  |  +- com.sun.jersey.contribs:jersey-apache-client4:jar:1.19.1:runtime\r\n    [INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.2:compile\r\n    [INFO] |  |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.5:compile\r\n    [INFO] |  |  |  \\- commons-codec:commons-codec:jar:1.10:compile\r\n    [INFO] |  |  +- com.google.inject:guice:jar:4.0:runtime\r\n    [INFO] |  |  |  +- javax.inject:javax.inject:jar:1:runtime\r\n    [INFO] |  |  |  \\- aopalliance:aopalliance:jar:1.0:runtime\r\n    [INFO] |  |  \\- com.netflix.governator:governator-api:jar:1.12.10:runtime\r\n    [INFO] |  +- com.netflix.eureka:eureka-core:jar:1.4.6:compile\r\n    [INFO] |  |  +- com.amazonaws:aws-java-sdk-core:jar:1.10.30:runtime\r\n    [INFO] |  |  +- com.amazonaws:aws-java-sdk-ec2:jar:1.10.30:runtime\r\n    [INFO] |  |  +- com.amazonaws:aws-java-sdk-autoscaling:jar:1.9.3:runtime\r\n    [INFO] |  |  +- com.amazonaws:aws-java-sdk-sts:jar:1.9.3:runtime\r\n    [INFO] |  |  +- com.amazonaws:aws-java-sdk-route53:jar:1.9.3:runtime\r\n    [INFO] |  |  +- com.netflix.governator:governator:jar:1.12.10:runtime\r\n    [INFO] |  |  |  +- com.netflix.governator:governator-core:jar:1.12.10:runtime\r\n    [INFO] |  |  |  \\- org.ow2.asm:asm:jar:5.0.4:compile\r\n    [INFO] |  |  \\- org.codehaus.woodstox:woodstox-core-asl:jar:4.4.1:runtime\r\n    [INFO] |  |     +- javax.xml.stream:stax-api:jar:1.0-2:runtime\r\n    [INFO] |  |     \\- org.codehaus.woodstox:stax2-api:jar:3.1.4:runtime\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-starter-archaius:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  |  \\- commons-configuration:commons-configuration:jar:1.8:compile\r\n    [INFO] |  |     +- commons-lang:commons-lang:jar:2.6:compile\r\n    [INFO] |  |     \\- commons-logging:commons-logging:jar:1.1.1:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-starter-ribbon:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  |  +- com.netflix.ribbon:ribbon:jar:2.1.5:compile\r\n    [INFO] |  |  |  +- com.netflix.ribbon:ribbon-transport:jar:2.1.5:runtime\r\n    [INFO] |  |  |  |  +- io.reactivex:rxnetty-contexts:jar:0.4.9:runtime\r\n    [INFO] |  |  |  |  \\- io.reactivex:rxnetty-servo:jar:0.4.9:runtime\r\n    [INFO] |  |  |  \\- io.reactivex:rxnetty:jar:0.4.9:runtime\r\n    [INFO] |  |  |     +- io.netty:netty-codec-http:jar:4.0.27.Final:runtime\r\n    [INFO] |  |  |     |  +- io.netty:netty-codec:jar:4.0.27.Final:runtime\r\n    [INFO] |  |  |     |  \\- io.netty:netty-handler:jar:4.0.27.Final:runtime\r\n    [INFO] |  |  |     \\- io.netty:netty-transport-native-epoll:jar:4.0.27.Final:runtime\r\n    [INFO] |  |  |        +- io.netty:netty-common:jar:4.0.27.Final:runtime\r\n    [INFO] |  |  |        +- io.netty:netty-buffer:jar:4.0.27.Final:runtime\r\n    [INFO] |  |  |        \\- io.netty:netty-transport:jar:4.0.27.Final:runtime\r\n    [INFO] |  |  +- com.netflix.ribbon:ribbon-core:jar:2.1.5:compile\r\n    [INFO] |  |  +- com.netflix.ribbon:ribbon-httpclient:jar:2.1.5:compile\r\n    [INFO] |  |  |  \\- com.netflix.netflix-commons:netflix-commons-util:jar:0.1.1:runtime\r\n    [INFO] |  |  +- com.netflix.ribbon:ribbon-loadbalancer:jar:2.1.5:compile\r\n    [INFO] |  |  |  \\- com.netflix.netflix-commons:netflix-statistics:jar:0.1.1:runtime\r\n    [INFO] |  |  \\- io.reactivex:rxjava:jar:1.1.5:compile\r\n    [INFO] |  +- com.netflix.ribbon:ribbon-eureka:jar:2.1.5:compile\r\n    [INFO] |  \\- com.thoughtworks.xstream:xstream:jar:1.4.2:compile\r\n    [INFO] |     +- xmlpull:xmlpull:jar:1.1.3.1:compile\r\n    [INFO] |     \\- xpp3:xpp3_min:jar:1.1.4c:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-amqp:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  +- org.springframework:spring-messaging:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  \\- org.springframework.amqp:spring-rabbit:jar:1.6.2.RELEASE:compile\r\n    [INFO] |     +- com.rabbitmq:amqp-client:jar:3.6.3:compile\r\n    [INFO] |     +- org.springframework.retry:spring-retry:jar:1.1.4.RELEASE:compile\r\n    [INFO] |     +- com.rabbitmq:http-client:jar:1.0.0.RELEASE:compile\r\n    [INFO] |     \\- org.springframework.amqp:spring-amqp:jar:1.6.2.RELEASE:compile\r\n    [INFO] +- com.netflix.hystrix:hystrix-javanica:jar:1.3.16:compile\r\n    [INFO] |  +- commons-collections:commons-collections:jar:3.2.2:compile\r\n    [INFO] |  +- org.aspectj:aspectjweaver:jar:1.8.9:compile\r\n    [INFO] |  +- com.google.guava:guava:jar:18.0:compile\r\n    [INFO] |  +- com.netflix.hystrix:hystrix-core:jar:1.5.2:compile\r\n    [INFO] |  |  \\- org.hdrhistogram:HdrHistogram:jar:2.1.7:compile\r\n    [INFO] |  \\- org.apache.commons:commons-lang3:jar:3.1:compile\r\n    [INFO] +- com.netflix.hystrix:hystrix-metrics-event-stream:jar:1.3.16:compile\r\n    [INFO] |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.2:compile\r\n    [INFO] +- io.springfox:springfox-swagger2:jar:2.6.0:compile\r\n    [INFO] |  +- io.swagger:swagger-annotations:jar:1.5.10:compile\r\n    [INFO] |  +- io.swagger:swagger-models:jar:1.5.10:compile\r\n    [INFO] |  +- io.springfox:springfox-spi:jar:2.6.0:compile\r\n    [INFO] |  |  \\- io.springfox:springfox-core:jar:2.6.0:compile\r\n    [INFO] |  +- io.springfox:springfox-schema:jar:2.6.0:compile\r\n    [INFO] |  +- io.springfox:springfox-swagger-common:jar:2.6.0:compile\r\n    [INFO] |  +- io.springfox:springfox-spring-web:jar:2.6.0:compile\r\n    [INFO] |  +- com.fasterxml:classmate:jar:1.3.1:compile\r\n    [INFO] |  +- org.slf4j:slf4j-api:jar:1.7.21:compile\r\n    [INFO] |  +- org.springframework.plugin:spring-plugin-core:jar:1.2.0.RELEASE:compile\r\n    [INFO] |  +- org.springframework.plugin:spring-plugin-metadata:jar:1.2.0.RELEASE:compile\r\n    [INFO] |  \\- org.mapstruct:mapstruct:jar:1.0.0.Final:compile\r\n    [INFO] +- io.springfox:springfox-swagger-ui:jar:2.6.0:compile\r\n    [INFO] +- io.springfox:springfox-data-rest:jar:2.6.0:compile\r\n    [INFO] |  \\- org.springframework.hateoas:spring-hateoas:jar:0.20.0.RELEASE:compile\r\n    [INFO] +- org.liquibase:liquibase-core:jar:3.5.1:compile\r\n    [INFO] |  \\- org.yaml:snakeyaml:jar:1.17:compile\r\n    [INFO] +- mysql:mysql-connector-java:jar:5.1.34:runtime\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-test:jar:1.4.1.RELEASE:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:1.4.1.RELEASE:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:1.4.1.RELEASE:test\r\n    [INFO] |  +- junit:junit:jar:4.12:test\r\n    [INFO] |  +- org.assertj:assertj-core:jar:2.5.0:test\r\n    [INFO] |  +- org.mockito:mockito-core:jar:1.10.19:test\r\n    [INFO] |  |  \\- org.objenesis:objenesis:jar:2.1:test\r\n    [INFO] |  +- org.hamcrest:hamcrest-core:jar:1.3:test\r\n    [INFO] |  +- org.hamcrest:hamcrest-library:jar:1.3:test\r\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.3.0:test\r\n    [INFO] |  |  \\- org.json:json:jar:20140107:test\r\n    [INFO] |  +- org.springframework:spring-core:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  \\- org.springframework:spring-test:jar:4.3.3.RELEASE:test\r\n    [INFO] +- com.jayway.jsonpath:json-path:jar:2.2.0:compile\r\n    [INFO] |  \\- net.minidev:json-smart:jar:2.2.1:compile\r\n    [INFO] |     \\- net.minidev:accessors-smart:jar:1.1:compile\r\n    [INFO] \\- org.reflections:reflections:jar:0.9.10:compile\r\n    [INFO]    +- org.javassist:javassist:jar:3.20.0-GA:compile\r\n    [INFO]    \\- com.google.code.findbugs:annotations:jar:2.0.1:compile\r\n\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I am using spring data rest for my application.</p>\n\n<p>I am getting following error and application doesn't get started when I add this method in repository:-</p>\n\n<p><strong>Method:-</strong></p>\n\n<pre><code>@Modifying\n@Transactional\n@Query(\"from employee as ft where ft.company.id = ?1\")\nvoid deleteAllEmployeeCompany(\n        @Param(\"companyId\") @RequestParam(\"companyId\") int companyId);\n</code></pre>\n\n<p><strong>Error:-</strong></p>\n\n<pre><code>org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:176) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:51) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:346) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:149) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:112) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:874) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:144) ~[spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) [spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:371) [spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\n</code></pre>\n\n<p>How to solve this ?</p>\n\n<p>Updated:-</p>\n\n<p>List of all dependencies:-</p>\n\n<pre><code>[INFO] com.test:test-service:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:1.4.1.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.4.1.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.4.1.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.4.1.RELEASE:compile\n[INFO] |  |  \\- org.springframework.boot:spring-boot-starter-logging:jar:1.4.1.RELEASE:compile\n[INFO] |  |     +- ch.qos.logback:logback-classic:jar:1.1.7:compile\n[INFO] |  |     |  \\- ch.qos.logback:logback-core:jar:1.1.7:compile\n[INFO] |  |     +- org.slf4j:jul-to-slf4j:jar:1.7.21:compile\n[INFO] |  |     \\- org.slf4j:log4j-over-slf4j:jar:1.7.21:compile\n[INFO] |  \\- org.springframework.boot:spring-boot-actuator:jar:1.4.1.RELEASE:compile\n[INFO] |     \\- org.springframework:spring-context:jar:4.3.3.RELEASE:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:1.4.1.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:1.4.1.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-aop:jar:4.3.3.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.4.1.RELEASE:compile\n[INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.5.5:compile\n[INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.5.5:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:4.3.3.RELEASE:compile\n[INFO] |  +- org.hibernate:hibernate-core:jar:5.0.11.Final:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.3.0.Final:compile\n[INFO] |  |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\n[INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  |  +- org.jboss:jandex:jar:2.0.0.Final:compile\n[INFO] |  |  +- dom4j:dom4j:jar:1.6.1:compile\n[INFO] |  |  |  \\- xml-apis:xml-apis:jar:1.4.01:compile\n[INFO] |  |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.0.1.Final:compile\n[INFO] |  +- org.hibernate:hibernate-entitymanager:jar:5.0.11.Final:compile\n[INFO] |  +- javax.transaction:javax.transaction-api:jar:1.2:compile\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:1.10.3.RELEASE:compile\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:1.12.3.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-orm:jar:4.3.3.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-tx:jar:4.3.3.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:4.3.3.RELEASE:compile\n[INFO] |  |  \\- org.slf4j:jcl-over-slf4j:jar:1.7.21:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:4.3.3.RELEASE:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-rest:jar:1.4.1.RELEASE:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.8.3:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.8.3:compile\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.8.3:compile\n[INFO] |  \\- org.springframework.data:spring-data-rest-webmvc:jar:2.5.3.RELEASE:compile\n[INFO] |     \\- org.springframework.data:spring-data-rest-core:jar:2.5.3.RELEASE:compile\n[INFO] |        \\- org.atteo:evo-inflector:jar:1.2.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.4.1.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:1.4.1.RELEASE:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:8.5.5:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:8.5.5:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:8.5.5:compile\n[INFO] |  +- org.hibernate:hibernate-validator:jar:5.2.4.Final:compile\n[INFO] |  |  \\- javax.validation:validation-api:jar:1.1.0.Final:compile\n[INFO] |  +- org.springframework:spring-web:jar:4.3.3.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:4.3.3.RELEASE:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:4.3.3.RELEASE:compile\n[INFO] +- org.springframework.cloud:spring-cloud-starter-eureka:jar:1.1.0.RELEASE:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:1.1.0.RELEASE:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:1.1.0.RELEASE:compile\n[INFO] |  |  |  \\- org.springframework.security:spring-security-crypto:jar:4.1.3.RELEASE:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:1.1.0.RELEASE:compile\n[INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.1.RELEASE:compile\n[INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.47:compile\n[INFO] |  |        \\- org.bouncycastle:bcprov-jdk15on:jar:1.47:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-netflix-core:jar:1.1.0.RELEASE:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-netflix-eureka-client:jar:1.1.0.RELEASE:compile\n[INFO] |  +- com.netflix.eureka:eureka-client:jar:1.4.6:compile\n[INFO] |  |  +- org.codehaus.jettison:jettison:jar:1.3.7:runtime\n[INFO] |  |  |  \\- stax:stax-api:jar:1.0.1:runtime\n[INFO] |  |  +- com.netflix.netflix-commons:netflix-eventbus:jar:0.3.0:runtime\n[INFO] |  |  +- com.netflix.archaius:archaius-core:jar:0.7.4:compile\n[INFO] |  |  +- javax.ws.rs:jsr311-api:jar:1.1.1:runtime\n[INFO] |  |  +- com.netflix.servo:servo-core:jar:0.10.1:runtime\n[INFO] |  |  |  \\- com.netflix.servo:servo-internal:jar:0.10.1:runtime\n[INFO] |  |  +- com.sun.jersey:jersey-core:jar:1.19.1:runtime\n[INFO] |  |  +- com.sun.jersey:jersey-client:jar:1.19.1:runtime\n[INFO] |  |  +- com.sun.jersey.contribs:jersey-apache-client4:jar:1.19.1:runtime\n[INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.2:compile\n[INFO] |  |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.5:compile\n[INFO] |  |  |  \\- commons-codec:commons-codec:jar:1.10:compile\n[INFO] |  |  +- com.google.inject:guice:jar:4.0:runtime\n[INFO] |  |  |  +- javax.inject:javax.inject:jar:1:runtime\n[INFO] |  |  |  \\- aopalliance:aopalliance:jar:1.0:runtime\n[INFO] |  |  \\- com.netflix.governator:governator-api:jar:1.12.10:runtime\n[INFO] |  +- com.netflix.eureka:eureka-core:jar:1.4.6:compile\n[INFO] |  |  +- com.amazonaws:aws-java-sdk-core:jar:1.10.30:runtime\n[INFO] |  |  +- com.amazonaws:aws-java-sdk-ec2:jar:1.10.30:runtime\n[INFO] |  |  +- com.amazonaws:aws-java-sdk-autoscaling:jar:1.9.3:runtime\n[INFO] |  |  +- com.amazonaws:aws-java-sdk-sts:jar:1.9.3:runtime\n[INFO] |  |  +- com.amazonaws:aws-java-sdk-route53:jar:1.9.3:runtime\n[INFO] |  |  +- com.netflix.governator:governator:jar:1.12.10:runtime\n[INFO] |  |  |  +- com.netflix.governator:governator-core:jar:1.12.10:runtime\n[INFO] |  |  |  \\- org.ow2.asm:asm:jar:5.0.4:compile\n[INFO] |  |  \\- org.codehaus.woodstox:woodstox-core-asl:jar:4.4.1:runtime\n[INFO] |  |     +- javax.xml.stream:stax-api:jar:1.0-2:runtime\n[INFO] |  |     \\- org.codehaus.woodstox:stax2-api:jar:3.1.4:runtime\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter-archaius:jar:1.1.0.RELEASE:compile\n[INFO] |  |  \\- commons-configuration:commons-configuration:jar:1.8:compile\n[INFO] |  |     +- commons-lang:commons-lang:jar:2.6:compile\n[INFO] |  |     \\- commons-logging:commons-logging:jar:1.1.1:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter-ribbon:jar:1.1.0.RELEASE:compile\n[INFO] |  |  +- com.netflix.ribbon:ribbon:jar:2.1.5:compile\n[INFO] |  |  |  +- com.netflix.ribbon:ribbon-transport:jar:2.1.5:runtime\n[INFO] |  |  |  |  +- io.reactivex:rxnetty-contexts:jar:0.4.9:runtime\n[INFO] |  |  |  |  \\- io.reactivex:rxnetty-servo:jar:0.4.9:runtime\n[INFO] |  |  |  \\- io.reactivex:rxnetty:jar:0.4.9:runtime\n[INFO] |  |  |     +- io.netty:netty-codec-http:jar:4.0.27.Final:runtime\n[INFO] |  |  |     |  +- io.netty:netty-codec:jar:4.0.27.Final:runtime\n[INFO] |  |  |     |  \\- io.netty:netty-handler:jar:4.0.27.Final:runtime\n[INFO] |  |  |     \\- io.netty:netty-transport-native-epoll:jar:4.0.27.Final:runtime\n[INFO] |  |  |        +- io.netty:netty-common:jar:4.0.27.Final:runtime\n[INFO] |  |  |        +- io.netty:netty-buffer:jar:4.0.27.Final:runtime\n[INFO] |  |  |        \\- io.netty:netty-transport:jar:4.0.27.Final:runtime\n[INFO] |  |  +- com.netflix.ribbon:ribbon-core:jar:2.1.5:compile\n[INFO] |  |  +- com.netflix.ribbon:ribbon-httpclient:jar:2.1.5:compile\n[INFO] |  |  |  \\- com.netflix.netflix-commons:netflix-commons-util:jar:0.1.1:runtime\n[INFO] |  |  +- com.netflix.ribbon:ribbon-loadbalancer:jar:2.1.5:compile\n[INFO] |  |  |  \\- com.netflix.netflix-commons:netflix-statistics:jar:0.1.1:runtime\n[INFO] |  |  \\- io.reactivex:rxjava:jar:1.1.5:compile\n[INFO] |  +- com.netflix.ribbon:ribbon-eureka:jar:2.1.5:compile\n[INFO] |  \\- com.thoughtworks.xstream:xstream:jar:1.4.2:compile\n[INFO] |     +- xmlpull:xmlpull:jar:1.1.3.1:compile\n[INFO] |     \\- xpp3:xpp3_min:jar:1.1.4c:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-amqp:jar:1.4.1.RELEASE:compile\n[INFO] |  +- org.springframework:spring-messaging:jar:4.3.3.RELEASE:compile\n[INFO] |  \\- org.springframework.amqp:spring-rabbit:jar:1.6.2.RELEASE:compile\n[INFO] |     +- com.rabbitmq:amqp-client:jar:3.6.3:compile\n[INFO] |     +- org.springframework.retry:spring-retry:jar:1.1.4.RELEASE:compile\n[INFO] |     +- com.rabbitmq:http-client:jar:1.0.0.RELEASE:compile\n[INFO] |     \\- org.springframework.amqp:spring-amqp:jar:1.6.2.RELEASE:compile\n[INFO] +- com.netflix.hystrix:hystrix-javanica:jar:1.3.16:compile\n[INFO] |  +- commons-collections:commons-collections:jar:3.2.2:compile\n[INFO] |  +- org.aspectj:aspectjweaver:jar:1.8.9:compile\n[INFO] |  +- com.google.guava:guava:jar:18.0:compile\n[INFO] |  +- com.netflix.hystrix:hystrix-core:jar:1.5.2:compile\n[INFO] |  |  \\- org.hdrhistogram:HdrHistogram:jar:2.1.7:compile\n[INFO] |  \\- org.apache.commons:commons-lang3:jar:3.1:compile\n[INFO] +- com.netflix.hystrix:hystrix-metrics-event-stream:jar:1.3.16:compile\n[INFO] |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.2:compile\n[INFO] +- io.springfox:springfox-swagger2:jar:2.6.0:compile\n[INFO] |  +- io.swagger:swagger-annotations:jar:1.5.10:compile\n[INFO] |  +- io.swagger:swagger-models:jar:1.5.10:compile\n[INFO] |  +- io.springfox:springfox-spi:jar:2.6.0:compile\n[INFO] |  |  \\- io.springfox:springfox-core:jar:2.6.0:compile\n[INFO] |  +- io.springfox:springfox-schema:jar:2.6.0:compile\n[INFO] |  +- io.springfox:springfox-swagger-common:jar:2.6.0:compile\n[INFO] |  +- io.springfox:springfox-spring-web:jar:2.6.0:compile\n[INFO] |  +- com.fasterxml:classmate:jar:1.3.1:compile\n[INFO] |  +- org.slf4j:slf4j-api:jar:1.7.21:compile\n[INFO] |  +- org.springframework.plugin:spring-plugin-core:jar:1.2.0.RELEASE:compile\n[INFO] |  +- org.springframework.plugin:spring-plugin-metadata:jar:1.2.0.RELEASE:compile\n[INFO] |  \\- org.mapstruct:mapstruct:jar:1.0.0.Final:compile\n[INFO] +- io.springfox:springfox-swagger-ui:jar:2.6.0:compile\n[INFO] +- io.springfox:springfox-data-rest:jar:2.6.0:compile\n[INFO] |  \\- org.springframework.hateoas:spring-hateoas:jar:0.20.0.RELEASE:compile\n[INFO] +- org.liquibase:liquibase-core:jar:3.5.1:compile\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.17:compile\n[INFO] +- mysql:mysql-connector-java:jar:5.1.34:runtime\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:1.4.1.RELEASE:test\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:1.4.1.RELEASE:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:1.4.1.RELEASE:test\n[INFO] |  +- junit:junit:jar:4.12:test\n[INFO] |  +- org.assertj:assertj-core:jar:2.5.0:test\n[INFO] |  +- org.mockito:mockito-core:jar:1.10.19:test\n[INFO] |  |  \\- org.objenesis:objenesis:jar:2.1:test\n[INFO] |  +- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO] |  +- org.hamcrest:hamcrest-library:jar:1.3:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.3.0:test\n[INFO] |  |  \\- org.json:json:jar:20140107:test\n[INFO] |  +- org.springframework:spring-core:jar:4.3.3.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-test:jar:4.3.3.RELEASE:test\n[INFO] +- com.jayway.jsonpath:json-path:jar:2.2.0:compile\n[INFO] |  \\- net.minidev:json-smart:jar:2.2.1:compile\n[INFO] |     \\- net.minidev:accessors-smart:jar:1.1:compile\n[INFO] \\- org.reflections:reflections:jar:0.9.10:compile\n[INFO]    +- org.javassist:javassist:jar:3.20.0-GA:compile\n[INFO]    \\- com.google.code.findbugs:annotations:jar:2.0.1:compile\n</code></pre>\n"},{"tags":["java","javafx","accordion","skin"],"answers":[{"comments":[{"owner":{"account_id":25550283,"reputation":13,"user_id":19334763,"display_name":"Mike"},"score":0,"creation_date":1697786653,"post_id":77281303,"comment_id":136325946,"body_markdown":"Thank you for your answer! This workaround is perfectly fine, as long as you don&#39;t have sub-TitledPanes in your TitledPane. lookup() will get the first child it finds - so you won&#39;t be able to disable the parent TitledPane. I retrieved the TitleRegion from the getChildren()-List and was able to deactivate the parent TitledPane.","body":"Thank you for your answer! This workaround is perfectly fine, as long as you don&#39;t have sub-TitledPanes in your TitledPane. lookup() will get the first child it finds - so you won&#39;t be able to disable the parent TitledPane. I retrieved the TitleRegion from the getChildren()-List and was able to deactivate the parent TitledPane."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1697122100,"creation_date":1697119352,"answer_id":77281303,"question_id":77278573,"body_markdown":"This is a bit of a hack, but you can lookup and disable/enable the title in the titled pane. That will not affect the disabled state of the titled pane&#39;s content.\r\n\r\n```\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.TitledPane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        VBox content = new VBox();\r\n        TitledPane titledPane = new TitledPane(&quot;Test&quot;, content);\r\n        titledPane.setExpanded(true);\r\n\r\n        content.setAlignment(Pos.CENTER);\r\n        content.setPadding(new Insets(20));\r\n        TextField textField = new TextField();\r\n        content.getChildren().addAll(new Label(&quot;Enter at least three characters:&quot;),textField);\r\n        textField.textProperty().addListener((obs, oldText, newText) -&gt; updateTitledPaneState(titledPane, newText.length() &gt;= 3));\r\n\r\n        Scene scene = new Scene(titledPane);\r\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n        updateTitledPaneState(titledPane, false);\r\n    }\r\n\r\n    private void updateTitledPaneState(TitledPane titledPane, boolean shouldBeCollapsible) {\r\n        Node title = titledPane.lookup(&quot;.title&quot;);\r\n        title.setDisable(! shouldBeCollapsible);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nBy default, the title doesn&#39;t know to change its appearance when disabled, so you can add that using an external style sheet:\r\n\r\nstyle.css:\r\n```\r\n.titled-pane &gt; .title:disabled {\r\n    -fx-opacity: 0.4;\r\n}\r\n```","title":"Keep arrow of TitledPane visible, even when set to not collapsible","body":"<p>This is a bit of a hack, but you can lookup and disable/enable the title in the titled pane. That will not affect the disabled state of the titled pane's content.</p>\n<pre><code>\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.TitledPane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        VBox content = new VBox();\n        TitledPane titledPane = new TitledPane(&quot;Test&quot;, content);\n        titledPane.setExpanded(true);\n\n        content.setAlignment(Pos.CENTER);\n        content.setPadding(new Insets(20));\n        TextField textField = new TextField();\n        content.getChildren().addAll(new Label(&quot;Enter at least three characters:&quot;),textField);\n        textField.textProperty().addListener((obs, oldText, newText) -&gt; updateTitledPaneState(titledPane, newText.length() &gt;= 3));\n\n        Scene scene = new Scene(titledPane);\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\n        stage.setScene(scene);\n        stage.show();\n\n        updateTitledPaneState(titledPane, false);\n    }\n\n    private void updateTitledPaneState(TitledPane titledPane, boolean shouldBeCollapsible) {\n        Node title = titledPane.lookup(&quot;.title&quot;);\n        title.setDisable(! shouldBeCollapsible);\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>By default, the title doesn't know to change its appearance when disabled, so you can add that using an external style sheet:</p>\n<p>style.css:</p>\n<pre><code>.titled-pane &gt; .title:disabled {\n    -fx-opacity: 0.4;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25550283,"reputation":13,"user_id":19334763,"display_name":"Mike"},"score":0,"creation_date":1697441802,"post_id":77284408,"comment_id":136275552,"body_markdown":"Thank you for your answer. I tried your solution with adding an EventFilter for the Mouse_Pressed event, but this was not enough. Adding an additional EventFilter for the Mouse_Clicked &amp; Mouse_Released event stops collapsing, when the user tries to collapse via mouse. But it can still be collapsed, if the TitledPane has focus and the user presses Space.","body":"Thank you for your answer. I tried your solution with adding an EventFilter for the Mouse_Pressed event, but this was not enough. Adding an additional EventFilter for the Mouse_Clicked &amp; Mouse_Released event stops collapsing, when the user tries to collapse via mouse. But it can still be collapsed, if the TitledPane has focus and the user presses Space."}],"tags":[],"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697155063,"creation_date":1697155063,"answer_id":77284408,"question_id":77278573,"body_markdown":"+1 for the @James_D answer.\r\n\r\nFor the sake of different approach or alternate solution , using his demo code, I tried the below solution. You can have look at it. \r\n\r\nIn this approach, I created a custom `TitledPane` which has an `invalid` property. Instead of disabling, I blocked the mouse event to not collapse if the `invalid` property is true and set the psuedo state for some custom styling.\r\n\r\nThis may add some extra bit of code, but you can consider it for reusability and custom styling. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.BooleanProperty;\r\n    import javafx.beans.property.SimpleBooleanProperty;\r\n    import javafx.css.PseudoClass;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.control.TitledPane;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class TitledPaneValidationDemo extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            VBox content = new VBox(10);\r\n            content.setAlignment(Pos.CENTER);\r\n            content.setPadding(new Insets(20));\r\n    \r\n            CustomTitledPane titledPane = new CustomTitledPane(&quot;Test&quot;, content);\r\n            titledPane.setExpanded(true);\r\n    \r\n            TextField textField1 = new TextField();\r\n            TextField textField2 = new TextField();\r\n            TextField textField3 = new TextField();\r\n            content.getChildren().addAll(new Label(&quot;Enter at least three characters in each box:&quot;), textField1, textField2, textField3);\r\n            Stream.of(textField1, textField2, textField3).forEach(tf -&gt; {\r\n                tf.textProperty().addListener(p -&gt; invalidate(titledPane, textField1, textField2, textField3));\r\n            });\r\n    \r\n            Scene scene = new Scene(titledPane);\r\n            scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Titled Pane Demo&quot;);\r\n            stage.show();\r\n            invalidate(titledPane, textField1, textField2, textField3);\r\n        }\r\n    \r\n        private void invalidate(CustomTitledPane titledPane, TextField textField1, TextField textField2, TextField textField3) {\r\n            titledPane.setInvalid(textField1.getText().length() &lt; 3 || textField2.getText().length() &lt; 3 || textField3.getText().length() &lt; 3);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        class CustomTitledPane extends TitledPane {\r\n            private BooleanProperty invalid = new SimpleBooleanProperty(false);\r\n    \r\n            private final PseudoClass PSEUDO_CLASS_INVALID = PseudoClass.getPseudoClass(&quot;invalid&quot;);\r\n            private Node title;\r\n    \r\n            public CustomTitledPane(String text, Node node) {\r\n                super(text, node);\r\n                skinProperty().addListener((obs, old, val) -&gt; title = null);\r\n                invalidProperty().addListener((obs, old, val) -&gt; pseudoClassStateChanged(PSEUDO_CLASS_INVALID, val));\r\n            }\r\n    \r\n            @Override\r\n            protected void layoutChildren() {\r\n                super.layoutChildren();\r\n                if (title == null) {\r\n                    title = lookup(&quot;.title&quot;);\r\n                    title.addEventFilter(MouseEvent.MOUSE_PRESSED, e -&gt; {\r\n                        if (isInvalid()) {\r\n                            setExpanded(true);\r\n                            e.consume();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n    \r\n            public boolean isInvalid() {\r\n                return invalid.get();\r\n            }\r\n    \r\n            public BooleanProperty invalidProperty() {\r\n                return invalid;\r\n            }\r\n    \r\n            public void setInvalid(final boolean invalid) {\r\n                this.invalid.set(invalid);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**CSS:**\r\n\r\n    .titled-pane:invalid &gt; .title {\r\n        -fx-color: #FF000050;\r\n    } \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FB7RS.gif","title":"Keep arrow of TitledPane visible, even when set to not collapsible","body":"<p>+1 for the @James_D answer.</p>\n<p>For the sake of different approach or alternate solution , using his demo code, I tried the below solution. You can have look at it.</p>\n<p>In this approach, I created a custom <code>TitledPane</code> which has an <code>invalid</code> property. Instead of disabling, I blocked the mouse event to not collapse if the <code>invalid</code> property is true and set the psuedo state for some custom styling.</p>\n<p>This may add some extra bit of code, but you can consider it for reusability and custom styling.</p>\n<p><a href=\"https://i.stack.imgur.com/FB7RS.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FB7RS.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.BooleanProperty;\nimport javafx.beans.property.SimpleBooleanProperty;\nimport javafx.css.PseudoClass;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.TitledPane;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.stream.Stream;\n\npublic class TitledPaneValidationDemo extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        VBox content = new VBox(10);\n        content.setAlignment(Pos.CENTER);\n        content.setPadding(new Insets(20));\n\n        CustomTitledPane titledPane = new CustomTitledPane(&quot;Test&quot;, content);\n        titledPane.setExpanded(true);\n\n        TextField textField1 = new TextField();\n        TextField textField2 = new TextField();\n        TextField textField3 = new TextField();\n        content.getChildren().addAll(new Label(&quot;Enter at least three characters in each box:&quot;), textField1, textField2, textField3);\n        Stream.of(textField1, textField2, textField3).forEach(tf -&gt; {\n            tf.textProperty().addListener(p -&gt; invalidate(titledPane, textField1, textField2, textField3));\n        });\n\n        Scene scene = new Scene(titledPane);\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\n        stage.setScene(scene);\n        stage.setTitle(&quot;Titled Pane Demo&quot;);\n        stage.show();\n        invalidate(titledPane, textField1, textField2, textField3);\n    }\n\n    private void invalidate(CustomTitledPane titledPane, TextField textField1, TextField textField2, TextField textField3) {\n        titledPane.setInvalid(textField1.getText().length() &lt; 3 || textField2.getText().length() &lt; 3 || textField3.getText().length() &lt; 3);\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    class CustomTitledPane extends TitledPane {\n        private BooleanProperty invalid = new SimpleBooleanProperty(false);\n\n        private final PseudoClass PSEUDO_CLASS_INVALID = PseudoClass.getPseudoClass(&quot;invalid&quot;);\n        private Node title;\n\n        public CustomTitledPane(String text, Node node) {\n            super(text, node);\n            skinProperty().addListener((obs, old, val) -&gt; title = null);\n            invalidProperty().addListener((obs, old, val) -&gt; pseudoClassStateChanged(PSEUDO_CLASS_INVALID, val));\n        }\n\n        @Override\n        protected void layoutChildren() {\n            super.layoutChildren();\n            if (title == null) {\n                title = lookup(&quot;.title&quot;);\n                title.addEventFilter(MouseEvent.MOUSE_PRESSED, e -&gt; {\n                    if (isInvalid()) {\n                        setExpanded(true);\n                        e.consume();\n                    }\n                });\n            }\n        }\n\n        public boolean isInvalid() {\n            return invalid.get();\n        }\n\n        public BooleanProperty invalidProperty() {\n            return invalid;\n        }\n\n        public void setInvalid(final boolean invalid) {\n            this.invalid.set(invalid);\n        }\n    }\n}\n</code></pre>\n<p><strong>CSS:</strong></p>\n<pre><code>.titled-pane:invalid &gt; .title {\n    -fx-color: #FF000050;\n} \n</code></pre>\n"}],"owner":{"account_id":25550283,"reputation":13,"user_id":19334763,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77281303,"answer_count":2,"score":1,"last_activity_date":1697155063,"creation_date":1697096204,"question_id":77278573,"body_markdown":"I&#39;m trying to create an TitledPane, that can&#39;t be collapsed, once it has been opened and the TextField inside of it does not have valid input.\r\n\r\nThis behaviour already works in my code, but as soon as I set the collapsibleProperty to false, the arrow-button disappears.\r\n\r\nI&#39;d rather have it stay and be shown in a disabled-state. I know this could be achieved with pseudoclass-states, but the following code, in the update() function in the TitledPaneSkin class, prevents me from using this approach, as the arrow won&#39;t even be added into the gui:\r\n\r\n```java\r\nprivate void update() {\r\n    getChildren().clear();\r\n    final TitledPane titledPane = getSkinnable();\r\n\r\n    if (titledPane.isCollapsible()) {\r\n        getChildren().add(arrowRegion);\r\n    }\r\n\r\n...\r\n```\r\n\r\n\r\nI tried to write a custom Skin class that extends the TitledPaneSkin, but the TitleRegion, where the arrowRegion is defined, and its update function, are not accessible.\r\n\r\nDisabling the TitledPane itself also didn&#39;t work for me, as I need the TextField inside of it to be accessible/editable. \r\n\r\nI also tried to set the -fx-graphic property of the TitledPane title to a custom image, but it didn&#39;t work out for me.\r\n```css\r\n.titled-pane .title {\r\n    -fx-graphic: url(&quot;arrow.png&quot;);\r\n}\r\n```","title":"Keep arrow of TitledPane visible, even when set to not collapsible","body":"<p>I'm trying to create an TitledPane, that can't be collapsed, once it has been opened and the TextField inside of it does not have valid input.</p>\n<p>This behaviour already works in my code, but as soon as I set the collapsibleProperty to false, the arrow-button disappears.</p>\n<p>I'd rather have it stay and be shown in a disabled-state. I know this could be achieved with pseudoclass-states, but the following code, in the update() function in the TitledPaneSkin class, prevents me from using this approach, as the arrow won't even be added into the gui:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void update() {\n    getChildren().clear();\n    final TitledPane titledPane = getSkinnable();\n\n    if (titledPane.isCollapsible()) {\n        getChildren().add(arrowRegion);\n    }\n\n...\n</code></pre>\n<p>I tried to write a custom Skin class that extends the TitledPaneSkin, but the TitleRegion, where the arrowRegion is defined, and its update function, are not accessible.</p>\n<p>Disabling the TitledPane itself also didn't work for me, as I need the TextField inside of it to be accessible/editable.</p>\n<p>I also tried to set the -fx-graphic property of the TitledPane title to a custom image, but it didn't work out for me.</p>\n<pre class=\"lang-css prettyprint-override\"><code>.titled-pane .title {\n    -fx-graphic: url(&quot;arrow.png&quot;);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1697124913,"post_id":77281990,"comment_id":136243272,"body_markdown":"You cannot treat `System.in` and `System.out` as the same thing in the command line.","body":"You cannot treat <code>System.in</code> and <code>System.out</code> as the same thing in the command line."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1697125086,"post_id":77281990,"comment_id":136243300,"body_markdown":"This question boils down to &#39;how do I write java&#39; or possibly &#39;how do I read and write files&#39;. I don&#39;t think you&#39;ll have much luck with such a broad question on SO, that&#39;s not really what it is for. There is no special magic answer here - it&#39;s just &#39;create a text file and write a template to it, tell the user to edit it, then read it&#39;. Look at the `java.nio.file` package for the API to interact with files.","body":"This question boils down to &#39;how do I write java&#39; or possibly &#39;how do I read and write files&#39;. I don&#39;t think you&#39;ll have much luck with such a broad question on SO, that&#39;s not really what it is for. There is no special magic answer here - it&#39;s just &#39;create a text file and write a template to it, tell the user to edit it, then read it&#39;. Look at the <code>java.nio.file</code> package for the API to interact with files."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":6,"creation_date":1697125467,"post_id":77281990,"comment_id":136243386,"body_markdown":"@rzwitserloot I may be wrong here, but the question looks more like &quot;how do I print a line and let the user edit that very same line, in place&quot;, which is itself a totally different can of worms,","body":"@rzwitserloot I may be wrong here, but the question looks more like &quot;how do I print a line and let the user edit that very same line, in place&quot;, which is itself a totally different can of worms,"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1697126348,"post_id":77281990,"comment_id":136243545,"body_markdown":"Java itself can&#39;t do this, but have a look at [Java: how can I modify console output?](https://stackoverflow.com/questions/6704002/java-how-can-i-modify-console-output) or [Edit a given String over the Console in Java](https://stackoverflow.com/questions/1552156/is-it-possible-to-print-text-that-can-be-edited-by-the-user-for-console-program) for inspiration on what to further search on.","body":"Java itself can&#39;t do this, but have a look at <a href=\"https://stackoverflow.com/questions/6704002/java-how-can-i-modify-console-output\">Java: how can I modify console output?</a> or <a href=\"https://stackoverflow.com/questions/1552156/is-it-possible-to-print-text-that-can-be-edited-by-the-user-for-console-program\">Edit a given String over the Console in Java</a> for inspiration on what to further search on."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1697153202,"post_id":77281990,"comment_id":136247555,"body_markdown":"@FedericoklezCulloca Ah, I see. That&#39;s so bizarre to my &quot;processes have standard in and standard out and they could be a printer and a voicebox for all we know&quot; line of thinking I just assumed &#39;file&#39;.","body":"@FedericoklezCulloca Ah, I see. That&#39;s so bizarre to my &quot;processes have standard in and standard out and they could be a printer and a voicebox for all we know&quot; line of thinking I just assumed &#39;file&#39;."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1697155058,"post_id":77281990,"comment_id":136247722,"body_markdown":"@FedericoklezCulloca With your hint I have written up an answer, and retracted the close vote. Gracias!","body":"@FedericoklezCulloca With your hint I have written up an answer, and retracted the close vote. Gracias!"}],"answers":[{"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1697126186,"post_id":77282053,"comment_id":136243513,"body_markdown":"Right, but the question is how to print a line of a text that can then be edited by the user. Not just looked at because it got printed and the cursor is nowhere to be found (which java itself can&#39;t do)","body":"Right, but the question is how to print a line of a text that can then be edited by the user. Not just looked at because it got printed and the cursor is nowhere to be found (which java itself can&#39;t do)"}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697125361,"creation_date":1697125361,"answer_id":77282053,"question_id":77281990,"body_markdown":"In Java, state is traditionally held in a variables. You could also store data in an external file or a database.\r\n\r\nThe standard Java library handles input and output as separate actions.\r\n\r\nHere is a simple REPL program written in Java:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Input {\r\n    static private String userFavoriteArtist = &quot;&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        // Enter &quot;q&quot; to exit the loop...\r\n        while (true) {\r\n            System.out.print(&quot;Enter your favorite artist: &quot;);\r\n            userFavoriteArtist = scan.nextLine();\r\n            if (userFavoriteArtist.equals(&quot;q&quot;)) {\r\n                break;\r\n            }\r\n            System.out.println(&quot;Your favorite artist is: &quot; + userFavoriteArtist);\r\n        }\r\n\r\n        scan.close();\r\n    }\r\n}\r\n```","title":"Java edit text in terminal and save it to variable","body":"<p>In Java, state is traditionally held in a variables. You could also store data in an external file or a database.</p>\n<p>The standard Java library handles input and output as separate actions.</p>\n<p>Here is a simple REPL program written in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Input {\n    static private String userFavoriteArtist = &quot;&quot;;\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n\n        // Enter &quot;q&quot; to exit the loop...\n        while (true) {\n            System.out.print(&quot;Enter your favorite artist: &quot;);\n            userFavoriteArtist = scan.nextLine();\n            if (userFavoriteArtist.equals(&quot;q&quot;)) {\n                break;\n            }\n            System.out.println(&quot;Your favorite artist is: &quot; + userFavoriteArtist);\n        }\n\n        scan.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697155011,"creation_date":1697155011,"answer_id":77284404,"question_id":77281990,"body_markdown":"Your question implies you hold a certain idea about how command line programs work that is common, obvious, but incorrect.\r\n\r\nYou appear to believe that a program simply always reads input from the keyboard, and writes output to the screen. Or, at least, that this is what `System.in` and `System.out` mean.\r\n\r\nNot so. This means two things:\r\n\r\n1. What you want is doable but _very_ complicated and not portable, i.e. you need different code for different platforms, and\r\n2. Even explaining it is kinda complicated.\r\n\r\nThis answer might just sail right over your head. There&#39;s still some use to be had: Just accept that, for reasons, what you want is not possible without involving extensive third party libraries (dependencies: Separate jars you stick on the classpath when you launch your app), such as [Lanterna](https://github.com/mabe02/lanterna) which then allow you to do this.\r\n\r\n## Explanation of why this is hard\r\n\r\n`System.in` means &#39;the process input stream&#39; and `System.out` means &#39;the process output stream&#39;. Not &#39;the keyboard&#39; and &#39;the screen&#39;.\r\n\r\nSo what are &#39;the process input&#39; and &#39;the process output&#39;? Whatever thing asks the OS to launch your application specifies what they are as you launch it.\r\n\r\nAnd who launches it? Not &#39;you&#39; - no, you provide some input to an application (`cmd.exe` on windows usually, perhaps `/bin/bash` on most other systems such as linux or macos), and that is just an application, nothing special about it. You type:\r\n\r\n```\r\njava MyProgram.java\r\n```\r\n\r\nAnd as you hit each character, `cmd.exe` or whatever it might be accepts that, renders a little picture that looks like e.g. a `j` to the screen, and when you hit enter, &#39;parses&#39; what you typed and this results in `cmd.exe` making a call to the OS to launch a new process, and in doing so, __`cmd.exe` tells your system what to hook up to that process&#39; system in and system out.__\r\n\r\nBy default, that&#39;ll be the keyboard in cooked mode (no actual bytes show up for `System.in.read()` to read unless you hit enter), and the terminal itself which will just take any bytes sent to it via `System.out` and print them on the screen as characters.\r\n\r\nAnd _that_ is why `System.in` is the keyboard and `System.out` is the screen. But, I can tell the terminal app to do something else:\r\n\r\n```\r\njava MyProgram.java &lt;somefile.txt &gt;/dev/printer\r\n```\r\n\r\nHere, the input is not &#39;what the user types on the keyboard&#39; but &#39;the contents of the file `somefile.txt`. As in, if in your java app you do: `System.in.read()` you get the first byte from the `somefile.txt` file. And `System.out.println(&quot;Hello&quot;)` would make your printer start printing.\r\n\r\n## So what? How does that affect my question?\r\n\r\nWell, think about it: If `System.in` can be anything, and `System.out` can be anything, how can you possibly _link_ the two? Or, thinking differently, the notion of &#39;the output is a thing that you can edit&#39; isn&#39;t part of what process standard output is about. A printer can not &#39;edit&#39; - once you print `Your favourite artist is: example`, then that&#39;s printed. You can&#39;t then _delete_ `example`, printers do not as a rule ship with a baked in cartridge containing whiteout or whatever.\r\n\r\nYes, sure, _you_ have no intention of ever redirecting standard out to a printer. That&#39;s not the point. The point is: At a fundamental level, sysout is just a thing that can receive bytes, and that is all it is. It has no &#39;move the cursor to this position&#39;, &#39;go into overwrite mode&#39;. __There is no cursor__ - the abstraction is just &#39;send bytes here&#39;, and that&#39;s it. That gives your system the flexibility to let you hook it up to a printer and whatnot - to be able to be hooked up to a process&#39; standard out, you just need to be capable of receiving bytes. The flipside is, you _cant_ say: Move the cursor back.\r\n\r\nExcept, if you can. Let&#39;s trace the exact flow of what happens in this sequence of events:\r\n\r\n```\r\n&gt; cat MyApp.java\r\npublic class MyApp {\r\n  public static void main(String[] args) {\r\n     System.out.print(&quot;Hi&quot;);\r\n  }\r\n}\r\n\r\n&gt; java MyApp.java\r\n```\r\n\r\nGiven that you didn&#39;t use `&lt;` or `&gt;` to modify anything, and we typed this in a terminal, `System.out` is the terminal window itself. Specifically, `print(&quot;Hi&quot;)` will send the byte value for the `H` (72) to &#39;the standard output&#39; and then 105 (the byte value for `i`). The standard output is hooked up to the terminal window which knows &#39;if I receive 72, that means I should move the cursor one position to the right and show a little picture that looks like an H.&#39;. And that is why you see `Hi` appear.\r\n\r\nSome terminals will interpret certain byte value sequences as &#39;commands&#39;. Such as &#39;move the cursor to the left&#39;, &#39;the foreground color is now light blue&#39;, &#39;emit a bell sound through the system speaker&#39;, and so on.\r\n\r\n## Okay so how do I do what I want?\r\n\r\n... with the command stuff I wrote in the last paragraph of the previous section: There is sort of, kind of, a way. First print `Enter your favorite artist: example` as you usually would, but then send a command to move the cursor back so that it is over the &#39;e&#39; in example. But your standard `System.in` defaults to &#39;cooked&#39; mod which means that you get no input whatsoever until enter is pressed so this is at the very least going to look very ugly. The cursor is where we want it to be but that&#39;s not enough. We optimally want to receive a keypress as it arrives (instead of getting a whole line at once), and act accordingly. For example, after pressing the first key, we can send a bunch of commands that space over / wipe out the text `example` and then goes back to where the `e` was and print the character the user typed.\r\n\r\nHence, we need to do two things:\r\n\r\n1. Check if `System.in` is currently typed system input in &#39;cooked mode&#39;, and if so, take it out of cooked mode. Otherwise, crash or swap to a code path that knows that there is no reversing or editing anything.\r\n\r\n2. Emit to `System.out` these special commands. What are they?\r\n\r\nThe problem is, __this is the part that is system dependent__. On windows (`cmd.exe`) the ways to do this are completely different from `/bin/bash`.\r\n\r\nHence, to develop this properly you&#39;d have to delve into terminal commands for _each_ platform you intend to support. For example, on most posixen this should work to uncook sysin:\r\n\r\n```\r\nString[] cmd = {&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;stty raw &lt;/dev/tty&quot;};\r\nRuntime.getRuntime().exec(cmd).waitFor();\r\nSystem.out.println(&quot;Now type and watch as I deal with each typed thing as you type it - marvelous!&quot;);\r\nSystem.out.println(&quot;Q to exit.&quot;);\r\nwhile (true) {\r\n  int t = System.in.read();\r\n  System.out.println(&quot;\\nYou typed value: &quot; + t + &quot; - which is &#39;&quot; + (char) t + &quot;&#39;!&quot;);\r\n  if (t == &#39;Q&#39;) System.exit(0);\r\n}\r\n\r\n```\r\n\r\nThis actually works on my mac, but taking the terminal out of cooked mode also means that `\\n` just advanced to the next line and no longer puts the cursor to the start. Also, the &#39;raw mode&#39; thing is __permanent__ - even after the app exits my terminal is all wonky and I&#39;d have to close and reopen. I can fix the newline issue by using `print` instead of `println` and adding `\\r\\n` to the end of each string. I can fix the &#39;it remains in raw mode&#39; by going back to cooked mode. Here&#39;s a much nicer take:\r\n\r\n```\r\nString[] cmd = {&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;stty raw &lt;/dev/tty&quot;};\r\nRuntime.getRuntime().exec(cmd).waitFor();\r\nSystem.out.print(&quot;Now type and watch as I deal with each typed thing as you type it - marvelous!\\r\\n&quot;);\r\nSystem.out.print(&quot;Q to exit.\\r\\n&quot;);\r\nwhile (true) {\r\n  int t = System.in.read();\r\n  System.out.print(&quot;\\r\\nYou typed value: &quot; + t + &quot; - which is &#39;&quot; + (char)\r\nt + &quot;&#39;!\\r\\n&quot;);\r\n  if (t == &#39;Q&#39;) break;\r\n}\r\n\r\ncmd = new String[] {&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;stty cooked &lt;/dev/tty&quot;};\r\nRuntime.getRuntime().exec(cmd).waitFor();\r\n```\r\n\r\nBut here&#39;s the problem: That will _definitely_ not work on windows. That might not work on various linuxen. It&#39;s also going to completely fail if you start this app with `java MyApp.java &lt;stuff &gt;something_else`. And we just opened the door to allowing us to act immediately as the user starts typing (no waiting for enter), we haven&#39;t tackled moving the cursor around the screen yet.\r\n\r\nWhich will be a very similar story: I can show you how to do it... for some specific OS and terminal. Not generally.\r\n\r\n## Deps to the rescue!\r\n\r\nYou can use ncurses or [Lanterna](https://github.com/mabe02/lanterna) or some other library that gives you text UIs for java support to do this, these libraries have done the footwork of figuring out how to do that on each OS as best as possible. You should definitely use those libraries.\r\n\r\nOr, ditch the plan and just use System.in/System.out as normal (don&#39;t involve having the user edit what they type), or, ditch System.in/System.out and use `java.swing` or similar to make a little UI. Or make it a web app. Which is what most folks do these days.\r\n","title":"Java edit text in terminal and save it to variable","body":"<p>Your question implies you hold a certain idea about how command line programs work that is common, obvious, but incorrect.</p>\n<p>You appear to believe that a program simply always reads input from the keyboard, and writes output to the screen. Or, at least, that this is what <code>System.in</code> and <code>System.out</code> mean.</p>\n<p>Not so. This means two things:</p>\n<ol>\n<li>What you want is doable but <em>very</em> complicated and not portable, i.e. you need different code for different platforms, and</li>\n<li>Even explaining it is kinda complicated.</li>\n</ol>\n<p>This answer might just sail right over your head. There's still some use to be had: Just accept that, for reasons, what you want is not possible without involving extensive third party libraries (dependencies: Separate jars you stick on the classpath when you launch your app), such as <a href=\"https://github.com/mabe02/lanterna\" rel=\"nofollow noreferrer\">Lanterna</a> which then allow you to do this.</p>\n<h2>Explanation of why this is hard</h2>\n<p><code>System.in</code> means 'the process input stream' and <code>System.out</code> means 'the process output stream'. Not 'the keyboard' and 'the screen'.</p>\n<p>So what are 'the process input' and 'the process output'? Whatever thing asks the OS to launch your application specifies what they are as you launch it.</p>\n<p>And who launches it? Not 'you' - no, you provide some input to an application (<code>cmd.exe</code> on windows usually, perhaps <code>/bin/bash</code> on most other systems such as linux or macos), and that is just an application, nothing special about it. You type:</p>\n<pre><code>java MyProgram.java\n</code></pre>\n<p>And as you hit each character, <code>cmd.exe</code> or whatever it might be accepts that, renders a little picture that looks like e.g. a <code>j</code> to the screen, and when you hit enter, 'parses' what you typed and this results in <code>cmd.exe</code> making a call to the OS to launch a new process, and in doing so, <strong><code>cmd.exe</code> tells your system what to hook up to that process' system in and system out.</strong></p>\n<p>By default, that'll be the keyboard in cooked mode (no actual bytes show up for <code>System.in.read()</code> to read unless you hit enter), and the terminal itself which will just take any bytes sent to it via <code>System.out</code> and print them on the screen as characters.</p>\n<p>And <em>that</em> is why <code>System.in</code> is the keyboard and <code>System.out</code> is the screen. But, I can tell the terminal app to do something else:</p>\n<pre><code>java MyProgram.java &lt;somefile.txt &gt;/dev/printer\n</code></pre>\n<p>Here, the input is not 'what the user types on the keyboard' but 'the contents of the file <code>somefile.txt</code>. As in, if in your java app you do: <code>System.in.read()</code> you get the first byte from the <code>somefile.txt</code> file. And <code>System.out.println(&quot;Hello&quot;)</code> would make your printer start printing.</p>\n<h2>So what? How does that affect my question?</h2>\n<p>Well, think about it: If <code>System.in</code> can be anything, and <code>System.out</code> can be anything, how can you possibly <em>link</em> the two? Or, thinking differently, the notion of 'the output is a thing that you can edit' isn't part of what process standard output is about. A printer can not 'edit' - once you print <code>Your favourite artist is: example</code>, then that's printed. You can't then <em>delete</em> <code>example</code>, printers do not as a rule ship with a baked in cartridge containing whiteout or whatever.</p>\n<p>Yes, sure, <em>you</em> have no intention of ever redirecting standard out to a printer. That's not the point. The point is: At a fundamental level, sysout is just a thing that can receive bytes, and that is all it is. It has no 'move the cursor to this position', 'go into overwrite mode'. <strong>There is no cursor</strong> - the abstraction is just 'send bytes here', and that's it. That gives your system the flexibility to let you hook it up to a printer and whatnot - to be able to be hooked up to a process' standard out, you just need to be capable of receiving bytes. The flipside is, you <em>cant</em> say: Move the cursor back.</p>\n<p>Except, if you can. Let's trace the exact flow of what happens in this sequence of events:</p>\n<pre><code>&gt; cat MyApp.java\npublic class MyApp {\n  public static void main(String[] args) {\n     System.out.print(&quot;Hi&quot;);\n  }\n}\n\n&gt; java MyApp.java\n</code></pre>\n<p>Given that you didn't use <code>&lt;</code> or <code>&gt;</code> to modify anything, and we typed this in a terminal, <code>System.out</code> is the terminal window itself. Specifically, <code>print(&quot;Hi&quot;)</code> will send the byte value for the <code>H</code> (72) to 'the standard output' and then 105 (the byte value for <code>i</code>). The standard output is hooked up to the terminal window which knows 'if I receive 72, that means I should move the cursor one position to the right and show a little picture that looks like an H.'. And that is why you see <code>Hi</code> appear.</p>\n<p>Some terminals will interpret certain byte value sequences as 'commands'. Such as 'move the cursor to the left', 'the foreground color is now light blue', 'emit a bell sound through the system speaker', and so on.</p>\n<h2>Okay so how do I do what I want?</h2>\n<p>... with the command stuff I wrote in the last paragraph of the previous section: There is sort of, kind of, a way. First print <code>Enter your favorite artist: example</code> as you usually would, but then send a command to move the cursor back so that it is over the 'e' in example. But your standard <code>System.in</code> defaults to 'cooked' mod which means that you get no input whatsoever until enter is pressed so this is at the very least going to look very ugly. The cursor is where we want it to be but that's not enough. We optimally want to receive a keypress as it arrives (instead of getting a whole line at once), and act accordingly. For example, after pressing the first key, we can send a bunch of commands that space over / wipe out the text <code>example</code> and then goes back to where the <code>e</code> was and print the character the user typed.</p>\n<p>Hence, we need to do two things:</p>\n<ol>\n<li><p>Check if <code>System.in</code> is currently typed system input in 'cooked mode', and if so, take it out of cooked mode. Otherwise, crash or swap to a code path that knows that there is no reversing or editing anything.</p>\n</li>\n<li><p>Emit to <code>System.out</code> these special commands. What are they?</p>\n</li>\n</ol>\n<p>The problem is, <strong>this is the part that is system dependent</strong>. On windows (<code>cmd.exe</code>) the ways to do this are completely different from <code>/bin/bash</code>.</p>\n<p>Hence, to develop this properly you'd have to delve into terminal commands for <em>each</em> platform you intend to support. For example, on most posixen this should work to uncook sysin:</p>\n<pre><code>String[] cmd = {&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;stty raw &lt;/dev/tty&quot;};\nRuntime.getRuntime().exec(cmd).waitFor();\nSystem.out.println(&quot;Now type and watch as I deal with each typed thing as you type it - marvelous!&quot;);\nSystem.out.println(&quot;Q to exit.&quot;);\nwhile (true) {\n  int t = System.in.read();\n  System.out.println(&quot;\\nYou typed value: &quot; + t + &quot; - which is '&quot; + (char) t + &quot;'!&quot;);\n  if (t == 'Q') System.exit(0);\n}\n\n</code></pre>\n<p>This actually works on my mac, but taking the terminal out of cooked mode also means that <code>\\n</code> just advanced to the next line and no longer puts the cursor to the start. Also, the 'raw mode' thing is <strong>permanent</strong> - even after the app exits my terminal is all wonky and I'd have to close and reopen. I can fix the newline issue by using <code>print</code> instead of <code>println</code> and adding <code>\\r\\n</code> to the end of each string. I can fix the 'it remains in raw mode' by going back to cooked mode. Here's a much nicer take:</p>\n<pre><code>String[] cmd = {&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;stty raw &lt;/dev/tty&quot;};\nRuntime.getRuntime().exec(cmd).waitFor();\nSystem.out.print(&quot;Now type and watch as I deal with each typed thing as you type it - marvelous!\\r\\n&quot;);\nSystem.out.print(&quot;Q to exit.\\r\\n&quot;);\nwhile (true) {\n  int t = System.in.read();\n  System.out.print(&quot;\\r\\nYou typed value: &quot; + t + &quot; - which is '&quot; + (char)\nt + &quot;'!\\r\\n&quot;);\n  if (t == 'Q') break;\n}\n\ncmd = new String[] {&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;stty cooked &lt;/dev/tty&quot;};\nRuntime.getRuntime().exec(cmd).waitFor();\n</code></pre>\n<p>But here's the problem: That will <em>definitely</em> not work on windows. That might not work on various linuxen. It's also going to completely fail if you start this app with <code>java MyApp.java &lt;stuff &gt;something_else</code>. And we just opened the door to allowing us to act immediately as the user starts typing (no waiting for enter), we haven't tackled moving the cursor around the screen yet.</p>\n<p>Which will be a very similar story: I can show you how to do it... for some specific OS and terminal. Not generally.</p>\n<h2>Deps to the rescue!</h2>\n<p>You can use ncurses or <a href=\"https://github.com/mabe02/lanterna\" rel=\"nofollow noreferrer\">Lanterna</a> or some other library that gives you text UIs for java support to do this, these libraries have done the footwork of figuring out how to do that on each OS as best as possible. You should definitely use those libraries.</p>\n<p>Or, ditch the plan and just use System.in/System.out as normal (don't involve having the user edit what they type), or, ditch System.in/System.out and use <code>java.swing</code> or similar to make a little UI. Or make it a web app. Which is what most folks do these days.</p>\n"}],"owner":{"account_id":17926648,"reputation":13,"user_id":13025122,"display_name":"wyznel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697155011,"creation_date":1697124825,"question_id":77281990,"body_markdown":"Creating a program that involves needing the users favourite music artist. I want them to be able to edit their choice if they so please.\r\n\r\nWhen they want to edit their favourite artist, they are shown what their current favourite artist is through the terminal:\r\n`Your favourite artist is: example`\r\n\r\nI want the user to be able to delete the text &quot;example&quot; and replace with something else, and then for it to be stored in a variable.\r\n\r\nVisualisation of what I want the user to be able to do: \r\n```\r\nYour favourite artist is: example\r\n```\r\nUser is now deleting the text &quot;example&quot;\r\n```\r\nYour favourite artist is: exa\r\n```\r\nUser has replaced &quot;example&quot; with &quot;newArtist&quot;\r\n```\r\nYour favourite artist is: newArtist\r\n```\r\n\r\nI have looked around and have been unable to find anything on this particular question. I have seen programs utilise this feature, however they weren&#39;t written in Java.","title":"Java edit text in terminal and save it to variable","body":"<p>Creating a program that involves needing the users favourite music artist. I want them to be able to edit their choice if they so please.</p>\n<p>When they want to edit their favourite artist, they are shown what their current favourite artist is through the terminal:\n<code>Your favourite artist is: example</code></p>\n<p>I want the user to be able to delete the text &quot;example&quot; and replace with something else, and then for it to be stored in a variable.</p>\n<p>Visualisation of what I want the user to be able to do:</p>\n<pre><code>Your favourite artist is: example\n</code></pre>\n<p>User is now deleting the text &quot;example&quot;</p>\n<pre><code>Your favourite artist is: exa\n</code></pre>\n<p>User has replaced &quot;example&quot; with &quot;newArtist&quot;</p>\n<pre><code>Your favourite artist is: newArtist\n</code></pre>\n<p>I have looked around and have been unable to find anything on this particular question. I have seen programs utilise this feature, however they weren't written in Java.</p>\n"},{"tags":["java","junit","bigdecimal"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1697151122,"post_id":77284204,"comment_id":136247350,"body_markdown":"`BigDecimal d = null;`?","body":"<code>BigDecimal d = null;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":14176255,"reputation":40,"user_id":10241414,"display_name":"Nakip Ali"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697154612,"creation_date":1697151479,"answer_id":77284230,"question_id":77284204,"body_markdown":"You can define [`BigDecimal.ZERO`][1] your coin variable instead of defining null.\r\n\r\nAccording to document \r\n\r\n[Docs Oracle][2]\r\n\r\n&gt; \r\n&gt; All methods and constructors for this class throw NullPointerException when passed a null object reference for any input parameter.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigDecimal.html#ZERO\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html","title":"How Can I Create A BigDecimal Object that has null as it&#39;s value","body":"<p>You can define <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigDecimal.html#ZERO\" rel=\"nofollow noreferrer\"><code>BigDecimal.ZERO</code></a> your coin variable instead of defining null.</p>\n<p>According to document</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">Docs Oracle</a></p>\n<blockquote>\n<p>All methods and constructors for this class throw NullPointerException when passed a null object reference for any input parameter.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697154930,"creation_date":1697154930,"answer_id":77284400,"question_id":77284204,"body_markdown":"&#128073;&#127996; Just assign `null` to your `BigDecimal` reference variable, as you would for any other class.\r\n\r\nExample class defined as a [record][1]. \r\n\r\n    record Coin ( String name , BigDecimal monetaryValue ) {}\r\n\r\nUsage with null.\r\n\r\n```java\r\nrecord Coin( String name , BigDecimal monetaryValue ) { }\r\nCoin c = new Coin ( &quot;Mystery&quot; , null );\r\n```\r\n\r\n&gt;c.toString() = Coin[name=Mystery, monetaryValue=null]\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395","title":"How Can I Create A BigDecimal Object that has null as it&#39;s value","body":"<p>👉🏼 Just assign <code>null</code> to your <code>BigDecimal</code> reference variable, as you would for any other class.</p>\n<p>Example class defined as a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>.</p>\n<pre><code>record Coin ( String name , BigDecimal monetaryValue ) {}\n</code></pre>\n<p>Usage with null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Coin( String name , BigDecimal monetaryValue ) { }\nCoin c = new Coin ( &quot;Mystery&quot; , null );\n</code></pre>\n<blockquote>\n<p>c.toString() = Coin[name=Mystery, monetaryValue=null]</p>\n</blockquote>\n"}],"owner":{"account_id":22083155,"reputation":15,"user_id":16342430,"display_name":"River Uzoma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697154930,"creation_date":1697150943,"question_id":77284204,"body_markdown":"I have a java program that I am testing and a lot of the code is centered around the idea that a coin can have a value null. The issue, the coin is defined using Coin(BigDecimal) and I cannot figure out how to convert the Bug Decimal Part to represent null.","title":"How Can I Create A BigDecimal Object that has null as it&#39;s value","body":"<p>I have a java program that I am testing and a lot of the code is centered around the idea that a coin can have a value null. The issue, the coin is defined using Coin(BigDecimal) and I cannot figure out how to convert the Bug Decimal Part to represent null.</p>\n"},{"tags":["java","aws-lambda","amazon-dynamodb","amazon-dynamodb-streams"],"comments":[{"owner":{"account_id":64681,"reputation":20733,"user_id":190823,"accept_rate":81,"display_name":"Jens"},"score":1,"creation_date":1644855502,"post_id":71114142,"comment_id":125710193,"body_markdown":"Can you please tell us what &quot;is not working&quot; means? Any particular errors? And please share the code of `Prospect.class`?","body":"Can you please tell us what &quot;is not working&quot; means? Any particular errors? And please share the code of <code>Prospect.class</code>?"},{"owner":{"account_id":8389931,"reputation":503,"user_id":6298969,"display_name":"Rahul"},"score":0,"creation_date":1644865766,"post_id":71114142,"comment_id":125713755,"body_markdown":"Hi @Jens,  I have edited the question.","body":"Hi @Jens,  I have edited the question."}],"answers":[{"tags":[],"owner":{"account_id":29660101,"reputation":1,"user_id":22731857,"display_name":"kjb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697154825,"creation_date":1697154825,"answer_id":77284395,"question_id":71114142,"body_markdown":"You can use \r\n\r\n    software.amazon.awssdk.enhanced.dynamodb.document.EnhancedDocument;\r\n    \r\n    EnhancedDocument.fromAttributeValueMap(your-image-from-stream).toJson();\r\n\r\nNote that you might need to convert the StreamRecord Pojo with\r\n\r\n    List&lt;Record&gt; convertedRecords = \r\n    DynamodbEventTransformer.toRecordsV2(ddbEvent);\r\n\r\nper\r\n\r\nhttps://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-events-sdk-transformer/README.md\r\n\r\nThere are different versions from \r\ncom.amazonaws.services.lambda.runtime.events.DynamodbEvent\r\nand the newer (I assume) implementation\r\nsoftware.amazon.awssdk.services.dynamodb.model\r\n\r\nyou&#39;ll find differences in AttributeValue and StreamRecord, with builders in the services.dynamodb.model\r\ne.g.\r\n\r\n    com.amazonaws.services.lambda.runtime.events.models.dynamodb.AttributeValue;\r\n    software.amazon.awssdk.services.dynamodb.model.AttributeValue;\r\n\r\n\r\n","title":"Parse Dynamo Db Stream record to Object in Java","body":"<p>You can use</p>\n<pre><code>software.amazon.awssdk.enhanced.dynamodb.document.EnhancedDocument;\n\nEnhancedDocument.fromAttributeValueMap(your-image-from-stream).toJson();\n</code></pre>\n<p>Note that you might need to convert the StreamRecord Pojo with</p>\n<pre><code>List&lt;Record&gt; convertedRecords = \nDynamodbEventTransformer.toRecordsV2(ddbEvent);\n</code></pre>\n<p>per</p>\n<p><a href=\"https://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-events-sdk-transformer/README.md\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-events-sdk-transformer/README.md</a></p>\n<p>There are different versions from\ncom.amazonaws.services.lambda.runtime.events.DynamodbEvent\nand the newer (I assume) implementation\nsoftware.amazon.awssdk.services.dynamodb.model</p>\n<p>you'll find differences in AttributeValue and StreamRecord, with builders in the services.dynamodb.model\ne.g.</p>\n<pre><code>com.amazonaws.services.lambda.runtime.events.models.dynamodb.AttributeValue;\nsoftware.amazon.awssdk.services.dynamodb.model.AttributeValue;\n</code></pre>\n"}],"owner":{"account_id":8389931,"reputation":503,"user_id":6298969,"display_name":"Rahul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1697154825,"creation_date":1644852010,"question_id":71114142,"body_markdown":"The items from the stream have the data type present in the stream.\r\n\r\nI am trying to find a library similar to dynamodb-data-types, which can unwrap the dynamoDB structure to json structure for java. My lambda is in java.\r\n\r\nEg: I am trying to convert\r\n\r\n    {\r\n        &quot;prospectId&quot;: {\r\n            &quot;S&quot;: &quot;kjhakh23444&quot;\r\n        },\r\n        &quot;campaignId&quot;: {\r\n            &quot;S&quot;: &quot;kjhniujj123&quot;\r\n        }\r\n    }\r\n\r\nto\r\n\r\n    {\r\n        &quot;prospectId&quot;: &quot;kjhakh23444&quot;,\r\n        &quot;campaignId&quot;: &quot;kjhniujj123&quot;\r\n    }\r\n\r\nProspect.java\r\n\r\n        @DynamoDBTable(tableName=&quot;Prospect&quot;)\r\n    public class Prospect {\r\n        private String campaignId;\r\n        private String prospectId;\r\n        \r\n    \tpublic Prospect() {\r\n        }\r\n    \r\n    \r\n        @DynamoDBHashKey(attributeName=&quot;campaignId&quot;)\r\n        public String getCampaignId() {\r\n            return campaignId;\r\n        }\r\n    \r\n        public void setCampaignId(String campaignId) {\r\n            this.campaignId = campaignId;\r\n        }\r\n    \r\n        public String getProspectId() {\r\n            return prospectId;\r\n        }\r\n    \r\n        public void setProspectId(String prospectId) {\r\n            this.prospectId = prospectId;\r\n        }\r\n    }\r\n\r\nI am trying below but as per the DynamoDbStreamRecord structure, below will not work out. How can I parse DynamoDbStreamRecord so that I get the Prospect Object?\r\n\r\n    String body = new Gson().toJson(dynamodbStreamRecord.getDynamodb().getNewImage());\r\n        Prospect prospect = new Gson().fromJson(body, Prospect.class);\r\n\r\nPlease help me out.","title":"Parse Dynamo Db Stream record to Object in Java","body":"<p>The items from the stream have the data type present in the stream.</p>\n<p>I am trying to find a library similar to dynamodb-data-types, which can unwrap the dynamoDB structure to json structure for java. My lambda is in java.</p>\n<p>Eg: I am trying to convert</p>\n<pre><code>{\n    &quot;prospectId&quot;: {\n        &quot;S&quot;: &quot;kjhakh23444&quot;\n    },\n    &quot;campaignId&quot;: {\n        &quot;S&quot;: &quot;kjhniujj123&quot;\n    }\n}\n</code></pre>\n<p>to</p>\n<pre><code>{\n    &quot;prospectId&quot;: &quot;kjhakh23444&quot;,\n    &quot;campaignId&quot;: &quot;kjhniujj123&quot;\n}\n</code></pre>\n<p>Prospect.java</p>\n<pre><code>    @DynamoDBTable(tableName=&quot;Prospect&quot;)\npublic class Prospect {\n    private String campaignId;\n    private String prospectId;\n    \n    public Prospect() {\n    }\n\n\n    @DynamoDBHashKey(attributeName=&quot;campaignId&quot;)\n    public String getCampaignId() {\n        return campaignId;\n    }\n\n    public void setCampaignId(String campaignId) {\n        this.campaignId = campaignId;\n    }\n\n    public String getProspectId() {\n        return prospectId;\n    }\n\n    public void setProspectId(String prospectId) {\n        this.prospectId = prospectId;\n    }\n}\n</code></pre>\n<p>I am trying below but as per the DynamoDbStreamRecord structure, below will not work out. How can I parse DynamoDbStreamRecord so that I get the Prospect Object?</p>\n<pre><code>String body = new Gson().toJson(dynamodbStreamRecord.getDynamodb().getNewImage());\n    Prospect prospect = new Gson().fromJson(body, Prospect.class);\n</code></pre>\n<p>Please help me out.</p>\n"},{"tags":["java","android","mobile","widget"],"owner":{"account_id":23570669,"reputation":84,"user_id":17610846,"display_name":"Juan C."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697153653,"creation_date":1697151090,"question_id":77284208,"body_markdown":"I am developing an app in Flutter with an associated widget. The widget&#39;s logic relies solely on the current day. Currently, it functions with a worker that runs continuously. However, I would like the app to open when clicking the widget. I attempted to achieve this by adding a button inside the widget associated with a PendingIntent. However, for some reason, after making this change, the values disappear from the widget and empty texts appear in their place. I have tried to figure out why this happens, but I do not understand what is causing it. Thank you.\r\n\r\n\r\nthis is the code of the android widget without the pendidng intent:\r\n\r\n```\r\n\r\n\r\nimport android.util.DisplayMetrics;\r\nimport android.content.ComponentName;\r\nimport android.appwidget.AppWidgetManager;\r\nimport android.appwidget.AppWidgetProvider;\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\nimport android.util.TypedValue;\r\nimport android.widget.RemoteViews;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.work.Constraints;\r\nimport androidx.work.NetworkType;\r\nimport androidx.work.PeriodicWorkRequest;\r\nimport androidx.work.WorkManager;\r\nimport androidx.work.Worker;\r\nimport androidx.work.WorkerParameters;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.Locale;\r\n\r\npublic class SimpleWidgetProvider extends AppWidgetProvider {\r\n\r\n    @Override\r\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n        super.onUpdate(context, appWidgetManager, appWidgetIds);\r\n\r\n        Constraints constraints = new Constraints.Builder()\r\n                .setRequiredNetworkType(NetworkType.CONNECTED)\r\n                .build();\r\n\r\n        PeriodicWorkRequest workRequest = new PeriodicWorkRequest.Builder(\r\n                UpdateWidgetWorker.class,\r\n                30,\r\n                TimeUnit.MINUTES)\r\n                .setConstraints(constraints)\r\n                .build();\r\n\r\n        WorkManager.getInstance(context).enqueue(workRequest);\r\n    }\r\n\r\n    public static class UpdateWidgetWorker extends Worker {\r\n\r\n        public UpdateWidgetWorker(\r\n                @NonNull Context context,\r\n                @NonNull WorkerParameters workerParams) {\r\n            super(context, workerParams);\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public Result doWork() {\r\n            Context context = getApplicationContext();\r\n            AppWidgetManager appWidgetManager = AppWidgetManager.getInstance(context);\r\n\r\n            int[] appWidgetIds = appWidgetManager.getAppWidgetIds(\r\n                    new ComponentName(context, SimpleWidgetProvider.class));\r\n\r\n            for (int appWidgetId : appWidgetIds) {\r\n                updateWidget(context, appWidgetManager, appWidgetId);\r\n            }\r\n\r\n            return Result.success();\r\n        }\r\n\r\n        private void updateWidget(Context context, AppWidgetManager appWidgetManager, int appWidgetId) {\r\n            RemoteViews widgetUpdateViews = new RemoteViews(context.getPackageName(), R.layout.simple_widget);\r\n\r\n           DisplayMetrics displayMetrics = context.getResources().getDisplayMetrics();\r\n            int screenWidth = displayMetrics.widthPixels;\r\n            int screenHeight = displayMetrics.heightPixels;\r\n\r\n           int textSize;\r\n            if (screenWidth &lt;= 485 &amp;&amp; screenHeight &lt;= 805) {\r\n                textSize = 18; \r\n            }\r\n\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String currentDate = dateFormat.format(new Date());\r\n\r\n            int shouldShowZeroOne = checkSpecialDates(currentDate);\r\n\r\n            SimpleDateFormat otroDate = new SimpleDateFormat(&quot;EEEE&quot;, new Locale(&quot;es&quot;, &quot;ES&quot;));\r\n            String otroWeek = otroDate.format(new Date());\r\n            otroWeek = otroWeek.substring(0, 1).toUpperCase() + otroWeek.substring(1);\r\n\r\n            widgetUpdateViews.setTextViewText(R.id.textViewOtro, otroWeek);\r\n\r\n            if (shouldShowZeroOne == 5) {\r\n                widgetUpdateViews.setTextViewText(R.id.textView, &quot;8 - 9&quot;);\r\n                widgetUpdateViews.setTextViewTextSize(R.id.textView, TypedValue.COMPLEX_UNIT_SP, textSize);\r\n\r\n            }\r\n            if (shouldShowZeroOne == 0) {\r\n                widgetUpdateViews.setTextViewTextSize(R.id.textView, TypedValue.COMPLEX_UNIT_SP, (textSize - 6));\r\n                widgetUpdateViews.setTextViewText(R.id.textView, &quot;&#128077;&quot;);\r\n\r\n            }\r\n            appWidgetManager.updateAppWidget(appWidgetId, widgetUpdateViews);\r\n        }\r\n\r\n        private int checkSpecialDates(String currentDate) {\r\n String[] targetDates89 = {\r\n                    &quot;2023-10-06&quot;};\r\n            for (String date : targetDates89) {\r\n                if (currentDate.equals(date)) {\r\n                    return 5;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nThis is the code of the widget layout simple_widget.\r\n\r\n```\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#55000000&quot;&gt; \r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/titleTextView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;car &quot;\r\n        android:textSize=&quot;14sp&quot;\r\n        android:textColor=&quot;#FFFFFFFF&quot;\r\n        android:textStyle=&quot;bold&quot; \r\n        android:alpha=&quot;0.8&quot; \r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;8dp&quot; \r\n        android:layout_marginBottom=&quot;16dp&quot; /&gt; \r\n        \r\n          &lt;TextView\r\n        android:id=&quot;@+id/algo&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;&quot;\r\n        android:textSize=&quot;15sp&quot;\r\n        android:textColor=&quot;#FFFFFFFF&quot;\r\n        android:textStyle=&quot;bold&quot; \r\n        android:alpha=&quot;0.8&quot; \r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;8dp&quot; \r\n        android:layout_marginBottom=&quot;16dp&quot; /&gt; \r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;0&quot;\r\n        android:textSize=&quot;40sp&quot; \r\n        android:textColor=&quot;#FFFFFF&quot; \r\n        android:alpha=&quot;0.8&quot; \r\n        android:layout_marginTop=&quot;15dp&quot; \r\n        android:layout_centerInParent=&quot;true&quot; /&gt;\r\n\r\n            &lt;TextView\r\n        android:id=&quot;@+id/textViewOtro&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textSize=&quot;17sp&quot;\r\n        android:textColor=&quot;#FFFFFFFF&quot;\r\n        android:alpha=&quot;0.8&quot; \r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;8dp&quot; /&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n\r\nI tried adding pending intents to open the flutter app to the widget and to buttons added to the widget, but every time I make this change, the values in the widget become permanently blank.","title":"Android widget blanking variables when configured to open the main app on click","body":"<p>I am developing an app in Flutter with an associated widget. The widget's logic relies solely on the current day. Currently, it functions with a worker that runs continuously. However, I would like the app to open when clicking the widget. I attempted to achieve this by adding a button inside the widget associated with a PendingIntent. However, for some reason, after making this change, the values disappear from the widget and empty texts appear in their place. I have tried to figure out why this happens, but I do not understand what is causing it. Thank you.</p>\n<p>this is the code of the android widget without the pendidng intent:</p>\n<pre><code>\n\nimport android.util.DisplayMetrics;\nimport android.content.ComponentName;\nimport android.appwidget.AppWidgetManager;\nimport android.appwidget.AppWidgetProvider;\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.util.TypedValue;\nimport android.widget.RemoteViews;\nimport androidx.annotation.NonNull;\nimport androidx.work.Constraints;\nimport androidx.work.NetworkType;\nimport androidx.work.PeriodicWorkRequest;\nimport androidx.work.WorkManager;\nimport androidx.work.Worker;\nimport androidx.work.WorkerParameters;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.concurrent.TimeUnit;\nimport java.util.Locale;\n\npublic class SimpleWidgetProvider extends AppWidgetProvider {\n\n    @Override\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n        super.onUpdate(context, appWidgetManager, appWidgetIds);\n\n        Constraints constraints = new Constraints.Builder()\n                .setRequiredNetworkType(NetworkType.CONNECTED)\n                .build();\n\n        PeriodicWorkRequest workRequest = new PeriodicWorkRequest.Builder(\n                UpdateWidgetWorker.class,\n                30,\n                TimeUnit.MINUTES)\n                .setConstraints(constraints)\n                .build();\n\n        WorkManager.getInstance(context).enqueue(workRequest);\n    }\n\n    public static class UpdateWidgetWorker extends Worker {\n\n        public UpdateWidgetWorker(\n                @NonNull Context context,\n                @NonNull WorkerParameters workerParams) {\n            super(context, workerParams);\n        }\n\n        @NonNull\n        @Override\n        public Result doWork() {\n            Context context = getApplicationContext();\n            AppWidgetManager appWidgetManager = AppWidgetManager.getInstance(context);\n\n            int[] appWidgetIds = appWidgetManager.getAppWidgetIds(\n                    new ComponentName(context, SimpleWidgetProvider.class));\n\n            for (int appWidgetId : appWidgetIds) {\n                updateWidget(context, appWidgetManager, appWidgetId);\n            }\n\n            return Result.success();\n        }\n\n        private void updateWidget(Context context, AppWidgetManager appWidgetManager, int appWidgetId) {\n            RemoteViews widgetUpdateViews = new RemoteViews(context.getPackageName(), R.layout.simple_widget);\n\n           DisplayMetrics displayMetrics = context.getResources().getDisplayMetrics();\n            int screenWidth = displayMetrics.widthPixels;\n            int screenHeight = displayMetrics.heightPixels;\n\n           int textSize;\n            if (screenWidth &lt;= 485 &amp;&amp; screenHeight &lt;= 805) {\n                textSize = 18; \n            }\n\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n            String currentDate = dateFormat.format(new Date());\n\n            int shouldShowZeroOne = checkSpecialDates(currentDate);\n\n            SimpleDateFormat otroDate = new SimpleDateFormat(&quot;EEEE&quot;, new Locale(&quot;es&quot;, &quot;ES&quot;));\n            String otroWeek = otroDate.format(new Date());\n            otroWeek = otroWeek.substring(0, 1).toUpperCase() + otroWeek.substring(1);\n\n            widgetUpdateViews.setTextViewText(R.id.textViewOtro, otroWeek);\n\n            if (shouldShowZeroOne == 5) {\n                widgetUpdateViews.setTextViewText(R.id.textView, &quot;8 - 9&quot;);\n                widgetUpdateViews.setTextViewTextSize(R.id.textView, TypedValue.COMPLEX_UNIT_SP, textSize);\n\n            }\n            if (shouldShowZeroOne == 0) {\n                widgetUpdateViews.setTextViewTextSize(R.id.textView, TypedValue.COMPLEX_UNIT_SP, (textSize - 6));\n                widgetUpdateViews.setTextViewText(R.id.textView, &quot;👍&quot;);\n\n            }\n            appWidgetManager.updateAppWidget(appWidgetId, widgetUpdateViews);\n        }\n\n        private int checkSpecialDates(String currentDate) {\n String[] targetDates89 = {\n                    &quot;2023-10-06&quot;};\n            for (String date : targetDates89) {\n                if (currentDate.equals(date)) {\n                    return 5;\n                }\n            }\n            return 0;\n        }\n\n    }\n}\n</code></pre>\n<p>This is the code of the widget layout simple_widget.</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#55000000&quot;&gt; \n\n    &lt;TextView\n        android:id=&quot;@+id/titleTextView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;car &quot;\n        android:textSize=&quot;14sp&quot;\n        android:textColor=&quot;#FFFFFFFF&quot;\n        android:textStyle=&quot;bold&quot; \n        android:alpha=&quot;0.8&quot; \n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;8dp&quot; \n        android:layout_marginBottom=&quot;16dp&quot; /&gt; \n        \n          &lt;TextView\n        android:id=&quot;@+id/algo&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;&quot;\n        android:textSize=&quot;15sp&quot;\n        android:textColor=&quot;#FFFFFFFF&quot;\n        android:textStyle=&quot;bold&quot; \n        android:alpha=&quot;0.8&quot; \n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;8dp&quot; \n        android:layout_marginBottom=&quot;16dp&quot; /&gt; \n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;0&quot;\n        android:textSize=&quot;40sp&quot; \n        android:textColor=&quot;#FFFFFF&quot; \n        android:alpha=&quot;0.8&quot; \n        android:layout_marginTop=&quot;15dp&quot; \n        android:layout_centerInParent=&quot;true&quot; /&gt;\n\n            &lt;TextView\n        android:id=&quot;@+id/textViewOtro&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textSize=&quot;17sp&quot;\n        android:textColor=&quot;#FFFFFFFF&quot;\n        android:alpha=&quot;0.8&quot; \n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginBottom=&quot;8dp&quot; /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>I tried adding pending intents to open the flutter app to the widget and to buttons added to the widget, but every time I make this change, the values in the widget become permanently blank.</p>\n"},{"tags":["java","annotations"],"answers":[{"tags":[],"owner":{"account_id":494189,"reputation":343,"user_id":2098298,"accept_rate":75,"display_name":"user13097"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1554002576,"creation_date":1460628661,"answer_id":36619997,"question_id":36374597,"body_markdown":"javac can process source and class level annotations, with the `-processor` option.  See javax.annotation.processing.AbstractProcessor.  (Since java 1.6).\r\n\r\nI started using it while compiling .java files.  Apparently it can also be used to process CLASS annotations with .class input files.  I haven&#39;t tried this because I&#39;m using ant to compile, and ant does not seem to pass .class files to the compiler.\r\n\r\nI have to do a full compile when I want to process all the annotations in my project.\r\n","title":"How can I access a RetentionPolicy.CLASS java annotation?","body":"<p>javac can process source and class level annotations, with the <code>-processor</code> option.  See javax.annotation.processing.AbstractProcessor.  (Since java 1.6).</p>\n\n<p>I started using it while compiling .java files.  Apparently it can also be used to process CLASS annotations with .class input files.  I haven't tried this because I'm using ant to compile, and ant does not seem to pass .class files to the compiler.</p>\n\n<p>I have to do a full compile when I want to process all the annotations in my project.</p>\n"},{"tags":[],"owner":{"account_id":923117,"reputation":384,"user_id":954413,"display_name":"estiedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497597726,"creation_date":1497597726,"answer_id":44583230,"question_id":36374597,"body_markdown":"I think you might want to have a look at [this tutorial][1].\r\n\r\nIt explains how to create your own annotation processor and how to use it to generate code. It doesn&#39;t handle bytecode manipulation though.\r\n\r\nHe also gave a presentation available on [YouTube][2]. In case you&#39;re too lazy to read... ;-)\r\n\r\n\r\n  [1]: http://hannesdorfmann.com/annotation-processing/annotationprocessing101\r\n  [2]: https://youtu.be/43FFfTyDYEg","title":"How can I access a RetentionPolicy.CLASS java annotation?","body":"<p>I think you might want to have a look at <a href=\"http://hannesdorfmann.com/annotation-processing/annotationprocessing101\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n\n<p>It explains how to create your own annotation processor and how to use it to generate code. It doesn't handle bytecode manipulation though.</p>\n\n<p>He also gave a presentation available on <a href=\"https://youtu.be/43FFfTyDYEg\" rel=\"nofollow noreferrer\">YouTube</a>. In case you're too lazy to read... ;-)</p>\n"},{"tags":[],"owner":{"account_id":877657,"reputation":175,"user_id":120822,"display_name":"rtenhove"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697153625,"creation_date":1697153625,"answer_id":77284334,"question_id":36374597,"body_markdown":"An alternative technique that can be used during test or application execution (as opposed to during compilation) is to use ASM to load the underlying class file for the annotated class. ASM tree nodes include an &quot;invisibleAnnotations&quot; list for all `RetentionPolicy.CLASS` annotations. The ASM event API has an equivalent.\r\n\r\nI have never encountered an open-source library that does this, but have done it for a closed-source project, so it does work.","title":"How can I access a RetentionPolicy.CLASS java annotation?","body":"<p>An alternative technique that can be used during test or application execution (as opposed to during compilation) is to use ASM to load the underlying class file for the annotated class. ASM tree nodes include an &quot;invisibleAnnotations&quot; list for all <code>RetentionPolicy.CLASS</code> annotations. The ASM event API has an equivalent.</p>\n<p>I have never encountered an open-source library that does this, but have done it for a closed-source project, so it does work.</p>\n"}],"owner":{"account_id":494189,"reputation":343,"user_id":2098298,"accept_rate":75,"display_name":"user13097"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1655,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36619997,"answer_count":3,"score":1,"last_activity_date":1697153625,"creation_date":1459607858,"question_id":36374597,"body_markdown":"Is there a way to configure a ClassLoader or a JVM to load annotations with CLASS retention policy, so I can access them using reflection?\r\n\r\nThis is useful for compile-time post-processing, as mentioned [here][1].\r\nI annotate some of my classes in order to generate an antlib.xml file automatically.  I would prefer if my annotation could have CLASS retention policy, so that it does not create runtime dependencies.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3849593/java-annotations-looking-for-an-example-of-retentionpolicy-class","title":"How can I access a RetentionPolicy.CLASS java annotation?","body":"<p>Is there a way to configure a ClassLoader or a JVM to load annotations with CLASS retention policy, so I can access them using reflection?</p>\n\n<p>This is useful for compile-time post-processing, as mentioned <a href=\"https://stackoverflow.com/questions/3849593/java-annotations-looking-for-an-example-of-retentionpolicy-class\">here</a>.\nI annotate some of my classes in order to generate an antlib.xml file automatically.  I would prefer if my annotation could have CLASS retention policy, so that it does not create runtime dependencies.</p>\n"},{"tags":["java","jpanel","jlayeredpane"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1697154480,"post_id":77284326,"comment_id":136247676,"body_markdown":"If you&#39;re going to have game layers, you create one and only one drawing `JPanel` and draw the background, enemy, and character images in succession.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.","body":"If you&#39;re going to have game layers, you create one and only one drawing <code>JPanel</code> and draw the background, enemy, and character images in succession.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1697158478,"post_id":77284326,"comment_id":136247933,"body_markdown":"*&quot;I have seperat JPanels for the background, the enemy and the movable character&quot;* - I&#39;d discourage you from doing this, as Swing component&#39;s are not well suited to task - instead, I&#39;d encourage a workflow based on custom painting","body":"<i>&quot;I have seperat JPanels for the background, the enemy and the movable character&quot;</i> - I&#39;d discourage you from doing this, as Swing component&#39;s are not well suited to task - instead, I&#39;d encourage a workflow based on custom painting"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1697159567,"post_id":77284326,"comment_id":136248021,"body_markdown":"*but the enemy JPanel and the character JPanel are not on top of each other,* - Swing has a parent/child relationship. I&#39;m not sure how both panels can be on top of each other. Only one can be on top of the other. So if you want the &quot;character&quot; on top of the &quot;enemy&quot; then you need logic like: enemy.add(character). *gp = (JPanel) getGlassPane();* - don&#39;t attempt to use the glass pane like this. Generally you only  add Swing components to the content pane. However, as suggested above you really should be doing custom painting on a single JPanel for a game like this.","body":"<i>but the enemy JPanel and the character JPanel are not on top of each other,</i> - Swing has a parent/child relationship. I&#39;m not sure how both panels can be on top of each other. Only one can be on top of the other. So if you want the &quot;character&quot; on top of the &quot;enemy&quot; then you need logic like: enemy.add(character). <i>gp = (JPanel) getGlassPane();</i> - don&#39;t attempt to use the glass pane like this. Generally you only  add Swing components to the content pane. However, as suggested above you really should be doing custom painting on a single JPanel for a game like this."}],"owner":{"account_id":29660023,"reputation":1,"user_id":22731801,"display_name":"Tatsuki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697153537,"creation_date":1697153537,"question_id":77284326,"body_markdown":"So I&#39;m trying to make this 2D game, with a character and an enemy. I have seperat JPanels for the background, the enemy and the movable character. I tried putting all of them in the same JFrame, on top of each other, but the enemy JPanel and the character JPanel are not on top of each other, but rather next to each other. I also tried LayeredPane but couldn&#39;t really get it to work.\r\n\r\nThis is the code for the JFrame, if necessary, I could provide the code for the other classes aswell (keying is the character, enemy is the enemy (duh) and Images is the background):    \r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Display extends JFrame{\r\n    public JPanel gp = (JPanel) getGlassPane();\r\n    public Images i;\r\n    public static Keying k;\r\n    public Enemy en;\r\n\r\n    public Display() {\r\n        i = new Images();\r\n        gp.setVisible(true);\r\n        k = new Keying(this, i);\r\n        i.loadImages();\r\n        en = new Enemy(k);\r\n\r\n        gp.setLayout(new GridLayout(1,1,0,0));\r\n        this.setLayout(new GridLayout(1,1,0,0));\r\n\r\n        gp.add(k);\r\n        this.add(i);\r\n        gp.add(en);\r\n    }\r\n}\r\n```","title":"Multiple JPanels on top of each other?","body":"<p>So I'm trying to make this 2D game, with a character and an enemy. I have seperat JPanels for the background, the enemy and the movable character. I tried putting all of them in the same JFrame, on top of each other, but the enemy JPanel and the character JPanel are not on top of each other, but rather next to each other. I also tried LayeredPane but couldn't really get it to work.</p>\n<p>This is the code for the JFrame, if necessary, I could provide the code for the other classes aswell (keying is the character, enemy is the enemy (duh) and Images is the background):</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Display extends JFrame{\n    public JPanel gp = (JPanel) getGlassPane();\n    public Images i;\n    public static Keying k;\n    public Enemy en;\n\n    public Display() {\n        i = new Images();\n        gp.setVisible(true);\n        k = new Keying(this, i);\n        i.loadImages();\n        en = new Enemy(k);\n\n        gp.setLayout(new GridLayout(1,1,0,0));\n        this.setLayout(new GridLayout(1,1,0,0));\n\n        gp.add(k);\n        this.add(i);\n        gp.add(en);\n    }\n}\n</code></pre>\n"},{"tags":["java","html","pixi.js"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1697139518,"post_id":77283406,"comment_id":136245832,"body_markdown":"Are you sure you are using it the correct way? Their API documentation doesn&#39;t have any mention of any Loader, the only one there is from the Assets component which is now deprecated. https://pixijs.download/release/docs/PIXI.Assets.html#loader PS i am no js specialist... I just looked at their documentation","body":"Are you sure you are using it the correct way? Their API documentation doesn&#39;t have any mention of any Loader, the only one there is from the Assets component which is now deprecated. <a href=\"https://pixijs.download/release/docs/PIXI.Assets.html#loader\" rel=\"nofollow noreferrer\">pixijs.download/release/docs/PIXI.Assets.html#loader</a> PS i am no js specialist... I just looked at their documentation"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1697139688,"post_id":77283406,"comment_id":136245860,"body_markdown":"Searching a bit more, it seems your code is using an older version API of their library so I would suggest first checking whether this is the case","body":"Searching a bit more, it seems your code is using an older version API of their library so I would suggest first checking whether this is the case"},{"owner":{"account_id":29659087,"reputation":21,"user_id":22731143,"display_name":"Daniel Jokiranta"},"score":0,"creation_date":1697141236,"post_id":77283406,"comment_id":136246078,"body_markdown":"@JorgeCampos This is what I used: https://pixijs.download/v6.1.1/docs/PIXI.Loader.html I tried CTRL + F to search for deprec or keywords the same, but it seems like the github has been updated last on 2019. What should I to create a function that lets me freely choose the name, path, x and y for an image?","body":"@JorgeCampos This is what I used: <a href=\"https://pixijs.download/v6.1.1/docs/PIXI.Loader.html\" rel=\"nofollow noreferrer\">pixijs.download/v6.1.1/docs/PIXI.Loader.html</a> I tried CTRL + F to search for deprec or keywords the same, but it seems like the github has been updated last on 2019. What should I to create a function that lets me freely choose the name, path, x and y for an image?"},{"owner":{"account_id":29659087,"reputation":21,"user_id":22731143,"display_name":"Daniel Jokiranta"},"score":1,"creation_date":1697141791,"post_id":77283406,"comment_id":136246174,"body_markdown":"I found it, https://pixijs.com/tutorial#2 An extremely easy way to add an image.","body":"I found it, <a href=\"https://pixijs.com/tutorial#2\" rel=\"nofollow noreferrer\">pixijs.com/tutorial#2</a> An extremely easy way to add an image."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1697145260,"post_id":77283406,"comment_id":136246687,"body_markdown":"Great!! Add an answer for your question then :) it might help others in the future!","body":"Great!! Add an answer for your question then :) it might help others in the future!"}],"answers":[{"tags":[],"owner":{"account_id":29659087,"reputation":21,"user_id":22731143,"display_name":"Daniel Jokiranta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697153374,"creation_date":1697153374,"answer_id":77284315,"question_id":77283406,"body_markdown":"Stackoverflow will offer you the code that I had (if you ask it to make it a function), do not use that as PIXI.Loader has been deprecated. \r\n\r\nA simple snippet will work:\r\n\r\n    const Image = PIXI.Sprite.from(&quot;images/image.png&quot;)\r\n    app.stage.addChild(Image);\r\n\r\n","title":"PIXI.Loader is not a constructor?","body":"<p>Stackoverflow will offer you the code that I had (if you ask it to make it a function), do not use that as PIXI.Loader has been deprecated.</p>\n<p>A simple snippet will work:</p>\n<pre><code>const Image = PIXI.Sprite.from(&quot;images/image.png&quot;)\napp.stage.addChild(Image);\n</code></pre>\n"}],"owner":{"account_id":29659087,"reputation":21,"user_id":22731143,"display_name":"Daniel Jokiranta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697153374,"creation_date":1697139123,"question_id":77283406,"body_markdown":"I created a javascript file consisting of only a exportable function:\r\n\r\n\r\n```\r\nexport function addImageToCanvas(imagePath, spriteX, spriteY) {\r\n  const loader = new PIXI.Loader();\r\n  loader.add(&#39;image&#39;, imagePath);\r\n  loader.load((loader, resources) =&gt; {\r\n    createSprite(resources.image.texture, spriteX, spriteY);\r\n  });\r\n\r\n  function createSprite(texture, x, y) {\r\n    const sprite = new PIXI.Sprite(texture);\r\n    sprite.x = x;\r\n    sprite.y = y;\r\n    app.stage.addChild(sprite);\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nAnd I am trying to use it in my game.js:\r\n\r\n\r\n```\r\nimport { addImageToCanvas } from &quot;./imageLoader.js&quot;;\r\n\r\nvar cloudExists = false;\r\n\r\napp.ticker.add(gameLoop);\r\napp.ticker.start();\r\nfunction gameLoop(delta) {    \r\n    drawCloud();\r\n}\r\n\r\n\r\nfunction drawCloud() {\r\n    if (cloudExists == false) {\r\n        addImageToCanvas(&quot;images/cloud.png&quot;, 200, 200);\r\n        cloudExists = true;\r\n    }\r\n}\r\n```\r\n\r\n\r\n&quot;app&quot; is defined in canvas &quot;config&quot; file:\r\n\r\n\r\n```\r\nwindow.app = new PIXI.Application(\r\n    {\r\n        width: window.innerWidth,\r\n        height: (30 / 100) * window.innerHeight,\r\n        backgroundColor: 0x77adf7\r\n    }\r\n\r\n);\r\ndocument.body.appendChild(app.view);\r\n\r\nfunction resize() {\r\n    const newWidth = window.innerWidth;\r\n    const newHeight = (30 / 100) * window.innerHeight; // 30% of window height\r\n  \r\n    app.renderer.resize(newWidth, newHeight); \r\n}\r\nwindow.addEventListener(&#39;resize&#39;, resize);\r\n\r\n```\r\n\r\n\r\n\r\nI am trying to create an image load function, but it will give me the error &quot;Uncaught TypeError: PIXI.Loader is not a constructor&quot;.\r\n\r\nI had this with PIXI.Application, but once I switched to this pixi.js [https://pixijs.download/release/pixi.js](Pixi.js from the tutorial) , I got it fixed but now I am having a problem with PIXI.Loader.\r\n\r\nThe function is partially made by ChatGPT, but as PIXI.Loader is mentioned in the pixi.js file it shouldnt have this error.\r\n\r\nIf this information is not enough then I can give more. ","title":"PIXI.Loader is not a constructor?","body":"<p>I created a javascript file consisting of only a exportable function:</p>\n<pre><code>export function addImageToCanvas(imagePath, spriteX, spriteY) {\n  const loader = new PIXI.Loader();\n  loader.add('image', imagePath);\n  loader.load((loader, resources) =&gt; {\n    createSprite(resources.image.texture, spriteX, spriteY);\n  });\n\n  function createSprite(texture, x, y) {\n    const sprite = new PIXI.Sprite(texture);\n    sprite.x = x;\n    sprite.y = y;\n    app.stage.addChild(sprite);\n  }\n}\n</code></pre>\n<p>And I am trying to use it in my game.js:</p>\n<pre><code>import { addImageToCanvas } from &quot;./imageLoader.js&quot;;\n\nvar cloudExists = false;\n\napp.ticker.add(gameLoop);\napp.ticker.start();\nfunction gameLoop(delta) {    \n    drawCloud();\n}\n\n\nfunction drawCloud() {\n    if (cloudExists == false) {\n        addImageToCanvas(&quot;images/cloud.png&quot;, 200, 200);\n        cloudExists = true;\n    }\n}\n</code></pre>\n<p>&quot;app&quot; is defined in canvas &quot;config&quot; file:</p>\n<pre><code>window.app = new PIXI.Application(\n    {\n        width: window.innerWidth,\n        height: (30 / 100) * window.innerHeight,\n        backgroundColor: 0x77adf7\n    }\n\n);\ndocument.body.appendChild(app.view);\n\nfunction resize() {\n    const newWidth = window.innerWidth;\n    const newHeight = (30 / 100) * window.innerHeight; // 30% of window height\n  \n    app.renderer.resize(newWidth, newHeight); \n}\nwindow.addEventListener('resize', resize);\n\n</code></pre>\n<p>I am trying to create an image load function, but it will give me the error &quot;Uncaught TypeError: PIXI.Loader is not a constructor&quot;.</p>\n<p>I had this with PIXI.Application, but once I switched to this pixi.js [https://pixijs.download/release/pixi.js](Pixi.js from the tutorial) , I got it fixed but now I am having a problem with PIXI.Loader.</p>\n<p>The function is partially made by ChatGPT, but as PIXI.Loader is mentioned in the pixi.js file it shouldnt have this error.</p>\n<p>If this information is not enough then I can give more.</p>\n"},{"tags":["java","opencv"],"comments":[{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1697193747,"post_id":77284303,"comment_id":136252227,"body_markdown":"show us that picture","body":"show us that picture"}],"owner":{"account_id":19124009,"reputation":31,"user_id":13967349,"display_name":"Planebagel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697153146,"creation_date":1697153146,"question_id":77284303,"body_markdown":"I have some Java code that detects a checkerboard using OpenCV and generates some camera calibration data from it, however, my program does not detect the checkerboard.\r\n\r\nThings I have tried:\r\n- modifying the maxCount and epsilon params of TermCriteria (lower maxCount, and higher epsilon), because I thought the issue was the poor quality coming from my webcam.\r\n- different checkerboards\r\n- different lighting conditions (well lit and dimly-lit)\r\n\r\nOther information:\r\n- I am using openpnp&#39;s OpenCV Java bindings\r\n- The code compiles and runs successfully, but as I&#39;ve stated before the program can&#39;t detect checkerboards\r\n- I haven&#39;t tried this with other cameras, I don&#39;t have access to other cameras.\r\n\r\nHere is my code\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        // load OpenCV library\r\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n        int CHECKERBOARD_COLS = 8;\r\n        int CHECKERBOARD_ROWS = 6;\r\n        Size boardSize = new Size(CHECKERBOARD_COLS, CHECKERBOARD_ROWS);\r\n\r\n        // modify epsillon maybe?\r\n        TermCriteria criteria = new TermCriteria(TermCriteria.EPS + TermCriteria.MAX_ITER, 12, 0.5);\r\n\r\n        List&lt;Mat&gt; objectPoints = new ArrayList&lt;&gt;();\r\n        List&lt;Mat&gt; imagePoints = new ArrayList&lt;&gt;();\r\n\r\n        MatOfPoint3f objectP3D = new MatOfPoint3f();\r\n        objectP3D.create(1, CHECKERBOARD_COLS * CHECKERBOARD_ROWS, CvType.CV_32FC3);\r\n        //objectP3D.create(CHECKERBOARD_ROWS, CHECKERBOARD_COLS, CvType.CV_32FC3);\r\n        float[] objBuff = new float[3 * CHECKERBOARD_COLS * CHECKERBOARD_ROWS];\r\n        for (int i = 0; i &lt; CHECKERBOARD_ROWS; i++) {\r\n            for (int j = 0; j &lt; CHECKERBOARD_COLS; j++) {\r\n                objBuff[(i * CHECKERBOARD_COLS + j) * 3] = j;\r\n                objBuff[(i * CHECKERBOARD_COLS + j) * 3 + 1] = i;\r\n                objBuff[(i * CHECKERBOARD_COLS + j) * 3 + 2] = 0;\r\n            }\r\n        }\r\n        objectP3D.put(0, 0, objBuff);\r\n        \r\n        // capture video feed from webcam\r\n        VideoCapture capture = new VideoCapture(0);\r\n\r\n        MatOfPoint2f corners = new MatOfPoint2f();\r\n\r\n        Mat image = new Mat();\r\n        int currentFrame = 0;\r\n        while (true) {\r\n            currentFrame +=1;\r\n            //System.out.println(currentFrame);\r\n            capture.read(image);\r\n\r\n            Mat gray = new Mat();\r\n            Imgproc.cvtColor(image, gray, Imgproc.COLOR_BGR2GRAY);\r\n\r\n            boolean found = Calib3d.findChessboardCorners(gray, boardSize, corners);\r\n\r\n            if (found) {\r\n                System.out.println(&quot;checkerboard found&quot;);\r\n                Mat corners2 = new Mat();\r\n                Imgproc.cornerSubPix(gray, corners, new Size(11, 11), new Size(-1, -1), criteria);\r\n                corners2.release();\r\n                corners2 = corners.clone();\r\n                imagePoints.add(corners2);\r\n                objectPoints.add(objectP3D);\r\n                Calib3d.drawChessboardCorners(image, boardSize, corners, found);\r\n            }\r\n\r\n            HighGui.imshow(&quot;Camera Calibration&quot;, image);\r\n            if (HighGui.waitKey(1) == &#39;q&#39;) {\r\n                break;\r\n            }\r\n\r\n        }\r\n\r\n        capture.release();\r\n        HighGui.destroyAllWindows();\r\n\r\n        Size imageSize = new Size(image.width(), image.height());\r\n\r\n        Mat cameraMatrix = new Mat(3, 3, CvType.CV_64F);\r\n        MatOfDouble distortionCoefficients = new MatOfDouble();\r\n        List&lt;Mat&gt; rvecs = new ArrayList&lt;&gt;();\r\n        List&lt;Mat&gt; tvecs = new ArrayList&lt;&gt;();\r\n\r\n        Calib3d.calibrateCamera(objectPoints, imagePoints, imageSize, cameraMatrix, distortionCoefficients, rvecs, tvecs);\r\n\r\n        System.out.println(&quot;Camera Matrix:&quot;);\r\n        System.out.println(cameraMatrix.dump());\r\n\r\n        System.out.println(&quot;\\nDistortion Coefficients:&quot;);\r\n        System.out.println(distortionCoefficients.dump());\r\n\r\n        System.out.println(&quot;\\nRotation Vectors:&quot;);\r\n        for (Mat rvec : rvecs) {\r\n            System.out.println(rvec.dump());\r\n        }\r\n\r\n        System.out.println(&quot;\\nTranslation Vectors:&quot;);\r\n        for (Mat tvec : tvecs) {\r\n            System.out.println(tvec.dump());\r\n        }\r\n    }\r\n}\r\n\r\n","title":"Need help detecting a checkerboard for camera calibration [OpenCV 4.6]","body":"<p>I have some Java code that detects a checkerboard using OpenCV and generates some camera calibration data from it, however, my program does not detect the checkerboard.</p>\n<p>Things I have tried:</p>\n<ul>\n<li>modifying the maxCount and epsilon params of TermCriteria (lower maxCount, and higher epsilon), because I thought the issue was the poor quality coming from my webcam.</li>\n<li>different checkerboards</li>\n<li>different lighting conditions (well lit and dimly-lit)</li>\n</ul>\n<p>Other information:</p>\n<ul>\n<li>I am using openpnp's OpenCV Java bindings</li>\n<li>The code compiles and runs successfully, but as I've stated before the program can't detect checkerboards</li>\n<li>I haven't tried this with other cameras, I don't have access to other cameras.</li>\n</ul>\n<p>Here is my code</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        // load OpenCV library\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n        int CHECKERBOARD_COLS = 8;\n        int CHECKERBOARD_ROWS = 6;\n        Size boardSize = new Size(CHECKERBOARD_COLS, CHECKERBOARD_ROWS);\n\n        // modify epsillon maybe?\n        TermCriteria criteria = new TermCriteria(TermCriteria.EPS + TermCriteria.MAX_ITER, 12, 0.5);\n\n        List&lt;Mat&gt; objectPoints = new ArrayList&lt;&gt;();\n        List&lt;Mat&gt; imagePoints = new ArrayList&lt;&gt;();\n\n        MatOfPoint3f objectP3D = new MatOfPoint3f();\n        objectP3D.create(1, CHECKERBOARD_COLS * CHECKERBOARD_ROWS, CvType.CV_32FC3);\n        //objectP3D.create(CHECKERBOARD_ROWS, CHECKERBOARD_COLS, CvType.CV_32FC3);\n        float[] objBuff = new float[3 * CHECKERBOARD_COLS * CHECKERBOARD_ROWS];\n        for (int i = 0; i &lt; CHECKERBOARD_ROWS; i++) {\n            for (int j = 0; j &lt; CHECKERBOARD_COLS; j++) {\n                objBuff[(i * CHECKERBOARD_COLS + j) * 3] = j;\n                objBuff[(i * CHECKERBOARD_COLS + j) * 3 + 1] = i;\n                objBuff[(i * CHECKERBOARD_COLS + j) * 3 + 2] = 0;\n            }\n        }\n        objectP3D.put(0, 0, objBuff);\n        \n        // capture video feed from webcam\n        VideoCapture capture = new VideoCapture(0);\n\n        MatOfPoint2f corners = new MatOfPoint2f();\n\n        Mat image = new Mat();\n        int currentFrame = 0;\n        while (true) {\n            currentFrame +=1;\n            //System.out.println(currentFrame);\n            capture.read(image);\n\n            Mat gray = new Mat();\n            Imgproc.cvtColor(image, gray, Imgproc.COLOR_BGR2GRAY);\n\n            boolean found = Calib3d.findChessboardCorners(gray, boardSize, corners);\n\n            if (found) {\n                System.out.println(&quot;checkerboard found&quot;);\n                Mat corners2 = new Mat();\n                Imgproc.cornerSubPix(gray, corners, new Size(11, 11), new Size(-1, -1), criteria);\n                corners2.release();\n                corners2 = corners.clone();\n                imagePoints.add(corners2);\n                objectPoints.add(objectP3D);\n                Calib3d.drawChessboardCorners(image, boardSize, corners, found);\n            }\n\n            HighGui.imshow(&quot;Camera Calibration&quot;, image);\n            if (HighGui.waitKey(1) == 'q') {\n                break;\n            }\n\n        }\n\n        capture.release();\n        HighGui.destroyAllWindows();\n\n        Size imageSize = new Size(image.width(), image.height());\n\n        Mat cameraMatrix = new Mat(3, 3, CvType.CV_64F);\n        MatOfDouble distortionCoefficients = new MatOfDouble();\n        List&lt;Mat&gt; rvecs = new ArrayList&lt;&gt;();\n        List&lt;Mat&gt; tvecs = new ArrayList&lt;&gt;();\n\n        Calib3d.calibrateCamera(objectPoints, imagePoints, imageSize, cameraMatrix, distortionCoefficients, rvecs, tvecs);\n\n        System.out.println(&quot;Camera Matrix:&quot;);\n        System.out.println(cameraMatrix.dump());\n\n        System.out.println(&quot;\\nDistortion Coefficients:&quot;);\n        System.out.println(distortionCoefficients.dump());\n\n        System.out.println(&quot;\\nRotation Vectors:&quot;);\n        for (Mat rvec : rvecs) {\n            System.out.println(rvec.dump());\n        }\n\n        System.out.println(&quot;\\nTranslation Vectors:&quot;);\n        for (Mat tvec : tvecs) {\n            System.out.println(tvec.dump());\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","file-upload","multipartform-data","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1690340329,"post_id":76754417,"comment_id":135338332,"body_markdown":"What kind of error are you getting? Can you upgrade RESTEasy? That&#39;s a very old unsupported version.","body":"What kind of error are you getting? Can you upgrade RESTEasy? That&#39;s a very old unsupported version."}],"answers":[{"tags":[],"owner":{"account_id":14193401,"reputation":478,"user_id":10253346,"display_name":"Musa Baloyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697152104,"creation_date":1697152104,"answer_id":77284254,"question_id":76754417,"body_markdown":"Here&#39;s a fix for the above,\r\n\r\n`MultipartFormData formdata = new MultipartFormData();\r\nformData.addFormData(&quot;file&quot;, new ByteArrayInputStream(content.getBytes(), MediaType.MULTIPART_FORM_DATA_TYPE, fileName, true);\r\nEntity&lt;MultiPartFormDataOutput&gt; entity = Entity.entity(formData, MediaType.MULTIPART_FORM_DATA);\r\n`\r\n\r\nThen post with entity","title":"springboot RestApi file/image upload, consuming with RESTeasy","body":"<p>Here's a fix for the above,</p>\n<p><code>MultipartFormData formdata = new MultipartFormData(); formData.addFormData(&quot;file&quot;, new ByteArrayInputStream(content.getBytes(), MediaType.MULTIPART_FORM_DATA_TYPE, fileName, true); Entity&lt;MultiPartFormDataOutput&gt; entity = Entity.entity(formData, MediaType.MULTIPART_FORM_DATA); </code></p>\n<p>Then post with entity</p>\n"}],"owner":{"account_id":14193401,"reputation":478,"user_id":10253346,"display_name":"Musa Baloyi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697152104,"creation_date":1690200951,"question_id":76754417,"body_markdown":"I am trying to consume a Springboot File upload api, that takes in a MultipartFile... via RESTeasy    with packages resteasy-client:3.9.1.final &amp;&amp; resteasy-multipart-provider:3.9.1.final.\r\n\r\nHowever i am failing to get the implementation right. Any Suggestions\r\n\r\n\r\n\r\nHere&#39;s an example of how the code looks like\r\n\r\n\r\n`WebTarget target = ClientBuilder.newClient().target(&quot;url&quot;);\r\nMultipartFormDataOutput formData = new MultipartFormDataOutput();\r\nbyte[] fileContent = request.getContent().getBytes[];\r\n\r\nformData.addFormData(&quot;image&quot;, new ByteArrayInputStream(fileContent), MediaType.APPLICATION_OCTET_STREAM_TYPE);\r\n  Entity&lt;MultipartFormDataOutput&gt; entity = Entity.entity(formData, \r\n  MediaType.MULTIPART_FORM_DATA);\r\n  Response response = target.request().post(entity);`","title":"springboot RestApi file/image upload, consuming with RESTeasy","body":"<p>I am trying to consume a Springboot File upload api, that takes in a MultipartFile... via RESTeasy    with packages resteasy-client:3.9.1.final &amp;&amp; resteasy-multipart-provider:3.9.1.final.</p>\n<p>However i am failing to get the implementation right. Any Suggestions</p>\n<p>Here's an example of how the code looks like</p>\n<p>`WebTarget target = ClientBuilder.newClient().target(&quot;url&quot;);\nMultipartFormDataOutput formData = new MultipartFormDataOutput();\nbyte[] fileContent = request.getContent().getBytes[];</p>\n<p>formData.addFormData(&quot;image&quot;, new ByteArrayInputStream(fileContent), MediaType.APPLICATION_OCTET_STREAM_TYPE);\nEntity entity = Entity.entity(formData,\nMediaType.MULTIPART_FORM_DATA);\nResponse response = target.request().post(entity);`</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":8636,"reputation":28679,"user_id":15649,"accept_rate":62,"display_name":"Leonel"},"score":3,"creation_date":1341598578,"post_id":4278083,"comment_id":14976927,"body_markdown":"possible duplicate of [What&#39;s the difference between getRequestURI and getPathInfo methods in HttpServletRequest?](http://stackoverflow.com/questions/4931323/whats-the-difference-between-getrequesturi-and-getpathinfo-methods-in-httpservl)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4931323/whats-the-difference-between-getrequesturi-and-getpathinfo-methods-in-httpservl\">What&#39;s the difference between getRequestURI and getPathInfo methods in HttpServletRequest?</a>"}],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1290695418,"creation_date":1290695418,"answer_id":4278113,"question_id":4278083,"body_markdown":"A way to do this is to rest the servelet context path from request URI.\r\n\r\n    String p = request.getRequestURI();\r\n    String cp = getServletContext().getContextPath();\r\n    \r\n    if (p.startsWith(cp)) {\r\n      String.err.println(p.substring(cp.length());\r\n    }\r\n\r\nRead [here][1] .\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/5/api/javax/servlet/ServletContext.html#getContextPath%28%29","title":"How to get request URI without context path?","body":"<p>A way to do this is to rest the servelet context path from request URI.</p>\n\n<pre><code>String p = request.getRequestURI();\nString cp = getServletContext().getContextPath();\n\nif (p.startsWith(cp)) {\n  String.err.println(p.substring(cp.length());\n}\n</code></pre>\n\n<p>Read <a href=\"http://download.oracle.com/javaee/5/api/javax/servlet/ServletContext.html#getContextPath%28%29\" rel=\"noreferrer\">here</a> .</p>\n"},{"comments":[{"owner":{"account_id":54312,"reputation":15263,"user_id":162461,"accept_rate":81,"display_name":"craftsman"},"score":3,"creation_date":1290695790,"post_id":4278131,"comment_id":4639258,"body_markdown":"This will cause problem if I deploy my application as root and its base URL becomes http://localhost:8080/. In this case request.getRequestURI() would return &quot;/secure/user&quot; and your split method will cause problem here. The code should not be dependent upon deployment.","body":"This will cause problem if I deploy my application as root and its base URL becomes <a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">localhost:8080</a>. In this case request.getRequestURI() would return &quot;/secure/user&quot; and your split method will cause problem here. The code should not be dependent upon deployment."}],"tags":[],"owner":{"account_id":245008,"reputation":551,"user_id":518243,"display_name":"Colin"},"comment_count":1,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1290695498,"creation_date":1290695498,"answer_id":4278131,"question_id":4278083,"body_markdown":"May be you can just use the split method to eliminate the &#39;/myapp&#39;\r\nfor example:\r\n\r\n    string[] uris=request.getRequestURI().split(&quot;/&quot;);\r\n    string uri=&quot;/&quot;+uri[1]+&quot;/&quot;+uris[2];\r\n","title":"How to get request URI without context path?","body":"<p>May be you can just use the split method to eliminate the '/myapp'\nfor example:</p>\n\n<pre><code>string[] uris=request.getRequestURI().split(\"/\");\nstring uri=\"/\"+uri[1]+\"/\"+uris[2];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":4,"creation_date":1325600580,"post_id":4278159,"comment_id":10845397,"body_markdown":"+1 I think this is a better answer than getPathInfo due to the fact that getPathInfo can be null and other oddities. Various Spring code does getContextPath and removes it from the URI just as you have done instead of getPathInfo.","body":"+1 I think this is a better answer than getPathInfo due to the fact that getPathInfo can be null and other oddities. Various Spring code does getContextPath and removes it from the URI just as you have done instead of getPathInfo."}],"tags":[],"owner":{"account_id":23913,"reputation":5431,"user_id":60381,"display_name":"fforw"},"comment_count":1,"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1290695647,"creation_date":1290695647,"answer_id":4278159,"question_id":4278083,"body_markdown":"    request.getRequestURI().substring(request.getContextPath().length())","title":"How to get request URI without context path?","body":"<pre><code>request.getRequestURI().substring(request.getContextPath().length())\n</code></pre>\n"},{"comments":[{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":3,"creation_date":1498431626,"post_id":4278284,"comment_id":76483696,"body_markdown":"Is there a reason to use this instead of `getServletPath()`? I&#39;m writing a filter and I noticed that `getPathInfo()` returns `null`, but `getServletPath()` returns the path minus the context (suitable for passing on to the request dispatcher).","body":"Is there a reason to use this instead of <code>getServletPath()</code>? I&#39;m writing a filter and I noticed that <code>getPathInfo()</code> returns <code>null</code>, but <code>getServletPath()</code> returns the path minus the context (suitable for passing on to the request dispatcher)."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1498455660,"post_id":4278284,"comment_id":76488169,"body_markdown":"@JasonC: As answered, `getPathInfo()` returns null if front controller servlet is not mapped on a prefix pattern.","body":"@JasonC: As answered, <code>getPathInfo()</code> returns null if front controller servlet is not mapped on a prefix pattern."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1498481238,"post_id":4278284,"comment_id":76500760,"body_markdown":"Yeah. I meant: is there a reason you prefer getPathInfo over getServletPath? A lot of the other high scored answers here don&#39;t use getServletPath either, which is what&#39;s making me suspicious of it and why I&#39;m wondering. I&#39;ve got a servlet project I&#39;m working on and I&#39;m trying to polish off my skills bit.","body":"Yeah. I meant: is there a reason you prefer getPathInfo over getServletPath? A lot of the other high scored answers here don&#39;t use getServletPath either, which is what&#39;s making me suspicious of it and why I&#39;m wondering. I&#39;ve got a servlet project I&#39;m working on and I&#39;m trying to polish off my skills bit."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1498482918,"post_id":4278284,"comment_id":76501915,"body_markdown":"@JasonC: servlet path is subject to change when you have a servlet based MVC framework installed like JSF or Spring MVC. It will then represent the MVC framework&#39;s internal path (e.g. `/foo.xhtml` instead of `/foo.jsf`) and not the actual request URI (the one as enduser would see in browser&#39;s address bar). The original servlet path is in such case however resolveable as request attribute with key `RequestDispatcher.FORWARD_SERVLET_PATH`. In any way, the question explicitly asks for request URI (as in browser&#39;s address bar), so the answer is based on that.","body":"@JasonC: servlet path is subject to change when you have a servlet based MVC framework installed like JSF or Spring MVC. It will then represent the MVC framework&#39;s internal path (e.g. <code>&#47;foo.xhtml</code> instead of <code>&#47;foo.jsf</code>) and not the actual request URI (the one as enduser would see in browser&#39;s address bar). The original servlet path is in such case however resolveable as request attribute with key <code>RequestDispatcher.FORWARD_SERVLET_PATH</code>. In any way, the question explicitly asks for request URI (as in browser&#39;s address bar), so the answer is based on that."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":4,"down_vote_count":4,"up_vote_count":182,"is_accepted":true,"score":178,"last_activity_date":1601463396,"creation_date":1290696449,"answer_id":4278284,"question_id":4278083,"body_markdown":"If you&#39;re inside a front contoller servlet which is mapped on a prefix pattern such as `/foo/*`, then you can just use [`HttpServletRequest#getPathInfo()`][1].\r\n\r\n    String pathInfo = request.getPathInfo();\r\n    // ...\r\n\r\nAssuming that the servlet in your example is mapped on `/secure/*`, then this will return `/users` which would be the information of sole interest inside a typical front controller servlet.\r\n\r\nIf the servlet is however mapped on a suffix pattern such as `*.foo` (your URL examples however does not indicate that this is the case), or when you&#39;re actually inside a filter (when the to-be-invoked servlet is not necessarily determined yet, so `getPathInfo()` could return `null`), then your best bet is to substring the request URI yourself based on the context path&#39;s length using the usual `String` method:\r\n\r\n    HttpServletRequest request = (HttpServletRequest) req;\r\n    String path = request.getRequestURI().substring(request.getContextPath().length());\r\n    // ...\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getPathInfo%28%29","title":"How to get request URI without context path?","body":"<p>If you're inside a front contoller servlet which is mapped on a prefix pattern such as <code>/foo/*</code>, then you can just use <a href=\"http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getPathInfo%28%29\" rel=\"noreferrer\"><code>HttpServletRequest#getPathInfo()</code></a>.</p>\n<pre><code>String pathInfo = request.getPathInfo();\n// ...\n</code></pre>\n<p>Assuming that the servlet in your example is mapped on <code>/secure/*</code>, then this will return <code>/users</code> which would be the information of sole interest inside a typical front controller servlet.</p>\n<p>If the servlet is however mapped on a suffix pattern such as <code>*.foo</code> (your URL examples however does not indicate that this is the case), or when you're actually inside a filter (when the to-be-invoked servlet is not necessarily determined yet, so <code>getPathInfo()</code> could return <code>null</code>), then your best bet is to substring the request URI yourself based on the context path's length using the usual <code>String</code> method:</p>\n<pre><code>HttpServletRequest request = (HttpServletRequest) req;\nString path = request.getRequestURI().substring(request.getContextPath().length());\n// ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":279561,"reputation":26283,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1297077775,"creation_date":1297077775,"answer_id":4920692,"question_id":4278083,"body_markdown":"getPathInfo() sometimes return null. In documentation [HttpServletRequest][1]\r\n\r\n&gt; This method returns null if there was no extra path information. \r\n\r\nI need get path to file without context path in Filter and getPathInfo() return me null. So I use another method: httpRequest.getServletPath()\r\n\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException\r\n    {\r\n        HttpServletRequest httpRequest = (HttpServletRequest) request;\r\n        HttpServletResponse httpResponse = (HttpServletResponse) response;\r\n\r\n        String newPath = parsePathToFile(httpRequest.getServletPath());\r\n        ...\r\n\r\n    }\r\n\r\n  [1]: http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getPathInfo%28%29","title":"How to get request URI without context path?","body":"<p>getPathInfo() sometimes return null. In documentation <a href=\"http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getPathInfo%28%29\" rel=\"noreferrer\">HttpServletRequest</a></p>\n\n<blockquote>\n  <p>This method returns null if there was no extra path information. </p>\n</blockquote>\n\n<p>I need get path to file without context path in Filter and getPathInfo() return me null. So I use another method: httpRequest.getServletPath()</p>\n\n<pre><code>public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException\n{\n    HttpServletRequest httpRequest = (HttpServletRequest) request;\n    HttpServletResponse httpResponse = (HttpServletResponse) response;\n\n    String newPath = parsePathToFile(httpRequest.getServletPath());\n    ...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91505,"reputation":2144,"user_id":251185,"display_name":"thetoolman"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1318988337,"creation_date":1318988337,"answer_id":7815651,"question_id":4278083,"body_markdown":"If you use request.getPathInfo() inside a Filter, you always seem to get null (at least with jetty). \r\n\r\nThis terse invalid bug + response alludes to the issue I think:\r\n\r\n[https://issues.apache.org/bugzilla/show_bug.cgi?id=28323][1]\r\n\r\nI suspect it is related to the fact that filters run before the servlet gets the request.  It may be a container bug, or expected behaviour that I haven&#39;t been able to identify. \r\n\r\nThe contextPath is available though, so fforws solution works even in filters.  I don&#39;t like having to do it by hand, but the implementation is broken or \r\n\r\n\r\n\r\n\r\n  [1]: https://issues.apache.org/bugzilla/show_bug.cgi?id=28323","title":"How to get request URI without context path?","body":"<p>If you use request.getPathInfo() inside a Filter, you always seem to get null (at least with jetty). </p>\n\n<p>This terse invalid bug + response alludes to the issue I think:</p>\n\n<p><a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=28323\" rel=\"noreferrer\">https://issues.apache.org/bugzilla/show_bug.cgi?id=28323</a></p>\n\n<p>I suspect it is related to the fact that filters run before the servlet gets the request.  It may be a container bug, or expected behaviour that I haven't been able to identify. </p>\n\n<p>The contextPath is available though, so fforws solution works even in filters.  I don't like having to do it by hand, but the implementation is broken or </p>\n"},{"comments":[{"owner":{"account_id":107251,"reputation":11864,"user_id":285288,"accept_rate":64,"display_name":"James"},"score":1,"creation_date":1438353395,"post_id":24698873,"comment_id":51431351,"body_markdown":"Of course it would make sense to keep an instance of the UrlPathHelper e.g. as a class member variable...","body":"Of course it would make sense to keep an instance of the UrlPathHelper e.g. as a class member variable..."},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1582876027,"post_id":24698873,"comment_id":106934509,"body_markdown":"How can we get the actual request mapping url ? Please guide here: https://stackoverflow.com/questions/60446807/how-to-get-the-current-request-mapping-url-configured-at-controller-layer-when-r","body":"How can we get the actual request mapping url ? Please guide here: <a href=\"https://stackoverflow.com/questions/60446807/how-to-get-the-current-request-mapping-url-configured-at-controller-layer-when-r\" title=\"how to get the current request mapping url configured at controller layer when r\">stackoverflow.com/questions/60446807/&hellip;</a>"}],"tags":[],"owner":{"account_id":107251,"reputation":11864,"user_id":285288,"accept_rate":64,"display_name":"James"},"comment_count":2,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1405085129,"creation_date":1405085129,"answer_id":24698873,"question_id":4278083,"body_markdown":"With Spring you can do:\r\n\r\n    String path = new UrlPathHelper().getPathWithinApplication(request);","title":"How to get request URI without context path?","body":"<p>With Spring you can do:</p>\n\n<pre><code>String path = new UrlPathHelper().getPathWithinApplication(request);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1031543,"reputation":4922,"user_id":1039774,"accept_rate":25,"display_name":"Devabc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697151885,"creation_date":1697151885,"answer_id":77284245,"question_id":4278083,"body_markdown":"# Short Answer #\r\n\r\n```\r\nString requestUriWithinApp = req.getPathInfo() == null\r\n        ? req.getServletPath()\r\n        : req.getServletPath() + req.getPathInfo();\r\n```\r\n\r\n`ServletPath` gets the part of the URL that calls the servlet. And \r\n`PathInfo`returns any extra path information associated with the URL the client sent when it made this request. `PathInfo` may be null, depending on the URL used by the client.\r\n\r\nFor a more complete URI, you could also include the queryString. You could then use:\r\n\r\n```\r\nStringBuilder sb = new StringBuilder();\r\nsb.append(req.getServletPath());\r\nif (req.getPathInfo() != null) {\r\n    sb.append(req.getPathInfo());\r\n}\r\nif (req.getQueryString() != null) {\r\n    sb.append(&quot;?&quot;).append(req.getQueryString());\r\n}\r\n```\r\n\r\n\r\n# Additional info #\r\n\r\nThe formula of the requestURI is:\r\n\r\n&gt; requestURI = contextPath + servletPath + pathInfo\r\n\r\nIn your question you don&#39;t want to use the `contextPath`, so you need:\r\n\r\n&gt; servletPath + pathInfo\r\n\r\nFor example, if you have:\r\n\r\n* a webapp context at `/catalog` and\r\n* a `GardenServlet` for pattern `/garden/*` and \r\n* a request send by the client for `/catalog/lawn/index.html`\r\n* then the `pathInfo` is `/index.html`\r\n\r\nThis example is described in more detail in [Servlet Specification - 3.6 Request Path Elements][1].\r\n\r\nThe documentation of [Tuckey&#39;s UrlRewriteFilter][2] contains a more complete example of how the URL is composed in a ServletRequest.\r\n\r\n```\r\n    // http://hostname.com:80/mywebapp/servlet/MyServlet/a/b;c=123?d=789\r\n    public static String getUrl(HttpServletRequest req) {\r\n        String scheme = req.getScheme();             // http\r\n        String serverName = req.getServerName();     // hostname.com\r\n        int serverPort = req.getServerPort();        // 80\r\n        String contextPath = req.getContextPath();   // /mywebapp\r\n        String servletPath = req.getServletPath();   // /servlet/MyServlet\r\n        String pathInfo = req.getPathInfo();         // /a/b;c=123\r\n        String queryString = req.getQueryString();   // d=789\r\n\r\n        // Reconstruct original requesting URL\r\n        String url = scheme + &quot;://&quot; + serverName + &quot;:&quot; + serverPort + contextPath + servletPath;\r\n        if (pathInfo != null) {\r\n            url += pathInfo;\r\n        }\r\n        if (queryString != null) {\r\n            url += &quot;?&quot; + queryString;\r\n        }\r\n        return url;\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/servlet/6.0/jakarta-servlet-spec-6.0.html#request-uri-path-processing\r\n  [2]: https://github.com/paultuckey/urlrewritefilter/blob/main/src/doc/manual/5.0/introduction.html","title":"How to get request URI without context path?","body":"<h1>Short Answer</h1>\n<pre><code>String requestUriWithinApp = req.getPathInfo() == null\n        ? req.getServletPath()\n        : req.getServletPath() + req.getPathInfo();\n</code></pre>\n<p><code>ServletPath</code> gets the part of the URL that calls the servlet. And\n<code>PathInfo</code>returns any extra path information associated with the URL the client sent when it made this request. <code>PathInfo</code> may be null, depending on the URL used by the client.</p>\n<p>For a more complete URI, you could also include the queryString. You could then use:</p>\n<pre><code>StringBuilder sb = new StringBuilder();\nsb.append(req.getServletPath());\nif (req.getPathInfo() != null) {\n    sb.append(req.getPathInfo());\n}\nif (req.getQueryString() != null) {\n    sb.append(&quot;?&quot;).append(req.getQueryString());\n}\n</code></pre>\n<h1>Additional info</h1>\n<p>The formula of the requestURI is:</p>\n<blockquote>\n<p>requestURI = contextPath + servletPath + pathInfo</p>\n</blockquote>\n<p>In your question you don't want to use the <code>contextPath</code>, so you need:</p>\n<blockquote>\n<p>servletPath + pathInfo</p>\n</blockquote>\n<p>For example, if you have:</p>\n<ul>\n<li>a webapp context at <code>/catalog</code> and</li>\n<li>a <code>GardenServlet</code> for pattern <code>/garden/*</code> and</li>\n<li>a request send by the client for <code>/catalog/lawn/index.html</code></li>\n<li>then the <code>pathInfo</code> is <code>/index.html</code></li>\n</ul>\n<p>This example is described in more detail in <a href=\"https://jakarta.ee/specifications/servlet/6.0/jakarta-servlet-spec-6.0.html#request-uri-path-processing\" rel=\"nofollow noreferrer\">Servlet Specification - 3.6 Request Path Elements</a>.</p>\n<p>The documentation of <a href=\"https://github.com/paultuckey/urlrewritefilter/blob/main/src/doc/manual/5.0/introduction.html\" rel=\"nofollow noreferrer\">Tuckey's UrlRewriteFilter</a> contains a more complete example of how the URL is composed in a ServletRequest.</p>\n<pre><code>    // http://hostname.com:80/mywebapp/servlet/MyServlet/a/b;c=123?d=789\n    public static String getUrl(HttpServletRequest req) {\n        String scheme = req.getScheme();             // http\n        String serverName = req.getServerName();     // hostname.com\n        int serverPort = req.getServerPort();        // 80\n        String contextPath = req.getContextPath();   // /mywebapp\n        String servletPath = req.getServletPath();   // /servlet/MyServlet\n        String pathInfo = req.getPathInfo();         // /a/b;c=123\n        String queryString = req.getQueryString();   // d=789\n\n        // Reconstruct original requesting URL\n        String url = scheme + &quot;://&quot; + serverName + &quot;:&quot; + serverPort + contextPath + servletPath;\n        if (pathInfo != null) {\n            url += pathInfo;\n        }\n        if (queryString != null) {\n            url += &quot;?&quot; + queryString;\n        }\n        return url;\n    }\n</code></pre>\n"}],"owner":{"account_id":54312,"reputation":15263,"user_id":162461,"accept_rate":81,"display_name":"craftsman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314119,"favorite_count":0,"down_vote_count":0,"up_vote_count":152,"accepted_answer_id":4278284,"answer_count":8,"score":152,"last_activity_date":1697151885,"creation_date":1290695188,"question_id":4278083,"body_markdown":"The Method [request.getRequestURI()][1] returns URI with context path. \r\n\r\nFor example, if the base URL of an application is `http://localhost:8080/myapp/` (i.e. the context path is **myapp**), and I call `request.getRequestURI()` for `http://localhost:8080/myapp/secure/users`, it will return `/myapp/secure/users`. \r\n\r\nIs there any way we can get only this part `/secure/users`, i.e. the URI without context path?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getRequestURI%28%29","title":"How to get request URI without context path?","body":"<p>The Method <a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getRequestURI%28%29\" rel=\"noreferrer\">request.getRequestURI()</a> returns URI with context path. </p>\n\n<p>For example, if the base URL of an application is <code>http://localhost:8080/myapp/</code> (i.e. the context path is <strong>myapp</strong>), and I call <code>request.getRequestURI()</code> for <code>http://localhost:8080/myapp/secure/users</code>, it will return <code>/myapp/secure/users</code>. </p>\n\n<p>Is there any way we can get only this part <code>/secure/users</code>, i.e. the URI without context path?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697150368,"post_id":77284051,"comment_id":136247268,"body_markdown":"I’m guessing these 25,000 panels do not contain any input fields, since no human user could possibly deal with that many.  If that’s the case, and if everyone of these 25,000 panels is expected to have the same size, you can make this lightning-fast by making just one instance of a subclass of JPanel, with an overridden paintComponent method, instead of creating and adding so many child components.","body":"I’m guessing these 25,000 panels do not contain any input fields, since no human user could possibly deal with that many.  If that’s the case, and if everyone of these 25,000 panels is expected to have the same size, you can make this lightning-fast by making just one instance of a subclass of JPanel, with an overridden paintComponent method, instead of creating and adding so many child components."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1697151385,"post_id":77284051,"comment_id":136247382,"body_markdown":"Don&#39;t create 25K components. Instead you should be using a JTable or JList to display the data. *I also looked at SwingWorker, but I think this class is designed for time-consuming tasks apart from doing something on the EDT.* - so you use the &quot;doInBackground&quot; method to create the child components. Then you &quot;publish&quot; the component once you have finished creating it. This is exactly the reason for using a SwingWorker. That is to remove a long running task from the EDT.","body":"Don&#39;t create 25K components. Instead you should be using a JTable or JList to display the data. <i>I also looked at SwingWorker, but I think this class is designed for time-consuming tasks apart from doing something on the EDT.</i> - so you use the &quot;doInBackground&quot; method to create the child components. Then you &quot;publish&quot; the component once you have finished creating it. This is exactly the reason for using a SwingWorker. That is to remove a long running task from the EDT."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1697151460,"post_id":77284051,"comment_id":136247391,"body_markdown":"Leverage _flyweight_ rendering like the examples examined [here](https://stackoverflow.com/a/11179669/230513).","body":"Leverage <i>flyweight</i> rendering like the examples examined <a href=\"https://stackoverflow.com/a/11179669/230513\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697149218,"creation_date":1697149218,"answer_id":77284116,"question_id":77284051,"body_markdown":" - When you call `SwingUtilities.invokeLater(() -&gt;` that will run the code inside the EDT (Event Dispatch Thread) which is responsible for updating the UI.\r\n\r\n - So while that keeps running (your code running inside the EDT), no GUI will be updated.\r\n\r\n - So, you can construct GUI elements in normal threads (other that the EDT), as long as they&#39;re not displayed. BUT keep in mind to only access those elements from that one and same thread!\r\n\r\n - As soon as you&#39;re done and want to display it, let the EDT have it\r\n\r\n=&gt; So, utilize that, do the construction outside, and only put things into the EDT that are &quot;ready to go&quot;:\r\n\r\n\r\n    package stackoverflow.gui.edt.bigpanels;\r\n    \r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\t// preparation\r\n    \t\tfinal JFrame frame = new JFrame();\r\n    \t\tfinal Container contentPane = frame.getContentPane();\r\n    \t\tcontentPane.setLayout(new FlowLayout(FlowLayout.LEFT));\r\n    \t\tfinal JLabel loadingLabel = new JLabel(&quot;Loading 0/5&quot;);\r\n    \t\tcontentPane.add(loadingLabel);\r\n    \r\n    \t\t// start GUI\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \r\n    \t\t// adding big components and show progress\r\n    \t\tfor (int i = 1; i &lt;= 5; i++) {\r\n    \t\t\tfinal int showIndex = i;\r\n    \t\t\tfinal long time = System.currentTimeMillis();\r\n    \t\t\tfinal JPanel newBigLabel = getBigJPanel();\r\n    \t\t\tSystem.out.println(&quot;time &lt;i=&quot; + showIndex + &quot;&gt;: &quot; + (System.currentTimeMillis() - time));\r\n    \t\t\tSwingUtilities.invokeLater(() -&gt; {\r\n    \t\t\t\tcontentPane.add(newBigLabel);\r\n    \t\t\t\tloadingLabel.setText(&quot;Loading &quot; + showIndex + &quot;/5&quot;);\r\n    \t\t\t\tcontentPane.revalidate();\r\n    \t\t\t\tcontentPane.repaint();\r\n    \t\t\t});\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static JPanel getBigJPanel() {\r\n    \t\tfinal JPanel panel = new JPanel();\r\n    \t\tpanel.setPreferredSize(new Dimension(300, 300));\r\n    \t\tfor (int i = 0; i &lt; 25_000; i++) {\r\n    \t\t\tpanel.add(new JPanel());\r\n    \t\t}\r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }","title":"Updating Java-Swing GUI in-between adding very big components","body":"<ul>\n<li><p>When you call <code>SwingUtilities.invokeLater(() -&gt;</code> that will run the code inside the EDT (Event Dispatch Thread) which is responsible for updating the UI.</p>\n</li>\n<li><p>So while that keeps running (your code running inside the EDT), no GUI will be updated.</p>\n</li>\n<li><p>So, you can construct GUI elements in normal threads (other that the EDT), as long as they're not displayed. BUT keep in mind to only access those elements from that one and same thread!</p>\n</li>\n<li><p>As soon as you're done and want to display it, let the EDT have it</p>\n</li>\n</ul>\n<p>=&gt; So, utilize that, do the construction outside, and only put things into the EDT that are &quot;ready to go&quot;:</p>\n<pre><code>package stackoverflow.gui.edt.bigpanels;\n\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class Test {\n\n    public static void main(final String[] args) {\n        // preparation\n        final JFrame frame = new JFrame();\n        final Container contentPane = frame.getContentPane();\n        contentPane.setLayout(new FlowLayout(FlowLayout.LEFT));\n        final JLabel loadingLabel = new JLabel(&quot;Loading 0/5&quot;);\n        contentPane.add(loadingLabel);\n\n        // start GUI\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n\n        // adding big components and show progress\n        for (int i = 1; i &lt;= 5; i++) {\n            final int showIndex = i;\n            final long time = System.currentTimeMillis();\n            final JPanel newBigLabel = getBigJPanel();\n            System.out.println(&quot;time &lt;i=&quot; + showIndex + &quot;&gt;: &quot; + (System.currentTimeMillis() - time));\n            SwingUtilities.invokeLater(() -&gt; {\n                contentPane.add(newBigLabel);\n                loadingLabel.setText(&quot;Loading &quot; + showIndex + &quot;/5&quot;);\n                contentPane.revalidate();\n                contentPane.repaint();\n            });\n        }\n    }\n\n    private static JPanel getBigJPanel() {\n        final JPanel panel = new JPanel();\n        panel.setPreferredSize(new Dimension(300, 300));\n        for (int i = 0; i &lt; 25_000; i++) {\n            panel.add(new JPanel());\n        }\n        return panel;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697151614,"creation_date":1697151614,"answer_id":77284233,"question_id":77284051,"body_markdown":"Swing is single threaded and not thread safe.  This means that you shouldn&#39;t be performing long running/blocking operations within the context of the event dispatching thread and you shouldn&#39;t be updating the UI or state the UI relies on from out side the context of the Event Dispatching Thread.\r\n\r\nSo, the problem is not know exactly why you&#39;re trying to do what you&#39;re doing.\r\n\r\nIf, for example, if you&#39;re trying to load data in the background, which you want to then display to the UI, an overall better solution would be to decouple your UI from your data/data management.\r\n\r\nThis means that you can load/process the data in a seperate thread(s), which allows the your UI to remain responsive.  The issue then becomes safely passing the data back to the Event Dispatching Thread context.  Again, multiple ways you might do this, but the simplest solution would be make use of a `SwingWorker`. \r\n\r\nThis would allow to &quot;do work&quot; in the background and provides capabilities to sync the updates back to the EDT.\r\n\r\nFor example...\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.beans.PropertyChangeListener;\r\n    import java.util.List;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.SwingWorker;\r\n    import javax.swing.border.LineBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            private JLabel progressLabel = new JLabel(&quot;...&quot;);\r\n            private JPanel containerPane = new JPanel(new GridBagLayout());\r\n\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n                JPanel headerPane = new JPanel(new GridBagLayout());\r\n                add(headerPane, BorderLayout.NORTH);\r\n\r\n                add(new JScrollPane(containerPane));\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                headerPane.add(progressLabel, gbc);\r\n\r\n                JButton btn = new JButton(&quot;Make it so&quot;);\r\n                headerPane.add(btn, gbc);\r\n\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        progressLabel.setText(&quot;...&quot;);\r\n                        containerPane.removeAll();\r\n                        btn.setEnabled(false);\r\n\r\n                        SwingWorker worker = new SwingWorker&lt;Object, Object&gt;() {\r\n                            @Override\r\n                            protected Object doInBackground() throws Exception {\r\n                                for (int index = 0; index &lt; 5; index++) {\r\n                                    // This is just simulation of work\r\n                                    // taking time to run\r\n                                    Thread.sleep(500);\r\n                                    setProgress(index);\r\n                                    publish(index);\r\n                                }\r\n                                return null;\r\n                            }\r\n\r\n                            @Override\r\n                            protected void process(List&lt;Object&gt; chunks) {\r\n                                containerPane.add(new BigPane());\r\n                                containerPane.revalidate();\r\n                                containerPane.repaint();\r\n                            }\r\n                        };\r\n                        worker.addPropertyChangeListener(new PropertyChangeListener() {\r\n                            @Override\r\n                            public void propertyChange(PropertyChangeEvent evt) {\r\n                                if (!(evt.getSource() instanceof SwingWorker)) {\r\n                                    return;\r\n                                }\r\n                                SwingWorker worker = (SwingWorker) evt.getSource();\r\n                                String propertyName = evt.getPropertyName();\r\n                                if (&quot;state&quot;.equals(propertyName) &amp;&amp; worker.isDone()) {\r\n                                    btn.setEnabled(true);\r\n                                } else if (&quot;progress&quot;.equals(propertyName)) {\r\n                                    progressLabel.setText(Integer.toString(worker.getProgress()));\r\n                                }\r\n                            }\r\n                        });\r\n                        worker.execute();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        public class BigPane extends JPanel {\r\n            public BigPane() {\r\n                setBackground(Color.RED);\r\n                setBorder(new LineBorder(Color.DARK_GRAY));\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(100, 100);\r\n            }\r\n        }\r\n    }\r\n\r\nSee [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details\r\n\r\nIf, on the other hand, you just want to display some type of animation, I&#39;d probably just make use of a Swing `Timer` instead, for example...\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.Timer;\r\n    import javax.swing.border.LineBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            private JLabel progressLabel = new JLabel(&quot;...&quot;);\r\n            private JPanel containerPane = new JPanel(new GridBagLayout());\r\n\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n                JPanel headerPane = new JPanel(new GridBagLayout());\r\n                add(headerPane, BorderLayout.NORTH);\r\n\r\n                add(new JScrollPane(containerPane));\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                headerPane.add(progressLabel, gbc);\r\n\r\n                JButton btn = new JButton(&quot;Make it so&quot;);\r\n                headerPane.add(btn, gbc);\r\n\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        progressLabel.setText(&quot;...&quot;);\r\n                        containerPane.removeAll();\r\n                        btn.setEnabled(false);\r\n\r\n                        Timer timer = new Timer(500, new ActionListener() {\r\n                            private int count = -1;\r\n\r\n                            @Override\r\n                            public void actionPerformed(ActionEvent e) {\r\n                                count++;\r\n                                if (count == 4) {\r\n                                    btn.setEnabled(false);\r\n                                    ((Timer) (e.getSource())).stop();\r\n                                }\r\n                                progressLabel.setText(Integer.toString(count + 1));\r\n                                containerPane.add(new BigPane());\r\n                                containerPane.revalidate();\r\n                                containerPane.repaint();\r\n                            }\r\n                        });\r\n                        timer.setInitialDelay(500);\r\n                        timer.start();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        public class BigPane extends JPanel {\r\n            public BigPane() {\r\n                setBackground(Color.RED);\r\n                setBorder(new LineBorder(Color.DARK_GRAY));\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(100, 100);\r\n            }\r\n        }\r\n    }\r\n\r\nTake a look at [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for more details","title":"Updating Java-Swing GUI in-between adding very big components","body":"<p>Swing is single threaded and not thread safe.  This means that you shouldn't be performing long running/blocking operations within the context of the event dispatching thread and you shouldn't be updating the UI or state the UI relies on from out side the context of the Event Dispatching Thread.</p>\n<p>So, the problem is not know exactly why you're trying to do what you're doing.</p>\n<p>If, for example, if you're trying to load data in the background, which you want to then display to the UI, an overall better solution would be to decouple your UI from your data/data management.</p>\n<p>This means that you can load/process the data in a seperate thread(s), which allows the your UI to remain responsive.  The issue then becomes safely passing the data back to the Event Dispatching Thread context.  Again, multiple ways you might do this, but the simplest solution would be make use of a <code>SwingWorker</code>.</p>\n<p>This would allow to &quot;do work&quot; in the background and provides capabilities to sync the updates back to the EDT.</p>\n<p>For example...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport java.util.List;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.SwingWorker;\nimport javax.swing.border.LineBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        private JLabel progressLabel = new JLabel(&quot;...&quot;);\n        private JPanel containerPane = new JPanel(new GridBagLayout());\n\n        public TestPane() {\n            setLayout(new BorderLayout());\n            JPanel headerPane = new JPanel(new GridBagLayout());\n            add(headerPane, BorderLayout.NORTH);\n\n            add(new JScrollPane(containerPane));\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            headerPane.add(progressLabel, gbc);\n\n            JButton btn = new JButton(&quot;Make it so&quot;);\n            headerPane.add(btn, gbc);\n\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    progressLabel.setText(&quot;...&quot;);\n                    containerPane.removeAll();\n                    btn.setEnabled(false);\n\n                    SwingWorker worker = new SwingWorker&lt;Object, Object&gt;() {\n                        @Override\n                        protected Object doInBackground() throws Exception {\n                            for (int index = 0; index &lt; 5; index++) {\n                                // This is just simulation of work\n                                // taking time to run\n                                Thread.sleep(500);\n                                setProgress(index);\n                                publish(index);\n                            }\n                            return null;\n                        }\n\n                        @Override\n                        protected void process(List&lt;Object&gt; chunks) {\n                            containerPane.add(new BigPane());\n                            containerPane.revalidate();\n                            containerPane.repaint();\n                        }\n                    };\n                    worker.addPropertyChangeListener(new PropertyChangeListener() {\n                        @Override\n                        public void propertyChange(PropertyChangeEvent evt) {\n                            if (!(evt.getSource() instanceof SwingWorker)) {\n                                return;\n                            }\n                            SwingWorker worker = (SwingWorker) evt.getSource();\n                            String propertyName = evt.getPropertyName();\n                            if (&quot;state&quot;.equals(propertyName) &amp;&amp; worker.isDone()) {\n                                btn.setEnabled(true);\n                            } else if (&quot;progress&quot;.equals(propertyName)) {\n                                progressLabel.setText(Integer.toString(worker.getProgress()));\n                            }\n                        }\n                    });\n                    worker.execute();\n                }\n            });\n        }\n    }\n\n    public class BigPane extends JPanel {\n        public BigPane() {\n            setBackground(Color.RED);\n            setBorder(new LineBorder(Color.DARK_GRAY));\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(100, 100);\n        }\n    }\n}\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details</p>\n<p>If, on the other hand, you just want to display some type of animation, I'd probably just make use of a Swing <code>Timer</code> instead, for example...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.Timer;\nimport javax.swing.border.LineBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        private JLabel progressLabel = new JLabel(&quot;...&quot;);\n        private JPanel containerPane = new JPanel(new GridBagLayout());\n\n        public TestPane() {\n            setLayout(new BorderLayout());\n            JPanel headerPane = new JPanel(new GridBagLayout());\n            add(headerPane, BorderLayout.NORTH);\n\n            add(new JScrollPane(containerPane));\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            headerPane.add(progressLabel, gbc);\n\n            JButton btn = new JButton(&quot;Make it so&quot;);\n            headerPane.add(btn, gbc);\n\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    progressLabel.setText(&quot;...&quot;);\n                    containerPane.removeAll();\n                    btn.setEnabled(false);\n\n                    Timer timer = new Timer(500, new ActionListener() {\n                        private int count = -1;\n\n                        @Override\n                        public void actionPerformed(ActionEvent e) {\n                            count++;\n                            if (count == 4) {\n                                btn.setEnabled(false);\n                                ((Timer) (e.getSource())).stop();\n                            }\n                            progressLabel.setText(Integer.toString(count + 1));\n                            containerPane.add(new BigPane());\n                            containerPane.revalidate();\n                            containerPane.repaint();\n                        }\n                    });\n                    timer.setInitialDelay(500);\n                    timer.start();\n                }\n            });\n        }\n    }\n\n    public class BigPane extends JPanel {\n        public BigPane() {\n            setBackground(Color.RED);\n            setBorder(new LineBorder(Color.DARK_GRAY));\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(100, 100);\n        }\n    }\n}\n</code></pre>\n<p>Take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> for more details</p>\n"}],"owner":{"account_id":29659580,"reputation":1,"user_id":22731494,"display_name":"glasergl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697151614,"creation_date":1697148090,"question_id":77284051,"body_markdown":"I am facing the problem that I want to add several big components (each big component = 15k JPanel with each 10 JLabel) to a JFrame. After each big component has been added, I want to update a label that shows a counter of how many of these big components has already been added.\r\n\r\nHere is a small example which should illustrate the problem:\r\n\r\n```lang-java\r\nimport java.awt.Container;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            // preparation\r\n            final JFrame frame = new JFrame();\r\n            final Container contentPane = frame.getContentPane();\r\n            contentPane.setLayout(new FlowLayout(FlowLayout.LEFT));\r\n            final JLabel loadingLabel = new JLabel(&quot;Loading 0/5&quot;);\r\n            contentPane.add(loadingLabel);\r\n\r\n            // start GUI\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n\r\n            // adding big components and show progress\r\n            for (int i = 1; i &lt;= 5; i++) {\r\n                final long time = System.currentTimeMillis();\r\n                contentPane.add(getBigJPanel());\r\n                System.out.println(&quot;time &lt;i=&quot; + i + &quot;&gt;: &quot; + (System.currentTimeMillis() - time));\r\n                loadingLabel.setText(&quot;Loading &quot; + i + &quot;/5&quot;);\r\n                contentPane.revalidate();\r\n                contentPane.repaint();\r\n            }\r\n        });\r\n    }\r\n\r\n    private static JPanel getBigJPanel() {\r\n        final JPanel panel = new JPanel();\r\n        panel.setPreferredSize(new Dimension(300, 300));\r\n        for (int i = 0; i &lt; 25_000; i++) {\r\n            panel.add(new JPanel());\r\n        }\r\n        return panel;\r\n    }\r\n\r\n}\r\n```\r\nI have the label `loadingLabel` which should show the number of big components already added. It is added to a JFrame at the start and directly after that the UI should start and be visible. However, because right after `frame.setVisible(true)` the code starts to add the big components, the label is not painted. I assume that Swing tries to optimize the code and don&#39;t waste a `repaint` when new components are added directly after.\r\n\r\nFurthermore, after each big component has been added, I update the text of the label and call `revalidate();repaint();` which should update the GUI. Nevertheless, no progress is show. Only after every big component has been added, the last `loadingLabel` is shown (should be &quot;Loading 5/5&quot;).\r\n\r\nWhat I want is that the GUI shows each of the &quot;Loading i/5&quot;.\r\n\r\nP.S.: I added a time measurement to show how long it takes to create a big component and to add it to the content pane. On my PC it yields about 3000 ms each time. The problem is only relevant if it yields a high time. That means to try the problem on a powerful PC you might need to increase the `25_000` of `getBigJPanel()`.\r\n\r\nOne thing I tried was to somewhat rearrange the operations of the EDT by wrapping blocks of codes with `SwingUitilities.invokeLater(Runnable)`. On the one hand, it seems to work fine so far, however, on the other hand, it leaves a total mess, because it requires recursively calling the next iteration in a new `SwingUitilities.invokeLater(Runnable)`.\r\n\r\nInstead of the for loop:\r\n```lang-java\r\nSwingUtilities.invokeLater(() -&gt; {\r\n    loadingLabel.setText(&quot;Loading &quot; + 1 + &quot;/5&quot;);\r\n    contentPane.revalidate();\r\n    contentPane.repaint();\r\n    SwingUtilities.invokeLater(() -&gt; {\r\n        contentPane.add(getBigJPanel());\r\n        loadingLabel.setText(&quot;Loading &quot; + 2 + &quot;/5&quot;);\r\n        contentPane.repaint();\r\n        contentPane.revalidate();\r\n        contentPane.repaint();\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            contentPane.add(getBigJPanel());\r\n            loadingLabel.setText(&quot;Loading &quot; + 3 + &quot;/5&quot;);\r\n            etc.\r\n        });\r\n    });\r\n});\r\n```\r\n\r\nI also looked at `SwingWorker`, but I think this class is designed for time-consuming tasks apart from doing something on the EDT.","title":"Updating Java-Swing GUI in-between adding very big components","body":"<p>I am facing the problem that I want to add several big components (each big component = 15k JPanel with each 10 JLabel) to a JFrame. After each big component has been added, I want to update a label that shows a counter of how many of these big components has already been added.</p>\n<p>Here is a small example which should illustrate the problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            // preparation\n            final JFrame frame = new JFrame();\n            final Container contentPane = frame.getContentPane();\n            contentPane.setLayout(new FlowLayout(FlowLayout.LEFT));\n            final JLabel loadingLabel = new JLabel(&quot;Loading 0/5&quot;);\n            contentPane.add(loadingLabel);\n\n            // start GUI\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n\n            // adding big components and show progress\n            for (int i = 1; i &lt;= 5; i++) {\n                final long time = System.currentTimeMillis();\n                contentPane.add(getBigJPanel());\n                System.out.println(&quot;time &lt;i=&quot; + i + &quot;&gt;: &quot; + (System.currentTimeMillis() - time));\n                loadingLabel.setText(&quot;Loading &quot; + i + &quot;/5&quot;);\n                contentPane.revalidate();\n                contentPane.repaint();\n            }\n        });\n    }\n\n    private static JPanel getBigJPanel() {\n        final JPanel panel = new JPanel();\n        panel.setPreferredSize(new Dimension(300, 300));\n        for (int i = 0; i &lt; 25_000; i++) {\n            panel.add(new JPanel());\n        }\n        return panel;\n    }\n\n}\n</code></pre>\n<p>I have the label <code>loadingLabel</code> which should show the number of big components already added. It is added to a JFrame at the start and directly after that the UI should start and be visible. However, because right after <code>frame.setVisible(true)</code> the code starts to add the big components, the label is not painted. I assume that Swing tries to optimize the code and don't waste a <code>repaint</code> when new components are added directly after.</p>\n<p>Furthermore, after each big component has been added, I update the text of the label and call <code>revalidate();repaint();</code> which should update the GUI. Nevertheless, no progress is show. Only after every big component has been added, the last <code>loadingLabel</code> is shown (should be &quot;Loading 5/5&quot;).</p>\n<p>What I want is that the GUI shows each of the &quot;Loading i/5&quot;.</p>\n<p>P.S.: I added a time measurement to show how long it takes to create a big component and to add it to the content pane. On my PC it yields about 3000 ms each time. The problem is only relevant if it yields a high time. That means to try the problem on a powerful PC you might need to increase the <code>25_000</code> of <code>getBigJPanel()</code>.</p>\n<p>One thing I tried was to somewhat rearrange the operations of the EDT by wrapping blocks of codes with <code>SwingUitilities.invokeLater(Runnable)</code>. On the one hand, it seems to work fine so far, however, on the other hand, it leaves a total mess, because it requires recursively calling the next iteration in a new <code>SwingUitilities.invokeLater(Runnable)</code>.</p>\n<p>Instead of the for loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SwingUtilities.invokeLater(() -&gt; {\n    loadingLabel.setText(&quot;Loading &quot; + 1 + &quot;/5&quot;);\n    contentPane.revalidate();\n    contentPane.repaint();\n    SwingUtilities.invokeLater(() -&gt; {\n        contentPane.add(getBigJPanel());\n        loadingLabel.setText(&quot;Loading &quot; + 2 + &quot;/5&quot;);\n        contentPane.repaint();\n        contentPane.revalidate();\n        contentPane.repaint();\n        SwingUtilities.invokeLater(() -&gt; {\n            contentPane.add(getBigJPanel());\n            loadingLabel.setText(&quot;Loading &quot; + 3 + &quot;/5&quot;);\n            etc.\n        });\n    });\n});\n</code></pre>\n<p>I also looked at <code>SwingWorker</code>, but I think this class is designed for time-consuming tasks apart from doing something on the EDT.</p>\n"},{"tags":["java","serialization","lambda","java-8"],"comments":[{"owner":{"account_id":74485,"reputation":1369,"user_id":214004,"accept_rate":75,"display_name":"David"},"score":18,"creation_date":1457602351,"post_id":22807912,"comment_id":59483884,"body_markdown":"While this is possible (see the selected answer), everyone should probably think twice about actually doing this. It is officially [&quot;strongly discouraged&quot;](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#serialization) and can have [serious](http://stackoverflow.com/questions/25443655/possibility-to-explicit-remove-serialization-support-for-a-lambda) [security](https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-1-kryo) [implications](https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream).","body":"While this is possible (see the selected answer), everyone should probably think twice about actually doing this. It is officially <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#serialization\" rel=\"nofollow noreferrer\">&quot;strongly discouraged&quot;</a> and can have <a href=\"http://stackoverflow.com/questions/25443655/possibility-to-explicit-remove-serialization-support-for-a-lambda\">serious</a> <a href=\"https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-1-kryo\" rel=\"nofollow noreferrer\">security</a> <a href=\"https://www.contrastsecurity.com/security-influencers/serialization-must-die-act-2-xstream\" rel=\"nofollow noreferrer\">implications</a>."}],"answers":[{"comments":[{"owner":{"account_id":3964157,"reputation":8643,"user_id":3270595,"accept_rate":75,"display_name":"Balder"},"score":4,"creation_date":1396435810,"post_id":22808112,"comment_id":34783721,"body_markdown":"Very interesting - this feature seems to be quite powerful. Is there any use of such a cast expression outside of casting lambdas? E.g. is it now also possible to do something similar with an ordinary anonymous class?","body":"Very interesting - this feature seems to be quite powerful. Is there any use of such a cast expression outside of casting lambdas? E.g. is it now also possible to do something similar with an ordinary anonymous class?"},{"owner":{"account_id":3964157,"reputation":8643,"user_id":3270595,"accept_rate":75,"display_name":"Balder"},"score":0,"creation_date":1396436734,"post_id":22808112,"comment_id":34784369,"body_markdown":"What I meant was: is there any way to instantiate an anonymous class implementing two interfaces similar to the instantiated lambda expression in your example. But I just looked into it and it seems there is no new syntax for doing something like that.","body":"What I meant was: is there any way to instantiate an anonymous class implementing two interfaces similar to the instantiated lambda expression in your example. But I just looked into it and it seems there is no new syntax for doing something like that."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":6,"creation_date":1396459152,"post_id":22808112,"comment_id":34801141,"body_markdown":"@Balder The facility to cast to an intersection type was added in order to provide a target type for type inference of lambdas. Since AICs have a manifest type (i.e., its type is not inferred) casting an AIC to an intersection type isn&#39;t useful. (It is possible, just not useful.) To have an AIC implement multiple interfaces, you have to create a new subinterface that extends all of them, and then instantiate that.","body":"@Balder The facility to cast to an intersection type was added in order to provide a target type for type inference of lambdas. Since AICs have a manifest type (i.e., its type is not inferred) casting an AIC to an intersection type isn&#39;t useful. (It is possible, just not useful.) To have an AIC implement multiple interfaces, you have to create a new subinterface that extends all of them, and then instantiate that."},{"owner":{"account_id":305249,"reputation":42705,"user_id":615306,"accept_rate":51,"display_name":"Kirill Rakhman"},"score":2,"creation_date":1396789770,"post_id":22808112,"comment_id":34937923,"body_markdown":"Will this produce a compiler warning, saying no serialVersionUID is defined?","body":"Will this produce a compiler warning, saying no serialVersionUID is defined?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1396863081,"post_id":22808112,"comment_id":34963075,"body_markdown":"@cypressious No compiler warning.","body":"@cypressious No compiler warning."},{"owner":{"account_id":3086549,"reputation":173,"user_id":2613561,"display_name":"daimon"},"score":0,"creation_date":1442303338,"post_id":22808112,"comment_id":53015197,"body_markdown":"can  SerializedLambda another alternative for serialization ?","body":"can  SerializedLambda another alternative for serialization ?"},{"owner":{"account_id":235434,"reputation":2479,"user_id":502240,"display_name":"bcody"},"score":16,"creation_date":1444376210,"post_id":22808112,"comment_id":53886783,"body_markdown":"Note: this only works if you apply the cast during construction. The following will throw a ClassCastException:\n\nRunnable r = () -&gt; System.out.println(&quot;Serializable!&quot;);\nRunnable serializableR = (Runnable &amp; Serializable)r;","body":"Note: this only works if you apply the cast during construction. The following will throw a ClassCastException:  Runnable r = () -&gt; System.out.println(&quot;Serializable!&quot;); Runnable serializableR = (Runnable &amp; Serializable)r;"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1444380928,"post_id":22808112,"comment_id":53889355,"body_markdown":"@bcody Yes see also: http://stackoverflow.com/questions/25391656/serialization-of-a-lambda-after-its-creation","body":"@bcody Yes see also: <a href=\"http://stackoverflow.com/questions/25391656/serialization-of-a-lambda-after-its-creation\" title=\"serialization of a lambda after its creation\">stackoverflow.com/questions/25391656/&hellip;</a>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1472667180,"post_id":22808112,"comment_id":65848552,"body_markdown":"@bcody why shouldnt it? You are trying to cast `Runnable` to `Serializable`. No different outcome possible","body":"@bcody why shouldnt it? You are trying to cast <code>Runnable</code> to <code>Serializable</code>. No different outcome possible"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1490770469,"post_id":22808112,"comment_id":73254779,"body_markdown":"@cypressious From the Serializable docs: _If a serializable class does not explicitly declare a serialVersionUID, then the **serialization runtime** will calculate a default serialVersionUID value for that class based on various aspects of the class, as described in the Java(TM) Object Serialization Specification._","body":"@cypressious From the Serializable docs: <i>If a serializable class does not explicitly declare a serialVersionUID, then the <b>serialization runtime</b> will calculate a default serialVersionUID value for that class based on various aspects of the class, as described in the Java(TM) Object Serialization Specification.</i>"},{"owner":{"account_id":5373231,"reputation":161,"user_id":4281058,"display_name":"Yankai Zhang"},"score":0,"creation_date":1554704900,"post_id":22808112,"comment_id":97833786,"body_markdown":"@StuartMarks &quot;**you have to create a new subinterface that extends all of them**&quot;, that&#39;s why it is useful, much like mixin.","body":"@StuartMarks &quot;<b>you have to create a new subinterface that extends all of them</b>&quot;, that&#39;s why it is useful, much like mixin."},{"owner":{"account_id":2139684,"reputation":8710,"user_id":2019549,"accept_rate":62,"display_name":"cambunctious"},"score":0,"creation_date":1563300139,"post_id":22808112,"comment_id":100651331,"body_markdown":"`(Runnable &amp; Serializable) () -&gt; System.exit(0);` bye","body":"<code>(Runnable &amp; Serializable) () -&gt; System.exit(0);</code> bye"},{"owner":{"account_id":1437036,"reputation":2679,"user_id":1358179,"display_name":"Martin"},"score":1,"creation_date":1566914829,"post_id":22808112,"comment_id":101800025,"body_markdown":"If you use `var` instead of an explicit type, you can use the object both as `Runnable` and `Serializable` without having to cast, for example when calling a method expecting a `Serializable` argument. More on this here: https://blog.codefx.org/java/intersection-types-var/","body":"If you use <code>var</code> instead of an explicit type, you can use the object both as <code>Runnable</code> and <code>Serializable</code> without having to cast, for example when calling a method expecting a <code>Serializable</code> argument. More on this here: <a href=\"https://blog.codefx.org/java/intersection-types-var/\" rel=\"nofollow noreferrer\">blog.codefx.org/java/intersection-types-var</a>"}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":13,"down_vote_count":0,"up_vote_count":297,"is_accepted":true,"score":297,"last_activity_date":1396433389,"creation_date":1396433389,"answer_id":22808112,"question_id":22807912,"body_markdown":"Java 8 introduces the possibility to [cast an object to an intersection of types by adding multiple bounds][1]. In the case of serialization, it is therefore possible to write:\r\n\r\n    Runnable r = (Runnable &amp; Serializable)() -&gt; System.out.println(&quot;Serializable!&quot;);\r\n\r\nAnd the lambda automagically becomes serializable.\r\n\r\n [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.16","title":"How to serialize a lambda?","body":"<p>Java 8 introduces the possibility to <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.16\">cast an object to an intersection of types by adding multiple bounds</a>. In the case of serialization, it is therefore possible to write:</p>\n\n<pre><code>Runnable r = (Runnable &amp; Serializable)() -&gt; System.out.println(\"Serializable!\");\n</code></pre>\n\n<p>And the lambda automagically becomes serializable.</p>\n"},{"tags":[],"owner":{"account_id":4432620,"reputation":1460,"user_id":3609400,"display_name":"Vicente Romero"},"comment_count":0,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1400979661,"creation_date":1400979661,"answer_id":23851076,"question_id":22807912,"body_markdown":"The same construction can be used for method references. For example this code:\r\n\r\n    import java.io.Serializable;\r\n\r\n    public class Test {\r\n        static Object bar(String s) {\r\n            return &quot;make serializable&quot;;\r\n        }\r\n\r\n        void m () {\r\n            SAM s1 = (SAM &amp; Serializable) Test::bar;\r\n            SAM s2 = (SAM &amp; Serializable) t -&gt; &quot;make serializable&quot;;\r\n        }\r\n\r\n        interface SAM {\r\n            Object action(String s);\r\n        }\r\n    }\r\n\r\ndefines a lambda expression and a method reference with a serializable target type.","title":"How to serialize a lambda?","body":"<p>The same construction can be used for method references. For example this code:</p>\n\n<pre><code>import java.io.Serializable;\n\npublic class Test {\n    static Object bar(String s) {\n        return \"make serializable\";\n    }\n\n    void m () {\n        SAM s1 = (SAM &amp; Serializable) Test::bar;\n        SAM s2 = (SAM &amp; Serializable) t -&gt; \"make serializable\";\n    }\n\n    interface SAM {\n        Object action(String s);\n    }\n}\n</code></pre>\n\n<p>defines a lambda expression and a method reference with a serializable target type.</p>\n"},{"comments":[{"owner":{"account_id":4185076,"reputation":2839,"user_id":3429015,"display_name":"Danon"},"score":1,"creation_date":1600548526,"post_id":43831210,"comment_id":113124767,"body_markdown":"The post was moved here: https://ruediste.github.io/java/kryo/2017/05/07/serializing-non-serializable-lambdas.html","body":"The post was moved here: <a href=\"https://ruediste.github.io/java/kryo/2017/05/07/serializing-non-serializable-lambdas.html\" rel=\"nofollow noreferrer\">ruediste.github.io/java/kryo/2017/05/07/&hellip;</a>"}],"tags":[],"owner":{"account_id":1350880,"reputation":2554,"user_id":1290557,"accept_rate":60,"display_name":"ruediste"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1602493534,"creation_date":1494158374,"answer_id":43831210,"question_id":22807912,"body_markdown":"If you are willing to switch to another serialization framework like [Kryo][1], you can get rid of the multiple bounds or the requirement that the implemented interface must implement `Serializable`. The approach is to \r\n\r\n 1. Modify the `InnerClassLambdaMetafactory` to always generate the code required for serialization\r\n 1. Directly call the `LambdaMetaFactory` during deserialization\r\n\r\nFor details and code see this [blog post][2]\r\n\r\n\r\n  [1]: https://github.com/EsotericSoftware/kryo\r\n  [2]: https://ruediste.github.io/java/kryo/2017/05/07/serializing-non-serializable-lambdas.html","title":"How to serialize a lambda?","body":"<p>If you are willing to switch to another serialization framework like <a href=\"https://github.com/EsotericSoftware/kryo\" rel=\"nofollow noreferrer\">Kryo</a>, you can get rid of the multiple bounds or the requirement that the implemented interface must implement <code>Serializable</code>. The approach is to</p>\n<ol>\n<li>Modify the <code>InnerClassLambdaMetafactory</code> to always generate the code required for serialization</li>\n<li>Directly call the <code>LambdaMetaFactory</code> during deserialization</li>\n</ol>\n<p>For details and code see this <a href=\"https://ruediste.github.io/java/kryo/2017/05/07/serializing-non-serializable-lambdas.html\" rel=\"nofollow noreferrer\">blog post</a></p>\n"},{"comments":[{"owner":{"account_id":4494144,"reputation":318,"user_id":3654441,"display_name":"slevin"},"score":4,"creation_date":1509568965,"post_id":45699173,"comment_id":81074822,"body_markdown":"I like this answer because then any external caller you don&#39;t write will automatically also be serializable. If you want objects submitted to be serializable, your interface should be serializable, which is kind of the point of an interface. However, the question did say &quot;without creating a `SerializableRunnable` &#39;dummy&#39; interface&quot;","body":"I like this answer because then any external caller you don&#39;t write will automatically also be serializable. If you want objects submitted to be serializable, your interface should be serializable, which is kind of the point of an interface. However, the question did say &quot;without creating a <code>SerializableRunnable</code> &#39;dummy&#39; interface&quot;"}],"tags":[],"owner":{"account_id":4126293,"reputation":405,"user_id":3767904,"display_name":"Pascal"},"comment_count":1,"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1502821674,"creation_date":1502821674,"answer_id":45699173,"question_id":22807912,"body_markdown":"Very ugly cast. I prefer to define a Serializable extension to the functional interface I&#39;m using\r\n\r\nFor example:\r\n\r\n    interface SerializableFunction&lt;T,R&gt; extends Function&lt;T,R&gt;, Serializable {}\r\n    interface SerializableConsumer&lt;T&gt; extends Consumer&lt;T&gt;, Serializable {}\r\n\r\nthen the method accepting the lambda can be defined as such :\r\n\r\n    private void someFunction(SerializableFunction&lt;String, Object&gt; function) {\r\n       ...\r\n    }\r\n\r\nand calling the function you can pass your lambda without any ugly cast:\r\n\r\n    someFunction(arg -&gt; doXYZ(arg));","title":"How to serialize a lambda?","body":"<p>Very ugly cast. I prefer to define a Serializable extension to the functional interface I'm using</p>\n\n<p>For example:</p>\n\n<pre><code>interface SerializableFunction&lt;T,R&gt; extends Function&lt;T,R&gt;, Serializable {}\ninterface SerializableConsumer&lt;T&gt; extends Consumer&lt;T&gt;, Serializable {}\n</code></pre>\n\n<p>then the method accepting the lambda can be defined as such :</p>\n\n<pre><code>private void someFunction(SerializableFunction&lt;String, Object&gt; function) {\n   ...\n}\n</code></pre>\n\n<p>and calling the function you can pass your lambda without any ugly cast:</p>\n\n<pre><code>someFunction(arg -&gt; doXYZ(arg));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16216212,"reputation":977,"user_id":11708983,"display_name":"Rafa&#235;l"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1563523986,"creation_date":1563523986,"answer_id":57108230,"question_id":22807912,"body_markdown":"**In case someone falls here while creating Beam/Dataflow code :**\r\n\r\nBeam has his own [SerializableFunction][1] Interface so no need for dummy interface or verbose casts.\r\n\r\n\r\n\r\n  [1]: https://beam.apache.org/releases/javadoc/2.5.0/org/apache/beam/sdk/transforms/SerializableFunction.html","title":"How to serialize a lambda?","body":"<p><strong>In case someone falls here while creating Beam/Dataflow code :</strong></p>\n\n<p>Beam has his own <a href=\"https://beam.apache.org/releases/javadoc/2.5.0/org/apache/beam/sdk/transforms/SerializableFunction.html\" rel=\"noreferrer\">SerializableFunction</a> Interface so no need for dummy interface or verbose casts.</p>\n"},{"tags":[],"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697151089,"creation_date":1697149305,"answer_id":77284119,"question_id":22807912,"body_markdown":"To add to other answers, you can create a serializable lambda by using the cast expression or by using a new interface that extends Serializable as shown in other answers. Notice that the resulting objects don&#39;t necessarily play nice with default methods of the functional interfaces (for example). The third solution, far from ideal because it does not ensure that the right hand side operand is serializable, does generate a serializable object.\r\n\r\n\t\r\n\t@Test\r\n\tpublic void testCasetExpression() {\r\n\t\tPredicate&lt;Integer&gt; p1 = (Predicate&lt;Integer&gt; &amp; Serializable)i -&gt; true;\r\n\t\tPredicate&lt;Integer&gt; p2 = (Predicate&lt;Integer&gt; &amp; Serializable)i -&gt; true;\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; p3 = p1.and(p2);\r\n\t\tAssertions.assertFalse(p3 instanceof Serializable);\t// Notice false\r\n\t}\r\n\t\r\n\tinterface SerializablePredicateV1&lt;T&gt; extends Predicate&lt;T&gt;, Serializable {}\r\n\r\n\t@Test\r\n\tpublic void testInterfaceV1() {\r\n\t\tPredicate&lt;Integer&gt; p1 = (SerializablePredicateV1)i -&gt; true;\r\n\t\tPredicate&lt;Integer&gt; p2 = (SerializablePredicateV1)i -&gt; true;\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; p3 = p1.and(p2);\r\n\t\tAssertions.assertFalse(p3 instanceof Serializable);\t// Notice false\r\n\t}\r\n\t\r\n\tinterface SerializablePredicateV2&lt;T&gt; extends Predicate&lt;T&gt;, Serializable {\r\n\t\t\r\n\t    @Override\r\n\t\tdefault SerializablePredicateV2&lt;T&gt; and(Predicate&lt;? super T&gt; other) {\r\n\t        Objects.requireNonNull(other);\r\n\t        return (t) -&gt; test(t) &amp;&amp; other.test(t);\r\n\t    }\r\n\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testInterfaceV2() {\r\n\t\tPredicate&lt;Integer&gt; p1 = (SerializablePredicateV2)i -&gt; true;\r\n\t\tPredicate&lt;Integer&gt; p2 = (SerializablePredicateV2)i -&gt; true;\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; p3 = p1.and(p2);\r\n\t\tAssertions.assertTrue(p3 instanceof Serializable); // Notice true\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; p4 = i -&gt; true; // Not serializable\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; p5 = p1.and(p4);\r\n\t\t// true but will fail because p4 is not serializable\r\n\t\tAssertions.assertTrue(p5 instanceof Serializable); \t\r\n\t}\r\n\t\r\n    // Not a Predicate anymore :(\r\n\tinterface SerializablePredicateV3&lt;T&gt; extends Serializable {\r\n\r\n\t\tboolean test(T t);\r\n\r\n\t\tdefault SerializablePredicateV3&lt;T&gt; and(SerializablePredicateV3&lt;? super T&gt; other) {\r\n\t        Objects.requireNonNull(other);\r\n\t        return (t) -&gt; test(t) &amp;&amp; other.test(t);\r\n\t    }\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testInterfaceV3() {\r\n\t\tSerializablePredicateV3&lt;Integer&gt; p1 = (SerializablePredicateV3)i -&gt; true;\r\n\t\tSerializablePredicateV3&lt;Integer&gt; p2 = (SerializablePredicateV3)i -&gt; true;\r\n\t\t\r\n\t\tSerializablePredicateV3&lt;Integer&gt; p3 = p1.and(p2);\r\n\t}","title":"How to serialize a lambda?","body":"<p>To add to other answers, you can create a serializable lambda by using the cast expression or by using a new interface that extends Serializable as shown in other answers. Notice that the resulting objects don't necessarily play nice with default methods of the functional interfaces (for example). The third solution, far from ideal because it does not ensure that the right hand side operand is serializable, does generate a serializable object.</p>\n<pre><code>@Test\npublic void testCasetExpression() {\n    Predicate&lt;Integer&gt; p1 = (Predicate&lt;Integer&gt; &amp; Serializable)i -&gt; true;\n    Predicate&lt;Integer&gt; p2 = (Predicate&lt;Integer&gt; &amp; Serializable)i -&gt; true;\n    \n    Predicate&lt;Integer&gt; p3 = p1.and(p2);\n    Assertions.assertFalse(p3 instanceof Serializable); // Notice false\n}\n\ninterface SerializablePredicateV1&lt;T&gt; extends Predicate&lt;T&gt;, Serializable {}\n\n@Test\npublic void testInterfaceV1() {\n    Predicate&lt;Integer&gt; p1 = (SerializablePredicateV1)i -&gt; true;\n    Predicate&lt;Integer&gt; p2 = (SerializablePredicateV1)i -&gt; true;\n    \n    Predicate&lt;Integer&gt; p3 = p1.and(p2);\n    Assertions.assertFalse(p3 instanceof Serializable); // Notice false\n}\n\ninterface SerializablePredicateV2&lt;T&gt; extends Predicate&lt;T&gt;, Serializable {\n    \n    @Override\n    default SerializablePredicateV2&lt;T&gt; and(Predicate&lt;? super T&gt; other) {\n        Objects.requireNonNull(other);\n        return (t) -&gt; test(t) &amp;&amp; other.test(t);\n    }\n\n}\n\n@Test\npublic void testInterfaceV2() {\n    Predicate&lt;Integer&gt; p1 = (SerializablePredicateV2)i -&gt; true;\n    Predicate&lt;Integer&gt; p2 = (SerializablePredicateV2)i -&gt; true;\n    \n    Predicate&lt;Integer&gt; p3 = p1.and(p2);\n    Assertions.assertTrue(p3 instanceof Serializable); // Notice true\n    \n    Predicate&lt;Integer&gt; p4 = i -&gt; true; // Not serializable\n    \n    Predicate&lt;Integer&gt; p5 = p1.and(p4);\n    // true but will fail because p4 is not serializable\n    Assertions.assertTrue(p5 instanceof Serializable);  \n}\n\n// Not a Predicate anymore :(\ninterface SerializablePredicateV3&lt;T&gt; extends Serializable {\n\n    boolean test(T t);\n\n    default SerializablePredicateV3&lt;T&gt; and(SerializablePredicateV3&lt;? super T&gt; other) {\n        Objects.requireNonNull(other);\n        return (t) -&gt; test(t) &amp;&amp; other.test(t);\n    }\n}\n\n@Test\npublic void testInterfaceV3() {\n    SerializablePredicateV3&lt;Integer&gt; p1 = (SerializablePredicateV3)i -&gt; true;\n    SerializablePredicateV3&lt;Integer&gt; p2 = (SerializablePredicateV3)i -&gt; true;\n    \n    SerializablePredicateV3&lt;Integer&gt; p3 = p1.and(p2);\n}\n</code></pre>\n"}],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55846,"favorite_count":0,"down_vote_count":1,"up_vote_count":175,"accepted_answer_id":22808112,"answer_count":6,"score":174,"last_activity_date":1697151089,"creation_date":1396432928,"question_id":22807912,"body_markdown":"How can I elegantly serialize a lambda?\r\n\r\nFor example, the code below throws a `NotSerializableException`. How can I fix it without creating a `SerializableRunnable` &quot;dummy&quot; interface?\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        File file = Files.createTempFile(&quot;lambda&quot;, &quot;ser&quot;).toFile();\r\n        try (ObjectOutput oo = new ObjectOutputStream(new FileOutputStream(file))) {\r\n            Runnable r = () -&gt; System.out.println(&quot;Can I be serialized?&quot;);\r\n            oo.writeObject(r);\r\n        }\r\n\r\n        try (ObjectInput oi = new ObjectInputStream(new FileInputStream(file))) {\r\n            Runnable  r = (Runnable) oi.readObject();\r\n            r.run();\r\n        }\r\n    }\r\n","title":"How to serialize a lambda?","body":"<p>How can I elegantly serialize a lambda?</p>\n\n<p>For example, the code below throws a <code>NotSerializableException</code>. How can I fix it without creating a <code>SerializableRunnable</code> \"dummy\" interface?</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    File file = Files.createTempFile(\"lambda\", \"ser\").toFile();\n    try (ObjectOutput oo = new ObjectOutputStream(new FileOutputStream(file))) {\n        Runnable r = () -&gt; System.out.println(\"Can I be serialized?\");\n        oo.writeObject(r);\n    }\n\n    try (ObjectInput oi = new ObjectInputStream(new FileInputStream(file))) {\n        Runnable  r = (Runnable) oi.readObject();\n        r.run();\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","sql"],"answers":[{"tags":[],"owner":{"account_id":11458687,"reputation":324,"user_id":8398972,"display_name":"Divarrek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594217197,"creation_date":1594217197,"answer_id":62796678,"question_id":62796565,"body_markdown":"The default empty &quot;value&quot; may not be an empty string, but `null`, you may want to try adding this to your `WHERE` clause\r\n\r\n    AND c.year IS NOT NULL","title":"In this query, what do I need to add so it never displays blanks or null values?","body":"<p>The default empty &quot;value&quot; may not be an empty string, but <code>null</code>, you may want to try adding this to your <code>WHERE</code> clause</p>\n<pre><code>AND c.year IS NOT NULL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2551182,"reputation":23,"user_id":2214898,"display_name":"Mr. Richhariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594223289,"creation_date":1594223289,"answer_id":62798567,"question_id":62796565,"body_markdown":"you can check length greater than 0 after trimming that column and also check is not null.\r\n\r\nSimilar as below used sometime back \r\n    SELECT \r\n    DISTINCT email_id\r\n    FROM  FCSR_USER_MST\r\n    WHERE length(trim(email_id)) &gt;0 and email_id IS NOT NULL\r\n\r\n  \r\n[See this link][1]It would be helpful for you\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28169612/mysql-distinct-values-without-empty-string-and-null.","title":"In this query, what do I need to add so it never displays blanks or null values?","body":"<p>you can check length greater than 0 after trimming that column and also check is not null.</p>\n<p>Similar as below used sometime back\nSELECT\nDISTINCT email_id\nFROM  FCSR_USER_MST\nWHERE length(trim(email_id)) &gt;0 and email_id IS NOT NULL</p>\n<p><a href=\"https://stackoverflow.com/questions/28169612/mysql-distinct-values-without-empty-string-and-null.\">See this link</a>It would be helpful for you</p>\n"},{"tags":[],"owner":{"account_id":22674125,"reputation":5,"user_id":16845468,"display_name":"DesarrolladorNoob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697150018,"creation_date":1697150018,"answer_id":77284153,"question_id":62796565,"body_markdown":"I would do it in the following way\r\n\r\n    SELECT \r\n        COUNT(DISTINCT pd.id) FILTER\r\n        notCurrent = (IIF(c.year != &#39;&#39;,ISNULL(c.year,&#39;1900&#39;),&#39;1900&#39;))\r\n    FROM yourtable pd\r\nso, when it&#39;s empty or it&#39;s null it also returns the value 1900.\r\n","title":"In this query, what do I need to add so it never displays blanks or null values?","body":"<p>I would do it in the following way</p>\n<pre><code>SELECT \n    COUNT(DISTINCT pd.id) FILTER\n    notCurrent = (IIF(c.year != '',ISNULL(c.year,'1900'),'1900'))\nFROM yourtable pd\n</code></pre>\n<p>so, when it's empty or it's null it also returns the value 1900.</p>\n"}],"owner":{"account_id":18366582,"reputation":61,"user_id":13377490,"display_name":"crytodactyl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697150018,"creation_date":1594216872,"question_id":62796565,"body_markdown":"    @Query(nativeQuery = true, value = &quot;SELECT &quot; +\r\n              &quot;COUNT(DISTINCT pd.id) FILTER (WHERE c.year NOT IN (&#39;2020&#39;, &#39;2021&#39;, &#39;&#39;)) AS \\&quot;notCurrent\\&quot;,  &quot; +\r\n\r\nThis query is for a filter called notCurrent. The problem is, when the filter is selected, it still shows blank values, even though I added &#39;&#39; in the query. What do I need to do so no blanks/null values display when this filter is selected?\r\n\r\nUI:\r\n\r\n```javascript\r\nexport function forceFilter(key, filterVal, table, dataType, title) {\r\n  var newTable = JSON.stringify(table);\r\n  newTable = JSON.parse(newTable);\r\n  var updated = false;\r\n  if (key != &quot;disclosure&quot; &amp;&amp; filterVal == &quot;Unknown&quot;) {\r\n    filterVal = &quot;&quot;;\r\n  } else if (filterVal == &quot;Not Current&quot;) {\r\n    filterVal = &quot;notCurrent&quot;;\r\n  }\r\n}\r\n```    ","title":"In this query, what do I need to add so it never displays blanks or null values?","body":"<pre><code>@Query(nativeQuery = true, value = &quot;SELECT &quot; +\n          &quot;COUNT(DISTINCT pd.id) FILTER (WHERE c.year NOT IN ('2020', '2021', '')) AS \\&quot;notCurrent\\&quot;,  &quot; +\n</code></pre>\n<p>This query is for a filter called notCurrent. The problem is, when the filter is selected, it still shows blank values, even though I added '' in the query. What do I need to do so no blanks/null values display when this filter is selected?</p>\n<p>UI:</p>\n<pre class=\"lang-js prettyprint-override\"><code>export function forceFilter(key, filterVal, table, dataType, title) {\n  var newTable = JSON.stringify(table);\n  newTable = JSON.parse(newTable);\n  var updated = false;\n  if (key != &quot;disclosure&quot; &amp;&amp; filterVal == &quot;Unknown&quot;) {\n    filterVal = &quot;&quot;;\n  } else if (filterVal == &quot;Not Current&quot;) {\n    filterVal = &quot;notCurrent&quot;;\n  }\n}\n</code></pre>\n"},{"tags":["java","matlab","signals"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697650753,"post_id":77284125,"comment_id":136307880,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77284125/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":7844603,"reputation":21,"user_id":5930066,"display_name":"ImageLite"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697149479,"creation_date":1697149412,"answer_id":77284125,"question_id":76962561,"body_markdown":"There can be different types of noise, for example - signal overflow, when almost all values have maximum or minimum levels. \r\nA high level of 50-60Hz in the signal spectrum can be induced by the electrical network. There may be a floating baseline, when the difference in average values per second is comparable to the amplitude of the peaks (wavelet transform can help here). \r\nFrequencies above 60 Hz are most likely noise (if you have 200-300 samples per second). High frequencies share of 20-50 Hz is most likely noise. \r\nNormal QRS complex provides two strong maximums of ~8-12Hz and 1-2Hz in the signal spectrum, the absence of such maximums may indicate pure noise (but may be also VF case). ","title":"Signal Processing noise detection","body":"<p>There can be different types of noise, for example - signal overflow, when almost all values have maximum or minimum levels.\nA high level of 50-60Hz in the signal spectrum can be induced by the electrical network. There may be a floating baseline, when the difference in average values per second is comparable to the amplitude of the peaks (wavelet transform can help here).\nFrequencies above 60 Hz are most likely noise (if you have 200-300 samples per second). High frequencies share of 20-50 Hz is most likely noise.\nNormal QRS complex provides two strong maximums of ~8-12Hz and 1-2Hz in the signal spectrum, the absence of such maximums may indicate pure noise (but may be also VF case).</p>\n"}],"owner":{"account_id":29284082,"reputation":1,"user_id":22436066,"display_name":"bayan bayrakdar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697149479,"creation_date":1692802247,"question_id":76962561,"body_markdown":"Is there any alogrithm in Digital Signal Processing for detect noise in ECG signal with adaptive threshold, I made alogrithm but when it have a diseases detect as a noise \r\nAnyone give a general solution for this issue??? \r\n\r\nI did noise detection depend on wavelet transform ","title":"Signal Processing noise detection","body":"<p>Is there any alogrithm in Digital Signal Processing for detect noise in ECG signal with adaptive threshold, I made alogrithm but when it have a diseases detect as a noise\nAnyone give a general solution for this issue???</p>\n<p>I did noise detection depend on wavelet transform</p>\n"},{"tags":["java","collections","interface"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1395791284,"post_id":147468,"comment_id":34496125,"body_markdown":"See also http://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","body":"See also <a href=\"http://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\" title=\"what does it mean to program to an interface\">stackoverflow.com/questions/383947/&hellip;</a>"},{"owner":{"account_id":21596317,"reputation":61,"user_id":15925222,"display_name":"Luke Autry"},"score":0,"creation_date":1673699659,"post_id":147468,"comment_id":132558942,"body_markdown":"Hello, If you initialize your data structure as an ArrayList","body":"Hello, If you initialize your data structure as an ArrayList"}],"answers":[{"tags":[],"owner":{"account_id":9016,"reputation":16145,"user_id":16476,"accept_rate":63,"display_name":"AdamC"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1222661068,"creation_date":1222661068,"answer_id":147472,"question_id":147468,"body_markdown":"This is preferred because you decouple your code from the implementation of the list.  Using the interface lets you easily change the implementation, ArrayList in this case, to another list implementation without changing any of the rest of the code as long as it only uses methods defined in List.","title":"Why should the interface for a Java class be preferred?","body":"<p>This is preferred because you decouple your code from the implementation of the list.  Using the interface lets you easily change the implementation, ArrayList in this case, to another list implementation without changing any of the rest of the code as long as it only uses methods defined in List.</p>\n"},{"comments":[{"owner":{"account_id":1181752,"reputation":1737,"user_id":1156544,"accept_rate":69,"display_name":"user1156544"},"score":2,"creation_date":1527090296,"post_id":147495,"comment_id":87997953,"body_markdown":"And what about using &quot;Collection&quot; instead of &quot;List&quot;, so we go one step further in abstraction...?","body":"And what about using &quot;Collection&quot; instead of &quot;List&quot;, so we go one step further in abstraction...?"},{"owner":{"account_id":14096636,"reputation":65,"user_id":10183216,"display_name":"CJay Horton"},"score":1,"creation_date":1653391840,"post_id":147495,"comment_id":127835993,"body_markdown":"@user1156544 Would you abstract away some functionality allowed by the List interface (e.g. index based operations)?","body":"@user1156544 Would you abstract away some functionality allowed by the List interface (e.g. index based operations)?"},{"owner":{"account_id":1181752,"reputation":1737,"user_id":1156544,"accept_rate":69,"display_name":"user1156544"},"score":0,"creation_date":1653920981,"post_id":147495,"comment_id":127963164,"body_markdown":"I would leave it up to the final implementation details. If `Collection` is used, changes from e.g. `Set` to `List` will be transparent for all intermediate classes except for the final one that does the implementation. If the caller needs specific features, then it can &quot;use&quot; the object as needed.","body":"I would leave it up to the final implementation details. If <code>Collection</code> is used, changes from e.g. <code>Set</code> to <code>List</code> will be transparent for all intermediate classes except for the final one that does the implementation. If the caller needs specific features, then it can &quot;use&quot; the object as needed."},{"owner":{"account_id":21596317,"reputation":61,"user_id":15925222,"display_name":"Luke Autry"},"score":0,"creation_date":1673700136,"post_id":147495,"comment_id":132559002,"body_markdown":"Hello, If you initialize the data structure referenced by &#39;list&#39; as an ArrayList Class you will only be able to access the appended data with ArrayList Class methods. You cannot reinitialize &#39;list&#39; as a new Class like LinkedList. The best way to get access to both ArrayList and LinkedList methods is to use an interface.","body":"Hello, If you initialize the data structure referenced by &#39;list&#39; as an ArrayList Class you will only be able to access the appended data with ArrayList Class methods. You cannot reinitialize &#39;list&#39; as a new Class like LinkedList. The best way to get access to both ArrayList and LinkedList methods is to use an interface."}],"tags":[],"owner":{"account_id":8161,"reputation":12612,"user_id":14540,"accept_rate":91,"display_name":"kolrie"},"comment_count":4,"down_vote_count":0,"up_vote_count":86,"is_accepted":true,"score":86,"last_activity_date":1692962155,"creation_date":1222662012,"answer_id":147495,"question_id":147468,"body_markdown":"Using interfaces over concrete types is the key for good encapsulation and for loose coupling your code.\r\n\r\nIt&#39;s even a good idea to follow this practice when writing your own APIs. If you do, you&#39;ll find later that it&#39;s easier to add unit tests to your code (using Mocking techniques), and to change the underlying implementation if needed in the future.\r\n\r\nHere&#39;s a [good article][1] on the subject.\r\n\r\nHope it helps!\r\n\r\n\r\n  [1]: https://web.archive.org/web/20130816024910/http://www.javaworld.com/javaworld/jw-08-2003/jw-0801-toolbox.html","title":"Why should the interface for a Java class be preferred?","body":"<p>Using interfaces over concrete types is the key for good encapsulation and for loose coupling your code.</p>\n<p>It's even a good idea to follow this practice when writing your own APIs. If you do, you'll find later that it's easier to add unit tests to your code (using Mocking techniques), and to change the underlying implementation if needed in the future.</p>\n<p>Here's a <a href=\"https://web.archive.org/web/20130816024910/http://www.javaworld.com/javaworld/jw-08-2003/jw-0801-toolbox.html\" rel=\"nofollow noreferrer\">good article</a> on the subject.</p>\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":1254,"reputation":57918,"user_id":1666,"accept_rate":84,"display_name":"SCdF"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1352171465,"creation_date":1222662909,"answer_id":147521,"question_id":147468,"body_markdown":"ArrayList and LinkedList are two implementations of a List, which is an ordered collection of items. Logic-wise it doesn&#39;t matter if you use an ArrayList or a LinkedList, so you shouldn&#39;t constrain the type to be that.\r\n\r\nThis contrasts with say, Collection and List, which are different things (List implies sorting, Collection does not).\r\n\r\n","title":"Why should the interface for a Java class be preferred?","body":"<p>ArrayList and LinkedList are two implementations of a List, which is an ordered collection of items. Logic-wise it doesn't matter if you use an ArrayList or a LinkedList, so you shouldn't constrain the type to be that.</p>\n\n<p>This contrasts with say, Collection and List, which are different things (List implies sorting, Collection does not).</p>\n"},{"comments":[{"owner":{"account_id":51505,"reputation":1291,"user_id":153911,"accept_rate":55,"display_name":"Champ"},"score":0,"creation_date":1304239079,"post_id":148712,"comment_id":6716634,"body_markdown":"If you code to implementations like ArrayList, there is every possibility that you may use methods of implementation even when you could do the same thing with interface methods. This would bind your code to the implementation - making it harder to switch between implementations later.","body":"If you code to implementations like ArrayList, there is every possibility that you may use methods of implementation even when you could do the same thing with interface methods. This would bind your code to the implementation - making it harder to switch between implementations later."}],"tags":[],"owner":{"account_id":11446,"reputation":1711,"user_id":22068,"display_name":"Rastislav Komara"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1320159003,"creation_date":1222696085,"answer_id":148712,"question_id":147468,"body_markdown":"In general for your line of code it does not make sense to bother with interfaces. But, if we are talking about APIs there is a really good reason. I got small class\r\n\r\n    class Counter {\r\n        static int sizeOf(List&lt;?&gt; items) {\r\n            return items.size();\r\n        }\r\n    }\r\n\r\nIn this case is usage of interface required. Because I want to count size of *every possible* implementation including my own custom. `class MyList extends AbstractList&lt;String&gt;...`. \r\n\r\n\r\n\r\n","title":"Why should the interface for a Java class be preferred?","body":"<p>In general for your line of code it does not make sense to bother with interfaces. But, if we are talking about APIs there is a really good reason. I got small class</p>\n\n<pre><code>class Counter {\n    static int sizeOf(List&lt;?&gt; items) {\n        return items.size();\n    }\n}\n</code></pre>\n\n<p>In this case is usage of interface required. Because I want to count size of <em>every possible</em> implementation including my own custom. <code>class MyList extends AbstractList&lt;String&gt;...</code>. </p>\n"},{"tags":[],"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320158956,"creation_date":1222735037,"answer_id":151322,"question_id":147468,"body_markdown":"Properties of your classes/interfaces should be exposed through interfaces because it gives your classes a contract of behavior to use, regardless of the implementation.\r\n\r\nHowever...\r\n\r\nIn local variable declarations, it makes little sense to do this:\r\n\r\n    public void someMethod() {\r\n    List theList = new ArrayList();\r\n    //do stuff with the list\r\n    }\r\n\r\nIf its a local variable, just use the type.  It is still implicitly upcastable to its appropriate interface, and your methods should hopefully accept the interface types for its arguments, but for local variables, it makes total sense to use the implementation type as a container, just in case you do need the implementation-specific functionality.","title":"Why should the interface for a Java class be preferred?","body":"<p>Properties of your classes/interfaces should be exposed through interfaces because it gives your classes a contract of behavior to use, regardless of the implementation.</p>\n\n<p>However...</p>\n\n<p>In local variable declarations, it makes little sense to do this:</p>\n\n<pre><code>public void someMethod() {\nList theList = new ArrayList();\n//do stuff with the list\n}\n</code></pre>\n\n<p>If its a local variable, just use the type.  It is still implicitly upcastable to its appropriate interface, and your methods should hopefully accept the interface types for its arguments, but for local variables, it makes total sense to use the implementation type as a container, just in case you do need the implementation-specific functionality.</p>\n"},{"comments":[{"owner":{"account_id":3370,"reputation":7124,"user_id":4857,"accept_rate":96,"display_name":"Ande Turner"},"score":0,"creation_date":1226731192,"post_id":151378,"comment_id":140328,"body_markdown":"@Owen: +5 Insightful re: Performance Difference ... Very Unexpected","body":"@Owen: +5 Insightful re: Performance Difference ... Very Unexpected"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":2,"creation_date":1320160256,"post_id":151378,"comment_id":9742968,"body_markdown":"This answer however shows that the overhead can be very small: http://stackoverflow.com/questions/890687/overhead-of-implementing-an-interface/891096#891096","body":"This answer however shows that the overhead can be very small: <a href=\"http://stackoverflow.com/questions/890687/overhead-of-implementing-an-interface/891096#891096\" title=\"overhead of implementing an interface\">stackoverflow.com/questions/890687/&hellip;</a>"},{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":6,"creation_date":1381614464,"post_id":151378,"comment_id":28650660,"body_markdown":"Wow! 0.5 seconds for ten billion accesses, i.e. 1 interface access is half a nanosecond slower than a class access! This is of course a reason to never, ever use interfaces.","body":"Wow! 0.5 seconds for ten billion accesses, i.e. 1 interface access is half a nanosecond slower than a class access! This is of course a reason to never, ever use interfaces."},{"owner":{"account_id":997969,"reputation":145,"user_id":1013464,"display_name":"Nemo"},"score":0,"creation_date":1684596558,"post_id":151378,"comment_id":134541710,"body_markdown":"But if you have few hundreds such places in your code(and in big application it could be very easy) and your app is handling terrabytes of a data, then 0.5 nanosecond can be an one second","body":"But if you have few hundreds such places in your code(and in big application it could be very easy) and your app is handling terrabytes of a data, then 0.5 nanosecond can be an one second"}],"tags":[],"owner":{"account_id":6730,"reputation":2769,"user_id":11442,"display_name":"Owen"},"comment_count":4,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1320158967,"creation_date":1222736801,"answer_id":151378,"question_id":147468,"body_markdown":"In general I agree that decoupling interface from implementation is a good thing and will make your code easier to maintain.\r\n\r\nThere are, however, exceptions that you must consider. Accessing objects through interfaces adds an additional layer of indirection that will make your code slower. \r\n\r\nFor interest I ran an experiment that generated ten billion sequential accesses to a 1 million length ArrayList. On my 2.4Ghz MacBook, accessing the ArrayList through a List interface took 2.10 seconds on average, when declaring it of type ArrayList it took on average 1.67 seconds. \r\n\r\nIf you are working with large lists, deep inside an inner loop or frequently called function, then this is something to consider.","title":"Why should the interface for a Java class be preferred?","body":"<p>In general I agree that decoupling interface from implementation is a good thing and will make your code easier to maintain.</p>\n\n<p>There are, however, exceptions that you must consider. Accessing objects through interfaces adds an additional layer of indirection that will make your code slower. </p>\n\n<p>For interest I ran an experiment that generated ten billion sequential accesses to a 1 million length ArrayList. On my 2.4Ghz MacBook, accessing the ArrayList through a List interface took 2.10 seconds on average, when declaring it of type ArrayList it took on average 1.67 seconds. </p>\n\n<p>If you are working with large lists, deep inside an inner loop or frequently called function, then this is something to consider.</p>\n"},{"tags":[],"owner":{"account_id":9728,"reputation":15219,"user_id":18093,"display_name":"Diastrophism"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1223075341,"creation_date":1223075341,"answer_id":169250,"question_id":147468,"body_markdown":"Even for local variables, using the interface over the concrete class helps. You may end up calling a method that is outside the interface and then it is difficult to change the implementation of the List if necessary.\r\nAlso, it is best to use the least specific class or interface in a declaration. If element order does not matter, use a Collection instead of a List. That gives your code the maximum flexibility.","title":"Why should the interface for a Java class be preferred?","body":"<p>Even for local variables, using the interface over the concrete class helps. You may end up calling a method that is outside the interface and then it is difficult to change the implementation of the List if necessary.\nAlso, it is best to use the least specific class or interface in a declaration. If element order does not matter, use a Collection instead of a List. That gives your code the maximum flexibility.</p>\n"},{"comments":[{"owner":{"account_id":1181752,"reputation":1737,"user_id":1156544,"accept_rate":69,"display_name":"user1156544"},"score":0,"creation_date":1527090371,"post_id":41347099,"comment_id":87997994,"body_markdown":"And what about using &quot;Collection&quot; instead of &quot;List&quot;, so one can use List or Set, for example","body":"And what about using &quot;Collection&quot; instead of &quot;List&quot;, so one can use List or Set, for example"}],"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697148917,"creation_date":1482849345,"answer_id":41347099,"question_id":147468,"body_markdown":"&gt; Why should the latter with List be used instead of ArrayList?\r\n\r\nIt&#39;s a good practice : *Program to interface rather than implementation*\r\n\r\nBy replacing `ArrayList` with `List`, you can change `List` implementation in future as below depending on your business use case.\r\n\r\n    List&lt;Object&gt; list = new  LinkedList&lt;&gt;(); \r\n    /* Doubly-linked list implementation of the List and Deque interfaces. \r\n     Implements all optional list operations, and permits all elements (including null).*/\r\n\r\n\r\n OR\r\n\r\n    List&lt;Object&gt; list = new  CopyOnWriteArrayList&lt;&gt;(); \r\n    /* A thread-safe variant of ArrayList in which all mutative operations\r\n     (add, set, and so on) are implemented by making a fresh copy of the underlying array.*/\r\n\r\nOR\r\n\r\n    List&lt;Object&gt; list = new  Stack&lt;&gt;(); \r\n\r\n    /* The Stack class represents a last-in-first-out (LIFO) stack of objects.*/\r\n\r\nOR\r\n\r\nsome other `List` specific implementation. \r\n\r\n`List` interface defines contract and specific implementation of `List` can be changed. In this way, *interface and implementation are loosely coupled.* \r\n\r\nRelated SE question:\r\n\r\nhttps://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\r\n\r\n","title":"Why should the interface for a Java class be preferred?","body":"<blockquote>\n<p>Why should the latter with List be used instead of ArrayList?</p>\n</blockquote>\n<p>It's a good practice : <em>Program to interface rather than implementation</em></p>\n<p>By replacing <code>ArrayList</code> with <code>List</code>, you can change <code>List</code> implementation in future as below depending on your business use case.</p>\n<pre><code>List&lt;Object&gt; list = new  LinkedList&lt;&gt;(); \n/* Doubly-linked list implementation of the List and Deque interfaces. \n Implements all optional list operations, and permits all elements (including null).*/\n</code></pre>\n<p>OR</p>\n<pre><code>List&lt;Object&gt; list = new  CopyOnWriteArrayList&lt;&gt;(); \n/* A thread-safe variant of ArrayList in which all mutative operations\n (add, set, and so on) are implemented by making a fresh copy of the underlying array.*/\n</code></pre>\n<p>OR</p>\n<pre><code>List&lt;Object&gt; list = new  Stack&lt;&gt;(); \n\n/* The Stack class represents a last-in-first-out (LIFO) stack of objects.*/\n</code></pre>\n<p>OR</p>\n<p>some other <code>List</code> specific implementation.</p>\n<p><code>List</code> interface defines contract and specific implementation of <code>List</code> can be changed. In this way, <em>interface and implementation are loosely coupled.</em></p>\n<p>Related SE question:</p>\n<p><a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n"},{"tags":[],"owner":{"account_id":1737013,"reputation":13,"user_id":5315969,"display_name":"sandeep garg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571140672,"creation_date":1571140672,"answer_id":58394156,"question_id":147468,"body_markdown":"Interface is exposed to the end user. One class can implement multiple interface. User who have expose to specific interface have access to some specific behavior which are defined in that particular interface.\r\n\r\nOne interface also have multiple implementation. Based on the scenario system will work with different scenario (Implementation of the interface).\r\n\r\nlet me know if you need more explanation.","title":"Why should the interface for a Java class be preferred?","body":"<p>Interface is exposed to the end user. One class can implement multiple interface. User who have expose to specific interface have access to some specific behavior which are defined in that particular interface.</p>\n\n<p>One interface also have multiple implementation. Based on the scenario system will work with different scenario (Implementation of the interface).</p>\n\n<p>let me know if you need more explanation.</p>\n"},{"tags":[],"owner":{"account_id":4162561,"reputation":1412,"user_id":3412316,"accept_rate":20,"display_name":"Kiruahxh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597048372,"creation_date":1597048372,"answer_id":63336728,"question_id":147468,"body_markdown":"The interface often has better representation in the debugger view than the concrete class.","title":"Why should the interface for a Java class be preferred?","body":"<p>The interface often has better representation in the debugger view than the concrete class.</p>\n"}],"owner":{"account_id":11747,"reputation":7108,"user_id":22807,"display_name":"jnancheta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31624,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":147495,"answer_count":10,"score":81,"last_activity_date":1697148917,"creation_date":1222660975,"question_id":147468,"body_markdown":"[PMD][1] would report a violation for:\r\n\r\n    ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n\r\nThe violation was &quot;Avoid using implementation types like &#39;ArrayList&#39;; use the interface instead&quot;.\r\n\r\nThe following line would correct the violation:\r\n\r\n    List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n\r\nWhy should the latter with `List` be used instead of `ArrayList`?\r\n\r\n\r\n  [1]: https://pmd.github.io/","title":"Why should the interface for a Java class be preferred?","body":"<p><a href=\"https://pmd.github.io/\" rel=\"noreferrer\">PMD</a> would report a violation for:</p>\n\n<pre><code>ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n</code></pre>\n\n<p>The violation was \"Avoid using implementation types like 'ArrayList'; use the interface instead\".</p>\n\n<p>The following line would correct the violation:</p>\n\n<pre><code>List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n</code></pre>\n\n<p>Why should the latter with <code>List</code> be used instead of <code>ArrayList</code>?</p>\n"},{"tags":["java","python","scala","apache-spark","apache-spark-sql"],"answers":[{"comments":[{"owner":{"account_id":3030835,"reputation":429,"user_id":2569887,"display_name":"tomatom"},"score":0,"creation_date":1633101773,"post_id":41115143,"comment_id":122678997,"body_markdown":"Fair warning, the functions will return a DATE ONLY. All time components will be lost.","body":"Fair warning, the functions will return a DATE ONLY. All time components will be lost."},{"owner":{"account_id":520488,"reputation":111,"user_id":13479208,"display_name":"VanJeer"},"score":0,"creation_date":1661414766,"post_id":41115143,"comment_id":129767999,"body_markdown":"current_timestamp() as timestamp, if you want to keep time","body":"current_timestamp() as timestamp, if you want to keep time"}],"tags":[],"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1585875847,"creation_date":1481611746,"answer_id":41115143,"question_id":41114875,"body_markdown":"The arithmetic functions allow you to perform arithmetic operation on columns containing dates. \r\n\r\nFor example, you can calculate the difference between two dates, add days to a date, or subtract days from a date. The built-in date arithmetic functions include `datediff`, `date_add`, **[`date_sub`][1]**, `add_months`, `last_day`,\r\n`next_day`, and `months_between`.\r\n\r\nOut of above what we need is \r\n\r\n&gt; date_sub(timestamp startdate, int days),  Purpose: Subtracts a specified number of days\r\n&gt; from a TIMESTAMP value. The first argument can be a string, which is\r\n&gt; automatically cast to TIMESTAMP if it uses the recognized format, as\r\n&gt; described in TIMESTAMP Data Type. Return type: Returns the date that is &gt; days days before start\r\n\r\n\r\nand we have \r\n\r\n&gt; current_timestamp() Purpose: Alias for the now() function. Return\r\n&gt; type: timestamp\r\n\r\n\r\nyou can do select \r\n\r\n    date_sub(CAST(current_timestamp() as DATE), 1)\r\n\r\nSee https://spark.apache.org/docs/1.6.2/api/java/org/apache/spark/sql/functions.html\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/1.6.2/api/java/org/apache/spark/sql/functions.html#date_sub(org.apache.spark.sql.Column,%20int)","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<p>The arithmetic functions allow you to perform arithmetic operation on columns containing dates. </p>\n\n<p>For example, you can calculate the difference between two dates, add days to a date, or subtract days from a date. The built-in date arithmetic functions include <code>datediff</code>, <code>date_add</code>, <strong><a href=\"https://spark.apache.org/docs/1.6.2/api/java/org/apache/spark/sql/functions.html#date_sub(org.apache.spark.sql.Column,%20int)\" rel=\"noreferrer\"><code>date_sub</code></a></strong>, <code>add_months</code>, <code>last_day</code>,\n<code>next_day</code>, and <code>months_between</code>.</p>\n\n<p>Out of above what we need is </p>\n\n<blockquote>\n  <p>date_sub(timestamp startdate, int days),  Purpose: Subtracts a specified number of days\n  from a TIMESTAMP value. The first argument can be a string, which is\n  automatically cast to TIMESTAMP if it uses the recognized format, as\n  described in TIMESTAMP Data Type. Return type: Returns the date that is > days days before start</p>\n</blockquote>\n\n<p>and we have </p>\n\n<blockquote>\n  <p>current_timestamp() Purpose: Alias for the now() function. Return\n  type: timestamp</p>\n</blockquote>\n\n<p>you can do select </p>\n\n<pre><code>date_sub(CAST(current_timestamp() as DATE), 1)\n</code></pre>\n\n<p>See <a href=\"https://spark.apache.org/docs/1.6.2/api/java/org/apache/spark/sql/functions.html\" rel=\"noreferrer\">https://spark.apache.org/docs/1.6.2/api/java/org/apache/spark/sql/functions.html</a></p>\n"},{"tags":[],"owner":{"account_id":6508766,"reputation":3484,"user_id":5036809,"accept_rate":76,"display_name":"Shivansh"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1481611975,"creation_date":1481611975,"answer_id":41115185,"question_id":41114875,"body_markdown":"You can easily perform this task , there are many methods related to the date and what you can use here is `date_sub`\r\n\r\n**Example on Spark-REPL:**\r\n\r\n     scala&gt; spark.sql(&quot;select date_sub(current_timestamp(), 1)&quot;).show\r\n    +----------------------------------------------+\r\n    |date_sub(CAST(current_timestamp() AS DATE), 1)|\r\n    +----------------------------------------------+\r\n    |                                    2016-12-12|\r\n    +----------------------------------------------+\r\n\r\n\r\n","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<p>You can easily perform this task , there are many methods related to the date and what you can use here is <code>date_sub</code></p>\n\n<p><strong>Example on Spark-REPL:</strong></p>\n\n<pre><code> scala&gt; spark.sql(\"select date_sub(current_timestamp(), 1)\").show\n+----------------------------------------------+\n|date_sub(CAST(current_timestamp() AS DATE), 1)|\n+----------------------------------------------+\n|                                    2016-12-12|\n+----------------------------------------------+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1069824,"reputation":351,"user_id":7277877,"display_name":"TAYFUN CANAKCI"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1498818653,"creation_date":1481622310,"answer_id":41117894,"question_id":41114875,"body_markdown":"You can try\r\n\r\n    date_add(current_date(), -1)\r\n\r\nI don&#39;t know spark either but I found it on google. \r\nYou can also use this [link][1] for reference\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/1.6.2/api/java/org/apache/spark/sql/functions.html","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<p>You can try</p>\n\n<pre><code>date_add(current_date(), -1)\n</code></pre>\n\n<p>I don't know spark either but I found it on google. \nYou can also use this <a href=\"https://spark.apache.org/docs/1.6.2/api/java/org/apache/spark/sql/functions.html\" rel=\"noreferrer\">link</a> for reference</p>\n"},{"tags":[],"owner":{"account_id":357702,"reputation":33,"user_id":698030,"display_name":"Kai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547152037,"creation_date":1543242006,"answer_id":53483109,"question_id":41114875,"body_markdown":"Yes, the `date_sub()` function is the right for the question, anyway, there&#39;s an error in the selected answer:\r\n\r\n&gt; Return type: timestamp\r\n\r\nThe return type should be `date` instead, date_sub() function will trim any `hh:mm:ss` part of the timestamp, and returns only a `date`.\r\n","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<p>Yes, the <code>date_sub()</code> function is the right for the question, anyway, there's an error in the selected answer:</p>\n\n<blockquote>\n  <p>Return type: timestamp</p>\n</blockquote>\n\n<p>The return type should be <code>date</code> instead, date_sub() function will trim any <code>hh:mm:ss</code> part of the timestamp, and returns only a <code>date</code>.</p>\n"},{"comments":[{"owner":{"account_id":4854138,"reputation":181,"user_id":3915643,"display_name":"munizig"},"score":0,"creation_date":1674074872,"post_id":71573569,"comment_id":132640224,"body_markdown":"It worked great for me, because keeps the full timestamp as output.","body":"It worked great for me, because keeps the full timestamp as output."}],"tags":[],"owner":{"account_id":516334,"reputation":4808,"user_id":1680826,"accept_rate":60,"display_name":"botchniaque"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1647958558,"creation_date":1647958558,"answer_id":71573569,"question_id":41114875,"body_markdown":"Spark SQL supports also the `INTERVAL` keyword. You can get the _yesterday&#39;s date_ with this query:\r\n\r\n    SELECT current_date - INTERVAL 1 day;\r\n\r\nFor more details have a look at [interval literals documentation](https://spark.apache.org/docs/3.2.1/sql-ref-literals.html#interval-literal). \r\nI tested the above with spark 3.x, but I am not sure since which release this syntax is supported. ","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<p>Spark SQL supports also the <code>INTERVAL</code> keyword. You can get the <em>yesterday's date</em> with this query:</p>\n<pre><code>SELECT current_date - INTERVAL 1 day;\n</code></pre>\n<p>For more details have a look at <a href=\"https://spark.apache.org/docs/3.2.1/sql-ref-literals.html#interval-literal\" rel=\"noreferrer\">interval literals documentation</a>.\nI tested the above with spark 3.x, but I am not sure since which release this syntax is supported.</p>\n"},{"tags":[],"owner":{"account_id":8201651,"reputation":1736,"user_id":6172826,"display_name":"seunggabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663128782,"creation_date":1663128782,"answer_id":73711441,"question_id":41114875,"body_markdown":"```\r\nSELECT DATE_FORMAT(DATE_ADD(CURRENT_DATE(), -1), &#39;yyyy-MM-dd&#39;)\r\n```","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<pre><code>SELECT DATE_FORMAT(DATE_ADD(CURRENT_DATE(), -1), 'yyyy-MM-dd')\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1697303215,"post_id":77284077,"comment_id":136264164,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77284077/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":12249416,"reputation":1,"user_id":8940239,"display_name":"Elisa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697148448,"creation_date":1697148448,"answer_id":77284077,"question_id":41114875,"body_markdown":"date_add and date_sub work best in databricks + python","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<p>date_add and date_sub work best in databricks + python</p>\n"}],"owner":{"account_id":7085698,"reputation":337,"user_id":5422574,"accept_rate":60,"display_name":"Vishan Rana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109317,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":41115143,"answer_count":7,"score":28,"last_activity_date":1697148448,"creation_date":1481610520,"question_id":41114875,"body_markdown":"How to get `current_date - 1` day in sparksql, same as `cur_date()-1` in mysql.","title":"How to get today -&quot;1 day&quot; date in sparksql?","body":"<p>How to get <code>current_date - 1</code> day in sparksql, same as <code>cur_date()-1</code> in mysql.</p>\n"},{"tags":["java","sql-server","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1457068258,"post_id":35788419,"comment_id":59247556,"body_markdown":"Post the COMPLETE stack trace, including all the &quot;Caused By&quot; sections (formatted as code, indent 4 spaces)","body":"Post the COMPLETE stack trace, including all the &quot;Caused By&quot; sections (formatted as code, indent 4 spaces)"},{"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"score":0,"creation_date":1457068999,"post_id":35788419,"comment_id":59247767,"body_markdown":"what we need here only Complete `StackTrace` no need to post your POM.xml","body":"what we need here only Complete <code>StackTrace</code> no need to post your POM.xml"},{"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"score":0,"creation_date":1457070642,"post_id":35788419,"comment_id":59248296,"body_markdown":"please post your table Structure.. This might help us out ... !","body":"please post your table Structure.. This might help us out ... !"},{"owner":{"account_id":7972287,"reputation":11,"user_id":6016528,"display_name":"Rajan"},"score":0,"creation_date":1457112197,"post_id":35788419,"comment_id":59273918,"body_markdown":"Thank you guys, I have edited my full stack trace. I did not create any table in my database. I thought hibernate create by own when he found @Entity Tag.","body":"Thank you guys, I have edited my full stack trace. I did not create any table in my database. I thought hibernate create by own when he found @Entity Tag."}],"answers":[{"tags":[],"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457070538,"creation_date":1457070105,"answer_id":35788811,"question_id":35788419,"body_markdown":"try to change this statement to make your code less in number of lines First.\r\n\r\n    &lt;context:annotation-config/&gt;\r\n        &lt;context:component-scan base-package=&quot;org.rajan.csci7795.service&quot; /&gt;\r\n        &lt;context:component-scan base-package=&quot;org.rajan.csci7795.model&quot; /&gt; \r\n\r\nwith\r\n\r\n    &lt;context:annotation-config/&gt;\r\n        &lt;context:component-scan base-package=&quot;org.rajan.csci7795&quot; /&gt;\r\n\r\n        \r\n&gt; Now There may be a problem with this statement\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       ...........\r\n       ...........\r\n       ...........\r\n       ...........\r\n         xmlns:context=&quot;http://www.springframework.org/schema/context&quot;&gt;\r\n\r\nPlease **copy** this piece of with any other source might help you out.\r\n\r\n`ERROR: Invalid object name &#39;Employee&#39;.` Have you focused on this ?? \r\nYou have used `@Table(name = &quot;Employee&quot;)`. Please verify your table name First. is it `Employee` or Exists with any other `Name` ? \r\n\r\nyou may change you code of DTO Class `Employee`\r\n\r\n    @Table(name = &quot;Actual_Table_Name_Found_in_Database&quot;);","title":"org.hibernate.exception.SQLGrammarException: could not execute statement","body":"<p>try to change this statement to make your code less in number of lines First.</p>\n\n<pre><code>&lt;context:annotation-config/&gt;\n    &lt;context:component-scan base-package=\"org.rajan.csci7795.service\" /&gt;\n    &lt;context:component-scan base-package=\"org.rajan.csci7795.model\" /&gt; \n</code></pre>\n\n<p>with</p>\n\n<pre><code>&lt;context:annotation-config/&gt;\n    &lt;context:component-scan base-package=\"org.rajan.csci7795\" /&gt;\n</code></pre>\n\n<blockquote>\n  <p>Now There may be a problem with this statement</p>\n</blockquote>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n   ...........\n   ...........\n   ...........\n   ...........\n     xmlns:context=\"http://www.springframework.org/schema/context\"&gt;\n</code></pre>\n\n<p>Please <strong>copy</strong> this piece of with any other source might help you out.</p>\n\n<p><code>ERROR: Invalid object name 'Employee'.</code> Have you focused on this ?? \nYou have used <code>@Table(name = \"Employee\")</code>. Please verify your table name First. is it <code>Employee</code> or Exists with any other <code>Name</code> ? </p>\n\n<p>you may change you code of DTO Class <code>Employee</code></p>\n\n<pre><code>@Table(name = \"Actual_Table_Name_Found_in_Database\");\n</code></pre>\n"}],"owner":{"account_id":7972287,"reputation":11,"user_id":6016528,"display_name":"Rajan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8491,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697148265,"creation_date":1457068151,"question_id":35788419,"body_markdown":"I am new to Hibernate and Spring I am trying to save Employee Object into SQL server 2012 using Spring and Hibernate Configuration. But I am getting error! \r\n\r\n      Mar 04, 2016 11:16:57 AM org.springframework.context.support.ClassPathXmlApplicationContext prepareRefresh\r\n    INFO: Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@4629104a: startup date [Fri Mar 04 11:16:57 EST 2016]; root of context hierarchy\r\n    Mar 04, 2016 11:16:57 AM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\r\n    INFO: Loading XML bean definitions from class path resource [spring.xml]\r\n    Mar 04, 2016 11:16:57 AM org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor &lt;init&gt;\r\n    INFO: JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n    Mar 04, 2016 11:16:57 AM org.springframework.jdbc.datasource.DriverManagerDataSource setDriverClassName\r\n    INFO: Loaded JDBC driver: com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    Mar 04, 2016 11:16:57 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {4.0.5.Final}\r\n    Mar 04, 2016 11:16:57 AM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {4.3.6.Final}\r\n    Mar 04, 2016 11:16:57 AM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000206: hibernate.properties not found\r\n    Mar 04, 2016 11:16:57 AM org.hibernate.cfg.Environment buildBytecodeProvider\r\n    INFO: HHH000021: Bytecode provider name : javassist\r\n    Mar 04, 2016 11:16:58 AM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\r\n    Mar 04, 2016 11:16:58 AM org.hibernate.engine.transaction.internal.TransactionFactoryInitiator initiateService\r\n    INFO: HHH000399: Using default transaction strategy (direct JDBC transactions)\r\n    Mar 04, 2016 11:16:58 AM org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory &lt;init&gt;\r\n    INFO: HHH000397: Using ASTQueryTranslatorFactory\r\n    Employee SignUp 1\r\n    e1\r\n    Employee SignUp 2\r\n    Employee SignUp 3\r\n    Employee SignUp 4\r\n    Mar 04, 2016 11:16:59 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n    WARN: SQL Error: 208, SQLState: S0002\r\n    Mar 04, 2016 11:16:59 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n    ERROR: Invalid object name &#39;Employee&#39;.\r\n    Mar 04, 2016 11:16:59 AM org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl release\r\n    INFO: HHH000010: On release of batch it still contained JDBC statements\r\n    Exception in thread &quot;main&quot; org.hibernate.exception.SQLGrammarException: could not execute statement\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:211)\r\n    \tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:62)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3124)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3581)\r\n    \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:104)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:463)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:349)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:350)\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:56)\r\n    \tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1222)\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:425)\r\n    \tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)\r\n    \tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:177)\r\n    \tat org.rajan.csci7795.service.EmployeeService.signUpEmployee(EmployeeService.java:55)\r\n    \tat org.rajan.csci7795.model.EmployeeDB.main(EmployeeDB.java:18)\r\n    Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name &#39;Employee&#39;.\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:197)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1493)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:390)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:340)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:4575)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1400)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:179)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:154)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeUpdate(SQLServerPreparedStatement.java:308)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:208)\r\n    \t... 14 more\r\n\r\n----------\r\n\r\nMy Employee Class\r\n\r\n   \r\n\r\n     package org.rajan.csci7795.model;\r\n    \r\n        import javax.persistence.Column;\r\n        import javax.persistence.Entity;\r\n       import javax.persistence.Id;\r\n       import javax.persistence.Table;\r\n\r\n    @Entity\r\n    @Table(name=&quot;Employee&quot;)\r\n    public class Employee {\r\n    \t@Id\r\n    \t@Column(name=&quot;E_id&quot;)\r\n    \tprivate String Employee_id;\r\n    \t@Column(name=&quot;Password&quot;)\r\n    \tprivate String Password;\r\n    \t@Column(name=&quot;First_Name&quot;)\r\n    \tprivate String first_name;\r\n    \t@Column(name=&quot;Last_Name&quot;)\r\n    \tprivate String last_name;\r\n    \t@Column(name=&quot;Email&quot;)\r\n    \tprivate String Email;\r\n    \t@Column(name=&quot;Phone&quot;)\r\n    \tprivate String phone;\r\n\t\r\n\t\r\n\tpublic String getEmployee_id() {\r\n\t\treturn Employee_id;\r\n\t}\r\n\tpublic void setEmployee_id(String employee_id) {\r\n\t\tEmployee_id = employee_id;\r\n\t}\r\n\tpublic String getPassword() {\r\n\t\treturn Password;\r\n\t}\r\n\tpublic void setPassword(String password) {\r\n\t\tPassword = password;\r\n\t}\r\n\tpublic String getFirst_name() {\r\n\t\treturn first_name;\r\n\t}\r\n\tpublic void setFirst_name(String first_name) {\r\n\t\tthis.first_name = first_name;\r\n\t}\r\n\tpublic String getLast_name() {\r\n\t\treturn last_name;\r\n\t}\r\n\tpublic void setLast_name(String last_name) {\r\n\t\tthis.last_name = last_name;\r\n\t}\r\n\tpublic String getEmail() {\r\n\t\treturn Email;\r\n\t}\r\n\tpublic void setEmail(String email) {\r\n\t\tEmail = email;\r\n\t}\r\n\tpublic String getPhone() {\r\n\t\treturn phone;\r\n\t}\r\n\tpublic void setPhone(String phone) {\r\n\t\tthis.phone = phone;\r\n\t}\r\n\t\r\n}\r\n\r\nMy EmployeeSample Class\r\n\r\n    package org.rajan.csci7795.model;\r\n    \r\n    import org.rajan.csci7795.service.EmployeeService;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n    \r\n     \r\n    public class EmployeeSample {\r\n    \t\r\n    \r\n    \tpublic static void main(String[] args) throws ClassNotFoundException {\r\n    \t\t\r\n    \t\t\r\n    \t ApplicationContext appContext = new ClassPathXmlApplicationContext(&quot;spring.xml&quot;);\r\n    \t EmployeeService src = appContext.getBean(&quot;employeeService&quot;,EmployeeService.class);  \r\n    \tsrc.signUpEmployee();\r\n    \t\t\r\n }\t\t\r\n}\r\n \r\nMy EmployeeService Class\r\n\r\n    package org.rajan.csci7795.service;\r\n    \r\n    \r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.rajan.csci7795.model.Employee;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Component\r\n    public class EmployeeService{\r\n    \t\r\n    \t\r\n    \t@Autowired\r\n    \tprivate SessionFactory sessionFactory;\r\n    \t\r\n    \tprivate String Employee_id;\r\n    \tprivate String Password;\r\n    \tprivate String first_name;\r\n    \tprivate String last_name;\r\n    \tprivate String Email;\r\n    \tprivate String phone;\r\n    \t\r\n    \tpublic void signUpEmployee()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;Employee SignUp 1&quot;);\r\n    \t\tEmployee employee= new Employee();\r\n    \t\temployee.setEmployee_id(&quot;e1&quot;);\r\n    \t\temployee.setPassword(&quot;rajan&quot;);\r\n    \t\temployee.setFirst_name(&quot;Rajan&quot;);\r\n    \t\temployee.setLast_name(&quot;Patel&quot;);\r\n    \t\temployee.setEmail(&quot;rajan@ymail.com&quot;);\r\n    \t\temployee.setPhone(&quot;y016801218&quot;);\r\n    \t\tSystem.out.println(employee.getEmployee_id());\r\n    \t\tSystem.out.println(&quot;Employee SignUp 2&quot;);\r\n    \t\tsessionFactory=getSessionFactory();\r\n    \t\tSession session=sessionFactory.openSession();\r\n    \t\tsession.beginTransaction();\r\n    \t\tSystem.out.println(&quot;Employee SignUp 3&quot;);\r\n    \t\r\n    \t\tsession.save(employee);\r\n    \t\tSystem.out.println(&quot;Employee SignUp 4&quot;);\r\n    \t\tsession.getTransaction().commit();\r\n    \t\tSystem.out.println(&quot;Employee SignUp 5&quot;);\r\n    \t\tsession.flush();\r\n    \t\tsession.close();\r\n    \t\tSystem.out.println(&quot;Employee SignUp&quot;);\r\n    \t}\r\n    \r\n    \tpublic SessionFactory getSessionFactory() {\r\n    \t\treturn sessionFactory;\r\n    \t}\r\n    \r\n    \tpublic void setSessionFactory(SessionFactory sessionFactory) {\r\n    \t\tthis.sessionFactory = sessionFactory;\r\n    \t}\r\n    \t\r\n\r\n    }\r\n     \r\nSpring.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    \thttp://www.springframework.org/schema/beans/spring-beans-4.1.xsd\r\n    \thttp://www.springframework.org/schema/context\r\n    \t http://www.springframework.org/schema/context/spring-context-4.1.xsd&quot; \r\n    \t xmlns:context=&quot;http://www.springframework.org/schema/context&quot;&gt;\r\n    \r\n    \t&lt;context:annotation-config/&gt;\r\n    \t&lt;context:component-scan base-package=&quot;org.rajan.csci7795.service&quot; /&gt;\r\n    \t&lt;context:component-scan base-package=&quot;org.rajan.csci7795.model&quot; /&gt; \r\n    \t\r\n    \t\r\n    \t\r\n    \t&lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t&lt;property name=&quot;driverClassName&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot; /&gt;\r\n    \t&lt;property name=&quot;url&quot; value =&quot;jdbc:sqlserver://localhost:1433;databaseName=MyStoreDB;integratedSecurity=true;&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;org.rajan.csci7795.model&quot;/&gt;\r\n            &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServer2012Dialect&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;show_sql&quot;&gt;false&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hbm2ddl.auto&quot;&gt;create&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    &lt;/beans&gt;  \t\r\n\r\nprom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;org.rajan.csci7795&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mobileshop&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;mobileshop Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n     \t &lt;dependency&gt; \r\n     \t  &lt;groupId&gt;org.glassfish.jersey.bundles&lt;/groupId&gt;\r\n      \t  &lt;artifactId&gt;jaxrs-ri&lt;/artifactId&gt;\r\n      \t  &lt;version&gt;2.16&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n       &lt;dependency&gt; \r\n     \t  &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n      \t  &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n      \t  &lt;version&gt;2.16&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.6.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        \r\n       &lt;!--  &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;hibernate&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.2.3.ga&lt;/version&gt;\r\n    &lt;/dependency&gt; --&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.3.2.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.5.0-Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.31&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt;\r\n     \t \t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\r\n      \t\t\t&lt;version&gt;4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt; --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.8.RELEASE&lt;/version&gt;\t\t\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.1.GA&lt;/version&gt;\r\n            &lt;/dependency&gt; --&gt;\r\n            &lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n     &lt;/dependencies&gt;\r\n     \r\n     &lt;build&gt;\r\n        &lt;finalName&gt;mobileshop&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.1&lt;/version&gt;\r\n        &lt;inherited&gt;true&lt;/inherited&gt;\r\n        &lt;configuration&gt;\r\n        &lt;source&gt;1.7&lt;/source&gt;\r\n        &lt;target&gt;1.7&lt;/target&gt; \r\n        &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n          \r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nI did not create any table in my database. does hibernate create one automatic during mapping? \r\n \r\n\r\n","title":"org.hibernate.exception.SQLGrammarException: could not execute statement","body":"<p>I am new to Hibernate and Spring I am trying to save Employee Object into SQL server 2012 using Spring and Hibernate Configuration. But I am getting error! </p>\n\n<pre><code>  Mar 04, 2016 11:16:57 AM org.springframework.context.support.ClassPathXmlApplicationContext prepareRefresh\nINFO: Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@4629104a: startup date [Fri Mar 04 11:16:57 EST 2016]; root of context hierarchy\nMar 04, 2016 11:16:57 AM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\nINFO: Loading XML bean definitions from class path resource [spring.xml]\nMar 04, 2016 11:16:57 AM org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor &lt;init&gt;\nINFO: JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\nMar 04, 2016 11:16:57 AM org.springframework.jdbc.datasource.DriverManagerDataSource setDriverClassName\nINFO: Loaded JDBC driver: com.microsoft.sqlserver.jdbc.SQLServerDriver\nMar 04, 2016 11:16:57 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {4.0.5.Final}\nMar 04, 2016 11:16:57 AM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {4.3.6.Final}\nMar 04, 2016 11:16:57 AM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nMar 04, 2016 11:16:57 AM org.hibernate.cfg.Environment buildBytecodeProvider\nINFO: HHH000021: Bytecode provider name : javassist\nMar 04, 2016 11:16:58 AM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\nMar 04, 2016 11:16:58 AM org.hibernate.engine.transaction.internal.TransactionFactoryInitiator initiateService\nINFO: HHH000399: Using default transaction strategy (direct JDBC transactions)\nMar 04, 2016 11:16:58 AM org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory &lt;init&gt;\nINFO: HHH000397: Using ASTQueryTranslatorFactory\nEmployee SignUp 1\ne1\nEmployee SignUp 2\nEmployee SignUp 3\nEmployee SignUp 4\nMar 04, 2016 11:16:59 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nWARN: SQL Error: 208, SQLState: S0002\nMar 04, 2016 11:16:59 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nERROR: Invalid object name 'Employee'.\nMar 04, 2016 11:16:59 AM org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl release\nINFO: HHH000010: On release of batch it still contained JDBC statements\nException in thread \"main\" org.hibernate.exception.SQLGrammarException: could not execute statement\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:211)\n    at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:62)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3124)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3581)\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:104)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:463)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:349)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:350)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:56)\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1222)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:425)\n    at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)\n    at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:177)\n    at org.rajan.csci7795.service.EmployeeService.signUpEmployee(EmployeeService.java:55)\n    at org.rajan.csci7795.model.EmployeeDB.main(EmployeeDB.java:18)\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'Employee'.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:197)\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1493)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:390)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:340)\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:4575)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1400)\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:179)\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:154)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeUpdate(SQLServerPreparedStatement.java:308)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:208)\n    ... 14 more\n</code></pre>\n\n<hr>\n\n<p>My Employee Class</p>\n\n<pre><code> package org.rajan.csci7795.model;\n\n    import javax.persistence.Column;\n    import javax.persistence.Entity;\n   import javax.persistence.Id;\n   import javax.persistence.Table;\n\n@Entity\n@Table(name=\"Employee\")\npublic class Employee {\n    @Id\n    @Column(name=\"E_id\")\n    private String Employee_id;\n    @Column(name=\"Password\")\n    private String Password;\n    @Column(name=\"First_Name\")\n    private String first_name;\n    @Column(name=\"Last_Name\")\n    private String last_name;\n    @Column(name=\"Email\")\n    private String Email;\n    @Column(name=\"Phone\")\n    private String phone;\n\n\npublic String getEmployee_id() {\n    return Employee_id;\n}\npublic void setEmployee_id(String employee_id) {\n    Employee_id = employee_id;\n}\npublic String getPassword() {\n    return Password;\n}\npublic void setPassword(String password) {\n    Password = password;\n}\npublic String getFirst_name() {\n    return first_name;\n}\npublic void setFirst_name(String first_name) {\n    this.first_name = first_name;\n}\npublic String getLast_name() {\n    return last_name;\n}\npublic void setLast_name(String last_name) {\n    this.last_name = last_name;\n}\npublic String getEmail() {\n    return Email;\n}\npublic void setEmail(String email) {\n    Email = email;\n}\npublic String getPhone() {\n    return phone;\n}\npublic void setPhone(String phone) {\n    this.phone = phone;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>My EmployeeSample Class</p>\n\n<pre><code>package org.rajan.csci7795.model;\n\nimport org.rajan.csci7795.service.EmployeeService;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\n\npublic class EmployeeSample {\n\n\n    public static void main(String[] args) throws ClassNotFoundException {\n\n\n     ApplicationContext appContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n     EmployeeService src = appContext.getBean(\"employeeService\",EmployeeService.class);  \n    src.signUpEmployee();\n</code></pre>\n\n<p>}<br>\n}</p>\n\n<p>My EmployeeService Class</p>\n\n<pre><code>package org.rajan.csci7795.service;\n\n\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.rajan.csci7795.model.Employee;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.stereotype.Service;\n\n@Component\npublic class EmployeeService{\n\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    private String Employee_id;\n    private String Password;\n    private String first_name;\n    private String last_name;\n    private String Email;\n    private String phone;\n\n    public void signUpEmployee()\n    {\n        System.out.println(\"Employee SignUp 1\");\n        Employee employee= new Employee();\n        employee.setEmployee_id(\"e1\");\n        employee.setPassword(\"rajan\");\n        employee.setFirst_name(\"Rajan\");\n        employee.setLast_name(\"Patel\");\n        employee.setEmail(\"rajan@ymail.com\");\n        employee.setPhone(\"y016801218\");\n        System.out.println(employee.getEmployee_id());\n        System.out.println(\"Employee SignUp 2\");\n        sessionFactory=getSessionFactory();\n        Session session=sessionFactory.openSession();\n        session.beginTransaction();\n        System.out.println(\"Employee SignUp 3\");\n\n        session.save(employee);\n        System.out.println(\"Employee SignUp 4\");\n        session.getTransaction().commit();\n        System.out.println(\"Employee SignUp 5\");\n        session.flush();\n        session.close();\n        System.out.println(\"Employee SignUp\");\n    }\n\n    public SessionFactory getSessionFactory() {\n        return sessionFactory;\n    }\n\n    public void setSessionFactory(SessionFactory sessionFactory) {\n        this.sessionFactory = sessionFactory;\n    }\n\n\n}\n</code></pre>\n\n<p>Spring.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-4.1.xsd\n    http://www.springframework.org/schema/context\n     http://www.springframework.org/schema/context/spring-context-4.1.xsd\" \n     xmlns:context=\"http://www.springframework.org/schema/context\"&gt;\n\n    &lt;context:annotation-config/&gt;\n    &lt;context:component-scan base-package=\"org.rajan.csci7795.service\" /&gt;\n    &lt;context:component-scan base-package=\"org.rajan.csci7795.model\" /&gt; \n\n\n\n    &lt;bean id=\"dataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"com.microsoft.sqlserver.jdbc.SQLServerDriver\" /&gt;\n    &lt;property name=\"url\" value =\"jdbc:sqlserver://localhost:1433;databaseName=MyStoreDB;integratedSecurity=true;\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n        &lt;property name=\"packagesToScan\" value=\"org.rajan.csci7795.model\"/&gt;\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.SQLServer2012Dialect&lt;/prop&gt;\n                &lt;prop key=\"show_sql\"&gt;false&lt;/prop&gt;\n                &lt;prop key=\"hbm2ddl.auto\"&gt;create&lt;/prop&gt;\n                &lt;prop key=\"cache.provider_class\"&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;    \n</code></pre>\n\n<p>prom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.rajan.csci7795&lt;/groupId&gt;\n  &lt;artifactId&gt;mobileshop&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;mobileshop Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n     &lt;dependency&gt; \n      &lt;groupId&gt;org.glassfish.jersey.bundles&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxrs-ri&lt;/artifactId&gt;\n      &lt;version&gt;2.16&lt;/version&gt;\n  &lt;/dependency&gt;\n   &lt;dependency&gt; \n      &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n      &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n      &lt;version&gt;2.16&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.3.6.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n   &lt;!--  &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate&lt;/artifactId&gt;\n        &lt;version&gt;3.2.3.ga&lt;/version&gt;\n&lt;/dependency&gt; --&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;4.3.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\n    &lt;version&gt;3.5.0-Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n            &lt;artifactId&gt;jta&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.31&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\n            &lt;version&gt;4.0&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;4.0.8.RELEASE&lt;/version&gt;        \n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1.GA&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n\n &lt;/dependencies&gt;\n\n &lt;build&gt;\n    &lt;finalName&gt;mobileshop&lt;/finalName&gt;\n    &lt;plugins&gt;\n    &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.5.1&lt;/version&gt;\n    &lt;inherited&gt;true&lt;/inherited&gt;\n    &lt;configuration&gt;\n    &lt;source&gt;1.7&lt;/source&gt;\n    &lt;target&gt;1.7&lt;/target&gt; \n    &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;/plugins&gt;\n\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>I did not create any table in my database. does hibernate create one automatic during mapping? </p>\n"},{"tags":["java","amazon-web-services","aws-lambda","drools"],"answers":[{"tags":[],"owner":{"account_id":6836734,"reputation":53,"user_id":5258392,"display_name":"ArjunPunnam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697148000,"creation_date":1697148000,"answer_id":77284045,"question_id":51553964,"body_markdown":"This is possible with Drools 8 and the executable model jar. You can package and build all your DRL files as a kjar and refer the artifact in your lambda&#39;s pom.xml.\r\nhttps://docs.jboss.org/drools/release/8.44.0.Final/drools-docs/drools/KIE/index.html#executable-model-con_packaging-deploying","title":"Sharing drools RuntimeEnvironment between AWS Lambda&#39;s","body":"<p>This is possible with Drools 8 and the executable model jar. You can package and build all your DRL files as a kjar and refer the artifact in your lambda's pom.xml.\n<a href=\"https://docs.jboss.org/drools/release/8.44.0.Final/drools-docs/drools/KIE/index.html#executable-model-con_packaging-deploying\" rel=\"nofollow noreferrer\">https://docs.jboss.org/drools/release/8.44.0.Final/drools-docs/drools/KIE/index.html#executable-model-con_packaging-deploying</a></p>\n"}],"owner":{"account_id":4804320,"reputation":452,"user_id":3879941,"display_name":"Aman J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1697148000,"creation_date":1532680264,"question_id":51553964,"body_markdown":"I need to share the RuntimeEnvironment object of [Drools][1] (7.8) between different isolated java processes executing within AWS Lambda. The creation of the drools environment takes too much time as it has a large number of rules. This would in turn increase the Lambda execution time. Then main objective is to optimise this performance by avoiding the recreation of environment object, each time a lambda is executed.\r\n\r\nI tried keeping the Lambda warm, but it fails when there is a huge load, and concurrent executions are greeted with cold starts. In my case there is always a chance of 100&#39;s of concurrent executions, so keeping too many Lambda instances warm, may cause high utilization bills from AWS. So i would want to avoid such an approach.\r\n\r\nI also tried storing the KieBase within a Redis Cache(via [Amazon Elasticache][2]) using the [Redisson][3] plugin, so that the object can be created once and be shared among all Lambda Execution Instances. This approach also didn&#39;t prove to be fruitful, as Serializing the KieBase object results in stack-overflow errors.\r\n\r\nIs there a way to serialize/de-serialize the KieBase object, without causing StackOverflows or other performance issues, or any other way in which the object can be shared among different Lambda instances.\r\n\r\n\r\n  [1]: http://www.drools.org/\r\n  [2]: https://aws.amazon.com/elasticache/\r\n  [3]: https://redisson.org/","title":"Sharing drools RuntimeEnvironment between AWS Lambda&#39;s","body":"<p>I need to share the RuntimeEnvironment object of <a href=\"http://www.drools.org/\" rel=\"nofollow noreferrer\">Drools</a> (7.8) between different isolated java processes executing within AWS Lambda. The creation of the drools environment takes too much time as it has a large number of rules. This would in turn increase the Lambda execution time. Then main objective is to optimise this performance by avoiding the recreation of environment object, each time a lambda is executed.</p>\n\n<p>I tried keeping the Lambda warm, but it fails when there is a huge load, and concurrent executions are greeted with cold starts. In my case there is always a chance of 100's of concurrent executions, so keeping too many Lambda instances warm, may cause high utilization bills from AWS. So i would want to avoid such an approach.</p>\n\n<p>I also tried storing the KieBase within a Redis Cache(via <a href=\"https://aws.amazon.com/elasticache/\" rel=\"nofollow noreferrer\">Amazon Elasticache</a>) using the <a href=\"https://redisson.org/\" rel=\"nofollow noreferrer\">Redisson</a> plugin, so that the object can be created once and be shared among all Lambda Execution Instances. This approach also didn't prove to be fruitful, as Serializing the KieBase object results in stack-overflow errors.</p>\n\n<p>Is there a way to serialize/de-serialize the KieBase object, without causing StackOverflows or other performance issues, or any other way in which the object can be shared among different Lambda instances.</p>\n"},{"tags":["java","raspberry-pi3"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1697053394,"post_id":77275839,"comment_id":136232566,"body_markdown":"Does `/opt/java/libs/jinput-linux64.so` exist and does it have the right permissions?","body":"Does <code>&#47;opt&#47;java&#47;libs&#47;jinput-linux64.so</code> exist and does it have the right permissions?"},{"owner":{"account_id":19980810,"reputation":27,"user_id":14644041,"display_name":"Landyn J"},"score":0,"creation_date":1697055206,"post_id":77275839,"comment_id":136232855,"body_markdown":"It seems it must be named  libjinput-linux64.so instead. However, now the shifter on the G25 Racing wheel is appearing as unknown.","body":"It seems it must be named  libjinput-linux64.so instead. However, now the shifter on the G25 Racing wheel is appearing as unknown."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1697059722,"post_id":77275839,"comment_id":136233478,"body_markdown":"Answer your question stating what you did to fix it. And for the new problem raise a new question.","body":"Answer your question stating what you did to fix it. And for the new problem raise a new question."}],"answers":[{"tags":[],"owner":{"account_id":19980810,"reputation":27,"user_id":14644041,"display_name":"Landyn J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697147575,"creation_date":1697147575,"answer_id":77284021,"question_id":77275839,"body_markdown":"Java says that it is looking for jinput-linux64.so, when you install it with apt, it gives you libjinput.so. However, the name of the file should be libjinput-linux64.so","title":"Java controller input on raspberry pi3b+","body":"<p>Java says that it is looking for jinput-linux64.so, when you install it with apt, it gives you libjinput.so. However, the name of the file should be libjinput-linux64.so</p>\n"}],"owner":{"account_id":19980810,"reputation":27,"user_id":14644041,"display_name":"Landyn J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77284021,"answer_count":1,"score":0,"last_activity_date":1697147575,"creation_date":1697051583,"question_id":77275839,"body_markdown":"\r\nI&#39;m trying to use jInput to get controller input. Works fine on Windows 10, but on Pi3B+ running Raspbian64, the program keeps looking for jinput-linux64.so. After installing the lib with apt and renaming libjinput.so to jinput-linux64.so, it keeps saying it is not found. How can I get the correct .so file?\r\n\r\nSome other posts suggest symbolic links, but this does not seems to work either.\r\n\r\nHere is the actual error:\r\n```\r\njava.lang.UnsatisfiedLinkError: no jinput-linux64 in java.library.path: /opt/java/libs/\r\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\r\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n        at java.base/java.lang.System.loadLibrary(System.java:1989)\r\n        at net.java.games.input.LinuxEnvironmentPlugin.lambda$loadLibrary$0(LinuxEnvironmentPlugin.java:67)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n        at net.java.games.input.LinuxEnvironmentPlugin.loadLibrary(LinuxEnvironmentPlugin.java:61)\r\n        at net.java.games.input.LinuxEnvironmentPlugin.&lt;clinit&gt;(LinuxEnvironmentPlugin.java:93)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:375)\r\n        at net.java.games.input.DefaultControllerEnvironment.getControllers(DefaultControllerEnvironment.java:133)\r\n        at InputsWheel.init(InputsWheel.java:19)\r\n        at InputsWheel.&lt;init&gt;(InputsWheel.java:13)\r\n        at Main.main(Main.java:5)\r\n```\r\n\r\n\r\nEdit: It seems the error can be solved by naming the symlink libjinput-linux64.so. However, instead of button names, it spits out unknown.","title":"Java controller input on raspberry pi3b+","body":"<p>I'm trying to use jInput to get controller input. Works fine on Windows 10, but on Pi3B+ running Raspbian64, the program keeps looking for jinput-linux64.so. After installing the lib with apt and renaming libjinput.so to jinput-linux64.so, it keeps saying it is not found. How can I get the correct .so file?</p>\n<p>Some other posts suggest symbolic links, but this does not seems to work either.</p>\n<p>Here is the actual error:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: no jinput-linux64 in java.library.path: /opt/java/libs/\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n        at java.base/java.lang.System.loadLibrary(System.java:1989)\n        at net.java.games.input.LinuxEnvironmentPlugin.lambda$loadLibrary$0(LinuxEnvironmentPlugin.java:67)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n        at net.java.games.input.LinuxEnvironmentPlugin.loadLibrary(LinuxEnvironmentPlugin.java:61)\n        at net.java.games.input.LinuxEnvironmentPlugin.&lt;clinit&gt;(LinuxEnvironmentPlugin.java:93)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:375)\n        at net.java.games.input.DefaultControllerEnvironment.getControllers(DefaultControllerEnvironment.java:133)\n        at InputsWheel.init(InputsWheel.java:19)\n        at InputsWheel.&lt;init&gt;(InputsWheel.java:13)\n        at Main.main(Main.java:5)\n</code></pre>\n<p>Edit: It seems the error can be solved by naming the symlink libjinput-linux64.so. However, instead of button names, it spits out unknown.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697195335,"post_id":77283975,"comment_id":136252505,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29659646,"reputation":1,"user_id":22731546,"display_name":"TankIndustry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697146771,"creation_date":1697146771,"question_id":77283975,"body_markdown":"Q1: ,  For the setTimeToLive method,( setTimeToLive(int ttl) ) what unit of time does the integer input parameter (ttl) represent? (milliseconds, seconds, ?))\r\n\r\nQ2: if a particular MulticastSocket object is used to perform a send  (localMulticastSocket.send(datagramPacketToSend)) can the same object be used to perform a receive (localMultiCastSocket.receive(datagramPacketToReceive)), immediately afterward? FYI, I am sending a particular message to a card reader device, using a MulticastSocket object, and wish to to attempt to receive a response back from that device, using the same MulticastSocket object, if possible\r\n\r\njust looking for some answers is all","title":"JAVA, MulticastSocket object questions :","body":"<p>Q1: ,  For the setTimeToLive method,( setTimeToLive(int ttl) ) what unit of time does the integer input parameter (ttl) represent? (milliseconds, seconds, ?))</p>\n<p>Q2: if a particular MulticastSocket object is used to perform a send  (localMulticastSocket.send(datagramPacketToSend)) can the same object be used to perform a receive (localMultiCastSocket.receive(datagramPacketToReceive)), immediately afterward? FYI, I am sending a particular message to a card reader device, using a MulticastSocket object, and wish to to attempt to receive a response back from that device, using the same MulticastSocket object, if possible</p>\n<p>just looking for some answers is all</p>\n"},{"tags":["java","lexical"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587995788,"creation_date":1587995788,"answer_id":61460564,"question_id":61460004,"body_markdown":"Apparently [ASCII SUB was traditionally used in some old operating systems to indicate the end of a file][1] or the end of a character stream (i.e. the user closing a terminal).\r\n\r\nIt is not something that you&#39;ll see in any recent system, however. It is probably a rule that Java inherited from its very first edition where it existed as a way to prevent pointless and preventable errors when compiling source that is written with that convention in mind.\r\n\r\nFor example, a text editor on one of those OSes might by default write that character to the end of a file and the Java compiler should compile the file just fine even in the presence of that character.\r\n\r\n**tl;dr** it&#39;s a legacy rule to support ancient operation systems and removing it today would unlikely to cause any major problems.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Substitute_character","title":"Why ASCII SUB (\\u001a) is ignored in JAVA?","body":"<p>Apparently <a href=\"https://en.wikipedia.org/wiki/Substitute_character\" rel=\"nofollow noreferrer\">ASCII SUB was traditionally used in some old operating systems to indicate the end of a file</a> or the end of a character stream (i.e. the user closing a terminal).</p>\n\n<p>It is not something that you'll see in any recent system, however. It is probably a rule that Java inherited from its very first edition where it existed as a way to prevent pointless and preventable errors when compiling source that is written with that convention in mind.</p>\n\n<p>For example, a text editor on one of those OSes might by default write that character to the end of a file and the Java compiler should compile the file just fine even in the presence of that character.</p>\n\n<p><strong>tl;dr</strong> it's a legacy rule to support ancient operation systems and removing it today would unlikely to cause any major problems.</p>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1588061848,"creation_date":1587995811,"answer_id":61460570,"question_id":61460004,"body_markdown":"The Ctrl+Z control code is kinda special in Windows, which inherited it from DOS which inherited it from CP/M. Its legacy use was as an end-of-text marker, similar to how Ctrl+D is used in Unix.\r\n\r\nIt was included as a non-printable character in unicode to match the existing ASCII character 0x1A.\r\n\r\nMany text editors and program languages still support this convention, or can be configured to insert this character at the end of a file when editing. The standard specification for CSV files still recommends a trailing EOF character to be appended as the last character in the file. \r\n\r\nSee https://en.wikipedia.org/wiki/Substitute_character\r\n\r\nSince you&#39;ll never encounter this character in any other place, especially in an escaped input stream, where only printable ascii characters should occur, the character can be safely ignored everywhere. In practice it&#39;s only ignored if it&#39;s the last character in an escaped input stream. \r\n\r\nSo if you put a Ctrl-Z in the middle of your source code, e.g. as part of a variable name, you will get a compiler error.\r\nBut if you would write your code in some ancient text editor that puts a Ctrl-Z at the end of the file, the compiler will safely ignore it for you. ","title":"Why ASCII SUB (\\u001a) is ignored in JAVA?","body":"<p>The Ctrl+Z control code is kinda special in Windows, which inherited it from DOS which inherited it from CP/M. Its legacy use was as an end-of-text marker, similar to how Ctrl+D is used in Unix.</p>\n\n<p>It was included as a non-printable character in unicode to match the existing ASCII character 0x1A.</p>\n\n<p>Many text editors and program languages still support this convention, or can be configured to insert this character at the end of a file when editing. The standard specification for CSV files still recommends a trailing EOF character to be appended as the last character in the file. </p>\n\n<p>See <a href=\"https://en.wikipedia.org/wiki/Substitute_character\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Substitute_character</a></p>\n\n<p>Since you'll never encounter this character in any other place, especially in an escaped input stream, where only printable ascii characters should occur, the character can be safely ignored everywhere. In practice it's only ignored if it's the last character in an escaped input stream. </p>\n\n<p>So if you put a Ctrl-Z in the middle of your source code, e.g. as part of a variable name, you will get a compiler error.\nBut if you would write your code in some ancient text editor that puts a Ctrl-Z at the end of the file, the compiler will safely ignore it for you. </p>\n"}],"owner":{"account_id":18360674,"reputation":89,"user_id":13372842,"display_name":"locobe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1584,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61460570,"answer_count":2,"score":1,"last_activity_date":1697146280,"creation_date":1587994096,"question_id":61460004,"body_markdown":"In the Java Spec, I read that\r\n\r\n&gt; As a special concession for compatibility with certain operating systems, the ASCII SUB character (\\u001a, or control-Z) is ignored if it is the last character in the escaped input stream. [Here][1]\r\n\r\nI don&#39;t understand what the SUB character is and why it should be removed/ignored **if it is the last character in the escaped input stream**\r\n\r\nCan anyone help me to understand? Thank you very much\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se13/html/jls-3.html#jls-Sub","title":"Why ASCII SUB (\\u001a) is ignored in JAVA?","body":"<p>In the Java Spec, I read that</p>\n<blockquote>\n<p>As a special concession for compatibility with certain operating systems, the ASCII SUB character (\\u001a, or control-Z) is ignored if it is the last character in the escaped input stream. <a href=\"https://docs.oracle.com/javase/specs/jls/se13/html/jls-3.html#jls-Sub\" rel=\"nofollow noreferrer\">Here</a></p>\n</blockquote>\n<p>I don't understand what the SUB character is and why it should be removed/ignored <strong>if it is the last character in the escaped input stream</strong></p>\n<p>Can anyone help me to understand? Thank you very much</p>\n"},{"tags":["java","android","kotlin","cocos2d-x"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":2,"creation_date":1625254549,"post_id":68230211,"comment_id":120588022,"body_markdown":"Do you have `classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;` in gradle project level, and `implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;` dependency ?","body":"Do you have <code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;</code> in gradle project level, and <code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;</code> dependency ?"},{"owner":{"account_id":2273832,"reputation":23,"user_id":3460192,"display_name":"Marcela Nievas"},"score":0,"creation_date":1625336466,"post_id":68230211,"comment_id":120602941,"body_markdown":"No I don&#39;t. I added and it is complaining that kotlin_version variable is unknown.","body":"No I don&#39;t. I added and it is complaining that kotlin_version variable is unknown."}],"answers":[{"comments":[{"owner":{"account_id":2273832,"reputation":23,"user_id":3460192,"display_name":"Marcela Nievas"},"score":0,"creation_date":1625414465,"post_id":68231066,"comment_id":120616037,"body_markdown":"I added to my module build.gradle but compileJava.destinationDir is not defined.","body":"I added to my module build.gradle but compileJava.destinationDir is not defined."},{"owner":{"account_id":19654616,"reputation":27,"user_id":14387534,"display_name":"Durgan"},"score":0,"creation_date":1625526361,"post_id":68231066,"comment_id":120644540,"body_markdown":"Looking at your project you arent using JPMS so you shouldn&#39;t have to add the compilejava/kotlin bit. Make sure you redo your project structure to match!","body":"Looking at your project you arent using JPMS so you shouldn&#39;t have to add the compilejava/kotlin bit. Make sure you redo your project structure to match!"}],"tags":[],"owner":{"account_id":19654616,"reputation":27,"user_id":14387534,"display_name":"Durgan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625258781,"creation_date":1625258478,"answer_id":68231066,"question_id":68230211,"body_markdown":"You can solve this provlem  by moving the java file under a java sources directory and then keeping the kotlin kt file under the kotlin sources. \r\n\r\nYour file structure might look more like this afterwards:\r\n\r\n```\r\nproj.android/\r\n├─ app/\r\n│  ├─ src/\r\n│  │  ├─ kotlin/\r\n│  │  │  ├─ org.cocos2dx.cpp/\r\n│  │  │  │  ├─ app.kt\r\n│  │  ├─ java/\r\n│  │  │  ├─ org.cocos2dx.cpp/\r\n│  │  │  │  ├─ AppActivity\r\n```\r\n\r\nIn multiprojects(using JPMS) i additionally had to add \r\n```\r\ncompileKotlin.destinationDir = compileJava.destinationDir\r\n```\r\nto my build.gradle.","title":"Calling Kotlin from Java (cannot find symbol)","body":"<p>You can solve this provlem  by moving the java file under a java sources directory and then keeping the kotlin kt file under the kotlin sources.</p>\n<p>Your file structure might look more like this afterwards:</p>\n<pre><code>proj.android/\n├─ app/\n│  ├─ src/\n│  │  ├─ kotlin/\n│  │  │  ├─ org.cocos2dx.cpp/\n│  │  │  │  ├─ app.kt\n│  │  ├─ java/\n│  │  │  ├─ org.cocos2dx.cpp/\n│  │  │  │  ├─ AppActivity\n</code></pre>\n<p>In multiprojects(using JPMS) i additionally had to add</p>\n<pre><code>compileKotlin.destinationDir = compileJava.destinationDir\n</code></pre>\n<p>to my build.gradle.</p>\n"},{"comments":[{"owner":{"account_id":2273832,"reputation":23,"user_id":3460192,"display_name":"Marcela Nievas"},"score":0,"creation_date":1625413948,"post_id":68238993,"comment_id":120615907,"body_markdown":"Hi @Zain, thank you for your suggestions.  I added them but still AppKt is not found.  I&#39;ve edited my post and added my build.gradles","body":"Hi @Zain, thank you for your suggestions.  I added them but still AppKt is not found.  I&#39;ve edited my post and added my build.gradles"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":2,"creation_date":1625414236,"post_id":68238993,"comment_id":120615990,"body_markdown":"Hey @MarcelaNievas Can you also add `apply plugin: &#39;kotlin-android&#39;` .. it&#39;s at the top level of the Module level build.gradle along aside with other plugins","body":"Hey @MarcelaNievas Can you also add <code>apply plugin: &#39;kotlin-android&#39;</code> .. it&#39;s at the top level of the Module level build.gradle along aside with other plugins"},{"owner":{"account_id":2273832,"reputation":23,"user_id":3460192,"display_name":"Marcela Nievas"},"score":0,"creation_date":1625417308,"post_id":68238993,"comment_id":120616751,"body_markdown":"Yes !!!, that was the last piece I needed into this puzzle :D It is working thanks a lot.","body":"Yes !!!, that was the last piece I needed into this puzzle :D It is working thanks a lot."}],"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1697146046,"creation_date":1625337062,"answer_id":68238993,"question_id":68230211,"body_markdown":"Your code looks fine; but you need to have the **project level build.gradle** class path:\r\n\r\n`classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;` \r\n\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &quot;1.5.0&quot;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:4.2.0&quot;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd the Kotlin standard library dependencies in **build.gradle module level**:\r\n\r\n```\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot; \r\n}\r\n```\r\n\r\nFinally, add the following to the **module-level build.gradle** at top-level of the file:\r\n```\r\napply plugin: &quot;kotlin-android&quot;\r\n```\r\n\r\n","title":"Calling Kotlin from Java (cannot find symbol)","body":"<p>Your code looks fine; but you need to have the <strong>project level build.gradle</strong> class path:</p>\n<p><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;</code></p>\n<pre><code>buildscript {\n    ext.kotlin_version = &quot;1.5.0&quot;\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:4.2.0&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n\n    }\n}\n</code></pre>\n<p>And the Kotlin standard library dependencies in <strong>build.gradle module level</strong>:</p>\n<pre><code>dependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot; \n}\n</code></pre>\n<p>Finally, add the following to the <strong>module-level build.gradle</strong> at top-level of the file:</p>\n<pre><code>apply plugin: &quot;kotlin-android&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11479058,"reputation":1264,"user_id":8413748,"display_name":"Eishon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695619692,"creation_date":1625621239,"answer_id":68278991,"question_id":68230211,"body_markdown":"Try to use **@JVMStatic** in kotlin function.\r\n\r\n    @JvmStatic\r\n    fun getTime() { /*...*/ }\r\n\r\nfrom JAVA\r\n\r\n    public void test1() {\r\n       AppKt.getTime();\r\n    }\r\n\r\nThis should work.","title":"Calling Kotlin from Java (cannot find symbol)","body":"<p>Try to use <strong>@JVMStatic</strong> in kotlin function.</p>\n<pre><code>@JvmStatic\nfun getTime() { /*...*/ }\n</code></pre>\n<p>from JAVA</p>\n<pre><code>public void test1() {\n   AppKt.getTime();\n}\n</code></pre>\n<p>This should work.</p>\n"},{"tags":[],"owner":{"account_id":15057025,"reputation":199,"user_id":10867017,"display_name":"mujeeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673183022,"creation_date":1673183022,"answer_id":75047978,"question_id":68230211,"body_markdown":"Make sure your project and module level build.gradle files match the following: \r\n\r\n\r\n   \r\n\r\n     plugins {\r\n            id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n            id &#39;com.android.library&#39; version &#39;7.3.1&#39; apply false\r\n            id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.20&#39; apply false\r\n        }\r\n    \r\n        plugins {\r\n            id &#39;com.android.application&#39;\r\n            id &#39;org.jetbrains.kotlin.android&#39;\r\n            id &#39;kotlin-kapt&#39;\r\n        }\r\n\r\n\r\n","title":"Calling Kotlin from Java (cannot find symbol)","body":"<p>Make sure your project and module level build.gradle files match the following:</p>\n<pre><code> plugins {\n        id 'com.android.application' version '7.3.1' apply false\n        id 'com.android.library' version '7.3.1' apply false\n        id 'org.jetbrains.kotlin.android' version '1.7.20' apply false\n    }\n\n    plugins {\n        id 'com.android.application'\n        id 'org.jetbrains.kotlin.android'\n        id 'kotlin-kapt'\n    }\n</code></pre>\n"}],"owner":{"account_id":2273832,"reputation":23,"user_id":3460192,"display_name":"Marcela Nievas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4572,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68238993,"answer_count":4,"score":2,"last_activity_date":1697146046,"creation_date":1625252677,"question_id":68230211,"body_markdown":"I am trying to call a function in Kotlin from Java.  \r\nDocumentation says that it is easy. I have follow this post without luck so far.\r\n\r\nhttps://kotlinlang.org/docs/java-to-kotlin-interop.html#package-level-functions\r\n\r\nWhen typing in Java, the IDE recognizes the class but when I compile it says\r\n*error: cannot find symbol*\r\n\r\nAny help is more than welcome.\r\n\r\napp.kt\r\n```\r\npackage org.cocos2dx.cpp\r\n\r\nfun getTime() { /*...*/ }\r\n```\r\n\r\nAppActivity.java\r\n```\r\n    public void test1() {\r\n        org.cocos2dx.cpp.AppKt.getTime();\r\n    }\r\n```\r\n\r\nProject structure\r\n```\r\n/proj.android\r\n   /app\r\n       /src\r\n          /org.cocos2dx.cpp\r\n              app.kt\r\n              AppActivity\r\n```\r\n\r\nproject level build.gradle\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &quot;1.5.0&quot;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.2.1&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.8&#39;\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.7.0&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral() \r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nModule level build.gradle\r\n```\r\nimport org.gradle.internal.os.OperatingSystem\r\n\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\napply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n\r\nandroid {\r\n    compileSdkVersion PROP_COMPILE_SDK_VERSION.toInteger()\r\n\r\n    defaultConfig {\r\n        applicationId &quot;demo.1&quot;\r\n        minSdkVersion PROP_MIN_SDK_VERSION\r\n        targetSdkVersion PROP_TARGET_SDK_VERSION\r\n        versionCode 43\r\n        versionName &quot;0.43&quot;\r\n\r\n        externalNativeBuild {\r\n            cmake {\r\n                targets &#39;MyGame&#39;\r\n                arguments &quot;-DCMAKE_FIND_ROOT_PATH=&quot;, &quot;-DANDROID_STL=c++_static&quot;, &quot;-DANDROID_TOOLCHAIN=clang&quot;, &quot;-DANDROID_ARM_NEON=TRUE&quot;\r\n                cppFlags &quot;-frtti -fexceptions -fsigned-char&quot;\r\n            }\r\n        }\r\n\r\n        ndk {\r\n            abiFilters = []\r\n            abiFilters.addAll(PROP_APP_ABI.split(&#39;:&#39;).collect{it as String})\r\n        }\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    sourceSets.main {\r\n        java.srcDir &quot;src&quot;\r\n        res.srcDir &quot;res&quot;\r\n        manifest.srcFile &quot;AndroidManifest.xml&quot;\r\n        assets.srcDir &quot;../../Resources&quot;\r\n    }\r\n\r\n    externalNativeBuild {\r\n        cmake {\r\n            path &quot;../../CMakeLists.txt&quot;\r\n        }\r\n    }\r\n\r\n    signingConfigs {\r\n       release {\r\n            if (project.hasProperty(&quot;RELEASE_STORE_FILE&quot;)) {\r\n                storeFile file(RELEASE_STORE_FILE)\r\n                storePassword RELEASE_STORE_PASSWORD\r\n                keyAlias RELEASE_KEY_ALIAS\r\n                keyPassword RELEASE_KEY_PASSWORD\r\n            }\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            debuggable false\r\n            jniDebuggable false\r\n            renderscriptDebuggable false\r\n            minifyEnabled true\r\n            shrinkResources true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            if (project.hasProperty(&quot;RELEASE_STORE_FILE&quot;)) {\r\n                signingConfig signingConfigs.release\r\n            }\r\n        }\r\n\r\n        debug {\r\n            debuggable true\r\n            jniDebuggable true\r\n            renderscriptDebuggable true\r\n        }\r\n    }\r\n}\r\n\r\nandroid.applicationVariants.all { variant -&gt;\r\n    def project_root_folder = &quot;${projectDir}/../..&quot;\r\n    def dest_assets_folder = &quot;${projectDir}/assets&quot;\r\n\r\n    delete dest_assets_folder\r\n    def targetName = variant.name.capitalize()\r\n    def copyTaskName = &quot;copy${targetName}ResourcesToAssets&quot;\r\n    \r\n    tasks.register(copyTaskName) {\r\n        copy {\r\n            from &quot;${buildDir}/../../../Resources&quot;\r\n            into &quot;${buildDir}/intermediates/assets/${variant.dirName}&quot;\r\n            exclude &quot;**/*.gz&quot;\r\n        }\r\n    }\r\n    tasks.getByName(&quot;pre${targetName}Build&quot;).dependsOn copyTaskName\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation project(&#39;:libcocos2dx&#39;)\r\n    implementation &#39;androidx.core:core:1.0.0&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:28.1.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-crashlytics-ktx&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n}\r\n```\r\n\r\nError\r\n```\r\nerror: cannot find symbol\r\n        org.cocos2dx.cpp.AppKt.getTime();\r\n                        ^\r\n  symbol:   class AppKt\r\n  location: package org.cocos2dx.cpp\r\n```\r\n","title":"Calling Kotlin from Java (cannot find symbol)","body":"<p>I am trying to call a function in Kotlin from Java.<br />\nDocumentation says that it is easy. I have follow this post without luck so far.</p>\n<p><a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html#package-level-functions\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/java-to-kotlin-interop.html#package-level-functions</a></p>\n<p>When typing in Java, the IDE recognizes the class but when I compile it says\n<em>error: cannot find symbol</em></p>\n<p>Any help is more than welcome.</p>\n<p>app.kt</p>\n<pre><code>package org.cocos2dx.cpp\n\nfun getTime() { /*...*/ }\n</code></pre>\n<p>AppActivity.java</p>\n<pre><code>    public void test1() {\n        org.cocos2dx.cpp.AppKt.getTime();\n    }\n</code></pre>\n<p>Project structure</p>\n<pre><code>/proj.android\n   /app\n       /src\n          /org.cocos2dx.cpp\n              app.kt\n              AppActivity\n</code></pre>\n<p>project level build.gradle</p>\n<pre><code>buildscript {\n    ext.kotlin_version = &quot;1.5.0&quot;\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.2.1'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.3.8'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.7.0'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral() \n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>Module level build.gradle</p>\n<pre><code>import org.gradle.internal.os.OperatingSystem\n\napply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\napply plugin: 'com.google.firebase.crashlytics'\n\nandroid {\n    compileSdkVersion PROP_COMPILE_SDK_VERSION.toInteger()\n\n    defaultConfig {\n        applicationId &quot;demo.1&quot;\n        minSdkVersion PROP_MIN_SDK_VERSION\n        targetSdkVersion PROP_TARGET_SDK_VERSION\n        versionCode 43\n        versionName &quot;0.43&quot;\n\n        externalNativeBuild {\n            cmake {\n                targets 'MyGame'\n                arguments &quot;-DCMAKE_FIND_ROOT_PATH=&quot;, &quot;-DANDROID_STL=c++_static&quot;, &quot;-DANDROID_TOOLCHAIN=clang&quot;, &quot;-DANDROID_ARM_NEON=TRUE&quot;\n                cppFlags &quot;-frtti -fexceptions -fsigned-char&quot;\n            }\n        }\n\n        ndk {\n            abiFilters = []\n            abiFilters.addAll(PROP_APP_ABI.split(':').collect{it as String})\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    sourceSets.main {\n        java.srcDir &quot;src&quot;\n        res.srcDir &quot;res&quot;\n        manifest.srcFile &quot;AndroidManifest.xml&quot;\n        assets.srcDir &quot;../../Resources&quot;\n    }\n\n    externalNativeBuild {\n        cmake {\n            path &quot;../../CMakeLists.txt&quot;\n        }\n    }\n\n    signingConfigs {\n       release {\n            if (project.hasProperty(&quot;RELEASE_STORE_FILE&quot;)) {\n                storeFile file(RELEASE_STORE_FILE)\n                storePassword RELEASE_STORE_PASSWORD\n                keyAlias RELEASE_KEY_ALIAS\n                keyPassword RELEASE_KEY_PASSWORD\n            }\n        }\n    }\n\n    buildTypes {\n        release {\n            debuggable false\n            jniDebuggable false\n            renderscriptDebuggable false\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            if (project.hasProperty(&quot;RELEASE_STORE_FILE&quot;)) {\n                signingConfig signingConfigs.release\n            }\n        }\n\n        debug {\n            debuggable true\n            jniDebuggable true\n            renderscriptDebuggable true\n        }\n    }\n}\n\nandroid.applicationVariants.all { variant -&gt;\n    def project_root_folder = &quot;${projectDir}/../..&quot;\n    def dest_assets_folder = &quot;${projectDir}/assets&quot;\n\n    delete dest_assets_folder\n    def targetName = variant.name.capitalize()\n    def copyTaskName = &quot;copy${targetName}ResourcesToAssets&quot;\n    \n    tasks.register(copyTaskName) {\n        copy {\n            from &quot;${buildDir}/../../../Resources&quot;\n            into &quot;${buildDir}/intermediates/assets/${variant.dirName}&quot;\n            exclude &quot;**/*.gz&quot;\n        }\n    }\n    tasks.getByName(&quot;pre${targetName}Build&quot;).dependsOn copyTaskName\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation project(':libcocos2dx')\n    implementation 'androidx.core:core:1.0.0'\n    implementation platform('com.google.firebase:firebase-bom:28.1.0')\n    implementation 'com.google.firebase:firebase-crashlytics-ktx'\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n}\n</code></pre>\n<p>Error</p>\n<pre><code>error: cannot find symbol\n        org.cocos2dx.cpp.AppKt.getTime();\n                        ^\n  symbol:   class AppKt\n  location: package org.cocos2dx.cpp\n</code></pre>\n"},{"tags":["java","class","generics","parameter-passing","deserialization"],"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1418260824,"post_id":27413818,"comment_id":43271753,"body_markdown":"You need to show more code. What error did you get exactly?","body":"You need to show more code. What error did you get exactly?"},{"owner":{"account_id":297162,"reputation":5843,"user_id":602524,"accept_rate":82,"display_name":"Ava"},"score":0,"creation_date":1418261075,"post_id":27413818,"comment_id":43271819,"body_markdown":"Error:() java: cannot find symbol. More code is in http://stackoverflow.com/questions/27413112/passing-and-using-class-in-a-method-in-java","body":"Error:() java: cannot find symbol. More code is in <a href=\"http://stackoverflow.com/questions/27413112/passing-and-using-class-in-a-method-in-java\" title=\"passing and using class in a method in java\">stackoverflow.com/questions/27413112/&hellip;</a>"},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1418261474,"post_id":27413818,"comment_id":43271914,"body_markdown":"What&#39;s the type of `var`? What&#39;s the definition of that class?","body":"What&#39;s the type of <code>var</code>? What&#39;s the definition of that class?"},{"owner":{"account_id":297162,"reputation":5843,"user_id":602524,"accept_rate":82,"display_name":"Ava"},"score":0,"creation_date":1418261738,"post_id":27413818,"comment_id":43272005,"body_markdown":"Added details in the question","body":"Added details in the question"},{"owner":{"account_id":600204,"reputation":22212,"user_id":303914,"display_name":"DWilches"},"score":0,"creation_date":1418261862,"post_id":27413818,"comment_id":43272033,"body_markdown":"Is it a compile or runtime error? You must post the actual error message and specify where do you get it (if it is in runtime, the stacktrace is useful).","body":"Is it a compile or runtime error? You must post the actual error message and specify where do you get it (if it is in runtime, the stacktrace is useful)."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":1,"creation_date":1418261943,"post_id":27413818,"comment_id":43272059,"body_markdown":"What would happen if you called `methodB(String.class)`? `String` has no method `blah`.","body":"What would happen if you called <code>methodB(String.class)</code>? <code>String</code> has no method <code>blah</code>."},{"owner":{"account_id":297162,"reputation":5843,"user_id":602524,"accept_rate":82,"display_name":"Ava"},"score":0,"creation_date":1418262122,"post_id":27413818,"comment_id":43272102,"body_markdown":"@DWilches It is a compiletime error. Running the program gives me `java cannot find symbol`. When I do `var.`, my IDE does not give me an option to chose any methods as it was when I was not using generics. When I anyhow use it, it gives me that error.","body":"@DWilches It is a compiletime error. Running the program gives me <code>java cannot find symbol</code>. When I do <code>var.</code>, my IDE does not give me an option to chose any methods as it was when I was not using generics. When I anyhow use it, it gives me that error."},{"owner":{"account_id":514320,"reputation":24520,"user_id":1392132,"accept_rate":91,"display_name":"5gon12eder"},"score":5,"creation_date":1418262191,"post_id":27413818,"comment_id":43272117,"body_markdown":"This has nothing to do with serialization.  It is a compiler error you are getting because your type parameter `T` is not restricted to a type having a `blah` method.  You must specify a proper type boundary.","body":"This has nothing to do with serialization.  It is a compiler error you are getting because your type parameter <code>T</code> is not restricted to a type having a <code>blah</code> method.  You must specify a proper type boundary."},{"owner":{"account_id":600204,"reputation":22212,"user_id":303914,"display_name":"DWilches"},"score":0,"creation_date":1418262236,"post_id":27413818,"comment_id":43272124,"body_markdown":"@Ava What is `convertValue` returning ? How is that returned class declared?","body":"@Ava What is <code>convertValue</code> returning ? How is that returned class declared?"},{"owner":{"account_id":297162,"reputation":5843,"user_id":602524,"accept_rate":82,"display_name":"Ava"},"score":0,"creation_date":1418262293,"post_id":27413818,"comment_id":43272135,"body_markdown":"`var` is of type `T` and I am passing `ClassA.class` to `clazz`","body":"<code>var</code> is of type <code>T</code> and I am passing <code>ClassA.class</code> to <code>clazz</code>"}],"answers":[{"tags":[],"owner":{"account_id":2984244,"reputation":236,"user_id":2533521,"display_name":"user2533521"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418275911,"creation_date":1418275911,"answer_id":27415997,"question_id":27413818,"body_markdown":"\r\nI think you should use interfaces instead of generics, if you want to call the same &#39;blah&#39; function on a variety of classes (A,X,Y,Z) (each of which has the same function signature)..\r\n\r\nYour other option (if you cannot modify A, e.t.c) is to use reflection. read more about this in https://docs.oracle.com/javase/tutorial/reflect/","title":"Cannot access class methods via generics","body":"<p>I think you should use interfaces instead of generics, if you want to call the same 'blah' function on a variety of classes (A,X,Y,Z) (each of which has the same function signature)..</p>\n\n<p>Your other option (if you cannot modify A, e.t.c) is to use reflection. read more about this in <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/reflect/</a></p>\n"},{"tags":[],"owner":{"account_id":297162,"reputation":5843,"user_id":602524,"accept_rate":82,"display_name":"Ava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697144965,"creation_date":1418287839,"answer_id":27418726,"question_id":27413818,"body_markdown":"Thanks to https://stackoverflow.com/questions/18471701/passing-a-class-with-type-parameter-as-type-parameter-for-generic-method-in-java. Solved using [TypeToken][1]\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/ReflectionExplained","title":"Cannot access class methods via generics","body":"<p>Thanks to <a href=\"https://stackoverflow.com/questions/18471701/passing-a-class-with-type-parameter-as-type-parameter-for-generic-method-in-java\">Passing a class with type parameter as type parameter for generic method in Java</a>. Solved using <a href=\"https://github.com/google/guava/wiki/ReflectionExplained\" rel=\"nofollow noreferrer\">TypeToken</a></p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418350197,"creation_date":1418350197,"answer_id":27435756,"question_id":27413818,"body_markdown":"The line where you assign to `var` at runtime is absolutely irrelevant. The only thing that matters for compiling a call is the static (compile-time) type of `var`. Since `T` is unbounded (other than by `Object`), it is not known to support any methods, other than those provided by `Object`. Both pieces of code should fail to compile.","title":"Cannot access class methods via generics","body":"<p>The line where you assign to <code>var</code> at runtime is absolutely irrelevant. The only thing that matters for compiling a call is the static (compile-time) type of <code>var</code>. Since <code>T</code> is unbounded (other than by <code>Object</code>), it is not known to support any methods, other than those provided by <code>Object</code>. Both pieces of code should fail to compile.</p>\n"}],"owner":{"account_id":297162,"reputation":5843,"user_id":602524,"accept_rate":82,"display_name":"Ava"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4165,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":27418726,"answer_count":3,"score":-1,"last_activity_date":1697144965,"creation_date":1418260664,"question_id":27413818,"body_markdown":"I changed my method to [generic][1] method. What is happening now is that I was deserializing the class inside the `methodB` and accessing its methods which I can not do anymore.\r\n\r\n    &lt;T&gt; void methodB(Class&lt;T&gt; clazz) {\r\n        T var;\r\n        HashMap&lt;String, T&gt; hash = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    void methodA () {\r\n      methodB(classA.class);\r\n    }\r\n\r\nInitially inside `methodB` with no generics,\r\n\r\n    var = mapper.convertValue(iter.next(), ClassA.class);\r\n    var.blah() //works fine\r\n\r\nAfter using generics,\r\n\r\n    var = mapper.convertValue(iter.next(), clazz);\r\n    var.blah() //cannot resolve the method.\r\n\r\nHow do I access `blah()` method of `classA`? \r\n\r\n  [1]: https://stackoverflow.com/questions/27413112/passing-and-using-class-in-a-method-in-java\r\n","title":"Cannot access class methods via generics","body":"<p>I changed my method to <a href=\"https://stackoverflow.com/questions/27413112/passing-and-using-class-in-a-method-in-java\">generic</a> method. What is happening now is that I was deserializing the class inside the <code>methodB</code> and accessing its methods which I can not do anymore.</p>\n\n<pre><code>&lt;T&gt; void methodB(Class&lt;T&gt; clazz) {\n    T var;\n    HashMap&lt;String, T&gt; hash = new HashMap&lt;&gt;();\n}\n\nvoid methodA () {\n  methodB(classA.class);\n}\n</code></pre>\n\n<p>Initially inside <code>methodB</code> with no generics,</p>\n\n<pre><code>var = mapper.convertValue(iter.next(), ClassA.class);\nvar.blah() //works fine\n</code></pre>\n\n<p>After using generics,</p>\n\n<pre><code>var = mapper.convertValue(iter.next(), clazz);\nvar.blah() //cannot resolve the method.\n</code></pre>\n\n<p>How do I access <code>blah()</code> method of <code>classA</code>? </p>\n"},{"tags":["java","multithreading","rabbitmq","thread-safety"],"answers":[{"comments":[{"owner":{"account_id":1536372,"reputation":1235,"user_id":1432310,"accept_rate":42,"display_name":"iddqd"},"score":0,"creation_date":1529493078,"post_id":50930344,"comment_id":88890898,"body_markdown":"Ended up using a single threaded executor service instead to avoid the synchronized queue implementation","body":"Ended up using a single threaded executor service instead to avoid the synchronized queue implementation"}],"tags":[],"owner":{"account_id":13802804,"reputation":96,"user_id":9962449,"display_name":"Arnaud Cogolu&#232;gnes"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529416835,"creation_date":1529416835,"answer_id":50930344,"question_id":50897747,"body_markdown":"The solution you suggest is OK. You can also have a look at Spring AMQP. It provides a thread-safe `RabbitTemplate` that uses channel pooling under the covers.","title":"Using RabbitMQ publisher in multiple threads","body":"<p>The solution you suggest is OK. You can also have a look at Spring AMQP. It provides a thread-safe <code>RabbitTemplate</code> that uses channel pooling under the covers.</p>\n"}],"owner":{"account_id":1536372,"reputation":1235,"user_id":1432310,"accept_rate":42,"display_name":"iddqd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697144815,"creation_date":1529247057,"question_id":50897747,"body_markdown":"I would like to create a RabbitMQ publisher that might be called from different threads.  \r\n Based on the RabbitMQ best practice i should not allow usages of the same channel in different threads so sharing this channel in multiple instances of the publisher will cause issues.   \r\nThe only solution i can think of is having a manager thread with an inner queue that implements an internal producer-consumer with a single consumer existing only in that thread.  \r\n Is there an easier way? would like to avoid synchronization as much as possible for obvious reasons, this solution does not allow that.","title":"Using RabbitMQ publisher in multiple threads","body":"<p>I would like to create a RabbitMQ publisher that might be called from different threads.<br>\n Based on the RabbitMQ best practice i should not allow usages of the same channel in different threads so sharing this channel in multiple instances of the publisher will cause issues.<br>\nThe only solution i can think of is having a manager thread with an inner queue that implements an internal producer-consumer with a single consumer existing only in that thread.<br>\n Is there an easier way? would like to avoid synchronization as much as possible for obvious reasons, this solution does not allow that.</p>\n"},{"tags":["java","spring-boot","error-handling","runtime-error","runtimeexception"],"answers":[{"comments":[{"owner":{"account_id":12263752,"reputation":47,"user_id":8950791,"display_name":"Asmat"},"score":0,"creation_date":1592658758,"post_id":62486053,"comment_id":110506645,"body_markdown":"I Have already done these steps, and also after your answer, but the problem is still same.","body":"I Have already done these steps, and also after your answer, but the problem is still same."},{"owner":{"account_id":12263752,"reputation":47,"user_id":8950791,"display_name":"Asmat"},"score":0,"creation_date":1592658874,"post_id":62486053,"comment_id":110506680,"body_markdown":"I Have uploaded my xml file.","body":"I Have uploaded my xml file."},{"owner":{"account_id":16669662,"reputation":478,"user_id":12047466,"display_name":"TechGeek"},"score":0,"creation_date":1592659337,"post_id":62486053,"comment_id":110506840,"body_markdown":"@Asmat Use the above updated workaround and let me know if you still have issue.","body":"@Asmat Use the above updated workaround and let me know if you still have issue."},{"owner":{"account_id":12263752,"reputation":47,"user_id":8950791,"display_name":"Asmat"},"score":0,"creation_date":1592665603,"post_id":62486053,"comment_id":110508929,"body_markdown":"yes i have applied your steps, but the problem is still same.","body":"yes i have applied your steps, but the problem is still same."},{"owner":{"account_id":16669662,"reputation":478,"user_id":12047466,"display_name":"TechGeek"},"score":0,"creation_date":1592668305,"post_id":62486053,"comment_id":110509872,"body_markdown":"Can you reformat your Pom.xml file which you shared above ? @Asmat","body":"Can you reformat your Pom.xml file which you shared above ? @Asmat"},{"owner":{"account_id":12263752,"reputation":47,"user_id":8950791,"display_name":"Asmat"},"score":0,"creation_date":1593492404,"post_id":62486053,"comment_id":110792669,"body_markdown":"when ever i create a new spring project the error is same that class not found.","body":"when ever i create a new spring project the error is same that class not found."}],"tags":[],"owner":{"account_id":16669662,"reputation":478,"user_id":12047466,"display_name":"TechGeek"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592659275,"creation_date":1592657597,"answer_id":62486053,"question_id":62483281,"body_markdown":"1. Add following property to pom.xml\r\n\r\n   \r\n        &lt;properties&gt;\r\n            &lt;start-class&gt;fyp.fms.FleetManagementSystemApplication&lt;/start-class&gt;\r\n        &lt;/properties&gt;\r\n\r\n\r\n2. Add this build plugin if you don&#39;t have it in your pom\r\n\r\n  ```\r\n     &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;executable&gt;true&lt;/executable&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n3. run ```mvn clean install```\r\n4. Run application using ```mvn springboot:run```\r\n\r\n\r\nCan you try below steps:\r\n\r\nRight click on your project. Select &quot;Run As&quot; -&gt; &quot;Maven build...&quot;. Then in &quot;Goals&quot; field, enter &quot;spring-boot:run&quot;. Apply &amp; Run.\r\n","title":"&quot;Spring Boot Project&quot; Error: Could not find or load main class fyp.fms.FleetManagementSystemApplication","body":"<ol>\n<li><p>Add following property to pom.xml</p>\n<pre><code> &lt;properties&gt;\n     &lt;start-class&gt;fyp.fms.FleetManagementSystemApplication&lt;/start-class&gt;\n &lt;/properties&gt;\n</code></pre>\n</li>\n<li><p>Add this build plugin if you don't have it in your pom</p>\n</li>\n</ol>\n<pre><code>   &lt;build&gt;\n          &lt;plugins&gt;\n           &lt;plugin&gt;\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n              &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n              &lt;configuration&gt;\n                  &lt;executable&gt;true&lt;/executable&gt;\n              &lt;/configuration&gt;\n          &lt;/plugin&gt;\n          &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<ol start=\"3\">\n<li>run <code>mvn clean install</code></li>\n<li>Run application using <code>mvn springboot:run</code></li>\n</ol>\n<p>Can you try below steps:</p>\n<p>Right click on your project. Select &quot;Run As&quot; -&gt; &quot;Maven build...&quot;. Then in &quot;Goals&quot; field, enter &quot;spring-boot:run&quot;. Apply &amp; Run.</p>\n"}],"owner":{"account_id":12263752,"reputation":47,"user_id":8950791,"display_name":"Asmat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697144700,"creation_date":1592640707,"question_id":62483281,"body_markdown":"I have gone through all the articles available in and out stack over flow. But my problem is not resolved. I have a working java 8 which works fine on my all applications with in eclipse and also i have tried to run with cmd. it means class path, environment variable etc, all works fine. Now i want to create a Spring boot project, so when ever i run an spring boot project using both Run As Java Application &amp; Spring Boot App, It Gives This Error &quot;Error: Could not find or load main class package.classname&quot; Here is the Screen Shot: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ortJ1.png\r\n\r\n\r\n\r\nNote: I have tried almost every thing, like clean project, checking environment variables, updated eclipse etc. This problem is with only a spring boot application. All other Java applications works fine.\r\n\r\nHere is my pom.xml file.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;fyp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;fms&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;FleetManagementSystem&lt;/name&gt;\r\n\t&lt;description&gt;Fleet Management System On Spring Boot. A Final Year Project.&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;start-class&gt;fyp.fms.FleetManagementSystemApplication&lt;/start-class&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;executable&gt;true&lt;/executable&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n\r\n&lt;/project&gt;\r\n","title":"&quot;Spring Boot Project&quot; Error: Could not find or load main class fyp.fms.FleetManagementSystemApplication","body":"<p>I have gone through all the articles available in and out stack over flow. But my problem is not resolved. I have a working java 8 which works fine on my all applications with in eclipse and also i have tried to run with cmd. it means class path, environment variable etc, all works fine. Now i want to create a Spring boot project, so when ever i run an spring boot project using both Run As Java Application &amp; Spring Boot App, It Gives This Error &quot;Error: Could not find or load main class package.classname&quot; Here is the Screen Shot: <a href=\"https://i.stack.imgur.com/ortJ1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ortJ1.png\" alt=\"enter image description here\" /></a></p>\n<p>Note: I have tried almost every thing, like clean project, checking environment variables, updated eclipse etc. This problem is with only a spring boot application. All other Java applications works fine.</p>\n<p>Here is my pom.xml file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.3.1.RELEASE\n \n\nfyp\nfms\n0.0.1-SNAPSHOT\nFleetManagementSystem\nFleet Management System On Spring Boot. A Final Year Project.</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;start-class&gt;fyp.fms.FleetManagementSystemApplication&lt;/start-class&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;executable&gt;true&lt;/executable&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","logging","java.util.logging"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1632109333,"post_id":2160471,"comment_id":122395333,"body_markdown":"Yes and it is documented. See `java.util.logging`.","body":"Yes and it is documented. See <code>java.util.logging</code>."}],"answers":[{"tags":[],"owner":{"account_id":71650,"reputation":4872,"user_id":207223,"display_name":"Alon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1264750637,"creation_date":1264750321,"answer_id":2160532,"question_id":2160471,"body_markdown":"you can  configure your code to set  the level based on an envrioment variable :\r\n\r\n    String sLoglevel= System.getenv(&quot;LOGLEVEL&quot;);  \r\n    int ilevel = loglevel.parseInt(sLoglevel);\r\n    //set the log level based on retrieved value \r\n  \r\n\r\n\r\n","title":"Is there a command line option for setting the default log level in Java","body":"<p>you can  configure your code to set  the level based on an envrioment variable :</p>\n\n<pre><code>String sLoglevel= System.getenv(\"LOGLEVEL\");  \nint ilevel = loglevel.parseInt(sLoglevel);\n//set the log level based on retrieved value \n</code></pre>\n"},{"comments":[{"owner":{"account_id":25148,"reputation":18628,"user_id":64421,"accept_rate":86,"display_name":"Ben McCann"},"score":3,"creation_date":1280815315,"post_id":2160652,"comment_id":3529474,"body_markdown":"yeah, i was hoping for something more built-in, but maybe this is the best i can do","body":"yeah, i was hoping for something more built-in, but maybe this is the best i can do"},{"owner":{"account_id":108913,"reputation":18431,"user_id":288875,"accept_rate":50,"display_name":"Andre Holzner"},"score":0,"creation_date":1329236244,"post_id":2160652,"comment_id":11700349,"body_markdown":"if you replaced `&quot;myProp.logLevel&quot;` by `&quot;java.util.logging.loglevel&quot;` in the call to `getProperties(..)`, it would work like guessed in the question. (except that you would have to parse the loglevel yourself ?)","body":"if you replaced <code>&quot;myProp.logLevel&quot;</code> by <code>&quot;java.util.logging.loglevel&quot;</code> in the call to <code>getProperties(..)</code>, it would work like guessed in the question. (except that you would have to parse the loglevel yourself ?)"},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":1,"creation_date":1623382876,"post_id":2160652,"comment_id":120068902,"body_markdown":"this answer does not explain how to actually use the value obtained from the system property to change logging levels.","body":"this answer does not explain how to actually use the value obtained from the system property to change logging levels."}],"tags":[],"owner":{"account_id":2151,"reputation":3523,"user_id":2965,"accept_rate":86,"display_name":"Laurent K"},"comment_count":3,"down_vote_count":2,"up_vote_count":6,"is_accepted":true,"score":4,"last_activity_date":1264752582,"creation_date":1264752582,"answer_id":2160652,"question_id":2160471,"body_markdown":"You can even pass your log Level as a user defined property.\r\n\r\n    -DmyProp.logLevel=FINE\r\n\r\nIn your code:\r\n\r\n    String logLevel = System.getProperties(&quot;myProp.logLevel&quot;);\r\n\r\nBut I have the idea that your are looking for a more &quot;built-in&quot; and automatically handled property, right? AFAIK, it doesn&#39;t exist, but maybe I&#39;m wrong.","title":"Is there a command line option for setting the default log level in Java","body":"<p>You can even pass your log Level as a user defined property.</p>\n\n<pre><code>-DmyProp.logLevel=FINE\n</code></pre>\n\n<p>In your code:</p>\n\n<pre><code>String logLevel = System.getProperties(\"myProp.logLevel\");\n</code></pre>\n\n<p>But I have the idea that your are looking for a more \"built-in\" and automatically handled property, right? AFAIK, it doesn't exist, but maybe I'm wrong.</p>\n"},{"comments":[{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":1,"creation_date":1632087117,"post_id":67930414,"comment_id":122392302,"body_markdown":"The code you provided along with the `java.util.logging.config.class` property is pretty good. The class set in the property can be part of the project OR it could be just appended to the classpath as an extra JAR file, adding functionality to any JVM execution. Still I think `java.util.logging.config.file` is the best configuration option. Future readers: take a look at the default properties file, it&#39;s well-documented in the file itself.","body":"The code you provided along with the <code>java.util.logging.config.class</code> property is pretty good. The class set in the property can be part of the project OR it could be just appended to the classpath as an extra JAR file, adding functionality to any JVM execution. Still I think <code>java.util.logging.config.file</code> is the best configuration option. Future readers: take a look at the default properties file, it&#39;s well-documented in the file itself."},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":1,"creation_date":1632095755,"post_id":67930414,"comment_id":122393589,"body_markdown":"@TWiStErRob `java.util.logging.config.file` is best as a permanent solution for sure. `updateLogLevels` is meant for quick temporary changes when starting program manually from a command line (for example when debugging etc), which is exactly what OP was looking for.","body":"@TWiStErRob <code>java.util.logging.config.file</code> is best as a permanent solution for sure. <code>updateLogLevels</code> is meant for quick temporary changes when starting program manually from a command line (for example when debugging etc), which is exactly what OP was looking for."},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1632110225,"post_id":67930414,"comment_id":122395466,"body_markdown":"@TWiStErRob I didn&#39;t even think about non-dependency, runtime-only usage of it: I guess it&#39;s a good selling point :)  Thanks for pointing this!","body":"@TWiStErRob I didn&#39;t even think about non-dependency, runtime-only usage of it: I guess it&#39;s a good selling point :)  Thanks for pointing this!"},{"owner":{"account_id":161128,"reputation":443,"user_id":381673,"display_name":"OzgurH"},"score":0,"creation_date":1659445465,"post_id":67930414,"comment_id":129292534,"body_markdown":"+1 for the tidbit about `SimpleFormatter.format` being the exception about being usable in command line! That was what got me here... Seeing that working I assumed anything that can be put into the properties file could also be passed as a system property (through the command line). A bad assumption it seems! :)","body":"+1 for the tidbit about <code>SimpleFormatter.format</code> being the exception about being usable in command line! That was what got me here... Seeing that working I assumed anything that can be put into the properties file could also be passed as a system property (through the command line). A bad assumption it seems! :)"}],"tags":[],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1697144605,"creation_date":1623376860,"answer_id":67930414,"question_id":2160471,"body_markdown":"tldr:\r\n-----\r\nfor java-9+ put this code at the beginning of your `main` method:  \r\n(see the bottom for java-8 and earlier)\r\n```java\r\nfinal var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\r\nif (cmdLineVal != null) {\r\n    LogManager.getLogManager().updateConfiguration(\r\n        (key) -&gt; (oldVal, newVal) -&gt;\r\n                key.equals(&quot;.level&quot;)\r\n                        || key.equals(&quot;java.util.logging.ConsoleHandler.level&quot;)\r\n                ? cmdLineVal : newVal\r\n    );\r\n}\r\n```\r\n\r\nexplanation and workaround if `main` cannot be modified:\r\n------------------------\r\nGenerally `java.util.logging` does not use system properties to configure itself (there are a few exceptions, like `java.util.logging.SimpleFormatter.format`). Instead, the global [LogManager](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html) singleton instance is responsible for configuring the logging subsystem and by default it loads properties from `${JAVA_HOME}/conf/logging.properties`. There are a few ways to tweak this behavior:\r\n* provide `java.util.logging.config.file` system property with a path to an alternative logging config properties file.\r\n* provide `java.util.logging.config.class` system property with a class name that completely overrides configuration process (usually by providing a custom `InputStream` with logging config properties to [readConfiguration(is)](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#readConfiguration(java.io.InputStream))).\r\n* use [LogManager.updateConfiguration(mapper)](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#updateConfiguration(java.util.function.Function)) method (**java 9+**) to override selected properties only. Note that this method can only override existing properties, but cannot add new ones (for that, a way more cumbersome [updateConfiguration(inputStream, mapper)](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#updateConfiguration(java.io.InputStream,java.util.function.Function)) would need to be used).\r\n\r\nSo in case of overriding the global root log-level, it&#39;s probably easiest to use `updateConfiguration(mapper)` somewhere at the beginning of your `main` method. `LogManager` uses `.level` property (level of the empty-string root logger) as a default for its child loggers not configured explicitly, so using the `java.util.logging.loglevel` system property from the OP, it would be like this:\r\n```java\r\nfinal var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\r\nif (cmdLineVal != null) {\r\n    LogManager.getLogManager().updateConfiguration(\r\n        (key) -&gt; (oldVal, newVal) -&gt;\r\n                key.equals(&quot;.level&quot;)\r\n                ? cmdLineVal : newVal\r\n    );\r\n}\r\n```\r\nNote that in case of the default logging config, the above is not sufficient for any `FINE` (or lower) log entries to be output on the console, as [ConsoleHandler](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/ConsoleHandler.html) by default outputs `INFO` and higher. To change this, you need to override also `java.util.logging.ConsoleHandler.level` logging config property. If you want to use the same system property for this again, then you need to modify the argument of `updateConfiguration` like the below:\r\n```java\r\nfinal var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\r\nif (cmdLineVal != null) {\r\n    LogManager.getLogManager().updateConfiguration(\r\n        (key) -&gt; (oldVal, newVal) -&gt;\r\n                key.equals(&quot;.level&quot;)\r\n                        || key.equals(&quot;java.util.logging.ConsoleHandler.level&quot;)\r\n                ? cmdLineVal : newVal\r\n    );\r\n}\r\n```\r\n\r\nIf you can&#39;t change the `main` method, then you can define the previously mentioned `java.util.logging.config.class` property to point to your class like this: `-Djava.util.logging.config.class=com.example.MyJulConfig`. This will delegate the task of logging configuration to the constructor of this class. In such constructor you can first read the config from a file the normal way (using [readConfiguration()](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#readConfiguration()) method) and then use the code from the previous snippet:\r\n```java\r\npublic MyJulConfig() throws IOException {\r\n    System.clearProperty(&quot;java.util.logging.config.class&quot;);\r\n    LogManager.getLogManager().readConfiguration();\r\n\r\n    // the same code as in the previous snippet:\r\n    final var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\r\n    if (cmdLineVal != null) {\r\n        LogManager.getLogManager().updateConfiguration(\r\n            (key) -&gt; (oldVal, newVal) -&gt;\r\n                    key.equals(&quot;.level&quot;)\r\n                            || key.equals(&quot;java.util.logging.ConsoleHandler.level&quot;)\r\n                    ? cmdLineVal : newVal\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nAs a final note, I&#39;ve recently written a simple helper function to make any ad-hoc command-line changes to logging config easier: [overrideLogLevelsWithSystemProperties](https://github.com/morgwai/jul-utils/blob/v2.1/src/main/java/pl/morgwai/base/jul/JulConfigurator.java#L23-L61) (also supports adding new logging properties).  \r\nAs mentioned by @TWiStErRob in [the comment](https://stackoverflow.com/questions/2160471/is-there-a-command-line-option-for-setting-the-default-log-level-in-java/67930414#comment122392302_67930414), you don&#39;t even need to include the containing `jul-utils` as a dependency of your project: just add it to your classpath (available in [central](https://search.maven.org/artifact/pl.morgwai.base/jul-utils/)) when starting your app and define your desired system properties:\r\n```bash\r\njava -cp /path/to/jul-utils.jar:${CLASSPATH} \\\r\n-Djava.util.logging.config.class=pl.morgwai.base.jul.JulConfigurator \\\r\n-Djava.util.logging.overrideLevel=,java.util.logging.ConsoleHandler,com.third.party.talkative.lib \\\r\n-D.level=FINE \\\r\n-Djava.util.logging.ConsoleHandler.level=FINE \\\r\n-Dcom.third.party.talkative.lib.level=SEVERE \\\r\n${MY_JAVA_APP_MAINCLASS_AND_ARGUMENTS}\r\n```\r\n\r\noutline for java-8 and earlier:\r\n---------------\r\n1. parse the config file manually into a `Properties` using [load(is)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)) (see [here](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.logging/share/classes/java/util/logging/LogManager.java#L1382) how `LogManager` determines which file to read)\r\n1. replace values for `.level` and `java.util.logging.ConsoleHandler.level` using [setProperty(key, value)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html#setProperty(java.lang.String,java.lang.String)) with the value obtained from the system property\r\n1. store the updated properties into a `ByteArrayOutputStream` using [store(os, null)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html#store(java.io.Writer,java.lang.String))\r\n1. wrap [the underlying data](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/ByteArrayOutputStream.html#toByteArray()) with a `ByteArrayInputStream` (see also [this discussion](https://stackoverflow.com/questions/5778658/how-do-i-convert-an-outputstream-to-an-inputstream)) and pass it to [readConfiguration(is)](https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#readConfiguration(java.io.InputStream))\r\n\r\nas before, you can do it either in your `main` method or in a constructor of a class pointed by `java.util.logging.config.class` system property.","title":"Is there a command line option for setting the default log level in Java","body":"<h2>tldr:</h2>\n<p>for java-9+ put this code at the beginning of your <code>main</code> method:<br />\n(see the bottom for java-8 and earlier)</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\nif (cmdLineVal != null) {\n    LogManager.getLogManager().updateConfiguration(\n        (key) -&gt; (oldVal, newVal) -&gt;\n                key.equals(&quot;.level&quot;)\n                        || key.equals(&quot;java.util.logging.ConsoleHandler.level&quot;)\n                ? cmdLineVal : newVal\n    );\n}\n</code></pre>\n<h2>explanation and workaround if <code>main</code> cannot be modified:</h2>\n<p>Generally <code>java.util.logging</code> does not use system properties to configure itself (there are a few exceptions, like <code>java.util.logging.SimpleFormatter.format</code>). Instead, the global <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html\" rel=\"nofollow noreferrer\">LogManager</a> singleton instance is responsible for configuring the logging subsystem and by default it loads properties from <code>${JAVA_HOME}/conf/logging.properties</code>. There are a few ways to tweak this behavior:</p>\n<ul>\n<li>provide <code>java.util.logging.config.file</code> system property with a path to an alternative logging config properties file.</li>\n<li>provide <code>java.util.logging.config.class</code> system property with a class name that completely overrides configuration process (usually by providing a custom <code>InputStream</code> with logging config properties to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#readConfiguration(java.io.InputStream)\" rel=\"nofollow noreferrer\">readConfiguration(is)</a>).</li>\n<li>use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#updateConfiguration(java.util.function.Function)\" rel=\"nofollow noreferrer\">LogManager.updateConfiguration(mapper)</a> method (<strong>java 9+</strong>) to override selected properties only. Note that this method can only override existing properties, but cannot add new ones (for that, a way more cumbersome <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#updateConfiguration(java.io.InputStream,java.util.function.Function)\" rel=\"nofollow noreferrer\">updateConfiguration(inputStream, mapper)</a> would need to be used).</li>\n</ul>\n<p>So in case of overriding the global root log-level, it's probably easiest to use <code>updateConfiguration(mapper)</code> somewhere at the beginning of your <code>main</code> method. <code>LogManager</code> uses <code>.level</code> property (level of the empty-string root logger) as a default for its child loggers not configured explicitly, so using the <code>java.util.logging.loglevel</code> system property from the OP, it would be like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\nif (cmdLineVal != null) {\n    LogManager.getLogManager().updateConfiguration(\n        (key) -&gt; (oldVal, newVal) -&gt;\n                key.equals(&quot;.level&quot;)\n                ? cmdLineVal : newVal\n    );\n}\n</code></pre>\n<p>Note that in case of the default logging config, the above is not sufficient for any <code>FINE</code> (or lower) log entries to be output on the console, as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/ConsoleHandler.html\" rel=\"nofollow noreferrer\">ConsoleHandler</a> by default outputs <code>INFO</code> and higher. To change this, you need to override also <code>java.util.logging.ConsoleHandler.level</code> logging config property. If you want to use the same system property for this again, then you need to modify the argument of <code>updateConfiguration</code> like the below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\nif (cmdLineVal != null) {\n    LogManager.getLogManager().updateConfiguration(\n        (key) -&gt; (oldVal, newVal) -&gt;\n                key.equals(&quot;.level&quot;)\n                        || key.equals(&quot;java.util.logging.ConsoleHandler.level&quot;)\n                ? cmdLineVal : newVal\n    );\n}\n</code></pre>\n<p>If you can't change the <code>main</code> method, then you can define the previously mentioned <code>java.util.logging.config.class</code> property to point to your class like this: <code>-Djava.util.logging.config.class=com.example.MyJulConfig</code>. This will delegate the task of logging configuration to the constructor of this class. In such constructor you can first read the config from a file the normal way (using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#readConfiguration()\" rel=\"nofollow noreferrer\">readConfiguration()</a> method) and then use the code from the previous snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public MyJulConfig() throws IOException {\n    System.clearProperty(&quot;java.util.logging.config.class&quot;);\n    LogManager.getLogManager().readConfiguration();\n\n    // the same code as in the previous snippet:\n    final var cmdLineVal = System.getProperty(&quot;java.util.logging.loglevel&quot;);\n    if (cmdLineVal != null) {\n        LogManager.getLogManager().updateConfiguration(\n            (key) -&gt; (oldVal, newVal) -&gt;\n                    key.equals(&quot;.level&quot;)\n                            || key.equals(&quot;java.util.logging.ConsoleHandler.level&quot;)\n                    ? cmdLineVal : newVal\n        );\n    }\n}\n</code></pre>\n<p>As a final note, I've recently written a simple helper function to make any ad-hoc command-line changes to logging config easier: <a href=\"https://github.com/morgwai/jul-utils/blob/v2.1/src/main/java/pl/morgwai/base/jul/JulConfigurator.java#L23-L61\" rel=\"nofollow noreferrer\">overrideLogLevelsWithSystemProperties</a> (also supports adding new logging properties).<br />\nAs mentioned by @TWiStErRob in <a href=\"https://stackoverflow.com/questions/2160471/is-there-a-command-line-option-for-setting-the-default-log-level-in-java/67930414#comment122392302_67930414\">the comment</a>, you don't even need to include the containing <code>jul-utils</code> as a dependency of your project: just add it to your classpath (available in <a href=\"https://search.maven.org/artifact/pl.morgwai.base/jul-utils/\" rel=\"nofollow noreferrer\">central</a>) when starting your app and define your desired system properties:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -cp /path/to/jul-utils.jar:${CLASSPATH} \\\n-Djava.util.logging.config.class=pl.morgwai.base.jul.JulConfigurator \\\n-Djava.util.logging.overrideLevel=,java.util.logging.ConsoleHandler,com.third.party.talkative.lib \\\n-D.level=FINE \\\n-Djava.util.logging.ConsoleHandler.level=FINE \\\n-Dcom.third.party.talkative.lib.level=SEVERE \\\n${MY_JAVA_APP_MAINCLASS_AND_ARGUMENTS}\n</code></pre>\n<h2>outline for java-8 and earlier:</h2>\n<ol>\n<li>parse the config file manually into a <code>Properties</code> using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)\" rel=\"nofollow noreferrer\">load(is)</a> (see <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.logging/share/classes/java/util/logging/LogManager.java#L1382\" rel=\"nofollow noreferrer\">here</a> how <code>LogManager</code> determines which file to read)</li>\n<li>replace values for <code>.level</code> and <code>java.util.logging.ConsoleHandler.level</code> using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html#setProperty(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">setProperty(key, value)</a> with the value obtained from the system property</li>\n<li>store the updated properties into a <code>ByteArrayOutputStream</code> using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html#store(java.io.Writer,java.lang.String)\" rel=\"nofollow noreferrer\">store(os, null)</a></li>\n<li>wrap <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/ByteArrayOutputStream.html#toByteArray()\" rel=\"nofollow noreferrer\">the underlying data</a> with a <code>ByteArrayInputStream</code> (see also <a href=\"https://stackoverflow.com/questions/5778658/how-do-i-convert-an-outputstream-to-an-inputstream\">this discussion</a>) and pass it to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html#readConfiguration(java.io.InputStream)\" rel=\"nofollow noreferrer\">readConfiguration(is)</a></li>\n</ol>\n<p>as before, you can do it either in your <code>main</code> method or in a constructor of a class pointed by <code>java.util.logging.config.class</code> system property.</p>\n"}],"owner":{"account_id":25148,"reputation":18628,"user_id":64421,"accept_rate":86,"display_name":"Ben McCann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16255,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":2160652,"answer_count":3,"score":20,"last_activity_date":1697144605,"creation_date":1264749370,"question_id":2160471,"body_markdown":"Can I do something along the lines of:\r\n\r\n    -Djava.util.logging.loglevel=FINE\r\n\r\n\r\nObviously that doesn&#39;t work, but you get the idea.  Is there anything like that?  Or am I forced to create a properties file?","title":"Is there a command line option for setting the default log level in Java","body":"<p>Can I do something along the lines of:</p>\n\n<pre><code>-Djava.util.logging.loglevel=FINE\n</code></pre>\n\n<p>Obviously that doesn't work, but you get the idea.  Is there anything like that?  Or am I forced to create a properties file?</p>\n"},{"tags":["java","rabbitmq","amqp"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697143894,"creation_date":1512659650,"answer_id":47698156,"question_id":47651709,"body_markdown":"Diagnosing TLS errors such as these with limited information is very difficult. You do not provide the following information which would be helpful:\r\n\r\n* RabbitMQ version\r\n* Erlang version\r\n* Operating system platform and version for both RabbitMQ server and client\r\n* Java version and Java client version\r\n\r\nThis line of code hints that you are running your client application on Windows:\r\n\r\n\r\n    KeyStore.getInstance(&quot;Windows-MY&quot;)\r\n\r\n\r\nIf you can provide the above information as well as a complete set of TLS/SSL certificates to reproduce the problem that would be ideal.\r\n\r\nThe RabbitMQ documentation also includes a [comprehensive TLS/SSL troubleshooting guide](http://www.rabbitmq.com/troubleshooting-ssl.html).","title":"Why my rabbitMQ client can&#39;t connect?","body":"<p>Diagnosing TLS errors such as these with limited information is very difficult. You do not provide the following information which would be helpful:</p>\n<ul>\n<li>RabbitMQ version</li>\n<li>Erlang version</li>\n<li>Operating system platform and version for both RabbitMQ server and client</li>\n<li>Java version and Java client version</li>\n</ul>\n<p>This line of code hints that you are running your client application on Windows:</p>\n<pre><code>KeyStore.getInstance(&quot;Windows-MY&quot;)\n</code></pre>\n<p>If you can provide the above information as well as a complete set of TLS/SSL certificates to reproduce the problem that would be ideal.</p>\n<p>The RabbitMQ documentation also includes a <a href=\"http://www.rabbitmq.com/troubleshooting-ssl.html\" rel=\"nofollow noreferrer\">comprehensive TLS/SSL troubleshooting guide</a>.</p>\n"}],"owner":{"account_id":9197821,"reputation":21,"user_id":9055671,"display_name":"Atevir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":910,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697143894,"creation_date":1512470824,"question_id":47651709,"body_markdown":"I&#39;m trying to create RabbitMQ connection with server using TLSv1.2, but I have java.net.SocketException: Connection reset or javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure (It looks like this exceptions are changing randomly).\r\n\r\nIt worked when I had TLSv1.0, but when server changed protocol it stopped working (even if I&#39;m using the same cipher, port etc).\r\n\r\nIs it possible to get this exceptions if vhost/other connection parameter is incorrect?\r\n\r\nBefore connection, I&#39;m setting:\r\n\r\n    System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\r\nHere is my configuration:\r\n\r\n    public ConnectionFactory get() throws IOException, KeyStoreException, NoSuchAlgorithmException,\r\n\t\t\tCertificateException, UnrecoverableKeyException, KeyManagementException, URISyntaxException {\r\n\t\tfinal ConnectionFactory cf = new ConnectionFactory();\r\n\r\n\t\tfinal SSLContext sslContext = getSSLContext();\r\n\t\t\r\n\t\tcf.useSslProtocol(sslContext);\r\n\r\n\t\tfinal ConnectionSettings connectionSettings = getConnectionSettings(sslContext.getSocketFactory());\r\n\r\n\t\tcf.setHost(connectionSettings.getHost());\r\n\t\tcf.setPort(connectionSettings.getPort());\r\n\t\tcf.setVirtualHost(connectionSettings.getVirtualHost());\r\n        //using cf.setUsername and cs.setPassword doesn&#39;t work\r\n\r\n\t\tcf.setSaslConfig(DefaultSaslConfig.EXTERNAL);\r\n\t\tcf.setAutomaticRecoveryEnabled(false);\r\n\t\tcf.setTopologyRecoveryEnabled(false);\r\n\r\n\t\treturn cf;\r\n\t}\r\n\r\nAnd getSSLContext() method:\r\n\r\n    private SSLContext getSSLContext(){\r\n        //SECURE_PROTOCOLE = &quot;TLSv1.2&quot;\r\n\t\tfinal SSLContext sslContext = SSLContext.getInstance(SECURE_PROTOCOLE);\r\n\r\n\t\tKeyStore keystore = KeyStore.getInstance(&quot;Windows-MY&quot;);\r\n\t\tkeystore.load(null, null); \r\n\r\n\t\tfinal KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n\t\tkmf.init(keystore, null);\r\n\r\n\r\n\t\tTrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\r\n\r\n\t\t\tpublic X509Certificate[] getAcceptedIssuers() {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void checkClientTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\r\n\t\t\t\t// Not implemented\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void checkServerTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\r\n\t\t\t\t// Not implemented\r\n\t\t\t}\r\n\t\t} };\r\n\r\n\t\tsslContext.init(keyManagerWrapper(kmf),\r\n\t\t\t\ttrustAllCerts, new SecureRandom());\r\n\t    return sslContext;   \r\n        }\r\n\r\nException occurs when I&#39;m trying to create new connection:\r\n\r\n    this.connectionFactory = new ConnectionFactoryProvider().get();\r\n\tthis.connection = this.connectionFactory.newConnection();\r\n\r\n","title":"Why my rabbitMQ client can&#39;t connect?","body":"<p>I'm trying to create RabbitMQ connection with server using TLSv1.2, but I have java.net.SocketException: Connection reset or javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure (It looks like this exceptions are changing randomly).</p>\n\n<p>It worked when I had TLSv1.0, but when server changed protocol it stopped working (even if I'm using the same cipher, port etc).</p>\n\n<p>Is it possible to get this exceptions if vhost/other connection parameter is incorrect?</p>\n\n<p>Before connection, I'm setting:</p>\n\n<pre><code>System.setProperty(\"https.protocols\", \"TLSv1.2\");\n</code></pre>\n\n<p>Here is my configuration:</p>\n\n<pre><code>public ConnectionFactory get() throws IOException, KeyStoreException, NoSuchAlgorithmException,\n        CertificateException, UnrecoverableKeyException, KeyManagementException, URISyntaxException {\n    final ConnectionFactory cf = new ConnectionFactory();\n\n    final SSLContext sslContext = getSSLContext();\n\n    cf.useSslProtocol(sslContext);\n\n    final ConnectionSettings connectionSettings = getConnectionSettings(sslContext.getSocketFactory());\n\n    cf.setHost(connectionSettings.getHost());\n    cf.setPort(connectionSettings.getPort());\n    cf.setVirtualHost(connectionSettings.getVirtualHost());\n    //using cf.setUsername and cs.setPassword doesn't work\n\n    cf.setSaslConfig(DefaultSaslConfig.EXTERNAL);\n    cf.setAutomaticRecoveryEnabled(false);\n    cf.setTopologyRecoveryEnabled(false);\n\n    return cf;\n}\n</code></pre>\n\n<p>And getSSLContext() method:</p>\n\n<pre><code>private SSLContext getSSLContext(){\n    //SECURE_PROTOCOLE = \"TLSv1.2\"\n    final SSLContext sslContext = SSLContext.getInstance(SECURE_PROTOCOLE);\n\n    KeyStore keystore = KeyStore.getInstance(\"Windows-MY\");\n    keystore.load(null, null); \n\n    final KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n    kmf.init(keystore, null);\n\n\n    TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\n\n        public X509Certificate[] getAcceptedIssuers() {\n            return null;\n        }\n\n        @Override\n        public void checkClientTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\n            // Not implemented\n        }\n\n        @Override\n        public void checkServerTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\n            // Not implemented\n        }\n    } };\n\n    sslContext.init(keyManagerWrapper(kmf),\n            trustAllCerts, new SecureRandom());\n    return sslContext;   \n    }\n</code></pre>\n\n<p>Exception occurs when I'm trying to create new connection:</p>\n\n<pre><code>this.connectionFactory = new ConnectionFactoryProvider().get();\nthis.connection = this.connectionFactory.newConnection();\n</code></pre>\n"},{"tags":["java","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697143590,"creation_date":1521818636,"answer_id":49453138,"question_id":49403314,"body_markdown":"1. Yes\r\n\r\n2. Yes\r\n\r\n3. No, but your benchmarks and monitoring will definitively answer it. You do have benchmarks and monitoring, right?\r\n\r\n4. It isn&#39;t worth the hassle. The Spring AMQP library does have a node affinity feature if you really think it&#39;s worth it.","title":"How to create a connection to the node where queue is created in, RabbitMQ","body":"<ol>\n<li><p>Yes</p>\n</li>\n<li><p>Yes</p>\n</li>\n<li><p>No, but your benchmarks and monitoring will definitively answer it. You do have benchmarks and monitoring, right?</p>\n</li>\n<li><p>It isn't worth the hassle. The Spring AMQP library does have a node affinity feature if you really think it's worth it.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697143590,"creation_date":1521626651,"question_id":49403314,"body_markdown":"We will have a a clusters, say 3 nodes, now we will pass three addresses to create a connection:\r\n\r\n    factory.newConnection(consumerExecutor, addresses, clinetProviedName);// addresses has three elements\r\n\r\nQuestions:\r\n\r\n\r\n\r\n   \r\n    1 .Since a queue is created in only one node which is master say nodeA. So if I create a connection to nodeB, does RabbitMQ need to redirect every publish requests to the nodeA from nodeB? \r\n\r\n    2. Will the same things happen to consumers?\r\n\r\n    3. Does Redirect makes a big difference on performance when qps is high? We need tens of thousands qps to support our app.\r\n\r\n    4. If #1 is right, how can I connect to the exactly right node to reduce redirect.\r\n\r\n\r\n\r\n\r\n\r\n ","title":"How to create a connection to the node where queue is created in, RabbitMQ","body":"<p>We will have a a clusters, say 3 nodes, now we will pass three addresses to create a connection:</p>\n\n<pre><code>factory.newConnection(consumerExecutor, addresses, clinetProviedName);// addresses has three elements\n</code></pre>\n\n<p>Questions:</p>\n\n<pre><code>1 .Since a queue is created in only one node which is master say nodeA. So if I create a connection to nodeB, does RabbitMQ need to redirect every publish requests to the nodeA from nodeB? \n\n2. Will the same things happen to consumers?\n\n3. Does Redirect makes a big difference on performance when qps is high? We need tens of thousands qps to support our app.\n\n4. If #1 is right, how can I connect to the exactly right node to reduce redirect.\n</code></pre>\n"},{"tags":["java","rabbitmq"],"answers":[{"comments":[{"owner":{"account_id":8532978,"reputation":834,"user_id":7260220,"accept_rate":25,"display_name":"nathanfranke"},"score":0,"creation_date":1607766128,"post_id":50676963,"comment_id":115379588,"body_markdown":"This is JavaScript","body":"This is JavaScript"}],"tags":[],"owner":{"account_id":12434787,"reputation":708,"user_id":9055645,"accept_rate":100,"display_name":"Saad Ahmed"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1528103130,"creation_date":1528103130,"answer_id":50676963,"question_id":50676880,"body_markdown":"**Try this:**\r\n\r\n    let connection = null;\r\n        \r\n        connection = await amqp.connect(`amqp://${config.username}:${config.password}@${config.host}:${config.port}`);\r\n        \r\n        connection.close();","title":"Shutdown connection to RabbitMQ","body":"<p><strong>Try this:</strong></p>\n\n<pre><code>let connection = null;\n\n    connection = await amqp.connect(`amqp://${config.username}:${config.password}@${config.host}:${config.port}`);\n\n    connection.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697143210,"creation_date":1528206861,"answer_id":50701894,"question_id":50676880,"body_markdown":"When you say &quot;it doesn&#39;t stop&quot; have you confirmed that the `stop()` method is actually called? Is your code hanging on one of the `close()` methods?\r\n\r\nThe `channel` instance will have a [`basicCancel` method](https://www.rabbitmq.com/api-guide.html) that you could call to cancel the current consumer before closing the channel and connection. To be honest, closing the channel will cancel your consumer so I doubt this is the root cause of the issue.","title":"Shutdown connection to RabbitMQ","body":"<p>When you say &quot;it doesn't stop&quot; have you confirmed that the <code>stop()</code> method is actually called? Is your code hanging on one of the <code>close()</code> methods?</p>\n<p>The <code>channel</code> instance will have a <a href=\"https://www.rabbitmq.com/api-guide.html\" rel=\"nofollow noreferrer\"><code>basicCancel</code> method</a> that you could call to cancel the current consumer before closing the channel and connection. To be honest, closing the channel will cancel your consumer so I doubt this is the root cause of the issue.</p>\n"}],"owner":{"account_id":3828224,"reputation":6224,"user_id":3174559,"accept_rate":96,"display_name":"Jens Borrisholt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50701894,"answer_count":2,"score":0,"last_activity_date":1697143210,"creation_date":1528102855,"question_id":50676880,"body_markdown":"I have created a simple Console Application listening to messages on Rabbit MQ. Works fine. No problems there. But how do I close the connection. I&#39;ve been googleing arround a lot, but I didn&#39;t find any clear answers. The closest I got to an answer is this SO question: https://stackoverflow.com/questions/6699669/what-is-the-best-way-to-safely-end-a-java-application-with-running-rabbitmq-cons, but the answer omits the most important part: The code! \r\n\r\nHere is my code:\r\n\r\n    package com.company;\r\n    \r\n    import com.rabbitmq.client.*;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.TimeoutException;\r\n    \r\n    interface ObjectRecievedListener {\r\n        void objectRecieved(Object obj);\r\n    }\r\n    \r\n    public class RabbitMQReceiver extends RabbitMQBase\r\n    {\r\n    \r\n        ArrayList&lt;DefaultConsumer&gt; consumers = new ArrayList&lt;&gt;();\r\n    \r\n        private List&lt;ObjectRecievedListener&gt; listeners = new ArrayList&lt;&gt;();\r\n        private final Connection connection;\r\n        private final Channel channel;\r\n    \r\n        public RabbitMQReceiver(RabbitMQProperties properties) throws IOException, TimeoutException {\r\n            ConnectionFactory factory = new ConnectionFactory();\r\n            factory.setHost(properties.getHost());\r\n            factory.setPassword(properties.getPassword());\r\n            factory.setUsername(properties.getLogin());\r\n    \r\n            connection = factory.newConnection();\r\n            channel = connection.createChannel();\r\n            channel.queueDeclare(properties.getInboundQueueName(), true, false, false, null);\r\n            channel.basicQos(1);\r\n    \r\n            final Consumer consumer = new DefaultConsumer(channel) {\r\n                @Override\r\n                public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\r\n                    String message = new String(body, &quot;UTF-8&quot;);\r\n    \r\n    \r\n                    try {\r\n                        doWork(message);\r\n                    } finally {\r\n                        channel.basicAck(envelope.getDeliveryTag(), false);\r\n                    }\r\n                }\r\n            };\r\n    \r\n            consumers.add((DefaultConsumer) consumer);\r\n    \r\n            boolean autoAck = false;\r\n            channel.basicConsume(properties.getInboundQueueName(), autoAck, consumer);\r\n        }\r\n    \r\n        public void addListener(ObjectRecievedListener listener) {\r\n            listeners.add(listener);\r\n        }\r\n    \r\n        public void stop() {\r\n            try {\r\n                channel.close();\r\n                connection.close();\r\n            } catch (Exception e) {\r\n            }\r\n        }\r\n    \r\n        private void doWork(String message) {\r\n            Object obj = getObjectFromXML(message);\r\n    \r\n            for (ObjectRecievedListener l : listeners)\r\n                l.objectRecieved(obj);\r\n            stop();\r\n        }\r\n    }\r\n\r\nBut it doesn&#39;t stop just because I called `stop()`\r\n\r\nSo in short: How do I close the connection to Rabbit MQ?","title":"Shutdown connection to RabbitMQ","body":"<p>I have created a simple Console Application listening to messages on Rabbit MQ. Works fine. No problems there. But how do I close the connection. I've been googleing arround a lot, but I didn't find any clear answers. The closest I got to an answer is this SO question: <a href=\"https://stackoverflow.com/questions/6699669/what-is-the-best-way-to-safely-end-a-java-application-with-running-rabbitmq-cons\">What is the best way to safely end a java application with running RabbitMQ consumers</a>, but the answer omits the most important part: The code! </p>\n\n<p>Here is my code:</p>\n\n<pre><code>package com.company;\n\nimport com.rabbitmq.client.*;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.TimeoutException;\n\ninterface ObjectRecievedListener {\n    void objectRecieved(Object obj);\n}\n\npublic class RabbitMQReceiver extends RabbitMQBase\n{\n\n    ArrayList&lt;DefaultConsumer&gt; consumers = new ArrayList&lt;&gt;();\n\n    private List&lt;ObjectRecievedListener&gt; listeners = new ArrayList&lt;&gt;();\n    private final Connection connection;\n    private final Channel channel;\n\n    public RabbitMQReceiver(RabbitMQProperties properties) throws IOException, TimeoutException {\n        ConnectionFactory factory = new ConnectionFactory();\n        factory.setHost(properties.getHost());\n        factory.setPassword(properties.getPassword());\n        factory.setUsername(properties.getLogin());\n\n        connection = factory.newConnection();\n        channel = connection.createChannel();\n        channel.queueDeclare(properties.getInboundQueueName(), true, false, false, null);\n        channel.basicQos(1);\n\n        final Consumer consumer = new DefaultConsumer(channel) {\n            @Override\n            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\n                String message = new String(body, \"UTF-8\");\n\n\n                try {\n                    doWork(message);\n                } finally {\n                    channel.basicAck(envelope.getDeliveryTag(), false);\n                }\n            }\n        };\n\n        consumers.add((DefaultConsumer) consumer);\n\n        boolean autoAck = false;\n        channel.basicConsume(properties.getInboundQueueName(), autoAck, consumer);\n    }\n\n    public void addListener(ObjectRecievedListener listener) {\n        listeners.add(listener);\n    }\n\n    public void stop() {\n        try {\n            channel.close();\n            connection.close();\n        } catch (Exception e) {\n        }\n    }\n\n    private void doWork(String message) {\n        Object obj = getObjectFromXML(message);\n\n        for (ObjectRecievedListener l : listeners)\n            l.objectRecieved(obj);\n        stop();\n    }\n}\n</code></pre>\n\n<p>But it doesn't stop just because I called <code>stop()</code></p>\n\n<p>So in short: How do I close the connection to Rabbit MQ?</p>\n"},{"tags":["java","rabbitmq","spring-framework-beans"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697143035,"creation_date":1528901964,"answer_id":50840427,"question_id":50830740,"body_markdown":"This is not a feature of RabbitMQ nor the Spring framework. You will have to implement failover yourself in your consumers. One option would be for the &quot;master&quot; consumer to publish heartbeat messages to a well-known queue that the failover consumer could read. If the failover consumer does not receive a certain number of heartbeat messages from this queue within a certain time period, it can do additional checks to see if the master consumer is alive, and, if not, take over that role.\r\n\r\nThis is just one suggestion - there are many ways to implement this.","title":"Rabbitmq allow only one concurrent consumer","body":"<p>This is not a feature of RabbitMQ nor the Spring framework. You will have to implement failover yourself in your consumers. One option would be for the &quot;master&quot; consumer to publish heartbeat messages to a well-known queue that the failover consumer could read. If the failover consumer does not receive a certain number of heartbeat messages from this queue within a certain time period, it can do additional checks to see if the master consumer is alive, and, if not, take over that role.</p>\n<p>This is just one suggestion - there are many ways to implement this.</p>\n"}],"owner":{"account_id":3500893,"reputation":266,"user_id":2927683,"accept_rate":50,"display_name":"hedha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697143035,"creation_date":1528872611,"question_id":50830740,"body_markdown":"Is there anyway to have a standby consumer that is only used if the primary consumer goes down?\r\n\r\nIf i have two instance of my same application and that application has listener which listen to &quot;queue1&quot; then the current behaviour is if one consumer is busy then another consumer take the data and read it. But i don&#39;t want that.\r\n\r\nI need only consumer1 can read the queue and consumer2 is in idle state till consumer1 goes down.\r\n\r\nI have tried exclusive also but that it doesn&#39;t fulfil my requirements.\r\n\r\nCan somebody help me on this. ","title":"Rabbitmq allow only one concurrent consumer","body":"<p>Is there anyway to have a standby consumer that is only used if the primary consumer goes down?</p>\n\n<p>If i have two instance of my same application and that application has listener which listen to \"queue1\" then the current behaviour is if one consumer is busy then another consumer take the data and read it. But i don't want that.</p>\n\n<p>I need only consumer1 can read the queue and consumer2 is in idle state till consumer1 goes down.</p>\n\n<p>I have tried exclusive also but that it doesn't fulfil my requirements.</p>\n\n<p>Can somebody help me on this. </p>\n"},{"tags":["java","xml","jaxb"],"answers":[{"tags":[],"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697143002,"creation_date":1697143002,"answer_id":77283701,"question_id":77271597,"body_markdown":"I&#39;m afraid JAXB cannot do what you want it to do (at least not in a straight forward way). An @XmlRootElement or @XmlElement can have one namespace only (or none), and it is not possible to map &quot;the same&quot; elements from two or more namespaces to one and the same Java class. \r\n\r\nXML namespaces maps fairly well to Java packages, so your best bet is to have (almost) duplicate classes int two different packages, one for the &quot;01p00&quot; namespace and one for the &quot;010p01&quot; namespace.\r\n\r\nNothing prohibits the &quot;interesting&quot; classes to implement common interfaces, which would perhaps be one way to solve backwards compatibility in a convenient manner.\r\n\r\nIt might be possible to use XmlAdapters to map Root(1) and Root(2) classes to the same common Root class, so that unmarshalling works, but I cannot see how marshalling would work (turning Java classes into XML). ","title":"JAXB different namespaces for same element unmarshall","body":"<p>I'm afraid JAXB cannot do what you want it to do (at least not in a straight forward way). An @XmlRootElement or @XmlElement can have one namespace only (or none), and it is not possible to map &quot;the same&quot; elements from two or more namespaces to one and the same Java class.</p>\n<p>XML namespaces maps fairly well to Java packages, so your best bet is to have (almost) duplicate classes int two different packages, one for the &quot;01p00&quot; namespace and one for the &quot;010p01&quot; namespace.</p>\n<p>Nothing prohibits the &quot;interesting&quot; classes to implement common interfaces, which would perhaps be one way to solve backwards compatibility in a convenient manner.</p>\n<p>It might be possible to use XmlAdapters to map Root(1) and Root(2) classes to the same common Root class, so that unmarshalling works, but I cannot see how marshalling would work (turning Java classes into XML).</p>\n"}],"owner":{"account_id":3662711,"reputation":495,"user_id":3052078,"accept_rate":72,"display_name":"user3052078"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697143002,"creation_date":1697014722,"question_id":77271597,"body_markdown":"I have the following example of schema xml\r\n\r\n```xml\r\n&lt;a:tag xmlns:a=&quot;http://www.something.com/schema/01p00&quot; ... &gt;\r\n    &lt;a:root ... &gt;\r\n```\r\n\r\nI&#39;ve created the stub for this schema\r\n\r\n```java\r\n@XmlRootElement(name = &quot;Root&quot;, namespace = &quot;http://www.something.com/schema/01p00&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Root{\r\n...\r\n}\r\n```\r\n\r\nAnd know the schema has been updated, but the elements that are interesting me are the same. Now I have schema 2\r\n\r\n```xml\r\n&lt;b:tag xmlns:b=&quot;http://www.something.com/schema/01p01&quot; ... &gt;\r\n    &lt;b:root ... &gt;\r\n```\r\n\r\nIn order to work with new schema, I have to change classes to:\r\n\r\n```java\r\n@XmlRootElement(name = &quot;Root&quot;, namespace = &quot;http://www.something.com/schema/01p01&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Root{\r\n...\r\n}\r\n```\r\n\r\nBecause I need to be backwards compatible, I want to have only one `Root` class that should be capable to work with both namespaces.\r\n\r\nI&#39;ve tried to create `package-info.java` in order to use the right namespace for each prefix, but this is not working as expected.\r\n\r\n```java\r\n@javax.xml.bind.annotation.XmlSchema(\r\nnamespace = &quot;http://www.something.com/schema/01p00&quot;,\r\nxmlns = {\r\n    @javax.xml.bind.annotation.XmlNs(prefix = &quot;a&quot;, namespaceURI = &quot;http://www.something.com/schema/01p00&quot;),\r\n    @javax.xml.bind.annotation.XmlNs(prefix = &quot;b&quot;, namespaceURI = &quot;http://www.something.com/schema/01p01&quot;)\r\n},\r\nelementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED,\r\nattributeFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED\r\n)\r\npackage schema.package;\r\n```\r\n\r\nHow can I use the same `Root` class with these two different namespaces without duplicating all the classes?","title":"JAXB different namespaces for same element unmarshall","body":"<p>I have the following example of schema xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;a:tag xmlns:a=&quot;http://www.something.com/schema/01p00&quot; ... &gt;\n    &lt;a:root ... &gt;\n</code></pre>\n<p>I've created the stub for this schema</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name = &quot;Root&quot;, namespace = &quot;http://www.something.com/schema/01p00&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Root{\n...\n}\n</code></pre>\n<p>And know the schema has been updated, but the elements that are interesting me are the same. Now I have schema 2</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;b:tag xmlns:b=&quot;http://www.something.com/schema/01p01&quot; ... &gt;\n    &lt;b:root ... &gt;\n</code></pre>\n<p>In order to work with new schema, I have to change classes to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name = &quot;Root&quot;, namespace = &quot;http://www.something.com/schema/01p01&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Root{\n...\n}\n</code></pre>\n<p>Because I need to be backwards compatible, I want to have only one <code>Root</code> class that should be capable to work with both namespaces.</p>\n<p>I've tried to create <code>package-info.java</code> in order to use the right namespace for each prefix, but this is not working as expected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@javax.xml.bind.annotation.XmlSchema(\nnamespace = &quot;http://www.something.com/schema/01p00&quot;,\nxmlns = {\n    @javax.xml.bind.annotation.XmlNs(prefix = &quot;a&quot;, namespaceURI = &quot;http://www.something.com/schema/01p00&quot;),\n    @javax.xml.bind.annotation.XmlNs(prefix = &quot;b&quot;, namespaceURI = &quot;http://www.something.com/schema/01p01&quot;)\n},\nelementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED,\nattributeFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED\n)\npackage schema.package;\n</code></pre>\n<p>How can I use the same <code>Root</code> class with these two different namespaces without duplicating all the classes?</p>\n"},{"tags":["java","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697142812,"creation_date":1529673807,"answer_id":50988966,"question_id":50967488,"body_markdown":"The documentation is correct, you must cancel a consumer from its own channel/connection.\r\n\r\nOther options include making your consumers aware of &quot;cancellation messages&quot; that will cause them to stop themselves, or using the API to [close an entire connection](https://cdn.rawgit.com/rabbitmq/rabbitmq-management/v3.7.6/priv/www/api/index.html), which will close all channels associated with it.","title":"Can you cancel a rabbitmq consumer remotely?","body":"<p>The documentation is correct, you must cancel a consumer from its own channel/connection.</p>\n<p>Other options include making your consumers aware of &quot;cancellation messages&quot; that will cause them to stop themselves, or using the API to <a href=\"https://cdn.rawgit.com/rabbitmq/rabbitmq-management/v3.7.6/priv/www/api/index.html\" rel=\"nofollow noreferrer\">close an entire connection</a>, which will close all channels associated with it.</p>\n"}],"owner":{"account_id":4260366,"reputation":877,"user_id":3484881,"display_name":"tporeba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4310,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50988966,"answer_count":1,"score":3,"last_activity_date":1697142812,"creation_date":1529580571,"question_id":50967488,"body_markdown":"I am reading the documentation about `Channel.basicCancel` operation in rabbitmq https://www.rabbitmq.com/consumer-cancel.html . The docs says that one of possible cancellation case is when consumer sends cancel signal on the same channel on which it is listening. \r\n\r\nIs this the only possibility? Can you cancel remote consumer running on different channel/connection/process?\r\n\r\nI am trying to send the cancel request from another another process. When I do it ends with an exception `java.io.IOException: Unknown consumerTag` just like such operation was restricted to cancelling local consumers (on own channel or connection).\r\n\r\n**UPDATE:**\r\n\r\nI noticed that this &quot;Unknown consumerTag&quot; exception is a result of initial validation inside com.rabbitmq.client.impl.ChannelN.basicCancel(String):\r\n\r\n     Consumer originalConsumer = (Consumer)this._consumers.get(consumerTag);\r\n     if (originalConsumer == null) {\r\n       throw new IOException(&quot;Unknown consumerTag&quot;);\r\n     }\r\n     ...\r\n\r\nBut still there might be some rpc call which does the trick...","title":"Can you cancel a rabbitmq consumer remotely?","body":"<p>I am reading the documentation about <code>Channel.basicCancel</code> operation in rabbitmq <a href=\"https://www.rabbitmq.com/consumer-cancel.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/consumer-cancel.html</a> . The docs says that one of possible cancellation case is when consumer sends cancel signal on the same channel on which it is listening. </p>\n\n<p>Is this the only possibility? Can you cancel remote consumer running on different channel/connection/process?</p>\n\n<p>I am trying to send the cancel request from another another process. When I do it ends with an exception <code>java.io.IOException: Unknown consumerTag</code> just like such operation was restricted to cancelling local consumers (on own channel or connection).</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I noticed that this \"Unknown consumerTag\" exception is a result of initial validation inside com.rabbitmq.client.impl.ChannelN.basicCancel(String):</p>\n\n<pre><code> Consumer originalConsumer = (Consumer)this._consumers.get(consumerTag);\n if (originalConsumer == null) {\n   throw new IOException(\"Unknown consumerTag\");\n }\n ...\n</code></pre>\n\n<p>But still there might be some rpc call which does the trick...</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1697108258,"post_id":77279307,"comment_id":136239501,"body_markdown":"There are quite a few concurrency issues in this code. I would guess that is where your errors are coming from (the `UnsupportedOperationException` _might_ be from something else). Also, your exception reporting is not ideal. Please see [this answer](https://stackoverflow.com/a/61928171/6395627) and [What is a stack trace, and how can I use it to debug my application errors?](https://stackoverflow.com/q/3988788/6395627), then [edit] your question to add the stack traces.","body":"There are quite a few concurrency issues in this code. I would guess that is where your errors are coming from (the <code>UnsupportedOperationException</code> <i>might</i> be from something else). Also, your exception reporting is not ideal. Please see <a href=\"https://stackoverflow.com/a/61928171/6395627\">this answer</a> and <a href=\"https://stackoverflow.com/q/3988788/6395627\">What is a stack trace, and how can I use it to debug my application errors?</a>, then <a href=\"https://stackoverflow.com/posts/77279307/edit\">edit</a> your question to add the stack traces."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1697108830,"post_id":77279307,"comment_id":136239596,"body_markdown":"Those concurrency issues include: (1) Using the `counter` field from multiple threads; (2) Accessing UI objects from a thread other than the _JavaFX Application Thread_; (3) If you run both generators simultaneously, you have two threads interacting with the `ObservableList`, which is not a thread-safe implementation in this case.","body":"Those concurrency issues include: (1) Using the <code>counter</code> field from multiple threads; (2) Accessing UI objects from a thread other than the <i>JavaFX Application Thread</i>; (3) If you run both generators simultaneously, you have two threads interacting with the <code>ObservableList</code>, which is not a thread-safe implementation in this case."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1697110911,"post_id":77279307,"comment_id":136239978,"body_markdown":"Example updated with printStackTrace() and counter removed. Errors replaces with the stacktrace.","body":"Example updated with printStackTrace() and counter removed. Errors replaces with the stacktrace."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1697115739,"post_id":77279307,"comment_id":136240979,"body_markdown":"These are not performance issues, but threading issues. As stated in a previous comment, `ObservableList` is not designed to be used by multiple threads simultaneously. You can fix the problem in the example by replacing the threading code with JavaFX Animation code (e.g. a `Timeline`: see [this post](https://stackoverflow.com/a/60685975/2189127)). Whether or not that will work in your real application we cannot know.","body":"These are not performance issues, but threading issues. As stated in a previous comment, <code>ObservableList</code> is not designed to be used by multiple threads simultaneously. You can fix the problem in the example by replacing the threading code with JavaFX Animation code (e.g. a <code>Timeline</code>: see <a href=\"https://stackoverflow.com/a/60685975/2189127\">this post</a>). Whether or not that will work in your real application we cannot know."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1697123294,"post_id":77279307,"comment_id":136242912,"body_markdown":"I have updated the topic title and posted an answer (if this is not the right ting to do then please let me know).","body":"I have updated the topic title and posted an answer (if this is not the right ting to do then please let me know)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1697125100,"post_id":77279307,"comment_id":136243304,"body_markdown":"It&#39;s not really clear what you&#39;re trying to do overall here. Your [previous question](https://stackoverflow.com/questions/77266723/javafx-mapproperty-behave-like-an-array) said you wanted to have an array-like structure that was observable, so it could be used in the UI. But here you are not using the data in the UI, you are pushing it out to some hardware. It&#39;s not clear why you need to push it out so fast: data that is part of the UI really don&#39;t need to change more frequently that the UI is rendered (60 fps in JavaFX).","body":"It&#39;s not really clear what you&#39;re trying to do overall here. Your <a href=\"https://stackoverflow.com/questions/77266723/javafx-mapproperty-behave-like-an-array\">previous question</a> said you wanted to have an array-like structure that was observable, so it could be used in the UI. But here you are not using the data in the UI, you are pushing it out to some hardware. It&#39;s not clear why you need to push it out so fast: data that is part of the UI really don&#39;t need to change more frequently that the UI is rendered (60 fps in JavaFX)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1697125281,"post_id":77279307,"comment_id":136243350,"body_markdown":"Maybe there is a set of data that are changing much more rapidly than the data displayed in the UI, but then that should probably be a different set of data. Maybe there needs to be some synchronization between two sets of data here? But it just looks like this is structured wrong. I would start by writing code that controls the hardware, and *then* write UI code that interacts with it. Those should basically be as independent and as decoupled as possible.","body":"Maybe there is a set of data that are changing much more rapidly than the data displayed in the UI, but then that should probably be a different set of data. Maybe there needs to be some synchronization between two sets of data here? But it just looks like this is structured wrong. I would start by writing code that controls the hardware, and <i>then</i> write UI code that interacts with it. Those should basically be as independent and as decoupled as possible."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1697125955,"post_id":77279307,"comment_id":136243472,"body_markdown":"&quot;Maybe there needs to be some synchronization between two sets of data here?&quot; Yes, that is also my &quot;latest&quot; thought. And yes, the hardware needs the rapid updates, not the GUI, so you are right, they should be separate. What I initial wanted was to push the data fast to the hardware, and in the GUI show (when data was being changed) which data was being pushed.","body":"&quot;Maybe there needs to be some synchronization between two sets of data here?&quot; Yes, that is also my &quot;latest&quot; thought. And yes, the hardware needs the rapid updates, not the GUI, so you are right, they should be separate. What I initial wanted was to push the data fast to the hardware, and in the GUI show (when data was being changed) which data was being pushed."}],"answers":[{"tags":[],"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697142438,"creation_date":1697122850,"answer_id":77281743,"question_id":77279307,"body_markdown":"Based on above comments I have come up with this to fix the issue with multiple threads using the ObservableList. Below is based on the TimeLine for updating the ObservableList instead of the ScheduledExecutorService. \r\n\r\n    package org.example;\r\n    \r\n    import javafx.animation.Animation;\r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.Timeline;\r\n    import javafx.application.Application;\r\n    import javafx.collections.ListChangeListener;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.RadioButton;\r\n    import javafx.scene.control.ToggleGroup;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.Priority;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class App extends Application {\r\n    \r\n        RadioButton radioButtonUseArray;\r\n        RadioButton radioButtonUseObservableList;\r\n        Timeline timeline1;\r\n        Timeline timeline2;\r\n    \r\n        private final byte[] dmxDataArray = new byte[512];\r\n        dmxDataObservable dmxDataArrayObservable = new dmxDataObservable(dmxDataArray);\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            dmxDataArrayObservable.getBytes().addListener(new ListChangeListener() {\r\n                public void onChanged(ListChangeListener.Change change) {\r\n    \r\n                    System.out.println(&quot;Data updated&quot;);\r\n    \r\n                }\r\n    \r\n            });\r\n    \r\n            Button buttonStart = new Button(&quot;Start&quot;);\r\n            buttonStart.setPrefWidth(100);\r\n            buttonStart.setOnAction(event -&gt; {\r\n    \r\n                StartTimeline1();\r\n                StartTimeline2();\r\n    \r\n            });\r\n    \r\n            Button buttonStop = new Button(&quot;Stop&quot;);\r\n            buttonStop.setPrefWidth(100);\r\n            buttonStop.setOnAction(event -&gt; {\r\n    \r\n                StopTimeline1();\r\n                StopTimeLine2();\r\n    \r\n            });\r\n    \r\n            HBox hBoxWithStartStop1 = new HBox();\r\n            hBoxWithStartStop1.setAlignment(Pos.CENTER);\r\n            hBoxWithStartStop1.setSpacing(10);\r\n            HBox.setHgrow(hBoxWithStartStop1, Priority.ALWAYS);\r\n            hBoxWithStartStop1.getChildren().addAll(buttonStart, buttonStop);\r\n    \r\n            ToggleGroup toggleGroup = new ToggleGroup();\r\n    \r\n            radioButtonUseArray = new RadioButton(&quot;Use Array&quot;);\r\n            radioButtonUseArray.setToggleGroup(toggleGroup);\r\n            radioButtonUseArray.setSelected(true);\r\n    \r\n            radioButtonUseObservableList = new RadioButton(&quot;Use Observablelist&quot;);\r\n            radioButtonUseObservableList.setToggleGroup(toggleGroup);\r\n    \r\n            HBox hBoxWithRadioButtons = new HBox();\r\n            hBoxWithRadioButtons.setAlignment(Pos.CENTER);\r\n            hBoxWithRadioButtons.setSpacing(10);\r\n            HBox.setHgrow(hBoxWithRadioButtons, Priority.ALWAYS);\r\n            hBoxWithRadioButtons.getChildren().addAll(radioButtonUseArray, radioButtonUseObservableList);\r\n    \r\n            VBox vBoxWithAllOptions = new VBox();\r\n            vBoxWithAllOptions.setSpacing(10);\r\n            vBoxWithAllOptions.setAlignment(Pos.CENTER);\r\n            vBoxWithAllOptions.getChildren().addAll(hBoxWithStartStop1, hBoxWithRadioButtons);\r\n    \r\n            var scene = new Scene(new StackPane(vBoxWithAllOptions), 640, 480);\r\n            stage.setScene(scene);\r\n            stage.setOnCloseRequest(event -&gt; {\r\n    \r\n                StopTimeline1();\r\n                StopTimeLine2();\r\n    \r\n            });\r\n    \r\n            stage.show();\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            launch();\r\n    \r\n        }\r\n    \r\n        public void StartTimeline1() {\r\n    \r\n            timeline1 = new Timeline(new KeyFrame(Duration.millis(1), e -&gt; SendDataToDataContainers1()));\r\n            timeline1.setCycleCount(Animation.INDEFINITE); // loop forever\r\n            timeline1.play();\r\n    \r\n        }\r\n    \r\n        public void StopTimeline1() {\r\n    \r\n            if (timeline1 != null) {\r\n    \r\n                timeline1.stop();\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void StartTimeline2() {\r\n    \r\n            timeline2 = new Timeline(new KeyFrame(Duration.millis(1), e -&gt; SendDataToDataContainers2()));\r\n            timeline2.setCycleCount(Animation.INDEFINITE); // loop forever\r\n            timeline2.play();\r\n    \r\n        }\r\n    \r\n        public void StopTimeLine2() {\r\n    \r\n            if (timeline2 != null) {\r\n    \r\n                timeline2.stop();\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void SendDataToDataContainers1() {\r\n    \r\n            if (radioButtonUseArray.isSelected()) {\r\n    \r\n                dmxDataArray[1] = (byte) 1;\r\n                dmxDataArray[2] = (byte) 1;\r\n                dmxDataArray[3] = (byte) 1;\r\n                dmxDataArray[4] = (byte) 1;\r\n                System.out.println(&quot;Running using array 1&quot;);\r\n    \r\n            } else if (radioButtonUseObservableList.isSelected()) {\r\n    \r\n                try {\r\n    \r\n                    dmxDataArrayObservable.setByte(1, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(2, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(3, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(4, (byte) 1);\r\n                    System.out.println(&quot;Running using Observablelist 1&quot;);\r\n    \r\n                } catch (Exception e) {\r\n    \r\n                    e.printStackTrace();\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void SendDataToDataContainers2() {\r\n    \r\n            if (radioButtonUseArray.isSelected()) {\r\n    \r\n                try {\r\n    \r\n                    dmxDataArray[1] = (byte) 1;\r\n                    dmxDataArray[2] = (byte) 1;\r\n                    dmxDataArray[3] = (byte) 1;\r\n                    dmxDataArray[4] = (byte) 1;\r\n                    System.out.println(&quot;Running using array 2&quot;);\r\n    \r\n                } catch (Exception e) {\r\n    \r\n                    e.printStackTrace();\r\n    \r\n                }\r\n    \r\n            } else if (radioButtonUseObservableList.isSelected()) {\r\n    \r\n                try {\r\n    \r\n                    dmxDataArrayObservable.setByte(1, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(2, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(3, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(4, (byte) 1);\r\n                    System.out.println(&quot;Running using Observablelist 2&quot;);\r\n    \r\n                } catch (Exception e) {\r\n    \r\n                    e.printStackTrace();\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"JavaFX multiple threads: array vs observableList","body":"<p>Based on above comments I have come up with this to fix the issue with multiple threads using the ObservableList. Below is based on the TimeLine for updating the ObservableList instead of the ScheduledExecutorService.</p>\n<pre><code>package org.example;\n\nimport javafx.animation.Animation;\nimport javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.collections.ListChangeListener;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.RadioButton;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Priority;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class App extends Application {\n\n    RadioButton radioButtonUseArray;\n    RadioButton radioButtonUseObservableList;\n    Timeline timeline1;\n    Timeline timeline2;\n\n    private final byte[] dmxDataArray = new byte[512];\n    dmxDataObservable dmxDataArrayObservable = new dmxDataObservable(dmxDataArray);\n\n    @Override\n    public void start(Stage stage) {\n\n        dmxDataArrayObservable.getBytes().addListener(new ListChangeListener() {\n            public void onChanged(ListChangeListener.Change change) {\n\n                System.out.println(&quot;Data updated&quot;);\n\n            }\n\n        });\n\n        Button buttonStart = new Button(&quot;Start&quot;);\n        buttonStart.setPrefWidth(100);\n        buttonStart.setOnAction(event -&gt; {\n\n            StartTimeline1();\n            StartTimeline2();\n\n        });\n\n        Button buttonStop = new Button(&quot;Stop&quot;);\n        buttonStop.setPrefWidth(100);\n        buttonStop.setOnAction(event -&gt; {\n\n            StopTimeline1();\n            StopTimeLine2();\n\n        });\n\n        HBox hBoxWithStartStop1 = new HBox();\n        hBoxWithStartStop1.setAlignment(Pos.CENTER);\n        hBoxWithStartStop1.setSpacing(10);\n        HBox.setHgrow(hBoxWithStartStop1, Priority.ALWAYS);\n        hBoxWithStartStop1.getChildren().addAll(buttonStart, buttonStop);\n\n        ToggleGroup toggleGroup = new ToggleGroup();\n\n        radioButtonUseArray = new RadioButton(&quot;Use Array&quot;);\n        radioButtonUseArray.setToggleGroup(toggleGroup);\n        radioButtonUseArray.setSelected(true);\n\n        radioButtonUseObservableList = new RadioButton(&quot;Use Observablelist&quot;);\n        radioButtonUseObservableList.setToggleGroup(toggleGroup);\n\n        HBox hBoxWithRadioButtons = new HBox();\n        hBoxWithRadioButtons.setAlignment(Pos.CENTER);\n        hBoxWithRadioButtons.setSpacing(10);\n        HBox.setHgrow(hBoxWithRadioButtons, Priority.ALWAYS);\n        hBoxWithRadioButtons.getChildren().addAll(radioButtonUseArray, radioButtonUseObservableList);\n\n        VBox vBoxWithAllOptions = new VBox();\n        vBoxWithAllOptions.setSpacing(10);\n        vBoxWithAllOptions.setAlignment(Pos.CENTER);\n        vBoxWithAllOptions.getChildren().addAll(hBoxWithStartStop1, hBoxWithRadioButtons);\n\n        var scene = new Scene(new StackPane(vBoxWithAllOptions), 640, 480);\n        stage.setScene(scene);\n        stage.setOnCloseRequest(event -&gt; {\n\n            StopTimeline1();\n            StopTimeLine2();\n\n        });\n\n        stage.show();\n\n    }\n\n    public static void main(String[] args) {\n\n        launch();\n\n    }\n\n    public void StartTimeline1() {\n\n        timeline1 = new Timeline(new KeyFrame(Duration.millis(1), e -&gt; SendDataToDataContainers1()));\n        timeline1.setCycleCount(Animation.INDEFINITE); // loop forever\n        timeline1.play();\n\n    }\n\n    public void StopTimeline1() {\n\n        if (timeline1 != null) {\n\n            timeline1.stop();\n\n        }\n\n    }\n\n    public void StartTimeline2() {\n\n        timeline2 = new Timeline(new KeyFrame(Duration.millis(1), e -&gt; SendDataToDataContainers2()));\n        timeline2.setCycleCount(Animation.INDEFINITE); // loop forever\n        timeline2.play();\n\n    }\n\n    public void StopTimeLine2() {\n\n        if (timeline2 != null) {\n\n            timeline2.stop();\n\n        }\n\n    }\n\n    public void SendDataToDataContainers1() {\n\n        if (radioButtonUseArray.isSelected()) {\n\n            dmxDataArray[1] = (byte) 1;\n            dmxDataArray[2] = (byte) 1;\n            dmxDataArray[3] = (byte) 1;\n            dmxDataArray[4] = (byte) 1;\n            System.out.println(&quot;Running using array 1&quot;);\n\n        } else if (radioButtonUseObservableList.isSelected()) {\n\n            try {\n\n                dmxDataArrayObservable.setByte(1, (byte) 1);\n                dmxDataArrayObservable.setByte(2, (byte) 1);\n                dmxDataArrayObservable.setByte(3, (byte) 1);\n                dmxDataArrayObservable.setByte(4, (byte) 1);\n                System.out.println(&quot;Running using Observablelist 1&quot;);\n\n            } catch (Exception e) {\n\n                e.printStackTrace();\n\n            }\n\n        }\n\n    }\n\n    public void SendDataToDataContainers2() {\n\n        if (radioButtonUseArray.isSelected()) {\n\n            try {\n\n                dmxDataArray[1] = (byte) 1;\n                dmxDataArray[2] = (byte) 1;\n                dmxDataArray[3] = (byte) 1;\n                dmxDataArray[4] = (byte) 1;\n                System.out.println(&quot;Running using array 2&quot;);\n\n            } catch (Exception e) {\n\n                e.printStackTrace();\n\n            }\n\n        } else if (radioButtonUseObservableList.isSelected()) {\n\n            try {\n\n                dmxDataArrayObservable.setByte(1, (byte) 1);\n                dmxDataArrayObservable.setByte(2, (byte) 1);\n                dmxDataArrayObservable.setByte(3, (byte) 1);\n                dmxDataArrayObservable.setByte(4, (byte) 1);\n                System.out.println(&quot;Running using Observablelist 2&quot;);\n\n            } catch (Exception e) {\n\n                e.printStackTrace();\n\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697142438,"creation_date":1697102469,"question_id":77279307,"body_markdown":"Based on another stack overflow topic (https://stackoverflow.com/questions/77266723/javafx-mapproperty-behave-like-an-array) kind people help me making a solution where I could add observability to an existing approach where I was using an array. I&#39;m budling a small app where I am controlling a &quot;moving head&quot; with pan &amp; tilt movement and are using executorServices (scheduleAtFixedRate) to send new values to my hardware (the movinghead). The problem is that I see some performance-issue (I think) when using the observablelist. I see no performance-issue when using the array.\r\n\r\nBelow is an example that can reproduce the issue and under the code is described what to do to generate the issue.\r\n\r\n    package org.example;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.collections.ListChangeListener;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.RadioButton;\r\n    import javafx.scene.control.ToggleGroup;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.Priority;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ScheduledExecutorService;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class App extends Application {\r\n    \r\n        RadioButton radioButtonUseArray;\r\n        RadioButton radioButtonUseObservableList;\r\n        ScheduledExecutorService executorService1;\r\n        ScheduledExecutorService executorService2;\r\n        int speed = 10;\r\n    \r\n        private final byte[] dmxDataArray = new byte[512];\r\n        dmxDataObservable dmxDataArrayObservable = new dmxDataObservable(dmxDataArray);\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            dmxDataArrayObservable.getBytes().addListener(new ListChangeListener() {\r\n                public void onChanged(ListChangeListener.Change change) {\r\n    \r\n                    System.out.println(&quot;Data updated&quot;);\r\n    \r\n                }\r\n    \r\n            });\r\n    \r\n            Button buttonStart = new Button(&quot;Start&quot;);\r\n            buttonStart.setPrefWidth(100);\r\n            buttonStart.setOnAction(event -&gt; {\r\n    \r\n                StartGenerator1();\r\n                StartGenerator2();\r\n    \r\n            });\r\n    \r\n            Button buttonStop = new Button(&quot;Stop&quot;);\r\n            buttonStop.setPrefWidth(100);\r\n            buttonStop.setOnAction(event -&gt; {\r\n    \r\n                StopGenerator1();\r\n                StopGenerator2();\r\n    \r\n            });\r\n    \r\n            HBox hBoxWithStartStop1 = new HBox();\r\n            hBoxWithStartStop1.setAlignment(Pos.CENTER);\r\n            hBoxWithStartStop1.setSpacing(10);\r\n            HBox.setHgrow(hBoxWithStartStop1, Priority.ALWAYS);\r\n            hBoxWithStartStop1.getChildren().addAll(buttonStart, buttonStop);\r\n    \r\n            ToggleGroup toggleGroup = new ToggleGroup();\r\n    \r\n            radioButtonUseArray = new RadioButton(&quot;Use Array&quot;);\r\n            radioButtonUseArray.setToggleGroup(toggleGroup);\r\n            radioButtonUseArray.setSelected(true);\r\n    \r\n            radioButtonUseObservableList = new RadioButton(&quot;Use Observablelist&quot;);\r\n            radioButtonUseObservableList.setToggleGroup(toggleGroup);\r\n    \r\n            HBox hBoxWithRadioButtons = new HBox();\r\n            hBoxWithRadioButtons.setAlignment(Pos.CENTER);\r\n            hBoxWithRadioButtons.setSpacing(10);\r\n            HBox.setHgrow(hBoxWithRadioButtons, Priority.ALWAYS);\r\n            hBoxWithRadioButtons.getChildren().addAll(radioButtonUseArray, radioButtonUseObservableList);\r\n    \r\n            VBox vBoxWithAllOptions = new VBox();\r\n            vBoxWithAllOptions.setSpacing(10);\r\n            vBoxWithAllOptions.setAlignment(Pos.CENTER);\r\n            vBoxWithAllOptions.getChildren().addAll(hBoxWithStartStop1, hBoxWithRadioButtons);\r\n    \r\n            var scene = new Scene(new StackPane(vBoxWithAllOptions), 640, 480);\r\n            stage.setScene(scene);\r\n            stage.setOnCloseRequest(event -&gt; {\r\n    \r\n                StopGenerator1();\r\n                StopGenerator2();\r\n    \r\n            });\r\n    \r\n            stage.show();\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        public void StartGenerator1() {\r\n    \r\n            if (this.executorService1 != null) {\r\n    \r\n                this.executorService1.shutdown();\r\n    \r\n            }\r\n    \r\n            try {\r\n    \r\n                this.executorService1 = Executors.newSingleThreadScheduledExecutor();\r\n                this.executorService1.scheduleAtFixedRate(this::SendDataToDataContainers1, 0L, speed, TimeUnit.MICROSECONDS);\r\n    \r\n            } catch (Exception r) {\r\n    \r\n               r.printStackTrace();\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void StopGenerator1() {\r\n    \r\n            if (this.executorService1 != null) {\r\n    \r\n                this.executorService1.shutdown();\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void StartGenerator2() {\r\n    \r\n            if (this.executorService2 != null) {\r\n    \r\n                this.executorService2.shutdown();\r\n    \r\n            }\r\n    \r\n            try {\r\n    \r\n                this.executorService2 = Executors.newSingleThreadScheduledExecutor();\r\n                this.executorService2.scheduleAtFixedRate(this::SendDataToDataContainers2, 0L, speed, TimeUnit.MICROSECONDS);\r\n    \r\n            } catch (Exception r) {\r\n    \r\n                r.printStackTrace();\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void StopGenerator2() {\r\n    \r\n            if (this.executorService2 != null) {\r\n    \r\n                this.executorService2.shutdown();\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void SendDataToDataContainers1() {\r\n    \r\n            if (radioButtonUseArray.isSelected()) {\r\n    \r\n                dmxDataArray[1] = (byte) 1;\r\n                dmxDataArray[2] = (byte) 1;\r\n                dmxDataArray[3] = (byte) 1;\r\n                dmxDataArray[4] = (byte) 1;\r\n                System.out.println(&quot;Running using array&quot;);\r\n    \r\n            } else if (radioButtonUseObservableList.isSelected()) {\r\n    \r\n                try {\r\n    \r\n                    dmxDataArrayObservable.setByte(1, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(2, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(3, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(4, (byte) 1);\r\n                    System.out.println(&quot;Running using Observablelist&quot;);\r\n    \r\n                } catch (Exception e) {\r\n    \r\n                    e.printStackTrace();\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void SendDataToDataContainers2() {\r\n    \r\n            if (radioButtonUseArray.isSelected()) {\r\n    \r\n                try {\r\n    \r\n                    dmxDataArray[1] = (byte) 1;\r\n                    dmxDataArray[2] = (byte) 1;\r\n                    dmxDataArray[3] = (byte) 1;\r\n                    dmxDataArray[4] = (byte) 1;\r\n                    System.out.println(&quot;Running using array &quot;);\r\n    \r\n                } catch (Exception e) {\r\n    \r\n                    e.printStackTrace();\r\n    \r\n                }\r\n    \r\n            } else if (radioButtonUseObservableList.isSelected()) {\r\n    \r\n                try {\r\n    \r\n                    dmxDataArrayObservable.setByte(1, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(2, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(3, (byte) 1);\r\n                    dmxDataArrayObservable.setByte(4, (byte) 1);\r\n    \r\n                    System.out.println(&quot;Running using Observablelist&quot;);\r\n    \r\n                } catch (Exception e) {\r\n    \r\n                    e.printStackTrace();\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nThis is the dmxDataObservable class:\r\n\r\n    package org.example;\r\n    \r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    \r\n    public class dmxDataObservable {\r\n    \r\n        private final ObservableList&lt;Byte&gt; bytes;\r\n    \r\n        public dmxDataObservable(byte[] bytes) {\r\n    \r\n            this.bytes = FXCollections.observableArrayList();\r\n    \r\n            for (byte b : bytes) {\r\n    \r\n                this.bytes.add(b);\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void setByte(int index, byte b) {\r\n    \r\n            bytes.set(index, b);\r\n    \r\n        }\r\n    \r\n        public Byte getByte(int index) {\r\n            return bytes.get(index);\r\n        }\r\n    \r\n        public ObservableList&lt;Byte&gt; getBytes() {\r\n            // prevent things like getBytes().add() etc.\r\n            return FXCollections.unmodifiableObservableList(bytes);\r\n        }\r\n    \r\n        public byte[] getBytesAsArray() {\r\n            byte[] byteArray = new byte[bytes.size()];\r\n            for (int i = 0; i &lt; bytes.size(); i++) {\r\n                byteArray[i] = bytes.get(i);\r\n            }\r\n            return byteArray;\r\n        }\r\n    }\r\n\r\nIf I run the App and click &quot;Start&quot; the app will run and add data to the array. If I select &quot;Use Observablelist&quot; I will see below errors at some point:\r\n\r\n    java.lang.UnsupportedOperationException\r\n    \tat java.base/java.util.Collections$UnmodifiableCollection.add(Collections.java:1091)\r\n    \tat javafx.base/javafx.collections.ListChangeBuilder.nextRemove(ListChangeBuilder.java:204)\r\n    \tat javafx.base/javafx.collections.ListChangeBuilder.nextSet(ListChangeBuilder.java:453)\r\n    \tat javafx.base/javafx.collections.ObservableListBase.nextSet(ObservableListBase.java:115)\r\n    \tat javafx.base/javafx.collections.ModifiableObservableListBase.set(ModifiableObservableListBase.java:162)\r\n    \tat org.example/org.example.dmxDataObservable.setByte(dmxDataObservable.java:24)\r\n    \tat org.example/org.example.App.SendDataToDataContainers1(App.java:181)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n    \tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n    \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n\r\nIf I keep the app running and select &quot;Use array&quot; then the app is again working without errors.\r\n\r\nI know the call to the array and observablelist is very intensively but that is what I need to do in my App.\r\n\r\n\r\n\r\n\r\n","title":"JavaFX multiple threads: array vs observableList","body":"<p>Based on another stack overflow topic (<a href=\"https://stackoverflow.com/questions/77266723/javafx-mapproperty-behave-like-an-array\">JavaFX MapProperty behave like an array</a>) kind people help me making a solution where I could add observability to an existing approach where I was using an array. I'm budling a small app where I am controlling a &quot;moving head&quot; with pan &amp; tilt movement and are using executorServices (scheduleAtFixedRate) to send new values to my hardware (the movinghead). The problem is that I see some performance-issue (I think) when using the observablelist. I see no performance-issue when using the array.</p>\n<p>Below is an example that can reproduce the issue and under the code is described what to do to generate the issue.</p>\n<pre><code>package org.example;\n\nimport javafx.application.Application;\nimport javafx.collections.ListChangeListener;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.RadioButton;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Priority;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class App extends Application {\n\n    RadioButton radioButtonUseArray;\n    RadioButton radioButtonUseObservableList;\n    ScheduledExecutorService executorService1;\n    ScheduledExecutorService executorService2;\n    int speed = 10;\n\n    private final byte[] dmxDataArray = new byte[512];\n    dmxDataObservable dmxDataArrayObservable = new dmxDataObservable(dmxDataArray);\n\n    @Override\n    public void start(Stage stage) {\n\n        dmxDataArrayObservable.getBytes().addListener(new ListChangeListener() {\n            public void onChanged(ListChangeListener.Change change) {\n\n                System.out.println(&quot;Data updated&quot;);\n\n            }\n\n        });\n\n        Button buttonStart = new Button(&quot;Start&quot;);\n        buttonStart.setPrefWidth(100);\n        buttonStart.setOnAction(event -&gt; {\n\n            StartGenerator1();\n            StartGenerator2();\n\n        });\n\n        Button buttonStop = new Button(&quot;Stop&quot;);\n        buttonStop.setPrefWidth(100);\n        buttonStop.setOnAction(event -&gt; {\n\n            StopGenerator1();\n            StopGenerator2();\n\n        });\n\n        HBox hBoxWithStartStop1 = new HBox();\n        hBoxWithStartStop1.setAlignment(Pos.CENTER);\n        hBoxWithStartStop1.setSpacing(10);\n        HBox.setHgrow(hBoxWithStartStop1, Priority.ALWAYS);\n        hBoxWithStartStop1.getChildren().addAll(buttonStart, buttonStop);\n\n        ToggleGroup toggleGroup = new ToggleGroup();\n\n        radioButtonUseArray = new RadioButton(&quot;Use Array&quot;);\n        radioButtonUseArray.setToggleGroup(toggleGroup);\n        radioButtonUseArray.setSelected(true);\n\n        radioButtonUseObservableList = new RadioButton(&quot;Use Observablelist&quot;);\n        radioButtonUseObservableList.setToggleGroup(toggleGroup);\n\n        HBox hBoxWithRadioButtons = new HBox();\n        hBoxWithRadioButtons.setAlignment(Pos.CENTER);\n        hBoxWithRadioButtons.setSpacing(10);\n        HBox.setHgrow(hBoxWithRadioButtons, Priority.ALWAYS);\n        hBoxWithRadioButtons.getChildren().addAll(radioButtonUseArray, radioButtonUseObservableList);\n\n        VBox vBoxWithAllOptions = new VBox();\n        vBoxWithAllOptions.setSpacing(10);\n        vBoxWithAllOptions.setAlignment(Pos.CENTER);\n        vBoxWithAllOptions.getChildren().addAll(hBoxWithStartStop1, hBoxWithRadioButtons);\n\n        var scene = new Scene(new StackPane(vBoxWithAllOptions), 640, 480);\n        stage.setScene(scene);\n        stage.setOnCloseRequest(event -&gt; {\n\n            StopGenerator1();\n            StopGenerator2();\n\n        });\n\n        stage.show();\n\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    public void StartGenerator1() {\n\n        if (this.executorService1 != null) {\n\n            this.executorService1.shutdown();\n\n        }\n\n        try {\n\n            this.executorService1 = Executors.newSingleThreadScheduledExecutor();\n            this.executorService1.scheduleAtFixedRate(this::SendDataToDataContainers1, 0L, speed, TimeUnit.MICROSECONDS);\n\n        } catch (Exception r) {\n\n           r.printStackTrace();\n\n        }\n\n    }\n\n    public void StopGenerator1() {\n\n        if (this.executorService1 != null) {\n\n            this.executorService1.shutdown();\n\n        }\n\n    }\n\n    public void StartGenerator2() {\n\n        if (this.executorService2 != null) {\n\n            this.executorService2.shutdown();\n\n        }\n\n        try {\n\n            this.executorService2 = Executors.newSingleThreadScheduledExecutor();\n            this.executorService2.scheduleAtFixedRate(this::SendDataToDataContainers2, 0L, speed, TimeUnit.MICROSECONDS);\n\n        } catch (Exception r) {\n\n            r.printStackTrace();\n\n        }\n\n    }\n\n    public void StopGenerator2() {\n\n        if (this.executorService2 != null) {\n\n            this.executorService2.shutdown();\n\n        }\n\n    }\n\n    public void SendDataToDataContainers1() {\n\n        if (radioButtonUseArray.isSelected()) {\n\n            dmxDataArray[1] = (byte) 1;\n            dmxDataArray[2] = (byte) 1;\n            dmxDataArray[3] = (byte) 1;\n            dmxDataArray[4] = (byte) 1;\n            System.out.println(&quot;Running using array&quot;);\n\n        } else if (radioButtonUseObservableList.isSelected()) {\n\n            try {\n\n                dmxDataArrayObservable.setByte(1, (byte) 1);\n                dmxDataArrayObservable.setByte(2, (byte) 1);\n                dmxDataArrayObservable.setByte(3, (byte) 1);\n                dmxDataArrayObservable.setByte(4, (byte) 1);\n                System.out.println(&quot;Running using Observablelist&quot;);\n\n            } catch (Exception e) {\n\n                e.printStackTrace();\n\n            }\n\n        }\n\n    }\n\n    public void SendDataToDataContainers2() {\n\n        if (radioButtonUseArray.isSelected()) {\n\n            try {\n\n                dmxDataArray[1] = (byte) 1;\n                dmxDataArray[2] = (byte) 1;\n                dmxDataArray[3] = (byte) 1;\n                dmxDataArray[4] = (byte) 1;\n                System.out.println(&quot;Running using array &quot;);\n\n            } catch (Exception e) {\n\n                e.printStackTrace();\n\n            }\n\n        } else if (radioButtonUseObservableList.isSelected()) {\n\n            try {\n\n                dmxDataArrayObservable.setByte(1, (byte) 1);\n                dmxDataArrayObservable.setByte(2, (byte) 1);\n                dmxDataArrayObservable.setByte(3, (byte) 1);\n                dmxDataArrayObservable.setByte(4, (byte) 1);\n\n                System.out.println(&quot;Running using Observablelist&quot;);\n\n            } catch (Exception e) {\n\n                e.printStackTrace();\n\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>This is the dmxDataObservable class:</p>\n<pre><code>package org.example;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\n\npublic class dmxDataObservable {\n\n    private final ObservableList&lt;Byte&gt; bytes;\n\n    public dmxDataObservable(byte[] bytes) {\n\n        this.bytes = FXCollections.observableArrayList();\n\n        for (byte b : bytes) {\n\n            this.bytes.add(b);\n\n        }\n\n    }\n\n    public void setByte(int index, byte b) {\n\n        bytes.set(index, b);\n\n    }\n\n    public Byte getByte(int index) {\n        return bytes.get(index);\n    }\n\n    public ObservableList&lt;Byte&gt; getBytes() {\n        // prevent things like getBytes().add() etc.\n        return FXCollections.unmodifiableObservableList(bytes);\n    }\n\n    public byte[] getBytesAsArray() {\n        byte[] byteArray = new byte[bytes.size()];\n        for (int i = 0; i &lt; bytes.size(); i++) {\n            byteArray[i] = bytes.get(i);\n        }\n        return byteArray;\n    }\n}\n</code></pre>\n<p>If I run the App and click &quot;Start&quot; the app will run and add data to the array. If I select &quot;Use Observablelist&quot; I will see below errors at some point:</p>\n<pre><code>java.lang.UnsupportedOperationException\n    at java.base/java.util.Collections$UnmodifiableCollection.add(Collections.java:1091)\n    at javafx.base/javafx.collections.ListChangeBuilder.nextRemove(ListChangeBuilder.java:204)\n    at javafx.base/javafx.collections.ListChangeBuilder.nextSet(ListChangeBuilder.java:453)\n    at javafx.base/javafx.collections.ObservableListBase.nextSet(ObservableListBase.java:115)\n    at javafx.base/javafx.collections.ModifiableObservableListBase.set(ModifiableObservableListBase.java:162)\n    at org.example/org.example.dmxDataObservable.setByte(dmxDataObservable.java:24)\n    at org.example/org.example.App.SendDataToDataContainers1(App.java:181)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\n</code></pre>\n<p>If I keep the app running and select &quot;Use array&quot; then the app is again working without errors.</p>\n<p>I know the call to the array and observablelist is very intensively but that is what I need to do in my App.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"score":0,"creation_date":1693143721,"post_id":76984320,"comment_id":135718377,"body_markdown":"Why does it printing for DOB everytime whether I am updating that or not, also can you please give a little brief exactly what is happening in code. It is working for rest of the fields","body":"Why does it printing for DOB everytime whether I am updating that or not, also can you please give a little brief exactly what is happening in code. It is working for rest of the fields"},{"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"score":0,"creation_date":1693163233,"post_id":76984320,"comment_id":135720609,"body_markdown":"Do I need to change &lt;T&gt; or it can be used like this? Actually I&#39;m ot understanding Function&lt;EmployeeInformation, T&gt; newValueGetter, what does this exactly mean? &lt;T&gt; here ?","body":"Do I need to change &lt;T&gt; or it can be used like this? Actually I&#39;m ot understanding Function&lt;EmployeeInformation, T&gt; newValueGetter, what does this exactly mean? &lt;T&gt; here ?"},{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":1,"creation_date":1693205933,"post_id":76984320,"comment_id":135724306,"body_markdown":"I add some documentations and explanation with links to the Java documentation that explains better than me the meaning of the &lt;T&gt; in front of the update method","body":"I add some documentations and explanation with links to the Java documentation that explains better than me the meaning of the &lt;T&gt; in front of the update method"}],"tags":[],"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693205880,"creation_date":1693074762,"answer_id":76984320,"question_id":76984169,"body_markdown":"\r\n\r\nThis is maybe a bit cleaner but not that perfect, but you could use an object like this :\r\n\r\n    public static class Updater {\r\n      private final OrgEmployeeMap existing;\r\n      private final EmployeeInformation information;\r\n      private final Set&lt;String&gt; updatedFields = new HashSet&lt;&gt;();\r\n\r\n      public Updater(OrgEmployeeMap existing, EmployeeInformation information) {\r\n        this.existing = existing;\r\n        this.information = information;\r\n      }\r\n\r\n      /**\r\n       * @param fieldName the name of the field that is updated\r\n       * @param newValueGetter a function that retrieves the new value of the field from a {@link EmployeeInformation}\r\n       * @param oldValueGetter a function that retrieves the old value of the field from a {@link OrgEmployeeMap}\r\n       * @param oldValueSetter a consumer that sets the new value of the field to a {@link OrgEmployeeMap}\r\n       * @return this\r\n       * @param &lt;T&gt; the type of the value that is updated\r\n       */\r\n      public &lt;T&gt; Updater update(String fieldName,\r\n                                Function&lt;EmployeeInformation, T&gt; newValueGetter,\r\n                                Function&lt;OrgEmployeeMap, T&gt; oldValueGetter,\r\n                                BiConsumer&lt;OrgEmployeeMap, T&gt; oldValueSetter) {\r\n          //retrieve the new value from the information \r\n          final var newValue = newValueGetter.apply(information);\r\n          //retrieve the old value from the existing employee \r\n          final var oldValue = oldValueGetter.apply(existing);\r\n          if (newValue == null || newValue.equals(oldValue)) {\r\n              //no update needed, just return this\r\n              return this;\r\n          }\r\n          //field is modified, add the fieldName to the set of updateFields\r\n          this.updatedFields.add(fieldName);\r\n          //set the new value with the provided setter\r\n          oldValueSetter.accept(existing, newValue);\r\n          return this;\r\n      }\r\n\r\n      public Set&lt;String&gt; getUpdatedFields() {\r\n        return updatedFields;\r\n      }\r\n    }\r\n\r\nYou can use it in your method like this:\r\n\r\n    private void updateExistingEmployee(OrgEmployeeMap existingOrgEmployee, RequestMessage requestMessage) {\r\n        try {\r\n            EmployeeInformation employeeInfo = requestMessage.getData().get(0).getDemographicData().getEmployeeInformation().get(0);\r\n            final var updater = new Updater(existingOrgEmployee, employeeInfo);\r\n\r\n            updater\r\n                .update(&quot;FirstName&quot;, EmployeeInformation::getEmployeeFirstName, OrgEmployeeMap::getFirstName, OrgEmployeeMap::setFirstName)\r\n                .update(&quot;LastName&quot;, EmployeeInformation::getEmployeeLastName, OrgEmployeeMap::getLastName, OrgEmployeeMap::setLastName)\r\n                .update(&quot;DOB&quot;, EmployeeInformation::getDOB, OrgEmployeeMap::getDob, OrgEmployeeMap::setDob)\r\n                .update(&quot;Gender&quot;, EmployeeInformation::getGender, OrgEmployeeMap::getGender, OrgEmployeeMap::setGender)\r\n                .update(&quot;Email&quot;, EmployeeInformation::getEmail, OrgEmployeeMap::getEmail, OrgEmployeeMap::setEmail);\r\n\r\n            final var modifiedFields = updater.getUpdatedFields();\r\n            if (!modifiedFields.isEmpty()) {\r\n                log.info(&quot;Updated employee : &quot; + String.join(&quot;, &quot;, modifiedFields));\r\n            }\r\n\r\n            orgEmployeeMapRepository.save(existingOrgEmployee);\r\n\r\n            log.info(&quot;Updated Employee : &quot; + existingOrgEmployee);\r\n        } catch (JSONException e) {\r\n            log.error(&quot;error in processing the request error&quot;, e.getMessage());\r\n        } catch (Exception ex) {\r\n            log.error(&quot;An unexpected error occurred: &quot; + ex.getMessage(), ex);\r\n        }\r\n    }\r\n\r\n**Some explanations:**\r\n\r\nTo update a field you need to perform the following operations :\r\n\r\n 1. Get the new value\r\n 2. Get the old value \r\n 3. If the new value is null or is equal to the old value -&gt; done\r\n 4. Update with the new value (and keep track of the name of the updated field)\r\n\r\nThese steps are always the same regardless of the type of the fields. What depends of the type are the &quot;Get&quot;s, the &quot;Set&quot; actions (there is technically also the &quot;is equal&quot; but since it is a method between values of the type, it is already taken care of). \r\n\r\nThese &quot;Get&quot; and &quot;Set&quot; actions are provided as parameters ([Function][2] for the &quot;Get&quot; and [BiConsumer][3] for the &quot;Set&quot;) of the method `update` that then needs to be a [generic method][1]. \r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/extra/generics/methods.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html","title":"How to log only those field which got update during Update API call in java?","body":"<p>This is maybe a bit cleaner but not that perfect, but you could use an object like this :</p>\n<pre><code>public static class Updater {\n  private final OrgEmployeeMap existing;\n  private final EmployeeInformation information;\n  private final Set&lt;String&gt; updatedFields = new HashSet&lt;&gt;();\n\n  public Updater(OrgEmployeeMap existing, EmployeeInformation information) {\n    this.existing = existing;\n    this.information = information;\n  }\n\n  /**\n   * @param fieldName the name of the field that is updated\n   * @param newValueGetter a function that retrieves the new value of the field from a {@link EmployeeInformation}\n   * @param oldValueGetter a function that retrieves the old value of the field from a {@link OrgEmployeeMap}\n   * @param oldValueSetter a consumer that sets the new value of the field to a {@link OrgEmployeeMap}\n   * @return this\n   * @param &lt;T&gt; the type of the value that is updated\n   */\n  public &lt;T&gt; Updater update(String fieldName,\n                            Function&lt;EmployeeInformation, T&gt; newValueGetter,\n                            Function&lt;OrgEmployeeMap, T&gt; oldValueGetter,\n                            BiConsumer&lt;OrgEmployeeMap, T&gt; oldValueSetter) {\n      //retrieve the new value from the information \n      final var newValue = newValueGetter.apply(information);\n      //retrieve the old value from the existing employee \n      final var oldValue = oldValueGetter.apply(existing);\n      if (newValue == null || newValue.equals(oldValue)) {\n          //no update needed, just return this\n          return this;\n      }\n      //field is modified, add the fieldName to the set of updateFields\n      this.updatedFields.add(fieldName);\n      //set the new value with the provided setter\n      oldValueSetter.accept(existing, newValue);\n      return this;\n  }\n\n  public Set&lt;String&gt; getUpdatedFields() {\n    return updatedFields;\n  }\n}\n</code></pre>\n<p>You can use it in your method like this:</p>\n<pre><code>private void updateExistingEmployee(OrgEmployeeMap existingOrgEmployee, RequestMessage requestMessage) {\n    try {\n        EmployeeInformation employeeInfo = requestMessage.getData().get(0).getDemographicData().getEmployeeInformation().get(0);\n        final var updater = new Updater(existingOrgEmployee, employeeInfo);\n\n        updater\n            .update(&quot;FirstName&quot;, EmployeeInformation::getEmployeeFirstName, OrgEmployeeMap::getFirstName, OrgEmployeeMap::setFirstName)\n            .update(&quot;LastName&quot;, EmployeeInformation::getEmployeeLastName, OrgEmployeeMap::getLastName, OrgEmployeeMap::setLastName)\n            .update(&quot;DOB&quot;, EmployeeInformation::getDOB, OrgEmployeeMap::getDob, OrgEmployeeMap::setDob)\n            .update(&quot;Gender&quot;, EmployeeInformation::getGender, OrgEmployeeMap::getGender, OrgEmployeeMap::setGender)\n            .update(&quot;Email&quot;, EmployeeInformation::getEmail, OrgEmployeeMap::getEmail, OrgEmployeeMap::setEmail);\n\n        final var modifiedFields = updater.getUpdatedFields();\n        if (!modifiedFields.isEmpty()) {\n            log.info(&quot;Updated employee : &quot; + String.join(&quot;, &quot;, modifiedFields));\n        }\n\n        orgEmployeeMapRepository.save(existingOrgEmployee);\n\n        log.info(&quot;Updated Employee : &quot; + existingOrgEmployee);\n    } catch (JSONException e) {\n        log.error(&quot;error in processing the request error&quot;, e.getMessage());\n    } catch (Exception ex) {\n        log.error(&quot;An unexpected error occurred: &quot; + ex.getMessage(), ex);\n    }\n}\n</code></pre>\n<p><strong>Some explanations:</strong></p>\n<p>To update a field you need to perform the following operations :</p>\n<ol>\n<li>Get the new value</li>\n<li>Get the old value</li>\n<li>If the new value is null or is equal to the old value -&gt; done</li>\n<li>Update with the new value (and keep track of the name of the updated field)</li>\n</ol>\n<p>These steps are always the same regardless of the type of the fields. What depends of the type are the &quot;Get&quot;s, the &quot;Set&quot; actions (there is technically also the &quot;is equal&quot; but since it is a method between values of the type, it is already taken care of).</p>\n<p>These &quot;Get&quot; and &quot;Set&quot; actions are provided as parameters (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html\" rel=\"nofollow noreferrer\">Function</a> for the &quot;Get&quot; and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html\" rel=\"nofollow noreferrer\">BiConsumer</a> for the &quot;Set&quot;) of the method <code>update</code> that then needs to be a <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/methods.html\" rel=\"nofollow noreferrer\">generic method</a>.</p>\n"}],"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76984320,"answer_count":1,"score":1,"last_activity_date":1697142354,"creation_date":1693072190,"question_id":76984169,"body_markdown":"I need to log only those fields which will be updated during the Update API call. Like if I have 10 columns in my Table but only three got updated in a API call, only those three fields should be logged.\r\n\r\nI tried like this but it is not covering all conditions and giving null value sometimes.\r\n\r\nHere I&#39;m checking if existing employee value is equals to coming payload&#39;s value before calling get and set function for update, but if any of the value will be null it is throwing error. \r\n\r\nTried Code\r\n```\r\n//existingOrgEmployee is DB mysql entry\r\n// and employeeInfo is coming Request from Api Payload\r\nif (employeeInfo.getEmployeeFirstName() != null) { \r\n               if(!existingOrgEmployee.getFirstName().equals(employeeInfo.getEmployeeFirstName())){\r\n                    log.info(&quot;EmployeeFirstName Updated for Orgemployee  : \r\n                         &quot;+existingOrgEmployee.getOrgEmployeeId());\r\n                }\r\n                existingOrgEmployee.setFirstName(employee Info.getEmployeeFirstName());\r\n            }\r\n```\r\n\r\nIn payload all the fields will be present but only those which are different or empty in db column will be changed, thats why I have applied if condition before set function\r\n\r\nThis is the update function within **Service Class** \r\n```\r\n private void updateExistingEmployee(OrgEmployeeMap existingOrgEmployee, RequestMessage requestMessage) {\r\n        try {\r\n            EmployeeInformation employeeInfo = requestMessage.getData().get(0).getDemographicData().getEmployeeInformation().get(0);\r\n\r\n            if (employeeInfo.getEmployeeFirstName() != null) {\r\n               if(!existingOrgEmployee.getFirstName().equals(employeeInfo.getEmployeeFirstName())){\r\n                    log.info(&quot;EmployeeFirstName Updated for Orgemployee  : \r\n                         &quot;+existingOrgEmployee.getOrgEmployeeId());\r\n                }\r\n                existingOrgEmployee.setFirstName(employee Info.getEmployeeFirstName());\r\n            }\r\n            if (employeeInfo.getEmployeeLastName() != null) {\r\n\r\n                existingOrgEmployee.setLastName(employeeInfo.getEmployeeLastName());\r\n            }\r\n            if (employeeInfo.getDOB() != null) {\r\n\r\n                existingOrgEmployee.setDob(employeeInfo.getDOB());\r\n            }\r\n            if (employeeInfo.getGender() != null) {\r\n\r\n                existingOrgEmployee.setGender(employee Info.getGender());\r\n            }\r\n            if (employeeInfo.getEmail() != null) {\r\n                if(!existingOrgEmployee.getEmail().equals(employeeInfo.getEmail())){\r\n                    log.info(&quot;Email Updated for Orgemployee  : &quot;+existingOrgEmployee.getEmail());\r\n                }\r\n                existingOrgEmployee.setEmail(employeeInfo.getEmail());\r\n            }\r\n\r\n            orgEmployeeMapRepository.save(existingOrgEmployee);\r\n\r\n        log.info(&quot;Updated Employee : &quot; + existingOrgEmployee);\r\n        } catch (JSONException e) {\r\n            log.error(&quot;error in processing the request error&quot;, e.getMessage());\r\n        }catch (Exception ex) {\r\n            log.error(&quot;An unexpected error occurred: &quot; + ex.getMessage(), ex);\r\n        }\r\n```\r\nAlso this is not optimized approach, How can I log updated fields? \r\n\r\n","title":"How to log only those field which got update during Update API call in java?","body":"<p>I need to log only those fields which will be updated during the Update API call. Like if I have 10 columns in my Table but only three got updated in a API call, only those three fields should be logged.</p>\n<p>I tried like this but it is not covering all conditions and giving null value sometimes.</p>\n<p>Here I'm checking if existing employee value is equals to coming payload's value before calling get and set function for update, but if any of the value will be null it is throwing error.</p>\n<p>Tried Code</p>\n<pre><code>//existingOrgEmployee is DB mysql entry\n// and employeeInfo is coming Request from Api Payload\nif (employeeInfo.getEmployeeFirstName() != null) { \n               if(!existingOrgEmployee.getFirstName().equals(employeeInfo.getEmployeeFirstName())){\n                    log.info(&quot;EmployeeFirstName Updated for Orgemployee  : \n                         &quot;+existingOrgEmployee.getOrgEmployeeId());\n                }\n                existingOrgEmployee.setFirstName(employee Info.getEmployeeFirstName());\n            }\n</code></pre>\n<p>In payload all the fields will be present but only those which are different or empty in db column will be changed, thats why I have applied if condition before set function</p>\n<p>This is the update function within <strong>Service Class</strong></p>\n<pre><code> private void updateExistingEmployee(OrgEmployeeMap existingOrgEmployee, RequestMessage requestMessage) {\n        try {\n            EmployeeInformation employeeInfo = requestMessage.getData().get(0).getDemographicData().getEmployeeInformation().get(0);\n\n            if (employeeInfo.getEmployeeFirstName() != null) {\n               if(!existingOrgEmployee.getFirstName().equals(employeeInfo.getEmployeeFirstName())){\n                    log.info(&quot;EmployeeFirstName Updated for Orgemployee  : \n                         &quot;+existingOrgEmployee.getOrgEmployeeId());\n                }\n                existingOrgEmployee.setFirstName(employee Info.getEmployeeFirstName());\n            }\n            if (employeeInfo.getEmployeeLastName() != null) {\n\n                existingOrgEmployee.setLastName(employeeInfo.getEmployeeLastName());\n            }\n            if (employeeInfo.getDOB() != null) {\n\n                existingOrgEmployee.setDob(employeeInfo.getDOB());\n            }\n            if (employeeInfo.getGender() != null) {\n\n                existingOrgEmployee.setGender(employee Info.getGender());\n            }\n            if (employeeInfo.getEmail() != null) {\n                if(!existingOrgEmployee.getEmail().equals(employeeInfo.getEmail())){\n                    log.info(&quot;Email Updated for Orgemployee  : &quot;+existingOrgEmployee.getEmail());\n                }\n                existingOrgEmployee.setEmail(employeeInfo.getEmail());\n            }\n\n            orgEmployeeMapRepository.save(existingOrgEmployee);\n\n        log.info(&quot;Updated Employee : &quot; + existingOrgEmployee);\n        } catch (JSONException e) {\n            log.error(&quot;error in processing the request error&quot;, e.getMessage());\n        }catch (Exception ex) {\n            log.error(&quot;An unexpected error occurred: &quot; + ex.getMessage(), ex);\n        }\n</code></pre>\n<p>Also this is not optimized approach, How can I log updated fields?</p>\n"},{"tags":["java","rabbitmq","message-queue"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697142238,"creation_date":1532293752,"answer_id":51469273,"question_id":51466438,"body_markdown":"Yes, every consumer needs its own channel. Your best option is to run each consumer in its own thread, with its own connection and channel. RabbitMQ will round-robin delivery of messages to consumers. Be sure to read about prefetch (QoS).\r\n","title":"RabbitMQ - multiple consumers single publisher","body":"<p>Yes, every consumer needs its own channel. Your best option is to run each consumer in its own thread, with its own connection and channel. RabbitMQ will round-robin delivery of messages to consumers. Be sure to read about prefetch (QoS).</p>\n"}],"owner":{"account_id":1536372,"reputation":1235,"user_id":1432310,"accept_rate":42,"display_name":"iddqd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697142238,"creation_date":1532272193,"question_id":51466438,"body_markdown":"When using RabbitMQ to handle heavy messages, i need to add more than one consumer for the same publisher and task. Most of the tutorials from RabbitMQ and across the web suggest to register multiple consumers for that task (Although most of them opens a new process for each consumer in a new shell, and mine would all go under the same application). Given that every consumer needs it&#39;s own channel (correct me if i&#39;m wrong here), that means that for X consumers we would have X channels open.  \r\nThe alternative that comes to mind is having one consumer that ships the messages to a Thread pool containing tasks that implement the heavy work from the messages, which is a little more clumsy but requires only one open channel.  \r\n Is there a preferable way to implement this out of these two options? Is there a third option?","title":"RabbitMQ - multiple consumers single publisher","body":"<p>When using RabbitMQ to handle heavy messages, i need to add more than one consumer for the same publisher and task. Most of the tutorials from RabbitMQ and across the web suggest to register multiple consumers for that task (Although most of them opens a new process for each consumer in a new shell, and mine would all go under the same application). Given that every consumer needs it's own channel (correct me if i'm wrong here), that means that for X consumers we would have X channels open.<br>\nThe alternative that comes to mind is having one consumer that ships the messages to a Thread pool containing tasks that implement the heavy work from the messages, which is a little more clumsy but requires only one open channel.<br>\n Is there a preferable way to implement this out of these two options? Is there a third option?</p>\n"},{"tags":["java","rabbitmq","messaging"],"answers":[{"comments":[{"owner":{"account_id":9553538,"reputation":633,"user_id":7096838,"display_name":"Agnibha"},"score":0,"creation_date":1532317436,"post_id":51469295,"comment_id":89910886,"body_markdown":"I have a messaging app.. that gets a notification from the server.. and then it&#39;s pulling from the server... I have no choice other than a pull based mechanism.. otherwise I should&#39;ve used push based one..","body":"I have a messaging app.. that gets a notification from the server.. and then it&#39;s pulling from the server... I have no choice other than a pull based mechanism.. otherwise I should&#39;ve used push based one.."},{"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"score":0,"creation_date":1532371731,"post_id":51469295,"comment_id":89939858,"body_markdown":"&quot;I have no choice other than a pull based mechanism&quot; - based on your description, I disagree.","body":"&quot;I have no choice other than a pull based mechanism&quot; - based on your description, I disagree."}],"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697142230,"creation_date":1532293914,"answer_id":51469295,"question_id":51462358,"body_markdown":"`basicGet` is rarely the correct solution. In Step 2, the client should be consuming from RabbitMQ. No notification that a message is ready is necessary. RabbitMQ will send the message to Client B as soon as it&#39;s in the queue. Step-3 and Step-4 become unnecessary.\r\n","title":"Can two consumers get same set of messages while retrieving messages using an Pull based Manner?","body":"<p><code>basicGet</code> is rarely the correct solution. In Step 2, the client should be consuming from RabbitMQ. No notification that a message is ready is necessary. RabbitMQ will send the message to Client B as soon as it's in the queue. Step-3 and Step-4 become unnecessary.</p>\n"}],"owner":{"account_id":9553538,"reputation":633,"user_id":7096838,"display_name":"Agnibha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697142230,"creation_date":1532237836,"question_id":51462358,"body_markdown":"So I have a one client-server based ecosystem where I am using RabbitMQ as a persistent Middleware.\r\n\r\nNow the flow of a single message goes like this.\r\n\r\n - Step-1: Client A sends a message to the server with the destination\r\n   being set to Client B in the metadata of that message.\r\n - Step-2: Server upon receiving a message pushes the message to the\r\n   RabbitMQ and sends Client B a notification that he has some messages\r\n   to fetch.\r\n - Step-3: Client B upon getting notified calls the fetch message API to\r\n   get messages from the server.\r\n - Step-4: On the server, after getting called from the Client B pulls\r\n   messages from the RabbitMQ using the pull-based approach\r\n   (`channel.basicGet(queueName, false)`) and hands over the list of\r\n   messages.\r\n\r\nNow in the above flow, there are few things that I have some doubt with. \r\n\r\nFirst of all, if my client receives two notifications and calls the pull message API twice, there might be a concurrency problem.\r\n\r\nSuppose I am not sending the message Acknowledgement while getting the message but I am sending afterwards, then can It be possible that the same message being sent to two pull API? If so is there any way to prevent this from happening?\r\n\r\n\r\n\r\nSample Code to Get Message From the MQ:\r\n    \r\n\r\n        long currentMessageCount = channel.messageCount(QUEUE_NAME);\r\n        while (currentMessageCount-- &gt; 0) {\r\n            GetResponse getResponse = channel.basicGet(QUEUE_NAME, false);\r\n            if (getResponse == null) {\r\n                break;\r\n            }\r\n            AMQP.BasicProperties props        = getResponse.getProps();\r\n            Envelope             envelope     = getResponse.getEnvelope();\r\n            int                  messageCount = getResponse.getMessageCount();\r\n            byte[]               body         = getResponse.getBody();\r\n            /*\r\n                Do some logic\r\n             */\r\n            channel.basicAck(envelope.getDeliveryTag(), false);\r\n        }\r\n\r\n\r\n\r\nTIA ","title":"Can two consumers get same set of messages while retrieving messages using an Pull based Manner?","body":"<p>So I have a one client-server based ecosystem where I am using RabbitMQ as a persistent Middleware.</p>\n\n<p>Now the flow of a single message goes like this.</p>\n\n<ul>\n<li>Step-1: Client A sends a message to the server with the destination\nbeing set to Client B in the metadata of that message.</li>\n<li>Step-2: Server upon receiving a message pushes the message to the\nRabbitMQ and sends Client B a notification that he has some messages\nto fetch.</li>\n<li>Step-3: Client B upon getting notified calls the fetch message API to\nget messages from the server.</li>\n<li>Step-4: On the server, after getting called from the Client B pulls\nmessages from the RabbitMQ using the pull-based approach\n(<code>channel.basicGet(queueName, false)</code>) and hands over the list of\nmessages.</li>\n</ul>\n\n<p>Now in the above flow, there are few things that I have some doubt with. </p>\n\n<p>First of all, if my client receives two notifications and calls the pull message API twice, there might be a concurrency problem.</p>\n\n<p>Suppose I am not sending the message Acknowledgement while getting the message but I am sending afterwards, then can It be possible that the same message being sent to two pull API? If so is there any way to prevent this from happening?</p>\n\n<p>Sample Code to Get Message From the MQ:</p>\n\n<pre><code>    long currentMessageCount = channel.messageCount(QUEUE_NAME);\n    while (currentMessageCount-- &gt; 0) {\n        GetResponse getResponse = channel.basicGet(QUEUE_NAME, false);\n        if (getResponse == null) {\n            break;\n        }\n        AMQP.BasicProperties props        = getResponse.getProps();\n        Envelope             envelope     = getResponse.getEnvelope();\n        int                  messageCount = getResponse.getMessageCount();\n        byte[]               body         = getResponse.getBody();\n        /*\n            Do some logic\n         */\n        channel.basicAck(envelope.getDeliveryTag(), false);\n    }\n</code></pre>\n\n<p>TIA </p>\n"},{"tags":["java","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697142193,"creation_date":1533591460,"answer_id":51715985,"question_id":51706696,"body_markdown":"Yes you found a bug in the tutorial code. I have opened a pull request to fix it here and you can find the explanation of what&#39;s happening as well:\r\n\r\nhttps://github.com/rabbitmq/rabbitmq-tutorials/pull/174\r\n","title":"RabbitMQ doesn&#39;t choose a right consumer","body":"<p>Yes you found a bug in the tutorial code. I have opened a pull request to fix it here and you can find the explanation of what's happening as well:</p>\n<p><a href=\"https://github.com/rabbitmq/rabbitmq-tutorials/pull/174\" rel=\"nofollow noreferrer\">https://github.com/rabbitmq/rabbitmq-tutorials/pull/174</a></p>\n"},{"tags":[],"owner":{"account_id":13802804,"reputation":96,"user_id":9962449,"display_name":"Arnaud Cogolu&#232;gnes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534146568,"creation_date":1534146568,"answer_id":51817543,"question_id":51706696,"body_markdown":"This example is simplistic: it uses one queue for the reply. By sending a second request, you register a new consumer to the reply, but the consumer of the first request is still listening and actually _steals the response of the second request_. That&#39;s why the client seems to use the same correlation ID.\r\n\r\nWe [updated the client code](https://github.com/rabbitmq/rabbitmq-tutorials/pull/175/files) to use an exclusive, auto-delete queue for each request. This queue will be auto-deleted by the server because its only consumer is unsubscribed after the response has been received. This is a bit more involved but closer to a real-world scenario.\r\n\r\nNote the best way to deal with the reply queue with RabbitMQ is to use [direct reply-to](https://www.rabbitmq.com/direct-reply-to.html). This uses pseudo-queues which are lighter than real queues. We don&#39;t mention direct reply-to in the tutorial to keep it as simple as possible, but this is the preferred feature to use in production.","title":"RabbitMQ doesn&#39;t choose a right consumer","body":"<p>This example is simplistic: it uses one queue for the reply. By sending a second request, you register a new consumer to the reply, but the consumer of the first request is still listening and actually <em>steals the response of the second request</em>. That's why the client seems to use the same correlation ID.</p>\n\n<p>We <a href=\"https://github.com/rabbitmq/rabbitmq-tutorials/pull/175/files\" rel=\"nofollow noreferrer\">updated the client code</a> to use an exclusive, auto-delete queue for each request. This queue will be auto-deleted by the server because its only consumer is unsubscribed after the response has been received. This is a bit more involved but closer to a real-world scenario.</p>\n\n<p>Note the best way to deal with the reply queue with RabbitMQ is to use <a href=\"https://www.rabbitmq.com/direct-reply-to.html\" rel=\"nofollow noreferrer\">direct reply-to</a>. This uses pseudo-queues which are lighter than real queues. We don't mention direct reply-to in the tutorial to keep it as simple as possible, but this is the preferred feature to use in production.</p>\n"}],"owner":{"account_id":5049622,"reputation":942,"user_id":4054598,"accept_rate":57,"display_name":"alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51715985,"answer_count":2,"score":0,"last_activity_date":1697142193,"creation_date":1533555251,"question_id":51706696,"body_markdown":"I took the example from here http://www.rabbitmq.com/tutorials/tutorial-six-java.html, added one more RPC call from `RPCClient` and added some logging into stdout. As a result, when the second call is executed, rabbitmq uses the consumer with wrong correlation id which is not expected behavior. Is it a bug or am I getting anything wrong?\r\n\r\nRPCServer:\r\n\r\n    package com.foo.rabbitmq;\r\n    \r\n    import com.rabbitmq.client.ConnectionFactory;\r\n    import com.rabbitmq.client.Connection;\r\n    import com.rabbitmq.client.Channel;\r\n    import com.rabbitmq.client.Consumer;\r\n    import com.rabbitmq.client.DefaultConsumer;\r\n    import com.rabbitmq.client.AMQP;\r\n    import com.rabbitmq.client.Envelope;\r\n\r\n    import java.io.IOException;\r\n    import java.util.concurrent.TimeoutException;\r\n\r\n    public class RPCServer {\r\n\r\n      private static final String RPC_QUEUE_NAME = &quot;sap-consume&quot;;\r\n\r\n      private static int fib(int n) {\r\n        if (n ==0) return 0;\r\n        if (n == 1) return 1;\r\n        return fib(n-1) + fib(n-2);\r\n      }\r\n\r\n      public static void main(String[] argv) {\r\n        ConnectionFactory factory = new ConnectionFactory();\r\n        factory.setHost(&quot;localhost&quot;);\r\n        factory.setPort(5672);\r\n\r\n        Connection connection = null;\r\n        try {\r\n          connection      = factory.newConnection();\r\n          final Channel channel = connection.createChannel();\r\n\r\n          channel.queueDeclare(RPC_QUEUE_NAME, false, false, false, null);\r\n\r\n          channel.basicQos(1);\r\n\r\n          System.out.println(&quot; [x] Awaiting RPC requests&quot;);\r\n\r\n          Consumer consumer = new DefaultConsumer(channel) {\r\n            @Override\r\n            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\r\n              AMQP.BasicProperties replyProps = new AMQP.BasicProperties\r\n                .Builder()\r\n                .correlationId(properties.getCorrelationId())\r\n                .build();\r\n\r\n              String response = &quot;&quot;;\r\n\r\n              try {\r\n                String message = new String(body,&quot;UTF-8&quot;);\r\n                int n = Integer.parseInt(message);\r\n\r\n                System.out.println(&quot; [.] fib(&quot; + message + &quot;)&quot;);\r\n                response += fib(n);\r\n              }\r\n              catch (RuntimeException e){\r\n                System.out.println(&quot; [.] &quot; + e.toString());\r\n              }\r\n              finally {\r\n                channel.basicPublish( &quot;&quot;, properties.getReplyTo(), replyProps, response.getBytes(&quot;UTF-8&quot;));\r\n                channel.basicAck(envelope.getDeliveryTag(), false);\r\n            // RabbitMq consumer worker thread notifies the RPC server owner thread\r\n                synchronized(this) {\r\n                  this.notify();\r\n                }\r\n              }\r\n            }\r\n          };\r\n\r\n          channel.basicConsume(RPC_QUEUE_NAME, false, consumer);\r\n          // Wait and be prepared to consume the message from RPC client.\r\n          while (true) {\r\n            synchronized(consumer) {\r\n              try {\r\n                consumer.wait();\r\n              } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n              }\r\n            }\r\n          }\r\n        } catch (IOException | TimeoutException e) {\r\n          e.printStackTrace();\r\n        }\r\n        finally {\r\n          if (connection != null)\r\n            try {\r\n              connection.close();\r\n            } catch (IOException _ignore) {}\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nRPCCLient:\r\n\r\n    package com.bar.rabbitmq;\r\n\r\n    import com.rabbitmq.client.ConnectionFactory;\r\n    import com.rabbitmq.client.Connection;\r\n    import com.rabbitmq.client.Channel;\r\n    import com.rabbitmq.client.DefaultConsumer;\r\n    import com.rabbitmq.client.AMQP;\r\n    import com.rabbitmq.client.Envelope;\r\n\r\n    import java.io.IOException;\r\n    import java.util.UUID;\r\n    import java.util.concurrent.ArrayBlockingQueue;\r\n    import java.util.concurrent.BlockingQueue;\r\n    import java.util.concurrent.TimeoutException;\r\n\r\n    public class RPCClient {\r\n\r\n      private Connection connection;\r\n      private Channel channel;\r\n      private String requestQueueName = &quot;sap-consume&quot;;\r\n      private String replyQueueName;\r\n\r\n      public RPCClient() throws IOException, TimeoutException {\r\n        ConnectionFactory factory = new ConnectionFactory();\r\n        factory.setHost(&quot;localhost&quot;);\r\n        factory.setPort(5672);\r\n\r\n        connection = factory.newConnection();\r\n        channel = connection.createChannel();\r\n\r\n        replyQueueName = channel.queueDeclare().getQueue();\r\n      }\r\n\r\n      public String call(String message) throws IOException, InterruptedException {\r\n        final String corrId = UUID.randomUUID().toString();\r\n\r\n        AMQP.BasicProperties props = new AMQP.BasicProperties\r\n          .Builder()\r\n          .correlationId(corrId)\r\n          .replyTo(replyQueueName)\r\n          .build();\r\n\r\n        channel.basicPublish(&quot;&quot;, requestQueueName, props, message.getBytes(&quot;UTF-8&quot;));\r\n\r\n        final BlockingQueue&lt;String&gt; response = new ArrayBlockingQueue&lt;String&gt;(1);\r\n\r\n        channel.basicConsume(replyQueueName, true, new DefaultConsumer(channel) {\r\n          @Override\r\n          public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\r\n            if (properties.getCorrelationId().equals(corrId)) {\r\n              System.out.println(&quot;Correlation Id&quot; + properties.getCorrelationId() + &quot; corresponds to expected one.&quot;);\r\n              response.offer(new String(body, &quot;UTF-8&quot;));\r\n            } else {\r\n              System.out.println(&quot;Correlation Id&quot; + properties.getCorrelationId() + &quot; doesn&#39;t correspond to expected one &quot; + corrId);\r\n            }\r\n          }\r\n        });\r\n\r\n        return response.take();\r\n      }\r\n\r\n      public void close() throws IOException {\r\n        connection.close();\r\n      }\r\n\r\n      public static void main(String[] argv) {\r\n        RPCClient rpc = null;\r\n        String response = null;\r\n        try {\r\n          rpc = new RPCClient();\r\n\r\n          System.out.println(&quot; [x] Requesting fib(30)&quot;);\r\n          response = rpc.call(&quot;30&quot;);\r\n          System.out.println(&quot; [.] Got &#39;&quot; + response + &quot;&#39;&quot;);\r\n          System.out.println(&quot; [x] Requesting fib(40)&quot;);\r\n          response = rpc.call(&quot;40&quot;);\r\n          System.out.println(&quot; [.] Got &#39;&quot; + response + &quot;&#39;&quot;);\r\n        } catch (IOException | TimeoutException | InterruptedException e) {\r\n          e.printStackTrace();\r\n        } finally {\r\n          if (rpc != null) {\r\n            try {\r\n              rpc.close();\r\n            } catch (IOException _ignore) {\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n","title":"RabbitMQ doesn&#39;t choose a right consumer","body":"<p>I took the example from here <a href=\"http://www.rabbitmq.com/tutorials/tutorial-six-java.html\" rel=\"nofollow noreferrer\">http://www.rabbitmq.com/tutorials/tutorial-six-java.html</a>, added one more RPC call from <code>RPCClient</code> and added some logging into stdout. As a result, when the second call is executed, rabbitmq uses the consumer with wrong correlation id which is not expected behavior. Is it a bug or am I getting anything wrong?</p>\n\n<p>RPCServer:</p>\n\n<pre><code>package com.foo.rabbitmq;\n\nimport com.rabbitmq.client.ConnectionFactory;\nimport com.rabbitmq.client.Connection;\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.Consumer;\nimport com.rabbitmq.client.DefaultConsumer;\nimport com.rabbitmq.client.AMQP;\nimport com.rabbitmq.client.Envelope;\n\nimport java.io.IOException;\nimport java.util.concurrent.TimeoutException;\n\npublic class RPCServer {\n\n  private static final String RPC_QUEUE_NAME = \"sap-consume\";\n\n  private static int fib(int n) {\n    if (n ==0) return 0;\n    if (n == 1) return 1;\n    return fib(n-1) + fib(n-2);\n  }\n\n  public static void main(String[] argv) {\n    ConnectionFactory factory = new ConnectionFactory();\n    factory.setHost(\"localhost\");\n    factory.setPort(5672);\n\n    Connection connection = null;\n    try {\n      connection      = factory.newConnection();\n      final Channel channel = connection.createChannel();\n\n      channel.queueDeclare(RPC_QUEUE_NAME, false, false, false, null);\n\n      channel.basicQos(1);\n\n      System.out.println(\" [x] Awaiting RPC requests\");\n\n      Consumer consumer = new DefaultConsumer(channel) {\n        @Override\n        public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\n          AMQP.BasicProperties replyProps = new AMQP.BasicProperties\n            .Builder()\n            .correlationId(properties.getCorrelationId())\n            .build();\n\n          String response = \"\";\n\n          try {\n            String message = new String(body,\"UTF-8\");\n            int n = Integer.parseInt(message);\n\n            System.out.println(\" [.] fib(\" + message + \")\");\n            response += fib(n);\n          }\n          catch (RuntimeException e){\n            System.out.println(\" [.] \" + e.toString());\n          }\n          finally {\n            channel.basicPublish( \"\", properties.getReplyTo(), replyProps, response.getBytes(\"UTF-8\"));\n            channel.basicAck(envelope.getDeliveryTag(), false);\n        // RabbitMq consumer worker thread notifies the RPC server owner thread\n            synchronized(this) {\n              this.notify();\n            }\n          }\n        }\n      };\n\n      channel.basicConsume(RPC_QUEUE_NAME, false, consumer);\n      // Wait and be prepared to consume the message from RPC client.\n      while (true) {\n        synchronized(consumer) {\n          try {\n            consumer.wait();\n          } catch (InterruptedException e) {\n            e.printStackTrace();\n          }\n        }\n      }\n    } catch (IOException | TimeoutException e) {\n      e.printStackTrace();\n    }\n    finally {\n      if (connection != null)\n        try {\n          connection.close();\n        } catch (IOException _ignore) {}\n    }\n  }\n}\n</code></pre>\n\n<p>RPCCLient:</p>\n\n<pre><code>package com.bar.rabbitmq;\n\nimport com.rabbitmq.client.ConnectionFactory;\nimport com.rabbitmq.client.Connection;\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.DefaultConsumer;\nimport com.rabbitmq.client.AMQP;\nimport com.rabbitmq.client.Envelope;\n\nimport java.io.IOException;\nimport java.util.UUID;\nimport java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.TimeoutException;\n\npublic class RPCClient {\n\n  private Connection connection;\n  private Channel channel;\n  private String requestQueueName = \"sap-consume\";\n  private String replyQueueName;\n\n  public RPCClient() throws IOException, TimeoutException {\n    ConnectionFactory factory = new ConnectionFactory();\n    factory.setHost(\"localhost\");\n    factory.setPort(5672);\n\n    connection = factory.newConnection();\n    channel = connection.createChannel();\n\n    replyQueueName = channel.queueDeclare().getQueue();\n  }\n\n  public String call(String message) throws IOException, InterruptedException {\n    final String corrId = UUID.randomUUID().toString();\n\n    AMQP.BasicProperties props = new AMQP.BasicProperties\n      .Builder()\n      .correlationId(corrId)\n      .replyTo(replyQueueName)\n      .build();\n\n    channel.basicPublish(\"\", requestQueueName, props, message.getBytes(\"UTF-8\"));\n\n    final BlockingQueue&lt;String&gt; response = new ArrayBlockingQueue&lt;String&gt;(1);\n\n    channel.basicConsume(replyQueueName, true, new DefaultConsumer(channel) {\n      @Override\n      public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\n        if (properties.getCorrelationId().equals(corrId)) {\n          System.out.println(\"Correlation Id\" + properties.getCorrelationId() + \" corresponds to expected one.\");\n          response.offer(new String(body, \"UTF-8\"));\n        } else {\n          System.out.println(\"Correlation Id\" + properties.getCorrelationId() + \" doesn't correspond to expected one \" + corrId);\n        }\n      }\n    });\n\n    return response.take();\n  }\n\n  public void close() throws IOException {\n    connection.close();\n  }\n\n  public static void main(String[] argv) {\n    RPCClient rpc = null;\n    String response = null;\n    try {\n      rpc = new RPCClient();\n\n      System.out.println(\" [x] Requesting fib(30)\");\n      response = rpc.call(\"30\");\n      System.out.println(\" [.] Got '\" + response + \"'\");\n      System.out.println(\" [x] Requesting fib(40)\");\n      response = rpc.call(\"40\");\n      System.out.println(\" [.] Got '\" + response + \"'\");\n    } catch (IOException | TimeoutException | InterruptedException e) {\n      e.printStackTrace();\n    } finally {\n      if (rpc != null) {\n        try {\n          rpc.close();\n        } catch (IOException _ignore) {\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1697135573,"post_id":77283015,"comment_id":136245222,"body_markdown":"`int` is a primitive type whereas `int[]` is not and you can&#39;t use primitive types as generic type arguments.","body":"<code>int</code> is a primitive type whereas <code>int[]</code> is not and you can&#39;t use primitive types as generic type arguments."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1697136202,"post_id":77283015,"comment_id":136245349,"body_markdown":"&quot;How do I solve...&quot; The largest number in an int array can be computed *without sorting* and in one iteration through the list.","body":"&quot;How do I solve...&quot; The largest number in an int array can be computed <i>without sorting</i> and in one iteration through the list."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1697137078,"post_id":77283015,"comment_id":136245465,"body_markdown":"Why are you converting them to strings and why do you return a string? Also, what do you intend to return if the array is zero length?","body":"Why are you converting them to strings and why do you return a string? Also, what do you intend to return if the array is zero length?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1697137189,"post_id":77283015,"comment_id":136245480,"body_markdown":"`Arrays.stream(nums).max().orElse(Integer.MIN_VALUE)`","body":"<code>Arrays.stream(nums).max().orElse(Integer.MIN_VALUE)</code>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1697137828,"post_id":77283015,"comment_id":136245580,"body_markdown":"or maybe `.max().orElseThrow(() -&gt; new ArithmeticException(&quot;no largest number&quot;))`","body":"or maybe <code>.max().orElseThrow(() -&gt; new ArithmeticException(&quot;no largest number&quot;))</code>"},{"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"score":0,"creation_date":1697151189,"post_id":77283015,"comment_id":136247356,"body_markdown":"This is a stupid leetcode Q. Please do not let the strange comparator bother you","body":"This is a stupid leetcode Q. Please do not let the strange comparator bother you"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697141459,"creation_date":1697141459,"answer_id":77283583,"question_id":77283015,"body_markdown":"&gt; _&quot;... Because the comparator is operating on `Integer` and array is of type `int`. However, I can sort a 2D array if I had one and `Comparator&lt;int []&gt;` is acceptable to compiler but not `Comparator&lt;int&gt;`. Can someone help me understand why? ...&quot;_\r\n\r\nA _[generic type](https://docs.oracle.com/javase/tutorial/java/generics/index.html)_ is optimized for _[Object](https://docs.oracle.com/javase/tutorial/java/javaOO/objects.html)_ _data-types_, and not _[primitive](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)_ _data-types_.\r\n\r\n&gt; _&quot;... Secondly, how do I solve this and what is the ideal way to code this? ...&quot;_\r\n\r\nA simple solution is to just iterate _nums_ and return the maximum value.\r\n\r\n```java\r\nint m = nums[0];\r\nfor (int i = 1, n = nums.length; i &lt; n; i++)\r\n    if (nums[i] &gt; m) m = nums[i];\r\n```\r\n\r\nThe _sort_ method will work also.\r\n\r\n```java\r\nArrays.sort(nums);\r\nint m = nums[nums.length - 1];\r\n```\r\n\r\nIf you did want to use a _Comparator_, just parse the array first.\r\n\r\n```java\r\nInteger i = 0, nums2[] = new Integer[nums.length];\r\nfor (int e : nums) nums2[i++] = e;\r\n```","title":"Java boxing unboxing confusion and comparator","body":"<blockquote>\n<p><em>&quot;... Because the comparator is operating on <code>Integer</code> and array is of type <code>int</code>. However, I can sort a 2D array if I had one and <code>Comparator&lt;int []&gt;</code> is acceptable to compiler but not <code>Comparator&lt;int&gt;</code>. Can someone help me understand why? ...&quot;</em></p>\n</blockquote>\n<p>A <em><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">generic type</a></em> is optimized for <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/objects.html\" rel=\"nofollow noreferrer\">Object</a></em> <em>data-types</em>, and not <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">primitive</a></em> <em>data-types</em>.</p>\n<blockquote>\n<p><em>&quot;... Secondly, how do I solve this and what is the ideal way to code this? ...&quot;</em></p>\n</blockquote>\n<p>A simple solution is to just iterate <em>nums</em> and return the maximum value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int m = nums[0];\nfor (int i = 1, n = nums.length; i &lt; n; i++)\n    if (nums[i] &gt; m) m = nums[i];\n</code></pre>\n<p>The <em>sort</em> method will work also.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.sort(nums);\nint m = nums[nums.length - 1];\n</code></pre>\n<p>If you did want to use a <em>Comparator</em>, just parse the array first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer i = 0, nums2[] = new Integer[nums.length];\nfor (int e : nums) nums2[i++] = e;\n</code></pre>\n"}],"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697141459,"creation_date":1697135273,"question_id":77283015,"body_markdown":"This won&#39;t work:\r\n\r\n```java\r\npublic String largestNumber(int[] nums) {\r\n  Comparator&lt;Integer&gt; c = (i1,i2) -&gt; {\r\n    String s1 = String.valueOf(i1)+String.valueOf(i2);\r\n    String s2 = String.valueOf(i2)+String.valueOf(i1);\r\n    return s1.compareTo(s2);\r\n  };\r\n \r\n  Arrays.sort(nums,c);\r\n  return &quot;&quot;;\r\n}\r\n```\r\n\r\nBecause the comparator is operating on `Integer` and array is of type `int`. However, I can sort a 2D array if I had one and `Comparator&lt;int []&gt;` is acceptable to compiler but not `Comparator&lt;int&gt;`. Can someone help me understand why?\r\n\r\nSecondly, how do I solve this and what is the ideal way to code this?","title":"Java boxing unboxing confusion and comparator","body":"<p>This won't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String largestNumber(int[] nums) {\n  Comparator&lt;Integer&gt; c = (i1,i2) -&gt; {\n    String s1 = String.valueOf(i1)+String.valueOf(i2);\n    String s2 = String.valueOf(i2)+String.valueOf(i1);\n    return s1.compareTo(s2);\n  };\n \n  Arrays.sort(nums,c);\n  return &quot;&quot;;\n}\n</code></pre>\n<p>Because the comparator is operating on <code>Integer</code> and array is of type <code>int</code>. However, I can sort a 2D array if I had one and <code>Comparator&lt;int []&gt;</code> is acceptable to compiler but not <code>Comparator&lt;int&gt;</code>. Can someone help me understand why?</p>\n<p>Secondly, how do I solve this and what is the ideal way to code this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9789,"page":128,"page_size":100}
