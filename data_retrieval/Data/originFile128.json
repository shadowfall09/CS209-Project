{"items":[{"tags":["java","dependency-injection","guice"],"answers":[{"tags":[],"owner":{"account_id":1404268,"reputation":3364,"user_id":1332414,"accept_rate":100,"display_name":"Torious"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1697119539,"creation_date":1338580570,"answer_id":10856574,"question_id":10855937,"body_markdown":"The first approach you suggest is preferred:\r\n\r\n    bind(Foo.class).to(FooImpl.class).in(Scopes.SINGLETON);\r\n\r\nThis allows Guice to perform dependency injection in `FooImpl` as needed. This is *not* possible when manually binding to an instance using `toInstance()` as in your last suggestion.\r\n\r\nFinally, the Singleton design pattern [is an anti-pattern for many reasons](http://misko.hevery.com/2008/08/25/root-cause-of-singletons/). Note that this refers to the implementation using `getInstance()` and so on; having a single instance of a class for the lifetime of your app (like objects in Guice&#39;s `SINGLETON` scope) is *not* bad by any means.\r\n\r\nAlso see [Guice&#39;s page on scopes](https://github.com/google/guice/wiki/Scopes) for some usage guidelines of the singleton scope.","title":"Two singletons instances with dependency injection (Google Guice)","body":"<p>The first approach you suggest is preferred:</p>\n<pre><code>bind(Foo.class).to(FooImpl.class).in(Scopes.SINGLETON);\n</code></pre>\n<p>This allows Guice to perform dependency injection in <code>FooImpl</code> as needed. This is <em>not</em> possible when manually binding to an instance using <code>toInstance()</code> as in your last suggestion.</p>\n<p>Finally, the Singleton design pattern <a href=\"http://misko.hevery.com/2008/08/25/root-cause-of-singletons/\" rel=\"nofollow noreferrer\">is an anti-pattern for many reasons</a>. Note that this refers to the implementation using <code>getInstance()</code> and so on; having a single instance of a class for the lifetime of your app (like objects in Guice's <code>SINGLETON</code> scope) is <em>not</em> bad by any means.</p>\n<p>Also see <a href=\"https://github.com/google/guice/wiki/Scopes\" rel=\"nofollow noreferrer\">Guice's page on scopes</a> for some usage guidelines of the singleton scope.</p>\n"}],"owner":{"account_id":445358,"reputation":5145,"user_id":837765,"accept_rate":91,"display_name":"Pier-Alexandre Bouchard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3461,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10856574,"answer_count":1,"score":2,"last_activity_date":1697119539,"creation_date":1338577375,"question_id":10855937,"body_markdown":"I am working on a project using Depedency injection Google Guice Framework.\r\n\r\nIt&#39;s possible to bind a class with the singleton scope, in Guice as:\r\n\r\n    bind(Foo.class).to(FooImpl.class).in(Scopes.SINGLETON);\r\n\r\n\r\nIf `FooImpl` class is itself a real singleton class as:\r\n\r\n    public class FooImpl implements Foo{\r\n        public static final FooImpl INSTANCE = new FooImpl();\r\n        public static FooImpl getInstance(){...}\r\n        // ...\r\n    }\r\n\r\nor\r\n\r\n    public class FooImpl implements Foo{\r\n        private FooImpl instance = null;\r\n    \r\n        private FooImpl(){...}\r\n        public static FooImpl getInstance(){\r\n             if(instance == null)\r\n                 instance = new FooImpl();\r\n             return FooImpl();\r\n             // ...\r\n        }\r\n\r\n        // ...\r\n    }\r\n\r\nSo, It&#39;s could be possible to declare two singletons in the project, the first one declared by Guice and the second one by the `getInstance()` traditionnal way.\r\n\r\nGoogle Guice can also bind Interfaces to particular instance with the `toInstance()` method.\r\n\r\nSo, instead binding with the Singleton scope, shouln&#39;t be a better way to bind Singleton, in Java with this declaration:\r\n\r\n    bind(Foo.class).toInstance(FooImpl.getInstance());\r\n\r\ninstead of the first one? Is it more secure? Is it possible to have two singletons instances in that way?\r\n\r\nWhat&#39;s the best way for declaring singletons with Google Guice?","title":"Two singletons instances with dependency injection (Google Guice)","body":"<p>I am working on a project using Depedency injection Google Guice Framework.</p>\n\n<p>It's possible to bind a class with the singleton scope, in Guice as:</p>\n\n<pre><code>bind(Foo.class).to(FooImpl.class).in(Scopes.SINGLETON);\n</code></pre>\n\n<p>If <code>FooImpl</code> class is itself a real singleton class as:</p>\n\n<pre><code>public class FooImpl implements Foo{\n    public static final FooImpl INSTANCE = new FooImpl();\n    public static FooImpl getInstance(){...}\n    // ...\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>public class FooImpl implements Foo{\n    private FooImpl instance = null;\n\n    private FooImpl(){...}\n    public static FooImpl getInstance(){\n         if(instance == null)\n             instance = new FooImpl();\n         return FooImpl();\n         // ...\n    }\n\n    // ...\n}\n</code></pre>\n\n<p>So, It's could be possible to declare two singletons in the project, the first one declared by Guice and the second one by the <code>getInstance()</code> traditionnal way.</p>\n\n<p>Google Guice can also bind Interfaces to particular instance with the <code>toInstance()</code> method.</p>\n\n<p>So, instead binding with the Singleton scope, shouln't be a better way to bind Singleton, in Java with this declaration:</p>\n\n<pre><code>bind(Foo.class).toInstance(FooImpl.getInstance());\n</code></pre>\n\n<p>instead of the first one? Is it more secure? Is it possible to have two singletons instances in that way?</p>\n\n<p>What's the best way for declaring singletons with Google Guice?</p>\n"},{"tags":["java","json","spring","rest","multipartform-data"],"comments":[{"owner":{"account_id":2471950,"reputation":1483,"user_id":2153576,"accept_rate":50,"display_name":"Player_Neo"},"score":0,"creation_date":1505992900,"post_id":44671585,"comment_id":79645039,"body_markdown":"If you&#39;ve  solved would you please share your solution","body":"If you&#39;ve  solved would you please share your solution"}],"answers":[{"tags":[],"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498037184,"creation_date":1498036512,"answer_id":44671745,"question_id":44671585,"body_markdown":"You can get the profile picture as a [MultipartFile][1] by adding the following to the controller\r\n\r\n`@RequestPart(value = &quot;profilePic&quot;, required = false)  MultipartFile profilePic`\r\n\r\nSo the controller method becomes\r\n\r\n    import org.springframework.web.bind.annotation.RequestPart;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n\r\n    @RequestMapping(method = RequestMethod.POST, value = &quot;createRider&quot;)\r\n    public @ResponseBody ResponseEntity&lt;?&gt; createRider(\r\n            @RequestPart CreateRider createRider,Authentication authentication,\r\n            PersistentEntityResourceAssembler assembler, @RequestPart(value = &quot;profilePic&quot;, required = false)  MultipartFile profilePic) {\r\n    \t\r\n    }\r\n\r\n\r\n[1]:http://docs.spring.io/spring-framework/docs/2.5.6/api/org/springframework/web/multipart/MultipartFile.html","title":"Spring Data Rest : how to send Multi-part file with request Body","body":"<p>You can get the profile picture as a <a href=\"http://docs.spring.io/spring-framework/docs/2.5.6/api/org/springframework/web/multipart/MultipartFile.html\" rel=\"nofollow noreferrer\">MultipartFile</a> by adding the following to the controller</p>\n\n<p><code>@RequestPart(value = \"profilePic\", required = false)  MultipartFile profilePic</code></p>\n\n<p>So the controller method becomes</p>\n\n<pre><code>import org.springframework.web.bind.annotation.RequestPart;\nimport org.springframework.web.multipart.MultipartFile;\n\n@RequestMapping(method = RequestMethod.POST, value = \"createRider\")\npublic @ResponseBody ResponseEntity&lt;?&gt; createRider(\n        @RequestPart CreateRider createRider,Authentication authentication,\n        PersistentEntityResourceAssembler assembler, @RequestPart(value = \"profilePic\", required = false)  MultipartFile profilePic) {\n\n}\n</code></pre>\n"}],"owner":{"account_id":10222783,"reputation":634,"user_id":7546450,"accept_rate":57,"display_name":"SFAH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8863,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1697119395,"creation_date":1498036022,"question_id":44671585,"body_markdown":"I want to construct an API of user signup in which I need user basic information and his/her profile picture also so I am very confuse that how can I achieve this ! I have made a controller and requested for a body But When I access this API it gives me error of `&quot;Unsupported Media Type&quot;` and when I set content Type as `multipart/form-data` then it gives an error of : \r\n`the request was rejected because no multipart boundary was found`\r\n\r\nPlease help How can I send user information and user photo BOTH in SAME request \r\n\r\n\r\n**UPDATED : Controller**\r\n\t\r\n\r\n\t@RequestMapping(method = RequestMethod.POST, value = &quot;createRider&quot;)\r\n\tpublic @ResponseBody ResponseEntity&lt;?&gt; createRider(\r\n\t\t\t@RequestBody CreateRider createRider,Authentication authentication,\r\n\t\t\tPersistentEntityResourceAssembler assembler,@RequestPart(value = &quot;profilePic&quot;, required = false) MultipartFile file) {\r\n\t\r\n\t\tif (authentication != null &amp;&amp; authentication.getPrincipal() != null) {\r\n\t\t\tCollection&lt;? extends GrantedAuthority&gt; authorities = authentication.getAuthorities();\r\n\t\t\tboolean authorized = authorities.contains(new SimpleGrantedAuthority(&quot;rights&quot;));\r\n\t\t\tif (authorized==true)\r\n\t\t\t\tuserService.createNewRider(createRider);\r\n\t\t\telse\r\n\t\t\t\treturn  ResponseEntity.status(HttpStatus.SC_CONFLICT).body(&quot;Logged In user is not admin&quot;);\r\n\t\t} else {\r\n\t\t\t// Access denied\r\n\t\t\tthrow new AccessDeniedException(&quot;Not logged in&quot;);\r\n\t\t}\r\n\t\treturn ResponseEntity.ok(&quot;Rider Created&quot;);\r\n\t}\r\n\t\r\n**createRider.java**\r\n\r\n    public class CreateRider {\r\n    \r\n    \tprivate String email;\r\n    \r\n    \tprivate String name;\r\n    \t\r\n    \tprivate String password;\r\n    \t\r\n    \tprivate String contactNumber;\r\n    \t\r\n    \tprivate String cnicNumber;\r\n    \t\r\n    \tprivate String drivingLicense;\r\n    \t\r\n    \tprivate String reference;\r\n    \t\r\n    \tprivate MultipartFile file;\r\n    \t ..getters nad setters \r\n        }\r\n**userService.createNewRider**\r\n\r\n    public void createNewRider(CreateRider createRider) {\r\n    \t\tGroup group=groupRepo.findOne(Constants.RIDER_USER_GROUP);\r\n    \t\tUser user=new User();\r\n    \t\tuser.setGroup(group);\r\n    \t\tuser.setEmail(createRider.getEmail());\r\n    \t\tuser.setName(createRider.getName());\r\n    \t\tuser.setPassword(createRider.getPassword());\r\n    \t\tuser.setContactNumber(createRider.getContactNumber());\r\n    \t\tuser.setCnicNumber(createRider.getCnicNumber());\r\n    \t\tuser.setDrivingLicense(createRider.getDrivingLicense());\r\n    \t\tuser.setReference(createRider.getReference());\r\n    \t\tuserRepo.save(user);\r\n    \t\tRiderLocation riderLocation=new RiderLocation();\r\n    \t\triderLocation.setRider(user);\r\n    \t\triderLocationRepo.save(riderLocation);\r\n    \t\t///User Photo \r\n    \t\t UserPhoto userPhoto=photoService.createUserPhoto(createRider.getFile(), user.getId());\r\n    \t     userPhotoRepo.save(userPhoto);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}","title":"Spring Data Rest : how to send Multi-part file with request Body","body":"<p>I want to construct an API of user signup in which I need user basic information and his/her profile picture also so I am very confuse that how can I achieve this ! I have made a controller and requested for a body But When I access this API it gives me error of <code>\"Unsupported Media Type\"</code> and when I set content Type as <code>multipart/form-data</code> then it gives an error of : \n<code>the request was rejected because no multipart boundary was found</code></p>\n\n<p>Please help How can I send user information and user photo BOTH in SAME request </p>\n\n<p><strong>UPDATED : Controller</strong></p>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST, value = \"createRider\")\npublic @ResponseBody ResponseEntity&lt;?&gt; createRider(\n        @RequestBody CreateRider createRider,Authentication authentication,\n        PersistentEntityResourceAssembler assembler,@RequestPart(value = \"profilePic\", required = false) MultipartFile file) {\n\n    if (authentication != null &amp;&amp; authentication.getPrincipal() != null) {\n        Collection&lt;? extends GrantedAuthority&gt; authorities = authentication.getAuthorities();\n        boolean authorized = authorities.contains(new SimpleGrantedAuthority(\"rights\"));\n        if (authorized==true)\n            userService.createNewRider(createRider);\n        else\n            return  ResponseEntity.status(HttpStatus.SC_CONFLICT).body(\"Logged In user is not admin\");\n    } else {\n        // Access denied\n        throw new AccessDeniedException(\"Not logged in\");\n    }\n    return ResponseEntity.ok(\"Rider Created\");\n}\n</code></pre>\n\n<p><strong>createRider.java</strong></p>\n\n<pre><code>public class CreateRider {\n\n    private String email;\n\n    private String name;\n\n    private String password;\n\n    private String contactNumber;\n\n    private String cnicNumber;\n\n    private String drivingLicense;\n\n    private String reference;\n\n    private MultipartFile file;\n     ..getters nad setters \n    }\n</code></pre>\n\n<p><strong>userService.createNewRider</strong></p>\n\n<pre><code>public void createNewRider(CreateRider createRider) {\n        Group group=groupRepo.findOne(Constants.RIDER_USER_GROUP);\n        User user=new User();\n        user.setGroup(group);\n        user.setEmail(createRider.getEmail());\n        user.setName(createRider.getName());\n        user.setPassword(createRider.getPassword());\n        user.setContactNumber(createRider.getContactNumber());\n        user.setCnicNumber(createRider.getCnicNumber());\n        user.setDrivingLicense(createRider.getDrivingLicense());\n        user.setReference(createRider.getReference());\n        userRepo.save(user);\n        RiderLocation riderLocation=new RiderLocation();\n        riderLocation.setRider(user);\n        riderLocationRepo.save(riderLocation);\n        ///User Photo \n         UserPhoto userPhoto=photoService.createUserPhoto(createRider.getFile(), user.getId());\n         userPhotoRepo.save(userPhoto);\n\n\n\n    }\n</code></pre>\n"},{"tags":["java","docker","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":11475744,"reputation":205,"user_id":8411319,"display_name":"Radu Aramă"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681846340,"creation_date":1681846340,"answer_id":76048435,"question_id":76048349,"body_markdown":"Apparently, I had to specify \r\n\r\n    factory.setPort(5673);\r\n\r\nbefore\r\n\r\n    Connection connection = factory.newConnection(&quot;amqp://guest:guest@localhost:5673&quot;);\r\n\r\nI hope this helps someone.","title":"Not able to connect to rabbitmq instance using Java","body":"<p>Apparently, I had to specify</p>\n<pre><code>factory.setPort(5673);\n</code></pre>\n<p>before</p>\n<pre><code>Connection connection = factory.newConnection(&quot;amqp://guest:guest@localhost:5673&quot;);\n</code></pre>\n<p>I hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697119086,"creation_date":1681909705,"answer_id":76054909,"question_id":76048349,"body_markdown":"You are using the `newConnection` override that specifies a **connection name**: [code](https://github.com/rabbitmq/rabbitmq-java-client/blob/ec58b5078cefd9765e2a30eff422a3b0b97aef4c/src/main/java/com/rabbitmq/client/ConnectionFactory.java#L1293-L1307)\r\n\r\nIf you wish to use an AMQP URI, use the `setUri` method on the `ConnectionFactory` instance: [code](https://github.com/rabbitmq/rabbitmq-java-client/blob/ec58b5078cefd9765e2a30eff422a3b0b97aef4c/src/main/java/com/rabbitmq/client/ConnectionFactory.java#L301-L310)\r\n\r\n","title":"Not able to connect to rabbitmq instance using Java","body":"<p>You are using the <code>newConnection</code> override that specifies a <strong>connection name</strong>: <a href=\"https://github.com/rabbitmq/rabbitmq-java-client/blob/ec58b5078cefd9765e2a30eff422a3b0b97aef4c/src/main/java/com/rabbitmq/client/ConnectionFactory.java#L1293-L1307\" rel=\"nofollow noreferrer\">code</a></p>\n<p>If you wish to use an AMQP URI, use the <code>setUri</code> method on the <code>ConnectionFactory</code> instance: <a href=\"https://github.com/rabbitmq/rabbitmq-java-client/blob/ec58b5078cefd9765e2a30eff422a3b0b97aef4c/src/main/java/com/rabbitmq/client/ConnectionFactory.java#L301-L310\" rel=\"nofollow noreferrer\">code</a></p>\n"}],"owner":{"account_id":11475744,"reputation":205,"user_id":8411319,"display_name":"Radu Aramă"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697119086,"creation_date":1681845701,"question_id":76048349,"body_markdown":"Currently I have two rabbitmq docker containers in my environment. One of them has the external port set to 5672 and another one is using 5673. From my java program (which is not dockerized) I am trying to connect to the container listening on 5673 by using the amqp-client maven library. \r\nThe code looks something like this:\r\n\r\n    ConnectionFactory factory = new ConnectionFactory();\r\n    Connection connection = factory.newConnection(&quot;amqp://guest:guest@localhost:5673&quot;);\r\n\r\n    Channel channel = connection.createChannel();\r\n    channel.queueDeclare(&quot;region&quot;, true, false, false, null);\r\n\r\n    DefaultConsumer consumer =\r\n        new DefaultConsumer(channel) {\r\n\r\n          @Override\r\n          public void handleConsumeOk(String consumerTag) {\r\n            super.handleConsumeOk(consumerTag);\r\n          }\r\n\r\n          @Override\r\n          public void handleDelivery(\r\n              String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body)\r\n              throws IOException {\r\n            String message = new String(body, StandardCharsets.UTF_8);\r\n            log.info(message);\r\n          }\r\n        };\r\n\r\n    channel.queueBind(&quot;region&quot;, &quot;gas_region&quot;, &quot;&quot;);\r\n    channel.basicConsume(&quot;region&quot;, true, consumer);\r\n\r\nThe problem I have is that my Java program keeps connecting to the 5672 instance instead of the one listening on 5673. I noticed that because I see the created queue in the 5672 instance instead of the other one and also my program doesn&#39;t find the configured exchange in the 5673 instance.\r\nDoes someone have any ideas on what could be the problem? \r\n\r\nThe docker compose configuration for my rabbitmq instances looks like this:\r\n\r\n    input_mb:\r\n        image: rabbitmq:3-management\r\n        hostname: rabbit1\r\n        container_name: input_mb\r\n        ports:\r\n            - 5672:5672\r\n            - 15672:15672\r\n        volumes:\r\n            - &quot;./input_mb/rabbitmq.config:/etc/rabbitmq/rabbitmq.config&quot;\r\n            - &quot;./input_mb/definitions.json:/etc/rabbitmq/definitions.json&quot;\r\n        networks:\r\n            - common_network\r\n\r\n    output_mb:\r\n        image: rabbitmq:3-management\r\n        hostname: rabbit2\r\n        container_name: output_mb\r\n        ports:\r\n            - 5673:5672\r\n            - 15673:15672\r\n        volumes:\r\n            - &quot;./output_mb/rabbitmq.config:/etc/rabbitmq/rabbitmq.config&quot;\r\n            - &quot;./output_mb/definitions.json:/etc/rabbitmq/definitions.json&quot;\r\n        networks:\r\n            - common_network\r\n","title":"Not able to connect to rabbitmq instance using Java","body":"<p>Currently I have two rabbitmq docker containers in my environment. One of them has the external port set to 5672 and another one is using 5673. From my java program (which is not dockerized) I am trying to connect to the container listening on 5673 by using the amqp-client maven library.\nThe code looks something like this:</p>\n<pre><code>ConnectionFactory factory = new ConnectionFactory();\nConnection connection = factory.newConnection(&quot;amqp://guest:guest@localhost:5673&quot;);\n\nChannel channel = connection.createChannel();\nchannel.queueDeclare(&quot;region&quot;, true, false, false, null);\n\nDefaultConsumer consumer =\n    new DefaultConsumer(channel) {\n\n      @Override\n      public void handleConsumeOk(String consumerTag) {\n        super.handleConsumeOk(consumerTag);\n      }\n\n      @Override\n      public void handleDelivery(\n          String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body)\n          throws IOException {\n        String message = new String(body, StandardCharsets.UTF_8);\n        log.info(message);\n      }\n    };\n\nchannel.queueBind(&quot;region&quot;, &quot;gas_region&quot;, &quot;&quot;);\nchannel.basicConsume(&quot;region&quot;, true, consumer);\n</code></pre>\n<p>The problem I have is that my Java program keeps connecting to the 5672 instance instead of the one listening on 5673. I noticed that because I see the created queue in the 5672 instance instead of the other one and also my program doesn't find the configured exchange in the 5673 instance.\nDoes someone have any ideas on what could be the problem?</p>\n<p>The docker compose configuration for my rabbitmq instances looks like this:</p>\n<pre><code>input_mb:\n    image: rabbitmq:3-management\n    hostname: rabbit1\n    container_name: input_mb\n    ports:\n        - 5672:5672\n        - 15672:15672\n    volumes:\n        - &quot;./input_mb/rabbitmq.config:/etc/rabbitmq/rabbitmq.config&quot;\n        - &quot;./input_mb/definitions.json:/etc/rabbitmq/definitions.json&quot;\n    networks:\n        - common_network\n\noutput_mb:\n    image: rabbitmq:3-management\n    hostname: rabbit2\n    container_name: output_mb\n    ports:\n        - 5673:5672\n        - 15673:15672\n    volumes:\n        - &quot;./output_mb/rabbitmq.config:/etc/rabbitmq/rabbitmq.config&quot;\n        - &quot;./output_mb/definitions.json:/etc/rabbitmq/definitions.json&quot;\n    networks:\n        - common_network\n</code></pre>\n"},{"tags":["java","spring-boot","datasource"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697090206,"post_id":77277104,"comment_id":136236026,"body_markdown":"You shouldn&#39;t be using a database lookup. Inject the `ApplicationContext` and just do `applicationContext.getBean(name, DataSource.class)`. The `BeanFactoryDataSourceLookup` would also work if you pre-configure it as a bean and inject it as a dependency.","body":"You shouldn&#39;t be using a database lookup. Inject the <code>ApplicationContext</code> and just do <code>applicationContext.getBean(name, DataSource.class)</code>. The <code>BeanFactoryDataSourceLookup</code> would also work if you pre-configure it as a bean and inject it as a dependency."},{"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"score":0,"creation_date":1697118618,"post_id":77277104,"comment_id":136241672,"body_markdown":"@M.Deinum Thanks.  I&#39;ve updated the question with the changes I&#39;ve made per your suggestion.  Now I&#39;m getting errors that the named bean doesn&#39;t exist.  Am I doing something wrong in the application.yml file?","body":"@M.Deinum Thanks.  I&#39;ve updated the question with the changes I&#39;ve made per your suggestion.  Now I&#39;m getting errors that the named bean doesn&#39;t exist.  Am I doing something wrong in the application.yml file?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697118997,"post_id":77277104,"comment_id":136241767,"body_markdown":"Well just adding that information to the yaml doesn&#39;t do anything. You will need to create beans for it, spring will not automatically create beans for you for this.","body":"Well just adding that information to the yaml doesn&#39;t do anything. You will need to create beans for it, spring will not automatically create beans for you for this."},{"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"score":0,"creation_date":1697129856,"post_id":77277104,"comment_id":136244143,"body_markdown":"@M.Deinum Thanks for being patient with me (new to Spring .  I think this effectively means that I have to hard code a DataSource bean for every data source...","body":"@M.Deinum Thanks for being patient with me (new to Spring .  I think this effectively means that I have to hard code a DataSource bean for every data source..."}],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697118993,"creation_date":1697071863,"question_id":77277104,"body_markdown":"The top-level question:  How do I use a DataSourceLookup to obtain a named DataSource that is configured in application.yml?\r\n\r\n**Details**\r\n\r\nI am trying to perform jdbc queries against different named datasources in a spring boot application (REST interface).\r\n\r\nThe datasource to execute against is determined at runtime based on parameters passed to the endpoint. The interactions with the datasource are all low level jdbc (no JPA or anything like that).\r\n\r\nI want to be able to configure multiple datasources in application.yml, then obtain a DataSource object using only the name.  I don&#39;t want to explicitly configure container level jndi resources.\r\n\r\nThe connection will have high traffic, so connection pooling, etc... is a requirement (I&#39;m assuming that Spring-Boot configures a reasonable connection pool by default).\r\n\r\napplication.yml:\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    source1:\r\n      driver-class-name: com.mysql.jdbc.Driver\r\n      url:      jdbc:mysql://dbserver.local:3306/source1\r\n      username: myuser\r\n      password: mypass\r\n    source2:\r\n      driver-class-name: com.mysql.jdbc.Driver\r\n      url:      jdbc:mysql://dbserver.local:3306/source2\r\n      username: myuser\r\n      password: mypass\r\n```\r\n\r\nI&#39;m attempting to use a JndiDataSourceLookup bean (I don&#39;t think I should be using JNDI - but I can&#39;t figure out what other DataSourceLookup I should be using), as follows:\r\n\r\n```\r\n@RestController\r\npublic class SQLDataController {\r\n\tstatic final private Logger log = LoggerFactory.getLogger(SQLDataController.class);\r\n\r\n\t@GetMapping(value=&quot;/csv/**&quot;, produces = &quot;text/csv&quot;)\r\n\tpublic void streamCsv(@RequestParam String databaseName, JndiDataSourceLookup lookup) throws Exception {\r\n        DataSource dataSource = lookup.getDataSource(databaseName);\r\n        Connection conn = dataSource.getConnection();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nWhen I hit this endpoint, I get the following error:\r\n\r\n```\r\njavax.naming.NoInitialContextException: Need to specify class name in environment or system property, or in an application resource file: java.naming.factory.initial\r\n\tat java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:702) ~[na:na]\r\n\tat java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305) ~[na:na]\r\n\tat java.naming/javax.naming.InitialContext.getURLOrDefaultInitCtx(InitialContext.java:342) ~[na:na]\r\n\tat java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409) ~[na:na]\r\n\tat org.springframework.jndi.JndiTemplate.lambda$lookup$0(JndiTemplate.java:157) ~[spring-context-5.3.30.jar:5.3.30]\r\n\tat org.springframework.jndi.JndiTemplate.execute(JndiTemplate.java:92) ~[spring-context-5.3.30.jar:5.3.30]\r\n\tat org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:157) ~[spring-context-5.3.30.jar:5.3.30]\r\n\tat org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:179) ~[spring-context-5.3.30.jar:5.3.30]\r\n\tat org.springframework.jndi.JndiLocatorSupport.lookup(JndiLocatorSupport.java:105) ~[spring-context-5.3.30.jar:5.3.30]\r\n\tat org.springframework.jdbc.datasource.lookup.JndiDataSourceLookup.getDataSource(JndiDataSourceLookup.java:45) ~[spring-jdbc-5.3.30.jar:5.3.30]\r\n```\r\n\r\n\r\nSo I&#39;m thinking I&#39;m trying to access jndi when jndi isn&#39;t even being used (I don&#39;t really *need* JNDI, I don&#39;t think) - but I&#39;m not sure what other DataSourceLookup I should use or how to initialize it (maybe I should be using BeanFactoryDataSourceLookup somehow?).\r\n\r\nI&#39;m fairly new to Spring, and all of the examples I can find assume a fixed set of datasources that are known at compile time.\r\n\r\n-----------\r\n\r\n**Update: Using BeanFactoryDataSourceLookup**\r\n\r\nPer suggestions, I&#39;m creating a BeanFactoryDataSourceLookup in my app configuration (with singleton scope - not sure if that important or not).\r\n\r\n```\r\n@Configuration\r\npublic class AppConfig {\r\n\t@Bean\r\n\t@Scope(&quot;singleton&quot;)\r\n\tpublic DataSourceLookup createDataSourceLookup() {\r\n\t\treturn new BeanFactoryDataSourceLookup();\r\n\t}\r\n}\r\n```\r\n\r\nAnd I&#39;m injecting it into the controller constructor:\r\n\r\n```\r\n@RestController\r\npublic class SQLDataController {\r\n\tstatic final private Logger log = LoggerFactory.getLogger(SQLDataController.class);\r\n\r\n\tprivate final DataSourceLookup datasourceLookup;\r\n\t\r\n\t@Autowired\r\n\tpublic SQLDataController(ApplicationContext appContext, DataSourceLookup datasourceLookup) {\r\n\t\tthis.datasourceLookup = datasourceLookup;\r\n\t}\r\n\t\r\n\t@GetMapping(value=&quot;/csv/**&quot;, produces = &quot;text/csv&quot;)\r\n\tpublic void streamCsv(@RequestParam String databaseName) throws Exception {\r\n\t\tDataSource dataSource = datasourceLookup.getDataSource(databaseName);\r\n        Connection conn = dataSource.getConnection();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nWhen I hit the endpoint, I&#39;m getting error that the named bean doesn&#39;t exist.\r\n\r\n```\r\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;source1&#39; available\r\n```\r\n\r\nThis is making me think that maybe I&#39;m doing something wrong with the application.yml file format...  Or maybe I am misunderstanding this entirely and I have to manually enumerate the datasources and create beans for them myself?","title":"Accessing multiple data sources by name - configured in spring boot application yml","body":"<p>The top-level question:  How do I use a DataSourceLookup to obtain a named DataSource that is configured in application.yml?</p>\n<p><strong>Details</strong></p>\n<p>I am trying to perform jdbc queries against different named datasources in a spring boot application (REST interface).</p>\n<p>The datasource to execute against is determined at runtime based on parameters passed to the endpoint. The interactions with the datasource are all low level jdbc (no JPA or anything like that).</p>\n<p>I want to be able to configure multiple datasources in application.yml, then obtain a DataSource object using only the name.  I don't want to explicitly configure container level jndi resources.</p>\n<p>The connection will have high traffic, so connection pooling, etc... is a requirement (I'm assuming that Spring-Boot configures a reasonable connection pool by default).</p>\n<p>application.yml:</p>\n<pre><code>spring:\n  datasource:\n    source1:\n      driver-class-name: com.mysql.jdbc.Driver\n      url:      jdbc:mysql://dbserver.local:3306/source1\n      username: myuser\n      password: mypass\n    source2:\n      driver-class-name: com.mysql.jdbc.Driver\n      url:      jdbc:mysql://dbserver.local:3306/source2\n      username: myuser\n      password: mypass\n</code></pre>\n<p>I'm attempting to use a JndiDataSourceLookup bean (I don't think I should be using JNDI - but I can't figure out what other DataSourceLookup I should be using), as follows:</p>\n<pre><code>@RestController\npublic class SQLDataController {\n    static final private Logger log = LoggerFactory.getLogger(SQLDataController.class);\n\n    @GetMapping(value=&quot;/csv/**&quot;, produces = &quot;text/csv&quot;)\n    public void streamCsv(@RequestParam String databaseName, JndiDataSourceLookup lookup) throws Exception {\n        DataSource dataSource = lookup.getDataSource(databaseName);\n        Connection conn = dataSource.getConnection();\n    }\n    \n}\n</code></pre>\n<p>When I hit this endpoint, I get the following error:</p>\n<pre><code>javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or in an application resource file: java.naming.factory.initial\n    at java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:702) ~[na:na]\n    at java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305) ~[na:na]\n    at java.naming/javax.naming.InitialContext.getURLOrDefaultInitCtx(InitialContext.java:342) ~[na:na]\n    at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409) ~[na:na]\n    at org.springframework.jndi.JndiTemplate.lambda$lookup$0(JndiTemplate.java:157) ~[spring-context-5.3.30.jar:5.3.30]\n    at org.springframework.jndi.JndiTemplate.execute(JndiTemplate.java:92) ~[spring-context-5.3.30.jar:5.3.30]\n    at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:157) ~[spring-context-5.3.30.jar:5.3.30]\n    at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:179) ~[spring-context-5.3.30.jar:5.3.30]\n    at org.springframework.jndi.JndiLocatorSupport.lookup(JndiLocatorSupport.java:105) ~[spring-context-5.3.30.jar:5.3.30]\n    at org.springframework.jdbc.datasource.lookup.JndiDataSourceLookup.getDataSource(JndiDataSourceLookup.java:45) ~[spring-jdbc-5.3.30.jar:5.3.30]\n</code></pre>\n<p>So I'm thinking I'm trying to access jndi when jndi isn't even being used (I don't really <em>need</em> JNDI, I don't think) - but I'm not sure what other DataSourceLookup I should use or how to initialize it (maybe I should be using BeanFactoryDataSourceLookup somehow?).</p>\n<p>I'm fairly new to Spring, and all of the examples I can find assume a fixed set of datasources that are known at compile time.</p>\n<hr />\n<p><strong>Update: Using BeanFactoryDataSourceLookup</strong></p>\n<p>Per suggestions, I'm creating a BeanFactoryDataSourceLookup in my app configuration (with singleton scope - not sure if that important or not).</p>\n<pre><code>@Configuration\npublic class AppConfig {\n    @Bean\n    @Scope(&quot;singleton&quot;)\n    public DataSourceLookup createDataSourceLookup() {\n        return new BeanFactoryDataSourceLookup();\n    }\n}\n</code></pre>\n<p>And I'm injecting it into the controller constructor:</p>\n<pre><code>@RestController\npublic class SQLDataController {\n    static final private Logger log = LoggerFactory.getLogger(SQLDataController.class);\n\n    private final DataSourceLookup datasourceLookup;\n    \n    @Autowired\n    public SQLDataController(ApplicationContext appContext, DataSourceLookup datasourceLookup) {\n        this.datasourceLookup = datasourceLookup;\n    }\n    \n    @GetMapping(value=&quot;/csv/**&quot;, produces = &quot;text/csv&quot;)\n    public void streamCsv(@RequestParam String databaseName) throws Exception {\n        DataSource dataSource = datasourceLookup.getDataSource(databaseName);\n        Connection conn = dataSource.getConnection();\n    }\n    \n}\n</code></pre>\n<p>When I hit the endpoint, I'm getting error that the named bean doesn't exist.</p>\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'source1' available\n</code></pre>\n<p>This is making me think that maybe I'm doing something wrong with the application.yml file format...  Or maybe I am misunderstanding this entirely and I have to manually enumerate the datasources and create beans for them myself?</p>\n"},{"tags":["java","fast-excel"],"owner":{"account_id":9682089,"reputation":553,"user_id":7183399,"accept_rate":0,"display_name":"Mark Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697118824,"creation_date":1697118824,"question_id":77281226,"body_markdown":"I&#39;m writing data to a spreadsheet using FastExcel/Java using the overloaded method\r\n\r\n    worksheet.value(rowIndex, columnIndex, value);\r\n\r\nOne would expect the celltype is determined by the type of the value.\r\nUnfortunately this is not the case. All celltypes are &#39;Standard.&#39;\r\nThis results in displaying a date as its numerical value and strings consisting of decimals **with** leading zeros as strings **without** leading zeros.\r\nIn poi the value sets the celltype. Somehow this is not the case in FastExcel.\r\nWhat am I missing? Can I explicitly set the celltype?","title":"Celltypes in FastExel: writing data","body":"<p>I'm writing data to a spreadsheet using FastExcel/Java using the overloaded method</p>\n<pre><code>worksheet.value(rowIndex, columnIndex, value);\n</code></pre>\n<p>One would expect the celltype is determined by the type of the value.\nUnfortunately this is not the case. All celltypes are 'Standard.'\nThis results in displaying a date as its numerical value and strings consisting of decimals <strong>with</strong> leading zeros as strings <strong>without</strong> leading zeros.\nIn poi the value sets the celltype. Somehow this is not the case in FastExcel.\nWhat am I missing? Can I explicitly set the celltype?</p>\n"},{"tags":["java","tomcat","file-upload","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":1610757,"reputation":1067,"user_id":1856573,"accept_rate":90,"display_name":"lapadets"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1597136549,"creation_date":1493755206,"answer_id":43746267,"question_id":40355743,"body_markdown":"Try adding the following in your application.properties to set the file size limit:\r\n\r\n    spring.http.multipart.max-file-size=256KB\r\n    spring.http.multipart.max-request-size=256KB\r\n\r\nSource: https://spring.io/guides/gs/uploading-files/\r\n\r\nEDIT: \r\nSince Spring boot 2.0 release, the property names have changed to:\r\n\r\n    spring.servlet.multipart.max-file-size=128KB\r\n    spring.servlet.multipart.max-request-size=128KB\r\n\r\nNote the difference `spring.http.` --&gt; `spring.servlet.`","title":"File upload in Spring Boot: Uploading, validation, and exception handling","body":"<p>Try adding the following in your application.properties to set the file size limit:</p>\n<pre><code>spring.http.multipart.max-file-size=256KB\nspring.http.multipart.max-request-size=256KB\n</code></pre>\n<p>Source: <a href=\"https://spring.io/guides/gs/uploading-files/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/uploading-files/</a></p>\n<p>EDIT:\nSince Spring boot 2.0 release, the property names have changed to:</p>\n<pre><code>spring.servlet.multipart.max-file-size=128KB\nspring.servlet.multipart.max-request-size=128KB\n</code></pre>\n<p>Note the difference <code>spring.http.</code> --&gt; <code>spring.servlet.</code></p>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1519043477,"creation_date":1519043477,"answer_id":48866285,"question_id":40355743,"body_markdown":"To reply on how to check file types: I have created a custom validator for this.\r\n\r\nFirst, create an annotation:\r\n\r\n    import javax.validation.Constraint;\r\n    import javax.validation.Payload;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Target(ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Constraint(validatedBy = {ImageFileValidator.class})\r\n    public @interface ValidImage {\r\n        String message() default &quot;Invalid image file&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\nNext, create the validator itself:\r\n\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    \r\n    public class ImageFileValidator implements ConstraintValidator&lt;ValidImage, MultipartFile&gt; {\r\n    \r\n        @Override\r\n        public void initialize(ValidImage constraintAnnotation) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(MultipartFile multipartFile, ConstraintValidatorContext context) {\r\n    \r\n            boolean result = true;\r\n    \r\n            String contentType = multipartFile.getContentType();\r\n            if (!isSupportedContentType(contentType)) {\r\n                context.disableDefaultConstraintViolation();\r\n                context.buildConstraintViolationWithTemplate(\r\n                        &quot;Only PNG or JPG images are allowed.&quot;)\r\n                       .addConstraintViolation();\r\n    \r\n                result = false;\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    \r\n        private boolean isSupportedContentType(String contentType) {\r\n            return contentType.equals(&quot;image/png&quot;)\r\n                    || contentType.equals(&quot;image/jpg&quot;)\r\n                    || contentType.equals(&quot;image/jpeg&quot;);\r\n        }\r\n    }\r\n\r\nFinally, apply the annotation:\r\n\r\n    public class CreateUserParameters {\r\n    \r\n        @NotNull\r\n        @ValidImage\r\n        private MultipartFile image;\r\n    ...\r\n    }\r\n\r\nI have tested this with Spring Boot 1.5.10 (Also with Thymeleaf)\r\n\r\nFor the max file size, I would also like to see a solution that works with the &quot;standard error mechanism&quot; so you can display the error like other field errors and the user can correct his mistake.","title":"File upload in Spring Boot: Uploading, validation, and exception handling","body":"<p>To reply on how to check file types: I have created a custom validator for this.</p>\n\n<p>First, create an annotation:</p>\n\n<pre><code>import javax.validation.Constraint;\nimport javax.validation.Payload;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = {ImageFileValidator.class})\npublic @interface ValidImage {\n    String message() default \"Invalid image file\";\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n\n<p>Next, create the validator itself:</p>\n\n<pre><code>import org.springframework.web.multipart.MultipartFile;\n\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\npublic class ImageFileValidator implements ConstraintValidator&lt;ValidImage, MultipartFile&gt; {\n\n    @Override\n    public void initialize(ValidImage constraintAnnotation) {\n\n    }\n\n    @Override\n    public boolean isValid(MultipartFile multipartFile, ConstraintValidatorContext context) {\n\n        boolean result = true;\n\n        String contentType = multipartFile.getContentType();\n        if (!isSupportedContentType(contentType)) {\n            context.disableDefaultConstraintViolation();\n            context.buildConstraintViolationWithTemplate(\n                    \"Only PNG or JPG images are allowed.\")\n                   .addConstraintViolation();\n\n            result = false;\n        }\n\n        return result;\n    }\n\n    private boolean isSupportedContentType(String contentType) {\n        return contentType.equals(\"image/png\")\n                || contentType.equals(\"image/jpg\")\n                || contentType.equals(\"image/jpeg\");\n    }\n}\n</code></pre>\n\n<p>Finally, apply the annotation:</p>\n\n<pre><code>public class CreateUserParameters {\n\n    @NotNull\n    @ValidImage\n    private MultipartFile image;\n...\n}\n</code></pre>\n\n<p>I have tested this with Spring Boot 1.5.10 (Also with Thymeleaf)</p>\n\n<p>For the max file size, I would also like to see a solution that works with the \"standard error mechanism\" so you can display the error like other field errors and the user can correct his mistake.</p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697118818,"creation_date":1697118818,"answer_id":77281225,"question_id":40355743,"body_markdown":"Spring Boot File Content Type Validation With Annotation:\r\n\r\n**CustomExceptionControllerAdvice.java**\r\n\r\n    @ControllerAdvice\r\n    public class CustomExceptionControllerAdvice {\r\n    \r\n        @ExceptionHandler(MultipartException.class)\r\n        void handleMultipartException(MultipartException ex,HttpServletResponse response) throws IOException {\r\n            response.sendError(HttpStatus.BAD_REQUEST.value(),&quot;Please select a file&quot;);\r\n        }\r\n      \r\n        @ExceptionHandler(ConstraintViolationException.class)\r\n        public void handleConstraintViolationException(ConstraintViolationException ex,HttpServletResponse response) throws IOException {\r\n            response.sendError(HttpStatus.BAD_REQUEST.value());\r\n        }\r\n    \r\n    }\r\n\r\n**FileController.java**\r\n\r\n    @RestController\r\n    @FieldDefaults(level = AccessLevel.PRIVATE,makeFinal=true)\r\n    @RequestMapping(&quot;/versions/1&quot;)\r\n    public class FileController {\r\n    \r\n        \r\n        @PostMapping(&quot;/files&quot;)\r\n        @ResponseStatus(HttpStatus.OK)\r\n        public String createFile(@Validated @ValidFile @RequestPart(&quot;file&quot;) MultipartFile file {\r\n    \r\n            return file.getOriginalFilename()\r\n        }\r\n    \r\n    }\r\n\r\n**FileValidator.java**\r\n\r\n    public class FileValidator implements ConstraintValidator&lt;ValidFile, MultipartFile&gt; {\r\n    \r\n        @Override\r\n        public void initialize(ValidFile constraintAnnotation) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(MultipartFile multipartFile, ConstraintValidatorContext context) {\r\n    \r\n            boolean result = true;\r\n    \r\n            String contentType = multipartFile.getContentType();\r\n            if (!isSupportedContentType(contentType)) {\r\n                result = false;\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    \r\n        private boolean isSupportedContentType(String contentType) {\r\n            return contentType.equals(&quot;text/xml&quot;)\r\n                    || contentType.equals(&quot;application/pdf&quot;)\r\n                    || contentType.equals(&quot;image/png&quot;)\r\n                    || contentType.equals(&quot;image/jpg&quot;)\r\n                    || contentType.equals(&quot;image/jpeg&quot;);\r\n        }\r\n    }\r\n\r\n**ValidFile.java**\r\n\r\n    @Documented\r\n    @Target({ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.PARAMETER, ElementType.TYPE_USE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Constraint(validatedBy = {FileValidator.class})\r\n    public @interface ValidFile {\r\n        String message() default &quot;Only PDF,XML,PNG or JPG images are allowed&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }","title":"File upload in Spring Boot: Uploading, validation, and exception handling","body":"<p>Spring Boot File Content Type Validation With Annotation:</p>\n<p><strong>CustomExceptionControllerAdvice.java</strong></p>\n<pre><code>@ControllerAdvice\npublic class CustomExceptionControllerAdvice {\n\n    @ExceptionHandler(MultipartException.class)\n    void handleMultipartException(MultipartException ex,HttpServletResponse response) throws IOException {\n        response.sendError(HttpStatus.BAD_REQUEST.value(),&quot;Please select a file&quot;);\n    }\n  \n    @ExceptionHandler(ConstraintViolationException.class)\n    public void handleConstraintViolationException(ConstraintViolationException ex,HttpServletResponse response) throws IOException {\n        response.sendError(HttpStatus.BAD_REQUEST.value());\n    }\n\n}\n</code></pre>\n<p><strong>FileController.java</strong></p>\n<pre><code>@RestController\n@FieldDefaults(level = AccessLevel.PRIVATE,makeFinal=true)\n@RequestMapping(&quot;/versions/1&quot;)\npublic class FileController {\n\n    \n    @PostMapping(&quot;/files&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public String createFile(@Validated @ValidFile @RequestPart(&quot;file&quot;) MultipartFile file {\n\n        return file.getOriginalFilename()\n    }\n\n}\n</code></pre>\n<p><strong>FileValidator.java</strong></p>\n<pre><code>public class FileValidator implements ConstraintValidator&lt;ValidFile, MultipartFile&gt; {\n\n    @Override\n    public void initialize(ValidFile constraintAnnotation) {\n\n    }\n\n    @Override\n    public boolean isValid(MultipartFile multipartFile, ConstraintValidatorContext context) {\n\n        boolean result = true;\n\n        String contentType = multipartFile.getContentType();\n        if (!isSupportedContentType(contentType)) {\n            result = false;\n        }\n\n        return result;\n    }\n\n    private boolean isSupportedContentType(String contentType) {\n        return contentType.equals(&quot;text/xml&quot;)\n                || contentType.equals(&quot;application/pdf&quot;)\n                || contentType.equals(&quot;image/png&quot;)\n                || contentType.equals(&quot;image/jpg&quot;)\n                || contentType.equals(&quot;image/jpeg&quot;);\n    }\n}\n</code></pre>\n<p><strong>ValidFile.java</strong></p>\n<pre><code>@Documented\n@Target({ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.PARAMETER, ElementType.TYPE_USE})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = {FileValidator.class})\npublic @interface ValidFile {\n    String message() default &quot;Only PDF,XML,PNG or JPG images are allowed&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n"}],"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27782,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1697118818,"creation_date":1477985206,"question_id":40355743,"body_markdown":"I would like to be able to upload images to a server, handling errors and exceptions gracefully, with error messages displayed to the user in the form, and ideally only using an existing barebones Spring Boot and Thymeleaf install. \r\n\r\nUsing the example project [gs-uploading-files][1] I can upload files to a server using Spring Boot and Thymeleaf. In application.properties I set `spring.http.multipart.max-file-size=1MB` and \r\n`spring.http.multipart.max-request-size=1MB`. \r\n However several security and validation issues are unresolved when I upload files larger than 1MB.\r\n\r\n 1. Any file can be uploaded. For example, an html file could be uploaded and thus hosted on the server. How can files be restricted by type? Can they be validated in the page before the request is sent? If I have multiple ways of uploading images how can I validate all MultipartFiles?\r\n\r\n 2. Users can attempt to uploade large files, beyond the default limits of Spring and the embedded Tomcat. This causes a `org.springframework.web.multipart.MultipartException` is not handled by Spring. How can the file size be validated before the upload attempt? In case this is bypassesed can any file upload exceptions caught by Spring, so that a nice error message is displayed?\r\n\r\n 3. The default Spring error page is not used as a fallback for all exceptions. The MultipartException returns a Tomcat exception page with a full stacktrace (see Log 1).\r\n\r\n\r\n----------\r\n\r\nI&#39;ve searched to try and find and implement a set of solutions.\r\n\r\nA step towards fixing number 1 is by amending to `handleFileUpload` check the content type, rejecting files which fail this:  `!file.getContentType().toLowerCase().startsWith(&quot;image&quot;)`. Will this always be valid? Can a malicious user bypass this? And how can I check every MultipartFile, to save having to remember to add this every time?\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public String handleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file, RedirectAttributes redirectAttributes)\r\n    \t\tthrows MultipartException, IllegalStateException {\r\n    \r\n    \tif (file != null &amp;&amp; file.getContentType() != null &amp;&amp; !file.getContentType().toLowerCase().startsWith(&quot;image&quot;))\r\n    \t\tthrow new MultipartException(&quot;not img&quot;);\r\n    \r\n    \tstorageService.store(file);\r\n    \tredirectAttributes.addFlashAttribute(&quot;message&quot;,\r\n    \t\t\t&quot;You successfully uploaded &quot; + file.getOriginalFilename() + &quot;!&quot;);\r\n    \r\n    \treturn &quot;redirect:/&quot;;\r\n    }\r\n\r\nAdding an `@ExceptionHandler` doesn&#39;t work, it simply never gets called.\r\n\r\n\t@ExceptionHandler({ SizeLimitExceededException.class, MultipartException.class,\r\n\t\t\tjava.lang.IllegalStateException.class })\r\n\tpublic ModelAndView handleError(HttpServletRequest req, Exception e) {\r\n\t\t// error(&quot;Request: &quot; + req.getRequestURL() + &quot; raised &quot; + ex);\r\n\r\n\t\tModelAndView mav = new ModelAndView();\r\n\t\tmav.addObject(&quot;exception&quot;, e);\r\n\t\tmav.addObject(&quot;url&quot;, req.getRequestURL());\r\n\t\tmav.addObject(&quot;timestamp&quot;, new Date());\r\n\t\tmav.addObject(&quot;error&quot;, e.getClass());\r\n\t\tmav.addObject(&quot;message&quot;, e.getMessage());\r\n\t\tmav.addObject(&quot;status&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\tmav.setViewName(&quot;error&quot;);\r\n\t\treturn mav;\r\n\t}\r\n\r\nNumber 3 can be resolved by a global exception handler on all Exceptions. (explained in detail in [this post][2]). However, I&#39;m concerned that it may overrule a Controller level handler.\r\n\r\n    package hello;\r\n    \r\n    import java.util.Date;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    import org.springframework.core.annotation.AnnotationUtils;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @ControllerAdvice\r\n    class GlobalDefaultExceptionHandler {\r\n    \tpublic static final String DEFAULT_ERROR_VIEW = &quot;error&quot;;\r\n    \r\n    \t@ExceptionHandler(value = Exception.class)\r\n    \tpublic ModelAndView defaultErrorHandler(HttpServletRequest req, Exception e) throws Exception {\r\n    \t\t// If the exception is annotated with @ResponseStatus rethrow it and let\r\n    \t\t// the framework handle it - like the OrderNotFoundException example\r\n    \t\t// at the start of this post.\r\n    \t\t// AnnotationUtils is a Spring Framework utility class.\r\n    \t\tif (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null)\r\n    \t\t\tthrow e;\r\n    \r\n    \t\t// Otherwise setup and send the user to a default error-view.\r\n    \t\tModelAndView mav = new ModelAndView();\r\n    \t\tmav.addObject(&quot;exception&quot;, e);\r\n    \t\tmav.addObject(&quot;url&quot;, req.getRequestURL());\r\n    \t\tmav.addObject(&quot;timestamp&quot;, new Date());\r\n    \t\tmav.addObject(&quot;error&quot;, e.getClass());\r\n    \t\tmav.addObject(&quot;message&quot;, e.getMessage());\r\n    \t\tmav.addObject(&quot;status&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t\tmav.setViewName(DEFAULT_ERROR_VIEW);\r\n    \t\treturn mav;\r\n    \t}\r\n    }\r\n\r\n\r\nI&#39;ve attempted [this answer][3], which handles the exception but returns an error page. I&#39;d like to return to the original page and display a nice error message. \r\n\r\n\r\n----------\r\n\r\n\r\nLog 1:\r\n\r\n    HTTP Status 500 - Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (1292555) exceeds the configured maximum (1048576)\r\n    \r\n    type Exception report\r\n    \r\n    message Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (1292555) exceeds the configured maximum (1048576)\r\n    \r\n    description The server encountered an internal error that prevented it from fulfilling this request.\r\n    \r\n    exception\r\n    \r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (1292555) exceeds the configured maximum (1048576)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:982)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \torg.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n    \torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \torg.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)\r\n    \torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \torg.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\r\n    \torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \torg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n    \torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    root cause\r\n    \r\n    org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (1292555) exceeds the configured maximum (1048576)\r\n    \torg.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:111)\r\n    \torg.springframework.web.multipart.support.StandardMultipartHttpServletRequest.&lt;init&gt;(StandardMultipartHttpServletRequest.java:85)\r\n    \torg.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:76)\r\n    \torg.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1099)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:932)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \torg.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n    \torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \torg.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)\r\n    \torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \torg.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\r\n    \torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \torg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n    \torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    root cause\r\n    \r\n    java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (1292555) exceeds the configured maximum (1048576)\r\n    \torg.apache.catalina.connector.Request.parseParts(Request.java:2871)\r\n    \torg.apache.catalina.connector.Request.parseParameters(Request.java:3176)\r\n    \torg.apache.catalina.connector.Request.getParameter(Request.java:1110)\r\n    \torg.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381)\r\n    \torg.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:70)\r\n    \torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \torg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n    \torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    root cause\r\n    \r\n    org.apache.tomcat.util.http.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (1292555) exceeds the configured maximum (1048576)\r\n    \torg.apache.tomcat.util.http.fileupload.FileUploadBase$FileItemIteratorImpl.&lt;init&gt;(FileUploadBase.java:811)\r\n    \torg.apache.tomcat.util.http.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:256)\r\n    \torg.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:280)\r\n    \torg.apache.catalina.connector.Request.parseParts(Request.java:2801)\r\n    \torg.apache.catalina.connector.Request.parseParameters(Request.java:3176)\r\n    \torg.apache.catalina.connector.Request.getParameter(Request.java:1110)\r\n    \torg.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381)\r\n    \torg.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:70)\r\n    \torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \torg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n    \torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    note The full stack trace of the root cause is available in the Apache Tomcat/8.5.5 logs.\r\n    \r\n    Apache Tomcat/8.5.5\r\n\r\n\r\n----------\r\n\r\n\r\n  [1]: https://github.com/spring-guides/gs-uploading-files\r\n  [2]: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\r\n  [3]: https://stackoverflow.com/questions/29363705/handling-multipartexception-with-spring-boot-and-display-error-page","title":"File upload in Spring Boot: Uploading, validation, and exception handling","body":"<p>I would like to be able to upload images to a server, handling errors and exceptions gracefully, with error messages displayed to the user in the form, and ideally only using an existing barebones Spring Boot and Thymeleaf install. </p>\n\n<p>Using the example project <a href=\"https://github.com/spring-guides/gs-uploading-files\" rel=\"noreferrer\">gs-uploading-files</a> I can upload files to a server using Spring Boot and Thymeleaf. In application.properties I set <code>spring.http.multipart.max-file-size=1MB</code> and \n<code>spring.http.multipart.max-request-size=1MB</code>. \n However several security and validation issues are unresolved when I upload files larger than 1MB.</p>\n\n<ol>\n<li><p>Any file can be uploaded. For example, an html file could be uploaded and thus hosted on the server. How can files be restricted by type? Can they be validated in the page before the request is sent? If I have multiple ways of uploading images how can I validate all MultipartFiles?</p></li>\n<li><p>Users can attempt to uploade large files, beyond the default limits of Spring and the embedded Tomcat. This causes a <code>org.springframework.web.multipart.MultipartException</code> is not handled by Spring. How can the file size be validated before the upload attempt? In case this is bypassesed can any file upload exceptions caught by Spring, so that a nice error message is displayed?</p></li>\n<li><p>The default Spring error page is not used as a fallback for all exceptions. The MultipartException returns a Tomcat exception page with a full stacktrace (see Log 1).</p></li>\n</ol>\n\n<hr>\n\n<p>I've searched to try and find and implement a set of solutions.</p>\n\n<p>A step towards fixing number 1 is by amending to <code>handleFileUpload</code> check the content type, rejecting files which fail this:  <code>!file.getContentType().toLowerCase().startsWith(\"image\")</code>. Will this always be valid? Can a malicious user bypass this? And how can I check every MultipartFile, to save having to remember to add this every time?</p>\n\n<pre><code>@PostMapping(\"/\")\npublic String handleFileUpload(@RequestParam(\"file\") MultipartFile file, RedirectAttributes redirectAttributes)\n        throws MultipartException, IllegalStateException {\n\n    if (file != null &amp;&amp; file.getContentType() != null &amp;&amp; !file.getContentType().toLowerCase().startsWith(\"image\"))\n        throw new MultipartException(\"not img\");\n\n    storageService.store(file);\n    redirectAttributes.addFlashAttribute(\"message\",\n            \"You successfully uploaded \" + file.getOriginalFilename() + \"!\");\n\n    return \"redirect:/\";\n}\n</code></pre>\n\n<p>Adding an <code>@ExceptionHandler</code> doesn't work, it simply never gets called.</p>\n\n<pre><code>@ExceptionHandler({ SizeLimitExceededException.class, MultipartException.class,\n        java.lang.IllegalStateException.class })\npublic ModelAndView handleError(HttpServletRequest req, Exception e) {\n    // error(\"Request: \" + req.getRequestURL() + \" raised \" + ex);\n\n    ModelAndView mav = new ModelAndView();\n    mav.addObject(\"exception\", e);\n    mav.addObject(\"url\", req.getRequestURL());\n    mav.addObject(\"timestamp\", new Date());\n    mav.addObject(\"error\", e.getClass());\n    mav.addObject(\"message\", e.getMessage());\n    mav.addObject(\"status\", HttpStatus.INTERNAL_SERVER_ERROR);\n    mav.setViewName(\"error\");\n    return mav;\n}\n</code></pre>\n\n<p>Number 3 can be resolved by a global exception handler on all Exceptions. (explained in detail in <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"noreferrer\">this post</a>). However, I'm concerned that it may overrule a Controller level handler.</p>\n\n<pre><code>package hello;\n\nimport java.util.Date;\n\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.springframework.core.annotation.AnnotationUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.servlet.ModelAndView;\n\n@ControllerAdvice\nclass GlobalDefaultExceptionHandler {\n    public static final String DEFAULT_ERROR_VIEW = \"error\";\n\n    @ExceptionHandler(value = Exception.class)\n    public ModelAndView defaultErrorHandler(HttpServletRequest req, Exception e) throws Exception {\n        // If the exception is annotated with @ResponseStatus rethrow it and let\n        // the framework handle it - like the OrderNotFoundException example\n        // at the start of this post.\n        // AnnotationUtils is a Spring Framework utility class.\n        if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null)\n            throw e;\n\n        // Otherwise setup and send the user to a default error-view.\n        ModelAndView mav = new ModelAndView();\n        mav.addObject(\"exception\", e);\n        mav.addObject(\"url\", req.getRequestURL());\n        mav.addObject(\"timestamp\", new Date());\n        mav.addObject(\"error\", e.getClass());\n        mav.addObject(\"message\", e.getMessage());\n        mav.addObject(\"status\", HttpStatus.INTERNAL_SERVER_ERROR);\n        mav.setViewName(DEFAULT_ERROR_VIEW);\n        return mav;\n    }\n}\n</code></pre>\n\n<p>I've attempted <a href=\"https://stackoverflow.com/questions/29363705/handling-multipartexception-with-spring-boot-and-display-error-page\">this answer</a>, which handles the exception but returns an error page. I'd like to return to the original page and display a nice error message. </p>\n\n<hr>\n\n<p>Log 1:</p>\n\n<pre><code>HTTP Status 500 - Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (1292555) exceeds the configured maximum (1048576)\n\ntype Exception report\n\nmessage Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (1292555) exceeds the configured maximum (1048576)\n\ndescription The server encountered an internal error that prevented it from fulfilling this request.\n\nexception\n\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (1292555) exceeds the configured maximum (1048576)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:982)\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nroot cause\n\norg.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (1292555) exceeds the configured maximum (1048576)\n    org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:111)\n    org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.&lt;init&gt;(StandardMultipartHttpServletRequest.java:85)\n    org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:76)\n    org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1099)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:932)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nroot cause\n\njava.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (1292555) exceeds the configured maximum (1048576)\n    org.apache.catalina.connector.Request.parseParts(Request.java:2871)\n    org.apache.catalina.connector.Request.parseParameters(Request.java:3176)\n    org.apache.catalina.connector.Request.getParameter(Request.java:1110)\n    org.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381)\n    org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:70)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nroot cause\n\norg.apache.tomcat.util.http.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (1292555) exceeds the configured maximum (1048576)\n    org.apache.tomcat.util.http.fileupload.FileUploadBase$FileItemIteratorImpl.&lt;init&gt;(FileUploadBase.java:811)\n    org.apache.tomcat.util.http.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:256)\n    org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:280)\n    org.apache.catalina.connector.Request.parseParts(Request.java:2801)\n    org.apache.catalina.connector.Request.parseParameters(Request.java:3176)\n    org.apache.catalina.connector.Request.getParameter(Request.java:1110)\n    org.apache.catalina.connector.RequestFacade.getParameter(RequestFacade.java:381)\n    org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:70)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nnote The full stack trace of the root cause is available in the Apache Tomcat/8.5.5 logs.\n\nApache Tomcat/8.5.5\n</code></pre>\n\n<hr>\n"},{"tags":["java","macos","swt","jface"],"comments":[{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1697124832,"post_id":77281185,"comment_id":136243258,"body_markdown":"Not quite sure what you are asking. It is possible to increase the row height for all rows using the `SWT.MeasureItem` event, but that is a fixed height and applies to all rows. Anything more complicated would require something like [nattable](https://eclipse.dev/nattable/)","body":"Not quite sure what you are asking. It is possible to increase the row height for all rows using the <code>SWT.MeasureItem</code> event, but that is a fixed height and applies to all rows. Anything more complicated would require something like <a href=\"https://eclipse.dev/nattable/\" rel=\"nofollow noreferrer\">nattable</a>"},{"owner":{"account_id":968006,"reputation":135,"user_id":991082,"accept_rate":100,"display_name":"mogilka"},"score":0,"creation_date":1697277173,"post_id":77281185,"comment_id":136261711,"body_markdown":"@greg-449 the fact is that in Linux, table row resizes automatically in accordance with the contents of a biggest cell. But MacOS hides the cell&#39;s content, showing only its first line. It seems that this is a feature of Apple operating system. So I thought, maybe there is some kind of table setting (or redrawing method) in SWT that allows to automatically adjust the cell size after filling the table?","body":"@greg-449 the fact is that in Linux, table row resizes automatically in accordance with the contents of a biggest cell. But MacOS hides the cell&#39;s content, showing only its first line. It seems that this is a feature of Apple operating system. So I thought, maybe there is some kind of table setting (or redrawing method) in SWT that allows to automatically adjust the cell size after filling the table?"},{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1697278339,"post_id":77281185,"comment_id":136261780,"body_markdown":"I don&#39;t think the macOS `NSTableView` that SWT uses supports doing this automatically. So as far as I know the SWT.MeasureItem listener is the only way change the row height (for all rows).","body":"I don&#39;t think the macOS <code>NSTableView</code> that SWT uses supports doing this automatically. So as far as I know the SWT.MeasureItem listener is the only way change the row height (for all rows)."},{"owner":{"account_id":968006,"reputation":135,"user_id":991082,"accept_rate":100,"display_name":"mogilka"},"score":0,"creation_date":1697296722,"post_id":77281185,"comment_id":136263437,"body_markdown":"As a basis I took the listener described here http://www.java2s.com/Tutorial/Java/0280__SWT/MultilineTablecell.htm","body":"As a basis I took the listener described here <a href=\"http://www.java2s.com/Tutorial/Java/0280__SWT/MultilineTablecell.htm\" rel=\"nofollow noreferrer\">java2s.com/Tutorial/Java/0280__SWT/MultilineTablecell.htm</a>"}],"owner":{"account_id":968006,"reputation":135,"user_id":991082,"accept_rate":100,"display_name":"mogilka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697118523,"creation_date":1697118523,"question_id":77281185,"body_markdown":"I have a cross-platform SWT/Jface application with tables. Some table cells may content muli-line values separated by \\n symbol. They display normally under Linux: they are expanded along the column increasing the cell height. But in MacOS they are collapsed and I can see the full contents of a cell only when I hover the mouse over it. See my gif screencast.\r\n\r\nHow to configure a table so that it displays the entire contents of a cell under MacOS?\r\n\r\n    \ttableViewer2 = new TableViewer(group, SWT.BORDER | SWT.FULL_SELECTION);\r\n    \ttableViewer2.setLabelProvider(getLabelProvider());\r\n\t\tTable table = tableViewer2.getTable();\r\n\t\ttable.setHeaderVisible(true);\r\n\t\ttable.setLinesVisible(true);\r\n    \tif (null == data2)\r\n\t\t\ttable.removeAll();\r\n\t\telse {\r\n\t\t\ttableViewer2.setInput(data2);\r\n\t\t\tfor (int i = 0; i &lt; table.getColumnCount(); i++)\r\n\t\t\t\ttable.getColumn(i).pack();\r\n\t\t}\r\n\r\n[![collapsed multi-row table cells in MacOS][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VeXBl.gif","title":"How to make multi-row cell in SWT Table under MacOS","body":"<p>I have a cross-platform SWT/Jface application with tables. Some table cells may content muli-line values separated by \\n symbol. They display normally under Linux: they are expanded along the column increasing the cell height. But in MacOS they are collapsed and I can see the full contents of a cell only when I hover the mouse over it. See my gif screencast.</p>\n<p>How to configure a table so that it displays the entire contents of a cell under MacOS?</p>\n<pre><code>    tableViewer2 = new TableViewer(group, SWT.BORDER | SWT.FULL_SELECTION);\n    tableViewer2.setLabelProvider(getLabelProvider());\n    Table table = tableViewer2.getTable();\n    table.setHeaderVisible(true);\n    table.setLinesVisible(true);\n    if (null == data2)\n        table.removeAll();\n    else {\n        tableViewer2.setInput(data2);\n        for (int i = 0; i &lt; table.getColumnCount(); i++)\n            table.getColumn(i).pack();\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VeXBl.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VeXBl.gif\" alt=\"collapsed multi-row table cells in MacOS\" /></a></p>\n"},{"tags":["java","tomcat","appfuse"],"comments":[{"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"score":1,"creation_date":1361133680,"post_id":14925073,"comment_id":20943025,"body_markdown":"if you can upload a JSP file you may print out some info like in this example: http://www.bestdesigns.co.in/blog/check-jsp-tomcat-version","body":"if you can upload a JSP file you may print out some info like in this example: <a href=\"http://www.bestdesigns.co.in/blog/check-jsp-tomcat-version\" rel=\"nofollow noreferrer\">bestdesigns.co.in/blog/check-jsp-tomcat-version</a>"},{"owner":{"account_id":89964,"reputation":9353,"user_id":247869,"accept_rate":85,"display_name":"Yichz"},"score":0,"creation_date":1361135831,"post_id":14925073,"comment_id":20943636,"body_markdown":"right! you got the answer, it&#39;s indeed 7.0.27 which I want. please post it as an answer","body":"right! you got the answer, it&#39;s indeed 7.0.27 which I want. please post it as an answer"}],"answers":[{"tags":[],"owner":{"account_id":369969,"reputation":21500,"user_id":717630,"display_name":"grepit"},"down_vote_count":1,"up_vote_count":129,"is_accepted":false,"score":128,"last_activity_date":1455885988,"creation_date":1361129229,"answer_id":14925114,"question_id":14925073,"body_markdown":" 1. Try parsing or executing the Tomcat_home/bin directory and look for\r\n    a script named **version.sh** or **version.bat** depending on your\r\n    operating system.\r\n 2. Execute the script `./version.sh` or `version.bat`\r\n\r\nIf there are no version.bat or version.sh then\r\nuse a tool to unzipping JAR files (\\tomcat\\server\\lib\\catalina.jar) and look in the file org\\apache\\catalina\\util\\lib\\ServerInfo.properties.\r\nthe version defined under &quot;server.info=&quot;.","title":"Tomcat: How to find out running Tomcat version?","body":"<ol>\n<li>Try parsing or executing the Tomcat_home/bin directory and look for\na script named <strong>version.sh</strong> or <strong>version.bat</strong> depending on your\noperating system.</li>\n<li>Execute the script <code>./version.sh</code> or <code>version.bat</code></li>\n</ol>\n\n<p>If there are no version.bat or version.sh then\nuse a tool to unzipping JAR files (\\tomcat\\server\\lib\\catalina.jar) and look in the file org\\apache\\catalina\\util\\lib\\ServerInfo.properties.\nthe version defined under \"server.info=\".</p>\n"},{"tags":[],"owner":{"account_id":908280,"reputation":6397,"user_id":944070,"accept_rate":71,"display_name":"madlymad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361131111,"creation_date":1361131111,"answer_id":14925427,"question_id":14925073,"body_markdown":"Windows task manager &gt; Processes &gt; find tomcat &gt; right click &gt; open file location &gt; if you run Tomcat7w.exe it is visible at description.\r\n\r\nTomcat should running to be visible at Processes if not at Windows Vista/7 go to task manager &gt; tab (services) find tomcat start it and then processes.","title":"Tomcat: How to find out running Tomcat version?","body":"<p>Windows task manager > Processes > find tomcat > right click > open file location > if you run Tomcat7w.exe it is visible at description.</p>\n\n<p>Tomcat should running to be visible at Processes if not at Windows Vista/7 go to task manager > tab (services) find tomcat start it and then processes.</p>\n"},{"tags":[],"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"down_vote_count":4,"up_vote_count":57,"is_accepted":true,"score":53,"last_activity_date":1549441181,"creation_date":1361198567,"answer_id":14938856,"question_id":14925073,"body_markdown":"\t\r\nif you can upload a JSP file you may print out some info like in this example: [bestdesigns.co.in/blog/check-jsp-tomcat-version][1]\r\n\r\nSave this code into a file called tomcat_version.jsp:\r\n\r\n        Tomcat Version : &lt;%= application.getServerInfo() %&gt;&lt;br&gt;    \r\n        Servlet Specification Version : \r\n    &lt;%= application.getMajorVersion() %&gt;.&lt;%= application.getMinorVersion() %&gt; &lt;br&gt;    \r\n        JSP version :\r\n    &lt;%=JspFactory.getDefaultFactory().getEngineInfo().getSpecificationVersion() %&gt;&lt;br&gt;\r\n\r\nWhen you access, http://example.com/tomcat_version.jsp, the output should look similar to:\r\n\r\n    Tomcat Version : Apache Tomcat/5.5.25\r\n    Servlet Specification Version : 2.4\r\n    JSP version: 2.0\r\n\r\n\r\n\r\n\r\n  [1]: http://www.bestdesigns.co.in/blog/check-jsp-tomcat-version\r\n\r\n\r\n","title":"Tomcat: How to find out running Tomcat version?","body":"<p>if you can upload a JSP file you may print out some info like in this example: <a href=\"http://www.bestdesigns.co.in/blog/check-jsp-tomcat-version\" rel=\"noreferrer\">bestdesigns.co.in/blog/check-jsp-tomcat-version</a></p>\n\n<p>Save this code into a file called tomcat_version.jsp:</p>\n\n<pre><code>    Tomcat Version : &lt;%= application.getServerInfo() %&gt;&lt;br&gt;    \n    Servlet Specification Version : \n&lt;%= application.getMajorVersion() %&gt;.&lt;%= application.getMinorVersion() %&gt; &lt;br&gt;    \n    JSP version :\n&lt;%=JspFactory.getDefaultFactory().getEngineInfo().getSpecificationVersion() %&gt;&lt;br&gt;\n</code></pre>\n\n<p>When you access, <a href=\"http://example.com/tomcat_version.jsp\" rel=\"noreferrer\">http://example.com/tomcat_version.jsp</a>, the output should look similar to:</p>\n\n<pre><code>Tomcat Version : Apache Tomcat/5.5.25\nServlet Specification Version : 2.4\nJSP version: 2.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":541316,"reputation":2128,"user_id":909813,"display_name":"Abdelhameed Mahmoud"},"down_vote_count":2,"up_vote_count":46,"is_accepted":false,"score":44,"last_activity_date":1378423955,"creation_date":1378423955,"answer_id":18647569,"question_id":14925073,"body_markdown":"You can simply open `http://localhost:8080/` in your web browser\r\nand this will open Tomcat welcome page that shows running Tomcat version like this:\r\n\r\n    Apache Tomcat/7.0.42\r\n\r\n* I assume that your Tomcat is running on port 8080\r\n","title":"Tomcat: How to find out running Tomcat version?","body":"<p>You can simply open <code>http://localhost:8080/</code> in your web browser\nand this will open Tomcat welcome page that shows running Tomcat version like this:</p>\n\n<pre><code>Apache Tomcat/7.0.42\n</code></pre>\n\n<ul>\n<li>I assume that your Tomcat is running on port 8080</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":428194,"reputation":13568,"user_id":810358,"accept_rate":71,"display_name":"Venkatesh Laguduva"},"down_vote_count":2,"up_vote_count":645,"is_accepted":false,"score":643,"last_activity_date":1540468336,"creation_date":1392363335,"answer_id":21773359,"question_id":14925073,"body_markdown":"Though this is not recent, I thought, my answer can still help others:\r\n\r\n    cd tomcat/lib \r\n    java -cp catalina.jar org.apache.catalina.util.ServerInfo\r\n\r\nand that&#39;s it.\r\n\r\n    Server version: Apache Tomcat/7.0.30\r\n    Server built:   May 23 2013 02:54:10\r\n    Server number:  7.0.30.0\r\n    OS Name:        Linux\r\n    OS Version:     3.13.0-36-generic\r\n    Architecture:   amd64\r\n    JVM Version:    1.7.0_65-b32\r\n    JVM Vendor:     Oracle Corporation\r\n\r\n\r\n","title":"Tomcat: How to find out running Tomcat version?","body":"<p>Though this is not recent, I thought, my answer can still help others:</p>\n\n<pre><code>cd tomcat/lib \njava -cp catalina.jar org.apache.catalina.util.ServerInfo\n</code></pre>\n\n<p>and that's it.</p>\n\n<pre><code>Server version: Apache Tomcat/7.0.30\nServer built:   May 23 2013 02:54:10\nServer number:  7.0.30.0\nOS Name:        Linux\nOS Version:     3.13.0-36-generic\nArchitecture:   amd64\nJVM Version:    1.7.0_65-b32\nJVM Vendor:     Oracle Corporation\n</code></pre>\n"},{"tags":[],"owner":{"account_id":237266,"reputation":406,"user_id":505307,"display_name":"Carlo Ledesma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560423692,"creation_date":1392560924,"answer_id":21812477,"question_id":14925073,"body_markdown":"You can find out the server information through its status page:\r\n\r\n    {running-tomcat-url}/manager/status\r\n\r\nOn that page you can see the version of Java on which your Tomcat runs\r\n\r\nNote: I have also pasted this answer on https://stackoverflow.com/questions/17478093/tomcat6-and-jre7-compatibility-issue-unsupported-major-minor-version-51-0/21812446#21812446","title":"Tomcat: How to find out running Tomcat version?","body":"<p>You can find out the server information through its status page:</p>\n\n<pre><code>{running-tomcat-url}/manager/status\n</code></pre>\n\n<p>On that page you can see the version of Java on which your Tomcat runs</p>\n\n<p>Note: I have also pasted this answer on <a href=\"https://stackoverflow.com/questions/17478093/tomcat6-and-jre7-compatibility-issue-unsupported-major-minor-version-51-0/21812446#21812446\">Tomcat6 and JRE7 compatibility issue. Unsupported major.minor version 51.0</a></p>\n"},{"tags":[],"owner":{"account_id":103755,"reputation":21224,"user_id":277740,"accept_rate":51,"display_name":"tokhi"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1420711544,"creation_date":1397479360,"answer_id":23060386,"question_id":14925073,"body_markdown":"execute the script in your `tomcat/bin` directory:\r\n\r\n    sh tomcat/bin/version.sh\r\n    \r\n    Server version: Apache Tomcat/7.0.42\r\n    Server built:   Jul 2 2013 08:57:41\r\n    Server number:  7.0.42.0\r\n    OS Name:        Linux\r\n    OS Version:     2.6.32-042stab084.26\r\n    Architecture:   amd64\r\n    JVM Version:    1.7.0_21-b11\r\n    JVM Vendor:     Oracle Corporation","title":"Tomcat: How to find out running Tomcat version?","body":"<p>execute the script in your <code>tomcat/bin</code> directory:</p>\n\n<pre><code>sh tomcat/bin/version.sh\n\nServer version: Apache Tomcat/7.0.42\nServer built:   Jul 2 2013 08:57:41\nServer number:  7.0.42.0\nOS Name:        Linux\nOS Version:     2.6.32-042stab084.26\nArchitecture:   amd64\nJVM Version:    1.7.0_21-b11\nJVM Vendor:     Oracle Corporation\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2017799,"reputation":3789,"user_id":1804661,"accept_rate":50,"display_name":"Christopher Yang"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1429122053,"creation_date":1429122053,"answer_id":29657852,"question_id":14925073,"body_markdown":"If Tomcat is installed as a service, try:\r\n\r\n    sudo /etc/init.d/tomcat version\r\n\r\nSwap out &quot;tomcat&quot; with the actual name of the service.","title":"Tomcat: How to find out running Tomcat version?","body":"<p>If Tomcat is installed as a service, try:</p>\n\n<pre><code>sudo /etc/init.d/tomcat version\n</code></pre>\n\n<p>Swap out \"tomcat\" with the actual name of the service.</p>\n"},{"tags":[],"owner":{"account_id":5950244,"reputation":81,"user_id":4678487,"display_name":"tcat"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1432766093,"creation_date":1432766093,"answer_id":30494268,"question_id":14925073,"body_markdown":"run the following\r\n\r\n    /usr/local/tomcat/bin/catalina.sh version\r\n\r\nits response will be something like:\r\n\r\n    Using CATALINA_BASE:   /usr/local/tomcat\r\n    Using CATALINA_HOME:   /usr/local/tomcat\r\n    Using CATALINA_TMPDIR: /var/tmp/\r\n    Using JRE_HOME:        /usr\r\n    Using CLASSPATH:       /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar\r\n    Using CATALINA_PID:    /var/catalina.pid\r\n    Server version: Apache Tomcat/7.0.30\r\n    Server built:   Sep 27 2012 05:13:37\r\n    Server number:  7.0.30.0\r\n    OS Name:        Linux\r\n    OS Version:     2.6.32-504.3.3.el6.x86_64\r\n    Architecture:   amd64\r\n    JVM Version:    1.7.0_60-b19\r\n    JVM Vendor:     Oracle Corporation","title":"Tomcat: How to find out running Tomcat version?","body":"<p>run the following</p>\n\n<pre><code>/usr/local/tomcat/bin/catalina.sh version\n</code></pre>\n\n<p>its response will be something like:</p>\n\n<pre><code>Using CATALINA_BASE:   /usr/local/tomcat\nUsing CATALINA_HOME:   /usr/local/tomcat\nUsing CATALINA_TMPDIR: /var/tmp/\nUsing JRE_HOME:        /usr\nUsing CLASSPATH:       /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar\nUsing CATALINA_PID:    /var/catalina.pid\nServer version: Apache Tomcat/7.0.30\nServer built:   Sep 27 2012 05:13:37\nServer number:  7.0.30.0\nOS Name:        Linux\nOS Version:     2.6.32-504.3.3.el6.x86_64\nArchitecture:   amd64\nJVM Version:    1.7.0_60-b19\nJVM Vendor:     Oracle Corporation\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4884677,"reputation":116,"user_id":3937470,"display_name":"Alvaro Vicente Le&#243;n Silvano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433851964,"creation_date":1433851964,"answer_id":30731740,"question_id":14925073,"body_markdown":"run on terminal of the Unix server\r\n\r\n    w3m http://localhost:8080/\r\n\r\nto quit press q and next y","title":"Tomcat: How to find out running Tomcat version?","body":"<p>run on terminal of the Unix server</p>\n\n<pre><code>w3m http://localhost:8080/\n</code></pre>\n\n<p>to quit press q and next y</p>\n"},{"tags":[],"owner":{"account_id":1092775,"reputation":15668,"user_id":1087040,"display_name":"Nanhe Kumar"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1448365205,"creation_date":1448365205,"answer_id":33892701,"question_id":14925073,"body_markdown":"To find out the Tomcat version, find this file – version.sh for *nix or version.bat for Windows. This version.sh file is normally located in the Tomcat bin folder.\r\n\r\n    phpmongodb@kumar:/usr/share/tomcat7/bin$ ./version.sh \r\n\r\n**Note**\r\n\r\nIf you are not sure where is the version.sh file, try this command :\r\n\r\n    sudo find / -name &quot;version.sh&quot;\r\n\r\nFind out everything about Tomcat7.\r\n\r\n    sudo find / -name &quot;tomcat7&quot;\r\n\r\n","title":"Tomcat: How to find out running Tomcat version?","body":"<p>To find out the Tomcat version, find this file – version.sh for *nix or version.bat for Windows. This version.sh file is normally located in the Tomcat bin folder.</p>\n\n<pre><code>phpmongodb@kumar:/usr/share/tomcat7/bin$ ./version.sh \n</code></pre>\n\n<p><strong>Note</strong></p>\n\n<p>If you are not sure where is the version.sh file, try this command :</p>\n\n<pre><code>sudo find / -name \"version.sh\"\n</code></pre>\n\n<p>Find out everything about Tomcat7.</p>\n\n<pre><code>sudo find / -name \"tomcat7\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1455887274,"creation_date":1455886581,"answer_id":35505896,"question_id":14925073,"body_markdown":"## Using the release notes\r\n\r\nIn the main Tomcat folder you can find the **RELEASE-NOTES** file which contains the following lines (~line 20-21):\r\n\r\n&gt;                     Apache Tomcat Version 8.0.22\r\n                            Release Notes\r\n\r\nOr you can get the same information using **command line**:\r\n\r\n* **Windows**:\r\n\r\n        type RELEASE-NOTES | find &quot;Apache Tomcat Version&quot;\r\n Output:\r\n\r\n                     Apache Tomcat Version 8.0.22\r\n\r\n* **Linux**:\r\n\r\n        cat RELEASE-NOTES | grep &quot;Apache Tomcat Version&quot;\r\n Output:\r\n\r\n                     Apache Tomcat Version 8.0.22","title":"Tomcat: How to find out running Tomcat version?","body":"<h2>Using the release notes</h2>\n\n<p>In the main Tomcat folder you can find the <strong>RELEASE-NOTES</strong> file which contains the following lines (~line 20-21):</p>\n\n<blockquote>\n<pre><code>                Apache Tomcat Version 8.0.22\n                        Release Notes\n</code></pre>\n</blockquote>\n\n<p>Or you can get the same information using <strong>command line</strong>:</p>\n\n<ul>\n<li><p><strong>Windows</strong>:</p>\n\n<pre><code>type RELEASE-NOTES | find \"Apache Tomcat Version\"\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>             Apache Tomcat Version 8.0.22\n</code></pre></li>\n<li><p><strong>Linux</strong>:</p>\n\n<pre><code>cat RELEASE-NOTES | grep \"Apache Tomcat Version\"\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>             Apache Tomcat Version 8.0.22\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2827488,"reputation":403,"user_id":2429821,"display_name":"Mack"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1561974539,"creation_date":1455887181,"answer_id":35506087,"question_id":14925073,"body_markdown":"    For windows machine \r\n    Go to the tomcat directory C:\\apache-tomcat-x.0.xx\\bin\r\n        bin&gt;version.bat\r\n        Using CATALINA_BASE:   &quot;C:\\apache-tomcat-x.0.xx&quot;\r\n        Using CATALINA_HOME:   &quot;C:\\apache-tomcat-x.0.xx&quot;\r\n        Using CATALINA_TMPDIR: &quot;C:\\apache-tomcat-x.0.xx\\temp&quot;\r\n        Using JRE_HOME:        &quot;C:\\Program Files\\Java\\jdk1.8.0_65&quot;\r\n        Using CLASSPATH:       &quot;C:\\apache-tomcat-x.0.xx\\bin\\bootstrap.jar;C:\\apache-tomcat-x.0.xx\\bin\\tomcat-juli.jar&quot;\r\n        Server version: Apache Tomcat/7.0.53\r\n\r\n  \r\n\r\n\r\n\r\n    For Linux Machine \r\n    Go to the tomcat directory /usr/mack/apache-tomcat-x.0.xx/bin\r\n        # ./version.sh\r\n        Using CATALINA_BASE:   /usr/mack/apache-tomcat-x.0.xx\r\n        Using CATALINA_HOME:   /usr/mack/apache-tomcat-x.0.xx\r\n        Using CATALINA_TMPDIR: /usr/mack/apache-tomcat-x.0.xx/temp\r\n        Using JRE_HOME:        /usr/java/jdk1.7.0_71/jre\r\n        Using CLASSPATH:       /usr/mack/apache-tomcat-x.0.xx/bin/bootstrap.jar:/usr/mack/apache-tomcat-x.0.xx/bin/tomcat-juli.jar\r\n        Server version: Apache Tomcat/7.0.56\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\nIf Tomcat is installed as a service:\r\n\r\n    #sudo /etc/init.d/tomcat version","title":"Tomcat: How to find out running Tomcat version?","body":"<pre><code>For windows machine \nGo to the tomcat directory C:\\apache-tomcat-x.0.xx\\bin\n    bin&gt;version.bat\n    Using CATALINA_BASE:   \"C:\\apache-tomcat-x.0.xx\"\n    Using CATALINA_HOME:   \"C:\\apache-tomcat-x.0.xx\"\n    Using CATALINA_TMPDIR: \"C:\\apache-tomcat-x.0.xx\\temp\"\n    Using JRE_HOME:        \"C:\\Program Files\\Java\\jdk1.8.0_65\"\n    Using CLASSPATH:       \"C:\\apache-tomcat-x.0.xx\\bin\\bootstrap.jar;C:\\apache-tomcat-x.0.xx\\bin\\tomcat-juli.jar\"\n    Server version: Apache Tomcat/7.0.53\n\n\n\n\n\nFor Linux Machine \nGo to the tomcat directory /usr/mack/apache-tomcat-x.0.xx/bin\n    # ./version.sh\n    Using CATALINA_BASE:   /usr/mack/apache-tomcat-x.0.xx\n    Using CATALINA_HOME:   /usr/mack/apache-tomcat-x.0.xx\n    Using CATALINA_TMPDIR: /usr/mack/apache-tomcat-x.0.xx/temp\n    Using JRE_HOME:        /usr/java/jdk1.7.0_71/jre\n    Using CLASSPATH:       /usr/mack/apache-tomcat-x.0.xx/bin/bootstrap.jar:/usr/mack/apache-tomcat-x.0.xx/bin/tomcat-juli.jar\n    Server version: Apache Tomcat/7.0.56\n</code></pre>\n\n<p>If Tomcat is installed as a service:</p>\n\n<pre><code>#sudo /etc/init.d/tomcat version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1714162,"reputation":1423,"user_id":1608670,"display_name":"Ivan Chau"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461734571,"creation_date":1461734571,"answer_id":36880954,"question_id":14925073,"body_markdown":"Enter `404.jsp` or `non-existent.jsp`.\r\n\r\nGet Tomcat/JBoss version number at bottom of page.","title":"Tomcat: How to find out running Tomcat version?","body":"<p>Enter <code>404.jsp</code> or <code>non-existent.jsp</code>.</p>\n\n<p>Get Tomcat/JBoss version number at bottom of page.</p>\n"},{"tags":[],"owner":{"account_id":6590,"reputation":13159,"user_id":11142,"accept_rate":49,"display_name":"anjanb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467265984,"creation_date":1467265984,"answer_id":38114945,"question_id":14925073,"body_markdown":"For securing Tomcat from hackers, it&#39;s recommended that we try a few steps at hiding the tomcat version information. The OWASP project suggests a few steps. https://www.owasp.org/index.php/Securing_tomcat . If a tomcat installation is thus protected, then only 1 of the above answers will show the version of tomcat. &lt;br&gt;i.e going through the $TOMCAT_HOME\\RELEASE-NOTES file where the version number is clearly announced.\r\n\r\nI had one such protected server and only the RELEASE-NOTES file revealed the version of the tomcat. all other techniques failed to reveal the version info.","title":"Tomcat: How to find out running Tomcat version?","body":"<p>For securing Tomcat from hackers, it's recommended that we try a few steps at hiding the tomcat version information. The OWASP project suggests a few steps. <a href=\"https://www.owasp.org/index.php/Securing_tomcat\" rel=\"nofollow\">https://www.owasp.org/index.php/Securing_tomcat</a> . If a tomcat installation is thus protected, then only 1 of the above answers will show the version of tomcat. <br>i.e going through the $TOMCAT_HOME\\RELEASE-NOTES file where the version number is clearly announced.</p>\n\n<p>I had one such protected server and only the RELEASE-NOTES file revealed the version of the tomcat. all other techniques failed to reveal the version info.</p>\n"},{"tags":[],"owner":{"account_id":1550350,"reputation":1733,"user_id":1442898,"accept_rate":0,"display_name":"Yergalem"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1495719937,"creation_date":1495719578,"answer_id":44182073,"question_id":14925073,"body_markdown":"The version of currently running Tomcat\r\n\r\nIf you set the environtment variable - %CATALINA_HOME%, then\r\nWindows :\r\n\r\n    &gt;&gt; cd %CATALINA_HOME%\\bin\r\n    &gt;&gt; version\r\n\r\nAlternatively, \r\n\r\n    java.exe -cp lib\\catalina.jar org.apache.catalina.util.ServerInfo\r\n\r\n--------------------------------------------------------------------\r\nMY SETTING --- Hope yours will be similar to as follows\r\n\r\n    %CATALINA_HOME% --- C:\\Program Files\\Tomcat\\apache-tomcat-8.0.28\r\n\r\nOUTPUT\r\n\r\nServer version: Apache Tomcat/8.0.28\r\nServer built:   Oct 7 2015 18:25:21 UTC\r\nServer number:  8.0.28.0\r\nOS Name:        Windows 7\r\nOS Version:     6.1\r\nArchitecture:   amd64\r\nJVM Version:    1.8.0_111-b14\r\nJVM Vendor:     Oracle Corporation\r\n\r\n\r\n","title":"Tomcat: How to find out running Tomcat version?","body":"<p>The version of currently running Tomcat</p>\n\n<p>If you set the environtment variable - %CATALINA_HOME%, then\nWindows :</p>\n\n<pre><code>&gt;&gt; cd %CATALINA_HOME%\\bin\n&gt;&gt; version\n</code></pre>\n\n<p>Alternatively, </p>\n\n<pre><code>java.exe -cp lib\\catalina.jar org.apache.catalina.util.ServerInfo\n</code></pre>\n\n<hr>\n\n<p>MY SETTING --- Hope yours will be similar to as follows</p>\n\n<pre><code>%CATALINA_HOME% --- C:\\Program Files\\Tomcat\\apache-tomcat-8.0.28\n</code></pre>\n\n<p>OUTPUT</p>\n\n<p>Server version: Apache Tomcat/8.0.28\nServer built:   Oct 7 2015 18:25:21 UTC\nServer number:  8.0.28.0\nOS Name:        Windows 7\nOS Version:     6.1\nArchitecture:   amd64\nJVM Version:    1.8.0_111-b14\nJVM Vendor:     Oracle Corporation</p>\n"},{"tags":[],"owner":{"account_id":7670388,"reputation":197,"user_id":5812830,"accept_rate":0,"display_name":"Aramis Rodr&#237;guez Blanco"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1497911219,"creation_date":1497911219,"answer_id":44640894,"question_id":14925073,"body_markdown":"I know it is maybe too late for this, but this could be usefull:\r\nIf you try to know Apache Tomcat Server version from Java code, you can use:\r\n\r\nfrom a HttpServlet:\r\n\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) {\r\n        getServletContext().getServerInfo()\r\n    }\r\n\r\nfrom a ServletContextListener:\r\n\r\n    public void contextInitialized(ServletContextEvent event)  { \r\n    \tevent.getServletContext().getServerInfo();    \t\r\n    }","title":"Tomcat: How to find out running Tomcat version?","body":"<p>I know it is maybe too late for this, but this could be usefull:\nIf you try to know Apache Tomcat Server version from Java code, you can use:</p>\n\n<p>from a HttpServlet:</p>\n\n<pre><code>protected void doGet(HttpServletRequest request, HttpServletResponse response) {\n    getServletContext().getServerInfo()\n}\n</code></pre>\n\n<p>from a ServletContextListener:</p>\n\n<pre><code>public void contextInitialized(ServletContextEvent event)  { \n    event.getServletContext().getServerInfo();      \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7735988,"reputation":11,"user_id":5857565,"display_name":"kenbrown_ct"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509459576,"creation_date":1509459576,"answer_id":47037645,"question_id":14925073,"body_markdown":"We are running in a Windows environment and I had to find a way to get the Tomcat version outside of the Java environment.  Without knowing the version, I could not determine the directories.  I finally found the best way was to query the Tomcat service using:\r\n\r\n&gt; C:\\temp&gt;sc query | find /I &quot;tomcat&quot;&lt;br&gt;\r\nSERVICE_NAME: Tomcat6&lt;br&gt;\r\nDISPLAY_NAME: Apache Tomcat 6.0 Tomcat6","title":"Tomcat: How to find out running Tomcat version?","body":"<p>We are running in a Windows environment and I had to find a way to get the Tomcat version outside of the Java environment.  Without knowing the version, I could not determine the directories.  I finally found the best way was to query the Tomcat service using:</p>\n\n<blockquote>\n  <p>C:\\temp>sc query | find /I \"tomcat\"<br>\n  SERVICE_NAME: Tomcat6<br>\n  DISPLAY_NAME: Apache Tomcat 6.0 Tomcat6</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3652290,"reputation":2120,"user_id":3044117,"accept_rate":38,"display_name":"Eduardo"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1513618532,"creation_date":1513618532,"answer_id":47873621,"question_id":14925073,"body_markdown":"Open your tomcat home page (Usually `localhost:8080`)\r\n\r\nYou will see something like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vrzpO.png","title":"Tomcat: How to find out running Tomcat version?","body":"<p>Open your tomcat home page (Usually <code>localhost:8080</code>)</p>\n\n<p>You will see something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vrzpO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vrzpO.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6359511,"reputation":2076,"user_id":4935444,"display_name":"Harsimranjit Singh Kler"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1531287103,"creation_date":1531287103,"answer_id":51277853,"question_id":14925073,"body_markdown":"Another option is view release notes from tomcat,applicable to linux/window\r\n\r\n    {Tomcat_home}/webapps/ROOT/RELEASE-NOTES.txt","title":"Tomcat: How to find out running Tomcat version?","body":"<p>Another option is view release notes from tomcat,applicable to linux/window</p>\n\n<pre><code>{Tomcat_home}/webapps/ROOT/RELEASE-NOTES.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539696073,"creation_date":1539696073,"answer_id":52836452,"question_id":14925073,"body_markdown":"In Unix-like environments, I also recommend checking the actual running process command line:\r\n\r\n\r\n\r\n    $ ps aux | grep java\r\n\r\n    ...\r\n    /usr/lib/jvm/java-8-openjdk-amd64/bin/java -Djava.util.logging.config.file=/srv/tomcat-instances/bla/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Xmx4096M -XX:+UseConcMarkSweepGC -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n -Xmx4096m -Xms4096m -XX:MaxPermSize=2048m -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.port=8090 -Dcom.sun.management.jmxremote.rmi.port=8090 -Djava.rmi.server.hostname=localhost -Djava.endorsed.dirs=/opt/apache-tomcat-8.0.47/endorsed -classpath /opt/apache-tomcat-8.0.47/bin/bootstrap.jar:/opt/apache-tomcat-8.0.47/bin/tomcat-juli.jar -Dcatalina.base=/srv/tomcat-instances/bla -Dcatalina.home=/opt/apache-tomcat-8.0.47 -Djava.io.tmpdir=/tmp/tomcat8-bla-tmp org.apache.catalina.startup.Bootstrap start\r\n    ...\r\nOne can run on subtle weird behaviors due to (operating system) environment variables and (Java) system properties being set to unexpected values. I had a situation where due to an outdated Tomcat `setenv.sh`, A Tomcat 8 started with classes from a Tomcat 7 on the classpath. Make sure that in the process command line options such as `-Dcatalina.base`, `-Dcatalina.home` and `-classpath` make sense.","title":"Tomcat: How to find out running Tomcat version?","body":"<p>In Unix-like environments, I also recommend checking the actual running process command line:</p>\n\n<pre><code>$ ps aux | grep java\n\n...\n/usr/lib/jvm/java-8-openjdk-amd64/bin/java -Djava.util.logging.config.file=/srv/tomcat-instances/bla/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Xmx4096M -XX:+UseConcMarkSweepGC -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n -Xmx4096m -Xms4096m -XX:MaxPermSize=2048m -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.port=8090 -Dcom.sun.management.jmxremote.rmi.port=8090 -Djava.rmi.server.hostname=localhost -Djava.endorsed.dirs=/opt/apache-tomcat-8.0.47/endorsed -classpath /opt/apache-tomcat-8.0.47/bin/bootstrap.jar:/opt/apache-tomcat-8.0.47/bin/tomcat-juli.jar -Dcatalina.base=/srv/tomcat-instances/bla -Dcatalina.home=/opt/apache-tomcat-8.0.47 -Djava.io.tmpdir=/tmp/tomcat8-bla-tmp org.apache.catalina.startup.Bootstrap start\n...\n</code></pre>\n\n<p>One can run on subtle weird behaviors due to (operating system) environment variables and (Java) system properties being set to unexpected values. I had a situation where due to an outdated Tomcat <code>setenv.sh</code>, A Tomcat 8 started with classes from a Tomcat 7 on the classpath. Make sure that in the process command line options such as <code>-Dcatalina.base</code>, <code>-Dcatalina.home</code> and <code>-classpath</code> make sense.</p>\n"},{"tags":[],"owner":{"account_id":14078500,"reputation":11,"user_id":10170145,"display_name":"Shubh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551941058,"creation_date":1551938415,"answer_id":55037010,"question_id":14925073,"body_markdown":"Simply start tomcat and search for &quot;**Server version name**&quot; in `catalina.logs` and you will get version of your tomcat.\r\nFor example: \r\n&gt;&quot;Mar 07, 2019 11:25:40 AM org.apache.catalina.startup.VersionLoggerListener log\r\nINFO: Server version name:   Apache Tomcat/**9.0.16**&quot;","title":"Tomcat: How to find out running Tomcat version?","body":"<p>Simply start tomcat and search for \"<strong>Server version name</strong>\" in <code>catalina.logs</code> and you will get version of your tomcat.\nFor example: </p>\n\n<blockquote>\n  <p>\"Mar 07, 2019 11:25:40 AM org.apache.catalina.startup.VersionLoggerListener log\n  INFO: Server version name:   Apache Tomcat/<strong>9.0.16</strong>\"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1580313710,"creation_date":1557755572,"answer_id":56113852,"question_id":14925073,"body_markdown":"This one command which you can check almost everything:\r\n\r\n    java -cp tomcat/lib/catalina.jar org.apache.catalina.util.ServerInfo\r\n\r\nor \r\n\r\n    tomcat/bin/catalina.sh version\r\n\r\n\r\nAnd the output looks like this\r\n\r\n    Server version: Apache Tomcat/8.5.24\r\n    Server built:   Nov 27 2017 13:05:30 UTC\r\n    Server number:  8.5.24.0\r\n    OS Name:        Linux\r\n    OS Version:     4.4.0-137-generic\r\n    Architecture:   amd64\r\n    JVM Version:    1.8.0_131-b11\r\n    JVM Vendor:     Oracle Corporation\r\n\r\n","title":"Tomcat: How to find out running Tomcat version?","body":"<p>This one command which you can check almost everything:</p>\n\n<pre><code>java -cp tomcat/lib/catalina.jar org.apache.catalina.util.ServerInfo\n</code></pre>\n\n<p>or </p>\n\n<pre><code>tomcat/bin/catalina.sh version\n</code></pre>\n\n<p>And the output looks like this</p>\n\n<pre><code>Server version: Apache Tomcat/8.5.24\nServer built:   Nov 27 2017 13:05:30 UTC\nServer number:  8.5.24.0\nOS Name:        Linux\nOS Version:     4.4.0-137-generic\nArchitecture:   amd64\nJVM Version:    1.8.0_131-b11\nJVM Vendor:     Oracle Corporation\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11925857,"reputation":309,"user_id":8727175,"display_name":"Narendra Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1560423678,"creation_date":1560423636,"answer_id":56579001,"question_id":14925073,"body_markdown":"In Linux to check the tomcat version \r\n\r\n```\r\ncd /opt/tomcat/bin\r\n\r\n./catalina.sh version\r\n```","title":"Tomcat: How to find out running Tomcat version?","body":"<p>In Linux to check the tomcat version </p>\n\n<pre><code>cd /opt/tomcat/bin\n\n./catalina.sh version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8592069,"reputation":509,"user_id":6436354,"display_name":"gobi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592104053,"creation_date":1592104053,"answer_id":62367907,"question_id":14925073,"body_markdown":"To know exact tomcat version alone, just visit `vi tomcat/BUILDING.txt`","title":"Tomcat: How to find out running Tomcat version?","body":"<p>To know exact tomcat version alone, just visit <code>vi tomcat/BUILDING.txt</code></p>\n"},{"tags":[],"owner":{"account_id":19303765,"reputation":21,"user_id":14111074,"display_name":"jrykowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597511700,"creation_date":1597511317,"answer_id":63428742,"question_id":14925073,"body_markdown":"For Windows PowerShell command-line method of checking running version(s) of Tomcat service:\r\n```\r\n(get-service Tomcat*).DisplayName\r\n```\r\n\r\nSample output...\r\n```\r\nApache Tomcat 8.5 Tomcat8\r\n```\r\n\r\nIf also want to know additional details including the location of folder where service running at:\r\n\r\n```\r\nGet-WmiObject win32_service | Where-Object {$_.Name -like &#39;Tomcat*&#39;} | select Name, DisplayName, State, PathName\r\n```\r\n\r\nSample output...\r\n```\r\nName    DisplayName               State   PathName\r\n----    -----------               -----   --------\r\nTomcat8 Apache Tomcat 8.5 Tomcat8 Running &quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\bin\\Tomcat8.exe&quot; /...\r\n```\r\n","title":"Tomcat: How to find out running Tomcat version?","body":"<p>For Windows PowerShell command-line method of checking running version(s) of Tomcat service:</p>\n<pre><code>(get-service Tomcat*).DisplayName\n</code></pre>\n<p>Sample output...</p>\n<pre><code>Apache Tomcat 8.5 Tomcat8\n</code></pre>\n<p>If also want to know additional details including the location of folder where service running at:</p>\n<pre><code>Get-WmiObject win32_service | Where-Object {$_.Name -like 'Tomcat*'} | select Name, DisplayName, State, PathName\n</code></pre>\n<p>Sample output...</p>\n<pre><code>Name    DisplayName               State   PathName\n----    -----------               -----   --------\nTomcat8 Apache Tomcat 8.5 Tomcat8 Running &quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\bin\\Tomcat8.exe&quot; /...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15115227,"reputation":25331,"user_id":10907864,"display_name":"Promise Preston"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1630617221,"creation_date":1599659283,"answer_id":63813078,"question_id":14925073,"body_markdown":"I had this challenge when working on an Ubuntu 18.04 Linux server.\r\n\r\n**Here&#39;s how I fixed it**:\r\n\r\nRun the command below to determine the location of your `version.sh` file:\r\n\r\n    sudo find / -name &quot;version.sh&quot;\r\n\r\nFor me the output was:\r\n\r\n    /opt/tomcat/bin/version.sh\r\n\r\nThen, using the output, run the file (`version.sh`) as a shell script (`sh`):\r\n\r\n    sh /opt/tomcat/bin/version.sh\r\n\r\nThat&#39;s all.\r\n\r\n**I hope this helps**","title":"Tomcat: How to find out running Tomcat version?","body":"<p>I had this challenge when working on an Ubuntu 18.04 Linux server.</p>\n<p><strong>Here's how I fixed it</strong>:</p>\n<p>Run the command below to determine the location of your <code>version.sh</code> file:</p>\n<pre><code>sudo find / -name &quot;version.sh&quot;\n</code></pre>\n<p>For me the output was:</p>\n<pre><code>/opt/tomcat/bin/version.sh\n</code></pre>\n<p>Then, using the output, run the file (<code>version.sh</code>) as a shell script (<code>sh</code>):</p>\n<pre><code>sh /opt/tomcat/bin/version.sh\n</code></pre>\n<p>That's all.</p>\n<p><strong>I hope this helps</strong></p>\n"},{"tags":[],"owner":{"account_id":3854437,"reputation":11,"user_id":3193759,"display_name":"Steven Baker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613647376,"creation_date":1613647376,"answer_id":66258963,"question_id":14925073,"body_markdown":"On Windows just cmd\r\n\r\nC:\\Program Files (x86)\\Extensis\\Portfolio Server\\applications\\tomcat\\bin&gt;version","title":"Tomcat: How to find out running Tomcat version?","body":"<p>On Windows just cmd</p>\n<p>C:\\Program Files (x86)\\Extensis\\Portfolio Server\\applications\\tomcat\\bin&gt;version</p>\n"},{"tags":[],"owner":{"account_id":10982424,"reputation":11,"user_id":8069116,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644303873,"creation_date":1643940494,"answer_id":70980661,"question_id":14925073,"body_markdown":"check yout tomcat log directory.\r\n\r\n    goto  /var/log/tomcat8/\r\n\r\nview the file: catalina.out\r\nit will show the tomcat version below:\r\n\r\n&gt;Server version name:   Apache Tomcat/8.5.72\r\n04-Feb-2022 04:00:58.537 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Oct 28 2021 00:54:01 UTC\r\n04-Feb-2022 04:00:58.537 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 8.5.72.0\r\n04-Feb-2022 04:00:58.537 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\r\n04-Feb-2022 04:00:58.537 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\r\n04-Feb-2022 04:00:58.537 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_312-b07","title":"Tomcat: How to find out running Tomcat version?","body":"<p>check yout tomcat log directory.</p>\n<pre><code>goto  /var/log/tomcat8/\n</code></pre>\n<p>view the file: catalina.out\nit will show the tomcat version below:</p>\n<blockquote>\n<p>Server version name:   Apache Tomcat/8.5.72\n04-Feb-2022 04:00:58.537 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Oct 28 2021 00:54:01 UTC\n04-Feb-2022 04:00:58.537 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 8.5.72.0\n04-Feb-2022 04:00:58.537 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\n04-Feb-2022 04:00:58.537 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\n04-Feb-2022 04:00:58.537 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_312-b07</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652009563,"creation_date":1652009162,"answer_id":72160522,"question_id":14925073,"body_markdown":"These Following 4 ways can be used to find out `Apache Tomcat Version` in `Linux`:\r\n\r\n**1). Linux via Version Script in Tomcat Bin Directory:**\r\n\r\n 1. Locate the Tomcat`s bin Directory that is being used\r\n 2. Check for version.sh script exists, i.e. ll version.sh\r\n 3. Execute the script either way: `sh version.sh` OR `./version.sh`\r\n\r\nThis will output you sample as below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**2). Check Tomcat Version in Linux Command Line**\r\n\r\n    ps -ef |grep -i tomcat // this is will output and you will need to eye-ball to find version, sample below\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pObgv.jpg\r\n  [2]: https://i.stack.imgur.com/gT8MY.jpg\r\n\r\n**3). Get Tomcat version via Catalina.jar**\r\n\r\nExecute the following CMD in terminal, you will need to locate Lib folder in Tomcat\r\n\r\n    java -cp tomcat/lib/catalina.jar org.apache.catalina.util.ServerInfo\r\n\r\n**4). Get Tomcat version through JSP**\r\n\r\n 1. Create JSP page with the below code\r\n 2. Then try to open the JSP via Tomcat in the Browser\r\n 3. This will output the Tomcat Version you are running.\r\n\r\n&gt; Tomcat Version : &lt;%= application.getServerInfo() %&gt; &lt;br&gt;     Servlet\r\n&gt; Specification Version : &lt;%= application.getMajorVersion() %&gt;. &lt;%=\r\n&gt; application.getMinorVersion() %&gt;  &lt;br&gt;     JSP version :\r\n&gt; &lt;%=JspFactory.getDefaultFactory().getEngineInfo().getSpecificationVersion()\r\n&gt; %&gt; &lt;br&gt;","title":"Tomcat: How to find out running Tomcat version?","body":"<p>These Following 4 ways can be used to find out <code>Apache Tomcat Version</code> in <code>Linux</code>:</p>\n<p><strong>1). Linux via Version Script in Tomcat Bin Directory:</strong></p>\n<ol>\n<li>Locate the Tomcat`s bin Directory that is being used</li>\n<li>Check for version.sh script exists, i.e. ll version.sh</li>\n<li>Execute the script either way: <code>sh version.sh</code> OR <code>./version.sh</code></li>\n</ol>\n<p>This will output you sample as below:</p>\n<p><a href=\"https://i.stack.imgur.com/pObgv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pObgv.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>2). Check Tomcat Version in Linux Command Line</strong></p>\n<pre><code>ps -ef |grep -i tomcat // this is will output and you will need to eye-ball to find version, sample below\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gT8MY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gT8MY.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>3). Get Tomcat version via Catalina.jar</strong></p>\n<p>Execute the following CMD in terminal, you will need to locate Lib folder in Tomcat</p>\n<pre><code>java -cp tomcat/lib/catalina.jar org.apache.catalina.util.ServerInfo\n</code></pre>\n<p><strong>4). Get Tomcat version through JSP</strong></p>\n<ol>\n<li>Create JSP page with the below code</li>\n<li>Then try to open the JSP via Tomcat in the Browser</li>\n<li>This will output the Tomcat Version you are running.</li>\n</ol>\n<blockquote>\n<p>Tomcat Version : &lt;%= application.getServerInfo() %&gt; <br>     Servlet\nSpecification Version : &lt;%= application.getMajorVersion() %&gt;. &lt;%=\napplication.getMinorVersion() %&gt;  <br>     JSP version :\n&lt;%=JspFactory.getDefaultFactory().getEngineInfo().getSpecificationVersion()\n%&gt; <br></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8329980,"reputation":947,"user_id":6258747,"display_name":"igorpcholkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660657122,"creation_date":1660657122,"answer_id":73374934,"question_id":14925073,"body_markdown":"Sometimes the bin/version.sh script in tomcat directory still doesn&#39;t show a numerical version. E.g. it can just show: &quot;Server version: WebServer&quot;. And other mentioned opportunities (checking path, checking logs, release notes, tomcat root page output) don&#39;t work neither.\r\nIn that case (you should still have read access to tomcat&#39;s directory):\r\n1. take catalina.jar from tomcat&#39;s lib directory.\r\n2. extract it \r\n3. take a look inside org/apache/catalina/util/ServerInfo.properties\r\n\r\nit can contain what you expect (server.info and server.number fields)","title":"Tomcat: How to find out running Tomcat version?","body":"<p>Sometimes the bin/version.sh script in tomcat directory still doesn't show a numerical version. E.g. it can just show: &quot;Server version: WebServer&quot;. And other mentioned opportunities (checking path, checking logs, release notes, tomcat root page output) don't work neither.\nIn that case (you should still have read access to tomcat's directory):</p>\n<ol>\n<li>take catalina.jar from tomcat's lib directory.</li>\n<li>extract it</li>\n<li>take a look inside org/apache/catalina/util/ServerInfo.properties</li>\n</ol>\n<p>it can contain what you expect (server.info and server.number fields)</p>\n"},{"tags":[],"owner":{"account_id":19303012,"reputation":19,"user_id":14110479,"display_name":"You"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697118150,"creation_date":1697115798,"answer_id":77280842,"question_id":14925073,"body_markdown":"    apt show tomcat9       # Pour Debian/Ubuntu\r\n    # or\r\n    yum info tomcat        # Pour CentOS/RedHat\r\n    ...\r\n    Name        : tomcat\r\n    Arch        : noarch\r\n    Version     : 7.0.76\r\n    # first locate your catalina.sh like : \r\n    locate catalina.sh\r\n    /opt/tomcat/bin/catalina.sh\r\n    #and \r\n    /opt/tomcat/bin/catalina.sh version\r\n    ...\r\n    Server version: Apache Tomcat/9.0.30\r\n    ...\r\n    Server number:  9.0.30.0\r\n    OS Name:        Linux\r\n    OS Version:     3.10.0-1160.95.1.el7.x86_64\r\n    Architecture:   amd64\r\n    ...\r\n   \r\n    # or \r\n    systemctl status tomcat\r\n    ● tomcat.service - Apache Tomcat 9\r\n    Loaded: loaded (/etc/systemd/system/tomcat.service; enabled; vendor             \r\n    preset: disabled)\r\n    Active: active (running) since Tue 2023-09-12 08:26:34 CEST; 4 weeks 2     \r\n    days ago\r\n    Process: 961 ExecStart=/opt/tomcat/bin/startup.sh (code=exited,     \r\n    status=0/SUCCESS)\r\n    Main PID: 1041 (java)\r\n    CGroup: /system.slice/tomcat.service\r\n           └─1041 /usr/bin/java - \r\n    Djava.util.logging.config.file=/opt/tomcat/conf/\r\n\r\n","title":"Tomcat: How to find out running Tomcat version?","body":"<pre><code>apt show tomcat9       # Pour Debian/Ubuntu\n# or\nyum info tomcat        # Pour CentOS/RedHat\n...\nName        : tomcat\nArch        : noarch\nVersion     : 7.0.76\n# first locate your catalina.sh like : \nlocate catalina.sh\n/opt/tomcat/bin/catalina.sh\n#and \n/opt/tomcat/bin/catalina.sh version\n...\nServer version: Apache Tomcat/9.0.30\n...\nServer number:  9.0.30.0\nOS Name:        Linux\nOS Version:     3.10.0-1160.95.1.el7.x86_64\nArchitecture:   amd64\n...\n\n# or \nsystemctl status tomcat\n● tomcat.service - Apache Tomcat 9\nLoaded: loaded (/etc/systemd/system/tomcat.service; enabled; vendor             \npreset: disabled)\nActive: active (running) since Tue 2023-09-12 08:26:34 CEST; 4 weeks 2     \ndays ago\nProcess: 961 ExecStart=/opt/tomcat/bin/startup.sh (code=exited,     \nstatus=0/SUCCESS)\nMain PID: 1041 (java)\nCGroup: /system.slice/tomcat.service\n       └─1041 /usr/bin/java - \nDjava.util.logging.config.file=/opt/tomcat/conf/\n</code></pre>\n"}],"owner":{"account_id":89964,"reputation":9353,"user_id":247869,"accept_rate":85,"display_name":"Yichz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":747939,"favorite_count":0,"down_vote_count":0,"up_vote_count":234,"accepted_answer_id":14938856,"answer_count":32,"score":234,"last_activity_date":1697118150,"creation_date":1361128940,"question_id":14925073,"body_markdown":"I&#39;m trying to get Appfuse + Tomcat + jRebel working.\r\n\r\nAppfuse by default uses Cargo to download tomcat (ver. 7.0.33) and deploy the application to it. I wish to use an already installed tomcat (ver. 7.0.27) instead of the downloaded one. I made the change following the [appfuse FAQ][1].\r\n\r\nAfter deploying with `mvn cargo:run`, how can I know that the actual running tomcat is indeed 7.0.27? \r\n\r\nI used to type a wrong URL (ex. *localhost:8080/dfsfsdf*) to see it in the error page, but now it shows nothing.\r\n\r\nMy `$CATALINA_HOME` points to my own tomcat 7.0.27.\r\nsorry forgot to mention, it&#39;s for Windows.\r\n\r\n\r\nUpdate:\r\n\r\nSince this question had become somehow popular, I would like to explain why that accepted answer. simple, it was the first one which solved my problem. \r\n\r\nI am looking at the title of the question,  [@Tech Junkie][2] and [@CPU 100][3] really have the best answer, but not for the scenario I was encountered. (I was wanting to know if `mvn cargo:run` runs my installed tomcat or a &quot;project embeded&quot; tomcat)  `:)`\r\n\r\n\r\n  [1]: http://appfuse.org/display/APF/FAQ#FAQ-useexistingtomcat\r\n  [2]: https://stackoverflow.com/a/21773359/247869\r\n  [3]: https://stackoverflow.com/a/14925114/247869","title":"Tomcat: How to find out running Tomcat version?","body":"<p>I'm trying to get Appfuse + Tomcat + jRebel working.</p>\n<p>Appfuse by default uses Cargo to download tomcat (ver. 7.0.33) and deploy the application to it. I wish to use an already installed tomcat (ver. 7.0.27) instead of the downloaded one. I made the change following the <a href=\"http://appfuse.org/display/APF/FAQ#FAQ-useexistingtomcat\" rel=\"noreferrer\">appfuse FAQ</a>.</p>\n<p>After deploying with <code>mvn cargo:run</code>, how can I know that the actual running tomcat is indeed 7.0.27?</p>\n<p>I used to type a wrong URL (ex. <em>localhost:8080/dfsfsdf</em>) to see it in the error page, but now it shows nothing.</p>\n<p>My <code>$CATALINA_HOME</code> points to my own tomcat 7.0.27.\nsorry forgot to mention, it's for Windows.</p>\n<p>Update:</p>\n<p>Since this question had become somehow popular, I would like to explain why that accepted answer. simple, it was the first one which solved my problem.</p>\n<p>I am looking at the title of the question,  <a href=\"https://stackoverflow.com/a/21773359/247869\">@Tech Junkie</a> and <a href=\"https://stackoverflow.com/a/14925114/247869\">@CPU 100</a> really have the best answer, but not for the scenario I was encountered. (I was wanting to know if <code>mvn cargo:run</code> runs my installed tomcat or a &quot;project embeded&quot; tomcat)  <code>:)</code></p>\n"},{"tags":["java","maven","plugins","jboss","pom.xml"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1697211511,"post_id":77280628,"comment_id":136255743,"body_markdown":"I&#39;d suggest using the [`wildfly-maven-plugin`](https://docs.wildfly.org/wildfly-maven-plugin). It works with EAP 7 and really EAP 6 if you tweak the management port. Version 3.0.2 supports Java 8. 4+ requires Java 11.","body":"I&#39;d suggest using the <a href=\"https://docs.wildfly.org/wildfly-maven-plugin\" rel=\"nofollow noreferrer\"><code>wildfly-maven-plugin</code></a>. It works with EAP 7 and really EAP 6 if you tweak the management port. Version 3.0.2 supports Java 8. 4+ requires Java 11."},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1697259928,"post_id":77280628,"comment_id":136260617,"body_markdown":"how can i tweak management port? And the question is also for the plugin you mentioned","body":"how can i tweak management port? And the question is also for the plugin you mentioned"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1697379422,"post_id":77280628,"comment_id":136269893,"body_markdown":"Which goal are you using? It should be &lt;port&gt; though. For EAP 6 the default is 9999. For EAP 7 the default is 9990. The wildfly-maven-plugin uses 9990 by default.","body":"Which goal are you using? It should be &lt;port&gt; though. For EAP 6 the default is 9999. For EAP 7 the default is 9990. The wildfly-maven-plugin uses 9990 by default."}],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697117723,"creation_date":1697114107,"question_id":77280628,"body_markdown":"I am using `jboss-as-maven-plugin` into the `pom.xml`. I can find online some documentation, but not about the configuration...\r\n\r\nFor example, I have this:\r\n\r\n```java\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jboss.as.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jboss-as-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;7.8.Final&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;!--\r\n             In produzione c&#39;e&#39; JBoss EAP 6.3 =&gt; JBoss AS 7.4.0.Final\r\n             ma tale release non e&#39; disponibile nei repo Maven\r\n             quindi usiamo la versione piu&#39; simile disponibile\r\n          --&gt;\r\n        &lt;version&gt;7.4.0.Final-redhat-4&lt;/version&gt;\r\n        &lt;jvmArgs&gt;-Xms64m -Xmx512m -XX:MaxPermSize=256m -Djava.net.preferIPv4Stack=true\r\n            -Dorg.jboss.resolver.warning=true -Dsun.rmi.dgc.client.gcInterval=3600000\r\n            -Dsun.rmi.dgc.server.gcInterval=3600000\r\n            -Djboss.socket.binding.port-offset=100\r\n            -Djboss.server.config.dir=${project.build.testOutputDirectory}/configuration\r\n            ${jacocoAgent}\r\n        &lt;!--    &amp;lt;!&amp;ndash;per eseguire il debug remoto rimuovere il commento dalla riga sottostante--&gt;\r\n        &lt;!--    -Xrunjdwp:transport=dt_socket,address=33333,server=y,suspend=y--&gt;\r\n        &lt;/jvmArgs&gt;\r\n        &lt;port&gt;10099&lt;/port&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;start&lt;/id&gt;\r\n            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;start&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;startup-timeout&gt;120&lt;/startup-timeout&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;avoid-console-logging&lt;/id&gt;\r\n            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;execute-commands&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;execute-commands&gt;\r\n                    &lt;commands&gt;\r\n                        &lt;command&gt;/subsystem=logging/root-logger=ROOT:root-logger-unassign-handler(name=&quot;CONSOLE&quot;)&lt;/command&gt;\r\n                    &lt;/commands&gt;\r\n                &lt;/execute-commands&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;deploy&lt;/id&gt;\r\n            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;deploy&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;stop&lt;/id&gt;\r\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;undeploy&lt;/goal&gt;&lt;!-- Per eseguire &quot;mvn verify&quot; e non solo &quot;mvn clean verify&quot; --&gt;\r\n                &lt;goal&gt;shutdown&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nWhere I can find the meaning and purpose of all tags, and of all the tags of the plugin I haven&#39;t used in this example?","title":"jboss-as-maven-plugin pom configuration","body":"<p>I am using <code>jboss-as-maven-plugin</code> into the <code>pom.xml</code>. I can find online some documentation, but not about the configuration...</p>\n<p>For example, I have this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jboss.as.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;jboss-as-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;7.8.Final&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;!--\n             In produzione c'e' JBoss EAP 6.3 =&gt; JBoss AS 7.4.0.Final\n             ma tale release non e' disponibile nei repo Maven\n             quindi usiamo la versione piu' simile disponibile\n          --&gt;\n        &lt;version&gt;7.4.0.Final-redhat-4&lt;/version&gt;\n        &lt;jvmArgs&gt;-Xms64m -Xmx512m -XX:MaxPermSize=256m -Djava.net.preferIPv4Stack=true\n            -Dorg.jboss.resolver.warning=true -Dsun.rmi.dgc.client.gcInterval=3600000\n            -Dsun.rmi.dgc.server.gcInterval=3600000\n            -Djboss.socket.binding.port-offset=100\n            -Djboss.server.config.dir=${project.build.testOutputDirectory}/configuration\n            ${jacocoAgent}\n        &lt;!--    &amp;lt;!&amp;ndash;per eseguire il debug remoto rimuovere il commento dalla riga sottostante--&gt;\n        &lt;!--    -Xrunjdwp:transport=dt_socket,address=33333,server=y,suspend=y--&gt;\n        &lt;/jvmArgs&gt;\n        &lt;port&gt;10099&lt;/port&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;start&lt;/id&gt;\n            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;start&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;startup-timeout&gt;120&lt;/startup-timeout&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;avoid-console-logging&lt;/id&gt;\n            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;execute-commands&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;execute-commands&gt;\n                    &lt;commands&gt;\n                        &lt;command&gt;/subsystem=logging/root-logger=ROOT:root-logger-unassign-handler(name=&quot;CONSOLE&quot;)&lt;/command&gt;\n                    &lt;/commands&gt;\n                &lt;/execute-commands&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;deploy&lt;/id&gt;\n            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;deploy&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;stop&lt;/id&gt;\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;undeploy&lt;/goal&gt;&lt;!-- Per eseguire &quot;mvn verify&quot; e non solo &quot;mvn clean verify&quot; --&gt;\n                &lt;goal&gt;shutdown&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Where I can find the meaning and purpose of all tags, and of all the tags of the plugin I haven't used in this example?</p>\n"},{"tags":["java","spring","postgresql","migration","flyway"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1697116887,"post_id":77280812,"comment_id":136241254,"body_markdown":"Does this answer your question? [A placeholder for &quot;the entity&quot; in Spring Data JPA custom queries](https://stackoverflow.com/questions/59359694/a-placeholder-for-the-entity-in-spring-data-jpa-custom-queries)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59359694/a-placeholder-for-the-entity-in-spring-data-jpa-custom-queries\">A placeholder for &quot;the entity&quot; in Spring Data JPA custom queries</a>"},{"owner":{"account_id":15689318,"reputation":21,"user_id":11320951,"display_name":"maria_so"},"score":0,"creation_date":1697117376,"post_id":77280812,"comment_id":136241379,"body_markdown":"Unfortunately, no. I have access only on sql and properties/yaml files.","body":"Unfortunately, no. I have access only on sql and properties/yaml files."}],"answers":[{"tags":[],"owner":{"account_id":4868030,"reputation":1930,"user_id":3925552,"accept_rate":40,"display_name":"HassanUsman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697117407,"creation_date":1697117407,"answer_id":77281051,"question_id":77280812,"body_markdown":"First define your `placeholders` in your `application.properties` file like\r\n\r\n    spring.flyway.placeholders.first=FirstValue\r\n    spring.flyway.placeholders.second=SecondValue\r\n    spring.flyway.placeholders.third=ThirdValue\r\n\r\nAnd in your `SQL migration script`, you can use these placeholders as follows:\r\n\r\n    INSERT INTO your_table (column_name) VALUES (&#39;${first}&#39;);\r\n    INSERT INTO your_table (column_name) VALUES (&#39;${second}&#39;);\r\n    INSERT INTO your_table (column_name) VALUES (&#39;${third}&#39;);\r\n\r\nHowever, if you want to loop through a `dynamic list` and `insert values` into the database based on that list, it&#39;s generally not possible in a `Flyway migration script` using placeholders, as SQL scripts are typically static. \r\n\r\nInstead, you would typically use a programming language `(like Java or a scripting language)` to loop through the list and execute the necessary SQL statements.","title":"Loop through a list of spring flyway placeholders","body":"<p>First define your <code>placeholders</code> in your <code>application.properties</code> file like</p>\n<pre><code>spring.flyway.placeholders.first=FirstValue\nspring.flyway.placeholders.second=SecondValue\nspring.flyway.placeholders.third=ThirdValue\n</code></pre>\n<p>And in your <code>SQL migration script</code>, you can use these placeholders as follows:</p>\n<pre><code>INSERT INTO your_table (column_name) VALUES ('${first}');\nINSERT INTO your_table (column_name) VALUES ('${second}');\nINSERT INTO your_table (column_name) VALUES ('${third}');\n</code></pre>\n<p>However, if you want to loop through a <code>dynamic list</code> and <code>insert values</code> into the database based on that list, it's generally not possible in a <code>Flyway migration script</code> using placeholders, as SQL scripts are typically static.</p>\n<p>Instead, you would typically use a programming language <code>(like Java or a scripting language)</code> to loop through the list and execute the necessary SQL statements.</p>\n"}],"owner":{"account_id":15689318,"reputation":21,"user_id":11320951,"display_name":"maria_so"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697117407,"creation_date":1697115531,"question_id":77280812,"body_markdown":"I have a list of strings and I want to loop through it and insert in the database based on those values.\r\n\r\nIs it possible to have a list of values for spring.flyway.placeholders in order to loop through it in a sql script? \r\n\r\nfor ex:\r\n```\r\nspring.flyway.placeholders.values=[first, second, third]\r\n```","title":"Loop through a list of spring flyway placeholders","body":"<p>I have a list of strings and I want to loop through it and insert in the database based on those values.</p>\n<p>Is it possible to have a list of values for spring.flyway.placeholders in order to loop through it in a sql script?</p>\n<p>for ex:</p>\n<pre><code>spring.flyway.placeholders.values=[first, second, third]\n</code></pre>\n"},{"tags":["java","json","jakarta-ee","java-ee-7"],"comments":[{"owner":{"account_id":7896148,"reputation":820,"user_id":5964741,"display_name":"Ebuzer Taha KANAT"},"score":0,"creation_date":1697114379,"post_id":77280424,"comment_id":136240656,"body_markdown":"@BalusC its good to see a legend commenting on my question but same exception thrown even when i did your suggestion.","body":"@BalusC its good to see a legend commenting on my question but same exception thrown even when i did your suggestion."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1697114996,"post_id":77280424,"comment_id":136240799,"body_markdown":"Right. That method was introduced in JSONP 1.1. You&#39;ll need a JSONP 1.1 compatible implementation.","body":"Right. That method was introduced in JSONP 1.1. You&#39;ll need a JSONP 1.1 compatible implementation."},{"owner":{"account_id":7896148,"reputation":820,"user_id":5964741,"display_name":"Ebuzer Taha KANAT"},"score":0,"creation_date":1697116183,"post_id":77280424,"comment_id":136241093,"body_markdown":"@BalusC here is the relevant part of pom \n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;javax.json&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;javax.json-api&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;javax.json.bind&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;javax.json.bind-api&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.eclipse&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;yasson&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"@BalusC here is the relevant part of pom  \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;javax.json&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;javax.json-api&lt;/artifactId&gt; \t\t\t&lt;version&gt;1.1&lt;/version&gt; \t\t&lt;/dependency&gt; \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;javax.json.bind&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;javax.json.bind-api&lt;/artifactId&gt; \t\t\t&lt;version&gt;1.0&lt;/version&gt; \t\t&lt;/dependency&gt; \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.eclipse&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;yasson&lt;/artifactId&gt; \t\t\t&lt;version&gt;2.0.1&lt;/version&gt; \t\t&lt;/dependency&gt; \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;javax.json&lt;/artifactId&gt; \t\t\t&lt;version&gt;1.1.2&lt;/version&gt; \t\t&lt;/dependency&gt;"},{"owner":{"account_id":7896148,"reputation":820,"user_id":5964741,"display_name":"Ebuzer Taha KANAT"},"score":0,"creation_date":1697116248,"post_id":77280424,"comment_id":136241105,"body_markdown":"and here is the new exception should i open a new question \n\n16:02:32,312 WARN  [io.smallrye.graphql.execution.ExecutionService] (default task-1) Could not close Jsonb object\n16:02:32,312 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /deneme2-web/graphql/graphql: java.lang.NullPointerException: Value in JsonObjects name/value pair cannot be null\n\tat org.glassfish.json.JsonObjectBuilderImpl.validateValue(JsonObjectBuilderImpl.java:164)\n\tat org.glassfish.json.JsonObjectBuilderImpl.add(JsonObjectBuilderImpl.java:67)\n\t...","body":"and here is the new exception should i open a new question   16:02:32,312 WARN  [io.smallrye.graphql.execution.ExecutionService] (default task-1) Could not close Jsonb object 16:02:32,312 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /deneme2-web/graphql/graphql: java.lang.NullPointerException: Value in JsonObjects name/value pair cannot be null \tat org.glassfish.json.JsonObjectBuilderImpl.validateValue(JsonO&zwnj;&#8203;bjectBuilderImpl.jav&zwnj;&#8203;a:164) \tat org.glassfish.json.JsonObjectBuilderImpl.add(JsonObjectBuild&zwnj;&#8203;erImpl.java:67) \t..."}],"owner":{"account_id":7896148,"reputation":820,"user_id":5964741,"display_name":"Ebuzer Taha KANAT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697116807,"creation_date":1697112322,"question_id":77280424,"body_markdown":"I&#39;m trying to deploy a simple graphql service to java ee 7 server to prove it can be done.\r\nI managed the work for jakarta ee 10 version but java ee 7 one deploys and run but when i test the web service with\r\n\r\n      curl -X POST -H &quot;Content-Type: application/json&quot; -d &#39;{&quot;query&quot;: &quot;query { hello }&quot;}&#39; http://localhost:8080/deneme2-web/graphql/graphql\r\n\r\nIt spits this stacktrace at runtime \r\n\r\n    14:50:54,878 SEVERE [org.eclipse.yasson.internal.Marshaller] (default task-2) Generating incomplete JSON\r\n    14:50:54,881 ERROR [io.undertow.request] (default task-2) UT005023: Exception handling request to /deneme2-web/graphql/graphql: java.lang.NoSuchMethodError: javax.json.stream.JsonGenerator.writeKey(Ljava/lang/String;)Ljavax/json/stream/JsonGenerator;\r\n    \tat org.eclipse.yasson.internal.serializer.MapSerializer.serializeInternal(MapSerializer.java:56)\r\n    \tat org.eclipse.yasson.internal.serializer.MapSerializer.serializeInternal(MapSerializer.java:32)\r\n    \tat org.eclipse.yasson.internal.serializer.AbstractContainerSerializer.serialize(AbstractContainerSerializer.java:64)\r\n    \tat org.eclipse.yasson.internal.Marshaller.serializeRoot(Marshaller.java:119)\r\n    \tat org.eclipse.yasson.internal.Marshaller.marshall(Marshaller.java:75)\r\n    \tat org.eclipse.yasson.internal.JsonBinding.toJson(JsonBinding.java:98)\r\n    \tat io.smallrye.graphql.execution.ExecutionService.toJsonValue(ExecutionService.java:119)\r\n    \tat io.smallrye.graphql.execution.ExecutionService.addDataToResponse(ExecutionService.java:92)\r\n    \tat io.smallrye.graphql.execution.ExecutionService.addDataToResponse(ExecutionService.java:87)\r\n    \tat io.smallrye.graphql.execution.ExecutionService.execute(ExecutionService.java:75)\r\n    \tat io.smallrye.graphql.servlet.ExecutionServlet.handleInput(ExecutionServlet.java:79)\r\n    \tat io.smallrye.graphql.servlet.ExecutionServlet.doPost(ExecutionServlet.java:64)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n    \tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n    \tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n    \tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n    \tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n    \tat org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n    \tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n    \tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n    \tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n    \tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n    \tat io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\r\n    \tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\r\n    \tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n    \tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    \tat org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)\r\n    \tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)\r\n    \tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n    \tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)\r\n    \tat java.lang.Thread.run(Thread.java:750)\r\n\r\nAlso here is my pom file:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;artifactId&gt;deneme2&lt;/artifactId&gt;\r\n    \t\t&lt;groupId&gt;deneme2&lt;/groupId&gt;\r\n    \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;artifactId&gt;deneme2-web&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;deneme2: WAR Module&lt;/name&gt;\r\n    \r\n    \t&lt;url&gt;http://wildfly.org&lt;/url&gt;\r\n    \t&lt;licenses&gt;\r\n    \t\t&lt;license&gt;\r\n    \t\t\t&lt;name&gt;Apache License, Version 2.0&lt;/name&gt;\r\n    \t\t\t&lt;distribution&gt;repo&lt;/distribution&gt;\r\n    \t\t\t&lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0.html&lt;/url&gt;\r\n    \t\t&lt;/license&gt;\r\n    \t&lt;/licenses&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;!-- Dependency on the EJB module so we can use it&#39;s services if needed --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;deneme2&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;deneme2-ejb&lt;/artifactId&gt;\r\n    \t\t\t&lt;type&gt;ejb&lt;/type&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.json.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.json.bind-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.eclipse&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;yasson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.eclipse.microprofile.graphql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;microprofile-graphql-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.0&lt;/version&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;artifactId&gt;deneme2&lt;/artifactId&gt;\r\n    \t\t&lt;groupId&gt;deneme2&lt;/groupId&gt;\r\n    \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;artifactId&gt;deneme2-web&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;deneme2: WAR Module&lt;/name&gt;\r\n    \r\n    \t&lt;url&gt;http://wildfly.org&lt;/url&gt;\r\n    \t&lt;licenses&gt;\r\n    \t\t&lt;license&gt;\r\n    \t\t\t&lt;name&gt;Apache License, Version 2.0&lt;/name&gt;\r\n    \t\t\t&lt;distribution&gt;repo&lt;/distribution&gt;\r\n    \t\t\t&lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0.html&lt;/url&gt;\r\n    \t\t&lt;/license&gt;\r\n    \t&lt;/licenses&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;!-- Dependency on the EJB module so we can use it&#39;s services if needed --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;deneme2&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;deneme2-ejb&lt;/artifactId&gt;\r\n    \t\t\t&lt;type&gt;ejb&lt;/type&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.json.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.json.bind-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.eclipse&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;yasson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.eclipse.microprofile.graphql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;microprofile-graphql-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!--\r\n    \t\thttps://mvnrepository.com/artifact/org.eclipse.microprofile.config/microprofile-config-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.eclipse.microprofile.config&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;microprofile-config-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/io.smallrye/smallrye-config --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;smallrye-config&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/io.smallrye/smallrye-graphql-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;smallrye-graphql-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--\r\n    \t\thttps://mvnrepository.com/artifact/io.smallrye/smallrye-graphql-servlet --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;smallrye-graphql-servlet&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;smallrye-graphql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${version.war.plugin}&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;!-- Java EE 7 doesn&#39;t require web.xml, Maven needs to catch\r\n    \t\t\t\t\tup! --&gt;\r\n    \t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!--\r\n    \t\thttps://mvnrepository.com/artifact/org.eclipse.microprofile.config/microprofile-config-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.eclipse.microprofile.config&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;microprofile-config-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/io.smallrye/smallrye-config --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;smallrye-config&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/io.smallrye/smallrye-graphql-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;smallrye-graphql-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--\r\n    \t\thttps://mvnrepository.com/artifact/io.smallrye/smallrye-graphql-servlet --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;smallrye-graphql-servlet&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;smallrye-graphql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${version.war.plugin}&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;!-- Java EE 7 doesn&#39;t require web.xml, Maven needs to catch\r\n    \t\t\t\t\tup! --&gt;\r\n    \t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nHere is reproducer for brave souls: https://github.com/urbandroid/graphql-jakarta/tree/javaee7","title":"java.lang.NoSuchMethodError: javax.json.stream.JsonGenerator.writeKey(Ljava/lang/String;)Ljavax/json/stream/JsonGenerator;","body":"<p>I'm trying to deploy a simple graphql service to java ee 7 server to prove it can be done.\nI managed the work for jakarta ee 10 version but java ee 7 one deploys and run but when i test the web service with</p>\n<pre><code>  curl -X POST -H &quot;Content-Type: application/json&quot; -d '{&quot;query&quot;: &quot;query { hello }&quot;}' http://localhost:8080/deneme2-web/graphql/graphql\n</code></pre>\n<p>It spits this stacktrace at runtime</p>\n<pre><code>14:50:54,878 SEVERE [org.eclipse.yasson.internal.Marshaller] (default task-2) Generating incomplete JSON\n14:50:54,881 ERROR [io.undertow.request] (default task-2) UT005023: Exception handling request to /deneme2-web/graphql/graphql: java.lang.NoSuchMethodError: javax.json.stream.JsonGenerator.writeKey(Ljava/lang/String;)Ljavax/json/stream/JsonGenerator;\n    at org.eclipse.yasson.internal.serializer.MapSerializer.serializeInternal(MapSerializer.java:56)\n    at org.eclipse.yasson.internal.serializer.MapSerializer.serializeInternal(MapSerializer.java:32)\n    at org.eclipse.yasson.internal.serializer.AbstractContainerSerializer.serialize(AbstractContainerSerializer.java:64)\n    at org.eclipse.yasson.internal.Marshaller.serializeRoot(Marshaller.java:119)\n    at org.eclipse.yasson.internal.Marshaller.marshall(Marshaller.java:75)\n    at org.eclipse.yasson.internal.JsonBinding.toJson(JsonBinding.java:98)\n    at io.smallrye.graphql.execution.ExecutionService.toJsonValue(ExecutionService.java:119)\n    at io.smallrye.graphql.execution.ExecutionService.addDataToResponse(ExecutionService.java:92)\n    at io.smallrye.graphql.execution.ExecutionService.addDataToResponse(ExecutionService.java:87)\n    at io.smallrye.graphql.execution.ExecutionService.execute(ExecutionService.java:75)\n    at io.smallrye.graphql.servlet.ExecutionServlet.handleInput(ExecutionServlet.java:79)\n    at io.smallrye.graphql.servlet.ExecutionServlet.doPost(ExecutionServlet.java:64)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)\n    at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p>Also here is my pom file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;deneme2&lt;/artifactId&gt;\n        &lt;groupId&gt;deneme2&lt;/groupId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;deneme2-web&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;deneme2: WAR Module&lt;/name&gt;\n\n    &lt;url&gt;http://wildfly.org&lt;/url&gt;\n    &lt;licenses&gt;\n        &lt;license&gt;\n            &lt;name&gt;Apache License, Version 2.0&lt;/name&gt;\n            &lt;distribution&gt;repo&lt;/distribution&gt;\n            &lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0.html&lt;/url&gt;\n        &lt;/license&gt;\n    &lt;/licenses&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- Dependency on the EJB module so we can use it's services if needed --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;deneme2&lt;/groupId&gt;\n            &lt;artifactId&gt;deneme2-ejb&lt;/artifactId&gt;\n            &lt;type&gt;ejb&lt;/type&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.json.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.json.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse&lt;/groupId&gt;\n            &lt;artifactId&gt;yasson&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.graphql&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-graphql-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;deneme2&lt;/artifactId&gt;\n        &lt;groupId&gt;deneme2&lt;/groupId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;deneme2-web&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;deneme2: WAR Module&lt;/name&gt;\n\n    &lt;url&gt;http://wildfly.org&lt;/url&gt;\n    &lt;licenses&gt;\n        &lt;license&gt;\n            &lt;name&gt;Apache License, Version 2.0&lt;/name&gt;\n            &lt;distribution&gt;repo&lt;/distribution&gt;\n            &lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0.html&lt;/url&gt;\n        &lt;/license&gt;\n    &lt;/licenses&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- Dependency on the EJB module so we can use it's services if needed --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;deneme2&lt;/groupId&gt;\n            &lt;artifactId&gt;deneme2-ejb&lt;/artifactId&gt;\n            &lt;type&gt;ejb&lt;/type&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.json.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.json.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse&lt;/groupId&gt;\n            &lt;artifactId&gt;yasson&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.graphql&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-graphql-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.eclipse.microprofile.config/microprofile-config-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.config&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-config-api&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.smallrye/smallrye-config --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n            &lt;artifactId&gt;smallrye-config&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/io.smallrye/smallrye-graphql-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n            &lt;artifactId&gt;smallrye-graphql-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/io.smallrye/smallrye-graphql-servlet --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n            &lt;artifactId&gt;smallrye-graphql-servlet&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n            &lt;artifactId&gt;smallrye-graphql&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${version.war.plugin}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- Java EE 7 doesn't require web.xml, Maven needs to catch\n                    up! --&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.eclipse.microprofile.config/microprofile-config-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.config&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-config-api&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.smallrye/smallrye-config --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n            &lt;artifactId&gt;smallrye-config&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/io.smallrye/smallrye-graphql-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n            &lt;artifactId&gt;smallrye-graphql-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/io.smallrye/smallrye-graphql-servlet --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n            &lt;artifactId&gt;smallrye-graphql-servlet&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n            &lt;artifactId&gt;smallrye-graphql&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${version.war.plugin}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- Java EE 7 doesn't require web.xml, Maven needs to catch\n                    up! --&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is reproducer for brave souls: <a href=\"https://github.com/urbandroid/graphql-jakarta/tree/javaee7\" rel=\"nofollow noreferrer\">https://github.com/urbandroid/graphql-jakarta/tree/javaee7</a></p>\n"},{"tags":["java","ssl","ssl-certificate","tls1.2","truststore"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697107761,"post_id":77279191,"comment_id":136239393,"body_markdown":"Surely you can just redeploy the truststore?","body":"Surely you can just redeploy the truststore?"},{"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"score":0,"creation_date":1697112839,"post_id":77279191,"comment_id":136240338,"body_markdown":"@user207421he truststore is embedded into the Docker image when the application is built from the pipeline","body":"@user207421he truststore is embedded into the Docker image when the application is built from the pipeline"}],"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697116096,"creation_date":1697101456,"question_id":77279191,"body_markdown":"I have a Spring Boot application who connects to several remote resources like: AWS DocumentDB, Salesforce, Outlook.com etc.\r\n\r\nTo interact with these remote services through TLS I had to install their certificates in a custom trust store (JKS) loaded by the Java application at startup.\r\n\r\nMy question is: what happen when one (or more) of these certificates expire? The application stops to connect with the specific service or continues to run logging a warning?\r\n\r\nThe JKS file is loaded into the application with:\r\n\r\n    -Djavax.net.ssl.trustStore=path_to_truststore.jks\r\n\r\nin a Docker container deployed into a AWS ECS cluster.\r\n\r\nI read some online articles and posts on Stackoverflow but I&#39;m still confused.\r\n\r\nHere: https://softwareengineering.stackexchange.com/a/308538\r\nseems that the application still works even if the certificate is expired.\r\n\r\n&gt; Keep in mind, this certificate may not even be technically valid or it\r\n&gt; can EVEN be self signed and not validated by a Root CA, but if it\r\n&gt; exists on the specified Truststore that has been loaded into the Java\r\n&gt; application then it will still trust it.\r\n&gt; \r\n&gt; What you didn&#39;t describe is if this certificate is for a network\r\n&gt; resource that you are providing as a server or a network resource that\r\n&gt; you require as a client. I**f the latter then you might get a warning\r\n&gt; about the certificate being expired, but it will still work because it\r\n&gt; is in your trust store.**\r\n\r\nBut here: https://stackoverflow.com/a/22324010/17982071\r\n\r\nI read a different thing.\r\n\r\n&gt; If a certificate in the trust store expires, and is not replaces with\r\n&gt; an updated version with the same subject and key, it will be discarded\r\n&gt; for the purpose of building the certification path, so you&#39;ll get an\r\n&gt; javax.net.ssl.SSLHandshakeException (coming from &quot;PKIX path building\r\n&gt; failed...&quot;).\r\n\r\nThanks.","title":"How the Java trust manager handles expired TLS certificates","body":"<p>I have a Spring Boot application who connects to several remote resources like: AWS DocumentDB, Salesforce, Outlook.com etc.</p>\n<p>To interact with these remote services through TLS I had to install their certificates in a custom trust store (JKS) loaded by the Java application at startup.</p>\n<p>My question is: what happen when one (or more) of these certificates expire? The application stops to connect with the specific service or continues to run logging a warning?</p>\n<p>The JKS file is loaded into the application with:</p>\n<pre><code>-Djavax.net.ssl.trustStore=path_to_truststore.jks\n</code></pre>\n<p>in a Docker container deployed into a AWS ECS cluster.</p>\n<p>I read some online articles and posts on Stackoverflow but I'm still confused.</p>\n<p>Here: <a href=\"https://softwareengineering.stackexchange.com/a/308538\">https://softwareengineering.stackexchange.com/a/308538</a>\nseems that the application still works even if the certificate is expired.</p>\n<blockquote>\n<p>Keep in mind, this certificate may not even be technically valid or it\ncan EVEN be self signed and not validated by a Root CA, but if it\nexists on the specified Truststore that has been loaded into the Java\napplication then it will still trust it.</p>\n<p>What you didn't describe is if this certificate is for a network\nresource that you are providing as a server or a network resource that\nyou require as a client. I<strong>f the latter then you might get a warning\nabout the certificate being expired, but it will still work because it\nis in your trust store.</strong></p>\n</blockquote>\n<p>But here: <a href=\"https://stackoverflow.com/a/22324010/17982071\">https://stackoverflow.com/a/22324010/17982071</a></p>\n<p>I read a different thing.</p>\n<blockquote>\n<p>If a certificate in the trust store expires, and is not replaces with\nan updated version with the same subject and key, it will be discarded\nfor the purpose of building the certification path, so you'll get an\njavax.net.ssl.SSLHandshakeException (coming from &quot;PKIX path building\nfailed...&quot;).</p>\n</blockquote>\n<p>Thanks.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1697115301,"post_id":77280677,"comment_id":136240864,"body_markdown":"Why are you using `@Spy` on the tested service? Don&#39;t do that.","body":"Why are you using <code>@Spy</code> on the tested service? Don&#39;t do that."},{"owner":{"account_id":29363187,"reputation":5,"user_id":22497476,"display_name":"Tommy"},"score":0,"creation_date":1697116204,"post_id":77280677,"comment_id":136241099,"body_markdown":"sure, thanks for advice, I will read more about that","body":"sure, thanks for advice, I will read more about that"}],"answers":[{"tags":[],"owner":{"account_id":29656477,"reputation":26,"user_id":22729138,"display_name":"Grigland ___"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697115626,"creation_date":1697115054,"answer_id":77280742,"question_id":77280677,"body_markdown":"try \r\n```\r\nwhen(taskRepository.finById(anyInt()).thenReturn(Optional.of(task))\r\n```\r\non the test method with annotation @org.junit.jupiter.api.Test\r\n\r\nto improve your test method, thy this template\r\n```\r\n@Test\r\nvoid testGetTaskById() {\r\n        // given\r\n        var anyId = 8\r\n        var expected = new Task();\r\n        expected.setId(4);\r\n        expected.setStatus(StatusEnum.IN_PROGRESS);\r\n        expected.setDescription(&quot;amazing task&quot;);\r\n\r\n        // when\r\n        when(taskRepository.finById(anyInt())).thenReturn(Optional.of(expected));\r\n\r\n        // then\r\n        Task actual = taskService.findById(8);\r\n        org.assertj.core.api.Assertions.assertThat(actual)\r\n                .usingRecursiveComparison()\r\n                .isEqualTo(expected);\r\n}\r\n```","title":"Mockito returns Optional.empty instead of object for tests","body":"<p>try</p>\n<pre><code>when(taskRepository.finById(anyInt()).thenReturn(Optional.of(task))\n</code></pre>\n<p>on the test method with annotation @org.junit.jupiter.api.Test</p>\n<p>to improve your test method, thy this template</p>\n<pre><code>@Test\nvoid testGetTaskById() {\n        // given\n        var anyId = 8\n        var expected = new Task();\n        expected.setId(4);\n        expected.setStatus(StatusEnum.IN_PROGRESS);\n        expected.setDescription(&quot;amazing task&quot;);\n\n        // when\n        when(taskRepository.finById(anyInt())).thenReturn(Optional.of(expected));\n\n        // then\n        Task actual = taskService.findById(8);\n        org.assertj.core.api.Assertions.assertThat(actual)\n                .usingRecursiveComparison()\n                .isEqualTo(expected);\n}\n</code></pre>\n"}],"owner":{"account_id":29363187,"reputation":5,"user_id":22497476,"display_name":"Tommy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77280742,"answer_count":1,"score":0,"last_activity_date":1697115626,"creation_date":1697114517,"question_id":77280677,"body_markdown":"Java 18, spring boot starter parent 3.0.4, junit 4.13.2\r\n\r\nDebug shows me, that everywhere is the same mock for repository. &quot;Evaluate expression&quot; on `taskRepository.findById(id)` at service method shows that object is null instead of my created `task` object at `init()`.\r\n\r\n**Code:**\r\n\r\n**TaskRepository extends JpaRepository**\r\n\r\n\r\n**My service method:**\r\n```\r\n@Transactional\r\n    public Task getTaskById(Integer id){\r\n        Optional&lt;Task&gt; taskById = taskRepository.findById(id);\r\n        if(taskById.isPresent()){\r\n            return taskById.get();\r\n        }\r\n\r\n        throw new RuntimeException(&quot;Task not found with id : &quot; + id);\r\n    }\r\n```\r\n\r\n**My test class:**\r\n\r\n```\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class TaskServiceTestWithoutSpring {\r\n\r\n    @Mock\r\n    public TaskRepository taskRepository;\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    public TaskService taskService;\r\n\r\n    @BeforeEach\r\n    public void init(){\r\n        MockitoAnnotations.openMocks(this);\r\n        Task task = new Task();\r\n        task.setId(4);\r\n        task.setStatus(StatusEnum.IN_PROGRESS);\r\n        task.setDescription(&quot;amazing task&quot;);\r\n\r\n        doReturn(Optional.of(task)).when(taskRepository).findById(anyInt());\r\n    }\r\n}\r\n```\r\n\r\nI have tried change @Mock by @MockBean, call `when(taskRepository.findById(anyInt())).thenReturn(Optional.of(task));` instead of current code, change `anyInt()` parameter to various mockito parameters\r\n\r\nAny advices, please.\r\nThanks in advance","title":"Mockito returns Optional.empty instead of object for tests","body":"<p>Java 18, spring boot starter parent 3.0.4, junit 4.13.2</p>\n<p>Debug shows me, that everywhere is the same mock for repository. &quot;Evaluate expression&quot; on <code>taskRepository.findById(id)</code> at service method shows that object is null instead of my created <code>task</code> object at <code>init()</code>.</p>\n<p><strong>Code:</strong></p>\n<p><strong>TaskRepository extends JpaRepository</strong></p>\n<p><strong>My service method:</strong></p>\n<pre><code>@Transactional\n    public Task getTaskById(Integer id){\n        Optional&lt;Task&gt; taskById = taskRepository.findById(id);\n        if(taskById.isPresent()){\n            return taskById.get();\n        }\n\n        throw new RuntimeException(&quot;Task not found with id : &quot; + id);\n    }\n</code></pre>\n<p><strong>My test class:</strong></p>\n<pre><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@RunWith(MockitoJUnitRunner.class)\npublic class TaskServiceTestWithoutSpring {\n\n    @Mock\n    public TaskRepository taskRepository;\n\n    @Spy\n    @InjectMocks\n    public TaskService taskService;\n\n    @BeforeEach\n    public void init(){\n        MockitoAnnotations.openMocks(this);\n        Task task = new Task();\n        task.setId(4);\n        task.setStatus(StatusEnum.IN_PROGRESS);\n        task.setDescription(&quot;amazing task&quot;);\n\n        doReturn(Optional.of(task)).when(taskRepository).findById(anyInt());\n    }\n}\n</code></pre>\n<p>I have tried change @Mock by @MockBean, call <code>when(taskRepository.findById(anyInt())).thenReturn(Optional.of(task));</code> instead of current code, change <code>anyInt()</code> parameter to various mockito parameters</p>\n<p>Any advices, please.\nThanks in advance</p>\n"},{"tags":["java","dependency-injection","guice"],"answers":[{"tags":[],"owner":{"account_id":330208,"reputation":10995,"user_id":654187,"accept_rate":100,"display_name":"John Ericksen"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1697115595,"creation_date":1328489073,"answer_id":9154502,"question_id":9154410,"body_markdown":"You could use assisted injection to provide the text through a factory, along with the message sender instantiated by Guice:\r\n\r\n    public class Message {\r\n      private String text;\r\n      private MessageSender sender;\r\n    \r\n      @Inject\r\n      public Message(@Assisted String text, MessageSender sender) {\r\n        this.text = text;\r\n        this.sender = sender;\r\n      }\r\n    \r\n      public void send(Person recipient) {\r\n        this.sender.send(recipient, this.text);\r\n      }\r\n    }\r\n\r\nFactory:\r\n\r\n    public interface MessageFactory{\r\n        Message buildMessage(String text);\r\n    }\r\n\r\nModule:\r\n\r\n    public class MessageSenderModule extends AbstractModule {\r\n      @Override \r\n      protected void configure() {\r\n        bind(MessageSender.class).to(EmailBasedMessageSender.class);\r\n        FactoryModuleBuilder factoryModuleBuilder = new FactoryModuleBuilder();\r\n        install(factoryModuleBuilder.build(MessageFactory.class));\r\n      }\r\n    }\r\n\r\nusage:\r\n\r\n    @Inject MessageFactory messageFactory;\r\n    \r\n    void test(Recipient recipient){\r\n      Message message = messageFactory.buildMessage(&quot;hey there&quot;);\r\n      message.send(recipient);\r\n    }\r\n\r\n[Assisted Injection Wiki][1]\r\n\r\n\r\n  [1]: https://github.com/google/guice/wiki/AssistedInject","title":"Guice injecting only some of the constructor","body":"<p>You could use assisted injection to provide the text through a factory, along with the message sender instantiated by Guice:</p>\n<pre><code>public class Message {\n  private String text;\n  private MessageSender sender;\n\n  @Inject\n  public Message(@Assisted String text, MessageSender sender) {\n    this.text = text;\n    this.sender = sender;\n  }\n\n  public void send(Person recipient) {\n    this.sender.send(recipient, this.text);\n  }\n}\n</code></pre>\n<p>Factory:</p>\n<pre><code>public interface MessageFactory{\n    Message buildMessage(String text);\n}\n</code></pre>\n<p>Module:</p>\n<pre><code>public class MessageSenderModule extends AbstractModule {\n  @Override \n  protected void configure() {\n    bind(MessageSender.class).to(EmailBasedMessageSender.class);\n    FactoryModuleBuilder factoryModuleBuilder = new FactoryModuleBuilder();\n    install(factoryModuleBuilder.build(MessageFactory.class));\n  }\n}\n</code></pre>\n<p>usage:</p>\n<pre><code>@Inject MessageFactory messageFactory;\n\nvoid test(Recipient recipient){\n  Message message = messageFactory.buildMessage(&quot;hey there&quot;);\n  message.send(recipient);\n}\n</code></pre>\n<p><a href=\"https://github.com/google/guice/wiki/AssistedInject\" rel=\"nofollow noreferrer\">Assisted Injection Wiki</a></p>\n"}],"owner":{"account_id":82337,"reputation":30115,"user_id":231588,"accept_rate":82,"display_name":"grautur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5682,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":9154502,"answer_count":1,"score":12,"last_activity_date":1697115595,"creation_date":1328488181,"question_id":9154410,"body_markdown":"Suppose I have some `Message` class like the following. (This is a made-up class for simplicity.)\r\n\r\n    public class Message {\r\n      private String text;\r\n\r\n      public Message(String text) {\r\n        this.text = text;\r\n      }\r\n\r\n      public void send(Person recipient) {\r\n        // I think I should be Guice-injecting the sender.\r\n        MessageSender sender = new EmailBasedMessageSender();\r\n        sender.send(recipient, this.text);\r\n      }\r\n    }\r\n\r\nSince I have different `MessageSender` implementations, and might want to unit test this sending ability, I think I should be injecting the `MessageSender` in `Message`&#39;s `send()` method. But how do I do this?\r\n\r\nAll the Guice examples I&#39;ve seen and that I understand seem to do the injection in the constructor:\r\n\r\n    public class Message {\r\n      private String text;\r\n      private MessageSender sender;\r\n\r\n      // ??? I don&#39;t know what to do here, since the `text` argument shouldn&#39;t be injected.\r\n      @Inject\r\n      public Message(String text, MessageSender sender) {\r\n        this.text = text;\r\n        this.sender = sender;\r\n      }\r\n\r\n      public void send(Person recipient) {\r\n        this.sender.send(recipient, this.text);\r\n      }\r\n    }\r\n\r\n    public class MessageSenderModule extends AbstractModule {\r\n      @Override \r\n      protected void configure() {\r\n        bind(MessageSender.class).to(EmailBasedMessageSender.class);\r\n      }\r\n    }\r\n\r\nBut my `Message` class takes in a `text` argument in its constructor, which I don&#39;t want to inject. So what am I supposed to do instead?\r\n\r\n(Note: I&#39;m a complete Google Guice noob. I think I understand dependency injection, but I don&#39;t understand how to actually implement it with Guice.)","title":"Guice injecting only some of the constructor","body":"<p>Suppose I have some <code>Message</code> class like the following. (This is a made-up class for simplicity.)</p>\n\n<pre><code>public class Message {\n  private String text;\n\n  public Message(String text) {\n    this.text = text;\n  }\n\n  public void send(Person recipient) {\n    // I think I should be Guice-injecting the sender.\n    MessageSender sender = new EmailBasedMessageSender();\n    sender.send(recipient, this.text);\n  }\n}\n</code></pre>\n\n<p>Since I have different <code>MessageSender</code> implementations, and might want to unit test this sending ability, I think I should be injecting the <code>MessageSender</code> in <code>Message</code>'s <code>send()</code> method. But how do I do this?</p>\n\n<p>All the Guice examples I've seen and that I understand seem to do the injection in the constructor:</p>\n\n<pre><code>public class Message {\n  private String text;\n  private MessageSender sender;\n\n  // ??? I don't know what to do here, since the `text` argument shouldn't be injected.\n  @Inject\n  public Message(String text, MessageSender sender) {\n    this.text = text;\n    this.sender = sender;\n  }\n\n  public void send(Person recipient) {\n    this.sender.send(recipient, this.text);\n  }\n}\n\npublic class MessageSenderModule extends AbstractModule {\n  @Override \n  protected void configure() {\n    bind(MessageSender.class).to(EmailBasedMessageSender.class);\n  }\n}\n</code></pre>\n\n<p>But my <code>Message</code> class takes in a <code>text</code> argument in its constructor, which I don't want to inject. So what am I supposed to do instead?</p>\n\n<p>(Note: I'm a complete Google Guice noob. I think I understand dependency injection, but I don't understand how to actually implement it with Guice.)</p>\n"},{"tags":["java","spring","validation","hibernate-validator"],"answers":[{"tags":[],"owner":{"account_id":3119072,"reputation":620,"user_id":2639229,"display_name":"seralex.vi"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1375468961,"creation_date":1375468961,"answer_id":18023986,"question_id":18023870,"body_markdown":"Add constructor without parameters: \r\n\r\n    public class User {\r\n      ...\r\n      public User() {}\r\n      ...\r\n    }","title":"java.lang.NoSuchMethodException: userAuth.User.&lt;init&gt;()","body":"<p>Add constructor without parameters: </p>\n\n<pre><code>public class User {\n  ...\n  public User() {}\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1129042,"reputation":48134,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"down_vote_count":0,"up_vote_count":145,"is_accepted":true,"score":145,"last_activity_date":1387736220,"creation_date":1375469225,"answer_id":18024061,"question_id":18023870,"body_markdown":"The message `java.lang.NoSuchMethodException: userAuth.User.&lt;init&gt;()` means that someone tried to call a constructor without any parameters. Adding a default constructor should solve this problem:\r\n\r\n    public class User {\r\n    \r\n        public User() {\r\n    \r\n        }\r\n    \r\n        ..\r\n    }","title":"java.lang.NoSuchMethodException: userAuth.User.&lt;init&gt;()","body":"<p>The message <code>java.lang.NoSuchMethodException: userAuth.User.&lt;init&gt;()</code> means that someone tried to call a constructor without any parameters. Adding a default constructor should solve this problem:</p>\n\n<pre><code>public class User {\n\n    public User() {\n\n    }\n\n    ..\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7007162,"reputation":939,"user_id":5371168,"display_name":"D. Lawrence"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1498984589,"creation_date":1498984589,"answer_id":44868905,"question_id":18023870,"body_markdown":"I think the answer of adding a default no-args constructor is clear. However, one must also think about the visibility of the latter constructor. The previous answers show the use of a **public** no-args default constructor. Is the **public** visibility relevant with respect to the class&#39; logic?\r\n\r\nAs a matter of fact, Hibernate doesn&#39;t require a **public** no-args constructor. One can still choose its visibility.\r\n\r\nI would therefore recommend to take great care of the constructor&#39;s visibility (private/public/protected/default). Choose the adequate one. For example, if no one should be able to call this no args constructor, choose a **private** visibility like so:\r\n    \r\n    public class User {\r\n      ...\r\n      private User() {}\r\n      ...\r\n    }","title":"java.lang.NoSuchMethodException: userAuth.User.&lt;init&gt;()","body":"<p>I think the answer of adding a default no-args constructor is clear. However, one must also think about the visibility of the latter constructor. The previous answers show the use of a <strong>public</strong> no-args default constructor. Is the <strong>public</strong> visibility relevant with respect to the class' logic?</p>\n\n<p>As a matter of fact, Hibernate doesn't require a <strong>public</strong> no-args constructor. One can still choose its visibility.</p>\n\n<p>I would therefore recommend to take great care of the constructor's visibility (private/public/protected/default). Choose the adequate one. For example, if no one should be able to call this no args constructor, choose a <strong>private</strong> visibility like so:</p>\n\n<pre><code>public class User {\n  ...\n  private User() {}\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":403268,"reputation":906,"user_id":770927,"accept_rate":40,"display_name":"zovits"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1505810823,"creation_date":1505810823,"answer_id":46295874,"question_id":18023870,"body_markdown":"If the User class is a non-static inner class of another class (e.g. UserAuth), then the message could arise if the User class is attempted to be instantiated before the external class is instantiated. In this case the null-arg constructor might be there in the code but will not be found, since the external class does not exist yet. A solution could be to extract the inner class into an independent class, to make it static or to ensure the initialization of the external class happens before that of the inner class.","title":"java.lang.NoSuchMethodException: userAuth.User.&lt;init&gt;()","body":"<p>If the User class is a non-static inner class of another class (e.g. UserAuth), then the message could arise if the User class is attempted to be instantiated before the external class is instantiated. In this case the null-arg constructor might be there in the code but will not be found, since the external class does not exist yet. A solution could be to extract the inner class into an independent class, to make it static or to ensure the initialization of the external class happens before that of the inner class.</p>\n"},{"tags":[],"owner":{"account_id":13804297,"reputation":31,"user_id":9963592,"display_name":"Charles Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662020621,"creation_date":1662020621,"answer_id":73566273,"question_id":18023870,"body_markdown":"Bean should have a no argument constructor.","title":"java.lang.NoSuchMethodException: userAuth.User.&lt;init&gt;()","body":"<p>Bean should have a no argument constructor.</p>\n"},{"tags":[],"owner":{"account_id":26158800,"reputation":17,"user_id":19845689,"display_name":"Karim Diawara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697115422,"creation_date":1697115422,"answer_id":77280797,"question_id":18023870,"body_markdown":"If you&#39;re using Lombok, you can use the annotation above the class, @AllArgsConstructor and @NoArgsConstructor\r\n\r\n`@AllArgsConstructor\r\n@NoArgsConstructor\r\n public class User {\r\n  ...\r\n}\r\n`","title":"java.lang.NoSuchMethodException: userAuth.User.&lt;init&gt;()","body":"<p>If you're using Lombok, you can use the annotation above the class, @AllArgsConstructor and @NoArgsConstructor</p>\n<p><code>@AllArgsConstructor @NoArgsConstructor public class User { ... } </code></p>\n"}],"owner":{"account_id":1060328,"reputation":1340,"user_id":1062103,"accept_rate":86,"display_name":"Lesya Makhova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118802,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":18024061,"answer_count":6,"score":56,"last_activity_date":1697115422,"creation_date":1375468521,"question_id":18023870,"body_markdown":"I have the class with validation:\r\n    \r\n   \r\n\r\n    public class User {\r\n    \t@Size(min=3, max=20, message=&quot;User name must be between 3 and 20 characters long&quot;)\r\n    \t@Pattern(regexp=&quot;^[a-zA-Z0-9]+$&quot;, message=&quot;User name must be alphanumeric with no spaces&quot;)\r\n    \tprivate String name;\r\n    \t\r\n    \t@Size(min=6, max=20, message=&quot;Password must be between 6 and 20 characters long&quot;)\r\n    \t@Pattern(regexp=&quot;^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$&quot;, message=&quot;Password must contains at least one number&quot;)\r\n    \tprivate String password;\r\n    \t\r\n    \tpublic User(String _name, String _password){\r\n    \t\tsuper();\r\n    \t\tname = _name;\r\n    \t\tpassword = _password;\r\n    \t}\r\n    \t\r\n    \tpublic String getName(){\r\n    \t\treturn name;\r\n    \t}\r\n    \t\r\n    \tpublic String getPassword(){\r\n    \t\treturn password;\r\n    \t}\r\n    \t\r\n    \tpublic void setPassword(String newPassword){\r\n    \t\tpassword = newPassword;\r\n    \t}\r\n    \r\n    }\r\n\r\nwhen I validate values, I got the message:\r\n\r\n    SEVERE: Servlet.service() for servlet osAppServlet threw exception\r\n    java.lang.NoSuchMethodException: userAuth.User.&lt;init&gt;()\r\n\r\nwhere is the problem?","title":"java.lang.NoSuchMethodException: userAuth.User.&lt;init&gt;()","body":"<p>I have the class with validation:</p>\n\n<pre><code>public class User {\n    @Size(min=3, max=20, message=\"User name must be between 3 and 20 characters long\")\n    @Pattern(regexp=\"^[a-zA-Z0-9]+$\", message=\"User name must be alphanumeric with no spaces\")\n    private String name;\n\n    @Size(min=6, max=20, message=\"Password must be between 6 and 20 characters long\")\n    @Pattern(regexp=\"^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$\", message=\"Password must contains at least one number\")\n    private String password;\n\n    public User(String _name, String _password){\n        super();\n        name = _name;\n        password = _password;\n    }\n\n    public String getName(){\n        return name;\n    }\n\n    public String getPassword(){\n        return password;\n    }\n\n    public void setPassword(String newPassword){\n        password = newPassword;\n    }\n\n}\n</code></pre>\n\n<p>when I validate values, I got the message:</p>\n\n<pre><code>SEVERE: Servlet.service() for servlet osAppServlet threw exception\njava.lang.NoSuchMethodException: userAuth.User.&lt;init&gt;()\n</code></pre>\n\n<p>where is the problem?</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":6495599,"reputation":2923,"user_id":5028333,"display_name":"Raman Shrivastava"},"score":0,"creation_date":1568665333,"post_id":57963224,"comment_id":102338902,"body_markdown":"Possible duplicate of [How to use JarOutputStream to create a JAR file?](https://stackoverflow.com/questions/1281229/how-to-use-jaroutputstream-to-create-a-jar-file)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1281229/how-to-use-jaroutputstream-to-create-a-jar-file\">How to use JarOutputStream to create a JAR file?</a>"},{"owner":{"account_id":1363265,"reputation":1946,"user_id":1300224,"accept_rate":70,"display_name":"spaghettifunk"},"score":0,"creation_date":1568702857,"post_id":57963224,"comment_id":102347686,"body_markdown":"Actually it&#39;s not a duplicate. My question is more specific. I am able to create a Jar, but I am missing the dependencies, hence a fat-jar. The code above is based on that question.","body":"Actually it&#39;s not a duplicate. My question is more specific. I am able to create a Jar, but I am missing the dependencies, hence a fat-jar. The code above is based on that question."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1568703164,"post_id":57963224,"comment_id":102347823,"body_markdown":"The only real question here is whether `/org/company/bla/bla.class` is in the JAR file, and if not why not.","body":"The only real question here is whether <code>&#47;org&#47;company&#47;bla&#47;bla.class</code> is in the JAR file, and if not why not."},{"owner":{"account_id":1363265,"reputation":1946,"user_id":1300224,"accept_rate":70,"display_name":"spaghettifunk"},"score":0,"creation_date":1568703631,"post_id":57963224,"comment_id":102348010,"body_markdown":"I have a maven project and in the `pom.xml` I add a dependency (let&#39;s say kafka consumer). Now, when I create the JAR with the code above, the `kafka consumer` dependency is not in there. If I create the JAR with `mvn package` then the dependency is in there. But as I said in the question, I&#39;d like to achieve the same result programmatically and not with the CLI.","body":"I have a maven project and in the <code>pom.xml</code> I add a dependency (let&#39;s say kafka consumer). Now, when I create the JAR with the code above, the <code>kafka consumer</code> dependency is not in there. If I create the JAR with <code>mvn package</code> then the dependency is in there. But as I said in the question, I&#39;d like to achieve the same result programmatically and not with the CLI."},{"owner":{"account_id":8238403,"reputation":127,"user_id":6196751,"accept_rate":40,"display_name":"Avinash"},"score":0,"creation_date":1663160083,"post_id":57963224,"comment_id":130173186,"body_markdown":"@spaghettifunk -   Have you got the answer of it ?? Even I am trying to create one similar to that.","body":"@spaghettifunk -   Have you got the answer of it ?? Even I am trying to create one similar to that."}],"answers":[{"tags":[],"owner":{"account_id":1869609,"reputation":3377,"user_id":1692179,"accept_rate":76,"display_name":"bobmarksie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697115200,"creation_date":1696956167,"answer_id":77267613,"question_id":57963224,"body_markdown":"Creating an Uber / Shadow JAR implies either Maven or Gradle is also used to handle all the library dependancies. \r\n\r\nIf so, one solution is to run either the Maven or Gradle build command-line arg from Java (using `Runtime.exec()` command). \r\n\r\nA use-case for doing this programmatically is as part of a Java integration test where the Uber Jar is required (see https://stackoverflow.com/questions/77128033/testing-custom-kafka-connect-smt-using-test-containers for an example).\r\n\r\nThe following solution supports both Gradle / Maven.\r\n\r\n## Maven\r\n\r\nEnsure the `pom.xml` includes  the [Maven Shade Plugin](https://maven.apache.org/plugins/maven-shade-plugin/) plugin e.g.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;test&lt;/groupId&gt;\r\n    &lt;artifactId&gt;helloworld&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;jdk.version&gt;1.11&lt;/jdk.version&gt;\r\n        &lt;maven.compiler.plugin.version&gt;3.8.1&lt;/maven.compiler.plugin.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.24.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAlso useful to have the [Maven wrapper ](https://maven.apache.org/wrapper/) installed on the project (e.g. run `mvn wrapper:wrapper`).\r\n\r\nTo test, run `./mvnw package` ...\r\n\r\n```\r\n$ ./mvnw package\r\n\r\n[INFO] Scanning for projects...\r\n...\r\n[INFO] Replacing original artifact with shaded artifact.\r\n[INFO] Replacing /Users/bobmarks/code/test/fatjar/target/helloworld-1.0.jar with /Users/bobmarks/code/test/fatjar/target/helloworld-1.0-shaded.jar\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  1.129 s\r\n[INFO] Finished at: 2023-10-12T12:05:04+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\n... and ensure file exists in `target` folder:\r\n\r\n```shell\r\n$ ls -al target/*.jar \r\n\r\n-rw-r--r--@ 1 user  group  1336348 Oct 12 12:05 target/helloworld-1.0.jar\r\n-rw-r--r--@ 1 user  group     1675 Oct 12 12:05 target/original-helloworld-1.0.jar\r\n```\r\n\r\n&gt; Note, the larger file (`helloworld-1.0.jar`) is the Uber Jar.\r\n\r\n## Gradle\r\n\r\nFor Gradle we should ensure the [Gradle Shadow](https://github.com/johnrengelman/shadow) plugin exists in the `plugins` section of the `build.gradle` file e.g.\r\n\r\n```java\r\nplugins {\r\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;6.0.0&quot;\r\n}\r\n\r\napply plugin: &#39;java&#39;\r\n\r\njava {\r\n    sourceCompatibility = 1.11\r\n    targetCompatibility = 1.11\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.apache.commons:commons-lang3:3.13.0&#39;\r\n\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.0&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.0&#39;\r\n    testImplementation &#39;org.assertj:assertj-core:3.24.2&#39;\r\n}\r\n```\r\n\r\n... and `settings.gradle` ...\r\n\r\n```java\r\nrootProject.name = &#39;helloworld&#39;\r\n```\r\n\r\nAlso useful to have the [Gradle wrapper](https://docs.gradle.org/current/userguide/gradle_wrapper.html)\r\n (e.g. run `gradle wrapper`).\r\n\r\nTo test, run `./gradlew shadowJar` ...\r\n\r\n```\r\n$ ./gradlew shadowJar\r\n\r\nBUILD SUCCESSFUL in 554ms\r\n2 actionable tasks: 1 executed, 1 up-to-date\r\n```\r\n\r\n... and ensure file exists in `build/libs` folder:\r\n\r\n```shell\r\n$ ls -al build/libs/*.jar \r\n\r\n-rw-r--r--@ 1 user  group  632280 Oct 12 12:39 build/libs/helloworld-all.jar\r\n```\r\n\r\n\r\n## Create Jar Files Programatically using Java\r\n\r\nThe code for creating the UberJars is as follows:\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\npublic class UberJar {\r\n\r\n    public static void createUberJarMaven() {\r\n        createUberJar(&quot;mvnw.cmd&quot;, &quot;./mvnw&quot;, &quot;package -DskipTests&quot;, &quot;BUILD SUCCESS&quot;);\r\n    }\r\n\r\n    public static void createUberJarGradle() {\r\n        createUberJar(&quot;gradlew.bat&quot;, &quot;./gradlew&quot;, &quot;shadowJar&quot;, &quot;BUILD SUCCESSFUL&quot;);\r\n    }\r\n\r\n    private static void createUberJar(String cmdWindows, String cmdLinux, String cmdBuild, String outputSuccess) {\r\n        String cmd = isWindows() ? cmdWindows : cmdLinux;\r\n        String output = execCmd(cmd + &quot; &quot; + cmdBuild);\r\n        if (output == null || !output.contains(outputSuccess)) {\r\n            throw new RuntimeException(&quot;Ubar JAR creation unsuccessful\\n\\n&quot; + output);\r\n        }\r\n    }\r\n\r\n    private static String execCmd(String cmd) {\r\n        try {\r\n            Scanner s = new Scanner(Runtime.getRuntime().exec(cmd).getInputStream()).useDelimiter(&quot;\\\\A&quot;);\r\n            return s.hasNext() ? s.next() : &quot;&quot;;\r\n        } catch (IOException ioEx) {\r\n            throw new RuntimeException(&quot;Error executing: &quot; + cmd, ioEx);\r\n        }\r\n    }\r\n\r\n    private static boolean isWindows() {\r\n        return System.getProperty(&quot;os.name&quot;).toLowerCase().startsWith(&quot;windows&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nA unit test to test both of these is as follows:\r\n\r\n```java\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport java.io.File;\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\npublic class UbarJarTest {\r\n\r\n    private static final File MAVEN_UBER_FILE = new File(&quot;target/helloworld-1.0.jar&quot;);\r\n    private static final File GRADLE_UBER_FILE = new File(&quot;build/libs/helloworld-all.jar&quot;);\r\n\r\n    @BeforeAll\r\n    public static void setup() {\r\n        if (MAVEN_UBER_FILE.exists()) {\r\n            MAVEN_UBER_FILE.delete();\r\n        }\r\n        if (GRADLE_UBER_FILE.exists()) {\r\n            GRADLE_UBER_FILE.delete();\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void should_create_uber_jar_maven() {\r\n        assertThat(MAVEN_UBER_FILE).doesNotExist();\r\n\r\n        UberJar.createUberJarMaven();\r\n\r\n        assertThat(MAVEN_UBER_FILE).exists();\r\n    }\r\n\r\n    @Test\r\n    public void should_create_uber_jar_gradle() {\r\n        assertThat(GRADLE_UBER_FILE).doesNotExist();\r\n\r\n        UberJar.createUberJarGradle();\r\n\r\n        assertThat(GRADLE_UBER_FILE).exists();\r\n    }\r\n\r\n}\r\n```","title":"Create a Fat-Jar Programmatically","body":"<p>Creating an Uber / Shadow JAR implies either Maven or Gradle is also used to handle all the library dependancies.</p>\n<p>If so, one solution is to run either the Maven or Gradle build command-line arg from Java (using <code>Runtime.exec()</code> command).</p>\n<p>A use-case for doing this programmatically is as part of a Java integration test where the Uber Jar is required (see <a href=\"https://stackoverflow.com/questions/77128033/testing-custom-kafka-connect-smt-using-test-containers\">Testing custom Kafka Connect SMT using Test Containers</a> for an example).</p>\n<p>The following solution supports both Gradle / Maven.</p>\n<h2>Maven</h2>\n<p>Ensure the <code>pom.xml</code> includes  the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">Maven Shade Plugin</a> plugin e.g.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;test&lt;/groupId&gt;\n    &lt;artifactId&gt;helloworld&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;jdk.version&gt;1.11&lt;/jdk.version&gt;\n        &lt;maven.compiler.plugin.version&gt;3.8.1&lt;/maven.compiler.plugin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.8.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.8.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;3.24.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Also useful to have the <a href=\"https://maven.apache.org/wrapper/\" rel=\"nofollow noreferrer\">Maven wrapper </a> installed on the project (e.g. run <code>mvn wrapper:wrapper</code>).</p>\n<p>To test, run <code>./mvnw package</code> ...</p>\n<pre><code>$ ./mvnw package\n\n[INFO] Scanning for projects...\n...\n[INFO] Replacing original artifact with shaded artifact.\n[INFO] Replacing /Users/bobmarks/code/test/fatjar/target/helloworld-1.0.jar with /Users/bobmarks/code/test/fatjar/target/helloworld-1.0-shaded.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.129 s\n[INFO] Finished at: 2023-10-12T12:05:04+01:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>... and ensure file exists in <code>target</code> folder:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ ls -al target/*.jar \n\n-rw-r--r--@ 1 user  group  1336348 Oct 12 12:05 target/helloworld-1.0.jar\n-rw-r--r--@ 1 user  group     1675 Oct 12 12:05 target/original-helloworld-1.0.jar\n</code></pre>\n<blockquote>\n<p>Note, the larger file (<code>helloworld-1.0.jar</code>) is the Uber Jar.</p>\n</blockquote>\n<h2>Gradle</h2>\n<p>For Gradle we should ensure the <a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">Gradle Shadow</a> plugin exists in the <code>plugins</code> section of the <code>build.gradle</code> file e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>plugins {\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;6.0.0&quot;\n}\n\napply plugin: 'java'\n\njava {\n    sourceCompatibility = 1.11\n    targetCompatibility = 1.11\n}\n\nrepositories {\n    mavenCentral()\n}\n\ntest {\n    useJUnitPlatform()\n}\n\ndependencies {\n    implementation 'org.apache.commons:commons-lang3:3.13.0'\n\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.0'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.0'\n    testImplementation 'org.assertj:assertj-core:3.24.2'\n}\n</code></pre>\n<p>... and <code>settings.gradle</code> ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>rootProject.name = 'helloworld'\n</code></pre>\n<p>Also useful to have the <a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html\" rel=\"nofollow noreferrer\">Gradle wrapper</a>\n(e.g. run <code>gradle wrapper</code>).</p>\n<p>To test, run <code>./gradlew shadowJar</code> ...</p>\n<pre><code>$ ./gradlew shadowJar\n\nBUILD SUCCESSFUL in 554ms\n2 actionable tasks: 1 executed, 1 up-to-date\n</code></pre>\n<p>... and ensure file exists in <code>build/libs</code> folder:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ ls -al build/libs/*.jar \n\n-rw-r--r--@ 1 user  group  632280 Oct 12 12:39 build/libs/helloworld-all.jar\n</code></pre>\n<h2>Create Jar Files Programatically using Java</h2>\n<p>The code for creating the UberJars is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.util.Scanner;\n\npublic class UberJar {\n\n    public static void createUberJarMaven() {\n        createUberJar(&quot;mvnw.cmd&quot;, &quot;./mvnw&quot;, &quot;package -DskipTests&quot;, &quot;BUILD SUCCESS&quot;);\n    }\n\n    public static void createUberJarGradle() {\n        createUberJar(&quot;gradlew.bat&quot;, &quot;./gradlew&quot;, &quot;shadowJar&quot;, &quot;BUILD SUCCESSFUL&quot;);\n    }\n\n    private static void createUberJar(String cmdWindows, String cmdLinux, String cmdBuild, String outputSuccess) {\n        String cmd = isWindows() ? cmdWindows : cmdLinux;\n        String output = execCmd(cmd + &quot; &quot; + cmdBuild);\n        if (output == null || !output.contains(outputSuccess)) {\n            throw new RuntimeException(&quot;Ubar JAR creation unsuccessful\\n\\n&quot; + output);\n        }\n    }\n\n    private static String execCmd(String cmd) {\n        try {\n            Scanner s = new Scanner(Runtime.getRuntime().exec(cmd).getInputStream()).useDelimiter(&quot;\\\\A&quot;);\n            return s.hasNext() ? s.next() : &quot;&quot;;\n        } catch (IOException ioEx) {\n            throw new RuntimeException(&quot;Error executing: &quot; + cmd, ioEx);\n        }\n    }\n\n    private static boolean isWindows() {\n        return System.getProperty(&quot;os.name&quot;).toLowerCase().startsWith(&quot;windows&quot;);\n    }\n\n}\n</code></pre>\n<p>A unit test to test both of these is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport java.io.File;\nimport static org.assertj.core.api.Assertions.assertThat;\n\npublic class UbarJarTest {\n\n    private static final File MAVEN_UBER_FILE = new File(&quot;target/helloworld-1.0.jar&quot;);\n    private static final File GRADLE_UBER_FILE = new File(&quot;build/libs/helloworld-all.jar&quot;);\n\n    @BeforeAll\n    public static void setup() {\n        if (MAVEN_UBER_FILE.exists()) {\n            MAVEN_UBER_FILE.delete();\n        }\n        if (GRADLE_UBER_FILE.exists()) {\n            GRADLE_UBER_FILE.delete();\n        }\n    }\n\n    @Test\n    public void should_create_uber_jar_maven() {\n        assertThat(MAVEN_UBER_FILE).doesNotExist();\n\n        UberJar.createUberJarMaven();\n\n        assertThat(MAVEN_UBER_FILE).exists();\n    }\n\n    @Test\n    public void should_create_uber_jar_gradle() {\n        assertThat(GRADLE_UBER_FILE).doesNotExist();\n\n        UberJar.createUberJarGradle();\n\n        assertThat(GRADLE_UBER_FILE).exists();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1363265,"reputation":1946,"user_id":1300224,"accept_rate":70,"display_name":"spaghettifunk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697115200,"creation_date":1568661784,"question_id":57963224,"body_markdown":"I am trying to create a **fat-jar** programmatically. So far, I managed to create a Jar file with my code inside. The problem is that, if I run this, I receive an exception saying `Cannot load user class: org.company.bla.bla`.\r\n\r\nHere is my code\r\n\r\n```java\r\n    private static void createJar() throws IOException {\r\n\r\n        Manifest manifest = new Manifest();\r\n        manifest.getMainAttributes().put(Attributes.Name.MANIFEST_VERSION, &quot;1.0&quot;);\r\n        JarOutputStream target = new JarOutputStream(new FileOutputStream(&quot;events.jar&quot;), manifest);\r\n\r\n        Path root = Paths.get(&quot;.&quot;).normalize().toAbsolutePath();\r\n        System.out.println(root.toString());\r\n\r\n        Files.walk(root).forEach(f -&gt; add(f.toFile(), target));\r\n\r\n        target.close();\r\n    }\r\n\r\n    private static void add(File source, JarOutputStream target)\r\n    {\r\n        BufferedInputStream in = null;\r\n        try {\r\n            if (source.isDirectory()) {\r\n                String name = source.getPath().replace(&quot;\\\\&quot;, &quot;/&quot;);\r\n                if (!name.isEmpty()) {\r\n                    if (!name.endsWith(&quot;/&quot;))\r\n                        name += &quot;/&quot;;\r\n                    JarEntry entry = new JarEntry(name);\r\n                    entry.setTime(source.lastModified());\r\n                    target.putNextEntry(entry);\r\n                    target.closeEntry();\r\n                }\r\n                for (File nestedFile: source.listFiles())\r\n                    add(nestedFile, target);\r\n                return;\r\n            }\r\n\r\n            JarEntry entry = new JarEntry(source.getPath().replace(&quot;\\\\&quot;, &quot;/&quot;));\r\n            entry.setTime(source.lastModified());\r\n            target.putNextEntry(entry);\r\n            in = new BufferedInputStream(new FileInputStream(source));\r\n\r\n            byte[] buffer = new byte[1024];\r\n            while (true) {\r\n                int count = in.read(buffer);\r\n                if (count == -1)\r\n                    break;\r\n                target.write(buffer, 0, count);\r\n            }\r\n            target.closeEntry();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (in != null) {\r\n                try {\r\n                    in.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nHow can I also add the dependencies to this Jar? Or where is the path where the dependencies are so I can include them?","title":"Create a Fat-Jar Programmatically","body":"<p>I am trying to create a <strong>fat-jar</strong> programmatically. So far, I managed to create a Jar file with my code inside. The problem is that, if I run this, I receive an exception saying <code>Cannot load user class: org.company.bla.bla</code>.</p>\n\n<p>Here is my code</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    private static void createJar() throws IOException {\n\n        Manifest manifest = new Manifest();\n        manifest.getMainAttributes().put(Attributes.Name.MANIFEST_VERSION, \"1.0\");\n        JarOutputStream target = new JarOutputStream(new FileOutputStream(\"events.jar\"), manifest);\n\n        Path root = Paths.get(\".\").normalize().toAbsolutePath();\n        System.out.println(root.toString());\n\n        Files.walk(root).forEach(f -&gt; add(f.toFile(), target));\n\n        target.close();\n    }\n\n    private static void add(File source, JarOutputStream target)\n    {\n        BufferedInputStream in = null;\n        try {\n            if (source.isDirectory()) {\n                String name = source.getPath().replace(\"\\\\\", \"/\");\n                if (!name.isEmpty()) {\n                    if (!name.endsWith(\"/\"))\n                        name += \"/\";\n                    JarEntry entry = new JarEntry(name);\n                    entry.setTime(source.lastModified());\n                    target.putNextEntry(entry);\n                    target.closeEntry();\n                }\n                for (File nestedFile: source.listFiles())\n                    add(nestedFile, target);\n                return;\n            }\n\n            JarEntry entry = new JarEntry(source.getPath().replace(\"\\\\\", \"/\"));\n            entry.setTime(source.lastModified());\n            target.putNextEntry(entry);\n            in = new BufferedInputStream(new FileInputStream(source));\n\n            byte[] buffer = new byte[1024];\n            while (true) {\n                int count = in.read(buffer);\n                if (count == -1)\n                    break;\n                target.write(buffer, 0, count);\n            }\n            target.closeEntry();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (in != null) {\n                try {\n                    in.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>How can I also add the dependencies to this Jar? Or where is the path where the dependencies are so I can include them?</p>\n"},{"tags":["java","nexus","sonatype"],"answers":[{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697114997,"creation_date":1697114997,"answer_id":77280730,"question_id":77280126,"body_markdown":"I think the thing you are really looking for is [Sonatype Nexus REST Api][1]. [There is a specific assets API][2], that allows you to list artifacts in the specific repository. That seems to be what you want.  \r\n\r\n\r\n  [1]: https://help.sonatype.com/repomanager3/integrations/rest-and-integration-api\r\n  [2]: https://help.sonatype.com/repomanager3/integrations/rest-and-integration-api/assets-api#AssetsAPI-Endpoints","title":"Polling a raw Nexus Repository periodically from Java Code","body":"<p>I think the thing you are really looking for is <a href=\"https://help.sonatype.com/repomanager3/integrations/rest-and-integration-api\" rel=\"nofollow noreferrer\">Sonatype Nexus REST Api</a>. <a href=\"https://help.sonatype.com/repomanager3/integrations/rest-and-integration-api/assets-api#AssetsAPI-Endpoints\" rel=\"nofollow noreferrer\">There is a specific assets API</a>, that allows you to list artifacts in the specific repository. That seems to be what you want.</p>\n"}],"owner":{"account_id":6637358,"reputation":116,"user_id":5124138,"accept_rate":50,"display_name":"Harshit Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697114997,"creation_date":1697109861,"question_id":77280126,"body_markdown":"I have deployed a RAW Nexus Repository. Assume repo name as - `sampleRepo` and inside that the folder structure or group is like /test/files/. I have files inside /test/files folder. I need to poll this repo periodically using some REST API that Nexus offers. What are the APIs that can be used for this purpose? I thought of using the &quot;**Search**&quot; API. All I need to check for any addition or deletion of assets in this repo using Java. I am planning to maintain a DB for this purpose. Is my approach correct? Or anyone can suggest a better approach?","title":"Polling a raw Nexus Repository periodically from Java Code","body":"<p>I have deployed a RAW Nexus Repository. Assume repo name as - <code>sampleRepo</code> and inside that the folder structure or group is like /test/files/. I have files inside /test/files folder. I need to poll this repo periodically using some REST API that Nexus offers. What are the APIs that can be used for this purpose? I thought of using the &quot;<strong>Search</strong>&quot; API. All I need to check for any addition or deletion of assets in this repo using Java. I am planning to maintain a DB for this purpose. Is my approach correct? Or anyone can suggest a better approach?</p>\n"},{"tags":["java","spring","annotations"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697055343,"post_id":77276141,"comment_id":136232875,"body_markdown":"Does [this](https://stackoverflow.com/a/15394872/8681) answer your question?","body":"Does <a href=\"https://stackoverflow.com/a/15394872/8681\">this</a> answer your question?"},{"owner":{"account_id":147796,"reputation":2101,"user_id":359170,"accept_rate":62,"display_name":"Hamed"},"score":0,"creation_date":1697056200,"post_id":77276141,"comment_id":136232981,"body_markdown":"@Jorn, No, the Value annotation does the cast itself.","body":"@Jorn, No, the Value annotation does the cast itself."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697056330,"post_id":77276141,"comment_id":136233005,"body_markdown":"Wait, is the type of the annotation value `fixedRate` a `long` itself? Then this is never going to work. You cannot use a Spring property to provide that value.","body":"Wait, is the type of the annotation value <code>fixedRate</code> a <code>long</code> itself? Then this is never going to work. You cannot use a Spring property to provide that value."},{"owner":{"account_id":147796,"reputation":2101,"user_id":359170,"accept_rate":62,"display_name":"Hamed"},"score":0,"creation_date":1697056456,"post_id":77276141,"comment_id":136233022,"body_markdown":"exactly. The field is long. I&#39;m looking for a solution to it. There should be a solution. It doesn&#39;t make sense that this feature is only implemented for String values!!","body":"exactly. The field is long. I&#39;m looking for a solution to it. There should be a solution. It doesn&#39;t make sense that this feature is only implemented for String values!!"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697056536,"post_id":77276141,"comment_id":136233038,"body_markdown":"What doesn&#39;t make sense is trying to assign a `String` to a `long` and expecting Spring to magically fix it.","body":"What doesn&#39;t make sense is trying to assign a <code>String</code> to a <code>long</code> and expecting Spring to magically fix it."},{"owner":{"account_id":147796,"reputation":2101,"user_id":359170,"accept_rate":62,"display_name":"Hamed"},"score":0,"creation_date":1697056833,"post_id":77276141,"comment_id":136233087,"body_markdown":"I&#39;m not expecting to Spring fix it. I&#39;m looking for a solution. If you have a solution for it, I will give you a bounty.","body":"I&#39;m not expecting to Spring fix it. I&#39;m looking for a solution. If you have a solution for it, I will give you a bounty."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697056995,"post_id":77276141,"comment_id":136233109,"body_markdown":"I already gave you the answer. Refusing to accept it won&#39;t help anyone.","body":"I already gave you the answer. Refusing to accept it won&#39;t help anyone."},{"owner":{"account_id":147796,"reputation":2101,"user_id":359170,"accept_rate":62,"display_name":"Hamed"},"score":0,"creation_date":1697057161,"post_id":77276141,"comment_id":136233137,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255590/discussion-between-hamed-and-jorn).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255590/discussion-between-hamed-and-jorn\">continue this discussion in chat</a>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697089845,"post_id":77276141,"comment_id":136235988,"body_markdown":"You cannot, there is no work around. Period. There is nothing that Spring can do as it simply isn&#39;t allowed by the Java specification. Values in annotations need to be constants (i.e. not dynamic as in your case). Which is the reason why there is the `fixedRateString` which allows a String and thus an expression which is resolved at runtime. However this is a Spring solution. For annotations that don&#39;t have a workaround like this there is simply no solution.","body":"You cannot, there is no work around. Period. There is nothing that Spring can do as it simply isn&#39;t allowed by the Java specification. Values in annotations need to be constants (i.e. not dynamic as in your case). Which is the reason why there is the <code>fixedRateString</code> which allows a String and thus an expression which is resolved at runtime. However this is a Spring solution. For annotations that don&#39;t have a workaround like this there is simply no solution."}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697057644,"creation_date":1697057644,"answer_id":77276347,"question_id":77276141,"body_markdown":"The `@Scheduled` annotation also has a `fixedRateString` property:\r\n```\r\n\t/**\r\n\t * Execute the annotated method with a fixed period between invocations.\r\n\t * &lt;p&gt;The time unit is milliseconds by default but can be overridden via\r\n\t * {@link #timeUnit}.\r\n\t * @return the period as a String value &amp;mdash; for example, a placeholder\r\n\t * or a {@link java.time.Duration#parse java.time.Duration} compliant value\r\n\t * @since 3.2.2\r\n\t */\r\n\tString fixedRateString() default &quot;&quot;;\r\n```\r\n","title":"Spring: How to inject Integer and long values from configuration file in annotations","body":"<p>The <code>@Scheduled</code> annotation also has a <code>fixedRateString</code> property:</p>\n<pre><code>    /**\n     * Execute the annotated method with a fixed period between invocations.\n     * &lt;p&gt;The time unit is milliseconds by default but can be overridden via\n     * {@link #timeUnit}.\n     * @return the period as a String value &amp;mdash; for example, a placeholder\n     * or a {@link java.time.Duration#parse java.time.Duration} compliant value\n     * @since 3.2.2\n     */\n    String fixedRateString() default &quot;&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7098080,"reputation":930,"user_id":5430811,"accept_rate":83,"display_name":"Semaphor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697114718,"creation_date":1697059688,"answer_id":77276486,"question_id":77276141,"body_markdown":"To understand why it is not possible we need to understand how and what Spring does when you do something like this:\r\n```\r\n@Scheduled(fixedRateString = &quot;${scheduler.fixedrate:10}&quot;)\r\npublic void init(){}\r\n```\r\nThe string `${scheduler.fixedrate:10}` was assigned to `fixedRateString` and won&#39;t get replaced by the value in your application.yml. You maybe thought `fixedRateString` would get the actual value from your application.yml which is not the case, it simply gets the value you configured.\r\n\r\nNow when your application starts, Spring will interpret this string and then resolves it to your value in the application.yml and use it to setup scheduling, so this replacement happens at runtime and NOT at compile-time, this is the key point.\r\n\r\nYou wrote *There should be a solution. It doesn&#39;t make sense that this feature is only implemented for String values.* which is not entirely correct. It is not tied to string values, just the key of the property you define in the annotation is a string but the actual value of the property can be of any type.\r\n\r\n**Preprocessors**\r\nWhat you probably want is a preprocessor which processes the source files before they get compiled (like C has one). But Java has no such preprocessor. Furthermore, it would not be possible for Spring, to implement such a preprocessor if Java would provide such a possibilty. The reason is, that values of properties are determined at runtime, as the application.yml is not the only place where one can configure properties. So event if Java would support preprocessors, there is no way to replace the key with the actual value as the value cannot be determined at compile time.","title":"Spring: How to inject Integer and long values from configuration file in annotations","body":"<p>To understand why it is not possible we need to understand how and what Spring does when you do something like this:</p>\n<pre><code>@Scheduled(fixedRateString = &quot;${scheduler.fixedrate:10}&quot;)\npublic void init(){}\n</code></pre>\n<p>The string <code>${scheduler.fixedrate:10}</code> was assigned to <code>fixedRateString</code> and won't get replaced by the value in your application.yml. You maybe thought <code>fixedRateString</code> would get the actual value from your application.yml which is not the case, it simply gets the value you configured.</p>\n<p>Now when your application starts, Spring will interpret this string and then resolves it to your value in the application.yml and use it to setup scheduling, so this replacement happens at runtime and NOT at compile-time, this is the key point.</p>\n<p>You wrote <em>There should be a solution. It doesn't make sense that this feature is only implemented for String values.</em> which is not entirely correct. It is not tied to string values, just the key of the property you define in the annotation is a string but the actual value of the property can be of any type.</p>\n<p><strong>Preprocessors</strong>\nWhat you probably want is a preprocessor which processes the source files before they get compiled (like C has one). But Java has no such preprocessor. Furthermore, it would not be possible for Spring, to implement such a preprocessor if Java would provide such a possibilty. The reason is, that values of properties are determined at runtime, as the application.yml is not the only place where one can configure properties. So event if Java would support preprocessors, there is no way to replace the key with the actual value as the value cannot be determined at compile time.</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697090064,"creation_date":1697090064,"answer_id":77278008,"question_id":77276141,"body_markdown":"There is no solution, simply because the specification doesn&#39;t allow it. In short that is how annotations work. The values for attributes have to adhere to the type they are defined in, and a `String` isn&#39;t a `long`. \r\n\r\nThe value substition is a Spring feature and which is why for certain annotations there is also a `*String` parameter to work around this. Which is why the `@Scheduled` has the `fixedRateString` property to work around this. It is a `String` and the `String` is parsed by Spring as an expression and thus you can resolve the value **at runtime** to the value you want to use. \r\n\r\nThis all is build into Spring for annotations that are created by Spring, it will **not work** for annotations not under the control of Spring or simply for values that aren&#39;t of type `String`. \r\n\r\nSo the basic answer to your question is there is no solution! Not the answer you wanted to hear but the answer nonetheless. ","title":"Spring: How to inject Integer and long values from configuration file in annotations","body":"<p>There is no solution, simply because the specification doesn't allow it. In short that is how annotations work. The values for attributes have to adhere to the type they are defined in, and a <code>String</code> isn't a <code>long</code>.</p>\n<p>The value substition is a Spring feature and which is why for certain annotations there is also a <code>*String</code> parameter to work around this. Which is why the <code>@Scheduled</code> has the <code>fixedRateString</code> property to work around this. It is a <code>String</code> and the <code>String</code> is parsed by Spring as an expression and thus you can resolve the value <strong>at runtime</strong> to the value you want to use.</p>\n<p>This all is build into Spring for annotations that are created by Spring, it will <strong>not work</strong> for annotations not under the control of Spring or simply for values that aren't of type <code>String</code>.</p>\n<p>So the basic answer to your question is there is no solution! Not the answer you wanted to hear but the answer nonetheless.</p>\n"}],"owner":{"account_id":147796,"reputation":2101,"user_id":359170,"accept_rate":62,"display_name":"Hamed"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1697114718,"creation_date":1697055121,"question_id":77276141,"body_markdown":"I&#39;m struggling to use the configuration variables in the spring project to inject values other than String in the annotations. Is there a way to inject them?    \r\nThe annotations require Integer and long values, but when injecting from application.yml, it is considered as String.\r\n\r\nSee the example below:   \r\n\r\n    \r\n    @Scheduled(fixedRate = &quot;${scheduler.fixedrate:10}&quot;)\r\n    public void init(){}\r\n\r\nThe error is: \r\n\r\n&gt; Incompatible types. Found: &#39;java.lang.String&#39;, required: &#39;long&#39;\r\n\r\nAny solution?","title":"Spring: How to inject Integer and long values from configuration file in annotations","body":"<p>I'm struggling to use the configuration variables in the spring project to inject values other than String in the annotations. Is there a way to inject them?<br />\nThe annotations require Integer and long values, but when injecting from application.yml, it is considered as String.</p>\n<p>See the example below:</p>\n<pre><code>@Scheduled(fixedRate = &quot;${scheduler.fixedrate:10}&quot;)\npublic void init(){}\n</code></pre>\n<p>The error is:</p>\n<blockquote>\n<p>Incompatible types. Found: 'java.lang.String', required: 'long'</p>\n</blockquote>\n<p>Any solution?</p>\n"},{"tags":["java","maven","plugins","jboss","pom.xml"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697098183,"post_id":77278689,"comment_id":136237406,"body_markdown":"What&#39;s the source for &quot;version 7.8 is associated with JBoss 6.3&quot;?  The pom of any 7.x version of the plugin says &quot;JBoss AS7 Deployment Plugin&quot;.","body":"What&#39;s the source for &quot;version 7.8 is associated with JBoss 6.3&quot;?  The pom of any 7.x version of the plugin says &quot;JBoss AS7 Deployment Plugin&quot;."},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1697100342,"post_id":77278689,"comment_id":136237916,"body_markdown":"my version deploys 6.3...","body":"my version deploys 6.3..."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1697160231,"post_id":77278689,"comment_id":136248078,"body_markdown":"Do you need to associate the server version for some reason? What goals do you typlically run?","body":"Do you need to associate the server version for some reason? What goals do you typlically run?"},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1697182042,"post_id":77278689,"comment_id":136250138,"body_markdown":"It&#39;s a request from the customer","body":"It&#39;s a request from the customer"}],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697114178,"creation_date":1697097139,"question_id":77278689,"body_markdown":"How can I associate jboss-maven-plugin version with undelying server version?\r\n\r\nFor example:\r\n\r\n      &lt;groupId&gt;org.jboss.as.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jboss-as-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;7.8.Final&lt;/version&gt;\r\n\r\nis associated with 6.3 JBoss server. But I can&#39;t find a reference for other versions. Some help?","title":"Association of jboss-maven-plugin with jboss as server version","body":"<p>How can I associate jboss-maven-plugin version with undelying server version?</p>\n<p>For example:</p>\n<pre><code>  &lt;groupId&gt;org.jboss.as.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;jboss-as-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;7.8.Final&lt;/version&gt;\n</code></pre>\n<p>is associated with 6.3 JBoss server. But I can't find a reference for other versions. Some help?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1697111929,"post_id":77280308,"comment_id":136240149,"body_markdown":"I&#39;m trying to understand your question better. Do you want to enforce developers to use the `@PreAuthorize` annotation on each controller method and if else, give some kind of error?","body":"I&#39;m trying to understand your question better. Do you want to enforce developers to use the <code>@PreAuthorize</code> annotation on each controller method and if else, give some kind of error?"},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1697112155,"post_id":77280308,"comment_id":136240203,"body_markdown":"Sorry for confusion. Yes, I want Spring to return AccessDeniedException for all requests, unless there is @PreAuthorize annotation at controller method level, that evaluates to true.","body":"Sorry for confusion. Yes, I want Spring to return AccessDeniedException for all requests, unless there is @PreAuthorize annotation at controller method level, that evaluates to true."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697112655,"post_id":77280308,"comment_id":136240310,"body_markdown":"See this -&gt; https://www.baeldung.com/spring-deny-access. What you are wanting is there :)","body":"See this -&gt; <a href=\"https://www.baeldung.com/spring-deny-access\" rel=\"nofollow noreferrer\">baeldung.com/spring-deny-access</a>. What you are wanting is there :)"},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":1,"creation_date":1697112920,"post_id":77280308,"comment_id":136240356,"body_markdown":"Thanks for the link. I am still deciding if I love or hate their solution :-D","body":"Thanks for the link. I am still deciding if I love or hate their solution :-D"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697113359,"post_id":77280308,"comment_id":136240442,"body_markdown":"@LeosLiterak LOL :D","body":"@LeosLiterak LOL :D"}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697114075,"creation_date":1697113768,"answer_id":77280594,"question_id":77280308,"body_markdown":"This cannot easily be checked with Spring Security as far as I know, and would likely require some (ugly) reflection (which can be seen in [this article](https://www.baeldung.com/spring-deny-access)). \r\n\r\nAn alternative is to write a unit test for this with [ArchUnit](https://www.archunit.org/). ArchUnit has a clean(er) API, and has the benefit that you can run this during your test-phase rather than having to run or deploy your application first, and then rely on end users noticing some forbidden error.\r\n\r\nSuch a test would look something like this:\r\n\r\n```java\r\n@Test\r\nvoid ensureEachControllerHasPreAuthorize() {\r\n    JavaClasses importedClasses = new ClassFileImporter().importPackages(&quot;com.example.demo&quot;);\r\n    ArchRule rule = methods().that()\r\n        .areMetaAnnotatedWith(RequestMapping.class)\r\n        .and().areDeclaredInClassesThat().areMetaAnnotatedWith(Controller.class)\r\n        .should().beAnnotatedWith(PreAuthorize.class)\r\n        .orShould().beDeclaredInClassesThat().areAnnotatedWith(PreAuthorize.class);\r\n    rule.check(importedClasses);\r\n}\r\n```\r\n\r\nSome remarks:\r\n\r\n* The `areMetaAnnotatedWith(RequestMapping.class)` includes both `@RequestMapping` and variants like `@GetMapping`, `@PostMapping`, ... .\r\n* Same applies to the `areMetaAnnotatedWith(Controller.class)` which includes both `@Controller` and `@RestController`.\r\n* I&#39;m allowing both controller methods and classes to be annotated with `@PreAuthorize`. If you only want to pass the test if `@PreAuthorize` is applied on method-level and not at class-level, then you can remove the line that starts with `orShould()`.\r\n* ArchUnit isn&#39;t included by default in any of the Spring Boot starters. You&#39;ll have to include the dependency by yourself.","title":"Deny all URLs unless enabled by annotation","body":"<p>This cannot easily be checked with Spring Security as far as I know, and would likely require some (ugly) reflection (which can be seen in <a href=\"https://www.baeldung.com/spring-deny-access\" rel=\"nofollow noreferrer\">this article</a>).</p>\n<p>An alternative is to write a unit test for this with <a href=\"https://www.archunit.org/\" rel=\"nofollow noreferrer\">ArchUnit</a>. ArchUnit has a clean(er) API, and has the benefit that you can run this during your test-phase rather than having to run or deploy your application first, and then rely on end users noticing some forbidden error.</p>\n<p>Such a test would look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid ensureEachControllerHasPreAuthorize() {\n    JavaClasses importedClasses = new ClassFileImporter().importPackages(&quot;com.example.demo&quot;);\n    ArchRule rule = methods().that()\n        .areMetaAnnotatedWith(RequestMapping.class)\n        .and().areDeclaredInClassesThat().areMetaAnnotatedWith(Controller.class)\n        .should().beAnnotatedWith(PreAuthorize.class)\n        .orShould().beDeclaredInClassesThat().areAnnotatedWith(PreAuthorize.class);\n    rule.check(importedClasses);\n}\n</code></pre>\n<p>Some remarks:</p>\n<ul>\n<li>The <code>areMetaAnnotatedWith(RequestMapping.class)</code> includes both <code>@RequestMapping</code> and variants like <code>@GetMapping</code>, <code>@PostMapping</code>, ... .</li>\n<li>Same applies to the <code>areMetaAnnotatedWith(Controller.class)</code> which includes both <code>@Controller</code> and <code>@RestController</code>.</li>\n<li>I'm allowing both controller methods and classes to be annotated with <code>@PreAuthorize</code>. If you only want to pass the test if <code>@PreAuthorize</code> is applied on method-level and not at class-level, then you can remove the line that starts with <code>orShould()</code>.</li>\n<li>ArchUnit isn't included by default in any of the Spring Boot starters. You'll have to include the dependency by yourself.</li>\n</ul>\n"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697114075,"creation_date":1697111350,"question_id":77280308,"body_markdown":"I want to deny all requests in Spring boot app unless their method level annotation is fulfilled. \r\n\r\n    @Bean\r\n    public SecurityFilterChain configure(final HttpSecurity http) throws Exception {\r\n        return http.cors(withDefaults())\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests()\r\n                .antMatchers(&quot;/login&quot;).permitAll()\r\n                .anyRequest().denyAll()\r\n                .and()\r\n                .sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .addFilterBefore(bamRequestFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n    }\r\n\r\n    @PutMapping(path = &quot;/getInfo&quot;)\r\n    @PreAuthorize(&quot;hasAnyAuthority(&#39;GET&#39;)&quot;)\r\n    public ActionResult getInfo(@RequestBody Map&lt;String, String&gt; input) {\r\n        return service.getInfo(input);\r\n    }\r\n\r\nThis actually denies the correct user. When I change `.anyRequest().denyAll()` to `.anyRequest().authenticated()` then this controller works, but other controllers are allowed. I want all developers to explicitly configure the security at individual methods.\r\n","title":"Deny all URLs unless enabled by annotation","body":"<p>I want to deny all requests in Spring boot app unless their method level annotation is fulfilled.</p>\n<pre><code>@Bean\npublic SecurityFilterChain configure(final HttpSecurity http) throws Exception {\n    return http.cors(withDefaults())\n            .csrf(AbstractHttpConfigurer::disable)\n            .authorizeHttpRequests()\n            .antMatchers(&quot;/login&quot;).permitAll()\n            .anyRequest().denyAll()\n            .and()\n            .sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n            .addFilterBefore(bamRequestFilter, UsernamePasswordAuthenticationFilter.class)\n            .build();\n}\n\n@PutMapping(path = &quot;/getInfo&quot;)\n@PreAuthorize(&quot;hasAnyAuthority('GET')&quot;)\npublic ActionResult getInfo(@RequestBody Map&lt;String, String&gt; input) {\n    return service.getInfo(input);\n}\n</code></pre>\n<p>This actually denies the correct user. When I change <code>.anyRequest().denyAll()</code> to <code>.anyRequest().authenticated()</code> then this controller works, but other controllers are allowed. I want all developers to explicitly configure the security at individual methods.</p>\n"},{"tags":["java","spring","maven","jboss"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1697211572,"post_id":77280587,"comment_id":136255762,"body_markdown":"What container are you running in?","body":"What container are you running in?"},{"owner":{"account_id":29656346,"reputation":1,"user_id":22729028,"display_name":"DeepFuel3734"},"score":0,"creation_date":1697713808,"post_id":77280587,"comment_id":136315838,"body_markdown":"I can now successfully start the jboss server without any error. My jar file should not have a dependent library but need to declare the dependecies in module.xml.","body":"I can now successfully start the jboss server without any error. My jar file should not have a dependent library but need to declare the dependecies in module.xml."}],"owner":{"account_id":29656346,"reputation":1,"user_id":22729028,"display_name":"DeepFuel3734"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697113732,"creation_date":1697113732,"question_id":77280587,"body_markdown":"I have provided a JAR file to the client and then they put it in their server. Whenever they tried to start the JBoss server, this error occurs. But when we do a rollback, all is fine.\r\n\r\n[enter image description here](https://i.stack.imgur.com/KcZBb.png)\r\n\r\n\r\n\r\nThe JAR file I have provided was tested in my laptop using the java -jar (name).jar to make sure that my JAR is not encountering an error upon execution.","title":"com/fasterxml/jackson/module/jaxb/JaxbAnnotationModule is not assignable to com/fasterxml/jackson/databind/module","body":"<p>I have provided a JAR file to the client and then they put it in their server. Whenever they tried to start the JBoss server, this error occurs. But when we do a rollback, all is fine.</p>\n<p><a href=\"https://i.stack.imgur.com/KcZBb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The JAR file I have provided was tested in my laptop using the java -jar (name).jar to make sure that my JAR is not encountering an error upon execution.</p>\n"},{"tags":["java","ssh","sftp","jsch"],"comments":[{"owner":{"account_id":4492754,"reputation":103,"user_id":3653457,"display_name":"jonesk"},"score":0,"creation_date":1697138040,"post_id":77280584,"comment_id":136245616,"body_markdown":"The error occurs sporadically, which makes me think maybe its something with the server its trying to connect to.","body":"The error occurs sporadically, which makes me think maybe its something with the server its trying to connect to."}],"owner":{"account_id":4492754,"reputation":103,"user_id":3653457,"display_name":"jonesk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697113714,"creation_date":1697113714,"question_id":77280584,"body_markdown":"&gt; java.lang.NullPointerException at\r\n&gt; com.jcraft.jsch.KeyExchange.verify(KeyExchange.java:368) at\r\n&gt; com.jcraft.jsch.DHECN.next(DHECN.java:178) at\r\n&gt; com.jcraft.jsch.Session.connect(Session.java:330)\r\n\r\n\r\n            JSch jsch = new JSch();\r\n            \r\n            if (sshKeyData != null) {\r\n                jsch.addIdentity(null, sshKeyData.getBytes(), null, sshPassphrase != null ? sshPassphrase.getBytes() : null);\r\n            } else if (sshKeyPath != null) {\r\n                jsch.addIdentity(sshKeyPath, sshPassphrase != null ? sshPassphrase.getBytes() : null);\r\n            }\r\n            \r\n            session = jsch.getSession(userName, host, port);\r\n            if (password != null) {\r\n                session.setPassword(password);\r\n            }\r\n            session.setConfig(&quot;kex&quot;, JSCH_COMPAT_KEX);\r\n            session.setConfig(&quot;server_host_key&quot;, JSCH_COMPAT_SERVER_HOST_KEY);\r\n            session.setConfig(&quot;cipher.s2c&quot;, JSCH_COMPAT_CIPHER_S2C);\r\n            session.setConfig(&quot;cipher.c2s&quot;, JSCH_COMPAT_CIPHER_C2S);\r\n            session.setConfig(&quot;mac.s2c&quot;, JSCH_COMPAT_MAC_S2C);\r\n            session.setConfig(&quot;mac.c2s&quot;, JSCH_COMPAT_MAC_C2S);\r\n            session.setConfig(&quot;CheckCiphers&quot;, JSCH_COMPAT_CHECK_CIPHERS);\r\n            session.setConfig(&quot;CheckSignatures&quot;, JSCH_COMPAT_CHECK_SIGNATURES);\r\n            session.setConfig(&quot;CheckKexes&quot;, JSCH_COMPAT_CHECK_KEX);\r\n            session.setConfig(&quot;CheckMacs&quot;, JSCH_COMPAT_CHECK_MACS);\r\n            session.setConfig(&quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);            \r\n            session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n            session.connect(60000);","title":"What would cause com.jcraft.jsch.KeyExchange.verify throws null pointer when calling session.connect()","body":"<blockquote>\n<p>java.lang.NullPointerException at\ncom.jcraft.jsch.KeyExchange.verify(KeyExchange.java:368) at\ncom.jcraft.jsch.DHECN.next(DHECN.java:178) at\ncom.jcraft.jsch.Session.connect(Session.java:330)</p>\n</blockquote>\n<pre><code>        JSch jsch = new JSch();\n        \n        if (sshKeyData != null) {\n            jsch.addIdentity(null, sshKeyData.getBytes(), null, sshPassphrase != null ? sshPassphrase.getBytes() : null);\n        } else if (sshKeyPath != null) {\n            jsch.addIdentity(sshKeyPath, sshPassphrase != null ? sshPassphrase.getBytes() : null);\n        }\n        \n        session = jsch.getSession(userName, host, port);\n        if (password != null) {\n            session.setPassword(password);\n        }\n        session.setConfig(&quot;kex&quot;, JSCH_COMPAT_KEX);\n        session.setConfig(&quot;server_host_key&quot;, JSCH_COMPAT_SERVER_HOST_KEY);\n        session.setConfig(&quot;cipher.s2c&quot;, JSCH_COMPAT_CIPHER_S2C);\n        session.setConfig(&quot;cipher.c2s&quot;, JSCH_COMPAT_CIPHER_C2S);\n        session.setConfig(&quot;mac.s2c&quot;, JSCH_COMPAT_MAC_S2C);\n        session.setConfig(&quot;mac.c2s&quot;, JSCH_COMPAT_MAC_C2S);\n        session.setConfig(&quot;CheckCiphers&quot;, JSCH_COMPAT_CHECK_CIPHERS);\n        session.setConfig(&quot;CheckSignatures&quot;, JSCH_COMPAT_CHECK_SIGNATURES);\n        session.setConfig(&quot;CheckKexes&quot;, JSCH_COMPAT_CHECK_KEX);\n        session.setConfig(&quot;CheckMacs&quot;, JSCH_COMPAT_CHECK_MACS);\n        session.setConfig(&quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);            \n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        session.connect(60000);\n</code></pre>\n"},{"tags":["java","apache-spark","join","multiple-columns","apache-spark-dataset"],"comments":[{"owner":{"account_id":11741096,"reputation":9150,"user_id":8593414,"display_name":"Srinivas"},"score":0,"creation_date":1697113623,"post_id":77279946,"comment_id":136240484,"body_markdown":"Please add sample input &amp; expected output .. it will helpful to answer your question clearly.","body":"Please add sample input &amp; expected output .. it will helpful to answer your question clearly."}],"owner":{"account_id":27242510,"reputation":31,"user_id":20768437,"display_name":"Raging Horse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697113568,"creation_date":1697108017,"question_id":77279946,"body_markdown":"I have a dataframe of a csv file ```Dataset&lt;Row&gt; fileDf ``` that looks like -\r\n```lang-none\r\n|COUNTRY_ID|COUNTRY_NAME|REGION_ID|\r\n|----------|------------|---------|\r\n|AR        |Argentina   |        2|\r\n|AU        |Australia   |        3|\r\n|BE        |Belgium     |        1|\r\n|BR        |Brazil      |        2|\r\n```\r\nI will have multiple single column dataframes (each dataframe corresponds to a single column values) from other csv files\r\n```Dataset&lt;Row&gt; singleColumnDf1```\r\n```lang-none\r\n|NAMES                   |\r\n|------------------------|\r\n|Argentina               |\r\n|Australia               |\r\n|Belgium                 |\r\n|Brazil                  |\r\n```\r\n```Dataset&lt;Row&gt; singleColumnDf2 ```\r\n```lang-none\r\n|IDs      |\r\n|---------|\r\n|        2|\r\n|        3|\r\n|        1|\r\n|        2|\r\n```\r\nand so on.\r\nI want to take singleColumnDf1 and do join operation with fileDf and find out what columns contains the values from singleColumnDf1 and display the column names. Similarly I want to do the same with singleColumnDf2 and so on. \r\nAs the fileDf will be constant I want to make join only once beacuse I dont want the overhead, because my main focus is performance and then get the matched column names and I want the result that tells me what columns from fileDf are matched what columns of singleColumnDfs.\r\n```\r\nFor Example I want the final result to be-&gt;\r\n\r\n*for singleColumnDf1 the matched column is COUNTRY_NAME,*\r\n\r\n*for singleColumnDf2 the matched column is COUNTRY_ID*\r\n```\r\nIs this possible to do in spark can i combine the two singleColumnDfs together and do join once with fileDf and get the results using keys do differentiate the results? Or should I do join for each and every singleColumnDf?","title":"How to compare all columns values in a csv file with multiple other column values by doing join only once in spark java","body":"<p>I have a dataframe of a csv file <code>Dataset&lt;Row&gt; fileDf </code> that looks like -</p>\n<pre class=\"lang-none prettyprint-override\"><code>|COUNTRY_ID|COUNTRY_NAME|REGION_ID|\n|----------|------------|---------|\n|AR        |Argentina   |        2|\n|AU        |Australia   |        3|\n|BE        |Belgium     |        1|\n|BR        |Brazil      |        2|\n</code></pre>\n<p>I will have multiple single column dataframes (each dataframe corresponds to a single column values) from other csv files\n<code>Dataset&lt;Row&gt; singleColumnDf1</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>|NAMES                   |\n|------------------------|\n|Argentina               |\n|Australia               |\n|Belgium                 |\n|Brazil                  |\n</code></pre>\n<p><code>Dataset&lt;Row&gt; singleColumnDf2 </code></p>\n<pre class=\"lang-none prettyprint-override\"><code>|IDs      |\n|---------|\n|        2|\n|        3|\n|        1|\n|        2|\n</code></pre>\n<p>and so on.\nI want to take singleColumnDf1 and do join operation with fileDf and find out what columns contains the values from singleColumnDf1 and display the column names. Similarly I want to do the same with singleColumnDf2 and so on.\nAs the fileDf will be constant I want to make join only once beacuse I dont want the overhead, because my main focus is performance and then get the matched column names and I want the result that tells me what columns from fileDf are matched what columns of singleColumnDfs.</p>\n<pre><code>For Example I want the final result to be-&gt;\n\n*for singleColumnDf1 the matched column is COUNTRY_NAME,*\n\n*for singleColumnDf2 the matched column is COUNTRY_ID*\n</code></pre>\n<p>Is this possible to do in spark can i combine the two singleColumnDfs together and do join once with fileDf and get the results using keys do differentiate the results? Or should I do join for each and every singleColumnDf?</p>\n"},{"tags":["java","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697113105,"creation_date":1697113105,"answer_id":77280516,"question_id":77271201,"body_markdown":"ok, the solution was...\r\n\r\n    HttpsURLConnection.setDefaultSSLSocketFactory(getCustomSSLSocketFactory());\r\n\r\n`getCustomSSLSocketFactory()` wasn&#39;t too long-winded either.\r\n\r\nHere&#39;s a working example:\r\n\r\n    package uk.co.sslws6001.server;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.net.InetSocketAddress;\r\n    import java.net.Socket;\r\n    import java.net.URL;\r\n    import java.security.KeyStore;\r\n    import java.security.SecureRandom;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.CertificateFactory;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.Date;\r\n    import java.util.HexFormat;\r\n    import java.util.LinkedList;\r\n    import java.util.Optional;\r\n    \r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import javax.net.ssl.KeyManagerFactory;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.SSLEngine;\r\n    import javax.net.ssl.SSLSocketFactory;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.TrustManagerFactory;\r\n    import javax.net.ssl.X509ExtendedTrustManager;\r\n    import javax.xml.namespace.QName;\r\n    \r\n    import com.sun.net.httpserver.HttpsConfigurator;\r\n    import com.sun.net.httpserver.HttpsServer;\r\n    \r\n    import jakarta.jws.WebParam;\r\n    import jakarta.jws.WebService;\r\n    import jakarta.xml.ws.Endpoint;\r\n    import jakarta.xml.ws.Service;\r\n    \r\n    public class WS {\r\n    \t@WebService\r\n    \tpublic interface MyWebService {\r\n    \t\tpublic String             toHexDigits(@WebParam(name=&quot;intValue&quot;) final int intValue);\r\n    \t}\r\n    \t@WebService(endpointInterface=                       &quot;uk.co.sslws6001.server.WS$MyWebService&quot;)\r\n    \tpublic static final class MyWebServiceImpl implements uk.co.sslws6001.server.WS.MyWebService {\r\n    \t\t@Override\r\n    \t\tpublic String             toHexDigits(final int intValue) {\r\n    \t\t\treturn HexFormat.of().toHexDigits(          intValue);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/*\r\n    \t * Keystore &amp; Certificate created thus:\r\n    \t * keytool.exe  -genkeypair  -alias self_signed  -keystore keystore.password.p12  -storepass password  -keypass password  -keyalg RSA  -validity 99999  -storetype PKCS12\r\n    \t * keytool.exe  -export      -alias self_signed  -keystore keystore.password.p12  -storepass password  -file keystore.password.cer\r\n    \t */\r\n    \tprivate static HttpsServer createHttpsServer() throws Exception {\r\n    \r\n    \t\tfinal     var pw  =                      &quot;password&quot;.toCharArray();\r\n    \t\tfinal     var ks  = KeyStore.getInstance(&quot;pkcs12&quot;);\r\n    \r\n    \t\ttry(final var fis = new FileInputStream (&quot;keystore.password.p12&quot;)) {\r\n    \t\t\t;         ks.load(fis, pw);\r\n    \t\t}\r\n    \t\tfinal     var kmf = KeyManagerFactory  .getInstance(&quot;SunX509&quot;);\r\n    \t\t;             kmf.init(ks, pw);\r\n    \r\n    \t\tfinal     var tmf = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n    \t\t;             tmf.init(ks);\r\n    \r\n    \t\tfinal     var sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \t\t;             sslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\r\n    \r\n    \t\tfinal     var httpsServer =  HttpsServer.create(new InetSocketAddress(&quot;localhost&quot;, 6001), 0);\r\n    \t\t;             httpsServer.setHttpsConfigurator (new HttpsConfigurator(sslContext));\r\n    \r\n    \t\treturn        httpsServer;\r\n    \t}\r\n    \r\n    \tpublic  static void main(final String[] args) throws Exception {\r\n    \r\n    \t\tfinal var httpsAddress  = &quot;/uk/co/sslws6001/server/MyWebService&quot;;\r\n    \t\tfinal var implementor   = new MyWebServiceImpl();\r\n    \r\n    \t\tSystem.out.println(&quot;publishing.........: &quot; + httpsAddress + &quot;\\t-&gt; &quot; + implementor);\r\n    \r\n    \t\tfinal var httpsServer   = createHttpsServer();\r\n    \r\n    \t\tfinal var httpsContext  = httpsServer.createContext(httpsAddress);\r\n    \t\tfinal var httpsEndpoint = Endpoint.create(implementor);\r\n    \t\t;         httpsEndpoint.publish(httpsContext);\r\n    \t\ttry {\r\n    \t\t\thttpsServer.start();\r\n    \r\n    \t\t\tSystem.out.println(&quot;https Server up....: &quot; + httpsServer);\r\n    \r\n    \t\t\ttestClient();\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\thttpsServer.stop(3);\r\n    \t\t\tSystem.out.println(&quot;https Server DOWN...&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void testClient() throws Exception {\r\n    \t\tSystem.out.println(&quot;Test Client.........&quot;);\r\n    \r\n    \t\tHttpsURLConnection.setDefaultSSLSocketFactory(getCustomSSLSocketFactory());\r\n    \r\n    \t\tfinal var serviceQName   = new QName(&quot;http://server.sslws6001.co.uk/&quot;, &quot;MyWebServiceImplService&quot;);\r\n    \r\n    \t\tfinal var serviceWsdlURL = new URL  (&quot;https://localhost:6001/uk/co/sslws6001/server/MyWebService?wsdl&quot;);\r\n    \r\n    \t\tfinal var service        = Service.create(serviceWsdlURL, serviceQName);\r\n    \t\tfinal var serviceProxy   = service.getPort(uk.co.sslws6001.server.WS.MyWebService.class);\r\n    \r\n    \t\tSystem.out.println(&quot;Service............: &quot; + service);\r\n    \t\tSystem.out.println(&quot;Service Proxy......: &quot; + serviceProxy);\r\n    \r\n    \t\tSystem.out.println(&quot;Result Hex Digits..: &quot; + serviceProxy.toHexDigits((int) System.currentTimeMillis()));\r\n    \t}\r\n    \r\n    \tprivate static SSLSocketFactory getCustomSSLSocketFactory() throws Exception {\r\n    \r\n    \t\tfinal var sslContext    = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \t\t;         sslContext.init(null, new TrustManager[] {getCustomTrustManager()}, new SecureRandom());\r\n    \r\n    \t\tfinal var socketFactory = sslContext.getSocketFactory();\r\n    \r\n    \t\tSystem.out.println(&quot;Custom SockFactory.: &quot; + socketFactory);\r\n    \r\n    \t\treturn    socketFactory;\r\n    \t}\r\n    \r\n    \tprivate static X509ExtendedTrustManager getCustomTrustManager() {\r\n    \r\n    \t\tfinal var okCerts = new LinkedList&lt;X509Certificate&gt;();\r\n    \r\n    \t\tgetServerPublicCertificate().ifPresent(okCerts :: add);\r\n    \r\n    \t\treturn new X509ExtendedTrustManager() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic X509Certificate[] getAcceptedIssuers() {\r\n    \t\t\t\treturn new java.security.cert.X509Certificate[0];\r\n    \t\t\t}\r\n    \t\t\t@Override\r\n    \t\t\tpublic void checkClientTrusted(final X509Certificate[] chain, final String authType)                         throws CertificateException {\r\n    \t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t}\r\n    \t\t\t@Override\r\n    \t\t\tpublic void checkServerTrusted(final X509Certificate[] chain, final String authType)                         throws CertificateException {\r\n    \t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t}\r\n    \t\t\t@Override\r\n    \t\t\tpublic void checkClientTrusted(final X509Certificate[] chain, final String authType, final Socket socket)    throws CertificateException {\r\n    \t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t}\r\n    \t\t\t@Override\r\n    \t\t\tpublic void checkServerTrusted(final X509Certificate[] chain, final String authType, final Socket socket)    throws CertificateException {\r\n    \t\t\t\tSystem.out.println(&quot;checkServerTrusted.: chain=&quot; + chain + &quot; authType=&quot; + authType + &quot; socket=&quot; + socket);\r\n    \r\n    \t\t\t\tfor (    final var suppliedCert : chain) {\r\n    \t\t\t\t\tfor (final var okCert       : okCerts) {\r\n    \r\n    \t\t\t\t\t\tif (suppliedCert.equals(okCert)) {\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;Certificate ok.....: id=&quot; + suppliedCert.getSerialNumber());\r\n    \t\t\t\t\t\t\treturn;\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;Certificate BAD....: id=&quot; + suppliedCert.getSerialNumber());\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tthrow new CertificateException(&quot;Bad Karma!&quot;);\r\n    \t\t\t}\r\n    \t\t\t@Override\r\n    \t\t\tpublic void checkClientTrusted(final X509Certificate[] chain, final String authType, final SSLEngine engine) throws CertificateException {\r\n    \t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t}\r\n    \t\t\t@Override\r\n    \t\t\tpublic void checkServerTrusted(final X509Certificate[] chain, final String authType, final SSLEngine engine) throws CertificateException {\r\n    \t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \r\n    \tprivate static Optional&lt;X509Certificate&gt; getServerPublicCertificate() {\r\n    \r\n    \t\ttry(final var is   = new FileInputStream(&quot;keystore.password.cer&quot;)) {\r\n    \r\n    \t\t\tfinal var fac  = CertificateFactory.getInstance(&quot;X509&quot;);\r\n    \t\t\tfinal var cert = (X509Certificate) fac.generateCertificate(is);\r\n    \r\n    \t\t\tSystem.out.print  (&quot;Server Public Cert.: sn=&quot; + cert.getSerialNumber());\r\n    \t\t\tSystem.out.println(      &quot; -&gt; Validity.: &quot; + cert.getNotBefore() + &quot; to &quot; + cert.getNotAfter());\r\n    \r\n    \t\t\tfinal var now = new Date();\r\n    \r\n    \t\t\tif (now.before(cert.getNotBefore())\r\n    \t\t\t||  now.after (cert.getNotAfter())) {\r\n    \t\t\t\tSystem.out.println(&quot;Certificate INVALID: sn=&quot; + cert.getSerialNumber());\r\n    \t\t\t\treturn Optional.empty();\r\n    \t\t\t}\r\n    \t\t\treturn     Optional.of(cert);\r\n    \t\t}\r\n    \t\tcatch (final Exception e) {\r\n    \t\t\treturn     Optional.empty();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Simple Config for POJO https Client using JAX WS","body":"<p>ok, the solution was...</p>\n<pre><code>HttpsURLConnection.setDefaultSSLSocketFactory(getCustomSSLSocketFactory());\n</code></pre>\n<p><code>getCustomSSLSocketFactory()</code> wasn't too long-winded either.</p>\n<p>Here's a working example:</p>\n<pre><code>package uk.co.sslws6001.server;\n\nimport java.io.FileInputStream;\nimport java.net.InetSocketAddress;\nimport java.net.Socket;\nimport java.net.URL;\nimport java.security.KeyStore;\nimport java.security.SecureRandom;\nimport java.security.cert.CertificateException;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\nimport java.util.Date;\nimport java.util.HexFormat;\nimport java.util.LinkedList;\nimport java.util.Optional;\n\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLEngine;\nimport javax.net.ssl.SSLSocketFactory;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.TrustManagerFactory;\nimport javax.net.ssl.X509ExtendedTrustManager;\nimport javax.xml.namespace.QName;\n\nimport com.sun.net.httpserver.HttpsConfigurator;\nimport com.sun.net.httpserver.HttpsServer;\n\nimport jakarta.jws.WebParam;\nimport jakarta.jws.WebService;\nimport jakarta.xml.ws.Endpoint;\nimport jakarta.xml.ws.Service;\n\npublic class WS {\n    @WebService\n    public interface MyWebService {\n        public String             toHexDigits(@WebParam(name=&quot;intValue&quot;) final int intValue);\n    }\n    @WebService(endpointInterface=                       &quot;uk.co.sslws6001.server.WS$MyWebService&quot;)\n    public static final class MyWebServiceImpl implements uk.co.sslws6001.server.WS.MyWebService {\n        @Override\n        public String             toHexDigits(final int intValue) {\n            return HexFormat.of().toHexDigits(          intValue);\n        }\n    }\n\n    /*\n     * Keystore &amp; Certificate created thus:\n     * keytool.exe  -genkeypair  -alias self_signed  -keystore keystore.password.p12  -storepass password  -keypass password  -keyalg RSA  -validity 99999  -storetype PKCS12\n     * keytool.exe  -export      -alias self_signed  -keystore keystore.password.p12  -storepass password  -file keystore.password.cer\n     */\n    private static HttpsServer createHttpsServer() throws Exception {\n\n        final     var pw  =                      &quot;password&quot;.toCharArray();\n        final     var ks  = KeyStore.getInstance(&quot;pkcs12&quot;);\n\n        try(final var fis = new FileInputStream (&quot;keystore.password.p12&quot;)) {\n            ;         ks.load(fis, pw);\n        }\n        final     var kmf = KeyManagerFactory  .getInstance(&quot;SunX509&quot;);\n        ;             kmf.init(ks, pw);\n\n        final     var tmf = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\n        ;             tmf.init(ks);\n\n        final     var sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        ;             sslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\n\n        final     var httpsServer =  HttpsServer.create(new InetSocketAddress(&quot;localhost&quot;, 6001), 0);\n        ;             httpsServer.setHttpsConfigurator (new HttpsConfigurator(sslContext));\n\n        return        httpsServer;\n    }\n\n    public  static void main(final String[] args) throws Exception {\n\n        final var httpsAddress  = &quot;/uk/co/sslws6001/server/MyWebService&quot;;\n        final var implementor   = new MyWebServiceImpl();\n\n        System.out.println(&quot;publishing.........: &quot; + httpsAddress + &quot;\\t-&gt; &quot; + implementor);\n\n        final var httpsServer   = createHttpsServer();\n\n        final var httpsContext  = httpsServer.createContext(httpsAddress);\n        final var httpsEndpoint = Endpoint.create(implementor);\n        ;         httpsEndpoint.publish(httpsContext);\n        try {\n            httpsServer.start();\n\n            System.out.println(&quot;https Server up....: &quot; + httpsServer);\n\n            testClient();\n        }\n        finally {\n            httpsServer.stop(3);\n            System.out.println(&quot;https Server DOWN...&quot;);\n        }\n    }\n\n    private static void testClient() throws Exception {\n        System.out.println(&quot;Test Client.........&quot;);\n\n        HttpsURLConnection.setDefaultSSLSocketFactory(getCustomSSLSocketFactory());\n\n        final var serviceQName   = new QName(&quot;http://server.sslws6001.co.uk/&quot;, &quot;MyWebServiceImplService&quot;);\n\n        final var serviceWsdlURL = new URL  (&quot;https://localhost:6001/uk/co/sslws6001/server/MyWebService?wsdl&quot;);\n\n        final var service        = Service.create(serviceWsdlURL, serviceQName);\n        final var serviceProxy   = service.getPort(uk.co.sslws6001.server.WS.MyWebService.class);\n\n        System.out.println(&quot;Service............: &quot; + service);\n        System.out.println(&quot;Service Proxy......: &quot; + serviceProxy);\n\n        System.out.println(&quot;Result Hex Digits..: &quot; + serviceProxy.toHexDigits((int) System.currentTimeMillis()));\n    }\n\n    private static SSLSocketFactory getCustomSSLSocketFactory() throws Exception {\n\n        final var sslContext    = SSLContext.getInstance(&quot;TLS&quot;);\n        ;         sslContext.init(null, new TrustManager[] {getCustomTrustManager()}, new SecureRandom());\n\n        final var socketFactory = sslContext.getSocketFactory();\n\n        System.out.println(&quot;Custom SockFactory.: &quot; + socketFactory);\n\n        return    socketFactory;\n    }\n\n    private static X509ExtendedTrustManager getCustomTrustManager() {\n\n        final var okCerts = new LinkedList&lt;X509Certificate&gt;();\n\n        getServerPublicCertificate().ifPresent(okCerts :: add);\n\n        return new X509ExtendedTrustManager() {\n            @Override\n            public X509Certificate[] getAcceptedIssuers() {\n                return new java.security.cert.X509Certificate[0];\n            }\n            @Override\n            public void checkClientTrusted(final X509Certificate[] chain, final String authType)                         throws CertificateException {\n                throw new UnsupportedOperationException();\n            }\n            @Override\n            public void checkServerTrusted(final X509Certificate[] chain, final String authType)                         throws CertificateException {\n                throw new UnsupportedOperationException();\n            }\n            @Override\n            public void checkClientTrusted(final X509Certificate[] chain, final String authType, final Socket socket)    throws CertificateException {\n                throw new UnsupportedOperationException();\n            }\n            @Override\n            public void checkServerTrusted(final X509Certificate[] chain, final String authType, final Socket socket)    throws CertificateException {\n                System.out.println(&quot;checkServerTrusted.: chain=&quot; + chain + &quot; authType=&quot; + authType + &quot; socket=&quot; + socket);\n\n                for (    final var suppliedCert : chain) {\n                    for (final var okCert       : okCerts) {\n\n                        if (suppliedCert.equals(okCert)) {\n                            System.out.println(&quot;Certificate ok.....: id=&quot; + suppliedCert.getSerialNumber());\n                            return;\n                        } else {\n                            System.out.println(&quot;Certificate BAD....: id=&quot; + suppliedCert.getSerialNumber());\n                        }\n                    }\n                }\n                throw new CertificateException(&quot;Bad Karma!&quot;);\n            }\n            @Override\n            public void checkClientTrusted(final X509Certificate[] chain, final String authType, final SSLEngine engine) throws CertificateException {\n                throw new UnsupportedOperationException();\n            }\n            @Override\n            public void checkServerTrusted(final X509Certificate[] chain, final String authType, final SSLEngine engine) throws CertificateException {\n                throw new UnsupportedOperationException();\n            }\n        };\n    }\n\n    private static Optional&lt;X509Certificate&gt; getServerPublicCertificate() {\n\n        try(final var is   = new FileInputStream(&quot;keystore.password.cer&quot;)) {\n\n            final var fac  = CertificateFactory.getInstance(&quot;X509&quot;);\n            final var cert = (X509Certificate) fac.generateCertificate(is);\n\n            System.out.print  (&quot;Server Public Cert.: sn=&quot; + cert.getSerialNumber());\n            System.out.println(      &quot; -&gt; Validity.: &quot; + cert.getNotBefore() + &quot; to &quot; + cert.getNotAfter());\n\n            final var now = new Date();\n\n            if (now.before(cert.getNotBefore())\n            ||  now.after (cert.getNotAfter())) {\n                System.out.println(&quot;Certificate INVALID: sn=&quot; + cert.getSerialNumber());\n                return Optional.empty();\n            }\n            return     Optional.of(cert);\n        }\n        catch (final Exception e) {\n            return     Optional.empty();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77280516,"answer_count":1,"score":-1,"last_activity_date":1697113105,"creation_date":1697011335,"question_id":77271201,"body_markdown":"I&#39;m trying to get a simple POJO https Client/Server implementation running with JAX-WS.\r\n\r\nThe Server side seems to be running fine &amp; was fairly simple, but I haven&#39;t found how to configure the Client in a simple fashion.\r\n\r\nI&#39;ve got it to work with a couple of Properties to include the Servers Keystore.&lt;br&gt;\r\nBut, of course, that&#39;s only good for testing.\r\n\r\nAny ideas?\r\n\r\nI&#39;m using JDK 17 with Eclipse 2023-09.\r\n\r\nSee comments in Source for details of Keystore &amp; Certificate.\r\n\r\nFor convenience, I&#39;ve posted them to paste.c-net.org:&lt;br&gt;\r\n[Keystore keystore.password.p12][1]&lt;br&gt;\r\n[Certificate keystore.password.cer][2]\r\n\r\nHere&#39;s the source:\r\n\r\n    package uk.co.sslws6001.server;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.net.InetSocketAddress;\r\n    import java.net.URL;\r\n    import java.security.KeyStore;\r\n    import java.util.HexFormat;\r\n    \r\n    import javax.net.ssl.KeyManagerFactory;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.TrustManagerFactory;\r\n    import javax.xml.namespace.QName;\r\n    \r\n    import com.sun.net.httpserver.HttpsConfigurator;\r\n    import com.sun.net.httpserver.HttpsServer;\r\n    \r\n    import jakarta.jws.WebParam;\r\n    import jakarta.jws.WebService;\r\n    import jakarta.xml.ws.Endpoint;\r\n    import jakarta.xml.ws.Service;\r\n    \r\n    public class WS {\r\n    \t@WebService\r\n    \tpublic interface MyWebService {\r\n    \t\tpublic String             toHexDigits(@WebParam(name=&quot;intValue&quot;) final int intValue);\r\n    \t}\r\n    \t@WebService(endpointInterface=                       &quot;uk.co.sslws6001.server.WS$MyWebService&quot;)\r\n    \tpublic static final class MyWebServiceImpl implements uk.co.sslws6001.server.WS.MyWebService {\r\n    \t\t@Override\r\n    \t\tpublic String             toHexDigits(final int intValue) {\r\n    \t\t\treturn HexFormat.of().toHexDigits(          intValue);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/*\r\n    \t * Keystore &amp; Certificate created thus:\r\n    \t * keytool.exe  -genkeypair  -alias self_signed  -keystore keystore.password.p12  -storepass password  -keypass password  -keyalg RSA  -validity 99999  -storetype PKCS12\r\n    \t * keytool.exe  -export      -alias self_signed  -keystore keystore.password.p12  -storepass password  -file keystore.password.cer\r\n    \t */\r\n    \tprivate static HttpsServer createHttpsServer() throws Exception {\r\n    \r\n    \t\tfinal     var pw  =                      &quot;password&quot;.toCharArray();\r\n    \t\tfinal     var ks  = KeyStore.getInstance(&quot;pkcs12&quot;);\r\n    \r\n    \t\ttry(final var fis = new FileInputStream (&quot;keystore.password.p12&quot;)) {\r\n    \t\t\t;         ks.load(fis, pw);\r\n    \t\t}\r\n    \t\tfinal     var kmf = KeyManagerFactory  .getInstance(&quot;SunX509&quot;);\r\n    \t\t;             kmf.init(ks, pw);\r\n    \r\n    \t\tfinal     var tmf = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n    \t\t;             tmf.init(ks);\r\n    \r\n    \t\tfinal     var sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \t\t;             sslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\r\n    \r\n    \t\tfinal     var httpsServer =  HttpsServer.create(new InetSocketAddress(&quot;localhost&quot;, 6001), 0);\r\n    \t\t;             httpsServer.setHttpsConfigurator (new HttpsConfigurator(sslContext));\r\n    \r\n    \t\treturn        httpsServer;\r\n    \t}\r\n    \r\n    \tpublic  static void main(final String[] args) throws Exception {\r\n    \r\n    \t\tfinal var httpsAddress  = &quot;/uk/co/sslws6001/server/MyWebService&quot;;\r\n    \t\tfinal var implementor   = new MyWebServiceImpl();\r\n    \r\n    \t\tSystem.out.println(&quot;publishing.........: &quot; + httpsAddress + &quot;\\t-&gt; &quot; + implementor);\r\n    \r\n    \t\tfinal var httpsServer   = createHttpsServer();\r\n    \r\n    \t\tfinal var httpsContext  = httpsServer.createContext(httpsAddress);\r\n    \t\tfinal var httpsEndpoint = Endpoint.create(implementor);\r\n    \t\t;         httpsEndpoint.publish(httpsContext);\r\n    \t\ttry {\r\n    \t\t\thttpsServer.start();\r\n    \r\n    \t\t\tSystem.out.println(&quot;https Server up....: &quot; + httpsServer);\r\n    \r\n    \t\t\ttestClient();\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\thttpsServer.stop(3);\r\n    \t\t\tSystem.out.println(&quot;https Server DOWN...&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void testClient() throws Exception {\r\n    \t\tSystem.out.println(&quot;Test Client.........&quot;);\r\n    \r\n    \t\t/*\r\n    \t\t * TODO get https Client to work WITHOUT following 2 lines (Servers private!! Keystore)...\r\n    \t\t * ...: i.e. use the Servers exported Certificate (&quot;keystore.password.cer&quot;) instead.\r\n    \t\t */\r\n    \t\tSystem.getProperties().put(&quot;javax.net.ssl.trustStore&quot;,         &quot;keystore.password.p12&quot;);  \r\n    \t\tSystem.getProperties().put(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;password&quot;);\r\n    \r\n    \t\tfinal var serviceQName   = new QName(&quot;http://server.sslws6001.co.uk/&quot;, &quot;MyWebServiceImplService&quot;);\r\n    \r\n    \t\tfinal var serviceWsdlURL = new URL  (&quot;https://localhost:6001/uk/co/sslws6001/server/MyWebService?wsdl&quot;);\r\n    \r\n    \t\tfinal var service        = Service.create(serviceWsdlURL, serviceQName);\r\n    \t\tfinal var serviceProxy   = service.getPort(uk.co.sslws6001.server.WS.MyWebService.class);\r\n    \r\n    \t\tSystem.out.println(&quot;Service............: &quot; + service);\r\n    \t\tSystem.out.println(&quot;Service Proxy......: &quot; + serviceProxy);\r\n    \r\n    \t\tSystem.out.println(&quot;Result Hex Digits..: &quot; + serviceProxy.toHexDigits((int) System.currentTimeMillis()));\r\n    \t}\r\n    }\r\n\r\nAnd here&#39;s the POM:\r\n\r\n    &lt;project\r\n    \t\txmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;uk.co.sslws6001&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;client.server&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://paste.c-net.org/ReynoldsSecurity\r\n  [2]: https://paste.c-net.org/SquidTowels","title":"Simple Config for POJO https Client using JAX WS","body":"<p>I'm trying to get a simple POJO https Client/Server implementation running with JAX-WS.</p>\n<p>The Server side seems to be running fine &amp; was fairly simple, but I haven't found how to configure the Client in a simple fashion.</p>\n<p>I've got it to work with a couple of Properties to include the Servers Keystore.<br>\nBut, of course, that's only good for testing.</p>\n<p>Any ideas?</p>\n<p>I'm using JDK 17 with Eclipse 2023-09.</p>\n<p>See comments in Source for details of Keystore &amp; Certificate.</p>\n<p>For convenience, I've posted them to paste.c-net.org:<br>\n<a href=\"https://paste.c-net.org/ReynoldsSecurity\" rel=\"nofollow noreferrer\">Keystore keystore.password.p12</a><br>\n<a href=\"https://paste.c-net.org/SquidTowels\" rel=\"nofollow noreferrer\">Certificate keystore.password.cer</a></p>\n<p>Here's the source:</p>\n<pre><code>package uk.co.sslws6001.server;\n\nimport java.io.FileInputStream;\nimport java.net.InetSocketAddress;\nimport java.net.URL;\nimport java.security.KeyStore;\nimport java.util.HexFormat;\n\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManagerFactory;\nimport javax.xml.namespace.QName;\n\nimport com.sun.net.httpserver.HttpsConfigurator;\nimport com.sun.net.httpserver.HttpsServer;\n\nimport jakarta.jws.WebParam;\nimport jakarta.jws.WebService;\nimport jakarta.xml.ws.Endpoint;\nimport jakarta.xml.ws.Service;\n\npublic class WS {\n    @WebService\n    public interface MyWebService {\n        public String             toHexDigits(@WebParam(name=&quot;intValue&quot;) final int intValue);\n    }\n    @WebService(endpointInterface=                       &quot;uk.co.sslws6001.server.WS$MyWebService&quot;)\n    public static final class MyWebServiceImpl implements uk.co.sslws6001.server.WS.MyWebService {\n        @Override\n        public String             toHexDigits(final int intValue) {\n            return HexFormat.of().toHexDigits(          intValue);\n        }\n    }\n\n    /*\n     * Keystore &amp; Certificate created thus:\n     * keytool.exe  -genkeypair  -alias self_signed  -keystore keystore.password.p12  -storepass password  -keypass password  -keyalg RSA  -validity 99999  -storetype PKCS12\n     * keytool.exe  -export      -alias self_signed  -keystore keystore.password.p12  -storepass password  -file keystore.password.cer\n     */\n    private static HttpsServer createHttpsServer() throws Exception {\n\n        final     var pw  =                      &quot;password&quot;.toCharArray();\n        final     var ks  = KeyStore.getInstance(&quot;pkcs12&quot;);\n\n        try(final var fis = new FileInputStream (&quot;keystore.password.p12&quot;)) {\n            ;         ks.load(fis, pw);\n        }\n        final     var kmf = KeyManagerFactory  .getInstance(&quot;SunX509&quot;);\n        ;             kmf.init(ks, pw);\n\n        final     var tmf = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\n        ;             tmf.init(ks);\n\n        final     var sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        ;             sslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\n\n        final     var httpsServer =  HttpsServer.create(new InetSocketAddress(&quot;localhost&quot;, 6001), 0);\n        ;             httpsServer.setHttpsConfigurator (new HttpsConfigurator(sslContext));\n\n        return        httpsServer;\n    }\n\n    public  static void main(final String[] args) throws Exception {\n\n        final var httpsAddress  = &quot;/uk/co/sslws6001/server/MyWebService&quot;;\n        final var implementor   = new MyWebServiceImpl();\n\n        System.out.println(&quot;publishing.........: &quot; + httpsAddress + &quot;\\t-&gt; &quot; + implementor);\n\n        final var httpsServer   = createHttpsServer();\n\n        final var httpsContext  = httpsServer.createContext(httpsAddress);\n        final var httpsEndpoint = Endpoint.create(implementor);\n        ;         httpsEndpoint.publish(httpsContext);\n        try {\n            httpsServer.start();\n\n            System.out.println(&quot;https Server up....: &quot; + httpsServer);\n\n            testClient();\n        }\n        finally {\n            httpsServer.stop(3);\n            System.out.println(&quot;https Server DOWN...&quot;);\n        }\n    }\n\n    private static void testClient() throws Exception {\n        System.out.println(&quot;Test Client.........&quot;);\n\n        /*\n         * TODO get https Client to work WITHOUT following 2 lines (Servers private!! Keystore)...\n         * ...: i.e. use the Servers exported Certificate (&quot;keystore.password.cer&quot;) instead.\n         */\n        System.getProperties().put(&quot;javax.net.ssl.trustStore&quot;,         &quot;keystore.password.p12&quot;);  \n        System.getProperties().put(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;password&quot;);\n\n        final var serviceQName   = new QName(&quot;http://server.sslws6001.co.uk/&quot;, &quot;MyWebServiceImplService&quot;);\n\n        final var serviceWsdlURL = new URL  (&quot;https://localhost:6001/uk/co/sslws6001/server/MyWebService?wsdl&quot;);\n\n        final var service        = Service.create(serviceWsdlURL, serviceQName);\n        final var serviceProxy   = service.getPort(uk.co.sslws6001.server.WS.MyWebService.class);\n\n        System.out.println(&quot;Service............: &quot; + service);\n        System.out.println(&quot;Service Proxy......: &quot; + serviceProxy);\n\n        System.out.println(&quot;Result Hex Digits..: &quot; + serviceProxy.toHexDigits((int) System.currentTimeMillis()));\n    }\n}\n</code></pre>\n<p>And here's the POM:</p>\n<pre><code>&lt;project\n        xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;uk.co.sslws6001&lt;/groupId&gt;\n    &lt;artifactId&gt;client.server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","npm","sdk","appium"],"comments":[{"owner":{"account_id":29648378,"reputation":1,"user_id":22722896,"display_name":"Abhihshek"},"score":0,"creation_date":1697223806,"post_id":77273183,"comment_id":136257944,"body_markdown":"Hello All, Above issue is resolved after using 8.6.0 Java-Client for Appium 2.1.3 version.","body":"Hello All, Above issue is resolved after using 8.6.0 Java-Client for Appium 2.1.3 version."}],"owner":{"account_id":29648378,"reputation":1,"user_id":22722896,"display_name":"Abhihshek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697112872,"creation_date":1697028295,"question_id":77273183,"body_markdown":"Here is My Code:\r\n\r\n``` java\r\npackage abhishekmaurya.appium;\r\n\r\nimport org.testng.annotations.Test;\r\n\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\nimport io.appium.java_client.android.AndroidDriver;\r\nimport io.appium.java_client.android.options.UiAutomator2Options;\r\n\r\npublic class AppiumBasics {\r\n\t\r\n\t@Test\r\n\tpublic void AppiumTest() throws MalformedURLException {\r\n\t\t\r\n\t\tUiAutomator2Options Options = new UiAutomator2Options();\r\n\t\tOptions.setDeviceName(&quot;abhishekphone&quot;);\r\n\t\tOptions.setApp(&quot;C:\\\\Users\\\\abhshm\\\\eclipse-workspace\\\\appium\\\\src\\\\test\\\\java\\\\resources\\\\resources\\\\ApiDemos-debug.apk&quot;);\t\t\r\n\t\tAndroidDriver driver = new AndroidDriver(new URL(&quot;http://127.0.0.1:4723&quot;), Options);\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAlso this code is for opening a app in Android SDK Emulator . that&#39;s also not working\r\n\r\nOnly this is shown in Console Output:\r\n\r\n![enter image description here](https://i.stack.imgur.com/4BChQ.png)\r\n\r\nBelow is My Environment Variable Snippet:\r\n\r\n![enter image description here](https://i.stack.imgur.com/mdHKF.png)\r\n\r\n![image](https://i.stack.imgur.com/yybXF.png)\r\n\r\n\r\n\r\n\r\n","title":"I am not seeing the Appium Server Log over CMD Console","body":"<p>Here is My Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package abhishekmaurya.appium;\n\nimport org.testng.annotations.Test;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.android.options.UiAutomator2Options;\n\npublic class AppiumBasics {\n    \n    @Test\n    public void AppiumTest() throws MalformedURLException {\n        \n        UiAutomator2Options Options = new UiAutomator2Options();\n        Options.setDeviceName(&quot;abhishekphone&quot;);\n        Options.setApp(&quot;C:\\\\Users\\\\abhshm\\\\eclipse-workspace\\\\appium\\\\src\\\\test\\\\java\\\\resources\\\\resources\\\\ApiDemos-debug.apk&quot;);      \n        AndroidDriver driver = new AndroidDriver(new URL(&quot;http://127.0.0.1:4723&quot;), Options);\n        \n        \n    }\n\n}\n</code></pre>\n<p>Also this code is for opening a app in Android SDK Emulator . that's also not working</p>\n<p>Only this is shown in Console Output:</p>\n<p><img src=\"https://i.stack.imgur.com/4BChQ.png\" alt=\"enter image description here\" /></p>\n<p>Below is My Environment Variable Snippet:</p>\n<p><img src=\"https://i.stack.imgur.com/mdHKF.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/yybXF.png\" alt=\"image\" /></p>\n"},{"tags":["java","jpa","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":16577411,"reputation":74,"user_id":11978873,"display_name":"xTheProgrammer"},"score":0,"creation_date":1697713004,"post_id":77279047,"comment_id":136315665,"body_markdown":"i answered the question here: https://stackoverflow.com/a/77321415/11978873","body":"i answered the question here: <a href=\"https://stackoverflow.com/a/77321415/11978873\">stackoverflow.com/a/77321415/11978873</a>"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697102845,"creation_date":1697102845,"answer_id":77279357,"question_id":77279047,"body_markdown":"Don&#39;t use H2 for testing when you run MySql in production. \r\nUse Testcontainers instead.\r\n\r\nIf you really want to keep you approach you could alter the byte code using a [Java Agent][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-instrumentation","title":"@Table annotation and the need set catalog or schemas for test and production code","body":"<p>Don't use H2 for testing when you run MySql in production.\nUse Testcontainers instead.</p>\n<p>If you really want to keep you approach you could alter the byte code using a <a href=\"https://www.baeldung.com/java-instrumentation\" rel=\"nofollow noreferrer\">Java Agent</a>.</p>\n"}],"owner":{"account_id":16577411,"reputation":74,"user_id":11978873,"display_name":"xTheProgrammer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697112728,"creation_date":1697100260,"question_id":77279047,"body_markdown":"Basically i have the same question as:\r\nhttps://stackoverflow.com/questions/46003817/table-annotation-and-the-need-set-catalog-or-schemas-for-development-or-deploym\r\n\r\nHowever I tried a few more approaches on how to solve this which I wanted to add here. The original question is more than 6 years old without an answer...\r\n\r\nOne approach i tried which felt actually ok:\r\nSetting the code catalog / schema manually on startup via reflection. There it&#39;s clear if i am in the test environment and therefore need to set the catalog or if i&#39;m in a non-test environment and i need to set the schema.\r\nI tried different approaches for this. One would be:\r\n\r\n    @Component\r\n    public class TableAnnotationEventListener implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\r\n\r\n    @Profile(&quot;test&quot;)\r\n    @Override\r\n    public void onApplicationEvent(ContextRefreshedEvent event) {\r\n        if (event.getApplicationContext().getEnvironment().acceptsProfiles(&quot;test&quot;)) {\r\n            adjustTableAnnotations();\r\n        }\r\n    }\r\n\r\n    private void adjustTableAnnotations() {\r\n        Table tableAnnotation = EntityClass.class.getAnnotation(Table.class);\r\n        if (tableAnnotation != null) {\r\n            String schemaOrCatalog = &quot;your_h2_schema&quot;; // Set the schema for H2 or catalog for MySQL\r\n            try {\r\n                Field schemaField = Table.class.getDeclaredField(&quot;schema&quot;);\r\n                schemaField.setAccessible(true);\r\n                Field catalogField = Table.class.getDeclaredField(&quot;catalog&quot;);\r\n                catalogField.setAccessible(true);\r\n\r\n                // Set the schema or catalog based on the active profile\r\n                if (activeProfile.equals(&quot;test&quot;)) {\r\n                    schemaField.set(tableAnnotation, schemaOrCatalog);\r\n                    catalogField.set(tableAnnotation, &quot;&quot;); // Empty string for catalog\r\n                } else {\r\n                    schemaField.set(tableAnnotation, &quot;&quot;);\r\n                    catalogField.set(tableAnnotation, schemaOrCatalog);\r\n                }\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(&quot;Error updating @Table annotation&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\nHowever this is still to late somehow. I never enter the code before the error occurs, that the table can&#39;t be found on startup.\r\nSo, maybe someone has a solution / idea on how to do this smoothly.\r\n\r\n","title":"@Table annotation and the need set catalog or schemas for test and production code","body":"<p>Basically i have the same question as:\n<a href=\"https://stackoverflow.com/questions/46003817/table-annotation-and-the-need-set-catalog-or-schemas-for-development-or-deploym\">@Table annotation and the need set catalog or schemas for development or deployment</a></p>\n<p>However I tried a few more approaches on how to solve this which I wanted to add here. The original question is more than 6 years old without an answer...</p>\n<p>One approach i tried which felt actually ok:\nSetting the code catalog / schema manually on startup via reflection. There it's clear if i am in the test environment and therefore need to set the catalog or if i'm in a non-test environment and i need to set the schema.\nI tried different approaches for this. One would be:</p>\n<pre><code>@Component\npublic class TableAnnotationEventListener implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\n\n@Profile(&quot;test&quot;)\n@Override\npublic void onApplicationEvent(ContextRefreshedEvent event) {\n    if (event.getApplicationContext().getEnvironment().acceptsProfiles(&quot;test&quot;)) {\n        adjustTableAnnotations();\n    }\n}\n\nprivate void adjustTableAnnotations() {\n    Table tableAnnotation = EntityClass.class.getAnnotation(Table.class);\n    if (tableAnnotation != null) {\n        String schemaOrCatalog = &quot;your_h2_schema&quot;; // Set the schema for H2 or catalog for MySQL\n        try {\n            Field schemaField = Table.class.getDeclaredField(&quot;schema&quot;);\n            schemaField.setAccessible(true);\n            Field catalogField = Table.class.getDeclaredField(&quot;catalog&quot;);\n            catalogField.setAccessible(true);\n\n            // Set the schema or catalog based on the active profile\n            if (activeProfile.equals(&quot;test&quot;)) {\n                schemaField.set(tableAnnotation, schemaOrCatalog);\n                catalogField.set(tableAnnotation, &quot;&quot;); // Empty string for catalog\n            } else {\n                schemaField.set(tableAnnotation, &quot;&quot;);\n                catalogField.set(tableAnnotation, schemaOrCatalog);\n            }\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Error updating @Table annotation&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>However this is still to late somehow. I never enter the code before the error occurs, that the table can't be found on startup.\nSo, maybe someone has a solution / idea on how to do this smoothly.</p>\n"},{"tags":["java","kubernetes","grpc","ioexception"],"comments":[{"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"score":0,"creation_date":1697058965,"post_id":77274611,"comment_id":136233397,"body_markdown":"You seem to be using an old gRPC version (1.34.1). Can you switch to the latest version? Also the error seems to have been generated in a different component (`cn.vpclub.sd.framework.grpc.client.proxy.ManageChannelProxy`) so something to do with channel management by this component.","body":"You seem to be using an old gRPC version (1.34.1). Can you switch to the latest version? Also the error seems to have been generated in a different component (<code>cn.vpclub.sd.framework.grpc.client.proxy.ManageChannelProxy</code>&zwnj;&#8203;) so something to do with channel management by this component."}],"owner":{"account_id":29649627,"reputation":1,"user_id":22723860,"display_name":"wripzx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697112407,"creation_date":1697039580,"question_id":77274611,"body_markdown":"i used grpc in java program and it work very well in the test env.But when we deployed in the production env it sometimes occurs exception with stack trace:\r\n\r\n```\r\nio.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\n        at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:262) ~[grpc-stub-1.34.1.jar!/:1.34.1]\r\n        at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:243) ~[grpc-stub-1.34.1.jar!/:1.34.1]\r\n        at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:123) ~[grpc-stub-1.34.1.jar!/:1.34.1]\r\n        at cn.vpclub.sd.framework.grpc.client.proxy.ManageChannelProxy.invoke(ManageChannelProxy.java:107) ~[vpsd-grpc-1.3.0-cmpm-SNAPSHOT.jar!/:1.3.0-cmpm-SNAPSHOT]\r\n        at org.springframework.cglib.proxy.Proxy$ProxyImpl$$EnhancerByCGLIB$$83232b9b.orderSyncFromBoss(&lt;generated&gt;) [spring-core-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\r\n        at cn.vpclub.cmpm.capacity.central.bff.api.ordersync.service.OrderSyncFromBossService.orderSyncFromBoss(OrderSyncFromBossService.java:121) [classes!/:1.0-SNAPSHOT]\r\n        at cn.vpclub.cmpm.capacity.central.bff.api.ordersync.controller.OrderSyncFromController.orderSync(OrderSyncFromController.java:45) [classes!/:1.0-SNAPSHOT]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) [spring-web-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) [spring-web-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) [spring-webmvc-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) [spring-webmvc-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) [spring-webmvc-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) [spring-webmvc-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) [spring-webmvc-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\r\n[enter image description here](https://i.stack.imgur.com/IAIQX.jpg)\r\n```\r\n\r\ni build the ManagedChannel as this:\r\n\r\n```\r\nthis.channelNetty = NettyChannelBuilder.forAddress(channelProperty.getHost(), channelProperty.getPort())\r\n                .usePlaintext()\r\n                .proxyDetector(proxyDetector)\r\n                .maxInboundMessageSize(channelProperty.getMaxInboundMessageSize())\r\n                .intercept(new GrpcClientInterceptor())\r\n                .keepAliveTime(5, TimeUnit.MINUTES)\r\n                .keepAliveTimeout(channelProperty.getDeadline(), TimeUnit.SECONDS)\r\n                .build();\r\n```\r\n\r\nand the tcp keepalive is like this[tcp keepalive]\r\n\r\n(https://i.stack.imgur.com/0GzKS.png)\r\n\r\nwe deploy in k8s and the grpc port is 50051,what can i do to solve this problem","title":"grpc io exception in k8s prod env","body":"<p>i used grpc in java program and it work very well in the test env.But when we deployed in the production env it sometimes occurs exception with stack trace:</p>\n<pre><code>io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\n        at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:262) ~[grpc-stub-1.34.1.jar!/:1.34.1]\n        at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:243) ~[grpc-stub-1.34.1.jar!/:1.34.1]\n        at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:123) ~[grpc-stub-1.34.1.jar!/:1.34.1]\n        at cn.vpclub.sd.framework.grpc.client.proxy.ManageChannelProxy.invoke(ManageChannelProxy.java:107) ~[vpsd-grpc-1.3.0-cmpm-SNAPSHOT.jar!/:1.3.0-cmpm-SNAPSHOT]\n        at org.springframework.cglib.proxy.Proxy$ProxyImpl$$EnhancerByCGLIB$$83232b9b.orderSyncFromBoss(&lt;generated&gt;) [spring-core-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\n        at cn.vpclub.cmpm.capacity.central.bff.api.ordersync.service.OrderSyncFromBossService.orderSyncFromBoss(OrderSyncFromBossService.java:121) [classes!/:1.0-SNAPSHOT]\n        at cn.vpclub.cmpm.capacity.central.bff.api.ordersync.controller.OrderSyncFromController.orderSync(OrderSyncFromController.java:45) [classes!/:1.0-SNAPSHOT]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) [spring-web-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) [spring-web-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) [spring-webmvc-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) [spring-webmvc-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) [spring-webmvc-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) [spring-webmvc-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) [spring-webmvc-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.15.RELEASE.jar!/:5.2.15.RELEASE]\n[enter image description here](https://i.stack.imgur.com/IAIQX.jpg)\n</code></pre>\n<p>i build the ManagedChannel as this:</p>\n<pre><code>this.channelNetty = NettyChannelBuilder.forAddress(channelProperty.getHost(), channelProperty.getPort())\n                .usePlaintext()\n                .proxyDetector(proxyDetector)\n                .maxInboundMessageSize(channelProperty.getMaxInboundMessageSize())\n                .intercept(new GrpcClientInterceptor())\n                .keepAliveTime(5, TimeUnit.MINUTES)\n                .keepAliveTimeout(channelProperty.getDeadline(), TimeUnit.SECONDS)\n                .build();\n</code></pre>\n<p>and the tcp keepalive is like this[tcp keepalive]</p>\n<p>(<a href=\"https://i.stack.imgur.com/0GzKS.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/0GzKS.png</a>)</p>\n<p>we deploy in k8s and the grpc port is 50051,what can i do to solve this problem</p>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1697033531,"post_id":77273810,"comment_id":136228825,"body_markdown":"`@Component` on an `abstract` class is pointless. Also  why would making it an `@Component` prevent you from creating your own instance, the testing isn&#39;t any different as you would do otherwise. I also find it strange that MapStruct would be able to generate the proper constructor with `default` mode but not in `spring` mode.","body":"<code>@Component</code> on an <code>abstract</code> class is pointless. Also  why would making it an <code>@Component</code> prevent you from creating your own instance, the testing isn&#39;t any different as you would do otherwise. I also find it strange that MapStruct would be able to generate the proper constructor with <code>default</code> mode but not in <code>spring</code> mode."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1697033841,"post_id":77273810,"comment_id":136228895,"body_markdown":"@M.Deinum Mapstruct indeed [doesn&#39;t support](https://stackoverflow.com/questions/66537340/mapstruct-generate-constructor-for-dependency-injection) that. Basically, I need a constructor for the `default` mode and no constructor for the `spring` mode","body":"@M.Deinum Mapstruct indeed <a href=\"https://stackoverflow.com/questions/66537340/mapstruct-generate-constructor-for-dependency-injection\">doesn&#39;t support</a> that. Basically, I need a constructor for the <code>default</code> mode and no constructor for the <code>spring</code> mode"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1697034130,"post_id":77273810,"comment_id":136228974,"body_markdown":"@M.Deinum Mapstruct generates a class that extends my decorator","body":"@M.Deinum Mapstruct generates a class that extends my decorator"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697035265,"post_id":77273810,"comment_id":136229232,"body_markdown":"Just use default mode and write an `@Bean` method to make it a spring component. To make it a spring bean it doesn&#39;t need to be an `@Component` it needs to be available in the context.","body":"Just use default mode and write an <code>@Bean</code> method to make it a spring component. To make it a spring bean it doesn&#39;t need to be an <code>@Component</code> it needs to be available in the context."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697035487,"post_id":77273810,"comment_id":136229273,"body_markdown":"Hmm. I would expect that setting the injection strategy to constructor to fix this. https://mapstruct.org/documentation/stable/reference/html/#injection-strategy. Hmm on hindsight that doesn&#39;t apply to the decorator it appears.","body":"Hmm. I would expect that setting the injection strategy to constructor to fix this. <a href=\"https://mapstruct.org/documentation/stable/reference/html/#injection-strategy\" rel=\"nofollow noreferrer\">mapstruct.org/documentation/stable/reference/html/&hellip;</a>. Hmm on hindsight that doesn&#39;t apply to the decorator it appears."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697035849,"post_id":77273810,"comment_id":136229362,"body_markdown":"Next to the `@Bean` method there is also nothing preventing you from writing that constructor, add a nno-args constructor and annotate the fiedl (as mentioned in the documentation). I would expect that would make it work for both.","body":"Next to the <code>@Bean</code> method there is also nothing preventing you from writing that constructor, add a nno-args constructor and annotate the fiedl (as mentioned in the documentation). I would expect that would make it work for both."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1697037080,"post_id":77273810,"comment_id":136229616,"body_markdown":"@M.Deinum What am I going to create in that `@Bean` method? It&#39;s a generated class","body":"@M.Deinum What am I going to create in that <code>@Bean</code> method? It&#39;s a generated class"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697037523,"post_id":77273810,"comment_id":136229722,"body_markdown":"The generated class is still accessible. But as stated before nothing is preventing you from adding multiple constructors, hence I would go with that. Or instead of a decorator add pre/post mapping methods.","body":"The generated class is still accessible. But as stated before nothing is preventing you from adding multiple constructors, hence I would go with that. Or instead of a decorator add pre/post mapping methods."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1697041333,"post_id":77273810,"comment_id":136230427,"body_markdown":"@M.Deinum do you mean this: `@Component\n@NoArgsConstructor\npublic abstract class CardMapperDecorator implements CardMapper {\n    @Autowired\n    private CardMapper delegate;\n\n    public CardMapperDecorator(CardMapper delegate) {\n        this.delegate = delegate;\n    }\n`? I&#39;m not sure it works","body":"@M.Deinum do you mean this: <code>@Component @NoArgsConstructor public abstract class CardMapperDecorator implements CardMapper {     @Autowired     private CardMapper delegate;      public CardMapperDecorator(CardMapper delegate) {         this.delegate = delegate;     } </code>? I&#39;m not sure it works"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1697049481,"post_id":77273810,"comment_id":136231886,"body_markdown":"@M.Deinum also, what should be inside my `@Mapper` annotation: `default` or `spring` (to satisfy both of my needs)?","body":"@M.Deinum also, what should be inside my <code>@Mapper</code> annotation: <code>default</code> or <code>spring</code> (to satisfy both of my needs)?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697088265,"post_id":77273810,"comment_id":136235807,"body_markdown":"I don&#39;t get both of your needs, why would you need multiple mechanisms in your application. I don&#39;t see it. The code in comments in unreadable please don&#39;t post additional code/cionfig etc. as comments.","body":"I don&#39;t get both of your needs, why would you need multiple mechanisms in your application. I don&#39;t see it. The code in comments in unreadable please don&#39;t post additional code/cionfig etc. as comments."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1697090686,"post_id":77273810,"comment_id":136236102,"body_markdown":"@M.Deinum it&#39;s because the mapper is injected as a bean elsewhere. However, in order to test it as a unit (without Spring), my mapper decorator has to have a constructor with a parameter and the default component model (it seems)","body":"@M.Deinum it&#39;s because the mapper is injected as a bean elsewhere. However, in order to test it as a unit (without Spring), my mapper decorator has to have a constructor with a parameter and the default component model (it seems)"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697090820,"post_id":77273810,"comment_id":136236123,"body_markdown":"Again no it doesn&#39;t. Use make it spring and add the constructor as I stated already. There is nothing preventing you from adding additional constructors. You are overthinking all of this.","body":"Again no it doesn&#39;t. Use make it spring and add the constructor as I stated already. There is nothing preventing you from adding additional constructors. You are overthinking all of this."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1697091762,"post_id":77273810,"comment_id":136236266,"body_markdown":"@M.Deinum once I change `default` to `spring`, my unit test fails due to an NPE (the delegate is not initialized) so I do need that","body":"@M.Deinum once I change <code>default</code> to <code>spring</code>, my unit test fails due to an NPE (the delegate is not initialized) so I do need that"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697093842,"post_id":77273810,"comment_id":136236586,"body_markdown":"I yield. Apparently I cannot explain it to you in an understandable way so I&#39;ll take my loss.","body":"I yield. Apparently I cannot explain it to you in an understandable way so I&#39;ll take my loss."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1697094893,"post_id":77273810,"comment_id":136236774,"body_markdown":"@M.Deinum just show the code, and no explanation will be necessary","body":"@M.Deinum just show the code, and no explanation will be necessary"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697112360,"creation_date":1697033108,"question_id":77273810,"body_markdown":"If I want to test my decorated mapper as a unit, I need this setup:\r\n```java\r\n@Mapper(componentModel = &quot;default&quot;)\r\n@DecoratedWith(CardMapperDecorator.class)\r\npublic interface CardMapper {\r\n```\r\n```java\r\npublic abstract class CardMapperDecorator implements CardMapper {\r\n\r\n    private CardMapper delegate;\r\n\r\n    public CardMapperDecorator(CardMapper delegate) {\r\n        this.delegate = delegate;\r\n    }\r\n```\r\nIf I want my decorated mapper to be a `@Component`, I need this setup (since Mapstruct can&#39;t generate a constructor with a `super` call in it in the implementation class)\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\n@DecoratedWith(CardMapperDecorator.class)\r\npublic interface CardMapper {\r\n```\r\n```java\r\n@Component\r\npublic abstract class CardMapperDecorator implements CardMapper {\r\n\r\n    private CardMapper delegate;\r\n\r\n    @Autowired // I can also autowire the field directly\r\n    public void setDelegate(CardMapper delegate) {\r\n        this.delegate = delegate;\r\n    }\r\n```\r\nI want both to test the mapper as a unit (and avoid bootstrapping the context) *and* make it a `@Component` (it is being injected elsewhere)\r\n\r\nCan I do it?\r\n\r\n**UPD:** *M. Deinum* suggested adding an extra constructor. If this is what was meant:\r\n```java\r\n@Component\r\n@NoArgsConstructor\r\npublic abstract class CardMapperDecorator implements CardMapper {\r\n    @Autowired\r\n    private CardMapper delegate; // for Spring injection\r\n\r\n    public CardMapperDecorator(CardMapper delegate) { // for default injection\r\n        this.delegate = delegate;\r\n    }\r\n// decorator logic\r\n```\r\n```java\r\n@Mapper(componentModel = &quot;default&quot;) // this is absolutely necessary for my unit tests to pass\r\n@DecoratedWith(CardMapperDecorator.class)\r\npublic interface CardMapper {\r\n\r\n// mapping methods\r\n```\r\nunfortunately, it still doesn&#39;t work. From SonarQube:\r\n```\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;by.afinny.credit.mapper.CardMapper&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations:\r\n```","title":"Can my decorated mapper be a @Component and be tested as a unit as well?","body":"<p>If I want to test my decorated mapper as a unit, I need this setup:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;default&quot;)\n@DecoratedWith(CardMapperDecorator.class)\npublic interface CardMapper {\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class CardMapperDecorator implements CardMapper {\n\n    private CardMapper delegate;\n\n    public CardMapperDecorator(CardMapper delegate) {\n        this.delegate = delegate;\n    }\n</code></pre>\n<p>If I want my decorated mapper to be a <code>@Component</code>, I need this setup (since Mapstruct can't generate a constructor with a <code>super</code> call in it in the implementation class)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\n@DecoratedWith(CardMapperDecorator.class)\npublic interface CardMapper {\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic abstract class CardMapperDecorator implements CardMapper {\n\n    private CardMapper delegate;\n\n    @Autowired // I can also autowire the field directly\n    public void setDelegate(CardMapper delegate) {\n        this.delegate = delegate;\n    }\n</code></pre>\n<p>I want both to test the mapper as a unit (and avoid bootstrapping the context) <em>and</em> make it a <code>@Component</code> (it is being injected elsewhere)</p>\n<p>Can I do it?</p>\n<p><strong>UPD:</strong> <em>M. Deinum</em> suggested adding an extra constructor. If this is what was meant:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@NoArgsConstructor\npublic abstract class CardMapperDecorator implements CardMapper {\n    @Autowired\n    private CardMapper delegate; // for Spring injection\n\n    public CardMapperDecorator(CardMapper delegate) { // for default injection\n        this.delegate = delegate;\n    }\n// decorator logic\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;default&quot;) // this is absolutely necessary for my unit tests to pass\n@DecoratedWith(CardMapperDecorator.class)\npublic interface CardMapper {\n\n// mapping methods\n</code></pre>\n<p>unfortunately, it still doesn't work. From SonarQube:</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'by.afinny.credit.mapper.CardMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations:\n</code></pre>\n"},{"tags":["java","ewsjavaapi"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1556269455,"post_id":55863921,"comment_id":98388600,"body_markdown":"By the way, you are using terrible date-date classes that were supplanted years ago by the modern *java.time* classes. And you are ignoring crucial issue of time zone.","body":"By the way, you are using terrible date-date classes that were supplanted years ago by the modern <i>java.time</i> classes. And you are ignoring crucial issue of time zone."}],"answers":[{"tags":[],"owner":{"account_id":15394690,"reputation":23,"user_id":11106220,"display_name":"Eris Suryaputra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556270620,"creation_date":1556270620,"answer_id":55864536,"question_id":55863921,"body_markdown":"Turn out Java 11 doesn&#39;t include jaxws-api.jar anymore and I have to download the jar on https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api/2.2.1 then import it to my project.","title":"ews-java-api create new appointment","body":"<p>Turn out Java 11 doesn't include jaxws-api.jar anymore and I have to download the jar on <a href=\"https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api/2.2.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api/2.2.1</a> then import it to my project.</p>\n"},{"tags":[],"owner":{"account_id":18438790,"reputation":16,"user_id":13431942,"display_name":"ananeto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1588152942,"creation_date":1588152942,"answer_id":61498668,"question_id":55863921,"body_markdown":"Eris Suryaputra, why are you using such out-of-date stuff?\r\n\r\nPlus, for you and anyone using EWS, please beware that by Oct. 13, 2020, Microsoft expects that all administrators with third-party tools that rely on Exchange Web Services for Office 365 integration will have switched to Microsoft Graph. On that same date, support for Basic Authentication in EWS will fully stop as you can see at &lt;https://www.codementor.io/@anananet/using-java-to-integrate-with-microsoft-exchange-server-15h1qq0lzg&gt;. ","title":"ews-java-api create new appointment","body":"<p>Eris Suryaputra, why are you using such out-of-date stuff?</p>\n\n<p>Plus, for you and anyone using EWS, please beware that by Oct. 13, 2020, Microsoft expects that all administrators with third-party tools that rely on Exchange Web Services for Office 365 integration will have switched to Microsoft Graph. On that same date, support for Basic Authentication in EWS will fully stop as you can see at <a href=\"https://www.codementor.io/@anananet/using-java-to-integrate-with-microsoft-exchange-server-15h1qq0lzg\" rel=\"nofollow noreferrer\">https://www.codementor.io/@anananet/using-java-to-integrate-with-microsoft-exchange-server-15h1qq0lzg</a>. </p>\n"}],"owner":{"account_id":15394690,"reputation":23,"user_id":11106220,"display_name":"Eris Suryaputra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61498668,"answer_count":2,"score":0,"last_activity_date":1697112227,"creation_date":1556268262,"question_id":55863921,"body_markdown":"I want to create a simple java program that creates a new appointment for my outlook calendar, but I don&#39;t know what went wrong.\r\n\r\nI also tried to send a simple email but it gives the same error.\r\n\r\nsource code: https://github.com/OfficeDev/ews-java-api/wiki/Getting-Started-Guide\r\n\r\n    public class test {\r\n        static class RedirectionUrlCallback implements IAutodiscoverRedirectionUrl {\r\n            public boolean autodiscoverRedirectionUrlValidationCallback(\r\n                    String redirectionUrl) {\r\n                return redirectionUrl.toLowerCase().startsWith(&quot;https://&quot;);\r\n            }\r\n        }\r\n        public static void main(String[] args){\r\n            try {\r\n                ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2);\r\n                ExchangeCredentials credentials = new WebCredentials(&quot;email@bc.ac.id&quot;, &quot;password&quot;);\r\n                service.setCredentials(credentials);\r\n                service.autodiscoverUrl(&quot;email@bc.ac.id&quot;, new RedirectionUrlCallback());\r\n                Appointment appointment = new Appointment(service);\r\n                appointment.setSubject(&quot;Appointment for JAVA XML TEST&quot;);\r\n                appointment.setBody(MessageBody.getMessageBodyFromText(&quot;Test Body Msg in JAVA&quot;));\r\n                SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n                Date startDate = formatter.parse(&quot;2019-04-16 12:00:00&quot;);\r\n                Date endDate = formatter.parse(&quot;2019-04-16 13:00:00&quot;);\r\n                appointment.setStart(startDate);//new Date(2010-1900,5-1,20,20,00));\r\n                appointment.setEnd(endDate); //new Date(2010-1900,5-1,20,21,00));\r\n                appointment.save();\r\n            }\r\n            catch (Exception e){\r\n                System.out.println(e);\r\n            }\r\n        }\r\n    }\r\nError code:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/ws/http/HTTPException\r\n    \tat microsoft.exchange.webservices.data.core.ExchangeService.internalCreateItems(ExchangeService.java:593)\r\n    \tat microsoft.exchange.webservices.data.core.ExchangeService.createItem(ExchangeService.java:657)\r\n    \tat microsoft.exchange.webservices.data.core.service.item.Item.internalCreate(Item.java:245)\r\n    \tat microsoft.exchange.webservices.data.core.service.item.Item.save(Item.java:386)\r\n    \tat test.main(test.java:33)\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.ws.http.HTTPException\r\n       at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n       at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n       at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n       ... 5 more","title":"ews-java-api create new appointment","body":"<p>I want to create a simple java program that creates a new appointment for my outlook calendar, but I don't know what went wrong.</p>\n\n<p>I also tried to send a simple email but it gives the same error.</p>\n\n<p>source code: <a href=\"https://github.com/OfficeDev/ews-java-api/wiki/Getting-Started-Guide\" rel=\"nofollow noreferrer\">https://github.com/OfficeDev/ews-java-api/wiki/Getting-Started-Guide</a></p>\n\n<pre><code>public class test {\n    static class RedirectionUrlCallback implements IAutodiscoverRedirectionUrl {\n        public boolean autodiscoverRedirectionUrlValidationCallback(\n                String redirectionUrl) {\n            return redirectionUrl.toLowerCase().startsWith(\"https://\");\n        }\n    }\n    public static void main(String[] args){\n        try {\n            ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2);\n            ExchangeCredentials credentials = new WebCredentials(\"email@bc.ac.id\", \"password\");\n            service.setCredentials(credentials);\n            service.autodiscoverUrl(\"email@bc.ac.id\", new RedirectionUrlCallback());\n            Appointment appointment = new Appointment(service);\n            appointment.setSubject(\"Appointment for JAVA XML TEST\");\n            appointment.setBody(MessageBody.getMessageBodyFromText(\"Test Body Msg in JAVA\"));\n            SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n            Date startDate = formatter.parse(\"2019-04-16 12:00:00\");\n            Date endDate = formatter.parse(\"2019-04-16 13:00:00\");\n            appointment.setStart(startDate);//new Date(2010-1900,5-1,20,20,00));\n            appointment.setEnd(endDate); //new Date(2010-1900,5-1,20,21,00));\n            appointment.save();\n        }\n        catch (Exception e){\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n\n<p>Error code:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: javax/xml/ws/http/HTTPException\n    at microsoft.exchange.webservices.data.core.ExchangeService.internalCreateItems(ExchangeService.java:593)\n    at microsoft.exchange.webservices.data.core.ExchangeService.createItem(ExchangeService.java:657)\n    at microsoft.exchange.webservices.data.core.service.item.Item.internalCreate(Item.java:245)\n    at microsoft.exchange.webservices.data.core.service.item.Item.save(Item.java:386)\n    at test.main(test.java:33)\nCaused by: java.lang.ClassNotFoundException: javax.xml.ws.http.HTTPException\n   at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n   at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n   at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n   ... 5 more\n</code></pre>\n"},{"tags":["java","inputstream","outputstream"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1482499685,"post_id":41302330,"comment_id":69807066,"body_markdown":"An InputStream gives you bytes.  If you know your encoding you can use a Reader to get characters.  You can then look at each character as it passes by and replace as needed.","body":"An InputStream gives you bytes.  If you know your encoding you can use a Reader to get characters.  You can then look at each character as it passes by and replace as needed."},{"owner":{"account_id":925759,"reputation":3519,"user_id":956575,"accept_rate":63,"display_name":"Wild Goat"},"score":0,"creation_date":1482499768,"post_id":41302330,"comment_id":69807107,"body_markdown":"Yes. Thank you. I was thinking if there are any already pre build solution available?","body":"Yes. Thank you. I was thinking if there are any already pre build solution available?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1482509266,"post_id":41302330,"comment_id":69811532,"body_markdown":"Maybe. What have you searched for so far?","body":"Maybe. What have you searched for so far?"}],"answers":[{"tags":[],"owner":{"account_id":260424,"reputation":23080,"user_id":543969,"accept_rate":86,"display_name":"CodeMonkey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1482512861,"creation_date":1482500693,"answer_id":41302586,"question_id":41302330,"body_markdown":"To copy data from an input stream to an output stream you write data while you&#39;re reading it either a byte (or character) or a line at a time.\r\n\r\nHere is an example that reads in a file converting all &#39;x&#39; characters to &#39;y&#39;.\r\n\r\n    BufferedInputStream in = new BufferedInputStream(new FileInputStream(&quot;input.dat&quot;));\r\n    BufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(&quot;output.dat&quot;));\r\n    int ch;\r\n    while((ch = in.read()) != -1) {\r\n            if (ch == &#39;x&#39;) ch = &#39;y&#39;;\r\n            out.write(ch);\r\n    }\r\n    out.close();\r\n    in.close();\r\n\r\nOr if can use a Reader and process a line at a time then can use this aproach:\r\n\r\n    BufferedReader reader = new BufferedReader(new FileReader(&quot;input.dat&quot;));\r\n    PrintWriter writer = new PrintWriter(\r\n          new BufferedOutputStream(new FileOutputStream(&quot;output.dat&quot;)));\r\n    String str;\r\n    while ((str = reader.readLine()) != null) {\r\n        str = str.replace(&#39;x&#39;, &#39;y&#39;);     // replace character at a time\r\n    \tstr = str.replace(&quot;abc&quot;, &quot;ABC&quot;); // replace string sequence\r\n    \twriter.println(str);\r\n    }\r\n    writer.close();\r\n    reader.close();\r\n\r\n*BufferedInputStream* and *BufferedReader* read ahead and keep 8K of characters in a buffer for performance. Very large files can be processed while only keeping 8K of characters in memory at a time.","title":"Given InputStream replace character and produce OutputStream","body":"<p>To copy data from an input stream to an output stream you write data while you're reading it either a byte (or character) or a line at a time.</p>\n\n<p>Here is an example that reads in a file converting all 'x' characters to 'y'.</p>\n\n<pre><code>BufferedInputStream in = new BufferedInputStream(new FileInputStream(\"input.dat\"));\nBufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(\"output.dat\"));\nint ch;\nwhile((ch = in.read()) != -1) {\n        if (ch == 'x') ch = 'y';\n        out.write(ch);\n}\nout.close();\nin.close();\n</code></pre>\n\n<p>Or if can use a Reader and process a line at a time then can use this aproach:</p>\n\n<pre><code>BufferedReader reader = new BufferedReader(new FileReader(\"input.dat\"));\nPrintWriter writer = new PrintWriter(\n      new BufferedOutputStream(new FileOutputStream(\"output.dat\")));\nString str;\nwhile ((str = reader.readLine()) != null) {\n    str = str.replace('x', 'y');     // replace character at a time\n    str = str.replace(\"abc\", \"ABC\"); // replace string sequence\n    writer.println(str);\n}\nwriter.close();\nreader.close();\n</code></pre>\n\n<p><em>BufferedInputStream</em> and <em>BufferedReader</em> read ahead and keep 8K of characters in a buffer for performance. Very large files can be processed while only keeping 8K of characters in memory at a time.</p>\n"},{"tags":[],"owner":{"account_id":8290831,"reputation":175,"user_id":6232539,"display_name":"Tchopane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697112171,"creation_date":1482500809,"answer_id":41302615,"question_id":41302330,"body_markdown":"```java            \r\nFileWriter writer = new FileWriter(&quot;Report.csv&quot;);\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(YOURSOURCE, Charsets.UTF_8));\r\nString line;\r\nwhile ((line = reader.readLine()) != null) {\r\n\tline.replace(&#39;c1&#39;, &#39;c2&#39;);\r\n    writer.append(line);\r\n    writer.append(&#39;\\n&#39;);\r\n}\r\nwriter.flush();\r\nwriter.close();\r\n```","title":"Given InputStream replace character and produce OutputStream","body":"<pre class=\"lang-java prettyprint-override\"><code>FileWriter writer = new FileWriter(&quot;Report.csv&quot;);\nBufferedReader reader = new BufferedReader(new InputStreamReader(YOURSOURCE, Charsets.UTF_8));\nString line;\nwhile ((line = reader.readLine()) != null) {\n    line.replace('c1', 'c2');\n    writer.append(line);\n    writer.append('\\n');\n}\nwriter.flush();\nwriter.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3205326,"reputation":11,"user_id":2706459,"display_name":"Simon Liang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504514260,"creation_date":1504514260,"answer_id":46033240,"question_id":41302330,"body_markdown":"You can find related answer here: https://stackoverflow.com/questions/7743534/filter-search-and-replace-array-of-bytes-in-an-inputstream\r\n\r\nI took @aioobe&#39;s answer in that thread, and built the replacing input stream module in Java, which you can find it in my GitHub gist: https://gist.github.com/lhr0909/e6ac2d6dd6752871eb57c4b083799947\r\n\r\nPutting the source code here as well:\r\n\r\n    import java.io.FilterInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n    import java.util.Queue;\r\n\r\n    /**\r\n     * Created by simon on 8/29/17.\r\n     */\r\n    public class ReplacingInputStream extends FilterInputStream {\r\n\r\n        private Queue&lt;Integer&gt; inQueue, outQueue;\r\n        private final byte[] search, replacement;\r\n\r\n        public ReplacingInputStream(InputStream in, String search, String replacement) {\r\n            super(in);\r\n\r\n            this.inQueue = new LinkedList&lt;&gt;();\r\n            this.outQueue = new LinkedList&lt;&gt;();\r\n\r\n            this.search = search.getBytes();\r\n            this.replacement = replacement.getBytes();\r\n        }\r\n\r\n        private boolean isMatchFound() {\r\n            Iterator&lt;Integer&gt; iterator = inQueue.iterator();\r\n\r\n            for (byte b : search) {\r\n                if (!iterator.hasNext() || b != iterator.next()) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        private void readAhead() throws IOException {\r\n            // Work up some look-ahead.\r\n            while (inQueue.size() &lt; search.length) {\r\n                int next = super.read();\r\n                inQueue.offer(next);\r\n\r\n                if (next == -1) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int read() throws IOException {\r\n            // Next byte already determined.\r\n\r\n            while (outQueue.isEmpty()) {\r\n                readAhead();\r\n\r\n                if (isMatchFound()) {\r\n                    for (byte a : search) {\r\n                        inQueue.remove();\r\n                    }\r\n\r\n                    for (byte b : replacement) {\r\n                        outQueue.offer((int) b);\r\n                    }\r\n                } else {\r\n                    outQueue.add(inQueue.remove());\r\n                }\r\n            }\r\n\r\n            return outQueue.remove();\r\n        }\r\n\r\n        @Override\r\n        public int read(byte b[]) throws IOException {\r\n            return read(b, 0, b.length);\r\n        }\r\n\r\n        // copied straight from InputStream inplementation, just needed to to use `read()` from this class\r\n        @Override\r\n        public int read(byte b[], int off, int len) throws IOException {\r\n            if (b == null) {\r\n                throw new NullPointerException();\r\n            } else if (off &lt; 0 || len &lt; 0 || len &gt; b.length - off) {\r\n                throw new IndexOutOfBoundsException();\r\n            } else if (len == 0) {\r\n                return 0;\r\n            }\r\n\r\n            int c = read();\r\n            if (c == -1) {\r\n                return -1;\r\n            }\r\n            b[off] = (byte)c;\r\n\r\n            int i = 1;\r\n            try {\r\n                for (; i &lt; len ; i++) {\r\n                    c = read();\r\n                    if (c == -1) {\r\n                        break;\r\n                    }\r\n                    b[off + i] = (byte)c;\r\n                }\r\n            } catch (IOException ee) {\r\n            }\r\n            return i;\r\n        }\r\n    }\r\n","title":"Given InputStream replace character and produce OutputStream","body":"<p>You can find related answer here: <a href=\"https://stackoverflow.com/questions/7743534/filter-search-and-replace-array-of-bytes-in-an-inputstream\">Filter (search and replace) array of bytes in an InputStream</a></p>\n\n<p>I took @aioobe's answer in that thread, and built the replacing input stream module in Java, which you can find it in my GitHub gist: <a href=\"https://gist.github.com/lhr0909/e6ac2d6dd6752871eb57c4b083799947\" rel=\"nofollow noreferrer\">https://gist.github.com/lhr0909/e6ac2d6dd6752871eb57c4b083799947</a></p>\n\n<p>Putting the source code here as well:</p>\n\n<pre><code>import java.io.FilterInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.Queue;\n\n/**\n * Created by simon on 8/29/17.\n */\npublic class ReplacingInputStream extends FilterInputStream {\n\n    private Queue&lt;Integer&gt; inQueue, outQueue;\n    private final byte[] search, replacement;\n\n    public ReplacingInputStream(InputStream in, String search, String replacement) {\n        super(in);\n\n        this.inQueue = new LinkedList&lt;&gt;();\n        this.outQueue = new LinkedList&lt;&gt;();\n\n        this.search = search.getBytes();\n        this.replacement = replacement.getBytes();\n    }\n\n    private boolean isMatchFound() {\n        Iterator&lt;Integer&gt; iterator = inQueue.iterator();\n\n        for (byte b : search) {\n            if (!iterator.hasNext() || b != iterator.next()) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    private void readAhead() throws IOException {\n        // Work up some look-ahead.\n        while (inQueue.size() &lt; search.length) {\n            int next = super.read();\n            inQueue.offer(next);\n\n            if (next == -1) {\n                break;\n            }\n        }\n    }\n\n    @Override\n    public int read() throws IOException {\n        // Next byte already determined.\n\n        while (outQueue.isEmpty()) {\n            readAhead();\n\n            if (isMatchFound()) {\n                for (byte a : search) {\n                    inQueue.remove();\n                }\n\n                for (byte b : replacement) {\n                    outQueue.offer((int) b);\n                }\n            } else {\n                outQueue.add(inQueue.remove());\n            }\n        }\n\n        return outQueue.remove();\n    }\n\n    @Override\n    public int read(byte b[]) throws IOException {\n        return read(b, 0, b.length);\n    }\n\n    // copied straight from InputStream inplementation, just needed to to use `read()` from this class\n    @Override\n    public int read(byte b[], int off, int len) throws IOException {\n        if (b == null) {\n            throw new NullPointerException();\n        } else if (off &lt; 0 || len &lt; 0 || len &gt; b.length - off) {\n            throw new IndexOutOfBoundsException();\n        } else if (len == 0) {\n            return 0;\n        }\n\n        int c = read();\n        if (c == -1) {\n            return -1;\n        }\n        b[off] = (byte)c;\n\n        int i = 1;\n        try {\n            for (; i &lt; len ; i++) {\n                c = read();\n                if (c == -1) {\n                    break;\n                }\n                b[off + i] = (byte)c;\n            }\n        } catch (IOException ee) {\n        }\n        return i;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":925759,"reputation":3519,"user_id":956575,"accept_rate":63,"display_name":"Wild Goat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15190,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1697112171,"creation_date":1482499534,"question_id":41302330,"body_markdown":"I have a lot of massive files I need convert to CSV by replacing certain characters. \r\n\r\nI am looking for reliable approach given InputStream return OutputStream and replace all characters `c1` to `c2`.  \r\n\r\nTrick here is to read and write in parallel, I can&#39;t fit whole file in memory. \r\n\r\nDo I need to run it in separate thread if I want read and write at the same time? \r\n\r\n\r\nThanks a lot for your advices. ","title":"Given InputStream replace character and produce OutputStream","body":"<p>I have a lot of massive files I need convert to CSV by replacing certain characters. </p>\n\n<p>I am looking for reliable approach given InputStream return OutputStream and replace all characters <code>c1</code> to <code>c2</code>.  </p>\n\n<p>Trick here is to read and write in parallel, I can't fit whole file in memory. </p>\n\n<p>Do I need to run it in separate thread if I want read and write at the same time? </p>\n\n<p>Thanks a lot for your advices. </p>\n"},{"tags":["java","android","itext"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1697104597,"post_id":77279134,"comment_id":136238771,"body_markdown":"Which app is displaying your pdf file? And how was this app started?","body":"Which app is displaying your pdf file? And how was this app started?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1697104733,"post_id":77279134,"comment_id":136238797,"body_markdown":"`new FileOutputStream(new File(&quot;pdf/TestLink.pdf&quot;))` Sorry, but i cannot believe that such a relative path could work. Please tell full path of where this file is created.","body":"<code>new FileOutputStream(new File(&quot;pdf&#47;TestLink.pdf&quot;))</code> Sorry, but i cannot believe that such a relative path could work. Please tell full path of where this file is created."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1697105260,"post_id":77279134,"comment_id":136238905,"body_markdown":"Why do you call it a &#39;remote&#39; file? It&#39;s not on the internet we know.","body":"Why do you call it a &#39;remote&#39; file? It&#39;s not on the internet we know."},{"owner":{"account_id":29654625,"reputation":1,"user_id":22727648,"display_name":"Wolfgang Stolzenburg"},"score":0,"creation_date":1697106928,"post_id":77279134,"comment_id":136239191,"body_markdown":"I used Acrobat reader to read the PDF on both, Android and Linux desktop, see my edited question. The relative path works fine on Linux desktop. remote file in the sense of a non internal link","body":"I used Acrobat reader to read the PDF on both, Android and Linux desktop, see my edited question. The relative path works fine on Linux desktop. remote file in the sense of a non internal link"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1697110983,"post_id":77279134,"comment_id":136239988,"body_markdown":"How does Acrobat reader know about your file? Tell scenario. How was it started with your file?","body":"How does Acrobat reader know about your file? Tell scenario. How was it started with your file?"}],"answers":[{"tags":[],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697102562,"creation_date":1697102562,"answer_id":77279320,"question_id":77279134,"body_markdown":"If you want to show PDF Files, you can use the structure below.\r\n\r\n    File file = new File(&quot;path-to-pdf-file&quot;);\r\n    Uri uri = Uri.fromFile(file);\r\n    Intent intent = new Intent(Intent.ACTION_VIEW);\r\n    intent.setDataAndType(uri, &quot;application/pdf&quot;);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\r\n    startActivity(intent);\r\n\r\nAlternatively, you can use [AndroidPdfViewer][1]\r\n\r\n\r\n  [1]: https://github.com/barteksc/AndroidPdfViewer","title":"Link to remote PDF file fails under Android","body":"<p>If you want to show PDF Files, you can use the structure below.</p>\n<pre><code>File file = new File(&quot;path-to-pdf-file&quot;);\nUri uri = Uri.fromFile(file);\nIntent intent = new Intent(Intent.ACTION_VIEW);\nintent.setDataAndType(uri, &quot;application/pdf&quot;);\nintent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\nstartActivity(intent);\n</code></pre>\n<p>Alternatively, you can use <a href=\"https://github.com/barteksc/AndroidPdfViewer\" rel=\"nofollow noreferrer\">AndroidPdfViewer</a></p>\n"},{"tags":[],"owner":{"account_id":9503455,"reputation":36,"user_id":7063755,"display_name":"Alessandro Lacchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697103432,"creation_date":1697103432,"answer_id":77279424,"question_id":77279134,"body_markdown":"I think you have to:\r\n\r\n - Add iText dependency to your app level gradle file, e.g. implementation &#39;com.itextpdf:itextpdf:5.5.13&#39;\r\n - Add READ/WRITE permission to your manifest file for example: `\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;`\r\n - Create a Document instance, e.g. Document document = new Document()\r\n - Get a PdfWriter instance and supply it with the document and the output file path, e.g. PdfWriter.getInstance(document,new FileOutputStream(file))\r\n - Open the document and add content, e.g. document.open(); document.add(new Paragraph(&quot;Hello PDF&quot;))\r\n - Close the document, e.g. document.close() \r\n\r\nI hope this helps you.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Link to remote PDF file fails under Android","body":"<p>I think you have to:</p>\n<ul>\n<li>Add iText dependency to your app level gradle file, e.g. implementation 'com.itextpdf:itextpdf:5.5.13'</li>\n<li>Add READ/WRITE permission to your manifest file for example: <code> &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt; &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;</code></li>\n<li>Create a Document instance, e.g. Document document = new Document()</li>\n<li>Get a PdfWriter instance and supply it with the document and the output file path, e.g. PdfWriter.getInstance(document,new FileOutputStream(file))</li>\n<li>Open the document and add content, e.g. document.open(); document.add(new Paragraph(&quot;Hello PDF&quot;))</li>\n<li>Close the document, e.g. document.close()</li>\n</ul>\n<p>I hope this helps you.</p>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697111638,"creation_date":1697111638,"answer_id":77280340,"question_id":77279134,"body_markdown":"You encounter the same problem as when the user uses the Files app and tries to display an .html file with Chrome or other browser and the html source contains img tags with relative src paths.\r\n\r\nThe browser wil receive a content scheme uri and permission to read the html file.\r\n\r\nTo read the image it would change the content scheme for the last path segment often representing the file name.\r\n\r\nBut for this new uri it has no permission to read the file hence a blank.\r\n\r\nThe same for Acrobat reader. \r\n\r\nEven if it manages to build a nice uri for the other pdf file it has no read permission for it.","title":"Link to remote PDF file fails under Android","body":"<p>You encounter the same problem as when the user uses the Files app and tries to display an .html file with Chrome or other browser and the html source contains img tags with relative src paths.</p>\n<p>The browser wil receive a content scheme uri and permission to read the html file.</p>\n<p>To read the image it would change the content scheme for the last path segment often representing the file name.</p>\n<p>But for this new uri it has no permission to read the file hence a blank.</p>\n<p>The same for Acrobat reader.</p>\n<p>Even if it manages to build a nice uri for the other pdf file it has no read permission for it.</p>\n"}],"owner":{"account_id":29654625,"reputation":1,"user_id":22727648,"display_name":"Wolfgang Stolzenburg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697111638,"creation_date":1697100954,"question_id":77279134,"body_markdown":"I&#39;m using iText 5 to generate a PDF file with a link to a remote file and using the following code:\r\n\r\n```\r\nimport com.itextpdf.text.Chunk;\r\nimport com.itextpdf.text.Document;\r\nimport com.itextpdf.text.pdf.PdfWriter;\r\n\r\nDocument document = new Document();\r\nPdfWriter.getInstance(document, new FileOutputStream(new File(&quot;pdf/TestLink.pdf&quot;)));\r\ndocument.open();\r\ndocument.add(new Chunk(&quot;link&quot;).setAnchor(&quot;Tunesbook.pdf&quot;));\r\ndocument.close();\r\n```\r\nThe resulting PDF works fine on my Linux desktop, click on &quot;link&quot; opens the file &quot;Tunesbook.pdf&quot;, but when I use it on Android nothing happens. How can I make it work on Android?\r\n\r\nI also tried versions using `chunk.setRemoteGoto` or `PdfAction.gotoRemotePage` which all worked on my desktop but failed on Android.\r\n\r\nI used Acrobat reader to read the PDF on both, Android and Linux desktop.","title":"Link to remote PDF file fails under Android","body":"<p>I'm using iText 5 to generate a PDF file with a link to a remote file and using the following code:</p>\n<pre><code>import com.itextpdf.text.Chunk;\nimport com.itextpdf.text.Document;\nimport com.itextpdf.text.pdf.PdfWriter;\n\nDocument document = new Document();\nPdfWriter.getInstance(document, new FileOutputStream(new File(&quot;pdf/TestLink.pdf&quot;)));\ndocument.open();\ndocument.add(new Chunk(&quot;link&quot;).setAnchor(&quot;Tunesbook.pdf&quot;));\ndocument.close();\n</code></pre>\n<p>The resulting PDF works fine on my Linux desktop, click on &quot;link&quot; opens the file &quot;Tunesbook.pdf&quot;, but when I use it on Android nothing happens. How can I make it work on Android?</p>\n<p>I also tried versions using <code>chunk.setRemoteGoto</code> or <code>PdfAction.gotoRemotePage</code> which all worked on my desktop but failed on Android.</p>\n<p>I used Acrobat reader to read the PDF on both, Android and Linux desktop.</p>\n"},{"tags":["java","spring","tomcat","jakarta-ee"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1650189340,"post_id":71900791,"comment_id":127054145,"body_markdown":"Spring MVC requires a J2EE container to run (not necessarily Tomcat).","body":"Spring MVC requires a J2EE container to run (not necessarily Tomcat)."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1650197884,"post_id":71900791,"comment_id":127055686,"body_markdown":"@Olivier Spring only requires a Servlet container to run, not a full Jakarta EE container (J2EE is already two names ago for the specification).","body":"@Olivier Spring only requires a Servlet container to run, not a full Jakarta EE container (J2EE is already two names ago for the specification)."},{"owner":{"account_id":184688,"reputation":8088,"user_id":420892,"accept_rate":56,"display_name":"Cedric H."},"score":0,"creation_date":1650197943,"post_id":71900791,"comment_id":127055696,"body_markdown":"@Olivier OK thanks, that&#39;s what I realized. &quot;Needing a J2EE container&quot;, so it does mean that Spring uses (part of) the J2EE API?","body":"@Olivier OK thanks, that&#39;s what I realized. &quot;Needing a J2EE container&quot;, so it does mean that Spring uses (part of) the J2EE API?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1650198039,"post_id":71900791,"comment_id":127055728,"body_markdown":"Yes, Spring uses the Servlet API, which is part of Java EE.","body":"Yes, Spring uses the Servlet API, which is part of Java EE."},{"owner":{"account_id":184688,"reputation":8088,"user_id":420892,"accept_rate":56,"display_name":"Cedric H."},"score":0,"creation_date":1650198047,"post_id":71900791,"comment_id":127055730,"body_markdown":"@MarkRotteveel Could you elaborate a bit? As I understand Servlets are part of the J EE API","body":"@MarkRotteveel Could you elaborate a bit? As I understand Servlets are part of the J EE API"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1650198532,"post_id":71900791,"comment_id":127055815,"body_markdown":"Yes, the servlet specification is **part** of Jakarta EE, but Tomcat isn&#39;t a full implementation of Jakarta EE. It is (only) a servlet container, but not a full Jakarta EE application server.","body":"Yes, the servlet specification is <b>part</b> of Jakarta EE, but Tomcat isn&#39;t a full implementation of Jakarta EE. It is (only) a servlet container, but not a full Jakarta EE application server."}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650190044,"creation_date":1650190044,"answer_id":71900977,"question_id":71900791,"body_markdown":"Tomcat 10 offers JakartaEE, but no JEE.\r\nVersions lower than 10 implement JEE but no JakartaEE.  [Here&#39;s the overview][1]\r\n\r\nTo my knowledge, spring works on JEE, but not JakartaEE (at the time of writing this answer). So if you want to use *tomcat* with spring,  pick version 9 (as of today), or another JEE container. \r\n\r\n\r\n  [1]: https://tomcat.apache.org/whichversion.html","title":"Java Spring requires some EE features in Tomcat. Is Spring a Jakarta EE framework?","body":"<p>Tomcat 10 offers JakartaEE, but no JEE.\nVersions lower than 10 implement JEE but no JakartaEE.  <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">Here's the overview</a></p>\n<p>To my knowledge, spring works on JEE, but not JakartaEE (at the time of writing this answer). So if you want to use <em>tomcat</em> with spring,  pick version 9 (as of today), or another JEE container.</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650192639,"creation_date":1650192639,"answer_id":71901249,"question_id":71900791,"body_markdown":"Spring does not implement most of the JakartaEE/JavaEE specification. One of the Spring project that implements a JSR defined in JavaEE that I can think of is spring-batch (see [this][1]).\r\n\r\nInstead, Spring mainly provides support to integrate with a carefully selected individual specifications from JavaEE to allow developers to work with the implementation of these specifications using the Spring programming model (See [this][2] for more detail.)\r\n\r\nTomcat is the implementation of the Servlet API which is one of the specification that is included in JakartaEE/JavaEE. To me , the most useful and modern support provided by Spring for it is spring-boot allows to package the application using an embeddable Tomcat such that we can simply deploy and run the application as a JAR without install a Tomcat server separately and deploy the WAR to it. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/current/reference/html/jsr-352.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/overview.html#overview-history","title":"Java Spring requires some EE features in Tomcat. Is Spring a Jakarta EE framework?","body":"<p>Spring does not implement most of the JakartaEE/JavaEE specification. One of the Spring project that implements a JSR defined in JavaEE that I can think of is spring-batch (see <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/jsr-352.html\" rel=\"nofollow noreferrer\">this</a>).</p>\n<p>Instead, Spring mainly provides support to integrate with a carefully selected individual specifications from JavaEE to allow developers to work with the implementation of these specifications using the Spring programming model (See <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/overview.html#overview-history\" rel=\"nofollow noreferrer\">this</a> for more detail.)</p>\n<p>Tomcat is the implementation of the Servlet API which is one of the specification that is included in JakartaEE/JavaEE. To me , the most useful and modern support provided by Spring for it is spring-boot allows to package the application using an embeddable Tomcat such that we can simply deploy and run the application as a JAR without install a Tomcat server separately and deploy the WAR to it.</p>\n"},{"tags":[],"owner":{"account_id":5031827,"reputation":420,"user_id":5599966,"accept_rate":71,"display_name":"Mor Blau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697111577,"creation_date":1697111577,"answer_id":77280333,"question_id":71900791,"body_markdown":"Spring does not necessarily require tomcat. It depends on your use-case, and in fact, Spring Boot uses Netty out of the box, but allows for the use of Tomcat as well.\r\n\r\nSpring is a DI framework which allows for extensibility through its many optional libraries. Its main goal is to allow you to program in a more modular way using the DI paradigm, improving upon OOP and mitigating some of its disadvantages, mainly allowing for separation of concerns.\r\n\r\nDepending on your use-case, you may not use Jakarta libraries at all.\r\n\r\nTo read more about SOLID principles:\r\nhttps://www.baeldung.com/solid-principles","title":"Java Spring requires some EE features in Tomcat. Is Spring a Jakarta EE framework?","body":"<p>Spring does not necessarily require tomcat. It depends on your use-case, and in fact, Spring Boot uses Netty out of the box, but allows for the use of Tomcat as well.</p>\n<p>Spring is a DI framework which allows for extensibility through its many optional libraries. Its main goal is to allow you to program in a more modular way using the DI paradigm, improving upon OOP and mitigating some of its disadvantages, mainly allowing for separation of concerns.</p>\n<p>Depending on your use-case, you may not use Jakarta libraries at all.</p>\n<p>To read more about SOLID principles:\n<a href=\"https://www.baeldung.com/solid-principles\" rel=\"nofollow noreferrer\">https://www.baeldung.com/solid-principles</a></p>\n"}],"owner":{"account_id":184688,"reputation":8088,"user_id":420892,"accept_rate":56,"display_name":"Cedric H."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1375,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1697111577,"creation_date":1650188128,"question_id":71900791,"body_markdown":"I spent the last few days trying to wrap my head around the Java ecosystem, looking at the components (JVM, JRE, JDK, SE, EE, etc.), licensing and others.\r\n\r\nAs far as I understand, Jakarta EE (formerly Java EE, J2EE) is an API on top of Java SE with lots of enterprise-grade features and lots of (mostly deprecated) web technologies. Spring has similar goals but a different approach and runs on &quot;standard&quot; Java SE.\r\n\r\nBut then what about Tomcat? Tomcat is defined as an implementation of Jakarta EE features. I understand that TomEE is a &quot;superset&quot; of Tomcat with more Jakarta EE features.\r\n\r\nNevertheless, Spring (needs / requires) Tomcat as a runtime. Does that mean that Spring uses Jakarta EE features? Could you please clarify these differences?","title":"Java Spring requires some EE features in Tomcat. Is Spring a Jakarta EE framework?","body":"<p>I spent the last few days trying to wrap my head around the Java ecosystem, looking at the components (JVM, JRE, JDK, SE, EE, etc.), licensing and others.</p>\n<p>As far as I understand, Jakarta EE (formerly Java EE, J2EE) is an API on top of Java SE with lots of enterprise-grade features and lots of (mostly deprecated) web technologies. Spring has similar goals but a different approach and runs on &quot;standard&quot; Java SE.</p>\n<p>But then what about Tomcat? Tomcat is defined as an implementation of Jakarta EE features. I understand that TomEE is a &quot;superset&quot; of Tomcat with more Jakarta EE features.</p>\n<p>Nevertheless, Spring (needs / requires) Tomcat as a runtime. Does that mean that Spring uses Jakarta EE features? Could you please clarify these differences?</p>\n"},{"tags":["java","encoding","utf-8"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1397130266,"post_id":22987012,"comment_id":35104229,"body_markdown":"Show us your code. Strings don&#39;t have any encoding. Byte streams contain encoded characters.","body":"Show us your code. Strings don&#39;t have any encoding. Byte streams contain encoded characters."}],"answers":[{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1397131156,"creation_date":1397131156,"answer_id":22987364,"question_id":22987012,"body_markdown":"You can transcode between various encodings using strings as an intermediary:\r\n\r\n    byte[] windows1252 = { (byte) 0xA2 };\r\n    String utf16 = new String(windows1252, Charset.forName(&quot;windows-1252&quot;));\r\n    byte[] utf8 = utf16.getBytes(StandardCharsets.UTF_8);\r\n\r\n`char` data is always UTF-16 in Java.","title":"Java functions to encode Windows-1252 to UTF-8 getting the same symbol","body":"<p>You can transcode between various encodings using strings as an intermediary:</p>\n\n<pre><code>byte[] windows1252 = { (byte) 0xA2 };\nString utf16 = new String(windows1252, Charset.forName(\"windows-1252\"));\nbyte[] utf8 = utf16.getBytes(StandardCharsets.UTF_8);\n</code></pre>\n\n<p><code>char</code> data is always UTF-16 in Java.</p>\n"}],"owner":{"account_id":4300516,"reputation":3,"user_id":3514322,"display_name":"user3514322"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5932,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22987364,"answer_count":1,"score":0,"last_activity_date":1697111550,"creation_date":1397130054,"question_id":22987012,"body_markdown":"I have a problem about the conversion between the encoding Windows-1252 to UTF-8.\r\n\r\nI have a string encoded in Windows-1252 (e.g. the character: &#162;). I would like to obtain the same symbol, but encoded in UTF-8. I mean: the source character and the destination character I would like that appear always the same (&#162;) but with different encoding.\r\n\r\nIs it possible? In addition: is there a Java function which performs this conversion automatically (e.g. by passing the starting encoding and the end encoding)?\r\n","title":"Java functions to encode Windows-1252 to UTF-8 getting the same symbol","body":"<p>I have a problem about the conversion between the encoding Windows-1252 to UTF-8.</p>\n<p>I have a string encoded in Windows-1252 (e.g. the character: ¢). I would like to obtain the same symbol, but encoded in UTF-8. I mean: the source character and the destination character I would like that appear always the same (¢) but with different encoding.</p>\n<p>Is it possible? In addition: is there a Java function which performs this conversion automatically (e.g. by passing the starting encoding and the end encoding)?</p>\n"},{"tags":["c#","java","garbage-collection"],"comments":[{"owner":{"account_id":53985,"reputation":25282,"user_id":161457,"accept_rate":100,"display_name":"TrueWill"},"score":5,"creation_date":1281715746,"post_id":3478530,"comment_id":3630637,"body_markdown":"Your coworker is completely wrong about destructors. Quoting Microsoft&#39;s Framework Design Guidelines: &quot;You really don&#39;t want to write a finalizer if you can help it.&quot;","body":"Your coworker is completely wrong about destructors. Quoting Microsoft&#39;s Framework Design Guidelines: &quot;You really don&#39;t want to write a finalizer if you can help it.&quot;"},{"owner":{"account_id":25920,"reputation":21634,"user_id":67038,"accept_rate":84,"display_name":"JMarsch"},"score":5,"creation_date":1281717062,"post_id":3478530,"comment_id":3630866,"body_markdown":"I&#39;m afraid your coworker is very wrong.  A finalizer isn&#39;t even really a destructor -- it&#39;s not a way to manually deallocate a managed object instance.  In fact, if you have a finalizer, it&#39;s called by the Garbage Collector.  Finalizers exist to let you clean up unmanaged memory -- like if you made a WinAPI call and got a handle back -- the GC can&#39;t collect unmanaged memory like handles, you could use a finalizer for that (although with .Net 2.0 and up, you would probably go with a SafeHandle instead).","body":"I&#39;m afraid your coworker is very wrong.  A finalizer isn&#39;t even really a destructor -- it&#39;s not a way to manually deallocate a managed object instance.  In fact, if you have a finalizer, it&#39;s called by the Garbage Collector.  Finalizers exist to let you clean up unmanaged memory -- like if you made a WinAPI call and got a handle back -- the GC can&#39;t collect unmanaged memory like handles, you could use a finalizer for that (although with .Net 2.0 and up, you would probably go with a SafeHandle instead)."},{"owner":{"account_id":25920,"reputation":21634,"user_id":67038,"accept_rate":84,"display_name":"JMarsch"},"score":2,"creation_date":1281717903,"post_id":3478530,"comment_id":3631007,"body_markdown":"I have to disagree about GC being unreliable.  We&#39;ve been developing with .Net since 2001, including web apps, and some windows services (the windows services can run for months, and typically only restart when a Windows Update requires a reboot).\nthe only &quot;leaks&quot; I have ever seen fall into 2 buckets:  mostly cases where we kept a reference (a bug in our code), and a few cases where our code was calling unmanaged code (old C++ DLL, or Winapi, etc), and there was a leak in the unmanaged code (the GC can&#39;t help you with unmanaged memory)","body":"I have to disagree about GC being unreliable.  We&#39;ve been developing with .Net since 2001, including web apps, and some windows services (the windows services can run for months, and typically only restart when a Windows Update requires a reboot). the only &quot;leaks&quot; I have ever seen fall into 2 buckets:  mostly cases where we kept a reference (a bug in our code), and a few cases where our code was calling unmanaged code (old C++ DLL, or Winapi, etc), and there was a leak in the unmanaged code (the GC can&#39;t help you with unmanaged memory)"},{"owner":{"account_id":14965,"reputation":55597,"user_id":31158,"accept_rate":89,"display_name":"Jord&#227;o"},"score":0,"creation_date":1281717908,"post_id":3478530,"comment_id":3631008,"body_markdown":"An interesting thing to notice is that there&#39;s also a [finalizer](http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Object.html) in Java.","body":"An interesting thing to notice is that there&#39;s also a <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Object.html\" rel=\"nofollow noreferrer\">finalizer</a> in Java."},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":0,"creation_date":1281722882,"post_id":3478530,"comment_id":3631738,"body_markdown":"java has had generational gc for ages.","body":"java has had generational gc for ages."}],"answers":[{"tags":[],"owner":{"account_id":13590,"reputation":115420,"user_id":27423,"accept_rate":89,"display_name":"Daniel Earwicker"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1281715509,"creation_date":1281715509,"answer_id":3478665,"question_id":3478530,"body_markdown":"The advice you&#39;ve been given is, broadly speaking, a load of hooey.\r\n\r\nBoth C# and Java have GCs that attempt to optimise the fast recovery of lots of small objects. They&#39;re designed to solve the same problem, they do it in slightly different ways but as a user the technical differences in your approach to using them is minimal, even non-existent for the majority of users.\r\n\r\n`IDisposable` is nothing to do with the GC as such. It&#39;s a standard way of naming methods that would otherwise be called `close`, `destroy`, `dispose`, etc., and often are called that in Java. There is a proposal for Java 7 to add something very similar to the `using` keyword that would call a similar `close` method.\r\n\r\n&quot;Destructors&quot; in C# refers to finalizers - this was done deliberately to confuse C++ programmers. :) The CLR spec itself calls them finalizers, exactly as the JVM does.\r\n\r\nThere are many ways in which Java and C#/CLR differ (user value types, properties, generics and the whole family of related features known as Linq), but the GC is one area where you can develop a substantial amount of software before you need to worry much about the difference between them.","title":"What are the fundamental differences between garbage collection in C# and Java?","body":"<p>The advice you've been given is, broadly speaking, a load of hooey.</p>\n\n<p>Both C# and Java have GCs that attempt to optimise the fast recovery of lots of small objects. They're designed to solve the same problem, they do it in slightly different ways but as a user the technical differences in your approach to using them is minimal, even non-existent for the majority of users.</p>\n\n<p><code>IDisposable</code> is nothing to do with the GC as such. It's a standard way of naming methods that would otherwise be called <code>close</code>, <code>destroy</code>, <code>dispose</code>, etc., and often are called that in Java. There is a proposal for Java 7 to add something very similar to the <code>using</code> keyword that would call a similar <code>close</code> method.</p>\n\n<p>\"Destructors\" in C# refers to finalizers - this was done deliberately to confuse C++ programmers. :) The CLR spec itself calls them finalizers, exactly as the JVM does.</p>\n\n<p>There are many ways in which Java and C#/CLR differ (user value types, properties, generics and the whole family of related features known as Linq), but the GC is one area where you can develop a substantial amount of software before you need to worry much about the difference between them.</p>\n"},{"tags":[],"owner":{"account_id":172481,"reputation":110932,"user_id":400547,"display_name":"Jon Hanna"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1281715527,"creation_date":1281715527,"answer_id":3478672,"question_id":3478530,"body_markdown":"He&#39;s backwards on destructors. You need to **not** use destructors in C# unless vital. And if you do use them, you should call SuppressFinalize() if you know the object is in a state where the destructor code is no longer needed (most often because the same clean-up happened in a call to IDisposable.Dispose(). If an object has a destructor and SuppressFinalize has not been called, it will live longer (so that it can have that destructor called).\r\n\r\nThe Garbage Collector most certainly can be relied upon. It can&#39;t be relied upon to call a destructor, or to do so within a certain amount of time, but that&#39;s not a matter of it not being reliable, it&#39;s a matter of it being reliable in collecting garbage which is its job!\r\n\r\nI don&#39;t know much about the Java Garbage Collector, and I have no doubt that he&#39;s right in saying they can&#39;t be thought of like each other when you&#39;re getting down to the finer details, though I would hope for the sake of Java coders that it can be thought of like the .NET one most of the time - which is to not think of it at all, generally you don&#39;t have to.","title":"What are the fundamental differences between garbage collection in C# and Java?","body":"<p>He's backwards on destructors. You need to <strong>not</strong> use destructors in C# unless vital. And if you do use them, you should call SuppressFinalize() if you know the object is in a state where the destructor code is no longer needed (most often because the same clean-up happened in a call to IDisposable.Dispose(). If an object has a destructor and SuppressFinalize has not been called, it will live longer (so that it can have that destructor called).</p>\n\n<p>The Garbage Collector most certainly can be relied upon. It can't be relied upon to call a destructor, or to do so within a certain amount of time, but that's not a matter of it not being reliable, it's a matter of it being reliable in collecting garbage which is its job!</p>\n\n<p>I don't know much about the Java Garbage Collector, and I have no doubt that he's right in saying they can't be thought of like each other when you're getting down to the finer details, though I would hope for the sake of Java coders that it can be thought of like the .NET one most of the time - which is to not think of it at all, generally you don't have to.</p>\n"},{"tags":[],"owner":{"account_id":25920,"reputation":21634,"user_id":67038,"accept_rate":84,"display_name":"JMarsch"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1697111549,"creation_date":1281717469,"answer_id":3478935,"question_id":3478530,"body_markdown":"I&#39;m afraid your coworker is incorrect, but don&#39;t take my word for it.  Lets have a link fest!\r\n\r\nHere are some good articles on GC:\r\nhttp://msdn.microsoft.com/en-us/magazine/bb985010.aspx\r\nhttp://msdn.microsoft.com/en-us/magazine/bb985011.aspx\r\n\r\nAlso, Maoni&#39;s WebLog has some great stuff (will bring you up to date as well, since the articles above are quite old):\r\n[Link](https://devblogs.microsoft.com/dotnet/author/maoni/)\r\n\r\nAlso, just this week, Raymond Chen is doing a series on GC:\r\n[Link](https://devblogs.microsoft.com/oldnewthing/20100813-00/?p=13153)\r\n\r\nHere&#39;s a good discussion on using Dispose and Finalization: \r\nhttp://www.bluebytesoftware.com/blog/2005/04/08/DGUpdateDisposeFinalizationAndResourceManagement.aspx","title":"What are the fundamental differences between garbage collection in C# and Java?","body":"<p>I'm afraid your coworker is incorrect, but don't take my word for it.  Lets have a link fest!</p>\n<p>Here are some good articles on GC:\n<a href=\"http://msdn.microsoft.com/en-us/magazine/bb985010.aspx\" rel=\"nofollow noreferrer\">http://msdn.microsoft.com/en-us/magazine/bb985010.aspx</a>\n<a href=\"http://msdn.microsoft.com/en-us/magazine/bb985011.aspx\" rel=\"nofollow noreferrer\">http://msdn.microsoft.com/en-us/magazine/bb985011.aspx</a></p>\n<p>Also, Maoni's WebLog has some great stuff (will bring you up to date as well, since the articles above are quite old):\n<a href=\"https://devblogs.microsoft.com/dotnet/author/maoni/\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Also, just this week, Raymond Chen is doing a series on GC:\n<a href=\"https://devblogs.microsoft.com/oldnewthing/20100813-00/?p=13153\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here's a good discussion on using Dispose and Finalization:\n<a href=\"http://www.bluebytesoftware.com/blog/2005/04/08/DGUpdateDisposeFinalizationAndResourceManagement.aspx\" rel=\"nofollow noreferrer\">http://www.bluebytesoftware.com/blog/2005/04/08/DGUpdateDisposeFinalizationAndResourceManagement.aspx</a></p>\n"}],"owner":{"account_id":34618,"reputation":33031,"user_id":97901,"accept_rate":62,"display_name":"benstpierre"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3966,"favorite_count":0,"down_vote_count":1,"up_vote_count":30,"accepted_answer_id":3478665,"answer_count":3,"score":29,"last_activity_date":1697111549,"creation_date":1281714471,"question_id":3478530,"body_markdown":"I had some very wrong sounding advice recently from a &quot;senior&quot; developer/coworker regarding the C# garbage collector such as...\r\n\r\n - &quot;You need to use destructors\r\n   everywhere in C# because the garbage\r\n   collector cannot be relied upon.&quot;\r\n   \r\n -  &quot;The C# garbage collector cannot be\r\n   thought of like the Java garbage\r\n   collector&quot;.\r\n\r\nThis sounds extremely fishy to me, as far as I know the differences between the C# and Java garbage collectors are as follows...\r\n\r\n - The C# is a Generational garbage\r\n   collector, Java is concurrent mark\r\n   sweep in 1.6 with G1 being the new\r\n   default (generational) garbage\r\n   collector featuring  Java 7 and has\r\n   been optional since ~1.6.21.  As far\r\n   as I know\r\n - C# as a language has the ability to\r\n   manually dispose of objects that\r\n   implement `IDisposable`.  Java must\r\n   always use garbage collection,\r\n   although some frameworks like SWT\r\n   require you manually call methods to\r\n   release memory in the underlying\r\n   native code.\r\n\r\nI realize that Java and C# are just the languages and the garbage collectors are a component of the runtime, however for this case I am specifically speaking about the Sun/Oracle JVM and the Microsoft .NET Runtime.\r\n\r\nDoes anybody have feedback?","title":"What are the fundamental differences between garbage collection in C# and Java?","body":"<p>I had some very wrong sounding advice recently from a \"senior\" developer/coworker regarding the C# garbage collector such as...</p>\n\n<ul>\n<li><p>\"You need to use destructors\neverywhere in C# because the garbage\ncollector cannot be relied upon.\"</p></li>\n<li><p>\"The C# garbage collector cannot be\nthought of like the Java garbage\ncollector\".</p></li>\n</ul>\n\n<p>This sounds extremely fishy to me, as far as I know the differences between the C# and Java garbage collectors are as follows...</p>\n\n<ul>\n<li>The C# is a Generational garbage\ncollector, Java is concurrent mark\nsweep in 1.6 with G1 being the new\ndefault (generational) garbage\ncollector featuring  Java 7 and has\nbeen optional since ~1.6.21.  As far\nas I know</li>\n<li>C# as a language has the ability to\nmanually dispose of objects that\nimplement <code>IDisposable</code>.  Java must\nalways use garbage collection,\nalthough some frameworks like SWT\nrequire you manually call methods to\nrelease memory in the underlying\nnative code.</li>\n</ul>\n\n<p>I realize that Java and C# are just the languages and the garbage collectors are a component of the runtime, however for this case I am specifically speaking about the Sun/Oracle JVM and the Microsoft .NET Runtime.</p>\n\n<p>Does anybody have feedback?</p>\n"},{"tags":["java","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1697131354,"post_id":77280304,"comment_id":136244446,"body_markdown":"This complete [example](https://stackoverflow.com/a/55584636/230513) may be relevant; more [here](https://stackoverflow.com/a/28519356/230513).","body":"This complete <a href=\"https://stackoverflow.com/a/55584636/230513\">example</a> may be relevant; more <a href=\"https://stackoverflow.com/a/28519356/230513\">here</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1697197293,"post_id":77280304,"comment_id":136252855,"body_markdown":"Also consider a custom `DrawingSupplier`, for [example](https://stackoverflow.com/a/40545725/230513).","body":"Also consider a custom <code>DrawingSupplier</code>, for <a href=\"https://stackoverflow.com/a/40545725/230513\">example</a>."}],"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697111322,"creation_date":1697111322,"question_id":77280304,"body_markdown":"I am using JFreeChart to render a candlestick chart with multiple datasets. Specifically I am trying to have a color variation on the smaDataset thats using a XYLineandShapeRenderer. After adding the sma100 and 200 series to the dataset and applying the renderer to it, I get no effect and the lines are both blue no matter what I do.\r\n\r\n     CandlestickRenderer renderer = new CandlestickRenderer();\r\n        renderer.setAutoWidthMethod(CandlestickRenderer.WIDTHMETHOD_SMALLEST);\r\n        DateAxis xAxis = new DateAxis(&quot;Time&quot;);\r\n        XYPlot pricePlot = new XYPlot(ohlcDataset, xAxis, new NumberAxis(&quot;Price&quot;), renderer);\r\n\r\n        //DEBUG\r\n        pricePlot.setDataset(1, createSMADataset(this.series, 100));\r\n        pricePlot.setDataset(2, createSMADataset(this.series, 200));\r\n        pricePlot.mapDatasetToRangeAxis(1, 0);\r\n        pricePlot.mapDatasetToRangeAxis(2, 0);\r\n\r\n        XYLineAndShapeRenderer smaRenderer = new XYLineAndShapeRenderer(true, false);\r\n        smaRenderer.setSeriesPaint(1, Color.BLUE);\r\n        smaRenderer.setSeriesPaint(2, Color.RED);\r\n        pricePlot.setRenderer(1, smaRenderer);\r\n        pricePlot.setRenderer(2, smaRenderer);\r\n\r\n        pricePlot.setRangeGridlinePaint(Color.WHITE);\r\n        pricePlot.setDomainGridlinesVisible(false);\r\n        pricePlot.setRangeGridlinesVisible(false);\r\n\r\n        NumberAxis numberAxis = (NumberAxis) pricePlot.getRangeAxis();\r\n        pricePlot.setDatasetRenderingOrder(DatasetRenderingOrder.FORWARD);\r\n        pricePlot.setRangeAxisLocation(AxisLocation.TOP_OR_RIGHT);\r\n        numberAxis.setAutoRangeIncludesZero(false);\r\n\r\n        // combinedPlot\r\n        CombinedDomainXYPlot combinedPlot = new CombinedDomainXYPlot(xAxis); // DateAxis\r\n        combinedPlot.setGap(10.0);\r\n        combinedPlot.setOrientation(PlotOrientation.VERTICAL);\r\n        //add plots to combined plot\r\n        combinedPlot.add(pricePlot, 80);\r\n        combinedPlot.add(getRSIPlot(), 20);","title":"setSeries paint by index always results in the same color","body":"<p>I am using JFreeChart to render a candlestick chart with multiple datasets. Specifically I am trying to have a color variation on the smaDataset thats using a XYLineandShapeRenderer. After adding the sma100 and 200 series to the dataset and applying the renderer to it, I get no effect and the lines are both blue no matter what I do.</p>\n<pre><code> CandlestickRenderer renderer = new CandlestickRenderer();\n    renderer.setAutoWidthMethod(CandlestickRenderer.WIDTHMETHOD_SMALLEST);\n    DateAxis xAxis = new DateAxis(&quot;Time&quot;);\n    XYPlot pricePlot = new XYPlot(ohlcDataset, xAxis, new NumberAxis(&quot;Price&quot;), renderer);\n\n    //DEBUG\n    pricePlot.setDataset(1, createSMADataset(this.series, 100));\n    pricePlot.setDataset(2, createSMADataset(this.series, 200));\n    pricePlot.mapDatasetToRangeAxis(1, 0);\n    pricePlot.mapDatasetToRangeAxis(2, 0);\n\n    XYLineAndShapeRenderer smaRenderer = new XYLineAndShapeRenderer(true, false);\n    smaRenderer.setSeriesPaint(1, Color.BLUE);\n    smaRenderer.setSeriesPaint(2, Color.RED);\n    pricePlot.setRenderer(1, smaRenderer);\n    pricePlot.setRenderer(2, smaRenderer);\n\n    pricePlot.setRangeGridlinePaint(Color.WHITE);\n    pricePlot.setDomainGridlinesVisible(false);\n    pricePlot.setRangeGridlinesVisible(false);\n\n    NumberAxis numberAxis = (NumberAxis) pricePlot.getRangeAxis();\n    pricePlot.setDatasetRenderingOrder(DatasetRenderingOrder.FORWARD);\n    pricePlot.setRangeAxisLocation(AxisLocation.TOP_OR_RIGHT);\n    numberAxis.setAutoRangeIncludesZero(false);\n\n    // combinedPlot\n    CombinedDomainXYPlot combinedPlot = new CombinedDomainXYPlot(xAxis); // DateAxis\n    combinedPlot.setGap(10.0);\n    combinedPlot.setOrientation(PlotOrientation.VERTICAL);\n    //add plots to combined plot\n    combinedPlot.add(pricePlot, 80);\n    combinedPlot.add(getRSIPlot(), 20);\n</code></pre>\n"},{"tags":["java","string","parsing","odf","odt"],"comments":[{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1351408728,"post_id":13106480,"comment_id":17816523,"body_markdown":"What have you attempted so far (after researching the ODFDOM API)?","body":"What have you attempted so far (after researching the ODFDOM API)?"}],"answers":[{"tags":[],"owner":{"account_id":406375,"reputation":5054,"user_id":775849,"display_name":"Jasonw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1351408902,"creation_date":1351408902,"answer_id":13107088,"question_id":13106480,"body_markdown":"you will need to load the odt document and then get the content root. From there, get the text content which will return you a string. So that should give you an idea on how to search using string? For example:\r\n\r\n    TextDocument document = TextDocument.loadDocument(&quot;test.odt&quot;);\r\n    String texts = document.getContentRoot().getTextContent());","title":"How do you parse the contents of a .odt file into a string in Java?","body":"<p>you will need to load the odt document and then get the content root. From there, get the text content which will return you a string. So that should give you an idea on how to search using string? For example:</p>\n\n<pre><code>TextDocument document = TextDocument.loadDocument(\"test.odt\");\nString texts = document.getContentRoot().getTextContent());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4165632,"reputation":4086,"user_id":3414662,"accept_rate":63,"display_name":"Moussa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697111249,"creation_date":1697111249,"answer_id":77280292,"question_id":13106480,"body_markdown":"The accepted answer give me an empty String. Here is how I managed to get odf file text content\r\n\r\n    import java.io.*;\r\n    import org.odftoolkit.odfdom.doc.OdfDocument;\r\n    import org.odftoolkit.odfdom.incubator.doc.text.OdfEditableTextExtractor;\r\n    \r\n    public static String getOdfDocumentText(File file)\r\n    {\r\n        try (OdfDocument document = OdfDocument.loadDocument(file))\r\n        {\r\n            OdfEditableTextExtractor extractor = OdfEditableTextExtractor.newOdfEditableTextExtractor(document);\r\n            return extractor.getText();\r\n        }\r\n        catch (Exception exception)\r\n        {\r\n            System.err.println(exception.getMessage());\r\n        }\r\n        return &quot;&quot;;\r\n    }","title":"How do you parse the contents of a .odt file into a string in Java?","body":"<p>The accepted answer give me an empty String. Here is how I managed to get odf file text content</p>\n<pre><code>import java.io.*;\nimport org.odftoolkit.odfdom.doc.OdfDocument;\nimport org.odftoolkit.odfdom.incubator.doc.text.OdfEditableTextExtractor;\n\npublic static String getOdfDocumentText(File file)\n{\n    try (OdfDocument document = OdfDocument.loadDocument(file))\n    {\n        OdfEditableTextExtractor extractor = OdfEditableTextExtractor.newOdfEditableTextExtractor(document);\n        return extractor.getText();\n    }\n    catch (Exception exception)\n    {\n        System.err.println(exception.getMessage());\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":1720775,"reputation":115,"user_id":1576720,"accept_rate":29,"display_name":"user1576720"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3264,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13107088,"answer_count":2,"score":2,"last_activity_date":1697111249,"creation_date":1351400261,"question_id":13106480,"body_markdown":"Preferable using the ODFDOM API. I would like to have the entire file&#39;s contents in a string, if possible. If not, how would you search the file for a specific substring?\r\n\r\nThanks in advance.","title":"How do you parse the contents of a .odt file into a string in Java?","body":"<p>Preferable using the ODFDOM API. I would like to have the entire file's contents in a string, if possible. If not, how would you search the file for a specific substring?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438161,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1317151345,"creation_date":1317151345,"answer_id":7574571,"question_id":7574543,"body_markdown":"Instead of just hitting the &quot;Run&quot; icon, select the dropdown box next to it, and choose &quot;Run Configurations&quot;. Find your application (or create a Run Configuration for it) and put the command line arguments in the &quot;Arguments&quot; tab. See the docs for more information. It should look like this:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/gMUEw.png","title":"How to pass console arguments to application in eclipse?","body":"<p>Instead of just hitting the \"Run\" icon, select the dropdown box next to it, and choose \"Run Configurations\". Find your application (or create a Run Configuration for it) and put the command line arguments in the \"Arguments\" tab. See the docs for more information. It should look like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/gMUEw.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"display_name":"user195488"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1317151352,"creation_date":1317151352,"answer_id":7574573,"question_id":7574543,"body_markdown":"1. Right-click on your project.\r\n2. Go to **Debug As &gt; Debug Configurations** or **Run As &gt; Run Configurations**.\r\n3. Click the tab that says **Arguments**.\r\n4. Enter in your **Program Arguments**\r\n5. Click **Apply** or **Debug**\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SFeTt.jpg","title":"How to pass console arguments to application in eclipse?","body":"<ol>\n<li>Right-click on your project.</li>\n<li>Go to <strong>Debug As > Debug Configurations</strong> or <strong>Run As > Run Configurations</strong>.</li>\n<li>Click the tab that says <strong>Arguments</strong>.</li>\n<li>Enter in your <strong>Program Arguments</strong></li>\n<li>Click <strong>Apply</strong> or <strong>Debug</strong></li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/SFeTt.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1317151797,"creation_date":1317151357,"answer_id":7574575,"question_id":7574543,"body_markdown":"See the run configurations. You can specify arguments. You can even prompt the user for arguments, along with defaults:\r\n\r\n    ${string_prompt:host:127.0.0.1} ${string_prompt:port:9876}\r\n\r\nThe first prompt is host, with default value 127.0.0.1 filled in. Second pop-up has the prmpt port, with 9876 filled in","title":"How to pass console arguments to application in eclipse?","body":"<p>See the run configurations. You can specify arguments. You can even prompt the user for arguments, along with defaults:</p>\n\n<pre><code>${string_prompt:host:127.0.0.1} ${string_prompt:port:9876}\n</code></pre>\n\n<p>The first prompt is host, with default value 127.0.0.1 filled in. Second pop-up has the prmpt port, with 9876 filled in</p>\n"},{"tags":[],"owner":{"account_id":390999,"reputation":805,"user_id":751408,"accept_rate":64,"display_name":"I J"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1317151376,"creation_date":1317151376,"answer_id":7574579,"question_id":7574543,"body_markdown":"From &quot;Run&quot; go to debug/run configurations. Click the tab called &quot;Arguments&quot;. You can give the program arguments there.","title":"How to pass console arguments to application in eclipse?","body":"<p>From \"Run\" go to debug/run configurations. Click the tab called \"Arguments\". You can give the program arguments there.</p>\n"},{"tags":[],"owner":{"account_id":456563,"reputation":4395,"user_id":855395,"accept_rate":75,"display_name":"Eran Zimmerman Gonen"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1317151382,"creation_date":1317151382,"answer_id":7574580,"question_id":7574543,"body_markdown":"Run configurations &gt; Arguments tab. Just put `&quot;127.0.0.1&quot; 9876` in the program arguments.","title":"How to pass console arguments to application in eclipse?","body":"<p>Run configurations > Arguments tab. Just put <code>\"127.0.0.1\" 9876</code> in the program arguments.</p>\n"},{"tags":[],"owner":{"account_id":1567871,"reputation":771,"user_id":1456249,"accept_rate":86,"display_name":"Swamy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1390555543,"creation_date":1390555543,"answer_id":21328895,"question_id":7574543,"body_markdown":"Want to add something like, how to add multiple parameters.\r\n\r\n\r\n1. Right-click on your project.\r\n2. Debug &gt; Debug Configurations\r\n3. Go to Arguments tab.\r\n4. Enter in your Program Arguments, each separated by a new line. (e.g 3 arguments in attached image)\r\n5. Click Apply or Debug\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ru5si.jpg\r\n\r\nHope it helps.","title":"How to pass console arguments to application in eclipse?","body":"<p>Want to add something like, how to add multiple parameters.</p>\n\n<ol>\n<li>Right-click on your project.</li>\n<li>Debug > Debug Configurations</li>\n<li>Go to Arguments tab.</li>\n<li>Enter in your Program Arguments, each separated by a new line. (e.g 3 arguments in attached image)</li>\n<li>Click Apply or Debug</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/ru5si.jpg\" alt=\"enter image description here\"></p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":3716814,"reputation":81,"user_id":3092829,"display_name":"Rashmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390607470,"creation_date":1390607470,"answer_id":21344575,"question_id":7574543,"body_markdown":"Run-&gt; Run Configurations-&gt;Arguments-&gt;Enter your arguments separated by space-&gt;Apply-&gt;Run\r\nEnsure that the right project name and it&#39;s main method are selected under &quot;the Main&quot;  tab under run configurations","title":"How to pass console arguments to application in eclipse?","body":"<p>Run-> Run Configurations->Arguments->Enter your arguments separated by space->Apply->Run\nEnsure that the right project name and it's main method are selected under \"the Main\"  tab under run configurations</p>\n"},{"tags":[],"owner":{"account_id":9594707,"reputation":181,"user_id":7124237,"display_name":"perezmirabile"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565990231,"creation_date":1565990231,"answer_id":57531246,"question_id":7574543,"body_markdown":"this work for me, in public static void main method. \r\n\r\n    public static void main(String argv[]) throws Exception {\r\n        int port_com = 2;\r\n        boolean debugMode = true;\r\n        int socket = 6789;\r\n        HasarMain hasarMain = new HasarMain();\r\n        \r\n        // Check if a command line argument exists\r\n        if(argv.length != 3){\r\n            System.out.println(&quot;Missing, Port - socket - debugMode!&quot;);\r\n            System.exit(0);\r\n        }\r\n        \r\n        port_com = Integer.parseInt(argv[0]);\r\n        socket = Integer.parseInt(argv[1]);\r\n        debugMode = Boolean.parseBoolean(argv[2]);\r\n\r\n**Run-&gt; Run Configurations-&gt;Arguments-&gt;Enter your arguments separated by tab-&gt;**\r\n\r\n${string_prompt:argv:&quot;2&quot;\t&quot;6789&quot;\t&quot;true&quot;}\r\n\r\n[![Eclipse][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qxe6o.png","title":"How to pass console arguments to application in eclipse?","body":"<p>this work for me, in public static void main method. </p>\n\n<pre><code>public static void main(String argv[]) throws Exception {\n    int port_com = 2;\n    boolean debugMode = true;\n    int socket = 6789;\n    HasarMain hasarMain = new HasarMain();\n\n    // Check if a command line argument exists\n    if(argv.length != 3){\n        System.out.println(\"Missing, Port - socket - debugMode!\");\n        System.exit(0);\n    }\n\n    port_com = Integer.parseInt(argv[0]);\n    socket = Integer.parseInt(argv[1]);\n    debugMode = Boolean.parseBoolean(argv[2]);\n</code></pre>\n\n<p><strong>Run-> Run Configurations->Arguments->Enter your arguments separated by tab-></strong></p>\n\n<p>${string_prompt:argv:\"2\"    \"6789\"  \"true\"}</p>\n\n<p><a href=\"https://i.stack.imgur.com/Qxe6o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qxe6o.png\" alt=\"Eclipse\"></a></p>\n"}],"owner":{"account_id":894705,"reputation":622,"user_id":932241,"accept_rate":88,"display_name":"ThePetest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94555,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":7574571,"answer_count":8,"score":41,"last_activity_date":1697111157,"creation_date":1317151197,"question_id":7574543,"body_markdown":"I have the following line in a batch file.\r\n\r\n`java Client &quot;127.0.0.1&quot; 9876`\r\n\r\nIt contains the name of my java class and two arguments. My application requires these arguments to run properly.\r\n\r\nIs there any way to pass these arguments when running the application in eclipse? It would make debugging a lot easier. Of course I could resolve the problem by using the values of the arguments in the code but I&#39;m curious.","title":"How to pass console arguments to application in eclipse?","body":"<p>I have the following line in a batch file.</p>\n\n<p><code>java Client \"127.0.0.1\" 9876</code></p>\n\n<p>It contains the name of my java class and two arguments. My application requires these arguments to run properly.</p>\n\n<p>Is there any way to pass these arguments when running the application in eclipse? It would make debugging a lot easier. Of course I could resolve the problem by using the values of the arguments in the code but I'm curious.</p>\n"},{"tags":["java","kubernetes","apache-flink","kubernetes-helm"],"comments":[{"owner":{"account_id":2099100,"reputation":346,"user_id":1867205,"accept_rate":38,"display_name":"Kenank"},"score":0,"creation_date":1697716439,"post_id":77280176,"comment_id":136316338,"body_markdown":"I think your answer is here , but I really like to know why you set a value for overhead memory. https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/memory/mem_setup/#capped-fractionated-components","body":"I think your answer is here , but I really like to know why you set a value for overhead memory. <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/memory/mem_setup/#capped-fractionated-components\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-master/docs/deployment&zwnj;&#8203;/&hellip;</a>"}],"owner":{"account_id":1500622,"reputation":3297,"user_id":1405412,"accept_rate":37,"display_name":"Pramod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697111139,"creation_date":1697110261,"question_id":77280176,"body_markdown":"I am trying to deploy my flink application `helm install appname .`\r\nApp is getting deployed but pod is getting crashed\r\nvalues.yml\r\n    \r\n    flinkConfig:\r\n          # Task Manager Config\r\n          taskmanager.memory.process.size: 1200m\r\n          taskmanager.memory.flink.size: 670m\r\n          taskmanager.memory.task.heap.size: 300m\r\n          taskmanager.memory.task.off-heap.size: 50m\r\n          taskmanager.memory.managed.size: 0m\r\n          taskmanager.memory.jvm-metaspace.size: 160m\r\n          taskmanager.memory.jvm-overhead.min: 20m\r\n          taskmanager.memory.jvm-overhead.max: 400m\r\n          taskmanager.debug.memory.log: false\r\n          env.java.opts.taskmanager: &quot;-XX:+ExitOnOutOfMemoryError -XX:+PrintGCDetails -XX:+UseParallelGC -Xloggc:/code/target/mps-fhr-ai-svc-tm.log -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/srv/&quot;\r\n        \r\n          # Job Manager Config\r\n          jobmanager.memory.process.size: 630m\r\n          jobmanager.memory.flink.size: 500m\r\n          jobmanager.memory.heap.size: 300m\r\n          jobmanager.memory.off-heap.size: 200m\r\n          jobmanager.memory.jvm-metaspace.size: 130m\r\n          jobmanager.memory.jvm-overhead.min: 20m\r\n          jobmanager.memory.jvm-overhead.max: 400m\r\n          env.java.opts.jobmanager: &quot;-XX:+ExitOnOutOfMemoryError -XX:+PrintGCDetails -XX:+UseParallelGC -Xloggc:/code/target/mps-fhr-ai-svc-jm.log -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/srv/&quot;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wtFUL.png\r\n\r\nI have updated with different values but still the same exception. Any help will be helpful.\r\n","title":"Exception in thread &quot;main&quot; org.apache.flink.configuration.IllegalConfigurationException:","body":"<p>I am trying to deploy my flink application <code>helm install appname .</code>\nApp is getting deployed but pod is getting crashed\nvalues.yml</p>\n<pre><code>flinkConfig:\n      # Task Manager Config\n      taskmanager.memory.process.size: 1200m\n      taskmanager.memory.flink.size: 670m\n      taskmanager.memory.task.heap.size: 300m\n      taskmanager.memory.task.off-heap.size: 50m\n      taskmanager.memory.managed.size: 0m\n      taskmanager.memory.jvm-metaspace.size: 160m\n      taskmanager.memory.jvm-overhead.min: 20m\n      taskmanager.memory.jvm-overhead.max: 400m\n      taskmanager.debug.memory.log: false\n      env.java.opts.taskmanager: &quot;-XX:+ExitOnOutOfMemoryError -XX:+PrintGCDetails -XX:+UseParallelGC -Xloggc:/code/target/mps-fhr-ai-svc-tm.log -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/srv/&quot;\n    \n      # Job Manager Config\n      jobmanager.memory.process.size: 630m\n      jobmanager.memory.flink.size: 500m\n      jobmanager.memory.heap.size: 300m\n      jobmanager.memory.off-heap.size: 200m\n      jobmanager.memory.jvm-metaspace.size: 130m\n      jobmanager.memory.jvm-overhead.min: 20m\n      jobmanager.memory.jvm-overhead.max: 400m\n      env.java.opts.jobmanager: &quot;-XX:+ExitOnOutOfMemoryError -XX:+PrintGCDetails -XX:+UseParallelGC -Xloggc:/code/target/mps-fhr-ai-svc-jm.log -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/srv/&quot;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wtFUL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wtFUL.png\" alt=\"enter image description here\" /></a></p>\n<p>I have updated with different values but still the same exception. Any help will be helpful.</p>\n"},{"tags":["java","maven","jlink"],"owner":{"account_id":17542859,"reputation":33,"user_id":12724727,"display_name":"njust"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697110879,"creation_date":1697110879,"question_id":77280257,"body_markdown":"When im running mvn clean verify with maven-jlink-plugin 3.1.0 plugin, it gives me an error\r\n```\r\n[ERROR] Error: Modules io.netty.codec.xml and io.netty.codec export package io.netty.handler.codec.xml to module io.netty.transport.rxtx\r\n```\r\nIm trying to make custom JRE for my javafx app, im new to this and don&#39;t understand what to do with this message\r\n\r\nPart of my pom\r\n```pom\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-jlink-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;extensions&gt;true&lt;/extensions&gt;\r\n    &lt;configuration&gt;\r\n        &lt;!-- configuration elements goes here --&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nMy module info requires\r\n```\r\nrequires javafx.controls;\r\nrequires javafx.fxml;\r\nrequires javafx.graphics;\r\nrequires io.netty.buffer;\r\nrequires io.netty.codec;\r\nrequires io.netty.transport;\r\nrequires io.netty.common;\r\nrequires io.netty.handler;\r\nrequires fast.md5;\r\nrequires static lombok;\r\nrequires java.desktop;\r\nrequires com.sun.jna;\r\nrequires com.sun.jna.platform;\r\nrequires json.simple;\r\nrequires com.google.gson;\r\n```","title":"jlink plugin fails with io.netty export error","body":"<p>When im running mvn clean verify with maven-jlink-plugin 3.1.0 plugin, it gives me an error</p>\n<pre><code>[ERROR] Error: Modules io.netty.codec.xml and io.netty.codec export package io.netty.handler.codec.xml to module io.netty.transport.rxtx\n</code></pre>\n<p>Im trying to make custom JRE for my javafx app, im new to this and don't understand what to do with this message</p>\n<p>Part of my pom</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-jlink-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;extensions&gt;true&lt;/extensions&gt;\n    &lt;configuration&gt;\n        &lt;!-- configuration elements goes here --&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>My module info requires</p>\n<pre><code>requires javafx.controls;\nrequires javafx.fxml;\nrequires javafx.graphics;\nrequires io.netty.buffer;\nrequires io.netty.codec;\nrequires io.netty.transport;\nrequires io.netty.common;\nrequires io.netty.handler;\nrequires fast.md5;\nrequires static lombok;\nrequires java.desktop;\nrequires com.sun.jna;\nrequires com.sun.jna.platform;\nrequires json.simple;\nrequires com.google.gson;\n</code></pre>\n"},{"tags":["java","jenkins"],"answers":[{"tags":[],"owner":{"account_id":8853316,"reputation":335,"user_id":6611818,"accept_rate":73,"display_name":"New2Python"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591374840,"creation_date":1591374840,"answer_id":62220146,"question_id":62202315,"body_markdown":"**Modified this:**\r\n\r\n    command = /bin/bash -c &quot;JENKINS_HOME=/opt/home/svc_user/opskit/jenkins /opt/home/svc_user/opskit/jdk/bin/java...\r\n\r\n^^\r\nNothing to do with the fix, just launches 1 java process instead of 2.\r\n\r\n**Deleted:**\r\n\r\n    -Djenkins.model.Jenkins.buildsDir=/opt/home/svc_user/data/jenkins/builds/${ITEM_FULL_NAME} \r\n    \r\n    -Djenkins.model.Jenkins.workspacesDir=/opt/home/svc_user/data/jenkins/workspace/${ITEM_FULL_NAME}\r\n\r\n^^\r\nFixed my startup issue. Not sure why these had no negative effects on previous installations.\r\n\r\n**Also deleted:**\r\n\r\n    path=/opt/home/svc_user/opskit/jenkins\r\n\r\nSeemed isnt necessary.\r\n\r\n&#175;\\_(ツ)_/&#175;","title":"Jenkins startup error: jenkins.model.InvalidBuildsDir: does not contain ${ITEM_FULL_NAME} or ${ITEM_ROOTDIR}, cannot distinguish between projects","body":"<p><strong>Modified this:</strong></p>\n\n<pre><code>command = /bin/bash -c \"JENKINS_HOME=/opt/home/svc_user/opskit/jenkins /opt/home/svc_user/opskit/jdk/bin/java...\n</code></pre>\n\n<p>^^\nNothing to do with the fix, just launches 1 java process instead of 2.</p>\n\n<p><strong>Deleted:</strong></p>\n\n<pre><code>-Djenkins.model.Jenkins.buildsDir=/opt/home/svc_user/data/jenkins/builds/${ITEM_FULL_NAME} \n\n-Djenkins.model.Jenkins.workspacesDir=/opt/home/svc_user/data/jenkins/workspace/${ITEM_FULL_NAME}\n</code></pre>\n\n<p>^^\nFixed my startup issue. Not sure why these had no negative effects on previous installations.</p>\n\n<p><strong>Also deleted:</strong></p>\n\n<pre><code>path=/opt/home/svc_user/opskit/jenkins\n</code></pre>\n\n<p>Seemed isnt necessary.</p>\n\n<p>¯_(ツ)_/¯</p>\n"},{"tags":[],"owner":{"account_id":4006519,"reputation":727,"user_id":3301051,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697110228,"creation_date":1697106327,"answer_id":77279767,"question_id":62202315,"body_markdown":"I got the same message when trying to set `.buildsDir` and `.workspacesDir` on an Ubuntu system.\r\nObviously I couldn&#39;t solve it by removing those lines (as proposed in the other answer) because I wanted to make use of them.\r\nThe trick was to do the correct escaping in the systemctl config!\r\n\r\nThe config editor can be started with `sudo systemctl edit --full jenkins.service`&lt;br&gt;\r\nThe relevant part of the config looks like this (mind the double `\\\\` before the `$` ! ):\r\n\r\n\r\n    Environment=&quot;JAVA_OPTS=-Djava.awt.headless=true \\\r\n    \t\t-Djenkins.model.Jenkins.buildsDir=/mypath_builds/\\\\${ITEM_FULL_NAME}  \\\r\n    \t\t-Djenkins.model.Jenkins.workspacesDir=/mypath_work/\\\\${ITEM_FULL_NAME}&quot;\r\n\r\nSee [Jenkins Features Controlled with System Properties][1] for a description of the System Properties and the supported placeholders like `${JENKINS_HOME}`, `${ITEM_ROOTDIR}`, `${ITEM_FULL_NAME}`, `${ITEM_FULLNAME}`.\r\n\r\n\r\n  [1]: https://www.jenkins.io/doc/book/managing/system-properties/#jenkins-model-jenkins-buildsdir","title":"Jenkins startup error: jenkins.model.InvalidBuildsDir: does not contain ${ITEM_FULL_NAME} or ${ITEM_ROOTDIR}, cannot distinguish between projects","body":"<p>I got the same message when trying to set <code>.buildsDir</code> and <code>.workspacesDir</code> on an Ubuntu system.\nObviously I couldn't solve it by removing those lines (as proposed in the other answer) because I wanted to make use of them.\nThe trick was to do the correct escaping in the systemctl config!</p>\n<p>The config editor can be started with <code>sudo systemctl edit --full jenkins.service</code><br>\nThe relevant part of the config looks like this (mind the double <code>\\\\</code> before the <code>$</code> ! ):</p>\n<pre><code>Environment=&quot;JAVA_OPTS=-Djava.awt.headless=true \\\n        -Djenkins.model.Jenkins.buildsDir=/mypath_builds/\\\\${ITEM_FULL_NAME}  \\\n        -Djenkins.model.Jenkins.workspacesDir=/mypath_work/\\\\${ITEM_FULL_NAME}&quot;\n</code></pre>\n<p>See <a href=\"https://www.jenkins.io/doc/book/managing/system-properties/#jenkins-model-jenkins-buildsdir\" rel=\"nofollow noreferrer\">Jenkins Features Controlled with System Properties</a> for a description of the System Properties and the supported placeholders like <code>${JENKINS_HOME}</code>, <code>${ITEM_ROOTDIR}</code>, <code>${ITEM_FULL_NAME}</code>, <code>${ITEM_FULLNAME}</code>.</p>\n"}],"owner":{"account_id":8853316,"reputation":335,"user_id":6611818,"accept_rate":73,"display_name":"New2Python"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1838,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697110228,"creation_date":1591297469,"question_id":62202315,"body_markdown":"Help please. In our workflow we only work with pre-packaged offline deploys where we do not have root access and therefore use supervisord to stop start ALL packages. We deploy all our packages under a user account. I have created a custom Jenkins package. Its basically its a folder containing the Jenkins war file and configurations from when I tool a vanilla initial setup.\r\n\r\nMy installation has worked up until now. Seems trying to get things running for the first time seems flaky. Once running Jenkins is fine. This time I am trying to deploy the packages (they have not changed) however I cannot start Jenkins and get and error:\r\n\r\n*jenkins.model.InvalidBuildsDir: does not contain ${ITEM_FULL_NAME} or ${ITEM_ROOTDIR}, cannot distinguish between projects*\r\n\r\nSo what I did was get a clean fresh install running and packaged it up. Basically I untar the jenkins directory then use supervisord to control start/stop.\r\n\r\n**Supervisord config:**\r\n\r\n    [program:jenkins]\r\n    autorestart = true\r\n    autostart = true\r\n    command = /bin/bash -c &quot;set JENKINS_HOME=/opt/home/svc_user/opskit/jenkins; /opt/home/svc_user/opskit/jdk/bin/java -Djava.awt.headless=true -Djenkins.model.Jenkins.buildsDir=/opt/home/svc_user/data/jenkins/builds/${ITEM_FULL_NAME} -Djenkins.model.Jenkins.workspacesDir=/opt/home/svc_user/data/jenkins/workspace/${ITEM_FULL_NAME} -jar /opt/home/svc_user/opskit/jenkins/bin/jenkins.war -path=/opt/home/svc_user/opskit/jenkins&quot;\r\n    directory = /opt/home/svc_user/opskit/jenkins\r\n    redirect_stderr = true\r\n    stdout_logfile = /opt/home/svc_user/opskit/log/jenkins.log\r\n    stdout_logfile_backups = 5\r\n    stdout_logfile_maxbytes = 10MB\r\n    stopwaitsecs = 300\r\n\r\n**Full error:**\r\n\r\n    jenkins.model.InvalidBuildsDir: /opt/home/svc_user/data/jenkins/builds does not contain ${ITEM_FULL_NAME} or ${ITEM_ROOTDIR}, cannot distinguish between projects\r\n    \tat jenkins.model.Jenkins.checkRawBuildsDir(Jenkins.java:3179)\r\n    \tat jenkins.model.Jenkins.setBuildsAndWorkspacesDir(Jenkins.java:3135)\r\n    \tat jenkins.model.Jenkins.loadConfig(Jenkins.java:3123)\r\n    Caused: java.io.IOException\r\n    \tat jenkins.model.Jenkins.loadConfig(Jenkins.java:3125)\r\n    \tat jenkins.model.Jenkins.access$1200(Jenkins.java:320)\r\n    \tat jenkins.model.Jenkins$13.run(Jenkins.java:3219)\r\n    \tat org.jvnet.hudson.reactor.TaskGraphBuilder$TaskImpl.run(TaskGraphBuilder.java:169)\r\n    \tat org.jvnet.hudson.reactor.Reactor.runTask(Reactor.java:296)\r\n    \tat jenkins.model.Jenkins$5.runTask(Jenkins.java:1133)\r\n    \tat org.jvnet.hudson.reactor.Reactor$2.run(Reactor.java:214)\r\n    \tat org.jvnet.hudson.reactor.Reactor$Node.run(Reactor.java:117)\r\n    \tat jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:59)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused: org.jvnet.hudson.reactor.ReactorException\r\n    \tat org.jvnet.hudson.reactor.Reactor.execute(Reactor.java:282)\r\n    \tat jenkins.InitReactorRunner.run(InitReactorRunner.java:50)\r\n    \tat jenkins.model.Jenkins.executeReactor(Jenkins.java:1166)\r\n    \tat jenkins.model.Jenkins.&lt;init&gt;(Jenkins.java:966)\r\n    \tat hudson.model.Hudson.&lt;init&gt;(Hudson.java:85)\r\n    \tat hudson.model.Hudson.&lt;init&gt;(Hudson.java:81)\r\n    \tat hudson.WebAppMain$3.run(WebAppMain.java:233)\r\n    Caused: hudson.util.HudsonFailedToLoad\r\n    \tat hudson.WebAppMain$3.run(WebAppMain.java:250)\r\n\r\n**Jenkins config.xml:**\r\n\r\n    &lt;workspaceDir&gt;/opt/home/svc_user/data/jenkins/workspace/${ITEM_FULL_NAME}&lt;/workspaceDir&gt;\r\n    &lt;buildsDir&gt;/opt/home/svc_user/data/jenkins/builds/${ITEM_FULL_NAME}&lt;/buildsDir&gt;\r\n\r\n**Folder permissions (install dir):**\r\n\r\n    lrwxrwxrwx  1 svc_user svc_user   39 Jun  4 02:51 jenkins -&gt; /opt/home/svc_user/opskit/jenkins-2.222.3\r\n    drwxr-xr-x 13 svc_user svc_user 4096 May  1 05:07 jenkins-2.222.3\r\n\r\n**Folder permissions (custom dir for builds and workspaces):**\r\n\r\n    lrwxrwxrwx 1 svc_user svc_user 37 Jun  4 02:51 jenkins -&gt; /opt/home/svc_user/data/jenkins-2.222.3\r\n    drwxr-xr-x 4 svc_user svc_user 37 Jun  4 16:39 jenkins-2.222.3\r\n    \r\n      |-nginx-1.16.1\r\n      |-jdk-8u91\r\n      |-jenkins-2.222.3\r\n      |  |-builds\r\n      |  |-workspace\r\n\r\nHelp would be greatly appreciated. Thank you in advance.","title":"Jenkins startup error: jenkins.model.InvalidBuildsDir: does not contain ${ITEM_FULL_NAME} or ${ITEM_ROOTDIR}, cannot distinguish between projects","body":"<p>Help please. In our workflow we only work with pre-packaged offline deploys where we do not have root access and therefore use supervisord to stop start ALL packages. We deploy all our packages under a user account. I have created a custom Jenkins package. Its basically its a folder containing the Jenkins war file and configurations from when I tool a vanilla initial setup.</p>\n\n<p>My installation has worked up until now. Seems trying to get things running for the first time seems flaky. Once running Jenkins is fine. This time I am trying to deploy the packages (they have not changed) however I cannot start Jenkins and get and error:</p>\n\n<p><em>jenkins.model.InvalidBuildsDir: does not contain ${ITEM_FULL_NAME} or ${ITEM_ROOTDIR}, cannot distinguish between projects</em></p>\n\n<p>So what I did was get a clean fresh install running and packaged it up. Basically I untar the jenkins directory then use supervisord to control start/stop.</p>\n\n<p><strong>Supervisord config:</strong></p>\n\n<pre><code>[program:jenkins]\nautorestart = true\nautostart = true\ncommand = /bin/bash -c \"set JENKINS_HOME=/opt/home/svc_user/opskit/jenkins; /opt/home/svc_user/opskit/jdk/bin/java -Djava.awt.headless=true -Djenkins.model.Jenkins.buildsDir=/opt/home/svc_user/data/jenkins/builds/${ITEM_FULL_NAME} -Djenkins.model.Jenkins.workspacesDir=/opt/home/svc_user/data/jenkins/workspace/${ITEM_FULL_NAME} -jar /opt/home/svc_user/opskit/jenkins/bin/jenkins.war -path=/opt/home/svc_user/opskit/jenkins\"\ndirectory = /opt/home/svc_user/opskit/jenkins\nredirect_stderr = true\nstdout_logfile = /opt/home/svc_user/opskit/log/jenkins.log\nstdout_logfile_backups = 5\nstdout_logfile_maxbytes = 10MB\nstopwaitsecs = 300\n</code></pre>\n\n<p><strong>Full error:</strong></p>\n\n<pre><code>jenkins.model.InvalidBuildsDir: /opt/home/svc_user/data/jenkins/builds does not contain ${ITEM_FULL_NAME} or ${ITEM_ROOTDIR}, cannot distinguish between projects\n    at jenkins.model.Jenkins.checkRawBuildsDir(Jenkins.java:3179)\n    at jenkins.model.Jenkins.setBuildsAndWorkspacesDir(Jenkins.java:3135)\n    at jenkins.model.Jenkins.loadConfig(Jenkins.java:3123)\nCaused: java.io.IOException\n    at jenkins.model.Jenkins.loadConfig(Jenkins.java:3125)\n    at jenkins.model.Jenkins.access$1200(Jenkins.java:320)\n    at jenkins.model.Jenkins$13.run(Jenkins.java:3219)\n    at org.jvnet.hudson.reactor.TaskGraphBuilder$TaskImpl.run(TaskGraphBuilder.java:169)\n    at org.jvnet.hudson.reactor.Reactor.runTask(Reactor.java:296)\n    at jenkins.model.Jenkins$5.runTask(Jenkins.java:1133)\n    at org.jvnet.hudson.reactor.Reactor$2.run(Reactor.java:214)\n    at org.jvnet.hudson.reactor.Reactor$Node.run(Reactor.java:117)\n    at jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:59)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused: org.jvnet.hudson.reactor.ReactorException\n    at org.jvnet.hudson.reactor.Reactor.execute(Reactor.java:282)\n    at jenkins.InitReactorRunner.run(InitReactorRunner.java:50)\n    at jenkins.model.Jenkins.executeReactor(Jenkins.java:1166)\n    at jenkins.model.Jenkins.&lt;init&gt;(Jenkins.java:966)\n    at hudson.model.Hudson.&lt;init&gt;(Hudson.java:85)\n    at hudson.model.Hudson.&lt;init&gt;(Hudson.java:81)\n    at hudson.WebAppMain$3.run(WebAppMain.java:233)\nCaused: hudson.util.HudsonFailedToLoad\n    at hudson.WebAppMain$3.run(WebAppMain.java:250)\n</code></pre>\n\n<p><strong>Jenkins config.xml:</strong></p>\n\n<pre><code>&lt;workspaceDir&gt;/opt/home/svc_user/data/jenkins/workspace/${ITEM_FULL_NAME}&lt;/workspaceDir&gt;\n&lt;buildsDir&gt;/opt/home/svc_user/data/jenkins/builds/${ITEM_FULL_NAME}&lt;/buildsDir&gt;\n</code></pre>\n\n<p><strong>Folder permissions (install dir):</strong></p>\n\n<pre><code>lrwxrwxrwx  1 svc_user svc_user   39 Jun  4 02:51 jenkins -&gt; /opt/home/svc_user/opskit/jenkins-2.222.3\ndrwxr-xr-x 13 svc_user svc_user 4096 May  1 05:07 jenkins-2.222.3\n</code></pre>\n\n<p><strong>Folder permissions (custom dir for builds and workspaces):</strong></p>\n\n<pre><code>lrwxrwxrwx 1 svc_user svc_user 37 Jun  4 02:51 jenkins -&gt; /opt/home/svc_user/data/jenkins-2.222.3\ndrwxr-xr-x 4 svc_user svc_user 37 Jun  4 16:39 jenkins-2.222.3\n\n  |-nginx-1.16.1\n  |-jdk-8u91\n  |-jenkins-2.222.3\n  |  |-builds\n  |  |-workspace\n</code></pre>\n\n<p>Help would be greatly appreciated. Thank you in advance.</p>\n"},{"tags":["java","parameters","applet"],"answers":[{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1356130433,"creation_date":1356130433,"answer_id":13998226,"question_id":13998202,"body_markdown":"Line 41 of `RunClient` is looking for a default constructor on `ClientSettings`, which doesn&#39;t exist. You&#39;ve defined a constructor that takes a `String[]`, so no default constructor is generated. It looks like the code you&#39;ve posted isn&#39;t what&#39;s running, because it seems to show a correct constructor call.","title":"method init()v not found","body":"<p>Line 41 of <code>RunClient</code> is looking for a default constructor on <code>ClientSettings</code>, which doesn't exist. You've defined a constructor that takes a <code>String[]</code>, so no default constructor is generated. It looks like the code you've posted isn't what's running, because it seems to show a correct constructor call.</p>\n"},{"tags":[],"owner":{"account_id":5851030,"reputation":526,"user_id":4609700,"display_name":"Crenguta S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559654570,"creation_date":1559654570,"answer_id":56444825,"question_id":13998202,"body_markdown":"I had the same problem, but when writing unit tests. The test was failing with this exception when creating the object I wanted to test. I did add a new constructor in the class I was testing and I think I was running an older code which didn&#39;t have this constructor.\r\nCleaning and rebuilding the workspace (with maven) solved it for me.","title":"method init()v not found","body":"<p>I had the same problem, but when writing unit tests. The test was failing with this exception when creating the object I wanted to test. I did add a new constructor in the class I was testing and I think I was running an older code which didn't have this constructor.\nCleaning and rebuilding the workspace (with maven) solved it for me.</p>\n"},{"tags":[],"owner":{"account_id":1782050,"reputation":629,"user_id":1624512,"display_name":"Paul Hilliar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697110174,"creation_date":1697110174,"answer_id":77280158,"question_id":13998202,"body_markdown":"When I got this error it was because the bean definition had a private constructor but the bean required injected dependencies\r\n\r\n    @RequiredArgsConstructor(access = AccessLevel.PRIVATE)\r\n\r\nGuess this makes sense that if Micronaut cannot use the args constructor then it needs some lifecycle method to sort out the dependencies.","title":"method init()v not found","body":"<p>When I got this error it was because the bean definition had a private constructor but the bean required injected dependencies</p>\n<pre><code>@RequiredArgsConstructor(access = AccessLevel.PRIVATE)\n</code></pre>\n<p>Guess this makes sense that if Micronaut cannot use the args constructor then it needs some lifecycle method to sort out the dependencies.</p>\n"}],"owner":{"account_id":1910607,"reputation":649,"user_id":1724524,"accept_rate":100,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47019,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":13998226,"answer_count":3,"score":19,"last_activity_date":1697110174,"creation_date":1356130251,"question_id":13998202,"body_markdown":"I&#39;m rewriting an applet I have, but when it loads it&#39;s giving me a runtime exception.\r\nThe exception is\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: ClientSettings: method &lt;\r\n    init&gt;()V not found\r\n            at RunClient.&lt;init&gt;(RunClient.java:41)\r\n            at RunClient.main(RunClient.java:63)\r\n\r\nHere is RunClient:\r\n\r\n\r\n    import java.applet.Applet;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Container;\r\n    import java.awt.Desktop;\r\n    import java.awt.Dimension;\r\n    import java.awt.Rectangle;\r\n    import java.awt.Robot;\r\n    import java.awt.Toolkit;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.FilenameFilter;\r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.net.URL;\r\n    import java.util.Properties;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuBar;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPopupMenu;\r\n    import javax.swing.JSeparator;\r\n    \r\n    \r\n    public class RunClient extends Applet implements ActionListener {\r\n    \r\n    \tprivate Robot robot;\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tpublic static Properties params = new Properties();\r\n    \tpublic JFrame mainFrame;\r\n    \tpublic JPanel mainPane = new JPanel();\r\n    \tpublic static String[] data;\r\n    \tpublic String mainurl = getParameter(&quot;ip&quot;);\r\n    \tpublic int lang = 0;\r\n    \tpublic String frameName = getParameter(&quot;servername&quot;);\r\n    \tpublic JPanel totalPanel;\r\n    \tprivate JMenuBar menuBar = new JMenuBar();\r\n    \tprivate int capNum;\r\n    \tprivate FilenameFilter filter = new FilenameFilter() {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean accept(File arg0, String arg1) {\r\n    \t\t\tif (arg0.getName().equals(&quot;images&quot;) &amp;&amp; arg1.endsWith(&quot;png&quot;)) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t\r\n    \t};\r\n    \tpublic static final Object[][] JMENU_BUTTONS = new Object[][]{{&quot;File&quot;, new JMenuItem(&quot;New Client&quot;), new JSeparator(), new JMenuItem(&quot;Exit&quot;)}, {&quot;Guides&quot;, new JMenuItem(&quot;Getting Started&quot;), new JMenuItem(&quot;Fighting Monsters&quot;), new JMenuItem(&quot;Money Making&quot;)}, {&quot;Links&quot;, new JMenuItem(&quot;Wiki&quot;), new JMenuItem(&quot;Forums&quot;), new JMenuItem(&quot;Youtube&quot;), new JMenuItem(&quot;Donate&quot;)}, {&quot;Tools&quot;, new JMenuItem(&quot;Take a screenshot&quot;)}};\r\n    \tpublic String[] getLoaderParameters() {\r\n    \t\treturn new String[]{getParameter(&quot;servername&quot;), getParameter(&quot;ip&quot;), getParameter(&quot;port&quot;)};\r\n    \t}\r\n    \tpublic static void main(String[] strings) {\r\n    \t\tdata = getLoaderParameters();\r\n    \t\tnew ClientSettings(data);\r\n    \t\tRunClient runclient = new RunClient();\r\n    \t\trunclient.doFrame();\r\n    \t}\r\n    \t\r\n    \tpublic RunClient() {\r\n    \t\ttry {\r\n    \t\t\tloadCaptureAmts();\r\n    \t\t\trobot = new Robot();\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void loadCaptureAmts() {\r\n    \t\tcapNum = new File(&quot;./images/&quot;).listFiles(filter).length;\r\n    \t}\r\n    \r\n    \tpublic void init() {\r\n    \t\tdoApplet();\r\n    \t}\r\n    \r\n    \tvoid doApplet() {\r\n    \t\ttry {\r\n    \t\t\treadVars();\r\n    \t\t\tstartClient();\r\n    \t\t} catch (Exception exception) {\r\n    \t\t\texception.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void doFrame() {\r\n    \t\ttry {\r\n    \t\t\treadVars();\r\n    \t\t\topenFrame();\r\n    \t\t\tstartClient();\r\n    \t\t} catch (Exception exception) {\r\n    \t\t\texception.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void readVars() throws IOException {\r\n    \t\tparams.put(&quot;cabbase&quot;, &quot;g.cab&quot;);\r\n    \t\tparams.put(&quot;java_arguments&quot;, &quot;-Xmx1024m -Dsun.java2d.noddraw=true&quot;);\r\n    \t\tparams.put(&quot;colourid&quot;, &quot;0&quot;);\r\n    \t\tparams.put(&quot;worldid&quot;, &quot;16&quot;);\r\n    \t\tparams.put(&quot;lobbyid&quot;, &quot;15&quot;);\r\n    \t\tparams.put(&quot;demoid&quot;, &quot;0&quot;);\r\n    \t\tparams.put(&quot;demoaddress&quot;, &quot;&quot;);\r\n    \t\tparams.put(&quot;modewhere&quot;, &quot;0&quot;);\r\n    \t\tparams.put(&quot;modewhat&quot;, &quot;0&quot;);\r\n    \t\tparams.put(&quot;lang&quot;, &quot;0&quot;);\r\n    \t\tparams.put(&quot;objecttag&quot;, &quot;0&quot;);\r\n    \t\tparams.put(&quot;js&quot;, &quot;1&quot;);\r\n    \t\tparams.put(&quot;game&quot;, &quot;0&quot;);\r\n    \t\tparams.put(&quot;affid&quot;, &quot;0&quot;);\r\n    \t\tparams.put(&quot;advert&quot;, &quot;1&quot;);\r\n    \t\tparams.put(&quot;settings&quot;, &quot;wwGlrZHF5gJcZl7tf7KSRh0MZLhiU0gI0xDX6DwZ-Qk&quot;);\r\n    \t\tparams.put(&quot;country&quot;, &quot;0&quot;);\r\n    \t\tparams.put(&quot;haveie6&quot;, &quot;0&quot;);\r\n    \t\tparams.put(&quot;havefirefox&quot;, &quot;1&quot;);\r\n    \t\tparams.put(&quot;cookieprefix&quot;, &quot;&quot;);\r\n    \t\tparams.put(&quot;cookiehost&quot;, &quot;127.0.0.1&quot;);\r\n    \t\tparams.put(&quot;cachesubdirid&quot;, &quot;0&quot;);\r\n    \t\tparams.put(&quot;crashurl&quot;, &quot;&quot;);\r\n    \t\tparams.put(&quot;unsignedurl&quot;, &quot;&quot;);\r\n    \t\tparams.put(&quot;sitesettings_member&quot;, &quot;1&quot;);\r\n    \t\tparams.put(&quot;frombilling&quot;, &quot;false&quot;);\r\n    \t\tparams.put(&quot;sskey&quot;, &quot;&quot;);\r\n    \t\tparams.put(&quot;force64mb&quot;, &quot;false&quot;);\r\n    \t\tparams.put(&quot;worldflags&quot;, &quot;8&quot;);\r\n    \t\tparams.put(&quot;lobbyaddress&quot;, mainurl);\r\n    \t}\r\n    \r\n    \tpublic void openFrame() {\r\n    \t\tJPopupMenu.setDefaultLightWeightPopupEnabled(false);\r\n    \t\tmainPane.setLayout(new BorderLayout());\r\n    \t\tmainPane.add(this);\r\n    \t\tmainPane.setPreferredSize(new Dimension(765, 503));\r\n    \t\ttotalPanel = new JPanel();\r\n    \t\ttotalPanel.setPreferredSize(new Dimension(765, 503));\r\n    \t\ttotalPanel.setLayout(new BorderLayout());\r\n    \t\ttotalPanel.add(mainPane, BorderLayout.CENTER);\r\n    \t\tmainFrame = new JFrame(frameName);\r\n    \t\tmainFrame.setLayout(new BorderLayout());\r\n    \t\tmainFrame.getContentPane().add(totalPanel, BorderLayout.CENTER);\r\n    \t\tmainFrame.setDefaultCloseOperation(3);\r\n    \t\t//setMenuBar();\r\n    \t\tmainFrame.pack();\r\n    \t\tmainFrame.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate void setMenuBar() {\r\n    \t\tint id = 0;\r\n    \t\tfor (int y = 0; y &lt; JMENU_BUTTONS.length; y++) {\r\n    \t\t\tJMenu menu = new JMenu();\r\n    \t\t\tfor (int i = 0; i &lt; JMENU_BUTTONS[y].length; i++) {\r\n    \t\t\t\tif (i == 0) {\r\n    \t\t\t\t\tmenu.setText((String) JMENU_BUTTONS[y][i]);\r\n    \t\t\t\t} else if (JMENU_BUTTONS[y][i] instanceof JMenuItem){\r\n    \t\t\t\t\tJMenuItem item = (JMenuItem) JMENU_BUTTONS[y][i];\r\n    \t\t\t\t\tmenu.add(item);\r\n    \t\t\t\t\titem.setActionCommand(&quot;&quot;+ id++);\r\n    \t\t\t\t\titem.addActionListener(this);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tmenu.add((JSeparator) JMENU_BUTTONS[y][i]);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tmenuBar.add(menu);\r\n    \t\t}\r\n    \t\tmainFrame.setJMenuBar(menuBar);\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic void startClient() {\r\n    \t\ttry {\r\n    \t\t\t//RuntimeLoader loader = new RuntimeLoader();\r\n    \t\t\t//Class clientclass = loader.loadClass(&quot;client&quot;);\r\n    \r\n    \t\t\t//Applet clientApplet = (Applet) clientclass.newInstance();\r\n    \t\t\t//clientclass.getMethod(&quot;provideLoaderApplet&quot;,\r\n    \t\t\t//\t\tnew Class[] { java.applet.Applet.class }).invoke(null,\r\n    \t\t\t//\t\t\t\tnew Object[] { this });\r\n    \t\t\t//clientApplet.init();\r\n    \t\t\t//clientApplet.start();\r\n    \t\t\tclient.provideLoaderApplet(this);\r\n    \t\t\tclient var_client = new client();\r\n    \t\t\tvar_client.init();\r\n    \t\t\tvar_client.start();\r\n    \t\t} catch (Exception exception) {\r\n    \t\t\texception.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \tpublic URL getDocumentBase() {\r\n    \t\treturn getCodeBase();\r\n    \t}\r\n    \r\n    \tpublic URL getCodeBase() {\r\n    \t\tURL url;\r\n    \t\ttry {\r\n    \t\t\turl = new URL(new StringBuilder().append(&quot;http://&quot;).append(mainurl)\r\n    \t\t\t\t\t.toString());\r\n    \t\t} catch (Exception exception) {\r\n    \t\t\texception.printStackTrace();\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn url;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tswitch (Integer.parseInt(e.getActionCommand())) {\r\n    \t\tcase 1:\r\n    \t\t\tif (JOptionPane.showConfirmDialog(this, &quot;Are you sure you want to quit?&quot;) == 0)\r\n    \t\t\t\tSystem.exit(0);\r\n    \t\t\tbreak;\r\n    \t\tcase 2:\r\n    \t\t\tbrowse(&quot;http://dementhium.wikia.com/wiki/Getting_Started&quot;);\r\n    \t\t\tbreak;\r\n    \t\tcase 3:\r\n    \t\t\tbrowse(&quot;http://forums.dementhium.com/showthread.php?t=143&quot;);\r\n    \t\t\tbreak;\r\n    \t\tcase 4:\r\n    \t\t\tbrowse(&quot;http://dementhium.wikia.com/wiki/Dementhium_Wiki&quot;);\r\n    \t\t\tbreak;\r\n    \t\tcase 5:\r\n    \t\t\tbrowse(&quot;http://dementhium.wikia.com/wiki/Dementhium_Wiki&quot;);\r\n    \t\t\tbreak;\r\n    \t\tcase 6:\r\n    \t\t\tbrowse(&quot;http://forums.dementhium.com/&quot;);\r\n    \t\t\tbreak;\r\n    \t\tcase 7:\r\n    \t\t\tbrowse(&quot;http://www.youtube.com/DementhiumOfficial&quot;);\r\n    \t\t\tbreak;\r\n    \t\tcase 8:\r\n    \t\t\tbrowse(&quot;http://forums.dementhium.com/payments.php&quot;);\r\n    \t\t\tbreak;\r\n    \t\tcase 9:\r\n    \t\t\twriteImage(robot.createScreenCapture(getGameScreenRectangle()));\r\n    \t\t\tbreak;\r\n    \t\tdefault:\r\n    \t\t\tSystem.out.println(Integer.parseInt(e.getActionCommand()));\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    \tprivate Rectangle getGameScreenRectangle() {\r\n    \t\tRectangle rect = getBounds();\r\n    \t\trect.setLocation(this.getLocationOnScreen());\r\n    \t\treturn rect;\r\n    \t}\r\n    \r\n    \tprivate void writeImage(BufferedImage createScreenCapture) {\r\n    \t\ttry {\r\n    \t\t\tImageIO.write(createScreenCapture, &quot;PNG&quot;, new File(&quot;./images/capture-&quot; + capNum++ + &quot;.png&quot;));\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    \tprivate void browse(String string) {\r\n    \t\tif (Desktop.isDesktopSupported() &amp;&amp; Desktop.getDesktop().isSupported(Desktop.Action.BROWSE)) {\r\n    \t\t\ttry {\r\n    \t\t\t\tDesktop.getDesktop().browse(new URI(string));\r\n    \t\t\t} catch (IOException e1) {\r\n    \t\t\t\te1.printStackTrace();\r\n    \t\t\t} catch (URISyntaxException e1) {\r\n    \t\t\t\te1.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n   \r\n\r\n and here is ClientSettings.java, this is called from various files, args is always defined using\r\n\r\n    public String[] data;\r\n\r\nin RunClient\r\n\r\n    public class ClientSettings {\r\n    \tpublic int PORT;\r\n    \tpublic String IPADDRESS;\r\n    \tpublic String SERVERNAME;\r\n    \tpublic ClientSettings(String[] args) {\r\n    \t\tPORT = Integer.parseInt(args[2]);\r\n    \t\tIPADDRESS = args[1];\r\n    \t\tSERVERNAME = args[0];\r\n       \r\n    \r\n     \t}\r\n        }","title":"method init()v not found","body":"<p>I'm rewriting an applet I have, but when it loads it's giving me a runtime exception.\nThe exception is</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: ClientSettings: method &lt;\ninit&gt;()V not found\n        at RunClient.&lt;init&gt;(RunClient.java:41)\n        at RunClient.main(RunClient.java:63)\n</code></pre>\n\n<p>Here is RunClient:</p>\n\n<pre><code>import java.applet.Applet;\nimport java.awt.BorderLayout;\nimport java.awt.Container;\nimport java.awt.Desktop;\nimport java.awt.Dimension;\nimport java.awt.Rectangle;\nimport java.awt.Robot;\nimport java.awt.Toolkit;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.FilenameFilter;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.util.Properties;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JPopupMenu;\nimport javax.swing.JSeparator;\n\n\npublic class RunClient extends Applet implements ActionListener {\n\n    private Robot robot;\n    private static final long serialVersionUID = 1L;\n    public static Properties params = new Properties();\n    public JFrame mainFrame;\n    public JPanel mainPane = new JPanel();\n    public static String[] data;\n    public String mainurl = getParameter(\"ip\");\n    public int lang = 0;\n    public String frameName = getParameter(\"servername\");\n    public JPanel totalPanel;\n    private JMenuBar menuBar = new JMenuBar();\n    private int capNum;\n    private FilenameFilter filter = new FilenameFilter() {\n\n        @Override\n        public boolean accept(File arg0, String arg1) {\n            if (arg0.getName().equals(\"images\") &amp;&amp; arg1.endsWith(\"png\")) {\n                return true;\n            }\n            return false;\n        }\n\n    };\n    public static final Object[][] JMENU_BUTTONS = new Object[][]{{\"File\", new JMenuItem(\"New Client\"), new JSeparator(), new JMenuItem(\"Exit\")}, {\"Guides\", new JMenuItem(\"Getting Started\"), new JMenuItem(\"Fighting Monsters\"), new JMenuItem(\"Money Making\")}, {\"Links\", new JMenuItem(\"Wiki\"), new JMenuItem(\"Forums\"), new JMenuItem(\"Youtube\"), new JMenuItem(\"Donate\")}, {\"Tools\", new JMenuItem(\"Take a screenshot\")}};\n    public String[] getLoaderParameters() {\n        return new String[]{getParameter(\"servername\"), getParameter(\"ip\"), getParameter(\"port\")};\n    }\n    public static void main(String[] strings) {\n        data = getLoaderParameters();\n        new ClientSettings(data);\n        RunClient runclient = new RunClient();\n        runclient.doFrame();\n    }\n\n    public RunClient() {\n        try {\n            loadCaptureAmts();\n            robot = new Robot();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void loadCaptureAmts() {\n        capNum = new File(\"./images/\").listFiles(filter).length;\n    }\n\n    public void init() {\n        doApplet();\n    }\n\n    void doApplet() {\n        try {\n            readVars();\n            startClient();\n        } catch (Exception exception) {\n            exception.printStackTrace();\n        }\n    }\n\n    public void doFrame() {\n        try {\n            readVars();\n            openFrame();\n            startClient();\n        } catch (Exception exception) {\n            exception.printStackTrace();\n        }\n    }\n\n    public void readVars() throws IOException {\n        params.put(\"cabbase\", \"g.cab\");\n        params.put(\"java_arguments\", \"-Xmx1024m -Dsun.java2d.noddraw=true\");\n        params.put(\"colourid\", \"0\");\n        params.put(\"worldid\", \"16\");\n        params.put(\"lobbyid\", \"15\");\n        params.put(\"demoid\", \"0\");\n        params.put(\"demoaddress\", \"\");\n        params.put(\"modewhere\", \"0\");\n        params.put(\"modewhat\", \"0\");\n        params.put(\"lang\", \"0\");\n        params.put(\"objecttag\", \"0\");\n        params.put(\"js\", \"1\");\n        params.put(\"game\", \"0\");\n        params.put(\"affid\", \"0\");\n        params.put(\"advert\", \"1\");\n        params.put(\"settings\", \"wwGlrZHF5gJcZl7tf7KSRh0MZLhiU0gI0xDX6DwZ-Qk\");\n        params.put(\"country\", \"0\");\n        params.put(\"haveie6\", \"0\");\n        params.put(\"havefirefox\", \"1\");\n        params.put(\"cookieprefix\", \"\");\n        params.put(\"cookiehost\", \"127.0.0.1\");\n        params.put(\"cachesubdirid\", \"0\");\n        params.put(\"crashurl\", \"\");\n        params.put(\"unsignedurl\", \"\");\n        params.put(\"sitesettings_member\", \"1\");\n        params.put(\"frombilling\", \"false\");\n        params.put(\"sskey\", \"\");\n        params.put(\"force64mb\", \"false\");\n        params.put(\"worldflags\", \"8\");\n        params.put(\"lobbyaddress\", mainurl);\n    }\n\n    public void openFrame() {\n        JPopupMenu.setDefaultLightWeightPopupEnabled(false);\n        mainPane.setLayout(new BorderLayout());\n        mainPane.add(this);\n        mainPane.setPreferredSize(new Dimension(765, 503));\n        totalPanel = new JPanel();\n        totalPanel.setPreferredSize(new Dimension(765, 503));\n        totalPanel.setLayout(new BorderLayout());\n        totalPanel.add(mainPane, BorderLayout.CENTER);\n        mainFrame = new JFrame(frameName);\n        mainFrame.setLayout(new BorderLayout());\n        mainFrame.getContentPane().add(totalPanel, BorderLayout.CENTER);\n        mainFrame.setDefaultCloseOperation(3);\n        //setMenuBar();\n        mainFrame.pack();\n        mainFrame.setVisible(true);\n    }\n\n    private void setMenuBar() {\n        int id = 0;\n        for (int y = 0; y &lt; JMENU_BUTTONS.length; y++) {\n            JMenu menu = new JMenu();\n            for (int i = 0; i &lt; JMENU_BUTTONS[y].length; i++) {\n                if (i == 0) {\n                    menu.setText((String) JMENU_BUTTONS[y][i]);\n                } else if (JMENU_BUTTONS[y][i] instanceof JMenuItem){\n                    JMenuItem item = (JMenuItem) JMENU_BUTTONS[y][i];\n                    menu.add(item);\n                    item.setActionCommand(\"\"+ id++);\n                    item.addActionListener(this);\n                } else {\n                    menu.add((JSeparator) JMENU_BUTTONS[y][i]);\n                }\n            }\n            menuBar.add(menu);\n        }\n        mainFrame.setJMenuBar(menuBar);\n\n    }\n\n    public void startClient() {\n        try {\n            //RuntimeLoader loader = new RuntimeLoader();\n            //Class clientclass = loader.loadClass(\"client\");\n\n            //Applet clientApplet = (Applet) clientclass.newInstance();\n            //clientclass.getMethod(\"provideLoaderApplet\",\n            //      new Class[] { java.applet.Applet.class }).invoke(null,\n            //              new Object[] { this });\n            //clientApplet.init();\n            //clientApplet.start();\n            client.provideLoaderApplet(this);\n            client var_client = new client();\n            var_client.init();\n            var_client.start();\n        } catch (Exception exception) {\n            exception.printStackTrace();\n        }\n    }\n\n\n    public URL getDocumentBase() {\n        return getCodeBase();\n    }\n\n    public URL getCodeBase() {\n        URL url;\n        try {\n            url = new URL(new StringBuilder().append(\"http://\").append(mainurl)\n                    .toString());\n        } catch (Exception exception) {\n            exception.printStackTrace();\n            return null;\n        }\n        return url;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        switch (Integer.parseInt(e.getActionCommand())) {\n        case 1:\n            if (JOptionPane.showConfirmDialog(this, \"Are you sure you want to quit?\") == 0)\n                System.exit(0);\n            break;\n        case 2:\n            browse(\"http://dementhium.wikia.com/wiki/Getting_Started\");\n            break;\n        case 3:\n            browse(\"http://forums.dementhium.com/showthread.php?t=143\");\n            break;\n        case 4:\n            browse(\"http://dementhium.wikia.com/wiki/Dementhium_Wiki\");\n            break;\n        case 5:\n            browse(\"http://dementhium.wikia.com/wiki/Dementhium_Wiki\");\n            break;\n        case 6:\n            browse(\"http://forums.dementhium.com/\");\n            break;\n        case 7:\n            browse(\"http://www.youtube.com/DementhiumOfficial\");\n            break;\n        case 8:\n            browse(\"http://forums.dementhium.com/payments.php\");\n            break;\n        case 9:\n            writeImage(robot.createScreenCapture(getGameScreenRectangle()));\n            break;\n        default:\n            System.out.println(Integer.parseInt(e.getActionCommand()));\n        }\n\n    }\n\n    private Rectangle getGameScreenRectangle() {\n        Rectangle rect = getBounds();\n        rect.setLocation(this.getLocationOnScreen());\n        return rect;\n    }\n\n    private void writeImage(BufferedImage createScreenCapture) {\n        try {\n            ImageIO.write(createScreenCapture, \"PNG\", new File(\"./images/capture-\" + capNum++ + \".png\"));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    private void browse(String string) {\n        if (Desktop.isDesktopSupported() &amp;&amp; Desktop.getDesktop().isSupported(Desktop.Action.BROWSE)) {\n            try {\n                Desktop.getDesktop().browse(new URI(string));\n            } catch (IOException e1) {\n                e1.printStackTrace();\n            } catch (URISyntaxException e1) {\n                e1.printStackTrace();\n            }\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>and here is ClientSettings.java, this is called from various files, args is always defined using</p>\n\n<pre><code>public String[] data;\n</code></pre>\n\n<p>in RunClient</p>\n\n<pre><code>public class ClientSettings {\n    public int PORT;\n    public String IPADDRESS;\n    public String SERVERNAME;\n    public ClientSettings(String[] args) {\n        PORT = Integer.parseInt(args[2]);\n        IPADDRESS = args[1];\n        SERVERNAME = args[0];\n\n\n    }\n    }\n</code></pre>\n"},{"tags":["java","android","libgdx"],"answers":[{"tags":[],"owner":{"account_id":3160775,"reputation":1513,"user_id":2671956,"accept_rate":40,"display_name":"Ahmad Dehnavi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1440860871,"creation_date":1440860871,"answer_id":32287478,"question_id":32287093,"body_markdown":"I don&#39;t have enough reputation to leave comment.\r\ncheck below link:\r\n\r\n\r\n- https://stackoverflow.com/questions/24434570/how-do-i-make-a-progressbar-work-in-libgdx\r\n\r\n- https://github.com/Matsemann/libgdx-loading-screen","title":"Simple Horizontal Progress bar in LibGDX","body":"<p>I don't have enough reputation to leave comment.\ncheck below link:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/24434570/how-do-i-make-a-progressbar-work-in-libgdx\">How do I make a ProgressBar work in LibGDX?</a></p></li>\n<li><p><a href=\"https://github.com/Matsemann/libgdx-loading-screen\" rel=\"nofollow noreferrer\">https://github.com/Matsemann/libgdx-loading-screen</a></p></li>\n</ul>\n"}],"owner":{"account_id":5873271,"reputation":19,"user_id":4624954,"accept_rate":75,"display_name":"Ossusum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1215,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":32287478,"answer_count":1,"score":-2,"last_activity_date":1697109757,"creation_date":1440858302,"question_id":32287093,"body_markdown":"I was wondering what is the most simple way to make a horizontal progress bar? \r\n\r\nI&#39;m new at using LibGDX and Game development. If you can, could you also comment all the function of each part so that i may know for future reference.","title":"Simple Horizontal Progress bar in LibGDX","body":"<p>I was wondering what is the most simple way to make a horizontal progress bar? </p>\n\n<p>I'm new at using LibGDX and Game development. If you can, could you also comment all the function of each part so that i may know for future reference.</p>\n"},{"tags":["java","lambda","sonarqube","method-reference"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1697108382,"post_id":77279945,"comment_id":136239526,"body_markdown":"Does this answer your question? [Trying to understand method reference in Java 8 (assigning class method to functional interface)](https://stackoverflow.com/questions/64339742/trying-to-understand-method-reference-in-java-8-assigning-class-method-to-funct)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64339742/trying-to-understand-method-reference-in-java-8-assigning-class-method-to-funct\">Trying to understand method reference in Java 8 (assigning class method to functional interface)</a>"},{"owner":{"account_id":21834546,"reputation":29,"user_id":16129034,"display_name":"Selenium New bie"},"score":0,"creation_date":1697109155,"post_id":77279945,"comment_id":136239652,"body_markdown":"I tried to change Collectors::toList and file::listFiles . but got exception","body":"I tried to change Collectors::toList and file::listFiles . but got exception"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1697109557,"post_id":77279945,"comment_id":136239716,"body_markdown":"Because you need to change the lambda function to method reference, `Collectors.toList()` and `file.listFiles()` are not lambdas, those are just normal method calls.","body":"Because you need to change the lambda function to method reference, <code>Collectors.toList()</code> and <code>file.listFiles()</code> are not lambdas, those are just normal method calls."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1697111413,"post_id":77279945,"comment_id":136240052,"body_markdown":"sonarqube is definitely wrong, the code actually smells due to `java.io.File#listFiles()`","body":"sonarqube is definitely wrong, the code actually smells due to <code>java.io.File#listFiles()</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697119725,"post_id":77279945,"comment_id":136241940,"body_markdown":"Couldn’t that code be replaced with Arrays.asList([file.list()](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#list()))?  (A word of caution:  both file.list() and file.listFiles() will return null if there is any error, including the case where the directory does not exist.  Consider using Files.newDirectoryStream or Files.list instead, both of which throw an exception instead of returning null.)","body":"Couldn’t that code be replaced with Arrays.asList(<a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#list()\" rel=\"nofollow noreferrer\">file.list()</a>)?  (A word of caution:  both file.list() and file.listFiles() will return null if there is any error, including the case where the directory does not exist.  Consider using Files.newDirectoryStream or Files.list instead, both of which throw an exception instead of returning null.)"}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697109740,"creation_date":1697109740,"answer_id":77280114,"question_id":77279945,"body_markdown":"Your attempts are wrong because the lambda function is the one with the `-&gt;` operator, so the correct change is:\r\n\r\n```\r\nArrays.stream(file.listFiles()).map(File::getName).collect(Collectors.toList()).toString();\r\n```","title":"code smell sonar Replace this lambda with a method reference","body":"<p>Your attempts are wrong because the lambda function is the one with the <code>-&gt;</code> operator, so the correct change is:</p>\n<pre><code>Arrays.stream(file.listFiles()).map(File::getName).collect(Collectors.toList()).toString();\n</code></pre>\n"}],"owner":{"account_id":21834546,"reputation":29,"user_id":16129034,"display_name":"Selenium New bie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":77280114,"answer_count":1,"score":-3,"last_activity_date":1697109740,"creation_date":1697107994,"question_id":77279945,"body_markdown":"Sonar is throwing code smell at the below lines:\r\n\r\n    File file = new File(xxxxxx);\r\n    Arrays.stream(file.listFiles()).map(path-&gt;path.getName()).collect(Collectors.toList()).toString();\r\n\r\nI already converted using Steam, but it still shows code smell and asks for method reference.\r\n\r\nHow can I rewrite the above code?","title":"code smell sonar Replace this lambda with a method reference","body":"<p>Sonar is throwing code smell at the below lines:</p>\n<pre><code>File file = new File(xxxxxx);\nArrays.stream(file.listFiles()).map(path-&gt;path.getName()).collect(Collectors.toList()).toString();\n</code></pre>\n<p>I already converted using Steam, but it still shows code smell and asks for method reference.</p>\n<p>How can I rewrite the above code?</p>\n"},{"tags":["java","postgresql","spring-boot","jpa","one-to-many"],"answers":[{"tags":[],"owner":{"account_id":29198739,"reputation":25,"user_id":22369313,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697109146,"creation_date":1697109146,"answer_id":77280050,"question_id":77272960,"body_markdown":"I figured out the answer. It seems that a setter function has to be explicitly defined in the PersonalDetail class which establishes the relationship between the parent and child entity. Something like the below function, which needs to be explicitly called instead of using the Builder.\r\n```\r\npublic void setDevicesReceivedList(List&lt;DevicesReceived&gt; devicesReceivedList) {\r\n\tfor(DevicesReceived devicesReceived : devicesReceivedList) {\r\n\t\tdevicesReceived.setPersonalDetail(this);\r\n\t\tthis.devicesReceivedList.add(devicesReceived);\r\n\t}\r\n}\r\n```\r\nAnd this setter has to be explicitly called in the runner function i.e.\r\n```\r\npersonalDetail.setDevicesReceivedList(detailsResponseDTO.getData().getDevicesReceived());\r\n```\r\n","title":"The One-To-Many relationship is not working in my Spring Boot application with Postgres database","body":"<p>I figured out the answer. It seems that a setter function has to be explicitly defined in the PersonalDetail class which establishes the relationship between the parent and child entity. Something like the below function, which needs to be explicitly called instead of using the Builder.</p>\n<pre><code>public void setDevicesReceivedList(List&lt;DevicesReceived&gt; devicesReceivedList) {\n    for(DevicesReceived devicesReceived : devicesReceivedList) {\n        devicesReceived.setPersonalDetail(this);\n        this.devicesReceivedList.add(devicesReceived);\n    }\n}\n</code></pre>\n<p>And this setter has to be explicitly called in the runner function i.e.</p>\n<pre><code>personalDetail.setDevicesReceivedList(detailsResponseDTO.getData().getDevicesReceived());\n</code></pre>\n"}],"owner":{"account_id":29198739,"reputation":25,"user_id":22369313,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697109146,"creation_date":1697026430,"question_id":77272960,"body_markdown":"I&#39;m trying to use Joins in my Spring Boot application with Postgres database. Some of the entities have a One-to-One relationship and some have multiple One-to-Many relationships. The code for the Entity classes and the runner function have been shown below for reference. I&#39;ve not shown the Entity classes for DevicesRequired and Benefit. They follow the same structure as DevicesReceived with the same &quot;personal_details_id_no&quot; field in the @JoinColumn, which is also present in each of the tables in my DB. My issue is that when I execute my &quot;saveData&quot; runner function, the &quot;personal_details_id_no&quot; in my &quot;owner&quot; tables with the @ManyToOne annotations are always null. However, the @OneToOne field (i.e. address_id_no) in PersonalDetail table is filled properly and doesn&#39;t give any issues.  \r\nI&#39;ve tried going through the documentation, and I&#39;m following the steps properly but the issue remains. Any help would be greatly appreciated.\r\n\r\nNote: I&#39;m using liquibase for table creation. I&#39;ve already created the &quot;personal_details_id_no&quot; in each of the owner tables.\r\n```\r\n@Entity\r\n@Table(name=&quot;personal_details&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder(toBuilder = true)\r\n@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)\r\npublic class PersonalDetail extends Auditable&lt;String&gt; implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\tprivate String idNo;\r\n\r\n\tprivate String gender;\r\n\r\n\tprivate String name;\r\n\r\n\t// For Address\r\n\t@OneToOne(cascade = CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;address_id_no&quot;, referencedColumnName = &quot;idNo&quot;)\r\n\tprivate Address address;\r\n\r\n\t// For Devices Received\r\n\t@JsonManagedReference\r\n\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;personalDetail&quot;, cascade = CascadeType.ALL)\r\n\tprivate List&lt;DevicesReceived&gt; devicesReceivedList;\r\n\r\n\t// For Devices Required\r\n\t@JsonManagedReference\r\n\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;personalDetail&quot;, cascade = CascadeType.ALL)\r\n\tprivate List&lt;DevicesRequired&gt; devicesRequiredList;\r\n\r\n\t// For Benefits\r\n\t@JsonManagedReference\r\n\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;personalDetail&quot;, cascade = CascadeType.ALL)\r\n\tprivate List&lt;Benefit&gt; benefitList;\r\n}\r\n\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;address&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder(toBuilder = true)\r\n@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)\r\npublic class Address extends Auditable&lt;String&gt; implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n\tprivate String idNo;\r\n\r\n\tprivate String address;\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name=&quot;devices_received&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder(toBuilder = true)\r\n@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)\r\npublic class DevicesReceived extends Auditable&lt;String&gt; implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    private String idNo;\r\n\r\n    private String device;\r\n\r\n    @JsonBackReference\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;personal_details_id_no&quot;, nullable = false)\r\n    private PersonalDetail personalDetail;\r\n}\r\n```\r\n```\r\n// Runner Function\r\npublic void saveData(DetailsResponseDTO detailsResponseDTO) throws Exception {\r\n    PersonalDetail personalDetail = new PersonalDetail().toBuilder()\r\n            .idNo(detailsResponseDTO.getData().idNo())\r\n            .name(detailsResponseDTO.getData().getName())\r\n            .address(detailsResponseDTO.getData().getAddress())\r\n            .devicesReceivedList(detailsResponseDTO.getData().getDevicesReceived())\r\n            .devicesRequiredList(detailsResponseDTO.getData().getDevicesRequired())\r\n            .benefitList(detailsResponseDTO.getData().getBenefits())\r\n            .build();\r\n    try {\r\n        personalDetailRepository.save(personalDetail);\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;Error while saving personalDetail Details: &quot; + personalDetail + &quot;, with Exception: &quot; + e.toString());\r\n        throw e;\r\n    }\r\n}\r\n```","title":"The One-To-Many relationship is not working in my Spring Boot application with Postgres database","body":"<p>I'm trying to use Joins in my Spring Boot application with Postgres database. Some of the entities have a One-to-One relationship and some have multiple One-to-Many relationships. The code for the Entity classes and the runner function have been shown below for reference. I've not shown the Entity classes for DevicesRequired and Benefit. They follow the same structure as DevicesReceived with the same &quot;personal_details_id_no&quot; field in the @JoinColumn, which is also present in each of the tables in my DB. My issue is that when I execute my &quot;saveData&quot; runner function, the &quot;personal_details_id_no&quot; in my &quot;owner&quot; tables with the @ManyToOne annotations are always null. However, the @OneToOne field (i.e. address_id_no) in PersonalDetail table is filled properly and doesn't give any issues.<br />\nI've tried going through the documentation, and I'm following the steps properly but the issue remains. Any help would be greatly appreciated.</p>\n<p>Note: I'm using liquibase for table creation. I've already created the &quot;personal_details_id_no&quot; in each of the owner tables.</p>\n<pre><code>@Entity\n@Table(name=&quot;personal_details&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder(toBuilder = true)\n@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)\npublic class PersonalDetail extends Auditable&lt;String&gt; implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    private String idNo;\n\n    private String gender;\n\n    private String name;\n\n    // For Address\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;address_id_no&quot;, referencedColumnName = &quot;idNo&quot;)\n    private Address address;\n\n    // For Devices Received\n    @JsonManagedReference\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;personalDetail&quot;, cascade = CascadeType.ALL)\n    private List&lt;DevicesReceived&gt; devicesReceivedList;\n\n    // For Devices Required\n    @JsonManagedReference\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;personalDetail&quot;, cascade = CascadeType.ALL)\n    private List&lt;DevicesRequired&gt; devicesRequiredList;\n\n    // For Benefits\n    @JsonManagedReference\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;personalDetail&quot;, cascade = CascadeType.ALL)\n    private List&lt;Benefit&gt; benefitList;\n}\n\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;address&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder(toBuilder = true)\n@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)\npublic class Address extends Auditable&lt;String&gt; implements Serializable {\n    private static final long serialVersionUID = 1L;\n    \n    @Id\n    private String idNo;\n\n    private String address;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name=&quot;devices_received&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder(toBuilder = true)\n@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)\npublic class DevicesReceived extends Auditable&lt;String&gt; implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private Integer id;\n\n    private String idNo;\n\n    private String device;\n\n    @JsonBackReference\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;personal_details_id_no&quot;, nullable = false)\n    private PersonalDetail personalDetail;\n}\n</code></pre>\n<pre><code>// Runner Function\npublic void saveData(DetailsResponseDTO detailsResponseDTO) throws Exception {\n    PersonalDetail personalDetail = new PersonalDetail().toBuilder()\n            .idNo(detailsResponseDTO.getData().idNo())\n            .name(detailsResponseDTO.getData().getName())\n            .address(detailsResponseDTO.getData().getAddress())\n            .devicesReceivedList(detailsResponseDTO.getData().getDevicesReceived())\n            .devicesRequiredList(detailsResponseDTO.getData().getDevicesRequired())\n            .benefitList(detailsResponseDTO.getData().getBenefits())\n            .build();\n    try {\n        personalDetailRepository.save(personalDetail);\n    } catch (Exception e) {\n        System.out.println(&quot;Error while saving personalDetail Details: &quot; + personalDetail + &quot;, with Exception: &quot; + e.toString());\n        throw e;\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","oracle","exception","jdbc"],"answers":[{"tags":[],"owner":{"account_id":2777971,"reputation":102,"user_id":2391143,"display_name":"troy_frommer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369170017,"creation_date":1369170017,"answer_id":16679409,"question_id":16679108,"body_markdown":"I have just started working with the java.sql.* package, but here is what I understand. A closed connection is an error that occurs and the DB session closes, but no error handling is done so that is the end of it. With java.SQException you can manage this error (use a throws clause) and print it out or do other error handling methods. \r\n\r\nHere is a link from Oracle about Exceptions and how to handle them.\r\n\r\nHope this helps.\r\n\r\n[Exceptions in Java.][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/","title":"java.sql.SQLException: Io exception: Socket read timed out vs Closed Connection","body":"<p>I have just started working with the java.sql.* package, but here is what I understand. A closed connection is an error that occurs and the DB session closes, but no error handling is done so that is the end of it. With java.SQException you can manage this error (use a throws clause) and print it out or do other error handling methods. </p>\n\n<p>Here is a link from Oracle about Exceptions and how to handle them.</p>\n\n<p>Hope this helps.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/\" rel=\"nofollow\">Exceptions in Java.</a></p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1450716650,"creation_date":1439958047,"answer_id":32086520,"question_id":16679108,"body_markdown":"Your understanding on closed connection is right. reason for closed connection: External devices such as firewall, network devices, and remote database listeners can force network connections to close after a period of inactivity\r\n\r\nReadTimeOut will happen even on active connections. If a query or procedure is taking lot of time, you will get read time out exception.\r\n\r\n\r\n\r\n&gt;* Closed Connection : Shutdown the database listener when database is running\r\n&gt;* ReadTimedOut  : Add sleep in procedure for more than 10 minutes and call that procedure from application\r\n\r\nReplication of Socket read time out error in Oracle DB env:\r\n\r\n1. `setNetworkTimeout` for SQL [connection][1] // for example sake, set timeout as 120 seconds\r\n2. Call a database procedure from java and sleep in that procedure for time more than setNetworkTimeout\r\n\r\n        dbms_lock.sleep(125); -- sleeps for 125 seconds\r\n\r\nSince procedure is not returning with-in 120 seconds due to 125 seconds sleep, java will throw socket read time out in above scenario.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html","title":"java.sql.SQLException: Io exception: Socket read timed out vs Closed Connection","body":"<p>Your understanding on closed connection is right. reason for closed connection: External devices such as firewall, network devices, and remote database listeners can force network connections to close after a period of inactivity</p>\n\n<p>ReadTimeOut will happen even on active connections. If a query or procedure is taking lot of time, you will get read time out exception.</p>\n\n<blockquote>\n  <ul>\n  <li>Closed Connection : Shutdown the database listener when database is running</li>\n  <li>ReadTimedOut  : Add sleep in procedure for more than 10 minutes and call that procedure from application</li>\n  </ul>\n</blockquote>\n\n<p>Replication of Socket read time out error in Oracle DB env:</p>\n\n<ol>\n<li><code>setNetworkTimeout</code> for SQL <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html\" rel=\"noreferrer\">connection</a> // for example sake, set timeout as 120 seconds</li>\n<li><p>Call a database procedure from java and sleep in that procedure for time more than setNetworkTimeout</p>\n\n<pre><code>dbms_lock.sleep(125); -- sleeps for 125 seconds\n</code></pre></li>\n</ol>\n\n<p>Since procedure is not returning with-in 120 seconds due to 125 seconds sleep, java will throw socket read time out in above scenario.</p>\n"},{"tags":[],"owner":{"account_id":7026627,"reputation":11,"user_id":5383780,"display_name":"Chaitanya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697109012,"creation_date":1697109012,"answer_id":77280036,"question_id":16679108,"body_markdown":"I had similar problem. Try increasing wait connection timeout.","title":"java.sql.SQLException: Io exception: Socket read timed out vs Closed Connection","body":"<p>I had similar problem. Try increasing wait connection timeout.</p>\n"}],"owner":{"account_id":1453984,"reputation":135,"user_id":1370124,"display_name":"kart0624"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85665,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1697109012,"creation_date":1369168823,"question_id":16679108,"body_markdown":"I am trying to research this issue on the following two errors connecting to Oracle DBs:\r\n\r\n 1. Closed Connection\r\n 2. `java.sql.SQLException`: Io exception: Socket read timed out\r\n\r\nMy understanding:\r\n\r\n 1. Closed Connection : Is occurring either because there was some sort of network disruption or the DB closed the session due to some sort &quot;inactivity&quot;\r\n 2. `java.sql.SQLException`: Io exception: Socket read timed out : This is a case where the connection was made successfully but for some reason the socket/data was empty and eventually it timed-out because no data was available.\r\n\r\nIs it possible to replicate the above errors in a local Oracle DB env ? What are the steps ?\r\n\r\nI appreciate you taking the time to respond.\r\n\r\nThanks.","title":"java.sql.SQLException: Io exception: Socket read timed out vs Closed Connection","body":"<p>I am trying to research this issue on the following two errors connecting to Oracle DBs:</p>\n\n<ol>\n<li>Closed Connection</li>\n<li><code>java.sql.SQLException</code>: Io exception: Socket read timed out</li>\n</ol>\n\n<p>My understanding:</p>\n\n<ol>\n<li>Closed Connection : Is occurring either because there was some sort of network disruption or the DB closed the session due to some sort \"inactivity\"</li>\n<li><code>java.sql.SQLException</code>: Io exception: Socket read timed out : This is a case where the connection was made successfully but for some reason the socket/data was empty and eventually it timed-out because no data was available.</li>\n</ol>\n\n<p>Is it possible to replicate the above errors in a local Oracle DB env ? What are the steps ?</p>\n\n<p>I appreciate you taking the time to respond.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","maven","docker"],"answers":[{"tags":[],"owner":{"account_id":3450359,"reputation":22086,"user_id":2890168,"accept_rate":56,"display_name":"Matteo Pacini"},"down_vote_count":5,"up_vote_count":20,"is_accepted":false,"score":15,"last_activity_date":1420388959,"creation_date":1420388599,"answer_id":27767613,"question_id":27767264,"body_markdown":"As a rule of thumb, you should build a **fat JAR** using Maven (a JAR that contains both your code and all dependencies).\r\n\r\nThen you can write a **Dockerfile** that matches your requirements (if you can build a fat JAR you would only need a base os, like CentOS, and the JVM).\r\n\r\nThis is what I use for a Scala app (which is Java-based).\r\n\r\n    FROM centos:centos7\r\n\r\n    # Prerequisites.\r\n\r\n    RUN yum -y update\r\n    RUN yum -y install wget tar\r\n\r\n    # Oracle Java 7\r\n\r\n    WORKDIR /opt\r\n\r\n    RUN wget --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/7u71-b14/server-jre-7u71-linux-x64.tar.gz\r\n    RUN tar xzf server-jre-7u71-linux-x64.tar.gz\r\n    RUN rm -rf server-jre-7u71-linux-x64.tar.gz\r\n    RUN alternatives --install /usr/bin/java java /opt/jdk1.7.0_71/bin/java 1\r\n\r\n    # App\r\n\r\n    USER daemon\r\n\r\n    # This copies to local fat jar inside the image\r\n    ADD /local/path/to/packaged/app/appname.jar /app/appname.jar\r\n\r\n    # What to run when the container starts\r\n    ENTRYPOINT [ &quot;java&quot;, &quot;-jar&quot;, &quot;/app/appname.jar&quot; ]\r\n\r\n    # Ports used by the app\r\n    EXPOSE 5000\r\n\r\nThis creates a CentOS-based image with Java7.\r\nWhen started, it will execute your app jar.\r\n\r\nThe best way to deploy it is via the Docker Registry, it&#39;s like a Github for Docker images.\r\n\r\nYou can build an image like this:\r\n\r\n    # current dir must contain the Dockerfile\r\n    docker build -t username/projectname:tagname .\r\n\r\nYou can then push an image in this way:\r\n \r\n    docker push username/projectname # this pushes all tags\r\n\r\nOnce the image is on the Docker Registry, you can pull it from anywhere in the world and run it.\r\n\r\nSee [Docker User Guide][1] for more informations.\r\n\r\n    \r\n**Something to keep in mind**:\r\n\r\nYou could also pull your repository inside an image and build the jar as part of the container execution, but it&#39;s not a good approach, as the code could change and you might end up using a different version of the app without notice.\r\n\r\nBuilding a fat jar removes this issue.\r\n\r\n  [1]: http://docs.docker.com/userguide/","title":"How to dockerize maven project? and how many ways to accomplish it?","body":"<p>As a rule of thumb, you should build a <strong>fat JAR</strong> using Maven (a JAR that contains both your code and all dependencies).</p>\n\n<p>Then you can write a <strong>Dockerfile</strong> that matches your requirements (if you can build a fat JAR you would only need a base os, like CentOS, and the JVM).</p>\n\n<p>This is what I use for a Scala app (which is Java-based).</p>\n\n<pre><code>FROM centos:centos7\n\n# Prerequisites.\n\nRUN yum -y update\nRUN yum -y install wget tar\n\n# Oracle Java 7\n\nWORKDIR /opt\n\nRUN wget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/7u71-b14/server-jre-7u71-linux-x64.tar.gz\nRUN tar xzf server-jre-7u71-linux-x64.tar.gz\nRUN rm -rf server-jre-7u71-linux-x64.tar.gz\nRUN alternatives --install /usr/bin/java java /opt/jdk1.7.0_71/bin/java 1\n\n# App\n\nUSER daemon\n\n# This copies to local fat jar inside the image\nADD /local/path/to/packaged/app/appname.jar /app/appname.jar\n\n# What to run when the container starts\nENTRYPOINT [ \"java\", \"-jar\", \"/app/appname.jar\" ]\n\n# Ports used by the app\nEXPOSE 5000\n</code></pre>\n\n<p>This creates a CentOS-based image with Java7.\nWhen started, it will execute your app jar.</p>\n\n<p>The best way to deploy it is via the Docker Registry, it's like a Github for Docker images.</p>\n\n<p>You can build an image like this:</p>\n\n<pre><code># current dir must contain the Dockerfile\ndocker build -t username/projectname:tagname .\n</code></pre>\n\n<p>You can then push an image in this way:</p>\n\n<pre><code>docker push username/projectname # this pushes all tags\n</code></pre>\n\n<p>Once the image is on the Docker Registry, you can pull it from anywhere in the world and run it.</p>\n\n<p>See <a href=\"http://docs.docker.com/userguide/\" rel=\"noreferrer\">Docker User Guide</a> for more informations.</p>\n\n<p><strong>Something to keep in mind</strong>:</p>\n\n<p>You could also pull your repository inside an image and build the jar as part of the container execution, but it's not a good approach, as the code could change and you might end up using a different version of the app without notice.</p>\n\n<p>Building a fat jar removes this issue.</p>\n"},{"tags":[],"owner":{"account_id":93866,"reputation":76253,"user_id":256618,"display_name":"Mark O&#39;Connor"},"down_vote_count":3,"up_vote_count":272,"is_accepted":true,"score":269,"last_activity_date":1697108723,"creation_date":1420396700,"answer_id":27768965,"question_id":27767264,"body_markdown":"# Working example. \r\n\r\nThis is not a spring boot tutorial. It&#39;s the updated answer to a question on how to run a Maven build within a Docker container.\r\n\r\nQuestion originally posted 8 years ago.\r\n\r\n---\r\n# Update (2023-10-12)\r\n\r\nThis answer is revised to take advantage of the new Builkit engine, which is not the default in Docker. Also includes some optional Kubernetes features.\r\n\r\nI hope this helps\r\n\r\n## 1. Generate a demo application\r\n\r\nSpring Boot demo application generated using the [Spring Initializr](https://start.spring.io/)\r\n\r\nUsing the form select &quot;Maven&quot;, &quot;Java&quot; and note that today it defaults to Java 17.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n## 2. Create a Dockerfile\r\n\r\n```\r\n#\r\n# Build stage\r\n#\r\nFROM eclipse-temurin:17-jdk-jammy AS build\r\nENV HOME=/usr/app\r\nRUN mkdir -p $HOME\r\nWORKDIR $HOME\r\nADD . $HOME\r\nRUN --mount=type=cache,target=/root/.m2 ./mvnw -f $HOME/pom.xml clean package\r\n\r\n#\r\n# Package stage\r\n#\r\nFROM eclipse-temurin:17-jre-jammy \r\nARG JAR_FILE=/usr/app/target/*.jar\r\nCOPY --from=build $JAR_FILE /app/runner.jar\r\nEXPOSE 8080\r\nENTRYPOINT java -jar /app/runner.jar\r\n```\r\n\r\nNotes\r\n\r\n1. Decided on the [Eclipse Temurin](https://hub.docker.com/_/eclipse-temurin) java base image. There is now a rich choice of different Open JDK options today\r\n1. I prefer debian base images. You can change this choice by [looking at available tags](https://hub.docker.com/_/eclipse-temurin/tags?page=1&amp;name=17-jdk)\r\n1. Using the &quot;17-jre-jammy&quot; tag for second stage, to make final image smaller.\r\n1. The Spring boot initializer just needs a JDK. Maven on-board\r\n1. Note the the cache mount type. This is a [Buildkit innovation](https://docs.docker.com/build/guide/mounts/) to cache dendencies between builds \r\n\r\n## 3. Login to registry\r\n\r\n```\r\ndocker login myregistry\r\n```\r\n\r\nThis is the generic command. Some cloud provider registries have alternative commands like:\r\n\r\n```\r\naz acr login --name my-azure-registry\r\n```\r\n\r\n## 4. Build the image\r\n\r\nBuildkit is now the default build engine in Docker. Here I use it to run  build on my Kubernetes cluster.\r\n\r\n\r\n```\r\n#\r\n# (Optional) Run a build pod on your k8s cluster\r\n#\r\ndocker buildx create --name my-builder --driver kubernetes --driver-opt replicas=1 --use\r\n\r\n#\r\n# Build and push the image (Buildkit &quot;buildx&quot; plugin is now part of Docker)\r\n#\r\ndocker buildx build --tag  myregistry/myorg/demo:latest --push .\r\n```\r\n\r\nNote:\r\n\r\n1. Normally I&#39;d push more than just the &quot;latest&quot; tag. That is out of scope for this answer.\r\n\r\nReference:\r\n\r\n * https://docs.docker.com/build/builders/\r\n * https://docs.docker.com/build/drivers/kubernetes/\r\n\r\n## 5. Run the image\r\n\r\nRun locally using Docker\r\n\r\n```\r\ndocker run -d -p 8080:8080 myregistry/myorg/demo:latest\r\n```\r\n\r\nDeploy to Kubernetes\r\n\r\n```\r\nkubectl create ns demo\r\nkubectl -n demo create deployment demo --image=myregistry/myorg/demo:latest --port=8080 --replicas=1\r\nkubectl -n demo expose deployment demo --type=LoadBalancer\r\n```\r\n\r\nNote:\r\n\r\n1. This is a demo. Not the recommended way to deploy to Kubernetes. I would use a Helm chart (again out of scope of this answer)\r\n\r\n---\r\n# Update (2019-02-22)\r\n\r\nThis answer tried to spell out the steps to run Maven within a multi-stage Dockerfile\r\n\r\n## 1. Generate an application \r\n\r\nUse the spring initializer to generate a demo app\r\n\r\nhttps://start.spring.io/\r\n\r\n[![enter image description here][2]][2]\r\n\r\nExtract the zip archive locally\r\n\r\n## 2. Create a Dockerfile\r\n\r\n```\r\n#\r\n# Build stage\r\n#\r\nFROM maven:3.6.0-jdk-11-slim AS build\r\nCOPY src /home/app/src\r\nCOPY pom.xml /home/app\r\nRUN mvn -f /home/app/pom.xml clean package\r\n\r\n#\r\n# Package stage\r\n#\r\nFROM openjdk:11-jre-slim\r\nCOPY --from=build /home/app/target/demo-0.0.1-SNAPSHOT.jar /usr/local/lib/demo.jar\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/usr/local/lib/demo.jar&quot;]\r\n```\r\n\r\nNote\r\n\r\n * This example uses a [multi-stage build](https://docs.docker.com/develop/develop-images/multistage-build/). The first stage is used to build the code. The second stage only contains the built jar and a JRE to run it (note how jar is copied between stages).\r\n\r\n\r\n## 3. Build the image\r\n\r\n```\r\ndocker build -t demo .\r\n```\r\n\r\n## 4. Run the image\r\n\r\n```\r\n$ docker run --rm -it demo:latest\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.1.3.RELEASE)\r\n\r\n2019-02-22 17:18:57.835  INFO 1 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication v0.0.1-SNAPSHOT on f4e67677c9a9 with PID 1 (/usr/local/bin/demo.jar started by root in /)\r\n2019-02-22 17:18:57.837  INFO 1 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default\r\n2019-02-22 17:18:58.294  INFO 1 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 0.711 seconds (JVM running for 1.035)\r\n```\r\n\r\n## Misc\r\n\r\nRead the Docker hub documentation on how the Maven build can be optimized to use a local repository to cache jars. \r\n\r\n* https://hub.docker.com/_/maven\r\n____\r\n\r\n# Update (2019-02-07)\r\n\r\nThis question is now 4 years old and in that time it&#39;s fair to say building application using Docker has undergone significant change.\r\n\r\n## Option 1: Multi-stage build\r\n\r\nThis new style enables you to create more light-weight images that don&#39;t encapsulate your build tools and source code.\r\n\r\nThe example here again uses the [official maven](https://registry.hub.docker.com/_/maven/) base image to run first stage of the build using a desired version of Maven. The second part of the file defines how the built jar is assembled into the final output image. \r\n\r\n```\r\nFROM maven:3.5-jdk-8 AS build  \r\nCOPY src /usr/src/app/src  \r\nCOPY pom.xml /usr/src/app  \r\nRUN mvn -f /usr/src/app/pom.xml clean package\r\n\r\nFROM gcr.io/distroless/java  \r\nCOPY --from=build /usr/src/app/target/helloworld-1.0.0-SNAPSHOT.jar /usr/app/helloworld-1.0.0-SNAPSHOT.jar  \r\nEXPOSE 8080  \r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/usr/app/helloworld-1.0.0-SNAPSHOT.jar&quot;]  \r\n```\r\nNote:\r\n\r\n* I&#39;m using Google&#39;s [distroless](https://github.com/GoogleContainerTools/distroless) base image, which strives to provide just enough run-time for a java app.     \r\n\r\n## Option 2: Jib\r\n\r\nI haven&#39;t used this approach but seems worthy of investigation as it enables you to build images without having to create nasty things like Dockerfiles :-)\r\n\r\nhttps://github.com/GoogleContainerTools/jib\r\n\r\nThe project has a [Maven plugin](https://github.com/GoogleContainerTools/jib/tree/master/jib-maven-plugin) which integrates the packaging of your code directly into your Maven workflow.\r\n\r\n\r\n-------\r\n\r\n# Original answer (Included for completeness, but written ages ago)\r\n\r\nTry using the new official images, there&#39;s one for Maven\r\n\r\nhttps://registry.hub.docker.com/_/maven/\r\n\r\nThe image can be used to run Maven at build time to create a compiled application or, as in the following examples, to run a Maven build within a container.\r\n\r\n## Example 1 - Maven running within a container\r\n\r\nThe following command runs your Maven build inside a container:\r\n\r\n    docker run -it --rm \\\r\n           -v &quot;$(pwd)&quot;:/opt/maven \\\r\n           -w /opt/maven \\\r\n           maven:3.2-jdk-7 \\\r\n           mvn clean install\r\n\r\nNotes:\r\n\r\n- The neat thing about this approach is that all software is installed and running within the container. Only need docker on the host machine.\r\n- See [Dockerfile for this version][3]\r\n\r\n## Example 2 - Use Nexus to cache files\r\n\r\nRun the Nexus container\r\n\r\n    docker run -d -p 8081:8081 --name nexus sonatype/nexus\r\n\r\nCreate a &quot;settings.xml&quot; file:\r\n\r\n    &lt;settings&gt;\r\n      &lt;mirrors&gt;\r\n        &lt;mirror&gt;\r\n          &lt;id&gt;nexus&lt;/id&gt;\r\n          &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\r\n          &lt;url&gt;http://nexus:8081/content/groups/public/&lt;/url&gt;\r\n        &lt;/mirror&gt;\r\n      &lt;/mirrors&gt;\r\n    &lt;/settings&gt;\r\n\r\nNow run Maven linking to the nexus container, so that dependencies will be cached\r\n\r\n    docker run -it --rm \\\r\n           -v &quot;$(pwd)&quot;:/opt/maven \\\r\n           -w /opt/maven \\\r\n           --link nexus:nexus \\\r\n           maven:3.2-jdk-7 \\\r\n           mvn -s settings.xml clean install\r\n\r\nNotes:\r\n\r\n- An advantage of running Nexus in the background is that other 3rd party repositories can be managed via the admin URL transparently to the Maven builds running in local containers.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xamX6.png\r\n  [2]: https://i.stack.imgur.com/6M2H5.png\r\n  [3]: https://github.com/carlossg/docker-maven/blob/master/jdk-7/Dockerfile","title":"How to dockerize maven project? and how many ways to accomplish it?","body":"<h1>Working example.</h1>\n<p>This is not a spring boot tutorial. It's the updated answer to a question on how to run a Maven build within a Docker container.</p>\n<p>Question originally posted 8 years ago.</p>\n<hr />\n<h1>Update (2023-10-12)</h1>\n<p>This answer is revised to take advantage of the new Builkit engine, which is not the default in Docker. Also includes some optional Kubernetes features.</p>\n<p>I hope this helps</p>\n<h2>1. Generate a demo application</h2>\n<p>Spring Boot demo application generated using the <a href=\"https://start.spring.io/\" rel=\"noreferrer\">Spring Initializr</a></p>\n<p>Using the form select &quot;Maven&quot;, &quot;Java&quot; and note that today it defaults to Java 17.</p>\n<p><a href=\"https://i.stack.imgur.com/xamX6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xamX6.png\" alt=\"enter image description here\" /></a></p>\n<h2>2. Create a Dockerfile</h2>\n<pre><code>#\n# Build stage\n#\nFROM eclipse-temurin:17-jdk-jammy AS build\nENV HOME=/usr/app\nRUN mkdir -p $HOME\nWORKDIR $HOME\nADD . $HOME\nRUN --mount=type=cache,target=/root/.m2 ./mvnw -f $HOME/pom.xml clean package\n\n#\n# Package stage\n#\nFROM eclipse-temurin:17-jre-jammy \nARG JAR_FILE=/usr/app/target/*.jar\nCOPY --from=build $JAR_FILE /app/runner.jar\nEXPOSE 8080\nENTRYPOINT java -jar /app/runner.jar\n</code></pre>\n<p>Notes</p>\n<ol>\n<li>Decided on the <a href=\"https://hub.docker.com/_/eclipse-temurin\" rel=\"noreferrer\">Eclipse Temurin</a> java base image. There is now a rich choice of different Open JDK options today</li>\n<li>I prefer debian base images. You can change this choice by <a href=\"https://hub.docker.com/_/eclipse-temurin/tags?page=1&amp;name=17-jdk\" rel=\"noreferrer\">looking at available tags</a></li>\n<li>Using the &quot;17-jre-jammy&quot; tag for second stage, to make final image smaller.</li>\n<li>The Spring boot initializer just needs a JDK. Maven on-board</li>\n<li>Note the the cache mount type. This is a <a href=\"https://docs.docker.com/build/guide/mounts/\" rel=\"noreferrer\">Buildkit innovation</a> to cache dendencies between builds</li>\n</ol>\n<h2>3. Login to registry</h2>\n<pre><code>docker login myregistry\n</code></pre>\n<p>This is the generic command. Some cloud provider registries have alternative commands like:</p>\n<pre><code>az acr login --name my-azure-registry\n</code></pre>\n<h2>4. Build the image</h2>\n<p>Buildkit is now the default build engine in Docker. Here I use it to run  build on my Kubernetes cluster.</p>\n<pre><code>#\n# (Optional) Run a build pod on your k8s cluster\n#\ndocker buildx create --name my-builder --driver kubernetes --driver-opt replicas=1 --use\n\n#\n# Build and push the image (Buildkit &quot;buildx&quot; plugin is now part of Docker)\n#\ndocker buildx build --tag  myregistry/myorg/demo:latest --push .\n</code></pre>\n<p>Note:</p>\n<ol>\n<li>Normally I'd push more than just the &quot;latest&quot; tag. That is out of scope for this answer.</li>\n</ol>\n<p>Reference:</p>\n<ul>\n<li><a href=\"https://docs.docker.com/build/builders/\" rel=\"noreferrer\">https://docs.docker.com/build/builders/</a></li>\n<li><a href=\"https://docs.docker.com/build/drivers/kubernetes/\" rel=\"noreferrer\">https://docs.docker.com/build/drivers/kubernetes/</a></li>\n</ul>\n<h2>5. Run the image</h2>\n<p>Run locally using Docker</p>\n<pre><code>docker run -d -p 8080:8080 myregistry/myorg/demo:latest\n</code></pre>\n<p>Deploy to Kubernetes</p>\n<pre><code>kubectl create ns demo\nkubectl -n demo create deployment demo --image=myregistry/myorg/demo:latest --port=8080 --replicas=1\nkubectl -n demo expose deployment demo --type=LoadBalancer\n</code></pre>\n<p>Note:</p>\n<ol>\n<li>This is a demo. Not the recommended way to deploy to Kubernetes. I would use a Helm chart (again out of scope of this answer)</li>\n</ol>\n<hr />\n<h1>Update (2019-02-22)</h1>\n<p>This answer tried to spell out the steps to run Maven within a multi-stage Dockerfile</p>\n<h2>1. Generate an application</h2>\n<p>Use the spring initializer to generate a demo app</p>\n<p><a href=\"https://start.spring.io/\" rel=\"noreferrer\">https://start.spring.io/</a></p>\n<p><a href=\"https://i.stack.imgur.com/6M2H5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6M2H5.png\" alt=\"enter image description here\" /></a></p>\n<p>Extract the zip archive locally</p>\n<h2>2. Create a Dockerfile</h2>\n<pre><code>#\n# Build stage\n#\nFROM maven:3.6.0-jdk-11-slim AS build\nCOPY src /home/app/src\nCOPY pom.xml /home/app\nRUN mvn -f /home/app/pom.xml clean package\n\n#\n# Package stage\n#\nFROM openjdk:11-jre-slim\nCOPY --from=build /home/app/target/demo-0.0.1-SNAPSHOT.jar /usr/local/lib/demo.jar\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/usr/local/lib/demo.jar&quot;]\n</code></pre>\n<p>Note</p>\n<ul>\n<li>This example uses a <a href=\"https://docs.docker.com/develop/develop-images/multistage-build/\" rel=\"noreferrer\">multi-stage build</a>. The first stage is used to build the code. The second stage only contains the built jar and a JRE to run it (note how jar is copied between stages).</li>\n</ul>\n<h2>3. Build the image</h2>\n<pre><code>docker build -t demo .\n</code></pre>\n<h2>4. Run the image</h2>\n<pre><code>$ docker run --rm -it demo:latest\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.1.3.RELEASE)\n\n2019-02-22 17:18:57.835  INFO 1 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication v0.0.1-SNAPSHOT on f4e67677c9a9 with PID 1 (/usr/local/bin/demo.jar started by root in /)\n2019-02-22 17:18:57.837  INFO 1 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default\n2019-02-22 17:18:58.294  INFO 1 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 0.711 seconds (JVM running for 1.035)\n</code></pre>\n<h2>Misc</h2>\n<p>Read the Docker hub documentation on how the Maven build can be optimized to use a local repository to cache jars.</p>\n<ul>\n<li><a href=\"https://hub.docker.com/_/maven\" rel=\"noreferrer\">https://hub.docker.com/_/maven</a></li>\n</ul>\n<hr />\n<h1>Update (2019-02-07)</h1>\n<p>This question is now 4 years old and in that time it's fair to say building application using Docker has undergone significant change.</p>\n<h2>Option 1: Multi-stage build</h2>\n<p>This new style enables you to create more light-weight images that don't encapsulate your build tools and source code.</p>\n<p>The example here again uses the <a href=\"https://registry.hub.docker.com/_/maven/\" rel=\"noreferrer\">official maven</a> base image to run first stage of the build using a desired version of Maven. The second part of the file defines how the built jar is assembled into the final output image.</p>\n<pre><code>FROM maven:3.5-jdk-8 AS build  \nCOPY src /usr/src/app/src  \nCOPY pom.xml /usr/src/app  \nRUN mvn -f /usr/src/app/pom.xml clean package\n\nFROM gcr.io/distroless/java  \nCOPY --from=build /usr/src/app/target/helloworld-1.0.0-SNAPSHOT.jar /usr/app/helloworld-1.0.0-SNAPSHOT.jar  \nEXPOSE 8080  \nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/usr/app/helloworld-1.0.0-SNAPSHOT.jar&quot;]  \n</code></pre>\n<p>Note:</p>\n<ul>\n<li>I'm using Google's <a href=\"https://github.com/GoogleContainerTools/distroless\" rel=\"noreferrer\">distroless</a> base image, which strives to provide just enough run-time for a java app.</li>\n</ul>\n<h2>Option 2: Jib</h2>\n<p>I haven't used this approach but seems worthy of investigation as it enables you to build images without having to create nasty things like Dockerfiles :-)</p>\n<p><a href=\"https://github.com/GoogleContainerTools/jib\" rel=\"noreferrer\">https://github.com/GoogleContainerTools/jib</a></p>\n<p>The project has a <a href=\"https://github.com/GoogleContainerTools/jib/tree/master/jib-maven-plugin\" rel=\"noreferrer\">Maven plugin</a> which integrates the packaging of your code directly into your Maven workflow.</p>\n<hr />\n<h1>Original answer (Included for completeness, but written ages ago)</h1>\n<p>Try using the new official images, there's one for Maven</p>\n<p><a href=\"https://registry.hub.docker.com/_/maven/\" rel=\"noreferrer\">https://registry.hub.docker.com/_/maven/</a></p>\n<p>The image can be used to run Maven at build time to create a compiled application or, as in the following examples, to run a Maven build within a container.</p>\n<h2>Example 1 - Maven running within a container</h2>\n<p>The following command runs your Maven build inside a container:</p>\n<pre><code>docker run -it --rm \\\n       -v &quot;$(pwd)&quot;:/opt/maven \\\n       -w /opt/maven \\\n       maven:3.2-jdk-7 \\\n       mvn clean install\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>The neat thing about this approach is that all software is installed and running within the container. Only need docker on the host machine.</li>\n<li>See <a href=\"https://github.com/carlossg/docker-maven/blob/master/jdk-7/Dockerfile\" rel=\"noreferrer\">Dockerfile for this version</a></li>\n</ul>\n<h2>Example 2 - Use Nexus to cache files</h2>\n<p>Run the Nexus container</p>\n<pre><code>docker run -d -p 8081:8081 --name nexus sonatype/nexus\n</code></pre>\n<p>Create a &quot;settings.xml&quot; file:</p>\n<pre><code>&lt;settings&gt;\n  &lt;mirrors&gt;\n    &lt;mirror&gt;\n      &lt;id&gt;nexus&lt;/id&gt;\n      &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\n      &lt;url&gt;http://nexus:8081/content/groups/public/&lt;/url&gt;\n    &lt;/mirror&gt;\n  &lt;/mirrors&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>Now run Maven linking to the nexus container, so that dependencies will be cached</p>\n<pre><code>docker run -it --rm \\\n       -v &quot;$(pwd)&quot;:/opt/maven \\\n       -w /opt/maven \\\n       --link nexus:nexus \\\n       maven:3.2-jdk-7 \\\n       mvn -s settings.xml clean install\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>An advantage of running Nexus in the background is that other 3rd party repositories can be managed via the admin URL transparently to the Maven builds running in local containers.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7869735,"reputation":1778,"user_id":5947458,"display_name":"Riddhi Gohil"},"down_vote_count":1,"up_vote_count":54,"is_accepted":false,"score":53,"last_activity_date":1491166580,"creation_date":1460700305,"answer_id":36639369,"question_id":27767264,"body_markdown":"There may be many ways.. But I implemented by following two ways\r\n\r\nGiven example is of maven project.\r\n\r\n\r\n**1. Using Dockerfile in maven project**\r\n\r\nUse the following file structure:  \r\n\r\n    Demo\r\n    └── src\r\n    |    ├── main\r\n    |    │   ├── java\r\n    |    │       └── org\r\n    |    │           └── demo\r\n    |    │               └── Application.java\r\n    |    │   \r\n    |    └── test\r\n    |\r\n    ├──── Dockerfile\r\n    ├──── pom.xml\r\n\r\n\r\nAnd update the Dockerfile as: \r\n\r\n    FROM java:8\r\n    EXPOSE 8080\r\n    ADD /target/demo.jar demo.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;demo.jar&quot;]\r\n\r\n\r\nNavigate to the project folder and type following command you will be ab\r\nle to create image and run that image:\r\n\r\n    $ mvn clean\r\n    $ mvn install\r\n    $ docker build -f Dockerfile -t springdemo .\r\n    $ docker run -p 8080:8080 -t springdemo\r\n\r\n**Get video at [Spring Boot with Docker][1]**\r\n\r\n**2. Using Maven plugins**\r\n\r\nAdd given maven plugin in `pom.xml`\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.4.5&lt;/version&gt;\r\n    \t\t&lt;configuration&gt;\r\n    \t\t\t&lt;imageName&gt;springdocker&lt;/imageName&gt;\r\n    \t\t\t&lt;baseImage&gt;java&lt;/baseImage&gt;\r\n    \t\t\t&lt;entryPoint&gt;[&quot;java&quot;, &quot;-jar&quot;, &quot;/${project.build.finalName}.jar&quot;]&lt;/entryPoint&gt;\r\n    \t\t\t&lt;resources&gt;\r\n    \t\t\t\t&lt;resource&gt;\r\n    \t\t\t\t\t&lt;targetPath&gt;/&lt;/targetPath&gt;\r\n    \t\t\t\t\t&lt;directory&gt;${project.build.directory}&lt;/directory&gt;\r\n    \t\t\t\t\t&lt;include&gt;${project.build.finalName}.jar&lt;/include&gt;\r\n    \t\t\t\t&lt;/resource&gt;\r\n    \t\t\t&lt;/resources&gt;\r\n    \t    &lt;/configuration&gt;\r\n    \t&lt;/plugin&gt;\r\nNavigate to the project folder and type following command you will be able to create image and run that image:\r\n\r\n    $ mvn clean package docker:build\r\n    $ docker images\r\n    $ docker run -p 8080:8080 -t &lt;image name&gt;\r\n\r\nIn first example we are creating Dockerfile and providing base image and adding jar an so, after doing that we will run docker command to build an image with specific name and then run that image..\r\n\r\nWhereas in second example we are using maven plugin in which we providing `baseImage` and `imageName` so we don&#39;t need to create Dockerfile here.. after packaging maven project we will get the docker image and we just need to run that image..\r\n\r\n\r\n  [1]: https://youtu.be/Ojs9I-gnkc8","title":"How to dockerize maven project? and how many ways to accomplish it?","body":"<p>There may be many ways.. But I implemented by following two ways</p>\n\n<p>Given example is of maven project.</p>\n\n<p><strong>1. Using Dockerfile in maven project</strong></p>\n\n<p>Use the following file structure:  </p>\n\n<pre><code>Demo\n└── src\n|    ├── main\n|    │   ├── java\n|    │       └── org\n|    │           └── demo\n|    │               └── Application.java\n|    │   \n|    └── test\n|\n├──── Dockerfile\n├──── pom.xml\n</code></pre>\n\n<p>And update the Dockerfile as: </p>\n\n<pre><code>FROM java:8\nEXPOSE 8080\nADD /target/demo.jar demo.jar\nENTRYPOINT [\"java\",\"-jar\",\"demo.jar\"]\n</code></pre>\n\n<p>Navigate to the project folder and type following command you will be ab\nle to create image and run that image:</p>\n\n<pre><code>$ mvn clean\n$ mvn install\n$ docker build -f Dockerfile -t springdemo .\n$ docker run -p 8080:8080 -t springdemo\n</code></pre>\n\n<p><strong>Get video at <a href=\"https://youtu.be/Ojs9I-gnkc8\" rel=\"noreferrer\">Spring Boot with Docker</a></strong></p>\n\n<p><strong>2. Using Maven plugins</strong></p>\n\n<p>Add given maven plugin in <code>pom.xml</code></p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n    &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.4.5&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;imageName&gt;springdocker&lt;/imageName&gt;\n            &lt;baseImage&gt;java&lt;/baseImage&gt;\n            &lt;entryPoint&gt;[\"java\", \"-jar\", \"/${project.build.finalName}.jar\"]&lt;/entryPoint&gt;\n            &lt;resources&gt;\n                &lt;resource&gt;\n                    &lt;targetPath&gt;/&lt;/targetPath&gt;\n                    &lt;directory&gt;${project.build.directory}&lt;/directory&gt;\n                    &lt;include&gt;${project.build.finalName}.jar&lt;/include&gt;\n                &lt;/resource&gt;\n            &lt;/resources&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>Navigate to the project folder and type following command you will be able to create image and run that image:</p>\n\n<pre><code>$ mvn clean package docker:build\n$ docker images\n$ docker run -p 8080:8080 -t &lt;image name&gt;\n</code></pre>\n\n<p>In first example we are creating Dockerfile and providing base image and adding jar an so, after doing that we will run docker command to build an image with specific name and then run that image..</p>\n\n<p>Whereas in second example we are using maven plugin in which we providing <code>baseImage</code> and <code>imageName</code> so we don't need to create Dockerfile here.. after packaging maven project we will get the docker image and we just need to run that image..</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1617639961,"creation_date":1583416275,"answer_id":60546900,"question_id":27767264,"body_markdown":"Here is my contribution.    \r\nI will not try to list all tools/libraries/plugins that exist to take advantage of Docker with Maven.  Some answers have already done it.   \r\ninstead of, I will focus on applications typology and the Dockerfile way.     \r\n`Dockerfile` is really a simple and important concept of Docker (all known/public images rely on that) and I think that trying to avoid understanding and using `Dockerfile`s is not necessarily the better way to enter in the Docker world.   \r\n\r\n\r\n&lt;h2&gt;Dockerizing an application depends on the application itself and the goal to reach&lt;/h2&gt;\r\n\r\n**1) For applications that we want to go on to run them on installed/standalone Java server (Tomcat, JBoss, etc...)** \r\n\r\n**The road is harder and that is not the ideal target** because that adds complexity (we have to manage/maintain the server) and it is less scalable and less fast than embedded servers in terms of build/deploy/undeploy.    \r\nBut for legacy applications, that may be considered as a first step.  \r\nGenerally, the idea here is to define a Docker image that will contain the application server. You could have your own Tomcat, JBoss or Weblogic base Dockerfile that setup and configure the server.  \r\nAbout the application(s) to deploy on the server, there is not really a standard way.   \r\nA possible approach is defining a Dockerfile by application or set of applications to deploy together. The Dockerfile would have as base image the application server Dockerfile created earlier.    \r\nThat application Dockerfile would have as objective to retrieve the component (JARs/WARs/EARs) from Git or from a Maven repository manager for example and to deploy/install it/them properly on the application server.    \r\nFor huge applications (millions of line of codes) with a lot of legacy stuffs,  and so hard to migrate to a full spring boot embedded solution, that is really a nice improvement.     \r\nI will not detail more that approach since that is for minor use cases of Docker but I wanted to expose the overall idea of that approach because I think that  for developers facing to these complex cases, it is great to know that some doors are opened to integrate Docker.   \r\n\r\n**2) For applications that embed/bootstrap the server themselves (Spring Boot with server embedded : Tomcat, Netty, Jetty...)** \r\n\r\n**That is the ideal target with Docker**. \r\nI specified Spring Boot because that is a really nice framework to do that and that has also  a very high level of maintainability but in theory we could use any other Java way to achieve that.   \r\nGenerally, the idea here is to define a Docker image per application to deploy.   \r\nThe docker images for the applications produce a JAR or a set of JAR/classes/configuration files and these start a JVM with the application (java  command) when we create and start a container from these images.  \r\nFor new applications or applications not too complex to migrate, that way has to be favored over standalone servers because that is the standard way and the most efficient way of using containers.  \r\nI will detail that approach.   \r\n\r\n\r\n&lt;h2&gt;Dockerizing a maven application&lt;/h2&gt;\r\n\r\n**1) Without Spring Boot**    \r\n\r\nThe idea is to create a fat jar with Maven (the maven assembly plugin and the maven shade plugin help for that) that contains both the compiled classes of the application and needed maven dependencies.    \r\nThen we can identify two cases :     \r\n\r\n-  if the application is a desktop or autonomous application (that doesn&#39;t need to be deployed on a server)  : we could specify as `CMD/ENTRYPOINT` in the `Dockerfile` the java execution of the application : `java -cp .:/fooPath/* -jar myJar`   \r\n\r\n-  if the application is a server application, for example Tomcat, the idea is the same : to get a fat jar of the application and to run a JVM in the `CMD/ENTRYPOINT`.  But here with an important difference : we need to include some logic and specific libraries (`org.apache.tomcat.embed` libraries and some others) that starts the embedded server when the main application is started.   \r\nWe have a comprehensive guide [on the heroku website][1].    \r\nFor the first case (autonomous application), that is a straight and efficient way to use Docker.   \r\nFor the second case (server application), that works but that is not straight,  may be error prone and is not a very extensible model because you don&#39;t place your application in the frame of a mature framework such as Spring Boot that does many of these things for you and also provides a high level of extension.       \r\nBut that has a advantage : you have a high level of freedom because you use directly the embedded Tomcat API.    \r\n\r\n**2) With Spring Boot**     \r\n\r\nAt last, here we go.   \r\nThat is both simple, efficient and very well documented.    \r\nThere are really several approaches to make a Maven/Spring Boot application to run on Docker.   \r\nExposing all of them would be long and maybe boring.     \r\nThe best choice depends on your requirement.   \r\nBut whatever the way, the build strategy in terms of docker layers looks like the same.   \r\nWe want to use a multi stage build : one relying on Maven for the dependency resolution and for build and another one relying on JDK or JRE to start the application.    \r\n\r\n**Build stage (Maven image) :** \r\n\r\n- pom copy to the image\r\n- dependencies **and** plugins downloads.   \r\nAbout that, `mvn dependency:resolve-plugins` chained to `mvn dependency:resolve` may do the job but not always.   \r\nWhy ? Because these plugins and  the `package` execution to package the fat jar may rely on different artifacts/plugins and even for a same artifact/plugin, these may still pull a different version. \r\nSo a safer approach while potentially slower is resolving dependencies by executing exactly the `mvn` command used to package the application (which will pull exactly dependencies that you are need) but by skipping the source compilation and by deleting the target folder to make the processing faster and to prevent any undesirable layer change detection for that step.  \r\n- source code copy to the image\r\n- package the application \r\n\r\nRun stage (JDK or JRE image) : \r\n\r\n- copy the jar from the previous stage\r\n- entrypoint/cmd : run the application\r\n\r\n\r\nHere two examples.   \r\n\r\n**a) A simple way without cache for downloaded maven dependencies**   \r\n\r\n\r\nDockerfile : \r\n\r\n    ########Maven build stage########\r\n    FROM maven:3.6-jdk-11 as maven_build\r\n    WORKDIR /app\r\n    \r\n    #copy pom\r\n    COPY pom.xml .\r\n    \r\n    #resolve maven dependencies\r\n    RUN mvn clean package -Dmaven.test.skip -Dmaven.main.skip -Dspring-boot.repackage.skip &amp;&amp; rm -r target/\r\n    \r\n    #copy source\r\n    COPY src ./src\r\n    \r\n    # build the app (no dependency download here)\r\n    RUN mvn clean package  -Dmaven.test.skip\r\n\r\n    # split the built app into multiple layers to improve layer rebuild\r\n    RUN mkdir -p target/docker-packaging &amp;&amp; cd target/docker-packaging &amp;&amp; jar -xf ../my-app*.jar\r\n    \r\n    ########JRE run stage########\r\n    FROM openjdk:11.0-jre\r\n    WORKDIR /app\r\n    \r\n    #copy built app layer by layer\r\n    ARG DOCKER_PACKAGING_DIR=/app/target/docker-packaging\r\n    COPY --from=maven_build ${DOCKER_PACKAGING_DIR}/BOOT-INF/lib /app/lib\r\n    COPY --from=maven_build ${DOCKER_PACKAGING_DIR}/BOOT-INF/classes /app/classes\r\n    COPY --from=maven_build ${DOCKER_PACKAGING_DIR}/META-INF /app/META-INF\r\n    \r\n    #run the app\r\n    CMD java -cp .:classes:lib/* \\\r\n             -Djava.security.egd=file:/dev/./urandom \\\r\n             foo.bar.MySpringBootApplication\r\n\r\nDrawback of that solution ? Any changes in the pom.xml means re-creates the whole layer that download and stores the maven dependencies.\r\nThat is generally not acceptable for applications with many dependencies (and Spring Boot pulls many dependencies), overall if you don&#39;t use a maven repository manager during the image build.                                                                                                                                                                            \r\n\r\n**b) A more efficient way with cache for maven dependencies downloaded**   \r\n\r\nThe approach is here the same but maven dependencies downloads that are cached in the docker builder cache.   \r\nThe cache operation relies on buildkit (experimental api of docker).    \r\nTo enable buildkit, the env variable DOCKER_BUILDKIT=1 has to be set (you can do that where you want : .bashrc, command line, docker daemon json file...).  \r\n\r\nDockerfile : \r\n\r\n    # syntax=docker/dockerfile:experimental\r\n\r\n    ########Maven build stage########\r\n    FROM maven:3.6-jdk-11 as maven_build\r\n    WORKDIR /app\r\n    \r\n    #copy pom\r\n    COPY pom.xml .\r\n        \r\n    #copy source\r\n    COPY src ./src\r\n    \r\n    # build the app and download dependencies only when these are new (thanks to the cache)\r\n    RUN --mount=type=cache,target=/root/.m2  mvn clean package -Dmaven.test.skip\r\n\r\n    # split the built app into multiple layers to improve layer rebuild\r\n    RUN mkdir -p target/docker-packaging &amp;&amp; cd target/docker-packaging &amp;&amp; jar -xf ../my-app*.jar\r\n    \r\n    ########JRE run stage########\r\n    FROM openjdk:11.0-jre\r\n    WORKDIR /app\r\n    \r\n    #copy built app layer by layer\r\n    ARG DOCKER_PACKAGING_DIR=/app/target/docker-packaging\r\n    COPY --from=maven_build ${DOCKER_PACKAGING_DIR}/BOOT-INF/lib /app/lib\r\n    COPY --from=maven_build ${DOCKER_PACKAGING_DIR}/BOOT-INF/classes /app/classes\r\n    COPY --from=maven_build ${DOCKER_PACKAGING_DIR}/META-INF /app/META-INF\r\n    \r\n    #run the app\r\n    CMD java -cp .:classes:lib/* \\\r\n             -Djava.security.egd=file:/dev/./urandom \\\r\n             foo.bar.MySpringBootApplication\r\n\r\n                                                                                                                                                                            \r\n                                                                           \r\n                                                                           \r\n\r\n\r\n\r\n  [1]: http://%20https://devcenter.heroku.com/articles/create-a-java-web-application-using-embedded-tomcat\r\n","title":"How to dockerize maven project? and how many ways to accomplish it?","body":"<p>Here is my contribution.<br />\nI will not try to list all tools/libraries/plugins that exist to take advantage of Docker with Maven.  Some answers have already done it.<br />\ninstead of, I will focus on applications typology and the Dockerfile way.<br />\n<code>Dockerfile</code> is really a simple and important concept of Docker (all known/public images rely on that) and I think that trying to avoid understanding and using <code>Dockerfile</code>s is not necessarily the better way to enter in the Docker world.</p>\n<h2>Dockerizing an application depends on the application itself and the goal to reach</h2>\n<p><strong>1) For applications that we want to go on to run them on installed/standalone Java server (Tomcat, JBoss, etc...)</strong></p>\n<p><strong>The road is harder and that is not the ideal target</strong> because that adds complexity (we have to manage/maintain the server) and it is less scalable and less fast than embedded servers in terms of build/deploy/undeploy.<br />\nBut for legacy applications, that may be considered as a first step.<br />\nGenerally, the idea here is to define a Docker image that will contain the application server. You could have your own Tomcat, JBoss or Weblogic base Dockerfile that setup and configure the server.<br />\nAbout the application(s) to deploy on the server, there is not really a standard way.<br />\nA possible approach is defining a Dockerfile by application or set of applications to deploy together. The Dockerfile would have as base image the application server Dockerfile created earlier.<br />\nThat application Dockerfile would have as objective to retrieve the component (JARs/WARs/EARs) from Git or from a Maven repository manager for example and to deploy/install it/them properly on the application server.<br />\nFor huge applications (millions of line of codes) with a lot of legacy stuffs,  and so hard to migrate to a full spring boot embedded solution, that is really a nice improvement.<br />\nI will not detail more that approach since that is for minor use cases of Docker but I wanted to expose the overall idea of that approach because I think that  for developers facing to these complex cases, it is great to know that some doors are opened to integrate Docker.</p>\n<p><strong>2) For applications that embed/bootstrap the server themselves (Spring Boot with server embedded : Tomcat, Netty, Jetty...)</strong></p>\n<p><strong>That is the ideal target with Docker</strong>.\nI specified Spring Boot because that is a really nice framework to do that and that has also  a very high level of maintainability but in theory we could use any other Java way to achieve that.<br />\nGenerally, the idea here is to define a Docker image per application to deploy.<br />\nThe docker images for the applications produce a JAR or a set of JAR/classes/configuration files and these start a JVM with the application (java  command) when we create and start a container from these images.<br />\nFor new applications or applications not too complex to migrate, that way has to be favored over standalone servers because that is the standard way and the most efficient way of using containers.<br />\nI will detail that approach.</p>\n<h2>Dockerizing a maven application</h2>\n<p><strong>1) Without Spring Boot</strong></p>\n<p>The idea is to create a fat jar with Maven (the maven assembly plugin and the maven shade plugin help for that) that contains both the compiled classes of the application and needed maven dependencies.<br />\nThen we can identify two cases :</p>\n<ul>\n<li><p>if the application is a desktop or autonomous application (that doesn't need to be deployed on a server)  : we could specify as <code>CMD/ENTRYPOINT</code> in the <code>Dockerfile</code> the java execution of the application : <code>java -cp .:/fooPath/* -jar myJar</code></p>\n</li>\n<li><p>if the application is a server application, for example Tomcat, the idea is the same : to get a fat jar of the application and to run a JVM in the <code>CMD/ENTRYPOINT</code>.  But here with an important difference : we need to include some logic and specific libraries (<code>org.apache.tomcat.embed</code> libraries and some others) that starts the embedded server when the main application is started.<br />\nWe have a comprehensive guide <a href=\"http://%20https://devcenter.heroku.com/articles/create-a-java-web-application-using-embedded-tomcat\" rel=\"noreferrer\">on the heroku website</a>.<br />\nFor the first case (autonomous application), that is a straight and efficient way to use Docker.<br />\nFor the second case (server application), that works but that is not straight,  may be error prone and is not a very extensible model because you don't place your application in the frame of a mature framework such as Spring Boot that does many of these things for you and also provides a high level of extension.<br />\nBut that has a advantage : you have a high level of freedom because you use directly the embedded Tomcat API.</p>\n</li>\n</ul>\n<p><strong>2) With Spring Boot</strong></p>\n<p>At last, here we go.<br />\nThat is both simple, efficient and very well documented.<br />\nThere are really several approaches to make a Maven/Spring Boot application to run on Docker.<br />\nExposing all of them would be long and maybe boring.<br />\nThe best choice depends on your requirement.<br />\nBut whatever the way, the build strategy in terms of docker layers looks like the same.<br />\nWe want to use a multi stage build : one relying on Maven for the dependency resolution and for build and another one relying on JDK or JRE to start the application.</p>\n<p><strong>Build stage (Maven image) :</strong></p>\n<ul>\n<li>pom copy to the image</li>\n<li>dependencies <strong>and</strong> plugins downloads.<br />\nAbout that, <code>mvn dependency:resolve-plugins</code> chained to <code>mvn dependency:resolve</code> may do the job but not always.<br />\nWhy ? Because these plugins and  the <code>package</code> execution to package the fat jar may rely on different artifacts/plugins and even for a same artifact/plugin, these may still pull a different version.\nSo a safer approach while potentially slower is resolving dependencies by executing exactly the <code>mvn</code> command used to package the application (which will pull exactly dependencies that you are need) but by skipping the source compilation and by deleting the target folder to make the processing faster and to prevent any undesirable layer change detection for that step.</li>\n<li>source code copy to the image</li>\n<li>package the application</li>\n</ul>\n<p>Run stage (JDK or JRE image) :</p>\n<ul>\n<li>copy the jar from the previous stage</li>\n<li>entrypoint/cmd : run the application</li>\n</ul>\n<p>Here two examples.</p>\n<p><strong>a) A simple way without cache for downloaded maven dependencies</strong></p>\n<p>Dockerfile :</p>\n<pre><code>########Maven build stage########\nFROM maven:3.6-jdk-11 as maven_build\nWORKDIR /app\n\n#copy pom\nCOPY pom.xml .\n\n#resolve maven dependencies\nRUN mvn clean package -Dmaven.test.skip -Dmaven.main.skip -Dspring-boot.repackage.skip &amp;&amp; rm -r target/\n\n#copy source\nCOPY src ./src\n\n# build the app (no dependency download here)\nRUN mvn clean package  -Dmaven.test.skip\n\n# split the built app into multiple layers to improve layer rebuild\nRUN mkdir -p target/docker-packaging &amp;&amp; cd target/docker-packaging &amp;&amp; jar -xf ../my-app*.jar\n\n########JRE run stage########\nFROM openjdk:11.0-jre\nWORKDIR /app\n\n#copy built app layer by layer\nARG DOCKER_PACKAGING_DIR=/app/target/docker-packaging\nCOPY --from=maven_build ${DOCKER_PACKAGING_DIR}/BOOT-INF/lib /app/lib\nCOPY --from=maven_build ${DOCKER_PACKAGING_DIR}/BOOT-INF/classes /app/classes\nCOPY --from=maven_build ${DOCKER_PACKAGING_DIR}/META-INF /app/META-INF\n\n#run the app\nCMD java -cp .:classes:lib/* \\\n         -Djava.security.egd=file:/dev/./urandom \\\n         foo.bar.MySpringBootApplication\n</code></pre>\n<p>Drawback of that solution ? Any changes in the pom.xml means re-creates the whole layer that download and stores the maven dependencies.\nThat is generally not acceptable for applications with many dependencies (and Spring Boot pulls many dependencies), overall if you don't use a maven repository manager during the image build.</p>\n<p><strong>b) A more efficient way with cache for maven dependencies downloaded</strong></p>\n<p>The approach is here the same but maven dependencies downloads that are cached in the docker builder cache.<br />\nThe cache operation relies on buildkit (experimental api of docker).<br />\nTo enable buildkit, the env variable DOCKER_BUILDKIT=1 has to be set (you can do that where you want : .bashrc, command line, docker daemon json file...).</p>\n<p>Dockerfile :</p>\n<pre><code># syntax=docker/dockerfile:experimental\n\n########Maven build stage########\nFROM maven:3.6-jdk-11 as maven_build\nWORKDIR /app\n\n#copy pom\nCOPY pom.xml .\n    \n#copy source\nCOPY src ./src\n\n# build the app and download dependencies only when these are new (thanks to the cache)\nRUN --mount=type=cache,target=/root/.m2  mvn clean package -Dmaven.test.skip\n\n# split the built app into multiple layers to improve layer rebuild\nRUN mkdir -p target/docker-packaging &amp;&amp; cd target/docker-packaging &amp;&amp; jar -xf ../my-app*.jar\n\n########JRE run stage########\nFROM openjdk:11.0-jre\nWORKDIR /app\n\n#copy built app layer by layer\nARG DOCKER_PACKAGING_DIR=/app/target/docker-packaging\nCOPY --from=maven_build ${DOCKER_PACKAGING_DIR}/BOOT-INF/lib /app/lib\nCOPY --from=maven_build ${DOCKER_PACKAGING_DIR}/BOOT-INF/classes /app/classes\nCOPY --from=maven_build ${DOCKER_PACKAGING_DIR}/META-INF /app/META-INF\n\n#run the app\nCMD java -cp .:classes:lib/* \\\n         -Djava.security.egd=file:/dev/./urandom \\\n         foo.bar.MySpringBootApplication\n\n                                                                                                                                                                        \n                                                                       \n                                                                       \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20512125,"reputation":1,"user_id":15053643,"display_name":"Pierpaolo Nonnis"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1611247352,"creation_date":1611247352,"answer_id":65831895,"question_id":27767264,"body_markdown":"    Create a Dockerfile\r\n    #\r\n    # Build stage\r\n    #\r\n    \r\n    FROM maven:3.6.3-jdk-11-slim AS build\r\n    \r\n    WORKDIR usr/src/app\r\n    \r\n    COPY . ./\r\n    \r\n    RUN mvn clean package\r\n    \r\n    #\r\n    # Package stage\r\n    #\r\n    \r\n    FROM openjdk:11-jre-slim\r\n    \r\n    ARG JAR_NAME=&quot;project-name&quot;\r\n    \r\n    WORKDIR /usr/src/app\r\n    \r\n    EXPOSE ${HTTP_PORT}\r\n    \r\n    COPY --from=build /usr/src/app/target/${JAR_NAME}.jar ./app.jar\r\n    \r\n    CMD [&quot;java&quot;,&quot;-jar&quot;, &quot;./app.jar&quot;]","title":"How to dockerize maven project? and how many ways to accomplish it?","body":"<pre><code>Create a Dockerfile\n#\n# Build stage\n#\n\nFROM maven:3.6.3-jdk-11-slim AS build\n\nWORKDIR usr/src/app\n\nCOPY . ./\n\nRUN mvn clean package\n\n#\n# Package stage\n#\n\nFROM openjdk:11-jre-slim\n\nARG JAR_NAME=&quot;project-name&quot;\n\nWORKDIR /usr/src/app\n\nEXPOSE ${HTTP_PORT}\n\nCOPY --from=build /usr/src/app/target/${JAR_NAME}.jar ./app.jar\n\nCMD [&quot;java&quot;,&quot;-jar&quot;, &quot;./app.jar&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2593628,"reputation":2441,"user_id":2247740,"accept_rate":80,"display_name":"Amir Keshavarz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617956134,"creation_date":1617956134,"answer_id":67017468,"question_id":27767264,"body_markdown":"Jib as a Maven plugin, makes it easy and flexible enough to use Docker daemon or ignore it. Both in command line or in pom.xml.\r\n\r\nFor more info you can refer to [build-a-docker-image-using-maven][1]\r\n\r\n\r\nHere is a simple pom.xml:\r\n\r\n    ...\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;docker.name&gt;amirkeshavarz/hellomavendocker&lt;/docker.name&gt;\r\n        &lt;docker.REGISTRY_USERNAME&gt;your-dockerhub-username&lt;/docker.REGISTRY_USERNAME&gt;\r\n        &lt;docker.REGISTRY_PASSWORD&gt;your-dockerhub-password&lt;/docker.REGISTRY_PASSWORD&gt;\r\n    &lt;/properties&gt;\r\n    ...\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            ...\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;from&gt;\r\n                        &lt;image&gt;openjdk:17-jdk-alpine&lt;/image&gt;\r\n                        &lt;auth&gt;\r\n                            &lt;username&gt;${docker.REGISTRY_USERNAME}&lt;/username&gt;\r\n                            &lt;password&gt;${docker.REGISTRY_PASSWORD}&lt;/password&gt;\r\n                        &lt;/auth&gt;\r\n                    &lt;/from&gt;\r\n                    &lt;to&gt;\r\n                        &lt;image&gt;${docker.name}&lt;/image&gt;\r\n                        &lt;auth&gt;\r\n                            &lt;username&gt;${docker.REGISTRY_USERNAME}&lt;/username&gt;\r\n                            &lt;password&gt;${docker.REGISTRY_PASSWORD}&lt;/password&gt;\r\n                        &lt;/auth&gt;\r\n                    &lt;/to&gt;\r\n                    &lt;container&gt;\r\n                        &lt;environment&gt;&lt;/environment&gt;\r\n                        &lt;ports&gt;\r\n                            &lt;port&gt;8080&lt;/port&gt;\r\n                        &lt;/ports&gt;\r\n                        &lt;creationTime&gt;USE_CURRENT_TIMESTAMP&lt;/creationTime&gt;\r\n                    &lt;/container&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    ...\r\n\r\n\r\n\r\n  [1]: https://keshavarzreza.ir/build-a-docker-image-using-maven-or-gradle/","title":"How to dockerize maven project? and how many ways to accomplish it?","body":"<p>Jib as a Maven plugin, makes it easy and flexible enough to use Docker daemon or ignore it. Both in command line or in pom.xml.</p>\n<p>For more info you can refer to <a href=\"https://keshavarzreza.ir/build-a-docker-image-using-maven-or-gradle/\" rel=\"nofollow noreferrer\">build-a-docker-image-using-maven</a></p>\n<p>Here is a simple pom.xml:</p>\n<pre><code>...\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;docker.name&gt;amirkeshavarz/hellomavendocker&lt;/docker.name&gt;\n    &lt;docker.REGISTRY_USERNAME&gt;your-dockerhub-username&lt;/docker.REGISTRY_USERNAME&gt;\n    &lt;docker.REGISTRY_PASSWORD&gt;your-dockerhub-password&lt;/docker.REGISTRY_PASSWORD&gt;\n&lt;/properties&gt;\n...\n&lt;build&gt;\n    &lt;plugins&gt;\n        ...\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;from&gt;\n                    &lt;image&gt;openjdk:17-jdk-alpine&lt;/image&gt;\n                    &lt;auth&gt;\n                        &lt;username&gt;${docker.REGISTRY_USERNAME}&lt;/username&gt;\n                        &lt;password&gt;${docker.REGISTRY_PASSWORD}&lt;/password&gt;\n                    &lt;/auth&gt;\n                &lt;/from&gt;\n                &lt;to&gt;\n                    &lt;image&gt;${docker.name}&lt;/image&gt;\n                    &lt;auth&gt;\n                        &lt;username&gt;${docker.REGISTRY_USERNAME}&lt;/username&gt;\n                        &lt;password&gt;${docker.REGISTRY_PASSWORD}&lt;/password&gt;\n                    &lt;/auth&gt;\n                &lt;/to&gt;\n                &lt;container&gt;\n                    &lt;environment&gt;&lt;/environment&gt;\n                    &lt;ports&gt;\n                        &lt;port&gt;8080&lt;/port&gt;\n                    &lt;/ports&gt;\n                    &lt;creationTime&gt;USE_CURRENT_TIMESTAMP&lt;/creationTime&gt;\n                &lt;/container&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;build&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4183414,"reputation":524,"user_id":3427727,"accept_rate":64,"display_name":"Idan Yehuda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664966819,"creation_date":1664966819,"answer_id":73959282,"question_id":27767264,"body_markdown":"Updated Docker file for @Mark O&#39;Connor answer - \r\n\r\n    FROM maven:3.8.6-openjdk-18-slim AS build\r\n    COPY src /home/app/src\r\n    COPY pom.xml /home/app\r\n    RUN mvn -f /home/app/pom.xml clean package\r\n    \r\n    FROM openjdk:20\r\n    COPY --from=build /home/app/target/simple-spring-application-0.0.1-SNAPSHOT.jar /usr/local/lib/my-app.jar\r\n    EXPOSE 8080\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/usr/local/lib/my-app.jar&quot;]\r\n\r\nbuild, run and logs (replace DOCKER-ID) - \r\n\r\n    $ docker build -t my-app .\r\n    $ docker run -dp 8080:8080 --rm -it my-app:latest\r\n    $ docker logs --follow &lt;DOCKER-ID&gt;\r\n\r\nLink to git project - https://github.com/idanuda/simple-spring-application","title":"How to dockerize maven project? and how many ways to accomplish it?","body":"<p>Updated Docker file for @Mark O'Connor answer -</p>\n<pre><code>FROM maven:3.8.6-openjdk-18-slim AS build\nCOPY src /home/app/src\nCOPY pom.xml /home/app\nRUN mvn -f /home/app/pom.xml clean package\n\nFROM openjdk:20\nCOPY --from=build /home/app/target/simple-spring-application-0.0.1-SNAPSHOT.jar /usr/local/lib/my-app.jar\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/usr/local/lib/my-app.jar&quot;]\n</code></pre>\n<p>build, run and logs (replace DOCKER-ID) -</p>\n<pre><code>$ docker build -t my-app .\n$ docker run -dp 8080:8080 --rm -it my-app:latest\n$ docker logs --follow &lt;DOCKER-ID&gt;\n</code></pre>\n<p>Link to git project - <a href=\"https://github.com/idanuda/simple-spring-application\" rel=\"nofollow noreferrer\">https://github.com/idanuda/simple-spring-application</a></p>\n"}],"owner":{"account_id":5493190,"reputation":1895,"user_id":4365254,"accept_rate":60,"display_name":"Yashon Lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275652,"favorite_count":0,"down_vote_count":0,"up_vote_count":168,"accepted_answer_id":27768965,"answer_count":7,"score":168,"last_activity_date":1697108723,"creation_date":1420386531,"question_id":27767264,"body_markdown":"I am new to Docker, and don&#39;t know how to run a java project with maven even though I have read many documents and tried many methods. \r\n\r\n 1. Should I build the image using `Dockerfile`?\r\n 2. What is the commands like when it is to run the maven project in the host with `Dockerfile`?","title":"How to dockerize maven project? and how many ways to accomplish it?","body":"<p>I am new to Docker, and don't know how to run a java project with maven even though I have read many documents and tried many methods. </p>\n\n<ol>\n<li>Should I build the image using <code>Dockerfile</code>?</li>\n<li>What is the commands like when it is to run the maven project in the host with <code>Dockerfile</code>?</li>\n</ol>\n"},{"tags":["java","spring-boot","spring-boot-admin"],"answers":[{"tags":[],"owner":{"account_id":19693479,"reputation":11,"user_id":14417844,"display_name":"PseudoDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651987241,"creation_date":1651322920,"answer_id":72068659,"question_id":72068618,"body_markdown":"At the time of creation of WebClient Bean use `DefaultAddressResolverGroup.INSTANCE` as resolver. This is an alternative of Netty&#39;s default resolver.\r\n\r\n----------\r\n\r\nExplanation from the [Netty documentation][1] on why this works:\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/netty/release/reference/index.html\r\n\r\n*By default, the HttpClient uses Netty’s domain name lookup mechanism that resolves a domain name asynchronously. This is as an alternative of the JVM’s built-in blocking resolver.\r\nSometimes, you may want to switch to the JVM built-in resolver.*","title":"Spring Boot Admin : java.net.UnknownHostException: Failed to resolve &#39;SAURABH-PC.mshome.net&#39; after 3 queries","body":"<p>At the time of creation of WebClient Bean use <code>DefaultAddressResolverGroup.INSTANCE</code> as resolver. This is an alternative of Netty's default resolver.</p>\n<hr />\n<p>Explanation from the <a href=\"https://projectreactor.io/docs/netty/release/reference/index.html\" rel=\"nofollow noreferrer\">Netty documentation</a> on why this works:</p>\n<p><em>By default, the HttpClient uses Netty’s domain name lookup mechanism that resolves a domain name asynchronously. This is as an alternative of the JVM’s built-in blocking resolver.\nSometimes, you may want to switch to the JVM built-in resolver.</em></p>\n"},{"tags":[],"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1651471495,"creation_date":1651471495,"answer_id":72082873,"question_id":72068618,"body_markdown":"After doing lots of try and catch finally I have found this solution\r\n\r\n     spring.boot.admin.client.instance.management-base-url= http://localhost:8081\r\n\r\nneed to add above property in each spring boot admin clients properties file \r\n\r\n**Note:** add port number of that client\r\n\r\n","title":"Spring Boot Admin : java.net.UnknownHostException: Failed to resolve &#39;SAURABH-PC.mshome.net&#39; after 3 queries","body":"<p>After doing lots of try and catch finally I have found this solution</p>\n<pre><code> spring.boot.admin.client.instance.management-base-url= http://localhost:8081\n</code></pre>\n<p>need to add above property in each spring boot admin clients properties file</p>\n<p><strong>Note:</strong> add port number of that client</p>\n"},{"tags":[],"owner":{"account_id":15963510,"reputation":143,"user_id":12699442,"display_name":"Chethiya Nishanath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671729637,"creation_date":1671729637,"answer_id":74891850,"question_id":72068618,"body_markdown":"I have faced the same exception in Windows 10 locally hosted webserver with Java 11. According to the answer given by [@PseudoDev][1] I have provided the resolver with the use of `HttpClient` class.\r\n\r\n        HttpClient httpClient = HttpClient.create().resolver(DefaultAddressResolverGroup.INSTANCE);\r\n\r\n        WebClient webClient = WebClient.builder().clientConnector(new ReactorClientHttpConnector(httpClient)).build();\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/14417844/pseudodev","title":"Spring Boot Admin : java.net.UnknownHostException: Failed to resolve &#39;SAURABH-PC.mshome.net&#39; after 3 queries","body":"<p>I have faced the same exception in Windows 10 locally hosted webserver with Java 11. According to the answer given by <a href=\"https://stackoverflow.com/users/14417844/pseudodev\">@PseudoDev</a> I have provided the resolver with the use of <code>HttpClient</code> class.</p>\n<pre><code>    HttpClient httpClient = HttpClient.create().resolver(DefaultAddressResolverGroup.INSTANCE);\n\n    WebClient webClient = WebClient.builder().clientConnector(new ReactorClientHttpConnector(httpClient)).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15480539,"reputation":1,"user_id":11167970,"display_name":"Med-Ali Jelidi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697108662,"creation_date":1697108662,"answer_id":77280005,"question_id":72068618,"body_markdown":"I fixed this by **Disabling the Hyper-v** in services on Windows 11","title":"Spring Boot Admin : java.net.UnknownHostException: Failed to resolve &#39;SAURABH-PC.mshome.net&#39; after 3 queries","body":"<p>I fixed this by <strong>Disabling the Hyper-v</strong> in services on Windows 11</p>\n"}],"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7862,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72082873,"answer_count":4,"score":0,"last_activity_date":1697108662,"creation_date":1651322495,"question_id":72068618,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TnEaw.png\r\n\r\nI had executed spring boot admin with two micro-service and eureka server last time.\r\nthat time it executed but this time it is giving this error and showing instance down.\r\n\r\n\r\n    org.springframework.web.reactive.function.client.WebClientRequestException: Failed to resolve &#39;SAURABH-PC.mshome.net&#39; after 3 queries ; nested exception is java.net.UnknownHostException: Failed to resolve &#39;SAURABH-PC.mshome.net&#39; after 3 queries \r\n    \tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.19.jar:5.3.19]\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n    \t*__checkpoint ⇢ Request to GET health [DefaultWebClient]\r\n    Original Stack Trace:\r\n    \t\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.19.jar:5.3.19]\r\n    \t\tat reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:415) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:307) ~[reactor-netty-http-1.0.18.jar:1.0.18]\r\n    \t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:158) ~[reactor-netty-core-1.0.18.jar:1.0.18]\r\n    \t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:477) ~[reactor-netty-core-1.0.18.jar:1.0.18]\r\n    \t\tat reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:431) ~[reactor-netty-core-1.0.18.jar:1.0.18]\r\n    \t\tat reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:542) ~[reactor-netty-core-1.0.18.jar:1.0.18]\r\n    \t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.17.jar:3.4.17]\r\n    \t\tat reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:534) ~[reactor-netty-core-1.0.18.jar:1.0.18]\r\n    \t\tat reactor.netty.transport.TransportConnector.lambda$doResolveAndConnect$11(TransportConnector.java:341) ~[reactor-netty-core-1.0.18.jar:1.0.18]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.setFailure(DefaultPromise.java:109) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.resolver.InetSocketAddressResolver$2.operationComplete(InetSocketAddressResolver.java:86) ~[netty-resolver-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1055) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.resolver.dns.DnsResolveContext.onResponse(DnsResolveContext.java:629) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.resolver.dns.DnsResolveContext.access$400(DnsResolveContext.java:66) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:462) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.resolver.dns.DnsQueryContext.trySuccess(DnsQueryContext.java:216) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.resolver.dns.DnsQueryContext.finish(DnsQueryContext.java:208) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.resolver.dns.DnsNameResolver$DnsResponseHandler.channelRead(DnsNameResolver.java:1314) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:97) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \t\tat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_201]\r\n    Caused by: java.net.UnknownHostException: Failed to resolve &#39;SAURABH-PC.mshome.net&#39; after 3 queries \r\n    \tat io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext.onResponse(DnsResolveContext.java:629) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext.access$400(DnsResolveContext.java:66) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:462) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.resolver.dns.DnsQueryContext.trySuccess(DnsQueryContext.java:216) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.resolver.dns.DnsQueryContext.finish(DnsQueryContext.java:208) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.resolver.dns.DnsNameResolver$DnsResponseHandler.channelRead(DnsNameResolver.java:1314) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:97) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\r\n    \tat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_201]\r\n\r\n","title":"Spring Boot Admin : java.net.UnknownHostException: Failed to resolve &#39;SAURABH-PC.mshome.net&#39; after 3 queries","body":"<p><a href=\"https://i.stack.imgur.com/TnEaw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TnEaw.png\" alt=\"enter image description here\" /></a></p>\n<p>I had executed spring boot admin with two micro-service and eureka server last time.\nthat time it executed but this time it is giving this error and showing instance down.</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientRequestException: Failed to resolve 'SAURABH-PC.mshome.net' after 3 queries ; nested exception is java.net.UnknownHostException: Failed to resolve 'SAURABH-PC.mshome.net' after 3 queries \n    at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.19.jar:5.3.19]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ Request to GET health [DefaultWebClient]\nOriginal Stack Trace:\n        at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.19.jar:5.3.19]\n        at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:415) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:307) ~[reactor-netty-http-1.0.18.jar:1.0.18]\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:158) ~[reactor-netty-core-1.0.18.jar:1.0.18]\n        at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:477) ~[reactor-netty-core-1.0.18.jar:1.0.18]\n        at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:431) ~[reactor-netty-core-1.0.18.jar:1.0.18]\n        at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:542) ~[reactor-netty-core-1.0.18.jar:1.0.18]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.17.jar:3.4.17]\n        at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:534) ~[reactor-netty-core-1.0.18.jar:1.0.18]\n        at reactor.netty.transport.TransportConnector.lambda$doResolveAndConnect$11(TransportConnector.java:341) ~[reactor-netty-core-1.0.18.jar:1.0.18]\n        at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.setFailure(DefaultPromise.java:109) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.resolver.InetSocketAddressResolver$2.operationComplete(InetSocketAddressResolver.java:86) ~[netty-resolver-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1055) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.resolver.dns.DnsResolveContext.onResponse(DnsResolveContext.java:629) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.resolver.dns.DnsResolveContext.access$400(DnsResolveContext.java:66) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:462) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.resolver.dns.DnsQueryContext.trySuccess(DnsQueryContext.java:216) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.resolver.dns.DnsQueryContext.finish(DnsQueryContext.java:208) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.resolver.dns.DnsNameResolver$DnsResponseHandler.channelRead(DnsNameResolver.java:1314) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:97) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n        at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_201]\nCaused by: java.net.UnknownHostException: Failed to resolve 'SAURABH-PC.mshome.net' after 3 queries \n    at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.resolver.dns.DnsResolveContext.onResponse(DnsResolveContext.java:629) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.resolver.dns.DnsResolveContext.access$400(DnsResolveContext.java:66) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:462) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.resolver.dns.DnsQueryContext.trySuccess(DnsQueryContext.java:216) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.resolver.dns.DnsQueryContext.finish(DnsQueryContext.java:208) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.resolver.dns.DnsNameResolver$DnsResponseHandler.channelRead(DnsNameResolver.java:1314) ~[netty-resolver-dns-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:97) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.76.Final.jar:4.1.76.Final]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_201]\n</code></pre>\n"},{"tags":["java","jit","final"],"comments":[{"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":0,"creation_date":1695210465,"post_id":77142078,"comment_id":135993138,"body_markdown":"`final` is not comparable to `const` in Go; as you already found out, `final` variables in Java (e.g. a `final` field of a class, a `final` local variable in a function) can still have values determined at runtime, whereas Go `const`ants must be known at compile-time (roughly equivalent to `static final` in Java).","body":"<code>final</code> is not comparable to <code>const</code> in Go; as you already found out, <code>final</code> variables in Java (e.g. a <code>final</code> field of a class, a <code>final</code> local variable in a function) can still have values determined at runtime, whereas Go <code>const</code>ants must be known at compile-time (roughly equivalent to <code>static final</code> in Java)."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1695210618,"post_id":77142078,"comment_id":135993176,"body_markdown":"@Luatic Even static final fields in Java don&#39;t have to be known at compile-time: they can have their values calculated (once) at run-time.","body":"@Luatic Even static final fields in Java don&#39;t have to be known at compile-time: they can have their values calculated (once) at run-time."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1695210804,"post_id":77142078,"comment_id":135993215,"body_markdown":"`final` is mostly a programmer-facing feature. It prevents reassignment. The JIT doesn&#39;t care. It *can&#39;t* care because you can use reflection to alter even fields which are declared final. If you have a field that&#39;s non-final, but the JIT observes that in practice it is never reassigned, it can make optimizations based on the assumption that it doesn&#39;t change. If that assumption is invalidated, it can rollback the optimization later.","body":"<code>final</code> is mostly a programmer-facing feature. It prevents reassignment. The JIT doesn&#39;t care. It <i>can&#39;t</i> care because you can use reflection to alter even fields which are declared final. If you have a field that&#39;s non-final, but the JIT observes that in practice it is never reassigned, it can make optimizations based on the assumption that it doesn&#39;t change. If that assumption is invalidated, it can rollback the optimization later."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1695210868,"post_id":77142078,"comment_id":135993231,"body_markdown":"**How**? **How**? `-XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly` and I hope you [enjoy your trip to wonderland](https://youtu.be/HBKVdJph_oQ).","body":"<b>How</b>? <b>How</b>? <code>-XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly</code> and I hope you <a href=\"https://youtu.be/HBKVdJph_oQ\" rel=\"nofollow noreferrer\">enjoy your trip to wonderland</a>."}],"answers":[{"tags":[],"owner":{"account_id":22931464,"reputation":449,"user_id":17065671,"display_name":"Qu&#226;n Anh Mai"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697107861,"creation_date":1697107861,"answer_id":77279927,"question_id":77142078,"body_markdown":"An instance `final` field is just a field that cannot be changed after object initialisation, so to a compiler it does not mean much, unless the object itself is constant.\r\n\r\nA `static final` field, on the other hand, does not depend on a holding object. As a result, it is treated as a constant from the perspective of the JIT compiler. You may ask, what if the field has not been initialised yet. In that case, the JIT compiler can bail out to wait for the holder class to be initialised, there are corner cases such as when the compiled method is the `&lt;clinit&gt;` that is initialising the `static final` fields but you will rarely meet those. [The logic can be found here](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/opto/parse3.cpp#L67).\r\n\r\nAs a result, a `static final` primitive can be treated as a constant. Things get more complicated when it comes to non-primitive fields, in those cases, while the object is constant*, its content may not. This will generally be the case in the foreseeable future, as the program is permitted to modify even an instance `final` variable, which means we cannot safely constant-fold those**.\r\n\r\nHowever, due to strong encapsulation, modules are generally not permitted to lurk into the implementation details of other modules. As a result, the compiler can [special-case some known classes](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/ci/ciField.cpp#L219) that it can trust to not change their final fields to improve performance. Records are also trusted since they are new and was designed with optimality in mind. Additionally, the JDK has an internal annotation [`@Stable`](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/jdk/internal/vm/annotation/Stable.java) that it uses to additionally mark immutable fields, this annotation has additional benefits that it guarantees array elements to not change instead of only the array identity. This has several implications:\r\n\r\n- A `String` is deeply immutable, and operations on constant strings can benefit from optimal constant propagation.\r\n- A constant `MethodHandle` or `VarHandle` can be optimised to a simple method call. With some trickery that I do not fully comprehend, you can even invoke dynamic calls using these (think of a jump table, which can be implemented using [`MethodHandles::tableSwitch`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/invoke/MethodHandles.html), or a [`MutableCallSite`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/invoke/MutableCallSite.html), that can arbitrarily change its call target).\r\n- The box classes (`Integer` and friends) can be freely scalar replaced, greatly reduces allocation pressure.\r\n- etc.\r\n\r\nIn conclusion, a `static final` field is generally a constant, and a field of a constant is generally not constant itself unless it belongs to a class that is a `record`, a hidden class, or a class that is treated specially by the compiler.\r\n\r\n\\* This means that changing a `static final` field is an undefined behaviour (this is undefined in the mean that you are violating the compiler assumption regarding the program behaviour, which may lead to wrong results, impossible code execution, crashing the VM or wipe out your hard drive). However, the only exception is the fields of `java.lang.System`, which are specified to be mutable.\r\n\r\n** Actually the specification do not allow modification of instance `final` fields, but there are a lot of programs out there relying on this ability, most notable are the serialisation libraries. You can use `-XX:+TrustFinalNonStaticFields` to force the compiler to trust `final` fields of every class (except `java.lang.System`) but beware that this is an experimental flag, and violating this assumption is undefined behaviour.","title":"How are final objects in Java handled during JIT compilation?","body":"<p>An instance <code>final</code> field is just a field that cannot be changed after object initialisation, so to a compiler it does not mean much, unless the object itself is constant.</p>\n<p>A <code>static final</code> field, on the other hand, does not depend on a holding object. As a result, it is treated as a constant from the perspective of the JIT compiler. You may ask, what if the field has not been initialised yet. In that case, the JIT compiler can bail out to wait for the holder class to be initialised, there are corner cases such as when the compiled method is the <code>&lt;clinit&gt;</code> that is initialising the <code>static final</code> fields but you will rarely meet those. <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/opto/parse3.cpp#L67\" rel=\"nofollow noreferrer\">The logic can be found here</a>.</p>\n<p>As a result, a <code>static final</code> primitive can be treated as a constant. Things get more complicated when it comes to non-primitive fields, in those cases, while the object is constant*, its content may not. This will generally be the case in the foreseeable future, as the program is permitted to modify even an instance <code>final</code> variable, which means we cannot safely constant-fold those**.</p>\n<p>However, due to strong encapsulation, modules are generally not permitted to lurk into the implementation details of other modules. As a result, the compiler can <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/ci/ciField.cpp#L219\" rel=\"nofollow noreferrer\">special-case some known classes</a> that it can trust to not change their final fields to improve performance. Records are also trusted since they are new and was designed with optimality in mind. Additionally, the JDK has an internal annotation <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/jdk/internal/vm/annotation/Stable.java\" rel=\"nofollow noreferrer\"><code>@Stable</code></a> that it uses to additionally mark immutable fields, this annotation has additional benefits that it guarantees array elements to not change instead of only the array identity. This has several implications:</p>\n<ul>\n<li>A <code>String</code> is deeply immutable, and operations on constant strings can benefit from optimal constant propagation.</li>\n<li>A constant <code>MethodHandle</code> or <code>VarHandle</code> can be optimised to a simple method call. With some trickery that I do not fully comprehend, you can even invoke dynamic calls using these (think of a jump table, which can be implemented using <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/invoke/MethodHandles.html\" rel=\"nofollow noreferrer\"><code>MethodHandles::tableSwitch</code></a>, or a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/invoke/MutableCallSite.html\" rel=\"nofollow noreferrer\"><code>MutableCallSite</code></a>, that can arbitrarily change its call target).</li>\n<li>The box classes (<code>Integer</code> and friends) can be freely scalar replaced, greatly reduces allocation pressure.</li>\n<li>etc.</li>\n</ul>\n<p>In conclusion, a <code>static final</code> field is generally a constant, and a field of a constant is generally not constant itself unless it belongs to a class that is a <code>record</code>, a hidden class, or a class that is treated specially by the compiler.</p>\n<p>* This means that changing a <code>static final</code> field is an undefined behaviour (this is undefined in the mean that you are violating the compiler assumption regarding the program behaviour, which may lead to wrong results, impossible code execution, crashing the VM or wipe out your hard drive). However, the only exception is the fields of <code>java.lang.System</code>, which are specified to be mutable.</p>\n<p>** Actually the specification do not allow modification of instance <code>final</code> fields, but there are a lot of programs out there relying on this ability, most notable are the serialisation libraries. You can use <code>-XX:+TrustFinalNonStaticFields</code> to force the compiler to trust <code>final</code> fields of every class (except <code>java.lang.System</code>) but beware that this is an experimental flag, and violating this assumption is undefined behaviour.</p>\n"}],"owner":{"account_id":26242481,"reputation":33,"user_id":19916583,"display_name":"ehbong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77279927,"answer_count":1,"score":0,"last_activity_date":1697107861,"creation_date":1695210286,"question_id":77142078,"body_markdown":"In the GO language, constant values must be determined at compile time.\r\nIn Java, when creating an object, you can initialize the final constant value by passing the value as a constructor parameter. This means that the value is determined at runtime rather than at compile time. So, I am curious about how the value of final, which is dynamically initialized depending on the object, is compiled when compiled with JIT.\r\n\r\nchatGPT responded that dynamically initialized final objects are treated as variables, not constants, by the JIT compiler.","title":"How are final objects in Java handled during JIT compilation?","body":"<p>In the GO language, constant values must be determined at compile time.\nIn Java, when creating an object, you can initialize the final constant value by passing the value as a constructor parameter. This means that the value is determined at runtime rather than at compile time. So, I am curious about how the value of final, which is dynamically initialized depending on the object, is compiled when compiled with JIT.</p>\n<p>chatGPT responded that dynamically initialized final objects are treated as variables, not constants, by the JIT compiler.</p>\n"},{"tags":["java","spring-boot","annotations","postman","crud"],"comments":[{"owner":{"account_id":6126609,"reputation":1245,"user_id":4778343,"display_name":"Stefan Golubović"},"score":0,"creation_date":1697192091,"post_id":77279913,"comment_id":136251970,"body_markdown":"where is the code that adds players to the team?","body":"where is the code that adds players to the team?"},{"owner":{"account_id":29313159,"reputation":193,"user_id":22458461,"display_name":"fforfabio"},"score":0,"creation_date":1697203241,"post_id":77279913,"comment_id":136253966,"body_markdown":"Try to look at this article, it may help you https://www.baeldung.com/jpa-joincolumn-vs-mappedby . Let me know if it solve your problem.","body":"Try to look at this article, it may help you <a href=\"https://www.baeldung.com/jpa-joincolumn-vs-mappedby\" rel=\"nofollow noreferrer\">baeldung.com/jpa-joincolumn-vs-mappedby</a> . Let me know if it solve your problem."}],"owner":{"account_id":19865638,"reputation":23,"user_id":14552970,"display_name":"Brent Cruz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697107779,"creation_date":1697107779,"question_id":77279913,"body_markdown":"I have two entities, namely Team and Player. I am very new to Springboot and only followed a video with how to make a basic crud api. However, I am having trouble with creating records with regards to the FK. I am able to create a player, but I do not know how to assign the player to a team. Here is my Player entity: [![enter image description here][1]][1]\r\n\r\n\r\nand here is my team Entity:\r\n [![enter image description here][2]][2]\r\n\r\n\r\nPlayer Service: [![enter image description here][3]][3]\r\n\r\n\r\nTeam Service: [![enter image description here][4]][4]\r\n\r\n\r\nTeam Repo: [![enter image description here][5]][5]\r\n\r\n\r\nPlayer Repo: [![enter image description here][6]][6]\r\n\r\n\r\nI am testing my program in Postman and when I ran this input for a new team: [![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4H0oE.png\r\n  [2]: https://i.stack.imgur.com/qd36O.png\r\n  [3]: https://i.stack.imgur.com/CQ0Xz.png\r\n  [4]: https://i.stack.imgur.com/r2V8I.png\r\n  [5]: https://i.stack.imgur.com/0czRv.png\r\n  [6]: https://i.stack.imgur.com/4E4vo.png\r\n  [7]: https://i.stack.imgur.com/nGFg6.png\r\n\r\nit created a team, but the player table is still empty. I am not sure on how to proceed with this. Please help!","title":"How do I insert values into two tables using Springboot?","body":"<p>I have two entities, namely Team and Player. I am very new to Springboot and only followed a video with how to make a basic crud api. However, I am having trouble with creating records with regards to the FK. I am able to create a player, but I do not know how to assign the player to a team. Here is my Player entity: <a href=\"https://i.stack.imgur.com/4H0oE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4H0oE.png\" alt=\"enter image description here\" /></a></p>\n<p>and here is my team Entity:\n<a href=\"https://i.stack.imgur.com/qd36O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qd36O.png\" alt=\"enter image description here\" /></a></p>\n<p>Player Service: <a href=\"https://i.stack.imgur.com/CQ0Xz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CQ0Xz.png\" alt=\"enter image description here\" /></a></p>\n<p>Team Service: <a href=\"https://i.stack.imgur.com/r2V8I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r2V8I.png\" alt=\"enter image description here\" /></a></p>\n<p>Team Repo: <a href=\"https://i.stack.imgur.com/0czRv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0czRv.png\" alt=\"enter image description here\" /></a></p>\n<p>Player Repo: <a href=\"https://i.stack.imgur.com/4E4vo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4E4vo.png\" alt=\"enter image description here\" /></a></p>\n<p>I am testing my program in Postman and when I ran this input for a new team: <a href=\"https://i.stack.imgur.com/nGFg6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nGFg6.png\" alt=\"enter image description here\" /></a></p>\n<p>it created a team, but the player table is still empty. I am not sure on how to proceed with this. Please help!</p>\n"},{"tags":["java","install4j"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697110980,"post_id":77279912,"comment_id":136239987,"body_markdown":"Ultimately, the only real way to validate that is to run the installer (!!) and check that it *has* installed the files that you require it to.  You could do this during the build, or as an extra validation step after the build has completed.  (If you simply check that the files are all there before or while generating the installer, you don&#39;t validate that the files are included in the installer intact, or that the generated installer will install them intact in the required location.)","body":"Ultimately, the only real way to validate that is to run the installer (!!) and check that it <i>has</i> installed the files that you require it to.  You could do this during the build, or as an extra validation step after the build has completed.  (If you simply check that the files are all there before or while generating the installer, you don&#39;t validate that the files are included in the installer intact, or that the generated installer will install them intact in the required location.)"},{"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"score":0,"creation_date":1697122621,"post_id":77279912,"comment_id":136242701,"body_markdown":"@StephenC is right. You could also create an additional archive media file, such as a ZIP file to check its contents more easily without executing an installer.","body":"@StephenC is right. You could also create an additional archive media file, such as a ZIP file to check its contents more easily without executing an installer."}],"owner":{"account_id":17174472,"reputation":11,"user_id":12430925,"display_name":"Yuliya Yurusava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697107773,"creation_date":1697107773,"question_id":77279912,"body_markdown":"I need to somehow validate if fileset that will be included contains all required files.\r\nWhich files to include are listed in file.\r\n\r\nIs it even possible to do using install4j? Is possible to run java application during build or some other way validate fileset?\r\n\r\n\r\n\r\nI alreas checked option from &#39;File option&#39; -&gt; &#39;Build Option&#39; -&gt; What to do when files are missing at build time. But I need validation according to specific list of files.\r\n\r\nThanks!","title":"Is it possible to validate distribution tree during installer build?","body":"<p>I need to somehow validate if fileset that will be included contains all required files.\nWhich files to include are listed in file.</p>\n<p>Is it even possible to do using install4j? Is possible to run java application during build or some other way validate fileset?</p>\n<p>I alreas checked option from 'File option' -&gt; 'Build Option' -&gt; What to do when files are missing at build time. But I need validation according to specific list of files.</p>\n<p>Thanks!</p>\n"},{"tags":["java","json","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1695995625,"post_id":77201702,"comment_id":136101126,"body_markdown":"Where is the Jackson being used in your code? Can you provide a snippet? Also, can you provide the entire stacktrace?","body":"Where is the Jackson being used in your code? Can you provide a snippet? Also, can you provide the entire stacktrace?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1695997232,"post_id":77201702,"comment_id":136101458,"body_markdown":"To configure the `ObjectMapper` used by Quarkus for REST marshalling and unmarshalling, create a bean of type `ObjectMapperCustomizer`: https://javadoc.io/doc/io.quarkus/quarkus-jackson/latest/io/quarkus/jackson/ObjectMapperCustomizer.html. Its `customize` method lets you update the actually used instance.","body":"To configure the <code>ObjectMapper</code> used by Quarkus for REST marshalling and unmarshalling, create a bean of type <code>ObjectMapperCustomizer</code>: <a href=\"https://javadoc.io/doc/io.quarkus/quarkus-jackson/latest/io/quarkus/jackson/ObjectMapperCustomizer.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/io.quarkus/quarkus-jackson/latest/io/quarkus/&zwnj;&#8203;&hellip;</a>. Its <code>customize</code> method lets you update the actually used instance."},{"owner":{"account_id":18877427,"reputation":21,"user_id":14826065,"display_name":"Ivan Tomić"},"score":0,"creation_date":1696230719,"post_id":77201702,"comment_id":136121705,"body_markdown":"@RobSpoor I have tried that and it doesn&#39;t work, I inspected Object Mapper and it has that module registered but it just doesn&#39;t work and it fails somewhere in line like this:\n        return Response.ok(service.method(parameter)).build();\nIt basically fails after the service returns result successfully and it has to return the object to user, so object mapping is basically done in service","body":"@RobSpoor I have tried that and it doesn&#39;t work, I inspected Object Mapper and it has that module registered but it just doesn&#39;t work and it fails somewhere in line like this:         return Response.ok(service.method(parameter)).build(); It basically fails after the service returns result successfully and it has to return the object to user, so object mapping is basically done in service"}],"answers":[{"tags":[],"owner":{"account_id":18877427,"reputation":21,"user_id":14826065,"display_name":"Ivan Tomić"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697107731,"creation_date":1697107731,"answer_id":77279909,"question_id":77201702,"body_markdown":"I was using RestEASY Classic instead of **RestEASY Reactive Jackson**. When I changed the dependency it worked.","title":"Issue with jackson-datatype-jsr310 in Quarkus","body":"<p>I was using RestEASY Classic instead of <strong>RestEASY Reactive Jackson</strong>. When I changed the dependency it worked.</p>\n"}],"owner":{"account_id":18877427,"reputation":21,"user_id":14826065,"display_name":"Ivan Tomić"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77279909,"answer_count":1,"score":0,"last_activity_date":1697107731,"creation_date":1695988331,"question_id":77201702,"body_markdown":"I have a service that calls external API and converts what it gets into some Object.\r\nI tested that service and it works fine, it converts it correctly into wanted Object. The issue is that it fails when it comes to the controller and has to return the result. It fails on ZonedDateTime even though it did it successfully (I checked it in debugger).\r\nThis is the error: \r\n\r\n***Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module \\&quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310\\&quot; to enable handling (through reference chain***\r\n\r\nI added dependency that is needed:\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.15.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n      &lt;version&gt;2.15.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-jackson&lt;/artifactId&gt;\r\n      &lt;version&gt;3.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n...\r\n```\r\nI did include that module in my Object Mapper:\r\n```java\r\nprivate ObjectMapper objectMapper;\r\n\r\npublic Class() {\r\n        objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        objectMapper.findAndRegisterModules();\r\n    }\r\n```\r\nThis code is migrated from Spring Boot, I am not sure if there is other way to do this because the documentation is not there and community is not that large yet so I can&#39;t find any ideas online.","title":"Issue with jackson-datatype-jsr310 in Quarkus","body":"<p>I have a service that calls external API and converts what it gets into some Object.\nI tested that service and it works fine, it converts it correctly into wanted Object. The issue is that it fails when it comes to the controller and has to return the result. It fails on ZonedDateTime even though it did it successfully (I checked it in debugger).\nThis is the error:</p>\n<p><em><strong>Java 8 date/time type <code>java.time.ZonedDateTime</code> not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain</strong></em></p>\n<p>I added dependency that is needed:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n      &lt;version&gt;2.15.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n      &lt;version&gt;2.15.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-jackson&lt;/artifactId&gt;\n      &lt;version&gt;3.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n...\n</code></pre>\n<p>I did include that module in my Object Mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private ObjectMapper objectMapper;\n\npublic Class() {\n        objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        objectMapper.findAndRegisterModules();\n    }\n</code></pre>\n<p>This code is migrated from Spring Boot, I am not sure if there is other way to do this because the documentation is not there and community is not that large yet so I can't find any ideas online.</p>\n"},{"tags":["java","spring-boot","spring-boot-test","mockmvc"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1697107986,"post_id":77279891,"comment_id":136239434,"body_markdown":"Tests should **not** depend on the order of execution, or some state created in another test, instead mock the relevant parts when testing `getExistingUser()`. And if you are using junit (i suppose you are), each test is executed in different instance of `UserControllerTest`, so `createdUserId` being null in the get test is expected.","body":"Tests should <b>not</b> depend on the order of execution, or some state created in another test, instead mock the relevant parts when testing <code>getExistingUser()</code>. And if you are using junit (i suppose you are), each test is executed in different instance of <code>UserControllerTest</code>, so <code>createdUserId</code> being null in the get test is expected."}],"owner":{"account_id":26550649,"reputation":1,"user_id":20180019,"display_name":"Ionut Dragomir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697107468,"creation_date":1697107468,"question_id":77279891,"body_markdown":"In my Spring Boot backend application, the createUser() API Endpoint inside a controller returns a JSON containing the UUID of the new user. During testing of the controller, I want to store the string value of the id to later use it to test other API Endpoints.\r\n\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\nclass UserControllerTest {\r\n    @Autowired\r\n    private MockMvc webClient;\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n    private String createdUserId;\r\n\r\n\r\n    @Test\r\n    @Order(1)\r\n    void createUser() throws Exception {\r\n        CreateUserRequest request = CreateUserRequest.builder()\r\n                .firstName(&quot;John&quot;)\r\n                .lastName(&quot;Doe&quot;)\r\n                .dateOfBirth(LocalDate.parse(&quot;2003-01-07&quot;))\r\n                .emailAddress(&quot;johndoe@mail.com&quot;)\r\n                .phoneNumber(&quot;+31 633396888&quot;)\r\n                .password(&quot;password&quot;)\r\n                .build();\r\n\r\n        MvcResult result = webClient.perform(post(&quot;/users&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(objectMapper.writeValueAsString(request)))\r\n                .andExpectAll(status().isCreated(),\r\n                    jsonPath(&quot;$.id&quot;, Matchers.matchesPattern(\r\n                        &quot;[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}&quot;\r\n                    )))\r\n                .andReturn();\r\n\r\n        createdUserId = JsonPath.read(result.getResponse().getContentAsString(), &quot;$.id&quot;);\r\n    }\r\n\r\n    @Test\r\n    @Order(2)\r\n    void getExistingUser() throws Exception {\r\n        webClient.perform(get(&quot;/users/&quot; + createdUserId))\r\n                .andExpectAll(\r\n                    status().isOk(),\r\n                    jsonPath(&quot;$.firstName&quot;).value(&quot;John&quot;));\r\n    }\r\n}\r\n```\r\n\r\nWhile running debugger, I have noticed that during the call of createUser(), the JsonPath.read() function returns the correct UUID of the newly created user and stores it inside the createdUserId, but after finishing the call, the value gets deleted in some way.\r\n\r\nWhen I build and run the whole class, the getExistingUser() test fails because the createdUserId is null.","title":"Java Spring Boot Controller Unit Tests - How can I store the value of the response JSON to access it in another test?","body":"<p>In my Spring Boot backend application, the createUser() API Endpoint inside a controller returns a JSON containing the UUID of the new user. During testing of the controller, I want to store the string value of the id to later use it to test other API Endpoints.</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\nclass UserControllerTest {\n    @Autowired\n    private MockMvc webClient;\n    @Autowired\n    private ObjectMapper objectMapper;\n    private String createdUserId;\n\n\n    @Test\n    @Order(1)\n    void createUser() throws Exception {\n        CreateUserRequest request = CreateUserRequest.builder()\n                .firstName(&quot;John&quot;)\n                .lastName(&quot;Doe&quot;)\n                .dateOfBirth(LocalDate.parse(&quot;2003-01-07&quot;))\n                .emailAddress(&quot;johndoe@mail.com&quot;)\n                .phoneNumber(&quot;+31 633396888&quot;)\n                .password(&quot;password&quot;)\n                .build();\n\n        MvcResult result = webClient.perform(post(&quot;/users&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(objectMapper.writeValueAsString(request)))\n                .andExpectAll(status().isCreated(),\n                    jsonPath(&quot;$.id&quot;, Matchers.matchesPattern(\n                        &quot;[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}&quot;\n                    )))\n                .andReturn();\n\n        createdUserId = JsonPath.read(result.getResponse().getContentAsString(), &quot;$.id&quot;);\n    }\n\n    @Test\n    @Order(2)\n    void getExistingUser() throws Exception {\n        webClient.perform(get(&quot;/users/&quot; + createdUserId))\n                .andExpectAll(\n                    status().isOk(),\n                    jsonPath(&quot;$.firstName&quot;).value(&quot;John&quot;));\n    }\n}\n</code></pre>\n<p>While running debugger, I have noticed that during the call of createUser(), the JsonPath.read() function returns the correct UUID of the newly created user and stores it inside the createdUserId, but after finishing the call, the value gets deleted in some way.</p>\n<p>When I build and run the whole class, the getExistingUser() test fails because the createdUserId is null.</p>\n"},{"tags":["java","ssl","minecraft-forge"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1663535396,"post_id":73766296,"comment_id":130257520,"body_markdown":"Hi Hunor, can you please indicate which client certificate is being used, then we can find out which certificate path is required. You can enable [Java SSL debugging](https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html) for this. If it is simply the same as the link you&#39;ve provided then you can get the root certificate from your browser as well.","body":"Hi Hunor, can you please indicate which client certificate is being used, then we can find out which certificate path is required. You can enable <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html\" rel=\"nofollow noreferrer\">Java SSL debugging</a> for this. If it is simply the same as the link you&#39;ve provided then you can get the root certificate from your browser as well."},{"owner":{"account_id":26372390,"reputation":1,"user_id":20026878,"display_name":"Hunor K&#225;li"},"score":0,"creation_date":1663539415,"post_id":73766296,"comment_id":130258052,"body_markdown":"@MaartenBodewes Hello, so I basically got the certificate from my browser by going to creeperhosts website and going under the lock icon and exporting the certificate from there. I have 0 knowledge in this topic so I really have trouble understanding what I have to do here.","body":"@MaartenBodewes Hello, so I basically got the certificate from my browser by going to creeperhosts website and going under the lock icon and exporting the certificate from there. I have 0 knowledge in this topic so I really have trouble understanding what I have to do here."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1663539902,"post_id":73766296,"comment_id":130258124,"body_markdown":"Itś probably best to go all the way down and get the root certificate from that site, and put that in the `cacerts` trust store using e.g. `keytool`.","body":"Itś probably best to go all the way down and get the root certificate from that site, and put that in the <code>cacerts</code> trust store using e.g. <code>keytool</code>."},{"owner":{"account_id":26372390,"reputation":1,"user_id":20026878,"display_name":"Hunor K&#225;li"},"score":0,"creation_date":1663540568,"post_id":73766296,"comment_id":130258214,"body_markdown":"I used this command line: C:\\Windows\\system32&gt;keytool -import -alias Something -keystore &quot;C:\\Program Files\\Java\\jre1.8.0_51\\lib\\security\\cacerts&quot; -file &quot;C:\\Users\\Huni\\Downloads\\creeperhost.net.crt&quot;","body":"I used this command line: C:\\Windows\\system32&gt;keytool -import -alias Something -keystore &quot;C:\\Program Files\\Java\\jre1.8.0_51\\lib\\security\\cacerts&quot; -file &quot;C:\\Users\\Huni\\Downloads\\creeperhost.net.crt&quot;"},{"owner":{"account_id":26372390,"reputation":1,"user_id":20026878,"display_name":"Hunor K&#225;li"},"score":0,"creation_date":1663540656,"post_id":73766296,"comment_id":130258221,"body_markdown":"I still get the same crash log on the forge installer.","body":"I still get the same crash log on the forge installer."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1663543531,"post_id":73766296,"comment_id":130258527,"body_markdown":"It doesn&#39;t seem like you&#39;re installing the root cert. You have got to listen to people, otherwise this debugging session becomes ever so worse.","body":"It doesn&#39;t seem like you&#39;re installing the root cert. You have got to listen to people, otherwise this debugging session becomes ever so worse."}],"answers":[{"tags":[],"owner":{"account_id":28227597,"reputation":11,"user_id":21577328,"display_name":"Mateus Mello"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697107431,"creation_date":1680742863,"answer_id":75945047,"question_id":73766296,"body_markdown":"After spending some time trying to find a solution, i&#39;ve open the installer&#39;s code and found the URL that the installer tries to use to download the files for the minecraft server. \r\n\r\n        public static final String MANIFEST_URL = &quot;https://launchermeta.mojang.com/mc/game/version_manifest.json&quot;;\r\n\r\nSo you must export the root certificate from this link, and import into you JRE truststore. The certificate name is &quot;DigiCert Global Root G2&quot;. The command to do so is: \r\n\r\n     keytool.exe -import -alias digicert -keystore &#39;C:\\Program Files\\Java\\jre1.8.0_51\\lib\\security\\cacerts&#39; -file &#39;C:\\Users\\[you user here]\\Downloads\\DigiCert Global Root G2.crt&#39;\r\n\r\nUsually the password for the truststore is &quot;changeit&quot; (without the quotes).\r\n\r\nNow you can run the installer and it should work properly.\r\n","title":"PKIX path building failed - unable to find valid certification path to requested target","body":"<p>After spending some time trying to find a solution, i've open the installer's code and found the URL that the installer tries to use to download the files for the minecraft server.</p>\n<pre><code>    public static final String MANIFEST_URL = &quot;https://launchermeta.mojang.com/mc/game/version_manifest.json&quot;;\n</code></pre>\n<p>So you must export the root certificate from this link, and import into you JRE truststore. The certificate name is &quot;DigiCert Global Root G2&quot;. The command to do so is:</p>\n<pre><code> keytool.exe -import -alias digicert -keystore 'C:\\Program Files\\Java\\jre1.8.0_51\\lib\\security\\cacerts' -file 'C:\\Users\\[you user here]\\Downloads\\DigiCert Global Root G2.crt'\n</code></pre>\n<p>Usually the password for the truststore is &quot;changeit&quot; (without the quotes).</p>\n<p>Now you can run the installer and it should work properly.</p>\n"}],"owner":{"account_id":26372390,"reputation":1,"user_id":20026878,"display_name":"Hunor K&#225;li"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697107515,"answer_count":1,"score":0,"last_activity_date":1697107431,"creation_date":1663534161,"question_id":73766296,"body_markdown":"JVM info: Oracle Corporation - 1.8.0_51 - 25.51-b03\r\njava.net.preferIPv4Stack=true\r\nFound java version 1.8.0_51\r\nAdded Lets Encrypt root certificates as additional trust\r\nTarget Directory: .\r\nData kindly mirrored by CreeperHost at https://www.creeperhost.net/\r\nExtracting main jar:\r\n  Extracted successfully\r\nConsidering minecraft server jar\r\n\r\n    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.ssl.Alerts.getSSLException(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n    \tat sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\r\n    \tat sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\r\n    \tat sun.security.ssl.Handshaker.processLoop(Unknown Source)\r\n    \tat sun.security.ssl.Handshaker.process_record(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n    \tat java.net.HttpURLConnection.getResponseCode(Unknown Source)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source)\r\n    \tat net.minecraftforge.installer.DownloadUtils.getConnection(DownloadUtils.java:243)\r\n    \tat net.minecraftforge.installer.DownloadUtils.downloadManifest(DownloadUtils.java:307)\r\n    \tat net.minecraftforge.installer.json.Util.getVanillaVersion(Util.java:73)\r\n    \tat net.minecraftforge.installer.actions.ServerInstall.run(ServerInstall.java:86)\r\n    \tat net.minecraftforge.installer.SimpleInstaller.main(SimpleInstaller.java:128)\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.validator.PKIXValidator.doBuild(Unknown Source)\r\n    \tat sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\r\n    \tat sun.security.validator.Validator.validate(Unknown Source)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\r\n    \t... 19 more\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source)\r\n    \tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\r\n    \tat java.security.cert.CertPathBuilder.build(Unknown Source)\r\n    \t... 25 more\r\n\r\nFailed to download version manifest, can not find server jar URL.\r\nThere was an error during installation\r\n\r\n/* I already tried adding creeperhosts certificates to java&#39;s cacert. keep in mind I don&#39;t have any experience with this thing.... :DDDDD So I can only follow your instuctions. */","title":"PKIX path building failed - unable to find valid certification path to requested target","body":"<p>JVM info: Oracle Corporation - 1.8.0_51 - 25.51-b03\njava.net.preferIPv4Stack=true\nFound java version 1.8.0_51\nAdded Lets Encrypt root certificates as additional trust\nTarget Directory: .\nData kindly mirrored by CreeperHost at <a href=\"https://www.creeperhost.net/\" rel=\"nofollow noreferrer\">https://www.creeperhost.net/</a>\nExtracting main jar:\nExtracted successfully\nConsidering minecraft server jar</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.ssl.Alerts.getSSLException(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\n    at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n    at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\n    at sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\n    at sun.security.ssl.Handshaker.processLoop(Unknown Source)\n    at sun.security.ssl.Handshaker.process_record(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\n    at java.net.HttpURLConnection.getResponseCode(Unknown Source)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source)\n    at net.minecraftforge.installer.DownloadUtils.getConnection(DownloadUtils.java:243)\n    at net.minecraftforge.installer.DownloadUtils.downloadManifest(DownloadUtils.java:307)\n    at net.minecraftforge.installer.json.Util.getVanillaVersion(Util.java:73)\n    at net.minecraftforge.installer.actions.ServerInstall.run(ServerInstall.java:86)\n    at net.minecraftforge.installer.SimpleInstaller.main(SimpleInstaller.java:128)\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.validator.PKIXValidator.doBuild(Unknown Source)\n    at sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\n    at sun.security.validator.Validator.validate(Unknown Source)\n    at sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\n    ... 19 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source)\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\n    at java.security.cert.CertPathBuilder.build(Unknown Source)\n    ... 25 more\n</code></pre>\n<p>Failed to download version manifest, can not find server jar URL.\nThere was an error during installation</p>\n<p>/* I already tried adding creeperhosts certificates to java's cacert. keep in mind I don't have any experience with this thing.... :DDDDD So I can only follow your instuctions. */</p>\n"},{"tags":["java","swing","jtextarea","swing-highlighter"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1386038072,"post_id":20341719,"comment_id":30363071,"body_markdown":"You could use a Highlighter such as a DefaultHighlighter and call `addHighlight(...)` to your JTextArea, but if it is any bit more complicated than that, use a different text component.","body":"You could use a Highlighter such as a DefaultHighlighter and call <code>addHighlight(...)</code> to your JTextArea, but if it is any bit more complicated than that, use a different text component."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1697106814,"creation_date":1386038387,"answer_id":20341843,"question_id":20341719,"body_markdown":"Use the `DefaultHighlighter` that comes with your `JTextArea`. For e.g.,\r\n\r\n    import java.awt.Color;\r\n    import javax.swing.*;\r\n    import javax.swing.text.BadLocationException;\r\n    import javax.swing.text.DefaultHighlighter;\r\n    import javax.swing.text.Highlighter;\r\n    import javax.swing.text.Highlighter.HighlightPainter;\r\n    \r\n    public class Foo001 {\r\n       public static void main(String[] args) throws BadLocationException {\r\n          \r\n          JTextArea textArea = new JTextArea(10, 30);\r\n           \r\n          String text = &quot;hello world. How are you?&quot;;\r\n          \r\n          textArea.setText(text);\r\n          \r\n          Highlighter highlighter = textArea.getHighlighter();\r\n          HighlightPainter painter = \r\n                 new DefaultHighlighter.DefaultHighlightPainter(Color.pink);\r\n          int p0 = text.indexOf(&quot;world&quot;);\r\n          int p1 = p0 + &quot;world&quot;.length();\r\n          highlighter.addHighlight(p0, p1, painter );\r\n          \r\n          JOptionPane.showMessageDialog(null, new JScrollPane(textArea));          \r\n       }\r\n    }\r\n\r\n#### [addHighlight()](https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/javax/swing/text/Highlighter.html)\r\n**Parameters**:\r\n- `p0` - the beginning of the range &gt;= 0\r\n- `p1` - the end of the range &gt;= `p0`\r\n- `p` - the painter to use for the actual highlighting\r\n\r\n**Returns**:\r\n\r\nan object that refers to the highlight\r\n\r\n**Throws**:\r\n\r\n`BadLocationException` - for an invalid range specification","title":"How to highlight a single word in a JTextArea","body":"<p>Use the <code>DefaultHighlighter</code> that comes with your <code>JTextArea</code>. For e.g.,</p>\n<pre><code>import java.awt.Color;\nimport javax.swing.*;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.DefaultHighlighter;\nimport javax.swing.text.Highlighter;\nimport javax.swing.text.Highlighter.HighlightPainter;\n\npublic class Foo001 {\n   public static void main(String[] args) throws BadLocationException {\n      \n      JTextArea textArea = new JTextArea(10, 30);\n       \n      String text = &quot;hello world. How are you?&quot;;\n      \n      textArea.setText(text);\n      \n      Highlighter highlighter = textArea.getHighlighter();\n      HighlightPainter painter = \n             new DefaultHighlighter.DefaultHighlightPainter(Color.pink);\n      int p0 = text.indexOf(&quot;world&quot;);\n      int p1 = p0 + &quot;world&quot;.length();\n      highlighter.addHighlight(p0, p1, painter );\n      \n      JOptionPane.showMessageDialog(null, new JScrollPane(textArea));          \n   }\n}\n</code></pre>\n<h4><a href=\"https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/javax/swing/text/Highlighter.html\" rel=\"nofollow noreferrer\">addHighlight()</a></h4>\n<p><strong>Parameters</strong>:</p>\n<ul>\n<li><code>p0</code> - the beginning of the range &gt;= 0</li>\n<li><code>p1</code> - the end of the range &gt;= <code>p0</code></li>\n<li><code>p</code> - the painter to use for the actual highlighting</li>\n</ul>\n<p><strong>Returns</strong>:</p>\n<p>an object that refers to the highlight</p>\n<p><strong>Throws</strong>:</p>\n<p><code>BadLocationException</code> - for an invalid range specification</p>\n"}],"owner":{"account_id":3243156,"reputation":2018,"user_id":2735608,"accept_rate":0,"display_name":"Jonny Forney"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22728,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1386043983,"answer_count":1,"score":6,"last_activity_date":1697106814,"creation_date":1386037643,"question_id":20341719,"body_markdown":"I want to read in text the user inputs and then highlight a specific word and return it to the user. I am able to read in the text and give it back to the user, but I cant figure out how to highlight a **single** word. How can I highlight a **single** word in a JTextArea using java swing? ","title":"How to highlight a single word in a JTextArea","body":"<p>I want to read in text the user inputs and then highlight a specific word and return it to the user. I am able to read in the text and give it back to the user, but I cant figure out how to highlight a <strong>single</strong> word. How can I highlight a <strong>single</strong> word in a JTextArea using java swing? </p>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":4385428,"reputation":1304,"user_id":3575763,"display_name":"Flame239"},"score":0,"creation_date":1697186728,"post_id":77279802,"comment_id":136250959,"body_markdown":"https://stackoverflow.com/questions/74222479/whats-the-value-of-the-generated-getclass-invocation-for-method-references\n\nhttps://stackoverflow.com/questions/37413106/java-lang-nullpointerexception-is-thrown-using-a-method-reference-but-not-a-lamb\n\nFrom these 2 answers: JLS requires that method reference throws NPE if class is null (when method reference is created, not when its actually called), thus compiler creates a null check.","body":"<a href=\"https://stackoverflow.com/questions/74222479/whats-the-value-of-the-generated-getclass-invocation-for-method-references\" title=\"whats the value of the generated getclass invocation for method references\">stackoverflow.com/questions/74222479/&hellip;</a>  <a href=\"https://stackoverflow.com/questions/37413106/java-lang-nullpointerexception-is-thrown-using-a-method-reference-but-not-a-lamb\" title=\"java lang nullpointerexception is thrown using a method reference but not a lamb\">stackoverflow.com/questions/37413106/&hellip;</a>  From these 2 answers: JLS requires that method reference throws NPE if class is null (when method reference is created, not when its actually called), thus compiler creates a null check."}],"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697106575,"creation_date":1697106575,"question_id":77279802,"body_markdown":"In the IntelliJ issue tracker, [someone][1] noticed that IntelliJ indicates that the source code and the bytecode do not match for some classes of Spring Boot. Error message &quot;Library source does not match the bytecode for class XYZ&quot;. The original assumption was that this is a bug of IntelliJ.\r\n\r\nHowever, there are indeed differences between source code and bytecode.\r\nExample: class JerseyAutoConfiguration, method addInitParameters in version 3.1.4\r\n\r\nSource code:\r\n```java\r\nprivate void addInitParameters(DynamicRegistrationBean&lt;?&gt; registration) {\r\n\tthis.jersey.getInit().forEach(registration::addInitParameter);\r\n}\r\n```\r\n\r\nDecompiled code:\r\n```java\r\nprivate void addInitParameters(DynamicRegistrationBean&lt;?&gt; registration) {\r\n    Map var10000 = this.jersey.getInit();\r\n    Objects.requireNonNull(registration);\r\n    var10000.forEach(registration::addInitParameter);\r\n}\r\n```\r\n\r\nIt looks like the compiler inserted an `Objects.requireNonNull(..)` for each method reference.\r\n\r\nIs the difference an expected behavior for which I haven&#39;t found the documentation yet? Or should source code and bytecode match in Maven Central and the current behavior is not expected?\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-333390/Download-sources-automatically-not-working-with-Maven#focus=Comments-27-8222767.0-0","title":"Source code of Spring Boot does not match the bytecode","body":"<p>In the IntelliJ issue tracker, <a href=\"https://youtrack.jetbrains.com/issue/IDEA-333390/Download-sources-automatically-not-working-with-Maven#focus=Comments-27-8222767.0-0\" rel=\"nofollow noreferrer\">someone</a> noticed that IntelliJ indicates that the source code and the bytecode do not match for some classes of Spring Boot. Error message &quot;Library source does not match the bytecode for class XYZ&quot;. The original assumption was that this is a bug of IntelliJ.</p>\n<p>However, there are indeed differences between source code and bytecode.\nExample: class JerseyAutoConfiguration, method addInitParameters in version 3.1.4</p>\n<p>Source code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void addInitParameters(DynamicRegistrationBean&lt;?&gt; registration) {\n    this.jersey.getInit().forEach(registration::addInitParameter);\n}\n</code></pre>\n<p>Decompiled code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void addInitParameters(DynamicRegistrationBean&lt;?&gt; registration) {\n    Map var10000 = this.jersey.getInit();\n    Objects.requireNonNull(registration);\n    var10000.forEach(registration::addInitParameter);\n}\n</code></pre>\n<p>It looks like the compiler inserted an <code>Objects.requireNonNull(..)</code> for each method reference.</p>\n<p>Is the difference an expected behavior for which I haven't found the documentation yet? Or should source code and bytecode match in Maven Central and the current behavior is not expected?</p>\n"},{"tags":["java","spring-boot","spring-security","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1697103794,"post_id":77279457,"comment_id":136238616,"body_markdown":"There are no forbidden values, by default Spring Security adds CSFR protection for POST/PUT/DELETE requests. If you don&#39;t include the token your request will be blocked.","body":"There are no forbidden values, by default Spring Security adds CSFR protection for POST/PUT/DELETE requests. If you don&#39;t include the token your request will be blocked."},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1697103996,"post_id":77279457,"comment_id":136238655,"body_markdown":"Check you logs on the resource side, esp. with `org.springframework.security` set to debug and what the response looks like. POSTs and other REST verbs that can changed a resource are affected by other types of security.","body":"Check you logs on the resource side, esp. with <code>org.springframework.security</code> set to debug and what the response looks like. POSTs and other REST verbs that can changed a resource are affected by other types of security."},{"owner":{"account_id":61147,"reputation":2846,"user_id":182393,"accept_rate":85,"display_name":"Koziołek"},"score":0,"creation_date":1697104635,"post_id":77279457,"comment_id":136238779,"body_markdown":"@M.Deinum I added that. As I mentioned, it works with different mappings.","body":"@M.Deinum I added that. As I mentioned, it works with different mappings."},{"owner":{"account_id":61147,"reputation":2846,"user_id":182393,"accept_rate":85,"display_name":"Koziołek"},"score":0,"creation_date":1697104650,"post_id":77279457,"comment_id":136238783,"body_markdown":"@DarrenForsythe nothing :(","body":"@DarrenForsythe nothing :("},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697104665,"post_id":77279457,"comment_id":136238786,"body_markdown":"As mentioned there are no forbidden values. Also you added what? That being said enable debug (or trace) logging for security and web and see what is happening.","body":"As mentioned there are no forbidden values. Also you added what? That being said enable debug (or trace) logging for security and web and see what is happening."},{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":0,"creation_date":1697106690,"post_id":77279457,"comment_id":136239136,"body_markdown":"There are no &quot;forbidden&quot; values, but there might be an overlapping controller from default configuration bound to `/deployment` that takes precedence over yours. Debug the handling of the problematic HTTP request and you&#39;ll find out the cause.","body":"There are no &quot;forbidden&quot; values, but there might be an overlapping controller from default configuration bound to <code>&#47;deployment</code> that takes precedence over yours. Debug the handling of the problematic HTTP request and you&#39;ll find out the cause."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1697114348,"post_id":77279457,"comment_id":136240646,"body_markdown":"instead of us guessing here, please enable DEBUG logs and update your questions with the FULL logs when you are denied so that we can read the proper reason why the server rejects your call.","body":"instead of us guessing here, please enable DEBUG logs and update your questions with the FULL logs when you are denied so that we can read the proper reason why the server rejects your call."}],"owner":{"account_id":61147,"reputation":2846,"user_id":182393,"accept_rate":85,"display_name":"Koziołek"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697106367,"creation_date":1697103677,"question_id":77279457,"body_markdown":"I have a simple `REST/Flux` controller:\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/deployment&quot;)\r\npublic class MyController{\r\n\r\n    @PostMapping(consumes = {MediaType.MULTIPART_FORM_DATA_VALUE, &quot;application/zip&quot;})\r\n\tpublic Mono&lt;Status&gt; uploadFiles(@RequestPart(&quot;file&quot;) FilePart file) {}\r\n\r\n    @GetMapping\r\n\tpublic Mono&lt;Status&gt; list() {}\r\n\r\n}\r\n```\r\n\r\nIt worked fine until I added security configuration:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebFluxSecurity\r\n@EnableReactiveMethodSecurity\r\n@RequiredArgsConstructor\r\nclass WebSecurityConfiguration {\r\n\r\n\tprivate final CookieServerAuthenticationConverter cookieServerAuthenticationConverter;\r\n\tprivate final CustomAuthenticationEntryPoint customAuthenticationEntryPoint;\r\n\tprivate final WebSecurityUnsecuredPaths webSecurityUnsecuredPaths;\r\n\r\n\t@Bean\r\n\tpublic SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n\t\treturn http\r\n\t\t\t\t.authorizeExchange(exchanges -&gt; exchanges\r\n\t\t\t\t\t\t.pathMatchers(HttpMethod.GET, webSecurityUnsecuredPaths.getUnsecuredPathsMatchers())\r\n\t\t\t\t\t\t.permitAll()\r\n\t\t\t\t\t\t.anyExchange().authenticated())\r\n\t\t\t\t.oauth2ResourceServer(oauth2 -&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t  oauth2.jwt(Customizer.withDefaults()).bearerTokenConverter(cookieServerAuthenticationConverter)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  .authenticationEntryPoint(customAuthenticationEntryPoint))\r\n\t\t\t\t.exceptionHandling(exceptionHandlingSpec -&gt;\r\n\t\t\t\t\t\t\t\t\t\t   exceptionHandlingSpec\r\n\t\t\t\t\t\t\t\t\t\t\t\t   .authenticationEntryPoint(customAuthenticationEntryPoint))\r\n\t\t\t\t.build();\r\n\t}\r\n}\r\n\r\n```\r\n\r\nNow `list`, that is `GET`, works fine, but `uploadFiles`, that is `POST`, stops working. I check this configuration with other controllers and everything looks fine. `GET`s work without auth and `POST`s need auth. \r\n\r\nI made some experiments and finally when I change `/deployment` to `/uploadFile` everything starts working as expected. \r\n\r\nSo, now is my question:\r\n\r\nIs there any list of „forbidden” values for `@RequestMapping` in Spring Security?","title":"Is there any list of forbidden values for requestMappings in Spring Security?","body":"<p>I have a simple <code>REST/Flux</code> controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/deployment&quot;)\npublic class MyController{\n\n    @PostMapping(consumes = {MediaType.MULTIPART_FORM_DATA_VALUE, &quot;application/zip&quot;})\n    public Mono&lt;Status&gt; uploadFiles(@RequestPart(&quot;file&quot;) FilePart file) {}\n\n    @GetMapping\n    public Mono&lt;Status&gt; list() {}\n\n}\n</code></pre>\n<p>It worked fine until I added security configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity\n@RequiredArgsConstructor\nclass WebSecurityConfiguration {\n\n    private final CookieServerAuthenticationConverter cookieServerAuthenticationConverter;\n    private final CustomAuthenticationEntryPoint customAuthenticationEntryPoint;\n    private final WebSecurityUnsecuredPaths webSecurityUnsecuredPaths;\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n        return http\n                .authorizeExchange(exchanges -&gt; exchanges\n                        .pathMatchers(HttpMethod.GET, webSecurityUnsecuredPaths.getUnsecuredPathsMatchers())\n                        .permitAll()\n                        .anyExchange().authenticated())\n                .oauth2ResourceServer(oauth2 -&gt;\n                                              oauth2.jwt(Customizer.withDefaults()).bearerTokenConverter(cookieServerAuthenticationConverter)\n                                                      .authenticationEntryPoint(customAuthenticationEntryPoint))\n                .exceptionHandling(exceptionHandlingSpec -&gt;\n                                           exceptionHandlingSpec\n                                                   .authenticationEntryPoint(customAuthenticationEntryPoint))\n                .build();\n    }\n}\n\n</code></pre>\n<p>Now <code>list</code>, that is <code>GET</code>, works fine, but <code>uploadFiles</code>, that is <code>POST</code>, stops working. I check this configuration with other controllers and everything looks fine. <code>GET</code>s work without auth and <code>POST</code>s need auth.</p>\n<p>I made some experiments and finally when I change <code>/deployment</code> to <code>/uploadFile</code> everything starts working as expected.</p>\n<p>So, now is my question:</p>\n<p>Is there any list of „forbidden” values for <code>@RequestMapping</code> in Spring Security?</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":29645484,"reputation":1,"user_id":22720583,"display_name":"423u5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697106082,"creation_date":1697106082,"answer_id":77279740,"question_id":77279197,"body_markdown":"For getting touch points on click you need to set touch listener and store points where you touch, don&#39;t forget to return false else wise your click listener not work on it. You also can user this extension with interface. \r\n\r\n\r\n    interface OnClickListener {\r\n        fun onClick(view: View, point: PointF)\r\n    }\r\n    \r\n    fun ImageView.onClickListener(clickListener: OnClickListener) {\r\n    \r\n        val touchCoordinate = PointF()\r\n    \r\n        setOnTouchListener { _, event -&gt;\r\n            // for getting global point use event.rawX and rawY\r\n            touchCoordinate.x = event.x\r\n            touchCoordinate.y = event.y\r\n            return@setOnTouchListener false\r\n        }\r\n    \r\n        setOnClickListener {\r\n            clickListener.onClick(it, touchCoordinate)\r\n        }\r\n    }","title":"How can I create get location point","body":"<p>For getting touch points on click you need to set touch listener and store points where you touch, don't forget to return false else wise your click listener not work on it. You also can user this extension with interface.</p>\n<pre><code>interface OnClickListener {\n    fun onClick(view: View, point: PointF)\n}\n\nfun ImageView.onClickListener(clickListener: OnClickListener) {\n\n    val touchCoordinate = PointF()\n\n    setOnTouchListener { _, event -&gt;\n        // for getting global point use event.rawX and rawY\n        touchCoordinate.x = event.x\n        touchCoordinate.y = event.y\n        return@setOnTouchListener false\n    }\n\n    setOnClickListener {\n        clickListener.onClick(it, touchCoordinate)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697106082,"creation_date":1697101497,"question_id":77279197,"body_markdown":"I need to check whether certain points on an imageView are clicked in Android. I can create a button on the ImageView and get its shape, but how can I take the coordinates of the clicked area on the screen and do the action?\r\n\r\nI am sharing an example picture with you. Action will be taken when clicking on the red areas in the sample image.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1fosJ.png","title":"How can I create get location point","body":"<p>I need to check whether certain points on an imageView are clicked in Android. I can create a button on the ImageView and get its shape, but how can I take the coordinates of the clicked area on the screen and do the action?</p>\n<p>I am sharing an example picture with you. Action will be taken when clicking on the red areas in the sample image.</p>\n<p><a href=\"https://i.stack.imgur.com/1fosJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1fosJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","datetime","jackson","simpledateformat","objectmapper"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697100857,"post_id":77279042,"comment_id":136238039,"body_markdown":"In your code `timestamp` is a `String`, not a `Date`.","body":"In your code <code>timestamp</code> is a <code>String</code>, not a <code>Date</code>."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1697101178,"post_id":77279042,"comment_id":136238111,"body_markdown":"Appears very similar to an SQL &quot;timestamp&quot; &quot;date&quot;!!! You appear to want. SQL has some &quot;types&quot; date, time, timestamp , datetime","body":"Appears very similar to an SQL &quot;timestamp&quot; &quot;date&quot;!!! You appear to want. SQL has some &quot;types&quot; date, time, timestamp , datetime"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1697101183,"post_id":77279042,"comment_id":136238112,"body_markdown":"The format for month as `Oct` would be `MMM` (if that&#39;s the question), but you really should use `java.time`, instead of the long outdated and error prone `SimpleDateFormat`, `java.util.Date`, etc.","body":"The format for month as <code>Oct</code> would be <code>MMM</code> (if that&#39;s the question), but you really should use <code>java.time</code>, instead of the long outdated and error prone <code>SimpleDateFormat</code>, <code>java.util.Date</code>, etc."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1697101575,"post_id":77279042,"comment_id":136238193,"body_markdown":"You have not shown code for `sdf` which can be the cause of the problem you are facing. On a separate note, stay away from error-prone `java.util` date-time API and use the modern `java.time` API.","body":"You have not shown code for <code>sdf</code> which can be the cause of the problem you are facing. On a separate note, stay away from error-prone <code>java.util</code> date-time API and use the modern <code>java.time</code> API."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697110370,"post_id":77279042,"comment_id":136239883,"body_markdown":"If you can avoid using the troublesome and long outdated `Date` and `SimpleDateFormat`, you should. Use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). And [jackson-modules-java8](https://github.com/FasterXML/jackson-modules-java8).","body":"If you can avoid using the troublesome and long outdated <code>Date</code> and <code>SimpleDateFormat</code>, you should. Use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. And <a href=\"https://github.com/FasterXML/jackson-modules-java8\" rel=\"nofollow noreferrer\">jackson-modules-java8</a>."}],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697101288,"creation_date":1697101288,"answer_id":77279169,"question_id":77279042,"body_markdown":"there may be potential cause in your code which the date column in your json , would be string , not date , so  you can have a  try for  following  code snippet , it could  help you realize issue.\r\n```java\r\n\r\n    @Test\r\n    @SneakyThrows\r\n    public void test () {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n// Configure the date format with a specific locale\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSSZ&quot;, new Locale(&quot;en&quot;, &quot;NZ&quot;));\r\n        objectMapper.setDateFormat(sdf);\r\n\r\n// Create an instance of ErrorMessage and set its properties\r\n// ...\r\n\r\n// Serialize the ErrorMessage object to a JSON string\r\n        String jsonMessage = objectMapper.writeValueAsString(new Date());\r\n        System.out.println(jsonMessage);\r\n    }\r\n```\r\n\r\nand this the result \r\n```\r\n&quot;2023-10-12 08:56:57.984+0000&quot;\r\n```","title":"Simple Date format not recognised","body":"<p>there may be potential cause in your code which the date column in your json , would be string , not date , so  you can have a  try for  following  code snippet , it could  help you realize issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Test\n    @SneakyThrows\n    public void test () {\n        ObjectMapper objectMapper = new ObjectMapper();\n\n// Configure the date format with a specific locale\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSSZ&quot;, new Locale(&quot;en&quot;, &quot;NZ&quot;));\n        objectMapper.setDateFormat(sdf);\n\n// Create an instance of ErrorMessage and set its properties\n// ...\n\n// Serialize the ErrorMessage object to a JSON string\n        String jsonMessage = objectMapper.writeValueAsString(new Date());\n        System.out.println(jsonMessage);\n    }\n</code></pre>\n<p>and this the result</p>\n<pre><code>&quot;2023-10-12 08:56:57.984+0000&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697101354,"creation_date":1697101354,"answer_id":77279178,"question_id":77279042,"body_markdown":"There are a couple of things to consider:\r\n\r\nFirst, your `ErrorMessage` class has a timestamp field, which is either String or StringBuffer, but not a date (because you are setting it via `sdf.format(System.currentTimeMillis())`). Therefore, for this timestamp field the line :\r\n\r\n```\r\nobjectMapper.setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSSZ&quot;, new Locale(&quot;en&quot;, &quot;NZ&quot;)));\r\n```\r\ndoes not do essentially anything, since for jackson `timestamp` field is just the `String/StringBuffer`, not a any java date/time api class.\r\n\r\nSecond - what does `sdf` look like in your case? This is what actually formats passed milliseconds from epoch. If it looks like `yyyy-MM-dd HH:mm:ss.SSSZ`, then you should get the result that you want. For more detailed explanation you should provide a pattern that is backing the `sdf`.","title":"Simple Date format not recognised","body":"<p>There are a couple of things to consider:</p>\n<p>First, your <code>ErrorMessage</code> class has a timestamp field, which is either String or StringBuffer, but not a date (because you are setting it via <code>sdf.format(System.currentTimeMillis())</code>). Therefore, for this timestamp field the line :</p>\n<pre><code>objectMapper.setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSSZ&quot;, new Locale(&quot;en&quot;, &quot;NZ&quot;)));\n</code></pre>\n<p>does not do essentially anything, since for jackson <code>timestamp</code> field is just the <code>String/StringBuffer</code>, not a any java date/time api class.</p>\n<p>Second - what does <code>sdf</code> look like in your case? This is what actually formats passed milliseconds from epoch. If it looks like <code>yyyy-MM-dd HH:mm:ss.SSSZ</code>, then you should get the result that you want. For more detailed explanation you should provide a pattern that is backing the <code>sdf</code>.</p>\n"}],"owner":{"account_id":10703557,"reputation":475,"user_id":7878083,"display_name":"Ray Bond"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77279178,"answer_count":2,"score":0,"last_activity_date":1697106031,"creation_date":1697100233,"question_id":77279042,"body_markdown":"I am on Windows 10 with Java 17 using Simple Date Format.\r\n\r\nI am trying to get a date format like `2023-10-12 21:26:16` but instead I get `2023-Oct-12 21:26:16`. The date is inside a Jackson 2.15 ObjectMapper.\r\n\r\nThis is my code:\r\n\r\n```java\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSSZ&quot;, new Locale(&quot;en&quot;, &quot;NZ&quot;)));\r\nErrorMessage errorMessage = new ErrorMessage();\r\n...\r\nString jsonMessage =  objectMapper.writeValueAsString(errorMessage.builder()\r\n        .message(mostSpecificCauseMessage)\r\n        .timeStamp(sdf.format(System.currentTimeMillis()))\r\n        .build());\r\n```\r\n\r\nWhat am I missing and how can I get a date with `2023-10-12 ....` vs `2023-Oct-12...`?\r\n","title":"Simple Date format not recognised","body":"<p>I am on Windows 10 with Java 17 using Simple Date Format.</p>\n<p>I am trying to get a date format like <code>2023-10-12 21:26:16</code> but instead I get <code>2023-Oct-12 21:26:16</code>. The date is inside a Jackson 2.15 ObjectMapper.</p>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSSZ&quot;, new Locale(&quot;en&quot;, &quot;NZ&quot;)));\nErrorMessage errorMessage = new ErrorMessage();\n...\nString jsonMessage =  objectMapper.writeValueAsString(errorMessage.builder()\n        .message(mostSpecificCauseMessage)\n        .timeStamp(sdf.format(System.currentTimeMillis()))\n        .build());\n</code></pre>\n<p>What am I missing and how can I get a date with <code>2023-10-12 ....</code> vs <code>2023-Oct-12...</code>?</p>\n"},{"tags":["java","connection-pooling","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":28978643,"reputation":100,"user_id":22197081,"display_name":"Rainy sidewalks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697105907,"creation_date":1692211711,"answer_id":76916306,"question_id":76815960,"body_markdown":"try the following \r\n\r\n        import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\r\n    \r\n    public class ConnectionPoolExample {\r\n    \r\n        public static void main(String[] args) {\r\n            // Create a connection manager with pool settings ,use it with your requirments\r\n            PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n            connectionManager.setMaxTotal(100); // maximum number of connections in the pool\r\n            connectionManager.setDefaultMaxPerRoute(10); //maximum number of connections per route\r\n    \r\n            // create a HttpClientBuilder and set the connection manager\r\n            HttpClientBuilder httpClientBuilder = HttpClientBuilder.create();\r\n            httpClientBuilder.setConnectionManager(connectionManager);\r\n    \r\n            //closeableHttpClient\r\n            CloseableHttpClient httpClient = httpClientBuilder.build();\r\n    \r\n            // Use the httpClient for making requests\r\n            \r\n        }\r\n    }\r\n\r\n\r\nI look in the decorator and the following should be helpful .because as far as i know there is no direct configuration option available in Apache HttpClient 4.x to limit the number of waiting threads in the connection pool\r\n\r\n\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\r\n    \r\n    public class HttpClientExample {\r\n    \r\n        public static void main(String[] args) {\r\n            // create a connection manager with the desired maximum connections\r\n            PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n            connectionManager.setMaxTotal(100); // set the maximum total connections\r\n            connectionManager.setDefaultMaxPerRoute(50); // set the maximum connections per route\r\n    \r\n            // Create a semaphore to limit the number of waiting threads\r\n            int maxWaitingThreads = 10; // Set the maximum number of waiting threads\r\n            Semaphore semaphore = new Semaphore(maxWaitingThreads);\r\n    \r\n            // Decorate the connection manager with the semaphore\r\n            CloseableHttpClient httpClient = HttpClients.custom()\r\n                    .setConnectionManager(connectionManager)\r\n                    .setConnectionManagerShared(true)\r\n                    .addInterceptorFirst((HttpRequestInterceptor) (request, context) -&gt; {\r\n                        try {\r\n                            semaphore.acquire(); // acquire a permit from the semaphore\r\n                        } catch (InterruptedException e) {\r\n                            Thread.currentThread().interrupt();\r\n                        }\r\n                    })\r\n                    .addInterceptorLast((HttpResponseInterceptor) (response, context) -&gt; {\r\n                        semaphore.release(); // Release the permit back to the semaphore\r\n                    })\r\n                    .build();\r\n    \r\n    \r\n            \r\n            httpClient.close();\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Apache HttpClient with limited waiters","body":"<p>try the following</p>\n<pre><code>    import org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\n\npublic class ConnectionPoolExample {\n\n    public static void main(String[] args) {\n        // Create a connection manager with pool settings ,use it with your requirments\n        PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n        connectionManager.setMaxTotal(100); // maximum number of connections in the pool\n        connectionManager.setDefaultMaxPerRoute(10); //maximum number of connections per route\n\n        // create a HttpClientBuilder and set the connection manager\n        HttpClientBuilder httpClientBuilder = HttpClientBuilder.create();\n        httpClientBuilder.setConnectionManager(connectionManager);\n\n        //closeableHttpClient\n        CloseableHttpClient httpClient = httpClientBuilder.build();\n\n        // Use the httpClient for making requests\n        \n    }\n}\n</code></pre>\n<p>I look in the decorator and the following should be helpful .because as far as i know there is no direct configuration option available in Apache HttpClient 4.x to limit the number of waiting threads in the connection pool</p>\n<pre><code>import org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\n\npublic class HttpClientExample {\n\n    public static void main(String[] args) {\n        // create a connection manager with the desired maximum connections\n        PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n        connectionManager.setMaxTotal(100); // set the maximum total connections\n        connectionManager.setDefaultMaxPerRoute(50); // set the maximum connections per route\n\n        // Create a semaphore to limit the number of waiting threads\n        int maxWaitingThreads = 10; // Set the maximum number of waiting threads\n        Semaphore semaphore = new Semaphore(maxWaitingThreads);\n\n        // Decorate the connection manager with the semaphore\n        CloseableHttpClient httpClient = HttpClients.custom()\n                .setConnectionManager(connectionManager)\n                .setConnectionManagerShared(true)\n                .addInterceptorFirst((HttpRequestInterceptor) (request, context) -&gt; {\n                    try {\n                        semaphore.acquire(); // acquire a permit from the semaphore\n                    } catch (InterruptedException e) {\n                        Thread.currentThread().interrupt();\n                    }\n                })\n                .addInterceptorLast((HttpResponseInterceptor) (response, context) -&gt; {\n                    semaphore.release(); // Release the permit back to the semaphore\n                })\n                .build();\n\n\n        \n        httpClient.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697105907,"creation_date":1690936507,"question_id":76815960,"body_markdown":"I&#39;m using Apache HttpClient 4.5 and I want to configure the connection pool to limit the number of waiting threads. So if the pool is exhausted, it should allow up to _n_ threads to wait for a connection (with some timeout), but any additional requests should immediately fail.\r\n\r\nIs there a configuration option for that? If not, is there a clean way to [decorate][1] it with a semaphore to achieve the same?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Decorator_pattern","title":"Apache HttpClient with limited waiters","body":"<p>I'm using Apache HttpClient 4.5 and I want to configure the connection pool to limit the number of waiting threads. So if the pool is exhausted, it should allow up to <em>n</em> threads to wait for a connection (with some timeout), but any additional requests should immediately fail.</p>\n<p>Is there a configuration option for that? If not, is there a clean way to <a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\">decorate</a> it with a semaphore to achieve the same?</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","pulumi"],"owner":{"account_id":29653987,"reputation":1,"user_id":22727135,"display_name":"BuBu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697105886,"creation_date":1697100975,"question_id":77279138,"body_markdown":"I am trying to connect multiple subnets to the same publicRoutetable, I don&#39;t know if I am doing it right, I am very new to Pulumi and AWS. Please let me know how to do that.\r\n\r\nI am getting an error: \r\n\r\n    error: Duplicate resource URN &#39;urn:pulumi:Dev::Iac_pulumi::aws:ec2/routeTableAssociation:RouteTableAssociation::publicRouteTableAssociationCalling &#39;toString&#39; on an &#39;Output\\&lt;T\\&gt;&#39; is not supported.\r\n    This is because the value of an &#39;Output&#39; is asynchronous.\r\n\r\n    To get the value of an Output\\&lt;T\\&gt; as an Output\\&lt;String\\&gt; consider either:\r\n    1: applyValue(v -\\&gt; String.format(&quot;prefix%ssuffix&quot;, v))\r\n    2: Output.format(&quot;prefix%ssuffix&quot;, o)\r\n\r\nHere is my code snippet:\r\n\r\n```\r\nfor (Subnet publicSubnet : publicSubnets) {\r\n    new RouteTableAssociation(&quot;publicRouteTableAssociation&quot; + publicSubnet.id(), RouteTableAssociationArgs.builder()\r\n            .routeTableId(publicRouteTable.id())\r\n            .subnetId(publicSubnet.id())\r\n            .build());\r\n}\r\n```","title":"How to associate multiple subnet to route table?","body":"<p>I am trying to connect multiple subnets to the same publicRoutetable, I don't know if I am doing it right, I am very new to Pulumi and AWS. Please let me know how to do that.</p>\n<p>I am getting an error:</p>\n<pre><code>error: Duplicate resource URN 'urn:pulumi:Dev::Iac_pulumi::aws:ec2/routeTableAssociation:RouteTableAssociation::publicRouteTableAssociationCalling 'toString' on an 'Output\\&lt;T\\&gt;' is not supported.\nThis is because the value of an 'Output' is asynchronous.\n\nTo get the value of an Output\\&lt;T\\&gt; as an Output\\&lt;String\\&gt; consider either:\n1: applyValue(v -\\&gt; String.format(&quot;prefix%ssuffix&quot;, v))\n2: Output.format(&quot;prefix%ssuffix&quot;, o)\n</code></pre>\n<p>Here is my code snippet:</p>\n<pre><code>for (Subnet publicSubnet : publicSubnets) {\n    new RouteTableAssociation(&quot;publicRouteTableAssociation&quot; + publicSubnet.id(), RouteTableAssociationArgs.builder()\n            .routeTableId(publicRouteTable.id())\n            .subnetId(publicSubnet.id())\n            .build());\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1692547685,"post_id":76940256,"comment_id":135635374,"body_markdown":"I can&#39;t speak for everybody, but I personally think that your question would be much easier to answer if you created and posted a decent [mre] code post with the question. Please look at the link and then consider creating and posting one of these with your question. This often involves a bit of work on your part, but it is work that is well worth it as it helps you to understand and isolate the problem, a process often leads you to a solution yourself, or failing that, allows for you to post a better code and question which helps you get a better and quicker answer from us.","body":"I can&#39;t speak for everybody, but I personally think that your question would be much easier to answer if you created and posted a decent <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code post with the question. Please look at the link and then consider creating and posting one of these with your question. This often involves a bit of work on your part, but it is work that is well worth it as it helps you to understand and isolate the problem, a process often leads you to a solution yourself, or failing that, allows for you to post a better code and question which helps you get a better and quicker answer from us."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1692547798,"post_id":76940256,"comment_id":135635386,"body_markdown":"Please provide a [mre] that demonstrates the problem.  That means it must be compilable and executable.  Also take the [tour] and read [ask] so you may better participate on this site.  Welcome to StackOverflow!","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem.  That means it must be compilable and executable.  Also take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> so you may better participate on this site.  Welcome to StackOverflow!"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1692547838,"post_id":76940256,"comment_id":135635391,"body_markdown":"There must be an *echo* here ;)","body":"There must be an <i>echo</i> here ;)"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1692547908,"post_id":76940256,"comment_id":135635399,"body_markdown":"Ships in the night!","body":"Ships in the night!"},{"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1692549268,"post_id":76940256,"comment_id":135635526,"body_markdown":"Are `vx`, `vy` indeed `double`? Because with `int` rounding negative numbers then result may differ. `(int)(7*0.9) == 6`.","body":"Are <code>vx</code>, <code>vy</code> indeed <code>double</code>? Because with <code>int</code> rounding negative numbers then result may differ. <code>(int)(7*0.9) == 6</code>."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1692560892,"post_id":76940256,"comment_id":135636732,"body_markdown":"Rounding may be an issue, as well as the fact that your ball position may not be the middle of the ball but the upper left corner. Depends how you paint it, which is not shown.","body":"Rounding may be an issue, as well as the fact that your ball position may not be the middle of the ball but the upper left corner. Depends how you paint it, which is not shown."}],"answers":[{"tags":[],"owner":{"account_id":28978643,"reputation":100,"user_id":22197081,"display_name":"Rainy sidewalks"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697105873,"creation_date":1692552391,"answer_id":76940575,"question_id":76940256,"body_markdown":"You need to handle the movement induced by positive and negative velocity differently for north and east compared to south and west direction. and may be that is the reason that you are looking for. \r\n\r\n\r\n        public void update() {\r\n        double deceleration = 0.9; // Deceleration factor\r\n    \r\n        // Check if the ball is moving\r\n        if (vx != 0 || vy != 0) {\r\n            isMoving = true;\r\n            updateCount++; // Increment the counter\r\n        }\r\n    \r\n        // Apply deceleration to both components\r\n        vx *= deceleration;\r\n        vy *= deceleration;\r\n    \r\n        // Update position using the decelerated velocity components\r\n        x += vx;\r\n        y += vy;\r\n        // System.out.println(&quot;vX: &quot;+vx+&quot; vY: &quot;+vy);\r\n    \r\n        // Set velocity to zero when vx or vy is too small to matter\r\n        if (Math.abs(vx) &lt; 0.000001) {\r\n            vx = 0;\r\n        }\r\n        if (Math.abs(vy) &lt; 0.000001) {\r\n            vy = 0;\r\n        }\r\n        \r\n    \r\n        // Border coordinates and dimensions\r\n        int borderX = 100; // Update these values to match the actual border coordinates and dimensions\r\n        int borderY = 100;\r\n        int borderWidth = 800;\r\n        int borderHeight = 600;\r\n    \r\n        // Bounce off the borders\r\n        if (x + RADIUS &gt;= borderX + borderWidth || x - RADIUS &lt;= borderX) {\r\n            if (vx &gt; 0) {\r\n                vx *= -1; // Reverse horizontal velocity\r\n            }\r\n            x = Math.min(x, borderX + borderWidth - RADIUS);\r\n            x = Math.max(x, borderX + RADIUS);\r\n        }\r\n        if (y + RADIUS &gt;= borderY + borderHeight || y - RADIUS &lt;= borderY) {\r\n            if (vy &gt; 0) {\r\n                vy *= -1; // Reverse vertical velocity\r\n            }\r\n            y = Math.min(y, borderY + borderHeight - RADIUS);\r\n            y = Math.max(y, borderY + RADIUS);\r\n        }\r\n    \r\n        // If the ball has stopped moving and was previously moving, log the update count\r\n        if (vx == 0 &amp;&amp; vy == 0 &amp;&amp; isMoving) {\r\n            System.out.println(&quot;Ball stopped moving after &quot;+updateCount+&quot; updates. &quot;);\r\n            isMoving = false; // Reset the moving state\r\n            updateCount = 0; // Reset the counter\r\n        }\r\n    }","title":"Positive X and Y movement of a ball acting different than Negative X and Y movement","body":"<p>You need to handle the movement induced by positive and negative velocity differently for north and east compared to south and west direction. and may be that is the reason that you are looking for.</p>\n<pre><code>    public void update() {\n    double deceleration = 0.9; // Deceleration factor\n\n    // Check if the ball is moving\n    if (vx != 0 || vy != 0) {\n        isMoving = true;\n        updateCount++; // Increment the counter\n    }\n\n    // Apply deceleration to both components\n    vx *= deceleration;\n    vy *= deceleration;\n\n    // Update position using the decelerated velocity components\n    x += vx;\n    y += vy;\n    // System.out.println(&quot;vX: &quot;+vx+&quot; vY: &quot;+vy);\n\n    // Set velocity to zero when vx or vy is too small to matter\n    if (Math.abs(vx) &lt; 0.000001) {\n        vx = 0;\n    }\n    if (Math.abs(vy) &lt; 0.000001) {\n        vy = 0;\n    }\n    \n\n    // Border coordinates and dimensions\n    int borderX = 100; // Update these values to match the actual border coordinates and dimensions\n    int borderY = 100;\n    int borderWidth = 800;\n    int borderHeight = 600;\n\n    // Bounce off the borders\n    if (x + RADIUS &gt;= borderX + borderWidth || x - RADIUS &lt;= borderX) {\n        if (vx &gt; 0) {\n            vx *= -1; // Reverse horizontal velocity\n        }\n        x = Math.min(x, borderX + borderWidth - RADIUS);\n        x = Math.max(x, borderX + RADIUS);\n    }\n    if (y + RADIUS &gt;= borderY + borderHeight || y - RADIUS &lt;= borderY) {\n        if (vy &gt; 0) {\n            vy *= -1; // Reverse vertical velocity\n        }\n        y = Math.min(y, borderY + borderHeight - RADIUS);\n        y = Math.max(y, borderY + RADIUS);\n    }\n\n    // If the ball has stopped moving and was previously moving, log the update count\n    if (vx == 0 &amp;&amp; vy == 0 &amp;&amp; isMoving) {\n        System.out.println(&quot;Ball stopped moving after &quot;+updateCount+&quot; updates. &quot;);\n        isMoving = false; // Reset the moving state\n        updateCount = 0; // Reset the counter\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29262535,"reputation":9,"user_id":22419152,"display_name":"Robert Romani"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1697105873,"creation_date":1692547391,"question_id":76940256,"body_markdown":"In my implementation of the update method (where I handle movement), movement induced by positive and negative velocity are handled in the same way, but when the golf ball moves either north or east, the movement is different than the southern and western movement.\r\n\r\nPasted below is my update method, and after looking at it for hours, I just don&#39;t understand what is making the movement like it is.\r\n```\r\npublic void update() {\r\n    double deceleration = 0.9; // Deceleration factor\r\n\r\n    // Check if the ball is moving\r\n    if (vx != 0 || vy != 0) {\r\n        isMoving = true;\r\n        updateCount++; // Increment the counter\r\n    }\r\n\r\n    // Apply deceleration to both components\r\n    vx *= deceleration;\r\n    vy *= deceleration;\r\n\r\n    // Update position using the decelerated velocity components\r\n    x += vx;\r\n    y += vy;\r\n    // System.out.println(&quot;vX: &quot;+vx+&quot; vY: &quot;+vy);\r\n\r\n    // Set velocity to zero when vx or vy is too small to matter\r\n    if (Math.abs(vx) &lt; 0.000001) {\r\n        vx = 0;\r\n    }\r\n    if (Math.abs(vy) &lt; 0.000001) {\r\n        vy = 0;\r\n    }\r\n    \r\n\r\n    // Border coordinates and dimensions\r\n    int borderX = 100; // Update these values to match the actual border coordinates and dimensions\r\n    int borderY = 100;\r\n    int borderWidth = 800;\r\n    int borderHeight = 600;\r\n\r\n    // Bounce off the borders\r\n    if (x + RADIUS &gt;= borderX + borderWidth || x - RADIUS &lt;= borderX) {\r\n        vx *= -1; // Reverse horizontal velocity\r\n        x = Math.min(x, borderX + borderWidth - RADIUS);\r\n        x = Math.max(x, borderX + RADIUS);\r\n    }\r\n    if (y + RADIUS &gt;= borderY + borderHeight || y - RADIUS &lt;= borderY) {\r\n        vy *= -1; // Reverse vertical velocity\r\n        y = Math.min(y, borderY + borderHeight - RADIUS);\r\n        y = Math.max(y, borderY + RADIUS);\r\n    }\r\n\r\n    // If the ball has stopped moving and was previously moving, log the update count\r\n    if (vx == 0 &amp;&amp; vy == 0 &amp;&amp; isMoving) {\r\n        System.out.println(&quot;Ball stopped moving after &quot;+updateCount+&quot; updates. &quot;);\r\n        isMoving = false; // Reset the moving stae\r\n        updateCount = 0; // Reset the counter\r\n    }\r\n}\r\n```\r\nI tried rewriting the movement handling code several times, checking over the deltaX and Y values, etc.","title":"Positive X and Y movement of a ball acting different than Negative X and Y movement","body":"<p>In my implementation of the update method (where I handle movement), movement induced by positive and negative velocity are handled in the same way, but when the golf ball moves either north or east, the movement is different than the southern and western movement.</p>\n<p>Pasted below is my update method, and after looking at it for hours, I just don't understand what is making the movement like it is.</p>\n<pre><code>public void update() {\n    double deceleration = 0.9; // Deceleration factor\n\n    // Check if the ball is moving\n    if (vx != 0 || vy != 0) {\n        isMoving = true;\n        updateCount++; // Increment the counter\n    }\n\n    // Apply deceleration to both components\n    vx *= deceleration;\n    vy *= deceleration;\n\n    // Update position using the decelerated velocity components\n    x += vx;\n    y += vy;\n    // System.out.println(&quot;vX: &quot;+vx+&quot; vY: &quot;+vy);\n\n    // Set velocity to zero when vx or vy is too small to matter\n    if (Math.abs(vx) &lt; 0.000001) {\n        vx = 0;\n    }\n    if (Math.abs(vy) &lt; 0.000001) {\n        vy = 0;\n    }\n    \n\n    // Border coordinates and dimensions\n    int borderX = 100; // Update these values to match the actual border coordinates and dimensions\n    int borderY = 100;\n    int borderWidth = 800;\n    int borderHeight = 600;\n\n    // Bounce off the borders\n    if (x + RADIUS &gt;= borderX + borderWidth || x - RADIUS &lt;= borderX) {\n        vx *= -1; // Reverse horizontal velocity\n        x = Math.min(x, borderX + borderWidth - RADIUS);\n        x = Math.max(x, borderX + RADIUS);\n    }\n    if (y + RADIUS &gt;= borderY + borderHeight || y - RADIUS &lt;= borderY) {\n        vy *= -1; // Reverse vertical velocity\n        y = Math.min(y, borderY + borderHeight - RADIUS);\n        y = Math.max(y, borderY + RADIUS);\n    }\n\n    // If the ball has stopped moving and was previously moving, log the update count\n    if (vx == 0 &amp;&amp; vy == 0 &amp;&amp; isMoving) {\n        System.out.println(&quot;Ball stopped moving after &quot;+updateCount+&quot; updates. &quot;);\n        isMoving = false; // Reset the moving stae\n        updateCount = 0; // Reset the counter\n    }\n}\n</code></pre>\n<p>I tried rewriting the movement handling code several times, checking over the deltaX and Y values, etc.</p>\n"},{"tags":["java","android","splash-screen"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1641827091,"post_id":70654213,"comment_id":124901714,"body_markdown":"I too tried and got the very same error","body":"I too tried and got the very same error"}],"answers":[{"tags":[],"owner":{"account_id":18371865,"reputation":331,"user_id":13381800,"display_name":"BinDev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642080177,"creation_date":1642080177,"answer_id":70697349,"question_id":70654213,"body_markdown":"I&#39;m not sure if there is correct usage - but maybe this?\r\n\r\n    androidx.core.splashscreen.SplashScreen.installSplashScreen(this);","title":"Cannot Find Symbol SplashScreen.installSplashScreen(this);","body":"<p>I'm not sure if there is correct usage - but maybe this?</p>\n<pre><code>androidx.core.splashscreen.SplashScreen.installSplashScreen(this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7883507,"reputation":306,"user_id":10869204,"display_name":"Konstantin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681474138,"creation_date":1681474138,"answer_id":76014957,"question_id":70654213,"body_markdown":"In my case if use this version:\r\n\r\n    implementation &#39;androidx.core:core-splashscreen:1.1.0-alpha01&#39;\r\n    \r\nimport does not work!\r\nbut if use older version:\r\n\r\n    implementation &#39;androidx.core:core-splashscreen:1.0.0-alpha01&#39;\r\n    \r\nit works!","title":"Cannot Find Symbol SplashScreen.installSplashScreen(this);","body":"<p>In my case if use this version:</p>\n<pre><code>implementation 'androidx.core:core-splashscreen:1.1.0-alpha01'\n</code></pre>\n<p>import does not work!\nbut if use older version:</p>\n<pre><code>implementation 'androidx.core:core-splashscreen:1.0.0-alpha01'\n</code></pre>\n<p>it works!</p>\n"},{"tags":[],"owner":{"account_id":26035935,"reputation":51,"user_id":19741383,"display_name":"Malik Farooq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697105536,"creation_date":1697105536,"answer_id":77279683,"question_id":70654213,"body_markdown":"I had the same issue basically I was importing  this \r\n\r\n    import android.window.SplashScreen;\r\n\r\ninstead of  this \r\n\r\n     import androidx.core.splashscreen.SplashScreen; \r\n\r\n","title":"Cannot Find Symbol SplashScreen.installSplashScreen(this);","body":"<p>I had the same issue basically I was importing  this</p>\n<pre><code>import android.window.SplashScreen;\n</code></pre>\n<p>instead of  this</p>\n<pre><code> import androidx.core.splashscreen.SplashScreen; \n</code></pre>\n"}],"owner":{"account_id":18371865,"reputation":331,"user_id":13381800,"display_name":"BinDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2459,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70697349,"answer_count":3,"score":2,"last_activity_date":1697105536,"creation_date":1641825895,"question_id":70654213,"body_markdown":"Using [developer.android migration guide][1] for splash screens in android 12. My build.grade has\r\n\r\n    android {\r\n       compileSdkVersion 31\r\n       ...\r\n    }\r\n    dependencies {\r\n       ...\r\n       implementation &#39;androidx.core:core-splashscreen:1.0.0-alpha01&#39;\r\n    }\r\n\r\nManifest and theme also set up. The issue I am having is with \r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n             super.onCreate(savedInstanceState);\r\n    \r\n             // Handle the splash screen transition.\r\n             SplashScreen splashScreen = SplashScreen.installSplashScreen(this);\r\n             setContentView(R.layout.main_activity);\r\n        }\r\n    }\r\n\r\nI am getting error: cannot find symbol SplashScreen.installSplashScreen(this); with the .installSplashScreen part of code in red in Android Studio.\r\n\r\nI have seen [this stack post with some suggestions.][2] I have tried both\r\n\r\n    import android.window.SplashScreen;\r\n    import androidx.core.splashscreen.SplashScreen;\r\n\r\nBut still getting cannot find symbol.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/ui/splash-screen/migrate\r\n  [2]: https://stackoverflow.com/questions/68712878/cannot-resolve-method-installsplashscreen-in-splashscreen","title":"Cannot Find Symbol SplashScreen.installSplashScreen(this);","body":"<p>Using <a href=\"https://developer.android.com/guide/topics/ui/splash-screen/migrate\" rel=\"nofollow noreferrer\">developer.android migration guide</a> for splash screens in android 12. My build.grade has</p>\n<pre><code>android {\n   compileSdkVersion 31\n   ...\n}\ndependencies {\n   ...\n   implementation 'androidx.core:core-splashscreen:1.0.0-alpha01'\n}\n</code></pre>\n<p>Manifest and theme also set up. The issue I am having is with</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n\n         // Handle the splash screen transition.\n         SplashScreen splashScreen = SplashScreen.installSplashScreen(this);\n         setContentView(R.layout.main_activity);\n    }\n}\n</code></pre>\n<p>I am getting error: cannot find symbol SplashScreen.installSplashScreen(this); with the .installSplashScreen part of code in red in Android Studio.</p>\n<p>I have seen <a href=\"https://stackoverflow.com/questions/68712878/cannot-resolve-method-installsplashscreen-in-splashscreen\">this stack post with some suggestions.</a> I have tried both</p>\n<pre><code>import android.window.SplashScreen;\nimport androidx.core.splashscreen.SplashScreen;\n</code></pre>\n<p>But still getting cannot find symbol.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6409279,"reputation":958,"user_id":7676237,"display_name":"puppylpg"},"score":0,"creation_date":1701241878,"post_id":77279480,"comment_id":136749826,"body_markdown":"really a breaking change :D","body":"really a breaking change :D"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697105510,"creation_date":1697105510,"answer_id":77279678,"question_id":77279480,"body_markdown":"You are looking at a blog for Spring 2.3 and are using a non final Spring Boot 3.2. \r\n\r\nThe classes have moved, see [this ticket][1] and [the documentation][2] is perfectly fine if you look at the correct one. You looked at the current production version which is 3.1 and not 3.2 as that is still under development. \r\n\r\nSo in short that blog post is (sort of) outdated, the documentation is perfectly in order as long as you read the proper one. \r\n\r\n[1]: https://github.com/spring-projects/spring-boot/issues/37667\r\n[2]: https://docs.spring.io/spring-boot/docs/3.2.0-SNAPSHOT/reference/html/executable-jar.html#appendix.executable-jar.launching.manifest","title":"org.springframework.boot.loader.JarLauncher cannot be found, but org.springframework.boot.loader.launch.JarLauncher can","body":"<p>You are looking at a blog for Spring 2.3 and are using a non final Spring Boot 3.2.</p>\n<p>The classes have moved, see <a href=\"https://github.com/spring-projects/spring-boot/issues/37667\" rel=\"nofollow noreferrer\">this ticket</a> and <a href=\"https://docs.spring.io/spring-boot/docs/3.2.0-SNAPSHOT/reference/html/executable-jar.html#appendix.executable-jar.launching.manifest\" rel=\"nofollow noreferrer\">the documentation</a> is perfectly fine if you look at the correct one. You looked at the current production version which is 3.1 and not 3.2 as that is still under development.</p>\n<p>So in short that blog post is (sort of) outdated, the documentation is perfectly in order as long as you read the proper one.</p>\n"}],"owner":{"account_id":3001234,"reputation":578,"user_id":2546702,"accept_rate":100,"display_name":"minioim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77279678,"answer_count":1,"score":2,"last_activity_date":1697105510,"creation_date":1697103863,"question_id":77279480,"body_markdown":"Trying to deploy a **Spring Boot 3.2** app in a layered docker I basically followed [this blogpost](https://spring.io/blog/2020/01/27/creating-docker-images-with-spring-boot-2-3-0-m1) and specifically, my docker entrypoint was: \r\n```\r\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\r\n```\r\n\r\nYet the docker doesn&#39;t start and display the usual \r\n```\r\nError: Could not find or load main class org.springframework.boot.loader.JarLauncher\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.loader.JarLauncher\r\n```\r\n\r\nAfter some digging in the initial jar file, I found out that the JarLauncher class is actually under `org.springframework.boot.loader.launch.JarLauncher`.\r\n\r\nand if I replace the entrypoint by this one: \r\n\r\n```\r\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.launch.JarLauncher&quot;]\r\n```\r\n\r\nThe app actually starts.\r\n\r\nJumping back in the [Spring Doc](https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#appendix.executable-jar.launching.manifest) the package should still be `org.springframework.boot.loader.JarLauncher` (according to the doc, I mean)\r\n\r\nSo... has the class JarLauncher been moved, and the documentation is outdated, or is it some mistake in my configuration?\r\nSince I can&#39;t find any documentation about this change (witch seems to be fairly important)\r\n\r\nOf course the usual `java -jar` command runs correctly since the manifest file is alright.\r\n\r\nI double checked by starting a new project with a Spring Boot 2.7, and the JarLauncher class is indeed in the `org.springframework.boot.loader` package\r\n\r\n","title":"org.springframework.boot.loader.JarLauncher cannot be found, but org.springframework.boot.loader.launch.JarLauncher can","body":"<p>Trying to deploy a <strong>Spring Boot 3.2</strong> app in a layered docker I basically followed <a href=\"https://spring.io/blog/2020/01/27/creating-docker-images-with-spring-boot-2-3-0-m1\" rel=\"nofollow noreferrer\">this blogpost</a> and specifically, my docker entrypoint was:</p>\n<pre><code>ENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\n</code></pre>\n<p>Yet the docker doesn't start and display the usual</p>\n<pre><code>Error: Could not find or load main class org.springframework.boot.loader.JarLauncher\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.loader.JarLauncher\n</code></pre>\n<p>After some digging in the initial jar file, I found out that the JarLauncher class is actually under <code>org.springframework.boot.loader.launch.JarLauncher</code>.</p>\n<p>and if I replace the entrypoint by this one:</p>\n<pre><code>ENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.launch.JarLauncher&quot;]\n</code></pre>\n<p>The app actually starts.</p>\n<p>Jumping back in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#appendix.executable-jar.launching.manifest\" rel=\"nofollow noreferrer\">Spring Doc</a> the package should still be <code>org.springframework.boot.loader.JarLauncher</code> (according to the doc, I mean)</p>\n<p>So... has the class JarLauncher been moved, and the documentation is outdated, or is it some mistake in my configuration?\nSince I can't find any documentation about this change (witch seems to be fairly important)</p>\n<p>Of course the usual <code>java -jar</code> command runs correctly since the manifest file is alright.</p>\n<p>I double checked by starting a new project with a Spring Boot 2.7, and the JarLauncher class is indeed in the <code>org.springframework.boot.loader</code> package</p>\n"},{"tags":["java","yaml","snakeyaml"],"comments":[{"owner":{"account_id":12509045,"reputation":661,"user_id":9104942,"display_name":"Abdusoli"},"score":2,"creation_date":1595227296,"post_id":62989576,"comment_id":111389701,"body_markdown":"Maybe this link can help you: https://stackoverflow.com/questions/56409143/how-to-parse-yaml-file-to-a-java-class","body":"Maybe this link can help you: <a href=\"https://stackoverflow.com/questions/56409143/how-to-parse-yaml-file-to-a-java-class\" title=\"how to parse yaml file to a java class\">stackoverflow.com/questions/56409143/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2434272,"reputation":696,"user_id":2124562,"display_name":"tune5ths"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1666660278,"creation_date":1595227276,"answer_id":62989881,"question_id":62989576,"body_markdown":"[YAML][1] has a list of recommended libraries for Java: \r\n[SnakeYAML][2], [YamlBeans][3] and [eo-yaml][4]\r\n\r\nThe most widely used of these is probably SnakeYAML.  Baeldung has a very easy to understand tutorial here: https://www.baeldung.com/java-snake-yaml\r\n\r\n[Edit to address new code and output in edit by OP]:\r\n\r\nYou also have some problems with the formatting and naming conventions you used.  In your yaml file [brackets] are needed around any Lists, instance variables need to be camelCase, and any Strings need to be surrounded by quotes (including Object keys):\r\n\r\n    products:\r\n      &quot;ProductA&quot;:\r\n        suite:\r\n          &quot;SuiteName_A&quot;:\r\n            environment_1: [&quot;A&quot;,&quot;B&quot;,&quot;C&quot;]\r\n            environment_2: [&quot;X&quot;,&quot;Y&quot;,&quot;Z&quot;]\r\n          &quot;SuiteName_B&quot;:\r\n            environment_1: [&quot;E&quot;,&quot;F&quot;,&quot;G&quot;]\r\n            environment_2: [&quot;K&quot;,&quot;L&quot;,&quot;M&quot;]\r\n      &quot;ProductB&quot;:\r\n        suite:\r\n          &quot;SuiteName_K&quot;:\r\n            environment_1: [&quot;A1&quot;,&quot;B2&quot;,&quot;C3&quot;]\r\n            environment_2: [&quot;X1&quot;,&quot;Y1&quot;,&quot;Z1&quot;]\r\n\r\nYou should try to match this in your bean naming convention.  Also your 2nd setter needs to set Environment_2 instead of Environment_1.  Here&#39;s how your entity classes would look.\r\n\r\nEnvironment\r\n\r\n    package Configuration;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class Environment {\r\n        private ArrayList&lt;String&gt; environment_1;\r\n        private ArrayList&lt;String&gt; environment_2;\r\n\r\n        public ArrayList&lt;String&gt; getEnvironment_1() {\r\n            return environment_1;\r\n        }\r\n\r\n        public void setEnvironment_1(ArrayList&lt;String&gt; environment_1) {\r\n            this.environment_1 = environment_1;\r\n        }\r\n\r\n        public ArrayList&lt;String&gt; getEnvironment_2() {\r\n            return environment_2;\r\n        }\r\n\r\n        public void setEnvironment_2(ArrayList&lt;String&gt; environment_2) {\r\n            this.environment_2 = environment_2;\r\n        }\r\n    }\r\nSuiteNames\r\n\r\n    package Configuration;\r\n\r\n    import java.util.HashMap;\r\n\r\n    public class SuiteName {\r\n        private HashMap&lt;String,Environment&gt; suite;\r\n\r\n        public HashMap&lt;String, Environment&gt; getSuite() {\r\n            return suite;\r\n        }\r\n\r\n        public void setSuite(HashMap&lt;String, Environment&gt; suite) {\r\n            suite = suite;\r\n        }\r\n    }\r\n    package Configuration;\r\n\r\n    import java.util.HashMap;\r\n\r\n    public class Product {\r\n        private HashMap&lt;String, SuiteName&gt; products;\r\n\r\n        public HashMap&lt;String, SuiteName&gt; getProducts() {\r\n            return products;\r\n        }\r\n\r\n        public void setProducts(HashMap&lt;String, SuiteName&gt; products) {\r\n            this.products = products;\r\n        }\r\n    }\r\n\r\nEdit:\r\nIn your main method you will probably want to use yaml.load(inputStream) to get the whole file in a HashMap.  Based on your question in the comment I&#39;ve added accessing the data structure.\r\n\r\nDbClass\r\n\r\n    package Configuration;\r\n\r\n    import org.yaml.snakeyaml.Yaml;\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.InputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n\r\n    public class DbClass {\r\n\r\n        public static void main(String[] args) throws FileNotFoundException {\r\n            Yaml yaml = new Yaml();\r\n            InputStream inputStream = new FileInputStream(&quot;path.yml&quot;);\r\n            System.out.println(inputStream);\r\n\r\n            HashMap yamlMap = yaml.load(inputStream);\r\n            for (Object o : yamlMap.entrySet()) {\r\n                System.out.println(o);\r\n            }\r\n            // Access HashMaps and ArrayList by key(s)\r\n            HashMap products = (HashMap) yamlMap.get(&quot;products&quot;);\r\n            HashMap product = (HashMap) products.get(&quot;ProductA&quot;);\r\n            HashMap suite = (HashMap) product.get(&quot;suite&quot;);\r\n            HashMap suiteName = (HashMap) suite.get(&quot;SuiteName_B&quot;);\r\n            ArrayList environment = (ArrayList) suiteName.get(&quot;environment_1&quot;);\r\n            System.out.println(environment);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://yaml.org/\r\n  [2]: https://bitbucket.org/snakeyaml/snakeyaml/wiki/Home\r\n  [3]: https://github.com/EsotericSoftware/yamlbeans\r\n  [4]: https://github.com/decorators-squad/eo-yaml","title":"How to read from YAML file in java?","body":"<p><a href=\"https://yaml.org/\" rel=\"noreferrer\">YAML</a> has a list of recommended libraries for Java:\n<a href=\"https://bitbucket.org/snakeyaml/snakeyaml/wiki/Home\" rel=\"noreferrer\">SnakeYAML</a>, <a href=\"https://github.com/EsotericSoftware/yamlbeans\" rel=\"noreferrer\">YamlBeans</a> and <a href=\"https://github.com/decorators-squad/eo-yaml\" rel=\"noreferrer\">eo-yaml</a></p>\n<p>The most widely used of these is probably SnakeYAML.  Baeldung has a very easy to understand tutorial here: <a href=\"https://www.baeldung.com/java-snake-yaml\" rel=\"noreferrer\">https://www.baeldung.com/java-snake-yaml</a></p>\n<p>[Edit to address new code and output in edit by OP]:</p>\n<p>You also have some problems with the formatting and naming conventions you used.  In your yaml file [brackets] are needed around any Lists, instance variables need to be camelCase, and any Strings need to be surrounded by quotes (including Object keys):</p>\n<pre><code>products:\n  &quot;ProductA&quot;:\n    suite:\n      &quot;SuiteName_A&quot;:\n        environment_1: [&quot;A&quot;,&quot;B&quot;,&quot;C&quot;]\n        environment_2: [&quot;X&quot;,&quot;Y&quot;,&quot;Z&quot;]\n      &quot;SuiteName_B&quot;:\n        environment_1: [&quot;E&quot;,&quot;F&quot;,&quot;G&quot;]\n        environment_2: [&quot;K&quot;,&quot;L&quot;,&quot;M&quot;]\n  &quot;ProductB&quot;:\n    suite:\n      &quot;SuiteName_K&quot;:\n        environment_1: [&quot;A1&quot;,&quot;B2&quot;,&quot;C3&quot;]\n        environment_2: [&quot;X1&quot;,&quot;Y1&quot;,&quot;Z1&quot;]\n</code></pre>\n<p>You should try to match this in your bean naming convention.  Also your 2nd setter needs to set Environment_2 instead of Environment_1.  Here's how your entity classes would look.</p>\n<p>Environment</p>\n<pre><code>package Configuration;\n\nimport java.util.ArrayList;\n\npublic class Environment {\n    private ArrayList&lt;String&gt; environment_1;\n    private ArrayList&lt;String&gt; environment_2;\n\n    public ArrayList&lt;String&gt; getEnvironment_1() {\n        return environment_1;\n    }\n\n    public void setEnvironment_1(ArrayList&lt;String&gt; environment_1) {\n        this.environment_1 = environment_1;\n    }\n\n    public ArrayList&lt;String&gt; getEnvironment_2() {\n        return environment_2;\n    }\n\n    public void setEnvironment_2(ArrayList&lt;String&gt; environment_2) {\n        this.environment_2 = environment_2;\n    }\n}\n</code></pre>\n<p>SuiteNames</p>\n<pre><code>package Configuration;\n\nimport java.util.HashMap;\n\npublic class SuiteName {\n    private HashMap&lt;String,Environment&gt; suite;\n\n    public HashMap&lt;String, Environment&gt; getSuite() {\n        return suite;\n    }\n\n    public void setSuite(HashMap&lt;String, Environment&gt; suite) {\n        suite = suite;\n    }\n}\npackage Configuration;\n\nimport java.util.HashMap;\n\npublic class Product {\n    private HashMap&lt;String, SuiteName&gt; products;\n\n    public HashMap&lt;String, SuiteName&gt; getProducts() {\n        return products;\n    }\n\n    public void setProducts(HashMap&lt;String, SuiteName&gt; products) {\n        this.products = products;\n    }\n}\n</code></pre>\n<p>Edit:\nIn your main method you will probably want to use yaml.load(inputStream) to get the whole file in a HashMap.  Based on your question in the comment I've added accessing the data structure.</p>\n<p>DbClass</p>\n<pre><code>package Configuration;\n\nimport org.yaml.snakeyaml.Yaml;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\npublic class DbClass {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        Yaml yaml = new Yaml();\n        InputStream inputStream = new FileInputStream(&quot;path.yml&quot;);\n        System.out.println(inputStream);\n\n        HashMap yamlMap = yaml.load(inputStream);\n        for (Object o : yamlMap.entrySet()) {\n            System.out.println(o);\n        }\n        // Access HashMaps and ArrayList by key(s)\n        HashMap products = (HashMap) yamlMap.get(&quot;products&quot;);\n        HashMap product = (HashMap) products.get(&quot;ProductA&quot;);\n        HashMap suite = (HashMap) product.get(&quot;suite&quot;);\n        HashMap suiteName = (HashMap) suite.get(&quot;SuiteName_B&quot;);\n        ArrayList environment = (ArrayList) suiteName.get(&quot;environment_1&quot;);\n        System.out.println(environment);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595254380,"creation_date":1595254380,"answer_id":62997324,"question_id":62989576,"body_markdown":"This is invalid YAML:\r\n\r\n```yaml\r\n      Environment_1: &quot;A&quot;,&quot;B&quot;,&quot;C&quot;\r\n```\r\n\r\nYou need to do\r\n\r\n```yaml\r\n      Environment_1: [&quot;A&quot;,&quot;B&quot;,&quot;C&quot;]\r\n```\r\n\r\nThen, the setters have wrong names:\r\n\r\n```java\r\n    public ArrayList&lt;String&gt; getEnvironment_1() {\r\n        return Environment_1;\r\n    }\r\n\r\n    public void setINT(ArrayList&lt;String&gt; Environment_1) {\r\n        this.Environment_1 = Environment_1;\r\n    }\r\n```\r\n\r\nThe setter must be named `setEnvironment_1`. This is because SnakeYAML accesses private fields via their getters &amp; setters.\r\n\r\nThe next problem is that the names in the YAML begin with an uppercase letter. SnakeYAML uses the [JavaBeans API](https://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/) to discover properties, and that will yield `environment_1` as property name, not `Environment_1`. You remedy this by overriding property discovery:\r\n\r\n```java\r\nfinal PropertyUtils uppercaseUtils = new PropertyUtils() {\r\n    @Override\r\n    public Property getProperty(Class&lt;? extends Object&gt; type, String name) throws IntrospectionException {\r\n        return super.getProperty(name.substring(0, 1). toLowerCase() + name. substring(1));\r\n    }\r\n}\r\nfinal Constructor c = new Constructor(Product.class);\r\nc.setPropertyUtils(uppercaseUtils);\r\nYaml yaml = new Yaml(c);\r\n```\r\n","title":"How to read from YAML file in java?","body":"<p>This is invalid YAML:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>      Environment_1: &quot;A&quot;,&quot;B&quot;,&quot;C&quot;\n</code></pre>\n<p>You need to do</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>      Environment_1: [&quot;A&quot;,&quot;B&quot;,&quot;C&quot;]\n</code></pre>\n<p>Then, the setters have wrong names:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public ArrayList&lt;String&gt; getEnvironment_1() {\n        return Environment_1;\n    }\n\n    public void setINT(ArrayList&lt;String&gt; Environment_1) {\n        this.Environment_1 = Environment_1;\n    }\n</code></pre>\n<p>The setter must be named <code>setEnvironment_1</code>. This is because SnakeYAML accesses private fields via their getters &amp; setters.</p>\n<p>The next problem is that the names in the YAML begin with an uppercase letter. SnakeYAML uses the <a href=\"https://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/\" rel=\"nofollow noreferrer\">JavaBeans API</a> to discover properties, and that will yield <code>environment_1</code> as property name, not <code>Environment_1</code>. You remedy this by overriding property discovery:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final PropertyUtils uppercaseUtils = new PropertyUtils() {\n    @Override\n    public Property getProperty(Class&lt;? extends Object&gt; type, String name) throws IntrospectionException {\n        return super.getProperty(name.substring(0, 1). toLowerCase() + name. substring(1));\n    }\n}\nfinal Constructor c = new Constructor(Product.class);\nc.setPropertyUtils(uppercaseUtils);\nYaml yaml = new Yaml(c);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29655482,"reputation":1,"user_id":22728330,"display_name":"Ishan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697105346,"creation_date":1697105346,"answer_id":77279660,"question_id":62989576,"body_markdown":"\r\n    public static void readYaml() throws Exception {\r\n        File file = new File(&quot;src/main/resources/application.yaml&quot;);\r\n        ObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());\r\n        ApplicationConfig config = objectMapper.readValue(file,ApplicationConfig.class);\r\n        System.out.println(&quot;Application config info &quot; + config.toString());\r\n    }","title":"How to read from YAML file in java?","body":"<pre><code>public static void readYaml() throws Exception {\n    File file = new File(&quot;src/main/resources/application.yaml&quot;);\n    ObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());\n    ApplicationConfig config = objectMapper.readValue(file,ApplicationConfig.class);\n    System.out.println(&quot;Application config info &quot; + config.toString());\n}\n</code></pre>\n"}],"owner":{"account_id":13618913,"reputation":572,"user_id":11014103,"display_name":"Koushik J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44312,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":62989881,"answer_count":3,"score":11,"last_activity_date":1697105346,"creation_date":1595225616,"question_id":62989576,"body_markdown":"I have YAML file like this..\r\n\r\n    Product:\r\n     ProductA:\r\n      Suite:\r\n        SuiteName_A:\r\n          Environment_1: [&quot;A&quot;,&quot;B&quot;,&quot;C&quot;]\r\n          Environment_2: [&quot;X&quot;,&quot;Y&quot;,&quot;Z&quot;]\r\n        SuiteName_B:\r\n          Environment_1: [&quot;E&quot;,&quot;F&quot;,&quot;G&quot;]\r\n          Environment_2: [&quot;K&quot;,&quot;L&quot;,&quot;M&quot;]\r\n     ProductB:\r\n      Suite:\r\n        SuiteName_K:\r\n          Environment_1: [&quot;A1&quot;,&quot;B2&quot;,&quot;C3&quot;]\r\n          Environment_2: [&quot;X1&quot;,&quot;Y1&quot;,&quot;Z1&quot;]\r\n\r\nEdited----\r\nI have created few classes as I read in some read article and here what i came up with..\r\n\r\nEnvironment Class\r\n\r\n        package Configuration;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class Environment {\r\n        private ArrayList&lt;String&gt; Environment_1;\r\n        private ArrayList&lt;String&gt; Environment_2;\r\n    \r\n        public ArrayList&lt;String&gt; getEnvironment_1() {\r\n            return Environment_1;\r\n        }\r\n    \r\n        public void setEnvironment_1(ArrayList&lt;String&gt; Environment_1) {\r\n            this.Environment_1 = Environment_1;\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; getEnvironment_2() {\r\n            return Environment_2;\r\n        }\r\n    \r\n        public void setEnvironment_2(ArrayList&lt;String&gt; Environment_2) {\r\n            this.Environment_1 = Environment_2;\r\n        }\r\n    }\r\n\r\nSuitName Class\r\n\r\n        package Configuration;\r\n    \r\n    import java.util.HashMap;\r\n    \r\n    public class SuiteNames {\r\n        private HashMap&lt;String,Environment&gt; Suite;\r\n    \r\n        public HashMap&lt;String, Environment&gt; getSuite() {\r\n            return Suite;\r\n        }\r\n    \r\n        public void setSuite(HashMap&lt;String, Environment&gt; suite) {\r\n            Suite = suite;\r\n        }\r\n    }\r\nProduct Class\r\n\r\n        package Configuration;\r\n    \r\n    import java.util.HashMap;\r\n    \r\n    public class Product {\r\n        private HashMap&lt;String,SuiteNames&gt; Product;\r\n    \r\n        public HashMap&lt;String, SuiteNames&gt; getProduct() {\r\n            return Product;\r\n        }\r\n    \r\n        public void setProduct(HashMap&lt;String, SuiteNames&gt; product) {\r\n            this.Product = product;\r\n        }\r\n    }\r\nMain Class\r\n\r\n        package Configuration;\r\n    \r\n    import org.yaml.snakeyaml.Yaml;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.InputStream;\r\n    \r\n    public class DbClass {\r\n    \r\n        public static void main(String[] args) throws FileNotFoundException {\r\n            Yaml yaml = new Yaml();\r\n            InputStream inputStream = new FileInputStream(&quot;path&quot;);\r\n            System.out.println(inputStream);\r\n            Product product = yaml.loadAs(inputStream,Product.class);\r\n            System.out.println(product.getProduct());\r\n        }\r\n    }\r\n\r\nThis gives following error:\r\n\r\n    \t Exception in thread &quot;main&quot; Cannot create property=Product for JavaBean=Configuration.Product@4c98385c\r\n\t in &#39;reader&#39;, line 1, column 1:\r\n\t\tProduct:\r\n\t\t^\r\n\tUnable to find property &#39;Product&#39; on class: Configuration.Product\r\n\t in &#39;reader&#39;, line 2, column 3:\r\n\t\t  Check-in:\r\n\t\t  ^\r\n\r\n\t\tat org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.constructJavaBean2ndStep(Constructor.java:270)\r\n\t\tat org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.construct(Constructor.java:149)\r\n\t\tat org.yaml.snakeyaml.constructor.Constructor$ConstructYamlObject.construct(Constructor.java:309)\r\n\t\tat org.yaml.snakeyaml.constructor.BaseConstructor.constructObjectNoCheck(BaseConstructor.java:216)\r\n\t\tat org.yaml.snakeyaml.constructor.BaseConstructor.constructObject(BaseConstructor.java:205)\r\n\t\tat org.yaml.snakeyaml.constructor.BaseConstructor.constructDocument(BaseConstructor.java:164)\r\n\t\tat org.yaml.snakeyaml.constructor.BaseConstructor.getSingleData(BaseConstructor.java:148)\r\n\t\tat org.yaml.snakeyaml.Yaml.loadFromReader(Yaml.java:525)\r\n\t\tat org.yaml.snakeyaml.Yaml.loadAs(Yaml.java:519)\r\n\t\tat Configuration.DbClass.main(DbClass.java:17)\r\n\tCaused by: org.yaml.snakeyaml.error.YAMLException: Unable to find property &#39;Product&#39; on class: Configuration.Product\r\n\t\tat org.yaml.snakeyaml.introspector.PropertyUtils.getProperty(PropertyUtils.java:159)\r\n\t\tat org.yaml.snakeyaml.introspector.PropertyUtils.getProperty(PropertyUtils.java:148)\r\n\t\tat org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.getProperty(Constructor.java:287)\r\n\t\tat org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.constructJavaBean2ndStep(Constructor.java:208)\r\n\t\t... 9 more\r\n\r\nI want get the list of Environent names and to store this in a list. I am aware using jackson api. But I don&#39;t know how to map this data to class.\r\nI am using servlets and inside the servlet i want to have a java method to get the list of strings.","title":"How to read from YAML file in java?","body":"<p>I have YAML file like this..</p>\n<pre><code>Product:\n ProductA:\n  Suite:\n    SuiteName_A:\n      Environment_1: [&quot;A&quot;,&quot;B&quot;,&quot;C&quot;]\n      Environment_2: [&quot;X&quot;,&quot;Y&quot;,&quot;Z&quot;]\n    SuiteName_B:\n      Environment_1: [&quot;E&quot;,&quot;F&quot;,&quot;G&quot;]\n      Environment_2: [&quot;K&quot;,&quot;L&quot;,&quot;M&quot;]\n ProductB:\n  Suite:\n    SuiteName_K:\n      Environment_1: [&quot;A1&quot;,&quot;B2&quot;,&quot;C3&quot;]\n      Environment_2: [&quot;X1&quot;,&quot;Y1&quot;,&quot;Z1&quot;]\n</code></pre>\n<p>Edited----\nI have created few classes as I read in some read article and here what i came up with..</p>\n<p>Environment Class</p>\n<pre><code>    package Configuration;\n\nimport java.util.ArrayList;\n\npublic class Environment {\n    private ArrayList&lt;String&gt; Environment_1;\n    private ArrayList&lt;String&gt; Environment_2;\n\n    public ArrayList&lt;String&gt; getEnvironment_1() {\n        return Environment_1;\n    }\n\n    public void setEnvironment_1(ArrayList&lt;String&gt; Environment_1) {\n        this.Environment_1 = Environment_1;\n    }\n\n    public ArrayList&lt;String&gt; getEnvironment_2() {\n        return Environment_2;\n    }\n\n    public void setEnvironment_2(ArrayList&lt;String&gt; Environment_2) {\n        this.Environment_1 = Environment_2;\n    }\n}\n</code></pre>\n<p>SuitName Class</p>\n<pre><code>    package Configuration;\n\nimport java.util.HashMap;\n\npublic class SuiteNames {\n    private HashMap&lt;String,Environment&gt; Suite;\n\n    public HashMap&lt;String, Environment&gt; getSuite() {\n        return Suite;\n    }\n\n    public void setSuite(HashMap&lt;String, Environment&gt; suite) {\n        Suite = suite;\n    }\n}\n</code></pre>\n<p>Product Class</p>\n<pre><code>    package Configuration;\n\nimport java.util.HashMap;\n\npublic class Product {\n    private HashMap&lt;String,SuiteNames&gt; Product;\n\n    public HashMap&lt;String, SuiteNames&gt; getProduct() {\n        return Product;\n    }\n\n    public void setProduct(HashMap&lt;String, SuiteNames&gt; product) {\n        this.Product = product;\n    }\n}\n</code></pre>\n<p>Main Class</p>\n<pre><code>    package Configuration;\n\nimport org.yaml.snakeyaml.Yaml;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.InputStream;\n\npublic class DbClass {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        Yaml yaml = new Yaml();\n        InputStream inputStream = new FileInputStream(&quot;path&quot;);\n        System.out.println(inputStream);\n        Product product = yaml.loadAs(inputStream,Product.class);\n        System.out.println(product.getProduct());\n    }\n}\n</code></pre>\n<p>This gives following error:</p>\n<pre><code>     Exception in thread &quot;main&quot; Cannot create property=Product for JavaBean=Configuration.Product@4c98385c\n in 'reader', line 1, column 1:\n    Product:\n    ^\nUnable to find property 'Product' on class: Configuration.Product\n in 'reader', line 2, column 3:\n      Check-in:\n      ^\n\n    at org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.constructJavaBean2ndStep(Constructor.java:270)\n    at org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.construct(Constructor.java:149)\n    at org.yaml.snakeyaml.constructor.Constructor$ConstructYamlObject.construct(Constructor.java:309)\n    at org.yaml.snakeyaml.constructor.BaseConstructor.constructObjectNoCheck(BaseConstructor.java:216)\n    at org.yaml.snakeyaml.constructor.BaseConstructor.constructObject(BaseConstructor.java:205)\n    at org.yaml.snakeyaml.constructor.BaseConstructor.constructDocument(BaseConstructor.java:164)\n    at org.yaml.snakeyaml.constructor.BaseConstructor.getSingleData(BaseConstructor.java:148)\n    at org.yaml.snakeyaml.Yaml.loadFromReader(Yaml.java:525)\n    at org.yaml.snakeyaml.Yaml.loadAs(Yaml.java:519)\n    at Configuration.DbClass.main(DbClass.java:17)\nCaused by: org.yaml.snakeyaml.error.YAMLException: Unable to find property 'Product' on class: Configuration.Product\n    at org.yaml.snakeyaml.introspector.PropertyUtils.getProperty(PropertyUtils.java:159)\n    at org.yaml.snakeyaml.introspector.PropertyUtils.getProperty(PropertyUtils.java:148)\n    at org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.getProperty(Constructor.java:287)\n    at org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.constructJavaBean2ndStep(Constructor.java:208)\n    ... 9 more\n</code></pre>\n<p>I want get the list of Environent names and to store this in a list. I am aware using jackson api. But I don't know how to map this data to class.\nI am using servlets and inside the servlet i want to have a java method to get the list of strings.</p>\n"},{"tags":["java","ssl","ssl-certificate","filezilla","ftps"],"comments":[{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697105418,"post_id":77279542,"comment_id":136238926,"body_markdown":"`ssl.setClientAuthentication(&quot;yes&quot;)` means that the SSL client must authenticate itself through a client certificate. Given the error message (_&quot;javax.net.ssl.SSLHandshakeException: Empty client certificate chain&quot;_), you aren&#39;t authenticating through a client certificate, so you shouldn&#39;t enable it (or you need to configure your client correctly, if you do intend to use client certificate authentication).","body":"<code>ssl.setClientAuthentication(&quot;yes&quot;)</code> means that the SSL client must authenticate itself through a client certificate. Given the error message (<i>&quot;javax.net.ssl.SSLHandshakeException: Empty client certificate chain&quot;</i>), you aren&#39;t authenticating through a client certificate, so you shouldn&#39;t enable it (or you need to configure your client correctly, if you do intend to use client certificate authentication)."},{"owner":{"account_id":19081633,"reputation":3,"user_id":13933698,"display_name":"FrenchCornichon"},"score":0,"creation_date":1697120617,"post_id":77279542,"comment_id":136242156,"body_markdown":"Problem solved ! Removing the &quot;yes&quot; indeed helps. On filezilla just launch the simple FTP connexion and it will auto detect the TLS","body":"Problem solved ! Removing the &quot;yes&quot; indeed helps. On filezilla just launch the simple FTP connexion and it will auto detect the TLS"}],"owner":{"account_id":19081633,"reputation":3,"user_id":13933698,"display_name":"FrenchCornichon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697105339,"creation_date":1697104421,"question_id":77279542,"body_markdown":"I recently created an FTPS server in Java and now I want to connect to it.\r\n\r\nFirstly I create a keystore file using Powershell Terminal :\r\n\r\n`keytool -genkey -alias mykeystore -keyalg RSA -keystore keystore.jks -keysize 2048`\r\n\r\nThen I certificate using Powershell terminal with this command\r\n\r\n`$certificate = New-SelfSignedCertificate -Type Custom -KeySpec Signature -Subject &quot;CN=MyRootCA&quot; -KeyExportPolicy Exportable -HashAlgorithm sha256 -KeyLength 2048 -CertStoreLocation &quot;C:\\Users\\myuser&quot; -KeyUsageProperty Sign -KeyUsage CertSign`\r\n\r\nAnd then typed the command :\r\n\r\n`$certificate | Export-Certificate -FilePath &quot;C:\\Users\\myuser\\MyLocalCertificate.crt&quot;`\r\n\r\nOnce the certificate at my disposal, I tried to create the truststore with the command\r\n\r\n`keytool -import -alias myTruststore &quot;C:\\Users\\myuser\\myTruststore.jks&quot; -file &quot;C:\\Users\\myuser\\MyLocalCertificate.crt&quot; `\r\n\r\nAnd I wrote the requested password.\r\n\r\nFinally, in my Java code I started to write the code for the FTPS server:\r\n\r\n```\r\nFtpServerFactory serverFactory = new FtpServerFactory();\r\nConnectionConfigFactory factory = new ConnectionConfigFactory();\r\n\r\nserverFactory.setConnectionConfig(factory.createConnectionConfig());\r\nListenerFactory ListenerFactory = new ListenerFactory();\r\nListenerFactory.setPort(port);\r\n\r\nSslConfigurationFactory ssl = new SslConfigurationFactory();\r\nssl.setKeystoreFile(new File(&quot;hostkey/keystore.jks&quot;));\r\nssl.setKeystorePassword(&quot;xxx&quot;);\r\nssl.setClientAuthentication(&quot;yes&quot;);\r\nssl.setTruststoreFile(new File(&quot;hostkey/myTruststore.jks&quot;));\r\nssl.setTruststorePassword(&quot;xxx&quot;);\r\nListenerFactory.setSslConfiguration(ssl.createSslConfiguration());\r\nListenerFactory.setImplicitSsl(true);\r\nserverFactory.addListener(&quot;default&quot;, ListenerFactory.createListener());\r\n\r\nListenerFactory.setDataConnectionConfiguration(\r\n        new DataConnectionConfigurationFactory().createDataConnectionConfiguration());\r\nPropertiesUserManagerFactory userManagerFactory = new PropertiesUserManagerFactory();\r\nUserManager um = userManagerFactory.createUserManager();\r\n// Adding code for lookup in database for the users and set their come directory\r\nFtpServer server = serverFactory.createServer();\r\nserver.start();\r\n```\r\n\r\nI start it, but when I try to connect to it via Filezilla for example, it asks me to accept the server&#39;s certificate  : Certificate is bad (42)\r\n\r\nMy Java log looks like this:\r\n\r\n```none\r\n2023-10-12 11:45:49,710 INFO org.apache.ftpserver.listener.nio.FtpLoggingFilter [pool-4-thread-1] CLOSED\r\n2023-10-12 11:45:54,705 INFO org.apache.ftpserver.listener.nio.FtpLoggingFilter [NioProcessor-4] CREATED\r\n2023-10-12 11:45:54,705 INFO org.apache.ftpserver.listener.nio.FtpLoggingFilter [pool-4-thread-2] OPENED\r\n2023-10-12 11:45:54,743 WARN org.apache.ftpserver.listener.nio.FtpLoggingFilter [pool-4-thread-1] EXCEPTION :\r\njavax.net.ssl.SSLHandshakeException: SSL handshake failed.\r\n        at org.apache.mina.filter.ssl.SslFilter.messageReceived(SslFilter.java:580)\r\n        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:641)\r\n        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)\r\n        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:1114)        \r\n        at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:121)\r\n        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:641)\r\n        at org.apache.mina.core.filterchain.DefaultIoFilterChain.fireMessageReceived(DefaultIoFilterChain.java:634)\r\n        at org.apache.mina.core.polling.AbstractPollingIoProcessor.read(AbstractPollingIoProcessor.java:539)\r\n        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$1200(AbstractPollingIoProcessor.java:68)\r\n        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.process(AbstractPollingIoProcessor.java:1242)\r\n        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.process(AbstractPollingIoProcessor.java:1231)\r\n        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:683)\r\n        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: javax.net.ssl.SSLHandshakeException: Empty client certificate chain\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:305)\r\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1194)  \r\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1181)\r\n        at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\r\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\r\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1277)\r\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1264)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1209)\r\n        at org.apache.mina.filter.ssl.SslHandler.doTasks(SslHandler.java:837)\r\n        at org.apache.mina.filter.ssl.SslHandler.handshake(SslHandler.java:606)\r\n        at org.apache.mina.filter.ssl.SslHandler.messageReceived(SslHandler.java:356)\r\n        at org.apache.mina.filter.ssl.SslFilter.messageReceived(SslFilter.java:561)\r\n        ... 15 common frames omitted\r\n```\r\n\r\nFrom what I understand the Filezilla doesn&#39;t send the certificate or keystore. How could I connect then to it?\r\n\r\nCould you explain me what am I missing in the Java code or in the Filezilla or even another way, in order to connect to the FTPS server I created?\r\n\r\nPS : The FTP (without the ssl part ) server works perfectly fine. I can have my users connect to it, and do all the necessary operations. I struggle here just to connect to the FTPS I created.","title":"How can I connect to my FTPS server made with Java?","body":"<p>I recently created an FTPS server in Java and now I want to connect to it.</p>\n<p>Firstly I create a keystore file using Powershell Terminal :</p>\n<p><code>keytool -genkey -alias mykeystore -keyalg RSA -keystore keystore.jks -keysize 2048</code></p>\n<p>Then I certificate using Powershell terminal with this command</p>\n<p><code>$certificate = New-SelfSignedCertificate -Type Custom -KeySpec Signature -Subject &quot;CN=MyRootCA&quot; -KeyExportPolicy Exportable -HashAlgorithm sha256 -KeyLength 2048 -CertStoreLocation &quot;C:\\Users\\myuser&quot; -KeyUsageProperty Sign -KeyUsage CertSign</code></p>\n<p>And then typed the command :</p>\n<p><code>$certificate | Export-Certificate -FilePath &quot;C:\\Users\\myuser\\MyLocalCertificate.crt&quot;</code></p>\n<p>Once the certificate at my disposal, I tried to create the truststore with the command</p>\n<p><code>keytool -import -alias myTruststore &quot;C:\\Users\\myuser\\myTruststore.jks&quot; -file &quot;C:\\Users\\myuser\\MyLocalCertificate.crt&quot; </code></p>\n<p>And I wrote the requested password.</p>\n<p>Finally, in my Java code I started to write the code for the FTPS server:</p>\n<pre><code>FtpServerFactory serverFactory = new FtpServerFactory();\nConnectionConfigFactory factory = new ConnectionConfigFactory();\n\nserverFactory.setConnectionConfig(factory.createConnectionConfig());\nListenerFactory ListenerFactory = new ListenerFactory();\nListenerFactory.setPort(port);\n\nSslConfigurationFactory ssl = new SslConfigurationFactory();\nssl.setKeystoreFile(new File(&quot;hostkey/keystore.jks&quot;));\nssl.setKeystorePassword(&quot;xxx&quot;);\nssl.setClientAuthentication(&quot;yes&quot;);\nssl.setTruststoreFile(new File(&quot;hostkey/myTruststore.jks&quot;));\nssl.setTruststorePassword(&quot;xxx&quot;);\nListenerFactory.setSslConfiguration(ssl.createSslConfiguration());\nListenerFactory.setImplicitSsl(true);\nserverFactory.addListener(&quot;default&quot;, ListenerFactory.createListener());\n\nListenerFactory.setDataConnectionConfiguration(\n        new DataConnectionConfigurationFactory().createDataConnectionConfiguration());\nPropertiesUserManagerFactory userManagerFactory = new PropertiesUserManagerFactory();\nUserManager um = userManagerFactory.createUserManager();\n// Adding code for lookup in database for the users and set their come directory\nFtpServer server = serverFactory.createServer();\nserver.start();\n</code></pre>\n<p>I start it, but when I try to connect to it via Filezilla for example, it asks me to accept the server's certificate  : Certificate is bad (42)</p>\n<p>My Java log looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-10-12 11:45:49,710 INFO org.apache.ftpserver.listener.nio.FtpLoggingFilter [pool-4-thread-1] CLOSED\n2023-10-12 11:45:54,705 INFO org.apache.ftpserver.listener.nio.FtpLoggingFilter [NioProcessor-4] CREATED\n2023-10-12 11:45:54,705 INFO org.apache.ftpserver.listener.nio.FtpLoggingFilter [pool-4-thread-2] OPENED\n2023-10-12 11:45:54,743 WARN org.apache.ftpserver.listener.nio.FtpLoggingFilter [pool-4-thread-1] EXCEPTION :\njavax.net.ssl.SSLHandshakeException: SSL handshake failed.\n        at org.apache.mina.filter.ssl.SslFilter.messageReceived(SslFilter.java:580)\n        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:641)\n        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)\n        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:1114)        \n        at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:121)\n        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:641)\n        at org.apache.mina.core.filterchain.DefaultIoFilterChain.fireMessageReceived(DefaultIoFilterChain.java:634)\n        at org.apache.mina.core.polling.AbstractPollingIoProcessor.read(AbstractPollingIoProcessor.java:539)\n        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$1200(AbstractPollingIoProcessor.java:68)\n        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.process(AbstractPollingIoProcessor.java:1242)\n        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.process(AbstractPollingIoProcessor.java:1231)\n        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:683)\n        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: javax.net.ssl.SSLHandshakeException: Empty client certificate chain\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:305)\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1194)  \n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1181)\n        at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1277)\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1264)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1209)\n        at org.apache.mina.filter.ssl.SslHandler.doTasks(SslHandler.java:837)\n        at org.apache.mina.filter.ssl.SslHandler.handshake(SslHandler.java:606)\n        at org.apache.mina.filter.ssl.SslHandler.messageReceived(SslHandler.java:356)\n        at org.apache.mina.filter.ssl.SslFilter.messageReceived(SslFilter.java:561)\n        ... 15 common frames omitted\n</code></pre>\n<p>From what I understand the Filezilla doesn't send the certificate or keystore. How could I connect then to it?</p>\n<p>Could you explain me what am I missing in the Java code or in the Filezilla or even another way, in order to connect to the FTPS server I created?</p>\n<p>PS : The FTP (without the ssl part ) server works perfectly fine. I can have my users connect to it, and do all the necessary operations. I struggle here just to connect to the FTPS I created.</p>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574432233,"creation_date":1574432233,"answer_id":58996083,"question_id":58995002,"body_markdown":"`@TestPropertySource` is a spring annotation, so you need to use the `SpringRunner`.&lt;br/&gt;\r\nYou can initialize Mockito using `MockitoAnnotations.initMocks(this);`, check the example below.\r\n\r\n```java\r\n@RunWith(SpringRunner.class)\r\n@TestPropertySource(&quot;classpath:conn.properties&quot;)\r\npublic class DisplayServiceTest {\r\n\r\n    @Value(&quot;${id}&quot;)\r\n    private String value; \r\n\t\r\n    // ...\r\n\r\n\t@Before\r\n\tpublic void setup() {\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t}\r\n\t\r\n\t// ...\r\n}\r\n```","title":"How to load values from custom properties file for junit testing using Mockito?","body":"<p><code>@TestPropertySource</code> is a spring annotation, so you need to use the <code>SpringRunner</code>.<br/>\nYou can initialize Mockito using <code>MockitoAnnotations.initMocks(this);</code>, check the example below.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@TestPropertySource(\"classpath:conn.properties\")\npublic class DisplayServiceTest {\n\n    @Value(\"${id}\")\n    private String value; \n\n    // ...\n\n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40470,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1574433212,"creation_date":1574433212,"answer_id":58996383,"question_id":58995002,"body_markdown":"Mockito is a mocking framework, so in general you can&#39;t load properties file with Mockito.\r\n\r\nNow you&#39;ve used `@TestPropertySource` which is a part of Spring Testing and it indeed allows loading properties file (that have nothing to do with mockito though). However using it requires running with `SpringRunner` and in general its good for integration tests, not for unit tests (Spring Runner among primarily loads Spring&#39;s application context).\r\n\r\nSo if you don&#39;t want to use spring here, you should do it &quot;manually&quot;. There are many different ways to load Properties file from class path (with `getClass().getResourceAsStream()` to get the input stream pointing on the resource file and the read it into Properties by using `Properties#load(InputStream)` for example.\r\n\r\nYou can also use other thirdparties (not mockito), like apache commons io to read the stream with `IOUtils` class \r\n\r\nIf you want to integrate with JUnit 4.x you can even create a rule, described [here][1]\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2597271/easy-way-to-get-a-test-file-into-junit","title":"How to load values from custom properties file for junit testing using Mockito?","body":"<p>Mockito is a mocking framework, so in general you can't load properties file with Mockito.</p>\n\n<p>Now you've used <code>@TestPropertySource</code> which is a part of Spring Testing and it indeed allows loading properties file (that have nothing to do with mockito though). However using it requires running with <code>SpringRunner</code> and in general its good for integration tests, not for unit tests (Spring Runner among primarily loads Spring's application context).</p>\n\n<p>So if you don't want to use spring here, you should do it \"manually\". There are many different ways to load Properties file from class path (with <code>getClass().getResourceAsStream()</code> to get the input stream pointing on the resource file and the read it into Properties by using <code>Properties#load(InputStream)</code> for example.</p>\n\n<p>You can also use other thirdparties (not mockito), like apache commons io to read the stream with <code>IOUtils</code> class </p>\n\n<p>If you want to integrate with JUnit 4.x you can even create a rule, described <a href=\"https://stackoverflow.com/questions/2597271/easy-way-to-get-a-test-file-into-junit\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2699532,"reputation":1544,"user_id":2330577,"display_name":"Jose Tepedino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574645183,"creation_date":1574642032,"answer_id":59023815,"question_id":58995002,"body_markdown":"You could use just Mockito and JUnit 4. At the `@Before` method, call `MockitoAnnotations.initMocks` and load the properties file:\r\n\r\n    public class DisplayServiceTest {\r\n        \r\n        private String value;\r\n        \r\n        @Mock\r\n        private DisplayRepository displayReps;\r\n        \r\n        @InjectMocks\r\n        private DisplayService displayService;\r\n        \r\n        @Before\r\n        public void setUp() {\r\n            MockitoAnnotations.initMocks(this);\r\n            \r\n            Properties prop = loadPropertiesFromFile(&quot;conn.properties&quot;);\r\n            this.value = prop.getProperty(&quot;id&quot;);\r\n        }\r\n        \r\n        private Properties loadPropertiesFromFile(String fileName) {\r\n            Properties prop = new Properties();\r\n            try {\r\n                ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n                InputStream stream = loader.getResourceAsStream(fileName);\r\n                prop.load(stream);\r\n                stream.close();\r\n            } catch (Exception e) {\r\n                String msg = String.format(&quot;Failed to load file &#39;%s&#39; - %s - %s&quot;, fileName, e.getClass().getName(),\r\n                        e.getMessage());\r\n                Assert.fail(msg);\r\n            }\r\n            return prop;\r\n        }\r\n        \r\n        @Test\r\n        public void whenFindAll_thenReturnProductList() {\r\n            \r\n            System.out.println(&quot;value: &quot; + this.value);\r\n            \r\n            Menu m = new Menu();\r\n            m.setId(this.value); // when I print value its showing 0\r\n            \r\n            List&lt;Display&gt; expectedDisplay = Arrays.asList(m);\r\n            \r\n            Mockito.doReturn(expectedDisplay).when(this.displayReps).findAll();\r\n            \r\n            List&lt;Display&gt; actualDisplay = this.displayService.findAll();\r\n            \r\n            Assert.assertEquals(expectedDisplay, actualDisplay);\r\n        }\r\n        \r\n    }","title":"How to load values from custom properties file for junit testing using Mockito?","body":"<p>You could use just Mockito and JUnit 4. At the <code>@Before</code> method, call <code>MockitoAnnotations.initMocks</code> and load the properties file:</p>\n\n<pre><code>public class DisplayServiceTest {\n\n    private String value;\n\n    @Mock\n    private DisplayRepository displayReps;\n\n    @InjectMocks\n    private DisplayService displayService;\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n\n        Properties prop = loadPropertiesFromFile(\"conn.properties\");\n        this.value = prop.getProperty(\"id\");\n    }\n\n    private Properties loadPropertiesFromFile(String fileName) {\n        Properties prop = new Properties();\n        try {\n            ClassLoader loader = Thread.currentThread().getContextClassLoader();\n            InputStream stream = loader.getResourceAsStream(fileName);\n            prop.load(stream);\n            stream.close();\n        } catch (Exception e) {\n            String msg = String.format(\"Failed to load file '%s' - %s - %s\", fileName, e.getClass().getName(),\n                    e.getMessage());\n            Assert.fail(msg);\n        }\n        return prop;\n    }\n\n    @Test\n    public void whenFindAll_thenReturnProductList() {\n\n        System.out.println(\"value: \" + this.value);\n\n        Menu m = new Menu();\n        m.setId(this.value); // when I print value its showing 0\n\n        List&lt;Display&gt; expectedDisplay = Arrays.asList(m);\n\n        Mockito.doReturn(expectedDisplay).when(this.displayReps).findAll();\n\n        List&lt;Display&gt; actualDisplay = this.displayService.findAll();\n\n        Assert.assertEquals(expectedDisplay, actualDisplay);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":17145127,"reputation":79,"user_id":12408238,"display_name":"Arsha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15720,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58996383,"answer_count":3,"score":2,"last_activity_date":1697104717,"creation_date":1574428305,"question_id":58995002,"body_markdown":"I have written this test class to check a service. This is in folder test/java/example/demp/Test.java\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    @TestPropertySource(&quot;classpath:conn.properties&quot;)\r\n\r\n    public class DisplayServiceTest {\r\n\r\n\r\n    @Value(&quot;${id}&quot;)\r\n    private String value; \r\n\r\n\r\n    @Mock\r\n    private DisplayRepository DisplayReps;\r\n\r\n    @InjectMocks\r\n    private DisplayService DisplayService;\r\n\r\n    @Test\r\n    public void whenFindAll_thenReturnProductList() {\r\n\r\n    Menu m = new Menu()\r\n    m.setId(value); //when I print value its showing 0\r\n\r\n    List&lt;Display&gt; expectedDisplay = Arrays.asList(m);\r\n    doReturn(expectedDisplay).when(DisplayReps).findAll();\r\n    List&lt;Display&gt; actualDisplay = DisplayService.findAll();\r\n    assertThat(actualDisplay).isEqualTo(expectedDisplay);\r\n    }\r\n\r\nMy properties file\r\nThis is in folder test/resources/conn.properties\r\n\r\n    id=2\r\n\r\nWhat is the right way to set properties from custom properties file? Cause its not loading values ?\r\n\r\n\r\n","title":"How to load values from custom properties file for junit testing using Mockito?","body":"<p>I have written this test class to check a service. This is in folder test/java/example/demp/Test.java</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n@TestPropertySource(\"classpath:conn.properties\")\n\npublic class DisplayServiceTest {\n\n\n@Value(\"${id}\")\nprivate String value; \n\n\n@Mock\nprivate DisplayRepository DisplayReps;\n\n@InjectMocks\nprivate DisplayService DisplayService;\n\n@Test\npublic void whenFindAll_thenReturnProductList() {\n\nMenu m = new Menu()\nm.setId(value); //when I print value its showing 0\n\nList&lt;Display&gt; expectedDisplay = Arrays.asList(m);\ndoReturn(expectedDisplay).when(DisplayReps).findAll();\nList&lt;Display&gt; actualDisplay = DisplayService.findAll();\nassertThat(actualDisplay).isEqualTo(expectedDisplay);\n}\n</code></pre>\n\n<p>My properties file\nThis is in folder test/resources/conn.properties</p>\n\n<pre><code>id=2\n</code></pre>\n\n<p>What is the right way to set properties from custom properties file? Cause its not loading values ?</p>\n"},{"tags":["java","spring-boot","swagger","jersey","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697104681,"creation_date":1697104681,"answer_id":77279582,"question_id":77259706,"body_markdown":"Ok I think I had my answer here https://springdoc.org/faq.html\r\nIt seems like I cannot have the same kind of swagger configuration for both servlet types (Spring &amp; Jersey)\r\n\r\n&gt; ***Does springdoc-openapi support Jersey?***   \r\n&gt;\r\n&gt; If you are using JAX-RS and as\r\n&gt; implementation Jersey (`@Path` for example), **we do not support it**.\r\n&gt; \r\n&gt; We only support exposing Rest Endpoints using Spring managed beans\r\n&gt; (@RestController for example).\r\n&gt; \r\n&gt; You can have a look at swagger-jaxrs2 project:\r\n&gt; \r\n&gt; https://github.com/swagger-api/swagger-samples/tree/2.0/java/java-jersey2-minimal","title":"Configuration Swagger Spring Boot 2.7 + Jersey","body":"<p>Ok I think I had my answer here <a href=\"https://springdoc.org/faq.html\" rel=\"nofollow noreferrer\">https://springdoc.org/faq.html</a>\nIt seems like I cannot have the same kind of swagger configuration for both servlet types (Spring &amp; Jersey)</p>\n<blockquote>\n<p><em><strong>Does springdoc-openapi support Jersey?</strong></em></p>\n<p>If you are using JAX-RS and as\nimplementation Jersey (<code>@Path</code> for example), <strong>we do not support it</strong>.</p>\n<p>We only support exposing Rest Endpoints using Spring managed beans\n(@RestController for example).</p>\n<p>You can have a look at swagger-jaxrs2 project:</p>\n<p><a href=\"https://github.com/swagger-api/swagger-samples/tree/2.0/java/java-jersey2-minimal\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-samples/tree/2.0/java/java-jersey2-minimal</a></p>\n</blockquote>\n"}],"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77279582,"answer_count":1,"score":0,"last_activity_date":1697104681,"creation_date":1696861994,"question_id":77259706,"body_markdown":"I configured a swagger for a private API on a spring boot application. These endpoints are made with spring.  \r\nThere is also a public API on the same server with endpoints made with Jersey.   \r\nI configured a swagger for this public API and it seems to work.   \r\nWhen I access to http://localhost:8080/@context.root@/swagger-ui/index.html I can see definitions     \r\n + &quot;01 - public&quot; -&gt; /@context.root@/swagger-ui/pub/openapi.json\r\n + &quot;02 - private&quot; -&gt; /@context.root@/v3/api-docs/02 - private   \r\n\r\n**However I feel like the configuration is a bit &quot;weird&quot; and could be improved**.   \r\nIndeed the openapi.json files are created in two different ways and I am pretty sure the swagger configuration could be the same for both API.    \r\nI would like to configure the swagger for the jersey  resources (public API) using `GroupedOpenApi` class and remove all urls configuration from `application.yml`, but so far unsuccessfuly...\r\n\r\n\r\n*spring boot version: 2.7.0* but it is planned to upgrade to v3 next month\r\n\r\n#### pom.xml  \r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n    &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n#### SwaggerConfiguration.java\r\n*Configure swagger &quot;02 - private&quot; for private api made with spring endpoints*\r\n```java\r\nimport java.time.LocalDate;\r\nimport java.time.LocalDateTime;\r\n\r\nimport org.springdoc.core.GroupedOpenApi;\r\nimport org.springdoc.core.SpringDocUtils;\r\nimport org.springdoc.core.customizers.OpenApiCustomiser;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\nimport io.swagger.v3.oas.models.OpenAPI;\r\nimport io.swagger.v3.oas.models.info.Info;\r\nimport io.swagger.v3.oas.models.servers.Server;\r\n\r\n@Configuration\r\npublic class SwaggerConfiguration implements WebMvcConfigurer {\r\n\r\n    private static final String FORWARD_SWAGGER_UI_HTML = &quot;forward:/swagger-ui.html&quot;;\r\n\r\n    @Override\r\n    public void addViewControllers(final ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/swagger&quot;).setViewName(FORWARD_SWAGGER_UI_HTML);\r\n        registry.addViewController(&quot;/swagger/&quot;).setViewName(FORWARD_SWAGGER_UI_HTML);\r\n        registry.addViewController(&quot;/swagger-ui&quot;).setViewName(FORWARD_SWAGGER_UI_HTML);\r\n        registry.addViewController(&quot;/swagger-ui/&quot;).setViewName(FORWARD_SWAGGER_UI_HTML);\r\n    }\r\n\r\n    @Bean\r\n    public OpenAPI openApiDefinition(final AppProperties properties) {\r\n        SpringDocUtils.getConfig().replaceWithClass(LocalDate.class, String.class);\r\n        SpringDocUtils.getConfig().replaceWithClass(LocalDateTime.class, String.class);\r\n\r\n        return new OpenAPI()\r\n            .addServersItem(new Server().url(&quot;/&quot; + properties.getContextRoot()))\r\n            .info(new Info().title(properties.getAppName()));\r\n    }\r\n\r\n    @Bean\r\n    public GroupedOpenApi privateApi(final AppProperties properties) {\r\n        return GroupedOpenApi.builder()\r\n            .group(&quot;02 - private&quot;)\r\n            .pathsToMatch(&quot;/api/**&quot;)\r\n            .pathsToExclude(&quot;/api/pub/*&quot;)\r\n            .addOpenApiCustomiser(this.customizeApiPrivate(properties))\r\n            .build();\r\n    }\r\n\r\n    private OpenApiCustomiser customizeApiPrivate(final AppProperties properties) {\r\n        return (final OpenAPI openApi) -&gt; openApi.getInfo()\r\n            .title(&quot;Private API title&quot;)\r\n            .description(&quot;Private API description&quot;)\r\n            .version(properties.getAppVersion());\r\n    }\r\n\r\n    // This create &quot;01 - public&quot; but with empty endpoints / operations, \r\n    // it seems like jersey endpoints are just ignored if swagger is configured this way\r\n    /**\r\n    @Bean\r\n    public GroupedOpenApi publicApi(final AppProperties properties) {\r\n        return GroupedOpenApi.builder()\r\n            .group(&quot;01 - public&quot;)\r\n            .pathsToMatch(&quot;/api/pub/**&quot;)\r\n            .packagesToScan(&quot;path.to.resources.package.api.pub&quot;)\r\n            .addOpenApiCustomiser(...)\r\n            .build();\r\n    }\r\n    */\r\n}\r\n```\r\n\r\n#### application.yml\r\n*Configure location of openapi.json for the public api &quot;01 - public&quot;*\r\n```yml\r\nspringdoc:\r\n  swagger-ui:\r\n    disable-swagger-default-url: true\r\n    defaultModelExpandDepth: 3\r\n    operationsSorter: &quot;alpha&quot;\r\n    tagsSorter: &quot;alpha&quot;\r\n    urls:\r\n      - name: &#39;01 - public&#39;\r\n        url: &#39;/@context.root@/swagger-ui/pub/openapi.json&#39;\r\n```\r\n\r\n#### AppConfiguration.java\r\n*Configure jersey endpoints + add mapping for swagger of the public api*\r\n```java\r\n@EnableWebMvc\r\n@Configuration\r\n@PropertySources(...)\r\n@ComponentScan(...)\r\n@ConfigurationPropertiesScan(...)\r\npublic class AppConfiguration implements WebMvcConfigurer {\r\n\r\n    @Bean\r\n    public ServletRegistrationBean&lt;ServletContainer&gt; publicJersey(AppProperties properties) \r\n    {\r\n        ServletRegistrationBean&lt;ServletContainer&gt; pubJersey = new ServletRegistrationBean&lt;&gt;(\r\n             new ServletContainer(new ApiPublicJerseyConfig(properties)));\r\n        pubJersey.addUrlMappings(&quot;/api/pub/*&quot;,&quot;/swagger-ui/pub/*&quot;);\r\n        pubJersey.setLoadOnStartup(0);\r\n        return pubJersey;\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\n#### ApiPublicJerseyConfig.java\r\n*Configure swagger &quot;01 - public&quot; for public api made with jersey endpoints*\r\n\r\n```java\r\nimport org.glassfish.jersey.server.ResourceConfig;\r\nimport io.swagger.v3.core.converter.ModelConverters;\r\nimport io.swagger.v3.jaxrs2.integration.resources.BaseOpenApiResource;\r\nimport io.swagger.v3.jaxrs2.integration.resources.OpenApiResource;\r\nimport io.swagger.v3.oas.integration.SwaggerConfiguration;\r\nimport io.swagger.v3.oas.models.OpenAPI;\r\nimport io.swagger.v3.oas.models.info.Info;\r\nimport io.swagger.v3.oas.models.servers.Server;\r\n\r\npublic class ApiPublicJerseyConfig extends ResourceConfig {\r\n\r\n    public ApiPublicJerseyConfig(AppProperties properties) {\r\n        super();\r\n        packages(&quot;path.to.resources.package.api.pub&quot;);\r\n        register(swaggerConfig(properties));\r\n    }\r\n\r\n    private static BaseOpenApiResource swaggerConfig(AppProperties properties) {\r\n        return new OpenApiResource().openApiConfiguration(\r\n            new SwaggerConfiguration()\r\n                .resourcePackages(new HashSet&lt;&gt;(Collections.singletonList(&quot;path.to.resources.package.api.pub&quot;)))\r\n                .openAPI(publicOpenApi(properties))\r\n        );\r\n    }\r\n\r\n    private static OpenAPI publicOpenApi(final AppProperties properties) {\r\n        return new OpenAPI()\r\n            .addServersItem(new Server().url(&quot;/&quot; + properties.getContextRoot() + &quot;/api/pub&quot;))\r\n            .info(new Info()\r\n                .title(&quot;Public API title&quot;)\r\n                .description(&quot;Public API description&quot;)\r\n                .version(properties.getAppVersion())\r\n            );\r\n    }\r\n}\r\n```","title":"Configuration Swagger Spring Boot 2.7 + Jersey","body":"<p>I configured a swagger for a private API on a spring boot application. These endpoints are made with spring.<br />\nThere is also a public API on the same server with endpoints made with Jersey.<br />\nI configured a swagger for this public API and it seems to work.<br />\nWhen I access to http://localhost:8080/@context.root@/swagger-ui/index.html I can see definitions</p>\n<ul>\n<li>&quot;01 - public&quot; -&gt; /@context.root@/swagger-ui/pub/openapi.json</li>\n<li>&quot;02 - private&quot; -&gt; /@context.root@/v3/api-docs/02 - private</li>\n</ul>\n<p><strong>However I feel like the configuration is a bit &quot;weird&quot; and could be improved</strong>.<br />\nIndeed the openapi.json files are created in two different ways and I am pretty sure the swagger configuration could be the same for both API.<br />\nI would like to configure the swagger for the jersey  resources (public API) using <code>GroupedOpenApi</code> class and remove all urls configuration from <code>application.yml</code>, but so far unsuccessfuly...</p>\n<p><em>spring boot version: 2.7.0</em> but it is planned to upgrade to v3 next month</p>\n<h4>pom.xml</h4>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\n    &lt;version&gt;2.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h4>SwaggerConfiguration.java</h4>\n<p><em>Configure swagger &quot;02 - private&quot; for private api made with spring endpoints</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDate;\nimport java.time.LocalDateTime;\n\nimport org.springdoc.core.GroupedOpenApi;\nimport org.springdoc.core.SpringDocUtils;\nimport org.springdoc.core.customizers.OpenApiCustomiser;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\nimport io.swagger.v3.oas.models.OpenAPI;\nimport io.swagger.v3.oas.models.info.Info;\nimport io.swagger.v3.oas.models.servers.Server;\n\n@Configuration\npublic class SwaggerConfiguration implements WebMvcConfigurer {\n\n    private static final String FORWARD_SWAGGER_UI_HTML = &quot;forward:/swagger-ui.html&quot;;\n\n    @Override\n    public void addViewControllers(final ViewControllerRegistry registry) {\n        registry.addViewController(&quot;/swagger&quot;).setViewName(FORWARD_SWAGGER_UI_HTML);\n        registry.addViewController(&quot;/swagger/&quot;).setViewName(FORWARD_SWAGGER_UI_HTML);\n        registry.addViewController(&quot;/swagger-ui&quot;).setViewName(FORWARD_SWAGGER_UI_HTML);\n        registry.addViewController(&quot;/swagger-ui/&quot;).setViewName(FORWARD_SWAGGER_UI_HTML);\n    }\n\n    @Bean\n    public OpenAPI openApiDefinition(final AppProperties properties) {\n        SpringDocUtils.getConfig().replaceWithClass(LocalDate.class, String.class);\n        SpringDocUtils.getConfig().replaceWithClass(LocalDateTime.class, String.class);\n\n        return new OpenAPI()\n            .addServersItem(new Server().url(&quot;/&quot; + properties.getContextRoot()))\n            .info(new Info().title(properties.getAppName()));\n    }\n\n    @Bean\n    public GroupedOpenApi privateApi(final AppProperties properties) {\n        return GroupedOpenApi.builder()\n            .group(&quot;02 - private&quot;)\n            .pathsToMatch(&quot;/api/**&quot;)\n            .pathsToExclude(&quot;/api/pub/*&quot;)\n            .addOpenApiCustomiser(this.customizeApiPrivate(properties))\n            .build();\n    }\n\n    private OpenApiCustomiser customizeApiPrivate(final AppProperties properties) {\n        return (final OpenAPI openApi) -&gt; openApi.getInfo()\n            .title(&quot;Private API title&quot;)\n            .description(&quot;Private API description&quot;)\n            .version(properties.getAppVersion());\n    }\n\n    // This create &quot;01 - public&quot; but with empty endpoints / operations, \n    // it seems like jersey endpoints are just ignored if swagger is configured this way\n    /**\n    @Bean\n    public GroupedOpenApi publicApi(final AppProperties properties) {\n        return GroupedOpenApi.builder()\n            .group(&quot;01 - public&quot;)\n            .pathsToMatch(&quot;/api/pub/**&quot;)\n            .packagesToScan(&quot;path.to.resources.package.api.pub&quot;)\n            .addOpenApiCustomiser(...)\n            .build();\n    }\n    */\n}\n</code></pre>\n<h4>application.yml</h4>\n<p><em>Configure location of openapi.json for the public api &quot;01 - public&quot;</em></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>springdoc:\n  swagger-ui:\n    disable-swagger-default-url: true\n    defaultModelExpandDepth: 3\n    operationsSorter: &quot;alpha&quot;\n    tagsSorter: &quot;alpha&quot;\n    urls:\n      - name: '01 - public'\n        url: '/@context.root@/swagger-ui/pub/openapi.json'\n</code></pre>\n<h4>AppConfiguration.java</h4>\n<p><em>Configure jersey endpoints + add mapping for swagger of the public api</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebMvc\n@Configuration\n@PropertySources(...)\n@ComponentScan(...)\n@ConfigurationPropertiesScan(...)\npublic class AppConfiguration implements WebMvcConfigurer {\n\n    @Bean\n    public ServletRegistrationBean&lt;ServletContainer&gt; publicJersey(AppProperties properties) \n    {\n        ServletRegistrationBean&lt;ServletContainer&gt; pubJersey = new ServletRegistrationBean&lt;&gt;(\n             new ServletContainer(new ApiPublicJerseyConfig(properties)));\n        pubJersey.addUrlMappings(&quot;/api/pub/*&quot;,&quot;/swagger-ui/pub/*&quot;);\n        pubJersey.setLoadOnStartup(0);\n        return pubJersey;\n    }\n    ...\n}\n</code></pre>\n<h4>ApiPublicJerseyConfig.java</h4>\n<p><em>Configure swagger &quot;01 - public&quot; for public api made with jersey endpoints</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.glassfish.jersey.server.ResourceConfig;\nimport io.swagger.v3.core.converter.ModelConverters;\nimport io.swagger.v3.jaxrs2.integration.resources.BaseOpenApiResource;\nimport io.swagger.v3.jaxrs2.integration.resources.OpenApiResource;\nimport io.swagger.v3.oas.integration.SwaggerConfiguration;\nimport io.swagger.v3.oas.models.OpenAPI;\nimport io.swagger.v3.oas.models.info.Info;\nimport io.swagger.v3.oas.models.servers.Server;\n\npublic class ApiPublicJerseyConfig extends ResourceConfig {\n\n    public ApiPublicJerseyConfig(AppProperties properties) {\n        super();\n        packages(&quot;path.to.resources.package.api.pub&quot;);\n        register(swaggerConfig(properties));\n    }\n\n    private static BaseOpenApiResource swaggerConfig(AppProperties properties) {\n        return new OpenApiResource().openApiConfiguration(\n            new SwaggerConfiguration()\n                .resourcePackages(new HashSet&lt;&gt;(Collections.singletonList(&quot;path.to.resources.package.api.pub&quot;)))\n                .openAPI(publicOpenApi(properties))\n        );\n    }\n\n    private static OpenAPI publicOpenApi(final AppProperties properties) {\n        return new OpenAPI()\n            .addServersItem(new Server().url(&quot;/&quot; + properties.getContextRoot() + &quot;/api/pub&quot;))\n            .info(new Info()\n                .title(&quot;Public API title&quot;)\n                .description(&quot;Public API description&quot;)\n                .version(properties.getAppVersion())\n            );\n    }\n}\n</code></pre>\n"},{"tags":["java","nullpointerexception","null","annotations","ide"],"comments":[{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":258,"creation_date":1297383343,"post_id":4963300,"comment_id":5540182,"body_markdown":"apache should invent a &quot;common&quot; annotation and a tool that can convert it to any other annotation. the solution to the problem of too many standards is to invent a new standard.","body":"apache should invent a &quot;common&quot; annotation and a tool that can convert it to any other annotation. the solution to the problem of too many standards is to invent a new standard."},{"owner":{"account_id":12111,"reputation":75875,"user_id":23691,"accept_rate":71,"display_name":"krosenvold"},"score":0,"creation_date":1312967062,"post_id":4963300,"comment_id":8368043,"body_markdown":"@NotNull within idea also does runtime checking (At least in v10.5)","body":"@NotNull within idea also does runtime checking (At least in v10.5)"},{"owner":{"account_id":261678,"reputation":2513,"user_id":546016,"accept_rate":69,"display_name":"ymajoros"},"score":10,"creation_date":1351325721,"post_id":4963300,"comment_id":17801725,"body_markdown":"@irreputable if apache invents a new &quot;common&quot;, there would be 56 versions of it, overlapping with other projects. And, it wouldn&#39;t be standard anyway (standard != widespread). Better use anything really standard, javax?.* . BTW, there aren&#39;t &quot;too many standards&quot; in those examples, I just see 1 or 2.","body":"@irreputable if apache invents a new &quot;common&quot;, there would be 56 versions of it, overlapping with other projects. And, it wouldn&#39;t be standard anyway (standard != widespread). Better use anything really standard, javax?.* . BTW, there aren&#39;t &quot;too many standards&quot; in those examples, I just see 1 or 2."},{"owner":{"account_id":31380,"reputation":944,"user_id":86117,"accept_rate":80,"display_name":"Nicolas C"},"score":8,"creation_date":1374136431,"post_id":4963300,"comment_id":25824952,"body_markdown":"javax.annotation.Nonnull does work with findbugs (just tested it), which is a compelling reason for me to use it.","body":"javax.annotation.Nonnull does work with findbugs (just tested it), which is a compelling reason for me to use it."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1382614517,"post_id":4963300,"comment_id":29032909,"body_markdown":"@irreputable there was nothing wrong with inventing a logging facade - the implementation was just broken badly enough to prompt the creation of slf4j which - in my opinion- got it right.","body":"@irreputable there was nothing wrong with inventing a logging facade - the implementation was just broken badly enough to prompt the creation of slf4j which - in my opinion- got it right."},{"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"score":26,"creation_date":1425627245,"post_id":4963300,"comment_id":46048345,"body_markdown":"If I simply write @NotNull, it refers to `com.sun.istack.internal.NotNull`. OMG...","body":"If I simply write @NotNull, it refers to <code>com.sun.istack.internal.NotNull</code>. OMG..."},{"owner":{"account_id":235236,"reputation":372,"user_id":501913,"display_name":"Mozart Brocchini"},"score":1,"creation_date":1463008149,"post_id":4963300,"comment_id":61884032,"body_markdown":"Java 8 introduced Optional as a way to avoid Nulls, I&#39;d like to hear from others, to see whether they think this is still an issue when using Java 8. See my answer below.","body":"Java 8 introduced Optional as a way to avoid Nulls, I&#39;d like to hear from others, to see whether they think this is still an issue when using Java 8. See my answer below."},{"owner":{"account_id":785462,"reputation":16343,"user_id":845034,"accept_rate":57,"display_name":"steffen"},"score":1,"creation_date":1464009376,"post_id":4963300,"comment_id":62293233,"body_markdown":"@ymajoros that was a joke, see http://xkcd.com/927/","body":"@ymajoros that was a joke, see <a href=\"http://xkcd.com/927/\" rel=\"nofollow noreferrer\">xkcd.com/927</a>"},{"owner":{"account_id":261678,"reputation":2513,"user_id":546016,"accept_rate":69,"display_name":"ymajoros"},"score":1,"creation_date":1464012984,"post_id":4963300,"comment_id":62295740,"body_markdown":"@steffen Sure, got it... But Apache didn&#39;t, and a lot of people keep using the s-word for any random library. ;-)","body":"@steffen Sure, got it... But Apache didn&#39;t, and a lot of people keep using the s-word for any random library. ;-)"},{"owner":{"account_id":352555,"reputation":774,"user_id":689706,"display_name":"Dave"},"score":4,"creation_date":1468971502,"post_id":4963300,"comment_id":64344211,"body_markdown":"@MozartBrocchini - Optionals are useful in cases where you might have previously used NullObjects. They don&#39;t really address the same aim as a runtime \\@NotNull annotation though, and they introduce tedious unwrapping.","body":"@MozartBrocchini - Optionals are useful in cases where you might have previously used NullObjects. They don&#39;t really address the same aim as a runtime \\@NotNull annotation though, and they introduce tedious unwrapping."},{"owner":{"account_id":352555,"reputation":774,"user_id":689706,"display_name":"Dave"},"score":1,"creation_date":1468971792,"post_id":4963300,"comment_id":64344267,"body_markdown":"FWIW I would go with the javax.validation annotation.You avoid the possibility of kitchen-sink transitive dependencies; it is part of an &quot;actual&quot; standard so it won&#39;t disappear when a package maintainer moves on; it has runtime retention so it serves the most useful purpose of a NotNull declaration - enforcement at validation time; it can be inspected at compile time or in the verify phase of a maven build - you just need to add support to your chosen analysis plugin.","body":"FWIW I would go with the javax.validation annotation.You avoid the possibility of kitchen-sink transitive dependencies; it is part of an &quot;actual&quot; standard so it won&#39;t disappear when a package maintainer moves on; it has runtime retention so it serves the most useful purpose of a NotNull declaration - enforcement at validation time; it can be inspected at compile time or in the verify phase of a maven build - you just need to add support to your chosen analysis plugin."},{"owner":{"account_id":235236,"reputation":372,"user_id":501913,"display_name":"Mozart Brocchini"},"score":0,"creation_date":1470345711,"post_id":4963300,"comment_id":64926637,"body_markdown":"@Dave, I have idea what you mean by `NullObjects`, and no I was not suggesting that would address the same as annotation, I honestly  don&#39;t like the idea of using annotations to give a hint for static analysis, but I guess everybody here likes them, so I will stop barking at the wrong tree.","body":"@Dave, I have idea what you mean by <code>NullObjects</code>, and no I was not suggesting that would address the same as annotation, I honestly  don&#39;t like the idea of using annotations to give a hint for static analysis, but I guess everybody here likes them, so I will stop barking at the wrong tree."},{"owner":{"account_id":380513,"reputation":1213,"user_id":734586,"accept_rate":69,"display_name":"coffee_machine"},"score":1,"creation_date":1585412814,"post_id":4963300,"comment_id":107751418,"body_markdown":"There is an ongoing effort to unify this mess. See this comment and thread: https://github.com/google/guava/issues/2960#issuecomment-573876214","body":"There is an ongoing effort to unify this mess. See this comment and thread: <a href=\"https://github.com/google/guava/issues/2960#issuecomment-573876214\" rel=\"nofollow noreferrer\">github.com/google/guava/issues/2960#issuecomment-573876214</a>"},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":3,"creation_date":1668288955,"post_id":4963300,"comment_id":131370441,"body_markdown":"A better link now for that effort is http://jspecify.org. We set out to create nullness annotations with precisely specified semantics, by consensus of major tool owners, which no one had tried before. It has turned out to be Hard, but we&#39;ve made a lot of progress.","body":"A better link now for that effort is <a href=\"http://jspecify.org\" rel=\"nofollow noreferrer\">jspecify.org</a>. We set out to create nullness annotations with precisely specified semantics, by consensus of major tool owners, which no one had tried before. It has turned out to be Hard, but we&#39;ve made a lot of progress."},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1693004182,"post_id":4963300,"comment_id":135707408,"body_markdown":"updated version of this question: https://stackoverflow.com/questions/76630457/what-nullable-to-use-in-java-as-of-2023-jdk21/","body":"updated version of this question: <a href=\"https://stackoverflow.com/questions/76630457/what-nullable-to-use-in-java-as-of-2023-jdk21/\" title=\"what nullable to use in java as of 2023 jdk21\">stackoverflow.com/questions/76630457/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"down_vote_count":7,"up_vote_count":70,"is_accepted":false,"score":63,"last_activity_date":1297375740,"creation_date":1297375740,"answer_id":4963325,"question_id":4963300,"body_markdown":"I use the IntelliJ one, because I&#39;m mostly concerned with IntelliJ flagging things that might produce a NPE. I agree that it&#39;s frustrating not having a standard annotation in the JDK. There&#39;s talk of adding it, it might make it into Java 7. In which case there will be one more to choose from!","title":"Which @NotNull Java annotation should I use?","body":"<p>I use the IntelliJ one, because I'm mostly concerned with IntelliJ flagging things that might produce a NPE. I agree that it's frustrating not having a standard annotation in the JDK. There's talk of adding it, it might make it into Java 7. In which case there will be one more to choose from!</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1485032015,"creation_date":1297376511,"answer_id":4963420,"question_id":4963300,"body_markdown":"According to the [Java 7 features list][1] JSR-308 type annotations are deferred to Java 8.  JSR-305 annotations are not even mentioned.  \r\n\r\nThere is a bit of info on the state of JSR-305 in an [appendix][2] of the latest JSR-308 draft.  This includes the observation that JSR-305 annotations seem to be abandoned.  The JSR-305 page also shows it as &quot;inactive&quot;.\r\n\r\nIn the mean time, the pragmatic answer is to use the annotation types that are supported by the most widely used tools ... and be prepared to change them if the situation changes.\r\n\r\n---------------\r\n\r\nIn fact, JSR-308 does not define any annotation types/classes, and it looks like they think it is out of scope.  (And they are right, given the existence of JSR-305).\r\n\r\nHowever, if JSR-308 really looks like making it into Java 8, it wouldn&#39;t surprise me if interest in JSR-305 revived.  AFAIK, the JSR-305 team hasn&#39;t formally abandoned their work.  They have just been quiet for 2+ years.\r\n\r\nIt is interesting that Bill Pugh (the tech lead for JSR-305) is one of the guy behind FindBugs.\r\n\r\n\r\n  [1]: http://openjdk.java.net/projects/jdk7/features/\r\n  [2]: https://checkerframework.org/jsr308/jsr308-faq.html","title":"Which @NotNull Java annotation should I use?","body":"<p>According to the <a href=\"http://openjdk.java.net/projects/jdk7/features/\" rel=\"nofollow noreferrer\">Java 7 features list</a> JSR-308 type annotations are deferred to Java 8.  JSR-305 annotations are not even mentioned.  </p>\n\n<p>There is a bit of info on the state of JSR-305 in an <a href=\"https://checkerframework.org/jsr308/jsr308-faq.html\" rel=\"nofollow noreferrer\">appendix</a> of the latest JSR-308 draft.  This includes the observation that JSR-305 annotations seem to be abandoned.  The JSR-305 page also shows it as \"inactive\".</p>\n\n<p>In the mean time, the pragmatic answer is to use the annotation types that are supported by the most widely used tools ... and be prepared to change them if the situation changes.</p>\n\n<hr>\n\n<p>In fact, JSR-308 does not define any annotation types/classes, and it looks like they think it is out of scope.  (And they are right, given the existence of JSR-305).</p>\n\n<p>However, if JSR-308 really looks like making it into Java 8, it wouldn't surprise me if interest in JSR-305 revived.  AFAIK, the JSR-305 team hasn't formally abandoned their work.  They have just been quiet for 2+ years.</p>\n\n<p>It is interesting that Bill Pugh (the tech lead for JSR-305) is one of the guy behind FindBugs.</p>\n"},{"tags":[],"owner":{"account_id":39812,"reputation":9161,"user_id":115018,"accept_rate":100,"display_name":"Nate W."},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1297379185,"creation_date":1297377711,"answer_id":4963565,"question_id":4963300,"body_markdown":"Doesn&#39;t sun have their own now? What&#39;s this:  \r\n[http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Modules-com.sun/istack/com.sun.istack.internal.htm][1]\r\n\r\nThis seems to be packaged with all the versions of Java I&#39;ve used within the last few years.\r\n\r\n**Edit:** As mentioned in the comments below, you probably don&#39;t want to use these. In that case, my vote is for the IntelliJ jetbrains annotations!\r\n\r\n  [1]: http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Modules-com.sun/istack/com.sun.istack.internal.htm","title":"Which @NotNull Java annotation should I use?","body":"<p>Doesn't sun have their own now? What's this:<br>\n<a href=\"http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Modules-com.sun/istack/com.sun.istack.internal.htm\" rel=\"nofollow\">http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Modules-com.sun/istack/com.sun.istack.internal.htm</a></p>\n\n<p>This seems to be packaged with all the versions of Java I've used within the last few years.</p>\n\n<p><strong>Edit:</strong> As mentioned in the comments below, you probably don't want to use these. In that case, my vote is for the IntelliJ jetbrains annotations!</p>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85917,"user_id":11296,"display_name":"Bert F"},"down_vote_count":2,"up_vote_count":102,"is_accepted":false,"score":100,"last_activity_date":1484979448,"creation_date":1297378748,"answer_id":4963706,"question_id":4963300,"body_markdown":"I very much like the [Checker Framework][1], which is an implementation of type annotations ([JSR-308][2]) which is used to implement defect checkers like a nullness checker.  I haven&#39;t really tried any others to offer any comparison, but I&#39;ve been happy with this implementation.\r\n\r\nI&#39;m not affiliated with the group that offers the software, but I am a fan.\r\n\r\nFour things I like about this system:\r\n\r\n1. It has a defect checkers for [nullness][3] (@Nullable), but also has ones for [immutability][4] and [interning][5] (and others).  I use the first one (nullness) and I&#39;m trying to get into using the second one (immutability/IGJ).  I&#39;m trying out the third one, but I&#39;m not certain about using it long term yet.  I&#39;m not convinced of the general usefulness of the other checkers yet, but its nice to know that the framework itself is a system for implementing a variety of additional annotations and checkers.\r\n\r\n2. The [default setting for nullness checking][6] works well: Non-null except locals (NNEL).  Basically this means that by default the checker treats everyhing (instance variables, method parameters, generic types, etc) except local variables as if they have a @NonNull type by default.  Per the documentation:\r\n\r\n  &gt; The NNEL default leads to the smallest number of explicit annotations in your code.\r\n\r\n  You can set a different default for a class or for a method if NNEL doesn&#39;t work for you.\r\n\r\n3. This framework allows you to use with ***[without creating a dependency on the framework][7]*** by enclosing your annotations in a comment: e.g. `/*@Nullable*/`.  This is nice because you can annotate and check a library or shared code, but still be able to use that library/shared coded in another project that doesn&#39;t use the framework.  This is a nice feature.  I&#39;ve grown accustom to using it, even though I tend to enable the Checker Framework on all my projects now. \r\n\r\n4. The framework has a way to [annotate APIs][8] you use that aren&#39;t already annotated for nullness by using stub files.\r\n\r\n  [1]: https://checkerframework.org/\r\n  [2]: https://checkerframework.org/jsr308/\r\n  [3]: https://checkerframework.org/manual/#nullness-checker\r\n  [4]: https://checkerframework.org/manual/#igj-checker\r\n  [5]: https://checkerframework.org/manual/#interning-checker\r\n  [6]: https://checkerframework.org/manual/#null-defaults\r\n  [7]: https://checkerframework.org/manual/#backward-compatibility\r\n  [8]: https://checkerframework.org/manual/#annotating-libraries","title":"Which @NotNull Java annotation should I use?","body":"<p>I very much like the <a href=\"https://checkerframework.org/\" rel=\"noreferrer\">Checker Framework</a>, which is an implementation of type annotations (<a href=\"https://checkerframework.org/jsr308/\" rel=\"noreferrer\">JSR-308</a>) which is used to implement defect checkers like a nullness checker.  I haven't really tried any others to offer any comparison, but I've been happy with this implementation.</p>\n\n<p>I'm not affiliated with the group that offers the software, but I am a fan.</p>\n\n<p>Four things I like about this system:</p>\n\n<ol>\n<li><p>It has a defect checkers for <a href=\"https://checkerframework.org/manual/#nullness-checker\" rel=\"noreferrer\">nullness</a> (@Nullable), but also has ones for <a href=\"https://checkerframework.org/manual/#igj-checker\" rel=\"noreferrer\">immutability</a> and <a href=\"https://checkerframework.org/manual/#interning-checker\" rel=\"noreferrer\">interning</a> (and others).  I use the first one (nullness) and I'm trying to get into using the second one (immutability/IGJ).  I'm trying out the third one, but I'm not certain about using it long term yet.  I'm not convinced of the general usefulness of the other checkers yet, but its nice to know that the framework itself is a system for implementing a variety of additional annotations and checkers.</p></li>\n<li><p>The <a href=\"https://checkerframework.org/manual/#null-defaults\" rel=\"noreferrer\">default setting for nullness checking</a> works well: Non-null except locals (NNEL).  Basically this means that by default the checker treats everyhing (instance variables, method parameters, generic types, etc) except local variables as if they have a @NonNull type by default.  Per the documentation:</p>\n\n<blockquote>\n  <p>The NNEL default leads to the smallest number of explicit annotations in your code.</p>\n</blockquote>\n\n<p>You can set a different default for a class or for a method if NNEL doesn't work for you.</p></li>\n<li><p>This framework allows you to use with <strong><em><a href=\"https://checkerframework.org/manual/#backward-compatibility\" rel=\"noreferrer\">without creating a dependency on the framework</a></em></strong> by enclosing your annotations in a comment: e.g. <code>/*@Nullable*/</code>.  This is nice because you can annotate and check a library or shared code, but still be able to use that library/shared coded in another project that doesn't use the framework.  This is a nice feature.  I've grown accustom to using it, even though I tend to enable the Checker Framework on all my projects now. </p></li>\n<li><p>The framework has a way to <a href=\"https://checkerframework.org/manual/#annotating-libraries\" rel=\"noreferrer\">annotate APIs</a> you use that aren't already annotated for nullness by using stub files.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":125254,"reputation":2585,"user_id":320911,"display_name":"Arto Bendiken"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1311677776,"creation_date":1311677258,"answer_id":6828872,"question_id":4963300,"body_markdown":"While waiting for this to be sorted out upstream (Java 8?), you could also just define your own project-local `@NotNull` and `@Nullable` annotations. This can be useful also in case you&#39;re working with Java SE, where `javax.validation.constraints` [isn&#39;t available][1] by default.\r\n\r\n    import java.lang.annotation.*;\r\n    \r\n    /**\r\n     * Designates that a field, return value, argument, or variable is\r\n     * guaranteed to be non-null.\r\n     */\r\n    @Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.LOCAL_VARIABLE})\r\n    @Documented\r\n    @Retention(RetentionPolicy.CLASS)\r\n    public @interface NotNull {}\r\n\r\n    /**\r\n     * Designates that a field, return value, argument, or variable may be null.\r\n     */\r\n    @Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.LOCAL_VARIABLE})\r\n    @Documented\r\n    @Retention(RetentionPolicy.CLASS)\r\n    public @interface Nullable {}\r\n\r\nThis would admittedly largely be for decorative or future-proofing purposes, since the above obviously doesn&#39;t in and of itself add any support for the static analysis of these annotations.\r\n\r\n[1]: https://stackoverflow.com/questions/2707683/how-do-i-import-javax-validation-into-my-java-se-project\r\n","title":"Which @NotNull Java annotation should I use?","body":"<p>While waiting for this to be sorted out upstream (Java 8?), you could also just define your own project-local <code>@NotNull</code> and <code>@Nullable</code> annotations. This can be useful also in case you're working with Java SE, where <code>javax.validation.constraints</code> <a href=\"https://stackoverflow.com/questions/2707683/how-do-i-import-javax-validation-into-my-java-se-project\">isn't available</a> by default.</p>\n\n<pre><code>import java.lang.annotation.*;\n\n/**\n * Designates that a field, return value, argument, or variable is\n * guaranteed to be non-null.\n */\n@Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.LOCAL_VARIABLE})\n@Documented\n@Retention(RetentionPolicy.CLASS)\npublic @interface NotNull {}\n\n/**\n * Designates that a field, return value, argument, or variable may be null.\n */\n@Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.LOCAL_VARIABLE})\n@Documented\n@Retention(RetentionPolicy.CLASS)\npublic @interface Nullable {}\n</code></pre>\n\n<p>This would admittedly largely be for decorative or future-proofing purposes, since the above obviously doesn't in and of itself add any support for the static analysis of these annotations.</p>\n"},{"tags":[],"owner":{"account_id":53341,"reputation":1793,"user_id":159452,"display_name":"Ophir Radnitz"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1312200451,"creation_date":1312200451,"answer_id":6898182,"question_id":4963300,"body_markdown":"Just pointing out that the Java Validation API (`javax.validation.constraints.*`) doesn&#39;t come with a `@Nullable` annotation, which is very valuable in a static analysis context. It makes sense for runtime bean validation as this is the default for any non-primitive field in Java (i.e. nothing to validate/enforce). For the purposes stated that should weigh towards the alternatives.","title":"Which @NotNull Java annotation should I use?","body":"<p>Just pointing out that the Java Validation API (<code>javax.validation.constraints.*</code>) doesn't come with a <code>@Nullable</code> annotation, which is very valuable in a static analysis context. It makes sense for runtime bean validation as this is the default for any non-primitive field in Java (i.e. nothing to validate/enforce). For the purposes stated that should weigh towards the alternatives.</p>\n"},{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1464863121,"creation_date":1316257801,"answer_id":7454307,"question_id":4963300,"body_markdown":"Eclipse has also its own annotations.\r\n\r\n    org.eclipse.jdt.annotation.NonNull\r\n\r\nSee at http://wiki.eclipse.org/JDT_Core/Null_Analysis for details.","title":"Which @NotNull Java annotation should I use?","body":"<p>Eclipse has also its own annotations.</p>\n\n<pre><code>org.eclipse.jdt.annotation.NonNull\n</code></pre>\n\n<p>See at <a href=\"http://wiki.eclipse.org/JDT_Core/Null_Analysis\" rel=\"nofollow noreferrer\">http://wiki.eclipse.org/JDT_Core/Null_Analysis</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1484979758,"creation_date":1353639147,"answer_id":13522552,"question_id":4963300,"body_markdown":"JSR305 and FindBugs are authored by the same person. Both are poorly maintained but are as standard as it gets and are supported by all major IDEs. The good news is that they work well as-is.\r\n\r\nHere is how to apply @Nonnull to all classes, methods and fields by default.\r\nSee https://stackoverflow.com/a/13319541/14731 and https://stackoverflow.com/a/9256595/14731\r\n\r\n1. Define `@NotNullByDefault`\r\n\r\n&lt;!-- code follows --&gt;\r\n\r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import javax.annotation.Nonnull;\r\n    import javax.annotation.meta.TypeQualifierDefault;\r\n    \r\n    \r\n        /**\r\n         * This annotation can be applied to a package, class or method to indicate that the class fields,\r\n         * method return types and parameters in that element are not null by default unless there is: &lt;ul&gt;\r\n         * &lt;li&gt;An explicit nullness annotation &lt;li&gt;The method overrides a method in a superclass (in which\r\n         * case the annotation of the corresponding parameter in the superclass applies) &lt;li&gt; there is a\r\n         * default parameter annotation applied to a more tightly nested element. &lt;/ul&gt;\r\n         * &lt;p/&gt;\r\n         * @see https://stackoverflow.com/a/9256595/14731\r\n         */\r\n        @Documented\r\n        @Nonnull\r\n        @TypeQualifierDefault(\r\n        {\r\n        \tElementType.ANNOTATION_TYPE,\r\n        \tElementType.CONSTRUCTOR,\r\n        \tElementType.FIELD,\r\n        \tElementType.LOCAL_VARIABLE,\r\n        \tElementType.METHOD,\r\n        \tElementType.PACKAGE,\r\n        \tElementType.PARAMETER,\r\n        \tElementType.TYPE\r\n        })\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        public @interface NotNullByDefault\r\n        {\r\n        }\r\n2. Add the annotation to each package: `package-info.java`\r\n\r\n&lt;!-- code follows --&gt;\r\n    \r\n    @NotNullByDefault\r\n    package com.example.foo;\r\n\r\n**UPDATE**: As of December 12th, 2012 [JSR 305](http://jcp.org/en/jsr/detail?id=305) is listed as &quot;Dormant&quot;. According to the documentation:\r\n\r\n&gt;A JSR that was voted as &quot;dormant&quot; by the Executive Committee, or one that has reached the end of its natural lifespan.\r\n\r\nIt looks like [JSR 308](https://checkerframework.org/jsr308/) **is** making it into JDK 8 and although the JSR does not define @NotNull, the accompanying `Checkers Framework` does. At the time of this writing, the Maven plugin is unusable due to this bug: https://github.com/typetools/checker-framework/issues/183","title":"Which @NotNull Java annotation should I use?","body":"<p>JSR305 and FindBugs are authored by the same person. Both are poorly maintained but are as standard as it gets and are supported by all major IDEs. The good news is that they work well as-is.</p>\n\n<p>Here is how to apply @Nonnull to all classes, methods and fields by default.\nSee <a href=\"https://stackoverflow.com/a/13319541/14731\">https://stackoverflow.com/a/13319541/14731</a> and <a href=\"https://stackoverflow.com/a/9256595/14731\">https://stackoverflow.com/a/9256595/14731</a></p>\n\n<ol>\n<li>Define <code>@NotNullByDefault</code></li>\n</ol>\n\n\n\n<pre><code>import java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport javax.annotation.Nonnull;\nimport javax.annotation.meta.TypeQualifierDefault;\n\n\n    /**\n     * This annotation can be applied to a package, class or method to indicate that the class fields,\n     * method return types and parameters in that element are not null by default unless there is: &lt;ul&gt;\n     * &lt;li&gt;An explicit nullness annotation &lt;li&gt;The method overrides a method in a superclass (in which\n     * case the annotation of the corresponding parameter in the superclass applies) &lt;li&gt; there is a\n     * default parameter annotation applied to a more tightly nested element. &lt;/ul&gt;\n     * &lt;p/&gt;\n     * @see https://stackoverflow.com/a/9256595/14731\n     */\n    @Documented\n    @Nonnull\n    @TypeQualifierDefault(\n    {\n        ElementType.ANNOTATION_TYPE,\n        ElementType.CONSTRUCTOR,\n        ElementType.FIELD,\n        ElementType.LOCAL_VARIABLE,\n        ElementType.METHOD,\n        ElementType.PACKAGE,\n        ElementType.PARAMETER,\n        ElementType.TYPE\n    })\n    @Retention(RetentionPolicy.RUNTIME)\n    public @interface NotNullByDefault\n    {\n    }\n</code></pre>\n\n<p>2. Add the annotation to each package: <code>package-info.java</code></p>\n\n\n\n<pre><code>@NotNullByDefault\npackage com.example.foo;\n</code></pre>\n\n<p><strong>UPDATE</strong>: As of December 12th, 2012 <a href=\"http://jcp.org/en/jsr/detail?id=305\" rel=\"nofollow noreferrer\">JSR 305</a> is listed as \"Dormant\". According to the documentation:</p>\n\n<blockquote>\n  <p>A JSR that was voted as \"dormant\" by the Executive Committee, or one that has reached the end of its natural lifespan.</p>\n</blockquote>\n\n<p>It looks like <a href=\"https://checkerframework.org/jsr308/\" rel=\"nofollow noreferrer\">JSR 308</a> <strong>is</strong> making it into JDK 8 and although the JSR does not define @NotNull, the accompanying <code>Checkers Framework</code> does. At the time of this writing, the Maven plugin is unusable due to this bug: <a href=\"https://github.com/typetools/checker-framework/issues/183\" rel=\"nofollow noreferrer\">https://github.com/typetools/checker-framework/issues/183</a></p>\n"},{"tags":[],"owner":{"account_id":2573410,"reputation":117,"user_id":2231635,"display_name":"Werner Keil"},"down_vote_count":4,"up_vote_count":11,"is_accepted":false,"score":7,"last_activity_date":1364812423,"creation_date":1364810112,"answer_id":15741240,"question_id":4963300,"body_markdown":"Unfortunately, `JSR 308` will not add more values than this project local Not Null suggestion here\r\n\r\n`Java 8` will not come with a single default annotation or its own `Checker` framework.\r\nSimilar to Find-bugs or `JSR 305`, this JSR is poorly maintained by a small bunch of mostly academic teams. \r\n\r\nNo commercial power behind it, thus `JSR 308` launches `EDR 3` (Early Draft Review at `JCP`) NOW, while `Java 8` is supposed to ship in less than 6 months:-O\r\nSimilar to `310` btw. but unlike `308 Oracle` has taken charge of that now away from its founders to minimize harm it&#39;ll do to the Java Platform.\r\n\r\nEvery project, vendor and academic class like the ones behind the `Checker Framework` and `JSR 308` will create its own proprietary checker annotation.\r\n\r\nMaking source code incompatible for years to come, until a few popular compromises could be found and maybe added to `Java 9` or `10`, or via frameworks like `Apache Commons` or `Google Guava`;-)\r\n","title":"Which @NotNull Java annotation should I use?","body":"<p>Unfortunately, <code>JSR 308</code> will not add more values than this project local Not Null suggestion here</p>\n\n<p><code>Java 8</code> will not come with a single default annotation or its own <code>Checker</code> framework.\nSimilar to Find-bugs or <code>JSR 305</code>, this JSR is poorly maintained by a small bunch of mostly academic teams. </p>\n\n<p>No commercial power behind it, thus <code>JSR 308</code> launches <code>EDR 3</code> (Early Draft Review at <code>JCP</code>) NOW, while <code>Java 8</code> is supposed to ship in less than 6 months:-O\nSimilar to <code>310</code> btw. but unlike <code>308 Oracle</code> has taken charge of that now away from its founders to minimize harm it'll do to the Java Platform.</p>\n\n<p>Every project, vendor and academic class like the ones behind the <code>Checker Framework</code> and <code>JSR 308</code> will create its own proprietary checker annotation.</p>\n\n<p>Making source code incompatible for years to come, until a few popular compromises could be found and maybe added to <code>Java 9</code> or <code>10</code>, or via frameworks like <code>Apache Commons</code> or <code>Google Guava</code>;-)</p>\n"},{"tags":[],"owner":{"account_id":457668,"reputation":1497,"user_id":857125,"display_name":"chaqke"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1417549949,"creation_date":1367373489,"answer_id":16311685,"question_id":4963300,"body_markdown":"If you&#39;re developing for android, you&#39;re *somewhat* tied to Eclipse (edit: at time of writing, not anymore), which has its own annotations.  It&#39;s included in Eclipse 3.8+ (Juno), but disabled by default.\r\n\r\nYou can enable it at Preferences &gt; Java &gt; Compiler &gt; Errors/Warnings &gt; Null analysis (collapsable section at the bottom).\r\n\r\nCheck &quot;Enable annotation-based null analysis&quot;\r\n\r\nhttp://wiki.eclipse.org/JDT_Core/Null_Analysis#Usage has recommendations on settings.  However, if you have external projects in your workspace (like the facebook SDK), they may not satisfy those recommendations, and you probably don&#39;t want to fix them with each SDK update ;-)\r\n\r\nI use:\r\n\r\n 1. Null pointer access: Error\r\n 2. Violation of null specification: Error (linked to point #1)\r\n 3. Potential null pointer access: Warning (otherwise facebook SDK would have warnings)\r\n 4. Conflict between null annotations and null inference: Warning (linked to point #3)","title":"Which @NotNull Java annotation should I use?","body":"<p>If you're developing for android, you're <em>somewhat</em> tied to Eclipse (edit: at time of writing, not anymore), which has its own annotations.  It's included in Eclipse 3.8+ (Juno), but disabled by default.</p>\n\n<p>You can enable it at Preferences > Java > Compiler > Errors/Warnings > Null analysis (collapsable section at the bottom).</p>\n\n<p>Check \"Enable annotation-based null analysis\"</p>\n\n<p><a href=\"http://wiki.eclipse.org/JDT_Core/Null_Analysis#Usage\" rel=\"nofollow\">http://wiki.eclipse.org/JDT_Core/Null_Analysis#Usage</a> has recommendations on settings.  However, if you have external projects in your workspace (like the facebook SDK), they may not satisfy those recommendations, and you probably don't want to fix them with each SDK update ;-)</p>\n\n<p>I use:</p>\n\n<ol>\n<li>Null pointer access: Error</li>\n<li>Violation of null specification: Error (linked to point #1)</li>\n<li>Potential null pointer access: Warning (otherwise facebook SDK would have warnings)</li>\n<li>Conflict between null annotations and null inference: Warning (linked to point #3)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390340157,"creation_date":1390340157,"answer_id":21269600,"question_id":4963300,"body_markdown":"Another option is the annotations provided with ANTLR 4. Following [Pull Request #434](https://github.com/antlr/antlr4/pull/434), the artifact containing the `@NotNull` and `@Nullable` annotations includes an annotation processor that produces compile-time errors and/or warnings in the event one of these attributes is misused (for example, if both are applied to the same item, or if `@Nullable` is applied to item with a primitive type). The annotation processor provides additional assurance during the software development process that the information conveyed by the application of these annotations is accurate, including in cases of method inheritance.","title":"Which @NotNull Java annotation should I use?","body":"<p>Another option is the annotations provided with ANTLR 4. Following <a href=\"https://github.com/antlr/antlr4/pull/434\" rel=\"nofollow\">Pull Request #434</a>, the artifact containing the <code>@NotNull</code> and <code>@Nullable</code> annotations includes an annotation processor that produces compile-time errors and/or warnings in the event one of these attributes is misused (for example, if both are applied to the same item, or if <code>@Nullable</code> is applied to item with a primitive type). The annotation processor provides additional assurance during the software development process that the information conveyed by the application of these annotations is accurate, including in cases of method inheritance.</p>\n"},{"tags":[],"owner":{"account_id":1235494,"reputation":1624,"user_id":1199155,"display_name":"Bruno Eberhard"},"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1495050742,"creation_date":1398435353,"answer_id":23295673,"question_id":4963300,"body_markdown":"If anyone is just looking for the IntelliJ classes: you can get them from the maven repository with\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;15.0&lt;/version&gt;\r\n\t&lt;/dependency&gt; \r\n","title":"Which @NotNull Java annotation should I use?","body":"<p>If anyone is just looking for the IntelliJ classes: you can get them from the maven repository with</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n    &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n    &lt;version&gt;15.0&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":70556,"reputation":13646,"user_id":204480,"display_name":"James Wald"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1429740101,"creation_date":1409910700,"answer_id":25683117,"question_id":4963300,"body_markdown":"For Android projects you should use `android.support.annotation.NonNull` and `android.support.annotation.Nullable`. These and other helpful Android-specific annotations are available in the [Support Library](http://developer.android.com/tools/support-library/index.html).\r\n\r\nFrom http://tools.android.com/tech-docs/support-annotations:\r\n\r\n&gt; The support library itself has also been annotated with these\r\n&gt; annotations, so as a user of the support library, Android Studio will\r\n&gt; already check your code and flag potential problems based on these\r\n&gt; annotations.","title":"Which @NotNull Java annotation should I use?","body":"<p>For Android projects you should use <code>android.support.annotation.NonNull</code> and <code>android.support.annotation.Nullable</code>. These and other helpful Android-specific annotations are available in the <a href=\"http://developer.android.com/tools/support-library/index.html\" rel=\"noreferrer\">Support Library</a>.</p>\n\n<p>From <a href=\"http://tools.android.com/tech-docs/support-annotations\" rel=\"noreferrer\">http://tools.android.com/tech-docs/support-annotations</a>:</p>\n\n<blockquote>\n  <p>The support library itself has also been annotated with these\n  annotations, so as a user of the support library, Android Studio will\n  already check your code and flag potential problems based on these\n  annotations.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3090119,"reputation":48512,"user_id":2670370,"accept_rate":35,"display_name":"Shubham Chaudhary"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1453893412,"creation_date":1444507023,"answer_id":33058370,"question_id":4963300,"body_markdown":"Android\r\n=======\r\n\r\nThis answer is Android specific. Android has support package called `support-annotations`. This provides [dozens][3] of [Android specific][2] annotations and also provides [common ones][1] like `NonNull`, `Nullable` etc.\r\n\r\n\r\nTo add *support-annotations* package, add the following dependency in your build.gradle:\r\n\r\n    compile &#39;com.android.support:support-annotations:23.1.1&#39;\r\n\r\nand then use:\r\n\r\n    import android.support.annotation.NonNull;\r\n    \r\n    void foobar(@NonNull Foo bar) {}\r\n\r\n\r\n  [1]: http://shubham.chaudhary.xyz/blog/typedef-annotation/\r\n  [2]: http://tools.android.com/tech-docs/support-annotations\r\n  [3]: https://developer.android.com/reference/android/support/annotation/package-summary.html","title":"Which @NotNull Java annotation should I use?","body":"<h1>Android</h1>\n\n<p>This answer is Android specific. Android has support package called <code>support-annotations</code>. This provides <a href=\"https://developer.android.com/reference/android/support/annotation/package-summary.html\" rel=\"noreferrer\">dozens</a> of <a href=\"http://tools.android.com/tech-docs/support-annotations\" rel=\"noreferrer\">Android specific</a> annotations and also provides <a href=\"http://shubham.chaudhary.xyz/blog/typedef-annotation/\" rel=\"noreferrer\">common ones</a> like <code>NonNull</code>, <code>Nullable</code> etc.</p>\n\n<p>To add <em>support-annotations</em> package, add the following dependency in your build.gradle:</p>\n\n<pre><code>compile 'com.android.support:support-annotations:23.1.1'\n</code></pre>\n\n<p>and then use:</p>\n\n<pre><code>import android.support.annotation.NonNull;\n\nvoid foobar(@NonNull Foo bar) {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":235236,"reputation":372,"user_id":501913,"display_name":"Mozart Brocchini"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1642356037,"creation_date":1462374219,"answer_id":37031539,"question_id":4963300,"body_markdown":"There is another way to do this in Java 8.\r\nI am doing 2 things to accomplish what I needed:\r\n\r\n 1. Making nullable fields explicit with types by wrapping nullable fields with `java.util.Optional`\r\n 2. Checking that all non nullable fields are not null at construction time with `java.util.Objects.requireNonNull` \r\n\r\nExample:\r\n\r\nEdit: Disregard this 1st example, I&#39;m just leaving here as context of the comments conversation. Skip to recommended option after this (2nd code block). \r\n\r\n```\r\n    import static java.util.Objects.requireNonNull;\r\n\r\n    public class Role {\r\n\r\n      private final UUID guid;\r\n      private final String domain;\r\n      private final String name;\r\n      private final Optional&lt;String&gt; description;\r\n\r\n      public Role(UUID guid, String domain, String name, Optional&lt;String&gt; description) {\r\n        this.guid = requireNonNull(guid);\r\n        this.domain = requireNonNull(domain);\r\n        this.name = requireNonNull(name);\r\n        this.description = requireNonNull(description);\r\n      }\r\n   }\r\n```\r\n \r\nSo my question is, do we even need to annotate when using java 8? \r\n\r\nEdit: I found out later that some consider a bad practice to use `Optional` in arguments, there is a good discussion with pros and cons here https://stackoverflow.com/questions/31922866/why-should-java-8s-optional-not-be-used-in-arguments\r\n\r\nRecommended option given that it is not best practice to use Optional in arguments, we need 2 constructors:\r\n```\r\npublic class Role {\r\n      \r\n      // Required fields, will not be null (unless using reflection) \r\n      private final UUID guid;\r\n      private final String domain;\r\n      private final String name;\r\n      // Optional field, not null but can be empty\r\n      private final Optional&lt;String&gt; description;\r\n\r\n  //Non null description\r\n  public Role(UUID guid, String domain, String name, String description) {\r\n        this.guid = requireNonNull(guid);\r\n        this.domain = requireNonNull(domain);\r\n        this.name = requireNonNull(name);\r\n\r\n        // description will never be null\r\n        requireNonNull(description);\r\n\r\n        // but wrapped with an Optional\r\n        this.description = Optional.of(description);\r\n      }\r\n\r\n  // Null description is assigned to Optional.empty\r\n  public Role(UUID guid, String domain, String name) {\r\n        this.guid = requireNonNull(guid);\r\n        this.domain = requireNonNull(domain);\r\n        this.name = requireNonNull(name);\r\n        this.description = Optional.empty();\r\n      }\r\n  //Note that this accessor is not a getter.\r\n  //I decided not to use the &quot;get&quot; suffix to distinguish from &quot;normal&quot; getters \r\n  public Optional&lt;String&gt; description(){ return description;} \r\n }\r\n```\r\n","title":"Which @NotNull Java annotation should I use?","body":"<p>There is another way to do this in Java 8.\nI am doing 2 things to accomplish what I needed:</p>\n<ol>\n<li>Making nullable fields explicit with types by wrapping nullable fields with <code>java.util.Optional</code></li>\n<li>Checking that all non nullable fields are not null at construction time with <code>java.util.Objects.requireNonNull</code></li>\n</ol>\n<p>Example:</p>\n<p>Edit: Disregard this 1st example, I'm just leaving here as context of the comments conversation. Skip to recommended option after this (2nd code block).</p>\n<pre><code>    import static java.util.Objects.requireNonNull;\n\n    public class Role {\n\n      private final UUID guid;\n      private final String domain;\n      private final String name;\n      private final Optional&lt;String&gt; description;\n\n      public Role(UUID guid, String domain, String name, Optional&lt;String&gt; description) {\n        this.guid = requireNonNull(guid);\n        this.domain = requireNonNull(domain);\n        this.name = requireNonNull(name);\n        this.description = requireNonNull(description);\n      }\n   }\n</code></pre>\n<p>So my question is, do we even need to annotate when using java 8?</p>\n<p>Edit: I found out later that some consider a bad practice to use <code>Optional</code> in arguments, there is a good discussion with pros and cons here <a href=\"https://stackoverflow.com/questions/31922866/why-should-java-8s-optional-not-be-used-in-arguments\">Why should Java 8&#39;s Optional not be used in arguments</a></p>\n<p>Recommended option given that it is not best practice to use Optional in arguments, we need 2 constructors:</p>\n<pre><code>public class Role {\n      \n      // Required fields, will not be null (unless using reflection) \n      private final UUID guid;\n      private final String domain;\n      private final String name;\n      // Optional field, not null but can be empty\n      private final Optional&lt;String&gt; description;\n\n  //Non null description\n  public Role(UUID guid, String domain, String name, String description) {\n        this.guid = requireNonNull(guid);\n        this.domain = requireNonNull(domain);\n        this.name = requireNonNull(name);\n\n        // description will never be null\n        requireNonNull(description);\n\n        // but wrapped with an Optional\n        this.description = Optional.of(description);\n      }\n\n  // Null description is assigned to Optional.empty\n  public Role(UUID guid, String domain, String name) {\n        this.guid = requireNonNull(guid);\n        this.domain = requireNonNull(domain);\n        this.name = requireNonNull(name);\n        this.description = Optional.empty();\n      }\n  //Note that this accessor is not a getter.\n  //I decided not to use the &quot;get&quot; suffix to distinguish from &quot;normal&quot; getters \n  public Optional&lt;String&gt; description(){ return description;} \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1570498403,"creation_date":1484914947,"answer_id":41763613,"question_id":4963300,"body_markdown":"Distinguish between static analysis and runtime analysis. Use static analysis for internal stuff, and runtime analysis for the public boundaries of your code.\r\n\r\nFor things that should not be null:\r\n\r\n - Runtime check: Use &quot;if (x == null) ...&quot; (zero dependency) or @javax.validation.NotNull (with bean validation) or @lombok.NonNull (plain and simple) or guavas Preconditions.checkNotNull(...)\r\n- Use Optional for method return types (only). Either Java8 or Guava.\r\n\r\n - Static check: Use an @NonNull annotation\r\n - Where it fits, use  @...NonnullByDefault annotations on class or package level. Create these annotations yourself (examples are easy to find).\r\n- Else, use @...CheckForNull on method returns to avoid NPEs\r\n\r\nThis should give the best result: warnings in the IDE, errors by Findbugs and checkerframework, meaningful runtime exceptions.\r\n\r\nDo not expect static checks to be mature, their naming is not standardized and different libraries and IDEs treat them differently, ignore them. The JSR305 javax.annotations.* classes look like standard, but they are not, and they cause split packages with Java9+.\r\n\r\n\r\nSome notes explanations:\r\n\r\n- Findbugs/spotbugs/jsr305 annotations with package javax.validation.* clash with other modules in Java9+, also possibly violate Oracle license\r\n- Spotbugs annotations still depends on jsr305/findbugs annotations at compiletime (at the time of writing https://github.com/spotbugs/spotbugs/issues/421)\r\n- jetbrains @NotNull name conflicts with @javax.validation.NotNull.\r\n- jetbrains, eclipse or checkersframework annotations for static checking have the advantage over javax.annotations that they do not clash with other modules in Java9 and higher\r\n- @javax.annotations.Nullable does not mean to Findbugs/Spotbugs what you (or your IDE) think it means. Findbugs will ignore it (on members). Sad, but true (https://sourceforge.net/p/findbugs/bugs/1181)\r\n- For static checking outside an IDE, 2 free tools exist: Spotbugs(formerly Findbugs) and checkersframework.\r\n- The Eclipse library has @NonNullByDefault, jsr305 only has @ParametersAreNonnullByDefault. Those are mere convenience wrappers applying base annotations to everything in a package (or class), you can easily create your own. This can be used on package. This may conflict with generated code (e.g. lombok).\r\n- Using lombok as an exported dependency should be avoided for libraries that you share with other people, the less transitive dependencies, the better\r\n- Using Bean validation framework is powerful, but requires high overhead, so that&#39;s overkill just to avoid manual null checking.\r\n- Using Optional for fields and method parameters is controversial (you can find articles about it easily)\r\n- Android null annotations are part of the Android support library, they come with a whole lot of other classes, and don&#39;t play nicely with other annotations/tools\r\n\r\nBefore Java9, this is my recommendation:\r\n\r\n    // file: package-info.java\r\n    @javax.annotation.ParametersAreNonnullByDefault\r\n    package example;\r\n\r\n\r\n    // file: PublicApi\r\n    package example;\r\n\r\n    public interface PublicApi {\r\n\r\n        Person createPerson(\r\n            // NonNull by default due to package-info.java above\r\n            String firstname,\r\n            String lastname);\r\n    }\r\n\r\n    // file: PublicApiImpl\r\n    public class PublicApiImpl implements PublicApi {\r\n        public Person createPerson(\r\n                // In Impl, handle cases where library users still pass null\r\n                @Nullable String firstname, // Users  might send null\r\n                @Nullable String lastname // Users might send null\r\n                ) {\r\n            if (firstname == null) throw new IllagalArgumentException(...);\r\n            if (lastname == null) throw new IllagalArgumentException(...);\r\n            return doCreatePerson(fistname, lastname, nickname);\r\n        }\r\n\r\n        @NonNull // Spotbugs checks that method cannot return null\r\n        private Person doCreatePerson(\r\n                 String firstname, // Spotbugs checks null cannot be passed, because package has ParametersAreNonnullByDefault\r\n                 String lastname,\r\n                 @Nullable String nickname // tell Spotbugs null is ok\r\n                 ) {\r\n             return new Person(firstname, lastname, nickname);\r\n        }\r\n\r\n        @CheckForNull // Do not use @Nullable here, Spotbugs will ignore it, though IDEs respect it\r\n        private Person getNickname(\r\n             String firstname,\r\n             String lastname) {\r\n             return NICKNAMES.get(firstname + &#39;:&#39; + lastname);\r\n        }\r\n    }\r\n\r\nNote that there is no way to make Spotbugs raise a warning when a nullable method parameter is dereferenced (at the time of writing, version 3.1 of Spotbugs). Maybe checkerframework can do that.\r\n\r\nSadly these annotations do not distinguish between the cases of a public method of a library with arbitrary callsites, and non-public methods where each callsite can be known. So the double meaning of: &quot;Indicate that null is undesired, but prepare for null being passed nevertheless&quot; is not possible in a single declaration, hence the above example has different annotations for the interface and the implementation.\r\n\r\nFor cases where the split interface approach is not practical, the following approach is a compromise:\r\n```\r\n        public Person createPerson(\r\n                @NonNull String firstname,\r\n                @NonNull String lastname\r\n                ) {\r\n            // even though parameters annotated as NonNull, library clients might call with null.\r\n            if (firstname == null) throw new IllagalArgumentException(...);\r\n            if (lastname == null) throw new IllagalArgumentException(...);\r\n            return doCreatePerson(fistname, lastname, nickname);\r\n        }\r\n```\r\nThis helps clients to not pass null (writing correct code), while returning useful errors if they do.","title":"Which @NotNull Java annotation should I use?","body":"<p>Distinguish between static analysis and runtime analysis. Use static analysis for internal stuff, and runtime analysis for the public boundaries of your code.</p>\n\n<p>For things that should not be null:</p>\n\n<ul>\n<li><p>Runtime check: Use \"if (x == null) ...\" (zero dependency) or @javax.validation.NotNull (with bean validation) or @lombok.NonNull (plain and simple) or guavas Preconditions.checkNotNull(...)</p>\n\n<ul>\n<li>Use Optional for method return types (only). Either Java8 or Guava.</li>\n</ul></li>\n<li><p>Static check: Use an @NonNull annotation</p></li>\n<li>Where it fits, use  @...NonnullByDefault annotations on class or package level. Create these annotations yourself (examples are easy to find).\n\n<ul>\n<li>Else, use @...CheckForNull on method returns to avoid NPEs</li>\n</ul></li>\n</ul>\n\n<p>This should give the best result: warnings in the IDE, errors by Findbugs and checkerframework, meaningful runtime exceptions.</p>\n\n<p>Do not expect static checks to be mature, their naming is not standardized and different libraries and IDEs treat them differently, ignore them. The JSR305 javax.annotations.* classes look like standard, but they are not, and they cause split packages with Java9+.</p>\n\n<p>Some notes explanations:</p>\n\n<ul>\n<li>Findbugs/spotbugs/jsr305 annotations with package javax.validation.* clash with other modules in Java9+, also possibly violate Oracle license</li>\n<li>Spotbugs annotations still depends on jsr305/findbugs annotations at compiletime (at the time of writing <a href=\"https://github.com/spotbugs/spotbugs/issues/421\" rel=\"noreferrer\">https://github.com/spotbugs/spotbugs/issues/421</a>)</li>\n<li>jetbrains @NotNull name conflicts with @javax.validation.NotNull.</li>\n<li>jetbrains, eclipse or checkersframework annotations for static checking have the advantage over javax.annotations that they do not clash with other modules in Java9 and higher</li>\n<li>@javax.annotations.Nullable does not mean to Findbugs/Spotbugs what you (or your IDE) think it means. Findbugs will ignore it (on members). Sad, but true (<a href=\"https://sourceforge.net/p/findbugs/bugs/1181\" rel=\"noreferrer\">https://sourceforge.net/p/findbugs/bugs/1181</a>)</li>\n<li>For static checking outside an IDE, 2 free tools exist: Spotbugs(formerly Findbugs) and checkersframework.</li>\n<li>The Eclipse library has @NonNullByDefault, jsr305 only has @ParametersAreNonnullByDefault. Those are mere convenience wrappers applying base annotations to everything in a package (or class), you can easily create your own. This can be used on package. This may conflict with generated code (e.g. lombok).</li>\n<li>Using lombok as an exported dependency should be avoided for libraries that you share with other people, the less transitive dependencies, the better</li>\n<li>Using Bean validation framework is powerful, but requires high overhead, so that's overkill just to avoid manual null checking.</li>\n<li>Using Optional for fields and method parameters is controversial (you can find articles about it easily)</li>\n<li>Android null annotations are part of the Android support library, they come with a whole lot of other classes, and don't play nicely with other annotations/tools</li>\n</ul>\n\n<p>Before Java9, this is my recommendation:</p>\n\n<pre><code>// file: package-info.java\n@javax.annotation.ParametersAreNonnullByDefault\npackage example;\n\n\n// file: PublicApi\npackage example;\n\npublic interface PublicApi {\n\n    Person createPerson(\n        // NonNull by default due to package-info.java above\n        String firstname,\n        String lastname);\n}\n\n// file: PublicApiImpl\npublic class PublicApiImpl implements PublicApi {\n    public Person createPerson(\n            // In Impl, handle cases where library users still pass null\n            @Nullable String firstname, // Users  might send null\n            @Nullable String lastname // Users might send null\n            ) {\n        if (firstname == null) throw new IllagalArgumentException(...);\n        if (lastname == null) throw new IllagalArgumentException(...);\n        return doCreatePerson(fistname, lastname, nickname);\n    }\n\n    @NonNull // Spotbugs checks that method cannot return null\n    private Person doCreatePerson(\n             String firstname, // Spotbugs checks null cannot be passed, because package has ParametersAreNonnullByDefault\n             String lastname,\n             @Nullable String nickname // tell Spotbugs null is ok\n             ) {\n         return new Person(firstname, lastname, nickname);\n    }\n\n    @CheckForNull // Do not use @Nullable here, Spotbugs will ignore it, though IDEs respect it\n    private Person getNickname(\n         String firstname,\n         String lastname) {\n         return NICKNAMES.get(firstname + ':' + lastname);\n    }\n}\n</code></pre>\n\n<p>Note that there is no way to make Spotbugs raise a warning when a nullable method parameter is dereferenced (at the time of writing, version 3.1 of Spotbugs). Maybe checkerframework can do that.</p>\n\n<p>Sadly these annotations do not distinguish between the cases of a public method of a library with arbitrary callsites, and non-public methods where each callsite can be known. So the double meaning of: \"Indicate that null is undesired, but prepare for null being passed nevertheless\" is not possible in a single declaration, hence the above example has different annotations for the interface and the implementation.</p>\n\n<p>For cases where the split interface approach is not practical, the following approach is a compromise:</p>\n\n<pre><code>        public Person createPerson(\n                @NonNull String firstname,\n                @NonNull String lastname\n                ) {\n            // even though parameters annotated as NonNull, library clients might call with null.\n            if (firstname == null) throw new IllagalArgumentException(...);\n            if (lastname == null) throw new IllagalArgumentException(...);\n            return doCreatePerson(fistname, lastname, nickname);\n        }\n</code></pre>\n\n<p>This helps clients to not pass null (writing correct code), while returning useful errors if they do.</p>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1509101539,"creation_date":1486397059,"answer_id":42072129,"question_id":4963300,"body_markdown":"If you are working on a big project, you may be better of creating **your own** `@Nullable` and/or `@NotNull` annotations.\n\nFor example:\n\n    @java.lang.annotation.Documented\n    @java.lang.annotation.Retention(java.lang.annotation.RetentionPolicy.CLASS)\n    @java.lang.annotation.Target({java.lang.annotation.ElementType.FIELD,\n                                  java.lang.annotation.ElementType.METHOD,    \n                                  java.lang.annotation.ElementType.PARAMETER,\n                                  java.lang.annotation.ElementType.LOCAL_VARIABLE})\n    public @interface Nullable \n    {\n    }\n\nIf you use the correct [retention policy][1], then the annotations **won&#39;t be available at runtime**. From that point of view, it is just an **internal** thing. \n\nEven though this is not a strict science, I think it makes most sense to use an **internal** class for it.\n\n - It is an internal thing. (no functional or technical impact)\n - With many many many usages.\n - IDE&#39;s like IntelliJ support custom `@Nullable`/`@NotNull` annotations.\n - Most frameworks prefer to use their own internal version as well.\n\n# Additional Questions (see comments): #\n**How to configure this in IntelliJ ?**\n\n&gt; Click the &quot;police officer&quot; in the lower right corner of the IntelliJ status bar. And click &quot;Configure inspections&quot; in the popup. Next ...\n[![configure annotations][2]][2]\n\n\n  [1]: https://stackoverflow.com/questions/5971234/retentionpolicy-class-vs-runtime\n  [2]: https://i.stack.imgur.com/O2qBp.jpg","title":"Which @NotNull Java annotation should I use?","body":"<p>If you are working on a big project, you may be better of creating <strong>your own</strong> <code>@Nullable</code> and/or <code>@NotNull</code> annotations.</p>\n<p>For example:</p>\n<pre><code>@java.lang.annotation.Documented\n@java.lang.annotation.Retention(java.lang.annotation.RetentionPolicy.CLASS)\n@java.lang.annotation.Target({java.lang.annotation.ElementType.FIELD,\n                              java.lang.annotation.ElementType.METHOD,    \n                              java.lang.annotation.ElementType.PARAMETER,\n                              java.lang.annotation.ElementType.LOCAL_VARIABLE})\npublic @interface Nullable \n{\n}\n</code></pre>\n<p>If you use the correct <a href=\"https://stackoverflow.com/questions/5971234/retentionpolicy-class-vs-runtime\">retention policy</a>, then the annotations <strong>won't be available at runtime</strong>. From that point of view, it is just an <strong>internal</strong> thing.</p>\n<p>Even though this is not a strict science, I think it makes most sense to use an <strong>internal</strong> class for it.</p>\n<ul>\n<li>It is an internal thing. (no functional or technical impact)</li>\n<li>With many many many usages.</li>\n<li>IDE's like IntelliJ support custom <code>@Nullable</code>/<code>@NotNull</code> annotations.</li>\n<li>Most frameworks prefer to use their own internal version as well.</li>\n</ul>\n<h1>Additional Questions (see comments):</h1>\n<p><strong>How to configure this in IntelliJ ?</strong></p>\n<blockquote>\n<p>Click the &quot;police officer&quot; in the lower right corner of the IntelliJ status bar. And click &quot;Configure inspections&quot; in the popup. Next ...\n<a href=\"https://i.stack.imgur.com/O2qBp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O2qBp.jpg\" alt=\"configure annotations\" /></a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":30948,"reputation":16128,"user_id":84671,"accept_rate":91,"display_name":"Ludwig Weinzierl"},"down_vote_count":7,"up_vote_count":430,"is_accepted":false,"score":423,"last_activity_date":1661371232,"creation_date":1489062040,"answer_id":42695253,"question_id":4963300,"body_markdown":"Since [JSR 305][1] (whose goal was to standardize `@NonNull` and `@Nullable`) has been dormant for several years, I&#39;m afraid there is no good answer. All we can do is to find a pragmatic solution and mine is as follows:\r\n\r\nSyntax\r\n------\r\n\r\nFrom a purely stylistic standpoint I would like to avoid any reference to IDE, framework or any toolkit except Java itself.\r\n\r\nThis rules out:\r\n\r\n - `android.support.annotation`\r\n - `edu.umd.cs.findbugs.annotations`\r\n - `org.eclipse.jdt.annotation`\r\n - `org.jetbrains.annotations`\r\n - `org.checkerframework.checker.nullness.qual`\r\n - `lombok.NonNull`\r\n\r\n\r\nWhich leaves us with either `javax.validation.constraints` or `javax.annotation`.\r\nThe former comes with JEE. If this is better than `javax.annotation`, which  might come eventually with JSE or never at all, is a matter of debate.\r\nI personally prefer `javax.annotation` because I wouldn&#39;t like the JEE dependency.\r\n\r\nThis leaves us with\r\n\r\n**`javax.annotation`**\r\n\r\nwhich is also the shortest one.\r\n\r\nThere is only one syntax which would even be better: `java.annotation.Nullable`. As other packages graduated\r\nfrom `javax` to `java` in the past, the javax.annotation would\r\nbe a step in the right direction.\r\n\r\nImplementation\r\n--------------\r\n\r\nI was hoping that they all have basically the same trivial implementation,\r\nbut a detailed analysis showed that this is not true.\r\n\r\nFirst for the similarities:\r\n\r\nThe `@NonNull` annotations all have the line \r\n\r\n    public @interface NonNull {}\r\n\r\nexcept for \r\n\r\n- `org.jetbrains.annotations` which calls it `@NotNull` and has a trivial implementation\r\n- `javax.annotation` which has a longer implementation\r\n- `javax.validation.constraints` which also calls it `@NotNull` and has an implementation\r\n\r\nThe `@Nullable `annotations all have the line\r\n\r\n    public @interface Nullable {}\r\n\r\nexcept for (again) the `org.jetbrains.annotations` with their trivial implementation.\r\n\r\nFor the differences:\r\n\r\nA striking one is that\r\n\r\n- `javax.annotation`\r\n- `javax.validation.constraints`\r\n- `org.checkerframework.checker.nullness.qual`\r\n\r\nall have runtime annotations (`@Retention(RUNTIME)`), while\r\n\r\n- `android.support.annotation`\r\n- `edu.umd.cs.findbugs.annotations`\r\n- `org.eclipse.jdt.annotation`\r\n- `org.jetbrains.annotations`\r\n\r\nare only compile time (`@Retention(CLASS)`).\r\n\r\nAs described in [this SO answer][2] the impact of runtime annotations\r\nis smaller than one might think, but they have the benefit\r\nof enabling tools to do runtime checks in addition to the\r\ncompile time ones. \r\n\r\nAnother important difference is *where* in the code the annotations can be used.\r\nThere are two different approaches. Some packages use JLS 9.6.4.1 style contexts. The following table gives an overview:\r\n\r\n| Package                         | FIELD | METHOD | PARAMETER | LOCAL_VARIABLE |\r\n|---------------------------------|-------|--------|-----------|----------------|\r\n| android.support.annotation      | ✔️    | ✔️     | ✔️        |                |\r\n| edu.umd.cs.findbugs.annotations | ✔️    | ✔️     | ✔️        | ✔️             |\r\n| org.jetbrains.annotation        | ✔️    | ✔️     | ✔️        | ✔️             |\r\n| lombok                          | ✔️    | ✔️     | ✔️        | ✔️             |\r\n| javax.validation.constraints    | ✔️    | ✔️     | ✔️        |                |\r\n\r\n`org.eclipse.jdt.annotation`, `javax.annotation` and `org.checkerframework.checker.nullness.qual` use the contexts defined in \r\n[JLS 4.11](https://docs.oracle.com/javase/specs/jls/se18/html/jls-4.html#jls-4.11), which is in my opinion the right way to do it.\r\n\r\nThis leaves us with \r\n\r\n - **`javax.annotation`**\r\n - **`org.checkerframework.checker.nullness.qual`**\r\n\r\nin this round.\r\n\r\nCode\r\n----\r\n\r\nTo help you to compare further details yourself I list the code of every annotation below.\r\nTo make comparison easier I removed comments, imports and the `@Documented` annotation.\r\n(they all had `@Documented` except for the classes from the Android package).\r\nI reordered the lines and `@Target` fields and normalized the qualifications.\r\n\r\n    package android.support.annotation;\r\n    @Retention(CLASS)\r\n    @Target({FIELD, METHOD, PARAMETER})\r\n    public @interface NonNull {}\r\n\r\n----------\r\n\r\n    package edu.umd.cs.findbugs.annotations;\r\n    @Retention(CLASS)\r\n    @Target({FIELD, METHOD, PARAMETER, LOCAL_VARIABLE})\r\n    public @interface NonNull {}\r\n\r\n----------\r\n\r\n    package org.eclipse.jdt.annotation;\r\n    @Retention(CLASS)\r\n    @Target({ TYPE_USE })\r\n    public @interface NonNull {}\r\n\r\n----------\r\n\r\n    package org.jetbrains.annotations;\r\n    @Retention(CLASS)\r\n    @Target({FIELD, METHOD, PARAMETER, LOCAL_VARIABLE})\r\n    public @interface NotNull {String value() default &quot;&quot;;}\r\n\r\n----------\r\n\r\n    package javax.annotation;\r\n    @TypeQualifier\r\n    @Retention(RUNTIME)\r\n    public @interface Nonnull {\r\n        When when() default When.ALWAYS;\r\n        static class Checker implements TypeQualifierValidator&lt;Nonnull&gt; {\r\n            public When forConstantValue(Nonnull qualifierqualifierArgument,\r\n                    Object value) {\r\n                if (value == null)\r\n                    return When.NEVER;\r\n                return When.ALWAYS;\r\n            }\r\n        }\r\n    }\r\n\r\n----------\r\n\r\n    package org.checkerframework.checker.nullness.qual;\r\n    @Retention(RUNTIME)\r\n    @Target({TYPE_USE, TYPE_PARAMETER})\r\n    @SubtypeOf(MonotonicNonNull.class)\r\n    @ImplicitFor(\r\n        types = {\r\n            TypeKind.PACKAGE,\r\n            TypeKind.INT,\r\n            TypeKind.BOOLEAN,\r\n            TypeKind.CHAR,\r\n            TypeKind.DOUBLE,\r\n            TypeKind.FLOAT,\r\n            TypeKind.LONG,\r\n            TypeKind.SHORT,\r\n            TypeKind.BYTE\r\n        },\r\n        literals = {LiteralKind.STRING}\r\n    )\r\n    @DefaultQualifierInHierarchy\r\n    @DefaultFor({TypeUseLocation.EXCEPTION_PARAMETER})\r\n    @DefaultInUncheckedCodeFor({TypeUseLocation.PARAMETER, TypeUseLocation.LOWER_BOUND})\r\n    public @interface NonNull {}\r\n\r\n----------\r\n\r\nFor completeness, here are the `@Nullable` implementations:\r\n\r\n    package android.support.annotation;\r\n    @Retention(CLASS)\r\n    @Target({METHOD, PARAMETER, FIELD})\r\n    public @interface Nullable {}\r\n\r\n----------\r\n\r\n    package edu.umd.cs.findbugs.annotations;\r\n    @Target({FIELD, METHOD, PARAMETER, LOCAL_VARIABLE})\r\n    @Retention(CLASS)\r\n    public @interface Nullable {}\r\n\r\n----------\r\n\r\n    package org.eclipse.jdt.annotation;\r\n    @Retention(CLASS)\r\n    @Target({ TYPE_USE })\r\n    public @interface Nullable {}\r\n\r\n----------\r\n\r\n    package org.jetbrains.annotations;\r\n    @Retention(CLASS)\r\n    @Target({FIELD, METHOD, PARAMETER, LOCAL_VARIABLE})\r\n    public @interface Nullable {String value() default &quot;&quot;;}\r\n\r\n----------\r\n\r\n    package javax.annotation;\r\n    @TypeQualifierNickname\r\n    @Nonnull(when = When.UNKNOWN)\r\n    @Retention(RUNTIME)\r\n    public @interface Nullable {}\r\n\r\n----------\r\n\r\n    package org.checkerframework.checker.nullness.qual;\r\n    @Retention(RUNTIME)\r\n    @Target({TYPE_USE, TYPE_PARAMETER})\r\n    @SubtypeOf({})\r\n    @ImplicitFor(\r\n        literals = {LiteralKind.NULL},\r\n        typeNames = {java.lang.Void.class}\r\n    )\r\n    @DefaultInUncheckedCodeFor({TypeUseLocation.RETURN, TypeUseLocation.UPPER_BOUND})\r\n    public @interface Nullable {}\r\n\r\nThe following two packages have no `@Nullable`, so I list them separately; Lombok has a pretty boring `@NonNull`.\r\nIn `javax.validation.constraints` the `@NonNull` is actually a `@NotNull`\r\nand it has a longish implementation.\r\n\r\n    package lombok;\r\n    @Retention(CLASS)\r\n    @Target({FIELD, METHOD, PARAMETER, LOCAL_VARIABLE})\r\n    public @interface NonNull {}\r\n\r\n----------\r\n\r\n    package javax.validation.constraints;\r\n    @Retention(RUNTIME)\r\n    @Target({ FIELD, METHOD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\r\n    @Constraint(validatedBy = {})\r\n    public @interface NotNull {\r\n    \tString message() default &quot;{javax.validation.constraints.NotNull.message}&quot;;\r\n    \tClass&lt;?&gt;[] groups() default { };\r\n    \tClass&lt;? extends Payload&gt;[] payload() default {};\r\n    \t@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\r\n    \t@Retention(RUNTIME)\r\n    \t@Documented\r\n    \t@interface List {\r\n    \t\tNotNull[] value();\r\n    \t}\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nSupport\r\n-------\r\nFrom my experience, `javax.annotation` is at least supported by Eclipse and the Checker Framework out of the box.\r\n\r\nSummary\r\n-------\r\n\r\nMy ideal annotation would be the `java.annotation` syntax with the Checker Framework implementation.\r\n\r\nIf you don&#39;t intend to use the Checker Framework the **`javax.annotation`** ([JSR-305][1]) is still your best bet for the time being.\r\n\r\nIf you are willing to buy into the Checker Framework just use\r\ntheir `org.checkerframework.checker.nullness.qual`.\r\n\r\n----------\r\n\r\nSources\r\n-------\r\n\r\n - `android.support.annotation` from `android-5.1.1_r1.jar`\r\n - `edu.umd.cs.findbugs.annotations` from `findbugs-annotations-1.0.0.jar`\r\n - `org.eclipse.jdt.annotation` from `org.eclipse.jdt.annotation_2.1.0.v20160418-1457.jar`\r\n - `org.jetbrains.annotations` from `jetbrains-annotations-13.0.jar`\r\n - `javax.annotation` from `gwt-dev-2.5.1-sources.jar`\r\n - `org.checkerframework.checker.nullness.qual` from `checker-framework-2.1.9.zip`\r\n - `lombok` from `lombok` commit `f6da35e4c4f3305ecd1b415e2ab1b9ef8a9120b4`\r\n - `javax.validation.constraints` from `validation-api-1.0.0.GA-sources.jar`\r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=305\r\n  [2]: https://stackoverflow.com/a/38978478/84671","title":"Which @NotNull Java annotation should I use?","body":"<p>Since <a href=\"https://jcp.org/en/jsr/detail?id=305\" rel=\"noreferrer\">JSR 305</a> (whose goal was to standardize <code>@NonNull</code> and <code>@Nullable</code>) has been dormant for several years, I'm afraid there is no good answer. All we can do is to find a pragmatic solution and mine is as follows:</p>\n<h2>Syntax</h2>\n<p>From a purely stylistic standpoint I would like to avoid any reference to IDE, framework or any toolkit except Java itself.</p>\n<p>This rules out:</p>\n<ul>\n<li><code>android.support.annotation</code></li>\n<li><code>edu.umd.cs.findbugs.annotations</code></li>\n<li><code>org.eclipse.jdt.annotation</code></li>\n<li><code>org.jetbrains.annotations</code></li>\n<li><code>org.checkerframework.checker.nullness.qual</code></li>\n<li><code>lombok.NonNull</code></li>\n</ul>\n<p>Which leaves us with either <code>javax.validation.constraints</code> or <code>javax.annotation</code>.\nThe former comes with JEE. If this is better than <code>javax.annotation</code>, which  might come eventually with JSE or never at all, is a matter of debate.\nI personally prefer <code>javax.annotation</code> because I wouldn't like the JEE dependency.</p>\n<p>This leaves us with</p>\n<p><strong><code>javax.annotation</code></strong></p>\n<p>which is also the shortest one.</p>\n<p>There is only one syntax which would even be better: <code>java.annotation.Nullable</code>. As other packages graduated\nfrom <code>javax</code> to <code>java</code> in the past, the javax.annotation would\nbe a step in the right direction.</p>\n<h2>Implementation</h2>\n<p>I was hoping that they all have basically the same trivial implementation,\nbut a detailed analysis showed that this is not true.</p>\n<p>First for the similarities:</p>\n<p>The <code>@NonNull</code> annotations all have the line</p>\n<pre><code>public @interface NonNull {}\n</code></pre>\n<p>except for</p>\n<ul>\n<li><code>org.jetbrains.annotations</code> which calls it <code>@NotNull</code> and has a trivial implementation</li>\n<li><code>javax.annotation</code> which has a longer implementation</li>\n<li><code>javax.validation.constraints</code> which also calls it <code>@NotNull</code> and has an implementation</li>\n</ul>\n<p>The <code>@Nullable </code>annotations all have the line</p>\n<pre><code>public @interface Nullable {}\n</code></pre>\n<p>except for (again) the <code>org.jetbrains.annotations</code> with their trivial implementation.</p>\n<p>For the differences:</p>\n<p>A striking one is that</p>\n<ul>\n<li><code>javax.annotation</code></li>\n<li><code>javax.validation.constraints</code></li>\n<li><code>org.checkerframework.checker.nullness.qual</code></li>\n</ul>\n<p>all have runtime annotations (<code>@Retention(RUNTIME)</code>), while</p>\n<ul>\n<li><code>android.support.annotation</code></li>\n<li><code>edu.umd.cs.findbugs.annotations</code></li>\n<li><code>org.eclipse.jdt.annotation</code></li>\n<li><code>org.jetbrains.annotations</code></li>\n</ul>\n<p>are only compile time (<code>@Retention(CLASS)</code>).</p>\n<p>As described in <a href=\"https://stackoverflow.com/a/38978478/84671\">this SO answer</a> the impact of runtime annotations\nis smaller than one might think, but they have the benefit\nof enabling tools to do runtime checks in addition to the\ncompile time ones.</p>\n<p>Another important difference is <em>where</em> in the code the annotations can be used.\nThere are two different approaches. Some packages use JLS 9.6.4.1 style contexts. The following table gives an overview:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Package</th>\n<th>FIELD</th>\n<th>METHOD</th>\n<th>PARAMETER</th>\n<th>LOCAL_VARIABLE</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>android.support.annotation</td>\n<td>✔️</td>\n<td>✔️</td>\n<td>✔️</td>\n<td></td>\n</tr>\n<tr>\n<td>edu.umd.cs.findbugs.annotations</td>\n<td>✔️</td>\n<td>✔️</td>\n<td>✔️</td>\n<td>✔️</td>\n</tr>\n<tr>\n<td>org.jetbrains.annotation</td>\n<td>✔️</td>\n<td>✔️</td>\n<td>✔️</td>\n<td>✔️</td>\n</tr>\n<tr>\n<td>lombok</td>\n<td>✔️</td>\n<td>✔️</td>\n<td>✔️</td>\n<td>✔️</td>\n</tr>\n<tr>\n<td>javax.validation.constraints</td>\n<td>✔️</td>\n<td>✔️</td>\n<td>✔️</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><code>org.eclipse.jdt.annotation</code>, <code>javax.annotation</code> and <code>org.checkerframework.checker.nullness.qual</code> use the contexts defined in\n<a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-4.html#jls-4.11\" rel=\"noreferrer\">JLS 4.11</a>, which is in my opinion the right way to do it.</p>\n<p>This leaves us with</p>\n<ul>\n<li><strong><code>javax.annotation</code></strong></li>\n<li><strong><code>org.checkerframework.checker.nullness.qual</code></strong></li>\n</ul>\n<p>in this round.</p>\n<h2>Code</h2>\n<p>To help you to compare further details yourself I list the code of every annotation below.\nTo make comparison easier I removed comments, imports and the <code>@Documented</code> annotation.\n(they all had <code>@Documented</code> except for the classes from the Android package).\nI reordered the lines and <code>@Target</code> fields and normalized the qualifications.</p>\n<pre><code>package android.support.annotation;\n@Retention(CLASS)\n@Target({FIELD, METHOD, PARAMETER})\npublic @interface NonNull {}\n</code></pre>\n<hr />\n<pre><code>package edu.umd.cs.findbugs.annotations;\n@Retention(CLASS)\n@Target({FIELD, METHOD, PARAMETER, LOCAL_VARIABLE})\npublic @interface NonNull {}\n</code></pre>\n<hr />\n<pre><code>package org.eclipse.jdt.annotation;\n@Retention(CLASS)\n@Target({ TYPE_USE })\npublic @interface NonNull {}\n</code></pre>\n<hr />\n<pre><code>package org.jetbrains.annotations;\n@Retention(CLASS)\n@Target({FIELD, METHOD, PARAMETER, LOCAL_VARIABLE})\npublic @interface NotNull {String value() default &quot;&quot;;}\n</code></pre>\n<hr />\n<pre><code>package javax.annotation;\n@TypeQualifier\n@Retention(RUNTIME)\npublic @interface Nonnull {\n    When when() default When.ALWAYS;\n    static class Checker implements TypeQualifierValidator&lt;Nonnull&gt; {\n        public When forConstantValue(Nonnull qualifierqualifierArgument,\n                Object value) {\n            if (value == null)\n                return When.NEVER;\n            return When.ALWAYS;\n        }\n    }\n}\n</code></pre>\n<hr />\n<pre><code>package org.checkerframework.checker.nullness.qual;\n@Retention(RUNTIME)\n@Target({TYPE_USE, TYPE_PARAMETER})\n@SubtypeOf(MonotonicNonNull.class)\n@ImplicitFor(\n    types = {\n        TypeKind.PACKAGE,\n        TypeKind.INT,\n        TypeKind.BOOLEAN,\n        TypeKind.CHAR,\n        TypeKind.DOUBLE,\n        TypeKind.FLOAT,\n        TypeKind.LONG,\n        TypeKind.SHORT,\n        TypeKind.BYTE\n    },\n    literals = {LiteralKind.STRING}\n)\n@DefaultQualifierInHierarchy\n@DefaultFor({TypeUseLocation.EXCEPTION_PARAMETER})\n@DefaultInUncheckedCodeFor({TypeUseLocation.PARAMETER, TypeUseLocation.LOWER_BOUND})\npublic @interface NonNull {}\n</code></pre>\n<hr />\n<p>For completeness, here are the <code>@Nullable</code> implementations:</p>\n<pre><code>package android.support.annotation;\n@Retention(CLASS)\n@Target({METHOD, PARAMETER, FIELD})\npublic @interface Nullable {}\n</code></pre>\n<hr />\n<pre><code>package edu.umd.cs.findbugs.annotations;\n@Target({FIELD, METHOD, PARAMETER, LOCAL_VARIABLE})\n@Retention(CLASS)\npublic @interface Nullable {}\n</code></pre>\n<hr />\n<pre><code>package org.eclipse.jdt.annotation;\n@Retention(CLASS)\n@Target({ TYPE_USE })\npublic @interface Nullable {}\n</code></pre>\n<hr />\n<pre><code>package org.jetbrains.annotations;\n@Retention(CLASS)\n@Target({FIELD, METHOD, PARAMETER, LOCAL_VARIABLE})\npublic @interface Nullable {String value() default &quot;&quot;;}\n</code></pre>\n<hr />\n<pre><code>package javax.annotation;\n@TypeQualifierNickname\n@Nonnull(when = When.UNKNOWN)\n@Retention(RUNTIME)\npublic @interface Nullable {}\n</code></pre>\n<hr />\n<pre><code>package org.checkerframework.checker.nullness.qual;\n@Retention(RUNTIME)\n@Target({TYPE_USE, TYPE_PARAMETER})\n@SubtypeOf({})\n@ImplicitFor(\n    literals = {LiteralKind.NULL},\n    typeNames = {java.lang.Void.class}\n)\n@DefaultInUncheckedCodeFor({TypeUseLocation.RETURN, TypeUseLocation.UPPER_BOUND})\npublic @interface Nullable {}\n</code></pre>\n<p>The following two packages have no <code>@Nullable</code>, so I list them separately; Lombok has a pretty boring <code>@NonNull</code>.\nIn <code>javax.validation.constraints</code> the <code>@NonNull</code> is actually a <code>@NotNull</code>\nand it has a longish implementation.</p>\n<pre><code>package lombok;\n@Retention(CLASS)\n@Target({FIELD, METHOD, PARAMETER, LOCAL_VARIABLE})\npublic @interface NonNull {}\n</code></pre>\n<hr />\n<pre><code>package javax.validation.constraints;\n@Retention(RUNTIME)\n@Target({ FIELD, METHOD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\n@Constraint(validatedBy = {})\npublic @interface NotNull {\n    String message() default &quot;{javax.validation.constraints.NotNull.message}&quot;;\n    Class&lt;?&gt;[] groups() default { };\n    Class&lt;? extends Payload&gt;[] payload() default {};\n    @Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\n    @Retention(RUNTIME)\n    @Documented\n    @interface List {\n        NotNull[] value();\n    }\n}\n</code></pre>\n<hr />\n<h2>Support</h2>\n<p>From my experience, <code>javax.annotation</code> is at least supported by Eclipse and the Checker Framework out of the box.</p>\n<h2>Summary</h2>\n<p>My ideal annotation would be the <code>java.annotation</code> syntax with the Checker Framework implementation.</p>\n<p>If you don't intend to use the Checker Framework the <strong><code>javax.annotation</code></strong> (<a href=\"https://jcp.org/en/jsr/detail?id=305\" rel=\"noreferrer\">JSR-305</a>) is still your best bet for the time being.</p>\n<p>If you are willing to buy into the Checker Framework just use\ntheir <code>org.checkerframework.checker.nullness.qual</code>.</p>\n<hr />\n<h2>Sources</h2>\n<ul>\n<li><code>android.support.annotation</code> from <code>android-5.1.1_r1.jar</code></li>\n<li><code>edu.umd.cs.findbugs.annotations</code> from <code>findbugs-annotations-1.0.0.jar</code></li>\n<li><code>org.eclipse.jdt.annotation</code> from <code>org.eclipse.jdt.annotation_2.1.0.v20160418-1457.jar</code></li>\n<li><code>org.jetbrains.annotations</code> from <code>jetbrains-annotations-13.0.jar</code></li>\n<li><code>javax.annotation</code> from <code>gwt-dev-2.5.1-sources.jar</code></li>\n<li><code>org.checkerframework.checker.nullness.qual</code> from <code>checker-framework-2.1.9.zip</code></li>\n<li><code>lombok</code> from <code>lombok</code> commit <code>f6da35e4c4f3305ecd1b415e2ab1b9ef8a9120b4</code></li>\n<li><code>javax.validation.constraints</code> from <code>validation-api-1.0.0.GA-sources.jar</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1496231901,"creation_date":1496231901,"answer_id":44284209,"question_id":4963300,"body_markdown":"If you are building your application using Spring Framework I would suggest using `javax.validation.constraints.NotNull` comming from [Beans Validation ][1] packaged in following dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThe main advantage of this annotation is that Spring provides support for both method parameters and class fields annotated with `javax.validation.constraints.NotNull`. All you need to do to enable support is:\r\n\r\n 1. supply the api jar for beans validation and jar with implementation of validator of jsr-303/jsr-349 annotations (which comes with Hibernate Validator 5.x dependency):\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n 2. provide MethodValidationPostProcessor to spring&#39;s context\r\n\r\n    \r\n          @Configuration\r\n          @ValidationConfig\r\n          public class ValidationConfig implements MyService {\r\n    \r\n                @Bean\r\n                public MethodValidationPostProcessor providePostProcessor() {\r\n                      return new MethodValidationPostProcessor()\r\n                }\r\n          }\r\n\r\n\r\n\r\n 3. finally you annotate your classes with Spring&#39;s [`org.springframework.validation.annotation.Validated`][2] and validation will be automatically handled by Spring.\r\n\r\nExample:\r\n\r\n    @Service\r\n    @Validated\r\n    public class MyServiceImpl implements MyService {\r\n    \r\n      @Override\r\n      public Something doSomething(@NotNull String myParameter) {\r\n    \t\t// No need to do something like assert myParameter != null\t\r\n      }\r\n    }\r\n\r\nWhen you try calling method doSomething and pass null as the parameter value, spring (by means of HibernateValidator) will throw `ConstraintViolationException`. No need for manuall work here.\r\n\r\nYou can also validate return values.\r\n\r\nAnother important benefit of `javax.validation.constraints.NotNull` comming for Beans Validation Framework is that at the moment it is still developed and new features are planned for new version 2.0.\r\n\r\nWhat about `@Nullable`? There is nothing like that in Beans Validation 1.1. Well, I could arguee that if you decide to use `@NotNull` than everything which is NOT annotated with `@NonNull` is effectively &quot;nullable&quot;, so the `@Nullable` annotation is useless.\r\n\r\n\r\n  [1]: http://beanvalidation.org &quot;Bean Validation framework&quot;\r\n  [2]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html &quot;Validated&quot;\r\n","title":"Which @NotNull Java annotation should I use?","body":"<p>If you are building your application using Spring Framework I would suggest using <code>javax.validation.constraints.NotNull</code> comming from <a href=\"http://beanvalidation.org\" rel=\"noreferrer\" title=\"Bean Validation framework\">Beans Validation </a> packaged in following dependency:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>The main advantage of this annotation is that Spring provides support for both method parameters and class fields annotated with <code>javax.validation.constraints.NotNull</code>. All you need to do to enable support is:</p>\n\n<ol>\n<li><p>supply the api jar for beans validation and jar with implementation of validator of jsr-303/jsr-349 annotations (which comes with Hibernate Validator 5.x dependency):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;5.4.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre></li>\n<li><p>provide MethodValidationPostProcessor to spring's context</p>\n\n<pre><code>  @Configuration\n  @ValidationConfig\n  public class ValidationConfig implements MyService {\n\n        @Bean\n        public MethodValidationPostProcessor providePostProcessor() {\n              return new MethodValidationPostProcessor()\n        }\n  }\n</code></pre></li>\n<li><p>finally you annotate your classes with Spring's <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html\" rel=\"noreferrer\" title=\"Validated\"><code>org.springframework.validation.annotation.Validated</code></a> and validation will be automatically handled by Spring.</p></li>\n</ol>\n\n<p>Example:</p>\n\n<pre><code>@Service\n@Validated\npublic class MyServiceImpl implements MyService {\n\n  @Override\n  public Something doSomething(@NotNull String myParameter) {\n        // No need to do something like assert myParameter != null  \n  }\n}\n</code></pre>\n\n<p>When you try calling method doSomething and pass null as the parameter value, spring (by means of HibernateValidator) will throw <code>ConstraintViolationException</code>. No need for manuall work here.</p>\n\n<p>You can also validate return values.</p>\n\n<p>Another important benefit of <code>javax.validation.constraints.NotNull</code> comming for Beans Validation Framework is that at the moment it is still developed and new features are planned for new version 2.0.</p>\n\n<p>What about <code>@Nullable</code>? There is nothing like that in Beans Validation 1.1. Well, I could arguee that if you decide to use <code>@NotNull</code> than everything which is NOT annotated with <code>@NonNull</code> is effectively \"nullable\", so the <code>@Nullable</code> annotation is useless.</p>\n"},{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1648392991,"creation_date":1531773829,"answer_id":51369839,"question_id":4963300,"body_markdown":"One of the nice things about IntelliJ is that you don&#39;t need to use their annotations. You can write your own, or you can use those of whatever other tool you like. You&#39;re not even limited to a single type. If you&#39;re using two libraries that use different `@NotNull` annotations, you can tell IntelliJ to use both of them. To do this, go to &quot;Configure Inspections&quot;, click on the &quot;Constant Conditions &amp; Exceptions&quot; inspection, and hit the &quot;Configure inspections&quot; button. I use the Nullness Checker wherever I can, so I set up IntelliJ to use those annotations, but you can make it work with whatever other tool you want. (I have no opinion on the other tools because I&#39;ve been using IntelliJ&#39;s inspections for years, and I love them.)","title":"Which @NotNull Java annotation should I use?","body":"<p>One of the nice things about IntelliJ is that you don't need to use their annotations. You can write your own, or you can use those of whatever other tool you like. You're not even limited to a single type. If you're using two libraries that use different <code>@NotNull</code> annotations, you can tell IntelliJ to use both of them. To do this, go to &quot;Configure Inspections&quot;, click on the &quot;Constant Conditions &amp; Exceptions&quot; inspection, and hit the &quot;Configure inspections&quot; button. I use the Nullness Checker wherever I can, so I set up IntelliJ to use those annotations, but you can make it work with whatever other tool you want. (I have no opinion on the other tools because I've been using IntelliJ's inspections for years, and I love them.)</p>\n"},{"tags":[],"owner":{"account_id":17287,"reputation":12605,"user_id":38557,"accept_rate":53,"display_name":"noamtm"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1559024659,"creation_date":1559024659,"answer_id":56336129,"question_id":4963300,"body_markdown":"There are already too many answers here, but (a) it&#39;s 2019, and there&#39;s still no &quot;standard&quot; `Nullable` and (b) no other answer references Kotlin.\r\n\r\nThe reference to Kotlin is important, because Kotlin is 100% interoperable with Java and it has a core Null Safety feature. When calling Java libraries, it can take advantage of those annotations to let Kotlin tools know if a Java API can accept or return `null`.\r\n\r\nAs far as I know, the only `Nullable` packages compatible with Kotlin are `org.jetbrains.annotations` and `android.support.annotation` (now `androidx.annotation`). The latter is only compatible with Android so it can&#39;t be used in non-Android JVM/Java/Kotlin projects. However, the JetBrains package works everywhere.\r\n\r\nSo if you develop Java packages that should also work in Android and Kotlin (and be supported by Android Studio and IntelliJ), your best choice is probably the JetBrains package.\r\n\r\nMaven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n        &lt;artifactId&gt;annotations-java5&lt;/artifactId&gt;\r\n        &lt;version&gt;15.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nGradle:\r\n\r\n    implementation &#39;org.jetbrains:annotations-java5:15.0&#39;\r\n\r\n","title":"Which @NotNull Java annotation should I use?","body":"<p>There are already too many answers here, but (a) it's 2019, and there's still no \"standard\" <code>Nullable</code> and (b) no other answer references Kotlin.</p>\n\n<p>The reference to Kotlin is important, because Kotlin is 100% interoperable with Java and it has a core Null Safety feature. When calling Java libraries, it can take advantage of those annotations to let Kotlin tools know if a Java API can accept or return <code>null</code>.</p>\n\n<p>As far as I know, the only <code>Nullable</code> packages compatible with Kotlin are <code>org.jetbrains.annotations</code> and <code>android.support.annotation</code> (now <code>androidx.annotation</code>). The latter is only compatible with Android so it can't be used in non-Android JVM/Java/Kotlin projects. However, the JetBrains package works everywhere.</p>\n\n<p>So if you develop Java packages that should also work in Android and Kotlin (and be supported by Android Studio and IntelliJ), your best choice is probably the JetBrains package.</p>\n\n<p>Maven:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n    &lt;artifactId&gt;annotations-java5&lt;/artifactId&gt;\n    &lt;version&gt;15.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Gradle:</p>\n\n<pre><code>implementation 'org.jetbrains:annotations-java5:15.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1954189,"reputation":37,"user_id":1757613,"display_name":"ken jarrad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589186384,"creation_date":1589186384,"answer_id":61725550,"question_id":4963300,"body_markdown":"Spring 5 has @NonNullApi at the package level. This seems like a convenient choice for a project that already has Spring dependencies. All fields, parameters and return values default to @NonNull and @Nullable can be applied in the few places that differ.\r\n\r\nFile package-info.java:\r\n```\r\n@org.springframework.lang.NonNullApi\r\npackage com.acme;\r\n```\r\n\r\nhttps://docs.spring.io/spring-data/commons/docs/current/reference/html/#repositories.nullability.annotations\r\n\r\n","title":"Which @NotNull Java annotation should I use?","body":"<p>Spring 5 has @NonNullApi at the package level. This seems like a convenient choice for a project that already has Spring dependencies. All fields, parameters and return values default to @NonNull and @Nullable can be applied in the few places that differ.</p>\n\n<p>File package-info.java:</p>\n\n<pre><code>@org.springframework.lang.NonNullApi\npackage com.acme;\n</code></pre>\n\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/reference/html/#repositories.nullability.annotations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/commons/docs/current/reference/html/#repositories.nullability.annotations</a></p>\n"},{"tags":[],"owner":{"account_id":165872,"reputation":12759,"user_id":389649,"display_name":"Cristan"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1668288515,"creation_date":1629882213,"answer_id":68919918,"question_id":4963300,"body_markdown":"[JSpecify][1] will be the way to go (when it&#39;s ready enough). In fact: [their presentation][2] actively links to this very question and specifies that their goal is for it to finally have a good answer.\r\n\r\nIt has major participants like Android, Guava and Kotlin.\r\n\r\n  [1]: https://jspecify.dev\r\n  [2]: https://drive.google.com/file/d/15wZ-cVPkfsNYzSez9WrAF4gEjWNzlDAD/view","title":"Which @NotNull Java annotation should I use?","body":"<p><a href=\"https://jspecify.dev\" rel=\"noreferrer\">JSpecify</a> will be the way to go (when it's ready enough). In fact: <a href=\"https://drive.google.com/file/d/15wZ-cVPkfsNYzSez9WrAF4gEjWNzlDAD/view\" rel=\"noreferrer\">their presentation</a> actively links to this very question and specifies that their goal is for it to finally have a good answer.</p>\n<p>It has major participants like Android, Guava and Kotlin.</p>\n"},{"tags":[],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1686409295,"creation_date":1634281373,"answer_id":69581011,"question_id":4963300,"body_markdown":"newer projects should probably use [jakarta.annotation-api](https://search.maven.org/artifact/jakarta.annotation/jakarta.annotation-api/2.1.0/jar) (`jakarta.annotation` package).  \r\nIt is linked from now read-only [javax.annotation repo](https://github.com/javaee/javax.annotation) and fits into the new jakarta ecosystem that aims to free the community from all the `javax` related headaches.","title":"Which @NotNull Java annotation should I use?","body":"<p>newer projects should probably use <a href=\"https://search.maven.org/artifact/jakarta.annotation/jakarta.annotation-api/2.1.0/jar\" rel=\"nofollow noreferrer\">jakarta.annotation-api</a> (<code>jakarta.annotation</code> package).<br />\nIt is linked from now read-only <a href=\"https://github.com/javaee/javax.annotation\" rel=\"nofollow noreferrer\">javax.annotation repo</a> and fits into the new jakarta ecosystem that aims to free the community from all the <code>javax</code> related headaches.</p>\n"},{"tags":[],"owner":{"account_id":5416397,"reputation":1423,"user_id":4311428,"display_name":"maxeh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635866779,"creation_date":1635866779,"answer_id":69812915,"question_id":4963300,"body_markdown":"If you are using Spring 5.x / SpringBoot 2.x you should definitely use the Spring annotations (org.springframework.lang), as they provide you a default package-wide null check with the annotations `@NonNullFields` and `@NonNullApi`. You will not even have a clash with other `NotNull/NonNull` annotations from other dependencies, as you are using `@NonNullFields/@NonNullApi`. The annotations must be used in a file called  package-info.java which is placed in the root directory of the package:\r\n\r\n    @NonNullFields\r\n    @NonNullApi\r\n    package org.company.test;\r\n\r\nTo exclude certain fields, parameters, or return values from the null check, just explicitly use the `@Nullable` annotation. Instead of using `@NonNullFields/@NonNullApi` you could also set `@NonNull` everywhere, but probably it is better to activate null checks with `@NonNullFields/@NonNullApi` by default and only do specific exceptions with `@Nullable`.\r\n\r\nThe IDE (Intellij) will highlight code that violates the null conditions. If set up correctly, every developer can assume that fields, parameters and return values must be not null, unless there is a `@Nullable` annotation. For more information check out this [article][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-null-safety-annotations","title":"Which @NotNull Java annotation should I use?","body":"<p>If you are using Spring 5.x / SpringBoot 2.x you should definitely use the Spring annotations (org.springframework.lang), as they provide you a default package-wide null check with the annotations <code>@NonNullFields</code> and <code>@NonNullApi</code>. You will not even have a clash with other <code>NotNull/NonNull</code> annotations from other dependencies, as you are using <code>@NonNullFields/@NonNullApi</code>. The annotations must be used in a file called  package-info.java which is placed in the root directory of the package:</p>\n<pre><code>@NonNullFields\n@NonNullApi\npackage org.company.test;\n</code></pre>\n<p>To exclude certain fields, parameters, or return values from the null check, just explicitly use the <code>@Nullable</code> annotation. Instead of using <code>@NonNullFields/@NonNullApi</code> you could also set <code>@NonNull</code> everywhere, but probably it is better to activate null checks with <code>@NonNullFields/@NonNullApi</code> by default and only do specific exceptions with <code>@Nullable</code>.</p>\n<p>The IDE (Intellij) will highlight code that violates the null conditions. If set up correctly, every developer can assume that fields, parameters and return values must be not null, unless there is a <code>@Nullable</code> annotation. For more information check out this <a href=\"https://www.baeldung.com/spring-null-safety-annotations\" rel=\"nofollow noreferrer\">article</a>.</p>\n"}],"owner":{"account_id":181844,"reputation":13581,"user_id":416130,"accept_rate":62,"display_name":"jaxzin"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412552,"favorite_count":0,"down_vote_count":0,"up_vote_count":1318,"answer_count":25,"score":1318,"last_activity_date":1697104673,"creation_date":1297375535,"question_id":4963300,"body_markdown":"I&#39;m looking to make my code more readable as well as use tooling like IDE code inspection and/or static code analysis (FindBugs and Sonar) to avoid NullPointerExceptions.  Many of the tools seem incompatible with each others&#39; `@NotNull`/`@NonNull`/`@Nonnull` annotation and listing all of them in my code would be terrible to read.  Any suggestions of which one is the &#39;best&#39;?  Here is the list of equivalent annotations I&#39;ve found:\r\n\r\n - **`javax.validation.constraints.NotNull`**  \r\n*Created for runtime validation, not static analysis.*  \r\n[documentation][1]\r\n\r\n - **`edu.umd.cs.findbugs.annotations.NonNull`**  \r\n*Used by [FindBugs][2] ([dead project][15]) and its successor [SpotBugs][14] static analysis and therefore Sonar (now [Sonarqube][3])*  \r\n[FindBugs documentation][4], [SpotBugs documentation][16]\r\n\r\n - **`javax.annotation.Nonnull`**  \r\n*This might work with FindBugs too, but [JSR-305][5] is inactive. (See also: [What is the status of JSR 305?][6])*\r\n[source][7]\r\n\r\n - **`org.jetbrains.annotations.NotNull`**  \r\n*Used by IntelliJ IDEA IDE for static analysis.*  \r\n[documentation][8]\r\n\r\n - **`lombok.NonNull`**  \r\n*Used to control code generation in [Project Lombok][9].*  \r\n*Placeholder annotation since there is no standard.*  \r\n[source][10], \r\n[documentation][11]\r\n\r\n - **`androidx.annotation.NonNull`**  \r\n*Marker annotation available in Android, provided by annotation package*  \r\n[documentation][12]\r\n\r\n - **`org.eclipse.jdt.annotation.NonNull`**  \r\n*Used by Eclipse for static code analysis*  \r\n[documentation][13]\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/6/api/javax/validation/constraints/NotNull.html\r\n  [2]: http://findbugs.sourceforge.net/\r\n  [3]: https://www.sonarqube.org/\r\n  [4]: http://findbugs.sourceforge.net/manual/annotations.html\r\n  [5]: https://jcp.org/en/jsr/detail?id=305\r\n  [6]: https://stackoverflow.com/questions/2289694/what-is-the-status-of-jsr-305\r\n  [7]: http://code.google.com/p/jsr-305/source/browse/trunk/ri/src/main/java/javax/annotation/Nonnull.java\r\n  [8]: https://www.jetbrains.com/help/idea/nullable-and-notnull-annotations.html\r\n  [9]: https://projectlombok.org/\r\n  [10]: https://github.com/rzwitserloot/lombok/blob/master/src/core/lombok/NonNull.java\r\n  [11]: https://projectlombok.org/features/NonNull.html\r\n  [12]: https://developer.android.com/reference/androidx/annotation/NonNull\r\n  [13]: http://help.eclipse.org/oxygen/topic/org.eclipse.jdt.doc.user/tasks/task-improve_code_quality.htm\r\n  [14]: https://spotbugs.github.io/\r\n  [15]: https://mailman.cs.umd.edu/pipermail/findbugs-discuss/2016-November/004321.html\r\n  [16]: https://spotbugs.readthedocs.io/en/stable/annotations.html","title":"Which @NotNull Java annotation should I use?","body":"<p>I'm looking to make my code more readable as well as use tooling like IDE code inspection and/or static code analysis (FindBugs and Sonar) to avoid NullPointerExceptions.  Many of the tools seem incompatible with each others' <code>@NotNull</code>/<code>@NonNull</code>/<code>@Nonnull</code> annotation and listing all of them in my code would be terrible to read.  Any suggestions of which one is the 'best'?  Here is the list of equivalent annotations I've found:</p>\n<ul>\n<li><p><strong><code>javax.validation.constraints.NotNull</code></strong><br />\n<em>Created for runtime validation, not static analysis.</em><br />\n<a href=\"http://download.oracle.com/javaee/6/api/javax/validation/constraints/NotNull.html\" rel=\"noreferrer\">documentation</a></p>\n</li>\n<li><p><strong><code>edu.umd.cs.findbugs.annotations.NonNull</code></strong><br />\n<em>Used by <a href=\"http://findbugs.sourceforge.net/\" rel=\"noreferrer\">FindBugs</a> (<a href=\"https://mailman.cs.umd.edu/pipermail/findbugs-discuss/2016-November/004321.html\" rel=\"noreferrer\">dead project</a>) and its successor <a href=\"https://spotbugs.github.io/\" rel=\"noreferrer\">SpotBugs</a> static analysis and therefore Sonar (now <a href=\"https://www.sonarqube.org/\" rel=\"noreferrer\">Sonarqube</a>)</em><br />\n<a href=\"http://findbugs.sourceforge.net/manual/annotations.html\" rel=\"noreferrer\">FindBugs documentation</a>, <a href=\"https://spotbugs.readthedocs.io/en/stable/annotations.html\" rel=\"noreferrer\">SpotBugs documentation</a></p>\n</li>\n<li><p><strong><code>javax.annotation.Nonnull</code></strong><br />\n<em>This might work with FindBugs too, but <a href=\"https://jcp.org/en/jsr/detail?id=305\" rel=\"noreferrer\">JSR-305</a> is inactive. (See also: <a href=\"https://stackoverflow.com/questions/2289694/what-is-the-status-of-jsr-305\">What is the status of JSR 305?</a>)</em>\n<a href=\"http://code.google.com/p/jsr-305/source/browse/trunk/ri/src/main/java/javax/annotation/Nonnull.java\" rel=\"noreferrer\">source</a></p>\n</li>\n<li><p><strong><code>org.jetbrains.annotations.NotNull</code></strong><br />\n<em>Used by IntelliJ IDEA IDE for static analysis.</em><br />\n<a href=\"https://www.jetbrains.com/help/idea/nullable-and-notnull-annotations.html\" rel=\"noreferrer\">documentation</a></p>\n</li>\n<li><p><strong><code>lombok.NonNull</code></strong><br />\n<em>Used to control code generation in <a href=\"https://projectlombok.org/\" rel=\"noreferrer\">Project Lombok</a>.</em><br />\n<em>Placeholder annotation since there is no standard.</em><br />\n<a href=\"https://github.com/rzwitserloot/lombok/blob/master/src/core/lombok/NonNull.java\" rel=\"noreferrer\">source</a>,\n<a href=\"https://projectlombok.org/features/NonNull.html\" rel=\"noreferrer\">documentation</a></p>\n</li>\n<li><p><strong><code>androidx.annotation.NonNull</code></strong><br />\n<em>Marker annotation available in Android, provided by annotation package</em><br />\n<a href=\"https://developer.android.com/reference/androidx/annotation/NonNull\" rel=\"noreferrer\">documentation</a></p>\n</li>\n<li><p><strong><code>org.eclipse.jdt.annotation.NonNull</code></strong><br />\n<em>Used by Eclipse for static code analysis</em><br />\n<a href=\"http://help.eclipse.org/oxygen/topic/org.eclipse.jdt.doc.user/tasks/task-improve_code_quality.htm\" rel=\"noreferrer\">documentation</a></p>\n</li>\n</ul>\n"},{"tags":["java","rabbitmq"],"comments":[{"owner":{"account_id":2643114,"reputation":972,"user_id":2286380,"accept_rate":75,"display_name":"smajlo"},"score":0,"creation_date":1696930811,"post_id":77263905,"comment_id":136212471,"body_markdown":"What web container are you using? If it&#39;s Spring you&#39;ll have to use `@Predestroy` https://www.baeldung.com/spring-postconstruct-predestroy","body":"What web container are you using? If it&#39;s Spring you&#39;ll have to use <code>@Predestroy</code> <a href=\"https://www.baeldung.com/spring-postconstruct-predestroy\" rel=\"nofollow noreferrer\">baeldung.com/spring-postconstruct-predestroy</a>"},{"owner":{"account_id":29638269,"reputation":1,"user_id":22714998,"display_name":"Rajesh Thatikonda"},"score":0,"creation_date":1697104660,"post_id":77263905,"comment_id":136238785,"body_markdown":"I have updated the question, Can you please check","body":"I have updated the question, Can you please check"},{"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"score":0,"creation_date":1697190206,"post_id":77263905,"comment_id":136251607,"body_markdown":"Can you check if channel and connection is not null and isOpen() and close down if it is. Next step, might need to add await for some time.","body":"Can you check if channel and connection is not null and isOpen() and close down if it is. Next step, might need to add await for some time."},{"owner":{"account_id":29638269,"reputation":1,"user_id":22714998,"display_name":"Rajesh Thatikonda"},"score":0,"creation_date":1700459761,"post_id":77263905,"comment_id":136652736,"body_markdown":"Yes @VinitMore  the connection is not null, and isOpen() is true but we are still not able to close the connection","body":"Yes @VinitMore  the connection is not null, and isOpen() is true but we are still not able to close the connection"}],"owner":{"account_id":29638269,"reputation":1,"user_id":22714998,"display_name":"Rajesh Thatikonda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697104593,"creation_date":1696924760,"question_id":77263905,"body_markdown":"Wanted to close the channel and connection when cancelling the consumer\r\n\r\n\r\n\r\n@Service\r\npublic class RabbitMQConsumer{\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(RabbitMQConsumer.class);\r\n\r\n    @Autowired\r\n    private ConnectionFactory connectionFactory;\r\n\r\n    private Connection connection;\r\n\r\n    private Channel channel;\r\n\r\n    public String consumeMessage(String queueName, Boolean flag, DeliverCallback deliverCallback, CancelCallback cancelCallback) throws IOException, TimeoutException {\r\n        connection = connectionFactory.createConnection();\r\n        channel = connection.createChannel(true);\r\n        return channel.basicConsume(queueName, flag, deliverCallback, cancelCallback);\r\n    }\r\n\r\n    public void cancelConsumer(String consumerTag) throws IOException, TimeoutException {\r\n        if(channel != null &amp;&amp; channel.isOpen()){\r\n           channel.basicCancel(consumerTag);\r\n           channel.close();\r\n        }\r\n        if(connection != null &amp;&amp; connection.isOpen()){\r\n            logger.info(&quot;connection.isOpen() &quot;+connection.isOpen());\r\n            connection.close();\r\n            logger.info(&quot;after closing, checking connection.isOpen() &quot;+connection.isOpen());\r\n        }\r\n    }\r\n}\r\n","title":"Not able to close the channel and connection for rabbitmq programmatically in java","body":"<p>Wanted to close the channel and connection when cancelling the consumer</p>\n<p>@Service\npublic class RabbitMQConsumer{</p>\n<pre><code>private static final Logger logger = LoggerFactory.getLogger(RabbitMQConsumer.class);\n\n@Autowired\nprivate ConnectionFactory connectionFactory;\n\nprivate Connection connection;\n\nprivate Channel channel;\n\npublic String consumeMessage(String queueName, Boolean flag, DeliverCallback deliverCallback, CancelCallback cancelCallback) throws IOException, TimeoutException {\n    connection = connectionFactory.createConnection();\n    channel = connection.createChannel(true);\n    return channel.basicConsume(queueName, flag, deliverCallback, cancelCallback);\n}\n\npublic void cancelConsumer(String consumerTag) throws IOException, TimeoutException {\n    if(channel != null &amp;&amp; channel.isOpen()){\n       channel.basicCancel(consumerTag);\n       channel.close();\n    }\n    if(connection != null &amp;&amp; connection.isOpen()){\n        logger.info(&quot;connection.isOpen() &quot;+connection.isOpen());\n        connection.close();\n        logger.info(&quot;after closing, checking connection.isOpen() &quot;+connection.isOpen());\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","spring-kafka","micrometer","micrometer-tracing"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697043360,"creation_date":1697043360,"answer_id":77274991,"question_id":77274551,"body_markdown":"3.1.4 is the current 3.1.x version.\r\n\r\nSpring for Apache Kafka observation is not enabled by default; there is an open issue to add Boot properties to enable it: https://github.com/spring-projects/spring-boot/issues/36452\r\n\r\nIn the meantime, you have to set `observationEnabled` on the `KafkaTemplate` and on listener containers&#39; `ContainerProperties` (or on the factory that creates the containers).\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#observation","title":"Request Id isn&#39;t present in logs after going to kafka","body":"<p>3.1.4 is the current 3.1.x version.</p>\n<p>Spring for Apache Kafka observation is not enabled by default; there is an open issue to add Boot properties to enable it: <a href=\"https://github.com/spring-projects/spring-boot/issues/36452\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/36452</a></p>\n<p>In the meantime, you have to set <code>observationEnabled</code> on the <code>KafkaTemplate</code> and on listener containers' <code>ContainerProperties</code> (or on the factory that creates the containers).</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#observation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#observation</a></p>\n"}],"owner":{"account_id":28470497,"reputation":43,"user_id":21785880,"display_name":"Anurator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77274991,"answer_count":1,"score":0,"last_activity_date":1697104380,"creation_date":1697039116,"question_id":77274551,"body_markdown":"My service is using **spring boot version 3.1.0** and my use case is only the presence of request Id in logs so that any requests coming from other services so that they can be tracked with the request id they bring or the one generated at our side. This will help me see an entire flow of a user easily for debugging. I have added the following **micrometer** dependencies to a spring boot application(its a large scale application which can get 20k+ requests per minute)\r\n```\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-observation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI receive a request on my controller and after processing it I am using default kafkaTemplate to send the message via kafka\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, UnifiedMessageRequest&gt; kafkaTemplate;\r\nand\r\n\r\n    kafkaTemplate.send(topicName, unifiedMessageReqSaved);\r\n\r\nConsumer Side Code:\r\n\r\n    @KafkaListener(topics = &quot;${spring.kafka.template.topic-p0}&quot;,\r\n                groupId = &quot;${spring.kafka.consumer.group-id-p0}&quot;,\r\n                concurrency = &quot;${spring.kafka.consumer.p0-concurrency}&quot;)\r\n        public void consumeP0(final UnifiedMessageRequest message, final Acknowledgment acknowledgment) {\r\n            sendAndAcknowledge(message, acknowledgment);\r\n        }\r\n\r\nSpring kafka properties\r\n  \r\n\r\n       spring:\r\n        kafka:\r\n         exponential-retries:\r\n          maxRetries: 3\r\n          multiplier: 2\r\n          initialInterval: 1000\r\n          maxInterval: 300000\r\n          skippedExceptions:\r\n            - com.example.exceptions.UnifiedValidationException\r\n            - jakarta.validation.ValidationException\r\n         bootstrap-servers: localhost:9092\r\n         template:\r\n          topic-p0: p0\r\n         producer:\r\n          key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n          value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n          properties:\r\n            linger.ms: 100\r\n            enable.idempotence: true\r\n            spring.json.add.type.headers: true\r\n         consumer:\r\n          key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n          value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\r\n          group-id-p0: P0_LOCALDEV\r\n          enable-auto-commit: false\r\n          auto-offset-reset: latest\r\n          p0-concurrency: 10\r\n          properties:\r\n            isolation.level: read_committed\r\n            spring.json.type.mapping: Event:com.example.dto.request.UnifiedMessageRequest\r\n            spring.json.value.default.type: com.example.dto.request.UnifiedMessageRequest\r\n            spring.json.trusted.packages: com.example.common.model,com.example.dto.request\r\n            spring.json.use.type.headers: false\r\n\r\n\r\nLogs before sending message to kafka:\r\n\r\n    spring-boot-3-service|[30m2023-10-11 15:50:26,766[0;39m [34mRequestID:[da45cb98-cf8c-4774-82dc-87e8d8b69d2e][0;39m-[172.26.3.223] [XNIO-1 task-2] APP_CONTEXT:[] [34mINFO [0;39m [[34mXNIO-1 task-2[0;39m] [33mc.j.f.n.n.s.i.SomeServiceImpl[0;39m: Example log present with request ID\r\n\r\nLogs after message getting consumed:\r\n\r\n    spring-boot-3-service|[30m2023-10-11 19:15:53,165[0;39m [1;31mRequestID:[][0;39m-[] [scheduling-1] APP_CONTEXT:[] [1;31mERROR[0;39m [[34mscheduling-1[0;39m] [33mc.j.f.n.n.r.TemplateManagerService[0;39m: Log Example present without Request Id\r\n\r\nI have simplified the code. I want to make least amount of changes to enable request ID in logs. I am new to spring boot and will be great if someone could direct me towards any property or config that would help me pass the request trace id.","title":"Request Id isn&#39;t present in logs after going to kafka","body":"<p>My service is using <strong>spring boot version 3.1.0</strong> and my use case is only the presence of request Id in logs so that any requests coming from other services so that they can be tracked with the request id they bring or the one generated at our side. This will help me see an entire flow of a user easily for debugging. I have added the following <strong>micrometer</strong> dependencies to a spring boot application(its a large scale application which can get 20k+ requests per minute)</p>\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-observation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I receive a request on my controller and after processing it I am using default kafkaTemplate to send the message via kafka</p>\n<pre><code>@Autowired\nprivate KafkaTemplate&lt;String, UnifiedMessageRequest&gt; kafkaTemplate;\n</code></pre>\n<p>and</p>\n<pre><code>kafkaTemplate.send(topicName, unifiedMessageReqSaved);\n</code></pre>\n<p>Consumer Side Code:</p>\n<pre><code>@KafkaListener(topics = &quot;${spring.kafka.template.topic-p0}&quot;,\n            groupId = &quot;${spring.kafka.consumer.group-id-p0}&quot;,\n            concurrency = &quot;${spring.kafka.consumer.p0-concurrency}&quot;)\n    public void consumeP0(final UnifiedMessageRequest message, final Acknowledgment acknowledgment) {\n        sendAndAcknowledge(message, acknowledgment);\n    }\n</code></pre>\n<p>Spring kafka properties</p>\n<pre><code>   spring:\n    kafka:\n     exponential-retries:\n      maxRetries: 3\n      multiplier: 2\n      initialInterval: 1000\n      maxInterval: 300000\n      skippedExceptions:\n        - com.example.exceptions.UnifiedValidationException\n        - jakarta.validation.ValidationException\n     bootstrap-servers: localhost:9092\n     template:\n      topic-p0: p0\n     producer:\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n      properties:\n        linger.ms: 100\n        enable.idempotence: true\n        spring.json.add.type.headers: true\n     consumer:\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\n      group-id-p0: P0_LOCALDEV\n      enable-auto-commit: false\n      auto-offset-reset: latest\n      p0-concurrency: 10\n      properties:\n        isolation.level: read_committed\n        spring.json.type.mapping: Event:com.example.dto.request.UnifiedMessageRequest\n        spring.json.value.default.type: com.example.dto.request.UnifiedMessageRequest\n        spring.json.trusted.packages: com.example.common.model,com.example.dto.request\n        spring.json.use.type.headers: false\n</code></pre>\n<p>Logs before sending message to kafka:</p>\n<pre><code>spring-boot-3-service|[30m2023-10-11 15:50:26,766[0;39m [34mRequestID:[da45cb98-cf8c-4774-82dc-87e8d8b69d2e][0;39m-[172.26.3.223] [XNIO-1 task-2] APP_CONTEXT:[] [34mINFO [0;39m [[34mXNIO-1 task-2[0;39m] [33mc.j.f.n.n.s.i.SomeServiceImpl[0;39m: Example log present with request ID\n</code></pre>\n<p>Logs after message getting consumed:</p>\n<pre><code>spring-boot-3-service|[30m2023-10-11 19:15:53,165[0;39m [1;31mRequestID:[][0;39m-[] [scheduling-1] APP_CONTEXT:[] [1;31mERROR[0;39m [[34mscheduling-1[0;39m] [33mc.j.f.n.n.r.TemplateManagerService[0;39m: Log Example present without Request Id\n</code></pre>\n<p>I have simplified the code. I want to make least amount of changes to enable request ID in logs. I am new to spring boot and will be great if someone could direct me towards any property or config that would help me pass the request trace id.</p>\n"},{"tags":["java","web3-java"],"answers":[{"tags":[],"owner":{"account_id":24029930,"reputation":88,"user_id":18011018,"display_name":"jaragone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697104145,"creation_date":1697104145,"answer_id":77279519,"question_id":77279365,"body_markdown":"The warning is raised because Type is a raw type. You may use wildcards (?) if the exact type parameter is not known or if it can vary, as follows:\r\n\r\n    List&lt;TypeReference&lt;? extends Type&gt;&gt; outputParams = function.getOutputParameters();\r\n\r\n**Difference**:\r\n\r\n - TypeReference&lt;Type&gt;: This signifies that the parameterized type is\r\n   exactly Type, which disregards the type safety benefits of generics\r\n   (because Type is a generic class and should be parameterized).\r\n - TypeReference&lt;? extends Type&gt;: This signifies that the parameterized\r\n   type is an unknown subtype of Type, which allows you to utilize\r\n   objects of different subtypes of Type while still maintaining type\r\n   safety.\r\n\r\nBut one might think that by specifying Type as a generic parameter, we&#39;re already dealing with an object of type Type, aren’t we? What is the significance or benefit of using ? extends Type in this context?&quot;\r\n\r\nSuppose there is a subtype of Type called CustomType.\r\n\r\n - If you use TypeReference&lt;Type&gt;, you are not allowed to use it for\r\n   TypeReference&lt;CustomType&gt;, even though CustomType is a Type.\r\n   \r\n - If you use TypeReference&lt;? extends Type&gt;, you can use it for   \r\n   TypeReference&lt;CustomType&gt; without a problem, because CustomType is a \r\n   subtype of Type.\r\n\r\nExample:\r\n\r\n    TypeReference&lt;? extends Type&gt; ref1 = new TypeReference&lt;CustomType&gt;()    {};  // Allowed \r\n    TypeReference&lt;Type&gt; ref2 = new TypeReference&lt;CustomType&gt;() {};  // Compilation error","title":"Web3J - Raw use of parameterized class &#39;Type&#39;","body":"<p>The warning is raised because Type is a raw type. You may use wildcards (?) if the exact type parameter is not known or if it can vary, as follows:</p>\n<pre><code>List&lt;TypeReference&lt;? extends Type&gt;&gt; outputParams = function.getOutputParameters();\n</code></pre>\n<p><strong>Difference</strong>:</p>\n<ul>\n<li>TypeReference: This signifies that the parameterized type is\nexactly Type, which disregards the type safety benefits of generics\n(because Type is a generic class and should be parameterized).</li>\n<li>TypeReference&lt;? extends Type&gt;: This signifies that the parameterized\ntype is an unknown subtype of Type, which allows you to utilize\nobjects of different subtypes of Type while still maintaining type\nsafety.</li>\n</ul>\n<p>But one might think that by specifying Type as a generic parameter, we're already dealing with an object of type Type, aren’t we? What is the significance or benefit of using ? extends Type in this context?&quot;</p>\n<p>Suppose there is a subtype of Type called CustomType.</p>\n<ul>\n<li><p>If you use TypeReference, you are not allowed to use it for\nTypeReference, even though CustomType is a Type.</p>\n</li>\n<li><p>If you use TypeReference&lt;? extends Type&gt;, you can use it for<br />\nTypeReference without a problem, because CustomType is a\nsubtype of Type.</p>\n</li>\n</ul>\n<p>Example:</p>\n<pre><code>TypeReference&lt;? extends Type&gt; ref1 = new TypeReference&lt;CustomType&gt;()    {};  // Allowed \nTypeReference&lt;Type&gt; ref2 = new TypeReference&lt;CustomType&gt;() {};  // Compilation error\n</code></pre>\n"}],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697104145,"creation_date":1697102886,"question_id":77279365,"body_markdown":"I am using this dependency\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.web3j/core --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.web3j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n    &lt;version&gt;4.10.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd I have this code:\r\n\r\n```\r\nFunction function = new Function(\r\n    &quot;functionName&quot;,\r\n\tList.of(),\r\n\tList.of(\r\n\t\tnew TypeReference&lt;DynamicArray&lt;Uint112&gt;&gt;(){},\r\n\t\tnew TypeReference&lt;DynamicArray&lt;Uint112&gt;&gt;(){},\r\n\t\tnew TypeReference&lt;DynamicArray&lt;Uint160&gt;&gt;(){},\r\n\t\tnew TypeReference&lt;DynamicArray&lt;Uint24&gt;&gt;(){}\r\n\t)\r\n);\r\n\r\n//here I receive the warning\r\nList&lt;TypeReference&lt;Type&gt;&gt; outputParams = function.getOutputParameters();\r\n```\r\n\r\nAt the last line I receive the warning `Raw use of parameterized class &#39;Type&#39;`.\r\n\r\nThe code works perfect and I know what means the warning, but in this specific case I don&#39;t know how to fix it.\r\n\r\nSomeone has any idea how to fix that warning?\r\n","title":"Web3J - Raw use of parameterized class &#39;Type&#39;","body":"<p>I am using this dependency</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.web3j/core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.web3j&lt;/groupId&gt;\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\n    &lt;version&gt;4.10.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And I have this code:</p>\n<pre><code>Function function = new Function(\n    &quot;functionName&quot;,\n    List.of(),\n    List.of(\n        new TypeReference&lt;DynamicArray&lt;Uint112&gt;&gt;(){},\n        new TypeReference&lt;DynamicArray&lt;Uint112&gt;&gt;(){},\n        new TypeReference&lt;DynamicArray&lt;Uint160&gt;&gt;(){},\n        new TypeReference&lt;DynamicArray&lt;Uint24&gt;&gt;(){}\n    )\n);\n\n//here I receive the warning\nList&lt;TypeReference&lt;Type&gt;&gt; outputParams = function.getOutputParameters();\n</code></pre>\n<p>At the last line I receive the warning <code>Raw use of parameterized class 'Type'</code>.</p>\n<p>The code works perfect and I know what means the warning, but in this specific case I don't know how to fix it.</p>\n<p>Someone has any idea how to fix that warning?</p>\n"},{"tags":["java","ojdbc","advanced-queuing"],"answers":[{"tags":[],"owner":{"account_id":14938,"reputation":1011,"user_id":31090,"accept_rate":83,"display_name":"Ed Gomoliako"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697104076,"creation_date":1697104076,"answer_id":77279510,"question_id":77279509,"body_markdown":"The problem lies in `com.oracle.database.jdbc:ojdbc` dependency.\r\n\r\n`com.oracle.database.messaging:aqapi-jakarta` is depended on `com.oracle.database.jdbc:ojdbc8` but to make Oracle JDBC work under Java17 one needs `com.oracle.database.jdbc:ojdbc11`.\r\n\r\nThus the `pom.xml` should have the dependencies specified in the following way:\r\n\r\n```pom.xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.oracle.database.messaging&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aqapi-jakarta&lt;/artifactId&gt;\r\n      &lt;version&gt;23.2.1.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ojdbc11&lt;/artifactId&gt;\r\n      &lt;version&gt;23.2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```","title":"Project doesn&#39;t get compiled with Java 17 after upgrading Oracle aqapi to aqapi-jakarta","body":"<p>The problem lies in <code>com.oracle.database.jdbc:ojdbc</code> dependency.</p>\n<p><code>com.oracle.database.messaging:aqapi-jakarta</code> is depended on <code>com.oracle.database.jdbc:ojdbc8</code> but to make Oracle JDBC work under Java17 one needs <code>com.oracle.database.jdbc:ojdbc11</code>.</p>\n<p>Thus the <code>pom.xml</code> should have the dependencies specified in the following way:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.oracle.database.messaging&lt;/groupId&gt;\n      &lt;artifactId&gt;aqapi-jakarta&lt;/artifactId&gt;\n      &lt;version&gt;23.2.1.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n          &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n      &lt;artifactId&gt;ojdbc11&lt;/artifactId&gt;\n      &lt;version&gt;23.2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14938,"reputation":1011,"user_id":31090,"accept_rate":83,"display_name":"Ed Gomoliako"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697104076,"creation_date":1697104076,"question_id":77279509,"body_markdown":"Upgrade from Spring 5 to Spring 6 (Spring Boot v2 —&#160;v3) brings Jakarta EE 9+ with it. This makes `com.oracle.database.messaging:aqapi` to be incompatible because the `ConnectionFactory` class moved from `javax` package to `jakarta` package.\r\n\r\nThis one can be solved by replacing the `com.oracle.database.messaging:aqapi` with `com.oracle.database.messaging:aqapi-jakarta` dependency.\r\n\r\nBut after this replacement the project doesn&#39;t get compiled with the error: `createShardingKeyBuilder() in cannot implement createShardingKeyBuilder() in javax.sql.CommonDataSource return type oracle.jdbc.OracleShardingKeyBuilder is not compatible with java.sql.ShardingKeyBuilder` or it can be `createShardingKeyBuilder in oracle.ucp.jdbc.PoolDataSource clashes with createShardingKeyBuilder  in javax.sql.CommonDataSource`.","title":"Project doesn&#39;t get compiled with Java 17 after upgrading Oracle aqapi to aqapi-jakarta","body":"<p>Upgrade from Spring 5 to Spring 6 (Spring Boot v2 — v3) brings Jakarta EE 9+ with it. This makes <code>com.oracle.database.messaging:aqapi</code> to be incompatible because the <code>ConnectionFactory</code> class moved from <code>javax</code> package to <code>jakarta</code> package.</p>\n<p>This one can be solved by replacing the <code>com.oracle.database.messaging:aqapi</code> with <code>com.oracle.database.messaging:aqapi-jakarta</code> dependency.</p>\n<p>But after this replacement the project doesn't get compiled with the error: <code>createShardingKeyBuilder() in cannot implement createShardingKeyBuilder() in javax.sql.CommonDataSource return type oracle.jdbc.OracleShardingKeyBuilder is not compatible with java.sql.ShardingKeyBuilder</code> or it can be <code>createShardingKeyBuilder in oracle.ucp.jdbc.PoolDataSource clashes with createShardingKeyBuilder  in javax.sql.CommonDataSource</code>.</p>\n"},{"tags":["java","android","eclipse","gradle","annotation-processing"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":4,"creation_date":1528465516,"post_id":28345705,"comment_id":88531618,"body_markdown":"Remember to accept an answer here if any were helpful.","body":"Remember to accept an answer here if any were helpful."}],"answers":[{"tags":[],"owner":{"account_id":3578773,"reputation":1200,"user_id":2987450,"display_name":"Jaimie Whiteside"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1423146151,"creation_date":1423146151,"answer_id":28346405,"question_id":28345705,"body_markdown":"Try defining a custom source set for the output classes.\r\nSomething like:\r\n\r\n    sourceSets {\r\n        apt{\r\n            java{\r\n                srcDir &#39;build/source/apt&#39;\r\n            }\r\n        }\r\n    }\r\nshould get you close.  For more detail check the source sets section (23.7) of the [java gradle plugin docs][1] for more detail.\r\n\r\n\r\n  [1]: http://gradle.org/docs/current/userguide/java_plugin.html","title":"How can I add a generated Source Folder to my Source Path in Gradle?","body":"<p>Try defining a custom source set for the output classes.\nSomething like:</p>\n\n<pre><code>sourceSets {\n    apt{\n        java{\n            srcDir 'build/source/apt'\n        }\n    }\n}\n</code></pre>\n\n<p>should get you close.  For more detail check the source sets section (23.7) of the <a href=\"http://gradle.org/docs/current/userguide/java_plugin.html\" rel=\"noreferrer\">java gradle plugin docs</a> for more detail.</p>\n"},{"tags":[],"owner":{"account_id":3476714,"reputation":629,"user_id":2909710,"accept_rate":78,"display_name":"Prabhath"},"down_vote_count":4,"up_vote_count":33,"is_accepted":false,"score":29,"last_activity_date":1481553997,"creation_date":1481550978,"answer_id":41102488,"question_id":28345705,"body_markdown":"`sourceSets.main.java.srcDirs = [&#39;build/generated-sources/xjc&#39;,&#39;src/main/java&#39;]` worked for me.","title":"How can I add a generated Source Folder to my Source Path in Gradle?","body":"<p><code>sourceSets.main.java.srcDirs = ['build/generated-sources/xjc','src/main/java']</code> worked for me.</p>\n"},{"tags":[],"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1501629903,"creation_date":1500412768,"answer_id":45177298,"question_id":28345705,"body_markdown":"For dagger 2 with jar plugin you can put \r\n\r\n    sourceSets.main.java.srcDirs = [&#39;build/generated/source/apt/main&#39;,&#39;src/main/java&#39;]\r\n\r\nin the build.gradle","title":"How can I add a generated Source Folder to my Source Path in Gradle?","body":"<p>For dagger 2 with jar plugin you can put </p>\n\n<pre><code>sourceSets.main.java.srcDirs = ['build/generated/source/apt/main','src/main/java']\n</code></pre>\n\n<p>in the build.gradle</p>\n"},{"tags":[],"owner":{"account_id":2406407,"reputation":3654,"user_id":2102748,"accept_rate":100,"display_name":"milosmns"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1552310339,"creation_date":1552310339,"answer_id":55102746,"question_id":28345705,"body_markdown":"What others answered overwrites my original directories, so I found a workaround - if you don&#39;t want to overwrite the original directory list, you can do it like this:\r\n\r\n```groovy\r\nsourceSets.main.java.srcDirs += myDir\r\nsourceSets.main.kotlin.srcDirs += myDir\r\n```\r\n\r\nThe key is to use `+=` here. It&#39;s essentially the same as stating it like this:\r\n\r\n```groovy\r\nsourceSets {\r\n  main {\r\n    java.srcDirs += myDir\r\n    kotlin.srcDirs += myDir\r\n  }\r\n}\r\n```","title":"How can I add a generated Source Folder to my Source Path in Gradle?","body":"<p>What others answered overwrites my original directories, so I found a workaround - if you don't want to overwrite the original directory list, you can do it like this:</p>\n\n<pre><code>sourceSets.main.java.srcDirs += myDir\nsourceSets.main.kotlin.srcDirs += myDir\n</code></pre>\n\n<p>The key is to use <code>+=</code> here. It's essentially the same as stating it like this:</p>\n\n<pre><code>sourceSets {\n  main {\n    java.srcDirs += myDir\n    kotlin.srcDirs += myDir\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1580713854,"creation_date":1580713854,"answer_id":60034606,"question_id":28345705,"body_markdown":"Just in case somebody is searching for the solution using kotlin script (.kts):\r\n\r\n    sourceSets[&quot;main&quot;].java.srcDir(file(&quot;path/to/generated/source/directory&quot;))\r\n\r\nHope, it will help.","title":"How can I add a generated Source Folder to my Source Path in Gradle?","body":"<p>Just in case somebody is searching for the solution using kotlin script (.kts):</p>\n\n<pre><code>sourceSets[\"main\"].java.srcDir(file(\"path/to/generated/source/directory\"))\n</code></pre>\n\n<p>Hope, it will help.</p>\n"},{"tags":[],"owner":{"account_id":4469637,"reputation":473,"user_id":3636293,"display_name":"EagleEye1984"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1612472582,"creation_date":1586731982,"answer_id":61179249,"question_id":28345705,"body_markdown":"Consider code structure like this\r\n\r\n    src\r\n    ├───main\r\n    │   ├───gen\r\n    │   │   └───com\r\n    │   │       └───java\r\n    │   │           └───generated\r\n    │   │               └───code\r\n    │   ├───java\r\n    │   │   └───com\r\n    │   │       └───java\r\n    │   │           └───test\r\n    │   └───resources\r\n    │       ├───icons\r\n    │       └───META-INF\r\n    └───test\r\n        ├───java\r\n        └───resources\r\n\r\n&gt; src/main/gen - is folder for generated code\r\n\r\n&gt; src/main/java - is folder for manuall code\r\n\r\nTo include both (generated and manuall java code) you have to specify both as input dirs for java compilation (in build.gradle file) - I&#39;ve add it to the end of file:\r\n\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDirs = [&#39;src/main/java&#39;, &#39;src/main/gen&#39;]\r\n            }\r\n        }\r\n    }\r\n\r\nYou can specify as many sources as you want.\r\nHope this helps and explains a bit","title":"How can I add a generated Source Folder to my Source Path in Gradle?","body":"<p>Consider code structure like this</p>\n<pre><code>src\n├───main\n│   ├───gen\n│   │   └───com\n│   │       └───java\n│   │           └───generated\n│   │               └───code\n│   ├───java\n│   │   └───com\n│   │       └───java\n│   │           └───test\n│   └───resources\n│       ├───icons\n│       └───META-INF\n└───test\n    ├───java\n    └───resources\n</code></pre>\n<blockquote>\n<p>src/main/gen - is folder for generated code</p>\n</blockquote>\n<blockquote>\n<p>src/main/java - is folder for manuall code</p>\n</blockquote>\n<p>To include both (generated and manuall java code) you have to specify both as input dirs for java compilation (in build.gradle file) - I've add it to the end of file:</p>\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDirs = ['src/main/java', 'src/main/gen']\n        }\n    }\n}\n</code></pre>\n<p>You can specify as many sources as you want.\nHope this helps and explains a bit</p>\n"},{"tags":[],"owner":{"account_id":121925,"reputation":2229,"user_id":315385,"display_name":"xilef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697103718,"creation_date":1620484860,"answer_id":67448736,"question_id":28345705,"body_markdown":"When using kotlin gradle dsl:\r\n\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDir(&quot;$apiSpecOutputDir/src/main/java&quot;)\r\n            }\r\n        }   \r\n    }\r\n","title":"How can I add a generated Source Folder to my Source Path in Gradle?","body":"<p>When using kotlin gradle dsl:</p>\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDir(&quot;$apiSpecOutputDir/src/main/java&quot;)\n        }\n    }   \n}\n</code></pre>\n"}],"owner":{"account_id":1051966,"reputation":32747,"user_id":1055664,"accept_rate":57,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62867,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"answer_count":7,"score":47,"last_activity_date":1697103718,"creation_date":1423144344,"question_id":28345705,"body_markdown":"I use annotation processing. Therefore I use the [apt plugin][1]. It generates new java sources in ``build/source/apt``.\r\n\r\nHere is my build.gradle: \r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;apt&#39;\r\n    apply plugin: &#39;war&#39;\r\n    apply plugin: &#39;gwt&#39;\r\n    apply plugin: &#39;jetty&#39;\r\n    \r\n    sourceCompatibility = 1.7\r\n    version = &#39;1.0&#39;\r\n    \r\n    eclipse {\r\n    \tclasspath {\r\n    \t   downloadSources=true\r\n    \t   downloadJavadoc=true\r\n    \t}\r\n    }\r\n    \r\n    buildscript {\r\n    \trepositories {\r\n    \t\tmavenCentral()\r\n    \t\tjcenter()\r\n    \t\tmaven {\r\n    \t\t\turl &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot;\r\n    \t\t}\r\n    \t}\r\n    \tdependencies {\r\n    \t\tclasspath &#39;de.richsource.gradle.plugins:gwt-gradle-plugin:0.6&#39;\t\t\r\n    \t\tclasspath &#39;com.jimdo.gradle:gradle-apt-plugin:0.5-SNAPSHOT&#39;\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    \tmaven {\r\n    \t\tname = &quot;sonatype&quot;\r\n    \t\turl = &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot;\r\n    \t}\r\n    }\r\n    \r\n    dependencies {\r\n    \tapt &#39;com.google.dagger:dagger-compiler:2.0-SNAPSHOT:jar-with-dependencies&#39;\r\n    \t\r\n    \tcompile &#39;com.google.guava:guava:18.0&#39;\r\n    \tcompile &#39;com.google.guava:guava-gwt:18.0&#39;\r\n    \tcompile &#39;javax.inject:javax.inject:1&#39;\t\r\n    \tcompile &#39;com.google.dagger:dagger:2.0-SNAPSHOT&#39;\r\n    }\r\n    \r\n    gwt {\r\n    \tgwtVersion=&#39;2.7.0&#39;\r\n    \tlogLevel = &#39;INFO&#39;\r\n    \tminHeapSize = &quot;512M&quot;;\r\n    \tmaxHeapSize = &quot;1024M&quot;;\r\n    \t\r\n    \t\r\n    \tcompiler {\r\n    \t\tstrict = true;\r\n        }\r\n    \tmodules &#39;test.GWTT&#39;\t\t\r\n    }\r\n    \r\n    tasks.withType(de.richsource.gradle.plugins.gwt.AbstractGwtActionTask) {\r\n    \targs &#39;-XjsInteropMode&#39;, &#39;JS&#39;\r\n    }\r\n\r\n\r\n**I need this sources to be available in my project such that eclipse can find them and such that they are included while compiling the project how can I do that?**\r\n\r\nEdit: Using \r\n\r\n    sourceSets {\r\n    \tapt{\r\n    \t\tjava{\r\n    \t\t\tsrcDir &#39;build/source/apt&#39;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nLeads to the following errors when running ``gradle build``:\r\n\r\n    Compiling module test.GWTT\r\n       Tracing compile failure path for type &#39;test.client.GWTT&#39;\r\n          [ERROR] Errors in &#39;file:/Users/mg/Documents/Grails/GGTS3.6.2/TestGradle2/src/main/java/test/client/GWTT.java&#39;\r\n             [ERROR] Line 17: No source code is available for type test.client.test2.Dagger_MyWidgetGinjector; did you forget to inherit a required module?\r\n       Finding entry point classes\r\n          Tracing compile failure path for type &#39;test.client.GWTT&#39;\r\n             [ERROR] Errors in &#39;file:/Users/mg/Documents/Grails/GGTS3.6.2/TestGradle2/src/main/java/test/client/GWTT.java&#39;\r\n                [ERROR] Line 17: No source code is available for type test.client.test2.Dagger_MyWidgetGinjector; did you forget to inherit a required module?\r\n          [ERROR] Hint: Check the inheritance chain from your module; it may not be inheriting a required module or a module may not be adding its source path entries properly\r\n    :compileGwt FAILED\r\n\r\nUsing the former Eclipse finds the sources of the generated files but build does not.\r\n\r\n  [1]: https://github.com/Jimdo/gradle-apt-plugin","title":"How can I add a generated Source Folder to my Source Path in Gradle?","body":"<p>I use annotation processing. Therefore I use the <a href=\"https://github.com/Jimdo/gradle-apt-plugin\" rel=\"noreferrer\">apt plugin</a>. It generates new java sources in <code>build/source/apt</code>.</p>\n\n<p>Here is my build.gradle: </p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'apt'\napply plugin: 'war'\napply plugin: 'gwt'\napply plugin: 'jetty'\n\nsourceCompatibility = 1.7\nversion = '1.0'\n\neclipse {\n    classpath {\n       downloadSources=true\n       downloadJavadoc=true\n    }\n}\n\nbuildscript {\n    repositories {\n        mavenCentral()\n        jcenter()\n        maven {\n            url \"https://oss.sonatype.org/content/repositories/snapshots/\"\n        }\n    }\n    dependencies {\n        classpath 'de.richsource.gradle.plugins:gwt-gradle-plugin:0.6'      \n        classpath 'com.jimdo.gradle:gradle-apt-plugin:0.5-SNAPSHOT'\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven {\n        name = \"sonatype\"\n        url = \"https://oss.sonatype.org/content/repositories/snapshots/\"\n    }\n}\n\ndependencies {\n    apt 'com.google.dagger:dagger-compiler:2.0-SNAPSHOT:jar-with-dependencies'\n\n    compile 'com.google.guava:guava:18.0'\n    compile 'com.google.guava:guava-gwt:18.0'\n    compile 'javax.inject:javax.inject:1'   \n    compile 'com.google.dagger:dagger:2.0-SNAPSHOT'\n}\n\ngwt {\n    gwtVersion='2.7.0'\n    logLevel = 'INFO'\n    minHeapSize = \"512M\";\n    maxHeapSize = \"1024M\";\n\n\n    compiler {\n        strict = true;\n    }\n    modules 'test.GWTT'     \n}\n\ntasks.withType(de.richsource.gradle.plugins.gwt.AbstractGwtActionTask) {\n    args '-XjsInteropMode', 'JS'\n}\n</code></pre>\n\n<p><strong>I need this sources to be available in my project such that eclipse can find them and such that they are included while compiling the project how can I do that?</strong></p>\n\n<p>Edit: Using </p>\n\n<pre><code>sourceSets {\n    apt{\n        java{\n            srcDir 'build/source/apt'\n        }\n    }\n}\n</code></pre>\n\n<p>Leads to the following errors when running <code>gradle build</code>:</p>\n\n<pre><code>Compiling module test.GWTT\n   Tracing compile failure path for type 'test.client.GWTT'\n      [ERROR] Errors in 'file:/Users/mg/Documents/Grails/GGTS3.6.2/TestGradle2/src/main/java/test/client/GWTT.java'\n         [ERROR] Line 17: No source code is available for type test.client.test2.Dagger_MyWidgetGinjector; did you forget to inherit a required module?\n   Finding entry point classes\n      Tracing compile failure path for type 'test.client.GWTT'\n         [ERROR] Errors in 'file:/Users/mg/Documents/Grails/GGTS3.6.2/TestGradle2/src/main/java/test/client/GWTT.java'\n            [ERROR] Line 17: No source code is available for type test.client.test2.Dagger_MyWidgetGinjector; did you forget to inherit a required module?\n      [ERROR] Hint: Check the inheritance chain from your module; it may not be inheriting a required module or a module may not be adding its source path entries properly\n:compileGwt FAILED\n</code></pre>\n\n<p>Using the former Eclipse finds the sources of the generated files but build does not.</p>\n"},{"tags":["java","string","inetaddress"],"answers":[{"tags":[],"owner":{"account_id":20130,"reputation":279845,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1417478766,"creation_date":1266817503,"answer_id":2309056,"question_id":2309049,"body_markdown":"Yes, that will work.  [The API][1] is very clear on this (&quot;The host name can either be a machine name, such as &quot;java.sun.com&quot;, or a textual representation of its IP address.&quot;), and of course you could easily check yourself.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/net/InetAddress.html#getByName%28java.lang.String%29","title":"Is there an easy way to convert String to Inetaddress in Java?","body":"<p>Yes, that will work.  <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/InetAddress.html#getByName%28java.lang.String%29\" rel=\"nofollow noreferrer\">The API</a> is very clear on this (\"The host name can either be a machine name, such as \"java.sun.com\", or a textual representation of its IP address.\"), and of course you could easily check yourself.</p>\n"},{"tags":[],"owner":{"account_id":1571686,"reputation":284,"user_id":1459255,"display_name":"John Gardiner Myers"},"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1481367691,"creation_date":1339777733,"answer_id":11054727,"question_id":2309049,"body_markdown":"`com.google.common.net.InetAddresses.forString(String ipString)` is better for this as it will not do a DNS lookup regardless of what string is passed to it.\r\n","title":"Is there an easy way to convert String to Inetaddress in Java?","body":"<p><code>com.google.common.net.InetAddresses.forString(String ipString)</code> is better for this as it will not do a DNS lookup regardless of what string is passed to it.</p>\n"},{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364490399,"creation_date":1364490399,"answer_id":15687923,"question_id":2309049,"body_markdown":"You could try [using a regular expression to filter-out non-numeric IP addresses][1] before passing the `String` to `getByName()`. Then `getByName()` will not try name resolution.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/106179/545127","title":"Is there an easy way to convert String to Inetaddress in Java?","body":"<p>You could try <a href=\"https://stackoverflow.com/q/106179/545127\">using a regular expression to filter-out non-numeric IP addresses</a> before passing the <code>String</code> to <code>getByName()</code>. Then <code>getByName()</code> will not try name resolution.</p>\n"},{"tags":[],"owner":{"account_id":3543761,"reputation":749,"user_id":2960236,"accept_rate":43,"display_name":"wu-lee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1384791034,"creation_date":1384781368,"answer_id":20049027,"question_id":2309049,"body_markdown":"Beware: it seems that parsing an invalid address such as `InetAddress.getByName(&quot;999.999.999.999&quot;`) will *not* result in an exception as one might expect from the documentation&#39;s phrase:\r\n\r\n&gt; the validity of the address format is checked\r\n\r\nEmpirically, I find myself getting an InetAddress instance with the local machine&#39;s raw IP address and the invalid IP address as the host name. Certainly this was not what I expected!","title":"Is there an easy way to convert String to Inetaddress in Java?","body":"<p>Beware: it seems that parsing an invalid address such as <code>InetAddress.getByName(\"999.999.999.999\"</code>) will <em>not</em> result in an exception as one might expect from the documentation's phrase:</p>\n\n<blockquote>\n  <p>the validity of the address format is checked</p>\n</blockquote>\n\n<p>Empirically, I find myself getting an InetAddress instance with the local machine's raw IP address and the invalid IP address as the host name. Certainly this was not what I expected!</p>\n"},{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1513564032,"creation_date":1513564032,"answer_id":47861398,"question_id":2309049,"body_markdown":"[The open-source IPAddress Java library](https://seancfoley.github.io/IPAddress/) will validate all standard representations of IPv6 and IPv4 and will do so without DNS lookup.  Disclaimer: I am the project manager of that library.\r\n\r\nThe following code will do what you are requesting:\r\n\r\n         String s = &quot;1.2.3.4&quot;;\r\n    \t try {\r\n\t\t        IPAddressString str = new IPAddressString(s);\r\n\t\t        IPAddress addr = str.toAddress();\r\n\t\t        InetAddress inetAddress = addr.toInetAddress(); //IPv4 or IPv6\r\n\t\t        if(addr.isIPv4() || addr.isIPv4Convertible()) {//IPv4 specific\r\n\t\t        \tIPv4Address ipv4Addr = addr.toIPv4();\r\n\t\t        \tInet4Address inetAddr = ipv4Addr.toInetAddress();\r\n\t\t        \t//use address\r\n\t\t        }\r\n\t\t  } catch(AddressStringException e) {\r\n\t\t        //e.getMessage has validation error\r\n\t\t  }\r\n","title":"Is there an easy way to convert String to Inetaddress in Java?","body":"<p><a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"nofollow noreferrer\">The open-source IPAddress Java library</a> will validate all standard representations of IPv6 and IPv4 and will do so without DNS lookup.  Disclaimer: I am the project manager of that library.</p>\n\n<p>The following code will do what you are requesting:</p>\n\n<pre><code>     String s = \"1.2.3.4\";\n     try {\n            IPAddressString str = new IPAddressString(s);\n            IPAddress addr = str.toAddress();\n            InetAddress inetAddress = addr.toInetAddress(); //IPv4 or IPv6\n            if(addr.isIPv4() || addr.isIPv4Convertible()) {//IPv4 specific\n                IPv4Address ipv4Addr = addr.toIPv4();\n                Inet4Address inetAddr = ipv4Addr.toInetAddress();\n                //use address\n            }\n      } catch(AddressStringException e) {\n            //e.getMessage has validation error\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112811,"reputation":865,"user_id":297420,"display_name":"gerardnico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697103578,"creation_date":1697103578,"answer_id":77279443,"question_id":2309049,"body_markdown":"With the DNSJava library, you can also parse it.\r\n\r\n\r\n```java\r\nInetAddress address = Address.getByAddress(ipString)\r\n```\r\n\r\nNo external call, just using the `Address.toByteArray` method.\r\n","title":"Is there an easy way to convert String to Inetaddress in Java?","body":"<p>With the DNSJava library, you can also parse it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>InetAddress address = Address.getByAddress(ipString)\n</code></pre>\n<p>No external call, just using the <code>Address.toByteArray</code> method.</p>\n"}],"owner":{"account_id":96511,"reputation":8579,"user_id":262296,"accept_rate":91,"display_name":"TiansHUo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22479,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"accepted_answer_id":11054727,"answer_count":6,"score":31,"last_activity_date":1697103578,"creation_date":1266817355,"question_id":2309049,"body_markdown":"I am trying to convert strings into `Inetaddress`. I am not trying to resolve hostnames: the strings are ipv4 addresses. Does `InetAddress.getByName(String host)` work? Or do I have to manually parse it?","title":"Is there an easy way to convert String to Inetaddress in Java?","body":"<p>I am trying to convert strings into <code>Inetaddress</code>. I am not trying to resolve hostnames: the strings are ipv4 addresses. Does <code>InetAddress.getByName(String host)</code> work? Or do I have to manually parse it?</p>\n"},{"tags":["java","smartgwt"],"owner":{"account_id":19326316,"reputation":201,"user_id":14128881,"display_name":"Christopher Chua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697103545,"creation_date":1697103545,"question_id":77279439,"body_markdown":"    if (device != null) {\r\n    \t\t\tlogger.info(&quot;device &quot; + device.getValue().toString());\r\n    \t\t\tif (device.getValue() != null &amp;&amp; device.getValue().toString().equalsIgnoreCase(&quot;Y&quot;)) {\r\n    \t\t\t\tlogger.info(&quot;device inside is&quot; + device.getValue().toString());\r\n    \t\t\t\tname_of_device.show();\r\n    \t\t\t\t\r\n    \t\t\t\tdynamicForm.redraw();\r\n    \t\t\t} else {\r\n    \t\t\t\tlogger.info(&quot;Initial is hiding&quot;);\r\n    \t\t\t\tname_of_device.hide();\r\n    \t\t\t\t\r\n    \t\t\t\tdynamicForm.redraw();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (device != null) {\r\n    \t\t\tdevice.addChangedHandler(new ChangedHandler() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void onChanged(ChangedEvent changedEvent) {\r\n    \r\n    \t\t\t\t\tif(device.getValue().toString().equals(&quot;Yes&quot;) || device.getValue().toString().equals(&quot;Y&quot;))\r\n    \t\t\t\t\t{\r\n    \r\n    \t\t\t\t\t\tname_of_device.show();\r\n    \t\t\t\t\t\tname_of_device.setRequired(true);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse {\r\n    \t\t\t\t\t\tname_of_device.hide();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\nHi Everyone, I am facing an issue where the code is working in the changedHandler where if the device.getValue() is Y the name_of_device field will show, but after I have saved the value and access to this method again, even though the value in the field is Y, the name_of_device_field will not be showing, but if I click on the changedHandler again, it is showing the correct behaviour. \r\n\r\nKindly advice what may be the issue and possible solutions. Thank you","title":"Java Field not showing with initial retrieved value (SMART GWT 6.1)","body":"<pre><code>if (device != null) {\n            logger.info(&quot;device &quot; + device.getValue().toString());\n            if (device.getValue() != null &amp;&amp; device.getValue().toString().equalsIgnoreCase(&quot;Y&quot;)) {\n                logger.info(&quot;device inside is&quot; + device.getValue().toString());\n                name_of_device.show();\n                \n                dynamicForm.redraw();\n            } else {\n                logger.info(&quot;Initial is hiding&quot;);\n                name_of_device.hide();\n                \n                dynamicForm.redraw();\n            }\n        }\n\n        if (device != null) {\n            device.addChangedHandler(new ChangedHandler() {\n                @Override\n                public void onChanged(ChangedEvent changedEvent) {\n\n                    if(device.getValue().toString().equals(&quot;Yes&quot;) || device.getValue().toString().equals(&quot;Y&quot;))\n                    {\n\n                        name_of_device.show();\n                        name_of_device.setRequired(true);\n\n                    }\n                    else {\n                        name_of_device.hide();\n                    \n                    }\n                }\n            });\n        }\n</code></pre>\n<p>Hi Everyone, I am facing an issue where the code is working in the changedHandler where if the device.getValue() is Y the name_of_device field will show, but after I have saved the value and access to this method again, even though the value in the field is Y, the name_of_device_field will not be showing, but if I click on the changedHandler again, it is showing the correct behaviour.</p>\n<p>Kindly advice what may be the issue and possible solutions. Thank you</p>\n"},{"tags":["java","android","javafx","mobile-development"],"owner":{"account_id":26246189,"reputation":1,"user_id":19919623,"display_name":"Chizzaru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697103331,"creation_date":1697103331,"question_id":77279413,"body_markdown":"I am developing javafx application that will send sms using my android messaging app via USB Tethering and with ADB. I already enable USB Debuggin mode.\r\nMy code actually works, but it is only opening my android messaging app but not sending.\r\nBelow is my code:\r\n```\r\npackage com.chanoc.textblaster;\r\n\r\n\r\nimport java.io.IOException;\r\n\r\npublic abstract class SendSMSThroughADB {\r\n\r\n    public static void sendSMS(){\r\n        String phone_number = &quot;09101092252&quot;;\r\n        String message = &quot;Hello from java over ADB!&quot;;\r\n\r\n        try{\r\n\r\n            String command = &quot;adb shell am start -a android.intent.action.SENDTO -d sms:&quot; + phone_number + &quot; --es sms_body &#39;&quot;+ message +&quot;&#39;&quot;;\r\n\r\n            Process process = Runtime.getRuntime().exec(command);\r\n            process.waitFor();\r\n            System.out.println(&quot;SMS successfully sent!&quot;);\r\n        }catch(IOException|InterruptedException e){\r\n            e.printStackTrace();\r\n            System.out.println(&quot;SMS failed to send!&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nAny suggestion is a big help. Thank you!!!\r\n\r\n","title":"Java and ADB(Send SMS using android messaging app via USB Tethering)","body":"<p>I am developing javafx application that will send sms using my android messaging app via USB Tethering and with ADB. I already enable USB Debuggin mode.\nMy code actually works, but it is only opening my android messaging app but not sending.\nBelow is my code:</p>\n<pre><code>package com.chanoc.textblaster;\n\n\nimport java.io.IOException;\n\npublic abstract class SendSMSThroughADB {\n\n    public static void sendSMS(){\n        String phone_number = &quot;09101092252&quot;;\n        String message = &quot;Hello from java over ADB!&quot;;\n\n        try{\n\n            String command = &quot;adb shell am start -a android.intent.action.SENDTO -d sms:&quot; + phone_number + &quot; --es sms_body '&quot;+ message +&quot;'&quot;;\n\n            Process process = Runtime.getRuntime().exec(command);\n            process.waitFor();\n            System.out.println(&quot;SMS successfully sent!&quot;);\n        }catch(IOException|InterruptedException e){\n            e.printStackTrace();\n            System.out.println(&quot;SMS failed to send!&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>Any suggestion is a big help. Thank you!!!</p>\n"},{"tags":["java","garbage-collection","phantom-reference"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1696970102,"post_id":77268090,"comment_id":136219954,"body_markdown":"Are you essentially asking if `ReferenceQueue` (or some Java/JVM/GC-internal code) keeps a strong reference to a `Reference` so that it can be enqueued even if all other references to the `Reference` are lost?","body":"Are you essentially asking if <code>ReferenceQueue</code> (or some Java/JVM/GC-internal code) keeps a strong reference to a <code>Reference</code> so that it can be enqueued even if all other references to the <code>Reference</code> are lost?"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697103270,"creation_date":1697103270,"answer_id":77279405,"question_id":77268090,"body_markdown":"That’s addressed explicitly in [the documentation]\r\n\r\n&gt; The relationship between a registered reference object and its queue is one-sided. That is, a queue does not keep track of the references that are registered with it. If a registered reference becomes unreachable itself, then it will never be enqueued. It is the responsibility of the program using reference objects to ensure that the objects remain reachable for as long as the program is interested in their referents.\r\n\r\nSo if you don’t keep a reference to the `PhantomReference`, its memory gets reclaimed like with any other ordinary object and it will never get enqueued.\r\n\r\nSince a garbage collector works by traversing all reachable objects, it will simply enqueue a phantom reference when it encounters it and finds, at the end of the traversal, that its referent has not been encountered through other references. If it doesn’t encounter the phantom reference, nothing will happen.\r\n\r\n[the documentation]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ref/package-summary.html#notification-heading","title":"What happens when a PhantomReference becomes unreachable?","body":"<p>That’s addressed explicitly in <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ref/package-summary.html#notification-heading\" rel=\"nofollow noreferrer\">the documentation</a></p>\n<blockquote>\n<p>The relationship between a registered reference object and its queue is one-sided. That is, a queue does not keep track of the references that are registered with it. If a registered reference becomes unreachable itself, then it will never be enqueued. It is the responsibility of the program using reference objects to ensure that the objects remain reachable for as long as the program is interested in their referents.</p>\n</blockquote>\n<p>So if you don’t keep a reference to the <code>PhantomReference</code>, its memory gets reclaimed like with any other ordinary object and it will never get enqueued.</p>\n<p>Since a garbage collector works by traversing all reachable objects, it will simply enqueue a phantom reference when it encounters it and finds, at the end of the traversal, that its referent has not been encountered through other references. If it doesn’t encounter the phantom reference, nothing will happen.</p>\n"}],"owner":{"account_id":911472,"reputation":6655,"user_id":945226,"accept_rate":70,"display_name":"G. Blake Meike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77279405,"answer_count":1,"score":1,"last_activity_date":1697103270,"creation_date":1696961397,"question_id":77268090,"body_markdown":"Consider the following code:\r\n\r\n```\r\npublic static final ReferenceQueue&lt;Object&gt; REF_QUEUE = new ReferenceQueue&lt;&gt;();\r\n\r\npublic class Foo extends PhantomReference&lt;Object&gt; {\r\n    public Foo(Object obj) { super(obj, REF_QUEUE); }\r\n}\r\n\r\npublic class Bar {\r\n    private Foo foo;\r\n    public void refTest() {\r\n        foo = new Foo(new Apple(&quot;Cortland&quot;));\r\n        foo = null;\r\n    }\r\n}\r\n```\r\n\r\nThe documentation for PhantomReference says that:\r\n\r\n&gt; If the garbage collector determines at a certain point in time that the referent of a phantom reference is phantom reachable, then at that time or at some later time it will enqueue the reference.\r\n\r\nIn the `refTest` method, however, the Cortland Apple becomes unreachable -- not phantom reachable -- because the Foo that contains it is unreachable.  Will the Foo object be queued on REF_QUEUE?","title":"What happens when a PhantomReference becomes unreachable?","body":"<p>Consider the following code:</p>\n<pre><code>public static final ReferenceQueue&lt;Object&gt; REF_QUEUE = new ReferenceQueue&lt;&gt;();\n\npublic class Foo extends PhantomReference&lt;Object&gt; {\n    public Foo(Object obj) { super(obj, REF_QUEUE); }\n}\n\npublic class Bar {\n    private Foo foo;\n    public void refTest() {\n        foo = new Foo(new Apple(&quot;Cortland&quot;));\n        foo = null;\n    }\n}\n</code></pre>\n<p>The documentation for PhantomReference says that:</p>\n<blockquote>\n<p>If the garbage collector determines at a certain point in time that the referent of a phantom reference is phantom reachable, then at that time or at some later time it will enqueue the reference.</p>\n</blockquote>\n<p>In the <code>refTest</code> method, however, the Cortland Apple becomes unreachable -- not phantom reachable -- because the Foo that contains it is unreachable.  Will the Foo object be queued on REF_QUEUE?</p>\n"},{"tags":["java","hibernate","jpa","spring-boot"],"comments":[{"owner":{"account_id":1291135,"reputation":2869,"user_id":2587343,"display_name":"Vlastimil Ovč&#225;č&#237;k"},"score":1,"creation_date":1453971319,"post_id":25283198,"comment_id":57836865,"body_markdown":"This question is about explicitly provided column name being **altered** rather than **ignored**. It boils down to [this](https://github.com/hibernate/hibernate-orm/blob/5.0/hibernate-core/src/main/java/org/hibernate/cfg/ImprovedNamingStrategy.java#L52) being executed instead of expected [transparent variant](https://github.com/hibernate/hibernate-orm/blob/5.0/hibernate-core/src/main/java/org/hibernate/cfg/DefaultNamingStrategy.java#L48). Hibernate may actually ignore `@Column(name=&quot;...&quot;)` annotation, for example when you use other than expected access type, but that&#39;s not the case here.","body":"This question is about explicitly provided column name being <b>altered</b> rather than <b>ignored</b>. It boils down to <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.0/hibernate-core/src/main/java/org/hibernate/cfg/ImprovedNamingStrategy.java#L52\" rel=\"nofollow noreferrer\">this</a> being executed instead of expected <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.0/hibernate-core/src/main/java/org/hibernate/cfg/DefaultNamingStrategy.java#L48\" rel=\"nofollow noreferrer\">transparent variant</a>. Hibernate may actually ignore <code>@Column(name=&quot;...&quot;)</code> annotation, for example when you use other than expected access type, but that&#39;s not the case here."}],"answers":[{"tags":[],"owner":{"account_id":1656890,"reputation":8197,"user_id":1526192,"display_name":"Phil Webb"},"down_vote_count":1,"up_vote_count":96,"is_accepted":false,"score":95,"last_activity_date":1407955772,"creation_date":1407955772,"answer_id":25293929,"question_id":25283198,"body_markdown":"By default Spring uses `org.springframework.boot.orm.jpa.SpringNamingStrategy` to generate table names. This is a very thin extension of `org.hibernate.cfg.ImprovedNamingStrategy`. The `tableName` method in that class is passed a source `String` value but it is unaware if it comes from a `@Column.name` attribute or if it has been implicitly generated from the field name.\r\n\r\nThe `ImprovedNamingStrategy` will convert `CamelCase` to `SNAKE_CASE` where as the `EJB3NamingStrategy` just uses the table name unchanged.\r\n\r\nIf you don&#39;t want to change the naming strategy you could always just specify your column name in lowercase:\r\n\r\n    @Column(name=&quot;testname&quot;)","title":"Spring Boot + JPA : Column name annotation ignored","body":"<p>By default Spring uses <code>org.springframework.boot.orm.jpa.SpringNamingStrategy</code> to generate table names. This is a very thin extension of <code>org.hibernate.cfg.ImprovedNamingStrategy</code>. The <code>tableName</code> method in that class is passed a source <code>String</code> value but it is unaware if it comes from a <code>@Column.name</code> attribute or if it has been implicitly generated from the field name.</p>\n\n<p>The <code>ImprovedNamingStrategy</code> will convert <code>CamelCase</code> to <code>SNAKE_CASE</code> where as the <code>EJB3NamingStrategy</code> just uses the table name unchanged.</p>\n\n<p>If you don't want to change the naming strategy you could always just specify your column name in lowercase:</p>\n\n<pre><code>@Column(name=\"testname\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306810,"reputation":895,"user_id":617776,"display_name":"ncaralicea"},"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1414148079,"creation_date":1414148079,"answer_id":26546541,"question_id":25283198,"body_markdown":"It seems that \r\n\r\n&gt; @Column(name=&quot;..&quot;)\r\n\r\nis completely ignored unless there is\r\n\r\n&gt; spring.jpa.hibernate.naming_strategy=org.hibernate.cfg.EJB3NamingStrategy\r\n\r\nspecified, so to me this is a bug. \r\n\r\nI spent a few hours trying to figure out why @Column(name=&quot;..&quot;) was ignored.\r\n","title":"Spring Boot + JPA : Column name annotation ignored","body":"<p>It seems that </p>\n\n<blockquote>\n  <p>@Column(name=\"..\")</p>\n</blockquote>\n\n<p>is completely ignored unless there is</p>\n\n<blockquote>\n  <p>spring.jpa.hibernate.naming_strategy=org.hibernate.cfg.EJB3NamingStrategy</p>\n</blockquote>\n\n<p>specified, so to me this is a bug. </p>\n\n<p>I spent a few hours trying to figure out why @Column(name=\"..\") was ignored.</p>\n"},{"tags":[],"owner":{"account_id":1657823,"reputation":3774,"user_id":1526853,"display_name":"teteArg"},"down_vote_count":0,"up_vote_count":243,"is_accepted":true,"score":243,"last_activity_date":1633690217,"creation_date":1470836422,"answer_id":38875123,"question_id":25283198,"body_markdown":"For Hibernate 5, I solved this issue by adding the following lines in my application.properties file:\r\n\r\n```properties\r\nspring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n```\r\n","title":"Spring Boot + JPA : Column name annotation ignored","body":"<p>For Hibernate 5, I solved this issue by adding the following lines in my application.properties file:</p>\n<pre><code>spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395862,"reputation":211,"user_id":5527513,"display_name":"Romeo Jr Maranan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1474072406,"creation_date":1474072406,"answer_id":39541737,"question_id":25283198,"body_markdown":"[teteArg][1], thank you so much.\r\nJust an added information so, everyone bumping into this question will be able to understand why.\r\n\r\nWhat [teteArg][1] said is indicated on the Spring Boot Common Properties: [http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html][2]\r\n\r\nApparently, *spring.jpa.hibernate.naming.strategy* is not a supported property for Spring JPA implementation using Hibernate 5.\r\n\r\n  [1]: https://stackoverflow.com/users/1526853/tetearg\r\n  [2]: http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html","title":"Spring Boot + JPA : Column name annotation ignored","body":"<p><a href=\"https://stackoverflow.com/users/1526853/tetearg\">teteArg</a>, thank you so much.\nJust an added information so, everyone bumping into this question will be able to understand why.</p>\n\n<p>What <a href=\"https://stackoverflow.com/users/1526853/tetearg\">teteArg</a> said is indicated on the Spring Boot Common Properties: <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html</a></p>\n\n<p>Apparently, <em>spring.jpa.hibernate.naming.strategy</em> is not a supported property for Spring JPA implementation using Hibernate 5.</p>\n"},{"tags":[],"owner":{"account_id":83972,"reputation":1932,"user_id":235041,"accept_rate":75,"display_name":"Sanjiv Jivan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1489766049,"creation_date":1489766049,"answer_id":42861960,"question_id":25283198,"body_markdown":"The only solution that worked for me was the one posted by teteArg above. I&#39;m on Spring Boot 1.4.2 w/Hibernate 5. Namely \r\n\r\n    spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\nFor additional insight I&#39;m posting the call trace so that its clear what calls Spring is making into Hibernate to setup the naming strategy.\r\n\r\n    \t  at org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl.toPhysicalColumnName(PhysicalNamingStrategyStandardImpl.java:46)\r\n\t  at org.hibernate.cfg.Ejb3Column.redefineColumnName(Ejb3Column.java:309)\r\n\t  at org.hibernate.cfg.Ejb3Column.initMappingColumn(Ejb3Column.java:234)\r\n\t  at org.hibernate.cfg.Ejb3Column.bind(Ejb3Column.java:206)\r\n\t  at org.hibernate.cfg.Ejb3DiscriminatorColumn.buildDiscriminatorColumn(Ejb3DiscriminatorColumn.java:82)\r\n\t  at org.hibernate.cfg.AnnotationBinder.processSingleTableDiscriminatorProperties(AnnotationBinder.java:797)\r\n\t  at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:561)\r\n\t  at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:245)\r\n\t  at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:222)\r\n\t  at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:265)\r\n\t  at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:847)\r\n\t  at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:874)\r\n\t  at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60)\r\n\t  at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:353)\r\n\t  at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:373)\r\n\t  at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:362)\r\n\t  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1642)\r\n\t  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1579)\r\n\t  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n\t  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\t  at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\t  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\t  - locked &lt;0x1687&gt; (a java.util.concurrent.ConcurrentHashMap)\r\n\t  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\t  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\t  at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081)\r\n\t  at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856)\r\n\t  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\r\n\t  - locked &lt;0x1688&gt; (a java.lang.Object)\r\n\t  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761)\r\n\t  at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:371)\r\n\t  at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n\t  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1186)\r\n\t  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1175)\r\n","title":"Spring Boot + JPA : Column name annotation ignored","body":"<p>The only solution that worked for me was the one posted by teteArg above. I'm on Spring Boot 1.4.2 w/Hibernate 5. Namely </p>\n\n<pre><code>spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n\n<p>For additional insight I'm posting the call trace so that its clear what calls Spring is making into Hibernate to setup the naming strategy.</p>\n\n<pre><code>      at org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl.toPhysicalColumnName(PhysicalNamingStrategyStandardImpl.java:46)\n  at org.hibernate.cfg.Ejb3Column.redefineColumnName(Ejb3Column.java:309)\n  at org.hibernate.cfg.Ejb3Column.initMappingColumn(Ejb3Column.java:234)\n  at org.hibernate.cfg.Ejb3Column.bind(Ejb3Column.java:206)\n  at org.hibernate.cfg.Ejb3DiscriminatorColumn.buildDiscriminatorColumn(Ejb3DiscriminatorColumn.java:82)\n  at org.hibernate.cfg.AnnotationBinder.processSingleTableDiscriminatorProperties(AnnotationBinder.java:797)\n  at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:561)\n  at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:245)\n  at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:222)\n  at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:265)\n  at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:847)\n  at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:874)\n  at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60)\n  at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:353)\n  at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:373)\n  at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:362)\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1642)\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1579)\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n  at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n  - locked &lt;0x1687&gt; (a java.util.concurrent.ConcurrentHashMap)\n  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n  at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081)\n  at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856)\n  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\n  - locked &lt;0x1688&gt; (a java.lang.Object)\n  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761)\n  at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:371)\n  at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1186)\n  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1175)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5640424,"reputation":1415,"user_id":4464457,"display_name":"Orhan"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1498122221,"creation_date":1498122221,"answer_id":44694896,"question_id":25283198,"body_markdown":"The default strategy for `@Column(name=&quot;TestName&quot;)` will be `test_name`, this is correct behavior!\r\n\r\nIf you have a column named `TestName` in your database you should change Column annotation to `@Column(name=&quot;testname&quot;)`. \r\n\r\nThis works because database does not care if you name your column TestName or testname (**column names are case insensitive!!**). \r\n\r\nBut beware, the same does not apply for database name and table names, that are case sensitive on Unix systems but case in sensitive on Windows systems (the fact that probably kept a lot of people awake at night, working on windows but deploying on linux :))","title":"Spring Boot + JPA : Column name annotation ignored","body":"<p>The default strategy for <code>@Column(name=\"TestName\")</code> will be <code>test_name</code>, this is correct behavior!</p>\n\n<p>If you have a column named <code>TestName</code> in your database you should change Column annotation to <code>@Column(name=\"testname\")</code>. </p>\n\n<p>This works because database does not care if you name your column TestName or testname (<strong>column names are case insensitive!!</strong>). </p>\n\n<p>But beware, the same does not apply for database name and table names, that are case sensitive on Unix systems but case in sensitive on Windows systems (the fact that probably kept a lot of people awake at night, working on windows but deploying on linux :))</p>\n"},{"tags":[],"owner":{"account_id":12503841,"reputation":374,"user_id":9101345,"display_name":"Dean"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1538942269,"creation_date":1521835968,"answer_id":49457639,"question_id":25283198,"body_markdown":"If you want to use @Column(...), then use small-case letters always even though your actual DB column is in camel-case.\r\n\r\nExample: If your actual DB column name is `TestName` then use: \r\n\r\n      @Column(name=&quot;testname&quot;) //all small-case\r\n\r\nIf you don&#39;t like that, then simply change the actual DB column name into:\r\ntest_name\r\n","title":"Spring Boot + JPA : Column name annotation ignored","body":"<p>If you want to use @Column(...), then use small-case letters always even though your actual DB column is in camel-case.</p>\n\n<p>Example: If your actual DB column name is <code>TestName</code> then use: </p>\n\n<pre><code>  @Column(name=\"testname\") //all small-case\n</code></pre>\n\n<p>If you don't like that, then simply change the actual DB column name into:\ntest_name</p>\n"},{"tags":[],"owner":{"account_id":8687130,"reputation":3464,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552586255,"creation_date":1552586255,"answer_id":55169158,"question_id":25283198,"body_markdown":"In my case, the annotation was on the getter() method instead of the field itself (ported from a legacy application).  \r\n\r\nSpring ignores the annotation in this case as well but doesn&#39;t complain.  The solution was to move it to the field instead of the getter.","title":"Spring Boot + JPA : Column name annotation ignored","body":"<p>In my case, the annotation was on the getter() method instead of the field itself (ported from a legacy application).  </p>\n\n<p>Spring ignores the annotation in this case as well but doesn't complain.  The solution was to move it to the field instead of the getter.</p>\n"},{"tags":[],"owner":{"account_id":15519157,"reputation":91,"user_id":11195805,"display_name":"Mohammad Cali"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1555141220,"creation_date":1555141076,"answer_id":55663145,"question_id":25283198,"body_markdown":"Turns out that I just have to convert `@column` name testName to all small letters, since it was initially in camel case.\r\n\r\nAlthough I was not able to use the official answer, the question was able to help me solve my problem by letting me know what to investigate.\r\n\r\nChange:\r\n\r\n    @Column(name=&quot;testName&quot;)\r\n    private String testName;\r\n\r\nTo:\r\n\r\n    @Column(name=&quot;testname&quot;)\r\n    private String testName;","title":"Spring Boot + JPA : Column name annotation ignored","body":"<p>Turns out that I just have to convert <code>@column</code> name testName to all small letters, since it was initially in camel case.</p>\n\n<p>Although I was not able to use the official answer, the question was able to help me solve my problem by letting me know what to investigate.</p>\n\n<p>Change:</p>\n\n<pre><code>@Column(name=\"testName\")\nprivate String testName;\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>@Column(name=\"testname\")\nprivate String testName;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11371379,"reputation":721,"user_id":8336869,"display_name":"Piaget Hadzizi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597306133,"creation_date":1597306133,"answer_id":63390805,"question_id":25283198,"body_markdown":"I tried all the above and it didn&#39;t work. This worked for me:\r\n\r\n    @Column(name=&quot;TestName&quot;)\r\n    public String getTestName(){//.........\r\n**Annotate the getter instead of the variable**\r\n","title":"Spring Boot + JPA : Column name annotation ignored","body":"<p>I tried all the above and it didn't work. This worked for me:</p>\n<pre><code>@Column(name=&quot;TestName&quot;)\npublic String getTestName(){//.........\n</code></pre>\n<p><strong>Annotate the getter instead of the variable</strong></p>\n"},{"tags":[],"owner":{"account_id":17911624,"reputation":81,"user_id":13013613,"display_name":"Zakib Ali"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598326372,"creation_date":1598326372,"answer_id":63571671,"question_id":25283198,"body_markdown":"you have to follow some naming strategy when you work with spring jpa. The column name should be in lowercase or uppercase.\r\n\r\n    @Column(name=&quot;TESTNAME&quot;)\r\n    private String testName;\r\n\r\nor \r\n\r\n    @Column(name=&quot;testname&quot;)\r\n    private String testName;\r\n\r\nkeep in mind that, if you have your column name &quot;test_name&quot; format in the database then you have to follow the following way\r\n\r\n    @Column(name=&quot;TestName&quot;)\r\n    private String testName;\r\n\r\nor \r\n\r\n    @Column(name=&quot;TEST_NAME&quot;)\r\n    private String testName;\r\n\r\nor \r\n\r\n    @Column(name=&quot;test_name&quot;)\r\n    private String testName;\r\n\r\n","title":"Spring Boot + JPA : Column name annotation ignored","body":"<p>you have to follow some naming strategy when you work with spring jpa. The column name should be in lowercase or uppercase.</p>\n<pre><code>@Column(name=&quot;TESTNAME&quot;)\nprivate String testName;\n</code></pre>\n<p>or</p>\n<pre><code>@Column(name=&quot;testname&quot;)\nprivate String testName;\n</code></pre>\n<p>keep in mind that, if you have your column name &quot;test_name&quot; format in the database then you have to follow the following way</p>\n<pre><code>@Column(name=&quot;TestName&quot;)\nprivate String testName;\n</code></pre>\n<p>or</p>\n<pre><code>@Column(name=&quot;TEST_NAME&quot;)\nprivate String testName;\n</code></pre>\n<p>or</p>\n<pre><code>@Column(name=&quot;test_name&quot;)\nprivate String testName;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20001617,"reputation":71,"user_id":14660473,"display_name":"dawidR"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1605696291,"creation_date":1605696291,"answer_id":64891500,"question_id":25283198,"body_markdown":"I also tried all the above and nothing works. I got field called &quot;gunName&quot; in DB and i couldn&#39;t handle this, till i used example below:\r\n\r\n    @Column(name=&quot;\\&quot;gunName\\&quot;&quot;)\r\n    public String gunName;\r\n\r\nwith properties:\r\n\r\n    spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\nalso see this:\r\nhttps://stackoverflow.com/a/35708531","title":"Spring Boot + JPA : Column name annotation ignored","body":"<p>I also tried all the above and nothing works. I got field called &quot;gunName&quot; in DB and i couldn't handle this, till i used example below:</p>\n<pre><code>@Column(name=&quot;\\&quot;gunName\\&quot;&quot;)\npublic String gunName;\n</code></pre>\n<p>with properties:</p>\n<pre><code>spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n<p>also see this:\n<a href=\"https://stackoverflow.com/a/35708531\">https://stackoverflow.com/a/35708531</a></p>\n"},{"tags":[],"owner":{"account_id":3754611,"reputation":51,"user_id":3121260,"display_name":"user3121260"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636843718,"creation_date":1636843718,"answer_id":69958889,"question_id":25283198,"body_markdown":"Using maven 3.8.3, I found funny case where the column name of the table is following the get/set method naming. Even when I added a new field in the entity, it didn&#39;t create a new column in the table if I didn&#39;t specify the get/set method. \r\n\r\nBut, if I remove all get/set methods from the entity class, the naming of columns in the table follows the naming of fields in the entity class.\r\n\r\n(I&#39;m a rookie, it might be a feature which ensures logical correctness :)","title":"Spring Boot + JPA : Column name annotation ignored","body":"<p>Using maven 3.8.3, I found funny case where the column name of the table is following the get/set method naming. Even when I added a new field in the entity, it didn't create a new column in the table if I didn't specify the get/set method.</p>\n<p>But, if I remove all get/set methods from the entity class, the naming of columns in the table follows the naming of fields in the entity class.</p>\n<p>(I'm a rookie, it might be a feature which ensures logical correctness :)</p>\n"},{"tags":[],"owner":{"account_id":7434067,"reputation":41,"user_id":5654073,"display_name":"Frank Rakhorst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681285042,"creation_date":1681285042,"answer_id":75993019,"question_id":25283198,"body_markdown":"I had a similar issue, caused by the ID classes. The ID classes die not have the column annotation. For one out of the three classes it was an issue. I could not find out why the other ID classes dit translate to correct values. \r\n\r\n","title":"Spring Boot + JPA : Column name annotation ignored","body":"<p>I had a similar issue, caused by the ID classes. The ID classes die not have the column annotation. For one out of the three classes it was an issue. I could not find out why the other ID classes dit translate to correct values.</p>\n"}],"owner":{"account_id":407330,"reputation":2198,"user_id":777344,"accept_rate":100,"display_name":"Kamil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229324,"favorite_count":0,"down_vote_count":0,"up_vote_count":176,"accepted_answer_id":38875123,"answer_count":14,"score":176,"last_activity_date":1697103137,"creation_date":1407923705,"question_id":25283198,"body_markdown":"I have a Spring Boot application with dependency `spring-boot-starter-data-jpa`. My entity class has a column annotation with a column name. For example:\r\n\r\n    @Column(name=&quot;TestName&quot;)\r\n    private String testName;\r\n\r\nDespite this, SQL generates `test_name` as the column&#39;s name. After looking for a solution I have found that setting `spring.jpa.hibernate.naming_strategy=org.hibernate.cfg.EJB3NamingStrategy` solves the problem (the column name is taken from the column annotation).\r\n\r\nStill, my question is: why without `naming_strategy` set to `EJB3NamingStrategy` is JPA ignoring the column annotation? Maybe the hibernate dialect has something to do with it? I&#39;m connecting to MS SQL 2014 Express and my logs contain:\r\n\r\n    Unknown Microsoft SQL Server major version [12] using SQL Server 2000 dialect\r\n    Using dialect: org.hibernate.dialect.SQLServerDialect ","title":"Spring Boot + JPA : Column name annotation ignored","body":"<p>I have a Spring Boot application with dependency <code>spring-boot-starter-data-jpa</code>. My entity class has a column annotation with a column name. For example:</p>\n<pre><code>@Column(name=&quot;TestName&quot;)\nprivate String testName;\n</code></pre>\n<p>Despite this, SQL generates <code>test_name</code> as the column's name. After looking for a solution I have found that setting <code>spring.jpa.hibernate.naming_strategy=org.hibernate.cfg.EJB3NamingStrategy</code> solves the problem (the column name is taken from the column annotation).</p>\n<p>Still, my question is: why without <code>naming_strategy</code> set to <code>EJB3NamingStrategy</code> is JPA ignoring the column annotation? Maybe the hibernate dialect has something to do with it? I'm connecting to MS SQL 2014 Express and my logs contain:</p>\n<pre><code>Unknown Microsoft SQL Server major version [12] using SQL Server 2000 dialect\nUsing dialect: org.hibernate.dialect.SQLServerDialect \n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","timezone","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":29639577,"reputation":1,"user_id":22716069,"display_name":"max_590er"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697102963,"creation_date":1697102963,"answer_id":77279373,"question_id":77279350,"body_markdown":"To get the PostgreSQL database timezone setting from Java code, you can execute a SQL query directly on the database using `JdbcTemplate`. However, keep in mind that PostgreSQL does not have a direct SQL command to retrieve the timezone setting. PostgreSQL uses the operating system&#39;s timezone by default, and you might need to check the system timezone if no explicit timezone is set in the PostgreSQL configuration.\r\n\r\nAssuming you have a `JdbcTemplate` instance, you can execute the following query to get the PostgreSQL database&#39;s timezone setting:\r\n\r\n    ```\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class DatabaseTimeZoneResolver {\r\n    \r\n        private final JdbcTemplate jdbcTemplate;\r\n    \r\n        @Autowired\r\n        public DatabaseTimeZoneResolver(JdbcTemplate jdbcTemplate) {\r\n            this.jdbcTemplate = jdbcTemplate;\r\n        }\r\n    \r\n        public String getDatabaseTimeZone() {\r\n            // Query to retrieve PostgreSQL timezone setting\r\n            String sql = &quot;SELECT current_setting(&#39;TIMEZONE&#39;)&quot;;\r\n    \r\n            // Execute the query and get the timezone setting\r\n            String timezone = jdbcTemplate.queryForObject(sql, String.class);\r\n    \r\n            return timezone;\r\n        }\r\n    }\r\n    ```\r\n\r\nIn this code, `DatabaseTimeZoneResolver` is a Spring component that uses `JdbcTemplate` to execute the SQL query. The `getDatabaseTimeZone()` method executes the query `SELECT current_setting(&#39;TIMEZONE&#39;)` to retrieve the database timezone setting and returns it as a `String`.\r\n\r\nMake sure that your `JdbcTemplate` bean is properly configured in your Spring application context. If your application is still returning the JVM timezone, it&#39;s possible that the PostgreSQL database is indeed using the system timezone, and you might need to check the operating system&#39;s timezone setting where PostgreSQL is installed.\r\n\r\nAdditionally, if you want to set a specific timezone for your PostgreSQL database, you can modify the PostgreSQL configuration file (usually `postgresql.conf`) and set the `timezone` parameter. After modifying the configuration, you need to restart the PostgreSQL server for the changes to take effect.","title":"Is there any way to obtain postgreSQL database timezone from Java code?","body":"<p>To get the PostgreSQL database timezone setting from Java code, you can execute a SQL query directly on the database using <code>JdbcTemplate</code>. However, keep in mind that PostgreSQL does not have a direct SQL command to retrieve the timezone setting. PostgreSQL uses the operating system's timezone by default, and you might need to check the system timezone if no explicit timezone is set in the PostgreSQL configuration.</p>\n<p>Assuming you have a <code>JdbcTemplate</code> instance, you can execute the following query to get the PostgreSQL database's timezone setting:</p>\n<pre><code>```\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class DatabaseTimeZoneResolver {\n\n    private final JdbcTemplate jdbcTemplate;\n\n    @Autowired\n    public DatabaseTimeZoneResolver(JdbcTemplate jdbcTemplate) {\n        this.jdbcTemplate = jdbcTemplate;\n    }\n\n    public String getDatabaseTimeZone() {\n        // Query to retrieve PostgreSQL timezone setting\n        String sql = &quot;SELECT current_setting('TIMEZONE')&quot;;\n\n        // Execute the query and get the timezone setting\n        String timezone = jdbcTemplate.queryForObject(sql, String.class);\n\n        return timezone;\n    }\n}\n```\n</code></pre>\n<p>In this code, <code>DatabaseTimeZoneResolver</code> is a Spring component that uses <code>JdbcTemplate</code> to execute the SQL query. The <code>getDatabaseTimeZone()</code> method executes the query <code>SELECT current_setting('TIMEZONE')</code> to retrieve the database timezone setting and returns it as a <code>String</code>.</p>\n<p>Make sure that your <code>JdbcTemplate</code> bean is properly configured in your Spring application context. If your application is still returning the JVM timezone, it's possible that the PostgreSQL database is indeed using the system timezone, and you might need to check the operating system's timezone setting where PostgreSQL is installed.</p>\n<p>Additionally, if you want to set a specific timezone for your PostgreSQL database, you can modify the PostgreSQL configuration file (usually <code>postgresql.conf</code>) and set the <code>timezone</code> parameter. After modifying the configuration, you need to restart the PostgreSQL server for the changes to take effect.</p>\n"}],"owner":{"account_id":24329382,"reputation":3,"user_id":18268473,"display_name":"Mira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697628113,"answer_count":1,"score":0,"last_activity_date":1697102963,"creation_date":1697102783,"question_id":77279350,"body_markdown":"I have Java Spring Boot application. I use HikariDataSource to connect to postgreSQL database. I use jdbcTemplate to send sql queries to database. \r\nI want to get postreSQL database timezone from its settings, but I only obtain my local JVM timezone.\r\n\r\n\r\nI have already tried such SQL queries:\r\n\r\n```\r\nshow timezone\r\n```\r\n\r\n```\r\nSELECT * FROM pg_timezone_names WHERE abbrev = current_setting(&#39;TIMEZONE&#39;)\r\n```\r\n\r\n\r\n```\r\nSELECT current_setting(&#39;TIMEZONE&#39;)\r\n```\r\nBut all these queries returned me my local timezone, not database timezone.\r\nHow can I get postgreSQL database timezone setting in Java Code? Please, help\r\n","title":"Is there any way to obtain postgreSQL database timezone from Java code?","body":"<p>I have Java Spring Boot application. I use HikariDataSource to connect to postgreSQL database. I use jdbcTemplate to send sql queries to database.\nI want to get postreSQL database timezone from its settings, but I only obtain my local JVM timezone.</p>\n<p>I have already tried such SQL queries:</p>\n<pre><code>show timezone\n</code></pre>\n<pre><code>SELECT * FROM pg_timezone_names WHERE abbrev = current_setting('TIMEZONE')\n</code></pre>\n<pre><code>SELECT current_setting('TIMEZONE')\n</code></pre>\n<p>But all these queries returned me my local timezone, not database timezone.\nHow can I get postgreSQL database timezone setting in Java Code? Please, help</p>\n"},{"tags":["java","android","oauth","okhttp"],"comments":[{"owner":{"account_id":3784071,"reputation":824,"user_id":3142625,"accept_rate":84,"display_name":"Coder123"},"score":0,"creation_date":1564475822,"post_id":57267492,"comment_id":101033552,"body_markdown":"what is the response u get? does it crash? could you specify more?","body":"what is the response u get? does it crash? could you specify more?"},{"owner":{"account_id":10988585,"reputation":1,"user_id":8073375,"display_name":"dornadev"},"score":0,"creation_date":1564476830,"post_id":57267492,"comment_id":101034133,"body_markdown":"401 error @Coder123","body":"401 error @Coder123"},{"owner":{"account_id":3784071,"reputation":824,"user_id":3142625,"accept_rate":84,"display_name":"Coder123"},"score":0,"creation_date":1564477381,"post_id":57267492,"comment_id":101034464,"body_markdown":"and you are 100% sure you pass the same header as in the postman?","body":"and you are 100% sure you pass the same header as in the postman?"},{"owner":{"account_id":10988585,"reputation":1,"user_id":8073375,"display_name":"dornadev"},"score":0,"creation_date":1564477665,"post_id":57267492,"comment_id":101034630,"body_markdown":"yes I&#39;m sure its return     {&quot;code&quot;:&quot;woocommerce_rest_authentication_error&quot;,&quot;message&quot;:&quot;\\u0628\\u0631\\u0686\\u0633\\u0628 \\u0632\\u0645\\u0627\\u0646 \\u0646\\u0627\\u0645\\u0639\\u062a\\u0628\\u0631 \\u0627\\u0633\\u062a.&quot;,&quot;data&quot;:{&quot;status&quot;:401}}     @Coder123","body":"yes I&#39;m sure its return     {&quot;code&quot;:&quot;woocommerce_rest_authentication_error&quot;,&quot;message&quot;:&quot;\\&zwnj;&#8203;u0628\\u0631\\u0686\\u0&zwnj;&#8203;633\\u0628 \\u0632\\u0645\\u0627\\u0646 \\u0646\\u0627\\u0645\\u0639\\u062a\\u0628\\u0631 \\u0627\\u0633\\u062a.&quot;,&quot;data&quot;:{&quot;status&quot;:401}}     @Coder123"}],"answers":[{"tags":[],"owner":{"account_id":17269040,"reputation":1,"user_id":12505159,"display_name":"Oleh Novosad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697102938,"creation_date":1599845554,"answer_id":63851800,"question_id":57267492,"body_markdown":"Seems like the code generated by Postman does not respect the Authentication section.\r\n\r\nGo to the Headers section and click &quot;9 hidden&quot; to see the &quot;Authorization&quot; header\r\n\r\n[![show hidden][1]]\r\n\r\n[![see the auth header][2]]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Tay3T.png\r\n  [2]: https://i.stack.imgur.com/DSiGz.png","title":"Android Oauth 1.0 Authentication with OkHttp","body":"<p>Seems like the code generated by Postman does not respect the Authentication section.</p>\n<p>Go to the Headers section and click &quot;9 hidden&quot; to see the &quot;Authorization&quot; header</p>\n<p>[<img src=\"https://i.stack.imgur.com/Tay3T.png\" alt=\"show hidden\" />]</p>\n<p>[<img src=\"https://i.stack.imgur.com/DSiGz.png\" alt=\"see the auth header\" />]</p>\n"}],"owner":{"account_id":10988585,"reputation":1,"user_id":8073375,"display_name":"dornadev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":804,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697102938,"creation_date":1564475731,"question_id":57267492,"body_markdown":"I am trying to Authenticate Oauth 1.0 in android.\r\nI send a request with postman and get a response via postman and this program gives me a Java code but it doesn&#39;t work.its return 401 error\r\n\r\n    \r\n    \r\n    OkHttpClient client = new OkHttpClient();\r\n\r\n    Request request = new Request.Builder()\r\n    .url(&quot;https://test.com/wp-json/wc/v3/customers? \r\n    oauth_consumer_key=KEY&amp;oauth_token=&amp;oauth_signature_method=HMAC-HA1&amp;oauth_timestamp=1564471240&amp;oauth_nonce=iEo45PESRdt&amp;oauth_version=1.0&amp;oauth_signature=NQR4Xr5OKlb3H+rL0y2PNLdfXpY=&quot;)\r\n      .get()\r\n      .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n      .addHeader(&quot;User-Agent&quot;, &quot;PostmanRuntime/7.15.2&quot;)\r\n      .addHeader(&quot;Accept&quot;, &quot;*/*&quot;)\r\n      .addHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;)\r\n      .addHeader(&quot;Postman-Token&quot;, &quot;6fb2e16e-376c-453a-bf30-18ef6c00020c,c14db88a-55dd-4287-a132-8ca441a5e3f0&quot;)\r\n      .addHeader(&quot;Host&quot;, &quot;test.com&quot;)\r\n      .addHeader(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;)\r\n      .addHeader(&quot;Connection&quot;, &quot;keep-alive&quot;)\r\n      .addHeader(&quot;cache-control&quot;, &quot;no-cache&quot;)\r\n      .build();\r\n\r\n    Response response = client.newCall(request).execute();","title":"Android Oauth 1.0 Authentication with OkHttp","body":"<p>I am trying to Authenticate Oauth 1.0 in android.\nI send a request with postman and get a response via postman and this program gives me a Java code but it doesn't work.its return 401 error</p>\n\n<pre><code>OkHttpClient client = new OkHttpClient();\n\nRequest request = new Request.Builder()\n.url(\"https://test.com/wp-json/wc/v3/customers? \noauth_consumer_key=KEY&amp;oauth_token=&amp;oauth_signature_method=HMAC-HA1&amp;oauth_timestamp=1564471240&amp;oauth_nonce=iEo45PESRdt&amp;oauth_version=1.0&amp;oauth_signature=NQR4Xr5OKlb3H+rL0y2PNLdfXpY=\")\n  .get()\n  .addHeader(\"Content-Type\", \"application/x-www-form-urlencoded\")\n  .addHeader(\"User-Agent\", \"PostmanRuntime/7.15.2\")\n  .addHeader(\"Accept\", \"*/*\")\n  .addHeader(\"Cache-Control\", \"no-cache\")\n  .addHeader(\"Postman-Token\", \"6fb2e16e-376c-453a-bf30-18ef6c00020c,c14db88a-55dd-4287-a132-8ca441a5e3f0\")\n  .addHeader(\"Host\", \"test.com\")\n  .addHeader(\"Accept-Encoding\", \"gzip, deflate\")\n  .addHeader(\"Connection\", \"keep-alive\")\n  .addHeader(\"cache-control\", \"no-cache\")\n  .build();\n\nResponse response = client.newCall(request).execute();\n</code></pre>\n"},{"tags":["java","utf-8"],"comments":[{"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":2,"creation_date":1303301587,"post_id":5729806,"comment_id":6553503,"body_markdown":"It&#39;s unclear what exactly you&#39;re trying to do. Does myString correctly contain the &#241; character and you have problems converting it to a byte array (in that case see answers from Peter and Amir), or is myString corrupted and you&#39;re trying to fix it (in that case, see answers from Joachim and me)?","body":"It&#39;s unclear what exactly you&#39;re trying to do. Does myString correctly contain the &#241; character and you have problems converting it to a byte array (in that case see answers from Peter and Amir), or is myString corrupted and you&#39;re trying to fix it (in that case, see answers from Joachim and me)?"},{"owner":{"account_id":231164,"reputation":6967,"user_id":495239,"accept_rate":81,"display_name":"Alex"},"score":0,"creation_date":1303302006,"post_id":5729806,"comment_id":6553630,"body_markdown":"I need to send myString to a server with utf-8 encoding and I need to convert the &quot;&#241;&quot; character to utf-8 encoding.","body":"I need to send myString to a server with utf-8 encoding and I need to convert the &quot;&#241;&quot; character to utf-8 encoding."},{"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1303302755,"post_id":5729806,"comment_id":6553884,"body_markdown":"Well, if that server expects UTF-8 then what you need to send it are bytes, not a String. So as per Peter&#39;s answer, specify the encoding in the first line and drop the second line.","body":"Well, if that server expects UTF-8 then what you need to send it are bytes, not a String. So as per Peter&#39;s answer, specify the encoding in the first line and drop the second line."},{"owner":{"account_id":216196,"reputation":79145,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1303398329,"post_id":5729806,"comment_id":6575434,"body_markdown":"@Michael: I agree that it isn’t clear what the real intent is here. There seem to be a lot of questions where people are trying to explicit conversions between Strings and bytes rather than letting the `{In,Out}putStream{Read,Writ}ers` do it for them. I wonder why?","body":"@Michael: I agree that it isn’t clear what the real intent is here. There seem to be a lot of questions where people are trying to explicit conversions between Strings and bytes rather than letting the <code>{In,Out}putStream{Read,Writ}ers</code> do it for them. I wonder why?"},{"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1303399256,"post_id":5729806,"comment_id":6575723,"body_markdown":"@tchrist: my guess is that those questions are asked by people whose previous experience is with languages like C or PHP where a string is basically the same thing as a byte array and you have to track its encoding separately (and converting a string from one encoding to another one has meaning).","body":"@tchrist: my guess is that those questions are asked by people whose previous experience is with languages like C or PHP where a string is basically the same thing as a byte array and you have to track its encoding separately (and converting a string from one encoding to another one has meaning)."},{"owner":{"account_id":216196,"reputation":79145,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":1,"creation_date":1303399490,"post_id":5729806,"comment_id":6575803,"body_markdown":"@Michael: Thanks, I suppose that makes sense. But it also makes it harder than it needs to be, doesn’t it? I am not very fond of languages that work that way, and so try to avoid working with them. I think Java’s model of Strings of characters instead of bytes makes things a whole lot easier. Perl and Python also share the “everything is Unicode strings” model. Yes, in all three you can still get at bytes if you work at it, but in practice it seems rare that you truly need to: that’s quite low-level. Plus it feels kinda like brushing a cat the wrong direction, if you know what I mean. :)","body":"@Michael: Thanks, I suppose that makes sense. But it also makes it harder than it needs to be, doesn’t it? I am not very fond of languages that work that way, and so try to avoid working with them. I think Java’s model of Strings of characters instead of bytes makes things a whole lot easier. Perl and Python also share the “everything is Unicode strings” model. Yes, in all three you can still get at bytes if you work at it, but in practice it seems rare that you truly need to: that’s quite low-level. Plus it feels kinda like brushing a cat the wrong direction, if you know what I mean. :)"},{"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1303400685,"post_id":5729806,"comment_id":6576172,"body_markdown":"@tchrist: I completely agree that a strong string abstraction is a very good thing. But C is from a time long before Unicode existed, when there was no single encoding that could represent all characters, and when *any* kind of abstraction over pure bytes would have been an intolerable performance penalty. Java programmers are lucky that it adapted Unicode relatively well from the beginning. Perl and Python are older and had Unicode support retrofitted, which makes it much less clean (explicit str/unicode duality in Python, nasty implicit UTF-8 flag in Perl.","body":"@tchrist: I completely agree that a strong string abstraction is a very good thing. But C is from a time long before Unicode existed, when there was no single encoding that could represent all characters, and when <i>any</i> kind of abstraction over pure bytes would have been an intolerable performance penalty. Java programmers are lucky that it adapted Unicode relatively well from the beginning. Perl and Python are older and had Unicode support retrofitted, which makes it much less clean (explicit str/unicode duality in Python, nasty implicit UTF-8 flag in Perl."},{"owner":{"account_id":216196,"reputation":79145,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1303401673,"post_id":5729806,"comment_id":6576517,"body_markdown":"@Michael: The Python duality is pretty annoying; I am always forgetting `/u` in Python; same problem with PHP. With Perl 5.14, now in [RC1 testing](http://perlmonks.org/?node_id=900327), you can **finally** get [all Unicode strings](http://cpansearch.perl.org/src/JESSE/perl-5.14.0-RC1/pod/perldelta.pod). Perl regexes are still a lot more Unicode-friendly than Java’s, but I’ve been working with the [JDK7 people to fix that](http://old.nabble.com/%3Ci18n-dev%3E-Review-request%3A-7037261%3A-j.l.Character.isLowerCase-isUpperCase-need-to-match-the-Unicode-Standard-definition-td31437357.html).","body":"@Michael: The Python duality is pretty annoying; I am always forgetting <code>&#47;u</code> in Python; same problem with PHP. With Perl 5.14, now in <a href=\"http://perlmonks.org/?node_id=900327\" rel=\"nofollow noreferrer\">RC1 testing</a>, you can <b>finally</b> get <a href=\"http://cpansearch.perl.org/src/JESSE/perl-5.14.0-RC1/pod/perldelta.pod\" rel=\"nofollow noreferrer\">all Unicode strings</a>. Perl regexes are still a lot more Unicode-friendly than Java’s, but I’ve been working with the <a href=\"http://old.nabble.com/%3Ci18n-dev%3E-Review-request%3A-7037261%3A-j.l.Character.isLowerCase-isUpperCase-need-to-match-the-Unicode-Standard-definition-td31437357.html\" rel=\"nofollow noreferrer\">JDK7 people to fix that</a>."},{"owner":{"account_id":3063445,"reputation":3948,"user_id":2595658,"accept_rate":64,"display_name":"Paco Abato"},"score":0,"creation_date":1422949513,"post_id":5729806,"comment_id":44940098,"body_markdown":"possible duplicate of [How to convert Strings to and from UTF8 byte arrays in Java](http://stackoverflow.com/questions/88838/how-to-convert-strings-to-and-from-utf8-byte-arrays-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/88838/how-to-convert-strings-to-and-from-utf8-byte-arrays-in-java\">How to convert Strings to and from UTF8 byte arrays in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter Štibran&#253;"},"down_vote_count":1,"up_vote_count":78,"is_accepted":false,"score":77,"last_activity_date":1303300647,"creation_date":1303300647,"answer_id":5729823,"question_id":5729806,"body_markdown":"Use `byte[] ptext = String.getBytes(&quot;UTF-8&quot;);` instead of `getBytes()`. `getBytes()` uses so-called &quot;default encoding&quot;, which may not be UTF-8.","title":"Encode String to UTF-8","body":"<p>Use <code>byte[] ptext = String.getBytes(\"UTF-8\");</code> instead of <code>getBytes()</code>. <code>getBytes()</code> uses so-called \"default encoding\", which may not be UTF-8.</p>\n"},{"tags":[],"owner":{"account_id":55445,"reputation":77403,"user_id":166067,"accept_rate":77,"display_name":"Amir Rachum"},"down_vote_count":2,"up_vote_count":191,"is_accepted":false,"score":189,"last_activity_date":1534030994,"creation_date":1303300672,"answer_id":5729828,"question_id":5729806,"body_markdown":"How about using\r\n\r\n    ByteBuffer byteBuffer = StandardCharsets.UTF_8.encode(myString)","title":"Encode String to UTF-8","body":"<p>How about using</p>\n\n<pre><code>ByteBuffer byteBuffer = StandardCharsets.UTF_8.encode(myString)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":3,"up_vote_count":162,"is_accepted":true,"score":159,"last_activity_date":1647937642,"creation_date":1303300689,"answer_id":5729834,"question_id":5729806,"body_markdown":"`String` objects in Java use the UTF-16 encoding that can&#39;t be modified&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\nThe only thing that can have a different encoding is a `byte[]`. So if you need UTF-8 data, then you need a `byte[]`. If you have a `String` that contains unexpected data, then the problem is at some earlier place that incorrectly converted some binary data to a `String` (i.e. it was using the wrong encoding).\r\n\r\n&lt;sup&gt;* As a matter of implementation, `String` can [internally use a ISO-8859-1 encoded `byte[]`](https://openjdk.java.net/jeps/254) when the range of characters fits it, but that is an implementation-specific optimization that isn&#39;t visible to users of `String` (i.e. you&#39;ll never notice unless you dig into the source code or use reflection to dig into a `String` object).&lt;/sup&gt;","title":"Encode String to UTF-8","body":"<p><code>String</code> objects in Java use the UTF-16 encoding that can't be modified<sup>*</sup>.</p>\n<p>The only thing that can have a different encoding is a <code>byte[]</code>. So if you need UTF-8 data, then you need a <code>byte[]</code>. If you have a <code>String</code> that contains unexpected data, then the problem is at some earlier place that incorrectly converted some binary data to a <code>String</code> (i.e. it was using the wrong encoding).</p>\n<p><sup>* As a matter of implementation, <code>String</code> can <a href=\"https://openjdk.java.net/jeps/254\" rel=\"noreferrer\">internally use a ISO-8859-1 encoded <code>byte[]</code></a> when the range of characters fits it, but that is an implementation-specific optimization that isn't visible to users of <code>String</code> (i.e. you'll never notice unless you dig into the source code or use reflection to dig into a <code>String</code> object).</sup></p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1303300732,"creation_date":1303300732,"answer_id":5729843,"question_id":5729806,"body_markdown":"A Java String is internally always encoded in UTF-16 - but you really should think about it like this: an encoding is a way to translate between Strings and bytes.\r\n\r\nSo if you have an encoding problem, by the time you have String, it&#39;s too late to fix. You need to fix the place where you create that String from a file, DB or network connection.","title":"Encode String to UTF-8","body":"<p>A Java String is internally always encoded in UTF-16 - but you really should think about it like this: an encoding is a way to translate between Strings and bytes.</p>\n\n<p>So if you have an encoding problem, by the time you have String, it's too late to fix. You need to fix the place where you create that String from a file, DB or network connection.</p>\n"},{"tags":[],"owner":{"account_id":369450,"reputation":301,"user_id":716840,"display_name":"user716840"},"down_vote_count":6,"up_vote_count":31,"is_accepted":false,"score":25,"last_activity_date":1303318592,"creation_date":1303302288,"answer_id":5730210,"question_id":5729806,"body_markdown":"You can try this way.\r\n\r\n    byte ptext[] = myString.getBytes(&quot;ISO-8859-1&quot;); \r\n    String value = new String(ptext, &quot;UTF-8&quot;); ","title":"Encode String to UTF-8","body":"<p>You can try this way.</p>\n\n<pre><code>byte ptext[] = myString.getBytes(\"ISO-8859-1\"); \nString value = new String(ptext, \"UTF-8\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":73316,"reputation":9114,"user_id":211205,"display_name":"rzymek"},"down_vote_count":4,"up_vote_count":96,"is_accepted":false,"score":92,"last_activity_date":1491240589,"creation_date":1385556762,"answer_id":20243062,"question_id":5729806,"body_markdown":"In Java7 you can use:\r\n\r\n\timport static java.nio.charset.StandardCharsets.*;\r\n\r\n\tbyte[] ptext = myString.getBytes(ISO_8859_1); \r\n\tString value = new String(ptext, UTF_8); \r\n\r\nThis has the advantage over `getBytes(String)` that it does not declare `throws UnsupportedEncodingException`.\r\n\r\nIf you&#39;re using an older Java version you can declare the charset constants yourself:\r\n\r\n\timport java.nio.charset.Charset;\r\n\t\r\n\tpublic class StandardCharsets {\r\n\t\tpublic static final Charset ISO_8859_1 = Charset.forName(&quot;ISO-8859-1&quot;);\r\n\t\tpublic static final Charset UTF_8 = Charset.forName(&quot;UTF-8&quot;);\r\n\t\t//....\r\n\t}","title":"Encode String to UTF-8","body":"<p>In Java7 you can use:</p>\n\n<pre><code>import static java.nio.charset.StandardCharsets.*;\n\nbyte[] ptext = myString.getBytes(ISO_8859_1); \nString value = new String(ptext, UTF_8); \n</code></pre>\n\n<p>This has the advantage over <code>getBytes(String)</code> that it does not declare <code>throws UnsupportedEncodingException</code>.</p>\n\n<p>If you're using an older Java version you can declare the charset constants yourself:</p>\n\n<pre><code>import java.nio.charset.Charset;\n\npublic class StandardCharsets {\n    public static final Charset ISO_8859_1 = Charset.forName(\"ISO-8859-1\");\n    public static final Charset UTF_8 = Charset.forName(\"UTF-8\");\n    //....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1421871,"reputation":137,"user_id":1346337,"display_name":"Prasanth RJ"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1418111298,"creation_date":1418111298,"answer_id":27373800,"question_id":5729806,"body_markdown":"This solved my problem\r\n\r\n\r\n\t    String inputText = &quot;some text with escaped chars&quot;\r\n\t\tInputStream is = new ByteArrayInputStream(inputText.getBytes(&quot;UTF-8&quot;));","title":"Encode String to UTF-8","body":"<p>This solved my problem</p>\n\n<pre><code>    String inputText = \"some text with escaped chars\"\n    InputStream is = new ByteArrayInputStream(inputText.getBytes(\"UTF-8\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3184566,"reputation":309,"user_id":2690533,"display_name":"fedesanp"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1424374483,"creation_date":1424374483,"answer_id":28615311,"question_id":5729806,"body_markdown":"    String value = new String(myString.getBytes(&quot;UTF-8&quot;));\r\n\r\nand, if you want to read from text file with &quot;ISO-8859-1&quot; encoded:\r\n\r\n    String line;\r\n    String f = &quot;C:\\\\MyPath\\\\MyFile.txt&quot;;\r\n    try {\r\n        BufferedReader br = Files.newBufferedReader(Paths.get(f), Charset.forName(&quot;ISO-8859-1&quot;));\r\n        while ((line = br.readLine()) != null) {\r\n            System.out.println(new String(line.getBytes(&quot;UTF-8&quot;)));\r\n        }\r\n    } catch (IOException ex) {\r\n        //...\r\n    }\r\n","title":"Encode String to UTF-8","body":"<pre><code>String value = new String(myString.getBytes(\"UTF-8\"));\n</code></pre>\n\n<p>and, if you want to read from text file with \"ISO-8859-1\" encoded:</p>\n\n<pre><code>String line;\nString f = \"C:\\\\MyPath\\\\MyFile.txt\";\ntry {\n    BufferedReader br = Files.newBufferedReader(Paths.get(f), Charset.forName(\"ISO-8859-1\"));\n    while ((line = br.readLine()) != null) {\n        System.out.println(new String(line.getBytes(\"UTF-8\")));\n    }\n} catch (IOException ex) {\n    //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2490931,"reputation":133,"user_id":2168384,"display_name":"laxman954"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1462348173,"creation_date":1462348173,"answer_id":37021602,"question_id":5729806,"body_markdown":"I have use below code to encode the special character by specifying encode format.\r\n\r\n    String text = &quot;This is an example &#233;&quot;;\r\n    byte[] byteText = text.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n    //To get original string from byte.\r\n    String originalString= new String(byteText , &quot;UTF-8&quot;);","title":"Encode String to UTF-8","body":"<p>I have use below code to encode the special character by specifying encode format.</p>\n\n<pre><code>String text = \"This is an example é\";\nbyte[] byteText = text.getBytes(Charset.forName(\"UTF-8\"));\n//To get original string from byte.\nString originalString= new String(byteText , \"UTF-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3039160,"reputation":644,"user_id":2576595,"display_name":"Quimbo"},"down_vote_count":4,"up_vote_count":21,"is_accepted":false,"score":17,"last_activity_date":1523241668,"creation_date":1523225804,"answer_id":49723287,"question_id":5729806,"body_markdown":"In a moment I went through this problem and managed to solve it in the following way\r\n\r\nfirst i need to import \r\n\r\n    import java.nio.charset.Charset;\r\n\r\nThen i had to declare a constant to use `UTF-8` and `ISO-8859-1`\r\n\r\n    private static final Charset UTF_8 = Charset.forName(&quot;UTF-8&quot;);\r\n    private static final Charset ISO = Charset.forName(&quot;ISO-8859-1&quot;);\r\n\r\nThen I could use it in the following way:\r\n\r\n    String textwithaccent=&quot;Th&#237;s &#237;s a text with accent&quot;;\r\n    String textwithletter=&quot;&#209;and&#250;&quot;;\r\n    \r\n    text1 = new String(textwithaccent.getBytes(ISO), UTF_8);\r\n    text2 = new String(textwithletter.getBytes(ISO),UTF_8);\r\n\r\n","title":"Encode String to UTF-8","body":"<p>In a moment I went through this problem and managed to solve it in the following way</p>\n\n<p>first i need to import </p>\n\n<pre><code>import java.nio.charset.Charset;\n</code></pre>\n\n<p>Then i had to declare a constant to use <code>UTF-8</code> and <code>ISO-8859-1</code></p>\n\n<pre><code>private static final Charset UTF_8 = Charset.forName(\"UTF-8\");\nprivate static final Charset ISO = Charset.forName(\"ISO-8859-1\");\n</code></pre>\n\n<p>Then I could use it in the following way:</p>\n\n<pre><code>String textwithaccent=\"Thís ís a text with accent\";\nString textwithletter=\"Ñandú\";\n\ntext1 = new String(textwithaccent.getBytes(ISO), UTF_8);\ntext2 = new String(textwithletter.getBytes(ISO),UTF_8);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9826086,"reputation":608,"user_id":7279180,"display_name":"Laeeq Khan Niazi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570607236,"creation_date":1570603000,"answer_id":58298334,"question_id":5729806,"body_markdown":"A quick step-by-step guide how to configure NetBeans default encoding UTF-8. In result NetBeans will create all new files in UTF-8 encoding.\n\nNetBeans default encoding UTF-8 step-by-step guide\n\n - Go to etc folder in NetBeans installation directory\n - Edit netbeans.conf file\n - Find netbeans_default_options line\n - Add -J-Dfile.encoding=UTF-8 inside quotation marks inside that line\n\n   (example: `netbeans_default_options=&quot;-J-Dfile.encoding=UTF-8&quot;`)\n\n - Restart NetBeans\n\nYou set NetBeans default encoding UTF-8.\n\nYour netbeans_default_options may contain additional parameters inside the quotation marks. In such case, add -J-Dfile.encoding=UTF-8 at the end of the string. Separate it with space from other parameters.\n\nExample:\n\n&gt; netbeans_default_options=&quot;-J-client -J-Xss128m -J-Xms256m\n&gt; -J-XX:PermSize=32m -J-Dapple.laf.useScreenMenuBar=true -J-Dapple.awt.graphics.UseQuartz=true -J-Dsun.java2d.noddraw=true -J-Dsun.java2d.dpiaware=true -J-Dsun.zip.disableMemoryMapping=true -J-Dfile.encoding=UTF-8&quot;\n\nhere is link [for Further Details][1]\n\n  [1]: https://adamscheller.com/software/netbeans-default-encoding-utf-8/","title":"Encode String to UTF-8","body":"<p>A quick step-by-step guide how to configure NetBeans default encoding UTF-8. In result NetBeans will create all new files in UTF-8 encoding.</p>\n<p>NetBeans default encoding UTF-8 step-by-step guide</p>\n<ul>\n<li><p>Go to etc folder in NetBeans installation directory</p>\n</li>\n<li><p>Edit netbeans.conf file</p>\n</li>\n<li><p>Find netbeans_default_options line</p>\n</li>\n<li><p>Add -J-Dfile.encoding=UTF-8 inside quotation marks inside that line</p>\n<p>(example: <code>netbeans_default_options=&quot;-J-Dfile.encoding=UTF-8&quot;</code>)</p>\n</li>\n<li><p>Restart NetBeans</p>\n</li>\n</ul>\n<p>You set NetBeans default encoding UTF-8.</p>\n<p>Your netbeans_default_options may contain additional parameters inside the quotation marks. In such case, add -J-Dfile.encoding=UTF-8 at the end of the string. Separate it with space from other parameters.</p>\n<p>Example:</p>\n<blockquote>\n<p>netbeans_default_options=&quot;-J-client -J-Xss128m -J-Xms256m\n-J-XX:PermSize=32m -J-Dapple.laf.useScreenMenuBar=true -J-Dapple.awt.graphics.UseQuartz=true -J-Dsun.java2d.noddraw=true -J-Dsun.java2d.dpiaware=true -J-Dsun.zip.disableMemoryMapping=true -J-Dfile.encoding=UTF-8&quot;</p>\n</blockquote>\n<p>here is link <a href=\"https://adamscheller.com/software/netbeans-default-encoding-utf-8/\" rel=\"nofollow noreferrer\">for Further Details</a></p>\n"},{"tags":[],"owner":{"account_id":2140748,"reputation":374,"user_id":1899440,"display_name":"Bokili Production"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697102395,"creation_date":1697102395,"answer_id":77279300,"question_id":5729806,"body_markdown":"The correct solution is also:\r\n\r\n    String myUTF8String = new String(sourceISOString.getBytes(Charsets.ISO_8859_1), Charsets.UTF_8);","title":"Encode String to UTF-8","body":"<p>The correct solution is also:</p>\n<pre><code>String myUTF8String = new String(sourceISOString.getBytes(Charsets.ISO_8859_1), Charsets.UTF_8);\n</code></pre>\n"}],"owner":{"account_id":231164,"reputation":6967,"user_id":495239,"accept_rate":81,"display_name":"Alex"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1118927,"favorite_count":0,"down_vote_count":2,"up_vote_count":219,"accepted_answer_id":5729834,"answer_count":12,"score":217,"last_activity_date":1697102395,"creation_date":1303300542,"question_id":5729806,"body_markdown":"I have a String with a &quot;&#241;&quot; character and I have some problems with it. I need to encode this String to UTF-8 encoding. I have tried it by this way, but it doesn&#39;t work:\r\n\r\n    byte ptext[] = myString.getBytes();\r\n    String value = new String(ptext, &quot;UTF-8&quot;);\r\n\r\nHow do I encode that string to utf-8?","title":"Encode String to UTF-8","body":"<p>I have a String with a \"ñ\" character and I have some problems with it. I need to encode this String to UTF-8 encoding. I have tried it by this way, but it doesn't work:</p>\n\n<pre><code>byte ptext[] = myString.getBytes();\nString value = new String(ptext, \"UTF-8\");\n</code></pre>\n\n<p>How do I encode that string to utf-8?</p>\n"},{"tags":["java","dictionary","lambda","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":4249137,"reputation":1025,"user_id":3476807,"display_name":"Arrem"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1523271083,"creation_date":1396178003,"answer_id":22743293,"question_id":22742974,"body_markdown":"    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;test1&quot;, 1);\r\n    map.put(&quot;test2&quot;, 2);\r\n\r\n    Map&lt;String, Integer&gt; map2 = new HashMap&lt;&gt;();\r\n    map.forEach(map2::put);\r\n\r\n    System.out.println(&quot;map: &quot; + map);\r\n    System.out.println(&quot;map2: &quot; + map2);\r\n    // Output:\r\n    // map:  {test2=2, test1=1}\r\n    // map2: {test2=2, test1=1}\r\n\r\nYou can use the `forEach` method to do what you want.\r\n\r\nWhat you&#39;re doing there is:\r\n\r\n    map.forEach(new BiConsumer&lt;String, Integer&gt;() {\r\n        @Override\r\n        public void accept(String s, Integer integer) {\r\n            map2.put(s, integer);     \r\n        }\r\n    });\r\n\r\nWhich we can simplify into a lambda:\r\n\r\n    map.forEach((s, integer) -&gt;  map2.put(s, integer));\r\n\r\nAnd because we&#39;re just calling an existing method we can use a [method reference][1], which gives us:\r\n\r\n    map.forEach(map2::put);\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"In Java 8 how do I transform a Map&lt;K,V&gt; to another Map&lt;K,V&gt; using a lambda?","body":"<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nmap.put(\"test1\", 1);\nmap.put(\"test2\", 2);\n\nMap&lt;String, Integer&gt; map2 = new HashMap&lt;&gt;();\nmap.forEach(map2::put);\n\nSystem.out.println(\"map: \" + map);\nSystem.out.println(\"map2: \" + map2);\n// Output:\n// map:  {test2=2, test1=1}\n// map2: {test2=2, test1=1}\n</code></pre>\n\n<p>You can use the <code>forEach</code> method to do what you want.</p>\n\n<p>What you're doing there is:</p>\n\n<pre><code>map.forEach(new BiConsumer&lt;String, Integer&gt;() {\n    @Override\n    public void accept(String s, Integer integer) {\n        map2.put(s, integer);     \n    }\n});\n</code></pre>\n\n<p>Which we can simplify into a lambda:</p>\n\n<pre><code>map.forEach((s, integer) -&gt;  map2.put(s, integer));\n</code></pre>\n\n<p>And because we're just calling an existing method we can use a <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"noreferrer\">method reference</a>, which gives us:</p>\n\n<pre><code>map.forEach(map2::put);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":326925,"reputation":14868,"user_id":648955,"accept_rate":62,"display_name":"leventov"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1396180468,"creation_date":1396180468,"answer_id":22743672,"question_id":22742974,"body_markdown":"&lt;s&gt;The way without re-inserting all entries into the new map should be the fastest&lt;/s&gt; it won&#39;t because `HashMap.clone` internally performs rehash as well.\r\n\r\n    Map&lt;String, Column&gt; newColumnMap = originalColumnMap.clone();\r\n    newColumnMap.replaceAll((s, c) -&gt; new Column(c));","title":"In Java 8 how do I transform a Map&lt;K,V&gt; to another Map&lt;K,V&gt; using a lambda?","body":"<p><s>The way without re-inserting all entries into the new map should be the fastest</s> it won't because <code>HashMap.clone</code> internally performs rehash as well.</p>\n\n<pre><code>Map&lt;String, Column&gt; newColumnMap = originalColumnMap.clone();\nnewColumnMap.replaceAll((s, c) -&gt; new Column(c));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":328,"is_accepted":true,"score":328,"last_activity_date":1396184593,"creation_date":1396184593,"answer_id":22744309,"question_id":22742974,"body_markdown":"You could use a [Collector][1]:\r\n\r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Defensive {\r\n    \r\n      public static void main(String[] args) {\r\n        Map&lt;String, Column&gt; original = new HashMap&lt;&gt;();\r\n        original.put(&quot;foo&quot;, new Column());\r\n        original.put(&quot;bar&quot;, new Column());\r\n    \r\n        Map&lt;String, Column&gt; copy = original.entrySet()\r\n            .stream()\r\n            .collect(Collectors.toMap(Map.Entry::getKey,\r\n                                      e -&gt; new Column(e.getValue())));\r\n    \r\n        System.out.println(original);\r\n        System.out.println(copy);\r\n      }\r\n    \r\n      static class Column {\r\n        public Column() {}\r\n        public Column(Column c) {}\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html","title":"In Java 8 how do I transform a Map&lt;K,V&gt; to another Map&lt;K,V&gt; using a lambda?","body":"<p>You could use a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"noreferrer\">Collector</a>:</p>\n\n<pre><code>import java.util.*;\nimport java.util.stream.Collectors;\n\npublic class Defensive {\n\n  public static void main(String[] args) {\n    Map&lt;String, Column&gt; original = new HashMap&lt;&gt;();\n    original.put(\"foo\", new Column());\n    original.put(\"bar\", new Column());\n\n    Map&lt;String, Column&gt; copy = original.entrySet()\n        .stream()\n        .collect(Collectors.toMap(Map.Entry::getKey,\n                                  e -&gt; new Column(e.getValue())));\n\n    System.out.println(original);\n    System.out.println(copy);\n  }\n\n  static class Column {\n    public Column() {}\n    public Column(Column c) {}\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1474378773,"creation_date":1456330396,"answer_id":35607251,"question_id":22742974,"body_markdown":"If you don&#39;t mind using 3rd party libraries, my [cyclops-react][1] lib has extensions for all [JDK Collection][2] types, including [Map][3]. You can directly use the map or bimap methods to transform your Map. A MapX can be constructed from an existing Map eg. \r\n\r\n      MapX&lt;String, Column&gt; y = MapX.fromMap(orgColumnMap)\r\n                                   .map(c-&gt;new Column(c.getValue());\r\n\r\nIf you also wish to change the key you can write \r\n\r\n      MapX&lt;String, Column&gt; y = MapX.fromMap(orgColumnMap)\r\n                                   .bimap(this::newKey,c-&gt;new Column(c.getValue());\r\n      \r\n\r\nbimap can be used to transform the keys and values at the same time.\r\n\r\nAs MapX extends Map the generated map can also be defined as\r\n\r\n      Map&lt;String, Column&gt; y\r\n\r\n      \r\n\r\n \r\n\r\n  [1]: https://github.com/aol/cyclops-react\r\n  [2]: https://medium.com/@johnmcclean/extending-jdk-8-collections-8ae8d43dd75e#.j5lxtrqze\r\n  [3]: http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/data/collections/extensions/standard/MapX.html","title":"In Java 8 how do I transform a Map&lt;K,V&gt; to another Map&lt;K,V&gt; using a lambda?","body":"<p>If you don't mind using 3rd party libraries, my <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a> lib has extensions for all <a href=\"https://medium.com/@johnmcclean/extending-jdk-8-collections-8ae8d43dd75e#.j5lxtrqze\" rel=\"nofollow\">JDK Collection</a> types, including <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/data/collections/extensions/standard/MapX.html\" rel=\"nofollow\">Map</a>. You can directly use the map or bimap methods to transform your Map. A MapX can be constructed from an existing Map eg. </p>\n\n<pre><code>  MapX&lt;String, Column&gt; y = MapX.fromMap(orgColumnMap)\n                               .map(c-&gt;new Column(c.getValue());\n</code></pre>\n\n<p>If you also wish to change the key you can write </p>\n\n<pre><code>  MapX&lt;String, Column&gt; y = MapX.fromMap(orgColumnMap)\n                               .bimap(this::newKey,c-&gt;new Column(c.getValue());\n</code></pre>\n\n<p>bimap can be used to transform the keys and values at the same time.</p>\n\n<p>As MapX extends Map the generated map can also be defined as</p>\n\n<pre><code>  Map&lt;String, Column&gt; y\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2150734,"reputation":1049,"user_id":1907186,"display_name":"Lucas Ross"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1507098552,"creation_date":1507097908,"answer_id":46558183,"question_id":22742974,"body_markdown":"Here is another way that gives you access to the key and the value at the same time, in case you have to do some kind of transformation.\r\n\r\n    Map&lt;String, Integer&gt; pointsByName = new HashMap&lt;&gt;();\r\n    Map&lt;String, Integer&gt; maxPointsByName = new HashMap&lt;&gt;();\r\n    \r\n    Map&lt;String, Double&gt; gradesByName = pointsByName.entrySet().stream()\r\n            .map(entry -&gt; new AbstractMap.SimpleImmutableEntry&lt;&gt;(\r\n                    entry.getKey(), ((double) entry.getValue() /\r\n                            maxPointsByName.get(entry.getKey())) * 100d))\r\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));","title":"In Java 8 how do I transform a Map&lt;K,V&gt; to another Map&lt;K,V&gt; using a lambda?","body":"<p>Here is another way that gives you access to the key and the value at the same time, in case you have to do some kind of transformation.</p>\n\n<pre><code>Map&lt;String, Integer&gt; pointsByName = new HashMap&lt;&gt;();\nMap&lt;String, Integer&gt; maxPointsByName = new HashMap&lt;&gt;();\n\nMap&lt;String, Double&gt; gradesByName = pointsByName.entrySet().stream()\n        .map(entry -&gt; new AbstractMap.SimpleImmutableEntry&lt;&gt;(\n                entry.getKey(), ((double) entry.getValue() /\n                        maxPointsByName.get(entry.getKey())) * 100d))\n        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5920087,"reputation":221,"user_id":4657653,"display_name":"Anant Khurana"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1519215875,"creation_date":1519214038,"answer_id":48905259,"question_id":22742974,"body_markdown":"Keep it Simple and use Java 8:-\r\n\r\n     Map&lt;String, AccountGroupMappingModel&gt; mapAccountGroup=CustomerDAO.getAccountGroupMapping();\r\n     Map&lt;String, AccountGroupMappingModel&gt; mapH2ToBydAccountGroups = \r\n                  mapAccountGroup.entrySet().stream()\r\n                             .collect(Collectors.toMap(e-&gt;e.getValue().getH2AccountGroup(),\r\n                                                       e -&gt;e.getValue())\r\n                                      );","title":"In Java 8 how do I transform a Map&lt;K,V&gt; to another Map&lt;K,V&gt; using a lambda?","body":"<p>Keep it Simple and use Java 8:-</p>\n\n<pre><code> Map&lt;String, AccountGroupMappingModel&gt; mapAccountGroup=CustomerDAO.getAccountGroupMapping();\n Map&lt;String, AccountGroupMappingModel&gt; mapH2ToBydAccountGroups = \n              mapAccountGroup.entrySet().stream()\n                         .collect(Collectors.toMap(e-&gt;e.getValue().getH2AccountGroup(),\n                                                   e -&gt;e.getValue())\n                                  );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3283735,"reputation":4243,"user_id":2763683,"accept_rate":94,"display_name":"Andrea Bergonzo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1697101827,"creation_date":1558694897,"answer_id":56291138,"question_id":22742974,"body_markdown":"If you use Guava (v11 minimum) in your project, you can use [Maps::transformValues][1].\r\n\r\n    Map&lt;String, Column&gt; newColumnMap = Maps.transformValues(\r\n      originalColumnMap,\r\n      Column::new // equivalent to: x -&gt; new Column(x) \r\n    )\r\n\r\nNote: The values of this map are evaluated lazily. If the transformation is expensive, you can copy the result to a new map like suggested in the Guava docs. \r\n\r\n&gt; To avoid lazy evaluation when the returned map doesn&#39;t need to be a view, copy the returned map into a new map of your choosing.\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/23.0/api/docs/com/google/common/collect/Maps.html#transformValues-java.util.Map-com.google.common.base.Function-","title":"In Java 8 how do I transform a Map&lt;K,V&gt; to another Map&lt;K,V&gt; using a lambda?","body":"<p>If you use Guava (v11 minimum) in your project, you can use <a href=\"https://google.github.io/guava/releases/23.0/api/docs/com/google/common/collect/Maps.html#transformValues-java.util.Map-com.google.common.base.Function-\" rel=\"nofollow noreferrer\">Maps::transformValues</a>.</p>\n<pre><code>Map&lt;String, Column&gt; newColumnMap = Maps.transformValues(\n  originalColumnMap,\n  Column::new // equivalent to: x -&gt; new Column(x) \n)\n</code></pre>\n<p>Note: The values of this map are evaluated lazily. If the transformation is expensive, you can copy the result to a new map like suggested in the Guava docs.</p>\n<blockquote>\n<p>To avoid lazy evaluation when the returned map doesn't need to be a view, copy the returned map into a new map of your choosing.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672831379,"creation_date":1672831379,"answer_id":75004699,"question_id":22742974,"body_markdown":"From Java 9 onwards it is even easier to do the transformation within the `map` part of the stream. Is was already possible to use a `new AbstractMap.SimpleImmutableEntry` but the Map interface has an additional static method `Map.entry` which can also create an entry which can be used for this usecase.\r\n\r\n## Java 9+ ##\r\n\r\n```java\r\nimport java.util.Map;\r\nimport java.util.Map.Entry;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Column&gt; x;\r\n        Map&lt;String, Column&gt; y = x.entrySet().stream()\r\n                .map(entry -&gt; Map.entry((entry.getKey(), new Column(entry.getValue())))\r\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\r\n    }\r\n\r\n}\r\n```","title":"In Java 8 how do I transform a Map&lt;K,V&gt; to another Map&lt;K,V&gt; using a lambda?","body":"<p>From Java 9 onwards it is even easier to do the transformation within the <code>map</code> part of the stream. Is was already possible to use a <code>new AbstractMap.SimpleImmutableEntry</code> but the Map interface has an additional static method <code>Map.entry</code> which can also create an entry which can be used for this usecase.</p>\n<h2>Java 9+</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.stream.Collectors;\n\npublic class App {\n\n    public static void main(String[] args) {\n        Map&lt;String, Column&gt; x;\n        Map&lt;String, Column&gt; y = x.entrySet().stream()\n                .map(entry -&gt; Map.entry((entry.getKey(), new Column(entry.getValue())))\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4250637,"reputation":2211,"user_id":3477833,"display_name":"annesadleir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204062,"favorite_count":0,"down_vote_count":0,"up_vote_count":209,"accepted_answer_id":22744309,"answer_count":8,"score":209,"last_activity_date":1697101827,"creation_date":1396176114,"question_id":22742974,"body_markdown":"I&#39;ve just started looking at Java 8 and to try out lambdas I thought I&#39;d try to rewrite a very simple thing I wrote recently.  I need to turn a Map of String to Column into another Map of String to Column where the Column in the new Map is a defensive copy of the Column in the first Map.  Column has a copy constructor.  The closest I&#39;ve got so far is:\r\n \r\n        Map&lt;String, Column&gt; newColumnMap= new HashMap&lt;&gt;();\r\n        originalColumnMap.entrySet().stream().forEach(x -&gt; newColumnMap.put(x.getKey(), new Column(x.getValue())));\r\n\r\nbut I&#39;m sure there must be a nicer way to do it and I&#39;d be grateful for some advice.","title":"In Java 8 how do I transform a Map&lt;K,V&gt; to another Map&lt;K,V&gt; using a lambda?","body":"<p>I've just started looking at Java 8 and to try out lambdas I thought I'd try to rewrite a very simple thing I wrote recently.  I need to turn a Map of String to Column into another Map of String to Column where the Column in the new Map is a defensive copy of the Column in the first Map.  Column has a copy constructor.  The closest I've got so far is:</p>\n\n<pre><code>    Map&lt;String, Column&gt; newColumnMap= new HashMap&lt;&gt;();\n    originalColumnMap.entrySet().stream().forEach(x -&gt; newColumnMap.put(x.getKey(), new Column(x.getValue())));\n</code></pre>\n\n<p>but I'm sure there must be a nicer way to do it and I'd be grateful for some advice.</p>\n"},{"tags":["java","r","maxent","biomod2"],"answers":[{"tags":[],"owner":{"account_id":21202440,"reputation":1,"user_id":15592793,"display_name":"jemand-r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650522244,"creation_date":1650522244,"answer_id":71949791,"question_id":52272749,"body_markdown":"I had the same issue and the solution presented here solved my problem:\r\n[Error running maxent from within biomod2 in R][1]\r\n\r\n\r\nIn short, your path to the maxent.jar should not contain any spaces.\r\n\r\n  [1]: https://stackoverflow.com/questions/35718219/error-running-maxent-from-within-biomod2-in-r","title":"File not found error when running Maxent in biomod2","body":"<p>I had the same issue and the solution presented here solved my problem:\n<a href=\"https://stackoverflow.com/questions/35718219/error-running-maxent-from-within-biomod2-in-r\">Error running maxent from within biomod2 in R</a></p>\n<p>In short, your path to the maxent.jar should not contain any spaces.</p>\n"},{"tags":[],"owner":{"account_id":27423048,"reputation":11,"user_id":20921102,"display_name":"m10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697101755,"creation_date":1697101755,"answer_id":77279230,"question_id":52272749,"body_markdown":"My path have not as well any space in the path, so my advise i the following:\r\n\r\nput:\r\n```\r\nmyBiomodOptions &lt;- BIOMOD_ModelingOptions(MAXENT = list(path_to_maxent.jar = &quot;your_path&quot;))\r\n```\r\n\r\nand then specificy the modeling options as following: \r\n\r\n```\r\nmyBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData.r,\r\n                                    modeling.id = &#39;AllModels&#39;,\r\n                                    models = c(&#39;MAXENT&#39;),\r\n                                    bm.options = myBiomodOptions,\r\n                                    CV.strategy = &#39;random&#39;,\r\n                                    CV.nb.rep = 2,\r\n                                    CV.perc = 0.8,\r\n                                    metric.eval = c(&#39;TSS&#39;,&#39;ROC&#39;),\r\n                                    var.import = 2,\r\n                                    seed.val = 42)\r\n```","title":"File not found error when running Maxent in biomod2","body":"<p>My path have not as well any space in the path, so my advise i the following:</p>\n<p>put:</p>\n<pre><code>myBiomodOptions &lt;- BIOMOD_ModelingOptions(MAXENT = list(path_to_maxent.jar = &quot;your_path&quot;))\n</code></pre>\n<p>and then specificy the modeling options as following:</p>\n<pre><code>myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData.r,\n                                    modeling.id = 'AllModels',\n                                    models = c('MAXENT'),\n                                    bm.options = myBiomodOptions,\n                                    CV.strategy = 'random',\n                                    CV.nb.rep = 2,\n                                    CV.perc = 0.8,\n                                    metric.eval = c('TSS','ROC'),\n                                    var.import = 2,\n                                    seed.val = 42)\n</code></pre>\n"}],"owner":{"account_id":14035592,"reputation":11,"user_id":10138377,"display_name":"Seira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697101755,"creation_date":1536657798,"question_id":52272749,"body_markdown":"When I run Maxent into biomod2 I got this error:\r\n\r\n    Error in file(file, &quot;rt&quot;) : cannot open the connection\r\n\r\nIn addition: Warning messages:\r\n\r\n    1: running command &#39;java&#39; had status 1 \r\n    2: In file(file, &quot;rt&quot;) :\r\n      cannot open file &#39;Sargassum.muticum.42.1.25.30/models/sstrange_sstmax_parmean_salinity/Sargassum.muticum.42.1.25.30_AllData_RUN1_MAXENT.Phillips_outputs/Sargassum.muticum.42.1.25.30_AllData_RUN1_Pred_swd.csv&#39;: No such file or directory\r\n\r\nI&#39;ve followed the steps of \r\nhttp://modata.ceoe.udel.edu/dev/dhaulsee/class_rcode/r_pkgmanuals/MAXENT4R_directions.pdf\r\nto add the java path and maxent.jar directory is copied in the working directory and no spaces are in the path. \r\n\r\nWhen I type \r\n\r\n    file.exists(&quot;maxent.jar&quot;)\r\n\r\nI get TRUE value.\r\n\r\nThese are my options:\r\n\r\n    model &lt;- biomod2::BIOMOD_Modeling(formatdata                                   ,models=c(&quot;GLM&quot;,&quot;MAXENT.Phillips&quot;,&quot;RF&quot;,&quot;SRE&quot;)                                      ,models.eval.meth=c(&#39;KAPPA&#39;, &#39;TSS&#39;, &#39;ROC&#39;)                                      ,models.options = biomod_options(&#39;C:/Users/me/maxent.jar&#39;)                                      ,SaveObj = TRUE,do.full.models = FALSE                                      ,NbRunEval=1,DataSplitTable=dataSplitTable                                    ,VarImport=3,modeling.id = gsub(&quot;BO_&quot;, &quot;&quot;, paste0(layers, collapse= &quot;_&quot;)))\r\n\r\n","title":"File not found error when running Maxent in biomod2","body":"<p>When I run Maxent into biomod2 I got this error:</p>\n\n<pre><code>Error in file(file, \"rt\") : cannot open the connection\n</code></pre>\n\n<p>In addition: Warning messages:</p>\n\n<pre><code>1: running command 'java' had status 1 \n2: In file(file, \"rt\") :\n  cannot open file 'Sargassum.muticum.42.1.25.30/models/sstrange_sstmax_parmean_salinity/Sargassum.muticum.42.1.25.30_AllData_RUN1_MAXENT.Phillips_outputs/Sargassum.muticum.42.1.25.30_AllData_RUN1_Pred_swd.csv': No such file or directory\n</code></pre>\n\n<p>I've followed the steps of \n<a href=\"http://modata.ceoe.udel.edu/dev/dhaulsee/class_rcode/r_pkgmanuals/MAXENT4R_directions.pdf\" rel=\"nofollow noreferrer\">http://modata.ceoe.udel.edu/dev/dhaulsee/class_rcode/r_pkgmanuals/MAXENT4R_directions.pdf</a>\nto add the java path and maxent.jar directory is copied in the working directory and no spaces are in the path. </p>\n\n<p>When I type </p>\n\n<pre><code>file.exists(\"maxent.jar\")\n</code></pre>\n\n<p>I get TRUE value.</p>\n\n<p>These are my options:</p>\n\n<pre><code>model &lt;- biomod2::BIOMOD_Modeling(formatdata                                   ,models=c(\"GLM\",\"MAXENT.Phillips\",\"RF\",\"SRE\")                                      ,models.eval.meth=c('KAPPA', 'TSS', 'ROC')                                      ,models.options = biomod_options('C:/Users/me/maxent.jar')                                      ,SaveObj = TRUE,do.full.models = FALSE                                      ,NbRunEval=1,DataSplitTable=dataSplitTable                                    ,VarImport=3,modeling.id = gsub(\"BO_\", \"\", paste0(layers, collapse= \"_\")))\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":9503455,"reputation":36,"user_id":7063755,"display_name":"Alessandro Lacchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697101724,"creation_date":1697100668,"answer_id":77279098,"question_id":77278683,"body_markdown":"according to the JPA specification in the projects entity it is not necessary to specify the parent relationship again but simply:\r\n\r\n    @ManyToMany(mappedBy = &quot;suppliers&quot;)    \r\n    private Set&lt;Project&gt; projects = new HashSet&lt;&gt;();\r\n\r\nHere you can find an exaustive guide: [Many-To-Many Relationship in JPA][1]\r\n\r\nI hope it helps you.\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-many-to-many","title":"Why am I obtaining this Could not determine recommended JdbcType for `...Project` when I add this second ManyToMany relationship?","body":"<p>according to the JPA specification in the projects entity it is not necessary to specify the parent relationship again but simply:</p>\n<pre><code>@ManyToMany(mappedBy = &quot;suppliers&quot;)    \nprivate Set&lt;Project&gt; projects = new HashSet&lt;&gt;();\n</code></pre>\n<p>Here you can find an exaustive guide: <a href=\"https://www.baeldung.com/jpa-many-to-many\" rel=\"nofollow noreferrer\">Many-To-Many Relationship in JPA</a></p>\n<p>I hope it helps you.</p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697101724,"creation_date":1697097104,"question_id":77278683,"body_markdown":"I am working on a Spring Boot application with SpringDataJPA and Hibernate mapping on my class and I have the following problem.\r\n\r\nFirst of all I have this **Project** entity class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;project&quot;)\r\n    public class Project {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;project_name&quot;, nullable = false)\r\n        private String projectName;\r\n        \r\n        @Column(name = &quot;code&quot;, nullable = false)\r\n        private String projectCode;\r\n    \r\n        @Column(name = &quot;description&quot;)\r\n        private String description;\r\n    \r\n        @Column(name = &quot;start_date&quot;, nullable = false)\r\n        @Temporal(TemporalType.DATE)\r\n        private LocalDate startDate;\r\n    \r\n        @Column(name = &quot;end_date&quot;, nullable = false)\r\n        @Temporal(TemporalType.DATE)\r\n        private LocalDate endDate;\r\n    \r\n        @Column(name = &quot;budget&quot;, nullable = false, precision = 10, scale = 2)\r\n        private BigDecimal budget;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;client_id_fk&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n        private Client client;\r\n        \r\n        \r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        @JoinTable(\r\n            name = &quot;project_supplier&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;project_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;supplier_id&quot;)\r\n        )\r\n        private Set&lt;Supplier&gt; suppliers = new HashSet&lt;&gt;();\r\n       \r\n    \r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getProjectName() {\r\n            return projectName;\r\n        }\r\n        \r\n        \r\n    \r\n        public String getProjectCode() {\r\n    \t\treturn projectCode;\r\n    \t}\r\n    \r\n    \tpublic void setProjectCode(String projectCode) {\r\n    \t\tthis.projectCode = projectCode;\r\n    \t}\r\n    \r\n    \tpublic void setProjectName(String projectName) {\r\n            this.projectName = projectName;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    \r\n        public LocalDate getStartDate() {\r\n            return startDate;\r\n        }\r\n    \r\n        public void setStartDate(LocalDate startDate) {\r\n            this.startDate = startDate;\r\n        }\r\n    \r\n        public LocalDate getEndDate() {\r\n            return endDate;\r\n        }\r\n    \r\n        public void setEndDate(LocalDate endDate) {\r\n            this.endDate = endDate;\r\n        }\r\n    \r\n        public BigDecimal getBudget() {\r\n            return budget;\r\n        }\r\n    \r\n        public void setBudget(BigDecimal budget) {\r\n            this.budget = budget;\r\n        }\r\n    \r\n    \tpublic Client getClient() {\r\n    \t\treturn client;\r\n    \t}\r\n    \r\n    \tpublic void setClient(Client client) {\r\n    \t\tthis.client = client;\r\n    \t}\r\n    \t\r\n    \r\n    \tpublic Set&lt;Supplier&gt; getSuppliers() {\r\n    \t\treturn suppliers;\r\n    \t}\r\n    \r\n    \tpublic void setSuppliers(Set&lt;Supplier&gt; suppliers) {\r\n    \t\tthis.suppliers = suppliers;\r\n    \t}\r\n    \t\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Project [id=&quot; + id + &quot;, projectName=&quot; + projectName + &quot;, description=&quot; + description + &quot;, startDate=&quot;\r\n    \t\t\t\t+ startDate + &quot;, endDate=&quot; + endDate + &quot;, budget=&quot; + budget + &quot;, client=&quot; + client + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    \t  \r\n    }\r\n\r\nAs you can see it contains this ManyToMany relationship with the **Supplier** entity:\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(\r\n        name = &quot;project_supplier&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;project_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;supplier_id&quot;)\r\n    )\r\n    private Set&lt;Supplier&gt; suppliers = new HashSet&lt;&gt;();\r\n\r\nThis is my **project_supplier** relation table:\r\n\r\np&quot; for help.\r\n\r\n    gestionale_interno_db=# \\d project_suplier\r\n    Did not find any relation named &quot;project_suplier&quot;.\r\n    gestionale_interno_db=# \\d project_supplier\r\n                                Table &quot;public.project_supplier&quot;\r\n       Column    |     Type      | Collation | Nullable |             Default              \r\n    -------------+---------------+-----------+----------+----------------------------------\r\n     id          | bigint        |           | not null | generated by default as identity\r\n     project_id  | bigint        |           | not null | \r\n     supplier_id | bigint        |           | not null | \r\n     notes       | text          |           |          | \r\n     daily_rate  | numeric(10,2) |           | not null | \r\n    Indexes:\r\n        &quot;project_supplier_pkey&quot; PRIMARY KEY, btree (id)\r\n    Foreign-key constraints:\r\n        &quot;project_supplier_project_id_fkey&quot; FOREIGN KEY (project_id) REFERENCES project(id)\r\n        &quot;project_supplier_supplier_id_fkey&quot; FOREIGN KEY (supplier_id) REFERENCES supplier(id)\r\n\r\nThis works fine. The problem happens when I introduce the equivalent ManyToMany relationship into my **Supplier** entity class, this one:\r\n\r\n    @Entity\r\n    @Table(name = &quot;supplier&quot;)\r\n    public class Supplier {\r\n    \r\n    \tprivate long id;\r\n    \tprivate String name;\r\n    \tprivate String vatNumber;\r\n    \tprivate String address;\r\n    \tprivate String email;\r\n    \t\r\n    \t\r\n    \t@ManyToMany(fetch = FetchType.EAGER)\r\n    \t@JoinTable(\r\n    \t    name = &quot;project_supplier&quot;,\r\n    \t    joinColumns = @JoinColumn(name = &quot;supplier_id&quot;),\r\n    \t    inverseJoinColumns = @JoinColumn(name = &quot;project_id&quot;)\r\n    \t)\r\n    \tprivate Set&lt;Project&gt; projects = new HashSet&lt;&gt;();\r\n    \t\r\n    \t\r\n    \tpublic Supplier() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic Supplier(String name, String vatNumber, String address, String email) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.vatNumber = vatNumber;\r\n    \t\tthis.address = address;\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tpublic long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;name&quot;, nullable = false)\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;vat_number&quot;, nullable = false)\r\n    \tpublic String getVatNumber() {\r\n    \t\treturn vatNumber;\r\n    \t}\r\n    \r\n    \tpublic void setVatNumber(String vatNumber) {\r\n    \t\tthis.vatNumber = vatNumber;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;address&quot;, nullable = false)\r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    \tpublic Set&lt;Project&gt; getProjects() {\r\n    \t\treturn projects;\r\n    \t}\r\n    \r\n    \tpublic void setProjects(Set&lt;Project&gt; projects) {\r\n    \t\tthis.projects = projects;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Supplier [id=&quot; + id + &quot;, name=&quot; + name + &quot;, vatNumber=&quot; + vatNumber + &quot;, address=&quot; + address\r\n    \t\t\t\t+ &quot;, email=&quot; + email + &quot;, projects=&quot; + projects + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nInfact, when I add this relationship into this second entity class:\r\n\r\n\t@ManyToMany(fetch = FetchType.EAGER)\r\n\t@JoinTable(\r\n\t    name = &quot;project_supplier&quot;,\r\n\t    joinColumns = @JoinColumn(name = &quot;supplier_id&quot;),\r\n\t    inverseJoinColumns = @JoinColumn(name = &quot;project_id&quot;)\r\n\t)\r\n\tprivate Set&lt;Project&gt; projects = new HashSet&lt;&gt;();\r\n\r\nRunning my application I obtain this exception:\r\n\r\n\torg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.fivebits.gestionale.model.entity.Project`\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1158) ~[spring-context-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\t\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\t\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\t\tat com.fivebits.gestionale.GestionaleInternoApplication.main(GestionaleInternoApplication.java:10) ~[classes/:na]\r\n\tCaused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `com.fivebits.gestionale.model.entity.Project`\r\n\t\tat org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\t\tat org.hibernate.type.descriptor.java.spi.BasicCollectionJavaType.getRecommendedJdbcType(BasicCollectionJavaType.java:74) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\t\tat org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\t\tat org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:480) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\t\tat org.hibernate.mapping.BasicValue.resolve(BasicValue.java:310) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\t\tat org.hibernate.mapping.BasicValue.resolve(BasicValue.java:300) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\t\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1855) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\t\tat java.base/java.util.ArrayList.removeIf(ArrayList.java:1682) ~[na:na]\r\n\t\tat java.base/java.util.ArrayList.removeIf(ArrayList.java:1660) ~[na:na]\r\n\t\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1854) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\t\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1840) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\t\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:331) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\t\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\t\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\t\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\t\t... 16 common frames omitted\r\n\r\nWhy this error? What is wrong? How can I fix it?","title":"Why am I obtaining this Could not determine recommended JdbcType for `...Project` when I add this second ManyToMany relationship?","body":"<p>I am working on a Spring Boot application with SpringDataJPA and Hibernate mapping on my class and I have the following problem.</p>\n<p>First of all I have this <strong>Project</strong> entity class:</p>\n<pre><code>@Entity\n@Table(name = &quot;project&quot;)\npublic class Project {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private long id;\n\n    @Column(name = &quot;project_name&quot;, nullable = false)\n    private String projectName;\n    \n    @Column(name = &quot;code&quot;, nullable = false)\n    private String projectCode;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @Column(name = &quot;start_date&quot;, nullable = false)\n    @Temporal(TemporalType.DATE)\n    private LocalDate startDate;\n\n    @Column(name = &quot;end_date&quot;, nullable = false)\n    @Temporal(TemporalType.DATE)\n    private LocalDate endDate;\n\n    @Column(name = &quot;budget&quot;, nullable = false, precision = 10, scale = 2)\n    private BigDecimal budget;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;client_id_fk&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n    private Client client;\n    \n    \n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(\n        name = &quot;project_supplier&quot;,\n        joinColumns = @JoinColumn(name = &quot;project_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;supplier_id&quot;)\n    )\n    private Set&lt;Supplier&gt; suppliers = new HashSet&lt;&gt;();\n   \n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getProjectName() {\n        return projectName;\n    }\n    \n    \n\n    public String getProjectCode() {\n        return projectCode;\n    }\n\n    public void setProjectCode(String projectCode) {\n        this.projectCode = projectCode;\n    }\n\n    public void setProjectName(String projectName) {\n        this.projectName = projectName;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public LocalDate getStartDate() {\n        return startDate;\n    }\n\n    public void setStartDate(LocalDate startDate) {\n        this.startDate = startDate;\n    }\n\n    public LocalDate getEndDate() {\n        return endDate;\n    }\n\n    public void setEndDate(LocalDate endDate) {\n        this.endDate = endDate;\n    }\n\n    public BigDecimal getBudget() {\n        return budget;\n    }\n\n    public void setBudget(BigDecimal budget) {\n        this.budget = budget;\n    }\n\n    public Client getClient() {\n        return client;\n    }\n\n    public void setClient(Client client) {\n        this.client = client;\n    }\n    \n\n    public Set&lt;Supplier&gt; getSuppliers() {\n        return suppliers;\n    }\n\n    public void setSuppliers(Set&lt;Supplier&gt; suppliers) {\n        this.suppliers = suppliers;\n    }\n    \n\n    @Override\n    public String toString() {\n        return &quot;Project [id=&quot; + id + &quot;, projectName=&quot; + projectName + &quot;, description=&quot; + description + &quot;, startDate=&quot;\n                + startDate + &quot;, endDate=&quot; + endDate + &quot;, budget=&quot; + budget + &quot;, client=&quot; + client + &quot;]&quot;;\n    }\n    \n      \n}\n</code></pre>\n<p>As you can see it contains this ManyToMany relationship with the <strong>Supplier</strong> entity:</p>\n<pre><code>@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(\n    name = &quot;project_supplier&quot;,\n    joinColumns = @JoinColumn(name = &quot;project_id&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;supplier_id&quot;)\n)\nprivate Set&lt;Supplier&gt; suppliers = new HashSet&lt;&gt;();\n</code></pre>\n<p>This is my <strong>project_supplier</strong> relation table:</p>\n<p>p&quot; for help.</p>\n<pre><code>gestionale_interno_db=# \\d project_suplier\nDid not find any relation named &quot;project_suplier&quot;.\ngestionale_interno_db=# \\d project_supplier\n                            Table &quot;public.project_supplier&quot;\n   Column    |     Type      | Collation | Nullable |             Default              \n-------------+---------------+-----------+----------+----------------------------------\n id          | bigint        |           | not null | generated by default as identity\n project_id  | bigint        |           | not null | \n supplier_id | bigint        |           | not null | \n notes       | text          |           |          | \n daily_rate  | numeric(10,2) |           | not null | \nIndexes:\n    &quot;project_supplier_pkey&quot; PRIMARY KEY, btree (id)\nForeign-key constraints:\n    &quot;project_supplier_project_id_fkey&quot; FOREIGN KEY (project_id) REFERENCES project(id)\n    &quot;project_supplier_supplier_id_fkey&quot; FOREIGN KEY (supplier_id) REFERENCES supplier(id)\n</code></pre>\n<p>This works fine. The problem happens when I introduce the equivalent ManyToMany relationship into my <strong>Supplier</strong> entity class, this one:</p>\n<pre><code>@Entity\n@Table(name = &quot;supplier&quot;)\npublic class Supplier {\n\n    private long id;\n    private String name;\n    private String vatNumber;\n    private String address;\n    private String email;\n    \n    \n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(\n        name = &quot;project_supplier&quot;,\n        joinColumns = @JoinColumn(name = &quot;supplier_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;project_id&quot;)\n    )\n    private Set&lt;Project&gt; projects = new HashSet&lt;&gt;();\n    \n    \n    public Supplier() {\n        super();\n    }\n\n    public Supplier(String name, String vatNumber, String address, String email) {\n        super();\n        this.name = name;\n        this.vatNumber = vatNumber;\n        this.address = address;\n        this.email = email;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Column(name = &quot;vat_number&quot;, nullable = false)\n    public String getVatNumber() {\n        return vatNumber;\n    }\n\n    public void setVatNumber(String vatNumber) {\n        this.vatNumber = vatNumber;\n    }\n\n    @Column(name = &quot;address&quot;, nullable = false)\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n    \n    \n\n    public Set&lt;Project&gt; getProjects() {\n        return projects;\n    }\n\n    public void setProjects(Set&lt;Project&gt; projects) {\n        this.projects = projects;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Supplier [id=&quot; + id + &quot;, name=&quot; + name + &quot;, vatNumber=&quot; + vatNumber + &quot;, address=&quot; + address\n                + &quot;, email=&quot; + email + &quot;, projects=&quot; + projects + &quot;]&quot;;\n    }\n    \n}\n</code></pre>\n<p>Infact, when I add this relationship into this second entity class:</p>\n<pre><code>@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(\n    name = &quot;project_supplier&quot;,\n    joinColumns = @JoinColumn(name = &quot;supplier_id&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;project_id&quot;)\n)\nprivate Set&lt;Project&gt; projects = new HashSet&lt;&gt;();\n</code></pre>\n<p>Running my application I obtain this exception:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.fivebits.gestionale.model.entity.Project`\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1158) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar:3.1.4]\n    at com.fivebits.gestionale.GestionaleInternoApplication.main(GestionaleInternoApplication.java:10) ~[classes/:na]\nCaused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `com.fivebits.gestionale.model.entity.Project`\n    at org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.type.descriptor.java.spi.BasicCollectionJavaType.getRecommendedJdbcType(BasicCollectionJavaType.java:74) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:480) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:310) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:300) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1855) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at java.base/java.util.ArrayList.removeIf(ArrayList.java:1682) ~[na:na]\n    at java.base/java.util.ArrayList.removeIf(ArrayList.java:1660) ~[na:na]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1854) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1840) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:331) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.12.jar:6.0.12]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.12.jar:6.0.12]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.12.jar:6.0.12]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.12.jar:6.0.12]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.12.jar:6.0.12]\n    ... 16 common frames omitted\n</code></pre>\n<p>Why this error? What is wrong? How can I fix it?</p>\n"},{"tags":["java","spring","scheduled-tasks"],"answers":[{"tags":[],"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"down_vote_count":6,"up_vote_count":74,"is_accepted":false,"score":68,"last_activity_date":1521475502,"creation_date":1470723208,"answer_id":38843333,"question_id":38842507,"body_markdown":" - fixedRate : makes Spring run the task on periodic intervals even if the\r\n   last invocation may still be running.\r\n - fixedDelay : specifically controls the next execution time when the\r\n   last execution finishes.\r\n\r\nIn code:\r\n\r\n    @Scheduled(fixedDelay=5000)\r\n    public void updateEmployeeInventory(){\r\n        System.out.println(&quot;employee inventory will be updated once only the last updated finished &quot;);\r\n        /**\r\n         * add your scheduled job logic here\r\n         */\r\n    }\r\n    \r\n    \r\n    @Scheduled(fixedRate=5000)\r\n    public void updateEmployeeInventory(){\r\n        System.out.println(&quot;employee inventory will be updated every 5 seconds from prior updated has stared, regardless it is finished or not&quot;);\r\n        /**\r\n         * add your scheduled job logic here\r\n         */\r\n    }\r\n\r\n","title":"What&#39;s the difference between fixed rate and fixed delay in Spring Scheduled annotation?","body":"<ul>\n<li>fixedRate : makes Spring run the task on periodic intervals even if the\nlast invocation may still be running.</li>\n<li>fixedDelay : specifically controls the next execution time when the\nlast execution finishes.</li>\n</ul>\n\n<p>In code:</p>\n\n<pre><code>@Scheduled(fixedDelay=5000)\npublic void updateEmployeeInventory(){\n    System.out.println(\"employee inventory will be updated once only the last updated finished \");\n    /**\n     * add your scheduled job logic here\n     */\n}\n\n\n@Scheduled(fixedRate=5000)\npublic void updateEmployeeInventory(){\n    System.out.println(\"employee inventory will be updated every 5 seconds from prior updated has stared, regardless it is finished or not\");\n    /**\n     * add your scheduled job logic here\n     */\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5757515,"reputation":51,"user_id":6694070,"display_name":"Jinen Kothari"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1470723956,"creation_date":1470723956,"answer_id":38843540,"question_id":38842507,"body_markdown":"**Fixed Delay** : specifically controls the next execution time when the last execution finishes.\r\n\r\n**Fixed Rate** : makes Spring run the task on periodic intervals even if the last invocation may be still running.\r\n","title":"What&#39;s the difference between fixed rate and fixed delay in Spring Scheduled annotation?","body":"<p><strong>Fixed Delay</strong> : specifically controls the next execution time when the last execution finishes.</p>\n\n<p><strong>Fixed Rate</strong> : makes Spring run the task on periodic intervals even if the last invocation may be still running.</p>\n"},{"tags":[],"owner":{"account_id":5386412,"reputation":645,"user_id":4290149,"accept_rate":60,"display_name":"nikhil7610"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1584653800,"creation_date":1496464159,"answer_id":44340260,"question_id":38842507,"body_markdown":"&quot;fixedRate&quot; : waits for X millis from the start of previous execution before starting next execution. If current execution exceeds &#39;fixedRate&#39; interval, the next execution is queued and this will create a series of tasks running ie multiple instances of tasks will be running.\r\n\r\n    \r\n    private static int i = 0;\r\n\t\r\n\t@Scheduled(initialDelay=1000, fixedRate=1000)\r\n\tpublic void testScheduling() throws InterruptedException {\r\n\t\tSystem.out.println(&quot;Started : &quot;+ ++i);\r\n\t\tThread.sleep(4000);\r\n\t\tSystem.out.println(&quot;Finished : &quot;+ i);\r\n\t}\r\n\r\n*Output:*   \r\n&gt; Started : 1  \r\n&gt; Finished : 1 // after 4 seconds  \r\n&gt; Started : 2 // immediately w/o waiting for 1 sec as specified in fixed rate  \r\n&gt; Finished : 2 // after 4 seconds  \r\n&gt; and so on\r\n\r\n\r\n\r\n&quot;fixedDelay&quot; : waits for X millis from the end of previous execution before starting next execution. Doesn&#39;t matter how much time current execution is taking, the next execution is started after adding &#39;fixedDelay&#39; interval to end time of current execution. It will not queue next execution.\r\n\r\n    private static int i = 0;\r\n\t\r\n\t@Scheduled(initialDelay=1000, fixedDelay=1000)\r\n\tpublic void testScheduling() throws InterruptedException {\r\n\t\tSystem.out.println(&quot;Started : &quot;+ ++i);\r\n\t\tThread.sleep(4000);\r\n\t\tSystem.out.println(&quot;Finished : &quot;+ i);\r\n\t}\r\n\r\n*Output:*    \r\n&gt; Started : 1   \r\n&gt; Finished : 1 // after 4 seconds   Started :\r\n&gt; 2 // waits for 1 second as specified in fixedDelay\r\n&gt; Finished : 2 // after 4 seconds\r\n&gt; Started : 3 // after 1 second   \r\n&gt; and so on","title":"What&#39;s the difference between fixed rate and fixed delay in Spring Scheduled annotation?","body":"<p>\"fixedRate\" : waits for X millis from the start of previous execution before starting next execution. If current execution exceeds 'fixedRate' interval, the next execution is queued and this will create a series of tasks running ie multiple instances of tasks will be running.</p>\n\n<pre><code>private static int i = 0;\n\n@Scheduled(initialDelay=1000, fixedRate=1000)\npublic void testScheduling() throws InterruptedException {\n    System.out.println(\"Started : \"+ ++i);\n    Thread.sleep(4000);\n    System.out.println(\"Finished : \"+ i);\n}\n</code></pre>\n\n<p><em>Output:</em>   </p>\n\n<blockquote>\n  <p>Started : 1<br>\n  Finished : 1 // after 4 seconds<br>\n  Started : 2 // immediately w/o waiting for 1 sec as specified in fixed rate<br>\n  Finished : 2 // after 4 seconds<br>\n  and so on</p>\n</blockquote>\n\n<p>\"fixedDelay\" : waits for X millis from the end of previous execution before starting next execution. Doesn't matter how much time current execution is taking, the next execution is started after adding 'fixedDelay' interval to end time of current execution. It will not queue next execution.</p>\n\n<pre><code>private static int i = 0;\n\n@Scheduled(initialDelay=1000, fixedDelay=1000)\npublic void testScheduling() throws InterruptedException {\n    System.out.println(\"Started : \"+ ++i);\n    Thread.sleep(4000);\n    System.out.println(\"Finished : \"+ i);\n}\n</code></pre>\n\n<p><em>Output:</em>    </p>\n\n<blockquote>\n  <p>Started : 1<br>\n  Finished : 1 // after 4 seconds   Started :\n  2 // waits for 1 second as specified in fixedDelay\n  Finished : 2 // after 4 seconds\n  Started : 3 // after 1 second<br>\n  and so on</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6263682,"reputation":2781,"user_id":4870078,"display_name":"ahmetcetin"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1697101621,"creation_date":1497438993,"answer_id":44543224,"question_id":38842507,"body_markdown":"**fixedRate:** This is used to run the scheduled jobs in every n milliseconds. In case, the job takes more than defined fixedRate, the next iteration is added to a queue which is triggered right after the previous run finishes.\r\n\r\n**fixedDelay:** It is used to run the scheduled job sequentially with the given n milliseconds delay time between turns. Which means, the time spent on the job will affect the start time of the next run of scheduled job.\r\n\r\n**fixedRate Example:**\r\n\r\n    @Scheduled(fixedRate = 5000)\r\n    public void runJobWithFixedRate() {\r\n    ...\r\n    }\r\nLet&#39;s assume the job is triggered at 13:00:00 for the first time:\r\n\r\n - **1st run** -&gt; 13:00:00, job finishes at 13:00:02 \r\n - **2nd run** -&gt; 13:00:05, job finishes at 13:00:08 \r\n - **3rd run** -&gt; 13:00:10, job finishes at 13:00:16\r\n - **4th run** -&gt; 13:00:15, job finishes at 13:00:18\r\n\r\n**fixedDelay Example:**\r\n\r\n    @Scheduled(fixedDelay = 5000)\r\n    public void runJobWithFixedDelay() {\r\n    ...\r\n    }\r\nLet&#39;s assume the job is triggered at 13:00:00 for the first time:\r\n\r\n - **1st run** -&gt; 13:00:00, job finishes at 13:00:02 \r\n - **2nd run** -&gt; 13:00:07, job finishes at 13:00:08 \r\n - **3rd run** -&gt; 13:00:13, job finishes at 13:00:16\r\n - **4th run** -&gt; 13:00:21, job finishes at 13:00:25\r\n\r\nWhen to use ***&quot;fixedRate&quot;***:\r\nfixedRate is appropriate if it is not expected to exceed the size of the memory and the thread pool. If the incoming tasks do not finish quick, it may end up with &quot;Out of Memory exception&quot;\r\n\r\nWhen to use ***&quot;fixedDelay&quot;:***\r\nIf every running task is relevant to each other and they need to wait before the previous one finishes, fixedDelay is suitable. If fixedDelay time is set carefully, it will also let the running threads enough time to finish their jobs before the new task starts","title":"What&#39;s the difference between fixed rate and fixed delay in Spring Scheduled annotation?","body":"<p><strong>fixedRate:</strong> This is used to run the scheduled jobs in every n milliseconds. In case, the job takes more than defined fixedRate, the next iteration is added to a queue which is triggered right after the previous run finishes.</p>\n<p><strong>fixedDelay:</strong> It is used to run the scheduled job sequentially with the given n milliseconds delay time between turns. Which means, the time spent on the job will affect the start time of the next run of scheduled job.</p>\n<p><strong>fixedRate Example:</strong></p>\n<pre><code>@Scheduled(fixedRate = 5000)\npublic void runJobWithFixedRate() {\n...\n}\n</code></pre>\n<p>Let's assume the job is triggered at 13:00:00 for the first time:</p>\n<ul>\n<li><strong>1st run</strong> -&gt; 13:00:00, job finishes at 13:00:02</li>\n<li><strong>2nd run</strong> -&gt; 13:00:05, job finishes at 13:00:08</li>\n<li><strong>3rd run</strong> -&gt; 13:00:10, job finishes at 13:00:16</li>\n<li><strong>4th run</strong> -&gt; 13:00:15, job finishes at 13:00:18</li>\n</ul>\n<p><strong>fixedDelay Example:</strong></p>\n<pre><code>@Scheduled(fixedDelay = 5000)\npublic void runJobWithFixedDelay() {\n...\n}\n</code></pre>\n<p>Let's assume the job is triggered at 13:00:00 for the first time:</p>\n<ul>\n<li><strong>1st run</strong> -&gt; 13:00:00, job finishes at 13:00:02</li>\n<li><strong>2nd run</strong> -&gt; 13:00:07, job finishes at 13:00:08</li>\n<li><strong>3rd run</strong> -&gt; 13:00:13, job finishes at 13:00:16</li>\n<li><strong>4th run</strong> -&gt; 13:00:21, job finishes at 13:00:25</li>\n</ul>\n<p>When to use <em><strong>&quot;fixedRate&quot;</strong></em>:\nfixedRate is appropriate if it is not expected to exceed the size of the memory and the thread pool. If the incoming tasks do not finish quick, it may end up with &quot;Out of Memory exception&quot;</p>\n<p>When to use <em><strong>&quot;fixedDelay&quot;:</strong></em>\nIf every running task is relevant to each other and they need to wait before the previous one finishes, fixedDelay is suitable. If fixedDelay time is set carefully, it will also let the running threads enough time to finish their jobs before the new task starts</p>\n"},{"tags":[],"owner":{"account_id":10953953,"reputation":389,"user_id":8049404,"display_name":"fifman"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1522831062,"creation_date":1522831062,"answer_id":49646388,"question_id":38842507,"body_markdown":"One thing which should be clarified is that `fixedRate` does not mean executions will start with a certain time interval. \r\n\r\nIf one execution cost too much time (more than the fixed rate), the next execution will only start **AFTER** the previous one finishes, unless `@Async` and `@EnableAsync` are provided. The following source codes which are part of Spring&#39;s `ThreadPoolTaskScheduler` implementation explain why:\r\n \t\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tDate actualExecutionTime = new Date();\r\n\t\tsuper.run();\r\n\t\tDate completionTime = new Date();\r\n\t\tsynchronized (this.triggerContextMonitor) {\r\n\t\t\tthis.triggerContext.update(this.scheduledExecutionTime, actualExecutionTime, completionTime);\r\n\t\t\tif (!this.currentFuture.isCancelled()) {\r\n\t\t\t\tschedule();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nYou can see that only after the previous task is finished (`super.run()`), the next task is scheduled (`schedule()`). With `@Async` and `@EnableAsync`, `super.run()` is an async function which will return immediately, thus the next task does not have to wait for the previous one to actually finish. ","title":"What&#39;s the difference between fixed rate and fixed delay in Spring Scheduled annotation?","body":"<p>One thing which should be clarified is that <code>fixedRate</code> does not mean executions will start with a certain time interval. </p>\n\n<p>If one execution cost too much time (more than the fixed rate), the next execution will only start <strong>AFTER</strong> the previous one finishes, unless <code>@Async</code> and <code>@EnableAsync</code> are provided. The following source codes which are part of Spring's <code>ThreadPoolTaskScheduler</code> implementation explain why:</p>\n\n<pre><code>@Override\npublic void run() {\n    Date actualExecutionTime = new Date();\n    super.run();\n    Date completionTime = new Date();\n    synchronized (this.triggerContextMonitor) {\n        this.triggerContext.update(this.scheduledExecutionTime, actualExecutionTime, completionTime);\n        if (!this.currentFuture.isCancelled()) {\n            schedule();\n        }\n    }\n}\n</code></pre>\n\n<p>You can see that only after the previous task is finished (<code>super.run()</code>), the next task is scheduled (<code>schedule()</code>). With <code>@Async</code> and <code>@EnableAsync</code>, <code>super.run()</code> is an async function which will return immediately, thus the next task does not have to wait for the previous one to actually finish. </p>\n"},{"tags":[],"owner":{"account_id":3727995,"reputation":516,"user_id":7767332,"accept_rate":50,"display_name":"Ammar Akouri"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643766515,"creation_date":1552924022,"answer_id":55225140,"question_id":38842507,"body_markdown":"We can run a scheduled task using Spring’s [`@Scheduled`][1] annotation but based on the properties `fixedDelay` and `fixedRate` the nature of execution changes.\r\n\r\n&gt; The `fixedDelay` property makes sure that there is a delay of `n`\r\n&gt; `millisecond` between the `finish time` of an execution of a task and\r\n&gt; the `start time` of the next execution of the task.\r\n\r\nThis property is specifically useful when we need to make sure that only one instance of the task runs all the time. For dependent jobs, it is quite helpful.\r\n\r\n&gt; The `fixedRate` property runs the scheduled task at every `n`\r\n&gt; `millisecond`. It doesn’t check for any previous executions of the\r\n&gt; task.\r\n\r\nThis is useful when all executions of the task are independent. If we don’t expect to exceed the size of the memory and the thread pool, `fixedRate` should be quite handy.\r\n\r\nBut, if the incoming tasks do not finish quickly, it’s possible they end up with “Out of Memory exception”.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html","title":"What&#39;s the difference between fixed rate and fixed delay in Spring Scheduled annotation?","body":"<p>We can run a scheduled task using Spring’s <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html\" rel=\"nofollow noreferrer\"><code>@Scheduled</code></a> annotation but based on the properties <code>fixedDelay</code> and <code>fixedRate</code> the nature of execution changes.</p>\n<blockquote>\n<p>The <code>fixedDelay</code> property makes sure that there is a delay of <code>n</code>\n<code>millisecond</code> between the <code>finish time</code> of an execution of a task and\nthe <code>start time</code> of the next execution of the task.</p>\n</blockquote>\n<p>This property is specifically useful when we need to make sure that only one instance of the task runs all the time. For dependent jobs, it is quite helpful.</p>\n<blockquote>\n<p>The <code>fixedRate</code> property runs the scheduled task at every <code>n</code>\n<code>millisecond</code>. It doesn’t check for any previous executions of the\ntask.</p>\n</blockquote>\n<p>This is useful when all executions of the task are independent. If we don’t expect to exceed the size of the memory and the thread pool, <code>fixedRate</code> should be quite handy.</p>\n<p>But, if the incoming tasks do not finish quickly, it’s possible they end up with “Out of Memory exception”.</p>\n"},{"tags":[],"owner":{"account_id":42972,"reputation":35428,"user_id":125407,"accept_rate":94,"display_name":"Johannes Rudolph"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556031251,"creation_date":1556031251,"answer_id":55813964,"question_id":38842507,"body_markdown":"There seems to be conflicting advice on what these methods do. Maybe the behavior can change depending on the `taskScheduler` or `Executor` bean registered with the spring context. I found @Ammar Akouri&#39;s answer to be the most close.\r\n\r\nHere&#39;s what I found when using a `ScheduledThreadPoolExecutor` (full test source provided below)\r\n\r\n- neither `fixedDelay` nor `fixedRate` allow concurrent task executions\r\n- `fixedDelay` will wait for the **end** of a previous invocation, then schedule a new inovcation at a fixed amount of time in the future. It will hence not queue up more than one task at a time.\r\n- `fixedRate` will schedule a new invocation every period. It will queue up more than one task at a time (potentially unbounded) but will never execute tasks concurrently.\r\n\r\nSample Test (Kotlin/JUnit):\r\n\r\n    class LearningSchedulerTest {\r\n    \r\n        private lateinit var pool: ScheduledExecutorService\r\n    \r\n        @Before\r\n        fun before() {\r\n          pool = Executors.newScheduledThreadPool(2)\r\n        }\r\n    \r\n        @After\r\n        fun after() {\r\n          pool.shutdown()\r\n        }\r\n    \r\n        /**\r\n         * See: https://stackoverflow.com/questions/24033208/how-to-prevent-overlapping-schedules-in-spring\r\n         *\r\n         * The documentation claims: If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute.\r\n         * https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleAtFixedRate-java.lang.Runnable-long-long-java.util.concurrent.TimeUnit-\r\n         */\r\n    \r\n        @Test\r\n        fun `scheduleAtFixedRate schedules at fixed rate`() {\r\n          val task = TaskFixture( initialSleep = 0)\r\n    \r\n          pool.scheduleAtFixedRate({task.run()}, 0, 10, TimeUnit.MILLISECONDS )\r\n    \r\n          Thread.sleep(15)\r\n          Assert.assertEquals(2, task.invocations.get())\r\n    \r\n          Thread.sleep(10)\r\n          Assert.assertEquals(3, task.invocations.get())\r\n    \r\n          Thread.sleep(10)\r\n          // 1 initial and 3 periodic invocations\r\n          Assert.assertEquals(4, task.invocations.get())\r\n        }\r\n    \r\n        @Test\r\n        fun `scheduleAtFixedRate catches up on late invocations`() {\r\n          val task = TaskFixture(initialSleep = 30)\r\n    \r\n          pool.scheduleAtFixedRate({task.run()}, 0, 10, TimeUnit.MILLISECONDS )\r\n    \r\n          Thread.sleep(15) // we see no concurrent invocations\r\n          Assert.assertEquals(1, task.invocations.get())\r\n    \r\n          Thread.sleep(10) // still no concurrent invocations\r\n          Assert.assertEquals(1, task.invocations.get())\r\n    \r\n          Thread.sleep(10)\r\n    \r\n          // 1 initial and 3 periodic invocations\r\n          Assert.assertEquals(4, task.invocations.get())\r\n        }\r\n    \r\n        @Test\r\n        fun `scheduleWithFixedDelay schedules periodically`() {\r\n          val task = TaskFixture( initialSleep = 0)\r\n    \r\n          pool.scheduleWithFixedDelay({task.run()}, 0, 10, TimeUnit.MILLISECONDS )\r\n    \r\n          Thread.sleep(35)\r\n    \r\n          // 1 initial and 3 periodic invocations\r\n          Assert.assertEquals(4, task.invocations.get())\r\n        }\r\n    \r\n        @Test\r\n        fun `scheduleWithFixedDelay does not catch up on late invocations`() {\r\n          val task = TaskFixture( initialSleep = 30)\r\n    \r\n          pool.scheduleWithFixedDelay({task.run()}, 0, 10, TimeUnit.MILLISECONDS )\r\n    \r\n          Thread.sleep(35)\r\n    \r\n          // 1 initial invocation, no time to wait the specified 10ms for a second invocation\r\n          Assert.assertEquals(1, task.invocations.get())\r\n        }\r\n    \r\n        class TaskFixture(val initialSleep: Long) {\r\n          var invocations = AtomicInteger()\r\n    \r\n          fun run() {\r\n            invocations.incrementAndGet()\r\n            if (invocations.get() == 1){\r\n              Thread.sleep(initialSleep)\r\n            }\r\n          }\r\n        }\r\n    }","title":"What&#39;s the difference between fixed rate and fixed delay in Spring Scheduled annotation?","body":"<p>There seems to be conflicting advice on what these methods do. Maybe the behavior can change depending on the <code>taskScheduler</code> or <code>Executor</code> bean registered with the spring context. I found @Ammar Akouri's answer to be the most close.</p>\n\n<p>Here's what I found when using a <code>ScheduledThreadPoolExecutor</code> (full test source provided below)</p>\n\n<ul>\n<li>neither <code>fixedDelay</code> nor <code>fixedRate</code> allow concurrent task executions</li>\n<li><code>fixedDelay</code> will wait for the <strong>end</strong> of a previous invocation, then schedule a new inovcation at a fixed amount of time in the future. It will hence not queue up more than one task at a time.</li>\n<li><code>fixedRate</code> will schedule a new invocation every period. It will queue up more than one task at a time (potentially unbounded) but will never execute tasks concurrently.</li>\n</ul>\n\n<p>Sample Test (Kotlin/JUnit):</p>\n\n<pre><code>class LearningSchedulerTest {\n\n    private lateinit var pool: ScheduledExecutorService\n\n    @Before\n    fun before() {\n      pool = Executors.newScheduledThreadPool(2)\n    }\n\n    @After\n    fun after() {\n      pool.shutdown()\n    }\n\n    /**\n     * See: https://stackoverflow.com/questions/24033208/how-to-prevent-overlapping-schedules-in-spring\n     *\n     * The documentation claims: If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute.\n     * https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleAtFixedRate-java.lang.Runnable-long-long-java.util.concurrent.TimeUnit-\n     */\n\n    @Test\n    fun `scheduleAtFixedRate schedules at fixed rate`() {\n      val task = TaskFixture( initialSleep = 0)\n\n      pool.scheduleAtFixedRate({task.run()}, 0, 10, TimeUnit.MILLISECONDS )\n\n      Thread.sleep(15)\n      Assert.assertEquals(2, task.invocations.get())\n\n      Thread.sleep(10)\n      Assert.assertEquals(3, task.invocations.get())\n\n      Thread.sleep(10)\n      // 1 initial and 3 periodic invocations\n      Assert.assertEquals(4, task.invocations.get())\n    }\n\n    @Test\n    fun `scheduleAtFixedRate catches up on late invocations`() {\n      val task = TaskFixture(initialSleep = 30)\n\n      pool.scheduleAtFixedRate({task.run()}, 0, 10, TimeUnit.MILLISECONDS )\n\n      Thread.sleep(15) // we see no concurrent invocations\n      Assert.assertEquals(1, task.invocations.get())\n\n      Thread.sleep(10) // still no concurrent invocations\n      Assert.assertEquals(1, task.invocations.get())\n\n      Thread.sleep(10)\n\n      // 1 initial and 3 periodic invocations\n      Assert.assertEquals(4, task.invocations.get())\n    }\n\n    @Test\n    fun `scheduleWithFixedDelay schedules periodically`() {\n      val task = TaskFixture( initialSleep = 0)\n\n      pool.scheduleWithFixedDelay({task.run()}, 0, 10, TimeUnit.MILLISECONDS )\n\n      Thread.sleep(35)\n\n      // 1 initial and 3 periodic invocations\n      Assert.assertEquals(4, task.invocations.get())\n    }\n\n    @Test\n    fun `scheduleWithFixedDelay does not catch up on late invocations`() {\n      val task = TaskFixture( initialSleep = 30)\n\n      pool.scheduleWithFixedDelay({task.run()}, 0, 10, TimeUnit.MILLISECONDS )\n\n      Thread.sleep(35)\n\n      // 1 initial invocation, no time to wait the specified 10ms for a second invocation\n      Assert.assertEquals(1, task.invocations.get())\n    }\n\n    class TaskFixture(val initialSleep: Long) {\n      var invocations = AtomicInteger()\n\n      fun run() {\n        invocations.incrementAndGet()\n        if (invocations.get() == 1){\n          Thread.sleep(initialSleep)\n        }\n      }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7545914,"reputation":135,"user_id":5728971,"display_name":"bashar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585581437,"creation_date":1585581437,"answer_id":60933736,"question_id":38842507,"body_markdown":"**The fixedDelay property makes sure that there is a delay of n millisecond between the finish time of an execution of a task and the start time of the next execution of the task.**\r\n\r\nThis property is specifically useful when we need to make sure that only one instance of the task runs all the time. For dependent jobs, it is quite helpful.\r\n\r\n**The fixedRate property runs the scheduled task at every n millisecond. It doesn&#39;t check for any previous executions of the task.**\r\n\r\nThis is useful when all executions of the task are independent. If we don&#39;t expect to exceed the size of the memory and the thread pool, fixedRate should be quite handy.\r\n\r\nBut, if the incoming tasks do not finish quickly, it&#39;s possible they end up with “Out of Memory exception”.\r\n\r\nFor more details visit:\r\nhttps://www.baeldung.com/spring-scheduled-tasks","title":"What&#39;s the difference between fixed rate and fixed delay in Spring Scheduled annotation?","body":"<p><strong>The fixedDelay property makes sure that there is a delay of n millisecond between the finish time of an execution of a task and the start time of the next execution of the task.</strong></p>\n\n<p>This property is specifically useful when we need to make sure that only one instance of the task runs all the time. For dependent jobs, it is quite helpful.</p>\n\n<p><strong>The fixedRate property runs the scheduled task at every n millisecond. It doesn't check for any previous executions of the task.</strong></p>\n\n<p>This is useful when all executions of the task are independent. If we don't expect to exceed the size of the memory and the thread pool, fixedRate should be quite handy.</p>\n\n<p>But, if the incoming tasks do not finish quickly, it's possible they end up with “Out of Memory exception”.</p>\n\n<p>For more details visit:\n<a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-scheduled-tasks</a></p>\n"},{"tags":[],"owner":{"account_id":5080491,"reputation":15121,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647356638,"creation_date":1647356638,"answer_id":71484474,"question_id":38842507,"body_markdown":"Several answered have said that fixed rate will run parallel processes if tasks are still running.  This seems not true.  In this [baeldung][1] article they say\r\n\r\n&gt; In this case, the duration between the end of the last execution and the start of the next execution is fixed. The task always waits until the previous one is finished.\r\n\r\n\r\n\r\nI&#39;ve tested it myself.  Notice the code waits 5 seconds for the job to finish even though the scheduled rate is only 3 seconds.\r\n\r\n```\r\n  AtomicInteger runCount = new AtomicInteger(0);\r\n\r\n  /** Sleeps for 5 seconds but pops every 3 seconds */\r\n  @Scheduled(fixedRate = 3000)\r\n  public void runTransactionBillingJob() throws InterruptedException {\r\n    log.info(&quot;{}: Popping&quot;, runCount);\r\n    Thread.sleep(5000);\r\n    log.info(&quot;{}: Done&quot;, runCount);\r\n    runCount.incrementAndGet();\r\n  }\r\n```\r\n\r\nWhich produces\r\n\r\n```\r\n&quot;&quot;10:52:26.003 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 38  - 0: Done\r\n&quot;&quot;10:52:26.004 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 36  - 1: Popping\r\n&quot;&quot;10:52:31.015 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 38  - 1: Done\r\n&quot;&quot;10:52:31.017 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 36  - 2: Popping\r\n&quot;&quot;10:52:36.023 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 38  - 2: Done\r\n&quot;&quot;10:52:36.024 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 36  - 3: Popping\r\n&quot;&quot;10:52:41.032 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 38  - 3: Done\r\n&quot;&quot;10:52:41.033 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 36  - 4: Popping\r\n```\r\n\r\n  [1]: https://www.baeldung.com/spring-scheduled-tasks","title":"What&#39;s the difference between fixed rate and fixed delay in Spring Scheduled annotation?","body":"<p>Several answered have said that fixed rate will run parallel processes if tasks are still running.  This seems not true.  In this <a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">baeldung</a> article they say</p>\n<blockquote>\n<p>In this case, the duration between the end of the last execution and the start of the next execution is fixed. The task always waits until the previous one is finished.</p>\n</blockquote>\n<p>I've tested it myself.  Notice the code waits 5 seconds for the job to finish even though the scheduled rate is only 3 seconds.</p>\n<pre><code>  AtomicInteger runCount = new AtomicInteger(0);\n\n  /** Sleeps for 5 seconds but pops every 3 seconds */\n  @Scheduled(fixedRate = 3000)\n  public void runTransactionBillingJob() throws InterruptedException {\n    log.info(&quot;{}: Popping&quot;, runCount);\n    Thread.sleep(5000);\n    log.info(&quot;{}: Done&quot;, runCount);\n    runCount.incrementAndGet();\n  }\n</code></pre>\n<p>Which produces</p>\n<pre><code>&quot;&quot;10:52:26.003 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 38  - 0: Done\n&quot;&quot;10:52:26.004 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 36  - 1: Popping\n&quot;&quot;10:52:31.015 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 38  - 1: Done\n&quot;&quot;10:52:31.017 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 36  - 2: Popping\n&quot;&quot;10:52:36.023 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 38  - 2: Done\n&quot;&quot;10:52:36.024 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 36  - 3: Popping\n&quot;&quot;10:52:41.032 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 38  - 3: Done\n&quot;&quot;10:52:41.033 [pls-scheduled-task-pool-1] INFO  c.p.c.s.i.InvoiceSettingsServiceImpl.runTransactionBillingJob 36  - 4: Popping\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13678477,"reputation":299,"user_id":9869394,"display_name":"Dinushika Rathnayake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695211065,"creation_date":1695211065,"answer_id":77142178,"question_id":38842507,"body_markdown":"    int i = 0, j = 0;\r\n    \r\n    /**\r\n     * Fixed Delay: Always waits until previous one is completed. \r\n     * Fixed delay is between the end of previous and start of the current task.\r\n     *\r\n     * @throws InterruptedException\r\n     */\r\n    @Scheduled(fixedDelay = 1000)\r\n    public void scheduleFixedDelayTask() throws InterruptedException {\r\n    \tlogger.info(&quot;Fixed delay task - &quot; + (++i) + &quot; &quot; + sdf.format(new Date()));\r\n    }\r\n    \r\n    2023-09-20 17:05:56.378  INFO 26352 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed delay task - 1 2023-09-20 17:05:56\r\n    2023-09-20 17:05:56.380  INFO 26352 --- [           main] c.d.s.d.SpringBootSchedulerApplication   : Started SpringBootSchedulerApplication in 2.185 seconds (JVM running for 2.569)\r\n    2023-09-20 17:05:58.393  INFO 26352 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 1 2023-09-20 17:05:58\r\n    2023-09-20 17:05:59.400  INFO 26352 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed delay task - 2 2023-09-20 17:05:59\r\n    2023-09-20 17:06:01.414  INFO 26352 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 2 2023-09-20 17:06:01\r\n    2023-09-20 17:06:02.419  INFO 26352 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed delay task - 3 2023-09-20 17:06:02\r\n    2023-09-20 17:06:04.432  INFO 26352 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 3 2023-09-20 17:06:04\r\n    \r\n    /**\r\n     * Initial Delay: The task will be executed the first time after the initial delay.\r\n     * Start 2000ms after application start\r\n     */\r\n    @Scheduled(initialDelay = 2000, fixedDelay = 1000)\r\n    public void scheduleFixedDelayWithInitialDelayTask() throws InterruptedException {\r\n    \tlogger.info(&quot;Fixed delay with initial delay task - &quot; + (++i) + &quot; &quot; + sdf.format(new Date()));\r\n    }\r\n    \r\n    2023-09-20 17:06:50.123  INFO 7856 --- [           main] c.d.s.d.SpringBootSchedulerApplication   : Started SpringBootSchedulerApplication in 1.986 seconds (JVM running for 2.376)\r\n    2023-09-20 17:06:52.121  INFO 7856 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed delay with initial delay task - 1 2023-09-20 17:06:52\r\n    2023-09-20 17:06:54.137  INFO 7856 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 1 2023-09-20 17:06:54\r\n    2023-09-20 17:06:55.145  INFO 7856 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed delay with initial delay task - 2 2023-09-20 17:06:55\r\n    2023-09-20 17:06:57.148  INFO 7856 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 2 2023-09-20 17:06:57\r\n    2023-09-20 17:06:58.159  INFO 7856 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed delay with initial delay task - 3 2023-09-20 17:06:58\r\n    2023-09-20 17:07:00.162  INFO 7856 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 3 2023-09-20 17:07:00\r\n    \r\n    /**\r\n     * Fixed Rate: Run tasks in fixed intervals.\r\n     * Tasks not run in parallel by default, so waits until previous one is completed.\r\n     *\r\n     * @throws InterruptedException\r\n     */\r\n    \r\n    @Scheduled(initialDelay = 2000, fixedRate = 1000)\r\n    public void scheduleFixedRateTask() throws InterruptedException {\r\n    \tlogger.info(&quot;Fixed rate task - &quot; + (++i) + &quot; &quot; + sdf.format(new Date()));\r\n    \tThread.sleep(2000);\r\n    \tlogger.info(&quot;Job finished - &quot; + (++j) + &quot; &quot; + sdf.format(new Date()));\r\n    }\r\n    \r\n    2023-09-20 16:59:24.178  INFO 92 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed rate task - 1 2023-09-20 16:59:24\r\n    2023-09-20 16:59:26.189  INFO 92 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 1 2023-09-20 16:59:26\r\n    2023-09-20 16:59:26.190  INFO 92 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed rate task - 2 2023-09-20 16:59:26\r\n    2023-09-20 16:59:28.198  INFO 92 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 2 2023-09-20 16:59:28\r\n    2023-09-20 16:59:28.198  INFO 92 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed rate task - 3 2023-09-20 16:59:28\r\n    2023-09-20 16:59:30.207  INFO 92 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 3 2023-09-20 16:59:30\r\n    \r\n    /**\r\n     * Fixed Rate with Async: Run tasks in fixed intervals in parellel.\r\n     *\r\n     * @throws InterruptedException\r\n     */\r\n    @Async\r\n    @Scheduled(initialDelay = 2000,fixedRate = 1000)\r\n    public void scheduleFixedRateAsyncTask() throws InterruptedException {\r\n    \tlogger.info(&quot;Fixed rate async task - &quot; + (++i) + &quot; &quot; + sdf.format(new Date()));\r\n    \tThread.sleep(2000);\r\n    \tlogger.info(&quot;Job finished - &quot; + (++j) + &quot; &quot; + sdf.format(new Date()));\r\n    }\r\n    \r\n    2023-09-20 17:00:50.464  INFO 23856 --- [         task-1] c.d.springboot.demo.SchedulerService     : Fixed rate async task - 1 2023-09-20 17:00:50\r\n    2023-09-20 17:00:51.441  INFO 23856 --- [         task-2] c.d.springboot.demo.SchedulerService     : Fixed rate async task - 2 2023-09-20 17:00:51\r\n    2023-09-20 17:00:52.450  INFO 23856 --- [         task-3] c.d.springboot.demo.SchedulerService     : Fixed rate async task - 3 2023-09-20 17:00:52\r\n    2023-09-20 17:00:52.465  INFO 23856 --- [         task-1] c.d.springboot.demo.SchedulerService     : Job finished - 1 2023-09-20 17:00:52\r\n    2023-09-20 17:00:53.442  INFO 23856 --- [         task-4] c.d.springboot.demo.SchedulerService     : Fixed rate async task - 4 2023-09-20 17:00:53\r\n    2023-09-20 17:00:53.457  INFO 23856 --- [         task-2] c.d.springboot.demo.SchedulerService     : Job finished - 2 2023-09-20 17:00:53\r\n    2023-09-20 17:00:54.449  INFO 23856 --- [         task-5] c.d.springboot.demo.SchedulerService     : Fixed rate async task - 5 2023-09-20 17:00:54\r\n    2023-09-20 17:00:54.464  INFO 23856 --- [         task-3] c.d.springboot.demo.SchedulerService     : Job finished - 3 2023-09-20 17:00:54\r\n    2023-09-20 17:00:55.443  INFO 23856 --- [         task-4] c.d.springboot.demo.SchedulerService     : Job finished - 4 2023-09-20 17:00:55\r\n    2023-09-20 17:00:55.444  INFO 23856 --- [         task-6] c.d.springboot.demo.SchedulerService     : Fixed rate async task - 6 2023-09-20 17:00:55\r\n    2023-09-20 17:00:56.440  INFO 23856 --- [         task-7] c.d.springboot.demo.SchedulerService     : Fixed rate async task - 7 2023-09-20 17:00:56\r\n    2023-09-20 17:00:56.456  INFO 23856 --- [         task-5] c.d.springboot.demo.SchedulerService     : Job finished - 5 2023-09-20 17:00:56\r\n    2023-09-20 17:00:57.447  INFO 23856 --- [         task-6] c.d.springboot.demo.SchedulerService     : Job finished - 6 2023-09-20 17:00:57","title":"What&#39;s the difference between fixed rate and fixed delay in Spring Scheduled annotation?","body":"<pre><code>int i = 0, j = 0;\n\n/**\n * Fixed Delay: Always waits until previous one is completed. \n * Fixed delay is between the end of previous and start of the current task.\n *\n * @throws InterruptedException\n */\n@Scheduled(fixedDelay = 1000)\npublic void scheduleFixedDelayTask() throws InterruptedException {\n    logger.info(&quot;Fixed delay task - &quot; + (++i) + &quot; &quot; + sdf.format(new Date()));\n}\n\n2023-09-20 17:05:56.378  INFO 26352 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed delay task - 1 2023-09-20 17:05:56\n2023-09-20 17:05:56.380  INFO 26352 --- [           main] c.d.s.d.SpringBootSchedulerApplication   : Started SpringBootSchedulerApplication in 2.185 seconds (JVM running for 2.569)\n2023-09-20 17:05:58.393  INFO 26352 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 1 2023-09-20 17:05:58\n2023-09-20 17:05:59.400  INFO 26352 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed delay task - 2 2023-09-20 17:05:59\n2023-09-20 17:06:01.414  INFO 26352 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 2 2023-09-20 17:06:01\n2023-09-20 17:06:02.419  INFO 26352 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed delay task - 3 2023-09-20 17:06:02\n2023-09-20 17:06:04.432  INFO 26352 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 3 2023-09-20 17:06:04\n\n/**\n * Initial Delay: The task will be executed the first time after the initial delay.\n * Start 2000ms after application start\n */\n@Scheduled(initialDelay = 2000, fixedDelay = 1000)\npublic void scheduleFixedDelayWithInitialDelayTask() throws InterruptedException {\n    logger.info(&quot;Fixed delay with initial delay task - &quot; + (++i) + &quot; &quot; + sdf.format(new Date()));\n}\n\n2023-09-20 17:06:50.123  INFO 7856 --- [           main] c.d.s.d.SpringBootSchedulerApplication   : Started SpringBootSchedulerApplication in 1.986 seconds (JVM running for 2.376)\n2023-09-20 17:06:52.121  INFO 7856 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed delay with initial delay task - 1 2023-09-20 17:06:52\n2023-09-20 17:06:54.137  INFO 7856 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 1 2023-09-20 17:06:54\n2023-09-20 17:06:55.145  INFO 7856 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed delay with initial delay task - 2 2023-09-20 17:06:55\n2023-09-20 17:06:57.148  INFO 7856 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 2 2023-09-20 17:06:57\n2023-09-20 17:06:58.159  INFO 7856 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed delay with initial delay task - 3 2023-09-20 17:06:58\n2023-09-20 17:07:00.162  INFO 7856 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 3 2023-09-20 17:07:00\n\n/**\n * Fixed Rate: Run tasks in fixed intervals.\n * Tasks not run in parallel by default, so waits until previous one is completed.\n *\n * @throws InterruptedException\n */\n\n@Scheduled(initialDelay = 2000, fixedRate = 1000)\npublic void scheduleFixedRateTask() throws InterruptedException {\n    logger.info(&quot;Fixed rate task - &quot; + (++i) + &quot; &quot; + sdf.format(new Date()));\n    Thread.sleep(2000);\n    logger.info(&quot;Job finished - &quot; + (++j) + &quot; &quot; + sdf.format(new Date()));\n}\n\n2023-09-20 16:59:24.178  INFO 92 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed rate task - 1 2023-09-20 16:59:24\n2023-09-20 16:59:26.189  INFO 92 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 1 2023-09-20 16:59:26\n2023-09-20 16:59:26.190  INFO 92 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed rate task - 2 2023-09-20 16:59:26\n2023-09-20 16:59:28.198  INFO 92 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 2 2023-09-20 16:59:28\n2023-09-20 16:59:28.198  INFO 92 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Fixed rate task - 3 2023-09-20 16:59:28\n2023-09-20 16:59:30.207  INFO 92 --- [   scheduling-1] c.d.springboot.demo.SchedulerService     : Job finished - 3 2023-09-20 16:59:30\n\n/**\n * Fixed Rate with Async: Run tasks in fixed intervals in parellel.\n *\n * @throws InterruptedException\n */\n@Async\n@Scheduled(initialDelay = 2000,fixedRate = 1000)\npublic void scheduleFixedRateAsyncTask() throws InterruptedException {\n    logger.info(&quot;Fixed rate async task - &quot; + (++i) + &quot; &quot; + sdf.format(new Date()));\n    Thread.sleep(2000);\n    logger.info(&quot;Job finished - &quot; + (++j) + &quot; &quot; + sdf.format(new Date()));\n}\n\n2023-09-20 17:00:50.464  INFO 23856 --- [         task-1] c.d.springboot.demo.SchedulerService     : Fixed rate async task - 1 2023-09-20 17:00:50\n2023-09-20 17:00:51.441  INFO 23856 --- [         task-2] c.d.springboot.demo.SchedulerService     : Fixed rate async task - 2 2023-09-20 17:00:51\n2023-09-20 17:00:52.450  INFO 23856 --- [         task-3] c.d.springboot.demo.SchedulerService     : Fixed rate async task - 3 2023-09-20 17:00:52\n2023-09-20 17:00:52.465  INFO 23856 --- [         task-1] c.d.springboot.demo.SchedulerService     : Job finished - 1 2023-09-20 17:00:52\n2023-09-20 17:00:53.442  INFO 23856 --- [         task-4] c.d.springboot.demo.SchedulerService     : Fixed rate async task - 4 2023-09-20 17:00:53\n2023-09-20 17:00:53.457  INFO 23856 --- [         task-2] c.d.springboot.demo.SchedulerService     : Job finished - 2 2023-09-20 17:00:53\n2023-09-20 17:00:54.449  INFO 23856 --- [         task-5] c.d.springboot.demo.SchedulerService     : Fixed rate async task - 5 2023-09-20 17:00:54\n2023-09-20 17:00:54.464  INFO 23856 --- [         task-3] c.d.springboot.demo.SchedulerService     : Job finished - 3 2023-09-20 17:00:54\n2023-09-20 17:00:55.443  INFO 23856 --- [         task-4] c.d.springboot.demo.SchedulerService     : Job finished - 4 2023-09-20 17:00:55\n2023-09-20 17:00:55.444  INFO 23856 --- [         task-6] c.d.springboot.demo.SchedulerService     : Fixed rate async task - 6 2023-09-20 17:00:55\n2023-09-20 17:00:56.440  INFO 23856 --- [         task-7] c.d.springboot.demo.SchedulerService     : Fixed rate async task - 7 2023-09-20 17:00:56\n2023-09-20 17:00:56.456  INFO 23856 --- [         task-5] c.d.springboot.demo.SchedulerService     : Job finished - 5 2023-09-20 17:00:56\n2023-09-20 17:00:57.447  INFO 23856 --- [         task-6] c.d.springboot.demo.SchedulerService     : Job finished - 6 2023-09-20 17:00:57\n</code></pre>\n"}],"owner":{"account_id":7493363,"reputation":1061,"user_id":5694338,"accept_rate":50,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122960,"favorite_count":0,"down_vote_count":1,"up_vote_count":78,"answer_count":10,"score":77,"last_activity_date":1697101621,"creation_date":1470719395,"question_id":38842507,"body_markdown":"I am implementing scheduled tasks using Spring, and I see there are two types of config options for time that schedule work again from the last call. What is the difference between these two types?\r\n   \r\n\r\n     @Scheduled(fixedDelay = 5000)\r\n     public void doJobDelay() {\r\n         // do anything\r\n     }\r\n\r\n     @Scheduled(fixedRate = 5000)\r\n     public void doJobRate() {\r\n         // do anything\r\n     }","title":"What&#39;s the difference between fixed rate and fixed delay in Spring Scheduled annotation?","body":"<p>I am implementing scheduled tasks using Spring, and I see there are two types of config options for time that schedule work again from the last call. What is the difference between these two types?</p>\n<pre><code> @Scheduled(fixedDelay = 5000)\n public void doJobDelay() {\n     // do anything\n }\n\n @Scheduled(fixedRate = 5000)\n public void doJobRate() {\n     // do anything\n }\n</code></pre>\n"},{"tags":["java","h2","spring-cloud-config","spring-cloud-config-server"],"comments":[{"owner":{"account_id":3956552,"reputation":447,"user_id":3264825,"display_name":"Dhaval Goti"},"score":0,"creation_date":1626075631,"post_id":68343582,"comment_id":120786094,"body_markdown":"Can you show application-jdbc profile&#39;s config ?","body":"Can you show application-jdbc profile&#39;s config ?"},{"owner":{"account_id":17323854,"reputation":319,"user_id":12548589,"display_name":"BeeTheKay"},"score":0,"creation_date":1626076321,"post_id":68343582,"comment_id":120786351,"body_markdown":"@DhavalGoti Sorry, forgot to take that out, I don&#39;t have a jdbc profile","body":"@DhavalGoti Sorry, forgot to take that out, I don&#39;t have a jdbc profile"},{"owner":{"account_id":3956552,"reputation":447,"user_id":3264825,"display_name":"Dhaval Goti"},"score":0,"creation_date":1626076642,"post_id":68343582,"comment_id":120786497,"body_markdown":"this url can help you - https://www.devglan.com/spring-cloud/jdbc-backend-spring-cloud-config","body":"this url can help you - <a href=\"https://www.devglan.com/spring-cloud/jdbc-backend-spring-cloud-config\" rel=\"nofollow noreferrer\">devglan.com/spring-cloud/jdbc-backend-spring-cloud-config</a>"},{"owner":{"account_id":17323854,"reputation":319,"user_id":12548589,"display_name":"BeeTheKay"},"score":0,"creation_date":1626077095,"post_id":68343582,"comment_id":120786674,"body_markdown":"@DhavalGoti that gives me the exact same Error message","body":"@DhavalGoti that gives me the exact same Error message"},{"owner":{"account_id":3755777,"reputation":499,"user_id":3122175,"accept_rate":92,"display_name":"D.T"},"score":0,"creation_date":1626100765,"post_id":68343582,"comment_id":120796361,"body_markdown":"Setting the bootstrap and you need to use the composite configuration, just like the action requires. https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.2.0.RELEASE/reference/html/#composite-environment-repositories","body":"Setting the bootstrap and you need to use the composite configuration, just like the action requires. <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.2.0.RELEASE/reference/html/#composite-environment-repositories\" rel=\"nofollow noreferrer\">cloud.spring.io/spring-cloud-static/spring-cloud-config/&hellip;</a>"},{"owner":{"account_id":17323854,"reputation":319,"user_id":12548589,"display_name":"BeeTheKay"},"score":0,"creation_date":1644323183,"post_id":68343582,"comment_id":125570963,"body_markdown":"Another guy of our team made a Spring Cloud Config Server from scratch and it worked. We haven&#39;t found out what the issue was but redoing it worked","body":"Another guy of our team made a Spring Cloud Config Server from scratch and it worked. We haven&#39;t found out what the issue was but redoing it worked"}],"answers":[{"tags":[],"owner":{"account_id":1550597,"reputation":8924,"user_id":1443084,"display_name":"Shailendra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1628520132,"creation_date":1626186823,"answer_id":68364434,"question_id":68343582,"body_markdown":"I was trying to debug your issue and I have following settings and could successfully start the server as well as query the API.\r\n\r\nMy maven build config file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;config-server&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;config-server&lt;/name&gt;\r\n    \t&lt;description&gt;Test Config Server&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;Hoxton.RELEASE&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;1.4.200&lt;/version&gt;\t\t   \r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nThe main class\r\n\r\n    @EnableConfigServer\r\n    @SpringBootApplication\r\n    public class ConfigserverApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ConfigserverApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n```yaml\r\n#bootstrap.yml\r\nspring:\r\n  application:\r\n    name: my-services-api\r\n  datasource:\r\n    url: jdbc:h2:mem:testdb\r\n    driver-class-name: org.h2.Driver\r\n    platform: h2\r\n    hikari:\r\n      connection-timeout: 5000\r\n      maximum-pool-size: 10\r\n  profiles:\r\n    active: jdbc\r\n  cloud:\r\n    config:\r\n      server:\r\n        jdbc:\r\n          sql: &quot;SELECT properties.key, properties.value from properties where application=? and profile=? and label=?&quot;\r\n          order: 1\r\n  h2:\r\n    console:\r\n      enabled: true\r\n```\r\n\r\nAlso I have put the schema.sql and data.sql into classpath ( resources folder of maven project) so that they autopopulate the data into embedded h2 database.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```sql\r\n#schema.sql\r\n\r\nDROP TABLE IF EXISTS PROPERTIES;\r\n    \r\nCREATE TABLE PROPERTIES (\r\n  id INT AUTO_INCREMENT  PRIMARY KEY,\r\n  APPLICATION VARCHAR(25) NOT NULL,\r\n  PROFILE VARCHAR(25) NOT NULL,\r\n  LABEL VARCHAR(25) DEFAULT NULL,\r\n  KEY VARCHAR(25) NOT NULL,\r\n  VALUE VARCHAR(200) NOT NULL   \r\n);\r\n    \r\n#data.sql\r\n    \r\nINSERT INTO PROPERTIES( APPLICATION, PROFILE, LABEL, KEY, VALUE) \r\nvalues(&#39;myapp&#39;, &#39;MYCLIENT&#39;, &#39;1.1&#39;, &#39;prop1&#39;, &#39;val11&#39;);\r\nINSERT INTO PROPERTIES( APPLICATION, PROFILE, LABEL, KEY, VALUE) \r\nvalues(&#39;myapp&#39;, &#39;MYCLIENT&#39;, &#39;1.1&#39;, &#39;prop2&#39;, &#39;val12&#39;);\r\nINSERT INTO PROPERTIES( APPLICATION, PROFILE, LABEL, KEY, VALUE) \r\nvalues(&#39;myapp&#39;, &#39;MYCLIENT&#39;, &#39;1.1&#39;, &#39;prop3&#39;, &#39;val13&#39;);\r\nINSERT INTO PROPERTIES( APPLICATION, PROFILE, LABEL, KEY, VALUE) \r\nvalues(&#39;myapp&#39;, &#39;MYCLIENT&#39;, &#39;1.0&#39;, &#39;prop1&#39;, &#39;val21&#39;);\r\nINSERT INTO PROPERTIES( APPLICATION, PROFILE, LABEL, KEY, VALUE) \r\nvalues(&#39;myapp&#39;, &#39;MYCLIENT&#39;, &#39;1.0&#39;, &#39;prop2&#39;, &#39;val22&#39;);\r\nINSERT INTO PROPERTIES( APPLICATION, PROFILE, LABEL, KEY, VALUE) \r\nvalues(&#39;myapp&#39;, &#39;MYCLIENT&#39;, &#39;1.0&#39;, &#39;prop3&#39;, &#39;val23&#39;);\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnd I could successfully start and query the Config server\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zMfj4.png\r\n  [2]: https://i.stack.imgur.com/0nX54.png\r\n  [3]: https://i.stack.imgur.com/Ofl4n.png","title":"Spring Cloud Config Server with Database backend","body":"<p>I was trying to debug your issue and I have following settings and could successfully start the server as well as query the API.</p>\n<p>My maven build config file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;config-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;config-server&lt;/name&gt;\n    &lt;description&gt;Test Config Server&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Hoxton.RELEASE&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;1.4.200&lt;/version&gt;         \n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The main class</p>\n<pre><code>@EnableConfigServer\n@SpringBootApplication\npublic class ConfigserverApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ConfigserverApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>#bootstrap.yml\nspring:\n  application:\n    name: my-services-api\n  datasource:\n    url: jdbc:h2:mem:testdb\n    driver-class-name: org.h2.Driver\n    platform: h2\n    hikari:\n      connection-timeout: 5000\n      maximum-pool-size: 10\n  profiles:\n    active: jdbc\n  cloud:\n    config:\n      server:\n        jdbc:\n          sql: &quot;SELECT properties.key, properties.value from properties where application=? and profile=? and label=?&quot;\n          order: 1\n  h2:\n    console:\n      enabled: true\n</code></pre>\n<p>Also I have put the schema.sql and data.sql into classpath ( resources folder of maven project) so that they autopopulate the data into embedded h2 database.</p>\n<p><a href=\"https://i.stack.imgur.com/zMfj4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zMfj4.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-sql prettyprint-override\"><code>#schema.sql\n\nDROP TABLE IF EXISTS PROPERTIES;\n    \nCREATE TABLE PROPERTIES (\n  id INT AUTO_INCREMENT  PRIMARY KEY,\n  APPLICATION VARCHAR(25) NOT NULL,\n  PROFILE VARCHAR(25) NOT NULL,\n  LABEL VARCHAR(25) DEFAULT NULL,\n  KEY VARCHAR(25) NOT NULL,\n  VALUE VARCHAR(200) NOT NULL   \n);\n    \n#data.sql\n    \nINSERT INTO PROPERTIES( APPLICATION, PROFILE, LABEL, KEY, VALUE) \nvalues('myapp', 'MYCLIENT', '1.1', 'prop1', 'val11');\nINSERT INTO PROPERTIES( APPLICATION, PROFILE, LABEL, KEY, VALUE) \nvalues('myapp', 'MYCLIENT', '1.1', 'prop2', 'val12');\nINSERT INTO PROPERTIES( APPLICATION, PROFILE, LABEL, KEY, VALUE) \nvalues('myapp', 'MYCLIENT', '1.1', 'prop3', 'val13');\nINSERT INTO PROPERTIES( APPLICATION, PROFILE, LABEL, KEY, VALUE) \nvalues('myapp', 'MYCLIENT', '1.0', 'prop1', 'val21');\nINSERT INTO PROPERTIES( APPLICATION, PROFILE, LABEL, KEY, VALUE) \nvalues('myapp', 'MYCLIENT', '1.0', 'prop2', 'val22');\nINSERT INTO PROPERTIES( APPLICATION, PROFILE, LABEL, KEY, VALUE) \nvalues('myapp', 'MYCLIENT', '1.0', 'prop3', 'val23');\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0nX54.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0nX54.png\" alt=\"enter image description here\" /></a></p>\n<p>And I could successfully start and query the Config server</p>\n<p><a href=\"https://i.stack.imgur.com/Ofl4n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ofl4n.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9808407,"reputation":66,"user_id":7267411,"display_name":"Santhosh G S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627882618,"creation_date":1627882618,"answer_id":68616791,"question_id":68343582,"body_markdown":"Your application.yaml file is missing below property:\r\nspring:\r\n    profiles:\r\n      active: jdbc\r\n\r\nI have implemented similar kind of project for Cloud config server with JDBC backend and below is the reference:\r\nhttps://github.com/Santhoshinftech/cloud-config-custom-svc\r\n\r\n\r\n  [1]: https://github.com/Santhoshinftech/cloud-config-custom-svc","title":"Spring Cloud Config Server with Database backend","body":"<p>Your application.yaml file is missing below property:\nspring:\nprofiles:\nactive: jdbc</p>\n<p>I have implemented similar kind of project for Cloud config server with JDBC backend and below is the reference:\n<a href=\"https://github.com/Santhoshinftech/cloud-config-custom-svc\" rel=\"nofollow noreferrer\">https://github.com/Santhoshinftech/cloud-config-custom-svc</a></p>\n"},{"tags":[],"owner":{"account_id":141892,"reputation":4512,"user_id":2275962,"display_name":"Taner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697101546,"creation_date":1697101546,"answer_id":77279205,"question_id":68343582,"body_markdown":"You should enable JDBC backend feature by `adding spring-boot-starter-data-jdbc` to the classpath and using the `jdbc` profile or by adding a bean of type `JdbcEnvironmentRepository`\r\n\r\nSee documentation: https://docs.spring.io/spring-cloud-config/docs/current/reference/html/#_jdbc_backend","title":"Spring Cloud Config Server with Database backend","body":"<p>You should enable JDBC backend feature by <code>adding spring-boot-starter-data-jdbc</code> to the classpath and using the <code>jdbc</code> profile or by adding a bean of type <code>JdbcEnvironmentRepository</code></p>\n<p>See documentation: <a href=\"https://docs.spring.io/spring-cloud-config/docs/current/reference/html/#_jdbc_backend\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-config/docs/current/reference/html/#_jdbc_backend</a></p>\n"}],"owner":{"account_id":17323854,"reputation":319,"user_id":12548589,"display_name":"BeeTheKay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6674,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68364434,"answer_count":3,"score":3,"last_activity_date":1697101546,"creation_date":1626075317,"question_id":68343582,"body_markdown":"I am trying to create a Spring Cloud Config Server that gets its Configurations from a `database` and not from the default git-repo.\r\n\r\nEvery time I try to run my Config Server Application I get this Error:\r\n```ERROR\r\nExecution failed for task &#39;:config-server:applications:config-server:bootRun&#39;.\r\n&gt; Process &#39;command &#39;C:\\Program Files\\choco\\openjdk-jdk-11\\latest\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n```\r\nFrom the Server itself comes this message (reformatted for better reading):\r\n```ERROR\r\n[ERROR agnostics.LoggingFailureAnalysisReporter : \r\nAPPLICATION FAILED TO START\r\nDescription: Invalid config server configuration.\r\nAction: If you are using the git profile, you need to set a Git URI in your configuration.  If you are using a native profile and have spring.cloud.config.server.bootstrap=true, you need to use a composite configuration.\r\n[main||||||| - |]]\r\n```\r\n\r\nMy application.yaml has this part in it:\r\n```yaml\r\nspring:\r\n  application:\r\n    name: my-services-api\r\n  datasource:\r\n    url: jdbc:h2:mem:testdb\r\n    driver-class-name: org.h2.Driver\r\n    platform: h2\r\n    hikari:\r\n      connection-timeout: 5000\r\n      maximum-pool-size: 10\r\n  cloud:\r\n    config:\r\n      server:\r\n        jdbc:\r\n          sql: SELECT KEY, VALUE from MY_PROPERTIES where APPLICATION=? and PROFILE=? and LABEL=?\r\n          order: 1\r\n  h2:\r\n    console:\r\n      enabled: true\r\n```\r\n\r\nAs you can see, there is no `spring.cloud.config.server.bootstrap=true` so I don&#39;t know what it wants me to do.&lt;br&gt;\r\nI also don&#39;t want to use a git profile, so the Action doesn&#39;t help me at all.\r\n\r\nDoes someone know, how I can fix this issue? Thanks\r\n\r\n**Update:**\r\nI added `spring.cloud.config.server.git.uri` and changed the order of jdbc to 1 and of git to 2.&lt;br&gt;\r\nAfter that it kind of worked but I still have the issue, that it won&#39;t read the configurations from the database&lt;br&gt;\r\nI started from scratch, did the same thing and then it worked fine","title":"Spring Cloud Config Server with Database backend","body":"<p>I am trying to create a Spring Cloud Config Server that gets its Configurations from a <code>database</code> and not from the default git-repo.</p>\n<p>Every time I try to run my Config Server Application I get this Error:</p>\n<pre><code>Execution failed for task ':config-server:applications:config-server:bootRun'.\n&gt; Process 'command 'C:\\Program Files\\choco\\openjdk-jdk-11\\latest\\bin\\java.exe'' finished with non-zero exit value 1\n</code></pre>\n<p>From the Server itself comes this message (reformatted for better reading):</p>\n<pre><code>[ERROR agnostics.LoggingFailureAnalysisReporter : \nAPPLICATION FAILED TO START\nDescription: Invalid config server configuration.\nAction: If you are using the git profile, you need to set a Git URI in your configuration.  If you are using a native profile and have spring.cloud.config.server.bootstrap=true, you need to use a composite configuration.\n[main||||||| - |]]\n</code></pre>\n<p>My application.yaml has this part in it:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  application:\n    name: my-services-api\n  datasource:\n    url: jdbc:h2:mem:testdb\n    driver-class-name: org.h2.Driver\n    platform: h2\n    hikari:\n      connection-timeout: 5000\n      maximum-pool-size: 10\n  cloud:\n    config:\n      server:\n        jdbc:\n          sql: SELECT KEY, VALUE from MY_PROPERTIES where APPLICATION=? and PROFILE=? and LABEL=?\n          order: 1\n  h2:\n    console:\n      enabled: true\n</code></pre>\n<p>As you can see, there is no <code>spring.cloud.config.server.bootstrap=true</code> so I don't know what it wants me to do.<br>\nI also don't want to use a git profile, so the Action doesn't help me at all.</p>\n<p>Does someone know, how I can fix this issue? Thanks</p>\n<p><strong>Update:</strong>\nI added <code>spring.cloud.config.server.git.uri</code> and changed the order of jdbc to 1 and of git to 2.<br>\nAfter that it kind of worked but I still have the issue, that it won't read the configurations from the database<br>\nI started from scratch, did the same thing and then it worked fine</p>\n"},{"tags":["java","xml","selenium-webdriver","command","testng"],"answers":[{"tags":[],"owner":{"account_id":1453435,"reputation":134,"user_id":1369694,"display_name":"Aru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433858033,"creation_date":1433855833,"answer_id":30733130,"question_id":30731571,"body_markdown":"    When I started to run TestNG xml from console,I got lots of errors.I am not sure which error you are getting exactly,you try following one:\r\n    \r\n    java -cp &quot;C:\\TestNG\\testng.jar;C:\\TestNG\\jcommander.jar;H:\\project\\Test\\src;c:\\selenium-webdriver\\selenium-java-2.45.0.jar;c:\\selenium-webdriver\\libs\\*&quot; org.testng.TestNG testng.xml\r\n    \r\n    Add all these jars according to your settings.","title":"TestNG [Error] no test suite found. nothing to run","body":"<pre><code>When I started to run TestNG xml from console,I got lots of errors.I am not sure which error you are getting exactly,you try following one:\n\njava -cp \"C:\\TestNG\\testng.jar;C:\\TestNG\\jcommander.jar;H:\\project\\Test\\src;c:\\selenium-webdriver\\selenium-java-2.45.0.jar;c:\\selenium-webdriver\\libs\\*\" org.testng.TestNG testng.xml\n\nAdd all these jars according to your settings.\n</code></pre>\n"}],"owner":{"account_id":6408698,"reputation":367,"user_id":4969096,"accept_rate":56,"display_name":"Chaitanya Pujari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8661,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1697101500,"creation_date":1433851583,"question_id":30731571,"body_markdown":"I am \r\nUnable to run the testng test suite from command line I am using windows System  \r\n\r\n&gt; TestNG [Error] no test suite found. nothing to run\r\n   had report ng listeners i have removed that fro my xml and i have removed those jars from library \r\n\r\nI had referred this link \r\n[No Test suite found nothing to run][1]\r\n\r\n  [1]: https://stackoverflow.com/questions/10075209/testng-ant-task-fails-on-mac-os-x-with-error-no-test-suite-found\r\n\r\nCommands using to run test suite\r\n\r\n    cd C:\\Users\\workspace\\myproject\r\n    \r\n    java -cp C:\\Users\\workspace\\myproject\\libs\\*;C:\\Users\\workspace\\myproject\\bin org.testng.TestNG Analytics.xml\r\n\r\n    Analytics.xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;suite name=&quot;BLR_Analytics&quot; verbose=&quot;10&quot; parallel=&quot;tests&quot;&gt;\r\n    \r\n    \t&lt;test name=&quot;Login&quot; group-by-instances=&quot;true&quot; verbose=&quot;3&quot;&gt;\r\n        \t\t&lt;classes&gt;\r\n    \t\t    \t&lt;class name=&quot;analyticsMain.MainExecute&quot; /&gt;\r\n    \t\t    \t\r\n    \t\t    &lt;/classes&gt;\r\n    \t&lt;/test&gt;\r\n    \r\n    &lt;/suite&gt;\t\r\n\r\nplease help\r\nThanks,\r\nChaitanya","title":"TestNG [Error] no test suite found. nothing to run","body":"<p>I am \nUnable to run the testng test suite from command line I am using windows System  </p>\n\n<blockquote>\n  <p>TestNG [Error] no test suite found. nothing to run\n     had report ng listeners i have removed that fro my xml and i have removed those jars from library </p>\n</blockquote>\n\n<p>I had referred this link \n<a href=\"https://stackoverflow.com/questions/10075209/testng-ant-task-fails-on-mac-os-x-with-error-no-test-suite-found\">No Test suite found nothing to run</a></p>\n\n<p>Commands using to run test suite</p>\n\n<pre><code>cd C:\\Users\\workspace\\myproject\n\njava -cp C:\\Users\\workspace\\myproject\\libs\\*;C:\\Users\\workspace\\myproject\\bin org.testng.TestNG Analytics.xml\n\nAnalytics.xml\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;suite name=\"BLR_Analytics\" verbose=\"10\" parallel=\"tests\"&gt;\n\n    &lt;test name=\"Login\" group-by-instances=\"true\" verbose=\"3\"&gt;\n            &lt;classes&gt;\n                &lt;class name=\"analyticsMain.MainExecute\" /&gt;\n\n            &lt;/classes&gt;\n    &lt;/test&gt;\n\n&lt;/suite&gt;    \n</code></pre>\n\n<p>please help\nThanks,\nChaitanya</p>\n"},{"tags":["java","file","wildcard"],"comments":[{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":2,"creation_date":1240866453,"post_id":794381,"comment_id":605601,"body_markdown":"That&#39;s the shell parsing the wildcards, not Java. You can escape them, but the exact format depends on your system.","body":"That&#39;s the shell parsing the wildcards, not Java. You can escape them, but the exact format depends on your system."},{"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":2,"creation_date":1240875954,"post_id":794381,"comment_id":606011,"body_markdown":"No it&#39;s not. Windows doesn&#39;t parse * wildcards. I&#39;ve checked this by running the same syntax on a dummy batchfile and printing out argument #1 which was Test/*.obj pointing to a directory full of .obj files. It prints out &quot;Test/*.obj&quot;. Java seems to do something weird here.","body":"No it&#39;s not. Windows doesn&#39;t parse * wildcards. I&#39;ve checked this by running the same syntax on a dummy batchfile and printing out argument #1 which was Test/*.obj pointing to a directory full of .obj files. It prints out &quot;Test/*.obj&quot;. Java seems to do something weird here."},{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1241100739,"post_id":794381,"comment_id":617000,"body_markdown":"Huh, you&#39;re right; almost all builtin shell commands expand wildcards, but the shell itself doesn&#39;t. Anyway, you can just put the argument in quotes to keep Java from parsing wildcards: java MyClass &quot;Test/*.obj&quot;","body":"Huh, you&#39;re right; almost all builtin shell commands expand wildcards, but the shell itself doesn&#39;t. Anyway, you can just put the argument in quotes to keep Java from parsing wildcards: java MyClass &quot;Test/*.obj&quot;"},{"owner":{"account_id":278464,"reputation":6672,"user_id":573057,"accept_rate":89,"display_name":"earcam"},"score":5,"creation_date":1452658060,"post_id":794381,"comment_id":57261959,"body_markdown":"6+ years later, for those who loathe scrolling and want the Java &gt;=7 zero-dep solution, see and upvote [answer below](http://stackoverflow.com/a/31685610/573057) by @Vadzim, or verbosely pore/bore over https://docs.oracle.com/javase/tutorial/essential/io/find.html","body":"6+ years later, for those who loathe scrolling and want the Java &gt;=7 zero-dep solution, see and upvote <a href=\"http://stackoverflow.com/a/31685610/573057\">answer below</a> by @Vadzim, or verbosely pore/bore over <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/find.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/io/find.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1240851769,"creation_date":1240851769,"answer_id":794397,"question_id":794381,"body_markdown":"The Apache filter is built for iterating files in a known directory. To allow wildcards in the directory also, you would have to split the path on &#39;`\\`&#39; or &#39;`/`&#39; and do a filter on each part separately.\r\n\r\n","title":"How to find files that match a wildcard string in Java?","body":"<p>The Apache filter is built for iterating files in a known directory. To allow wildcards in the directory also, you would have to split the path on '<code>\\</code>' or '<code>/</code>' and do a filter on each part separately.</p>\n"},{"tags":[],"owner":{"account_id":15751,"reputation":13418,"user_id":33611,"accept_rate":74,"display_name":"Elijah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1240852027,"creation_date":1240852027,"answer_id":794413,"question_id":794381,"body_markdown":"Why not use do something like:\r\n\r\n    File myRelativeDir = new File(&quot;../../foo&quot;);\r\n    String fullPath = myRelativeDir.getCanonicalPath();\r\n    Sting wildCard = fullPath + File.separator + &quot;*.txt&quot;;\r\n    \r\n    // now you have a fully qualified path\r\n\r\nThen you won&#39;t have to worry about relative paths and can do your wildcarding as needed.","title":"How to find files that match a wildcard string in Java?","body":"<p>Why not use do something like:</p>\n\n<pre><code>File myRelativeDir = new File(\"../../foo\");\nString fullPath = myRelativeDir.getCanonicalPath();\nSting wildCard = fullPath + File.separator + \"*.txt\";\n\n// now you have a fully qualified path\n</code></pre>\n\n<p>Then you won't have to worry about relative paths and can do your wildcarding as needed.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146286,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1338500520,"creation_date":1240853157,"answer_id":794468,"question_id":794381,"body_markdown":"Might not help you right now, but JDK 7 is intended to have glob and regex file name matching as part of &quot;More NIO Features&quot;.","title":"How to find files that match a wildcard string in Java?","body":"<p>Might not help you right now, but JDK 7 is intended to have glob and regex file name matching as part of \"More NIO Features\".</p>\n"},{"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1240859040,"creation_date":1240859040,"answer_id":794844,"question_id":794381,"body_markdown":"You could convert your wildcard string to a regular expression and use that with String&#39;s `matches` method. Following your example:\r\n\r\n\tString original = &quot;../Test?/sample*.txt&quot;;\r\n\tString regex = original.replace(&quot;?&quot;, &quot;.?&quot;).replace(&quot;*&quot;, &quot;.*?&quot;);\r\n\r\nThis works for your examples:\r\n\r\n\tAssert.assertTrue(&quot;../Test1/sample22b.txt&quot;.matches(regex));\r\n\tAssert.assertTrue(&quot;../Test4/sample-spiffy.txt&quot;.matches(regex));\r\n\r\nAnd counter-examples:\r\n\r\n\tAssert.assertTrue(!&quot;../Test3/sample2.blah&quot;.matches(regex));\r\n\tAssert.assertTrue(!&quot;../Test44/sample2.txt&quot;.matches(regex));","title":"How to find files that match a wildcard string in Java?","body":"<p>You could convert your wildcard string to a regular expression and use that with String's <code>matches</code> method. Following your example:</p>\n\n<pre><code>String original = \"../Test?/sample*.txt\";\nString regex = original.replace(\"?\", \".?\").replace(\"*\", \".*?\");\n</code></pre>\n\n<p>This works for your examples:</p>\n\n<pre><code>Assert.assertTrue(\"../Test1/sample22b.txt\".matches(regex));\nAssert.assertTrue(\"../Test4/sample-spiffy.txt\".matches(regex));\n</code></pre>\n\n<p>And counter-examples:</p>\n\n<pre><code>Assert.assertTrue(!\"../Test3/sample2.blah\".matches(regex));\nAssert.assertTrue(!\"../Test44/sample2.txt\".matches(regex));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5866,"reputation":6843,"user_id":9641,"accept_rate":25,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":148,"is_accepted":false,"score":148,"last_activity_date":1512525682,"creation_date":1240859618,"answer_id":794883,"question_id":794381,"body_markdown":"Try [`FileUtils`][1] from [Apache commons-io][2] (`listFiles` and `iterateFiles` methods):\r\n\r\n    File dir = new File(&quot;.&quot;);\r\n    FileFilter fileFilter = new WildcardFileFilter(&quot;sample*.java&quot;);\r\n    File[] files = dir.listFiles(fileFilter);\r\n    for (int i = 0; i &lt; files.length; i++) {\r\n       System.out.println(files[i]);\r\n    }\r\n\r\nTo solve your issue with the `TestX` folders, I would first iterate through the list of folders:\r\n\r\n    File[] dirs = new File(&quot;.&quot;).listFiles(new WildcardFileFilter(&quot;Test*.java&quot;);\r\n    for (int i=0; i&lt;dirs.length; i++) {\r\n       File dir = dirs[i];\r\n       if (dir.isDirectory()) {\r\n           File[] files = dir.listFiles(new WildcardFileFilter(&quot;sample*.java&quot;));\r\n       }\r\n    }\r\n\r\nQuite a &#39;brute force&#39; solution but should work fine.  If this doesn&#39;t fit your needs, you can always use the [RegexFileFilter][4].\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html\r\n  [2]: http://commons.apache.org/io\r\n  [3]: http://commons.apache.org/io/api-release/org/apache/commons/io/filefilter/WildcardFileFilter.html\r\n  [4]: http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/filefilter/RegexFileFilter.html","title":"How to find files that match a wildcard string in Java?","body":"<p>Try <a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html\" rel=\"noreferrer\"><code>FileUtils</code></a> from <a href=\"http://commons.apache.org/io\" rel=\"noreferrer\">Apache commons-io</a> (<code>listFiles</code> and <code>iterateFiles</code> methods):</p>\n\n<pre><code>File dir = new File(\".\");\nFileFilter fileFilter = new WildcardFileFilter(\"sample*.java\");\nFile[] files = dir.listFiles(fileFilter);\nfor (int i = 0; i &lt; files.length; i++) {\n   System.out.println(files[i]);\n}\n</code></pre>\n\n<p>To solve your issue with the <code>TestX</code> folders, I would first iterate through the list of folders:</p>\n\n<pre><code>File[] dirs = new File(\".\").listFiles(new WildcardFileFilter(\"Test*.java\");\nfor (int i=0; i&lt;dirs.length; i++) {\n   File dir = dirs[i];\n   if (dir.isDirectory()) {\n       File[] files = dir.listFiles(new WildcardFileFilter(\"sample*.java\"));\n   }\n}\n</code></pre>\n\n<p>Quite a 'brute force' solution but should work fine.  If this doesn't fit your needs, you can always use the <a href=\"http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/filefilter/RegexFileFilter.html\" rel=\"noreferrer\">RegexFileFilter</a>.</p>\n"},{"tags":[],"owner":{"account_id":4881,"reputation":1962,"user_id":7557,"display_name":"Misha"},"down_vote_count":2,"up_vote_count":94,"is_accepted":true,"score":92,"last_activity_date":1241070910,"creation_date":1241070910,"answer_id":805504,"question_id":794381,"body_markdown":"Consider DirectoryScanner from Apache Ant:\r\n\r\n    DirectoryScanner scanner = new DirectoryScanner();\r\n    scanner.setIncludes(new String[]{&quot;**/*.java&quot;});\r\n    scanner.setBasedir(&quot;C:/Temp&quot;);\r\n    scanner.setCaseSensitive(false);\r\n    scanner.scan();\r\n    String[] files = scanner.getIncludedFiles();\r\n\r\nYou&#39;ll need to reference ant.jar (~ 1.3 MB for ant 1.7.1).","title":"How to find files that match a wildcard string in Java?","body":"<p>Consider DirectoryScanner from Apache Ant:</p>\n\n<pre><code>DirectoryScanner scanner = new DirectoryScanner();\nscanner.setIncludes(new String[]{\"**/*.java\"});\nscanner.setBasedir(\"C:/Temp\");\nscanner.setCaseSensitive(false);\nscanner.scan();\nString[] files = scanner.getIncludedFiles();\n</code></pre>\n\n<p>You'll need to reference ant.jar (~ 1.3 MB for ant 1.7.1).</p>\n"},{"tags":[],"owner":{"account_id":63479,"reputation":5810,"user_id":187883,"accept_rate":100,"display_name":"NateS"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1292463728,"creation_date":1292463728,"answer_id":4456735,"question_id":794381,"body_markdown":"The wildcard library efficiently does both glob and regex filename matching:\r\n\r\nhttp://code.google.com/p/wildcard/\r\n\r\nThe implementation is succinct -- JAR is only 12.9 kilobytes.","title":"How to find files that match a wildcard string in Java?","body":"<p>The wildcard library efficiently does both glob and regex filename matching:</p>\n\n<p><a href=\"http://code.google.com/p/wildcard/\" rel=\"noreferrer\">http://code.google.com/p/wildcard/</a></p>\n\n<p>The implementation is succinct -- JAR is only 12.9 kilobytes.</p>\n"},{"tags":[],"owner":{"account_id":779489,"reputation":51,"user_id":834527,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1310099264,"creation_date":1310082952,"answer_id":6618503,"question_id":794381,"body_markdown":"You should be able to use the `WildcardFileFilter`. Just use `System.getProperty(&quot;user.dir&quot;)` to get the working directory. Try this:\r\n\r\n    public static void main(String[] args) {\r\n    File[] files = (new File(System.getProperty(&quot;user.dir&quot;))).listFiles(new WildcardFileFilter(args));\r\n    //...\r\n    }\r\n\r\nYou should not need to replace `*` with `[.*]`, assuming wildcard filter uses `java.regex.Pattern`. I have not tested this, but I do use patterns and file filters constantly.","title":"How to find files that match a wildcard string in Java?","body":"<p>You should be able to use the <code>WildcardFileFilter</code>. Just use <code>System.getProperty(\"user.dir\")</code> to get the working directory. Try this:</p>\n\n<pre><code>public static void main(String[] args) {\nFile[] files = (new File(System.getProperty(\"user.dir\"))).listFiles(new WildcardFileFilter(args));\n//...\n}\n</code></pre>\n\n<p>You should not need to replace <code>*</code> with <code>[.*]</code>, assuming wildcard filter uses <code>java.regex.Pattern</code>. I have not tested this, but I do use patterns and file filters constantly.</p>\n"},{"tags":[],"owner":{"account_id":1146580,"reputation":1518,"user_id":1129167,"accept_rate":70,"display_name":"Umair Aziz"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1358735660,"creation_date":1352101556,"answer_id":13227948,"question_id":794381,"body_markdown":"Simple Way without using any external import is  to use this method\r\n\r\n\r\nI created csv files named with billing_201208.csv ,billing_201209.csv ,billing_201210.csv and it looks like working fine. \r\n\r\nOutput will be the following if files listed above exists\r\n\r\n    found billing_201208.csv\r\n    found billing_201209.csv\r\n    found billing_201210.csv\r\n\r\n   &lt;pre&gt;\r\n    //Use Import -&gt;import java.io.File\r\n        public static void main(String[] args) {\r\n        String pathToScan = &quot;.&quot;;\r\n        String target_file ;  // fileThatYouWantToFilter\r\n        File folderToScan = new File(pathToScan); \r\n       \r\n        File[] listOfFiles = folderToScan.listFiles();\r\n    \r\n         for (int i = 0; i &lt; listOfFiles.length; i++) {\r\n                if (listOfFiles[i].isFile()) {\r\n                    target_file = listOfFiles[i].getName();\r\n                    if (target_file.startsWith(&quot;billing&quot;)\r\n                         &amp;&amp; target_file.endsWith(&quot;.csv&quot;)) {\r\n                    //You can add these files to fileList by using &quot;list.add&quot; here\r\n                         System.out.println(&quot;found&quot; + &quot; &quot; + target_file); \r\n                    }\r\n               }\r\n         }    \r\n    }\r\n&lt;/pre&gt;","title":"How to find files that match a wildcard string in Java?","body":"<p>Simple Way without using any external import is  to use this method</p>\n\n<p>I created csv files named with billing_201208.csv ,billing_201209.csv ,billing_201210.csv and it looks like working fine. </p>\n\n<p>Output will be the following if files listed above exists</p>\n\n<pre><code>found billing_201208.csv\nfound billing_201209.csv\nfound billing_201210.csv\n</code></pre>\n\n<p><pre>\n    //Use Import ->import java.io.File\n        public static void main(String[] args) {\n        String pathToScan = \".\";\n        String target_file ;  // fileThatYouWantToFilter\n        File folderToScan = new File(pathToScan); </p>\n\n<pre><code>    File[] listOfFiles = folderToScan.listFiles();\n\n     for (int i = 0; i &lt; listOfFiles.length; i++) {\n            if (listOfFiles[i].isFile()) {\n                target_file = listOfFiles[i].getName();\n                if (target_file.startsWith(\"billing\")\n                     &amp;&amp; target_file.endsWith(\".csv\")) {\n                //You can add these files to fileList by using \"list.add\" here\n                     System.out.println(\"found\" + \" \" + target_file); \n                }\n           }\n     }    \n}\n</code></pre>\n\n<p></pre></p>\n"},{"tags":[],"owner":{"account_id":1151983,"reputation":744,"user_id":1133481,"display_name":"Oliver Coleman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1359677513,"creation_date":1359677513,"answer_id":14637543,"question_id":794381,"body_markdown":"As posted in another answer, the wildcard library works for both glob and regex filename matching: http://code.google.com/p/wildcard/\r\n\r\nI used the following code to match glob patterns including absolute and relative on *nix style file systems: \r\n\r\n    String filePattern = String baseDir = &quot;./&quot;;\r\n    // If absolute path. TODO handle windows absolute path?\r\n    if (filePattern.charAt(0) == File.separatorChar) {\r\n        baseDir = File.separator;\r\n        filePattern = filePattern.substring(1);\r\n    }\r\n    Paths paths = new Paths(baseDir, filePattern);\r\n    List files = paths.getFiles();\r\n\r\nI spent some time trying to get the FileUtils.listFiles methods in the Apache commons io library (see Vladimir&#39;s answer) to do this but had no success (I realise now/think it can only handle pattern matching one directory or file at a time).\r\n\r\nAdditionally, using regex filters (see Fabian&#39;s answer) for processing arbitrary user supplied absolute type glob patterns without searching the entire file system would require some preprocessing of the supplied glob to determine the largest non-regex/glob prefix.\r\n\r\nOf course, Java 7 may handle the requested functionality nicely, but unfortunately I&#39;m stuck with Java 6 for now. The library is relatively minuscule at 13.5kb in size.\r\n\r\nNote to the reviewers: I attempted to add the above to the existing answer mentioning this library but the edit was rejected. I don&#39;t have enough rep to add this as a comment either. Isn&#39;t there a better way...","title":"How to find files that match a wildcard string in Java?","body":"<p>As posted in another answer, the wildcard library works for both glob and regex filename matching: <a href=\"http://code.google.com/p/wildcard/\" rel=\"noreferrer\">http://code.google.com/p/wildcard/</a></p>\n\n<p>I used the following code to match glob patterns including absolute and relative on *nix style file systems: </p>\n\n<pre><code>String filePattern = String baseDir = \"./\";\n// If absolute path. TODO handle windows absolute path?\nif (filePattern.charAt(0) == File.separatorChar) {\n    baseDir = File.separator;\n    filePattern = filePattern.substring(1);\n}\nPaths paths = new Paths(baseDir, filePattern);\nList files = paths.getFiles();\n</code></pre>\n\n<p>I spent some time trying to get the FileUtils.listFiles methods in the Apache commons io library (see Vladimir's answer) to do this but had no success (I realise now/think it can only handle pattern matching one directory or file at a time).</p>\n\n<p>Additionally, using regex filters (see Fabian's answer) for processing arbitrary user supplied absolute type glob patterns without searching the entire file system would require some preprocessing of the supplied glob to determine the largest non-regex/glob prefix.</p>\n\n<p>Of course, Java 7 may handle the requested functionality nicely, but unfortunately I'm stuck with Java 6 for now. The library is relatively minuscule at 13.5kb in size.</p>\n\n<p>Note to the reviewers: I attempted to add the above to the existing answer mentioning this library but the edit was rejected. I don't have enough rep to add this as a comment either. Isn't there a better way...</p>\n"},{"tags":[],"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1370264553,"creation_date":1370264553,"answer_id":16897399,"question_id":794381,"body_markdown":"[Glob][1] of Java7: [Finding Files][2]. ([Sample][3])\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/io/fileOps.html#glob\r\n  [2]: http://docs.oracle.com/javase/tutorial/essential/io/find.html\r\n  [3]: http://docs.oracle.com/javase/tutorial/displayCode.html?code=http://docs.oracle.com/javase/tutorial/essential/io/examples/Find.java","title":"How to find files that match a wildcard string in Java?","body":"<p><a href=\"http://docs.oracle.com/javase/tutorial/essential/io/fileOps.html#glob\" rel=\"noreferrer\">Glob</a> of Java7: <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/find.html\" rel=\"noreferrer\">Finding Files</a>. (<a href=\"http://docs.oracle.com/javase/tutorial/displayCode.html?code=http://docs.oracle.com/javase/tutorial/essential/io/examples/Find.java\" rel=\"noreferrer\">Sample</a>)</p>\n"},{"tags":[],"owner":{"account_id":344466,"reputation":7026,"user_id":676803,"accept_rate":64,"display_name":"Drona"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418744200,"creation_date":1418744200,"answer_id":27508209,"question_id":794381,"body_markdown":"Implement the JDK FileVisitor interface. Here is an example http://wilddiary.com/list-files-matching-a-naming-pattern-java/","title":"How to find files that match a wildcard string in Java?","body":"<p>Implement the JDK FileVisitor interface. Here is an example <a href=\"http://wilddiary.com/list-files-matching-a-naming-pattern-java/\" rel=\"nofollow\">http://wilddiary.com/list-files-matching-a-naming-pattern-java/</a></p>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":1,"up_vote_count":75,"is_accepted":false,"score":74,"last_activity_date":1557492771,"creation_date":1438112378,"answer_id":31685610,"question_id":794381,"body_markdown":"Here are examples of listing files by pattern powered by [Java 7 nio][1] [globbing][2] and Java 8 lambdas:\r\n\r\n        try (DirectoryStream&lt;Path&gt; dirStream = Files.newDirectoryStream(\r\n                Paths.get(&quot;..&quot;), &quot;Test?/sample*.txt&quot;)) {\r\n            dirStream.forEach(path -&gt; System.out.println(path));\r\n        }\r\n\r\nor\r\n\r\n        PathMatcher pathMatcher = FileSystems.getDefault()\r\n            .getPathMatcher(&quot;regex:Test./sample\\\\w+\\\\.txt&quot;);\r\n        try (DirectoryStream&lt;Path&gt; dirStream = Files.newDirectoryStream(\r\n                new File(&quot;..&quot;).toPath(), pathMatcher::matches)) {\r\n            dirStream.forEach(path -&gt; System.out.println(path));\r\n        }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\r\n  [2]: https://stackoverflow.com/questions/9148528/how-do-i-use-directory-globbing-in-jdk7","title":"How to find files that match a wildcard string in Java?","body":"<p>Here are examples of listing files by pattern powered by <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"noreferrer\">Java 7 nio</a> <a href=\"https://stackoverflow.com/questions/9148528/how-do-i-use-directory-globbing-in-jdk7\">globbing</a> and Java 8 lambdas:</p>\n\n<pre><code>    try (DirectoryStream&lt;Path&gt; dirStream = Files.newDirectoryStream(\n            Paths.get(\"..\"), \"Test?/sample*.txt\")) {\n        dirStream.forEach(path -&gt; System.out.println(path));\n    }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>    PathMatcher pathMatcher = FileSystems.getDefault()\n        .getPathMatcher(\"regex:Test./sample\\\\w+\\\\.txt\");\n    try (DirectoryStream&lt;Path&gt; dirStream = Files.newDirectoryStream(\n            new File(\"..\").toPath(), pathMatcher::matches)) {\n        dirStream.forEach(path -&gt; System.out.println(path));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2253500,"reputation":1478,"user_id":1985234,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453577860,"creation_date":1453577860,"answer_id":34967911,"question_id":794381,"body_markdown":"Util Method:\r\n\r\n    public static boolean isFileMatchTargetFilePattern(final File f, final String targetPattern) {\r\n    \t\tString regex = targetPattern.replace(&quot;.&quot;, &quot;\\\\.&quot;);  //escape the dot first\r\n    \t\tregex = regex.replace(&quot;?&quot;, &quot;.?&quot;).replace(&quot;*&quot;, &quot;.*&quot;);\r\n    \t\treturn f.getName().matches(regex);\r\n    \r\n    \t}\r\n\r\njUnit Test:\r\n\r\n\t@Test\r\n\tpublic void testIsFileMatchTargetFilePattern()  {\r\n\t\tString dir = &quot;D:\\\\repository\\\\org\\my\\\\modules\\\\mobile\\\\mobile-web\\\\b1605.0.1&quot;;\r\n\t\tString[] regexPatterns = new String[] {&quot;_*.repositories&quot;, &quot;*.pom&quot;, &quot;*-b1605.0.1*&quot;,&quot;*-b1605.0.1&quot;, &quot;mobile*&quot;};\r\n\t\tFile fDir = new File(dir);\r\n\t\tFile[] files = fDir.listFiles();\r\n\r\n\t\tfor (String regexPattern : regexPatterns) {\r\n\t\t\tSystem.out.println(&quot;match pattern [&quot; + regexPattern + &quot;]:&quot;);\r\n\t\t\tfor (File file : files) {\r\n\t\t\t\tSystem.out.println(&quot;\\t&quot; + file.getName() + &quot; matches:&quot; + FileUtils.isFileMatchTargetFilePattern(file, regexPattern));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nOutput:\r\n\r\n    match pattern [_*.repositories]:\r\n    \tmobile-web-b1605.0.1.pom matches:false\r\n    \tmobile-web-b1605.0.1.war matches:false\r\n    \t_remote.repositories matches:true\r\n    match pattern [*.pom]:\r\n    \tmobile-web-b1605.0.1.pom matches:true\r\n    \tmobile-web-b1605.0.1.war matches:false\r\n    \t_remote.repositories matches:false\r\n    match pattern [*-b1605.0.1*]:\r\n    \tmobile-web-b1605.0.1.pom matches:true\r\n    \tmobile-web-b1605.0.1.war matches:true\r\n    \t_remote.repositories matches:false\r\n    match pattern [*-b1605.0.1]:\r\n    \tmobile-web-b1605.0.1.pom matches:false\r\n    \tmobile-web-b1605.0.1.war matches:false\r\n    \t_remote.repositories matches:false\r\n    match pattern [mobile*]:\r\n    \tmobile-web-b1605.0.1.pom matches:true\r\n    \tmobile-web-b1605.0.1.war matches:true\r\n    \t_remote.repositories matches:false\r\n\r\n\r\n\r\n","title":"How to find files that match a wildcard string in Java?","body":"<p>Util Method:</p>\n\n<pre><code>public static boolean isFileMatchTargetFilePattern(final File f, final String targetPattern) {\n        String regex = targetPattern.replace(\".\", \"\\\\.\");  //escape the dot first\n        regex = regex.replace(\"?\", \".?\").replace(\"*\", \".*\");\n        return f.getName().matches(regex);\n\n    }\n</code></pre>\n\n<p>jUnit Test:</p>\n\n<pre><code>@Test\npublic void testIsFileMatchTargetFilePattern()  {\n    String dir = \"D:\\\\repository\\\\org\\my\\\\modules\\\\mobile\\\\mobile-web\\\\b1605.0.1\";\n    String[] regexPatterns = new String[] {\"_*.repositories\", \"*.pom\", \"*-b1605.0.1*\",\"*-b1605.0.1\", \"mobile*\"};\n    File fDir = new File(dir);\n    File[] files = fDir.listFiles();\n\n    for (String regexPattern : regexPatterns) {\n        System.out.println(\"match pattern [\" + regexPattern + \"]:\");\n        for (File file : files) {\n            System.out.println(\"\\t\" + file.getName() + \" matches:\" + FileUtils.isFileMatchTargetFilePattern(file, regexPattern));\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>match pattern [_*.repositories]:\n    mobile-web-b1605.0.1.pom matches:false\n    mobile-web-b1605.0.1.war matches:false\n    _remote.repositories matches:true\nmatch pattern [*.pom]:\n    mobile-web-b1605.0.1.pom matches:true\n    mobile-web-b1605.0.1.war matches:false\n    _remote.repositories matches:false\nmatch pattern [*-b1605.0.1*]:\n    mobile-web-b1605.0.1.pom matches:true\n    mobile-web-b1605.0.1.war matches:true\n    _remote.repositories matches:false\nmatch pattern [*-b1605.0.1]:\n    mobile-web-b1605.0.1.pom matches:false\n    mobile-web-b1605.0.1.war matches:false\n    _remote.repositories matches:false\nmatch pattern [mobile*]:\n    mobile-web-b1605.0.1.pom matches:true\n    mobile-web-b1605.0.1.war matches:true\n    _remote.repositories matches:false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":170737,"reputation":2303,"user_id":397677,"display_name":"Grzegorz Gajos"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1664830325,"creation_date":1467210215,"answer_id":38102485,"question_id":794381,"body_markdown":"Since Java 8 you can use `Files#find` method directly from `java.nio.file`.\r\n\r\n    public static Stream&lt;Path&gt; find(Path start,\r\n                                    int maxDepth,\r\n                                    BiPredicate&lt;Path, BasicFileAttributes&gt; matcher,\r\n                                    FileVisitOption... options)\r\n\r\n### Example usage\r\n    Files.find(startingPath,\r\n               Integer.MAX_VALUE,\r\n               (path, basicFileAttributes) -&gt; path.toFile().getName().matches(&quot;.*.pom&quot;)\r\n    );\r\n\r\n\r\nOr an example of putting items in a simple string collection:\r\n\r\n\r\n    import java.io.UncheckedIOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.stream.Stream;\r\n\r\n            final Collection&lt;String&gt; simpleStringCollection = new ArrayList&lt;&gt;();\r\n            \r\n            String wildCardValue = &quot;*.txt&quot;;\r\n\r\n            final Path dir = Paths.get(&quot;.&quot;);\r\n\r\n            try {\r\n                Stream&lt;Path&gt; results = Files.find(dir,\r\n                        Integer.MAX_VALUE,\r\n                        (path, basicFileAttributes) -&gt; path.toFile().getName().matches(wildCardValue)\r\n                );\r\n\r\n                results.forEach(p -&gt; simpleStringCollection.add(p.toString()));\r\n            } catch (IOException e) {\r\n                throw new UncheckedIOException(e);\r\n            }\r\n","title":"How to find files that match a wildcard string in Java?","body":"<p>Since Java 8 you can use <code>Files#find</code> method directly from <code>java.nio.file</code>.</p>\n<pre><code>public static Stream&lt;Path&gt; find(Path start,\n                                int maxDepth,\n                                BiPredicate&lt;Path, BasicFileAttributes&gt; matcher,\n                                FileVisitOption... options)\n</code></pre>\n<h3>Example usage</h3>\n<pre><code>Files.find(startingPath,\n           Integer.MAX_VALUE,\n           (path, basicFileAttributes) -&gt; path.toFile().getName().matches(&quot;.*.pom&quot;)\n);\n</code></pre>\n<p>Or an example of putting items in a simple string collection:</p>\n<pre><code>import java.io.UncheckedIOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.stream.Stream;\n\n        final Collection&lt;String&gt; simpleStringCollection = new ArrayList&lt;&gt;();\n        \n        String wildCardValue = &quot;*.txt&quot;;\n\n        final Path dir = Paths.get(&quot;.&quot;);\n\n        try {\n            Stream&lt;Path&gt; results = Files.find(dir,\n                    Integer.MAX_VALUE,\n                    (path, basicFileAttributes) -&gt; path.toFile().getName().matches(wildCardValue)\n            );\n\n            results.forEach(p -&gt; simpleStringCollection.add(p.toString()));\n        } catch (IOException e) {\n            throw new UncheckedIOException(e);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1477288,"reputation":5052,"user_id":1387386,"display_name":"Anatolii Shuba"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1620357954,"creation_date":1554498740,"answer_id":55543438,"question_id":794381,"body_markdown":"Using Java streams only\r\n\r\n    Path testPath = Paths.get(&quot;C:\\&quot;);\r\n    \r\n    Stream&lt;Path&gt; stream =\r\n                    Files.find(testPath, 1,\r\n                            (path, basicFileAttributes) -&gt; {\r\n                                File file = path.toFile();\r\n                                return file.getName().endsWith(&quot;.java&quot;);\r\n                            });\r\n    \r\n    // Print all files found\r\n    stream.forEach(System.out::println);\r\n\r\n\r\n\r\n","title":"How to find files that match a wildcard string in Java?","body":"<p>Using Java streams only</p>\n<pre><code>Path testPath = Paths.get(&quot;C:\\&quot;);\n\nStream&lt;Path&gt; stream =\n                Files.find(testPath, 1,\n                        (path, basicFileAttributes) -&gt; {\n                            File file = path.toFile();\n                            return file.getName().endsWith(&quot;.java&quot;);\n                        });\n\n// Print all files found\nstream.forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16194449,"reputation":1,"user_id":13799483,"display_name":"Kushal Baidya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1621365754,"creation_date":1621365754,"answer_id":67592731,"question_id":794381,"body_markdown":"The most simple and easy way by using the io library&#39;s File class would be :\r\n\r\n        String startingdir=&quot;The directory name&quot;;\r\n\t\tString filenameprefix=&quot;The file pattern&quot;\r\n\t\tFile startingDirFile=new File(startingdir); \r\n\t\tfinal File[] listFiles=startingDirFile.listFiles(new FilenameFilter() {\r\n\t\t\tpublic boolean accept(File arg0,String arg1)\r\n\t\t\t{System.out.println(arg0+arg1);\r\n\t\t\t\treturn arg1.matches(filenameprefix);}\r\n\t\t\t});\r\n\t\tSystem.out.println(Arrays.toString(listFiles));","title":"How to find files that match a wildcard string in Java?","body":"<p>The most simple and easy way by using the io library's File class would be :</p>\n<pre><code>    String startingdir=&quot;The directory name&quot;;\n    String filenameprefix=&quot;The file pattern&quot;\n    File startingDirFile=new File(startingdir); \n    final File[] listFiles=startingDirFile.listFiles(new FilenameFilter() {\n        public boolean accept(File arg0,String arg1)\n        {System.out.println(arg0+arg1);\n            return arg1.matches(filenameprefix);}\n        });\n    System.out.println(Arrays.toString(listFiles));\n</code></pre>\n"}],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314678,"favorite_count":0,"down_vote_count":0,"up_vote_count":188,"accepted_answer_id":805504,"answer_count":17,"score":188,"last_activity_date":1697101009,"creation_date":1240851584,"question_id":794381,"body_markdown":"This should be really simple. If I have a String like this:\r\n\r\n    ../Test?/sample*.txt\r\n\r\nthen what is a generally-accepted way to get a list of files that match this pattern? (e.g. it should match `../Test1/sample22b.txt` and `../Test4/sample-spiffy.txt` but not `../Test3/sample2.blah` or `../Test44/sample2.txt`)\r\n\r\nI&#39;ve taken a look at [`org.apache.commons.io.filefilter.WildcardFileFilter`][1] and it seems like the right beast but I&#39;m not sure how to use it for finding files in a relative directory path.\r\n\r\nI suppose I can look the source for ant since it uses wildcard syntax, but I must be missing something pretty obvious here.\r\n\r\n(**edit**: the above example was just a sample case. I&#39;m looking for the way to parse general paths containing wildcards at runtime. I figured out how to do it based on mmyers&#39; suggestion but it&#39;s kind of annoying. Not to mention that the java JRE seems to auto-parse simple wildcards in the main(String[] arguments) from a single argument to &quot;save&quot; me time and hassle... I&#39;m just glad I didn&#39;t have non-file arguments in the mix.)\r\n\r\n\r\n  [1]: http://commons.apache.org/io/apidocs/org/apache/commons/io/filefilter/WildcardFileFilter.html","title":"How to find files that match a wildcard string in Java?","body":"<p>This should be really simple. If I have a String like this:</p>\n\n<pre><code>../Test?/sample*.txt\n</code></pre>\n\n<p>then what is a generally-accepted way to get a list of files that match this pattern? (e.g. it should match <code>../Test1/sample22b.txt</code> and <code>../Test4/sample-spiffy.txt</code> but not <code>../Test3/sample2.blah</code> or <code>../Test44/sample2.txt</code>)</p>\n\n<p>I've taken a look at <a href=\"http://commons.apache.org/io/apidocs/org/apache/commons/io/filefilter/WildcardFileFilter.html\" rel=\"noreferrer\"><code>org.apache.commons.io.filefilter.WildcardFileFilter</code></a> and it seems like the right beast but I'm not sure how to use it for finding files in a relative directory path.</p>\n\n<p>I suppose I can look the source for ant since it uses wildcard syntax, but I must be missing something pretty obvious here.</p>\n\n<p>(<strong>edit</strong>: the above example was just a sample case. I'm looking for the way to parse general paths containing wildcards at runtime. I figured out how to do it based on mmyers' suggestion but it's kind of annoying. Not to mention that the java JRE seems to auto-parse simple wildcards in the main(String[] arguments) from a single argument to \"save\" me time and hassle... I'm just glad I didn't have non-file arguments in the mix.)</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3508,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697100872,"creation_date":1697100872,"answer_id":77279126,"question_id":77274602,"body_markdown":"Error means that `JQuery` is not defined on your resource (site doesn&#39;t use it, so you can&#39;t access `$` variable).\r\n\r\nAs a workaround you can use native JS function.\r\n```java\r\ndriver.executeScript(String.format(&quot;return document.querySelector(&#39;#validator&#39;).value = &#39;%s&#39;&quot;, value));\r\n```","title":"Selenium Java: Cannot use jquery, getting Reference Error","body":"<p>Error means that <code>JQuery</code> is not defined on your resource (site doesn't use it, so you can't access <code>$</code> variable).</p>\n<p>As a workaround you can use native JS function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.executeScript(String.format(&quot;return document.querySelector('#validator').value = '%s'&quot;, value));\n</code></pre>\n"}],"owner":{"account_id":29649317,"reputation":1,"user_id":22723638,"display_name":"Bende"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697100872,"creation_date":1697039533,"question_id":77274602,"body_markdown":"I am using Selenium within Java.\r\n\r\nWhen I want to execute JQuery code, than I am getting an exception.\r\n````\r\nException in thread main&quot; org.openqa.selenium.JavascriptException: ReferenceError: $ is not defined\r\n````\r\n\r\nI am using GeckDriver and the element which I want to change is a hidden element.\r\n\r\n\r\n````\r\ndriver.executeScript(String.format(&quot;return $(&#39;#validator&#39;).val(&#39;%s&#39;);&quot;, value));\r\n````","title":"Selenium Java: Cannot use jquery, getting Reference Error","body":"<p>I am using Selenium within Java.</p>\n<p>When I want to execute JQuery code, than I am getting an exception.</p>\n<pre><code>Exception in thread main&quot; org.openqa.selenium.JavascriptException: ReferenceError: $ is not defined\n</code></pre>\n<p>I am using GeckDriver and the element which I want to change is a hidden element.</p>\n<pre><code>driver.executeScript(String.format(&quot;return $('#validator').val('%s');&quot;, value));\n</code></pre>\n"},{"tags":["java","serialization","deserialization","dsl"],"comments":[{"owner":{"account_id":11733063,"reputation":156,"user_id":8587847,"display_name":"Md Alif Al Amin"},"score":0,"creation_date":1697097368,"post_id":77264631,"comment_id":136237232,"body_markdown":"what dependency for ResponseBody is required?","body":"what dependency for ResponseBody is required?"},{"owner":{"account_id":11733063,"reputation":156,"user_id":8587847,"display_name":"Md Alif Al Amin"},"score":0,"creation_date":1697097656,"post_id":77264631,"comment_id":136237302,"body_markdown":"can you provide response body class?","body":"can you provide response body class?"}],"answers":[{"tags":[],"owner":{"account_id":15949656,"reputation":81,"user_id":11509328,"display_name":"Md. Saiful Islam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697100299,"creation_date":1696931096,"answer_id":77264632,"question_id":77264631,"body_markdown":"If you are using java jdk 8. then add this dependency in pom.xml instead of given dsl dependency\r\n```\r\n  &lt;dependency&gt;\r\n            &lt;groupId&gt;com.dslplatform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dsl-json-java8&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n","title":"Can&#39;t compile java project when I am using DSL json serialization and deserialization","body":"<p>If you are using java jdk 8. then add this dependency in pom.xml instead of given dsl dependency</p>\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;com.dslplatform&lt;/groupId&gt;\n            &lt;artifactId&gt;dsl-json-java8&lt;/artifactId&gt;\n            &lt;version&gt;1.9.8&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":15949656,"reputation":81,"user_id":11509328,"display_name":"Md. Saiful Islam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1697100299,"creation_date":1696931096,"question_id":77264631,"body_markdown":"I have googled on this. But doesn&#39;t get any result. \r\n\r\nI am using jdk 8 of java.\r\nWhen I am going to compile this code snippet. I get this error.\r\n\r\nthis is ResponseBody class.\r\n```\r\npublic class ResponseBody {\r\n    private String message;\r\n\r\n    public ResponseBody(){\r\n        this.message = null;\r\n    }\r\n    \r\n    \r\n    public ResponseBody(String message){\r\n        this.message = message;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n}\r\n```\r\n```\r\npublic static void main(String[] args) {\r\n        try{\r\n            DslJson dslJson = new DslJson&lt;&gt;();\r\n            // ResponseBody is class with one property &#39;message&#39;\r\n            ResponseBody responseBody = new ResponseBody();\r\n            responseBody.setMessage(&quot;hello saiful&quot;);\r\n\r\n\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            dslJson.serialize(responseBody, outputStream);\r\n            byte[] serializedObject = outputStream.toByteArray();\r\n            System.out.println(&quot;Object serialized to byte array&quot;);\r\n\r\n            ByteArrayInputStream inputStream = new ByteArrayInputStream(serializedObject);\r\n            responseBody = (ResponseBody) dslJson.deserialize(ResponseBody.class, inputStream);\r\n            System.out.println(&quot;Object deserialized to byte array: &quot;+responseBody.toString());\r\n\r\n        }catch (Exception e){\r\n            System.out.println(e);\r\n        }\r\n\r\n    }\r\n\r\n```\r\n\r\nin pom.xml, I have added this dependency for DSL json\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;com.dslplatform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dsl-json-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\ncompilation error:\r\n\r\n```\r\n[ERROR] COMPILATION ERROR : \r\n[INFO] -------------------------------------------------------------\r\n[ERROR] Mono is required to run DSL compiler. Mono not detected or specified.\r\n[ERROR] DSL compilation error\r\n  Unable to setup DSL-JSON processing environment. Specify dsljson.loglevel=DEBUG for more information.\r\n```","title":"Can&#39;t compile java project when I am using DSL json serialization and deserialization","body":"<p>I have googled on this. But doesn't get any result.</p>\n<p>I am using jdk 8 of java.\nWhen I am going to compile this code snippet. I get this error.</p>\n<p>this is ResponseBody class.</p>\n<pre><code>public class ResponseBody {\n    private String message;\n\n    public ResponseBody(){\n        this.message = null;\n    }\n    \n    \n    public ResponseBody(String message){\n        this.message = message;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n}\n</code></pre>\n<pre><code>public static void main(String[] args) {\n        try{\n            DslJson dslJson = new DslJson&lt;&gt;();\n            // ResponseBody is class with one property 'message'\n            ResponseBody responseBody = new ResponseBody();\n            responseBody.setMessage(&quot;hello saiful&quot;);\n\n\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n            dslJson.serialize(responseBody, outputStream);\n            byte[] serializedObject = outputStream.toByteArray();\n            System.out.println(&quot;Object serialized to byte array&quot;);\n\n            ByteArrayInputStream inputStream = new ByteArrayInputStream(serializedObject);\n            responseBody = (ResponseBody) dslJson.deserialize(ResponseBody.class, inputStream);\n            System.out.println(&quot;Object deserialized to byte array: &quot;+responseBody.toString());\n\n        }catch (Exception e){\n            System.out.println(e);\n        }\n\n    }\n\n</code></pre>\n<p>in pom.xml, I have added this dependency for DSL json</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.dslplatform&lt;/groupId&gt;\n            &lt;artifactId&gt;dsl-json-processor&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>compilation error:</p>\n<pre><code>[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] Mono is required to run DSL compiler. Mono not detected or specified.\n[ERROR] DSL compilation error\n  Unable to setup DSL-JSON processing environment. Specify dsljson.loglevel=DEBUG for more information.\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":29520193,"reputation":857,"user_id":22623172,"display_name":"Vlad Guriev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697099418,"creation_date":1697099418,"answer_id":77278933,"question_id":77278342,"body_markdown":"You are right, it is overwriting this background drawable.\r\n\r\nIn your case, that shape drawable is not necessary, you can round the corners as follows:\r\n\r\n```Java\r\nbtn.setClipToOutline(true);\r\nbtn.setOutlineProvider(new ViewOutlineProvider() {\r\n    @Override\r\n    public void getOutline(View view, Outline outline) {\r\n        outline.setRoundRect(0, 0, view.getWidth(), view.getHeight(), radiusPx);\r\n    }\r\n});\r\n```","title":"Animating button backgroundColor while maintaining cornerRadius","body":"<p>You are right, it is overwriting this background drawable.</p>\n<p>In your case, that shape drawable is not necessary, you can round the corners as follows:</p>\n<pre><code>btn.setClipToOutline(true);\nbtn.setOutlineProvider(new ViewOutlineProvider() {\n    @Override\n    public void getOutline(View view, Outline outline) {\n        outline.setRoundRect(0, 0, view.getWidth(), view.getHeight(), radiusPx);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":29654081,"reputation":3,"user_id":22727219,"display_name":"Andr&#233; Hart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77278933,"answer_count":1,"score":0,"last_activity_date":1697099418,"creation_date":1697093813,"question_id":77278342,"body_markdown":"I am animating the scale and backgroundColor of a Button:\r\n\r\n```xml\r\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:ordering=&quot;together&quot;&gt;\r\n    &lt;objectAnimator\r\n        android:propertyName=&quot;scaleX&quot;\r\n        android:duration=&quot;600&quot;\r\n        android:valueTo=&quot;0.8&quot;\r\n        android:interpolator=&quot;@android:anim/decelerate_interpolator&quot;/&gt;\r\n    &lt;objectAnimator\r\n        android:propertyName=&quot;scaleY&quot;\r\n        android:duration=&quot;600&quot;\r\n        android:valueTo=&quot;0.8&quot;\r\n        android:interpolator=&quot;@android:anim/decelerate_interpolator&quot;/&gt;\r\n    &lt;objectAnimator\r\n        android:duration=&quot;600&quot;\r\n        android:propertyName=&quot;backgroundColor&quot;\r\n        android:valueFrom=&quot;@color/bgBtnConnect&quot;\r\n        android:valueTo=&quot;@color/bgBtnConnecting&quot;\r\n        android:interpolator=&quot;@android:anim/decelerate_interpolator&quot;/&gt;\r\n&lt;/set&gt;\r\n```\r\n\r\n```java\r\npublic void anim() {\r\n    AnimatorSet firstSet = (AnimatorSet) AnimatorInflater.loadAnimator(context, R.animator.connect_button);\r\n    firstSet.setTarget(btn);\r\n    firstSet.start();\r\n}\r\n```\r\n\r\nInitially this button has a drawable set as its background:\r\n\r\n\r\n```\r\n android:background=&quot;@drawable/button&quot;\r\n```\r\n\r\n```xml\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;&gt;\r\n    &lt;solid android:color=&quot;@color/black&quot; /&gt;\r\n    &lt;corners android:radius=&quot;40dp&quot; /&gt;\r\n&lt;/shape&gt;\r\n```\r\n\r\nWhen I animate the button it does not maintain this cornerRadius, probably because it is overwriting this background drawable. How do I maintain the cornerRadius during the animation?","title":"Animating button backgroundColor while maintaining cornerRadius","body":"<p>I am animating the scale and backgroundColor of a Button:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:ordering=&quot;together&quot;&gt;\n    &lt;objectAnimator\n        android:propertyName=&quot;scaleX&quot;\n        android:duration=&quot;600&quot;\n        android:valueTo=&quot;0.8&quot;\n        android:interpolator=&quot;@android:anim/decelerate_interpolator&quot;/&gt;\n    &lt;objectAnimator\n        android:propertyName=&quot;scaleY&quot;\n        android:duration=&quot;600&quot;\n        android:valueTo=&quot;0.8&quot;\n        android:interpolator=&quot;@android:anim/decelerate_interpolator&quot;/&gt;\n    &lt;objectAnimator\n        android:duration=&quot;600&quot;\n        android:propertyName=&quot;backgroundColor&quot;\n        android:valueFrom=&quot;@color/bgBtnConnect&quot;\n        android:valueTo=&quot;@color/bgBtnConnecting&quot;\n        android:interpolator=&quot;@android:anim/decelerate_interpolator&quot;/&gt;\n&lt;/set&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public void anim() {\n    AnimatorSet firstSet = (AnimatorSet) AnimatorInflater.loadAnimator(context, R.animator.connect_button);\n    firstSet.setTarget(btn);\n    firstSet.start();\n}\n</code></pre>\n<p>Initially this button has a drawable set as its background:</p>\n<pre><code> android:background=&quot;@drawable/button&quot;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;&gt;\n    &lt;solid android:color=&quot;@color/black&quot; /&gt;\n    &lt;corners android:radius=&quot;40dp&quot; /&gt;\n&lt;/shape&gt;\n</code></pre>\n<p>When I animate the button it does not maintain this cornerRadius, probably because it is overwriting this background drawable. How do I maintain the cornerRadius during the animation?</p>\n"},{"tags":["java","android-fragments","bottomnavigationview"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697099822,"post_id":77278587,"comment_id":136237786,"body_markdown":"It is exactly as the message says. Case labels must be constant expressions. The variables you are using aren&#39;t.","body":"It is exactly as the message says. Case labels must be constant expressions. The variables you are using aren&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":23568711,"reputation":9,"user_id":17609111,"display_name":"Tristan Ehron Tumbaga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697098613,"creation_date":1697098613,"answer_id":77278860,"question_id":77278587,"body_markdown":"Based on this answer [Android &quot;constant expression required&quot;][1] \r\ni change the switch statement to if-else statement.\r\n\r\n      if (item.getItemId() == R.id.nav_calendar) {\r\n                replaceFragment(new ScheduleFragment());\r\n            } else if (item.getItemId() == R.id.nav_settings) {\r\n                replaceFragment(new SettingsFragment());\r\n            }\r\n\r\n  [1]: https://stackoverflow.com/questions/38392009/android-constant-expression-required","title":"Constant expression required on the switch case","body":"<p>Based on this answer <a href=\"https://stackoverflow.com/questions/38392009/android-constant-expression-required\">Android &quot;constant expression required&quot;</a>\ni change the switch statement to if-else statement.</p>\n<pre><code>  if (item.getItemId() == R.id.nav_calendar) {\n            replaceFragment(new ScheduleFragment());\n        } else if (item.getItemId() == R.id.nav_settings) {\n            replaceFragment(new SettingsFragment());\n        }\n</code></pre>\n"}],"owner":{"account_id":23568711,"reputation":9,"user_id":17609111,"display_name":"Tristan Ehron Tumbaga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1697101614,"answer_count":1,"score":0,"last_activity_date":1697098613,"creation_date":1697096312,"question_id":77278587,"body_markdown":"I want to change layout when clicking the menu button &quot;nav_calendar&quot; or &quot;nav_settings&quot;. but i&#39;m having this error &quot;Constant expression required&quot; to both menu button.\r\n\r\nThis code below is my admin_activity.java\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n```\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityAdminHomeBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        binding.bottomNavigationView.setOnItemSelectedListener(item -&gt; {\r\n\r\n            switch (item.getItemId()) {\r\n\r\n                case R.id.nav_calendar:\r\n                    replaceFragment(new ScheduleFragment());\r\n                    break;\r\n                case R.id.nav_settings:\r\n                    replaceFragment(new SettingsFragment());\r\n                    break;\r\n            }\r\n\r\n            return true;\r\n        });\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nAnd this is the nav_menu.xml\r\n```\r\n&lt;item\r\n        android:id=&quot;@+id/nav_calendar&quot;\r\n        android:icon=&quot;@drawable/ic_calendar&quot;\r\n        android:title=&quot;@string/schedule&quot;/&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/nav_settings&quot;\r\n        android:icon=&quot;@drawable/ic_settings&quot;\r\n        android:title=&quot;@string/Settings&quot;/&gt;\r\n```\r\n\r\nIt is supposed to change fragment between the settings and the calendar menu. ","title":"Constant expression required on the switch case","body":"<p>I want to change layout when clicking the menu button &quot;nav_calendar&quot; or &quot;nav_settings&quot;. but i'm having this error &quot;Constant expression required&quot; to both menu button.</p>\n<p>This code below is my admin_activity.java</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n</code></pre>\n<pre><code>        super.onCreate(savedInstanceState);\n        binding = ActivityAdminHomeBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        binding.bottomNavigationView.setOnItemSelectedListener(item -&gt; {\n\n            switch (item.getItemId()) {\n\n                case R.id.nav_calendar:\n                    replaceFragment(new ScheduleFragment());\n                    break;\n                case R.id.nav_settings:\n                    replaceFragment(new SettingsFragment());\n                    break;\n            }\n\n            return true;\n        });\n    }\n</code></pre>\n<p>And this is the nav_menu.xml</p>\n<pre><code>&lt;item\n        android:id=&quot;@+id/nav_calendar&quot;\n        android:icon=&quot;@drawable/ic_calendar&quot;\n        android:title=&quot;@string/schedule&quot;/&gt;\n\n    &lt;item\n        android:id=&quot;@+id/nav_settings&quot;\n        android:icon=&quot;@drawable/ic_settings&quot;\n        android:title=&quot;@string/Settings&quot;/&gt;\n</code></pre>\n<p>It is supposed to change fragment between the settings and the calendar menu.</p>\n"},{"tags":["java","hibernate","maven","configuration","log4j"],"comments":[{"owner":{"account_id":324587,"reputation":18467,"user_id":645226,"accept_rate":74,"display_name":"Bhushan"},"score":1,"creation_date":1432721200,"post_id":28387553,"comment_id":49037487,"body_markdown":"Thanks for posting your solution. It helped me.","body":"Thanks for posting your solution. It helped me."}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1423344853,"creation_date":1423344853,"answer_id":28387653,"question_id":28387553,"body_markdown":"You probably have a global `DEBUG` log level set in your logging framework configuration.\r\n\r\nAll you need to do is setting the `org.hibernate` log level to `WARN` or `ERROR` instead:\r\n\r\n- Logback/Log4j2\r\n\r\n        &lt;logger name=&quot;org.hibernate&quot; level=&quot;warn&quot;/&gt;\r\n\r\n- Log4j\r\n\r\n        &lt;logger name=&quot;org.hibernate&quot;&gt;\r\n           &lt;level value=&quot;warn&quot;/&gt; \r\n        &lt;/logger&gt;","title":"Disable logging with hibernate from maven","body":"<p>You probably have a global <code>DEBUG</code> log level set in your logging framework configuration.</p>\n\n<p>All you need to do is setting the <code>org.hibernate</code> log level to <code>WARN</code> or <code>ERROR</code> instead:</p>\n\n<ul>\n<li><p>Logback/Log4j2</p>\n\n<pre><code>&lt;logger name=\"org.hibernate\" level=\"warn\"/&gt;\n</code></pre></li>\n<li><p>Log4j</p>\n\n<pre><code>&lt;logger name=\"org.hibernate\"&gt;\n   &lt;level value=\"warn\"/&gt; \n&lt;/logger&gt;\n</code></pre></li>\n</ul>\n"}],"owner":{"account_id":1068638,"reputation":3078,"user_id":1068470,"accept_rate":82,"display_name":"ThePerson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6564,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":28387653,"answer_count":1,"score":9,"last_activity_date":1697098560,"creation_date":1423344194,"question_id":28387553,"body_markdown":"I have recently added hibernate to my pom.xml, and it is working fine. However, the logging is irritating and i&#39;m not sure how to turn it off or limit the level of it (I don&#39;t even know exactly what it has included to start all this logging). I am new to this, to maven and to hibernate.\r\n\r\nHere is my pom.xml dependencies:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\r\n\t\t&lt;!-- Hibernate --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.common&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1.Final&lt;/version&gt;\r\n            &lt;classifier&gt;tests&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nThe log starts like this:\r\n\r\n    21:17:15.115 [main] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider\r\n    21:17:15.130 [main] DEBUG org.hibernate.type.BasicTypeRegistry - Adding type registration boolean -&gt; org.hibernate.type.BooleanType@ba4d54\r\n    21:17:15.130 [main] DEBUG org.hibernate.type.BasicTypeRegistry - Adding type registration boolean -&gt; org.hibernate.type.BooleanType@ba4d54\r\n    21:17:15.130 [main] DEBUG org.hibernate.type.BasicTypeRegistry - Adding type registration java.lang.Boolean -&gt; org.hibernate.type.BooleanType@ba4d54\r\n\r\nI have tried adding a log4j.properties file to my resources and it didn&#39;t seem to change anything. I also tried simplelog.properties (following other SO posts which haven&#39;t helped). I&#39;m a bit stuck here, help would be really appreciated. Ideally, i&#39;d like to just set the logger to off, or just the mysql queries.\r\n\r\n\r\nThis is the dependency tree:\r\n\r\n        [INFO] org.springframework:gs-rest-service:jar:0.1.0\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.1.10.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.1.10.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.1.10.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.1.10.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.1.10.RELEASE:compile\r\n    [INFO] |  |  |  +- org.slf4j:jcl-over-slf4j:jar:1.7.7:compile\r\n    [INFO] |  |  |  |  \\- org.slf4j:slf4j-api:jar:1.7.7:compile\r\n    [INFO] |  |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.7:compile\r\n    [INFO] |  |  |  +- org.slf4j:log4j-over-slf4j:jar:1.7.7:compile\r\n    [INFO] |  |  |  \\- ch.qos.logback:logback-classic:jar:1.1.2:compile\r\n    [INFO] |  |  |     \\- ch.qos.logback:logback-core:jar:1.1.2:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.13:runtime\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:1.1.10.RELEASE:compile\r\n    [INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:7.0.57:compile\r\n    [INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:7.0.57:compile\r\n    [INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-logging-juli:jar:7.0.57:compile\r\n    [INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:7.0.57:compile\r\n    [INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.3.4:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.3.4:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.3.4:compile\r\n    [INFO] |  +- org.hibernate:hibernate-validator:jar:5.0.3.Final:compile\r\n    [INFO] |  |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\r\n    [INFO] |  |  \\- com.fasterxml:classmate:jar:1.0.0:compile\r\n    [INFO] |  +- org.springframework:spring-core:jar:4.0.8.RELEASE:compile\r\n    [INFO] |  +- org.springframework:spring-web:jar:4.0.8.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework:spring-aop:jar:4.0.8.RELEASE:compile\r\n    [INFO] |  |  |  \\- aopalliance:aopalliance:jar:1.0:compile\r\n    [INFO] |  |  +- org.springframework:spring-beans:jar:4.0.8.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework:spring-context:jar:4.0.8.RELEASE:compile\r\n    [INFO] |  \\- org.springframework:spring-webmvc:jar:4.0.8.RELEASE:compile\r\n    [INFO] |     \\- org.springframework:spring-expression:jar:4.0.8.RELEASE:compile\r\n    [INFO] +- org.hibernate:hibernate-core:jar:4.0.1.Final:compile\r\n    [INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile\r\n    [INFO] |  +- antlr:antlr:jar:2.7.7:compile\r\n    [INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.1_spec:jar:1.0.0.Final:compile\r\n    [INFO] |  +- dom4j:dom4j:jar:1.6.1:compile\r\n    [INFO] |  |  \\- xml-apis:xml-apis:jar:1.0.b2:compile\r\n    [INFO] |  +- org.hibernate.javax.persistence:hibernate-jpa-2.0-api:jar:1.0.1.Final:compile\r\n    [INFO] |  +- org.jboss.logging:jboss-logging:jar:3.1.0.CR2:compile\r\n    [INFO] |  +- org.javassist:javassist:jar:3.18.1-GA:compile\r\n    [INFO] |  \\- org.hibernate.common:hibernate-commons-annotations:jar:4.0.1.Final:compile\r\n    [INFO] +- org.hibernate.common:hibernate-commons-annotations:jar:tests:4.0.1.Final:compile\r\n    [INFO] \\- mysql:mysql-connector-java:jar:5.1.10:compile\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 35.918 s\r\n    [INFO] Finished at: 2015-02-07T22:09:37+00:00\r\n    [INFO] Final Memory: 20M/203M\r\n    [INFO] ------------------------------------------------------------------------","title":"Disable logging with hibernate from maven","body":"<p>I have recently added hibernate to my pom.xml, and it is working fine. However, the logging is irritating and i'm not sure how to turn it off or limit the level of it (I don't even know exactly what it has included to start all this logging). I am new to this, to maven and to hibernate.</p>\n<p>Here is my pom.xml dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Hibernate --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.common&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1.Final&lt;/version&gt;\n        &lt;classifier&gt;tests&lt;/classifier&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.10&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>The log starts like this:</p>\n<pre><code>21:17:15.115 [main] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider\n21:17:15.130 [main] DEBUG org.hibernate.type.BasicTypeRegistry - Adding type registration boolean -&gt; org.hibernate.type.BooleanType@ba4d54\n21:17:15.130 [main] DEBUG org.hibernate.type.BasicTypeRegistry - Adding type registration boolean -&gt; org.hibernate.type.BooleanType@ba4d54\n21:17:15.130 [main] DEBUG org.hibernate.type.BasicTypeRegistry - Adding type registration java.lang.Boolean -&gt; org.hibernate.type.BooleanType@ba4d54\n</code></pre>\n<p>I have tried adding a log4j.properties file to my resources and it didn't seem to change anything. I also tried simplelog.properties (following other SO posts which haven't helped). I'm a bit stuck here, help would be really appreciated. Ideally, i'd like to just set the logger to off, or just the mysql queries.</p>\n<p>This is the dependency tree:</p>\n<pre><code>    [INFO] org.springframework:gs-rest-service:jar:0.1.0\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.1.10.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.1.10.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.1.10.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.1.10.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.1.10.RELEASE:compile\n[INFO] |  |  |  +- org.slf4j:jcl-over-slf4j:jar:1.7.7:compile\n[INFO] |  |  |  |  \\- org.slf4j:slf4j-api:jar:1.7.7:compile\n[INFO] |  |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.7:compile\n[INFO] |  |  |  +- org.slf4j:log4j-over-slf4j:jar:1.7.7:compile\n[INFO] |  |  |  \\- ch.qos.logback:logback-classic:jar:1.1.2:compile\n[INFO] |  |  |     \\- ch.qos.logback:logback-core:jar:1.1.2:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.13:runtime\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:1.1.10.RELEASE:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:7.0.57:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:7.0.57:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-logging-juli:jar:7.0.57:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:7.0.57:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.3.4:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.3.4:compile\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.3.4:compile\n[INFO] |  +- org.hibernate:hibernate-validator:jar:5.0.3.Final:compile\n[INFO] |  |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\n[INFO] |  |  \\- com.fasterxml:classmate:jar:1.0.0:compile\n[INFO] |  +- org.springframework:spring-core:jar:4.0.8.RELEASE:compile\n[INFO] |  +- org.springframework:spring-web:jar:4.0.8.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-aop:jar:4.0.8.RELEASE:compile\n[INFO] |  |  |  \\- aopalliance:aopalliance:jar:1.0:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:4.0.8.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-context:jar:4.0.8.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:4.0.8.RELEASE:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:4.0.8.RELEASE:compile\n[INFO] +- org.hibernate:hibernate-core:jar:4.0.1.Final:compile\n[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile\n[INFO] |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.1_spec:jar:1.0.0.Final:compile\n[INFO] |  +- dom4j:dom4j:jar:1.6.1:compile\n[INFO] |  |  \\- xml-apis:xml-apis:jar:1.0.b2:compile\n[INFO] |  +- org.hibernate.javax.persistence:hibernate-jpa-2.0-api:jar:1.0.1.Final:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.1.0.CR2:compile\n[INFO] |  +- org.javassist:javassist:jar:3.18.1-GA:compile\n[INFO] |  \\- org.hibernate.common:hibernate-commons-annotations:jar:4.0.1.Final:compile\n[INFO] +- org.hibernate.common:hibernate-commons-annotations:jar:tests:4.0.1.Final:compile\n[INFO] \\- mysql:mysql-connector-java:jar:5.1.10:compile\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 35.918 s\n[INFO] Finished at: 2015-02-07T22:09:37+00:00\n[INFO] Final Memory: 20M/203M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1697207170,"post_id":77278848,"comment_id":136254751,"body_markdown":"You shouldn&#39;t use MockitoExtension if you are running a Spring Boot test","body":"You shouldn&#39;t use MockitoExtension if you are running a Spring Boot test"},{"owner":{"account_id":27940883,"reputation":23,"user_id":21336933,"display_name":"Hakan"},"score":0,"creation_date":1698081659,"post_id":77278848,"comment_id":136357384,"body_markdown":"Even if I delete that, my test gives error again.","body":"Even if I delete that, my test gives error again."}],"owner":{"account_id":27940883,"reputation":23,"user_id":21336933,"display_name":"Hakan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697098549,"creation_date":1697098549,"question_id":77278848,"body_markdown":"I implemented Authentication system to my Product backend side. It has been working since I had built it. Then I added Refresh token and Role system to project and they also worked perfectly but When I wanna build Repository Test Unit, Intellij says \r\n\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@64d1f549 testClass = hakan.productData.repository.ProductRepositoryTest, locations = [], classes = [hakan.productData.ProductDataApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@1fb61db4 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@50029372, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6cc4cdb9, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3b29d8df, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4bff7da0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@c72389f5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6dd7b5a3, org.springframework.boot.test.context.SpringBootTestAnnotation@a15ca993], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:143) ~[spring-test-6.0.10.jar:6.0.10]\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127) ~[spring-test-6.0.10.jar:6.0.10]\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110) ~[spring-boot-test-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94) ~[spring-boot-test-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61) ~[spring-boot-test-3.1.1.jar:3.1.1]\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241) ~[spring-test-6.0.10.jar:6.0.10]\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-6.0.10.jar:6.0.10]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:na]\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) ~[junit-rt.jar:na]\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) ~[junit-rt.jar:na]\r\nCaused by: java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:319) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.1.jar:3.1.1]\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.0.10.jar:6.0.10]\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.0.10.jar:6.0.10]\r\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545) ~[spring-boot-test-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.1.1.jar:3.1.1]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187) ~[spring-test-6.0.10.jar:6.0.10]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119) ~[spring-test-6.0.10.jar:6.0.10]\r\n\t... 73 common frames omitted\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;hakan.productData.business.responses.AuthenticationResponse.getToken()&quot; because the return value of &quot;hakan.productData.business.jwt.AuthenticationService.register(hakan.productData.business.requests.RegisterRequest)&quot; is null\r\n\tat hakan.productData.ProductDataApplication.lambda$commandLineRunner$0(ProductDataApplication.java:88) ~[classes/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\t... 84 common frames omitted\r\n```\r\n\r\n\r\nAuthenticationService = \r\n```\r\npackage hakan.productData.business.jwt;\r\n\r\nimport hakan.productData.business.requests.AuthenticationRequest;\r\nimport hakan.productData.business.requests.RegisterRequest;\r\nimport hakan.productData.business.responses.AuthenticationResponse;\r\nimport hakan.productData.dataAccess.abstracts.UserRepository;\r\nimport hakan.productData.entities.concretes.Role;\r\nimport hakan.productData.entities.concretes.User;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class AuthenticationService {\r\n\r\n    private final UserRepository userRepository;\r\n    private  final PasswordEncoder passwordEncoder;\r\n    private final JWTService jwtService;\r\n    private final AuthenticationManager authenticationManager;\r\n    public AuthenticationResponse register(RegisterRequest registerRequest) {\r\n      var user = User.builder()\r\n              .firstName(registerRequest.getFirstName())\r\n              .lastName(registerRequest.getLastName())\r\n              .email(registerRequest.getEmail())\r\n              .password(passwordEncoder.encode(registerRequest.getPassword()))\r\n              .role(registerRequest.getRole())\r\n              .build();\r\n      userRepository.save(user);\r\n      var jwtToken = jwtService.generateToken(user.getEmail());\r\n      return AuthenticationResponse.builder()\r\n              .token(jwtToken)\r\n              .build();\r\n\r\n    }\r\n\r\n    public AuthenticationResponse authenticate(AuthenticationRequest registerRequest) {\r\n    authenticationManager.authenticate(\r\n            new UsernamePasswordAuthenticationToken(\r\n                    registerRequest.getEmail(),\r\n                    registerRequest.getPassword()\r\n            )\r\n    );\r\n    var user =userRepository.findByEmail(registerRequest.getEmail())\r\n            .orElseThrow();\r\n        var jwtToken = jwtService.generateToken(user.getEmail());\r\n        return AuthenticationResponse.builder()\r\n                .token(jwtToken)\r\n                .build();\r\n    }\r\n}\r\n\r\n```\r\n\r\nRepository Test = \r\n```\r\npackage hakan.productData.repository;\r\n\r\nimport hakan.productData.business.jwt.AuthenticationService;\r\nimport hakan.productData.business.requests.AuthenticationRequest;\r\nimport hakan.productData.business.requests.RegisterRequest;\r\nimport hakan.productData.dataAccess.abstracts.ProductRepository;\r\nimport hakan.productData.entities.concretes.Product;\r\nimport hakan.productData.entities.concretes.RefreshToken;\r\nimport hakan.productData.entities.concretes.Role;\r\nimport org.junit.Before;\r\nimport org.junit.jupiter.api.DisplayName;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.jdbc.EmbeddedDatabaseConnection;\r\nimport org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\n\r\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\nimport static org.mockito.Mockito.when;\r\n\r\n@DataJpaTest\r\n@AutoConfigureTestDatabase(connection = EmbeddedDatabaseConnection.H2)\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ProductRepositoryTest {\r\n    @Autowired\r\n    private ProductRepository productRepository;\r\n    @MockBean\r\n    private AuthenticationService authenticationService;\r\n\r\n    @Before\r\n    public void setup() {\r\n        RegisterRequest registerRequest = RegisterRequest.builder()\r\n                .firstName(&quot;Admin&quot;)\r\n                .lastName(&quot;Admin&quot;)\r\n                .email(&quot;admin@mail.com&quot;)\r\n                .password(&quot;admin&quot;)\r\n                .role(Role.ADMIN)\r\n                .build();\r\n        authenticationService.register(registerRequest);\r\n        AuthenticationRequest authenticate = AuthenticationRequest.builder()\r\n                .email(registerRequest.getEmail())\r\n                .password(registerRequest.getPassword()).build();\r\n\r\n        authenticationService.authenticate(authenticate);\r\n\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Should Save Post&quot;)\r\n    public void shouldSavePost() {\r\n        Product product = Product.builder()\r\n                .name(&quot;Milk&quot;)\r\n                .category(&quot;Drink&quot;)\r\n                .price(10)\r\n                .quantity(10)\r\n                .onOffer(true)\r\n                .build();\r\n        Product actualProductObject = productRepository.save(product);\r\n        assertThat(actualProductObject).usingRecursiveComparison()\r\n                .ignoringFields(&quot;id&quot;).isEqualTo(product);\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI can not solve even if I added @Before annotation. \r\n\r\n\r\nCan you help me please?","title":"SpringBoot Repository Test Authenticate Error","body":"<p>I implemented Authentication system to my Product backend side. It has been working since I had built it. Then I added Refresh token and Role system to project and they also worked perfectly but When I wanna build Repository Test Unit, Intellij says</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@64d1f549 testClass = hakan.productData.repository.ProductRepositoryTest, locations = [], classes = [hakan.productData.ProductDataApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@1fb61db4 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@50029372, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6cc4cdb9, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3b29d8df, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4bff7da0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@c72389f5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6dd7b5a3, org.springframework.boot.test.context.SpringBootTestAnnotation@a15ca993], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:143) ~[spring-test-6.0.10.jar:6.0.10]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127) ~[spring-test-6.0.10.jar:6.0.10]\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110) ~[spring-boot-test-3.1.1.jar:3.1.1]\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94) ~[spring-boot-test-3.1.1.jar:3.1.1]\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61) ~[spring-boot-test-3.1.1.jar:3.1.1]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241) ~[spring-test-6.0.10.jar:6.0.10]\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-6.0.10.jar:6.0.10]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:na]\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) ~[junit-rt.jar:na]\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) ~[junit-rt.jar:na]\nCaused by: java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:319) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.1.jar:3.1.1]\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.0.10.jar:6.0.10]\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.0.10.jar:6.0.10]\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545) ~[spring-boot-test-3.1.1.jar:3.1.1]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.1.jar:3.1.1]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.1.1.jar:3.1.1]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187) ~[spring-test-6.0.10.jar:6.0.10]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119) ~[spring-test-6.0.10.jar:6.0.10]\n    ... 73 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;hakan.productData.business.responses.AuthenticationResponse.getToken()&quot; because the return value of &quot;hakan.productData.business.jwt.AuthenticationService.register(hakan.productData.business.requests.RegisterRequest)&quot; is null\n    at hakan.productData.ProductDataApplication.lambda$commandLineRunner$0(ProductDataApplication.java:88) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-3.1.1.jar:3.1.1]\n    ... 84 common frames omitted\n</code></pre>\n<p>AuthenticationService =</p>\n<pre><code>package hakan.productData.business.jwt;\n\nimport hakan.productData.business.requests.AuthenticationRequest;\nimport hakan.productData.business.requests.RegisterRequest;\nimport hakan.productData.business.responses.AuthenticationResponse;\nimport hakan.productData.dataAccess.abstracts.UserRepository;\nimport hakan.productData.entities.concretes.Role;\nimport hakan.productData.entities.concretes.User;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\n\n@Service\n@RequiredArgsConstructor\npublic class AuthenticationService {\n\n    private final UserRepository userRepository;\n    private  final PasswordEncoder passwordEncoder;\n    private final JWTService jwtService;\n    private final AuthenticationManager authenticationManager;\n    public AuthenticationResponse register(RegisterRequest registerRequest) {\n      var user = User.builder()\n              .firstName(registerRequest.getFirstName())\n              .lastName(registerRequest.getLastName())\n              .email(registerRequest.getEmail())\n              .password(passwordEncoder.encode(registerRequest.getPassword()))\n              .role(registerRequest.getRole())\n              .build();\n      userRepository.save(user);\n      var jwtToken = jwtService.generateToken(user.getEmail());\n      return AuthenticationResponse.builder()\n              .token(jwtToken)\n              .build();\n\n    }\n\n    public AuthenticationResponse authenticate(AuthenticationRequest registerRequest) {\n    authenticationManager.authenticate(\n            new UsernamePasswordAuthenticationToken(\n                    registerRequest.getEmail(),\n                    registerRequest.getPassword()\n            )\n    );\n    var user =userRepository.findByEmail(registerRequest.getEmail())\n            .orElseThrow();\n        var jwtToken = jwtService.generateToken(user.getEmail());\n        return AuthenticationResponse.builder()\n                .token(jwtToken)\n                .build();\n    }\n}\n\n</code></pre>\n<p>Repository Test =</p>\n<pre><code>package hakan.productData.repository;\n\nimport hakan.productData.business.jwt.AuthenticationService;\nimport hakan.productData.business.requests.AuthenticationRequest;\nimport hakan.productData.business.requests.RegisterRequest;\nimport hakan.productData.dataAccess.abstracts.ProductRepository;\nimport hakan.productData.entities.concretes.Product;\nimport hakan.productData.entities.concretes.RefreshToken;\nimport hakan.productData.entities.concretes.Role;\nimport org.junit.Before;\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.jdbc.EmbeddedDatabaseConnection;\nimport org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\n\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\nimport static org.mockito.Mockito.when;\n\n@DataJpaTest\n@AutoConfigureTestDatabase(connection = EmbeddedDatabaseConnection.H2)\n@ExtendWith(MockitoExtension.class)\npublic class ProductRepositoryTest {\n    @Autowired\n    private ProductRepository productRepository;\n    @MockBean\n    private AuthenticationService authenticationService;\n\n    @Before\n    public void setup() {\n        RegisterRequest registerRequest = RegisterRequest.builder()\n                .firstName(&quot;Admin&quot;)\n                .lastName(&quot;Admin&quot;)\n                .email(&quot;admin@mail.com&quot;)\n                .password(&quot;admin&quot;)\n                .role(Role.ADMIN)\n                .build();\n        authenticationService.register(registerRequest);\n        AuthenticationRequest authenticate = AuthenticationRequest.builder()\n                .email(registerRequest.getEmail())\n                .password(registerRequest.getPassword()).build();\n\n        authenticationService.authenticate(authenticate);\n\n    }\n\n    @Test\n    @DisplayName(&quot;Should Save Post&quot;)\n    public void shouldSavePost() {\n        Product product = Product.builder()\n                .name(&quot;Milk&quot;)\n                .category(&quot;Drink&quot;)\n                .price(10)\n                .quantity(10)\n                .onOffer(true)\n                .build();\n        Product actualProductObject = productRepository.save(product);\n        assertThat(actualProductObject).usingRecursiveComparison()\n                .ignoringFields(&quot;id&quot;).isEqualTo(product);\n\n    }\n\n}\n\n</code></pre>\n<p>I can not solve even if I added @Before annotation.</p>\n<p>Can you help me please?</p>\n"},{"tags":["java","rest","http","quarkus","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697098508,"creation_date":1697098508,"answer_id":77278845,"question_id":77254075,"body_markdown":"On Quarkus 2.13.x some rest endpoint names are not part of the span name. This and some issues with `http.route` attribute reporting was fixed on Quarkus 3.2.3+.\r\n\r\nAbout the duplicated span: Quarkus will create a span automatically when it receives a REST request. When you use `@WithSpan` on a method, it will always create a new span from that point. This is why you get 2 spans in the end.\r\nIf it helps, you can add additional data to the existing span at any point by retrieving it and add data to it. \r\n\r\n````java \r\n    Span span = Span.current()\r\n    try(Scope scope = span.makeCurrent()) {\r\n      span.setAttribute(&quot;your.atribute.name&quot;, &quot;your data&quot;);\r\n      ...\r\n    } \r\n````\r\nIn relation to Jaeger I&#39;m not sure.","title":"Quarkus Opentelemetry HTTP span names","body":"<p>On Quarkus 2.13.x some rest endpoint names are not part of the span name. This and some issues with <code>http.route</code> attribute reporting was fixed on Quarkus 3.2.3+.</p>\n<p>About the duplicated span: Quarkus will create a span automatically when it receives a REST request. When you use <code>@WithSpan</code> on a method, it will always create a new span from that point. This is why you get 2 spans in the end.\nIf it helps, you can add additional data to the existing span at any point by retrieving it and add data to it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Span span = Span.current()\n    try(Scope scope = span.makeCurrent()) {\n      span.setAttribute(&quot;your.atribute.name&quot;, &quot;your data&quot;);\n      ...\n    } \n</code></pre>\n<p>In relation to Jaeger I'm not sure.</p>\n"}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697098508,"creation_date":1696776802,"question_id":77254075,"body_markdown":"I am using opentelemetry with Quarkus 2.13.x for telemetry of our microservices. One of the issues i am experiencing is the HTTP REST request randomly captures the span id as PUT or POST based on the type of the operation. The WithSpan annotation on the REST service method just adds another span but doesn&#39;t really change the name of the HTTP span. Any idea how i can change the name from PUT/POST to something more application specific?\r\n\r\nAlso sometimes the name of the main operation shown in Jaeger changes to something different. Instead of showing the first/top span id, it shows a random span id from the list. Is there some threading issue processing the requests? For e.g, the operation is getAllUsers which has a call to get from the DB, the span list shows the DB span id at the top as opposed to getAllUsers.\r\n\r\nThank you in advance\r\n\r\nSG","title":"Quarkus Opentelemetry HTTP span names","body":"<p>I am using opentelemetry with Quarkus 2.13.x for telemetry of our microservices. One of the issues i am experiencing is the HTTP REST request randomly captures the span id as PUT or POST based on the type of the operation. The WithSpan annotation on the REST service method just adds another span but doesn't really change the name of the HTTP span. Any idea how i can change the name from PUT/POST to something more application specific?</p>\n<p>Also sometimes the name of the main operation shown in Jaeger changes to something different. Instead of showing the first/top span id, it shows a random span id from the list. Is there some threading issue processing the requests? For e.g, the operation is getAllUsers which has a call to get from the DB, the span list shows the DB span id at the top as opposed to getAllUsers.</p>\n<p>Thank you in advance</p>\n<p>SG</p>\n"},{"tags":["java","testing","testng"],"answers":[{"tags":[],"owner":{"account_id":14222505,"reputation":1863,"user_id":10275943,"display_name":"Ikbel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697098470,"creation_date":1697098470,"answer_id":77278840,"question_id":77274437,"body_markdown":"First, we&#39;ll need to use the broader IAnnotationTransformer interface, which allows transformation of several TestNG annotations including @Test, @BeforeTest, etc.\r\n\r\nModify the transformer to handle @BeforeTest, @AfterTest etc:\r\n\r\n    import org.testng.IAnnotationTransformer;\r\n    import org.testng.annotations.ITestAnnotation;\r\n    import org.testng.annotations.IConfigurationAnnotation;\r\n    \r\n    public class ExcludeFromReportTransformer implements IAnnotationTransformer {\r\n    \r\n        private static boolean isaBoolean(Method testMethod) {\r\n            return testMethod != null &amp;&amp; testMethod.isAnnotationPresent(ExcludeFromReport.class);\r\n        }\r\n    \r\n        @Override\r\n        public void transform(ITestAnnotation annotation, Class testClass, java.lang.reflect.Constructor testConstructor,\r\n                              java.lang.reflect.Method testMethod) {\r\n            if (isMethodExcluded(testMethod)) {\r\n                annotation.setEnabled(false);\r\n            }\r\n        }\r\n    \r\n        public void transform(IConfigurationAnnotation annotation, Class testClass, \r\n                               java.lang.reflect.Constructor testConstructor, \r\n                               java.lang.reflect.Method testMethod) {\r\n            if (isMethodExcluded(testMethod)) {\r\n                annotation.setEnabled(false);\r\n            }\r\n        }\r\n    \r\n        private boolean isMethodExcluded(Method testMethod) {\r\n            Log.warn(&quot;Check whether the method is excluded or not !&quot;);\r\n    \r\n            boolean isExcluded = isaBoolean(testMethod);\r\n            Log.warn(String.format(&quot;Method = %s is excluded + %s&quot;, testMethod.getName(), isExcluded));\r\n            return isExcluded;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nEnsure to add the transformer to your suite as a listener, and this solution will definitely work for u.","title":"Exclude configuration methods (e.g., @BeforeTest, @AfterTest) based on a VM arg value - Test NG","body":"<p>First, we'll need to use the broader IAnnotationTransformer interface, which allows transformation of several TestNG annotations including @Test, @BeforeTest, etc.</p>\n<p>Modify the transformer to handle @BeforeTest, @AfterTest etc:</p>\n<pre><code>import org.testng.IAnnotationTransformer;\nimport org.testng.annotations.ITestAnnotation;\nimport org.testng.annotations.IConfigurationAnnotation;\n\npublic class ExcludeFromReportTransformer implements IAnnotationTransformer {\n\n    private static boolean isaBoolean(Method testMethod) {\n        return testMethod != null &amp;&amp; testMethod.isAnnotationPresent(ExcludeFromReport.class);\n    }\n\n    @Override\n    public void transform(ITestAnnotation annotation, Class testClass, java.lang.reflect.Constructor testConstructor,\n                          java.lang.reflect.Method testMethod) {\n        if (isMethodExcluded(testMethod)) {\n            annotation.setEnabled(false);\n        }\n    }\n\n    public void transform(IConfigurationAnnotation annotation, Class testClass, \n                           java.lang.reflect.Constructor testConstructor, \n                           java.lang.reflect.Method testMethod) {\n        if (isMethodExcluded(testMethod)) {\n            annotation.setEnabled(false);\n        }\n    }\n\n    private boolean isMethodExcluded(Method testMethod) {\n        Log.warn(&quot;Check whether the method is excluded or not !&quot;);\n\n        boolean isExcluded = isaBoolean(testMethod);\n        Log.warn(String.format(&quot;Method = %s is excluded + %s&quot;, testMethod.getName(), isExcluded));\n        return isExcluded;\n    }\n}\n</code></pre>\n<p>Ensure to add the transformer to your suite as a listener, and this solution will definitely work for u.</p>\n"}],"owner":{"account_id":14222505,"reputation":1863,"user_id":10275943,"display_name":"Ikbel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697098470,"creation_date":1697038034,"question_id":77274437,"body_markdown":"I have a boolean VM arg, once it is true I would like to exclude a set of pre/post checks from the execution/ and test reports.\r\n\r\nAs a first approach, I&#39;ve started with introducing a new annotation \r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface ExcludeFromReport {}\r\n\r\nI&#39;ve created a  Transformer to intercept the methods annotated with @ExcludeFromReport \r\n\r\n    public class ExcludeFromReportTransformer implements IAnnotationTransformer {\r\n    \r\n        private static boolean isaBoolean(Method testMethod) {\r\n            return testMethod != null &amp;&amp; testMethod.isAnnotationPresent(ExcludeFromReport.class);\r\n        }\r\n    \r\n        @Override\r\n        public void transform(ITestAnnotation annotation, Class testClass, java.lang.reflect.Constructor testConstructor,\r\n                java.lang.reflect.Method testMethod) {\r\n            if (isMethodExcluded(testMethod)) {\r\n                annotation.setEnabled(false);\r\n            }\r\n        }\r\n    \r\n        private boolean isMethodExcluded(Method testMethod) {\r\n            Log.warn(&quot;Check whether the method is excluded or not !&quot;);\r\n    \r\n            boolean isExcluded = isaBoolean(testMethod);\r\n            Log.warn(String.format(&quot;Method = %s is excluded + %s&quot;, testMethod.getName(), isExcluded));\r\n            return isExcluded;\r\n        }\r\n    }\r\n\r\nin my test class, I have annotated both the test method and the  configuration method  with \r\n@ExcludeFromReport, only the  test method has been excluded, the @BeforeTest method  has been executed.\r\n\r\n    public class MyTestSuite {\r\n    \r\n        @BeforeTest\r\n        @ExcludeFromReport\r\n        public void testCase1() {\r\n            Log.info(&quot;testCase1&quot;);\r\n        }\r\n    \r\n        @Test\r\n        @ExcludeFromReport\r\n        public void testCase2() {\r\n            Log.info(&quot;testCase2&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void testCase3() {\r\n            Log.info(&quot;testCase3&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nany ideas? ","title":"Exclude configuration methods (e.g., @BeforeTest, @AfterTest) based on a VM arg value - Test NG","body":"<p>I have a boolean VM arg, once it is true I would like to exclude a set of pre/post checks from the execution/ and test reports.</p>\n<p>As a first approach, I've started with introducing a new annotation</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface ExcludeFromReport {}\n</code></pre>\n<p>I've created a  Transformer to intercept the methods annotated with @ExcludeFromReport</p>\n<pre><code>public class ExcludeFromReportTransformer implements IAnnotationTransformer {\n\n    private static boolean isaBoolean(Method testMethod) {\n        return testMethod != null &amp;&amp; testMethod.isAnnotationPresent(ExcludeFromReport.class);\n    }\n\n    @Override\n    public void transform(ITestAnnotation annotation, Class testClass, java.lang.reflect.Constructor testConstructor,\n            java.lang.reflect.Method testMethod) {\n        if (isMethodExcluded(testMethod)) {\n            annotation.setEnabled(false);\n        }\n    }\n\n    private boolean isMethodExcluded(Method testMethod) {\n        Log.warn(&quot;Check whether the method is excluded or not !&quot;);\n\n        boolean isExcluded = isaBoolean(testMethod);\n        Log.warn(String.format(&quot;Method = %s is excluded + %s&quot;, testMethod.getName(), isExcluded));\n        return isExcluded;\n    }\n}\n</code></pre>\n<p>in my test class, I have annotated both the test method and the  configuration method  with\n@ExcludeFromReport, only the  test method has been excluded, the @BeforeTest method  has been executed.</p>\n<pre><code>public class MyTestSuite {\n\n    @BeforeTest\n    @ExcludeFromReport\n    public void testCase1() {\n        Log.info(&quot;testCase1&quot;);\n    }\n\n    @Test\n    @ExcludeFromReport\n    public void testCase2() {\n        Log.info(&quot;testCase2&quot;);\n    }\n\n    @Test\n    public void testCase3() {\n        Log.info(&quot;testCase3&quot;);\n    }\n\n}\n</code></pre>\n<p>any ideas?</p>\n"},{"tags":["java","multithreading","java-stream"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1697093828,"post_id":77278304,"comment_id":136236583,"body_markdown":"Depends on the implementation.","body":"Depends on the implementation."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1697097037,"post_id":77278304,"comment_id":136237170,"body_markdown":"Here is a really good answer, it even shows how to control the amount of threads: https://stackoverflow.com/a/30802737/4222206","body":"Here is a really good answer, it even shows how to control the amount of threads: <a href=\"https://stackoverflow.com/a/30802737/4222206\">stackoverflow.com/a/30802737/4222206</a>"}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697094144,"answer_count":0,"score":0,"last_activity_date":1697098266,"creation_date":1697093444,"question_id":77278304,"body_markdown":"Data processing sometimes is faster when several threads are used. But how can I control (or even find out) the amount of threads being used in code snippets like\r\n\r\n    List&lt;Object&gt; something = ...\r\n    something.stream().parallel().forEach(...)\r\n\r\nSo far I have neither seen an option to control the amount of threads, nor a way to read how many threads are getting used. Not even the documentation I found mentions how the system might decide on the amount of threads internally.\r\n\r\nHow is the amount of threads determined or controlled?","title":"Java Stream Parallel - how many threads?","body":"<p>Data processing sometimes is faster when several threads are used. But how can I control (or even find out) the amount of threads being used in code snippets like</p>\n<pre><code>List&lt;Object&gt; something = ...\nsomething.stream().parallel().forEach(...)\n</code></pre>\n<p>So far I have neither seen an option to control the amount of threads, nor a way to read how many threads are getting used. Not even the documentation I found mentions how the system might decide on the amount of threads internally.</p>\n<p>How is the amount of threads determined or controlled?</p>\n"},{"tags":["java","command","code-injection","processbuilder","fortify"],"comments":[{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1525300760,"post_id":50144532,"comment_id":87307295,"body_markdown":"Where does `execCommand` or `cmd1` come from?","body":"Where does <code>execCommand</code> or <code>cmd1</code> come from?"},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1525301041,"post_id":50144532,"comment_id":87307381,"body_markdown":"You&#39;re writing code that allows the execution of arbitrary commands, so you get a warning about that. What do you want to fix exactly?","body":"You&#39;re writing code that allows the execution of arbitrary commands, so you get a warning about that. What do you want to fix exactly?"},{"owner":{"account_id":11663426,"reputation":43,"user_id":8540891,"display_name":"Vamshi"},"score":0,"creation_date":1525447465,"post_id":50144532,"comment_id":87373890,"body_markdown":"I want to fix it. I just want to know hostname and that too this application runs only on linux. any kind of ideas is really appreciated.","body":"I want to fix it. I just want to know hostname and that too this application runs only on linux. any kind of ideas is really appreciated."}],"answers":[{"tags":[],"owner":{"account_id":1382751,"reputation":4828,"user_id":1315419,"accept_rate":44,"display_name":"Vasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525302603,"creation_date":1525302292,"answer_id":50144739,"question_id":50144532,"body_markdown":"Usually this is because you&#39;re using user input to frame the command string, wherein user can inject malicious code to manipulate what command is being run ultimately (even if you add validation there will be ways to circumvent that). \r\n\r\nIn your case you seem to be hardcoding the command so this shouldn&#39;t be a problem, however, see the OWASP page on [hardcoded command invocation](https://www.owasp.org/index.php/Command_Injection#Example_4) (emphasis mine):\r\n\r\n&gt; Unlike the previous examples, the command in this example is\r\n&gt; hardcoded, so an attacker cannot control the argument passed to\r\n&gt; system(). However, since the program does not specify an absolute path\r\n&gt; for make, and does not scrub any environment variables prior to\r\n&gt; invoking the command, the attacker can modify their $PATH variable to\r\n&gt; point to a malicious binary named make and execute the CGI script from\r\n&gt; a shell prompt. And since the program has been installed setuid root,\r\n&gt; the attacker&#39;s version of make now runs with root privileges.\r\n&gt; \r\n&gt; The environment plays a powerful role in the execution of system\r\n&gt; commands within programs. **Functions like system() and exec() use the\r\n&gt; environment of the program that calls them, and therefore attackers\r\n&gt; have a potential opportunity to influence the behavior of these calls**.\r\n\r\nResolution:\r\n\r\n1. Use native Java APIs / libraries to achieve what you want, instead of running a command - this is probably the best option. Use commands only when unavoidable, eg: 3rd party tools which do not have a Java client library. This approach has the added advantage of being more portable and in most cases, more efficient too. [This](https://stackoverflow.com/a/41536695) library might help your scenario.\r\n2. If you *have* to run a command, ensure you do not use user-supplied or external data even indirectly to construct it.\r\n3. Or if you&#39;re hardcoding the command to run from the code, use absolute path to the command and do not use environment variables as part of it. For `hostname` (assuming you use the built-in command) this is usually `/usr/bin/hostname` but you can find the command path for your environment using `which hostname`.","title":"Fortify issue - Command Injection","body":"<p>Usually this is because you're using user input to frame the command string, wherein user can inject malicious code to manipulate what command is being run ultimately (even if you add validation there will be ways to circumvent that). </p>\n\n<p>In your case you seem to be hardcoding the command so this shouldn't be a problem, however, see the OWASP page on <a href=\"https://www.owasp.org/index.php/Command_Injection#Example_4\" rel=\"nofollow noreferrer\">hardcoded command invocation</a> (emphasis mine):</p>\n\n<blockquote>\n  <p>Unlike the previous examples, the command in this example is\n  hardcoded, so an attacker cannot control the argument passed to\n  system(). However, since the program does not specify an absolute path\n  for make, and does not scrub any environment variables prior to\n  invoking the command, the attacker can modify their $PATH variable to\n  point to a malicious binary named make and execute the CGI script from\n  a shell prompt. And since the program has been installed setuid root,\n  the attacker's version of make now runs with root privileges.</p>\n  \n  <p>The environment plays a powerful role in the execution of system\n  commands within programs. <strong>Functions like system() and exec() use the\n  environment of the program that calls them, and therefore attackers\n  have a potential opportunity to influence the behavior of these calls</strong>.</p>\n</blockquote>\n\n<p>Resolution:</p>\n\n<ol>\n<li>Use native Java APIs / libraries to achieve what you want, instead of running a command - this is probably the best option. Use commands only when unavoidable, eg: 3rd party tools which do not have a Java client library. This approach has the added advantage of being more portable and in most cases, more efficient too. <a href=\"https://stackoverflow.com/a/41536695\">This</a> library might help your scenario.</li>\n<li>If you <em>have</em> to run a command, ensure you do not use user-supplied or external data even indirectly to construct it.</li>\n<li>Or if you're hardcoding the command to run from the code, use absolute path to the command and do not use environment variables as part of it. For <code>hostname</code> (assuming you use the built-in command) this is usually <code>/usr/bin/hostname</code> but you can find the command path for your environment using <code>which hostname</code>.</li>\n</ol>\n"}],"owner":{"account_id":11663426,"reputation":43,"user_id":8540891,"display_name":"Vamshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8373,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697097975,"creation_date":1525300577,"question_id":50144532,"body_markdown":"I am trying to do hp fortify security scan for my java application. I have few issues and i have fixed it. But i am unable to find the fix for the below issue.\r\n\r\n 1. **Command Injection**\r\n\r\n        String hostname = execReadToString(&quot;hostname&quot;).split(&quot;\\\\.&quot;)[0];\r\n        public static String execReadToString(String execCommand) throws IOException {\r\n\t\t try (Scanner s = new Scanner(Runtime.getRuntime().exec(execCommand).getInputStream()).useDelimiter(&quot;\\\\A&quot;)) {\r\n\t        return s.hasNext() ? s.next() : &quot;&quot;;\r\n\t    }\r\nThe method execReadToString() calls exec() to execute a command. This call might allow an attacker to inject malicious commands.\r\n\r\nSo i have tried with process builder also. \r\n\r\n    private static void gethostname(String cmd1) throws IOException {\r\n    \t\tif(Pattern.matches(&quot;[A-Za-z]+&quot;, cmd1)) {\r\n    \t\tProcessBuilder pb = new ProcessBuilder(cmd1);\r\n    \t    Process p = pb.start();\r\n    \t        BufferedReader reader = new BufferedReader(new InputStreamReader(\r\n    \t                p.getInputStream()));\r\n    \t        String readline;\r\n    \t        while ((readline = reader.readLine()) != null) {\r\n    \t            System.out.println(readline);\r\n    \t        }\r\n    \t\t}\r\n    \t}\r\n\r\nEven this is giving me an security issue **This start() call might allow an attacker to inject malicious commands.**\r\n\r\nWhat will be the ideal fix for this issue?\r\n\r\nThanks in advance","title":"Fortify issue - Command Injection","body":"<p>I am trying to do hp fortify security scan for my java application. I have few issues and i have fixed it. But i am unable to find the fix for the below issue.</p>\n\n<ol>\n<li><p><strong>Command Injection</strong></p>\n\n<pre><code>String hostname = execReadToString(\"hostname\").split(\"\\\\.\")[0];\npublic static String execReadToString(String execCommand) throws IOException {\n try (Scanner s = new Scanner(Runtime.getRuntime().exec(execCommand).getInputStream()).useDelimiter(\"\\\\A\")) {\n    return s.hasNext() ? s.next() : \"\";\n}\n</code></pre>\n\n<p>The method execReadToString() calls exec() to execute a command. This call might allow an attacker to inject malicious commands.</p></li>\n</ol>\n\n<p>So i have tried with process builder also. </p>\n\n<pre><code>private static void gethostname(String cmd1) throws IOException {\n        if(Pattern.matches(\"[A-Za-z]+\", cmd1)) {\n        ProcessBuilder pb = new ProcessBuilder(cmd1);\n        Process p = pb.start();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(\n                    p.getInputStream()));\n            String readline;\n            while ((readline = reader.readLine()) != null) {\n                System.out.println(readline);\n            }\n        }\n    }\n</code></pre>\n\n<p>Even this is giving me an security issue <strong>This start() call might allow an attacker to inject malicious commands.</strong></p>\n\n<p>What will be the ideal fix for this issue?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","class","output","system.in"],"owner":{"account_id":29654370,"reputation":1,"user_id":22727450,"display_name":"LiLKore420"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697097800,"creation_date":1697097800,"question_id":77278770,"body_markdown":"I need to write my Scanner.  The problem is that if I enter data from the console into IDEA as follows: \r\n\r\nInput: &quot;1 2^D&quot;\r\nOutput: &quot;&quot;\r\nWhat should output: &quot;1 2&quot;\r\n\r\nInput: &quot;1 2 3 4\r\n        5 6 7&quot;\r\nOutput: &quot;1 2 3 4\r\n         5 6&quot; \r\nWhat should output: &quot;1 2 3 4\r\n                     5 6 7&quot;\r\n\r\nWhat could be the problem? And if you suddenly know how you can fix it?\r\nCode:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.Arrays;\r\n\r\npublic class OwnScanner {\r\n    private final Reader reader;\r\n    private final char[] Buffer = new char[1024];\r\n    private int currIndexInBuffer = 0;\r\n    private int size = 0;\r\n    private char symbol;\r\n    private final char charNegOne = ((char) -1);\r\n    private final StringBuilder outputBuilder = new StringBuilder();\r\n\r\n    public OwnScanner(String toRead) {\r\n        this.reader = new StringReader(toRead);\r\n    }\r\n\r\n    public OwnScanner(InputStream toRead) {\r\n        this.reader = new InputStreamReader(toRead);\r\n    }\r\n\r\n    public OwnScanner(FileInputStream toRead) {\r\n        this.reader = new InputStreamReader(toRead);\r\n    }\r\n\r\n    private char nextChar() throws IOException {\r\n        if (currIndexInBuffer &gt;= size) {\r\n            currIndexInBuffer = 0;\r\n            size = reader.read(Buffer, 0, 1024);\r\n        }\r\n        if (size == -1) {\r\n            return charNegOne;\r\n        } else {\r\n            return Buffer[currIndexInBuffer++];\r\n        }\r\n    }\r\n\r\n    private boolean skipWhitespaceAndLetter() throws IOException {\r\n        while ((symbol = nextChar()) != charNegOne) {\r\n            if (Character.isDigit(symbol)) {\r\n                currIndexInBuffer--;\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private boolean skipWhitespaceAndDigit() throws IOException {\r\n        while ((symbol = nextChar()) != charNegOne) {\r\n            if (!(Character.isDigit(symbol)) &amp; !(Character.isWhitespace(symbol))) {\r\n                currIndexInBuffer--;\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public boolean hasNext() throws IOException {\r\n        return skipWhitespaceAndDigit();\r\n    }\r\n\r\n    public boolean hasNextInt() throws IOException {\r\n        return skipWhitespaceAndLetter();\r\n    }\r\n\r\n    public char nextSym() throws IOException {\r\n        return nextChar();\r\n    }\r\n\r\n    public void close() throws IOException {\r\n        reader.close();\r\n    }\r\n\r\n    public boolean hasNextLine() throws IOException {\r\n        int startIndex = currIndexInBuffer;\r\n        while ((symbol = nextChar()) != charNegOne) {\r\n            if (System.lineSeparator().contains(String.valueOf(symbol))) {\r\n                currIndexInBuffer = startIndex;\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public String next() throws IOException {\r\n        outputBuilder.setLength(0);\r\n        skipWhitespaceAndDigit();\r\n        while ((symbol = nextChar()) != charNegOne) {\r\n            if (Character.isDigit(symbol) | Character.isWhitespace(symbol)) {\r\n                break;\r\n            }\r\n            outputBuilder.append(symbol);\r\n        }\r\n        return String.valueOf(outputBuilder);\r\n    }\r\n\r\n    public String nextLine() throws IOException {\r\n        outputBuilder.setLength(0);\r\n        while ((symbol = nextChar()) != charNegOne) {\r\n            if (System.lineSeparator().contains(String.valueOf(symbol))) {\r\n                break;\r\n            }\r\n            outputBuilder.append(symbol);\r\n        }\r\n        return String.valueOf(outputBuilder);\r\n    }\r\n\r\n    public int nextInt() throws IOException {\r\n        outputBuilder.setLength(0);\r\n        skipWhitespaceAndLetter();\r\n        while ((symbol = nextChar()) != ((char) -1)) {\r\n            if (Character.isLetter(symbol) | Character.isWhitespace(symbol)) {\r\n                break;\r\n            }\r\n            outputBuilder.append(symbol);\r\n        }\r\n        return Integer.parseInt(String.valueOf(outputBuilder));\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n         OwnScanner sc = new OwnScanner(System.in);\r\n         while (sc.hasNextLine()) {\r\n             System.out.println(sc.nextInt());\r\n         }\r\n    }\r\n}\r\n```\r\n\r\nIt seems to me that the error may be in skipWhitespaceandLettre or skipWhitespaceandDigit, but I&#39;m not sure.","title":"Own Class Scanner, problem with output and input ^D","body":"<p>I need to write my Scanner.  The problem is that if I enter data from the console into IDEA as follows:</p>\n<p>Input: &quot;1 2^D&quot;\nOutput: &quot;&quot;\nWhat should output: &quot;1 2&quot;</p>\n<p>Input: &quot;1 2 3 4\n5 6 7&quot;\nOutput: &quot;1 2 3 4\n5 6&quot;\nWhat should output: &quot;1 2 3 4\n5 6 7&quot;</p>\n<p>What could be the problem? And if you suddenly know how you can fix it?\nCode:</p>\n<pre><code>import java.io.*;\nimport java.util.Arrays;\n\npublic class OwnScanner {\n    private final Reader reader;\n    private final char[] Buffer = new char[1024];\n    private int currIndexInBuffer = 0;\n    private int size = 0;\n    private char symbol;\n    private final char charNegOne = ((char) -1);\n    private final StringBuilder outputBuilder = new StringBuilder();\n\n    public OwnScanner(String toRead) {\n        this.reader = new StringReader(toRead);\n    }\n\n    public OwnScanner(InputStream toRead) {\n        this.reader = new InputStreamReader(toRead);\n    }\n\n    public OwnScanner(FileInputStream toRead) {\n        this.reader = new InputStreamReader(toRead);\n    }\n\n    private char nextChar() throws IOException {\n        if (currIndexInBuffer &gt;= size) {\n            currIndexInBuffer = 0;\n            size = reader.read(Buffer, 0, 1024);\n        }\n        if (size == -1) {\n            return charNegOne;\n        } else {\n            return Buffer[currIndexInBuffer++];\n        }\n    }\n\n    private boolean skipWhitespaceAndLetter() throws IOException {\n        while ((symbol = nextChar()) != charNegOne) {\n            if (Character.isDigit(symbol)) {\n                currIndexInBuffer--;\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private boolean skipWhitespaceAndDigit() throws IOException {\n        while ((symbol = nextChar()) != charNegOne) {\n            if (!(Character.isDigit(symbol)) &amp; !(Character.isWhitespace(symbol))) {\n                currIndexInBuffer--;\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public boolean hasNext() throws IOException {\n        return skipWhitespaceAndDigit();\n    }\n\n    public boolean hasNextInt() throws IOException {\n        return skipWhitespaceAndLetter();\n    }\n\n    public char nextSym() throws IOException {\n        return nextChar();\n    }\n\n    public void close() throws IOException {\n        reader.close();\n    }\n\n    public boolean hasNextLine() throws IOException {\n        int startIndex = currIndexInBuffer;\n        while ((symbol = nextChar()) != charNegOne) {\n            if (System.lineSeparator().contains(String.valueOf(symbol))) {\n                currIndexInBuffer = startIndex;\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public String next() throws IOException {\n        outputBuilder.setLength(0);\n        skipWhitespaceAndDigit();\n        while ((symbol = nextChar()) != charNegOne) {\n            if (Character.isDigit(symbol) | Character.isWhitespace(symbol)) {\n                break;\n            }\n            outputBuilder.append(symbol);\n        }\n        return String.valueOf(outputBuilder);\n    }\n\n    public String nextLine() throws IOException {\n        outputBuilder.setLength(0);\n        while ((symbol = nextChar()) != charNegOne) {\n            if (System.lineSeparator().contains(String.valueOf(symbol))) {\n                break;\n            }\n            outputBuilder.append(symbol);\n        }\n        return String.valueOf(outputBuilder);\n    }\n\n    public int nextInt() throws IOException {\n        outputBuilder.setLength(0);\n        skipWhitespaceAndLetter();\n        while ((symbol = nextChar()) != ((char) -1)) {\n            if (Character.isLetter(symbol) | Character.isWhitespace(symbol)) {\n                break;\n            }\n            outputBuilder.append(symbol);\n        }\n        return Integer.parseInt(String.valueOf(outputBuilder));\n    }\n\n    public static void main(String[] args) throws IOException {\n         OwnScanner sc = new OwnScanner(System.in);\n         while (sc.hasNextLine()) {\n             System.out.println(sc.nextInt());\n         }\n    }\n}\n</code></pre>\n<p>It seems to me that the error may be in skipWhitespaceandLettre or skipWhitespaceandDigit, but I'm not sure.</p>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1696980379,"post_id":77269291,"comment_id":136221228,"body_markdown":"What annotations do you have on your test class?","body":"What annotations do you have on your test class?"},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1697025514,"post_id":77269291,"comment_id":136227052,"body_markdown":"@tgdavies for now, only ```@ExtendWith(MockitoExtension.class)```.","body":"@tgdavies for now, only <code>@ExtendWith(MockitoExtension.class)</code>."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1697048843,"post_id":77269291,"comment_id":136231769,"body_markdown":"Please provide a [mcve]. It&#39;s not clear how you create the repository.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. It&#39;s not clear how you create the repository."},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1697060034,"post_id":77269291,"comment_id":136233523,"body_markdown":"Sorry, @daniu but your comment makes no sense at all. I added all necessary info and the code as well. Or do you want the controller method as well as service method?","body":"Sorry, @daniu but your comment makes no sense at all. I added all necessary info and the code as well. Or do you want the controller method as well as service method?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1697079542,"post_id":77269291,"comment_id":136235111,"body_markdown":"As @daniu said, please show how the `gameManagerRepository` is created in your unit test. You say &quot;I&#39;m testing a method from service class&quot;, but I don&#39;t see any service class mentioned in your test, just the repository.","body":"As @daniu said, please show how the <code>gameManagerRepository</code> is created in your unit test. You say &quot;I&#39;m testing a method from service class&quot;, but I don&#39;t see any service class mentioned in your test, just the repository."}],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697097797,"creation_date":1697097394,"answer_id":77278723,"question_id":77269291,"body_markdown":"Since you state in the comments that you use `MockitoExtension` but don&#39;t specify how exactly you create the repository, I&#39;m going to have to assume that this is what you do:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class RepositoryTest {\r\n\r\n    @Mock\r\n    private GameManagerRepository gameManagerRepository;\r\n\r\n    @DisplayName(&quot;Test for createGame&quot;)\r\n    @Test\r\n    public void createGameTest(){\r\n        game = new Game();\r\n        game.setPublisherId(&quot;123&quot;);\r\n        game.setGameDataId(&quot;abc&quot;);\r\n        game.setName(&quot;hello world&quot;);\r\n        gameManagerRepository.save(game);\r\n        System.out.println(game);\r\n        System.out.println(game != null);\r\n        System.out.println(gameManagerRepository.findCreateGameByPublisherId(&quot;123&quot;));\r\n    }\r\n}\r\n```\r\n\r\nThe answer is that method calls for mocked instances always return `null` if you didn&#39;t mock the call beforehand (eg `when(repo.findCreate(any())).thenReturn(game)`).\r\n\r\nThis answer is correct but somewhat tongue in cheek to show you why it&#39;s important to show how the repository is created.\r\n\r\nYou probably want to create a Spring test (`@ExtendsWith(SpringExtension.class)`) to fire up the Spring context and test the actual beans.","title":"JUnit 5 - Entity created but not being retrieve","body":"<p>Since you state in the comments that you use <code>MockitoExtension</code> but don't specify how exactly you create the repository, I'm going to have to assume that this is what you do:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class RepositoryTest {\n\n    @Mock\n    private GameManagerRepository gameManagerRepository;\n\n    @DisplayName(&quot;Test for createGame&quot;)\n    @Test\n    public void createGameTest(){\n        game = new Game();\n        game.setPublisherId(&quot;123&quot;);\n        game.setGameDataId(&quot;abc&quot;);\n        game.setName(&quot;hello world&quot;);\n        gameManagerRepository.save(game);\n        System.out.println(game);\n        System.out.println(game != null);\n        System.out.println(gameManagerRepository.findCreateGameByPublisherId(&quot;123&quot;));\n    }\n}\n</code></pre>\n<p>The answer is that method calls for mocked instances always return <code>null</code> if you didn't mock the call beforehand (eg <code>when(repo.findCreate(any())).thenReturn(game)</code>).</p>\n<p>This answer is correct but somewhat tongue in cheek to show you why it's important to show how the repository is created.</p>\n<p>You probably want to create a Spring test (<code>@ExtendsWith(SpringExtension.class)</code>) to fire up the Spring context and test the actual beans.</p>\n"}],"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697097797,"creation_date":1696976864,"question_id":77269291,"body_markdown":"I&#39;m testing a method from service class which basically calls the method ```save``` from my repository class:\r\n```\r\n@Repository\r\npublic interface GameManagerRepository extends JpaRepository&lt;Game, String&gt; {\r\n\r\n    Game findCreateGameByPublisherId(String publisherId);\r\n}\r\n```\r\n\r\nThis is my test method:\r\n\r\n```\r\n    @DisplayName(&quot;Test for createGame&quot;)\r\n    @Test\r\n    public void createGameTest(){\r\n        game = new Game();\r\n        game.setPublisherId(&quot;123&quot;);\r\n        game.setGameDataId(&quot;abc&quot;);\r\n        game.setName(&quot;hello world&quot;);\r\n        gameManagerRepository.save(game);\r\n        System.out.println(game);\r\n        System.out.println(game != null);\r\n        System.out.println(gameManagerRepository.findCreateGameByPublisherId(&quot;123&quot;));\r\n    }\r\n```\r\n\r\nI did put some ```System.out.println``` to try to identify what exactly is wrong wiht my code and this is the result: \r\n\r\n```\r\nGame(gameDataId=abc, publisherId=123, name=hello world, timePlayed=null)\r\ntrue\r\nnull\r\n```\r\n\r\nAs you can see, I could not find the entity in the database and I can&#39;t find out why.  \r\nWhat am I doing wrong here?","title":"JUnit 5 - Entity created but not being retrieve","body":"<p>I'm testing a method from service class which basically calls the method <code>save</code> from my repository class:</p>\n<pre><code>@Repository\npublic interface GameManagerRepository extends JpaRepository&lt;Game, String&gt; {\n\n    Game findCreateGameByPublisherId(String publisherId);\n}\n</code></pre>\n<p>This is my test method:</p>\n<pre><code>    @DisplayName(&quot;Test for createGame&quot;)\n    @Test\n    public void createGameTest(){\n        game = new Game();\n        game.setPublisherId(&quot;123&quot;);\n        game.setGameDataId(&quot;abc&quot;);\n        game.setName(&quot;hello world&quot;);\n        gameManagerRepository.save(game);\n        System.out.println(game);\n        System.out.println(game != null);\n        System.out.println(gameManagerRepository.findCreateGameByPublisherId(&quot;123&quot;));\n    }\n</code></pre>\n<p>I did put some <code>System.out.println</code> to try to identify what exactly is wrong wiht my code and this is the result:</p>\n<pre><code>Game(gameDataId=abc, publisherId=123, name=hello world, timePlayed=null)\ntrue\nnull\n</code></pre>\n<p>As you can see, I could not find the entity in the database and I can't find out why.<br />\nWhat am I doing wrong here?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9889,"page":128,"page_size":100}
