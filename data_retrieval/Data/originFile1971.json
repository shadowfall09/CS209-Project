{"items":[{"tags":["java","collections"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1633443428,"post_id":69451913,"comment_id":122757719,"body_markdown":"I would suggest using a custom class, for Example `Food` with fileds `number`, `type`, `price` and `age` instead of any datastructure like a nested map.","body":"I would suggest using a custom class, for Example <code>Food</code> with fileds <code>number</code>, <code>type</code>, <code>price</code> and <code>age</code> instead of any datastructure like a nested map."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633445886,"creation_date":1633445886,"answer_id":69452810,"question_id":69451913,"body_markdown":"A class `FoodData` containing the four fields should be created (e.g. using Lombok&#39;s `@Data` and `@AllArgsConstructor`annotation):\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\nclass FoodData {\r\n    private String \r\n        number, \r\n        foodType, \r\n        price, \r\n        age;\r\n\r\n    public FoodData(String ... arr) {\r\n        this(arr[0], arr[1], arr[2], arr[3]);\r\n    }\r\n}\r\n```\r\nThen the method `getFoods()` may be refactored to immediately return a list of `FoodData` without having to iterate a map and call `createFoodData`:\r\n```java\r\npublic List&lt;FoodData&gt; getFoodData(String foods) {\r\n    return Arrays.stream(foods.split(&quot;\\\\s*,\\\\s*&quot;)) // Stream&lt;String&gt;\r\n            .map(row -&gt; row.split(&quot;:&quot;))            // Stream&lt;String[]&gt;\r\n            .map(FoodData::new)                    // Stream&lt;FoodData&gt;\r\n            .collect(Collectors.toList());\r\n}\r\n```","title":"Splitting comma separated list using Java Collections and Streams","body":"<p>A class <code>FoodData</code> containing the four fields should be created (e.g. using Lombok's <code>@Data</code> and <code>@AllArgsConstructor</code>annotation):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\nclass FoodData {\n    private String \n        number, \n        foodType, \n        price, \n        age;\n\n    public FoodData(String ... arr) {\n        this(arr[0], arr[1], arr[2], arr[3]);\n    }\n}\n</code></pre>\n<p>Then the method <code>getFoods()</code> may be refactored to immediately return a list of <code>FoodData</code> without having to iterate a map and call <code>createFoodData</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;FoodData&gt; getFoodData(String foods) {\n    return Arrays.stream(foods.split(&quot;\\\\s*,\\\\s*&quot;)) // Stream&lt;String&gt;\n            .map(row -&gt; row.split(&quot;:&quot;))            // Stream&lt;String[]&gt;\n            .map(FoodData::new)                    // Stream&lt;FoodData&gt;\n            .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":1574741,"reputation":1753,"user_id":1461517,"accept_rate":47,"display_name":"Steerpike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69452810,"answer_count":1,"score":0,"last_activity_date":1633445886,"creation_date":1633442607,"question_id":69451913,"body_markdown":"I&#39;m using a String to initialise some data as follows:\r\n\r\n    private String foods = &quot;burgers:10,apples:20,soda:25&quot;\r\n\r\n...which is passed into this method as a single string as follows:\r\n    \r\n    public Map&lt;String, String&gt; getFoods() {\r\n        return getCommaSeperatedFoodsMap(foods);\r\n    }\r\n\r\n...which in calls this method to split the data into respective key/values:\r\n\r\n    public Map&lt;String, String&gt; getCommaSeperatedFoodsMap(String foods) {\r\n            if (foods.isEmpty()) {\r\n                return Maps.newHashMap();\r\n            }\r\n            Map&lt;String, String&gt; allFoods = Arrays.stream(foods.split(&quot;,&quot;))\r\n                    .map(s -&gt; s.split(&quot;:&quot;))\r\n                    .collect(Collectors.toMap(s -&gt; s[0].trim(), s -&gt; s[1].trim()));\r\n\r\n            logger.info(&quot;Foods are:&quot; + allFoods);\r\n\r\n            return allFoods;\r\n        }\r\n\r\nI can then use this to iterate each map entry and pass the split string as separate parameters to another method:\r\n\r\n    public void createFoods() {\r\n            vehicle.getFoods().forEach(this::createFoodData);\r\n     }\r\n\r\n    public void createFoodData(String foodType, String price) {\r\n    //....use data in this method\r\n\r\nMy question is, I want to be able to pass a String and split on 4 values per `,` delimiter as follows:\r\n\r\n    private String foods = &quot;1:burgers:10:new,2:apples:20:old,3:soda:25:new&quot;\r\n\r\n...whereby I need to split the 4 `:` separated values and pass them as String parameters as before to `createFoodData(String number, String foodType, String price, String age)` which will then take 4 params, e.g. \r\n\r\n    iteration 1: &#39;1&#39;, &#39;burgers&#39;, &#39;10&#39;, &#39;new&#39;\r\n    iteration 2: &#39;2&#39;, &#39;apples&#39;, &#39;20&#39;, &#39;old&#39;\r\n    etc...\r\n\r\nWhich Collection / interface should I use achieve this? I&#39;ve been away from Java for a while a need a few hints. \r\n\r\n","title":"Splitting comma separated list using Java Collections and Streams","body":"<p>I'm using a String to initialise some data as follows:</p>\n<pre><code>private String foods = &quot;burgers:10,apples:20,soda:25&quot;\n</code></pre>\n<p>...which is passed into this method as a single string as follows:</p>\n<pre><code>public Map&lt;String, String&gt; getFoods() {\n    return getCommaSeperatedFoodsMap(foods);\n}\n</code></pre>\n<p>...which in calls this method to split the data into respective key/values:</p>\n<pre><code>public Map&lt;String, String&gt; getCommaSeperatedFoodsMap(String foods) {\n        if (foods.isEmpty()) {\n            return Maps.newHashMap();\n        }\n        Map&lt;String, String&gt; allFoods = Arrays.stream(foods.split(&quot;,&quot;))\n                .map(s -&gt; s.split(&quot;:&quot;))\n                .collect(Collectors.toMap(s -&gt; s[0].trim(), s -&gt; s[1].trim()));\n\n        logger.info(&quot;Foods are:&quot; + allFoods);\n\n        return allFoods;\n    }\n</code></pre>\n<p>I can then use this to iterate each map entry and pass the split string as separate parameters to another method:</p>\n<pre><code>public void createFoods() {\n        vehicle.getFoods().forEach(this::createFoodData);\n }\n\npublic void createFoodData(String foodType, String price) {\n//....use data in this method\n</code></pre>\n<p>My question is, I want to be able to pass a String and split on 4 values per <code>,</code> delimiter as follows:</p>\n<pre><code>private String foods = &quot;1:burgers:10:new,2:apples:20:old,3:soda:25:new&quot;\n</code></pre>\n<p>...whereby I need to split the 4 <code>:</code> separated values and pass them as String parameters as before to <code>createFoodData(String number, String foodType, String price, String age)</code> which will then take 4 params, e.g.</p>\n<pre><code>iteration 1: '1', 'burgers', '10', 'new'\niteration 2: '2', 'apples', '20', 'old'\netc...\n</code></pre>\n<p>Which Collection / interface should I use achieve this? I've been away from Java for a while a need a few hints.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1633445783,"post_id":69452720,"comment_id":122758845,"body_markdown":"Sorry, you need to use a `ComponentActivity`, not some other `Context`.","body":"Sorry, you need to use a <code>ComponentActivity</code>, not some other <code>Context</code>."},{"owner":{"account_id":22169003,"reputation":79,"user_id":16414754,"display_name":"allim"},"score":0,"creation_date":1633445909,"post_id":69452720,"comment_id":122758906,"body_markdown":"@CommonsWare if I&#39;ll do it like that ((AppCompatActivity)mContext).registerForActivityResult() it won&#39;t work ?","body":"@CommonsWare if I&#39;ll do it like that ((AppCompatActivity)mContext).registerForActivityResult() it won&#39;t work ?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1633446600,"post_id":69452720,"comment_id":122759211,"body_markdown":"That will only work if `mContext` is actually an `AppCompatActivity`. If it is, great!","body":"That will only work if <code>mContext</code> is actually an <code>AppCompatActivity</code>. If it is, great!"}],"owner":{"account_id":22169003,"reputation":79,"user_id":16414754,"display_name":"allim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":983,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633445616,"creation_date":1633445616,"question_id":69452720,"body_markdown":"I am developing an application and I need to call Calling registerForActivityResult from a class using Context?","title":"Calling registerForActivityResult with Context","body":"<p>I am developing an application and I need to call Calling registerForActivityResult from a class using Context?</p>\n"},{"tags":["java","bson","pentaho-data-integration","pdi"],"answers":[{"tags":[],"owner":{"account_id":3953640,"reputation":1606,"user_id":3262990,"display_name":"Yevgen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633438216,"creation_date":1633437810,"answer_id":69450690,"question_id":69446562,"body_markdown":"There is a `BasicDBObject#parse` method in MongoDB Java Driver library, which is most probably present on the classpath of your application. This method, according to the [documentation][1], parses a string in MongoDB Extended JSON format to a BasicDBObject.\r\n\r\nYou can use it directly and skip the `Document` parsing step. \r\n\r\n    BasicBSONObject mongoResult = BasicDBObject.parse(mongoResultString);\r\n\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/3.6/javadoc/?com/mongodb/BasicDBObject.html","title":"Convert an org.bson.Document to an org.bson.BasicBSONObject in Java?","body":"<p>There is a <code>BasicDBObject#parse</code> method in MongoDB Java Driver library, which is most probably present on the classpath of your application. This method, according to the <a href=\"https://mongodb.github.io/mongo-java-driver/3.6/javadoc/?com/mongodb/BasicDBObject.html\" rel=\"nofollow noreferrer\">documentation</a>, parses a string in MongoDB Extended JSON format to a BasicDBObject.</p>\n<p>You can use it directly and skip the <code>Document</code> parsing step.</p>\n<pre><code>BasicBSONObject mongoResult = BasicDBObject.parse(mongoResultString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9097517,"reputation":65,"user_id":6770954,"display_name":"Nathan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633445559,"creation_date":1633445559,"answer_id":69452705,"question_id":69446562,"body_markdown":"After much wasted time with multiple online resources suggesting to use `org.bson.Document` and then they become too busy being BSON evangelists to mention the actual **solution** part... *facepalm* ...I finally found out this is actually quite simple. Parse the String into a JSON and immediately cast to a BasicBSONObject:\r\n\r\n\tBasicBSONObject mongoResult = (BasicBSONObject) com.mongodb.util.JSON.parse(mongoResultString);\r\n\r\nThat worked for me because I already know `mongoResultString` is valid JSON because it came straight from Mongo, but otherwise could presumably wrap it in a try block.\r\n\r\nNot sure of performance differences or gotchas, but now that I know what to look for, I&#39;ve also seen evidence of Eugene&#39;s solution being workable. (Also shorter. Accepting that as the solution.) Thanks very much!","title":"Convert an org.bson.Document to an org.bson.BasicBSONObject in Java?","body":"<p>After much wasted time with multiple online resources suggesting to use <code>org.bson.Document</code> and then they become too busy being BSON evangelists to mention the actual <strong>solution</strong> part... <em>facepalm</em> ...I finally found out this is actually quite simple. Parse the String into a JSON and immediately cast to a BasicBSONObject:</p>\n<pre><code>BasicBSONObject mongoResult = (BasicBSONObject) com.mongodb.util.JSON.parse(mongoResultString);\n</code></pre>\n<p>That worked for me because I already know <code>mongoResultString</code> is valid JSON because it came straight from Mongo, but otherwise could presumably wrap it in a try block.</p>\n<p>Not sure of performance differences or gotchas, but now that I know what to look for, I've also seen evidence of Eugene's solution being workable. (Also shorter. Accepting that as the solution.) Thanks very much!</p>\n"}],"owner":{"account_id":9097517,"reputation":65,"user_id":6770954,"display_name":"Nathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69450690,"answer_count":2,"score":1,"last_activity_date":1633445559,"creation_date":1633419763,"question_id":69446562,"body_markdown":"I have a String in Pentaho Data Integration (PDI) a.k.a. Kettle, in a transformation&#39;s UDJC step.\r\nSo using Java, I need to take that String which contains JSON from MongoDB, and put it into a BasicBSONObject. (I can use import statements but I can&#39;t install things as part of a solution.)\r\n\r\nI got the String into an org.bson.Document so it seems like the hard part&#39;s over, but I still can&#39;t figure out how to convert one type of bson to another here, resulting in an object of type org.bson.BasicBSONObject\r\n\r\nThis errors out on the last line:\r\n\r\n\timport org.bson.Document;\r\n    ...\r\n    String mongoResultString = get(Fields.In, &quot;mongoAsset&quot;).getString(r);\r\n\tDocument mongoResultDoc = Document.parse(mongoResultString );\r\n\tBasicBSONObject mongoResult = (BasicBSONObject) mongoResultDoc;\r\n\r\nTried ecosia, google, and searching Stack Overflow. \r\nThanks.","title":"Convert an org.bson.Document to an org.bson.BasicBSONObject in Java?","body":"<p>I have a String in Pentaho Data Integration (PDI) a.k.a. Kettle, in a transformation's UDJC step.\nSo using Java, I need to take that String which contains JSON from MongoDB, and put it into a BasicBSONObject. (I can use import statements but I can't install things as part of a solution.)</p>\n<p>I got the String into an org.bson.Document so it seems like the hard part's over, but I still can't figure out how to convert one type of bson to another here, resulting in an object of type org.bson.BasicBSONObject</p>\n<p>This errors out on the last line:</p>\n<pre><code>import org.bson.Document;\n...\nString mongoResultString = get(Fields.In, &quot;mongoAsset&quot;).getString(r);\nDocument mongoResultDoc = Document.parse(mongoResultString );\nBasicBSONObject mongoResult = (BasicBSONObject) mongoResultDoc;\n</code></pre>\n<p>Tried ecosia, google, and searching Stack Overflow.\nThanks.</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1633342301,"post_id":69434228,"comment_id":122725183,"body_markdown":"`n&lt;=20 &amp;&amp; n&gt;20` - this doesn&#39;t work. Also, why are there two different if-else statements? You are only supposed to evaluate the input once right?","body":"<code>n&lt;=20 &amp;&amp; n&gt;20</code> - this doesn&#39;t work. Also, why are there two different if-else statements? You are only supposed to evaluate the input once right?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1633342529,"post_id":69434228,"comment_id":122725279,"body_markdown":"Don&#39;t try to combine the conditions in the first instance. Write one condition for each bullet.","body":"Don&#39;t try to combine the conditions in the first instance. Write one condition for each bullet."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1633342532,"post_id":69434228,"comment_id":122725280,"body_markdown":"Have a look at the requirements again and evaluate them one by one if this makes it easier for you. _Weird:_ once _n_ is odd OR if it is even and between 6 and 20. _Not weird:_ Even and between 2 and 5 OR even and greater than 20. Your current code does not do that.","body":"Have a look at the requirements again and evaluate them one by one if this makes it easier for you. <i>Weird:</i> once <i>n</i> is odd OR if it is even and between 6 and 20. <i>Not weird:</i> Even and between 2 and 5 OR even and greater than 20. Your current code does not do that."}],"answers":[{"tags":[],"owner":{"account_id":11154028,"reputation":127,"user_id":8186312,"display_name":"Artur Gasparyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633345426,"creation_date":1633345426,"answer_id":69434906,"question_id":69434228,"body_markdown":"You&#39;re using or instead of and in the first if-statement. \r\n\r\nThe statement n%2==0 || n&gt;=2 is going to catch every integer greater than 1, regardless of whether it&#39;s an even or odd number.","title":"Unable to execute a Java IF-ELSE program in HackerRank","body":"<p>You're using or instead of and in the first if-statement.</p>\n<p>The statement n%2==0 || n&gt;=2 is going to catch every integer greater than 1, regardless of whether it's an even or odd number.</p>\n"}],"owner":{"account_id":19002272,"reputation":1,"user_id":13869553,"display_name":"ALI NEMATH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633445523,"creation_date":1633342179,"question_id":69434228,"body_markdown":"I am solving an **IF-ELSE** program using **JAVA** in **HackerRank**, it executes just fine when I give custom inputs from the console ( i.e 3 and 24 ). But when I try to submit it again, it fails all 8 test cases.\r\n\r\nhttps://www.hackerrank.com/challenges/java-if-else/problem\r\n\r\n*The code*\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\nint n = sc.nextInt();\r\nif(n%2==0 || n&gt;=2 || n&lt;=5 || n&gt;=0)\r\n        System.out.println(&quot;wierd&quot;);\r\n    else\r\n        System.out.println(&quot;not wierd&quot;);\r\nif(n%2==0 &amp;&amp; n&gt;=6 &amp;&amp; n&lt;=20 &amp;&amp; n&gt;20)\r\n        System.out.println(&quot;wierd&quot;);\r\n    else\r\n        System.out.println(&quot;not wierd&quot;);\r\nsc.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n*UPDATED CODE:*\r\n```\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\nint n = sc.nextInt();\r\nif(n%2==0 &amp;&amp; n&gt;2 &amp;&amp; n&lt;5 || n%2==0 &amp;&amp; n&gt;6 &amp;&amp; n&lt;20 || n%2==0 &amp;&amp; n&gt;20 &amp;&amp; n&lt;=100)\r\n    System.out.println(&quot;not wierd&quot;);\r\nelse\r\n    System.out.println(&quot;wierd&quot;);\r\nsc.close();\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n```\r\n*output:*\r\n\r\nWierd\r\n\r\nNot Wierd\r\n\r\n*How to correct my code?*","title":"Unable to execute a Java IF-ELSE program in HackerRank","body":"<p>I am solving an <strong>IF-ELSE</strong> program using <strong>JAVA</strong> in <strong>HackerRank</strong>, it executes just fine when I give custom inputs from the console ( i.e 3 and 24 ). But when I try to submit it again, it fails all 8 test cases.</p>\n<p><a href=\"https://www.hackerrank.com/challenges/java-if-else/problem\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/java-if-else/problem</a></p>\n<p><em>The code</em></p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\nint n = sc.nextInt();\nif(n%2==0 || n&gt;=2 || n&lt;=5 || n&gt;=0)\n        System.out.println(&quot;wierd&quot;);\n    else\n        System.out.println(&quot;not wierd&quot;);\nif(n%2==0 &amp;&amp; n&gt;=6 &amp;&amp; n&lt;=20 &amp;&amp; n&gt;20)\n        System.out.println(&quot;wierd&quot;);\n    else\n        System.out.println(&quot;not wierd&quot;);\nsc.close();\n    }\n}\n\n</code></pre>\n<p><em>UPDATED CODE:</em></p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\nint n = sc.nextInt();\nif(n%2==0 &amp;&amp; n&gt;2 &amp;&amp; n&lt;5 || n%2==0 &amp;&amp; n&gt;6 &amp;&amp; n&lt;20 || n%2==0 &amp;&amp; n&gt;20 &amp;&amp; n&lt;=100)\n    System.out.println(&quot;not wierd&quot;);\nelse\n    System.out.println(&quot;wierd&quot;);\nsc.close();\n    }\n}\n\n\n\n\n\n</code></pre>\n<p><em>output:</em></p>\n<p>Wierd</p>\n<p>Not Wierd</p>\n<p><em>How to correct my code?</em></p>\n"},{"tags":["java","stringbuilder"],"answers":[{"tags":[],"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633444432,"creation_date":1633444432,"answer_id":69452384,"question_id":69452210,"body_markdown":"`deleteCharAt` is a mutating method although it also returns a StringBuilder object. This can be easily proved with the following code \r\n\r\n    String text = &quot;abcde&quot;;\r\n    StringBuilder builder1 = new StringBuilder(text);\r\n    StringBuilder builder2 = builder1.deleteCharAt(text.length() - 1);\r\n      \r\n    System.out.println(builder1.toString() + &quot; - &quot; + builder2.toString());\r\n\r\nOutput \r\n&gt; abcd - abcd","title":"Method result not save in memory how does that work?","body":"<p><code>deleteCharAt</code> is a mutating method although it also returns a StringBuilder object. This can be easily proved with the following code</p>\n<pre><code>String text = &quot;abcde&quot;;\nStringBuilder builder1 = new StringBuilder(text);\nStringBuilder builder2 = builder1.deleteCharAt(text.length() - 1);\n  \nSystem.out.println(builder1.toString() + &quot; - &quot; + builder2.toString());\n</code></pre>\n<p>Output</p>\n<blockquote>\n<p>abcd - abcd</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":22864329,"reputation":21,"user_id":17007918,"display_name":"stackoverflowuser1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633445413,"creation_date":1633445413,"answer_id":69452664,"question_id":69452210,"body_markdown":"The logic that stores the result is inside `deleteCharAt()`, so deleteCharAt saves the changes in memory for you, \r\n\r\nif you read the code of `deleteCharAt()` you will see that deleteCharAt calls another method which is `super.deleteCharAt()` this method inside class AbstractStringBuilder and if you read the code there you will see that method calls a private method called `shift()` and if you looked to the code of `shift()` you will see it calls this method `System.arraycopy()` which is a native method and inside it the logic of storing the result into the memory.","title":"Method result not save in memory how does that work?","body":"<p>The logic that stores the result is inside <code>deleteCharAt()</code>, so deleteCharAt saves the changes in memory for you,</p>\n<p>if you read the code of <code>deleteCharAt()</code> you will see that deleteCharAt calls another method which is <code>super.deleteCharAt()</code> this method inside class AbstractStringBuilder and if you read the code there you will see that method calls a private method called <code>shift()</code> and if you looked to the code of <code>shift()</code> you will see it calls this method <code>System.arraycopy()</code> which is a native method and inside it the logic of storing the result into the memory.</p>\n"}],"owner":{"account_id":22949153,"reputation":1,"user_id":17080698,"display_name":"Hello Student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69452384,"answer_count":2,"score":-1,"last_activity_date":1633445413,"creation_date":1633443795,"question_id":69452210,"body_markdown":"I am building a calculator app with the code for backspace/deleting last character as:\r\n\r\n    JButton btnBackspace = new JButton(&quot;\\uF0E7&quot;);\r\n\t\tbtnBackspace.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tString backspace = null;\r\n\t\t\t\tif (textField.getText().length() &gt; 0) {\r\n\t\t\t\t\tStringBuilder str = new StringBuilder(textField.getText());\r\n\t\t\t\t\tbackspace = str.deleteCharAt(textField.getText().length()-1).toString();\r\n\t\t\t\t\ttextField.setText(backspace);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\nLine 7 above code is long and thought of splitting them into two statements.\r\n\r\n    JButton btnBackspace = new JButton(&quot;\\uF0E7&quot;);\r\n\t\tbtnBackspace.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tString backspace = null;\r\n\t\t\t\tif (textField.getText().length() &gt; 0) {\r\n\t\t\t\t\tStringBuilder str = new StringBuilder(textField.getText());\r\n\t\t\t\t\tbackspace = str.deleteCharAt(textField.getText().length()-1);\r\n\t\t\t\t\tbackspace = backspace.toString();\r\n\t\t\t\t\ttextField.setText(backspace);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\nThe above code gives me a bunch of error but when I try the next code:\r\n\r\n    JButton btnBackspace = new JButton(&quot;\\uF0E7&quot;);\r\n\t\tbtnBackspace.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tString backspace = null;\r\n\t\t\t\tif (textField.getText().length() &gt; 0) {\r\n\t\t\t\t\tStringBuilder str = new StringBuilder(textField.getText());\r\n\t\t\t\t\tstr.deleteCharAt(textField.getText().length()-1);\r\n\t\t\t\t\tbackspace = str.toString();\r\n\t\t\t\t\t\r\n\t\t\t\t\ttextField.setText(backspace);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\nThe above code works. How was that possible that the result from deleting a character did not need to be saved to a memory and yet successfully converted to string?","title":"Method result not save in memory how does that work?","body":"<p>I am building a calculator app with the code for backspace/deleting last character as:</p>\n<pre><code>JButton btnBackspace = new JButton(&quot;\\uF0E7&quot;);\n    btnBackspace.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            String backspace = null;\n            if (textField.getText().length() &gt; 0) {\n                StringBuilder str = new StringBuilder(textField.getText());\n                backspace = str.deleteCharAt(textField.getText().length()-1).toString();\n                textField.setText(backspace);\n            }\n        }\n    });\n</code></pre>\n<p>Line 7 above code is long and thought of splitting them into two statements.</p>\n<pre><code>JButton btnBackspace = new JButton(&quot;\\uF0E7&quot;);\n    btnBackspace.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            String backspace = null;\n            if (textField.getText().length() &gt; 0) {\n                StringBuilder str = new StringBuilder(textField.getText());\n                backspace = str.deleteCharAt(textField.getText().length()-1);\n                backspace = backspace.toString();\n                textField.setText(backspace);\n            }\n        }\n    });\n</code></pre>\n<p>The above code gives me a bunch of error but when I try the next code:</p>\n<pre><code>JButton btnBackspace = new JButton(&quot;\\uF0E7&quot;);\n    btnBackspace.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            String backspace = null;\n            if (textField.getText().length() &gt; 0) {\n                StringBuilder str = new StringBuilder(textField.getText());\n                str.deleteCharAt(textField.getText().length()-1);\n                backspace = str.toString();\n                \n                textField.setText(backspace);\n            }\n        }\n    });\n</code></pre>\n<p>The above code works. How was that possible that the result from deleting a character did not need to be saved to a memory and yet successfully converted to string?</p>\n"},{"tags":["java","testing","camunda","business-process-management"],"comments":[{"owner":{"account_id":9242418,"reputation":605,"user_id":6865356,"display_name":"Dan Brandt"},"score":0,"creation_date":1633298487,"post_id":69429196,"comment_id":122716354,"body_markdown":"Daniil.\nSee [this answer](https://stackoverflow.com/a/59794380/6865356), please - it can be useful for you","body":"Daniil. See <a href=\"https://stackoverflow.com/a/59794380/6865356\">this answer</a>, please - it can be useful for you"}],"answers":[{"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633306194,"creation_date":1633306194,"answer_id":69429781,"question_id":69429196,"body_markdown":"If you want to avoid Java, testing a process model via the REST-API is an alternative. The basic calls needed would be start of process instance, completion of user (and external) tasks, possibly messages. A complete process test can for instance be run in Postman Runner.\r\nhttps://www.tutorialspoint.com/postman/postman_collection_runner.htm\r\nor in other REST tools.\r\n\r\nYou may find this collection helpful:\r\nhttps://github.com/rob2universe/camunda-rest-postman\r\n\r\nAnother starting point would be the Open API spec: https://docs.camunda.org/manual/latest/reference/rest/openapi/\r\nThis covers the complete API with all options, but could be way more than needed.\r\n\r\nUnfortunately I am not aware of a solution using a business UI.\r\n\r\nI have seen projects using https://cucumber.io/ on top of Camunda Assert to create tests in a declarative manner.\r\n\r\n","title":"Is there a way to test Camunda BPM process without writing code?","body":"<p>If you want to avoid Java, testing a process model via the REST-API is an alternative. The basic calls needed would be start of process instance, completion of user (and external) tasks, possibly messages. A complete process test can for instance be run in Postman Runner.\n<a href=\"https://www.tutorialspoint.com/postman/postman_collection_runner.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/postman/postman_collection_runner.htm</a>\nor in other REST tools.</p>\n<p>You may find this collection helpful:\n<a href=\"https://github.com/rob2universe/camunda-rest-postman\" rel=\"nofollow noreferrer\">https://github.com/rob2universe/camunda-rest-postman</a></p>\n<p>Another starting point would be the Open API spec: <a href=\"https://docs.camunda.org/manual/latest/reference/rest/openapi/\" rel=\"nofollow noreferrer\">https://docs.camunda.org/manual/latest/reference/rest/openapi/</a>\nThis covers the complete API with all options, but could be way more than needed.</p>\n<p>Unfortunately I am not aware of a solution using a business UI.</p>\n<p>I have seen projects using <a href=\"https://cucumber.io/\" rel=\"nofollow noreferrer\">https://cucumber.io/</a> on top of Camunda Assert to create tests in a declarative manner.</p>\n"},{"tags":[],"owner":{"account_id":14689205,"reputation":105,"user_id":10608339,"display_name":"BFR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633331615,"creation_date":1633331247,"answer_id":69432092,"question_id":69429196,"body_markdown":"It is not recommended to have business analysts test process models.\r\n\r\nBusiness analysts create strategic and operative process models. But every single process model will always require technical integration - thus creating the need for a technological process model. Or how would a business analyst know anything about the implementation of service tasks, for ecample? This is the developers job. And so is testing this technological process model.\r\n\r\nAnother way to see this is to look at the scopes of a .bpmn file: the bpmn (and bpmndi) scopes are the business analysts domain. The camunda scope belongs to the developer.  \r\n\r\nHaving said that: there is a linter plugin for Camunda modeler that will help you detect the more common and simple mistakes that may occur during modeling: https://github.com/camunda/camunda-modeler-linter-plugin","title":"Is there a way to test Camunda BPM process without writing code?","body":"<p>It is not recommended to have business analysts test process models.</p>\n<p>Business analysts create strategic and operative process models. But every single process model will always require technical integration - thus creating the need for a technological process model. Or how would a business analyst know anything about the implementation of service tasks, for ecample? This is the developers job. And so is testing this technological process model.</p>\n<p>Another way to see this is to look at the scopes of a .bpmn file: the bpmn (and bpmndi) scopes are the business analysts domain. The camunda scope belongs to the developer.</p>\n<p>Having said that: there is a linter plugin for Camunda modeler that will help you detect the more common and simple mistakes that may occur during modeling: <a href=\"https://github.com/camunda/camunda-modeler-linter-plugin\" rel=\"nofollow noreferrer\">https://github.com/camunda/camunda-modeler-linter-plugin</a></p>\n"},{"tags":[],"owner":{"account_id":13535286,"reputation":86,"user_id":9764642,"display_name":"Mstislav Martynyuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633445238,"creation_date":1633445238,"answer_id":69452620,"question_id":69429196,"body_markdown":"Best way to test process models in non-Java environment is Camunda REST API (https://docs.camunda.org/manual/latest/reference/rest/) in combination with Postman (https://www.postman.com/api-platform/meet-postman/). \r\n\r\nWith Postman&#39;s abilities to parse response. You can automate your testing scenarios like:\r\n\r\n1. Start process instance, get process instance id in response, validate that process is started, put process instance id into Postman variable.\r\n2. Get current activity by process instance id, verify that&#39;s it assigned or not.\r\n3. And so on.\r\n\r\n","title":"Is there a way to test Camunda BPM process without writing code?","body":"<p>Best way to test process models in non-Java environment is Camunda REST API (<a href=\"https://docs.camunda.org/manual/latest/reference/rest/\" rel=\"nofollow noreferrer\">https://docs.camunda.org/manual/latest/reference/rest/</a>) in combination with Postman (<a href=\"https://www.postman.com/api-platform/meet-postman/\" rel=\"nofollow noreferrer\">https://www.postman.com/api-platform/meet-postman/</a>).</p>\n<p>With Postman's abilities to parse response. You can automate your testing scenarios like:</p>\n<ol>\n<li>Start process instance, get process instance id in response, validate that process is started, put process instance id into Postman variable.</li>\n<li>Get current activity by process instance id, verify that's it assigned or not.</li>\n<li>And so on.</li>\n</ol>\n"}],"owner":{"display_name":"user17066209"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1109,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1633445238,"creation_date":1633298164,"question_id":69429196,"body_markdown":"The current project, i work on, is the Camunda application, with bpmn-processes, running in it. \r\nOur analytics, with collaboration with business departments , create processes drafts (.bpmn files).\r\n\r\nThey want to test them, for finding simple bugs fast and without programmers help. \r\nBut the only approach, we&#39;ve found - to write java code, using such libs, as [camunda-bpm-assert][1] \r\n\r\nIt is too hard way for system analytics - to learn Java.\r\n \r\nDo you know some other opportunities (platforms, libs, maybe with GUI) to reach this goal? \r\n\r\nThanks for all ideas. \r\n\r\n\r\n  [1]: https://github.com/camunda/camunda-bpm-assert","title":"Is there a way to test Camunda BPM process without writing code?","body":"<p>The current project, i work on, is the Camunda application, with bpmn-processes, running in it.\nOur analytics, with collaboration with business departments , create processes drafts (.bpmn files).</p>\n<p>They want to test them, for finding simple bugs fast and without programmers help.\nBut the only approach, we've found - to write java code, using such libs, as <a href=\"https://github.com/camunda/camunda-bpm-assert\" rel=\"nofollow noreferrer\">camunda-bpm-assert</a></p>\n<p>It is too hard way for system analytics - to learn Java.</p>\n<p>Do you know some other opportunities (platforms, libs, maybe with GUI) to reach this goal?</p>\n<p>Thanks for all ideas.</p>\n"},{"tags":["java","dictionary","hashmap"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":3,"creation_date":1633423588,"post_id":69447336,"comment_id":122749230,"body_markdown":"Why not just `mainMap.put(idx, &lt;new map as new value&gt;)` (or `mainMap.replace(idx,...)` with a new map having new keys and values)?","body":"Why not just <code>mainMap.put(idx, &lt;new map as new value&gt;)</code> (or <code>mainMap.replace(idx,...)</code> with a new map having new keys and values)?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1633423592,"post_id":69447336,"comment_id":122749231,"body_markdown":"You can&#39;t. `replaceAll()` can only modify the values.","body":"You can&#39;t. <code>replaceAll()</code> can only modify the values."},{"owner":{"account_id":5523278,"reputation":25,"user_id":4385586,"accept_rate":25,"display_name":"Ashish Jangra"},"score":0,"creation_date":1633423937,"post_id":69447336,"comment_id":122749369,"body_markdown":"so Incrementing key by one and and adding value in List..is not modifying ?","body":"so Incrementing key by one and and adding value in List..is not modifying ?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1633423983,"post_id":69447336,"comment_id":122749391,"body_markdown":"First of all, the assignment to `v` is obsolete and confusing to readers of the code. `v` is a *parameter* and assigning to a parameter has no persisting effect. Just use `replaceAll((k, v) -&gt;getList(curr, v))` as the result of the expression will be used as new value by contract. Second, changing a key always is a structural change to the map, removing the old key and adding a new key. This can’t be done while iterating over the map.","body":"First of all, the assignment to <code>v</code> is obsolete and confusing to readers of the code. <code>v</code> is a <i>parameter</i> and assigning to a parameter has no persisting effect. Just use <code>replaceAll((k, v) -&gt;getList(curr, v))</code> as the result of the expression will be used as new value by contract. Second, changing a key always is a structural change to the map, removing the old key and adding a new key. This can’t be done while iterating over the map."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1633423995,"post_id":69447336,"comment_id":122749399,"body_markdown":"By the way, your assignment to `v` is obsolete and has no effect. Remove the `v = `. You are supposed to return your new value, not assign it.","body":"By the way, your assignment to <code>v</code> is obsolete and has no effect. Remove the <code>v = </code>. You are supposed to return your new value, not assign it."},{"owner":{"account_id":5523278,"reputation":25,"user_id":4385586,"accept_rate":25,"display_name":"Ashish Jangra"},"score":0,"creation_date":1633424183,"post_id":69447336,"comment_id":122749470,"body_markdown":"but in docs its no where mention that, replaceAll will only replace values but not keys ..","body":"but in docs its no where mention that, replaceAll will only replace values but not keys .."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1633424244,"post_id":69447336,"comment_id":122749497,"body_markdown":"The docs are pretty clear. It wants you to give it a `BiFunction&lt;K, V, V&gt;` that, given the `key` and `value`, return a **new value** for the given key. It never says anything about returning a new key as well. Note the last generic type which is `V` as well, i.e. a value. It is not something like `BiFunction&lt;K, V, Entry&lt;K, V&gt;&gt;` or similar.","body":"The docs are pretty clear. It wants you to give it a <code>BiFunction&lt;K, V, V&gt;</code> that, given the <code>key</code> and <code>value</code>, return a <b>new value</b> for the given key. It never says anything about returning a new key as well. Note the last generic type which is <code>V</code> as well, i.e. a value. It is not something like <code>BiFunction&lt;K, V, Entry&lt;K, V&gt;&gt;</code> or similar."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1633424334,"post_id":69447336,"comment_id":122749532,"body_markdown":"[The documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#replaceAll(java.util.function.BiFunction)) says: “*Replaces each entry&#39;s **value** with the result of invoking the given function on that entry until all entries have been processed or the function throws an exception.*” A clearly stated purpose. You could fill books with what the method will not do.","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#replaceAll(java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">The documentation</a> says: “<i>Replaces each entry&#39;s <b>value</b> with the result of invoking the given function on that entry until all entries have been processed or the function throws an exception.</i>” A clearly stated purpose. You could fill books with what the method will not do."},{"owner":{"account_id":5523278,"reputation":25,"user_id":4385586,"accept_rate":25,"display_name":"Ashish Jangra"},"score":0,"creation_date":1633424418,"post_id":69447336,"comment_id":122749564,"body_markdown":"Is there any way I could update key and value both, because in my inner Map, there is going to be only one entry ?","body":"Is there any way I could update key and value both, because in my inner Map, there is going to be only one entry ?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1633424613,"post_id":69447336,"comment_id":122749635,"body_markdown":"@AshishJangra Many. But not with `replaceAll`.","body":"@AshishJangra Many. But not with <code>replaceAll</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1633424614,"post_id":69447336,"comment_id":122749637,"body_markdown":"Sounds like the `Map` is the wrong tool for the purpose to begin with. Why don’t you use a class having two properties, an `Integer` and a `List&lt;Integer&gt;`. Maybe, you actually want an `int` for the first property. Then, updating it ill be easy.","body":"Sounds like the <code>Map</code> is the wrong tool for the purpose to begin with. Why don’t you use a class having two properties, an <code>Integer</code> and a <code>List&lt;Integer&gt;</code>. Maybe, you actually want an <code>int</code> for the first property. Then, updating it ill be easy."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1633425027,"post_id":69447336,"comment_id":122749809,"body_markdown":"You can use `mainMap.compute(idx, (k, v) -&gt; { ... })` to construct a new map which will replace the existing value.","body":"You can use <code>mainMap.compute(idx, (k, v) -&gt; { ... })</code> to construct a new map which will replace the existing value."}],"answers":[{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633445108,"creation_date":1633425640,"answer_id":69447884,"question_id":69447336,"body_markdown":"Try this.\r\n\r\n\r\n    mainMap.compute(idx, (k, v) -&gt; v.entrySet().stream()\r\n        .collect(Collectors.toMap(\r\n            e -&gt; e.getKey() + 1,\r\n            e -&gt; getList(curr, e.getValue()))));\r\n","title":"Map#replaceAll - How to change key, not only value?","body":"<p>Try this.</p>\n<pre><code>mainMap.compute(idx, (k, v) -&gt; v.entrySet().stream()\n    .collect(Collectors.toMap(\n        e -&gt; e.getKey() + 1,\n        e -&gt; getList(curr, e.getValue()))));\n</code></pre>\n"}],"owner":{"account_id":5523278,"reputation":25,"user_id":4385586,"accept_rate":25,"display_name":"Ashish Jangra"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633445108,"creation_date":1633423325,"question_id":69447336,"body_markdown":"Having HashMap of type `Map&lt;Integer, Map&lt;Integer, List&lt;Integer&gt;&gt;`\r\n\r\nwant to update all key value pairs of Map within main Map. `getList` is method which returns `List&lt;Integer&gt;` after adding value.\r\n\r\n    mainMap.get(idx).replaceAll((k, v) -&gt; getList(curr, v));\r\n\r\nHow can I update `k` too in above code ? Increase the value by 1","title":"Map#replaceAll - How to change key, not only value?","body":"<p>Having HashMap of type <code>Map&lt;Integer, Map&lt;Integer, List&lt;Integer&gt;&gt;</code></p>\n<p>want to update all key value pairs of Map within main Map. <code>getList</code> is method which returns <code>List&lt;Integer&gt;</code> after adding value.</p>\n<pre><code>mainMap.get(idx).replaceAll((k, v) -&gt; getList(curr, v));\n</code></pre>\n<p>How can I update <code>k</code> too in above code ? Increase the value by 1</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633444838,"creation_date":1633444665,"answer_id":69452462,"question_id":69452334,"body_markdown":"Methods are loaded in Stack Memory while Objects are loaded in Heap Memory. So completing the method has no impact on the Objects those are created by method. Of that objects is being referred by some current running thread (directly or indirectly) that will stay alive and won&#39;t be collected by Garbage Collector.\r\n\r\nSo answer to your question is Yes. As Pair is being referred so it will stay. And so min and max are still be referred by Pair so that will also stay.\r\n\r\n\r\nContinuing to that, that is also how PassByReference works. Where you pass an Object from a method to another method (Objects is not immutable and it&#39;s not reinitialized and it&#39;s not primitive) all the updated in the called method will get reflected in calling method.\r\n\r\nAs in your case `Pair` is created inside `main` method and being passed to another methods, so till the time main is not finishing it&#39;s execution it will stay in heap memory and won&#39;t get garbage collected.","title":"State of object values when returning from recusrion","body":"<p>Methods are loaded in Stack Memory while Objects are loaded in Heap Memory. So completing the method has no impact on the Objects those are created by method. Of that objects is being referred by some current running thread (directly or indirectly) that will stay alive and won't be collected by Garbage Collector.</p>\n<p>So answer to your question is Yes. As Pair is being referred so it will stay. And so min and max are still be referred by Pair so that will also stay.</p>\n<p>Continuing to that, that is also how PassByReference works. Where you pass an Object from a method to another method (Objects is not immutable and it's not reinitialized and it's not primitive) all the updated in the called method will get reflected in calling method.</p>\n<p>As in your case <code>Pair</code> is created inside <code>main</code> method and being passed to another methods, so till the time main is not finishing it's execution it will stay in heap memory and won't get garbage collected.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633444999,"creation_date":1633444999,"answer_id":69452550,"question_id":69452334,"body_markdown":"No, it will not. There is only one instance of `Pair`: the one created in method `main`. The values of `min` and `max` are overwritten as required.","title":"State of object values when returning from recusrion","body":"<p>No, it will not. There is only one instance of <code>Pair</code>: the one created in method <code>main</code>. The values of <code>min</code> and <code>max</code> are overwritten as required.</p>\n"}],"owner":{"account_id":17869219,"reputation":449,"user_id":12980888,"display_name":"Avv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69452462,"answer_count":2,"score":0,"last_activity_date":1633444999,"creation_date":1633444260,"question_id":69452334,"body_markdown":"Suppose we have the following algorithm for finding min/max in an array using divide an conquer (Courtesy to [Source][1]):\r\n\r\n   \r\n\r\n     // A Pair class to wrap immutable primitive ints\r\n    class Pair\r\n    {\r\n        public int max, min;\r\n     \r\n        public Pair(int max, int min)\r\n        {\r\n            this.max = max;\r\n            this.min = min;\r\n        }\r\n    }\r\n     \r\n    class Main\r\n    {\r\n        // Divide and conquer solution to find the minimum and maximum number in an array\r\n        public static void findMinAndMax(int[] A, int left, int right, Pair p)\r\n        {\r\n            // if the array contains only one element\r\n     \r\n            if (left == right)                  // common comparison\r\n            {\r\n                if (p.max &lt; A[left]) {          // comparison 1\r\n                    p.max = A[left];\r\n                }\r\n     \r\n                if (p.min &gt; A[right]) {         // comparison 2\r\n                    p.min = A[right];\r\n                }\r\n     \r\n                return;\r\n            }\r\n     \r\n            // if the array contains only two elements\r\n     \r\n            if (right - left == 1)              // common comparison\r\n            {\r\n                if (A[left] &lt; A[right])         // comparison 1\r\n                {\r\n                    if (p.min &gt; A[left]) {      // comparison 2\r\n                        p.min = A[left];\r\n                    }\r\n     \r\n                    if (p.max &lt; A[right]) {     // comparison 3\r\n                        p.max = A[right];\r\n                    }\r\n                }\r\n                else {\r\n                    if (p.min &gt; A[right]) {     // comparison 2\r\n                        p.min = A[right];\r\n                    }\r\n     \r\n                    if (p.max &lt; A[left]) {      // comparison 3\r\n                        p.max = A[left];\r\n                    }\r\n                }\r\n     \r\n                return;\r\n            }\r\n     \r\n            // find the middle element\r\n            int mid = (left + right) / 2;\r\n     \r\n            // recur for the left subarray\r\n            findMinAndMax(A, left, mid, p);\r\n     \r\n            // recur for the right subarray\r\n            findMinAndMax(A, mid + 1, right, p);\r\n        }\r\n     \r\n        public static void main(String[] args)\r\n        {\r\n            int[] A = { 7, 2, 9, 3, 1, 6, 7, 8, 4 };\r\n     \r\n            // initialize the minimum element by `INFINITY` and the\r\n            // maximum element by `-INFINITY`\r\n            Pair p = new Pair(Integer.MIN_VALUE, Integer.MAX_VALUE);\r\n            findMinAndMax(A, 0, A.length - 1, p);\r\n     \r\n            System.out.println(&quot;The minimum array element is &quot; + p.min);\r\n            System.out.println(&quot;The maximum array element is &quot; + p.max);\r\n        }\r\n    }\r\n\r\n**Question**: Each time we return from recursion to the caller method from previous step. Will `Pair` object saves it&#39;s values `min, max` when returns, given that we delete the method that finishes execution during recursion from the stack please? \r\n\r\n\r\n  [1]: https://www.techiedelight.com/find-minimum-maximum-element-array-minimum-comparisons/\r\n","title":"State of object values when returning from recusrion","body":"<p>Suppose we have the following algorithm for finding min/max in an array using divide an conquer (Courtesy to <a href=\"https://www.techiedelight.com/find-minimum-maximum-element-array-minimum-comparisons/\" rel=\"nofollow noreferrer\">Source</a>):</p>\n<pre><code> // A Pair class to wrap immutable primitive ints\nclass Pair\n{\n    public int max, min;\n \n    public Pair(int max, int min)\n    {\n        this.max = max;\n        this.min = min;\n    }\n}\n \nclass Main\n{\n    // Divide and conquer solution to find the minimum and maximum number in an array\n    public static void findMinAndMax(int[] A, int left, int right, Pair p)\n    {\n        // if the array contains only one element\n \n        if (left == right)                  // common comparison\n        {\n            if (p.max &lt; A[left]) {          // comparison 1\n                p.max = A[left];\n            }\n \n            if (p.min &gt; A[right]) {         // comparison 2\n                p.min = A[right];\n            }\n \n            return;\n        }\n \n        // if the array contains only two elements\n \n        if (right - left == 1)              // common comparison\n        {\n            if (A[left] &lt; A[right])         // comparison 1\n            {\n                if (p.min &gt; A[left]) {      // comparison 2\n                    p.min = A[left];\n                }\n \n                if (p.max &lt; A[right]) {     // comparison 3\n                    p.max = A[right];\n                }\n            }\n            else {\n                if (p.min &gt; A[right]) {     // comparison 2\n                    p.min = A[right];\n                }\n \n                if (p.max &lt; A[left]) {      // comparison 3\n                    p.max = A[left];\n                }\n            }\n \n            return;\n        }\n \n        // find the middle element\n        int mid = (left + right) / 2;\n \n        // recur for the left subarray\n        findMinAndMax(A, left, mid, p);\n \n        // recur for the right subarray\n        findMinAndMax(A, mid + 1, right, p);\n    }\n \n    public static void main(String[] args)\n    {\n        int[] A = { 7, 2, 9, 3, 1, 6, 7, 8, 4 };\n \n        // initialize the minimum element by `INFINITY` and the\n        // maximum element by `-INFINITY`\n        Pair p = new Pair(Integer.MIN_VALUE, Integer.MAX_VALUE);\n        findMinAndMax(A, 0, A.length - 1, p);\n \n        System.out.println(&quot;The minimum array element is &quot; + p.min);\n        System.out.println(&quot;The maximum array element is &quot; + p.max);\n    }\n}\n</code></pre>\n<p><strong>Question</strong>: Each time we return from recursion to the caller method from previous step. Will <code>Pair</code> object saves it's values <code>min, max</code> when returns, given that we delete the method that finishes execution during recursion from the stack please?</p>\n"},{"tags":["java","spring","spring-boot","rest","interface"],"comments":[{"owner":{"account_id":3597514,"reputation":117143,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1633376619,"post_id":69441549,"comment_id":122738905,"body_markdown":"1. Because you can add new methods to `EmployeeRepository`. 2. See e.g. https://stackoverflow.com/q/56032969/3001761.","body":"1. Because you can add new methods to <code>EmployeeRepository</code>. 2. See e.g. <a href=\"https://stackoverflow.com/q/56032969/3001761\">stackoverflow.com/q/56032969/3001761</a>."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633377872,"creation_date":1633377872,"answer_id":69441817,"question_id":69441549,"body_markdown":" 1. In your `EmployeeRepository` you could add more methods in addition to the ones already available in `JpaRepository`. You can achieve this simply by adding the methods and Spring will parse their names creating the corresponding query. You can learn more about this at https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods. Additionally, `EmployeeRepository` is easier to read and understand than `JpaRepository&lt;Employee, Long&gt;`. this will actually help you and others read your code.\r\n\r\n 2. You can read more about this also in https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods, but the very specific and dirty details can only be found in Spring Framework code itself.","title":"Why do we create interface extending other interface instead of using the extended interface directly in Spring Boot Rest Tutorial?","body":"<ol>\n<li><p>In your <code>EmployeeRepository</code> you could add more methods in addition to the ones already available in <code>JpaRepository</code>. You can achieve this simply by adding the methods and Spring will parse their names creating the corresponding query. You can learn more about this at <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods</a>. Additionally, <code>EmployeeRepository</code> is easier to read and understand than <code>JpaRepository&lt;Employee, Long&gt;</code>. this will actually help you and others read your code.</p>\n</li>\n<li><p>You can read more about this also in <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods</a>, but the very specific and dirty details can only be found in Spring Framework code itself.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1645861,"reputation":35,"user_id":1517425,"display_name":"Murat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69441817,"answer_count":1,"score":0,"last_activity_date":1633444988,"creation_date":1633376489,"question_id":69441549,"body_markdown":"I am new to Spring Boot. I am following this tutorial:\r\n\r\nhttps://spring.io/guides/tutorials/rest/\r\n\r\nIn this tutorial, there is an interface declaration like this:\r\n``` \r\npackage payroll;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\ninterface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n\r\n}\r\n``` \r\nFirst question; Why do we declare this interface? In the code followed during tutorial, if I put JpaRepository&lt;Employee, Long&gt; instead of EmployeeRepository, everything works as before. Why would I use EmployeRepository interface, while original interface is there?\r\n\r\nSecond question; how is the interface is implemented and created an object of this implementation automatically by Spring Boot? What is the magic behind?","title":"Why do we create interface extending other interface instead of using the extended interface directly in Spring Boot Rest Tutorial?","body":"<p>I am new to Spring Boot. I am following this tutorial:</p>\n<p><a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">https://spring.io/guides/tutorials/rest/</a></p>\n<p>In this tutorial, there is an interface declaration like this:</p>\n<pre><code>package payroll;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\ninterface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n\n}\n</code></pre>\n<p>First question; Why do we declare this interface? In the code followed during tutorial, if I put JpaRepository&lt;Employee, Long&gt; instead of EmployeeRepository, everything works as before. Why would I use EmployeRepository interface, while original interface is there?</p>\n<p>Second question; how is the interface is implemented and created an object of this implementation automatically by Spring Boot? What is the magic behind?</p>\n"},{"tags":["java","maven","groovy","junit","spock"],"comments":[{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":1,"creation_date":1615734313,"post_id":66618875,"comment_id":117777331,"body_markdown":"I always recommend to take a look at https://github.com/spockframework/spock-example/blob/master/pom.xml","body":"I always recommend to take a look at <a href=\"https://github.com/spockframework/spock-example/blob/master/pom.xml\" rel=\"nofollow noreferrer\">github.com/spockframework/spock-example/blob/master/pom.xml</a>"},{"owner":{"account_id":6702549,"reputation":1560,"user_id":5168582,"accept_rate":86,"display_name":"Mateusz Sobczak"},"score":0,"creation_date":1615736932,"post_id":66618875,"comment_id":117778132,"body_markdown":"I changed my code base on your example and still works like before","body":"I changed my code base on your example and still works like before"},{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1615762368,"post_id":66618875,"comment_id":117785437,"body_markdown":"It would be best if you could create an [MCVE](https://stackoverflow.com/help/mcve) and share it, otherwise we can&#39;t really help you. FWIW I could execute java jupiter tests without a problem in the example project after adding the jupiter dependencies.","body":"It would be best if you could create an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> and share it, otherwise we can&#39;t really help you. FWIW I could execute java jupiter tests without a problem in the example project after adding the jupiter dependencies."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1615804215,"post_id":66618875,"comment_id":117795337,"body_markdown":"I agree that an MCVE is the way to go. You also did not mention if your JUnit tests are JUnit 4 or 5. That makes a difference Maven-wise (JUnit 4 means vintage engine, see [this answer](https://stackoverflow.com/a/63130530/1082681)).","body":"I agree that an MCVE is the way to go. You also did not mention if your JUnit tests are JUnit 4 or 5. That makes a difference Maven-wise (JUnit 4 means vintage engine, see <a href=\"https://stackoverflow.com/a/63130530/1082681\">this answer</a>)."},{"owner":{"account_id":53593,"reputation":11553,"user_id":160256,"display_name":"Keegan"},"score":0,"creation_date":1616117799,"post_id":66618875,"comment_id":117909529,"body_markdown":"Have you seen my [Spock 1](https://github.com/groovy/GMavenPlus/wiki/Examples#spock-1-and-junit) and [Spock 2](https://github.com/groovy/GMavenPlus/wiki/Examples#spock-2-and-junit) examples?","body":"Have you seen my <a href=\"https://github.com/groovy/GMavenPlus/wiki/Examples#spock-1-and-junit\" rel=\"nofollow noreferrer\">Spock 1</a> and <a href=\"https://github.com/groovy/GMavenPlus/wiki/Examples#spock-2-and-junit\" rel=\"nofollow noreferrer\">Spock 2</a> examples?"}],"answers":[{"tags":[],"owner":{"account_id":5827779,"reputation":96,"user_id":4593473,"display_name":"maki888"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633444945,"creation_date":1633444945,"answer_id":69452529,"question_id":66618875,"body_markdown":"I had exactly same issue and adding dependency to junit-vintage-engine, solved it, e.g.:\r\n\r\n```lang-xml\r\n&lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;useFile&gt;false&lt;/useFile&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                &lt;include&gt;**/*Spec.java&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;5.8.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.12.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;compile&lt;/goal&gt;\r\n                    &lt;goal&gt;compileTests&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n ```","title":"Maven java junit test won&#39;t start with groovy spock tests","body":"<p>I had exactly same issue and adding dependency to junit-vintage-engine, solved it, e.g.:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M4&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;useFile&gt;false&lt;/useFile&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*Test.java&lt;/include&gt;\n                &lt;include&gt;**/*Spec.java&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;version&gt;5.8.1&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\n        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.12.1&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;goal&gt;compileTests&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"}],"owner":{"account_id":6702549,"reputation":1560,"user_id":5168582,"accept_rate":86,"display_name":"Mateusz Sobczak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1633444945,"creation_date":1615672239,"question_id":66618875,"body_markdown":"I have a problem with running groovy test with java tests. I have java test in directory /src/test/java and groovy tests in directory /src/test/groovy and maven plugin config like it:\r\n\r\n        &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;useFile&gt;false&lt;/useFile&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                        &lt;include&gt;**/*Spec.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.12.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;compileTests&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nBut with this config only groovy spock test works without java junit tests.\r\nWhat  am I doing wrong?\r\nThanks in advance for help","title":"Maven java junit test won&#39;t start with groovy spock tests","body":"<p>I have a problem with running groovy test with java tests. I have java test in directory /src/test/java and groovy tests in directory /src/test/groovy and maven plugin config like it:</p>\n<pre><code>    &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;useFile&gt;false&lt;/useFile&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*Test.java&lt;/include&gt;\n                    &lt;include&gt;**/*Spec.java&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\n            &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.12.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;goal&gt;compileTests&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>But with this config only groovy spock test works without java junit tests.\nWhat  am I doing wrong?\nThanks in advance for help</p>\n"},{"tags":["java","kubernetes","garbage-collection","openj9","cri-o"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1633431591,"post_id":69448937,"comment_id":122752393,"body_markdown":"Unless you tell use what you tried we won&#39;t know what you are missing.","body":"Unless you tell use what you tried we won&#39;t know what you are missing."},{"owner":{"account_id":476642,"reputation":11,"user_id":6996779,"display_name":"Chris"},"score":0,"creation_date":1633434449,"post_id":69448937,"comment_id":122753624,"body_markdown":"good point, just updated my post","body":"good point, just updated my post"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633444881,"creation_date":1633444881,"answer_id":69452517,"question_id":69448937,"body_markdown":"Take a look at [OpenJ9 user documentation &gt; Memory management &gt; Heap sizing &gt; Expansion and contraction](https://www.ibm.com/docs/en/sdk-java-technology/8?topic=management-heap-allocation#expansion-and-contraction)\r\n\r\nThis explains that the OpenJ9 JVM sizes the heap by keeping the ratio of the allocated space free space (after a GC) in a range determined by the `-xminf` and `-xmaxf` options.  The JVM will expand &quot;eagerly&quot; if the heap is too small, but it is &quot;reluctant&quot; about contracting the heap.\r\n\r\nSo your observed behavior (the heap not shrinking) could just be normal behavior given the default settings for `-xminf` and `-xmaxf`.  (You can find out what they are using the `-XX+PrintFlagsFinal` option.)\r\n\r\nNote that HotSpot JVMs have roughly similar mechanisms for resizing the heap, though the command line options are different.","title":"memory management problems with openj9 and k8s","body":"<p>Take a look at <a href=\"https://www.ibm.com/docs/en/sdk-java-technology/8?topic=management-heap-allocation#expansion-and-contraction\" rel=\"nofollow noreferrer\">OpenJ9 user documentation &gt; Memory management &gt; Heap sizing &gt; Expansion and contraction</a></p>\n<p>This explains that the OpenJ9 JVM sizes the heap by keeping the ratio of the allocated space free space (after a GC) in a range determined by the <code>-xminf</code> and <code>-xmaxf</code> options.  The JVM will expand &quot;eagerly&quot; if the heap is too small, but it is &quot;reluctant&quot; about contracting the heap.</p>\n<p>So your observed behavior (the heap not shrinking) could just be normal behavior given the default settings for <code>-xminf</code> and <code>-xmaxf</code>.  (You can find out what they are using the <code>-XX+PrintFlagsFinal</code> option.)</p>\n<p>Note that HotSpot JVMs have roughly similar mechanisms for resizing the heap, though the command line options are different.</p>\n"}],"owner":{"account_id":476642,"reputation":11,"user_id":6996779,"display_name":"Chris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633444881,"creation_date":1633430162,"question_id":69448937,"body_markdown":"we are running a k8s-cluster with some java applications. As container-runtime we use cr-io and as jvm adoptopenjdk-16 openj9 (should have good container support).\r\n\r\nRecently we have an increased workload on our cluster and we noticed that the containers do not release unused heap memory.\r\n\r\nI&#39;ve tried some gc options to achieve that, but without success:\r\n\r\n    -Xtune:virtualized\r\n\r\n    -XX:+IdleTuningGcOnIdle -XX:IdleTuningMinIdleWaitTime=30 \r\n\r\n    -Xgc:concurrentScavenge\r\n\r\n    -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/mnt/repository\r\n\r\nWhat am I missing?","title":"memory management problems with openj9 and k8s","body":"<p>we are running a k8s-cluster with some java applications. As container-runtime we use cr-io and as jvm adoptopenjdk-16 openj9 (should have good container support).</p>\n<p>Recently we have an increased workload on our cluster and we noticed that the containers do not release unused heap memory.</p>\n<p>I've tried some gc options to achieve that, but without success:</p>\n<pre><code>-Xtune:virtualized\n\n-XX:+IdleTuningGcOnIdle -XX:IdleTuningMinIdleWaitTime=30 \n\n-Xgc:concurrentScavenge\n\n-XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/mnt/repository\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","arrays","loops","for-loop"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1633415695,"post_id":69445718,"comment_id":122746365,"body_markdown":"Step through your program with the debugger","body":"Step through your program with the debugger"},{"owner":{"account_id":6667055,"reputation":723,"user_id":7373144,"accept_rate":67,"display_name":"bradley101"},"score":0,"creation_date":1633417802,"post_id":69445718,"comment_id":122747064,"body_markdown":"Use a debugger my friend.","body":"Use a debugger my friend."},{"owner":{"account_id":8098565,"reputation":11,"user_id":6102264,"display_name":"Uday Surse"},"score":0,"creation_date":1633435108,"post_id":69445718,"comment_id":122753905,"body_markdown":"yes..that&#39;s right...what should I do to get array (0,4,-16)","body":"yes..that&#39;s right...what should I do to get array (0,4,-16)"}],"answers":[{"tags":[],"owner":{"account_id":21084330,"reputation":318,"user_id":15497831,"display_name":"Hisan Hunais"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633444788,"creation_date":1633416437,"answer_id":69445967,"question_id":69445718,"body_markdown":"During the last iteration, `temp - numbers[i]` becomes `3 - 13` which results in `-10`. When the absolute value is taken using `Maths.abs(temp)`, the value becomes `10`. Hence, you obtain the result as `[0,4,10]`.\r\n\r\nSince you are sequentially trying to subtract the elements, during each subtraction, the result should be stored in a `temp` variable and subtracted again from the previous `temp` variable value. \r\n\r\nFor example, if we consider the second iteration which subtracts `14 - 17 - 13`,\r\n\r\n - during the first subtraction -&gt; `temp = 14 - 17 = -3`\r\n - during the second subtraction -&gt; `temp = temp(-3) - 13 = -16`\r\n\r\nFrom this we can see that, before the first subtraction, if we put `14` in to the `temp` variable, you will get the expected output.\r\n\r\n - during the first subtraction -&gt; `temp = temp(14) - 17 = -3`\r\n - during the second subtraction -&gt; `temp = temp(-3) - 13 = -16`\r\n\r\nThe first subtraction occurs within the second loop. So, within the first loop, we can assign the first value which should be considered for the subtraction to the `temp` variable.\r\n\r\nYou could modify your loops as follows.\r\n\r\n```\r\nfor(int j=1; j&lt;=numbers.length-1; j++) {\r\n    double temp = numbers[j];\r\n    for (int i=j; i&gt;0; i--) {\r\n        temp = temp - numbers[i-1];\r\n    }\r\n    list2.add(temp);\r\n}\r\n```","title":"Array Subtraction","body":"<p>During the last iteration, <code>temp - numbers[i]</code> becomes <code>3 - 13</code> which results in <code>-10</code>. When the absolute value is taken using <code>Maths.abs(temp)</code>, the value becomes <code>10</code>. Hence, you obtain the result as <code>[0,4,10]</code>.</p>\n<p>Since you are sequentially trying to subtract the elements, during each subtraction, the result should be stored in a <code>temp</code> variable and subtracted again from the previous <code>temp</code> variable value.</p>\n<p>For example, if we consider the second iteration which subtracts <code>14 - 17 - 13</code>,</p>\n<ul>\n<li>during the first subtraction -&gt; <code>temp = 14 - 17 = -3</code></li>\n<li>during the second subtraction -&gt; <code>temp = temp(-3) - 13 = -16</code></li>\n</ul>\n<p>From this we can see that, before the first subtraction, if we put <code>14</code> in to the <code>temp</code> variable, you will get the expected output.</p>\n<ul>\n<li>during the first subtraction -&gt; <code>temp = temp(14) - 17 = -3</code></li>\n<li>during the second subtraction -&gt; <code>temp = temp(-3) - 13 = -16</code></li>\n</ul>\n<p>The first subtraction occurs within the second loop. So, within the first loop, we can assign the first value which should be considered for the subtraction to the <code>temp</code> variable.</p>\n<p>You could modify your loops as follows.</p>\n<pre><code>for(int j=1; j&lt;=numbers.length-1; j++) {\n    double temp = numbers[j];\n    for (int i=j; i&gt;0; i--) {\n        temp = temp - numbers[i-1];\n    }\n    list2.add(temp);\n}\n</code></pre>\n"}],"owner":{"account_id":8098565,"reputation":11,"user_id":6102264,"display_name":"Uday Surse"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69445967,"answer_count":1,"score":0,"last_activity_date":1633444788,"creation_date":1633414946,"question_id":69445718,"body_markdown":"\t\tList&lt;Double&gt; list2 = new ArrayList&lt;Double&gt;();\r\n\t\tdouble[]numbers= {13,17,14};\r\n\t    //Arrays.sort(numbers);\r\n\t    // start with last number\r\n\t\t\r\n\t   // double diff = numbers[numbers.length-1];\r\n\t    //double temp =  0;\r\n\t    list2.add((double)0);\r\n\t   \r\n\t    for(int j =1;j&lt;=numbers.length-1;j++) {\r\n\t    \tdouble temp =  0;\r\n\t    \tdouble temp2 = 0;\r\n\t    \t int cnt1 =0;\r\n\t    \t// System.out.println(&quot;cnt1 --&gt; &quot;+cnt1);\r\n\t    \tfor (int i=j; i&gt;=0; i--) {\r\n\t    \t\t\r\n\t      // substract other number one by one                                        \r\n\t    \t\tif(i &gt; numbers.length-1) {\r\n\t    \t\t\t\r\n\t    \t\t\tbreak;\r\n\t    \t\t}\r\n\t    \t\t System.out.println(&quot;Answer i --&gt; &quot; + i +&quot; - &quot; +numbers[i]);\r\n\t    \t\t// System.out.println(&quot;Answer cnt1 --&gt; &quot; + cnt1 +&quot; - &quot; +numbers[cnt1]);\r\n\t    \t\t \r\n\t    \t\t//temp =  numbers[i] -numbers[cnt1];\r\n\t    \t\t \r\n\t    \t\t\r\n\t    \t\t temp = temp - numbers[i]  ;\r\n\t    \t\ttemp =  Math.abs(temp); \r\n\t    \t\t System.out.println(&quot;temp --&gt; &quot;+temp);\r\n\t    \t\t//cnt1++;\r\n\t    \t\t//System.out.println(&quot;cnt1 --&gt; &quot;+cnt1);\r\n\t    \t}\r\n\t    \t\r\n\t    \tlist2.add(temp);\r\n\t    \t\r\n\t    \t//temp = 0;\r\n\t    }\r\n\t //   System.out.println(&quot;Answer --&gt; &quot;+diff);\r\n\t    System.out.println(&quot;Answer --&gt; &quot;+list2);\r\n\r\n\r\nI am writing code to perform the substraction of array element. For given array element substraction array element should (0,4,-16) . First element is 0 because no element at left side of first element. Can you please suggest why I am getting (0,4,10) instead of (0,4,-16)","title":"Array Subtraction","body":"<pre><code>    List&lt;Double&gt; list2 = new ArrayList&lt;Double&gt;();\n    double[]numbers= {13,17,14};\n    //Arrays.sort(numbers);\n    // start with last number\n    \n   // double diff = numbers[numbers.length-1];\n    //double temp =  0;\n    list2.add((double)0);\n   \n    for(int j =1;j&lt;=numbers.length-1;j++) {\n        double temp =  0;\n        double temp2 = 0;\n         int cnt1 =0;\n        // System.out.println(&quot;cnt1 --&gt; &quot;+cnt1);\n        for (int i=j; i&gt;=0; i--) {\n            \n      // substract other number one by one                                        \n            if(i &gt; numbers.length-1) {\n                \n                break;\n            }\n             System.out.println(&quot;Answer i --&gt; &quot; + i +&quot; - &quot; +numbers[i]);\n            // System.out.println(&quot;Answer cnt1 --&gt; &quot; + cnt1 +&quot; - &quot; +numbers[cnt1]);\n             \n            //temp =  numbers[i] -numbers[cnt1];\n             \n            \n             temp = temp - numbers[i]  ;\n            temp =  Math.abs(temp); \n             System.out.println(&quot;temp --&gt; &quot;+temp);\n            //cnt1++;\n            //System.out.println(&quot;cnt1 --&gt; &quot;+cnt1);\n        }\n        \n        list2.add(temp);\n        \n        //temp = 0;\n    }\n //   System.out.println(&quot;Answer --&gt; &quot;+diff);\n    System.out.println(&quot;Answer --&gt; &quot;+list2);\n</code></pre>\n<p>I am writing code to perform the substraction of array element. For given array element substraction array element should (0,4,-16) . First element is 0 because no element at left side of first element. Can you please suggest why I am getting (0,4,10) instead of (0,4,-16)</p>\n"},{"tags":["java","frida","jdb"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1633445739,"post_id":69452465,"comment_id":122758820,"body_markdown":"Effectively Frida is a debugger just with an unusual interface and you can&#39;t connect two debuggers at the same time. And Frida does not compile your JS code to C, it injects a JS-engine into the app and executes your JS code there. How Frida works in detail for Android I don&#39;t know. My assumption is that there is a central pointer to `Main.a` method in some table in memory and that pointer gets redirected by Frida.","body":"Effectively Frida is a debugger just with an unusual interface and you can&#39;t connect two debuggers at the same time. And Frida does not compile your JS code to C, it injects a JS-engine into the app and executes your JS code there. How Frida works in detail for Android I don&#39;t know. My assumption is that there is a central pointer to <code>Main.a</code> method in some table in memory and that pointer gets redirected by Frida."},{"owner":{"account_id":22389122,"reputation":93,"user_id":16601506,"display_name":"AntoineG"},"score":0,"creation_date":1633446275,"post_id":69452465,"comment_id":122759065,"body_markdown":"Thank you very much ! But then, why is it that I can run frida scripts and still debug with JDB, and it is only when I try and re-implement a method that JDB breaks ? For instance, I can set a breakpoint on `Main.a` in JDB and then inject a Frida script which calls `Main.a`, and the debugging works as expected.","body":"Thank you very much ! But then, why is it that I can run frida scripts and still debug with JDB, and it is only when I try and re-implement a method that JDB breaks ? For instance, I can set a breakpoint on <code>Main.a</code> in JDB and then inject a Frida script which calls <code>Main.a</code>, and the debugging works as expected."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1633448731,"post_id":69452465,"comment_id":122760207,"body_markdown":"Right we are talking about JDB, not a real native debugger. Frida operates as a native debugger like gdb. JDB is as far as I know a separate interface on a higher level. If it only happens if you hook a method that the cause should be the manipulations Frida makes to the process which let JDB to fail. BTW: Android does not (or very seldom) execute byte code at all (assuming you don&#39;t use a device from Android stone age 4.4). Because of ART Android only executes native ARM[64] code that was generated from DEX byte code.","body":"Right we are talking about JDB, not a real native debugger. Frida operates as a native debugger like gdb. JDB is as far as I know a separate interface on a higher level. If it only happens if you hook a method that the cause should be the manipulations Frida makes to the process which let JDB to fail. BTW: Android does not (or very seldom) execute byte code at all (assuming you don&#39;t use a device from Android stone age 4.4). Because of ART Android only executes native ARM[64] code that was generated from DEX byte code."},{"owner":{"account_id":22389122,"reputation":93,"user_id":16601506,"display_name":"AntoineG"},"score":0,"creation_date":1633450911,"post_id":69452465,"comment_id":122761117,"body_markdown":"I actually use &quot;real&quot; Java (on a PC) with the Hotspot JVM, supported by Frida since June 2020. And my VM is set-up so that it only uses the bytecode interpreter (`java -Xint`).","body":"I actually use &quot;real&quot; Java (on a PC) with the Hotspot JVM, supported by Frida since June 2020. And my VM is set-up so that it only uses the bytecode interpreter (<code>java -Xint</code>)."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1633506982,"post_id":69452465,"comment_id":122774710,"body_markdown":"Sorry, I missed that. Most people using Frida with Java are on Android. No matter expect for the DEX and ART part the rest should be still valid.","body":"Sorry, I missed that. Most people using Frida with Java are on Android. No matter expect for the DEX and ART part the rest should be still valid."}],"owner":{"account_id":22389122,"reputation":93,"user_id":16601506,"display_name":"AntoineG"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633444686,"creation_date":1633444686,"question_id":69452465,"body_markdown":"In my quest to understand the Frida magic regarding re-implementing methods, I am having trouble running JDB in parallel with Frida on a simple Java application.\r\n\r\nThe Frida script is as follows, only adding logs when passing through the method `Main.a` :\r\n\r\n```javascript\r\nJava.perform(() =&gt; {\r\n    Java.use(&quot;Main&quot;).a.overload(&quot;java.lang.String&quot;).implementation = function(s) {\r\n        console.log(&#39;hooked!&#39;);\r\n        this.a(s);\r\n    };\r\n\r\n})\r\n```\r\n\r\nThis alone works perfectly. However, when I try to attach JDB to the simple Java program, JDB hangs, whereas when the main program is not instrumented with Frida, I can attach JDB easily and it works flawlessly.\r\n\r\nDo you know what migth cause this behavior ? Any workaround ?\r\n\r\nNB : answering the above interrogations will help me towards understanding the Frida magic regarding re-implementing Java methods, but if you know precisely how Frida does that do not hesitate to reach out.  \r\nAs far as I know :\r\n- Frida compiles my javascript code into C\r\n- it injects it in frida-agent.so\r\n- it replaces the function pointer of the original method with a pointer towards the native code in frida-agent.so ?? *This is the part I do not understand. I assume it works like this (opposed to adding a call to a subroutine in frida-agent.so at the first line of `Main.a`) because I inspected the bytecode of `Main.a` before and after reimplementation, and it stays exactly the same.*\r\n- When I call `this.a` in the new implementation, it calls back to the original location of `Main.a`\r\n\r\nI do not understand why that would break the debugging interface.","title":"Trouble running Frida together with JDB on a Java program","body":"<p>In my quest to understand the Frida magic regarding re-implementing methods, I am having trouble running JDB in parallel with Frida on a simple Java application.</p>\n<p>The Frida script is as follows, only adding logs when passing through the method <code>Main.a</code> :</p>\n<pre class=\"lang-js prettyprint-override\"><code>Java.perform(() =&gt; {\n    Java.use(&quot;Main&quot;).a.overload(&quot;java.lang.String&quot;).implementation = function(s) {\n        console.log('hooked!');\n        this.a(s);\n    };\n\n})\n</code></pre>\n<p>This alone works perfectly. However, when I try to attach JDB to the simple Java program, JDB hangs, whereas when the main program is not instrumented with Frida, I can attach JDB easily and it works flawlessly.</p>\n<p>Do you know what migth cause this behavior ? Any workaround ?</p>\n<p>NB : answering the above interrogations will help me towards understanding the Frida magic regarding re-implementing Java methods, but if you know precisely how Frida does that do not hesitate to reach out.<br />\nAs far as I know :</p>\n<ul>\n<li>Frida compiles my javascript code into C</li>\n<li>it injects it in frida-agent.so</li>\n<li>it replaces the function pointer of the original method with a pointer towards the native code in frida-agent.so ?? <em>This is the part I do not understand. I assume it works like this (opposed to adding a call to a subroutine in frida-agent.so at the first line of <code>Main.a</code>) because I inspected the bytecode of <code>Main.a</code> before and after reimplementation, and it stays exactly the same.</em></li>\n<li>When I call <code>this.a</code> in the new implementation, it calls back to the original location of <code>Main.a</code></li>\n</ul>\n<p>I do not understand why that would break the debugging interface.</p>\n"},{"tags":["java","spring","spring-mvc","autowired","session-scope"],"answers":[{"tags":[],"owner":{"account_id":5396611,"reputation":372,"user_id":4297651,"accept_rate":80,"display_name":"Dargenn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546947019,"creation_date":1546947019,"answer_id":54090909,"question_id":54090358,"body_markdown":"You are autowiring by constructor, so the usage of word `final` does not change anything in this case. By annotating `UserSessionDetails` as session scoped bean, and injecting it into `SomeServiceImpl` spring generates a proxy. Any call from your service, is being delegated into `UserSessionDetails` bean.","title":"How does Spring autowire session scoped beans?","body":"<p>You are autowiring by constructor, so the usage of word <code>final</code> does not change anything in this case. By annotating <code>UserSessionDetails</code> as session scoped bean, and injecting it into <code>SomeServiceImpl</code> spring generates a proxy. Any call from your service, is being delegated into <code>UserSessionDetails</code> bean.</p>\n"},{"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1546947802,"creation_date":1546947802,"answer_id":54091119,"question_id":54090358,"body_markdown":"&gt; I wonder how Spring is able to do this?\r\n\r\n`SomeServiceImpl` is a singleton, so it should be assembled at startup. Assembling a bean means injecting all required dependencies to it. Although some candidates may have the scope different from the singleton scope, they still have to be provided. For such beans, Spring creates proxies. A proxy is basically a meaningless wrapper until some context comes.\r\n\r\n&gt; if I use final keyword and use constructor injection, Spring is still able to autowire the object.\r\n\r\nSpring supports constructor-based injection. It examines the signature and looks up candidates to inject; the modifiers of a field don&#39;t matter.\r\n\r\n&gt; Is it good practice the using session objects in Service layer? Or am I free to use these objects in Controller and Service layers?\r\n\r\nAs long as the service is web-oriented and session-concerned, you are free to inject session-scoped beans to it.","title":"How does Spring autowire session scoped beans?","body":"<blockquote>\n  <p>I wonder how Spring is able to do this?</p>\n</blockquote>\n\n<p><code>SomeServiceImpl</code> is a singleton, so it should be assembled at startup. Assembling a bean means injecting all required dependencies to it. Although some candidates may have the scope different from the singleton scope, they still have to be provided. For such beans, Spring creates proxies. A proxy is basically a meaningless wrapper until some context comes.</p>\n\n<blockquote>\n  <p>if I use final keyword and use constructor injection, Spring is still able to autowire the object.</p>\n</blockquote>\n\n<p>Spring supports constructor-based injection. It examines the signature and looks up candidates to inject; the modifiers of a field don't matter.</p>\n\n<blockquote>\n  <p>Is it good practice the using session objects in Service layer? Or am I free to use these objects in Controller and Service layers?</p>\n</blockquote>\n\n<p>As long as the service is web-oriented and session-concerned, you are free to inject session-scoped beans to it.</p>\n"}],"owner":{"account_id":14238509,"reputation":65,"user_id":10285633,"display_name":"mnesimi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1778,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54091119,"answer_count":2,"score":3,"last_activity_date":1633444530,"creation_date":1546945203,"question_id":54090358,"body_markdown":"I&#39;m currently working with session objects. In service layer I&#39;m autowiring session scoped bean. And I wonder how Spring is able to do this? And more interesting part, even if I use final keyword and use constructor injection, Spring is still able to autowire the object.\r\n\r\n    @Service\r\n    public class SomeServiceImpl implements SomeService {\r\n    \r\n        private final UserSessionDetails userSessionDetails;\r\n    \r\n        @Autowired\r\n        public SomeServiceImpl(final UserSessionDetails userSessionDetails) {\r\n            this.userSessionDetails = userSessionDetails;\r\n        }\r\n    }\r\n\r\nAnd my other question is; Is it good practice the using session objects in Service layer? Or am I free to use these objects in Controller and Service layers?","title":"How does Spring autowire session scoped beans?","body":"<p>I'm currently working with session objects. In service layer I'm autowiring session scoped bean. And I wonder how Spring is able to do this? And more interesting part, even if I use final keyword and use constructor injection, Spring is still able to autowire the object.</p>\n\n<pre><code>@Service\npublic class SomeServiceImpl implements SomeService {\n\n    private final UserSessionDetails userSessionDetails;\n\n    @Autowired\n    public SomeServiceImpl(final UserSessionDetails userSessionDetails) {\n        this.userSessionDetails = userSessionDetails;\n    }\n}\n</code></pre>\n\n<p>And my other question is; Is it good practice the using session objects in Service layer? Or am I free to use these objects in Controller and Service layers?</p>\n"},{"tags":["java","junit","stream"],"comments":[{"owner":{"account_id":21036567,"reputation":155,"user_id":15459894,"display_name":"Ricardo Petronilho"},"score":0,"creation_date":1633083044,"post_id":69403973,"comment_id":122671219,"body_markdown":"Hi, just to make sure, you want to compare only the Id, or the whole UserDto object?","body":"Hi, just to make sure, you want to compare only the Id, or the whole UserDto object?"},{"owner":{"account_id":22236261,"reputation":75,"user_id":16471569,"display_name":"fat_pikachu"},"score":0,"creation_date":1633083264,"post_id":69403973,"comment_id":122671309,"body_markdown":"for now I just need to compare only id","body":"for now I just need to compare only id"}],"answers":[{"tags":[],"owner":{"account_id":21036567,"reputation":155,"user_id":15459894,"display_name":"Ricardo Petronilho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633444338,"creation_date":1633084880,"answer_id":69404541,"question_id":69403973,"body_markdown":"There are many ways to do that assertion. You could override equals() in UserDto class.\r\n```java\r\n@Override\r\npublic boolean equals(Object o) {\r\n    if (this == o) return true;\r\n    if (o == null || this.getClass() != o.getClass()) return false;\r\n    UserDto userDto = (UserDto) o;\r\n    return this.id.equals(userDto.id);\r\n}\r\n```\r\nAnd implement a Comparator for UserDto class. This is going to be used to sort both lists.\r\n```java\r\npublic class UserDtoComparatorById implements Comparator&lt;UserDto&gt; {\r\n    @Override\r\n    public int compare(UserDto o1, UserDto o2) {\r\n        return o1.getId().compareTo(o2.getId());\r\n    }\r\n}\r\n```\r\nFinally.\r\n```java\r\n@Test\r\nvoid findAllUsers() {\r\n    when(userService.findAll()).thenReturn(sampleUsers());\r\n    ResponseEntity&lt;List&lt;UserDto&gt;&gt; responseEntity = userController.findAll();\r\n\r\n    //first assert\r\n    assertEquals(responseEntity.getStatusCode().value(), 200);\r\n\r\n    //second assert (this is optional)\r\n    assertEquals(responseEntity.getBody().size(), sampleUsers().size());\r\n   \r\n    // to prevent false negatives, in case both lists have same objects\r\n    // but different orders \r\n    Comparator&lt;UserDto&gt; comparator = new UserDtoComparatorById();\r\n    sampleUsers.sort(comparator);\r\n    responseEntity.getBody().sort(comparator);\r\n\r\n    //third assert\r\n    assertEquals(responseEntity.getBody(), sampleUsers);\r\n\r\n    //same assertion but using streams\r\n    AtomicInteger i = new AtomicInteger(0);\r\n    assertEquals(\r\n        list1.stream()\r\n             .filter(user -&gt; user.equals(list2.get(i.getAndIncrement())))\r\n             // or: filter(user -&gt; user.getId().equals(list2.get(i.getAndIncrement()).getId()))\r\n             .count(), \r\n        list1.size()\r\n    );\r\n}\r\n```\r\nThe third assert will work because both lists are **sorted** and assertEquals() will invoke **UserDto.equals()** for each element in the same position. As UserDto.equals() is overridden to check only `UserDto.id`, it will check the `id` instead of the `Object pointer` (address in memory), therefore returning true.\r\n\r\nNote that in the second alternative you can not use `int i` because variables inside lambda functions need to be final. A simple workaround is using `AtomicInteger`.","title":"How to compare two lists in stream","body":"<p>There are many ways to do that assertion. You could override equals() in UserDto class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || this.getClass() != o.getClass()) return false;\n    UserDto userDto = (UserDto) o;\n    return this.id.equals(userDto.id);\n}\n</code></pre>\n<p>And implement a Comparator for UserDto class. This is going to be used to sort both lists.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserDtoComparatorById implements Comparator&lt;UserDto&gt; {\n    @Override\n    public int compare(UserDto o1, UserDto o2) {\n        return o1.getId().compareTo(o2.getId());\n    }\n}\n</code></pre>\n<p>Finally.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid findAllUsers() {\n    when(userService.findAll()).thenReturn(sampleUsers());\n    ResponseEntity&lt;List&lt;UserDto&gt;&gt; responseEntity = userController.findAll();\n\n    //first assert\n    assertEquals(responseEntity.getStatusCode().value(), 200);\n\n    //second assert (this is optional)\n    assertEquals(responseEntity.getBody().size(), sampleUsers().size());\n   \n    // to prevent false negatives, in case both lists have same objects\n    // but different orders \n    Comparator&lt;UserDto&gt; comparator = new UserDtoComparatorById();\n    sampleUsers.sort(comparator);\n    responseEntity.getBody().sort(comparator);\n\n    //third assert\n    assertEquals(responseEntity.getBody(), sampleUsers);\n\n    //same assertion but using streams\n    AtomicInteger i = new AtomicInteger(0);\n    assertEquals(\n        list1.stream()\n             .filter(user -&gt; user.equals(list2.get(i.getAndIncrement())))\n             // or: filter(user -&gt; user.getId().equals(list2.get(i.getAndIncrement()).getId()))\n             .count(), \n        list1.size()\n    );\n}\n</code></pre>\n<p>The third assert will work because both lists are <strong>sorted</strong> and assertEquals() will invoke <strong>UserDto.equals()</strong> for each element in the same position. As UserDto.equals() is overridden to check only <code>UserDto.id</code>, it will check the <code>id</code> instead of the <code>Object pointer</code> (address in memory), therefore returning true.</p>\n<p>Note that in the second alternative you can not use <code>int i</code> because variables inside lambda functions need to be final. A simple workaround is using <code>AtomicInteger</code>.</p>\n"},{"tags":[],"owner":{"account_id":19505030,"reputation":161,"user_id":14270265,"display_name":"Mohit Badve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633086923,"creation_date":1633086923,"answer_id":69404980,"question_id":69403973,"body_markdown":"One way is to assert each element of the stream separately which can be done with the help of following code. You can write a function for asserting streams.\r\n\r\n    static void assertStreamEquals(Stream&lt;User&gt; s1, Stream&lt;User&gt; s2) {\r\n        Iterator&lt;Student&gt; iter1 = s1.iterator(), iter2 = s2.iterator();\r\n        while(iter1.hasNext() &amp;&amp; iter2.hasNext())\r\n            assertEquals(iter1.next().id, iter2.next().id);\r\n        assert !iter1.hasNext() &amp;&amp; !iter2.hasNext();\r\n    }\r\n\r\nand call it by passing your two streams.\r\n\r\n    @Test\r\n    void findAllUsers() {\r\n        when(userService.findAll()).thenReturn(sampleUsers());\r\n\t    ResponseEntity&lt;List&lt;UserDto&gt;&gt; responseEntity = userController.findAll();\r\n\r\n\t    //first assert\r\n\t    assertEquals(responseEntity.getStatusCode().value(), 200);\r\n\r\n\t    //second assert\r\n\t    assertEquals(responseEntity.getBody().size(), sampleUsers().size());\r\n\r\n\t    //third assert\r\n\t    assertStreamEquals(responseEntity.getBody(),sampleUsers);\r\n\r\n(Assuming User is the class name for users)","title":"How to compare two lists in stream","body":"<p>One way is to assert each element of the stream separately which can be done with the help of following code. You can write a function for asserting streams.</p>\n<pre><code>static void assertStreamEquals(Stream&lt;User&gt; s1, Stream&lt;User&gt; s2) {\n    Iterator&lt;Student&gt; iter1 = s1.iterator(), iter2 = s2.iterator();\n    while(iter1.hasNext() &amp;&amp; iter2.hasNext())\n        assertEquals(iter1.next().id, iter2.next().id);\n    assert !iter1.hasNext() &amp;&amp; !iter2.hasNext();\n}\n</code></pre>\n<p>and call it by passing your two streams.</p>\n<pre><code>@Test\nvoid findAllUsers() {\n    when(userService.findAll()).thenReturn(sampleUsers());\n    ResponseEntity&lt;List&lt;UserDto&gt;&gt; responseEntity = userController.findAll();\n\n    //first assert\n    assertEquals(responseEntity.getStatusCode().value(), 200);\n\n    //second assert\n    assertEquals(responseEntity.getBody().size(), sampleUsers().size());\n\n    //third assert\n    assertStreamEquals(responseEntity.getBody(),sampleUsers);\n</code></pre>\n<p>(Assuming User is the class name for users)</p>\n"}],"owner":{"account_id":22236261,"reputation":75,"user_id":16471569,"display_name":"fat_pikachu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69404541,"answer_count":2,"score":1,"last_activity_date":1633444338,"creation_date":1633082269,"question_id":69403973,"body_markdown":"I want to compare (assert equals) for training purposes two lists in stream. So every id from sampleUsers() with every id from body of response entity should be compared. Should I create another stream? If yes then how to use it?\r\n\r\n    @Test\r\n      void findAllUsers() {\r\n        when(userService.findAll()).thenReturn(sampleUsers());\r\n        ResponseEntity&lt;List&lt;UserDto&gt;&gt; responseEntity = userController.findAll();\r\n    \r\n        //first assert\r\n        assertEquals(responseEntity.getStatusCode().value(), 200);\r\n\r\n        //second assert\r\n        assertEquals(responseEntity.getBody().size(), sampleUsers().size());\r\n\r\n        //third assert\r\n        responseEntity.getBody().stream()\r\n              .filter(user -&gt; user.getId() != null)\r\n              .filter(user -&gt; user.getUsername() != null)\r\n              //TODO check for each user if: \r\n              //     user.getId is equal to id from sampleUsers() list\r\n              //     something like: assert equals user.getId(), sampleUsers.get(0).getId()\r\n        }","title":"How to compare two lists in stream","body":"<p>I want to compare (assert equals) for training purposes two lists in stream. So every id from sampleUsers() with every id from body of response entity should be compared. Should I create another stream? If yes then how to use it?</p>\n<pre><code>@Test\n  void findAllUsers() {\n    when(userService.findAll()).thenReturn(sampleUsers());\n    ResponseEntity&lt;List&lt;UserDto&gt;&gt; responseEntity = userController.findAll();\n\n    //first assert\n    assertEquals(responseEntity.getStatusCode().value(), 200);\n\n    //second assert\n    assertEquals(responseEntity.getBody().size(), sampleUsers().size());\n\n    //third assert\n    responseEntity.getBody().stream()\n          .filter(user -&gt; user.getId() != null)\n          .filter(user -&gt; user.getUsername() != null)\n          //TODO check for each user if: \n          //     user.getId is equal to id from sampleUsers() list\n          //     something like: assert equals user.getId(), sampleUsers.get(0).getId()\n    }\n</code></pre>\n"},{"tags":["java","postgresql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":10642195,"reputation":5360,"user_id":7836833,"display_name":"deepakchethan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633443857,"creation_date":1633442719,"answer_id":69451949,"question_id":69451823,"body_markdown":"You should be using `JsonBinaryType.class` or `JsonStringType.class` for the type `json` and `JsonType.class` is not a type that comes out of the box.\r\n\r\n```\r\n@TypeDefs({\r\n  @TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType.class)\r\n})\r\npublic class BaseEntity {\r\n   @Type(type = &quot;json&quot;)\r\n   @Column(columnDefinition = &quot;json&quot;)\r\n   private BusinessHours businessHours;\r\n}\r\n```\r\nYou can create a wrapper class that stores the businessHours as follows:\r\n```\r\npublic class BusinessHours implements Serializable {\r\n    private Map&lt;String, String&gt; businessHours; \r\n}\r\n\r\n```\r\n","title":"how create json type for java Map interface in entity","body":"<p>You should be using <code>JsonBinaryType.class</code> or <code>JsonStringType.class</code> for the type <code>json</code> and <code>JsonType.class</code> is not a type that comes out of the box.</p>\n<pre><code>@TypeDefs({\n  @TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType.class)\n})\npublic class BaseEntity {\n   @Type(type = &quot;json&quot;)\n   @Column(columnDefinition = &quot;json&quot;)\n   private BusinessHours businessHours;\n}\n</code></pre>\n<p>You can create a wrapper class that stores the businessHours as follows:</p>\n<pre><code>public class BusinessHours implements Serializable {\n    private Map&lt;String, String&gt; businessHours; \n}\n\n</code></pre>\n"}],"owner":{"account_id":22580947,"reputation":31,"user_id":16765590,"display_name":"Jack Nickelson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633443857,"creation_date":1633442202,"question_id":69451823,"body_markdown":"I have this field \r\n\r\n       @Type(type = &quot;json&quot;)\r\n    @Column(columnDefinition = &quot;json&quot;)\r\n    private Map&lt;String, String&gt; businessHours;\r\n\r\n\r\nand this is on top of my class\r\n\r\n\r\n        \r\n    @TypeDefs({\r\n            @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)//this is error\r\n    })\r\nand this is migartion\r\n\r\n   \r\n\r\n     alter table properties alter column business_houres type json USING business_hours::json;\r\n\r\nbut it can&#39;t understand JsonType it is red ","title":"how create json type for java Map interface in entity","body":"<p>I have this field</p>\n<pre><code>   @Type(type = &quot;json&quot;)\n@Column(columnDefinition = &quot;json&quot;)\nprivate Map&lt;String, String&gt; businessHours;\n</code></pre>\n<p>and this is on top of my class</p>\n<pre><code>@TypeDefs({\n        @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)//this is error\n})\n</code></pre>\n<p>and this is migartion</p>\n<pre><code> alter table properties alter column business_houres type json USING business_hours::json;\n</code></pre>\n<p>but it can't understand JsonType it is red</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1633402238,"post_id":69444296,"comment_id":122743814,"body_markdown":"You could simply change the character at index `i` to an asterisk for each index in the array `[1,2,4,5,6,7,8,10,11,12,13,14]`.","body":"You could simply change the character at index <code>i</code> to an asterisk for each index in the array <code>[1,2,4,5,6,7,8,10,11,12,13,14]</code>."},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1633402375,"post_id":69444296,"comment_id":122743840,"body_markdown":"@CarySwoveland Strings in Java are immutable, so we can&#39;t really do that.","body":"@CarySwoveland Strings in Java are immutable, so we can&#39;t really do that."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1633402515,"post_id":69444296,"comment_id":122743867,"body_markdown":"@Tim, how about creating a new string whose ith character is the ith character in the original string or an asterisk, depending on whether the index is in the array in my first comment?","body":"@Tim, how about creating a new string whose ith character is the ith character in the original string or an asterisk, depending on whether the index is in the array in my first comment?"},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1633402572,"post_id":69444296,"comment_id":122743873,"body_markdown":"Java probably gets a much lower grade than Ruby or Python when it comes to beautiful and concise string manipulation syntax.","body":"Java probably gets a much lower grade than Ruby or Python when it comes to beautiful and concise string manipulation syntax."},{"owner":{"display_name":"user10586382"},"score":0,"creation_date":1633402577,"post_id":69444296,"comment_id":122743875,"body_markdown":"@CarySwoveland the thing is that i want to use only regex because I have different type of data, and I don&#39;t want to create different functions for each type of data","body":"@CarySwoveland the thing is that i want to use only regex because I have different type of data, and I don&#39;t want to create different functions for each type of data"},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1633402794,"post_id":69444296,"comment_id":122743912,"body_markdown":"zozo, I guess I don&#39;t understand the *rule* for where to put the asterisks if the string is not necessarily 3 digits, a hyphen, 5 digits, a hyphen, 7 digits.","body":"zozo, I guess I don&#39;t understand the <i>rule</i> for where to put the asterisks if the string is not necessarily 3 digits, a hyphen, 5 digits, a hyphen, 7 digits."},{"owner":{"display_name":"user10586382"},"score":0,"creation_date":1633402858,"post_id":69444296,"comment_id":122743924,"body_markdown":"@CarySwoveland Here is the rule for this one :\nThe first group is always 3 digit (replace by * the 2 last digits)\nThe second is always 5 digit (replace by * the 5 digits\nThe last groupe is always 7 digit (replace by * the 5 first digit)","body":"@CarySwoveland Here is the rule for this one : The first group is always 3 digit (replace by * the 2 last digits) The second is always 5 digit (replace by * the 5 digits The last groupe is always 7 digit (replace by * the 5 first digit)"},{"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"score":1,"creation_date":1633403076,"post_id":69444296,"comment_id":122743960,"body_markdown":"@zozonenete you should detect type of pattern and replace each type by mapper between type to regex of replacement","body":"@zozonenete you should detect type of pattern and replace each type by mapper between type to regex of replacement"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633402986,"creation_date":1633401620,"answer_id":69444343,"question_id":69444296,"body_markdown":"We can use the following regex replacement approach:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;123-12345-1234567&quot;;\r\n    String output = input.substring(0, 1) +\r\n                    input.substring(1, input.length()-2).replaceAll(&quot;\\\\d&quot;, &quot;*&quot;) +\r\n                    input.substring(input.length()-2);\r\n    System.out.println(output);  // 1**-*****-*****67\r\n\r\nHere we concatenate together the first digit, followed by the middle portion with all digits replaced by `*`, along with the final two digits.\r\n\r\n**Edit:** A pure regex solution, which, however, is more lines of code than the above and might be less performant.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;123-12345-1234567&quot;;\r\n    String pattern = &quot;^(\\\\d)(.*)(\\\\d{2})$&quot;;\r\n    Pattern r = Pattern.compile(pattern);\r\n    Matcher m = r.matcher(input);\r\n    if (m.find()) {\r\n        String output = m.group(1) + m.group(2).replaceAll(&quot;\\\\d&quot;, &quot;*&quot;) + m.group(3);\r\n        System.out.println(output);  // 1**-*****-*****67\r\n    }","title":"Partially mask data of a group of number using regex","body":"<p>We can use the following regex replacement approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;123-12345-1234567&quot;;\nString output = input.substring(0, 1) +\n                input.substring(1, input.length()-2).replaceAll(&quot;\\\\d&quot;, &quot;*&quot;) +\n                input.substring(input.length()-2);\nSystem.out.println(output);  // 1**-*****-*****67\n</code></pre>\n<p>Here we concatenate together the first digit, followed by the middle portion with all digits replaced by <code>*</code>, along with the final two digits.</p>\n<p><strong>Edit:</strong> A pure regex solution, which, however, is more lines of code than the above and might be less performant.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;123-12345-1234567&quot;;\nString pattern = &quot;^(\\\\d)(.*)(\\\\d{2})$&quot;;\nPattern r = Pattern.compile(pattern);\nMatcher m = r.matcher(input);\nif (m.find()) {\n    String output = m.group(1) + m.group(2).replaceAll(&quot;\\\\d&quot;, &quot;*&quot;) + m.group(3);\n    System.out.println(output);  // 1**-*****-*****67\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633443777,"creation_date":1633419481,"answer_id":69446493,"question_id":69444296,"body_markdown":"    public static void main(String[] args) {\r\n        System.out.println(&quot;123-12345-1234567&quot;.replaceAll(&quot;(?&lt;=.{1,})\\\\d(?=.{3,})&quot;, &quot;*&quot;));\r\n        System.out.println(&quot;AAAAAAAAA&quot;.replaceAll(&quot;.(?=.{2,})&quot;, &quot;*&quot;));\r\n        System.out.println(&quot;12334567&quot;.replaceAll(&quot;(?&lt;=.{3,}).&quot;, &quot;*&quot;));\r\n    }\r\n\r\noutput:\r\n\r\n    1**-*****-*****67\r\n    *******AA\r\n    123*****\r\n\r\n","title":"Partially mask data of a group of number using regex","body":"<pre><code>public static void main(String[] args) {\n    System.out.println(&quot;123-12345-1234567&quot;.replaceAll(&quot;(?&lt;=.{1,})\\\\d(?=.{3,})&quot;, &quot;*&quot;));\n    System.out.println(&quot;AAAAAAAAA&quot;.replaceAll(&quot;.(?=.{2,})&quot;, &quot;*&quot;));\n    System.out.println(&quot;12334567&quot;.replaceAll(&quot;(?&lt;=.{3,}).&quot;, &quot;*&quot;));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>1**-*****-*****67\n*******AA\n123*****\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633438985,"creation_date":1633422946,"answer_id":69447229,"question_id":69444296,"body_markdown":"Java supports a fixed quantifier in a lookbehind, so what you might do is use a pattern with an alternation to account for the different scenario&#39;s if you must use a regex only.\r\n\r\nUsing the lookarounds you can select a single character to be replaced by `*`\r\n\r\n**Note** that this is hard to maintain, and it would be a better option to write separate functions for the different data formats using separate patterns or string functions (perhaps accompanied by unit tests)\r\n\r\n    (?&lt;=^\\d{3,7})\\d(?=\\d*$)|(?&lt;=^[A-Z]{0,6})[A-Z](?=[A-Z]*$)|\\d(?&lt;=^\\d{2,3})(?=\\d?-\\d{5}-\\d{7}$)|\\d(?&lt;=^\\d{3}-\\d{1,5}(?:-\\d{1,5})?)\r\n\r\nThe separate parts match:\r\n\r\n- `(?&lt;=^\\d{3,7})\\d(?=\\d*$)` Match a digit asserting 3-7 digits to the left and only digits to the right\r\n- `|` Or\r\n- `(?&lt;=^[A-Z]{0,6})[A-Z](?=[A-Z]*$)` Match A-Z asserting 0-6 chars to the left and only chars A-Z to the right\r\n- `|` Or\r\n- `\\d(?&lt;=^\\d{2,3})(?=\\d?-\\d{5}-\\d{7}$)` Match a digit asserting 2-3 digits to the left and optional digit, - with 5 digits and - with 7 digits to the right\r\n- `|` Or\r\n- `\\d(?&lt;=^\\d{3}-\\d{1,5}(?:-\\d{1,5})?)` Match a digit asserting 3 digits to the left followed - and 1-5 digits and optionally - with 1-5 digits\r\n\r\n[Regex demo](https://regex101.com/r/zUG5F6/1) | [Java demo](https://ideone.com/OsQxt3)\r\n\r\n    String regex = &quot;(?&lt;=^\\\\d{3,7})\\\\d(?=\\\\d*$)|(?&lt;=^[A-Z]{0,6})[A-Z](?=[A-Z]*$)|\\\\d(?&lt;=^\\\\d{2,3})(?=\\\\d?-\\\\d{5}-\\\\d{7}$)|\\\\d(?&lt;=^\\\\d{3}-\\\\d{1,5}(?:-\\\\d{1,5})?)&quot;;\r\n    \r\n    String s1 = &quot;123-12345-1234567&quot;;\r\n    String s2 = &quot;AAAAAAAAA&quot;;\r\n    String s3 = &quot;12334567&quot;;\r\n    \r\n    System.out.println(s1.replaceAll(regex, &quot;*&quot;));\r\n    System.out.println(s2.replaceAll(regex, &quot;*&quot;));\r\n    System.out.println(s3.replaceAll(regex, &quot;*&quot;));\r\n\r\nOutput\r\n\r\n    1**-*****-*****67\r\n    *******AA\r\n    123*****","title":"Partially mask data of a group of number using regex","body":"<p>Java supports a fixed quantifier in a lookbehind, so what you might do is use a pattern with an alternation to account for the different scenario's if you must use a regex only.</p>\n<p>Using the lookarounds you can select a single character to be replaced by <code>*</code></p>\n<p><strong>Note</strong> that this is hard to maintain, and it would be a better option to write separate functions for the different data formats using separate patterns or string functions (perhaps accompanied by unit tests)</p>\n<pre><code>(?&lt;=^\\d{3,7})\\d(?=\\d*$)|(?&lt;=^[A-Z]{0,6})[A-Z](?=[A-Z]*$)|\\d(?&lt;=^\\d{2,3})(?=\\d?-\\d{5}-\\d{7}$)|\\d(?&lt;=^\\d{3}-\\d{1,5}(?:-\\d{1,5})?)\n</code></pre>\n<p>The separate parts match:</p>\n<ul>\n<li><code>(?&lt;=^\\d{3,7})\\d(?=\\d*$)</code> Match a digit asserting 3-7 digits to the left and only digits to the right</li>\n<li><code>|</code> Or</li>\n<li><code>(?&lt;=^[A-Z]{0,6})[A-Z](?=[A-Z]*$)</code> Match A-Z asserting 0-6 chars to the left and only chars A-Z to the right</li>\n<li><code>|</code> Or</li>\n<li><code>\\d(?&lt;=^\\d{2,3})(?=\\d?-\\d{5}-\\d{7}$)</code> Match a digit asserting 2-3 digits to the left and optional digit, - with 5 digits and - with 7 digits to the right</li>\n<li><code>|</code> Or</li>\n<li><code>\\d(?&lt;=^\\d{3}-\\d{1,5}(?:-\\d{1,5})?)</code> Match a digit asserting 3 digits to the left followed - and 1-5 digits and optionally - with 1-5 digits</li>\n</ul>\n<p><a href=\"https://regex101.com/r/zUG5F6/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/OsQxt3\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<pre><code>String regex = &quot;(?&lt;=^\\\\d{3,7})\\\\d(?=\\\\d*$)|(?&lt;=^[A-Z]{0,6})[A-Z](?=[A-Z]*$)|\\\\d(?&lt;=^\\\\d{2,3})(?=\\\\d?-\\\\d{5}-\\\\d{7}$)|\\\\d(?&lt;=^\\\\d{3}-\\\\d{1,5}(?:-\\\\d{1,5})?)&quot;;\n\nString s1 = &quot;123-12345-1234567&quot;;\nString s2 = &quot;AAAAAAAAA&quot;;\nString s3 = &quot;12334567&quot;;\n\nSystem.out.println(s1.replaceAll(regex, &quot;*&quot;));\nSystem.out.println(s2.replaceAll(regex, &quot;*&quot;));\nSystem.out.println(s3.replaceAll(regex, &quot;*&quot;));\n</code></pre>\n<p>Output</p>\n<pre><code>1**-*****-*****67\n*******AA\n123*****\n</code></pre>\n"}],"owner":{"display_name":"user10586382"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69447229,"answer_count":3,"score":1,"last_activity_date":1633443777,"creation_date":1633401255,"question_id":69444296,"body_markdown":"I would like to partially mask data using regex. Here is the input :\r\n\r\n    123-12345-1234567\r\n\r\nAnd here is what I&#39;d like as output :\r\n\r\n    1**-*****-*****67\r\n \r\nI figure out how to replace for the last group but I don&#39;t know to do for the rest of the data.\r\n\r\n    String s = &quot;123-12345-1234567&quot;;\r\n    System.out.println(s.replaceAll(&quot;\\\\d(?=\\\\d{2})&quot;, &quot;*&quot;)); // output is *23-***45-*****67\r\n\r\nAlso, I&#39;d like to use only regex because I have different type of data, so different type of mask. I don&#39;t want to create functions for each type of data.\r\n\r\nFor example :\r\n\r\n    AAAAAAAAA // becomes ********AA\r\n    \r\n    12334567 // becomes 123******\r\n\r\nThanks for your help !\r\n","title":"Partially mask data of a group of number using regex","body":"<p>I would like to partially mask data using regex. Here is the input :</p>\n<pre><code>123-12345-1234567\n</code></pre>\n<p>And here is what I'd like as output :</p>\n<pre><code>1**-*****-*****67\n</code></pre>\n<p>I figure out how to replace for the last group but I don't know to do for the rest of the data.</p>\n<pre><code>String s = &quot;123-12345-1234567&quot;;\nSystem.out.println(s.replaceAll(&quot;\\\\d(?=\\\\d{2})&quot;, &quot;*&quot;)); // output is *23-***45-*****67\n</code></pre>\n<p>Also, I'd like to use only regex because I have different type of data, so different type of mask. I don't want to create functions for each type of data.</p>\n<p>For example :</p>\n<pre><code>AAAAAAAAA // becomes ********AA\n\n12334567 // becomes 123******\n</code></pre>\n<p>Thanks for your help !</p>\n"},{"tags":["java","html","swing","border"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1633297228,"post_id":69428996,"comment_id":122716145,"body_markdown":"Swing only supports HTML 3.5 and limited CSS, this may be one of those limitations","body":"Swing only supports HTML 3.5 and limited CSS, this may be one of those limitations"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1633308593,"post_id":69428996,"comment_id":122717616,"body_markdown":"*I would like to frame only single words, not a whole line or paragraph.* - then your example should show that. Your current example can easily be implemented with normal text in the JLabel and a Border.  I can&#39;t tell exactly what you expect to see when you &quot;frame&quot; only single words in a sentence. I don&#39;t know anything about HTML, but maybe other approaches can be used to achieve your desired effect.","body":"<i>I would like to frame only single words, not a whole line or paragraph.</i> - then your example should show that. Your current example can easily be implemented with normal text in the JLabel and a Border.  I can&#39;t tell exactly what you expect to see when you &quot;frame&quot; only single words in a sentence. I don&#39;t know anything about HTML, but maybe other approaches can be used to achieve your desired effect."},{"owner":{"account_id":11415665,"reputation":214,"user_id":8368531,"display_name":"J&#246;rg"},"score":0,"creation_date":1633375821,"post_id":69428996,"comment_id":122738578,"body_markdown":"@camickr Yes, your comment on the example is right.  So I updated the code. - The goal is to render the text that it looks like a small button, thus being an eye catcher. Html can paint buttons, but java supports only those buttons which are operable, meaning you can really press them. For a help text, however, I prefer dead buttons. Apart from the html table solution I could also display a graphics file, which I had to create for each and every button then - not very appealing as rather time consuming.","body":"@camickr Yes, your comment on the example is right.  So I updated the code. - The goal is to render the text that it looks like a small button, thus being an eye catcher. Html can paint buttons, but java supports only those buttons which are operable, meaning you can really press them. For a help text, however, I prefer dead buttons. Apart from the html table solution I could also display a graphics file, which I had to create for each and every button then - not very appealing as rather time consuming."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1633380829,"post_id":69428996,"comment_id":122740346,"body_markdown":"Try the HTML based &lt;kbd&gt;kbd&lt;/kbd&gt; element..","body":"Try the HTML based &lt;kbd&gt;kbd&lt;/kbd&gt; element.."},{"owner":{"account_id":11415665,"reputation":214,"user_id":8368531,"display_name":"J&#246;rg"},"score":0,"creation_date":1633382112,"post_id":69428996,"comment_id":122740695,"body_markdown":"@Andrew Thompson Thanks for the suggestion, but the tag renders only the typeface of the text to Monospace, both in Firefox and in Java.","body":"@Andrew Thompson Thanks for the suggestion, but the tag renders only the typeface of the text to Monospace, both in Firefox and in Java."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1633382964,"post_id":69428996,"comment_id":122740899,"body_markdown":"You could always use styles to make it look more button-like. My apologies BTW - I&#39;d have made a quick example of what I mean (and tested it) but my IDE is newly installed and I&#39;m having some problem identifying the Swing packages.","body":"You could always use styles to make it look more button-like. My apologies BTW - I&#39;d have made a quick example of what I mean (and tested it) but my IDE is newly installed and I&#39;m having some problem identifying the Swing packages."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633443578,"creation_date":1633404581,"answer_id":69444602,"question_id":69428996,"body_markdown":"Don&#39;t know where you get your HTML from or how you build it.\r\n\r\nMaybe you can use a `JTextPane` with a custom `Painter`:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.text.*;\r\n    import javax.swing.border.*;\r\n    \r\n    public class TextPaneInsert2\r\n    {\r\n    \tprivate static void createAndShowGUI()\r\n    \t{\r\n    \t\tJTextPane textPane = new JTextPane();\r\n    \t\ttextPane.setText(&quot;Please  give  me a frame&quot;);\r\n    \t\ttextPane.setEditable( false );\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tRectanglePainter rp = new RectanglePainter( Color.BLACK );\r\n    \t\t\ttextPane.getHighlighter().addHighlight(7, 13, rp);\r\n    \t\t}\r\n    \t\tcatch (Exception e) {System.out.println(e);}\r\n    \r\n    \t\tJFrame frame = new JFrame(&quot;SSCCE&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.add(textPane, BorderLayout.PAGE_START);\r\n    \t\tframe.add(textPane, BorderLayout.PAGE_END);\r\n    \t\tframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform( true );\r\n    \t\tframe.setVisible( true );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception\r\n    \t{\r\n    \t\tjava.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\r\n    \t}\r\n    }\r\n\r\nThe above code uses the [Rectangle Painter](https://tips4java.wordpress.com/2008/10/28/rectangle-painter/).\r\n\r\nI did a quick change to the `RectanglePainter` to paint both the background and the border:\r\n\r\n\t//  Code is the same as the default highlighter except we use drawRect(...)\r\n    g.setColor(Color.CYAN);\r\n\tg.fillRect(r.x, r.y, r.width, r.height);\r\n\t//g.drawRect(r.x, r.y, r.width - 1, r.height - 1);\r\n    g.setColor(Color.BLACK);\r\n\tg.drawRect(r.x, r.y, r.width - 1, r.height);\r\n\r\nAnd I got:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNote: \r\n\r\n1. I added an extra space before/after the word you want to highlight to get extra padding. \r\n2. Also, not sure why I tested with a JTextPane. You can use any text component, so you could use a JTextField as well.\r\n\r\n  [1]: https://i.stack.imgur.com/shHnc.png","title":"Html text with framed/bordered words in java textComponent","body":"<p>Don't know where you get your HTML from or how you build it.</p>\n<p>Maybe you can use a <code>JTextPane</code> with a custom <code>Painter</code>:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.text.*;\nimport javax.swing.border.*;\n\npublic class TextPaneInsert2\n{\n    private static void createAndShowGUI()\n    {\n        JTextPane textPane = new JTextPane();\n        textPane.setText(&quot;Please  give  me a frame&quot;);\n        textPane.setEditable( false );\n\n        try\n        {\n            RectanglePainter rp = new RectanglePainter( Color.BLACK );\n            textPane.getHighlighter().addHighlight(7, 13, rp);\n        }\n        catch (Exception e) {System.out.println(e);}\n\n        JFrame frame = new JFrame(&quot;SSCCE&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(textPane, BorderLayout.PAGE_START);\n        frame.add(textPane, BorderLayout.PAGE_END);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args) throws Exception\n    {\n        java.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\n    }\n}\n</code></pre>\n<p>The above code uses the <a href=\"https://tips4java.wordpress.com/2008/10/28/rectangle-painter/\" rel=\"nofollow noreferrer\">Rectangle Painter</a>.</p>\n<p>I did a quick change to the <code>RectanglePainter</code> to paint both the background and the border:</p>\n<pre><code>//  Code is the same as the default highlighter except we use drawRect(...)\ng.setColor(Color.CYAN);\ng.fillRect(r.x, r.y, r.width, r.height);\n//g.drawRect(r.x, r.y, r.width - 1, r.height - 1);\ng.setColor(Color.BLACK);\ng.drawRect(r.x, r.y, r.width - 1, r.height);\n</code></pre>\n<p>And I got:</p>\n<p><a href=\"https://i.stack.imgur.com/shHnc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/shHnc.png\" alt=\"enter image description here\" /></a></p>\n<p>Note:</p>\n<ol>\n<li>I added an extra space before/after the word you want to highlight to get extra padding.</li>\n<li>Also, not sure why I tested with a JTextPane. You can use any text component, so you could use a JTextField as well.</li>\n</ol>\n"}],"owner":{"account_id":11415665,"reputation":214,"user_id":8368531,"display_name":"J&#246;rg"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69444602,"answer_count":1,"score":0,"last_activity_date":1633443578,"creation_date":1633296204,"question_id":69428996,"body_markdown":"The html code in the label below is rendered in a browser as expected.&lt;br&gt;\r\nWell, java API states that &quot;border&quot; is not fully supported, but the padding in\r\nthe example doesn&#39;t work either.&lt;br&gt;\r\nAlthough I have little hope, I want to ask whether there is an alternative in\r\nhtml to draw a border.&lt;br&gt;\r\nWhat I found comes closest is a one cell table. There the paddding works, but the thinnest border is quite opulent.&lt;br&gt;\r\nNote that I would like to frame only single words, not a whole line or paragraph. \r\n```\r\nimport javax.swing.*;\r\n\r\npublic class HtmlLabel extends JFrame {\r\n\r\n  public HtmlLabel() {\r\n    setSize(300,200);\r\n    setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    setLocationRelativeTo(null);\r\n    setTitle(&quot;A JLabel with HTML text&quot;);\r\n\r\n    JLabel lb= new JLabel(&quot;&quot;&quot;\r\n\t&lt;html&gt;Please give &lt;span style=&quot;border:1px solid; background:#D8EAFC;\\\r\n\tpadding:5px&quot;&gt;me&lt;/span&gt; a frame.&lt;/html&gt;&quot;&quot;&quot;);\r\n    add(lb);\r\n    setVisible(true);\r\n  }\r\n\r\n  public static void main(String args[]) {\r\n    SwingUtilities.invokeLater(HtmlLabel::new);\r\n  }\r\n\r\n}\r\n```","title":"Html text with framed/bordered words in java textComponent","body":"<p>The html code in the label below is rendered in a browser as expected.<br>\nWell, java API states that &quot;border&quot; is not fully supported, but the padding in\nthe example doesn't work either.<br>\nAlthough I have little hope, I want to ask whether there is an alternative in\nhtml to draw a border.<br>\nWhat I found comes closest is a one cell table. There the paddding works, but the thinnest border is quite opulent.<br>\nNote that I would like to frame only single words, not a whole line or paragraph.</p>\n<pre><code>import javax.swing.*;\n\npublic class HtmlLabel extends JFrame {\n\n  public HtmlLabel() {\n    setSize(300,200);\n    setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    setLocationRelativeTo(null);\n    setTitle(&quot;A JLabel with HTML text&quot;);\n\n    JLabel lb= new JLabel(&quot;&quot;&quot;\n    &lt;html&gt;Please give &lt;span style=&quot;border:1px solid; background:#D8EAFC;\\\n    padding:5px&quot;&gt;me&lt;/span&gt; a frame.&lt;/html&gt;&quot;&quot;&quot;);\n    add(lb);\n    setVisible(true);\n  }\n\n  public static void main(String args[]) {\n    SwingUtilities.invokeLater(HtmlLabel::new);\n  }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":2,"creation_date":1633442830,"post_id":69451954,"comment_id":122757425,"body_markdown":"Please add you not working code and debug information.","body":"Please add you not working code and debug information."},{"owner":{"account_id":11373023,"reputation":4495,"user_id":8338100,"display_name":"jurez"},"score":3,"creation_date":1633442838,"post_id":69451954,"comment_id":122757427,"body_markdown":"Can you show us what you did and describe what exactly is not working well?","body":"Can you show us what you did and describe what exactly is not working well?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1633442870,"post_id":69451954,"comment_id":122757443,"body_markdown":"`ArrayList&lt;String&gt; arrC = new ArrayList&lt;&gt;(arrB); arrC.removeAll(arrA);`.","body":"<code>ArrayList&lt;String&gt; arrC = new ArrayList&lt;&gt;(arrB); arrC.removeAll(arrA);</code>."},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1633442923,"post_id":69451954,"comment_id":122757471,"body_markdown":"If you want to know all elements of `arrB` that are not in `arrA` you just need to **remove all** elements in `arrA` from `arrB`.","body":"If you want to know all elements of <code>arrB</code> that are not in <code>arrA</code> you just need to <b>remove all</b> elements in <code>arrA</code> from <code>arrB</code>."},{"owner":{"account_id":16730831,"reputation":820,"user_id":12093209,"display_name":"qwerty"},"score":1,"creation_date":1633442942,"post_id":69451954,"comment_id":122757481,"body_markdown":"Arrays and instances of the `ArrayList` class are not the same thing.","body":"Arrays and instances of the <code>ArrayList</code> class are not the same thing."},{"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"score":1,"creation_date":1633442950,"post_id":69451954,"comment_id":122757486,"body_markdown":"One minute please, I added if statement inside the loops, but the results are wrong.\n\nI found a solution with String arrays, but I&#39;m trying with ArrayLists.","body":"One minute please, I added if statement inside the loops, but the results are wrong.  I found a solution with String arrays, but I&#39;m trying with ArrayLists."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1633442984,"post_id":69451954,"comment_id":122757502,"body_markdown":"&quot;One minute please, I added if statement inside the loops, but the results are wrong&quot; please show your code. We can&#39;t say what&#39;s wrong with it without seeing it.","body":"&quot;One minute please, I added if statement inside the loops, but the results are wrong&quot; please show your code. We can&#39;t say what&#39;s wrong with it without seeing it."},{"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"score":0,"creation_date":1633443261,"post_id":69451954,"comment_id":122757639,"body_markdown":"@AndyTurner I tested your code and it&#39;s a practical solution to the problem at hand, thanks. If you want, you can post it as an answer to the question. Thanks.","body":"@AndyTurner I tested your code and it&#39;s a practical solution to the problem at hand, thanks. If you want, you can post it as an answer to the question. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":18936406,"reputation":126,"user_id":13817360,"display_name":"Winter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633443469,"creation_date":1633443469,"answer_id":69452124,"question_id":69451954,"body_markdown":"You can see the differences of two ArrayLists with the following code:\r\n\r\n    ArrayList&lt;String&gt; differences = new ArrayList&lt;&gt;(arrB);\r\n    differences.removeAll(arrA);\r\n\r\nThen you will have a new `ArrayList&lt;String&gt; differences`, that contains all the strings your first ArrayList doesn&#39;t have.\r\n\r\nIf you want to do this multiple times you simply have to update your lists:\r\n\r\n    arrA = new ArrayList&lt;&gt;(arrB);\r\n    arrB.add(&quot;f&quot;);\r\n    arrB.add(&quot;e&quot;);\r\n\r\nAnd then you can simply rerun the first code segment.","title":"How to know only new values comparing two arrays?","body":"<p>You can see the differences of two ArrayLists with the following code:</p>\n<pre><code>ArrayList&lt;String&gt; differences = new ArrayList&lt;&gt;(arrB);\ndifferences.removeAll(arrA);\n</code></pre>\n<p>Then you will have a new <code>ArrayList&lt;String&gt; differences</code>, that contains all the strings your first ArrayList doesn't have.</p>\n<p>If you want to do this multiple times you simply have to update your lists:</p>\n<pre><code>arrA = new ArrayList&lt;&gt;(arrB);\narrB.add(&quot;f&quot;);\narrB.add(&quot;e&quot;);\n</code></pre>\n<p>And then you can simply rerun the first code segment.</p>\n"}],"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1633443564,"accepted_answer_id":69452124,"answer_count":1,"score":-1,"last_activity_date":1633443469,"creation_date":1633442747,"question_id":69451954,"body_markdown":"I have two arrays (Java):\r\n\r\n      ArrayList&lt;String&gt; arrA = new ArrayList&lt;String&gt;();\r\n      arrA.addAll(Arrays.asList(new String[]{&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;}));\r\n\r\n      ArrayList&lt;String&gt; arrB = new ArrayList&lt;String&gt;();\r\n      arrB.addAll(Arrays.asList(new String[]{&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;X&quot;, &quot;6&quot;, &quot;7&quot;}));\r\n\r\nAnd I need to know how fills a third array only the new values found in the second array. I try to do loops but it didn&#39;t work well.\r\n\r\nAny idea?","title":"How to know only new values comparing two arrays?","body":"<p>I have two arrays (Java):</p>\n<pre><code>  ArrayList&lt;String&gt; arrA = new ArrayList&lt;String&gt;();\n  arrA.addAll(Arrays.asList(new String[]{&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;}));\n\n  ArrayList&lt;String&gt; arrB = new ArrayList&lt;String&gt;();\n  arrB.addAll(Arrays.asList(new String[]{&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;X&quot;, &quot;6&quot;, &quot;7&quot;}));\n</code></pre>\n<p>And I need to know how fills a third array only the new values found in the second array. I try to do loops but it didn't work well.</p>\n<p>Any idea?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":0,"creation_date":1633375764,"post_id":69441297,"comment_id":122738560,"body_markdown":"scan.nextInt() ?","body":"scan.nextInt() ?"}],"answers":[{"tags":[],"owner":{"account_id":2015239,"reputation":2057,"user_id":1802705,"accept_rate":88,"display_name":"Fred Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633443142,"creation_date":1633443142,"answer_id":69452044,"question_id":69441297,"body_markdown":"You can use 2 scanners like this:\r\n\r\n    Scanner scan1 = new Scanner(System.in);\r\n    Scanner scan2 = new Scanner(System.in);\r\n\r\nOr you can input 82,85 (comma separated) and then take scan[0] and scan[1]","title":"How to be able to input two different numbers in two different lines","body":"<p>You can use 2 scanners like this:</p>\n<pre><code>Scanner scan1 = new Scanner(System.in);\nScanner scan2 = new Scanner(System.in);\n</code></pre>\n<p>Or you can input 82,85 (comma separated) and then take scan[0] and scan[1]</p>\n"}],"owner":{"account_id":22940787,"reputation":11,"user_id":17073593,"display_name":"Aaron Versteegh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633443142,"creation_date":1633375193,"question_id":69441297,"body_markdown":"As an exercise, I need to write a code that can input two different numbers in two different lines\r\n\r\nFor example:\r\n\r\n```\r\nInput:      82\r\n            85\r\n```\r\nI have tried this but it didn&#39;t work out:\r\n```\r\nScanner scan = new Scanner(System.in);\r\nString X = scan.nextLine().trim();\r\n```\r\n\r\nPlease help","title":"How to be able to input two different numbers in two different lines","body":"<p>As an exercise, I need to write a code that can input two different numbers in two different lines</p>\n<p>For example:</p>\n<pre><code>Input:      82\n            85\n</code></pre>\n<p>I have tried this but it didn't work out:</p>\n<pre><code>Scanner scan = new Scanner(System.in);\nString X = scan.nextLine().trim();\n</code></pre>\n<p>Please help</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4645073,"reputation":1083,"user_id":3763679,"display_name":"Andreas Radauer"},"score":0,"creation_date":1633367581,"post_id":69439902,"comment_id":122735794,"body_markdown":"Could it be that you have user specific data as a property in a service? Be aware that spring beans a singletons by default. post some example code","body":"Could it be that you have user specific data as a property in a service? Be aware that spring beans a singletons by default. post some example code"},{"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"score":0,"creation_date":1633371295,"post_id":69439902,"comment_id":122737137,"body_markdown":"Please add your code","body":"Please add your code"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633377772,"post_id":69439902,"comment_id":122739302,"body_markdown":"Looks/feels like sharing state in the controller (which is a singleton) whereas a servlet can be per request. But without seeing code this will be impossible to answer.","body":"Looks/feels like sharing state in the controller (which is a singleton) whereas a servlet can be per request. But without seeing code this will be impossible to answer."},{"owner":{"account_id":3506821,"reputation":751,"user_id":2932178,"accept_rate":78,"display_name":"Krishnakumar Subbaiyan"},"score":0,"creation_date":1633442133,"post_id":69439902,"comment_id":122757070,"body_markdown":"@M.Deinum Can you check now.","body":"@M.Deinum Can you check now."},{"owner":{"account_id":3506821,"reputation":751,"user_id":2932178,"accept_rate":78,"display_name":"Krishnakumar Subbaiyan"},"score":0,"creation_date":1633442149,"post_id":69439902,"comment_id":122757080,"body_markdown":"@AndreasRadauer Can you check now.","body":"@AndreasRadauer Can you check now."},{"owner":{"account_id":3506821,"reputation":751,"user_id":2932178,"accept_rate":78,"display_name":"Krishnakumar Subbaiyan"},"score":0,"creation_date":1633442175,"post_id":69439902,"comment_id":122757088,"body_markdown":"@ray Can you check now","body":"@ray Can you check now"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1633442248,"post_id":69439902,"comment_id":122757128,"body_markdown":"Your code is flawed. Don&#39;t inject `EmployeePerformance` or `Employee` just create a new instance and return it. The fact that you use spring doesn&#39;t mean **everything** needs to be managed by Spring.","body":"Your code is flawed. Don&#39;t inject <code>EmployeePerformance</code> or <code>Employee</code> just create a new instance and return it. The fact that you use spring doesn&#39;t mean <b>everything</b> needs to be managed by Spring."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1633442308,"post_id":69439902,"comment_id":122757161,"body_markdown":"Regarding performance don&#39;t use `HttpClient` like that or construct it each time. Instead use the `RestTemplate` provided by Spring Boot and **reuse** it.","body":"Regarding performance don&#39;t use <code>HttpClient</code> like that or construct it each time. Instead use the <code>RestTemplate</code> provided by Spring Boot and <b>reuse</b> it."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633443102,"creation_date":1633443102,"answer_id":69452032,"question_id":69439902,"body_markdown":"Your code is flawed, don&#39;t make `Employee` nor `EmployeePerformance` spring managed beans. Just construct a new instance when you need one. The fact that one uses Spring doesn&#39;t mean **everything** needs to be managed by Spring. \r\n\r\n```java\r\n@RequestMapping(&quot;/employee&quot;)\r\npublic class EmployeeController {\r\n\r\n    @Autowired\r\n    EmployeeService employeeservice;\r\n    \r\n    @RequestMapping(&quot;/getDetails&quot;)\r\n    public void getEmployeeDetails() throws HttpException, IOException, JAXBException {\r\n        Employee employee = new Employee();\r\n        employee.setEmpId(&quot;100&quot;);\r\n        employee.setEmpName(&quot;Nuno&quot;);\r\n        employee.setDept(&quot;Research&quot;);\r\n        employee.setLocation(&quot;India&quot;);\r\n        \r\n        EmployeePerformance emp = employeeservice.EmployeeDetails(employee);\r\n        \r\n        System.out.println(emp.toString());\r\n    }  \r\n}\r\n```\r\n\r\nRegarding the use of `HttpClient` don&#39;t construct one each time, instead reuse it, or even better use `RestTemplate` which does all of that out-of-the-box, including the marshalling. \r\n\r\n```java\r\n@Component\r\npublic class EmployeeService {\r\n\r\n    private final RestTemplate http;\r\n    \r\n    public EmployeeService(RestTemplate http) {\r\n      this.http=http;\r\n    }\r\n\r\n    public EmployeePerformance EmployeeDetails(Employee emp) throws HttpException, IOException, JAXBException {           \r\n        return getDetails(emp);\r\n    }\r\n\r\n    private EmployeePerformance getDetails(Employee emp) throws HttpException, IOException, JAXBException {\r\n        \r\n        String url=emp.getEmpName();\r\n        RequestEntity req = RequestEntity.get(url).header(&quot;3454362523&quot;, emp.getEmpId()).build();  \r\n        \r\n        EmployeePerformance empPerformance = http.exchange(req, EmployeePerformance.class).getBody();       \r\n        \r\n        empPerformance.setProject(&quot;Banking&quot;);\r\n        empPerformance.setRating(&quot;Good&quot;);\r\n        \r\n        return empPerformance;\r\n    }\r\n}\r\n```\r\n\r\nIn your configuration you need to add the following \r\n\r\n```java\r\n@Bean\r\npublic RestTemplate restTemplate(RestTemplateBuilder builder) {\r\n  return builder.requestFactory(HttpComponentsClientHttpRequestFactory.class).build();\r\n}\r\n```\r\n\r\nWith this you are not sharing state anymore and reusing heavy objects instaed of constructing them each time you need them. ","title":"Spring Boot gives different response while load test(50 users) time","body":"<p>Your code is flawed, don't make <code>Employee</code> nor <code>EmployeePerformance</code> spring managed beans. Just construct a new instance when you need one. The fact that one uses Spring doesn't mean <strong>everything</strong> needs to be managed by Spring.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;/employee&quot;)\npublic class EmployeeController {\n\n    @Autowired\n    EmployeeService employeeservice;\n    \n    @RequestMapping(&quot;/getDetails&quot;)\n    public void getEmployeeDetails() throws HttpException, IOException, JAXBException {\n        Employee employee = new Employee();\n        employee.setEmpId(&quot;100&quot;);\n        employee.setEmpName(&quot;Nuno&quot;);\n        employee.setDept(&quot;Research&quot;);\n        employee.setLocation(&quot;India&quot;);\n        \n        EmployeePerformance emp = employeeservice.EmployeeDetails(employee);\n        \n        System.out.println(emp.toString());\n    }  \n}\n</code></pre>\n<p>Regarding the use of <code>HttpClient</code> don't construct one each time, instead reuse it, or even better use <code>RestTemplate</code> which does all of that out-of-the-box, including the marshalling.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class EmployeeService {\n\n    private final RestTemplate http;\n    \n    public EmployeeService(RestTemplate http) {\n      this.http=http;\n    }\n\n    public EmployeePerformance EmployeeDetails(Employee emp) throws HttpException, IOException, JAXBException {           \n        return getDetails(emp);\n    }\n\n    private EmployeePerformance getDetails(Employee emp) throws HttpException, IOException, JAXBException {\n        \n        String url=emp.getEmpName();\n        RequestEntity req = RequestEntity.get(url).header(&quot;3454362523&quot;, emp.getEmpId()).build();  \n        \n        EmployeePerformance empPerformance = http.exchange(req, EmployeePerformance.class).getBody();       \n        \n        empPerformance.setProject(&quot;Banking&quot;);\n        empPerformance.setRating(&quot;Good&quot;);\n        \n        return empPerformance;\n    }\n}\n</code></pre>\n<p>In your configuration you need to add the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic RestTemplate restTemplate(RestTemplateBuilder builder) {\n  return builder.requestFactory(HttpComponentsClientHttpRequestFactory.class).build();\n}\n</code></pre>\n<p>With this you are not sharing state anymore and reusing heavy objects instaed of constructing them each time you need them.</p>\n"}],"owner":{"account_id":3506821,"reputation":751,"user_id":2932178,"accept_rate":78,"display_name":"Krishnakumar Subbaiyan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633443102,"creation_date":1633367368,"question_id":69439902,"body_markdown":"We have upgraded the project technology from **Java servlet** to **Spring Boot**. It&#39;s working fine for single user transaction mode, but it&#39;s not working multiple users test.\r\n\r\n**My Project configuration**\r\n\r\nUI - angular&lt;br&gt;\r\nBusiness Logic- Java Spring Boot&lt;br&gt;\r\nback end - No SQL get call&lt;br&gt;\r\nNo hibernate&lt;br&gt;\r\n\r\n**Session - stateless session**&lt;br&gt;\r\nWe don&#39;t process based on the user&#39;s session. We process only employee id and case id(75 % get request, 25 % post request). it&#39;s working fine for single user time. LoadNinja load test run 50 users time - we will get another user&#39;s response to me. \r\n\r\nMy name is Apple if I am requesting for my details(load ninja run the same process for 50 user test simultaneously) to the server , but i am getting response as Orange user&#39;s details. Sometimes I am getting a Null pointer exception.\r\n\r\nI am unable to trace the cause of the issue - Could you please advise for project configuration changes.\r\n\r\nThanks in advance.\r\n\r\nEmployeeController.java\r\n\r\n    package com.apa.documentprocessor.constants;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import javax.xml.bind.JAXBException;\r\n    \r\n    import org.apache.commons.httpclient.HttpException;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    @RequestMapping(&quot;/employee&quot;)\r\n    public class EmployeeController {\r\n    \r\n    \t@Autowired\r\n    \tEmployeeService employeeservice;\r\n    \t\r\n    \t@Autowired\r\n    \tEmployee employee;\r\n    \t\r\n    \t@RequestMapping(&quot;/getDetails&quot;)\r\n    \tpublic void getEmployeeDetails() throws HttpException, IOException, JAXBException {\r\n    \t\t\r\n    \t\temployee.setEmpId(&quot;100&quot;);\r\n    \t\temployee.setEmpName(&quot;Nuno&quot;);\r\n    \t\temployee.setDept(&quot;Research&quot;);\r\n    \t\temployee.setLocation(&quot;India&quot;);\r\n    \t\t\r\n      \t\t\r\n    \t\tEmployeePerformance emp = employeeservice.EmployeeDetails(employee);\r\n    \t\t\r\n    \t\tSystem.out.println(emp.toString());\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nEmployeeService.java\r\n\r\n    package com.apa.documentprocessor.constants;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.StringReader;\r\n    \r\n    \r\n    import javax.xml.bind.JAXBContext;\r\n    import javax.xml.bind.JAXBException;\r\n    import javax.xml.bind.Unmarshaller;\r\n    \r\n    import org.apache.commons.httpclient.HttpClient;\r\n    import org.apache.commons.httpclient.HttpException;\r\n    import org.apache.commons.httpclient.methods.GetMethod;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.config.AutowireCapableBeanFactory;\r\n    import org.springframework.stereotype.Component;\r\n    import org.xml.sax.InputSource;\r\n    \r\n    \r\n    \r\n    @Component\r\n    public class EmployeeService {\r\n    \r\n    \t@Autowired\r\n    \tEmployeePerformance empPerformance;\r\n    \t\r\n    \t@Autowired\r\n    \tprivate AutowireCapableBeanFactory beanFactory;\r\n    \t\r\n    \tpublic EmployeePerformance EmployeeDetails(Employee emp) throws HttpException, IOException, JAXBException {\r\n    \t\t\t\r\n    \t\t\r\n    \t\tthis.empPerformance = beanFactory.createBean(EmployeePerformance.class);\r\n    \t\tthis.empPerformance = getDetails(emp);\r\n    \t\t\r\n    \t\t\r\n    \t\treturn empPerformance;\r\n    \t\t\r\n    \t}\r\n    \r\n    \r\n    \tprivate EmployeePerformance getDetails(Employee emp) throws HttpException, IOException, JAXBException {\r\n    \t\t\r\n    \t\t\r\n    \t\tString result;\r\n    \t\tString url=emp.getEmpName();\r\n    \t\t\r\n    \t\t\r\n    \t\tHttpClient client = new HttpClient();\r\n    \t\tGetMethod method = new GetMethod(url);\r\n    \t\tmethod.addRequestHeader(&quot;3454362523&quot;, emp.getEmpId());\r\n    \t\t\r\n    \t\tclient.executeMethod(method);\r\n    \t\t\r\n    \t\tresult = method.getResponseBodyAsString();\r\n    \t\t\r\n    \t\tJAXBContext jaxbContext = JAXBContext.newInstance(EmployeePerformance.class);\r\n    \t\t\r\n    \t\tUnmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n    \t\t\r\n    \t\tEmployeePerformance empPerformance = (EmployeePerformance) jaxbUnmarshaller\r\n                    .unmarshal(new InputSource(new StringReader(result)));\r\n    \t\t\r\n    \t\t\r\n    \t\tempPerformance.setProject(&quot;Banking&quot;);\r\n    \t\tempPerformance.setRating(&quot;Good&quot;);\r\n    \t\t\r\n    \t\treturn empPerformance;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\nEmployeePerformance.java\r\n\r\n    package com.apa.documentprocessor.constants;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class EmployeePerformance {\r\n    \r\n    \tString empName;\r\n    \tString rating;\r\n    \tString project;\r\n    \tString position;\r\n    \t\r\n    \t\r\n    \tpublic String getEmpName() {\r\n    \t\treturn empName;\r\n    \t}\r\n    \tpublic void setEmpName(String empName) {\r\n    \t\tthis.empName = empName;\r\n    \t}\r\n    \tpublic String getRating() {\r\n    \t\treturn rating;\r\n    \t}\r\n    \tpublic void setRating(String rating) {\r\n    \t\tthis.rating = rating;\r\n    \t}\r\n    \tpublic String getProject() {\r\n    \t\treturn project;\r\n    \t}\r\n    \tpublic void setProject(String project) {\r\n    \t\tthis.project = project;\r\n    \t}\r\n    \tpublic String getPosition() {\r\n    \t\treturn position;\r\n    \t}\r\n    \tpublic void setPosition(String position) {\r\n    \t\tthis.position = position;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\nEmployee.java\r\n\r\n    package com.apa.documentprocessor.constants;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class Employee {\r\n    \r\n    \t\r\n    \tString empId;\r\n    \tString empName;\r\n    \tString dept;\r\n    \tString location;\r\n    \t\r\n    \t\r\n    \tpublic String getEmpId() {\r\n    \t\treturn empId;\r\n    \t}\r\n    \tpublic void setEmpId(String empId) {\r\n    \t\tthis.empId = empId;\r\n    \t}\r\n    \tpublic String getEmpName() {\r\n    \t\treturn empName;\r\n    \t}\r\n    \tpublic void setEmpName(String empName) {\r\n    \t\tthis.empName = empName;\r\n    \t}\r\n    \tpublic String getDept() {\r\n    \t\treturn dept;\r\n    \t}\r\n    \tpublic void setDept(String dept) {\r\n    \t\tthis.dept = dept;\r\n    \t}\r\n    \tpublic String getLocation() {\r\n    \t\treturn location;\r\n    \t}\r\n    \tpublic void setLocation(String location) {\r\n    \t\tthis.location = location;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n\r\n","title":"Spring Boot gives different response while load test(50 users) time","body":"<p>We have upgraded the project technology from <strong>Java servlet</strong> to <strong>Spring Boot</strong>. It's working fine for single user transaction mode, but it's not working multiple users test.</p>\n<p><strong>My Project configuration</strong></p>\n<p>UI - angular<br>\nBusiness Logic- Java Spring Boot<br>\nback end - No SQL get call<br>\nNo hibernate<br></p>\n<p><strong>Session - stateless session</strong><br>\nWe don't process based on the user's session. We process only employee id and case id(75 % get request, 25 % post request). it's working fine for single user time. LoadNinja load test run 50 users time - we will get another user's response to me.</p>\n<p>My name is Apple if I am requesting for my details(load ninja run the same process for 50 user test simultaneously) to the server , but i am getting response as Orange user's details. Sometimes I am getting a Null pointer exception.</p>\n<p>I am unable to trace the cause of the issue - Could you please advise for project configuration changes.</p>\n<p>Thanks in advance.</p>\n<p>EmployeeController.java</p>\n<pre><code>package com.apa.documentprocessor.constants;\n\nimport java.io.IOException;\n\nimport javax.xml.bind.JAXBException;\n\nimport org.apache.commons.httpclient.HttpException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@RequestMapping(&quot;/employee&quot;)\npublic class EmployeeController {\n\n    @Autowired\n    EmployeeService employeeservice;\n    \n    @Autowired\n    Employee employee;\n    \n    @RequestMapping(&quot;/getDetails&quot;)\n    public void getEmployeeDetails() throws HttpException, IOException, JAXBException {\n        \n        employee.setEmpId(&quot;100&quot;);\n        employee.setEmpName(&quot;Nuno&quot;);\n        employee.setDept(&quot;Research&quot;);\n        employee.setLocation(&quot;India&quot;);\n        \n        \n        EmployeePerformance emp = employeeservice.EmployeeDetails(employee);\n        \n        System.out.println(emp.toString());\n        \n        \n    }\n    \n}\n</code></pre>\n<p>EmployeeService.java</p>\n<pre><code>package com.apa.documentprocessor.constants;\n\nimport java.io.IOException;\nimport java.io.StringReader;\n\n\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.JAXBException;\nimport javax.xml.bind.Unmarshaller;\n\nimport org.apache.commons.httpclient.HttpClient;\nimport org.apache.commons.httpclient.HttpException;\nimport org.apache.commons.httpclient.methods.GetMethod;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.config.AutowireCapableBeanFactory;\nimport org.springframework.stereotype.Component;\nimport org.xml.sax.InputSource;\n\n\n\n@Component\npublic class EmployeeService {\n\n    @Autowired\n    EmployeePerformance empPerformance;\n    \n    @Autowired\n    private AutowireCapableBeanFactory beanFactory;\n    \n    public EmployeePerformance EmployeeDetails(Employee emp) throws HttpException, IOException, JAXBException {\n            \n        \n        this.empPerformance = beanFactory.createBean(EmployeePerformance.class);\n        this.empPerformance = getDetails(emp);\n        \n        \n        return empPerformance;\n        \n    }\n\n\n    private EmployeePerformance getDetails(Employee emp) throws HttpException, IOException, JAXBException {\n        \n        \n        String result;\n        String url=emp.getEmpName();\n        \n        \n        HttpClient client = new HttpClient();\n        GetMethod method = new GetMethod(url);\n        method.addRequestHeader(&quot;3454362523&quot;, emp.getEmpId());\n        \n        client.executeMethod(method);\n        \n        result = method.getResponseBodyAsString();\n        \n        JAXBContext jaxbContext = JAXBContext.newInstance(EmployeePerformance.class);\n        \n        Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n        \n        EmployeePerformance empPerformance = (EmployeePerformance) jaxbUnmarshaller\n                .unmarshal(new InputSource(new StringReader(result)));\n        \n        \n        empPerformance.setProject(&quot;Banking&quot;);\n        empPerformance.setRating(&quot;Good&quot;);\n        \n        return empPerformance;\n    }\n    \n    \n}\n</code></pre>\n<p>EmployeePerformance.java</p>\n<pre><code>package com.apa.documentprocessor.constants;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class EmployeePerformance {\n\n    String empName;\n    String rating;\n    String project;\n    String position;\n    \n    \n    public String getEmpName() {\n        return empName;\n    }\n    public void setEmpName(String empName) {\n        this.empName = empName;\n    }\n    public String getRating() {\n        return rating;\n    }\n    public void setRating(String rating) {\n        this.rating = rating;\n    }\n    public String getProject() {\n        return project;\n    }\n    public void setProject(String project) {\n        this.project = project;\n    }\n    public String getPosition() {\n        return position;\n    }\n    public void setPosition(String position) {\n        this.position = position;\n    }\n    \n    \n}\n</code></pre>\n<p>Employee.java</p>\n<pre><code>package com.apa.documentprocessor.constants;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Employee {\n\n    \n    String empId;\n    String empName;\n    String dept;\n    String location;\n    \n    \n    public String getEmpId() {\n        return empId;\n    }\n    public void setEmpId(String empId) {\n        this.empId = empId;\n    }\n    public String getEmpName() {\n        return empName;\n    }\n    public void setEmpName(String empName) {\n        this.empName = empName;\n    }\n    public String getDept() {\n        return dept;\n    }\n    public void setDept(String dept) {\n        this.dept = dept;\n    }\n    public String getLocation() {\n        return location;\n    }\n    public void setLocation(String location) {\n        this.location = location;\n    }\n    \n    \n    \n}\n</code></pre>\n"},{"tags":["java","regex","date","validation","range"],"comments":[{"owner":{"account_id":22673434,"reputation":808,"user_id":16844859,"display_name":"Balaji"},"score":0,"creation_date":1633438794,"post_id":69450883,"comment_id":122755442,"body_markdown":"Provide minimal reproducible code.","body":"Provide minimal reproducible code."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1633441502,"post_id":69450883,"comment_id":122756762,"body_markdown":"Please give example of what a date range may look like so we can understand the format it should adhere to. You should not use a regular expression but rather a `DateTimeFormatter`.","body":"Please give example of what a date range may look like so we can understand the format it should adhere to. You should not use a regular expression but rather a <code>DateTimeFormatter</code>."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1633443672,"post_id":69450883,"comment_id":122757834,"body_markdown":"Doing it by regex will be unnecessarily complex and error-prone. Do it using the Date-Time API as suggested in [the answer by Ole V.V.](https://stackoverflow.com/a/69451951/10819573).","body":"Doing it by regex will be unnecessarily complex and error-prone. Do it using the Date-Time API as suggested in <a href=\"https://stackoverflow.com/a/69451951/10819573\">the answer by Ole V.V.</a>."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633442720,"creation_date":1633442720,"answer_id":69451951,"question_id":69450883,"body_markdown":"## java.time\r\n\r\nI recommend that you use java.time, the modern Java date and time API, for your date work. It’s much better suited for validating date formats and date ranges. A thing like finding x years ago is trivial.\r\n\r\nNot knowing your format here’s a sketch that you may modify to your needs.\r\n\r\n\tprivate static final DateTimeFormatter PARSER\r\n\t\t\t= DateTimeFormatter.ofPattern(&quot;d-M-u&quot;, Locale.ROOT);\r\n\t\r\n\t/**\r\n\t * @throws IllegalArgumentException if dates are out of range or the string is in an incorrect format\r\n\t * @throws DateTimeParseException if a date is invalid or has incorrect format\r\n\t */\r\n\tpublic static void validateDateRange(int maxAgeYears, String dateRangeString) {\r\n\t\tString[] strings = dateRangeString.split(&quot; - &quot;);\r\n\t\t\r\n\t\tif (strings.length != 2) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Incorrect format; give two dates separated by \\&quot; - \\&quot;.&quot;);\r\n\t\t}\r\n\t\t\r\n\t\t// The calls to parse may throw DateTimeParseException\r\n\t\tLocalDate start = LocalDate.parse(strings[0], PARSER);\r\n\t\tLocalDate end = LocalDate.parse(strings[1], PARSER);\r\n\t\t\r\n\t\tif (start.isAfter(end)) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Dates are in the wrong order; give start before end.&quot;);\r\n\t\t}\r\n\t\tLocalDate today = LocalDate.now(ZoneId.systemDefault());\r\n\t\tif (start.isBefore(today.minusYears(maxAgeYears))) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Start is too long ago; give start of range that reaches at most &quot; + maxAgeYears + &quot; years back.&quot;);\r\n\t\t}\r\n\t\tif (end.isAfter(today)) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;End is in the future; give end as current day or before.&quot;);\r\n\t\t}\r\n\t}\r\n\r\nLet’s try it out:\r\n\r\n\t\tvalidateDateRange(4, &quot;1-1-2020 - 31-12-2020&quot;);\r\n\r\nThis runs tacitly without any exception being thrown\r\n\r\n\t\tvalidateDateRange(4, &quot;1/1-2020 - 31/12-2020&quot;);\r\n\r\n&gt; Exception in thread &quot;main&quot; java.time.format.DateTimeParseException:\r\n&gt; Text &#39;1/1-2020&#39; could not be parsed at index 1\r\n\r\n\t\tvalidateDateRange(4, &quot;1-1-2017 - 31-12-2021&quot;);\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Start\r\n&gt; is too long ago; give start of range that reaches at most 4 years back.\r\n\r\nPS By Stack Overflow standards you didn’t deserve this answer. You need to make your requirements and your format in particular much clearer and to show a greater effort on your side. I understand that you are new here and chose to be gentle this time.\r\n\r\n## Link\r\n\r\n[Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n","title":"Date range with regex or someting else","body":"<h2>java.time</h2>\n<p>I recommend that you use java.time, the modern Java date and time API, for your date work. It’s much better suited for validating date formats and date ranges. A thing like finding x years ago is trivial.</p>\n<p>Not knowing your format here’s a sketch that you may modify to your needs.</p>\n<pre><code>private static final DateTimeFormatter PARSER\n        = DateTimeFormatter.ofPattern(&quot;d-M-u&quot;, Locale.ROOT);\n\n/**\n * @throws IllegalArgumentException if dates are out of range or the string is in an incorrect format\n * @throws DateTimeParseException if a date is invalid or has incorrect format\n */\npublic static void validateDateRange(int maxAgeYears, String dateRangeString) {\n    String[] strings = dateRangeString.split(&quot; - &quot;);\n    \n    if (strings.length != 2) {\n        throw new IllegalArgumentException(&quot;Incorrect format; give two dates separated by \\&quot; - \\&quot;.&quot;);\n    }\n    \n    // The calls to parse may throw DateTimeParseException\n    LocalDate start = LocalDate.parse(strings[0], PARSER);\n    LocalDate end = LocalDate.parse(strings[1], PARSER);\n    \n    if (start.isAfter(end)) {\n        throw new IllegalArgumentException(&quot;Dates are in the wrong order; give start before end.&quot;);\n    }\n    LocalDate today = LocalDate.now(ZoneId.systemDefault());\n    if (start.isBefore(today.minusYears(maxAgeYears))) {\n        throw new IllegalArgumentException(&quot;Start is too long ago; give start of range that reaches at most &quot; + maxAgeYears + &quot; years back.&quot;);\n    }\n    if (end.isAfter(today)) {\n        throw new IllegalArgumentException(&quot;End is in the future; give end as current day or before.&quot;);\n    }\n}\n</code></pre>\n<p>Let’s try it out:</p>\n<pre><code>    validateDateRange(4, &quot;1-1-2020 - 31-12-2020&quot;);\n</code></pre>\n<p>This runs tacitly without any exception being thrown</p>\n<pre><code>    validateDateRange(4, &quot;1/1-2020 - 31/12-2020&quot;);\n</code></pre>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException:\nText '1/1-2020' could not be parsed at index 1</p>\n</blockquote>\n<pre><code>    validateDateRange(4, &quot;1-1-2017 - 31-12-2021&quot;);\n</code></pre>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Start\nis too long ago; give start of range that reaches at most 4 years back.</p>\n</blockquote>\n<p>PS By Stack Overflow standards you didn’t deserve this answer. You need to make your requirements and your format in particular much clearer and to show a greater effort on your side. I understand that you are new here and chose to be gentle this time.</p>\n<h2>Link</h2>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"}],"owner":{"account_id":22948374,"reputation":1,"user_id":17080031,"display_name":"yasinbuzgulu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633442720,"creation_date":1633438583,"question_id":69450883,"body_markdown":"Now, I use regex to validate my date which is        \r\n \r\n\r\n    String regex = &quot;^(?:(?:31(\\\\/|-|\\\\.)(?:0?[13578]|1[02]))\\\\1|(?:(?:29|30)(\\\\/|-|\\\\.)(?:0?[1,3-9]|1[0-2])\\\\2))(?:(?:1[6-9]|[2-9]\\\\d)?\\\\d{2})$|^(?:29(\\\\/|-|\\\\.)0?2\\\\3(?:(?:(?:1[6-9]|[2-9]\\\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\\\\d|2[0-8])(\\\\/|-|\\\\.)(?:(?:0?[1-9])|(?:1[0-2]))\\\\4(?:(?:1[6-9]|[2-9]\\\\d)?\\\\d{2})$|(?:(?:1[6-9]|[2-9]\\\\d)?\\\\d{2})(\\\\/|-|\\\\.)(?:(?:0?[1-9])|(?:1[0-2]))\\\\5(?:0?[1-9]|1\\\\d|2[0-8])$|^(?:(?:(?:1[6-9]|[2-9]\\\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00)))(\\\\/|-|\\\\.)0?2\\\\6(29)$|^(?:(?:1[6-9]|[2-9]\\\\d)?\\\\d{2})(?:(?:(\\\\/|-|\\\\.)(?:0?[1,3-9]|1[0-2])\\\\8(?:29|30))|(?:(\\\\/|-|\\\\.)(?:0?[13578]|1[02])\\\\9(?:31)))$\\n&quot;;\r\n\r\nHowever, I also want to set a range for my date.And max min date should current date and x(desired year) year before.\r\n\r\nHow can I do it?\r\n","title":"Date range with regex or someting else","body":"<p>Now, I use regex to validate my date which is</p>\n<pre><code>String regex = &quot;^(?:(?:31(\\\\/|-|\\\\.)(?:0?[13578]|1[02]))\\\\1|(?:(?:29|30)(\\\\/|-|\\\\.)(?:0?[1,3-9]|1[0-2])\\\\2))(?:(?:1[6-9]|[2-9]\\\\d)?\\\\d{2})$|^(?:29(\\\\/|-|\\\\.)0?2\\\\3(?:(?:(?:1[6-9]|[2-9]\\\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\\\\d|2[0-8])(\\\\/|-|\\\\.)(?:(?:0?[1-9])|(?:1[0-2]))\\\\4(?:(?:1[6-9]|[2-9]\\\\d)?\\\\d{2})$|(?:(?:1[6-9]|[2-9]\\\\d)?\\\\d{2})(\\\\/|-|\\\\.)(?:(?:0?[1-9])|(?:1[0-2]))\\\\5(?:0?[1-9]|1\\\\d|2[0-8])$|^(?:(?:(?:1[6-9]|[2-9]\\\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00)))(\\\\/|-|\\\\.)0?2\\\\6(29)$|^(?:(?:1[6-9]|[2-9]\\\\d)?\\\\d{2})(?:(?:(\\\\/|-|\\\\.)(?:0?[1,3-9]|1[0-2])\\\\8(?:29|30))|(?:(\\\\/|-|\\\\.)(?:0?[13578]|1[02])\\\\9(?:31)))$\\n&quot;;\n</code></pre>\n<p>However, I also want to set a range for my date.And max min date should current date and x(desired year) year before.</p>\n<p>How can I do it?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1633423205,"post_id":69441501,"comment_id":122749083,"body_markdown":"Question to avoid misunderstanding : `task-created-on` is a `Date` field in your pojo, so it would normally serialized as `&quot;task-created-on&quot;: 1631022026000` ?","body":"Question to avoid misunderstanding : <code>task-created-on</code> is a <code>Date</code> field in your pojo, so it would normally serialized as <code>&quot;task-created-on&quot;: 1631022026000</code> ?"},{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":0,"creation_date":1633433395,"post_id":69441501,"comment_id":122753205,"body_markdown":"@dariosicily Yes, that&#39;s correct. &quot;task-created-on&quot; should be a Date field if possible.","body":"@dariosicily Yes, that&#39;s correct. &quot;task-created-on&quot; should be a Date field if possible."}],"answers":[{"tags":[],"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633403843,"creation_date":1633402497,"answer_id":69444408,"question_id":69441501,"body_markdown":"It can be easily done with **custom serializer** in Jackson by following steps.  \r\nFirst, create objects for serialization as follows:\r\n```java\r\nclass MyDateObject {\r\n    private Date date;\r\n\r\n    //general getter/setter\r\n}\r\n\r\nclass Task {\r\n    @JsonProperty(&quot;task-id&quot;)\r\n    private int taskId;\r\n\r\n    @JsonProperty(&quot;task-created-on&quot;)\r\n    private MyDateObject taskCreatedOn;\r\n\r\n    //general getters/setters\r\n}\r\n```\r\nSecond, define your custom serializer: (Please note that I used `myDateObject.getDate().getClass().getName()` to get the class name of date field.)\r\n```java\r\nclass DateSerializer extends StdSerializer&lt;MyDateObject&gt; {\r\n    public DateSerializer() {\r\n        this(null);\r\n    }\r\n\r\n    protected DateSerializer(Class&lt;MyDateObject&gt; t) {\r\n        super(t);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(MyDateObject myDateObject, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n        jsonGenerator.writeStartObject();\r\n        jsonGenerator.writeNumberField(myDateObject.getDate().getClass().getName(), myDateObject.getDate().getTime());\r\n        jsonGenerator.writeEndObject();\r\n    }\r\n}\r\n```\r\nFinally, register the serializer with `ObjectMapper` for the `MyDateObject` class and perform the serialization:\r\n```java\r\nMyDateObject myDateObject = new MyDateObject();\r\nmyDateObject.setDate(new Date());\r\n\r\nTask task = new Task();\r\ntask.setTaskId(5081);\r\ntask.setTaskCreatedOn(myDateObject);\r\n\r\nSimpleModule simpleModule = new SimpleModule();\r\nsimpleModule.addSerializer(MyDateObject.class, new DateSerializer());\r\n\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.registerModule(simpleModule);\r\n\r\nSystem.out.println(objectMapper.writeValueAsString(task));\r\n```\r\nThe expected output is:\r\n&gt; {&quot;task-id&quot;:5081,&quot;task-created-on&quot;:{&quot;java.util.Date&quot;:1633402076254}}\r\n---\r\nPlease refer to [Jackson – Custom Serializer](https://www.baeldung.com/jackson-custom-serialization) for more information.","title":"Serialize objects to a map with the object class as the key?","body":"<p>It can be easily done with <strong>custom serializer</strong> in Jackson by following steps.<br />\nFirst, create objects for serialization as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyDateObject {\n    private Date date;\n\n    //general getter/setter\n}\n\nclass Task {\n    @JsonProperty(&quot;task-id&quot;)\n    private int taskId;\n\n    @JsonProperty(&quot;task-created-on&quot;)\n    private MyDateObject taskCreatedOn;\n\n    //general getters/setters\n}\n</code></pre>\n<p>Second, define your custom serializer: (Please note that I used <code>myDateObject.getDate().getClass().getName()</code> to get the class name of date field.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DateSerializer extends StdSerializer&lt;MyDateObject&gt; {\n    public DateSerializer() {\n        this(null);\n    }\n\n    protected DateSerializer(Class&lt;MyDateObject&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(MyDateObject myDateObject, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n        jsonGenerator.writeStartObject();\n        jsonGenerator.writeNumberField(myDateObject.getDate().getClass().getName(), myDateObject.getDate().getTime());\n        jsonGenerator.writeEndObject();\n    }\n}\n</code></pre>\n<p>Finally, register the serializer with <code>ObjectMapper</code> for the <code>MyDateObject</code> class and perform the serialization:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyDateObject myDateObject = new MyDateObject();\nmyDateObject.setDate(new Date());\n\nTask task = new Task();\ntask.setTaskId(5081);\ntask.setTaskCreatedOn(myDateObject);\n\nSimpleModule simpleModule = new SimpleModule();\nsimpleModule.addSerializer(MyDateObject.class, new DateSerializer());\n\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(simpleModule);\n\nSystem.out.println(objectMapper.writeValueAsString(task));\n</code></pre>\n<p>The expected output is:</p>\n<blockquote>\n<p>{&quot;task-id&quot;:5081,&quot;task-created-on&quot;:{&quot;java.util.Date&quot;:1633402076254}}</p>\n</blockquote>\n<hr />\n<p>Please refer to <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">Jackson – Custom Serializer</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633442701,"creation_date":1633442701,"answer_id":69451942,"question_id":69441501,"body_markdown":"It is possible to solve the issue with the use of a custom [`JsonSerializer`](https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/JsonSerializer.html) and applying the [`JsonSerialize`](https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/annotation/JsonSerialize.html) over the fields in the pojo you are interested like below :\r\n\r\n~~~\r\npublic class Task {\r\n\r\n    @JsonProperty(&quot;task-id&quot;)\r\n    private int taskId;\r\n\r\n    @JsonProperty(&quot;task-created-on&quot;)\r\n    @JsonSerialize(using = ObjectSerializer.class)\r\n    Date taskCreatedOn; \r\n}\r\n~~~\r\n\r\nThe custom serializer will use the [`JsonGenerator.html#writeObjectField`](https://fasterxml.github.io/jackson-core/javadoc/2.6/com/fasterxml/jackson/core/JsonGenerator.html#writeObjectField(java.lang.String,%20java.lang.Object)) to serialize a generic object (`Date` or other java class) as propertyname : {&quot;classname&quot; : value} :\r\n\r\n~~~\r\npublic class ObjectSerializer extends JsonSerializer&lt;Object&gt; {\r\n\r\n    @Override\r\n    public void serialize(Object t, JsonGenerator jg, SerializerProvider sp) throws IOException {\r\n        jg.writeStartObject();\r\n        jg.writeObjectField(t.getClass().getName(), t);\r\n        jg.writeEndObject();\r\n    }\r\n\r\n}\r\n~~~","title":"Serialize objects to a map with the object class as the key?","body":"<p>It is possible to solve the issue with the use of a custom <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/JsonSerializer.html\" rel=\"nofollow noreferrer\"><code>JsonSerializer</code></a> and applying the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/annotation/JsonSerialize.html\" rel=\"nofollow noreferrer\"><code>JsonSerialize</code></a> over the fields in the pojo you are interested like below :</p>\n<pre><code>public class Task {\n\n    @JsonProperty(&quot;task-id&quot;)\n    private int taskId;\n\n    @JsonProperty(&quot;task-created-on&quot;)\n    @JsonSerialize(using = ObjectSerializer.class)\n    Date taskCreatedOn; \n}\n</code></pre>\n<p>The custom serializer will use the <a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.6/com/fasterxml/jackson/core/JsonGenerator.html#writeObjectField(java.lang.String,%20java.lang.Object)\" rel=\"nofollow noreferrer\"><code>JsonGenerator.html#writeObjectField</code></a> to serialize a generic object (<code>Date</code> or other java class) as propertyname : {&quot;classname&quot; : value} :</p>\n<pre><code>public class ObjectSerializer extends JsonSerializer&lt;Object&gt; {\n\n    @Override\n    public void serialize(Object t, JsonGenerator jg, SerializerProvider sp) throws IOException {\n        jg.writeStartObject();\n        jg.writeObjectField(t.getClass().getName(), t);\n        jg.writeEndObject();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":885,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69451942,"answer_count":2,"score":1,"last_activity_date":1633442701,"creation_date":1633376225,"question_id":69441501,"body_markdown":"I&#39;m writing a application using Spring boot and jackson for JSON parsing. I need to handle another service which produces JSON like this:\r\n\r\n    {\r\n      &quot;task-id&quot;: 5081,\r\n      &quot;task-created-on&quot;: {\r\n        &quot;java.util.Date&quot;: 1631022026000\r\n      }\r\n    }\r\n\r\nNotably, certain fields like the date field here are serialized into a map with a single key-value pair, where the key is a java classname and the value is the actual value of the field.\r\n\r\nI&#39;ve been going through the jackson documentation and haven&#39;t found anything about this format. Is there a way to configure jackson to produce and parse fields in this format?\r\n\r\nAt a minimum, I need to handle dates formatted this way. But I believe the service also uses this format for other objects, where the map key will be the name of some arbitrary java class and the value will be a map of its own. So I&#39;d be interested in a solution that handles more than just dates if possible.","title":"Serialize objects to a map with the object class as the key?","body":"<p>I'm writing a application using Spring boot and jackson for JSON parsing. I need to handle another service which produces JSON like this:</p>\n<pre><code>{\n  &quot;task-id&quot;: 5081,\n  &quot;task-created-on&quot;: {\n    &quot;java.util.Date&quot;: 1631022026000\n  }\n}\n</code></pre>\n<p>Notably, certain fields like the date field here are serialized into a map with a single key-value pair, where the key is a java classname and the value is the actual value of the field.</p>\n<p>I've been going through the jackson documentation and haven't found anything about this format. Is there a way to configure jackson to produce and parse fields in this format?</p>\n<p>At a minimum, I need to handle dates formatted this way. But I believe the service also uses this format for other objects, where the map key will be the name of some arbitrary java class and the value will be a map of its own. So I'd be interested in a solution that handles more than just dates if possible.</p>\n"},{"tags":["java","debugging","frameworks"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":5,"creation_date":1297187845,"post_id":4936411,"comment_id":5503263,"body_markdown":"The dbeugger in eclipse, netbeans and IntelliJ are all open source. Could you create a plugin or modify one of these to do what you want?","body":"The dbeugger in eclipse, netbeans and IntelliJ are all open source. Could you create a plugin or modify one of these to do what you want?"}],"answers":[{"tags":[],"owner":{"account_id":288863,"reputation":2645,"user_id":589517,"accept_rate":75,"display_name":"chahuistle"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1297210718,"creation_date":1297210718,"answer_id":4940101,"question_id":4936411,"body_markdown":"What about using jdb (http://download.oracle.com/javase/6/docs/technotes/tools/solaris/jdb.html), source code, according to Oracle is available:\r\n\r\n&gt; Full source code for jdb is included\r\n&gt; as part of the example code in the\r\n&gt; Java 2 SDK&#39;s lib/jpda directory\r\n\r\nYou could hack it so instead of printing to the console, you can get the messages and print them in your UI.","title":"java debugging library","body":"<p>What about using jdb (http://download.oracle.com/javase/6/docs/technotes/tools/solaris/jdb.html), source code, according to Oracle is available:</p>\n\n<blockquote>\n  <p>Full source code for jdb is included\n  as part of the example code in the\n  Java 2 SDK's lib/jpda directory</p>\n</blockquote>\n\n<p>You could hack it so instead of printing to the console, you can get the messages and print them in your UI.</p>\n"},{"tags":[],"owner":{"account_id":18610690,"reputation":27,"user_id":13563196,"display_name":"HannibalTN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633442484,"creation_date":1633442484,"answer_id":69451892,"question_id":4936411,"body_markdown":"If I am getting your question right, specifically, you can use the Visual Debugger in Java Swing and JavaFX GUI applications on NetBeans for example. by starting your debugging session and go to **Debug&gt; Take GUI Snapshot**.\r\n\r\nWhen you choose Take GUI Snapshot, the IDE will take a snapshot of the GUI and will open it in the main window.\r\n\r\nThis provides a way for you to locate the code based on the GUI instead of searching through the code.","title":"java debugging library","body":"<p>If I am getting your question right, specifically, you can use the Visual Debugger in Java Swing and JavaFX GUI applications on NetBeans for example. by starting your debugging session and go to <strong>Debug&gt; Take GUI Snapshot</strong>.</p>\n<p>When you choose Take GUI Snapshot, the IDE will take a snapshot of the GUI and will open it in the main window.</p>\n<p>This provides a way for you to locate the code based on the GUI instead of searching through the code.</p>\n"}],"owner":{"account_id":203212,"reputation":2374,"user_id":450741,"accept_rate":63,"display_name":"Saideira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2529,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1633442484,"creation_date":1297187094,"question_id":4936411,"body_markdown":"I&#39;m searching for a debugging framework that can be used to implement the UI portion of the debugger - elements like windows, watches, source view, popup menus, etc. Ideally I should be able to just write some glue code between my backend (which provides disassembly, memory access, etc) and this &quot;framework&quot;, and end up with a debugger. \r\n\r\nI am not looking to debug java code itself - rather want to lift the UI and what not. :) \r\n\r\nAny suggestions? I&#39;ve found jswat, but not sure how easy it will be to integrate with its GUI component, cause its based on netbeans and might require a lot of glue code. I need a fairly basic debugger that can be integrated into my own project - rather than a standalone tool.\r\n","title":"java debugging library","body":"<p>I'm searching for a debugging framework that can be used to implement the UI portion of the debugger - elements like windows, watches, source view, popup menus, etc. Ideally I should be able to just write some glue code between my backend (which provides disassembly, memory access, etc) and this \"framework\", and end up with a debugger. </p>\n\n<p>I am not looking to debug java code itself - rather want to lift the UI and what not. :) </p>\n\n<p>Any suggestions? I've found jswat, but not sure how easy it will be to integrate with its GUI component, cause its based on netbeans and might require a lot of glue code. I need a fairly basic debugger that can be integrated into my own project - rather than a standalone tool.</p>\n"},{"tags":["java","string","text","keyword","textmatching"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1633436988,"post_id":69449927,"comment_id":122754655,"body_markdown":"Your first step would be to take a text and a String array of words and create a Map with each word and its frequency.  The next step would be to figure out how to score your Map.  For instance, are six apples worth more or less than a strawberry field and a tomato plant?  Finally, you would create [Soundex](https://howtodoinjava.com/algorithm/implement-phonetic-search-using-soundex-algorithm/) values for each of your words, convert each word of your text to its Soundex equivalent, and match that way.","body":"Your first step would be to take a text and a String array of words and create a Map with each word and its frequency.  The next step would be to figure out how to score your Map.  For instance, are six apples worth more or less than a strawberry field and a tomato plant?  Finally, you would create <a href=\"https://howtodoinjava.com/algorithm/implement-phonetic-search-using-soundex-algorithm/\" rel=\"nofollow noreferrer\">Soundex</a> values for each of your words, convert each word of your text to its Soundex equivalent, and match that way."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633852158,"post_id":69449927,"comment_id":122866884,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10829611,"reputation":7,"user_id":7964464,"display_name":"taz_13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633442151,"creation_date":1633439271,"answer_id":69451066,"question_id":69449927,"body_markdown":"An alternative to the Soundex algorithm mentioned by Gilbert Le Blanc is to use [LevenshteinDistance][1] from the [Apache Commons Text library][2]. It simply looks at the number of changes needed to change one character sequence into another, and is very simple to use. \r\n\r\nTo accept words which requires two or less character changes to be identical you would do something like\r\n```\r\nLevenshteinDistance ld = new LevenshteinDistance(2);\r\nif(ld.apply(string1, string2) &lt; 0){\r\n    //Do something, e.g. add to map\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/LevenshteinDistance.html#getDefaultInstance--\r\n  [2]: https://commons.apache.org/proper/commons-text/","title":"Scan texts for keyword list, tolerate spelling mistakes, determine a matching score for texts","body":"<p>An alternative to the Soundex algorithm mentioned by Gilbert Le Blanc is to use <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/LevenshteinDistance.html#getDefaultInstance--\" rel=\"nofollow noreferrer\">LevenshteinDistance</a> from the <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">Apache Commons Text library</a>. It simply looks at the number of changes needed to change one character sequence into another, and is very simple to use.</p>\n<p>To accept words which requires two or less character changes to be identical you would do something like</p>\n<pre><code>LevenshteinDistance ld = new LevenshteinDistance(2);\nif(ld.apply(string1, string2) &lt; 0){\n    //Do something, e.g. add to map\n}\n</code></pre>\n"}],"owner":{"account_id":22947522,"reputation":3,"user_id":17079298,"display_name":"T1m92"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633442151,"creation_date":1633434678,"question_id":69449927,"body_markdown":"I have a problem which I cannot solve on my own now.\r\nMy task is as following:\r\nI have various texts and an array of strings.\r\nThe string array could contain single words or combination of words like this: `[&quot;apple&quot;, &quot;orange fruit&quot;, &quot;strawberry field&quot;, &quot;ananas&quot;, &quot;tomato plant&quot;]`.\r\n\r\nNow I need to scan my texts for the elements in the array and determine a score. \r\nIf a text contains many of the strings (or a combination of it) it should result in a bigger score than other texts.\r\nThe result should also tolerate spelling mistakes if possible.\r\n\r\nCan someone give me a hint what would be the best way to solve this issue?\r\nAre there any libraries which could help solving this problem?\r\nThe language I am coding in is Java.\r\n\r\nThank you in advance guys.","title":"Scan texts for keyword list, tolerate spelling mistakes, determine a matching score for texts","body":"<p>I have a problem which I cannot solve on my own now.\nMy task is as following:\nI have various texts and an array of strings.\nThe string array could contain single words or combination of words like this: <code>[&quot;apple&quot;, &quot;orange fruit&quot;, &quot;strawberry field&quot;, &quot;ananas&quot;, &quot;tomato plant&quot;]</code>.</p>\n<p>Now I need to scan my texts for the elements in the array and determine a score.\nIf a text contains many of the strings (or a combination of it) it should result in a bigger score than other texts.\nThe result should also tolerate spelling mistakes if possible.</p>\n<p>Can someone give me a hint what would be the best way to solve this issue?\nAre there any libraries which could help solving this problem?\nThe language I am coding in is Java.</p>\n<p>Thank you in advance guys.</p>\n"},{"tags":["java","postgresql","hibernate"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1633426728,"post_id":69448038,"comment_id":122750475,"body_markdown":"The order of the keys in a JSON value is irrelevant","body":"The order of the keys in a JSON value is irrelevant"},{"owner":{"account_id":22580947,"reputation":31,"user_id":16765590,"display_name":"Jack Nickelson"},"score":0,"creation_date":1633426854,"post_id":69448038,"comment_id":122750528,"body_markdown":"https://stackoverflow.com/users/330315/a-horse-with-no-name","body":"<a href=\"https://stackoverflow.com/users/330315/a-horse-with-no-name\">stackoverflow.com/users/330315/a-horse-with-no-name</a>"},{"owner":{"account_id":22580947,"reputation":31,"user_id":16765590,"display_name":"Jack Nickelson"},"score":0,"creation_date":1633426865,"post_id":69448038,"comment_id":122750533,"body_markdown":"then why it changes the order?","body":"then why it changes the order?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1633427059,"post_id":69448038,"comment_id":122750607,"body_markdown":"`jsonb` normalizes the representation to allow for better storage and more efficient processing. As the order of keys is irrelevant, changing that order has not impact on the actual value","body":"<code>jsonb</code> normalizes the representation to allow for better storage and more efficient processing. As the order of keys is irrelevant, changing that order has not impact on the actual value"}],"answers":[{"tags":[],"owner":{"account_id":10642195,"reputation":5360,"user_id":7836833,"display_name":"deepakchethan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633442136,"creation_date":1633426860,"answer_id":69448160,"question_id":69448038,"body_markdown":"You should be using the `json` type as per the [Postgres docs](https://www.postgresql.org/docs/current/datatype-json.html), if you want to preserve the order of object keys:\r\n\r\n&gt; In general, most applications should prefer to store JSON data as jsonb, unless there are quite specialized needs, such as legacy assumptions about ordering of object keys.\r\n\r\nPostgres internally sorts &amp; indexes the data stored as jsonb so that it is faster to run operations on it. You can check https://bitnine.net/blog-postgresql/postgresql-internals-jsonb-type-and-its-indexes/ for more info.\r\n\r\nYou can change it to:\r\n```\r\n    @Type(type = &quot;json&quot;)\r\n    @Column(columnDefinition = &quot;json&quot;)\r\n    private Map&lt;String, String&gt; businessHours;\r\n```\r\nYou can refer https://fullstackdeveloper.guru/2020/05/29/how-to-map-json-data-in-postgresql-database-to-a-hibernate-entity-column/ for more info.","title":"hibernate jsonb type after save makes some ordering","body":"<p>You should be using the <code>json</code> type as per the <a href=\"https://www.postgresql.org/docs/current/datatype-json.html\" rel=\"nofollow noreferrer\">Postgres docs</a>, if you want to preserve the order of object keys:</p>\n<blockquote>\n<p>In general, most applications should prefer to store JSON data as jsonb, unless there are quite specialized needs, such as legacy assumptions about ordering of object keys.</p>\n</blockquote>\n<p>Postgres internally sorts &amp; indexes the data stored as jsonb so that it is faster to run operations on it. You can check <a href=\"https://bitnine.net/blog-postgresql/postgresql-internals-jsonb-type-and-its-indexes/\" rel=\"nofollow noreferrer\">https://bitnine.net/blog-postgresql/postgresql-internals-jsonb-type-and-its-indexes/</a> for more info.</p>\n<p>You can change it to:</p>\n<pre><code>    @Type(type = &quot;json&quot;)\n    @Column(columnDefinition = &quot;json&quot;)\n    private Map&lt;String, String&gt; businessHours;\n</code></pre>\n<p>You can refer <a href=\"https://fullstackdeveloper.guru/2020/05/29/how-to-map-json-data-in-postgresql-database-to-a-hibernate-entity-column/\" rel=\"nofollow noreferrer\">https://fullstackdeveloper.guru/2020/05/29/how-to-map-json-data-in-postgresql-database-to-a-hibernate-entity-column/</a> for more info.</p>\n"}],"owner":{"account_id":22580947,"reputation":31,"user_id":16765590,"display_name":"Jack Nickelson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633442136,"creation_date":1633426317,"question_id":69448038,"body_markdown":"     @Type(type = &quot;jsonb&quot;)\r\n    @Column(columnDefinition = &quot;jsonb&quot;)\r\n    private Map&lt;String, String&gt; businessHours;\r\n\r\nthis is field I set some map to it which keys are Sunday and Monday for example \r\n,but after save in db i get Monday and Sunday order ,I need to keep it under Sunday Monday order how can I handle it?\r\neven after save order is okay like i wanted but in db i see different order","title":"hibernate jsonb type after save makes some ordering","body":"<pre><code> @Type(type = &quot;jsonb&quot;)\n@Column(columnDefinition = &quot;jsonb&quot;)\nprivate Map&lt;String, String&gt; businessHours;\n</code></pre>\n<p>this is field I set some map to it which keys are Sunday and Monday for example\n,but after save in db i get Monday and Sunday order ,I need to keep it under Sunday Monday order how can I handle it?\neven after save order is okay like i wanted but in db i see different order</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1633438354,"post_id":69450777,"comment_id":122755228,"body_markdown":"I don&#39;t understand. Is it the unused `T` declaration that&#39;s bothering you?","body":"I don&#39;t understand. Is it the unused <code>T</code> declaration that&#39;s bothering you?"},{"owner":{"display_name":"user6743474"},"score":0,"creation_date":1633438462,"post_id":69450777,"comment_id":122755282,"body_markdown":"Yes.   I was not aware that you could specify redundant parameters.","body":"Yes.   I was not aware that you could specify redundant parameters."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1633438542,"post_id":69450777,"comment_id":122755322,"body_markdown":"Even `E` is pretty much redundant. `String.equals(E)` won&#39;t return true unless the `E` object is a `String`. So `map` can just be declared as `Map&lt;String, String&gt;` and all type variables can be gotten rid of.","body":"Even <code>E</code> is pretty much redundant. <code>String.equals(E)</code> won&#39;t return true unless the <code>E</code> object is a <code>String</code>. So <code>map</code> can just be declared as <code>Map&lt;String, String&gt;</code> and all type variables can be gotten rid of."},{"owner":{"account_id":2844499,"reputation":599,"user_id":2443288,"accept_rate":100,"display_name":"David"},"score":0,"creation_date":1633438813,"post_id":69450777,"comment_id":122755455,"body_markdown":"yea this code is broken as value.equals(....) is comparing a type E with a string","body":"yea this code is broken as value.equals(....) is comparing a type E with a string"}],"answers":[{"tags":[],"owner":{"account_id":2844499,"reputation":599,"user_id":2443288,"accept_rate":100,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633438600,"creation_date":1633438361,"answer_id":69450829,"question_id":69450777,"body_markdown":"Your first example is just declaring Type parameters that are never used - you can declare as many as you like!\r\n\r\n\r\n```java\r\nprivate &lt;T, E, F, G&gt; String getKeyByValue(Map&lt;String, E&gt; map, String value) {\r\n    for (Entry&lt;String, E&gt; entry : map.entrySet()) {\r\n        if (value.equals(entry.getValue())) {\r\n            return entry.getKey();\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```","title":"Java Generics Function Return Declaration","body":"<p>Your first example is just declaring Type parameters that are never used - you can declare as many as you like!</p>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;T, E, F, G&gt; String getKeyByValue(Map&lt;String, E&gt; map, String value) {\n    for (Entry&lt;String, E&gt; entry : map.entrySet()) {\n        if (value.equals(entry.getValue())) {\n            return entry.getKey();\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633438865,"creation_date":1633438865,"answer_id":69450963,"question_id":69450777,"body_markdown":"For the first sample, the generic format type `T` is not used, hence can be removed which brings the implementation to be as you second method implementation.\r\n\r\nIn the second implementation, the *Java Generics* use is with no utility as the `equals` method (you are calling with a typed parameter `E`) for the `java.lang.String` class accepts an `Object` argument, hence any object would fit in there.\r\n\r\n    private &lt;E&gt; String getKeyByValue(Map&lt;String, E&gt; map, String value) {\r\n        for (Map.Entry&lt;String, E&gt; entry : map.entrySet()) {\r\n            if (value.equals(entry.getValue())) { // there is no type checking needed over the value as it can be any acceptable object\r\n                return entry.getKey();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\nThe same method could be rewritten using a `?` wildcard as the formal type since there is no type-bounded operations that are needed over the `Map` values:\r\n\r\n    private String getKeyByValue(Map&lt;String, ?&gt; map, String value) {\r\n        for (Map.Entry&lt;String, ?&gt; entry : map.entrySet()) {\r\n            if (value.equals(entry.getValue())) {\r\n                return entry.getKey();\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"Java Generics Function Return Declaration","body":"<p>For the first sample, the generic format type <code>T</code> is not used, hence can be removed which brings the implementation to be as you second method implementation.</p>\n<p>In the second implementation, the <em>Java Generics</em> use is with no utility as the <code>equals</code> method (you are calling with a typed parameter <code>E</code>) for the <code>java.lang.String</code> class accepts an <code>Object</code> argument, hence any object would fit in there.</p>\n<pre><code>private &lt;E&gt; String getKeyByValue(Map&lt;String, E&gt; map, String value) {\n    for (Map.Entry&lt;String, E&gt; entry : map.entrySet()) {\n        if (value.equals(entry.getValue())) { // there is no type checking needed over the value as it can be any acceptable object\n            return entry.getKey();\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>The same method could be rewritten using a <code>?</code> wildcard as the formal type since there is no type-bounded operations that are needed over the <code>Map</code> values:</p>\n<pre><code>private String getKeyByValue(Map&lt;String, ?&gt; map, String value) {\n    for (Map.Entry&lt;String, ?&gt; entry : map.entrySet()) {\n        if (value.equals(entry.getValue())) {\n            return entry.getKey();\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633442088,"creation_date":1633442088,"answer_id":69451799,"question_id":69450777,"body_markdown":"For the first case, type parameter `T` is obviously redundant. \r\n\r\nFrom another point of view, a similar case is declaring method input parameter without using it. You may think the compiler should not allow us to do so. But **sometimes such &quot;flexibility&quot; can be useful**. For example, we may have parent class having a method with input parameter only used in child class. Although I can&#39;t think of a scenario for redundant type parameter to be useful, someone may make use of such language flexibility to solve their problem.\r\n\r\nI would say the first case should be considered as code smell, just like empty if statement, or declaring unused variable. IDE and linter are the right tool to tackle them, not the compiler. ","title":"Java Generics Function Return Declaration","body":"<p>For the first case, type parameter <code>T</code> is obviously redundant.</p>\n<p>From another point of view, a similar case is declaring method input parameter without using it. You may think the compiler should not allow us to do so. But <strong>sometimes such &quot;flexibility&quot; can be useful</strong>. For example, we may have parent class having a method with input parameter only used in child class. Although I can't think of a scenario for redundant type parameter to be useful, someone may make use of such language flexibility to solve their problem.</p>\n<p>I would say the first case should be considered as code smell, just like empty if statement, or declaring unused variable. IDE and linter are the right tool to tackle them, not the compiler.</p>\n"}],"owner":{"display_name":"user6743474"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69450963,"answer_count":3,"score":1,"last_activity_date":1633442088,"creation_date":1633438149,"question_id":69450777,"body_markdown":"I am new to Java generics and have managed to get a `getKeyByValue` function working with a `HashMap&lt;String, String&gt;`, but I don&#39;t understand how the function declaration can be ambiguous/redundant and still work.   For example both of these declaration work but the first does not make a lot of sense to me:\r\n```java\r\n    private &lt;T, E&gt; String getKeyByValue(Map&lt;String, E&gt; map, String value) {\r\n\t\tfor (Entry&lt;String, E&gt; entry : map.entrySet()) {\r\n\t\t\tif (value.equals(entry.getValue())) {\r\n\t\t\t\treturn entry.getKey();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```\r\nExample with just `&lt;E&gt;`:\r\n```java\r\n    private &lt;E&gt; String getKeyByValue(Map&lt;String, E&gt; map, String value) {\r\n\t\tfor (Entry&lt;String, E&gt; entry : map.entrySet()) {\r\n\t\t\tif (value.equals(entry.getValue())) {\r\n\t\t\t\treturn entry.getKey();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```\r\n","title":"Java Generics Function Return Declaration","body":"<p>I am new to Java generics and have managed to get a <code>getKeyByValue</code> function working with a <code>HashMap&lt;String, String&gt;</code>, but I don't understand how the function declaration can be ambiguous/redundant and still work.   For example both of these declaration work but the first does not make a lot of sense to me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private &lt;T, E&gt; String getKeyByValue(Map&lt;String, E&gt; map, String value) {\n        for (Entry&lt;String, E&gt; entry : map.entrySet()) {\n            if (value.equals(entry.getValue())) {\n                return entry.getKey();\n            }\n        }\n        return null;\n    }\n</code></pre>\n<p>Example with just <code>&lt;E&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private &lt;E&gt; String getKeyByValue(Map&lt;String, E&gt; map, String value) {\n        for (Entry&lt;String, E&gt; entry : map.entrySet()) {\n            if (value.equals(entry.getValue())) {\n                return entry.getKey();\n            }\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","spring"],"owner":{"account_id":12898501,"reputation":590,"user_id":9328115,"display_name":"Yuri Molodyko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1633442068,"creation_date":1633441504,"question_id":69451644,"body_markdown":"i have the test class, with @ContextConfiguration, which works:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = &quot;my.xml&quot;, initializers = MyTest.MockJee.class)\r\n    public class MyTest {\r\n    ...\r\n    }\r\nI have the abstract test class, with @SpringBootTest, his childs works too:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest(webEnviroment = SpringBootTest.WebEnviroment.RANDOM_PORT, classes = App.class)\r\n    public abstract class MyAbstractTest {\r\n    ...\r\n    }\r\n\r\nWhen i try, to give MyAbstractTest @ContextConfiguration (I want to extends from MyAbstractTest class for MyTest),the initializer from @ContextConfiguration work, but results of them doesn&#39;t save in context, and the result is crush.\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest(webEnviroment = SpringBootTest.WebEnviroment.RANDOM_PORT, classes = App.class)\r\n    @ContextConfiguration(locations = &quot;my.xml&quot;, initializers = MyTest.MockJee.class)\r\n    public abstract class MyAbstractTest {\r\n    ...\r\n    }\r\n\r\nSo how to join functionality of @ContextConfiguration and @SpringBootTest?\r\n","title":"How to join functionality of @ContextConfiguration and @SpringBootTest (Java SpringBoot)?","body":"<p>i have the test class, with @ContextConfiguration, which works:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = &quot;my.xml&quot;, initializers = MyTest.MockJee.class)\npublic class MyTest {\n...\n}\n</code></pre>\n<p>I have the abstract test class, with @SpringBootTest, his childs works too:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(webEnviroment = SpringBootTest.WebEnviroment.RANDOM_PORT, classes = App.class)\npublic abstract class MyAbstractTest {\n...\n}\n</code></pre>\n<p>When i try, to give MyAbstractTest @ContextConfiguration (I want to extends from MyAbstractTest class for MyTest),the initializer from @ContextConfiguration work, but results of them doesn't save in context, and the result is crush.</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(webEnviroment = SpringBootTest.WebEnviroment.RANDOM_PORT, classes = App.class)\n@ContextConfiguration(locations = &quot;my.xml&quot;, initializers = MyTest.MockJee.class)\npublic abstract class MyAbstractTest {\n...\n}\n</code></pre>\n<p>So how to join functionality of @ContextConfiguration and @SpringBootTest?</p>\n"},{"tags":["java","visual-studio-code","javafx","java-17","javafx-17"],"comments":[{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1633489450,"post_id":69449106,"comment_id":122770647,"body_markdown":"Does this answer help you? [How can I use javafx in visual studio code](https://stackoverflow.com/questions/69294852/how-can-i-use-javafx-in-visual-studio-code)","body":"Does this answer help you? <a href=\"https://stackoverflow.com/questions/69294852/how-can-i-use-javafx-in-visual-studio-code\">How can I use javafx in visual studio code</a>"}],"answers":[{"tags":[],"owner":{"account_id":22864329,"reputation":21,"user_id":17007918,"display_name":"stackoverflowuser1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633441642,"creation_date":1633441642,"answer_id":69451684,"question_id":69449106,"body_markdown":"Try this: https://stackoverflow.com/questions/57458954/add-javafx-jmods-to-java-list-modules\r\n\r\nOr another solution is merge JavaFx with JDK by downloading jmods files of the JDK and JavaFx, then use jlink to merge the jmods files together to get one SDK contains JDK and JavaFx, read about this below under section &quot;Custom JDK+JavaFX image&quot;.\r\n\r\nhttps://openjfx.io/openjfx-docs/#modular","title":"(JavaFX in VSCode) VSCode dos not connect to JavaFX Libaries","body":"<p>Try this: <a href=\"https://stackoverflow.com/questions/57458954/add-javafx-jmods-to-java-list-modules\">Add JavaFX jmods to java --list-modules</a></p>\n<p>Or another solution is merge JavaFx with JDK by downloading jmods files of the JDK and JavaFx, then use jlink to merge the jmods files together to get one SDK contains JDK and JavaFx, read about this below under section &quot;Custom JDK+JavaFX image&quot;.</p>\n<p><a href=\"https://openjfx.io/openjfx-docs/#modular\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/#modular</a></p>\n"}],"owner":{"account_id":21058595,"reputation":15,"user_id":15477436,"display_name":"Chrissi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1727,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633441642,"creation_date":1633431068,"question_id":69449106,"body_markdown":"i want to install JavaFX in VSCode. I downloaded the SDK and added the files with the Referenced libaries and they also appear in the settings.json. So I added the Files correctly. I also addes this in the launch.json:\r\n\r\n```\r\n&quot;vmArgs&quot;: &quot;--module-path C:/JavaFX/lib --add-modules javafx.controls,javafx.fxml,javafx.web,javafx.graphics&quot;\r\n```\r\n\r\nBut still every time I try to run my programm this appears:\r\n\r\n```none\r\nApp.java:1: error: package javafx.application does not exist\r\nimport javafx.application.Application;\r\n\r\nApp.java:2: error: package javafx.event does not exist\r\nimport javafx.event.ActionEvent;\r\n\r\nApp.java:3: error: package javafx.event does not exist\r\nimport javafx.event.EventHandler;\r\n\r\nApp.java:4: error: package javafx.scene does not exist\r\nimport javafx.scene.Scene;\r\n\r\nApp.java:5: error: package javafx.scene.control does not exist\r\n\r\nApp.java:6: error: package javafx.scene.layout does not exist\r\n\r\nApp.java:7: error: package javafx.stage does not exist\r\n\r\nApp.java:9: error: cannot find symbol\r\n```\r\n\r\nI don&#39;t know what to do anymore I tried to follow many tutorials but not one helped.","title":"(JavaFX in VSCode) VSCode dos not connect to JavaFX Libaries","body":"<p>i want to install JavaFX in VSCode. I downloaded the SDK and added the files with the Referenced libaries and they also appear in the settings.json. So I added the Files correctly. I also addes this in the launch.json:</p>\n<pre><code>&quot;vmArgs&quot;: &quot;--module-path C:/JavaFX/lib --add-modules javafx.controls,javafx.fxml,javafx.web,javafx.graphics&quot;\n</code></pre>\n<p>But still every time I try to run my programm this appears:</p>\n<pre class=\"lang-none prettyprint-override\"><code>App.java:1: error: package javafx.application does not exist\nimport javafx.application.Application;\n\nApp.java:2: error: package javafx.event does not exist\nimport javafx.event.ActionEvent;\n\nApp.java:3: error: package javafx.event does not exist\nimport javafx.event.EventHandler;\n\nApp.java:4: error: package javafx.scene does not exist\nimport javafx.scene.Scene;\n\nApp.java:5: error: package javafx.scene.control does not exist\n\nApp.java:6: error: package javafx.scene.layout does not exist\n\nApp.java:7: error: package javafx.stage does not exist\n\nApp.java:9: error: cannot find symbol\n</code></pre>\n<p>I don't know what to do anymore I tried to follow many tutorials but not one helped.</p>\n"},{"tags":["java","api","rest","exception","microprofile"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1634395721,"post_id":69451671,"comment_id":123015364,"body_markdown":"have you seen https://stackoverflow.com/a/64576320/175554 ?","body":"have you seen <a href=\"https://stackoverflow.com/a/64576320/175554\">stackoverflow.com/a/64576320/175554</a> ?"},{"owner":{"account_id":22437378,"reputation":107,"user_id":16642431,"display_name":"Prodox21"},"score":0,"creation_date":1634568442,"post_id":69451671,"comment_id":123053678,"body_markdown":"The solution described concerns @ControllerAdvice which is part of Spring, I am using Microprofile. Https://www.baeldung.com/javax-validations-enums is also linked, I tried what is described in point 4 but it doesn&#39;t work.","body":"The solution described concerns @ControllerAdvice which is part of Spring, I am using Microprofile. <a href=\"Https://www.baeldung.com/javax-validations-enums\" rel=\"nofollow noreferrer\">Https://www.baeldung.com/javax-validations-enums</a> is also linked, I tried what is described in point 4 but it doesn&#39;t work."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1634581642,"post_id":69451671,"comment_id":123058660,"body_markdown":"can you put a reproducer to github?","body":"can you put a reproducer to github?"},{"owner":{"account_id":22437378,"reputation":107,"user_id":16642431,"display_name":"Prodox21"},"score":0,"creation_date":1634631267,"post_id":69451671,"comment_id":123069941,"body_markdown":"Sorry but I don&#39;t have github, I have better described my problem here: https://stackoverflow.com/questions/69619208/validations-for-enum-types-java-microprofile. I was unable to modify my application and therefore I opened another one","body":"Sorry but I don&#39;t have github, I have better described my problem here: <a href=\"https://stackoverflow.com/questions/69619208/validations-for-enum-types-java-microprofile\" title=\"validations for enum types java microprofile\">stackoverflow.com/questions/69619208/&hellip;</a>. I was unable to modify my application and therefore I opened another one"},{"owner":{"account_id":22437378,"reputation":107,"user_id":16642431,"display_name":"Prodox21"},"score":0,"creation_date":1634659035,"post_id":69451671,"comment_id":123082457,"body_markdown":"no, this is my question related to this problem where i show how i tried to find a solution without success","body":"no, this is my question related to this problem where i show how i tried to find a solution without success"}],"owner":{"account_id":22437378,"reputation":107,"user_id":16642431,"display_name":"Prodox21"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633441597,"creation_date":1633441597,"question_id":69451671,"body_markdown":"I have a REST service that takes an object containing an enum field as input. When a value not present in the enum is passed to me in input, a BAD REQUEST is automatically launched. I tried to go into debug to see where to handle the error but I notice that it doesn&#39;t really enter the method.\r\n\r\nRetrieve interface:\r\n\r\n    @POST\r\n    @Path(&quot;/retrieve&quot;)\r\n    public Response retrieveValue(@Valid User user);\r\n\r\nUser:\r\n\r\n    public class User(){\r\n      String name;\r\n      String surname;\r\n      CityEnum city;\r\n\r\n      // getter and setter whith @NotNull annotation\r\n    }\r\n\r\nCityEnum:\r\n\r\n    public enum CityEnum(){\r\n       LONDON(&quot;London&quot;),\r\n       LIVERPOOL(&quot;Liverpool&quot;),\r\n       ...\r\n    \r\n      private String city;\r\n    }\r\n\r\nI need to return an error message and I assume the handling will be done in the RetrieveService which implements the Retrieve interface. How can this be done? \r\nI am using Mricroprofile.\r\n ","title":"How to handle a validation error of an input enum field to a REST service?","body":"<p>I have a REST service that takes an object containing an enum field as input. When a value not present in the enum is passed to me in input, a BAD REQUEST is automatically launched. I tried to go into debug to see where to handle the error but I notice that it doesn't really enter the method.</p>\n<p>Retrieve interface:</p>\n<pre><code>@POST\n@Path(&quot;/retrieve&quot;)\npublic Response retrieveValue(@Valid User user);\n</code></pre>\n<p>User:</p>\n<pre><code>public class User(){\n  String name;\n  String surname;\n  CityEnum city;\n\n  // getter and setter whith @NotNull annotation\n}\n</code></pre>\n<p>CityEnum:</p>\n<pre><code>public enum CityEnum(){\n   LONDON(&quot;London&quot;),\n   LIVERPOOL(&quot;Liverpool&quot;),\n   ...\n\n  private String city;\n}\n</code></pre>\n<p>I need to return an error message and I assume the handling will be done in the RetrieveService which implements the Retrieve interface. How can this be done?\nI am using Mricroprofile.</p>\n"},{"tags":["java","arrays","constructor","binary-tree"],"comments":[{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":1,"creation_date":1633399968,"post_id":69443740,"comment_id":122743474,"body_markdown":"And what is your question?","body":"And what is your question?"},{"owner":{"account_id":21860332,"reputation":59,"user_id":16151206,"display_name":"Fire Assassin"},"score":0,"creation_date":1633415487,"post_id":69443740,"comment_id":122746315,"body_markdown":"@zysaaa thought it was pretty self explanatory but to break it down for you, my question Is, is there a way to make the tree using a constructor of an array of objects as a parameter, if so how?","body":"@zysaaa thought it was pretty self explanatory but to break it down for you, my question Is, is there a way to make the tree using a constructor of an array of objects as a parameter, if so how?"},{"owner":{"account_id":17673712,"reputation":487,"user_id":12829221,"display_name":"Sumit Singh"},"score":0,"creation_date":1633415754,"post_id":69443740,"comment_id":122746385,"body_markdown":"Yes you can, you need to pass index every time and also keep track of it","body":"Yes you can, you need to pass index every time and also keep track of it"},{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":0,"creation_date":1633416208,"post_id":69443740,"comment_id":122746538,"body_markdown":"Doesn&#39;t your constructor in the code you&#39;ve provided already takes in an array of objects?","body":"Doesn&#39;t your constructor in the code you&#39;ve provided already takes in an array of objects?"},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1633423384,"post_id":69443740,"comment_id":122749149,"body_markdown":"@HenryTwist  The code he provided didn&#39;t work.","body":"@HenryTwist  The code he provided didn&#39;t work."},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1633433094,"post_id":69443740,"comment_id":122753072,"body_markdown":"Are you always going to create a *complete* binary tree? What if it is not complete? How should it work?","body":"Are you always going to create a <i>complete</i> binary tree? What if it is not complete? How should it work?"},{"owner":{"account_id":21860332,"reputation":59,"user_id":16151206,"display_name":"Fire Assassin"},"score":0,"creation_date":1633436697,"post_id":69443740,"comment_id":122754547,"body_markdown":"@trincot it should still go depth-by-depth and keep going left-to-right, I&#39;ll add an example of how it&#39;ll look if it&#39;s not complete","body":"@trincot it should still go depth-by-depth and keep going left-to-right, I&#39;ll add an example of how it&#39;ll look if it&#39;s not complete"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1633437258,"post_id":69443740,"comment_id":122754760,"body_markdown":"What would be the tree produced for, say `new BinaryTree(1,3,4,5,6,7)`?","body":"What would be the tree produced for, say <code>new BinaryTree(1,3,4,5,6,7)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633441522,"creation_date":1633440814,"answer_id":69451457,"question_id":69443740,"body_markdown":"Some issues:\r\n\r\n* When you make the first call to `makeBinaryTree`,  the `node` argument is `null`, and thus any access to `node.getLeft()`, `node.setLeft()`, ...etc, is invalid. Although `root` receives a value, that is a different variable than the local variable `node`, which does not change by that update (&quot;call by value&quot;).\r\n\r\n* The second function only creates a new node when `root` is `null`, which happens only once. So in total it will never create more than one single node.\r\n\r\n* The second function always returns the `root` node, which is not what you want to get returned from the deeper recursive calls.\r\n\r\nIt is a better coding pattern when you omit this `Node` parameter completely. Instead let the job of `makeBinaryTree` be to *create* the node for the given index, and *return* it, and let it be ignorant of `root`. That way the first call can assign that returned Node instance to `root`.\r\n\r\nHere is the corrected code:\r\n\r\n```\r\npublic BinaryTree(Object... args) {\r\n    if (args != null &amp;&amp; args.length &gt; 0) {\r\n        setRoot(makeBinaryTree(args, 0));\r\n    }\r\n}\r\n\r\npublic Node makeBinaryTree(Object[] args, int h) {\r\n    if (h &gt;= args.length) return null;\r\n    Node node = new Node(args[h]);\r\n    node.setLeft(makeBinaryTree(args, 2 * h + 1));\r\n    node.setRight(makeBinaryTree(args, 2 * h + 2));\r\n    return node;\r\n}\r\n```\r\n\r\nIf you have a `Node` constructor that can take three arguments (value, left and right), then the second function can be shortened to:\r\n\r\n```\r\npublic Node makeBinaryTree(Object[] args, int h) {\r\n    return h &gt;= args.length ? null\r\n         : new Node(args[h], \r\n                    makeBinaryTree(args, 2 * h + 1),\r\n                    makeBinaryTree(args, 2 * h + 2));\r\n}\r\n```\r\n\r\n","title":"Making a binary tree with a constructor with an array parameter","body":"<p>Some issues:</p>\n<ul>\n<li><p>When you make the first call to <code>makeBinaryTree</code>,  the <code>node</code> argument is <code>null</code>, and thus any access to <code>node.getLeft()</code>, <code>node.setLeft()</code>, ...etc, is invalid. Although <code>root</code> receives a value, that is a different variable than the local variable <code>node</code>, which does not change by that update (&quot;call by value&quot;).</p>\n</li>\n<li><p>The second function only creates a new node when <code>root</code> is <code>null</code>, which happens only once. So in total it will never create more than one single node.</p>\n</li>\n<li><p>The second function always returns the <code>root</code> node, which is not what you want to get returned from the deeper recursive calls.</p>\n</li>\n</ul>\n<p>It is a better coding pattern when you omit this <code>Node</code> parameter completely. Instead let the job of <code>makeBinaryTree</code> be to <em>create</em> the node for the given index, and <em>return</em> it, and let it be ignorant of <code>root</code>. That way the first call can assign that returned Node instance to <code>root</code>.</p>\n<p>Here is the corrected code:</p>\n<pre><code>public BinaryTree(Object... args) {\n    if (args != null &amp;&amp; args.length &gt; 0) {\n        setRoot(makeBinaryTree(args, 0));\n    }\n}\n\npublic Node makeBinaryTree(Object[] args, int h) {\n    if (h &gt;= args.length) return null;\n    Node node = new Node(args[h]);\n    node.setLeft(makeBinaryTree(args, 2 * h + 1));\n    node.setRight(makeBinaryTree(args, 2 * h + 2));\n    return node;\n}\n</code></pre>\n<p>If you have a <code>Node</code> constructor that can take three arguments (value, left and right), then the second function can be shortened to:</p>\n<pre><code>public Node makeBinaryTree(Object[] args, int h) {\n    return h &gt;= args.length ? null\n         : new Node(args[h], \n                    makeBinaryTree(args, 2 * h + 1),\n                    makeBinaryTree(args, 2 * h + 2));\n}\n</code></pre>\n"}],"owner":{"account_id":21860332,"reputation":59,"user_id":16151206,"display_name":"Fire Assassin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69451457,"answer_count":1,"score":-1,"last_activity_date":1633441522,"creation_date":1633394513,"question_id":69443740,"body_markdown":"I&#39;m currently trying to make my own binary tree by using a constructor with an array of objects as a parameter. I want it to go depth-by-depth, and going left-to-right in each level. I currently have something like this:\r\n\r\n    public BinaryTree(Object... args) {\r\n            makeBinaryTree(args, root, 0);\r\n        }\r\n        public Node makeBinaryTree(Object[] args, Node node, int h) {\r\n            if (h &lt; args.length &amp;&amp; root == null) {\r\n                setRoot(new Node(args[0]));\r\n                node.setLeft(makeBinaryTree(args, node.getLeft(), 2 * h + 1));\r\n                node.setRight(makeBinaryTree(args, node.getRight(), 2 * h + 2));\r\n            }\r\n            return root;\r\n        }\r\n\r\nSo if I were to call this: `new BinaryTree(1,2,3,4,5,6)`\r\nit&#39;ll look like this:\r\n              \r\n\r\n                  1\r\n                 / \\\r\n                2   3\r\n               / \\ /\r\n              4  5 6\r\n\r\nIf it&#39;s not complete: `new Binary Tree(1,2,3,4,5,7)`\r\nwill look like this:\r\n           \r\n\r\n              1\r\n             / \\\r\n            2   3\r\n           / \\   \\\r\n          4  5    7\r\n\r\nAnyone know how to achieve this?","title":"Making a binary tree with a constructor with an array parameter","body":"<p>I'm currently trying to make my own binary tree by using a constructor with an array of objects as a parameter. I want it to go depth-by-depth, and going left-to-right in each level. I currently have something like this:</p>\n<pre><code>public BinaryTree(Object... args) {\n        makeBinaryTree(args, root, 0);\n    }\n    public Node makeBinaryTree(Object[] args, Node node, int h) {\n        if (h &lt; args.length &amp;&amp; root == null) {\n            setRoot(new Node(args[0]));\n            node.setLeft(makeBinaryTree(args, node.getLeft(), 2 * h + 1));\n            node.setRight(makeBinaryTree(args, node.getRight(), 2 * h + 2));\n        }\n        return root;\n    }\n</code></pre>\n<p>So if I were to call this: <code>new BinaryTree(1,2,3,4,5,6)</code>\nit'll look like this:</p>\n<pre><code>              1\n             / \\\n            2   3\n           / \\ /\n          4  5 6\n</code></pre>\n<p>If it's not complete: <code>new Binary Tree(1,2,3,4,5,7)</code>\nwill look like this:</p>\n<pre><code>          1\n         / \\\n        2   3\n       / \\   \\\n      4  5    7\n</code></pre>\n<p>Anyone know how to achieve this?</p>\n"},{"tags":["java","http","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1634057178,"post_id":69451113,"comment_id":122922183,"body_markdown":"Does my answer help you to fix your issue ?","body":"Does my answer help you to fix your issue ?"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633441434,"creation_date":1633441434,"answer_id":69451624,"question_id":69451113,"body_markdown":"[This](https://stackoverflow.com/q/34413/10952503) question contains multiple informations about why you get this error.\r\n\r\nWhen you are in development environment, it&#39;s your IDE that run it. So, it will also run all dependencies.\r\n\r\nWhen you build the jar, you don&#39;t export dependency.\r\n\r\n**To do it, you can**:\r\n\r\n- For **maven**, check [this](https://stackoverflow.com/q/1729054/10952503) or [this](https://stackoverflow.com/q/574594/10952503) question:\r\n\r\n```maven\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;my.lib&lt;/groupId&gt;\r\n    &lt;artifactId&gt;LibName&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt; &lt;!-- here you have to set compile --&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWith this part too:\r\n```maven\r\n&lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n            &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                    &lt;mainClass&gt;...&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;make-assembly&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;single&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n```\r\n\r\n- For **gradle**, check [this thread](https://discuss.gradle.org/t/how-to-include-dependencies-in-jar/19571) or [this question](https://stackoverflow.com/q/4871656/10952503) :\r\n\r\n```gradle\r\nconfigurations {\r\n    // configuration that holds jars to include in the jar\r\n    extraLibs\r\n}\r\n\r\ndependencies {\r\n    extraLibs &#39;my.lib:LibName:1.0.0&#39;\r\n}\r\n\r\njar {\r\n    from {\r\n        configurations.extraLibs.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n}\r\n```\r\n- You can **load external jar** from your own such as explained [here](https://stackoverflow.com/q/60764/10952503) :\r\n\r\n```java\r\nFile file = new File(&quot;mylib.jar&quot;);\r\nURL url = file.toURI().toURL();\r\n\r\nURLClassLoader classLoader = (URLClassLoader)ClassLoader.getSystemClassLoader();\r\nMethod method = URLClassLoader.class.getDeclaredMethod(&quot;addURL&quot;, URL.class);\r\nmethod.setAccessible(true);\r\nmethod.invoke(classLoader, url);\r\n```\r\n\r\n- If you are **not using one of them**, it depend. Sometimes you have an option directly when you export your jar.","title":"Sending HTTP requests in a Minecraft Mod","body":"<p><a href=\"https://stackoverflow.com/q/34413/10952503\">This</a> question contains multiple informations about why you get this error.</p>\n<p>When you are in development environment, it's your IDE that run it. So, it will also run all dependencies.</p>\n<p>When you build the jar, you don't export dependency.</p>\n<p><strong>To do it, you can</strong>:</p>\n<ul>\n<li>For <strong>maven</strong>, check <a href=\"https://stackoverflow.com/q/1729054/10952503\">this</a> or <a href=\"https://stackoverflow.com/q/574594/10952503\">this</a> question:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;my.lib&lt;/groupId&gt;\n    &lt;artifactId&gt;LibName&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt; &lt;!-- here you have to set compile --&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>With this part too:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;mainClass&gt;...&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;make-assembly&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<ul>\n<li>For <strong>gradle</strong>, check <a href=\"https://discuss.gradle.org/t/how-to-include-dependencies-in-jar/19571\" rel=\"nofollow noreferrer\">this thread</a> or <a href=\"https://stackoverflow.com/q/4871656/10952503\">this question</a> :</li>\n</ul>\n<pre><code>configurations {\n    // configuration that holds jars to include in the jar\n    extraLibs\n}\n\ndependencies {\n    extraLibs 'my.lib:LibName:1.0.0'\n}\n\njar {\n    from {\n        configurations.extraLibs.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n<ul>\n<li>You can <strong>load external jar</strong> from your own such as explained <a href=\"https://stackoverflow.com/q/60764/10952503\">here</a> :</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(&quot;mylib.jar&quot;);\nURL url = file.toURI().toURL();\n\nURLClassLoader classLoader = (URLClassLoader)ClassLoader.getSystemClassLoader();\nMethod method = URLClassLoader.class.getDeclaredMethod(&quot;addURL&quot;, URL.class);\nmethod.setAccessible(true);\nmethod.invoke(classLoader, url);\n</code></pre>\n<ul>\n<li>If you are <strong>not using one of them</strong>, it depend. Sometimes you have an option directly when you export your jar.</li>\n</ul>\n"}],"owner":{"account_id":21675943,"reputation":117,"user_id":15992910,"display_name":"IvanEFan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69451624,"answer_count":1,"score":0,"last_activity_date":1633441434,"creation_date":1633439425,"question_id":69451113,"body_markdown":"I am developing a Fabric Minecraft mod that will send http requests.\r\n\r\nHere is the code I used:\r\n\r\n```java\r\nimport com.google.gson.JsonObject;\r\nimport org.apache.http.client.methods.HttpPost;\r\nimport org.apache.http.entity.StringEntity;\r\nimport org.apache.http.impl.client.CloseableHttpClient;\r\nimport org.apache.http.impl.client.HttpClientBuilder;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class NetworkUtils {\r\n    public static void post(String url, JsonObject json) throws IOException {\r\n        CloseableHttpClient httpClient = HttpClientBuilder.create().build();\r\n\r\n        HttpPost request = new HttpPost(url);\r\n        StringEntity params = new StringEntity(json.toString());\r\n        request.addHeader(&quot;content-type&quot;, &quot;application/json&quot;);\r\n        request.setEntity(params);\r\n        httpClient.execute(request);\r\n        httpClient.close();\r\n    }\r\n}\r\n```\r\n\r\nIt worked well when I run it in the development environment. However, when I build it into a jar file and put it in the `mods` folder of an actual server, it produce the following error:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: org/apache/http/HttpEntity\r\n```\r\n\r\nHow can I fix it? Thank you so much if you can help","title":"Sending HTTP requests in a Minecraft Mod","body":"<p>I am developing a Fabric Minecraft mod that will send http requests.</p>\n<p>Here is the code I used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.gson.JsonObject;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.StringEntity;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\n\nimport java.io.IOException;\n\npublic class NetworkUtils {\n    public static void post(String url, JsonObject json) throws IOException {\n        CloseableHttpClient httpClient = HttpClientBuilder.create().build();\n\n        HttpPost request = new HttpPost(url);\n        StringEntity params = new StringEntity(json.toString());\n        request.addHeader(&quot;content-type&quot;, &quot;application/json&quot;);\n        request.setEntity(params);\n        httpClient.execute(request);\n        httpClient.close();\n    }\n}\n</code></pre>\n<p>It worked well when I run it in the development environment. However, when I build it into a jar file and put it in the <code>mods</code> folder of an actual server, it produce the following error:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/http/HttpEntity\n</code></pre>\n<p>How can I fix it? Thank you so much if you can help</p>\n"},{"tags":["java","debugging","netbeans"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633852570,"post_id":69451610,"comment_id":122866972,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1634394737,"post_id":69451610,"comment_id":123015102,"body_markdown":"I believe you found a bug :) please report to https://netbeans.apache.org/participate/report-issue.html","body":"I believe you found a bug :) please report to <a href=\"https://netbeans.apache.org/participate/report-issue.html\" rel=\"nofollow noreferrer\">netbeans.apache.org/participate/report-issue.html</a>"}],"owner":{"account_id":18610690,"reputation":27,"user_id":13563196,"display_name":"HannibalTN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633441374,"creation_date":1633441374,"question_id":69451610,"body_markdown":"So, I am using the Anagram game sample in Apache NetBeans (12.5 SE) to test some debugging options. \r\n\r\nI started the debugging session and took a snapshot of the GUI so I can make it easier to locate different code source that I need to verify. When I right-click a button in the snapshot and choose **Go To Component Declaration** or **Go To Component Source**, everything works fine. Only the **Go To Hierarchy Addition** seems to do Nothing.\r\n\r\nGo To Hierarchy Addition is disabled by default in the IDE, I checked it in *Tools&gt; Option&gt; Java&gt; Java Debugger&gt; Visual Debugger*, and restarted the debugging session. \r\n\r\nI hope I can identify what I&#39;ve missed. Thank you!\r\n\r\n[Here is a screenshot of the situation][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E8LTg.png","title":"Go To Hierarchy Addition option in visual debugging (NetBeans) doesn&#39;t work","body":"<p>So, I am using the Anagram game sample in Apache NetBeans (12.5 SE) to test some debugging options.</p>\n<p>I started the debugging session and took a snapshot of the GUI so I can make it easier to locate different code source that I need to verify. When I right-click a button in the snapshot and choose <strong>Go To Component Declaration</strong> or <strong>Go To Component Source</strong>, everything works fine. Only the <strong>Go To Hierarchy Addition</strong> seems to do Nothing.</p>\n<p>Go To Hierarchy Addition is disabled by default in the IDE, I checked it in <em>Tools&gt; Option&gt; Java&gt; Java Debugger&gt; Visual Debugger</em>, and restarted the debugging session.</p>\n<p>I hope I can identify what I've missed. Thank you!</p>\n<p><a href=\"https://i.stack.imgur.com/E8LTg.png\" rel=\"nofollow noreferrer\">Here is a screenshot of the situation</a></p>\n"},{"tags":["java","arrays","java-8"],"comments":[{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":1,"creation_date":1545937799,"post_id":53949739,"comment_id":94738027,"body_markdown":"would be better to include the description of the task as well within your post. Further, post the result you&#39;re currently getting and what you expect instead.","body":"would be better to include the description of the task as well within your post. Further, post the result you&#39;re currently getting and what you expect instead."},{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":0,"creation_date":1545938409,"post_id":53949739,"comment_id":94738239,"body_markdown":"Voting to close as off-topic because questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, _a specific problem or error_ and _the shortest code necessary_ to reproduce it **in the question itself**. Questions without a clear problem statement are not useful to other readers. See: [How to create a Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve).","body":"Voting to close as off-topic because questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, <i>a specific problem or error</i> and <i>the shortest code necessary</i> to reproduce it <b>in the question itself</b>. Questions without a clear problem statement are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1545938440,"post_id":53949739,"comment_id":94738255,"body_markdown":"Don&#39;t use Streams here, it brings no benefits. Stick with the `for-loop` statement rather.","body":"Don&#39;t use Streams here, it brings no benefits. Stick with the <code>for-loop</code> statement rather."},{"owner":{"account_id":1283812,"reputation":1614,"user_id":1237296,"accept_rate":74,"display_name":"Anil Kumar C"},"score":0,"creation_date":1545939813,"post_id":53949739,"comment_id":94738711,"body_markdown":"@JoeC, Sorry for not including the expected results. May be you over look the link I have included in the description. You should have clicked it. Funny you don&#39;t see it.","body":"@JoeC, Sorry for not including the expected results. May be you over look the link I have included in the description. You should have clicked it. Funny you don&#39;t see it."},{"owner":{"account_id":1283812,"reputation":1614,"user_id":1237296,"accept_rate":74,"display_name":"Anil Kumar C"},"score":0,"creation_date":1545939977,"post_id":53949739,"comment_id":94738752,"body_markdown":"@Aomine, Sorry I missed the expected results. But included the problem description in the link.","body":"@Aomine, Sorry I missed the expected results. But included the problem description in the link."},{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":1,"creation_date":1545940547,"post_id":53949739,"comment_id":94738923,"body_markdown":"A good question on this site must be useful to future readers.  If the link changes, your question ceases to become useful to future visitors.  While including a link for reference is perfectly fine, important information should be included in the question itself.","body":"A good question on this site must be useful to future readers.  If the link changes, your question ceases to become useful to future visitors.  While including a link for reference is perfectly fine, important information should be included in the question itself."}],"answers":[{"tags":[],"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1545938602,"creation_date":1545937994,"answer_id":53949781,"question_id":53949739,"body_markdown":"The problem is that you are iterating 4 times (`0 - 3`) and but the hourglass is only supposed to be `3` numbers at its widest. you need to iterate only 3 times (0 - 2):\r\n\r\n    static int hourglassSums(int[][] arr) {\r\n        return IntStream.range(0, 3).map(x -&gt; {\r\n            return IntStream.range(0, 3).map(y -&gt;\r\n                    arr[y][x] + arr[y][x + 1] + arr[y][x + 2] \r\n                    + arr[y + 1][x + 1] \r\n                    + arr[y + 2][x] + arr[y + 2][x + 1] + arr[y + 2][x + 2]\r\n            ).sum();\r\n        }).max().getAsInt();\r\n    }\r\n\r\n***Output:***\r\n\r\n    19\r\n\r\nWhich is from the hourglass:\r\n\r\n    2, 4, 4, \r\n       2, \r\n    1, 2, 4","title":"Hourglass sums using java 8 IntStream","body":"<p>The problem is that you are iterating 4 times (<code>0 - 3</code>) and but the hourglass is only supposed to be <code>3</code> numbers at its widest. you need to iterate only 3 times (0 - 2):</p>\n\n<pre><code>static int hourglassSums(int[][] arr) {\n    return IntStream.range(0, 3).map(x -&gt; {\n        return IntStream.range(0, 3).map(y -&gt;\n                arr[y][x] + arr[y][x + 1] + arr[y][x + 2] \n                + arr[y + 1][x + 1] \n                + arr[y + 2][x] + arr[y + 2][x + 1] + arr[y + 2][x + 2]\n        ).sum();\n    }).max().getAsInt();\n}\n</code></pre>\n\n<p><strong><em>Output:</em></strong></p>\n\n<pre><code>19\n</code></pre>\n\n<p>Which is from the hourglass:</p>\n\n<pre><code>2, 4, 4, \n   2, \n1, 2, 4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1546156614,"creation_date":1545986488,"answer_id":53955738,"question_id":53949739,"body_markdown":"You are already computing the sum of each hour glass inside your inner `map` call. Therefore your `sum()` terminal operation applied on the inner `IntStream` makes no sense, since it adds the sums of multiple hour glasses.\r\n\r\nYour code actually returns 38, which is the sum of the following hour glasses:\r\n\r\n    hour      hour\r\n    glass     glass\r\n              sum\r\n\r\n    1 0 0\r\n      0          2\r\n    1 0 0\r\n\r\n    0 0 0\r\n      0         10\r\n    2 4 4\r\n\r\n    1 0 0        \r\n      4          7\r\n    0 2 0\r\n\r\n    2 4 4 \r\n      2         19\r\n    1 2 4\r\n                --\r\n                38\r\n\r\nYou can fix this by finding the max sum of the inner `IntStream`, and then the max sum of the outer `IntStream`:\r\n\r\n    static int hourglassSums(int[][] arr) {\r\n          return IntStream.range(0, 4).map(x -&gt; {\r\n              return IntStream.range(0, 4).map(y -&gt;\r\n                      arr[y][x] + arr[y][x + 1] + arr[y][x + 2] \r\n                      + arr[y + 1][x + 1] \r\n                      + arr[y + 2][x] + arr[y + 2][x + 1] + arr[y + 2][x + 2]\r\n              ).max().getAsInt(); // find the max hour glass sum of all the hour\r\n                                  // glasses starting at column x\r\n          }).max().getAsInt(); // find the overall max hour glass sum\r\n    }\r\n\r\nThis results in \r\n\r\n    Max sum :: 19\r\n\r\nA better alternative would be to use `flatMap`:\r\n\r\n    static int hourglassSums(int[][] arr) {\r\n          return IntStream.range(0, 4)\r\n                          .flatMap(x -&gt; IntStream.range(0, 4)\r\n                                                 .map(y -&gt; arr[y][x] +\r\n                                                           arr[y][x + 1] +\r\n                                                           arr[y][x + 2] +\r\n                                                           arr[y + 1][x + 1] +\r\n                                                           arr[y + 2][x] +\r\n                                                           arr[y + 2][x + 1] +\r\n                                                           arr[y + 2][x + 2]))\r\n                          .max()\r\n                          .getAsInt();\r\n    }\r\n\r\nThis way you create an `IntStream` of all the hour glass sums and find the max value of that stream.","title":"Hourglass sums using java 8 IntStream","body":"<p>You are already computing the sum of each hour glass inside your inner <code>map</code> call. Therefore your <code>sum()</code> terminal operation applied on the inner <code>IntStream</code> makes no sense, since it adds the sums of multiple hour glasses.</p>\n\n<p>Your code actually returns 38, which is the sum of the following hour glasses:</p>\n\n<pre><code>hour      hour\nglass     glass\n          sum\n\n1 0 0\n  0          2\n1 0 0\n\n0 0 0\n  0         10\n2 4 4\n\n1 0 0        \n  4          7\n0 2 0\n\n2 4 4 \n  2         19\n1 2 4\n            --\n            38\n</code></pre>\n\n<p>You can fix this by finding the max sum of the inner <code>IntStream</code>, and then the max sum of the outer <code>IntStream</code>:</p>\n\n<pre><code>static int hourglassSums(int[][] arr) {\n      return IntStream.range(0, 4).map(x -&gt; {\n          return IntStream.range(0, 4).map(y -&gt;\n                  arr[y][x] + arr[y][x + 1] + arr[y][x + 2] \n                  + arr[y + 1][x + 1] \n                  + arr[y + 2][x] + arr[y + 2][x + 1] + arr[y + 2][x + 2]\n          ).max().getAsInt(); // find the max hour glass sum of all the hour\n                              // glasses starting at column x\n      }).max().getAsInt(); // find the overall max hour glass sum\n}\n</code></pre>\n\n<p>This results in </p>\n\n<pre><code>Max sum :: 19\n</code></pre>\n\n<p>A better alternative would be to use <code>flatMap</code>:</p>\n\n<pre><code>static int hourglassSums(int[][] arr) {\n      return IntStream.range(0, 4)\n                      .flatMap(x -&gt; IntStream.range(0, 4)\n                                             .map(y -&gt; arr[y][x] +\n                                                       arr[y][x + 1] +\n                                                       arr[y][x + 2] +\n                                                       arr[y + 1][x + 1] +\n                                                       arr[y + 2][x] +\n                                                       arr[y + 2][x + 1] +\n                                                       arr[y + 2][x + 2]))\n                      .max()\n                      .getAsInt();\n}\n</code></pre>\n\n<p>This way you create an <code>IntStream</code> of all the hour glass sums and find the max value of that stream.</p>\n"},{"tags":[],"owner":{"account_id":22948642,"reputation":1,"user_id":17080267,"display_name":"Srija Potluri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633440909,"creation_date":1633440909,"answer_id":69451485,"question_id":53949739,"body_markdown":"    static int getMaxHour(Integer[][] arr) {\r\n\t\treturn IntStream.range(0, 4).map(y -&gt; {\r\n\t\t\treturn IntStream.range(0, 4).map(x -&gt; arr[y][x] + arr[y][x + 1] + \r\n               arr[y][x + 2] + arr[y + 1][x + 1]\r\n\t\t\t\t+ arr[y + 2][x] + arr[y + 2][x + 1] + \r\n               arr[y + 2][x +2]).max().getAsInt();\r\n\t\t  }).max().getAsInt();\r\n\t  }","title":"Hourglass sums using java 8 IntStream","body":"<pre><code>static int getMaxHour(Integer[][] arr) {\n    return IntStream.range(0, 4).map(y -&gt; {\n        return IntStream.range(0, 4).map(x -&gt; arr[y][x] + arr[y][x + 1] + \n           arr[y][x + 2] + arr[y + 1][x + 1]\n            + arr[y + 2][x] + arr[y + 2][x + 1] + \n           arr[y + 2][x +2]).max().getAsInt();\n      }).max().getAsInt();\n  }\n</code></pre>\n"}],"owner":{"account_id":1283812,"reputation":1614,"user_id":1237296,"accept_rate":74,"display_name":"Anil Kumar C"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":53949781,"answer_count":3,"score":-2,"last_activity_date":1633440909,"creation_date":1545937740,"question_id":53949739,"body_markdown":"I am trying to solve the [Maximum sum of hour glass in matrix][1]: \r\n\r\n&gt;Given a 2D matrix, the task is that we find maximum sum of a hour glass.\r\n\r\n&gt;An hour glass is made of 7 cells\r\nin following form.\r\n   \r\n\r\n&gt;     A B C\r\n      D\r\n    E F G\r\n\r\nSomething is wrong with my implementation, and I am getting weird answers. I am supposed to get 19 but it returns 36. \r\n\r\nHere is my code:\r\n\r\n    static int hourglassSums(int[][] arr)\r\n    {\r\n        return IntStream.range(0, 4).map(x -&gt; {\r\n            return IntStream.range(0, 4).map(y -&gt;\r\n                      arr[y][x] + arr[y][x + 1] + arr[y][x + 2] \r\n                      + arr[y + 1][x + 1] \r\n                      + arr[y + 2][x] + arr[y + 2][x + 1] + arr[y + 2][x + 2]\r\n            ).sum();\r\n        }).max().getAsInt();\r\n    }\r\n       \r\n    public static void main(String[] args) \r\n    {\r\n        System.out.println(&quot;Max sum :: &quot; + hourglassSums(new int[][] {\r\n                        {1, 1, 1, 0, 0, 0},\r\n                        {0, 1, 0, 0, 0, 0},\r\n                        {1, 1, 1, 0, 0, 0},\r\n                        {0, 0, 2, 4, 4, 0},\r\n                        {0, 0, 0, 2, 0, 0},\r\n                        {0, 0, 1, 2, 4, 0}\r\n        }));\r\n    }\r\n\r\n  [1]: https://www.geeksforgeeks.org/maximum-sum-hour-glass-matrix/\r\n","title":"Hourglass sums using java 8 IntStream","body":"<p>I am trying to solve the <a href=\"https://www.geeksforgeeks.org/maximum-sum-hour-glass-matrix/\" rel=\"nofollow noreferrer\">Maximum sum of hour glass in matrix</a>: </p>\n\n<blockquote>\n  <p>Given a 2D matrix, the task is that we find maximum sum of a hour glass.</p>\n  \n  <p>An hour glass is made of 7 cells\n  in following form.</p>\n\n<pre><code>A B C\n  D\nE F G\n</code></pre>\n</blockquote>\n\n<p>Something is wrong with my implementation, and I am getting weird answers. I am supposed to get 19 but it returns 36. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>static int hourglassSums(int[][] arr)\n{\n    return IntStream.range(0, 4).map(x -&gt; {\n        return IntStream.range(0, 4).map(y -&gt;\n                  arr[y][x] + arr[y][x + 1] + arr[y][x + 2] \n                  + arr[y + 1][x + 1] \n                  + arr[y + 2][x] + arr[y + 2][x + 1] + arr[y + 2][x + 2]\n        ).sum();\n    }).max().getAsInt();\n}\n\npublic static void main(String[] args) \n{\n    System.out.println(\"Max sum :: \" + hourglassSums(new int[][] {\n                    {1, 1, 1, 0, 0, 0},\n                    {0, 1, 0, 0, 0, 0},\n                    {1, 1, 1, 0, 0, 0},\n                    {0, 0, 2, 4, 4, 0},\n                    {0, 0, 0, 2, 0, 0},\n                    {0, 0, 1, 2, 4, 0}\n    }));\n}\n</code></pre>\n"},{"tags":["java","apache-poi","java-module"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1633424314,"post_id":69444038,"comment_id":122749526,"body_markdown":"Why are you using such old versions of Apache POI, which pre-data Java 9 by over 5 years? http://poi.apache.org/devel/history/changes-3x.html#3.5-final - What happens when you upgrade to something vaguely modern and supported?","body":"Why are you using such old versions of Apache POI, which pre-data Java 9 by over 5 years? <a href=\"http://poi.apache.org/devel/history/changes-3x.html#3.5-final\" rel=\"nofollow noreferrer\">poi.apache.org/devel/history/changes-3x.html#3.5-final</a> - What happens when you upgrade to something vaguely modern and supported?"},{"owner":{"account_id":17053266,"reputation":76,"user_id":12519570,"display_name":"Nicinic"},"score":0,"creation_date":1633440817,"post_id":69444038,"comment_id":122756472,"body_markdown":"When i try to use the last version of apache POI, there are multiple modules that POI can&#39;t find. I tried to add them one by one but stopped after the fifth required module. \n\nI finally succeeded by merging poi and poi.ooxml into one JAR, and importing this jar instead of two separate JAR. Not the best solution, but it works for the moment.\n\nI don&#39;t really have time to setup the upgrade of different modules like POI unfortunately, but it&#39;s on the list of things to do.","body":"When i try to use the last version of apache POI, there are multiple modules that POI can&#39;t find. I tried to add them one by one but stopped after the fifth required module.   I finally succeeded by merging poi and poi.ooxml into one JAR, and importing this jar instead of two separate JAR. Not the best solution, but it works for the moment.  I don&#39;t really have time to setup the upgrade of different modules like POI unfortunately, but it&#39;s on the list of things to do."},{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":1,"creation_date":1633454718,"post_id":69444038,"comment_id":122762532,"body_markdown":"The needed modules are listed in the maven POM. POI 5.1.0 will list those as optional because of complains about the mass of dependencies and the problems with batik. So in the future it&#39;ll get a bit more complicated. Which modules did you miss, which weren&#39;t mentioned in the POM?","body":"The needed modules are listed in the maven POM. POI 5.1.0 will list those as optional because of complains about the mass of dependencies and the problems with batik. So in the future it&#39;ll get a bit more complicated. Which modules did you miss, which weren&#39;t mentioned in the POM?"},{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":1,"creation_date":1633454911,"post_id":69444038,"comment_id":122762602,"body_markdown":"btw. JPMS and uber jars are a complicated topic [by itself](https://stackoverflow.com/questions/59439038/jpms-and-fat-uber-executable-jar-how-it-works-together)","body":"btw. JPMS and uber jars are a complicated topic <a href=\"https://stackoverflow.com/questions/59439038/jpms-and-fat-uber-executable-jar-how-it-works-together\">by itself</a>"},{"owner":{"account_id":17053266,"reputation":76,"user_id":12519570,"display_name":"Nicinic"},"score":0,"creation_date":1633549502,"post_id":69444038,"comment_id":122792406,"body_markdown":"Didn&#39;t use the POM as the project didn&#39;t start as a Maven project and I only discovered Maven earlier this year. After importing the jar, there was multiple librairies missing : slf4j, xmlbeans, Sparse-Bit, etc...","body":"Didn&#39;t use the POM as the project didn&#39;t start as a Maven project and I only discovered Maven earlier this year. After importing the jar, there was multiple librairies missing : slf4j, xmlbeans, Sparse-Bit, etc..."}],"owner":{"account_id":17053266,"reputation":76,"user_id":12519570,"display_name":"Nicinic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633440877,"creation_date":1633398315,"question_id":69444038,"body_markdown":"A project that I&#39;m working on is using poi.ooxml et poi in order to generate Excel files, but I&#39;m having trouble with this part of the code since it doesn&#39;t seem to work with modules.\r\n\r\nUsing poi 3.3, or 3.5, I get the following error : \r\n\r\n\r\n&gt; Error occurred during initialization of boot layer\r\n&gt; java.lang.module.ResolutionException: Module poi contains package\r\n&gt; org.apache.poi.util, module poi.ooxml exports package\r\n&gt; org.apache.poi.util to poi\r\n\r\n\r\nBoth of these jar are added to my modulepath, but the code can&#39;t run if both are in the modulepath because of this conflict.\r\n\r\nThe program use classes from both librairies, so I can&#39;t ignore one of them, as they can&#39;t replace each other. I tested with an empty project and I obtain the same error with both librairies in the module path.The poi jar files were obtained from [the official website][1].\r\n\r\nIs there a way to make them function together without using Maven or Gradle if possible ?\r\nThank you\r\n\r\nUpdate : I merged both jar into one jar in order to prevent conflict and double module export, and it seems to have resolved my problem here. \r\n\r\n\r\n  [1]: https://poi.apache.org/","title":"Problems with apache.poi modules with Java 9+ : ResolutionException","body":"<p>A project that I'm working on is using poi.ooxml et poi in order to generate Excel files, but I'm having trouble with this part of the code since it doesn't seem to work with modules.</p>\n<p>Using poi 3.3, or 3.5, I get the following error :</p>\n<blockquote>\n<p>Error occurred during initialization of boot layer\njava.lang.module.ResolutionException: Module poi contains package\norg.apache.poi.util, module poi.ooxml exports package\norg.apache.poi.util to poi</p>\n</blockquote>\n<p>Both of these jar are added to my modulepath, but the code can't run if both are in the modulepath because of this conflict.</p>\n<p>The program use classes from both librairies, so I can't ignore one of them, as they can't replace each other. I tested with an empty project and I obtain the same error with both librairies in the module path.The poi jar files were obtained from <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">the official website</a>.</p>\n<p>Is there a way to make them function together without using Maven or Gradle if possible ?\nThank you</p>\n<p>Update : I merged both jar into one jar in order to prevent conflict and double module export, and it seems to have resolved my problem here.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1633442214,"post_id":69451259,"comment_id":122757113,"body_markdown":"`setSize()` - won&#39;t work at any time. Well, yes it may appear to work, but the next time you resize the frame you change will be lost since the layout manager will override your size. Don&#39;t use setSize(). Set the columns of the text field to control its width.","body":"<code>setSize()</code> - won&#39;t work at any time. Well, yes it may appear to work, but the next time you resize the frame you change will be lost since the layout manager will override your size. Don&#39;t use setSize(). Set the columns of the text field to control its width."}],"answers":[{"tags":[],"owner":{"account_id":1098758,"reputation":1662,"user_id":1091731,"display_name":"Illya Kysil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633440861,"creation_date":1633440861,"answer_id":69451471,"question_id":69451259,"body_markdown":"All modifications to the Swing and AWT components have to be performed on the Event Dispatch Thread, as described in the [Initial Threads][1] and [The Event Dispatch Thread][2] sections of the [Java SE tutorial][3].\r\n\r\nQuotes from those pages:\r\n\r\n&gt; Why does not the initial thread simply create the GUI itself? Because almost all code that creates or interacts with Swing components must run on the event dispatch thread.\r\n\r\n&gt; Swing event handling code runs on a special thread known as the event dispatch thread. Most code that invokes Swing methods also runs on this thread. This is necessary because most Swing object methods are not &quot;thread safe&quot;: invoking them from multiple threads risks thread interference or memory consistency errors. Some Swing component methods are labelled &quot;thread safe&quot; in the API specification; these can be safely invoked from any thread. All other Swing component methods must be invoked from the event dispatch thread. **Programs that ignore this rule may function correctly most of the time, but are subject to unpredictable errors that are difficult to reproduce.**\r\n\r\n(emphasis above is mine).\r\n\r\nThe code above is ignoring these rules, therefore it is **subject to unpredictable errors that are difficult to reproduce.**\r\n\r\nPlease check the tutorials above and modify the code to follow the rules.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/index.html","title":"Java swing setSize works only in EventListner","body":"<p>All modifications to the Swing and AWT components have to be performed on the Event Dispatch Thread, as described in the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\">Initial Threads</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">The Event Dispatch Thread</a> sections of the <a href=\"https://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">Java SE tutorial</a>.</p>\n<p>Quotes from those pages:</p>\n<blockquote>\n<p>Why does not the initial thread simply create the GUI itself? Because almost all code that creates or interacts with Swing components must run on the event dispatch thread.</p>\n</blockquote>\n<blockquote>\n<p>Swing event handling code runs on a special thread known as the event dispatch thread. Most code that invokes Swing methods also runs on this thread. This is necessary because most Swing object methods are not &quot;thread safe&quot;: invoking them from multiple threads risks thread interference or memory consistency errors. Some Swing component methods are labelled &quot;thread safe&quot; in the API specification; these can be safely invoked from any thread. All other Swing component methods must be invoked from the event dispatch thread. <strong>Programs that ignore this rule may function correctly most of the time, but are subject to unpredictable errors that are difficult to reproduce.</strong></p>\n</blockquote>\n<p>(emphasis above is mine).</p>\n<p>The code above is ignoring these rules, therefore it is <strong>subject to unpredictable errors that are difficult to reproduce.</strong></p>\n<p>Please check the tutorials above and modify the code to follow the rules.</p>\n"}],"owner":{"account_id":19691976,"reputation":47,"user_id":14416724,"display_name":"Igor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69451471,"answer_count":1,"score":0,"last_activity_date":1633440861,"creation_date":1633440023,"question_id":69451259,"body_markdown":"setSize only works in the EventListner. It works with setPreferredSize. \r\nWhy doesnt it work with setSize outside of the EventListner?\r\n\r\n   ``` \r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class Main {\r\n    static int keyRange = 0;\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        JPanel panel = new JPanel();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setSize(500, 600);\r\n        JButton addMapkey = new JButton(&quot;Add mapkey&quot;);\r\n        JTextField mapKey = new JTextField(&quot;Mapkey&quot; + keyRange);\r\n        JLabel allKeys = new JLabel();\r\n        panel.add(mapKey);\r\n        panel.add(addMapkey);\r\n        panel.add(allKeys);\r\n        panel.setLayout(new java.awt.FlowLayout());\r\n        frame.getContentPane().add(panel);\r\n        frame.setVisible(true);\r\n\r\n        mapKey.setSize(mapKey.getText().length()*9,  addMapkey.getHeight());\r\n\r\n        System.out.println(addMapkey.getHeight());\r\n        addMapkey.addActionListener(e -&gt; {\r\n                keyRange++;\r\n                mapKey.setText(&quot;Mapkey&quot; + keyRange);\r\n                mapKey.setSize(mapKey.getText().length()*9,  addMapkey.getHeight());\r\n        });\r\n    }\r\n}\r\n```","title":"Java swing setSize works only in EventListner","body":"<p>setSize only works in the EventListner. It works with setPreferredSize.\nWhy doesnt it work with setSize outside of the EventListner?</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Main {\n static int keyRange = 0;\n public static void main(String[] args) {\n     JFrame frame = new JFrame();\n     JPanel panel = new JPanel();\n     frame.setLocationRelativeTo(null);\n     frame.setSize(500, 600);\n     JButton addMapkey = new JButton(&quot;Add mapkey&quot;);\n     JTextField mapKey = new JTextField(&quot;Mapkey&quot; + keyRange);\n     JLabel allKeys = new JLabel();\n     panel.add(mapKey);\n     panel.add(addMapkey);\n     panel.add(allKeys);\n     panel.setLayout(new java.awt.FlowLayout());\n     frame.getContentPane().add(panel);\n     frame.setVisible(true);\n\n     mapKey.setSize(mapKey.getText().length()*9,  addMapkey.getHeight());\n\n     System.out.println(addMapkey.getHeight());\n     addMapkey.addActionListener(e -&gt; {\n             keyRange++;\n             mapKey.setText(&quot;Mapkey&quot; + keyRange);\n             mapKey.setSize(mapKey.getText().length()*9,  addMapkey.getHeight());\n     });\n }\n}\n</code></pre>\n"},{"tags":["java","android","reflection","dexclassloader"],"answers":[{"tags":[],"owner":{"display_name":"user5956451"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473074003,"creation_date":1473074003,"answer_id":39329385,"question_id":39329022,"body_markdown":"The general principles for writing Java class loaders apply here as well, so basically what you need to do is write a class loader that can produce a `Class` instance, for example by invoking `defineClass()`. Of course this involves creating a valid array of dex bytecode. I have not done so yet, and besides very special occasions I would refraim from attempting to do so anyway. If you follow this road, remember to only use classloader features that have been present in Java 5 and 6.","title":"Android - dynamically load class into memory","body":"<p>The general principles for writing Java class loaders apply here as well, so basically what you need to do is write a class loader that can produce a <code>Class</code> instance, for example by invoking <code>defineClass()</code>. Of course this involves creating a valid array of dex bytecode. I have not done so yet, and besides very special occasions I would refraim from attempting to do so anyway. If you follow this road, remember to only use classloader features that have been present in Java 5 and 6.</p>\n"},{"tags":[],"owner":{"account_id":7747230,"reputation":371,"user_id":5864504,"display_name":"Gabriel Tofvesson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500223181,"creation_date":1500223181,"answer_id":45130963,"question_id":39329022,"body_markdown":"As Thomas stated, you can reflectively invoke the protected `defineClass()` method of the ClassLoader into which you would like to load your class.\r\n\r\nHere&#39;s an example of how this could be achieved:\r\n\r\n    \r\n    public static Class&lt;?&gt; loadClass(byte[] code, ClassLoader loadInto) throws InvocationTargetException\r\n    {\r\n        try {\r\n            Method m = ClassLoader.class.getDeclaredMethod(&quot;defineClass&quot;, byte[].class, int.class, int.class);\r\n            m.setAccessible(true); // Make sure we can invoke the method\r\n            return (Class&lt;?&gt;) m.invoke(loadInto, code, 0, code.length);\r\n        }\r\n        // An exception should only be thrown if the bytecode is invalid\r\n        // or a class with the same name is already loaded\r\n        catch (NoSuchMethodException e) { throw new RuntimeException(e); }\r\n        catch (IllegalAccessException e){ throw new RuntimeException(e); }\r\n    }\r\n\r\nAlthough, what I&#39;m getting the feeling that you&#39;re referring to is runtime compilation of a String containing valid Java into bytecode, based on the link you included. Though I do not know of any way of doing this, I would recommend you take a look at this: https://github.com/linkedin/dexmaker","title":"Android - dynamically load class into memory","body":"<p>As Thomas stated, you can reflectively invoke the protected <code>defineClass()</code> method of the ClassLoader into which you would like to load your class.</p>\n\n<p>Here's an example of how this could be achieved:</p>\n\n<pre><code>public static Class&lt;?&gt; loadClass(byte[] code, ClassLoader loadInto) throws InvocationTargetException\n{\n    try {\n        Method m = ClassLoader.class.getDeclaredMethod(\"defineClass\", byte[].class, int.class, int.class);\n        m.setAccessible(true); // Make sure we can invoke the method\n        return (Class&lt;?&gt;) m.invoke(loadInto, code, 0, code.length);\n    }\n    // An exception should only be thrown if the bytecode is invalid\n    // or a class with the same name is already loaded\n    catch (NoSuchMethodException e) { throw new RuntimeException(e); }\n    catch (IllegalAccessException e){ throw new RuntimeException(e); }\n}\n</code></pre>\n\n<p>Although, what I'm getting the feeling that you're referring to is runtime compilation of a String containing valid Java into bytecode, based on the link you included. Though I do not know of any way of doing this, I would recommend you take a look at this: <a href=\"https://github.com/linkedin/dexmaker\" rel=\"nofollow noreferrer\">https://github.com/linkedin/dexmaker</a></p>\n"},{"tags":[],"owner":{"account_id":22948781,"reputation":1,"user_id":17080377,"display_name":"gahiv91964"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633440621,"creation_date":1633440621,"answer_id":69451415,"question_id":39329022,"body_markdown":"You can do it by [InMemoryDexClassLoader][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/dalvik/system/InMemoryDexClassLoader","title":"Android - dynamically load class into memory","body":"<p>You can do it by <a href=\"https://developer.android.com/reference/dalvik/system/InMemoryDexClassLoader\" rel=\"nofollow noreferrer\">InMemoryDexClassLoader</a></p>\n"}],"owner":{"account_id":8020615,"reputation":1055,"user_id":6049386,"accept_rate":83,"display_name":"Vladimir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1633440621,"creation_date":1473072656,"question_id":39329022,"body_markdown":"[DexClassLoader][1] is great but works only by loading the compiled class as dex/jar file from the internal/external storage. \r\n\r\nHow can I load class directly into memory, without writing anything to the card first?\r\n\r\nI am aware of the [Java-Runtime-Compiler][2] (compiles String to Class on-the-fly) from Peter Lawrey, which would be perfect, but it does not work in android.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/dalvik/system/DexClassLoader.html\r\n  [2]: https://github.com/OpenHFT/Java-Runtime-Compiler","title":"Android - dynamically load class into memory","body":"<p><a href=\"https://developer.android.com/reference/dalvik/system/DexClassLoader.html\" rel=\"nofollow\">DexClassLoader</a> is great but works only by loading the compiled class as dex/jar file from the internal/external storage. </p>\n\n<p>How can I load class directly into memory, without writing anything to the card first?</p>\n\n<p>I am aware of the <a href=\"https://github.com/OpenHFT/Java-Runtime-Compiler\" rel=\"nofollow\">Java-Runtime-Compiler</a> (compiles String to Class on-the-fly) from Peter Lawrey, which would be perfect, but it does not work in android.</p>\n"},{"tags":["java","logback","logback-classic"],"answers":[{"tags":[],"owner":{"account_id":2854980,"reputation":1326,"user_id":2451425,"accept_rate":86,"display_name":"RoberMP"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633438057,"creation_date":1633438057,"answer_id":69450758,"question_id":69450392,"body_markdown":"I don&#39;t think there is a way to instruct logback to change the level based on the content and probably you don&#39;t want to do so because logging belongs to your business logic.\r\n\r\nIf you are using jdk 16 and the code is as simple as you shown maybe an switch statement is nicer\r\n\r\n```java\r\nswitch (message){\r\n  case &quot;kitten&quot;       -&gt; logger.info(message);\r\n  case &quot;wolf&quot;         -&gt; logger.error(message);\r\n  case &quot;chuck norris&quot; -&gt; logger.fatal(message);\r\n  default             -&gt; logger.warn(message);\r\n}\r\n```","title":"Is there a way to change the level of a log based on it&#39;s content?","body":"<p>I don't think there is a way to instruct logback to change the level based on the content and probably you don't want to do so because logging belongs to your business logic.</p>\n<p>If you are using jdk 16 and the code is as simple as you shown maybe an switch statement is nicer</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (message){\n  case &quot;kitten&quot;       -&gt; logger.info(message);\n  case &quot;wolf&quot;         -&gt; logger.error(message);\n  case &quot;chuck norris&quot; -&gt; logger.fatal(message);\n  default             -&gt; logger.warn(message);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633439816,"creation_date":1633439816,"answer_id":69451210,"question_id":69450392,"body_markdown":"As you are using logback as the backend, and you don&#39;t specify the logging API you are using, I assume you are using slf4j (logback&#39;s native API). Unfortunately, this API is not as flexible as one might like it to be. For example, log4j 2 has `Logger.log` which takes a `Level`, and you can then use it like this:\r\n\r\n    logger.log(levelFor(message), message);\r\n    ...\r\n    private Level levelFor(String message) {\r\n        if (message.contains(&quot;kitten&quot;))\r\n            return Level.INFO;\r\n        else if...\r\n            return...\r\n    }\r\n\r\nUnfortunately, slf4j doesn&#39;t have a `Logger.log` method. You can use log4j2 as your API and bridge it to your logback backend using the appropriate jar dependency.","title":"Is there a way to change the level of a log based on it&#39;s content?","body":"<p>As you are using logback as the backend, and you don't specify the logging API you are using, I assume you are using slf4j (logback's native API). Unfortunately, this API is not as flexible as one might like it to be. For example, log4j 2 has <code>Logger.log</code> which takes a <code>Level</code>, and you can then use it like this:</p>\n<pre><code>logger.log(levelFor(message), message);\n...\nprivate Level levelFor(String message) {\n    if (message.contains(&quot;kitten&quot;))\n        return Level.INFO;\n    else if...\n        return...\n}\n</code></pre>\n<p>Unfortunately, slf4j doesn't have a <code>Logger.log</code> method. You can use log4j2 as your API and bridge it to your logback backend using the appropriate jar dependency.</p>\n"},{"tags":[],"owner":{"account_id":2552324,"reputation":1621,"user_id":2215858,"display_name":"Wisienkas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633440569,"creation_date":1633440569,"answer_id":69451400,"question_id":69450392,"body_markdown":"This is an interesting question which also introduces new questions. \r\nYou could have a list of words which could either escalate or de-escalate the log level for that message.\r\n\r\nOne approach to this, would be to make your own logger class, which encapsulates your general logging framework, mirroring each of the log methods. \r\nThe first version for establishment would be simply calling the logging framework behind ie.\r\n\r\n    public class MyLogger {\r\n        public void info(String message) { Logger.info(message); }\r\n        public void debug(String message) { Logger.debug(message); }\r\n        // And so on\r\n    }\r\n\r\nSay you have a wordlist you could introduce some words to trigger another level, if contained in message.\r\n\r\n    public class MyLogger {\r\n        private final List&lt;String&gt; warnTriggerMessages;\r\n        public MyLogger(List&lt;String&gt; warnTrigerMessages) { \r\n             this.warnTriggerMessages = warnTrigerMessages;\r\n        }\r\n        public void info(String message) {\r\n            if (warnTriggerMessages.stream().anyMatch(trigger =&gt; message.contains(trigger))) { \r\n                Logger.warn(message);\r\n            } else {\r\n                 Logger.info(message); \r\n            }\r\n        }\r\n        // And so on\r\n    }\r\n\r\nThis was just a very simple example, but could be expanded with a more generic approach or intertwined with a strategyPattern, which would resolve the logging method based on a &quot;proposed&quot; log level and the message, where the message could cause the strategy to choos another log level than the proposed loglevel.","title":"Is there a way to change the level of a log based on it&#39;s content?","body":"<p>This is an interesting question which also introduces new questions.\nYou could have a list of words which could either escalate or de-escalate the log level for that message.</p>\n<p>One approach to this, would be to make your own logger class, which encapsulates your general logging framework, mirroring each of the log methods.\nThe first version for establishment would be simply calling the logging framework behind ie.</p>\n<pre><code>public class MyLogger {\n    public void info(String message) { Logger.info(message); }\n    public void debug(String message) { Logger.debug(message); }\n    // And so on\n}\n</code></pre>\n<p>Say you have a wordlist you could introduce some words to trigger another level, if contained in message.</p>\n<pre><code>public class MyLogger {\n    private final List&lt;String&gt; warnTriggerMessages;\n    public MyLogger(List&lt;String&gt; warnTrigerMessages) { \n         this.warnTriggerMessages = warnTrigerMessages;\n    }\n    public void info(String message) {\n        if (warnTriggerMessages.stream().anyMatch(trigger =&gt; message.contains(trigger))) { \n            Logger.warn(message);\n        } else {\n             Logger.info(message); \n        }\n    }\n    // And so on\n}\n</code></pre>\n<p>This was just a very simple example, but could be expanded with a more generic approach or intertwined with a strategyPattern, which would resolve the logging method based on a &quot;proposed&quot; log level and the message, where the message could cause the strategy to choos another log level than the proposed loglevel.</p>\n"}],"owner":{"account_id":22946791,"reputation":21,"user_id":17078677,"display_name":"Fabien G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1633440569,"creation_date":1633436587,"question_id":69450392,"body_markdown":"I&#39;m using Logback for logging, and in several places of my code, I have things like:\r\n\r\n      if(message.contains(&quot;kitten&quot;)) {\r\n        logger.info(message);\r\n      } else if (message.contains(&quot;wolf&quot;)) {\r\n        logger.error(message);\r\n      }  else if(message.contains(&quot;chuck norris&quot;)) {\r\n        logger.fatal(message);\r\n      } else  {\r\n        logger.warn(message);\r\n      }\r\n\r\n(most of the time the message comes from an external system)\r\n\r\nIs there a less ugly way to do?","title":"Is there a way to change the level of a log based on it&#39;s content?","body":"<p>I'm using Logback for logging, and in several places of my code, I have things like:</p>\n<pre><code>  if(message.contains(&quot;kitten&quot;)) {\n    logger.info(message);\n  } else if (message.contains(&quot;wolf&quot;)) {\n    logger.error(message);\n  }  else if(message.contains(&quot;chuck norris&quot;)) {\n    logger.fatal(message);\n  } else  {\n    logger.warn(message);\n  }\n</code></pre>\n<p>(most of the time the message comes from an external system)</p>\n<p>Is there a less ugly way to do?</p>\n"},{"tags":["java","geotools"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1633428695,"post_id":69447012,"comment_id":122751293,"body_markdown":"can you add the server address? that should not cause a crash,","body":"can you add the server address? that should not cause a crash,"},{"owner":{"account_id":4301372,"reputation":397,"user_id":3515018,"accept_rate":80,"display_name":"makak"},"score":0,"creation_date":1633433607,"post_id":69447012,"comment_id":122753279,"body_markdown":"do you mean &quot;serviceUrl&quot; variable in my case? ... I can post it here, but it is not a public WFS, so that will be of no use... However I can provide xml with getCapabilites, DescribeFeature xml for particular feature type if that may help... and I can even provide result of getFeatures... do you wish anything of this? ...","body":"do you mean &quot;serviceUrl&quot; variable in my case? ... I can post it here, but it is not a public WFS, so that will be of no use... However I can provide xml with getCapabilites, DescribeFeature xml for particular feature type if that may help... and I can even provide result of getFeatures... do you wish anything of this? ..."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1633436222,"post_id":69447012,"comment_id":122754366,"body_markdown":"a copy of the getcapabilities would be best - but with out the actual server it is unlikely that I can solve the problem","body":"a copy of the getcapabilities would be best - but with out the actual server it is unlikely that I can solve the problem"},{"owner":{"account_id":4301372,"reputation":397,"user_id":3515018,"accept_rate":80,"display_name":"makak"},"score":0,"creation_date":1633436812,"post_id":69447012,"comment_id":122754589,"body_markdown":"I have added link to getCapabilities to the question... Unfortunately I can&#39;t provide access to that server, it is completely out of my reach... thank you ...","body":"I have added link to getCapabilities to the question... Unfortunately I can&#39;t provide access to that server, it is completely out of my reach... thank you ..."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1633439126,"post_id":69447012,"comment_id":122755618,"body_markdown":"Hmm - can you a) check you are definitely using 25.2 as all your line numbers are slightly out, and b) add the full log when you have logging turned up to DEBUG","body":"Hmm - can you a) check you are definitely using 25.2 as all your line numbers are slightly out, and b) add the full log when you have logging turned up to DEBUG"},{"owner":{"account_id":4301372,"reputation":397,"user_id":3515018,"accept_rate":80,"display_name":"makak"},"score":0,"creation_date":1633440614,"post_id":69447012,"comment_id":122756376,"body_markdown":"yes, I can confirm taht I am using 25.2 from repo that is stated in the question... I put link to log file to the question... thank you ...","body":"yes, I can confirm taht I am using 25.2 from repo that is stated in the question... I put link to log file to the question... thank you ..."}],"owner":{"account_id":4301372,"reputation":397,"user_id":3515018,"accept_rate":80,"display_name":"makak"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633440542,"creation_date":1633421918,"question_id":69447012,"body_markdown":"I am trying to get features for feature type from WFS using geotools library [gt-wfs-ng v 25.2][1].\r\n\r\nMy code is like this:\r\n\r\n    Integer Id = 27;\r\n    String featureType = &quot;parcels&quot;\r\n    \r\n    // create store\r\n    connectionParams.put(&quot;WFSDataStoreFactory:GET_CAPABILITIES_URL&quot;, serviceUrl+&quot;?REQUEST=GetCapabilities&amp;SERVICE=WFS&quot;);\r\n    connectionParams.put(&quot;WFSDataStoreFactory:LENIENT&quot;, true);\r\n    connectionParams.put(WFSDataStoreFactory.BUFFER_SIZE.key, 1000);\r\n    connectionParams.put(WFSDataStoreFactory.TIMEOUT.key, 100000);\r\n    WFSDataStoreFactory factory = new WFSDataStoreFactory();\r\n    WFSDataStore dataStore = factory.createDataStore(connectionParams);\r\n    // feature store\r\n    SimpleFeatureSource source = dataStore.getFeatureSource(featureType);\r\n    // create filter/query\r\n    Query query = new Query(featureType);\r\n    String filterString = String.format(&quot;%s = %s&quot;,&quot;Feature_ID&quot;, Id);\r\n    Filter filter = CQL.toFilter(filterString);\r\n    query.setFilter(filter);\r\n    // query feature store\r\n    SimpleFeatureCollection features = source.getFeatures(query);\r\n    SpatialIndexFeatureCollection index = new SpatialIndexFeatureCollection(features.getSchema());\r\n    index.addAll(features);\r\n\r\nIt crashes at last line(index.addAll) with this error:\r\n\r\n&gt; Exception: null, StackTrace: java.lang.NullPointerException\r\n&gt; \tat\r\n&gt; org.geotools.filter.capability.SpatialCapabiltiesImpl.addAll(SpatialCapabiltiesImpl.java:105)\r\n&gt; \tat\r\n&gt; org.geotools.filter.capability.FilterCapabilitiesImpl.addAll(FilterCapabilitiesImpl.java:189)\r\n&gt; \tat org.geotools.filter.Capabilities.addAll(Capabilities.java:570) \tat\r\n&gt; org.geotools.data.wfs.internal.AbstractWFSStrategy.splitFilters(AbstractWFSStrategy.java:603) ...\r\n\r\nFrom inspecting all the workflow I guess, that the null pointer for SpatialCapabilities and filter capabilities is caused by empty Filter_Capabilities element in getCapabilities xml. \r\n\r\nI would like to know if my guess is right and if so, if there is some other way I can get features from wfs with geotools or any other public library in java. Any help will be very appreciated.\r\n\r\nHere is [GetCapabilities response][2].\r\nHere is [spring log file][3].\r\n\r\n\r\n  [1]: https://repo.osgeo.org/service/rest/repository/browse/release/org/geotools/gt-wfs-ng/25.2/\r\n  [2]: http://matus.beeweb.sk/tempFiles/WFSServer_getCapabilities.xml\r\n  [3]: http://matus.beeweb.sk/tempFiles/spring_log.txt","title":"Get data from WFS using geotools java library","body":"<p>I am trying to get features for feature type from WFS using geotools library <a href=\"https://repo.osgeo.org/service/rest/repository/browse/release/org/geotools/gt-wfs-ng/25.2/\" rel=\"nofollow noreferrer\">gt-wfs-ng v 25.2</a>.</p>\n<p>My code is like this:</p>\n<pre><code>Integer Id = 27;\nString featureType = &quot;parcels&quot;\n\n// create store\nconnectionParams.put(&quot;WFSDataStoreFactory:GET_CAPABILITIES_URL&quot;, serviceUrl+&quot;?REQUEST=GetCapabilities&amp;SERVICE=WFS&quot;);\nconnectionParams.put(&quot;WFSDataStoreFactory:LENIENT&quot;, true);\nconnectionParams.put(WFSDataStoreFactory.BUFFER_SIZE.key, 1000);\nconnectionParams.put(WFSDataStoreFactory.TIMEOUT.key, 100000);\nWFSDataStoreFactory factory = new WFSDataStoreFactory();\nWFSDataStore dataStore = factory.createDataStore(connectionParams);\n// feature store\nSimpleFeatureSource source = dataStore.getFeatureSource(featureType);\n// create filter/query\nQuery query = new Query(featureType);\nString filterString = String.format(&quot;%s = %s&quot;,&quot;Feature_ID&quot;, Id);\nFilter filter = CQL.toFilter(filterString);\nquery.setFilter(filter);\n// query feature store\nSimpleFeatureCollection features = source.getFeatures(query);\nSpatialIndexFeatureCollection index = new SpatialIndexFeatureCollection(features.getSchema());\nindex.addAll(features);\n</code></pre>\n<p>It crashes at last line(index.addAll) with this error:</p>\n<blockquote>\n<p>Exception: null, StackTrace: java.lang.NullPointerException\nat\norg.geotools.filter.capability.SpatialCapabiltiesImpl.addAll(SpatialCapabiltiesImpl.java:105)\nat\norg.geotools.filter.capability.FilterCapabilitiesImpl.addAll(FilterCapabilitiesImpl.java:189)\nat org.geotools.filter.Capabilities.addAll(Capabilities.java:570)   at\norg.geotools.data.wfs.internal.AbstractWFSStrategy.splitFilters(AbstractWFSStrategy.java:603) ...</p>\n</blockquote>\n<p>From inspecting all the workflow I guess, that the null pointer for SpatialCapabilities and filter capabilities is caused by empty Filter_Capabilities element in getCapabilities xml.</p>\n<p>I would like to know if my guess is right and if so, if there is some other way I can get features from wfs with geotools or any other public library in java. Any help will be very appreciated.</p>\n<p>Here is <a href=\"http://matus.beeweb.sk/tempFiles/WFSServer_getCapabilities.xml\" rel=\"nofollow noreferrer\">GetCapabilities response</a>.\nHere is <a href=\"http://matus.beeweb.sk/tempFiles/spring_log.txt\" rel=\"nofollow noreferrer\">spring log file</a>.</p>\n"},{"tags":["java","micronaut","micronaut-data"],"answers":[{"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633436445,"creation_date":1633436445,"answer_id":69450351,"question_id":69285817,"body_markdown":"You need to use a database migration tool like flyway to create appropriate tables.","title":"How to add a foreign key constraint with the annotations","body":"<p>You need to use a database migration tool like flyway to create appropriate tables.</p>\n"}],"owner":{"account_id":14278,"reputation":853,"user_id":29252,"accept_rate":83,"display_name":"Craig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69450351,"answer_count":1,"score":1,"last_activity_date":1633440295,"creation_date":1632319310,"question_id":69285817,"body_markdown":"I have a 2 entities `ParentEntity` and `ChildEntity` where the `ChildEntity` references the `ParentEntity`. This is a many (child) to one (parent) relationship and is defined as follows:\r\n\r\n\r\n    @MappedEntity\r\n    public record ChildEntity (\r\n        @Id Long id,\r\n        String name,\r\n        @Relation(Kind.MANY_TO_ONE) ParentEntity parent)  {\r\n    }\r\n\r\nand\r\n\r\n    @MappedEntity\r\n    public record ParentEntity (@Id Long id,  \r\n                                String name) {\r\n    }\r\n\r\n\r\nMicronaut Data executes the following SQL queries when creating the schema:\r\n\r\n&gt; CREATE TABLE `parent_entity` (`id` BIGINT NOT NULL,`name` VARCHAR(255)\r\n&gt; NOT NULL); \r\n\r\n&gt; CREATE TABLE `child_entity` (`id` BIGINT NOT NULL,`name` VARCHAR(255) NOT NULL,`parent_id` BIGINT NOT NULL);\r\n\r\nI am expecting (or would like) the foreign key constraint to be added to enforce referential integrity, so that `parent_id` must always be of value `parentEntity.id`\r\n\r\nHow do I do this on the MappedEntity classes (ChildEntity, ParentEntity etc) while still using Micronaut Data JDBC? (no Hibernate or JPA etc.)\r\n\r\n","title":"How to add a foreign key constraint with the annotations","body":"<p>I have a 2 entities <code>ParentEntity</code> and <code>ChildEntity</code> where the <code>ChildEntity</code> references the <code>ParentEntity</code>. This is a many (child) to one (parent) relationship and is defined as follows:</p>\n<pre><code>@MappedEntity\npublic record ChildEntity (\n    @Id Long id,\n    String name,\n    @Relation(Kind.MANY_TO_ONE) ParentEntity parent)  {\n}\n</code></pre>\n<p>and</p>\n<pre><code>@MappedEntity\npublic record ParentEntity (@Id Long id,  \n                            String name) {\n}\n</code></pre>\n<p>Micronaut Data executes the following SQL queries when creating the schema:</p>\n<blockquote>\n<p>CREATE TABLE <code>parent_entity</code> (<code>id</code> BIGINT NOT NULL,<code>name</code> VARCHAR(255)\nNOT NULL);</p>\n</blockquote>\n<blockquote>\n<p>CREATE TABLE <code>child_entity</code> (<code>id</code> BIGINT NOT NULL,<code>name</code> VARCHAR(255) NOT NULL,<code>parent_id</code> BIGINT NOT NULL);</p>\n</blockquote>\n<p>I am expecting (or would like) the foreign key constraint to be added to enforce referential integrity, so that <code>parent_id</code> must always be of value <code>parentEntity.id</code></p>\n<p>How do I do this on the MappedEntity classes (ChildEntity, ParentEntity etc) while still using Micronaut Data JDBC? (no Hibernate or JPA etc.)</p>\n"},{"tags":["java","maven-plugin","quarkus","quarkus-grpc"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1633359337,"post_id":69437828,"comment_id":122732411,"body_markdown":"You have redacted the error message, so I can&#39;t refer to the class name, but can you show the relevant part of the first `...GrpcService` source code?","body":"You have redacted the error message, so I can&#39;t refer to the class name, but can you show the relevant part of the first <code>...GrpcService</code> source code?"},{"owner":{"account_id":22938882,"reputation":1,"user_id":17071951,"display_name":"Ragnar"},"score":0,"creation_date":1633435718,"post_id":69437828,"comment_id":122754172,"body_markdown":"Actually I was able to build the application . Please see the comment regarding the cause of the issue in the code below. But I do not have still fully functional bean , please see also  comments in the code and help me figure out was is wrong.","body":"Actually I was able to build the application . Please see the comment regarding the cause of the issue in the code below. But I do not have still fully functional bean , please see also  comments in the code and help me figure out was is wrong."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1633802471,"post_id":69437828,"comment_id":122859936,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":22938882,"reputation":1,"user_id":17071951,"display_name":"Ragnar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633440210,"creation_date":1633436496,"answer_id":69450364,"question_id":69437828,"body_markdown":"Fixed the issue with the build by changing the injection , please see my code below. But still not able to get it working fully , please see details in the comments as well:\r\n\r\n```\r\npublic class SendMsgService {\r\n    //THIS INJECTION WAS CAUSING THE  ISSUE WITH THE BUILD\r\n    // @GrpcClient(&quot;msg-service&quot;)\r\n    // ServiceGrpc.ServiceStub stubInjected;\r\n\r\n    @GrpcClient(&quot;msg-service&quot;)\r\n    MutinyServiceGrpc.MutinyServiceStub stubInjected;\r\n\r\n    MutinyServiceGrpc.MutinyServiceStub stubPojo = MutinyServiceGrpc.newMutinyStub(Utils.getChannelUrlStr()); \r\n\r\n    @GET\r\n    @Path(&quot;/send-message/{message}&quot;)\r\n    public void send(@PathParam(&quot;message&quot;) String message) {\r\n        var msg = Utils.buildMessage(message);\r\n        BearerToken token = new BearerToken(ApiCredentials.getClientCredentialSource()::accessToken);\r\n\r\n        //THIS IS WORKING\r\n        stubPojo.withCallCredentials(token).sendTextToSubscriberAsOperator(msg).subscribe().with(item -&gt; System.out.println(item),failure -&gt; System.out.println(&quot;Failed with &quot; + failure));\r\n\r\n        //THIS IS NOT WORKING\r\n        //stubInjected.withCallCredentials(token).sendTextToSubscriberAsOperator(msg).subscribe().with(item -&gt; System.out.println(item),failure -&gt; System.out.println(&quot;Failed with &quot; + failure));\r\n\r\n        System.out.println(&quot;Msg has been sent&quot;);\r\n    }\r\n```\r\n`application.properties` has also the var `quarkus.grpc.clients.msg-service.host` with the same value as `Utils.getChannelUrlStr()`.","title":"Quarkus gRPC build issue","body":"<p>Fixed the issue with the build by changing the injection , please see my code below. But still not able to get it working fully , please see details in the comments as well:</p>\n<pre><code>public class SendMsgService {\n    //THIS INJECTION WAS CAUSING THE  ISSUE WITH THE BUILD\n    // @GrpcClient(&quot;msg-service&quot;)\n    // ServiceGrpc.ServiceStub stubInjected;\n\n    @GrpcClient(&quot;msg-service&quot;)\n    MutinyServiceGrpc.MutinyServiceStub stubInjected;\n\n    MutinyServiceGrpc.MutinyServiceStub stubPojo = MutinyServiceGrpc.newMutinyStub(Utils.getChannelUrlStr()); \n\n    @GET\n    @Path(&quot;/send-message/{message}&quot;)\n    public void send(@PathParam(&quot;message&quot;) String message) {\n        var msg = Utils.buildMessage(message);\n        BearerToken token = new BearerToken(ApiCredentials.getClientCredentialSource()::accessToken);\n\n        //THIS IS WORKING\n        stubPojo.withCallCredentials(token).sendTextToSubscriberAsOperator(msg).subscribe().with(item -&gt; System.out.println(item),failure -&gt; System.out.println(&quot;Failed with &quot; + failure));\n\n        //THIS IS NOT WORKING\n        //stubInjected.withCallCredentials(token).sendTextToSubscriberAsOperator(msg).subscribe().with(item -&gt; System.out.println(item),failure -&gt; System.out.println(&quot;Failed with &quot; + failure));\n\n        System.out.println(&quot;Msg has been sent&quot;);\n    }\n</code></pre>\n<p><code>application.properties</code> has also the var <code>quarkus.grpc.clients.msg-service.host</code> with the same value as <code>Utils.getChannelUrlStr()</code>.</p>\n"}],"owner":{"account_id":22938882,"reputation":1,"user_id":17071951,"display_name":"Ragnar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633440210,"creation_date":1633358146,"question_id":69437828,"body_markdown":"Following this blog related to consuming gRPC services in quarkus   https://quarkus.io/guides/grpc-service-consumption\r\n\r\nSuccessfully generated code from proto files provided by api provider by running &#39;mvn compile&#39;.\r\n\r\nBut got the error when trying to build the app\r\n\r\n“only Mutiny service interfaces, blocking stubs, reactive stubs based on Mutiny and io.grpc.Channel can be injected via @GrpcClient”\r\n\r\n\r\n    ./mvnw clean package -Dmaven.test.skip\r\n    \r\n    ...\r\n    [error]: Build step io.quarkus.grpc.deployment.GrpcClientProcessor#discoverInjectedGrpcServices threw an exception: javax.enterprise.inject.spi.DeploymentException: ...ServiceGrpc cannot be injected into ...ServiceGrpc - only Mutiny service interfaces, blocking stubs, reactive stubs based on Mutiny and io.grpc.Channel can be injected via @GrpcClient\r\n    \r\n    [ERROR]         at io.quarkus.grpc.deployment.GrpcClientProcessor.invalidInjectionPoint(GrpcClientProcessor.java:282)\r\n    [ERROR]         at io.quarkus.grpc.deployment.GrpcClientProcessor.discoverInjectedGrpcServices(GrpcClientProcessor.java:170)\r\n    [ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    [ERROR]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    [ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    [ERROR]         at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:820)\r\n    [ERROR]         at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n    [ERROR]         at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n    [ERROR]         at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n    [ERROR]         at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n    [ERROR]         at java.base/java.lang.Thread.run(Thread.java:833)\r\n    [ERROR]         at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n\r\n","title":"Quarkus gRPC build issue","body":"<p>Following this blog related to consuming gRPC services in quarkus   <a href=\"https://quarkus.io/guides/grpc-service-consumption\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/grpc-service-consumption</a></p>\n<p>Successfully generated code from proto files provided by api provider by running 'mvn compile'.</p>\n<p>But got the error when trying to build the app</p>\n<p>“only Mutiny service interfaces, blocking stubs, reactive stubs based on Mutiny and io.grpc.Channel can be injected via @GrpcClient”</p>\n<pre><code>./mvnw clean package -Dmaven.test.skip\n\n...\n[error]: Build step io.quarkus.grpc.deployment.GrpcClientProcessor#discoverInjectedGrpcServices threw an exception: javax.enterprise.inject.spi.DeploymentException: ...ServiceGrpc cannot be injected into ...ServiceGrpc - only Mutiny service interfaces, blocking stubs, reactive stubs based on Mutiny and io.grpc.Channel can be injected via @GrpcClient\n\n[ERROR]         at io.quarkus.grpc.deployment.GrpcClientProcessor.invalidInjectionPoint(GrpcClientProcessor.java:282)\n[ERROR]         at io.quarkus.grpc.deployment.GrpcClientProcessor.discoverInjectedGrpcServices(GrpcClientProcessor.java:170)\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n[ERROR]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n[ERROR]         at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:820)\n[ERROR]         at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n[ERROR]         at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n[ERROR]         at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n[ERROR]         at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n[ERROR]         at java.base/java.lang.Thread.run(Thread.java:833)\n[ERROR]         at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n</code></pre>\n"},{"tags":["java","drools","java-11","jboss-rules"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1633450492,"post_id":69451274,"comment_id":122760985,"body_markdown":"... Drools 4? Seriously? I&#39;m impressed you got it running on Java 8 in the first place.","body":"... Drools 4? Seriously? I&#39;m impressed you got it running on Java 8 in the first place."},{"owner":{"account_id":3045329,"reputation":1501,"user_id":2581174,"accept_rate":71,"display_name":"Valsaraj Viswanathan"},"score":0,"creation_date":1633505627,"post_id":69451274,"comment_id":122774191,"body_markdown":"It worked same as in Java 7 in Java 8. No issues faced but getting the above issue in Java 11.","body":"It worked same as in Java 7 in Java 8. No issues faced but getting the above issue in Java 11."},{"owner":{"account_id":2450046,"reputation":273,"user_id":2136565,"display_name":"pejas"},"score":0,"creation_date":1633510555,"post_id":69451274,"comment_id":122776027,"body_markdown":"it&#39;s ecj issue (drools dependency) take a look at https://issues.redhat.com/browse/DROOLS-329?_sscc=t it&#39;s applied to 5.5 anyway may workout for you","body":"it&#39;s ecj issue (drools dependency) take a look at <a href=\"https://issues.redhat.com/browse/DROOLS-329?_sscc=t\" rel=\"nofollow noreferrer\">issues.redhat.com/browse/DROOLS-329?_sscc=t</a> it&#39;s applied to 5.5 anyway may workout for you"},{"owner":{"account_id":3045329,"reputation":1501,"user_id":2581174,"accept_rate":71,"display_name":"Valsaraj Viswanathan"},"score":0,"creation_date":1636982636,"post_id":69451274,"comment_id":123695349,"body_markdown":"@pejas thanks! Yes, after upgrading to ecj-3.27.0.jar, class format error gone but facing error &quot;Unable to create Field Extractor&quot; with drools 4.0.7.","body":"@pejas thanks! Yes, after upgrading to ecj-3.27.0.jar, class format error gone but facing error &quot;Unable to create Field Extractor&quot; with drools 4.0.7."}],"owner":{"account_id":3045329,"reputation":1501,"user_id":2581174,"accept_rate":71,"display_name":"Valsaraj Viswanathan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633440075,"creation_date":1633440075,"question_id":69451274,"body_markdown":"I am getting following error when compiling rules after migrating from Java 8 to 11:\r\n\r\n&gt; Error compiling rule package at org.tolven.rules.PackageCompiler (line 68)\r\nCaused by: wrong class format at org.drools.commons.jci.compilers.EclipseJavaCompiler$2 (line 260)\r\nCaused by: null at org.eclipse.jdt.internal.compiler.classfmt.ClassFileReader (line 329)\r\n\r\nApplication using the following jars &amp; running on WildFly-16:\r\n\r\n    jboss-rules.drools-compiler-4.0.7.jar\r\n    jboss-rules.core-compiler-3.2.3.v_686_R32x.jar\r\n\r\nAny idea about what caused this issue?\r\n\r\n","title":"Drools error after migrating from Java 8 to Java 11","body":"<p>I am getting following error when compiling rules after migrating from Java 8 to 11:</p>\n<blockquote>\n<p>Error compiling rule package at org.tolven.rules.PackageCompiler (line 68)\nCaused by: wrong class format at org.drools.commons.jci.compilers.EclipseJavaCompiler$2 (line 260)\nCaused by: null at org.eclipse.jdt.internal.compiler.classfmt.ClassFileReader (line 329)</p>\n</blockquote>\n<p>Application using the following jars &amp; running on WildFly-16:</p>\n<pre><code>jboss-rules.drools-compiler-4.0.7.jar\njboss-rules.core-compiler-3.2.3.v_686_R32x.jar\n</code></pre>\n<p>Any idea about what caused this issue?</p>\n"},{"tags":["java","spring","apache-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633439928,"creation_date":1633355616,"answer_id":69437215,"question_id":69432739,"body_markdown":"To get a `@StreamListener` to start again at the beginning of the log, configure a `group` on the binding (so that auto.offset.reset gets set to `earliest` and set `resetOffsets` to `true`.\r\n\r\n    spring.cloud.stream.kafka.bindings.my-group-id.consumer.resetOffsets=true\r\n\r\n\r\nhttps://docs.spring.io/spring-cloud-stream-binder-kafka/docs/3.1.4/reference/html/spring-cloud-stream-binder-kafka.html#kafka-consumer-properties\r\n\r\n&gt;**resetOffsets**\r\n\r\n&gt;Whether to reset offsets on the consumer to the value provided by startOffset. Must be false if a `KafkaBindingRebalanceListener` is provided; see Using a KafkaBindingRebalanceListener. See Resetting Offsets for more information about this property.\r\n\r\n&gt;Default: false.\r\n\r\n\r\nhttps://docs.spring.io/spring-cloud-stream-binder-kafka/docs/3.1.4/reference/html/spring-cloud-stream-binder-kafka.html#reset-offsets\r\n\r\n\r\n__EDIT__\r\n\r\nIt works fine for me:\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class So69432739Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So69432739Application.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Consumer&lt;String&gt; input() {\r\n\t\treturn System.out::println;\r\n\t}\r\n\r\n\t@Bean\r\n\tApplicationRunner runner(KafkaOperations&lt;byte[], byte[]&gt; ops) {\r\n\t\treturn args -&gt; {\r\n\t\t\tops.send(&quot;input-in-0&quot;, &quot;one&quot;.getBytes());\r\n\t\t\tops.send(&quot;input-in-0&quot;, &quot;two&quot;.getBytes());\r\n\t\t\tops.send(&quot;input-in-0&quot;, &quot;three&quot;.getBytes());\r\n\t\t};\r\n\t}\r\n\r\n}\r\n```\r\n```properties\r\nspring.cloud.stream.bindings.input-in-0.group=grp\r\nspring.cloud.stream.kafka.bindings.input-in-0.consumer.reset-offsets=true\r\n```\r\n\r\nThe second time I ran it:\r\n\r\n```\r\none\r\ntwo\r\nthree\r\none\r\ntwo\r\nthree\r\n```\r\n\r\n```log\r\nSetting offset for partition input-in-0-0 to the committed offset FetchPosition{offset=3, ...\r\nResetting offset for partition input-in-0-0 to position FetchPosition{offset=0, ...\r\n```\r\n\r\nNote that I am using the newer functional style (`@StreamListener` is deprecated); although that makes no difference to this functionality.\r\n\r\n__EDIT2__\r\n\r\nYou can&#39;t mix propertie and YAML like that; I copied your YAML (commenting out some that I don&#39;t need) and it works fine...\r\n\r\n```yaml\r\nspring:\r\n  kafka:\r\n    consumer:\r\n      properties:\r\n        max.poll.interval.ms: 3600000\r\n      max-poll-records: 10\r\n  cloud:\r\n    stream:\r\n      kafka:\r\n        bindings:\r\n          my-group-id:\r\n            consumer:\r\n              autoCommitOffset: false\r\n              reset-offsets: true\r\n#        binder:\r\n#          brokers:\r\n#            - test.kafka.com:6667\r\n#            - test.kafka.com:6667\r\n#            - test.kafka.com:6667\r\n#          auto-create-topics: false\r\n#          auto-add-partitions: false\r\n#          jaas:\r\n#            controlFlag: REQUIRED\r\n#            loginModule: com.sun.security.auth.module.Krb5LoginModule\r\n#            options:\r\n#              useKeyTab: true\r\n#              storeKey: true\r\n#              serviceName: kafka\r\n#              keyTab: C:\\\\files\\\\user.keytab\r\n#              principal: user@test.com\r\n#              debug: true\r\n#          configuration:\r\n#            security:\r\n#              protocol: SASL_PLAINTEXT\r\n      bindings:\r\n        input-int-0:\r\n          binder: kafka\r\n          destination: input-in-0\r\n          group: test-kafka-service\r\n#  servlet:\r\n#    multipart:\r\n#      max-file-size: 50MB\r\n#      max-request-size: 50MB\r\n```\r\n```\r\nSetting offset for partition input-in-0-0 to the committed offset FetchPosition{offset=6 ...\r\nSeeking to EARLIEST offset of partition input-in-0-0\r\nResetting offset for partition input-in-0-0 to position FetchPosition{offset=0 ...\r\n```","title":"How do i get the messages from the offset in Spring Cloud Stream Kafka Binder?","body":"<p>To get a <code>@StreamListener</code> to start again at the beginning of the log, configure a <code>group</code> on the binding (so that auto.offset.reset gets set to <code>earliest</code> and set <code>resetOffsets</code> to <code>true</code>.</p>\n<pre><code>spring.cloud.stream.kafka.bindings.my-group-id.consumer.resetOffsets=true\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/3.1.4/reference/html/spring-cloud-stream-binder-kafka.html#kafka-consumer-properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/3.1.4/reference/html/spring-cloud-stream-binder-kafka.html#kafka-consumer-properties</a></p>\n<blockquote>\n<p><strong>resetOffsets</strong></p>\n</blockquote>\n<blockquote>\n<p>Whether to reset offsets on the consumer to the value provided by startOffset. Must be false if a <code>KafkaBindingRebalanceListener</code> is provided; see Using a KafkaBindingRebalanceListener. See Resetting Offsets for more information about this property.</p>\n</blockquote>\n<blockquote>\n<p>Default: false.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/3.1.4/reference/html/spring-cloud-stream-binder-kafka.html#reset-offsets\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/3.1.4/reference/html/spring-cloud-stream-binder-kafka.html#reset-offsets</a></p>\n<p><strong>EDIT</strong></p>\n<p>It works fine for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class So69432739Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So69432739Application.class, args);\n    }\n\n    @Bean\n    public Consumer&lt;String&gt; input() {\n        return System.out::println;\n    }\n\n    @Bean\n    ApplicationRunner runner(KafkaOperations&lt;byte[], byte[]&gt; ops) {\n        return args -&gt; {\n            ops.send(&quot;input-in-0&quot;, &quot;one&quot;.getBytes());\n            ops.send(&quot;input-in-0&quot;, &quot;two&quot;.getBytes());\n            ops.send(&quot;input-in-0&quot;, &quot;three&quot;.getBytes());\n        };\n    }\n\n}\n</code></pre>\n<pre><code>spring.cloud.stream.bindings.input-in-0.group=grp\nspring.cloud.stream.kafka.bindings.input-in-0.consumer.reset-offsets=true\n</code></pre>\n<p>The second time I ran it:</p>\n<pre><code>one\ntwo\nthree\none\ntwo\nthree\n</code></pre>\n<pre><code>Setting offset for partition input-in-0-0 to the committed offset FetchPosition{offset=3, ...\nResetting offset for partition input-in-0-0 to position FetchPosition{offset=0, ...\n</code></pre>\n<p>Note that I am using the newer functional style (<code>@StreamListener</code> is deprecated); although that makes no difference to this functionality.</p>\n<p><strong>EDIT2</strong></p>\n<p>You can't mix propertie and YAML like that; I copied your YAML (commenting out some that I don't need) and it works fine...</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  kafka:\n    consumer:\n      properties:\n        max.poll.interval.ms: 3600000\n      max-poll-records: 10\n  cloud:\n    stream:\n      kafka:\n        bindings:\n          my-group-id:\n            consumer:\n              autoCommitOffset: false\n              reset-offsets: true\n#        binder:\n#          brokers:\n#            - test.kafka.com:6667\n#            - test.kafka.com:6667\n#            - test.kafka.com:6667\n#          auto-create-topics: false\n#          auto-add-partitions: false\n#          jaas:\n#            controlFlag: REQUIRED\n#            loginModule: com.sun.security.auth.module.Krb5LoginModule\n#            options:\n#              useKeyTab: true\n#              storeKey: true\n#              serviceName: kafka\n#              keyTab: C:\\\\files\\\\user.keytab\n#              principal: user@test.com\n#              debug: true\n#          configuration:\n#            security:\n#              protocol: SASL_PLAINTEXT\n      bindings:\n        input-int-0:\n          binder: kafka\n          destination: input-in-0\n          group: test-kafka-service\n#  servlet:\n#    multipart:\n#      max-file-size: 50MB\n#      max-request-size: 50MB\n</code></pre>\n<pre><code>Setting offset for partition input-in-0-0 to the committed offset FetchPosition{offset=6 ...\nSeeking to EARLIEST offset of partition input-in-0-0\nResetting offset for partition input-in-0-0 to position FetchPosition{offset=0 ...\n</code></pre>\n"}],"owner":{"account_id":22894269,"reputation":19,"user_id":17034002,"display_name":"Java Student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1331,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69437215,"answer_count":1,"score":-1,"last_activity_date":1633439928,"creation_date":1633334675,"question_id":69432739,"body_markdown":"I am able to connect to the topic, although I am not sure on how I am able to get the messages from the topic. Here is the logs that shows that I have 1076 records on the topic:\r\n\r\n**Logs**\r\n\r\n    2021-10-05 11:10:09.053  INFO 17364 --- [container-0-C-1] o.s.c.s.b.k.KafkaMessageChannelBinder    : Partitions revoked: []\r\n    2021-10-05 11:10:09.054  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] (Re-)joining group\r\n    2021-10-05 11:10:10.063  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] (Re-)joining group\r\n    2021-10-05 11:10:13.189  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Successfully joined group with generation 1\r\n    2021-10-05 11:10:13.205  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Setting newly assigned partitions: MY_TOPIC-0\r\n    2021-10-05 11:10:13.278  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Found no committed offset for partition MY_TOPIC-0\r\n    2021-10-05 11:10:13.664  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-2, groupId=latest] Resetting offset for partition MY_TOPIC-0 to offset 1076.\r\n    2021-10-05 11:10:13.730  INFO 17364 --- [container-0-C-1] o.s.c.s.b.k.KafkaMessageChannelBinder    : Partitions assigned: [MY_TOPIC-0]\r\n    2021-10-05 11:10:13.731  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-2, groupId=latest] Seeking to EARLIEST offset of partition MY_TOPIC-0\r\n    2021-10-05 11:10:13.787  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-2, groupId=latest] Resetting offset for partition MY_TOPIC-0 to offset 1076.\r\n    2021-10-05 11:46:44.345  INFO 17364 --- [thread | latest] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Group coordinator test.kafka.com:6667 (id: 2246481044 rack: null) is unavailable or invalid, will attempt rediscovery\r\n    2021-10-05 11:46:51.625  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Discovered group coordinator test.kafka.com:6667 (id: 2147482644 rack: null)\r\n    2021-10-05 11:46:56.514  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Attempt to heartbeat failed for since member id consumer-2-386b3e7b-b8a1-48c5-9gd3-5e587e4237ad is not valid.\r\n    2021-10-05 11:46:56.516  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Revoking previously assigned partitions [MY_TOPIC-0]\r\n    2021-10-05 11:46:56.516  INFO 17364 --- [container-0-C-1] o.s.c.s.b.k.KafkaMessageChannelBinder    : Partitions revoked: [MY_TOPIC-0]\r\n    2021-10-05 11:46:56.516  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] (Re-)joining group\r\n    2021-10-05 11:46:56.572  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] (Re-)joining group\r\n    2021-10-05 11:46:59.687  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Successfully joined group with generation 3\r\n    2021-10-05 11:46:59.688  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Setting newly assigned partitions: MY_TOPIC-0\r\n    2021-10-05 11:46:59.749  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Setting offset for partition MY_TOPIC-0 to the committed offset FetchPosition{offset=1076, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=test.kafka.com:6667 (id: 1003 rack: /default-rack), epoch=2}}\r\n    2021-10-05 11:46:59.812  INFO 17364 --- [container-0-C-1] o.s.c.s.b.k.KafkaMessageChannelBinder    : Partitions assigned: [MY_TOPIC-0]\r\n\r\n**Consumer Class**\r\n\r\n    public interface EventConsumer {\r\n    \r\n        @Input(&quot;my-group-id&quot;)\r\n        SubscribableChannel consumeMessage();\r\n    \r\n    }\r\n\r\n**Listener Class**\r\n\r\n    @Slf4j\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    @EnableBinding(EventConsumer.class)\r\n    public class EventListener {\r\n    \r\n         @StreamListener(target = &quot;my-group-id&quot;)\r\n         public void processMessage(Object msg) {\r\n             log.info(&quot;*** MESSAGE: ***&quot;, msg);\r\n             **do something**\r\n             **save messages**\r\n         }\r\n    }\r\n\r\n**Application.yml**\r\n\r\n    kafka:\r\n        consumer:\r\n          properties:\r\n            max.poll.interval.ms: 3600000\r\n          max-poll-records: 10\r\n      cloud:\r\n        zookeeper:\r\n          connect-string: test.kafka.com:2181,test.kafka.com:2181,test.kafka.com:2181\r\n        stream:\r\n          kafka:\r\n            bindings:\r\n              my-group-id:\r\n                consumer:\r\n                  autoCommitOffset: false\r\n            binder:\r\n              brokers:\r\n                - test.kafka.com:6667\r\n                - test.kafka.com:6667\r\n                - test.kafka.com:6667\r\n              auto-create-topics: false\r\n              auto-add-partitions: false\r\n              jaas:\r\n                controlFlag: REQUIRED\r\n                loginModule: com.sun.security.auth.module.Krb5LoginModule\r\n                options:\r\n                  useKeyTab: true\r\n                  storeKey: true\r\n                  serviceName: kafka\r\n                  keyTab: C:\\\\files\\\\user.keytab\r\n                  principal: user@test.com\r\n                  debug: true\r\n              configuration:\r\n                security:\r\n                  protocol: SASL_PLAINTEXT\r\n          bindings:\r\n            my-group-id:\r\n              binder: kafka\r\n              destination: MY_TOPIC\r\n              group: test-kafka-service\r\n      servlet:\r\n        multipart:\r\n          max-file-size: 50MB\r\n          max-request-size: 50MB\r\n    spring.cloud.stream.kafka.bindings.my-group-id.consumer.resetOffsets: true\r\n    spring.cloud.stream.kafka.streams.binder.configuration.commit.interval.ms: 300000\r\n\r\nUpon reading the logs, it does not even go to my listener class wherein I placed a logger for it. Any ideas on this?\r\n\r\n\r\n\r\n","title":"How do i get the messages from the offset in Spring Cloud Stream Kafka Binder?","body":"<p>I am able to connect to the topic, although I am not sure on how I am able to get the messages from the topic. Here is the logs that shows that I have 1076 records on the topic:</p>\n<p><strong>Logs</strong></p>\n<pre><code>2021-10-05 11:10:09.053  INFO 17364 --- [container-0-C-1] o.s.c.s.b.k.KafkaMessageChannelBinder    : Partitions revoked: []\n2021-10-05 11:10:09.054  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] (Re-)joining group\n2021-10-05 11:10:10.063  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] (Re-)joining group\n2021-10-05 11:10:13.189  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Successfully joined group with generation 1\n2021-10-05 11:10:13.205  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Setting newly assigned partitions: MY_TOPIC-0\n2021-10-05 11:10:13.278  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Found no committed offset for partition MY_TOPIC-0\n2021-10-05 11:10:13.664  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-2, groupId=latest] Resetting offset for partition MY_TOPIC-0 to offset 1076.\n2021-10-05 11:10:13.730  INFO 17364 --- [container-0-C-1] o.s.c.s.b.k.KafkaMessageChannelBinder    : Partitions assigned: [MY_TOPIC-0]\n2021-10-05 11:10:13.731  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-2, groupId=latest] Seeking to EARLIEST offset of partition MY_TOPIC-0\n2021-10-05 11:10:13.787  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-2, groupId=latest] Resetting offset for partition MY_TOPIC-0 to offset 1076.\n2021-10-05 11:46:44.345  INFO 17364 --- [thread | latest] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Group coordinator test.kafka.com:6667 (id: 2246481044 rack: null) is unavailable or invalid, will attempt rediscovery\n2021-10-05 11:46:51.625  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Discovered group coordinator test.kafka.com:6667 (id: 2147482644 rack: null)\n2021-10-05 11:46:56.514  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Attempt to heartbeat failed for since member id consumer-2-386b3e7b-b8a1-48c5-9gd3-5e587e4237ad is not valid.\n2021-10-05 11:46:56.516  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Revoking previously assigned partitions [MY_TOPIC-0]\n2021-10-05 11:46:56.516  INFO 17364 --- [container-0-C-1] o.s.c.s.b.k.KafkaMessageChannelBinder    : Partitions revoked: [MY_TOPIC-0]\n2021-10-05 11:46:56.516  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] (Re-)joining group\n2021-10-05 11:46:56.572  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] (Re-)joining group\n2021-10-05 11:46:59.687  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Successfully joined group with generation 3\n2021-10-05 11:46:59.688  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Setting newly assigned partitions: MY_TOPIC-0\n2021-10-05 11:46:59.749  INFO 17364 --- [container-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=latest] Setting offset for partition MY_TOPIC-0 to the committed offset FetchPosition{offset=1076, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=test.kafka.com:6667 (id: 1003 rack: /default-rack), epoch=2}}\n2021-10-05 11:46:59.812  INFO 17364 --- [container-0-C-1] o.s.c.s.b.k.KafkaMessageChannelBinder    : Partitions assigned: [MY_TOPIC-0]\n</code></pre>\n<p><strong>Consumer Class</strong></p>\n<pre><code>public interface EventConsumer {\n\n    @Input(&quot;my-group-id&quot;)\n    SubscribableChannel consumeMessage();\n\n}\n</code></pre>\n<p><strong>Listener Class</strong></p>\n<pre><code>@Slf4j\n@Component\n@RequiredArgsConstructor\n@EnableBinding(EventConsumer.class)\npublic class EventListener {\n\n     @StreamListener(target = &quot;my-group-id&quot;)\n     public void processMessage(Object msg) {\n         log.info(&quot;*** MESSAGE: ***&quot;, msg);\n         **do something**\n         **save messages**\n     }\n}\n</code></pre>\n<p><strong>Application.yml</strong></p>\n<pre><code>kafka:\n    consumer:\n      properties:\n        max.poll.interval.ms: 3600000\n      max-poll-records: 10\n  cloud:\n    zookeeper:\n      connect-string: test.kafka.com:2181,test.kafka.com:2181,test.kafka.com:2181\n    stream:\n      kafka:\n        bindings:\n          my-group-id:\n            consumer:\n              autoCommitOffset: false\n        binder:\n          brokers:\n            - test.kafka.com:6667\n            - test.kafka.com:6667\n            - test.kafka.com:6667\n          auto-create-topics: false\n          auto-add-partitions: false\n          jaas:\n            controlFlag: REQUIRED\n            loginModule: com.sun.security.auth.module.Krb5LoginModule\n            options:\n              useKeyTab: true\n              storeKey: true\n              serviceName: kafka\n              keyTab: C:\\\\files\\\\user.keytab\n              principal: user@test.com\n              debug: true\n          configuration:\n            security:\n              protocol: SASL_PLAINTEXT\n      bindings:\n        my-group-id:\n          binder: kafka\n          destination: MY_TOPIC\n          group: test-kafka-service\n  servlet:\n    multipart:\n      max-file-size: 50MB\n      max-request-size: 50MB\nspring.cloud.stream.kafka.bindings.my-group-id.consumer.resetOffsets: true\nspring.cloud.stream.kafka.streams.binder.configuration.commit.interval.ms: 300000\n</code></pre>\n<p>Upon reading the logs, it does not even go to my listener class wherein I placed a logger for it. Any ideas on this?</p>\n"},{"tags":["java","json","gson"],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633439755,"creation_date":1633439755,"answer_id":69451194,"question_id":69450879,"body_markdown":"You can&#39;t write a custom deserializer to a malformed JSON. If it&#39;s malformed then it&#39;s not a JSON anymore and Gson can&#39;t make any assumptions about a random string. Best bet would be to fix what is sent to the queue and if thats not doable then you would have to fix the currently-malformed-but-to-be-JSON while it&#39;s still a string.","title":"Gson parse regex value from json string","body":"<p>You can't write a custom deserializer to a malformed JSON. If it's malformed then it's not a JSON anymore and Gson can't make any assumptions about a random string. Best bet would be to fix what is sent to the queue and if thats not doable then you would have to fix the currently-malformed-but-to-be-JSON while it's still a string.</p>\n"}],"owner":{"account_id":8763927,"reputation":1512,"user_id":6553042,"display_name":"fuat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633439755,"creation_date":1633438562,"question_id":69450879,"body_markdown":"I receive below string from a message queue, with no double quote;\r\n\r\n    {\r\n    \ttableName:STUDENT,\r\n    \tcolumns: [{\r\n    \t\tname: PARENT_PHONE,\r\n    \t\tregex:{\r\n    \t\t\tregexCode:PHONE,\r\n    \t\t\tregexValue:[0-9\\\\-\\\\+]{9,15}\r\n    \t\t\t}\r\n    \t\t}]\r\n    }\r\n\r\nThis is the string that I try to parse it to an object as below;\r\n\r\n    TableDefinition tableDefinition = gson.fromJson(tableJson, TableDefinition.class);\r\n\r\nOf course it&#39;s throwing an exception like;\r\n\r\n    Expected a string but was &quot;BEGIN_ARRAY&quot; at line ...\r\n\r\nI understand that `regexValue` should start with a valid character not with `[`, then I write a custom deserializer in order to parse regexValue property. \r\n\r\nNow it is throw MalformedJsonException and debug breakpoint not even stop in custom deserializer method; \r\n\r\n    com.google.gson.stream.MalformedJsonException: Unterminated array at line 1 column 325 path $.columns[0].regex.regexValue[1]\r\n\r\nAs exception showed us, Gson still recognize regexValue as an array.\r\n\r\nHow to tell to Gson that regexValue is a string? How to deal such a situation?\r\n","title":"Gson parse regex value from json string","body":"<p>I receive below string from a message queue, with no double quote;</p>\n<pre><code>{\n    tableName:STUDENT,\n    columns: [{\n        name: PARENT_PHONE,\n        regex:{\n            regexCode:PHONE,\n            regexValue:[0-9\\\\-\\\\+]{9,15}\n            }\n        }]\n}\n</code></pre>\n<p>This is the string that I try to parse it to an object as below;</p>\n<pre><code>TableDefinition tableDefinition = gson.fromJson(tableJson, TableDefinition.class);\n</code></pre>\n<p>Of course it's throwing an exception like;</p>\n<pre><code>Expected a string but was &quot;BEGIN_ARRAY&quot; at line ...\n</code></pre>\n<p>I understand that <code>regexValue</code> should start with a valid character not with <code>[</code>, then I write a custom deserializer in order to parse regexValue property.</p>\n<p>Now it is throw MalformedJsonException and debug breakpoint not even stop in custom deserializer method;</p>\n<pre><code>com.google.gson.stream.MalformedJsonException: Unterminated array at line 1 column 325 path $.columns[0].regex.regexValue[1]\n</code></pre>\n<p>As exception showed us, Gson still recognize regexValue as an array.</p>\n<p>How to tell to Gson that regexValue is a string? How to deal such a situation?</p>\n"},{"tags":["java","mysql","spring-boot","jpa","thymeleaf"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1633440509,"post_id":69451168,"comment_id":122756321,"body_markdown":"What plan do you have. The VM size seams to be very small","body":"What plan do you have. The VM size seams to be very small"},{"owner":{"account_id":4027270,"reputation":917,"user_id":3314941,"display_name":"Julius Fasema"},"score":0,"creation_date":1633442901,"post_id":69451168,"comment_id":122757456,"body_markdown":"i guess so. I have contacted the hosting company about it. I was thinking there is another way one can manipulate that using java code.","body":"i guess so. I have contacted the hosting company about it. I was thinking there is another way one can manipulate that using java code."}],"owner":{"account_id":4027270,"reputation":917,"user_id":3314941,"display_name":"Julius Fasema"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633439660,"creation_date":1633439660,"question_id":69451168,"body_markdown":"after developing my spring boot application, everything works fine on my local machine. It does not take time to load the index page and subsequent files. The loading speed is fantastic.\r\n\r\nThe problem is when i hosted the same application on daily razor java hosting plan, it takes lots of time to load the index page. I checked the stdout.log file everything seems to be fine.\r\n\r\nWhy is it taking too long to load the index page?","title":"Spring boot application takes time to load the index page on daily razor tomcat hosting plan","body":"<p>after developing my spring boot application, everything works fine on my local machine. It does not take time to load the index page and subsequent files. The loading speed is fantastic.</p>\n<p>The problem is when i hosted the same application on daily razor java hosting plan, it takes lots of time to load the index page. I checked the stdout.log file everything seems to be fine.</p>\n<p>Why is it taking too long to load the index page?</p>\n"},{"tags":["java","android","android-view","custom-view"],"comments":[{"owner":{"account_id":3230024,"reputation":1094,"user_id":2725502,"accept_rate":100,"display_name":"ImAtWar"},"score":0,"creation_date":1425295948,"post_id":28808758,"comment_id":45889847,"body_markdown":"Did you mean scrollview?","body":"Did you mean scrollview?"},{"owner":{"account_id":3480449,"reputation":9549,"user_id":2912665,"accept_rate":62,"display_name":"CinCout"},"score":0,"creation_date":1425296763,"post_id":28808758,"comment_id":45890328,"body_markdown":"What is the exact use case? What do you want it for?","body":"What is the exact use case? What do you want it for?"},{"owner":{"account_id":4674950,"reputation":1170,"user_id":3785618,"display_name":"Maksim I. Kuzmin"},"score":0,"creation_date":1425331002,"post_id":28808758,"comment_id":45910962,"body_markdown":"I try to write bluetooth touchpad for android.","body":"I try to write bluetooth touchpad for android."}],"answers":[{"tags":[],"owner":{"account_id":3376892,"reputation":499,"user_id":2834868,"accept_rate":60,"display_name":"Shishdem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425296279,"creation_date":1425296279,"answer_id":28808883,"question_id":28808758,"body_markdown":"That would be a [ScrollView][1] or a [HorizontalScrollView][2].\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/widget/ScrollView.html\r\n  [2]: http://developer.android.com/reference/android/widget/HorizontalScrollView.html","title":"Which component can I use in Android Studio for the purpose of creating a touchpad?","body":"<p>That would be a <a href=\"http://developer.android.com/reference/android/widget/ScrollView.html\" rel=\"nofollow\">ScrollView</a> or a <a href=\"http://developer.android.com/reference/android/widget/HorizontalScrollView.html\" rel=\"nofollow\">HorizontalScrollView</a>.</p>\n"},{"tags":[],"owner":{"account_id":4674950,"reputation":1170,"user_id":3785618,"display_name":"Maksim I. Kuzmin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633439551,"creation_date":1633415662,"answer_id":69445829,"question_id":28808758,"body_markdown":"Unfortunately, Shishdem&#39;s answer didn&#39;t satisfy me. What I basically was trying to achieve is to make a prototype of a touchpad for a school project. [`ScrollView`][3] contains elements that are to be scrolled within, and I needed to track finger movements information that is suitable to be handled for moving cursor on PC by my server application.\r\n\r\nI found solution here: [Track touch and pointer movements][1]\r\n\r\nI needed to create an [`android.view.VelocityTracker`][2] and track touch velocity to further send that data to my PC server and simulate mouse movements via [`java.awt.Robot`][4] within [`onTouchEvent`][5]. The component could be anything, a `Button` in my case.\r\n\r\nHere&#39;s the working code for the class that handles touch event of a touchpad view:\r\n\r\n```java\r\nprivate VelocityTracker mVelocityTracker = null;\r\n@Override\r\npublic boolean onTouchEvent(MotionEvent event) {\r\n    int index = event.getActionIndex();\r\n    int action = event.getActionMasked();\r\n    int pointerId = event.getPointerId(index);\r\n\r\n    switch(action) {\r\n        case MotionEvent.ACTION_DOWN:\r\n            if(mVelocityTracker == null) {\r\n                mVelocityTracker = VelocityTracker.obtain();\r\n            }\r\n            else {\r\n                mVelocityTracker.clear();\r\n            }\r\n\r\n            mVelocityTracker.addMovement(event);\r\n            break;\r\n        case MotionEvent.ACTION_MOVE:\r\n            mVelocityTracker.addMovement(event);\r\n            mVelocityTracker.computeCurrentVelocity(1000);\r\n\r\n            // Log velocity of pixels per second\r\n            // Those values can be used to be sent to the server\r\n            Log.d(&quot;Velocity&quot;, &quot;X velocity: &quot; + mVelocityTracker.getXVelocity(pointerId));\r\n            Log.d(&quot;Velocity&quot;, &quot;Y velocity: &quot; + mVelocityTracker.getYVelocity(pointerId));\r\n\r\n            break;\r\n        case MotionEvent.ACTION_UP:\r\n        case MotionEvent.ACTION_CANCEL:\r\n            mVelocityTracker.recycle();\r\n            mVelocityTracker = null;\r\n            break;\r\n    }\r\n    return true;\r\n}\r\n```\r\n\r\nIn case of crash\r\n---\r\n\r\nNote that in the example of the link above there isn&#39;t this line:\r\n```java\r\nmVelocityTracker.recycle();\r\nmVelocityTracker = null; // this line\r\n```\r\n\r\nBut in my case, if I didn&#39;t assign `mVelocityTracker` to `null` every recycle, it would crash with the following errors:\r\n\r\n```\r\n2021-10-05 09:30:21.711 4385-4385/com.example.javaapp E/InputEventReceiver: Exception dispatching input event.\r\n2021-10-05 09:30:21.711 4385-4385/com.example.javaapp E/MessageQueue-JNI: Exception in MessageQueue callback: handleReceiveCallback\r\n2021-10-05 09:30:21.713 4385-4385/com.example.javaapp E/MessageQueue-JNI: java.lang.IllegalStateException: Already in the pool!\r\n        at android.util.Pools$SimplePool.release(Pools.java:120)\r\n        at android.util.Pools$SynchronizedPool.release(Pools.java:179)\r\n        at android.view.VelocityTracker.recycle(VelocityTracker.java:87)\r\n```\r\n\r\nMore on that issue: https://stackoverflow.com/questions/26074907/velocitytracker-causes-crash-on-android-4-4\r\n\r\n[1]: https://developer.android.com/training/gestures/movement#java\r\n[2]: https://developer.android.com/reference/android/view/VelocityTracker\r\n[3]: https://developer.android.com/reference/android/widget/ScrollView.html\r\n[4]: https://docs.oracle.com/javase/7/docs/api/java/awt/Robot.html\r\n[5]: https://developer.android.com/training/graphics/opengl/touch","title":"Which component can I use in Android Studio for the purpose of creating a touchpad?","body":"<p>Unfortunately, Shishdem's answer didn't satisfy me. What I basically was trying to achieve is to make a prototype of a touchpad for a school project. <a href=\"https://developer.android.com/reference/android/widget/ScrollView.html\" rel=\"nofollow noreferrer\"><code>ScrollView</code></a> contains elements that are to be scrolled within, and I needed to track finger movements information that is suitable to be handled for moving cursor on PC by my server application.</p>\n<p>I found solution here: <a href=\"https://developer.android.com/training/gestures/movement#java\" rel=\"nofollow noreferrer\">Track touch and pointer movements</a></p>\n<p>I needed to create an <a href=\"https://developer.android.com/reference/android/view/VelocityTracker\" rel=\"nofollow noreferrer\"><code>android.view.VelocityTracker</code></a> and track touch velocity to further send that data to my PC server and simulate mouse movements via <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Robot.html\" rel=\"nofollow noreferrer\"><code>java.awt.Robot</code></a> within <a href=\"https://developer.android.com/training/graphics/opengl/touch\" rel=\"nofollow noreferrer\"><code>onTouchEvent</code></a>. The component could be anything, a <code>Button</code> in my case.</p>\n<p>Here's the working code for the class that handles touch event of a touchpad view:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private VelocityTracker mVelocityTracker = null;\n@Override\npublic boolean onTouchEvent(MotionEvent event) {\n    int index = event.getActionIndex();\n    int action = event.getActionMasked();\n    int pointerId = event.getPointerId(index);\n\n    switch(action) {\n        case MotionEvent.ACTION_DOWN:\n            if(mVelocityTracker == null) {\n                mVelocityTracker = VelocityTracker.obtain();\n            }\n            else {\n                mVelocityTracker.clear();\n            }\n\n            mVelocityTracker.addMovement(event);\n            break;\n        case MotionEvent.ACTION_MOVE:\n            mVelocityTracker.addMovement(event);\n            mVelocityTracker.computeCurrentVelocity(1000);\n\n            // Log velocity of pixels per second\n            // Those values can be used to be sent to the server\n            Log.d(&quot;Velocity&quot;, &quot;X velocity: &quot; + mVelocityTracker.getXVelocity(pointerId));\n            Log.d(&quot;Velocity&quot;, &quot;Y velocity: &quot; + mVelocityTracker.getYVelocity(pointerId));\n\n            break;\n        case MotionEvent.ACTION_UP:\n        case MotionEvent.ACTION_CANCEL:\n            mVelocityTracker.recycle();\n            mVelocityTracker = null;\n            break;\n    }\n    return true;\n}\n</code></pre>\n<h2>In case of crash</h2>\n<p>Note that in the example of the link above there isn't this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mVelocityTracker.recycle();\nmVelocityTracker = null; // this line\n</code></pre>\n<p>But in my case, if I didn't assign <code>mVelocityTracker</code> to <code>null</code> every recycle, it would crash with the following errors:</p>\n<pre><code>2021-10-05 09:30:21.711 4385-4385/com.example.javaapp E/InputEventReceiver: Exception dispatching input event.\n2021-10-05 09:30:21.711 4385-4385/com.example.javaapp E/MessageQueue-JNI: Exception in MessageQueue callback: handleReceiveCallback\n2021-10-05 09:30:21.713 4385-4385/com.example.javaapp E/MessageQueue-JNI: java.lang.IllegalStateException: Already in the pool!\n        at android.util.Pools$SimplePool.release(Pools.java:120)\n        at android.util.Pools$SynchronizedPool.release(Pools.java:179)\n        at android.view.VelocityTracker.recycle(VelocityTracker.java:87)\n</code></pre>\n<p>More on that issue: <a href=\"https://stackoverflow.com/questions/26074907/velocitytracker-causes-crash-on-android-4-4\">VelocityTracker causes crash on Android 4.4</a></p>\n"}],"owner":{"account_id":4674950,"reputation":1170,"user_id":3785618,"display_name":"Maksim I. Kuzmin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69445829,"answer_count":2,"score":0,"last_activity_date":1633439551,"creation_date":1425295894,"question_id":28808758,"body_markdown":"I&#39;ve been searching for a View/Component in Android Studio that I could use for creating a touchpad. I need the ability to track mouse movements, so that I use that information on the server side to handle it and emulate mouse movements.\r\n\r\nWhat would be the best fit for that purpose?","title":"Which component can I use in Android Studio for the purpose of creating a touchpad?","body":"<p>I've been searching for a View/Component in Android Studio that I could use for creating a touchpad. I need the ability to track mouse movements, so that I use that information on the server side to handle it and emulate mouse movements.</p>\n<p>What would be the best fit for that purpose?</p>\n"},{"tags":["java","android","selenium","browserstack"],"answers":[{"tags":[],"owner":{"account_id":7928743,"reputation":204,"user_id":5987345,"display_name":"Shawn Lobo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1626946879,"creation_date":1626946879,"answer_id":68482614,"question_id":68481625,"body_markdown":"The alert is triggered by JS on the webpage but is displayed in the `NATIVE_APP` context. Any alert that&#39;s not part of the webpage usually shows up in the NATIVE context.\r\n\r\nThis alert needs to be handled via Appium as mentioned here: \r\n\r\nhttps://www.browserstack.com/docs/automate/selenium/handle-permission-pop-ups#handle-know-your-location-pop-up\r\n\r\n```# To accept/block the popup, you need to switch the context to “NATIVE_APP“ and click on the Allow/Block button.\r\ndriver.switch_to.context(&#39;NATIVE_APP&#39;)\r\ndriver.find_element_by_xpath(&quot;.//android.widget.Button[@text=&#39;Allow&#39;]&quot;).click()\r\ntime.sleep(2)","title":"How to dismiss/accept Device Location Popup on Android devices - Selenium with Browser stack","body":"<p>The alert is triggered by JS on the webpage but is displayed in the <code>NATIVE_APP</code> context. Any alert that's not part of the webpage usually shows up in the NATIVE context.</p>\n<p>This alert needs to be handled via Appium as mentioned here:</p>\n<p><a href=\"https://www.browserstack.com/docs/automate/selenium/handle-permission-pop-ups#handle-know-your-location-pop-up\" rel=\"nofollow noreferrer\">https://www.browserstack.com/docs/automate/selenium/handle-permission-pop-ups#handle-know-your-location-pop-up</a></p>\n<pre><code>driver.switch_to.context('NATIVE_APP')\ndriver.find_element_by_xpath(&quot;.//android.widget.Button[@text='Allow']&quot;).click()\ntime.sleep(2)\n</code></pre>\n"}],"owner":{"account_id":7535937,"reputation":164,"user_id":5722214,"display_name":"Adarsh Kumar GM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":770,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68482614,"answer_count":1,"score":0,"last_activity_date":1633439309,"creation_date":1626942732,"question_id":68481625,"body_markdown":"I am stuck with this issue from past some days. Can anyone please help or provide some idea on how it can be achieved.\r\n\r\n**What/Where I am performing:**\r\n1. Browser: Chrome\r\n2. Device: Samsung Galaxy S20\r\n3. Remote: Browser Stack\r\n4. Test: Selenium with Java connecting Browser Stack\r\n\r\n\r\nI  have tried many ways to dismiss the location popup appearing post navigating to the URL, but each time Selenium tests doesn&#39;t even dismiss or recognise that alert. Below is the picture of the device location popup I am receiving upon navigation:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qrugX.jpg\r\n\r\n**Code that I have tried:**\r\n\r\n**Capabilities:**\r\n\r\n    \tcaps.setCapability(&quot;os_version&quot;, &quot;10.0&quot;);\r\n\t    caps.setCapability(&quot;device&quot;, &quot;Samsung Galaxy S20&quot;);\r\n\t    caps.setCapability(&quot;realMobile&quot;, &quot;true&quot;);\r\n\t    caps.setCapability(&quot;browser&quot;, &quot;Chrome&quot;);\r\n\t    caps.setCapability(&quot;browserstack.debug&quot;, &quot;true&quot;);\r\n\t    caps.setCapability(&quot;browserstack.console&quot;, &quot;errors&quot;);\r\n\t    caps.setCapability(CapabilityType.UNEXPECTED_ALERT_BEHAVIOUR, UnexpectedAlertBehaviour.ACCEPT);\r\n\t    caps.setCapability(&quot;name&quot;, scenario);\r\n\r\nI have seen at many places to add &quot;Autograntpermissions&quot;. Tried that as well, but didn&#39;t work\r\n\r\n    caps.setCapability(&quot;autoGrantPermissions&quot;, &quot;true&quot;);\r\n\r\nI have tried the usual switching to an alert and dismissing it or accepting it but it doesn&#39;t work either. Throws &quot;No Such Alert&quot;\r\n\r\n    driver.switchTo().alert().dismiss(); \r\n\r\nI thought, maybe this might work, by adding a profile, but it doesn&#39;t seem to detect as well and always the popup remains\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    Map &lt; String, Object &gt; prefs = new HashMap &lt; String, Object &gt; ();\r\n    Map &lt; String, Object &gt; profile = new HashMap &lt; String, Object &gt; ();\r\n    Map &lt; String, Object &gt; contentSettings = new HashMap &lt; String, Object &gt; ();\r\n\r\n    contentSettings.put(&quot;geolocation&quot;, 1);\r\n    profile.put(&quot;managed_default_content_settings&quot;, contentSettings);\r\n    prefs.put(&quot;profile&quot;, profile);\r\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\r\n    caps.setCapability(ChromeOptions.CAPABILITY, options);\r\n    //... other capabilities\r\n","title":"How to dismiss/accept Device Location Popup on Android devices - Selenium with Browser stack","body":"<p>I am stuck with this issue from past some days. Can anyone please help or provide some idea on how it can be achieved.</p>\n<p><strong>What/Where I am performing:</strong></p>\n<ol>\n<li>Browser: Chrome</li>\n<li>Device: Samsung Galaxy S20</li>\n<li>Remote: Browser Stack</li>\n<li>Test: Selenium with Java connecting Browser Stack</li>\n</ol>\n<p>I  have tried many ways to dismiss the location popup appearing post navigating to the URL, but each time Selenium tests doesn't even dismiss or recognise that alert. Below is the picture of the device location popup I am receiving upon navigation:</p>\n<p><a href=\"https://i.stack.imgur.com/qrugX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qrugX.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Code that I have tried:</strong></p>\n<p><strong>Capabilities:</strong></p>\n<pre><code>    caps.setCapability(&quot;os_version&quot;, &quot;10.0&quot;);\n    caps.setCapability(&quot;device&quot;, &quot;Samsung Galaxy S20&quot;);\n    caps.setCapability(&quot;realMobile&quot;, &quot;true&quot;);\n    caps.setCapability(&quot;browser&quot;, &quot;Chrome&quot;);\n    caps.setCapability(&quot;browserstack.debug&quot;, &quot;true&quot;);\n    caps.setCapability(&quot;browserstack.console&quot;, &quot;errors&quot;);\n    caps.setCapability(CapabilityType.UNEXPECTED_ALERT_BEHAVIOUR, UnexpectedAlertBehaviour.ACCEPT);\n    caps.setCapability(&quot;name&quot;, scenario);\n</code></pre>\n<p>I have seen at many places to add &quot;Autograntpermissions&quot;. Tried that as well, but didn't work</p>\n<pre><code>caps.setCapability(&quot;autoGrantPermissions&quot;, &quot;true&quot;);\n</code></pre>\n<p>I have tried the usual switching to an alert and dismissing it or accepting it but it doesn't work either. Throws &quot;No Such Alert&quot;</p>\n<pre><code>driver.switchTo().alert().dismiss(); \n</code></pre>\n<p>I thought, maybe this might work, by adding a profile, but it doesn't seem to detect as well and always the popup remains</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\nMap &lt; String, Object &gt; prefs = new HashMap &lt; String, Object &gt; ();\nMap &lt; String, Object &gt; profile = new HashMap &lt; String, Object &gt; ();\nMap &lt; String, Object &gt; contentSettings = new HashMap &lt; String, Object &gt; ();\n\ncontentSettings.put(&quot;geolocation&quot;, 1);\nprofile.put(&quot;managed_default_content_settings&quot;, contentSettings);\nprefs.put(&quot;profile&quot;, profile);\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\n\ncaps.setCapability(ChromeOptions.CAPABILITY, options);\n//... other capabilities\n</code></pre>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":1427644,"reputation":47311,"user_id":1350762,"display_name":"maba"},"score":4,"creation_date":1369909909,"post_id":16833697,"comment_id":24271175,"body_markdown":"Are you sure that you have the same version of CustomEmailNotification at both compile time and runtime?","body":"Are you sure that you have the same version of CustomEmailNotification at both compile time and runtime?"},{"owner":{"account_id":2346545,"reputation":93,"user_id":2056646,"accept_rate":50,"display_name":"Saad"},"score":0,"creation_date":1369911389,"post_id":16833697,"comment_id":24271901,"body_markdown":"@maba Yes, I have the same version both at compile and runtime.","body":"@maba Yes, I have the same version both at compile and runtime."},{"owner":{"account_id":2346545,"reputation":93,"user_id":2056646,"accept_rate":50,"display_name":"Saad"},"score":1,"creation_date":1370242928,"post_id":16833697,"comment_id":24372858,"body_markdown":"The problem is fixed now.\nThe error was due to SVN branching. In a separate branch, there is another java class `EmailHelper.java` within the same folder where `CustomEmailNotification.java` resides. So when I switched from that branch to my current one, I did not checkout that branch as I did not require the `EmailHelper.java`, hence the error.\nJust created a separate folder containing just `CustomEmailNotification.java`, and the error is gone.\nThanks to all for taking their time in looking into this.\nRegards,\nSaad.","body":"The problem is fixed now. The error was due to SVN branching. In a separate branch, there is another java class <code>EmailHelper.java</code> within the same folder where <code>CustomEmailNotification.java</code> resides. So when I switched from that branch to my current one, I did not checkout that branch as I did not require the <code>EmailHelper.java</code>, hence the error. Just created a separate folder containing just <code>CustomEmailNotification.java</code>, and the error is gone. Thanks to all for taking their time in looking into this. Regards, Saad."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1622866675,"post_id":16833697,"comment_id":119920398,"body_markdown":"So you don&#39;t have the same version at compile time and runtime.","body":"So you don&#39;t have the same version at compile time and runtime."}],"answers":[{"tags":[],"owner":{"account_id":5500680,"reputation":5767,"user_id":4370109,"display_name":"Brian Tompsett - 汤莱恩"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1423421853,"creation_date":1423421853,"answer_id":28398030,"question_id":16833697,"body_markdown":"(Answered in the comments. Converted to a community wiki answer. See &lt;https://meta.stackoverflow.com/questions/251597/question-with-no-answers-but-issue-solved-in-the-comments&gt; )\r\n\r\nThe OP wrote:\r\n&gt; The problem is fixed now. The error was due to SVN branching. In a separate branch, there is another java class `EmailHelper.java` within the same folder where `CustomEmailNotification.java` resides. So when I switched from that branch to my current one, I did not checkout that branch as I did not require the `EmailHelper.java`, hence the error. Just created a separate folder containing just `CustomEmailNotification.java`, and the error is gone. Thanks to all for taking their time in looking into this","title":"method &lt;init&gt;()V not found while creating an object of a class","body":"<p>(Answered in the comments. Converted to a community wiki answer. See <a href=\"https://meta.stackoverflow.com/questions/251597/question-with-no-answers-but-issue-solved-in-the-comments\">Question with no answers, but issue solved in the comments (or extended in chat)</a> )</p>\n\n<p>The OP wrote:</p>\n\n<blockquote>\n  <p>The problem is fixed now. The error was due to SVN branching. In a separate branch, there is another java class <code>EmailHelper.java</code> within the same folder where <code>CustomEmailNotification.java</code> resides. So when I switched from that branch to my current one, I did not checkout that branch as I did not require the <code>EmailHelper.java</code>, hence the error. Just created a separate folder containing just <code>CustomEmailNotification.java</code>, and the error is gone. Thanks to all for taking their time in looking into this</p>\n</blockquote>\n"}],"owner":{"account_id":2346545,"reputation":93,"user_id":2056646,"accept_rate":50,"display_name":"Saad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9035,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1633439050,"creation_date":1369909480,"question_id":16833697,"body_markdown":"I have a class NotifyBuilderUtil, within which I am trying to create an object of another class CustomEmailNotification. However, while creating the object, I am getting an error:\r\n\r\n    java.lang.NoSuchMethodError: net.mail.CustomEmailNotification: method &lt;init&gt;()V not found\r\n    package org.module.definition.notify;\r\n    ...\r\n    import net.mail.CustomEmailNotification;\r\n    ...\r\n    public class NotifyBuilderUtil implements InitializingBean {\r\n      private static NotifyBuilderUtil instance;\r\n      public NotifyBuilderUtil() {\r\n      if(instance != null) throw new SingletonViolationException(NotifyBuilderUtil.class);\r\n      instance = this;\r\n      }\r\n    ...\r\n    ...\r\n    public static void buildElements(DefinableEntity entity, Element item, Notify notifyDef,     Writer writer, NotifyVisitor.WriterType writerType, Map params, boolean processItem) {\r\n    ...\r\n      String flagElementPath = &quot;./notify&quot;;\r\n      Element flagElem = (Element) nextItem.selectSingleNode(flagElementPath);\r\n      Map oArgs = DefinitionUtils.getOptionalArgs(flagElem);\r\n      NotifyVisitor visitor = new NotifyVisitor(entity, notifyDef, customItem, writer, writerType, params);\r\n      CustomEmailNotification cen = new CustomEmailNotification();\r\n      cen.constructInternalWriter(entity, visitor, flagElem, oArgs);\r\n      ...\r\n      }\r\n    }\r\n\r\nThe CustomEmailNotification :\r\n\r\n    public class CustomEmailNotification {\r\n      private static Map timeFieldMap = null;\r\n      public static Writer internalWriter = null;\r\n      public static Writer externalWriter = null;\r\n      Writer writer;\r\n      public CustomEmailNotification() {\r\n      timeFieldMap = new HashMap();\r\n      }\r\n      ...\r\n      public static void constructInternalWriter(DefinableEntity entity, NotifyVisitor visitor, Element flagElement, Map oArgs) {\r\n      ...\r\n    \r\n      ...\r\n      }\r\n    }\r\n\r\nThe error message is :\r\n\r\n    ERROR [http-8086-1] [org.kablink.teaming.spring.web.portlet.DispatcherPortlet] - Could not complete request\r\n    javax.portlet.PortletException: Error occured during request processing: net.mail.CustomEmailNotification: method &lt;init&gt;()V not found\r\n    at org.springframework.web.portlet.DispatcherPortlet.doActionService(DispatcherPortlet.java:662)\r\n\tat org.springframework.web.portlet.FrameworkPortlet.processRequest(FrameworkPortlet.java:519)\r\n\tat org.springframework.web.portlet.FrameworkPortlet.processAction(FrameworkPortlet.java:460)\r\n\tat org.kablink.teaming.portletadapter.servlet.PortletAdapterController.handleRequestInternal(PortletAdapterController.java:105)\r\n\tat org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:153)\r\n\tat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:48)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:560)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\r\n\tat org.kablink.teaming.portletadapter.servlet.PortletAdapterServlet.service(PortletAdapterServlet.java:74)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.kablink.teaming.web.servlet.filter.LoginFilter.doFilter(LoginFilter.java:155)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.kablink.teaming.web.servlet.filter.DefaultCharacterEncodingFilter.doFilter(DefaultCharacterEncodingFilter.java:60)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:378)\r\n\tat org.springframework.security.intercept.web.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:109)\r\n\tat org.springframework.security.intercept.web.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n\tat org.springframework.security.ui.SessionFixationProtectionFilter.doFilterHttp(SessionFixationProtectionFilter.java:67)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n\tat org.springframework.security.ui.ExceptionTranslationFilter.doFilterHttp(ExceptionTranslationFilter.java:101)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n\tat org.springframework.security.providers.anonymous.AnonymousProcessingFilter.doFilterHttp(AnonymousProcessingFilter.java:105)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n\tat org.springframework.security.wrapper.SecurityContextHolderAwareRequestFilter.doFilterHttp(SecurityContextHolderAwareRequestFilter.java:91)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n\tat org.springframework.security.ui.AbstractProcessingFilter.doFilterHttp(AbstractProcessingFilter.java:278)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n\tat org.springframework.security.ui.basicauth.BasicProcessingFilter.doFilterHttp(BasicProcessingFilter.java:174)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n\tat org.kablink.teaming.spring.security.LogoutFilter.doFilterHttp(LogoutFilter.java:73)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n\tat org.springframework.security.context.HttpSessionContextIntegrationFilter.doFilterHttp(HttpSessionContextIntegrationFilter.java:235)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\r\n\tat org.springframework.security.util.FilterChainProxy.doFilter(FilterChainProxy.java:175)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.kablink.teaming.asmodule.servlet.filter.ResponseHeaderFilter.doFilter(ResponseHeaderFilter.java:127)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n\tat org.kablink.teaming.tomcat.valve.ZoneContextValve.invoke(ZoneContextValve.java:69)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n\tat org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:647)\r\n\tat org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:316)\r\n\tat org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:81)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\r\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)\r\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:602)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\r\n\tat java.lang.Thread.run(Thread.java:722)\r\n\r\n\r\n    Caused by: java.lang.NoSuchMethodError: net.mail.CustomEmailNotification: method &lt;init&gt;()V not found\r\n    at org.kablink.teaming.module.definition.notify.NotifyBuilderUtil.buildElements(NotifyBuilderUtil.java:203)\r\n\tat org.kablink.teaming.module.definition.notify.NotifyBuilderUtil.buildElements(NotifyBuilderUtil.java:175)\r\n\tat org.kablink.teaming.module.mail.impl.DefaultEmailFormatter.buildMessage(DefaultEmailFormatter.java:821)\r\n\tat org.kablink.teaming.module.mail.MimeNotifyPreparator.prepare(MimeNotifyPreparator.java:334)\r\n\tat org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:352)\r\n\tat org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:344)\r\n\tat org.kablink.teaming.module.mail.impl.MailModuleImpl.sendMail(MailModuleImpl.java:1139)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:601)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.kablink.teaming.module.interceptor.EventListenerManagerInterceptor.invoke(EventListenerManagerInterceptor.java:64)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.kablink.teaming.util.aopalliance.InvocationStatisticsInterceptor.invoke(InvocationStatisticsInterceptor.java:49)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n\tat com.sun.proxy.$Proxy13.sendMail(Unknown Source)\r\n\tat org.kablink.teaming.module.admin.impl.AbstractAdminModule.sendMail(AbstractAdminModule.java:1174)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:601)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.kablink.teaming.search.interceptor.IndexSynchronizationManagerInterceptor.invoke(IndexSynchronizationManagerInterceptor.java:67)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.kablink.teaming.module.interceptor.EventListenerManagerInterceptor.invoke(EventListenerManagerInterceptor.java:64)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.kablink.teaming.util.aopalliance.InvocationStatisticsInterceptor.invoke(InvocationStatisticsInterceptor.java:49)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n\tat com.sun.proxy.$Proxy16.sendMail(Unknown Source)\r\n\tat org.kablink.teaming.web.util.BinderHelper.sendMailOnEntryCreate(BinderHelper.java:3171)\r\n\tat org.kablink.teaming.portlet.forum.ModifyEntryController.handleActionRequestAfterValidation(ModifyEntryController.java:202)\r\n\tat org.kablink.teaming.web.portlet.SAbstractController.handleActionRequestInternal(SAbstractController.java:257)\r\n\tat org.springframework.web.portlet.mvc.AbstractController.handleActionRequest(AbstractController.java:199)\r\n\tat org.springframework.web.portlet.mvc.SimpleControllerHandlerAdapter.handleAction(SimpleControllerHandlerAdapter.java:64)\r\n\tat org.springframework.web.portlet.DispatcherPortlet.doActionService(DispatcherPortlet.java:641)\r\n\t... 70 more\r\n\r\nI am not able to find a reason why this is happening. Can anybody can help me point out where I am going wrong? &lt;br&gt;\r\nI am using Apache Tomcat/6.0.35 &lt;br&gt;\r\nJVM Version: 1.7.0_21-b11 &lt;br&gt;\r\n","title":"method &lt;init&gt;()V not found while creating an object of a class","body":"<p>I have a class NotifyBuilderUtil, within which I am trying to create an object of another class CustomEmailNotification. However, while creating the object, I am getting an error:</p>\n\n<pre><code>java.lang.NoSuchMethodError: net.mail.CustomEmailNotification: method &lt;init&gt;()V not found\npackage org.module.definition.notify;\n...\nimport net.mail.CustomEmailNotification;\n...\npublic class NotifyBuilderUtil implements InitializingBean {\n  private static NotifyBuilderUtil instance;\n  public NotifyBuilderUtil() {\n  if(instance != null) throw new SingletonViolationException(NotifyBuilderUtil.class);\n  instance = this;\n  }\n...\n...\npublic static void buildElements(DefinableEntity entity, Element item, Notify notifyDef,     Writer writer, NotifyVisitor.WriterType writerType, Map params, boolean processItem) {\n...\n  String flagElementPath = \"./notify\";\n  Element flagElem = (Element) nextItem.selectSingleNode(flagElementPath);\n  Map oArgs = DefinitionUtils.getOptionalArgs(flagElem);\n  NotifyVisitor visitor = new NotifyVisitor(entity, notifyDef, customItem, writer, writerType, params);\n  CustomEmailNotification cen = new CustomEmailNotification();\n  cen.constructInternalWriter(entity, visitor, flagElem, oArgs);\n  ...\n  }\n}\n</code></pre>\n\n<p>The CustomEmailNotification :</p>\n\n<pre><code>public class CustomEmailNotification {\n  private static Map timeFieldMap = null;\n  public static Writer internalWriter = null;\n  public static Writer externalWriter = null;\n  Writer writer;\n  public CustomEmailNotification() {\n  timeFieldMap = new HashMap();\n  }\n  ...\n  public static void constructInternalWriter(DefinableEntity entity, NotifyVisitor visitor, Element flagElement, Map oArgs) {\n  ...\n\n  ...\n  }\n}\n</code></pre>\n\n<p>The error message is :</p>\n\n<pre><code>ERROR [http-8086-1] [org.kablink.teaming.spring.web.portlet.DispatcherPortlet] - Could not complete request\njavax.portlet.PortletException: Error occured during request processing: net.mail.CustomEmailNotification: method &lt;init&gt;()V not found\nat org.springframework.web.portlet.DispatcherPortlet.doActionService(DispatcherPortlet.java:662)\nat org.springframework.web.portlet.FrameworkPortlet.processRequest(FrameworkPortlet.java:519)\nat org.springframework.web.portlet.FrameworkPortlet.processAction(FrameworkPortlet.java:460)\nat org.kablink.teaming.portletadapter.servlet.PortletAdapterController.handleRequestInternal(PortletAdapterController.java:105)\nat org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:153)\nat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:48)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:560)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\nat org.kablink.teaming.portletadapter.servlet.PortletAdapterServlet.service(PortletAdapterServlet.java:74)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.kablink.teaming.web.servlet.filter.LoginFilter.doFilter(LoginFilter.java:155)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.kablink.teaming.web.servlet.filter.DefaultCharacterEncodingFilter.doFilter(DefaultCharacterEncodingFilter.java:60)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:378)\nat org.springframework.security.intercept.web.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:109)\nat org.springframework.security.intercept.web.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)\nat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\nat org.springframework.security.ui.SessionFixationProtectionFilter.doFilterHttp(SessionFixationProtectionFilter.java:67)\nat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\nat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\nat org.springframework.security.ui.ExceptionTranslationFilter.doFilterHttp(ExceptionTranslationFilter.java:101)\nat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\nat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\nat org.springframework.security.providers.anonymous.AnonymousProcessingFilter.doFilterHttp(AnonymousProcessingFilter.java:105)\nat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\nat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\nat org.springframework.security.wrapper.SecurityContextHolderAwareRequestFilter.doFilterHttp(SecurityContextHolderAwareRequestFilter.java:91)\nat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\nat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\nat org.springframework.security.ui.AbstractProcessingFilter.doFilterHttp(AbstractProcessingFilter.java:278)\nat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\nat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\nat org.springframework.security.ui.basicauth.BasicProcessingFilter.doFilterHttp(BasicProcessingFilter.java:174)\nat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\nat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\nat org.kablink.teaming.spring.security.LogoutFilter.doFilterHttp(LogoutFilter.java:73)\nat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\nat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\nat org.springframework.security.context.HttpSessionContextIntegrationFilter.doFilterHttp(HttpSessionContextIntegrationFilter.java:235)\nat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\nat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)\nat org.springframework.security.util.FilterChainProxy.doFilter(FilterChainProxy.java:175)\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.kablink.teaming.asmodule.servlet.filter.ResponseHeaderFilter.doFilter(ResponseHeaderFilter.java:127)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\nat org.kablink.teaming.tomcat.valve.ZoneContextValve.invoke(ZoneContextValve.java:69)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\nat org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:647)\nat org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:316)\nat org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:81)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\nat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)\nat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:602)\nat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\nat java.lang.Thread.run(Thread.java:722)\n\n\nCaused by: java.lang.NoSuchMethodError: net.mail.CustomEmailNotification: method &lt;init&gt;()V not found\nat org.kablink.teaming.module.definition.notify.NotifyBuilderUtil.buildElements(NotifyBuilderUtil.java:203)\nat org.kablink.teaming.module.definition.notify.NotifyBuilderUtil.buildElements(NotifyBuilderUtil.java:175)\nat org.kablink.teaming.module.mail.impl.DefaultEmailFormatter.buildMessage(DefaultEmailFormatter.java:821)\nat org.kablink.teaming.module.mail.MimeNotifyPreparator.prepare(MimeNotifyPreparator.java:334)\nat org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:352)\nat org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:344)\nat org.kablink.teaming.module.mail.impl.MailModuleImpl.sendMail(MailModuleImpl.java:1139)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:601)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\nat org.kablink.teaming.module.interceptor.EventListenerManagerInterceptor.invoke(EventListenerManagerInterceptor.java:64)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.kablink.teaming.util.aopalliance.InvocationStatisticsInterceptor.invoke(InvocationStatisticsInterceptor.java:49)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\nat com.sun.proxy.$Proxy13.sendMail(Unknown Source)\nat org.kablink.teaming.module.admin.impl.AbstractAdminModule.sendMail(AbstractAdminModule.java:1174)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:601)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\nat org.kablink.teaming.search.interceptor.IndexSynchronizationManagerInterceptor.invoke(IndexSynchronizationManagerInterceptor.java:67)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.kablink.teaming.module.interceptor.EventListenerManagerInterceptor.invoke(EventListenerManagerInterceptor.java:64)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.kablink.teaming.util.aopalliance.InvocationStatisticsInterceptor.invoke(InvocationStatisticsInterceptor.java:49)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\nat com.sun.proxy.$Proxy16.sendMail(Unknown Source)\nat org.kablink.teaming.web.util.BinderHelper.sendMailOnEntryCreate(BinderHelper.java:3171)\nat org.kablink.teaming.portlet.forum.ModifyEntryController.handleActionRequestAfterValidation(ModifyEntryController.java:202)\nat org.kablink.teaming.web.portlet.SAbstractController.handleActionRequestInternal(SAbstractController.java:257)\nat org.springframework.web.portlet.mvc.AbstractController.handleActionRequest(AbstractController.java:199)\nat org.springframework.web.portlet.mvc.SimpleControllerHandlerAdapter.handleAction(SimpleControllerHandlerAdapter.java:64)\nat org.springframework.web.portlet.DispatcherPortlet.doActionService(DispatcherPortlet.java:641)\n... 70 more\n</code></pre>\n\n<p>I am not able to find a reason why this is happening. Can anybody can help me point out where I am going wrong? <br>\nI am using Apache Tomcat/6.0.35 <br>\nJVM Version: 1.7.0_21-b11 <br></p>\n"},{"tags":["java","hibernate","orm","concurrency","transactions"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1436165594,"creation_date":1436165594,"answer_id":31239384,"question_id":31239303,"body_markdown":"You need to look into it. This can only happen when the transaction is started by one Thread and then rolled-back by some other &quot;clean-up&quot; Thread. It might indicate that you started a transaction but never properly closed it or some background clean-up has decided to rollback a long running transaction. Either way, you should dig into it.","title":"Warning message Transaction afterCompletion called by a background thread","body":"<p>You need to look into it. This can only happen when the transaction is started by one Thread and then rolled-back by some other \"clean-up\" Thread. It might indicate that you started a transaction but never properly closed it or some background clean-up has decided to rollback a long running transaction. Either way, you should dig into it.</p>\n"},{"tags":[],"owner":{"account_id":8125501,"reputation":1,"user_id":6120607,"display_name":"Hrvoje Bradvica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633438487,"creation_date":1633438487,"answer_id":69450865,"question_id":31239303,"body_markdown":"I had the same WARN message and issue which was causing transactions to timeout (because processing was taking some time... 10+ min).\r\n\r\nIssue was that I had a scheduler which was actually TimerService. And when TimerService runs out on scheduled periods it would envoke @Timeout implemented method which would run service with my business logic. The catch here was that @Timeout annotated methods would start a transaction by itself, which meant that for processing some 1000+ records, only one transaction would be active and would timeout after some time. Even if I started new transaction for each record, the first transaction would simply wait for those to finish and would timeout again.\r\n\r\nI fixed it by tweaking a logic inside my @Timeout method to only process smaller batches of data but more frequently.","title":"Warning message Transaction afterCompletion called by a background thread","body":"<p>I had the same WARN message and issue which was causing transactions to timeout (because processing was taking some time... 10+ min).</p>\n<p>Issue was that I had a scheduler which was actually TimerService. And when TimerService runs out on scheduled periods it would envoke @Timeout implemented method which would run service with my business logic. The catch here was that @Timeout annotated methods would start a transaction by itself, which meant that for processing some 1000+ records, only one transaction would be active and would timeout after some time. Even if I started new transaction for each record, the first transaction would simply wait for those to finish and would timeout again.</p>\n<p>I fixed it by tweaking a logic inside my @Timeout method to only process smaller batches of data but more frequently.</p>\n"}],"owner":{"account_id":1315503,"reputation":489,"user_id":1262484,"accept_rate":25,"display_name":"sakumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6074,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1633438487,"creation_date":1436165299,"question_id":31239303,"body_markdown":"In Our Application we are using Hibernate for ORM and getting below warning is message\r\n\r\nWARN: Transaction afterCompletion called by a background thread! Delaying action until the original thread can handle it. [status=4]\r\n\r\nIs this Warning message can we ignore it or we need to look into it ?\r\n\r\nRegards,\r\nSakumar","title":"Warning message Transaction afterCompletion called by a background thread","body":"<p>In Our Application we are using Hibernate for ORM and getting below warning is message</p>\n\n<p>WARN: Transaction afterCompletion called by a background thread! Delaying action until the original thread can handle it. [status=4]</p>\n\n<p>Is this Warning message can we ignore it or we need to look into it ?</p>\n\n<p>Regards,\nSakumar</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":9297153,"reputation":1,"user_id":6903720,"display_name":"Tibor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633438243,"creation_date":1633438243,"answer_id":69450802,"question_id":64929878,"body_markdown":"    public class Bluetooth extends AppCompatActivity {\r\n        ArrayList&lt;String&gt; listItems=new ArrayList&lt;String&gt;();\r\n        //DEFINING A STRING ADAPTER WHICH WILL HANDLE THE DATA OF THE LISTVIEW\r\n        ArrayAdapter&lt;String&gt; adapter;\r\n        BroadcastReceiver mReceiver;\r\n        DevicePolicyManager dpm;\r\n        ComponentName deviceAdmin;\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_bluetooth);\r\n    \r\n             dpm = (DevicePolicyManager) Bluetooth.this.getSystemService(Context.DEVICE_POLICY_SERVICE);\r\n             deviceAdmin = new ComponentName(Bluetooth.this, MyDeviceAdminReceiver.class);\r\n            dpm.setLockTaskPackages(deviceAdmin, new String[]{\r\n                    Bluetooth.this.getPackageName()\r\n                    &quot;com.android.settings&quot;\r\n            });\r\n            ListView lista=findViewById(R.id.devices);\r\n            adapter=new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, listItems);\r\n            lista.setAdapter(adapter);\r\n    \r\n            BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    \r\n            //setdevicevisible();\r\n            boolean hasBluetooth = getPackageManager().hasSystemFeature(PackageManager.FEATURE_BLUETOOTH);\r\n            if(!hasBluetooth) {\r\n                AlertDialog dialog = new AlertDialog.Builder(Bluetooth.this).create();\r\n                dialog.setTitle(&quot;Bluetooth nem el&#233;rhető&quot;);\r\n                dialog.setMessage(&quot;Bluetooth ki van kapcsolva!&quot;);\r\n                dialog.setButton(AlertDialog.BUTTON_NEUTRAL, &quot;OK&quot;,\r\n                        new DialogInterface.OnClickListener() {\r\n                            public void onClick(DialogInterface dialog, int which) {\r\n                                // Closes the dialog and terminates the activity.\r\n                                dialog.dismiss();\r\n                                Bluetooth.this.finish();\r\n                            }\r\n                        });\r\n                dialog.setCancelable(false);\r\n                dialog.show();\r\n            }\r\n    \r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions((Activity) this,\r\n                        new String[]{Manifest.permission.ACCESS_COARSE_LOCATION},\r\n                        1);\r\n            }\r\n    \r\n            \r\n            if (mBluetoothAdapter.isDiscovering()) {\r\n                mBluetoothAdapter.cancelDiscovery();\r\n            }\r\n    \r\n            mBluetoothAdapter.startDiscovery();\r\n            mReceiver = new BroadcastReceiver() {\r\n                public void onReceive(Context context, Intent intent) {\r\n                    String action = intent.getAction();\r\n    \r\n                    //Finding devices\r\n                    if (BluetoothDevice.ACTION_FOUND.equals(action))\r\n                    {\r\n                        // Get the BluetoothDevice object from the Intent\r\n                        BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n                        // Add the name and address to an array adapter to show in a ListView\r\n                        //device.setPairingConfirmation(true);\r\n    \r\n    \r\n    \r\n    \r\n    \r\n                        if (device.getName() != null) {\r\n                            adapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\r\n                            device.createBond();\r\n    \r\n                        }\r\n    \r\n                        //adapter.add(device.getAddress());\r\n                    }\r\n                }\r\n            };\r\n    \r\n            IntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\r\n            registerReceiver(mReceiver, filter);\r\n        }\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            try{\r\n                unregisterReceiver(mReceiver);\r\n                dpm.setLockTaskPackages(deviceAdmin, new String[]{\r\n                        Bluetooth.this.getPackageName()\r\n                });\r\n            }catch (Exception e){\r\n                // already unregistered\r\n            }\r\n        }\r\n    }","title":"Pairing new device in Lock Task Mode (Android P/10)","body":"<pre><code>public class Bluetooth extends AppCompatActivity {\n    ArrayList&lt;String&gt; listItems=new ArrayList&lt;String&gt;();\n    //DEFINING A STRING ADAPTER WHICH WILL HANDLE THE DATA OF THE LISTVIEW\n    ArrayAdapter&lt;String&gt; adapter;\n    BroadcastReceiver mReceiver;\n    DevicePolicyManager dpm;\n    ComponentName deviceAdmin;\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_bluetooth);\n\n         dpm = (DevicePolicyManager) Bluetooth.this.getSystemService(Context.DEVICE_POLICY_SERVICE);\n         deviceAdmin = new ComponentName(Bluetooth.this, MyDeviceAdminReceiver.class);\n        dpm.setLockTaskPackages(deviceAdmin, new String[]{\n                Bluetooth.this.getPackageName()\n                &quot;com.android.settings&quot;\n        });\n        ListView lista=findViewById(R.id.devices);\n        adapter=new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, listItems);\n        lista.setAdapter(adapter);\n\n        BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n\n        //setdevicevisible();\n        boolean hasBluetooth = getPackageManager().hasSystemFeature(PackageManager.FEATURE_BLUETOOTH);\n        if(!hasBluetooth) {\n            AlertDialog dialog = new AlertDialog.Builder(Bluetooth.this).create();\n            dialog.setTitle(&quot;Bluetooth nem elérhető&quot;);\n            dialog.setMessage(&quot;Bluetooth ki van kapcsolva!&quot;);\n            dialog.setButton(AlertDialog.BUTTON_NEUTRAL, &quot;OK&quot;,\n                    new DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog, int which) {\n                            // Closes the dialog and terminates the activity.\n                            dialog.dismiss();\n                            Bluetooth.this.finish();\n                        }\n                    });\n            dialog.setCancelable(false);\n            dialog.show();\n        }\n\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions((Activity) this,\n                    new String[]{Manifest.permission.ACCESS_COARSE_LOCATION},\n                    1);\n        }\n\n        \n        if (mBluetoothAdapter.isDiscovering()) {\n            mBluetoothAdapter.cancelDiscovery();\n        }\n\n        mBluetoothAdapter.startDiscovery();\n        mReceiver = new BroadcastReceiver() {\n            public void onReceive(Context context, Intent intent) {\n                String action = intent.getAction();\n\n                //Finding devices\n                if (BluetoothDevice.ACTION_FOUND.equals(action))\n                {\n                    // Get the BluetoothDevice object from the Intent\n                    BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n                    // Add the name and address to an array adapter to show in a ListView\n                    //device.setPairingConfirmation(true);\n\n\n\n\n\n                    if (device.getName() != null) {\n                        adapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\n                        device.createBond();\n\n                    }\n\n                    //adapter.add(device.getAddress());\n                }\n            }\n        };\n\n        IntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\n        registerReceiver(mReceiver, filter);\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        try{\n            unregisterReceiver(mReceiver);\n            dpm.setLockTaskPackages(deviceAdmin, new String[]{\n                    Bluetooth.this.getPackageName()\n            });\n        }catch (Exception e){\n            // already unregistered\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20020535,"reputation":11,"user_id":14675589,"display_name":"saevus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633438243,"creation_date":1605876884,"question_id":64929878,"body_markdown":"I have an issue when I use the Lock Task Mode (Kiosk mode) on Android.\r\n\r\nIn &quot;normal&quot; mode, when I try to pair a device, a pop-up message appears :\r\n&quot;Are you sure you want to pair the Bluetooth Device?&quot; Yes/No\r\n\r\nBut in Lock Task Mode, the message doesn&#39;t appear.\r\n\r\nI added in my code to authorize notifications but pop-up are not displayed :\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n                int test = dmp.getLockTaskFeatures(adminComponentName);\r\n                dmp.setLockTaskFeatures(adminComponentName, DevicePolicyManager.LOCK_TASK_FEATURE_SYSTEM_INFO |\r\n                                                                                    DevicePolicyManager.LOCK_TASK_FEATURE_NOTIFICATIONS |\r\n                                                                                    DevicePolicyManager.LOCK_TASK_FEATURE_HOME);\r\n            }\r\n\r\n\r\nIs there a way in Lock Task Mode to authorize such pop-ups?\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4yXdD.png","title":"Pairing new device in Lock Task Mode (Android P/10)","body":"<p>I have an issue when I use the Lock Task Mode (Kiosk mode) on Android.</p>\n<p>In &quot;normal&quot; mode, when I try to pair a device, a pop-up message appears :\n&quot;Are you sure you want to pair the Bluetooth Device?&quot; Yes/No</p>\n<p>But in Lock Task Mode, the message doesn't appear.</p>\n<p>I added in my code to authorize notifications but pop-up are not displayed :</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n            int test = dmp.getLockTaskFeatures(adminComponentName);\n            dmp.setLockTaskFeatures(adminComponentName, DevicePolicyManager.LOCK_TASK_FEATURE_SYSTEM_INFO |\n                                                                                DevicePolicyManager.LOCK_TASK_FEATURE_NOTIFICATIONS |\n                                                                                DevicePolicyManager.LOCK_TASK_FEATURE_HOME);\n        }\n</code></pre>\n<p>Is there a way in Lock Task Mode to authorize such pop-ups?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","classloader"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633438146,"creation_date":1633438146,"answer_id":69450775,"question_id":69450375,"body_markdown":"&gt; convert a jar file to dex at runtime\r\n\r\nAndroid does not offer this.\r\n\r\n&gt; a jar classloader for android\r\n\r\nAndroid does not offer this either.\r\n\r\nAlso, bear in mind that using `DexClassLoader` may limit your app distribution options.","title":"Android is it possible to load a jar without dx?","body":"<blockquote>\n<p>convert a jar file to dex at runtime</p>\n</blockquote>\n<p>Android does not offer this.</p>\n<blockquote>\n<p>a jar classloader for android</p>\n</blockquote>\n<p>Android does not offer this either.</p>\n<p>Also, bear in mind that using <code>DexClassLoader</code> may limit your app distribution options.</p>\n"}],"owner":{"account_id":22059425,"reputation":95,"user_id":16322371,"display_name":"SonMooSans"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633438146,"creation_date":1633436517,"question_id":69450375,"body_markdown":"I&#39;m trying to make a plugin system for my cross platform app.\r\n\r\nI knew there&#39;s a DexClassLoader to load classes from a jar file.\r\n\r\nBut it requires to run a dx command, I want people can just load a jar file easily without using the dx command.\r\n\r\nIs it possible? example: convert a jar file to dex at runtime or a jar classloader for android","title":"Android is it possible to load a jar without dx?","body":"<p>I'm trying to make a plugin system for my cross platform app.</p>\n<p>I knew there's a DexClassLoader to load classes from a jar file.</p>\n<p>But it requires to run a dx command, I want people can just load a jar file easily without using the dx command.</p>\n<p>Is it possible? example: convert a jar file to dex at runtime or a jar classloader for android</p>\n"},{"tags":["java","maven","spring-boot","jar","h2"],"comments":[{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":0,"creation_date":1476896457,"post_id":40137347,"comment_id":67544551,"body_markdown":"duplicate of http://stackoverflow.com/questions/24074749/spring-boot-cannot-determine-embedded-database-driver-class-for-database-type","body":"duplicate of <a href=\"http://stackoverflow.com/questions/24074749/spring-boot-cannot-determine-embedded-database-driver-class-for-database-type\" title=\"spring boot cannot determine embedded database driver class for database type\">stackoverflow.com/questions/24074749/&hellip;</a>"},{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":0,"creation_date":1476896648,"post_id":40137347,"comment_id":67544662,"body_markdown":"have you tried cleaning up the project? embedded DB work with default configurations, no need to have the url,user,pass in application.properties unless overridden","body":"have you tried cleaning up the project? embedded DB work with default configurations, no need to have the url,user,pass in application.properties unless overridden"},{"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"score":0,"creation_date":1476896836,"post_id":40137347,"comment_id":67544754,"body_markdown":"Also it wouldn&#39;t hurt if you updated your S,B parent version &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;","body":"Also it wouldn&#39;t hurt if you updated your S,B parent version &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;"},{"owner":{"account_id":239115,"reputation":156,"user_id":508476,"accept_rate":20,"display_name":"Rakz"},"score":0,"creation_date":1476897099,"post_id":40137347,"comment_id":67544883,"body_markdown":"@Georgesvanhoutte , SB ver updated. Still same error.","body":"@Georgesvanhoutte , SB ver updated. Still same error."},{"owner":{"account_id":239115,"reputation":156,"user_id":508476,"accept_rate":20,"display_name":"Rakz"},"score":0,"creation_date":1476897150,"post_id":40137347,"comment_id":67544910,"body_markdown":"@Saravana, the above stacktrace was without any configurations.","body":"@Saravana, the above stacktrace was without any configurations."},{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":0,"creation_date":1476897183,"post_id":40137347,"comment_id":67544932,"body_markdown":"@Rakz did you check maven-dependencies, h2 driver present?","body":"@Rakz did you check maven-dependencies, h2 driver present?"},{"owner":{"account_id":239115,"reputation":156,"user_id":508476,"accept_rate":20,"display_name":"Rakz"},"score":0,"creation_date":1476897454,"post_id":40137347,"comment_id":67545083,"body_markdown":"@Saravana, yes. h2-1.4.192.jar is present.","body":"@Saravana, yes. h2-1.4.192.jar is present."},{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":0,"creation_date":1476897496,"post_id":40137347,"comment_id":67545109,"body_markdown":"@Rakz could you post main class code where you have annotated `SpringBootApplication`","body":"@Rakz could you post main class code where you have annotated <code>SpringBootApplication</code>"},{"owner":{"account_id":239115,"reputation":156,"user_id":508476,"accept_rate":20,"display_name":"Rakz"},"score":0,"creation_date":1476897743,"post_id":40137347,"comment_id":67545247,"body_markdown":"@Saravana, added.","body":"@Saravana, added."},{"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"score":0,"creation_date":1476897827,"post_id":40137347,"comment_id":67545284,"body_markdown":"Also, post your app structure tree. jst to see if you have thet src/main/java src/main/resource","body":"Also, post your app structure tree. jst to see if you have thet src/main/java src/main/resource"},{"owner":{"account_id":239115,"reputation":156,"user_id":508476,"accept_rate":20,"display_name":"Rakz"},"score":0,"creation_date":1476898324,"post_id":40137347,"comment_id":67545597,"body_markdown":"@Georgesvanhoutte, added","body":"@Georgesvanhoutte, added"},{"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"score":0,"creation_date":1476898600,"post_id":40137347,"comment_id":67545750,"body_markdown":"ok, there is a folder named &quot;maven dependencies&quot;. Open it a see if your h2 db jar file is there or not.","body":"ok, there is a folder named &quot;maven dependencies&quot;. Open it a see if your h2 db jar file is there or not."},{"owner":{"account_id":239115,"reputation":156,"user_id":508476,"accept_rate":20,"display_name":"Rakz"},"score":0,"creation_date":1476898788,"post_id":40137347,"comment_id":67545863,"body_markdown":"Yes having h2-1.4.192.jar","body":"Yes having h2-1.4.192.jar"},{"owner":{"account_id":239115,"reputation":156,"user_id":508476,"accept_rate":20,"display_name":"Rakz"},"score":0,"creation_date":1476899339,"post_id":40137347,"comment_id":67546215,"body_markdown":"@Saravana pls find code here https://app.assembla.com/spaces/rakz-project/subversion/source/HEAD/SpringDemo","body":"@Saravana pls find code here <a href=\"https://app.assembla.com/spaces/rakz-project/subversion/source/HEAD/SpringDemo\" rel=\"nofollow noreferrer\">app.assembla.com/spaces/rakz-project/subversion/source/HEAD/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":239115,"reputation":156,"user_id":508476,"accept_rate":20,"display_name":"Rakz"},"score":0,"creation_date":1476899354,"post_id":40137347,"comment_id":67546225,"body_markdown":"@Georgesvanhoutte, you too.","body":"@Georgesvanhoutte, you too."},{"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"score":0,"creation_date":1476899835,"post_id":40137347,"comment_id":67546535,"body_markdown":"Try this official code https://spring.io/guides/gs/accessing-data-jpa/ from sping boot : https://github.com/spring-guides/gs-accessing-data-jpa.git","body":"Try this official code <a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/accessing-data-jpa</a> from sping boot : <a href=\"https://github.com/spring-guides/gs-accessing-data-jpa.git\" rel=\"nofollow noreferrer\">github.com/spring-guides/gs-accessing-data-jpa.git</a>"},{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":0,"creation_date":1476900072,"post_id":40137347,"comment_id":67546675,"body_markdown":"@Rakz you code looks good, but I see some project errors in the snap attached, could you post the errors","body":"@Rakz you code looks good, but I see some project errors in the snap attached, could you post the errors"},{"owner":{"account_id":239115,"reputation":156,"user_id":508476,"accept_rate":20,"display_name":"Rakz"},"score":0,"creation_date":1476900708,"post_id":40137347,"comment_id":67547049,"body_markdown":"@Saravana, it&#39;s resolved now. It was for updating project configurations by selecting Maven -&gt; Update Project. what else is causing the trouble?","body":"@Saravana, it&#39;s resolved now. It was for updating project configurations by selecting Maven -&gt; Update Project. what else is causing the trouble?"},{"owner":{"account_id":3976695,"reputation":2250,"user_id":3279715,"accept_rate":67,"display_name":"exoddus"},"score":0,"creation_date":1476951093,"post_id":40137347,"comment_id":67566935,"body_markdown":"You don&#39;t need the jdbc maven dependency, as said in documentation: spring-jdbc it’s pulled in transitively via spring-boot-starter-data-jpa (http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html)","body":"You don&#39;t need the jdbc maven dependency, as said in documentation: spring-jdbc it’s pulled in transitively via spring-boot-starter-data-jpa (<a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>)"},{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":0,"creation_date":1476988242,"post_id":40137347,"comment_id":67592748,"body_markdown":"@Rakz see my second comment, I told you to clean up the project :)","body":"@Rakz see my second comment, I told you to clean up the project :)"}],"answers":[{"tags":[],"owner":{"account_id":376976,"reputation":532,"user_id":728785,"accept_rate":50,"display_name":"user728785"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476896376,"creation_date":1476896376,"answer_id":40137448,"question_id":40137347,"body_markdown":"Have you got something like,\r\n\r\n    spring.datasource.url=jdbc:h2:mem:persondb\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n\r\nin your application.properties file?","title":"H2 embeded DB with spring boot error auto configuring","body":"<p>Have you got something like,</p>\n\n<pre><code>spring.datasource.url=jdbc:h2:mem:persondb\nspring.datasource.username=sa\nspring.datasource.password=\nspring.datasource.driver-class-name=org.h2.Driver\n</code></pre>\n\n<p>in your application.properties file?</p>\n"},{"tags":[],"owner":{"account_id":6848761,"reputation":992,"user_id":5266568,"accept_rate":20,"display_name":"zikzakjack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476932510,"creation_date":1476932510,"answer_id":40144691,"question_id":40137347,"body_markdown":"Try the below H2 configurations in your application.properties. Although Spring boot provides reasonable defaults, you can try tweaking the below these configurations  and it might be easy to switch to someother db for higher environments.\r\n\r\n\r\n    ### Enable H2 Console Access \r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.path=/h2-console\r\n    \r\n    ### Define H2 Datasource configurations\r\n    spring.datasource.platform=h2\r\n    spring.datasource.url=jdbc:h2:mem:yourDB\r\n    spring.datasource.username=yourUser\r\n    spring.datasource.password=yourPwd\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n","title":"H2 embeded DB with spring boot error auto configuring","body":"<p>Try the below H2 configurations in your application.properties. Although Spring boot provides reasonable defaults, you can try tweaking the below these configurations  and it might be easy to switch to someother db for higher environments.</p>\n\n<pre><code>### Enable H2 Console Access \nspring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\n\n### Define H2 Datasource configurations\nspring.datasource.platform=h2\nspring.datasource.url=jdbc:h2:mem:yourDB\nspring.datasource.username=yourUser\nspring.datasource.password=yourPwd\nspring.datasource.driver-class-name=org.h2.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3765239,"reputation":11306,"user_id":3128926,"accept_rate":76,"display_name":"Levent Divilioglu"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1507401085,"creation_date":1507401085,"answer_id":46623719,"question_id":40137347,"body_markdown":"I&#39;ve got the same problem and I have found that it is caused by corrupted JAR files of H2 dependencies. [Refer to this link about corrupted jars][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41914842/3128926\r\n\r\nWhat you have to do is to delete the h2 related jar files in your .m2 maven local repository. For example I&#39;ve deleted the following directory;\r\n\r\n    C:\\Users\\&lt;user&gt;\\.m2\\repository\\com\\h2database\\\r\n\r\n&lt;h1&gt; Detailed Explanation &lt;/h1&gt;\r\n\r\n&lt;h3&gt;A - Clean the project &lt;/h3&gt;\r\n\r\nI have made a maven clean, all the build binaries deleted the output is as follows, nothing speacial;\r\n\r\n    D:\\SpringSTS\\sts-tezgah\\conquisitio&gt;mvn clean\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building conquisitio 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ conquisitio ---\r\n    [INFO] Deleting D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 0.825 s\r\n    [INFO] Finished at: 2017-10-07T20:20:14+02:00\r\n    [INFO] Final Memory: 8M/155M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n&lt;h3&gt; B - Run mvn install and check for possible errors &lt;/h3&gt;\r\n\r\nHere the output (I&#39;ve cut it by half) of the **mvn install** command. You can see that there are the &quot;**invalid LOC header (bad signature)**&quot; warnings which means the related **.jar** files are corrupted;\r\n\r\n    D:\\SpringSTS\\sts-tezgah\\conquisitio&gt;mvn install\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building conquisitio 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ conquisitio ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 1 resource\r\n    [INFO] Copying 60 resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ conquisitio ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 4 source files to D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\classes\r\n    [WARNING] error reading C:\\Users\\Levent\\.m2\\repository\\com\\h2database\\h2\\1.4.190\\h2-1.4.190.jar; invalid LOC header (bad signature)\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ conquisitio ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory D:\\SpringSTS\\sts-tezgah\\conquisitio\\src\\test\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ conquisitio ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 1 source file to D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\test-classes\r\n    [WARNING] error reading C:\\Users\\Levent\\.m2\\repository\\com\\h2database\\h2\\1.4.190\\h2-1.4.190.jar; invalid LOC header (bad signature)\r\n    [INFO]\r\n    [INFO] --- maven-surefire-plugin:2.18.1:test (default-test) @ conquisitio ---\r\n    [INFO] Surefire report directory: D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\surefire-reports\r\n\r\nSo, important warnings are as below;\r\n\r\n    [WARNING] error reading C:\\Users\\Levent\\.m2\\repository\\com\\h2database\\h2\\1.4.190\\h2-1.4.190.jar; invalid LOC header (bad signature)\r\n    \r\n    [WARNING] error reading C:\\Users\\Levent\\.m2\\repository\\com\\h2database\\h2\\1.4.190\\h2-1.4.190.jar; invalid LOC header (bad signature)\r\n\r\nBoth imply the h2database jars and because these jars are corrupted, spring boot cannot load the related classes.\r\n\r\n&lt;h3&gt; C - Solution&lt;/h3&gt;\r\n\r\nSimply delete the related dependencies in your maven cache that which appear in the **mvn install** command output.\r\n\r\nDelete everything under;\r\n\r\n    C:\\Users\\Levent\\.m2\\repository\\com\\h2database\\\r\n\r\n&lt;h3&gt; D - Result&lt;/h3&gt;\r\n\r\n    Maven automatically downloads the related jar files and project is running ok with the new uncorrupted jar files;\r\n    \r\n    D:\\SpringSTS\\sts-tezgah\\conquisitio&gt;mvn clean install\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building conquisitio 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    Downloading: https://repo.maven.apache.org/maven2/com/h2database/h2/1.4.190/h2-1.4.190.pom\r\n    Downloaded: https://repo.maven.apache.org/maven2/com/h2database/h2/1.4.190/h2-1.4.190.pom (962 B at 991 B/s)\r\n    Downloading: https://repo.maven.apache.org/maven2/com/h2database/h2/1.4.190/h2-1.4.190.jar\r\n    Downloaded: https://repo.maven.apache.org/maven2/com/h2database/h2/1.4.190/h2-1.4.190.jar (1.7 MB at 1.5 MB/s)\r\n    [INFO]\r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ conquisitio ---\r\n    [INFO] Deleting D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ conquisitio ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 1 resource\r\n    [INFO] Copying 60 resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ conquisitio ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 4 source files to D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\classes\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ conquisitio ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory D:\\SpringSTS\\sts-tezgah\\conquisitio\\src\\test\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ conquisitio ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 1 source file to D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\test-classes\r\n    [INFO]\r\n    [INFO] --- maven-surefire-plugin:2.18.1:test (default-test) @ conquisitio ---\r\n    [INFO] Surefire report directory: D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\surefire-reports\r\n    \r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    Running com.levent.conquisitio.AppTest\r\n    Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in com.levent.conquisitio.AppTest\r\n    \r\n    Results :\r\n    \r\n    Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n    \r\n    [INFO]\r\n    [INFO] --- maven-jar-plugin:2.5:jar (default-jar) @ conquisitio ---\r\n    [INFO] Building jar: D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\conquisitio-0.0.1-SNAPSHOT.jar\r\n    [INFO]\r\n    [INFO] --- spring-boot-maven-plugin:1.3.1.RELEASE:repackage (default) @ conquisitio ---\r\n    [INFO]\r\n    [INFO] --- maven-install-plugin:2.5.2:install (default-install) @ conquisitio ---\r\n    [INFO] Installing D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\conquisitio-0.0.1-SNAPSHOT.jar to C:\\Users\\Levent\\.m2\\repository\\com\\levent\\conquisitio\\0.0.1-SNAPSHOT\\conquisitio-0.0.1-SNAPSHOT.jar\r\n    [INFO] Installing D:\\SpringSTS\\sts-tezgah\\conquisitio\\pom.xml to C:\\Users\\Levent\\.m2\\repository\\com\\levent\\conquisitio\\0.0.1-SNAPSHOT\\conquisitio-0.0.1-SNAPSHOT.pom\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 9.823 s\r\n    [INFO] Finished at: 2017-10-07T20:21:42+02:00\r\n    [INFO] Final Memory: 30M/213M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n","title":"H2 embeded DB with spring boot error auto configuring","body":"<p>I've got the same problem and I have found that it is caused by corrupted JAR files of H2 dependencies. <a href=\"https://stackoverflow.com/a/41914842/3128926\">Refer to this link about corrupted jars</a></p>\n\n<p>What you have to do is to delete the h2 related jar files in your .m2 maven local repository. For example I've deleted the following directory;</p>\n\n<pre><code>C:\\Users\\&lt;user&gt;\\.m2\\repository\\com\\h2database\\\n</code></pre>\n\n<h1> Detailed Explanation </h1>\n\n<h3>A - Clean the project </h3>\n\n<p>I have made a maven clean, all the build binaries deleted the output is as follows, nothing speacial;</p>\n\n<pre><code>D:\\SpringSTS\\sts-tezgah\\conquisitio&gt;mvn clean\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building conquisitio 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ conquisitio ---\n[INFO] Deleting D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 0.825 s\n[INFO] Finished at: 2017-10-07T20:20:14+02:00\n[INFO] Final Memory: 8M/155M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<h3> B - Run mvn install and check for possible errors </h3>\n\n<p>Here the output (I've cut it by half) of the <strong>mvn install</strong> command. You can see that there are the \"<strong>invalid LOC header (bad signature)</strong>\" warnings which means the related <strong>.jar</strong> files are corrupted;</p>\n\n<pre><code>D:\\SpringSTS\\sts-tezgah\\conquisitio&gt;mvn install\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building conquisitio 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ conquisitio ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 1 resource\n[INFO] Copying 60 resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ conquisitio ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 4 source files to D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\classes\n[WARNING] error reading C:\\Users\\Levent\\.m2\\repository\\com\\h2database\\h2\\1.4.190\\h2-1.4.190.jar; invalid LOC header (bad signature)\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ conquisitio ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory D:\\SpringSTS\\sts-tezgah\\conquisitio\\src\\test\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ conquisitio ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\test-classes\n[WARNING] error reading C:\\Users\\Levent\\.m2\\repository\\com\\h2database\\h2\\1.4.190\\h2-1.4.190.jar; invalid LOC header (bad signature)\n[INFO]\n[INFO] --- maven-surefire-plugin:2.18.1:test (default-test) @ conquisitio ---\n[INFO] Surefire report directory: D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\surefire-reports\n</code></pre>\n\n<p>So, important warnings are as below;</p>\n\n<pre><code>[WARNING] error reading C:\\Users\\Levent\\.m2\\repository\\com\\h2database\\h2\\1.4.190\\h2-1.4.190.jar; invalid LOC header (bad signature)\n\n[WARNING] error reading C:\\Users\\Levent\\.m2\\repository\\com\\h2database\\h2\\1.4.190\\h2-1.4.190.jar; invalid LOC header (bad signature)\n</code></pre>\n\n<p>Both imply the h2database jars and because these jars are corrupted, spring boot cannot load the related classes.</p>\n\n<h3> C - Solution</h3>\n\n<p>Simply delete the related dependencies in your maven cache that which appear in the <strong>mvn install</strong> command output.</p>\n\n<p>Delete everything under;</p>\n\n<pre><code>C:\\Users\\Levent\\.m2\\repository\\com\\h2database\\\n</code></pre>\n\n<h3> D - Result</h3>\n\n<pre><code>Maven automatically downloads the related jar files and project is running ok with the new uncorrupted jar files;\n\nD:\\SpringSTS\\sts-tezgah\\conquisitio&gt;mvn clean install\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building conquisitio 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\nDownloading: https://repo.maven.apache.org/maven2/com/h2database/h2/1.4.190/h2-1.4.190.pom\nDownloaded: https://repo.maven.apache.org/maven2/com/h2database/h2/1.4.190/h2-1.4.190.pom (962 B at 991 B/s)\nDownloading: https://repo.maven.apache.org/maven2/com/h2database/h2/1.4.190/h2-1.4.190.jar\nDownloaded: https://repo.maven.apache.org/maven2/com/h2database/h2/1.4.190/h2-1.4.190.jar (1.7 MB at 1.5 MB/s)\n[INFO]\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ conquisitio ---\n[INFO] Deleting D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ conquisitio ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 1 resource\n[INFO] Copying 60 resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ conquisitio ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 4 source files to D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\classes\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ conquisitio ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory D:\\SpringSTS\\sts-tezgah\\conquisitio\\src\\test\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ conquisitio ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\test-classes\n[INFO]\n[INFO] --- maven-surefire-plugin:2.18.1:test (default-test) @ conquisitio ---\n[INFO] Surefire report directory: D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\surefire-reports\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning com.levent.conquisitio.AppTest\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in com.levent.conquisitio.AppTest\n\nResults :\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO]\n[INFO] --- maven-jar-plugin:2.5:jar (default-jar) @ conquisitio ---\n[INFO] Building jar: D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\conquisitio-0.0.1-SNAPSHOT.jar\n[INFO]\n[INFO] --- spring-boot-maven-plugin:1.3.1.RELEASE:repackage (default) @ conquisitio ---\n[INFO]\n[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ conquisitio ---\n[INFO] Installing D:\\SpringSTS\\sts-tezgah\\conquisitio\\target\\conquisitio-0.0.1-SNAPSHOT.jar to C:\\Users\\Levent\\.m2\\repository\\com\\levent\\conquisitio\\0.0.1-SNAPSHOT\\conquisitio-0.0.1-SNAPSHOT.jar\n[INFO] Installing D:\\SpringSTS\\sts-tezgah\\conquisitio\\pom.xml to C:\\Users\\Levent\\.m2\\repository\\com\\levent\\conquisitio\\0.0.1-SNAPSHOT\\conquisitio-0.0.1-SNAPSHOT.pom\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 9.823 s\n[INFO] Finished at: 2017-10-07T20:21:42+02:00\n[INFO] Final Memory: 30M/213M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18704146,"reputation":1,"user_id":13635706,"display_name":"user13635706"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590680300,"creation_date":1590680300,"answer_id":62068689,"question_id":40137347,"body_markdown":"If the above Solution are not working in Your case\r\nTry the below in application.properties\r\n\r\n                      spring.h2.console.enabled=true\r\n                      spring.datasource.platform=h2\r\n                      spring.jpa.show-sql=true","title":"H2 embeded DB with spring boot error auto configuring","body":"<p>If the above Solution are not working in Your case\nTry the below in application.properties</p>\n\n<pre><code>                  spring.h2.console.enabled=true\n                  spring.datasource.platform=h2\n                  spring.jpa.show-sql=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1595404606,"creation_date":1595346686,"answer_id":63018300,"question_id":40137347,"body_markdown":"You have to explicitly add h2 dependency in your `pom.xml`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nor in `build.gradle`:\r\n```groovy\r\nruntimeOnly &quot;com.h2database:h2&quot;\r\n```\r\n\r\nAnd you need to define the dialect/platform:\r\n\r\n```yaml\r\nspring:\r\n  datasource:\r\n    url: jdbc:h2:mem:testdb\r\n    driverClassName: org.h2.Driver\r\n    username: sa\r\n    password: password\r\n  jpa:\r\n    database.platform: org.hibernate.dialect.H2Dialect\r\n    show-sql: true\r\n```\r\nor in its corresponding form as properties in `application.properties`","title":"H2 embeded DB with spring boot error auto configuring","body":"<p>You have to explicitly add h2 dependency in your <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or in <code>build.gradle</code>:</p>\n<pre><code>runtimeOnly &quot;com.h2database:h2&quot;\n</code></pre>\n<p>And you need to define the dialect/platform:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    url: jdbc:h2:mem:testdb\n    driverClassName: org.h2.Driver\n    username: sa\n    password: password\n  jpa:\n    database.platform: org.hibernate.dialect.H2Dialect\n    show-sql: true\n</code></pre>\n<p>or in its corresponding form as properties in <code>application.properties</code></p>\n"},{"tags":[],"owner":{"account_id":5867559,"reputation":31,"user_id":4620978,"display_name":"andy tang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633438123,"creation_date":1633378645,"answer_id":69441956,"question_id":40137347,"body_markdown":"Please make sure there was no tailing space in each configuration line in `application.properties` file. \r\n\r\nIf you have any space on the right side of `org.h2.Driver` like below, delete them and it will run without problems. \r\n\r\n`spring.datasource.driverClassName=org.h2.Driver`\r\n\r\nI found a similar problem when copying the content from the tutorial website into my Spring boot `applicaiton.properties`. ","title":"H2 embeded DB with spring boot error auto configuring","body":"<p>Please make sure there was no tailing space in each configuration line in <code>application.properties</code> file.</p>\n<p>If you have any space on the right side of <code>org.h2.Driver</code> like below, delete them and it will run without problems.</p>\n<p><code>spring.datasource.driverClassName=org.h2.Driver</code></p>\n<p>I found a similar problem when copying the content from the tutorial website into my Spring boot <code>applicaiton.properties</code>.</p>\n"}],"owner":{"account_id":239115,"reputation":156,"user_id":508476,"accept_rate":20,"display_name":"Rakz"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32112,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":6,"score":6,"last_activity_date":1633438123,"creation_date":1476895990,"question_id":40137347,"body_markdown":"i&#39;m trying to use the H2 embedded DB with spring boot. But, it throws the following errors.\r\n\r\n\r\n    2016-10-19 22:05:25.818  INFO 14104 --- [           main] com.example.SpringDemoApplication        : Starting SpringDemoApplication on BOM1-LPMP12AS7U with PID 14104 (D:\\workspace\\eclipse\\SpringDemo\\target\\classes started by e3028311 in D:\\workspace\\eclipse\\SpringDemo)\r\n    2016-10-19 22:05:25.822  INFO 14104 --- [           main] com.example.SpringDemoApplication        : No active profile set, falling back to default profiles: default\r\n    2016-10-19 22:05:25.904  INFO 14104 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@543e710e: startup date [Wed Oct 19 22:05:25 IST 2016]; root of context hierarchy\r\n    2016-10-19 22:05:27.609  INFO 14104 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39; of type [class org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ece75ca4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2016-10-19 22:05:28.474  INFO 14104 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\r\n    2016-10-19 22:05:28.490  INFO 14104 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\r\n    2016-10-19 22:05:28.491  INFO 14104 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.0.37\r\n    2016-10-19 22:05:28.658  INFO 14104 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2016-10-19 22:05:28.658  INFO 14104 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2759 ms\r\n    2016-10-19 22:05:29.055  INFO 14104 --- [ost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: &#39;dispatcherServlet&#39; to [/]\r\n    2016-10-19 22:05:29.060  INFO 14104 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n    2016-10-19 22:05:29.061  INFO 14104 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n    2016-10-19 22:05:29.061  INFO 14104 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]\r\n    2016-10-19 22:05:29.061  INFO 14104 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &#39;requestContextFilter&#39; to: [/*]\r\n    2016-10-19 22:05:29.131  WARN 14104 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private javax.sql.DataSource org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.dataSource; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$NonEmbeddedConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath. If you have database settings to be loaded from a particular profile you may need to active it (no profiles are currently active).\r\n    2016-10-19 22:05:29.146  INFO 14104 --- [           main] o.apache.catalina.core.StandardService   : Stopping service Tomcat\r\n    2016-10-19 22:05:29.169 ERROR 14104 --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private javax.sql.DataSource org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.dataSource; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$NonEmbeddedConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath. If you have database settings to be loaded from a particular profile you may need to active it (no profiles are currently active).\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:368) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1127) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1022) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1054) ~[spring-context-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:829) ~[spring-context-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538) ~[spring-context-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118) ~[spring-boot-1.3.8.RELEASE.jar:1.3.8.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:760) [spring-boot-1.3.8.RELEASE.jar:1.3.8.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.createAndRefreshContext(SpringApplication.java:360) [spring-boot-1.3.8.RELEASE.jar:1.3.8.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:306) [spring-boot-1.3.8.RELEASE.jar:1.3.8.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1185) [spring-boot-1.3.8.RELEASE.jar:1.3.8.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1174) [spring-boot-1.3.8.RELEASE.jar:1.3.8.RELEASE]\r\n    \tat com.example.SpringDemoApplication.main(SpringDemoApplication.java:27) [classes/:na]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private javax.sql.DataSource org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.dataSource; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$NonEmbeddedConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath. If you have database settings to be loaded from a particular profile you may need to active it (no profiles are currently active).\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:573) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \t... 26 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$NonEmbeddedConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath. If you have database settings to be loaded from a particular profile you may need to active it (no profiles are currently active).\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1127) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1022) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1199) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1123) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1021) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \t... 28 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath. If you have database settings to be loaded from a particular profile you may need to active it (no profiles are currently active).\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \t... 40 common frames omitted\r\n    Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath. If you have database settings to be loaded from a particular profile you may need to active it (no profiles are currently active).\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.getDriverClassName(DataSourceProperties.java:180) ~[spring-boot-autoconfigure-1.3.8.RELEASE.jar:1.3.8.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$NonEmbeddedConfiguration.dataSource(DataSourceAutoConfiguration.java:121) ~[spring-boot-autoconfigure-1.3.8.RELEASE.jar:1.3.8.RELEASE]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_91]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_91]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_91]\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_91]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\r\n    \t... 41 common frames omitted\r\n    \r\n    2016-10-19 22:05:29.173  INFO 14104 --- [           main] .b.l.ClasspathLoggingApplicationListener : Application failed to start with classpath: [file:/D:/workspace/eclipse/SpringDemo/target/classes/, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter-web/1.3.8.RELEASE/spring-boot-starter-web-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter/1.3.8.RELEASE/spring-boot-starter-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot/1.3.8.RELEASE/spring-boot-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.3.8.RELEASE/spring-boot-autoconfigure-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.3.8.RELEASE/spring-boot-starter-logging-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/ch/qos/logback/logback-classic/1.1.7/logback-classic-1.1.7.jar, file:/C:/Users/e3028311/.m2/repository/ch/qos/logback/logback-core/1.1.7/logback-core-1.1.7.jar, file:/C:/Users/e3028311/.m2/repository/org/slf4j/jul-to-slf4j/1.7.21/jul-to-slf4j-1.7.21.jar, file:/C:/Users/e3028311/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.21/log4j-over-slf4j-1.7.21.jar, file:/C:/Users/e3028311/.m2/repository/org/yaml/snakeyaml/1.16/snakeyaml-1.16.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/1.3.8.RELEASE/spring-boot-starter-tomcat-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/8.0.37/tomcat-embed-core-8.0.37.jar, file:/C:/Users/e3028311/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/8.0.37/tomcat-embed-el-8.0.37.jar, file:/C:/Users/e3028311/.m2/repository/org/apache/tomcat/embed/tomcat-embed-logging-juli/8.0.37/tomcat-embed-logging-juli-8.0.37.jar, file:/C:/Users/e3028311/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/8.0.37/tomcat-embed-websocket-8.0.37.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter-validation/1.3.8.RELEASE/spring-boot-starter-validation-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/hibernate/hibernate-validator/5.2.4.Final/hibernate-validator-5.2.4.Final.jar, file:/C:/Users/e3028311/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar, file:/C:/Users/e3028311/.m2/repository/com/fasterxml/classmate/1.1.0/classmate-1.1.0.jar, file:/C:/Users/e3028311/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.6.7/jackson-databind-2.6.7.jar, file:/C:/Users/e3028311/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.6.7/jackson-annotations-2.6.7.jar, file:/C:/Users/e3028311/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.6.7/jackson-core-2.6.7.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-web/4.2.8.RELEASE/spring-web-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-aop/4.2.8.RELEASE/spring-aop-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-beans/4.2.8.RELEASE/spring-beans-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-context/4.2.8.RELEASE/spring-context-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-webmvc/4.2.8.RELEASE/spring-webmvc-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-expression/4.2.8.RELEASE/spring-expression-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-core/4.2.8.RELEASE/spring-core-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/1.3.8.RELEASE/spring-boot-starter-data-jpa-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter-aop/1.3.8.RELEASE/spring-boot-starter-aop-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/aspectj/aspectjweaver/1.8.9/aspectjweaver-1.8.9.jar, file:/C:/Users/e3028311/.m2/repository/org/hibernate/hibernate-entitymanager/4.3.11.Final/hibernate-entitymanager-4.3.11.Final.jar, file:/C:/Users/e3028311/.m2/repository/org/jboss/logging/jboss-logging/3.3.0.Final/jboss-logging-3.3.0.Final.jar, file:/C:/Users/e3028311/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar, file:/C:/Users/e3028311/.m2/repository/org/hibernate/hibernate-core/4.3.11.Final/hibernate-core-4.3.11.Final.jar, file:/C:/Users/e3028311/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar, file:/C:/Users/e3028311/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar, file:/C:/Users/e3028311/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar, file:/C:/Users/e3028311/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar, file:/C:/Users/e3028311/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar, file:/C:/Users/e3028311/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar, file:/C:/Users/e3028311/.m2/repository/org/javassist/javassist/3.18.1-GA/javassist-3.18.1-GA.jar, file:/C:/Users/e3028311/.m2/repository/javax/transaction/javax.transaction-api/1.2/javax.transaction-api-1.2.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/data/spring-data-jpa/1.9.5.RELEASE/spring-data-jpa-1.9.5.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/data/spring-data-commons/1.11.5.RELEASE/spring-data-commons-1.11.5.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-orm/4.2.8.RELEASE/spring-orm-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-tx/4.2.8.RELEASE/spring-tx-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/slf4j/slf4j-api/1.7.21/slf4j-api-1.7.21.jar, file:/C:/Users/e3028311/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.21/jcl-over-slf4j-1.7.21.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-aspects/4.2.8.RELEASE/spring-aspects-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/1.3.8.RELEASE/spring-boot-starter-jdbc-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/apache/tomcat/tomcat-jdbc/8.0.37/tomcat-jdbc-8.0.37.jar, file:/C:/Users/e3028311/.m2/repository/org/apache/tomcat/tomcat-juli/8.0.37/tomcat-juli-8.0.37.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-jdbc/4.2.8.RELEASE/spring-jdbc-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/com/h2database/h2/1.4.192/h2-1.4.192.jar]\r\n\r\nBelow is my POM \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;SpringDemo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;SpringDemo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3.8.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nBelow is my main class\r\n\r\n    package com.example;\r\n    \r\n    \r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    \r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration\r\n    public class SpringDemoApplication {\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringDemoApplication.class, args);\r\n    \r\n    \r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n   \r\n\r\nPreviously, I had problems running even simple Spring boot application on my eclipse. But, worked fine on IntelliJ. Then I installed Spring Suite on Eclipse, after which embedded tomcat started working. But now, Database configuration is having problems. Please assist. Where am I going wrong?\r\n\r\nPlease view the [Structure][1] here.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fbjpd.png","title":"H2 embeded DB with spring boot error auto configuring","body":"<p>i'm trying to use the H2 embedded DB with spring boot. But, it throws the following errors.</p>\n\n<pre><code>2016-10-19 22:05:25.818  INFO 14104 --- [           main] com.example.SpringDemoApplication        : Starting SpringDemoApplication on BOM1-LPMP12AS7U with PID 14104 (D:\\workspace\\eclipse\\SpringDemo\\target\\classes started by e3028311 in D:\\workspace\\eclipse\\SpringDemo)\n2016-10-19 22:05:25.822  INFO 14104 --- [           main] com.example.SpringDemoApplication        : No active profile set, falling back to default profiles: default\n2016-10-19 22:05:25.904  INFO 14104 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@543e710e: startup date [Wed Oct 19 22:05:25 IST 2016]; root of context hierarchy\n2016-10-19 22:05:27.609  INFO 14104 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [class org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ece75ca4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2016-10-19 22:05:28.474  INFO 14104 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\n2016-10-19 22:05:28.490  INFO 14104 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\n2016-10-19 22:05:28.491  INFO 14104 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.0.37\n2016-10-19 22:05:28.658  INFO 14104 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2016-10-19 22:05:28.658  INFO 14104 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2759 ms\n2016-10-19 22:05:29.055  INFO 14104 --- [ost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: 'dispatcherServlet' to [/]\n2016-10-19 22:05:29.060  INFO 14104 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'characterEncodingFilter' to: [/*]\n2016-10-19 22:05:29.061  INFO 14104 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2016-10-19 22:05:29.061  INFO 14104 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'httpPutFormContentFilter' to: [/*]\n2016-10-19 22:05:29.061  INFO 14104 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'requestContextFilter' to: [/*]\n2016-10-19 22:05:29.131  WARN 14104 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private javax.sql.DataSource org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.dataSource; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$NonEmbeddedConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath. If you have database settings to be loaded from a particular profile you may need to active it (no profiles are currently active).\n2016-10-19 22:05:29.146  INFO 14104 --- [           main] o.apache.catalina.core.StandardService   : Stopping service Tomcat\n2016-10-19 22:05:29.169 ERROR 14104 --- [           main] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private javax.sql.DataSource org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.dataSource; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$NonEmbeddedConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath. If you have database settings to be loaded from a particular profile you may need to active it (no profiles are currently active).\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:368) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1127) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1022) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1054) ~[spring-context-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:829) ~[spring-context-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538) ~[spring-context-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118) ~[spring-boot-1.3.8.RELEASE.jar:1.3.8.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:760) [spring-boot-1.3.8.RELEASE.jar:1.3.8.RELEASE]\n    at org.springframework.boot.SpringApplication.createAndRefreshContext(SpringApplication.java:360) [spring-boot-1.3.8.RELEASE.jar:1.3.8.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:306) [spring-boot-1.3.8.RELEASE.jar:1.3.8.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1185) [spring-boot-1.3.8.RELEASE.jar:1.3.8.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1174) [spring-boot-1.3.8.RELEASE.jar:1.3.8.RELEASE]\n    at com.example.SpringDemoApplication.main(SpringDemoApplication.java:27) [classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private javax.sql.DataSource org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.dataSource; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$NonEmbeddedConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath. If you have database settings to be loaded from a particular profile you may need to active it (no profiles are currently active).\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:573) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    ... 26 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$NonEmbeddedConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath. If you have database settings to be loaded from a particular profile you may need to active it (no profiles are currently active).\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1127) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1022) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1199) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1123) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1021) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    ... 28 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath. If you have database settings to be loaded from a particular profile you may need to active it (no profiles are currently active).\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    ... 40 common frames omitted\nCaused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath. If you have database settings to be loaded from a particular profile you may need to active it (no profiles are currently active).\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.getDriverClassName(DataSourceProperties.java:180) ~[spring-boot-autoconfigure-1.3.8.RELEASE.jar:1.3.8.RELEASE]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$NonEmbeddedConfiguration.dataSource(DataSourceAutoConfiguration.java:121) ~[spring-boot-autoconfigure-1.3.8.RELEASE.jar:1.3.8.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_91]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_91]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_91]\n    at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_91]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.2.8.RELEASE.jar:4.2.8.RELEASE]\n    ... 41 common frames omitted\n\n2016-10-19 22:05:29.173  INFO 14104 --- [           main] .b.l.ClasspathLoggingApplicationListener : Application failed to start with classpath: [file:/D:/workspace/eclipse/SpringDemo/target/classes/, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter-web/1.3.8.RELEASE/spring-boot-starter-web-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter/1.3.8.RELEASE/spring-boot-starter-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot/1.3.8.RELEASE/spring-boot-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.3.8.RELEASE/spring-boot-autoconfigure-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.3.8.RELEASE/spring-boot-starter-logging-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/ch/qos/logback/logback-classic/1.1.7/logback-classic-1.1.7.jar, file:/C:/Users/e3028311/.m2/repository/ch/qos/logback/logback-core/1.1.7/logback-core-1.1.7.jar, file:/C:/Users/e3028311/.m2/repository/org/slf4j/jul-to-slf4j/1.7.21/jul-to-slf4j-1.7.21.jar, file:/C:/Users/e3028311/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.21/log4j-over-slf4j-1.7.21.jar, file:/C:/Users/e3028311/.m2/repository/org/yaml/snakeyaml/1.16/snakeyaml-1.16.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/1.3.8.RELEASE/spring-boot-starter-tomcat-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/8.0.37/tomcat-embed-core-8.0.37.jar, file:/C:/Users/e3028311/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/8.0.37/tomcat-embed-el-8.0.37.jar, file:/C:/Users/e3028311/.m2/repository/org/apache/tomcat/embed/tomcat-embed-logging-juli/8.0.37/tomcat-embed-logging-juli-8.0.37.jar, file:/C:/Users/e3028311/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/8.0.37/tomcat-embed-websocket-8.0.37.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter-validation/1.3.8.RELEASE/spring-boot-starter-validation-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/hibernate/hibernate-validator/5.2.4.Final/hibernate-validator-5.2.4.Final.jar, file:/C:/Users/e3028311/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar, file:/C:/Users/e3028311/.m2/repository/com/fasterxml/classmate/1.1.0/classmate-1.1.0.jar, file:/C:/Users/e3028311/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.6.7/jackson-databind-2.6.7.jar, file:/C:/Users/e3028311/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.6.7/jackson-annotations-2.6.7.jar, file:/C:/Users/e3028311/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.6.7/jackson-core-2.6.7.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-web/4.2.8.RELEASE/spring-web-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-aop/4.2.8.RELEASE/spring-aop-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-beans/4.2.8.RELEASE/spring-beans-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-context/4.2.8.RELEASE/spring-context-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-webmvc/4.2.8.RELEASE/spring-webmvc-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-expression/4.2.8.RELEASE/spring-expression-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-core/4.2.8.RELEASE/spring-core-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/1.3.8.RELEASE/spring-boot-starter-data-jpa-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter-aop/1.3.8.RELEASE/spring-boot-starter-aop-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/aspectj/aspectjweaver/1.8.9/aspectjweaver-1.8.9.jar, file:/C:/Users/e3028311/.m2/repository/org/hibernate/hibernate-entitymanager/4.3.11.Final/hibernate-entitymanager-4.3.11.Final.jar, file:/C:/Users/e3028311/.m2/repository/org/jboss/logging/jboss-logging/3.3.0.Final/jboss-logging-3.3.0.Final.jar, file:/C:/Users/e3028311/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar, file:/C:/Users/e3028311/.m2/repository/org/hibernate/hibernate-core/4.3.11.Final/hibernate-core-4.3.11.Final.jar, file:/C:/Users/e3028311/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar, file:/C:/Users/e3028311/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar, file:/C:/Users/e3028311/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar, file:/C:/Users/e3028311/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar, file:/C:/Users/e3028311/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar, file:/C:/Users/e3028311/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar, file:/C:/Users/e3028311/.m2/repository/org/javassist/javassist/3.18.1-GA/javassist-3.18.1-GA.jar, file:/C:/Users/e3028311/.m2/repository/javax/transaction/javax.transaction-api/1.2/javax.transaction-api-1.2.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/data/spring-data-jpa/1.9.5.RELEASE/spring-data-jpa-1.9.5.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/data/spring-data-commons/1.11.5.RELEASE/spring-data-commons-1.11.5.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-orm/4.2.8.RELEASE/spring-orm-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-tx/4.2.8.RELEASE/spring-tx-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/slf4j/slf4j-api/1.7.21/slf4j-api-1.7.21.jar, file:/C:/Users/e3028311/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.21/jcl-over-slf4j-1.7.21.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-aspects/4.2.8.RELEASE/spring-aspects-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/1.3.8.RELEASE/spring-boot-starter-jdbc-1.3.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/org/apache/tomcat/tomcat-jdbc/8.0.37/tomcat-jdbc-8.0.37.jar, file:/C:/Users/e3028311/.m2/repository/org/apache/tomcat/tomcat-juli/8.0.37/tomcat-juli-8.0.37.jar, file:/C:/Users/e3028311/.m2/repository/org/springframework/spring-jdbc/4.2.8.RELEASE/spring-jdbc-4.2.8.RELEASE.jar, file:/C:/Users/e3028311/.m2/repository/com/h2database/h2/1.4.192/h2-1.4.192.jar]\n</code></pre>\n\n<p>Below is my POM </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringDemo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;SpringDemo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.8.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Below is my main class</p>\n\n<pre><code>package com.example;\n\n\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n@SpringBootApplication\n@EnableAutoConfiguration\npublic class SpringDemoApplication {\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringDemoApplication.class, args);\n\n\n    }\n\n\n}\n</code></pre>\n\n<p>Previously, I had problems running even simple Spring boot application on my eclipse. But, worked fine on IntelliJ. Then I installed Spring Suite on Eclipse, after which embedded tomcat started working. But now, Database configuration is having problems. Please assist. Where am I going wrong?</p>\n\n<p>Please view the <a href=\"https://i.stack.imgur.com/Fbjpd.png\" rel=\"noreferrer\">Structure</a> here.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1369317380,"post_id":16715665,"comment_id":24064845,"body_markdown":"_rebooting my PC_ That usually won&#39;t do anything. Do you have any kind of source versioning to check if something was modified?","body":"<i>rebooting my PC</i> That usually won&#39;t do anything. Do you have any kind of source versioning to check if something was modified?"},{"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1369317672,"post_id":16715665,"comment_id":24065094,"body_markdown":"Have you testet that the `setApplicationContext` method is invoked? I do not know if `@Bean\n    public ApplicationContextProvider applicationContextProvider() {\n        return new ApplicationContextProvider();\n    }` would trigger that.","body":"Have you testet that the <code>setApplicationContext</code> method is invoked? I do not know if <code>@Bean     public ApplicationContextProvider applicationContextProvider() {         return new ApplicationContextProvider();     }</code> would trigger that."},{"owner":{"account_id":67541,"reputation":60868,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"score":0,"creation_date":1369317734,"post_id":16715665,"comment_id":24065147,"body_markdown":"@Ralph - It is never invoked","body":"@Ralph - It is never invoked"},{"owner":{"account_id":67541,"reputation":60868,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"score":0,"creation_date":1369317881,"post_id":16715665,"comment_id":24065250,"body_markdown":"@SotiriosDelimanolis - Yes.  No changes were made to the configuration of any kind or the `Main` class.  Changes were made to other classes, I&#39;m still going through them to try to determine if any of these might have affected anything, but I can&#39;t imagine how they could have.","body":"@SotiriosDelimanolis - Yes.  No changes were made to the configuration of any kind or the <code>Main</code> class.  Changes were made to other classes, I&#39;m still going through them to try to determine if any of these might have affected anything, but I can&#39;t imagine how they could have."},{"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1369318024,"post_id":16715665,"comment_id":24065350,"body_markdown":"I strongly recommend to have autmatic tests that get executed with every checkin (for your next project). -- Now you have a good argument for it when you need to discuss with your boss about a continues integration server. ;-)","body":"I strongly recommend to have autmatic tests that get executed with every checkin (for your next project). -- Now you have a good argument for it when you need to discuss with your boss about a continues integration server. ;-)"},{"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1369318118,"post_id":16715665,"comment_id":24065415,"body_markdown":"Is the constructor of `ApplicationContextProvider` invoked?","body":"Is the constructor of <code>ApplicationContextProvider</code> invoked?"},{"owner":{"account_id":67541,"reputation":60868,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"score":0,"creation_date":1369318567,"post_id":16715665,"comment_id":24065729,"body_markdown":"@Ralph - Constructor never gets invoked.  I just started writing tests this last iteration and am loving them.  I started to write a test for this ContextProvider which led me to this error (http://www.mkyong.com/hibernate/java-lang-classformaterror-absent-code-attribute-in-method-that-is-not-native-or-abstract-in-class-file/) which I haven&#39;t fixed yet.","body":"@Ralph - Constructor never gets invoked.  I just started writing tests this last iteration and am loving them.  I started to write a test for this ContextProvider which led me to this error (<a href=\"http://www.mkyong.com/hibernate/java-lang-classformaterror-absent-code-attribute-in-method-that-is-not-native-or-abstract-in-class-file/\" rel=\"nofollow noreferrer\">mkyong.com/hibernate/&hellip;</a>) which I haven&#39;t fixed yet."},{"owner":{"account_id":67541,"reputation":60868,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"score":0,"creation_date":1369318886,"post_id":16715665,"comment_id":24065973,"body_markdown":"@SotiriosDelimanolis - I reverted to my previous commit and it definitely works correctly.  That&#39;s good news... but dangit :-\\","body":"@SotiriosDelimanolis - I reverted to my previous commit and it definitely works correctly.  That&#39;s good news... but dangit :-\\"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1369318984,"post_id":16715665,"comment_id":24066043,"body_markdown":"@Webnet Yay for investigations! Did you find what caused it? Some PostProcessor or something?","body":"@Webnet Yay for investigations! Did you find what caused it? Some PostProcessor or something?"},{"owner":{"account_id":67541,"reputation":60868,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"score":0,"creation_date":1369319361,"post_id":16715665,"comment_id":24066285,"body_markdown":"@SotiriosDelimanolis - Well, I&#39;ve written a lot of code since my previous commit that I don&#39;t want to lose.  The thing is... this Production.init() is the first method executed after Grizzly boots up.  So there&#39;s not a whole lot I could&#39;ve &quot;broken&quot; before then when no changes were made to the Grizzly config","body":"@SotiriosDelimanolis - Well, I&#39;ve written a lot of code since my previous commit that I don&#39;t want to lose.  The thing is... this Production.init() is the first method executed after Grizzly boots up.  So there&#39;s not a whole lot I could&#39;ve &quot;broken&quot; before then when no changes were made to the Grizzly config"}],"answers":[{"tags":[],"owner":{"account_id":1527414,"reputation":2329,"user_id":1425488,"accept_rate":82,"display_name":"Scorpio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369317482,"creation_date":1369317482,"answer_id":16715892,"question_id":16715665,"body_markdown":"I&#39;d say its mudsoup between the try to have it static and use it as a bean.\r\n\r\nYou creating a new instance of the `ApplicationContextProvider` as a spring bean. This is `ApplicationContextAware` and so gets the AC injected. But THEN you do not use said bean, you use its static getter to read the field, yet this, static thing never received the AC in the first place. You&#39;re never using your actual bean.\r\n\r\nI&#39;d say scratch that provider completly, and rely soley on the `ApplicationContextAware` interface, it does what you want, ie it was designed to do exactly that, why use a delegating bean?","title":"ApplicationContextProvider suddenly null","body":"<p>I'd say its mudsoup between the try to have it static and use it as a bean.</p>\n\n<p>You creating a new instance of the <code>ApplicationContextProvider</code> as a spring bean. This is <code>ApplicationContextAware</code> and so gets the AC injected. But THEN you do not use said bean, you use its static getter to read the field, yet this, static thing never received the AC in the first place. You're never using your actual bean.</p>\n\n<p>I'd say scratch that provider completly, and rely soley on the <code>ApplicationContextAware</code> interface, it does what you want, ie it was designed to do exactly that, why use a delegating bean?</p>\n"},{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1369317910,"creation_date":1369317910,"answer_id":16716072,"question_id":16715665,"body_markdown":"\r\nI do not know if\r\n\r\n    @Bean\r\n    public ApplicationContextProvider applicationContextProvider() {\r\n        return new ApplicationContextProvider();\r\n    }\r\n\r\nthe `ApplicationContextAware` interface.\r\n\r\nTry to add `@Component` at `ApplicationContextProvider` class and then remove the `@Bean`. I hope that the ApplicationContextAware` interface is taken in account if this class is found by your normal component scan.\r\n\r\n","title":"ApplicationContextProvider suddenly null","body":"<p>I do not know if</p>\n\n<pre><code>@Bean\npublic ApplicationContextProvider applicationContextProvider() {\n    return new ApplicationContextProvider();\n}\n</code></pre>\n\n<p>the <code>ApplicationContextAware</code> interface.</p>\n\n<p>Try to add <code>@Component</code> at <code>ApplicationContextProvider</code> class and then remove the <code>@Bean</code>. I hope that the ApplicationContextAware` interface is taken in account if this class is found by your normal component scan.</p>\n"},{"tags":[],"owner":{"account_id":67541,"reputation":60868,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1369320003,"creation_date":1369320003,"answer_id":16716898,"question_id":16715665,"body_markdown":"Turns out there was a buried exception my logging was preventing me from getting access to.  Thanks for help.","title":"ApplicationContextProvider suddenly null","body":"<p>Turns out there was a buried exception my logging was preventing me from getting access to.  Thanks for help.</p>\n"}],"owner":{"account_id":67541,"reputation":60868,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2847,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":16716898,"answer_count":3,"score":1,"last_activity_date":1633437999,"creation_date":1369316863,"question_id":16715665,"body_markdown":"For the past 2 weeks things have been going great in my application.  Last night I login remotely to work to find out that when I run my application my `ApplicationContextProvider` class no longer has knowledge of the Application Context.  I&#39;ve run Maven clean &amp; build in addition to rebooting my PC.  Can&#39;t seem to shake it...\r\n\r\n    public class ApplicationContextProvider implements ApplicationContextAware {\r\n        private static ApplicationContext applicationContext;\r\n    \r\n        public static ApplicationContext getApplicationContext() {\r\n            return applicationContext;\r\n        }\r\n    \r\n        public void setApplicationContext (ApplicationContext applicationContext) {\r\n            this.applicationContext = applicationContext;\r\n        }\r\n    }\r\n\r\nMy Main class:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        System.setProperty(&quot;java.util.logging.SimpleFormatter.format&quot;, &quot;%4$s: %5$s%n&quot;);\r\n\r\n        final HttpServer server = HttpServer.createSimpleServer(&quot;.&quot;, 80);\r\n\r\n        WebappContext ctx = new WebappContext(&quot;ProductionQueue&quot;, &quot;/&quot;);\r\n\r\n        //enable annotation configuration\r\n        ctx.addContextInitParameter(&quot;contextClass&quot;, &quot;org.springframework.web.context.support.AnnotationConfigWebApplicationContext&quot;);\r\n        ctx.addContextInitParameter(&quot;contextConfigLocation&quot;, &quot;com.production&quot;);\r\n\r\n        //allow spring to do all of it&#39;s stuff\r\n        ctx.addListener(&quot;org.springframework.web.context.ContextLoaderListener&quot;);\r\n        \r\n        ....\r\n        ctx.deploy(server);\r\n\r\n        server.start();\r\n\r\n        //start the production process\r\n        Production.init();\r\n\r\n        System.in.read();\r\n        server.stop();\r\n\r\nMy Production class:\r\n\r\n    public class Production {\r\n        private static final Logger logger = Logger.getLogger(Production.class.getName());\r\n    \r\n        /* A list of active workflows */\r\n        private static List&lt;Workflow&gt; workflowList = new ArrayList&lt;Workflow&gt;();\r\n    \r\n        private static ProductionService productionService;\r\n    \r\n        /**\r\n         * Initialize the production line\r\n         */\r\n        public static void init() {\r\n            logger.info(&quot;Initializing production workflows...&quot;);\r\n            ApplicationContext context = ApplicationContextProvider.getApplicationContext(); //THIS IS NULL\r\n            productionService = (ProductionService) context.getBean(&quot;productionService&quot;);\r\n\r\nNo configuration has been modified at all.  Within my config class I do have a bean for it...\r\n\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackages = {\r\n            &quot;com.production&quot;\r\n    })\r\n    @PropertySource(value= {\r\n            &quot;classpath:/application.properties&quot;,\r\n            &quot;classpath:/environment-${FETTER_ENVIRONMENT}.properties&quot;\r\n    })\r\n    @EnableJpaRepositories(&quot;com.production.repository&quot;)\r\n    @EnableTransactionManagement\r\n    public class Config {\r\n        @Value(&quot;${db.url}&quot;)\r\n        String PROPERTY_DATABASE_URL;\r\n        @Value(&quot;${db.user}&quot;)\r\n        String PROPERTY_DATABASE_USER;\r\n        @Value(&quot;${db.password}&quot;)\r\n        String PROPERTY_DATABASE_PASSWORD;\r\n    \r\n        @Value(&quot;${persistenceUnit.default}&quot;)\r\n        String PROPERTY_DEFAULT_PERSISTENCE_UNIT;\r\n    \r\n        @Value(&quot;${hibernate.dialect}&quot;)\r\n        String PROPERTY_HIBERNATE_DIALECT;\r\n        @Value(&quot;${hibernate.format_sql}&quot;)\r\n        String PROPERTY_HIBERNATE_FORMAT_SQL;\r\n        @Value(&quot;${hibernate.show_sql}&quot;)\r\n        String PROPERTY_HIBERNATE_SHOW_SQL;\r\n        @Value(&quot;${entitymanager.packages.to.scan}&quot;)\r\n        String PROPERTY_ENTITYMANAGER_PACKAGES_TO_SCAN;\r\n    \r\n        @Bean\r\n        public ApplicationContextProvider applicationContextProvider() {\r\n            return new ApplicationContextProvider();\r\n        }","title":"ApplicationContextProvider suddenly null","body":"<p>For the past 2 weeks things have been going great in my application.  Last night I login remotely to work to find out that when I run my application my <code>ApplicationContextProvider</code> class no longer has knowledge of the Application Context.  I've run Maven clean &amp; build in addition to rebooting my PC.  Can't seem to shake it...</p>\n\n<pre><code>public class ApplicationContextProvider implements ApplicationContextAware {\n    private static ApplicationContext applicationContext;\n\n    public static ApplicationContext getApplicationContext() {\n        return applicationContext;\n    }\n\n    public void setApplicationContext (ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n}\n</code></pre>\n\n<p>My Main class:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    System.setProperty(\"java.util.logging.SimpleFormatter.format\", \"%4$s: %5$s%n\");\n\n    final HttpServer server = HttpServer.createSimpleServer(\".\", 80);\n\n    WebappContext ctx = new WebappContext(\"ProductionQueue\", \"/\");\n\n    //enable annotation configuration\n    ctx.addContextInitParameter(\"contextClass\", \"org.springframework.web.context.support.AnnotationConfigWebApplicationContext\");\n    ctx.addContextInitParameter(\"contextConfigLocation\", \"com.production\");\n\n    //allow spring to do all of it's stuff\n    ctx.addListener(\"org.springframework.web.context.ContextLoaderListener\");\n\n    ....\n    ctx.deploy(server);\n\n    server.start();\n\n    //start the production process\n    Production.init();\n\n    System.in.read();\n    server.stop();\n</code></pre>\n\n<p>My Production class:</p>\n\n<pre><code>public class Production {\n    private static final Logger logger = Logger.getLogger(Production.class.getName());\n\n    /* A list of active workflows */\n    private static List&lt;Workflow&gt; workflowList = new ArrayList&lt;Workflow&gt;();\n\n    private static ProductionService productionService;\n\n    /**\n     * Initialize the production line\n     */\n    public static void init() {\n        logger.info(\"Initializing production workflows...\");\n        ApplicationContext context = ApplicationContextProvider.getApplicationContext(); //THIS IS NULL\n        productionService = (ProductionService) context.getBean(\"productionService\");\n</code></pre>\n\n<p>No configuration has been modified at all.  Within my config class I do have a bean for it...</p>\n\n<pre><code>@Configuration\n@ComponentScan(basePackages = {\n        \"com.production\"\n})\n@PropertySource(value= {\n        \"classpath:/application.properties\",\n        \"classpath:/environment-${FETTER_ENVIRONMENT}.properties\"\n})\n@EnableJpaRepositories(\"com.production.repository\")\n@EnableTransactionManagement\npublic class Config {\n    @Value(\"${db.url}\")\n    String PROPERTY_DATABASE_URL;\n    @Value(\"${db.user}\")\n    String PROPERTY_DATABASE_USER;\n    @Value(\"${db.password}\")\n    String PROPERTY_DATABASE_PASSWORD;\n\n    @Value(\"${persistenceUnit.default}\")\n    String PROPERTY_DEFAULT_PERSISTENCE_UNIT;\n\n    @Value(\"${hibernate.dialect}\")\n    String PROPERTY_HIBERNATE_DIALECT;\n    @Value(\"${hibernate.format_sql}\")\n    String PROPERTY_HIBERNATE_FORMAT_SQL;\n    @Value(\"${hibernate.show_sql}\")\n    String PROPERTY_HIBERNATE_SHOW_SQL;\n    @Value(\"${entitymanager.packages.to.scan}\")\n    String PROPERTY_ENTITYMANAGER_PACKAGES_TO_SCAN;\n\n    @Bean\n    public ApplicationContextProvider applicationContextProvider() {\n        return new ApplicationContextProvider();\n    }\n</code></pre>\n"},{"tags":["java","serialization","deserialization"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1633436621,"post_id":69450256,"comment_id":122754515,"body_markdown":"Why wouldn&#39;t the probability of corruption not increase proportionally to the number of files involved? \nCorruption would be easier to fix, btw, with the human-readable `XMLSerializer`","body":"Why wouldn&#39;t the probability of corruption not increase proportionally to the number of files involved?  Corruption would be easier to fix, btw, with the human-readable <code>XMLSerializer</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633852361,"post_id":69450256,"comment_id":122866926,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633437562,"creation_date":1633437562,"answer_id":69450617,"question_id":69450256,"body_markdown":"&gt; as it takes care of circular references and duplicate objects all by itself and therefore is very easy to use.\r\n\r\nYou said it.\r\n\r\nYou have two options:\r\n\r\n[1] You take java&#39;s default serialization mechanism, which is &#39;easy to use&#39; but it is what it is. You can&#39;t modify how it works, you don&#39;t get files that you can read with anything except java&#39;s serialization mechanism, and it&#39;s pretty tricky to update your game and still be able to read older save files (you _can_, but do that for a few versions and the total amount of code in your codebase dedicated to reading save files will be longer and considerably more complicated than if you had just saved using e.g. jackson to XML or json or even protobuf and rolled your own code in the first place).\r\n\r\n[2] You write your own system.\r\n\r\nYou can&#39;t have your cake and eat it too, which is what you&#39;re asking for.\r\n\r\nNote that trying to protect against disk corruption is a fine enough goal, but &#39;save into smaller files&#39; is like adding a third lock to the door whilst the windows are wide open. Theoretically it helps, but you&#39;re focussing on entirely the wrong thing.\r\n\r\nFor example, if one file is corrupted, the rest are fine - so what? You still can&#39;t load the game. If your intent is: Ah, but now I can go in and fix this one file - great. The problem isn&#39;t &quot;multiple files&quot;, the problem is that you want a save file format you can reasonably edit. java&#39;s built-in serialization mechanism utterly fails this requirement and can&#39;t be fixed in that regard.\r\n\r\nGood ideas:\r\n* Add checksums.\r\n* Write a save file format that is disconnected from your in memory representations. You said it yourself: There are circular refs and duplicate objects all over the place in your memory representation. Those are probably all good ideas when running the game, but in save games, that is _really bad_ if you want your save files to stand a snowball&#39;s chance of surviving some corruption.\r\n* Make multiple saves.\r\n* Most of all: Ensure that save game file is as small as it can reasonably be: Smaller files write faster (meaning you can make more of them).\r\n* Make sure they back up easy. You __do not want__ multiple files, in fact. Zip em up if you have to. Single small files are the best way: You can autosave at the drop of a hat (smaller files also write faster!) and even save them to the cloud or backup disks or whatnot. If it&#39;s a few kb and the user has a dropbox, gdrive, onedrive etc folder, you can just spam savegames in there. That&#39;s not so reasonable if a savegame is 50MB. You should zip that file even if it&#39;s just the one file (you can use `GZipOutputStream` and co for this). Note that if you use string keys (JSON or XML), zipping will save you a ton of space. If you&#39;re using a binary format (e.g. protobuf), it&#39;ll make less of a difference.. but I&#39;d still zip it up.\r\n* Write a tool that goes through a save game and at least attempts to correct any errors. Java&#39;s serialization mechanism is an opaque binary format, meaning it fails the task for this one: You can&#39;t read that and fix problems.","title":"Can I split an ObjectOutputStream into several files","body":"<blockquote>\n<p>as it takes care of circular references and duplicate objects all by itself and therefore is very easy to use.</p>\n</blockquote>\n<p>You said it.</p>\n<p>You have two options:</p>\n<p>[1] You take java's default serialization mechanism, which is 'easy to use' but it is what it is. You can't modify how it works, you don't get files that you can read with anything except java's serialization mechanism, and it's pretty tricky to update your game and still be able to read older save files (you <em>can</em>, but do that for a few versions and the total amount of code in your codebase dedicated to reading save files will be longer and considerably more complicated than if you had just saved using e.g. jackson to XML or json or even protobuf and rolled your own code in the first place).</p>\n<p>[2] You write your own system.</p>\n<p>You can't have your cake and eat it too, which is what you're asking for.</p>\n<p>Note that trying to protect against disk corruption is a fine enough goal, but 'save into smaller files' is like adding a third lock to the door whilst the windows are wide open. Theoretically it helps, but you're focussing on entirely the wrong thing.</p>\n<p>For example, if one file is corrupted, the rest are fine - so what? You still can't load the game. If your intent is: Ah, but now I can go in and fix this one file - great. The problem isn't &quot;multiple files&quot;, the problem is that you want a save file format you can reasonably edit. java's built-in serialization mechanism utterly fails this requirement and can't be fixed in that regard.</p>\n<p>Good ideas:</p>\n<ul>\n<li>Add checksums.</li>\n<li>Write a save file format that is disconnected from your in memory representations. You said it yourself: There are circular refs and duplicate objects all over the place in your memory representation. Those are probably all good ideas when running the game, but in save games, that is <em>really bad</em> if you want your save files to stand a snowball's chance of surviving some corruption.</li>\n<li>Make multiple saves.</li>\n<li>Most of all: Ensure that save game file is as small as it can reasonably be: Smaller files write faster (meaning you can make more of them).</li>\n<li>Make sure they back up easy. You <strong>do not want</strong> multiple files, in fact. Zip em up if you have to. Single small files are the best way: You can autosave at the drop of a hat (smaller files also write faster!) and even save them to the cloud or backup disks or whatnot. If it's a few kb and the user has a dropbox, gdrive, onedrive etc folder, you can just spam savegames in there. That's not so reasonable if a savegame is 50MB. You should zip that file even if it's just the one file (you can use <code>GZipOutputStream</code> and co for this). Note that if you use string keys (JSON or XML), zipping will save you a ton of space. If you're using a binary format (e.g. protobuf), it'll make less of a difference.. but I'd still zip it up.</li>\n<li>Write a tool that goes through a save game and at least attempts to correct any errors. Java's serialization mechanism is an opaque binary format, meaning it fails the task for this one: You can't read that and fix problems.</li>\n</ul>\n"}],"owner":{"account_id":22817783,"reputation":1,"user_id":16968101,"display_name":"blafexe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633437562,"creation_date":1633436027,"question_id":69450256,"body_markdown":"I want to write data from my game into a file, so I can recreate the state after restarting my program.\r\nCurrently I am using javas default (de-)serialialization, as it takes care of circular references and duplicate objects all by itself and therefore is very easy to use. Now when serializing, all the data is written into one single file, what seems to be pretty unpractical, if the file gets corrupted. That would effectively mean all data is lost. I&#39;d rather have the data written into several smaller, topic-related files, such as player data, world data, enemy data, etc... . Can this be accomplished, **without** having to create new ObjectOutputStreams over and over again, because I want to use the internal duplicate object detection?\r\nBefore switching to Java default serialization, I used fasterxml and the json format, which sadly did not provide as comfortable handling of duplicates and circular references, as Java does. On the other hand storing the data into several smaller files was no problem.","title":"Can I split an ObjectOutputStream into several files","body":"<p>I want to write data from my game into a file, so I can recreate the state after restarting my program.\nCurrently I am using javas default (de-)serialialization, as it takes care of circular references and duplicate objects all by itself and therefore is very easy to use. Now when serializing, all the data is written into one single file, what seems to be pretty unpractical, if the file gets corrupted. That would effectively mean all data is lost. I'd rather have the data written into several smaller, topic-related files, such as player data, world data, enemy data, etc... . Can this be accomplished, <strong>without</strong> having to create new ObjectOutputStreams over and over again, because I want to use the internal duplicate object detection?\nBefore switching to Java default serialization, I used fasterxml and the json format, which sadly did not provide as comfortable handling of duplicates and circular references, as Java does. On the other hand storing the data into several smaller files was no problem.</p>\n"},{"tags":["java","encoding","base45"],"comments":[{"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"score":0,"creation_date":1629578295,"post_id":68876567,"comment_id":121724904,"body_markdown":"Where does `Base45` come from? `...` Got it: https://github.com/ehn-dcc-development/base45-java/blob/master/src/main/java/nl/minvws/encoding/Base45.java","body":"Where does <code>Base45</code> come from? <code>...</code> Got it: <a href=\"https://github.com/ehn-dcc-development/base45-java/blob/master/src/main/java/nl/minvws/encoding/Base45.java\" rel=\"nofollow noreferrer\">github.com/ehn-dcc-development/base45-java/blob/master/src/m&zwnj;&#8203;ain/&hellip;</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1629578687,"post_id":68876567,"comment_id":121724988,"body_markdown":"I did not look into the linked code, but a byte value is signed -128 upto 127. And -23 % 45 = -23. It should have been 45-23 = 22. Adding 256 to negative numbers.","body":"I did not look into the linked code, but a byte value is signed -128 upto 127. And -23 % 45 = -23. It should have been 45-23 = 22. Adding 256 to negative numbers."},{"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"score":2,"creation_date":1629579451,"post_id":68876567,"comment_id":121725168,"body_markdown":"@JoopEggen Looks like there&#39;s already a GitHub issue for this? https://github.com/ehn-dcc-development/base45-java/issues/2","body":"@JoopEggen Looks like there&#39;s already a GitHub issue for this? <a href=\"https://github.com/ehn-dcc-development/base45-java/issues/2\" rel=\"nofollow noreferrer\">github.com/ehn-dcc-development/base45-java/issues/2</a>"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1629579401,"creation_date":1629579401,"answer_id":68876703,"question_id":68876567,"body_markdown":"You need to update your dependency from version 0.0.2 to 0.0.3 (released on April 6, 2021 with a bug fix for exactly this problem)\r\n\r\n    io.github.ehn-digital-green-development:base45:0.0.3\r\n\r\nFor maven:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.github.ehn-digital-green-development&lt;/groupId&gt;\r\n      &lt;artifactId&gt;base45&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Decode and encode in Base45 in Java","body":"<p>You need to update your dependency from version 0.0.2 to 0.0.3 (released on April 6, 2021 with a bug fix for exactly this problem)</p>\n<pre><code>io.github.ehn-digital-green-development:base45:0.0.3\n</code></pre>\n<p>For maven:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.github.ehn-digital-green-development&lt;/groupId&gt;\n  &lt;artifactId&gt;base45&lt;/artifactId&gt;\n  &lt;version&gt;0.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10397247,"reputation":357,"user_id":8671500,"display_name":"Guillaume"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2578,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68876703,"answer_count":1,"score":2,"last_activity_date":1633437531,"creation_date":1629578182,"question_id":68876567,"body_markdown":"I am following with great interest the digital covid certificate project in java:\r\nhttps://github.com/ehn-dcc-development/\r\n\r\nMore specifically, for Java and to decode the pass:\r\nhttps://github.com/GaetanoPiazzolla/greenpass-decode\r\n\r\nUsing this code, to decode the base45 string that we read from the QR code, we have:\r\n\r\n    byte[] bytecompressed = Base45.getDecoder().decode(withoutPrefix);\r\n\r\nI would like to encode this same string back, so I am trying the following:\r\n\r\n    byte[] byteCompressedNew = Base45.getEncoder().encode(bytecompressed);\r\n\r\nBut this results in the following error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException:\r\n&gt; Index -23 out of bounds for length 45 at\r\n&gt; nl.minvws.encoding.Base45$Encoder.encode(Base45.java:74)\r\n\r\nAt this line of code in the base45 module:\r\n\r\n    result[resultIndex++] = toBase45[value % 45];\r\n\r\nIt would be great if you could help me understand what I do wrong.\r\n\r\nThank you very much!","title":"Decode and encode in Base45 in Java","body":"<p>I am following with great interest the digital covid certificate project in java:\n<a href=\"https://github.com/ehn-dcc-development/\" rel=\"nofollow noreferrer\">https://github.com/ehn-dcc-development/</a></p>\n<p>More specifically, for Java and to decode the pass:\n<a href=\"https://github.com/GaetanoPiazzolla/greenpass-decode\" rel=\"nofollow noreferrer\">https://github.com/GaetanoPiazzolla/greenpass-decode</a></p>\n<p>Using this code, to decode the base45 string that we read from the QR code, we have:</p>\n<pre><code>byte[] bytecompressed = Base45.getDecoder().decode(withoutPrefix);\n</code></pre>\n<p>I would like to encode this same string back, so I am trying the following:</p>\n<pre><code>byte[] byteCompressedNew = Base45.getEncoder().encode(bytecompressed);\n</code></pre>\n<p>But this results in the following error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException:\nIndex -23 out of bounds for length 45 at\nnl.minvws.encoding.Base45$Encoder.encode(Base45.java:74)</p>\n</blockquote>\n<p>At this line of code in the base45 module:</p>\n<pre><code>result[resultIndex++] = toBase45[value % 45];\n</code></pre>\n<p>It would be great if you could help me understand what I do wrong.</p>\n<p>Thank you very much!</p>\n"},{"tags":["java","spring","postgresql","csv"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1633415287,"post_id":69445744,"comment_id":122746253,"body_markdown":"`AS &#39;UserName&#39;` is invalid SQL - identifiers can not be enclosed in single quotes.  https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS","body":"<code>AS &#39;UserName&#39;</code> is invalid SQL - identifiers can not be enclosed in single quotes.  <a href=\"https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS\" rel=\"nofollow noreferrer\">postgresql.org/docs/current/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633415389,"post_id":69445744,"comment_id":122746288,"body_markdown":"`&quot;ss.name AS &#39;Service&#39;` which labels the column named `service` not `name` where as your `Client` has a `getName` which requires a `name` result column which your resultset doesn&#39;t contain. Either rename `getName` to `getService` or rename the column from `Service` to `Name`.","body":"<code>&quot;ss.name AS &#39;Service&#39;</code> which labels the column named <code>service</code> not <code>name</code> where as your <code>Client</code> has a <code>getName</code> which requires a <code>name</code> result column which your resultset doesn&#39;t contain. Either rename <code>getName</code> to <code>getService</code> or rename the column from <code>Service</code> to <code>Name</code>."},{"owner":{"account_id":22660504,"reputation":41,"user_id":16833657,"display_name":"Alex"},"score":0,"creation_date":1633417227,"post_id":69445744,"comment_id":122746859,"body_markdown":"@M. Deinum Did as you said. Now writes that the column &quot;service&quot; does not exist. Maybe the point is that I take this column from another table? I take data from three tables and (as I think) some temporary table should be created, which will then be saved to a csv file?","body":"@M. Deinum Did as you said. Now writes that the column &quot;service&quot; does not exist. Maybe the point is that I take this column from another table? I take data from three tables and (as I think) some temporary table should be created, which will then be saved to a csv file?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633417363,"post_id":69445744,"comment_id":122746906,"body_markdown":"No you don&#39;t need a temporary table. Basically all the getters in your interface need a corresponding column. Apparently your result doesn&#39;t contain enough columns (or properly named columns) to satisfy that requirement.","body":"No you don&#39;t need a temporary table. Basically all the getters in your interface need a corresponding column. Apparently your result doesn&#39;t contain enough columns (or properly named columns) to satisfy that requirement."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633417994,"post_id":69445744,"comment_id":122747125,"body_markdown":"I also don&#39;t get all of your abstractions? A projection, which is turned into a DTO with a toString to write the csv? You already have a query just use a `JdbcTemplate` and a `RowCallback` to write the rows to a csv file. You are making things overly complex with your current structure.","body":"I also don&#39;t get all of your abstractions? A projection, which is turned into a DTO with a toString to write the csv? You already have a query just use a <code>JdbcTemplate</code> and a <code>RowCallback</code> to write the rows to a csv file. You are making things overly complex with your current structure."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633437333,"creation_date":1633419703,"answer_id":69446550,"question_id":69445744,"body_markdown":"This is more of an answer to this question and the question you asked [here][1], combined. Imho you are making things overly complex with your structure of having a `Client` interface which is used as a projection, which is then turned into a `ClientDto` (why? the projection is already a DTO) and you have your entities. \r\n\r\nInstead of doing this just use a [`JdbcTemplate`][2] with a [`RowCallbackHandler`][3] to write the rows to CSV. This will use a lot less memory, be faster (as you aren&#39;t creating multiple objects per row to then throw it away, and you don&#39;t have all the rows in memory). \r\n\r\n```java\r\nimport java.io.FileWriter;\r\nimport java.sql.ResultSet;\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class SchedulerService {\r\n\r\n    private static final String QUERY = &quot;SELECT pp.id, pp.created_dt au.username, ss.name, pp.amount\\n&quot; +\r\n        &quot;REPLACE(pp.status, &#39;SUCCESS&#39;, &#39;Success&#39;), pp.account,\\n&quot; +\r\n        &quot;pp.external_id AS &#39;Idn&#39;, COALESCE(pp.external_status, null, &#39;DN&#39;) AS &#39;Stat&#39;\\n&quot; +\r\n        &quot;FROM payments AS pp\\n&quot; +\r\n        &quot;INNER JOIN user AS au ON au.id = pp.creator_id\\n&quot; +\r\n        &quot;INNER JOIN services AS ss ON ss.id = pp.service_id\\n&quot; +\r\n        &quot;WHERE pp.created_dt &gt;= &#39;2021-09-28&#39;\\n&quot; +\r\n        &quot;AND ss.name = &#39;Faberlic&#39; AND pp.status = &#39;SUCCESS&#39;&quot;;\r\n\r\n    private static final DateTimeFormatter date_format = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\r\n    private static final DateTimeFormatter time_format = DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;);\r\n\r\n    private final JdbcTemplate jdbc;\r\n\r\n    public SchedulerService(JdbcTemplate jdbc) {\r\n        this.jdbc = jdbc;\r\n    }\r\n\r\n    @Scheduled(fixedRate = 5000)\r\n    public void downloadBlockedClients() {\r\n        String filename = &quot;select.csv&quot;;\r\n\r\n        try (FileWriter writer = new FileWriter(filename)) {\r\n            writer.append(&quot;id|date|time|username|name|amount|status|account|external_id|external_status&quot;).append(&#39;\\n&#39;);\r\n            this.jdbc.query(QUERY, (ResultSet rs) -&gt; writeLine(writer, rs));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void writeLine(FileWriter writer, ResultSet rs) {\r\n        try {\r\n            LocalDateTime ldt = rs.getTimestamp(&quot;created_dt&quot;).toLocalDateTime();\r\n            writer.append(String.valueOf(rs.getLong(&quot;id&quot;)));\r\n            writer.append(&#39;|&#39;);\r\n            writer.append(ldt.format(date_format));\r\n            writer.append(&#39;|&#39;);\r\n            writer.append(ldt.format(time_format));\r\n            writer.append(&#39;|&#39;);\r\n            writer.append(rs.getString(&quot;username&quot;));\r\n            writer.append(&#39;|&#39;);\r\n            writer.append(rs.getString(&quot;name&quot;));\r\n            writer.append(&#39;|&#39;);\r\n            writer.append(String.valueOf(rs.getBigDecimal(&quot;amount&quot;)));\r\n            writer.append(&#39;|&#39;);\r\n            writer.append(rs.getString(&quot;status&quot;));\r\n            writer.append(&#39;|&#39;);\r\n            writer.append(rs.getString(&quot;account&quot;));\r\n            writer.append(&#39;|&#39;);\r\n            writer.append(rs.getString(&quot;idn&quot;));\r\n            writer.append(&#39;|&#39;);\r\n            writer.append(rs.getString(&quot;stat&quot;));\r\n            writer.append(&#39;\\n&#39;);\r\n        } catch (Exception e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSomething along these lines will make your resources more efficient (saves the copying, having results duplicated in memory) and should be faster. You could move the row handling to a method so your lambda gets a bit more readable. \r\n\r\n**NOTE:** I assumed that you are using Spring Boot and that the `JdbcTemplate is available out-of-the-box. If not you need to configure one next to your JPA configuration. \r\n\r\n```java\r\n@Bean\r\npublic JdbcTemplate jdbcTemplate(DataSource dataSource) {\r\n  return new JdbcTemplate(dataSource);\r\n}\r\n```\r\n\r\n[1]: https://stackoverflow.com/questions/69431557/when-exporting-from-the-database-an-empty-csv-file-is-created\r\n[2]:https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\r\n[3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/RowCallbackHandler.html","title":"o.h.engine.jdbc.spi.SqlExceptionHelper: ERROR: Column cliententi0_.name does not exist","body":"<p>This is more of an answer to this question and the question you asked <a href=\"https://stackoverflow.com/questions/69431557/when-exporting-from-the-database-an-empty-csv-file-is-created\">here</a>, combined. Imho you are making things overly complex with your structure of having a <code>Client</code> interface which is used as a projection, which is then turned into a <code>ClientDto</code> (why? the projection is already a DTO) and you have your entities.</p>\n<p>Instead of doing this just use a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"nofollow noreferrer\"><code>JdbcTemplate</code></a> with a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/RowCallbackHandler.html\" rel=\"nofollow noreferrer\"><code>RowCallbackHandler</code></a> to write the rows to CSV. This will use a lot less memory, be faster (as you aren't creating multiple objects per row to then throw it away, and you don't have all the rows in memory).</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileWriter;\nimport java.sql.ResultSet;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class SchedulerService {\n\n    private static final String QUERY = &quot;SELECT pp.id, pp.created_dt au.username, ss.name, pp.amount\\n&quot; +\n        &quot;REPLACE(pp.status, 'SUCCESS', 'Success'), pp.account,\\n&quot; +\n        &quot;pp.external_id AS 'Idn', COALESCE(pp.external_status, null, 'DN') AS 'Stat'\\n&quot; +\n        &quot;FROM payments AS pp\\n&quot; +\n        &quot;INNER JOIN user AS au ON au.id = pp.creator_id\\n&quot; +\n        &quot;INNER JOIN services AS ss ON ss.id = pp.service_id\\n&quot; +\n        &quot;WHERE pp.created_dt &gt;= '2021-09-28'\\n&quot; +\n        &quot;AND ss.name = 'Faberlic' AND pp.status = 'SUCCESS'&quot;;\n\n    private static final DateTimeFormatter date_format = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\n    private static final DateTimeFormatter time_format = DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;);\n\n    private final JdbcTemplate jdbc;\n\n    public SchedulerService(JdbcTemplate jdbc) {\n        this.jdbc = jdbc;\n    }\n\n    @Scheduled(fixedRate = 5000)\n    public void downloadBlockedClients() {\n        String filename = &quot;select.csv&quot;;\n\n        try (FileWriter writer = new FileWriter(filename)) {\n            writer.append(&quot;id|date|time|username|name|amount|status|account|external_id|external_status&quot;).append('\\n');\n            this.jdbc.query(QUERY, (ResultSet rs) -&gt; writeLine(writer, rs));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void writeLine(FileWriter writer, ResultSet rs) {\n        try {\n            LocalDateTime ldt = rs.getTimestamp(&quot;created_dt&quot;).toLocalDateTime();\n            writer.append(String.valueOf(rs.getLong(&quot;id&quot;)));\n            writer.append('|');\n            writer.append(ldt.format(date_format));\n            writer.append('|');\n            writer.append(ldt.format(time_format));\n            writer.append('|');\n            writer.append(rs.getString(&quot;username&quot;));\n            writer.append('|');\n            writer.append(rs.getString(&quot;name&quot;));\n            writer.append('|');\n            writer.append(String.valueOf(rs.getBigDecimal(&quot;amount&quot;)));\n            writer.append('|');\n            writer.append(rs.getString(&quot;status&quot;));\n            writer.append('|');\n            writer.append(rs.getString(&quot;account&quot;));\n            writer.append('|');\n            writer.append(rs.getString(&quot;idn&quot;));\n            writer.append('|');\n            writer.append(rs.getString(&quot;stat&quot;));\n            writer.append('\\n');\n        } catch (Exception e) {\n            throw new IllegalStateException(e);\n        }\n    }\n}\n</code></pre>\n<p>Something along these lines will make your resources more efficient (saves the copying, having results duplicated in memory) and should be faster. You could move the row handling to a method so your lambda gets a bit more readable.</p>\n<p><strong>NOTE:</strong> I assumed that you are using Spring Boot and that the `JdbcTemplate is available out-of-the-box. If not you need to configure one next to your JPA configuration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic JdbcTemplate jdbcTemplate(DataSource dataSource) {\n  return new JdbcTemplate(dataSource);\n}\n</code></pre>\n"}],"owner":{"account_id":22660504,"reputation":41,"user_id":16833657,"display_name":"Alex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69446550,"answer_count":1,"score":0,"last_activity_date":1633437333,"creation_date":1633415133,"question_id":69445744,"body_markdown":"Repostory\r\n\r\n    @Repository\r\n    public interface ClientRepository extends JpaRepository&lt;ClientEntity, Long&gt; {\r\n    \r\n        @Modifying\r\n        @Transactional\r\n        @Query(value = &quot;SELECT pp.id, TO_CHAR(pp.created_dt::date, &#39;dd.mm.yyyy&#39;)\\n&quot; +\r\n                   &quot;AS &#39;Data&#39;, CAST(pp.created_dt AS time(0)) AS &#39;Time&#39;, au.username AS &#39;UserName&#39;,\\n&quot; +\r\n                   &quot;ss.name AS &#39;Service&#39;, pp.amount AS &#39;Amount&#39;,\\n&quot; +\r\n                   &quot;REPLACE(pp.status, &#39;SUCCESS&#39;, &#39;Success&#39;) AS &#39;Payment_status&#39;, pp.account AS &#39;Account&#39;,\\n&quot; +\r\n                   &quot;pp.external_id AS &#39;Idn&#39;, COALESCE(pp.external_status, null, &#39;DN&#39;)\\n&quot; +\r\n                   &quot;AS &#39;Stat&#39;\\n&quot; +\r\n                   &quot;FROM payments AS pp\\n&quot; +\r\n                   &quot;INNER JOIN user AS au ON au.id = pp.creator_id\\n&quot; +\r\n                   &quot;INNER JOIN services AS ss ON ss.id = pp.service_id\\n&quot; +\r\n                   &quot;WHERE pp.created_dt &gt;= &#39;2021-09-28&#39;\\n&quot; +\r\n                   &quot;AND ss.name = &#39;Faberlic&#39; AND pp.status = &#39;SUCCESS&#39;&quot;, nativeQuery = true)\r\n        List&lt;Client&gt; getAllByRegDate();\r\n    }\r\n\r\nInteface\r\n\r\n    public interface Client {\r\n    \r\n        Long getId();\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n        LocalDate getCreated_dt();\r\n        String getUsername();\r\n        String getName();\r\n        int getAmount();\r\n        String getStatus();\r\n        String getAccount();\r\n        String getExternal_id();\r\n        String getExternal_status();\r\n    }\r\n\r\nDTO\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    \r\n    public class ClientDto {\r\n        private Long id;\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n        private LocalDate created_dt;\r\n        private String username;\r\n        private String name;\r\n        private int amount;\r\n        private String status;\r\n        private String account;\r\n        private String external_id;\r\n        private String external_status;\r\n    \r\n        public ClientDto(Client client) {\r\n            this.id = client.getId();\r\n            /...\r\n            /...\r\n            this.external_status = client.getExternal_status();\r\n        }\r\n    \r\n        public ClientDto(ClientDto clientDto) {\r\n            this.id = clientDto.getId();\r\n            \r\n            /...\r\n    \r\n            this.external_status = clientDto.getExternal_status();\r\n        }\r\n    \r\n        public ClientDto(ClientEntity clientEntity) {\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;&quot; + id + &quot;|&quot; + created_dt + &quot;|&quot; + username + &quot;|&quot; + name +\r\n                    &quot;|&quot; + amount + &quot;|&quot; + status + &quot;|&quot; + account + &quot;|&quot; + external_id + &quot;|&quot; + external_status;\r\n        }\r\n    }\r\n\r\nEntity\r\n\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Immutable\r\n    @Entity\r\n    @Table(name = &quot;payments&quot;, schema = &quot;public&quot;)\r\n    public class ClientEntity {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;created_dt&quot;)\r\n        private LocalDate created_dt;\r\n    \r\n        @Column(name = &quot;username&quot;)\r\n        private String username;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;amount&quot;)\r\n        private int amount;\r\n    \r\n        @Column(name = &quot;status&quot;)\r\n        private String status;\r\n    \r\n        @Column(name = &quot;account&quot;)\r\n        private String account;\r\n    \r\n        @Column(name = &quot;external_id&quot;)\r\n        private String external_id;\r\n    \r\n        @Column(name = &quot;external_status&quot;)\r\n        private String external_status;\r\n    }\r\n\r\nI am trying to save data to a csv file. I take data from one database, from three tables. In entity @Table in &quot;name&quot; I specify one of the existing tables - &quot;payment&quot;. All data is taken from three tables (as I have written in Query). But when program is run, an error appears that the &quot;name&quot; column does not exist. This column is in another table from which I am fetching data. Can&#39;t figure out what I should do.","title":"o.h.engine.jdbc.spi.SqlExceptionHelper: ERROR: Column cliententi0_.name does not exist","body":"<p>Repostory</p>\n<pre><code>@Repository\npublic interface ClientRepository extends JpaRepository&lt;ClientEntity, Long&gt; {\n\n    @Modifying\n    @Transactional\n    @Query(value = &quot;SELECT pp.id, TO_CHAR(pp.created_dt::date, 'dd.mm.yyyy')\\n&quot; +\n               &quot;AS 'Data', CAST(pp.created_dt AS time(0)) AS 'Time', au.username AS 'UserName',\\n&quot; +\n               &quot;ss.name AS 'Service', pp.amount AS 'Amount',\\n&quot; +\n               &quot;REPLACE(pp.status, 'SUCCESS', 'Success') AS 'Payment_status', pp.account AS 'Account',\\n&quot; +\n               &quot;pp.external_id AS 'Idn', COALESCE(pp.external_status, null, 'DN')\\n&quot; +\n               &quot;AS 'Stat'\\n&quot; +\n               &quot;FROM payments AS pp\\n&quot; +\n               &quot;INNER JOIN user AS au ON au.id = pp.creator_id\\n&quot; +\n               &quot;INNER JOIN services AS ss ON ss.id = pp.service_id\\n&quot; +\n               &quot;WHERE pp.created_dt &gt;= '2021-09-28'\\n&quot; +\n               &quot;AND ss.name = 'Faberlic' AND pp.status = 'SUCCESS'&quot;, nativeQuery = true)\n    List&lt;Client&gt; getAllByRegDate();\n}\n</code></pre>\n<p>Inteface</p>\n<pre><code>public interface Client {\n\n    Long getId();\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\n    LocalDate getCreated_dt();\n    String getUsername();\n    String getName();\n    int getAmount();\n    String getStatus();\n    String getAccount();\n    String getExternal_id();\n    String getExternal_status();\n}\n</code></pre>\n<p>DTO</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n\npublic class ClientDto {\n    private Long id;\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\n    private LocalDate created_dt;\n    private String username;\n    private String name;\n    private int amount;\n    private String status;\n    private String account;\n    private String external_id;\n    private String external_status;\n\n    public ClientDto(Client client) {\n        this.id = client.getId();\n        /...\n        /...\n        this.external_status = client.getExternal_status();\n    }\n\n    public ClientDto(ClientDto clientDto) {\n        this.id = clientDto.getId();\n        \n        /...\n\n        this.external_status = clientDto.getExternal_status();\n    }\n\n    public ClientDto(ClientEntity clientEntity) {\n    }\n\n    @Override\n    public String toString() {\n        return &quot;&quot; + id + &quot;|&quot; + created_dt + &quot;|&quot; + username + &quot;|&quot; + name +\n                &quot;|&quot; + amount + &quot;|&quot; + status + &quot;|&quot; + account + &quot;|&quot; + external_id + &quot;|&quot; + external_status;\n    }\n}\n</code></pre>\n<p>Entity</p>\n<pre><code>@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@Immutable\n@Entity\n@Table(name = &quot;payments&quot;, schema = &quot;public&quot;)\npublic class ClientEntity {\n\n    @Id\n    private Long id;\n\n    @Column(name = &quot;created_dt&quot;)\n    private LocalDate created_dt;\n\n    @Column(name = &quot;username&quot;)\n    private String username;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;amount&quot;)\n    private int amount;\n\n    @Column(name = &quot;status&quot;)\n    private String status;\n\n    @Column(name = &quot;account&quot;)\n    private String account;\n\n    @Column(name = &quot;external_id&quot;)\n    private String external_id;\n\n    @Column(name = &quot;external_status&quot;)\n    private String external_status;\n}\n</code></pre>\n<p>I am trying to save data to a csv file. I take data from one database, from three tables. In entity @Table in &quot;name&quot; I specify one of the existing tables - &quot;payment&quot;. All data is taken from three tables (as I have written in Query). But when program is run, an error appears that the &quot;name&quot; column does not exist. This column is in another table from which I am fetching data. Can't figure out what I should do.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5179087,"reputation":3759,"user_id":4145291,"accept_rate":40,"display_name":"BarrySW19"},"score":1,"creation_date":1633429125,"post_id":69448663,"comment_id":122751462,"body_markdown":"I think you want next() instead of hasNext() there.","body":"I think you want next() instead of hasNext() there."},{"owner":{"account_id":22141203,"reputation":37,"user_id":16391202,"display_name":"BALDE"},"score":0,"creation_date":1633431641,"post_id":69448663,"comment_id":122752418,"body_markdown":"Thanks, I did it but still, I can&#39;t get transaction-id and it value","body":"Thanks, I did it but still, I can&#39;t get transaction-id and it value"}],"answers":[{"tags":[],"owner":{"account_id":3938972,"reputation":1685,"user_id":3254233,"accept_rate":30,"display_name":"dchar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633437208,"creation_date":1633437208,"answer_id":69450546,"question_id":69448663,"body_markdown":"If you want to get the value of specific field, you can do it like this\r\n\r\n        try{\r\n            JSONObject jsonObject = new JSONObject(request);\r\n            String value = (String) jsonObject.get(&quot;transactionid&quot;);\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\nIf you want to get all the fields and their values, you can do something like the following\r\n\r\n        try{\r\n            JSONObject jsonObject = new JSONObject(request);\r\n            Iterator&lt;?&gt; keys = jsonObject.keys();\r\n            while (keys.hasNext()){\r\n                String key = (String) keys.next();\r\n                String value = (String) jsonObject.get(key);\r\n                System.out.println(key + &quot; - &quot; + value);\r\n            }\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }","title":"Get key and value from a JSONObject","body":"<p>If you want to get the value of specific field, you can do it like this</p>\n<pre><code>    try{\n        JSONObject jsonObject = new JSONObject(request);\n        String value = (String) jsonObject.get(&quot;transactionid&quot;);\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n</code></pre>\n<p>If you want to get all the fields and their values, you can do something like the following</p>\n<pre><code>    try{\n        JSONObject jsonObject = new JSONObject(request);\n        Iterator&lt;?&gt; keys = jsonObject.keys();\n        while (keys.hasNext()){\n            String key = (String) keys.next();\n            String value = (String) jsonObject.get(key);\n            System.out.println(key + &quot; - &quot; + value);\n        }\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":22141203,"reputation":37,"user_id":16391202,"display_name":"BALDE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1564,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1633437208,"creation_date":1633428911,"question_id":69448663,"body_markdown":"Good morning everyone I want to get the &quot;transactionid: and it &quot;value&quot; from a json object but I am getting some error I need your helps.\r\nEx:\r\n\r\nrequest= {&quot;amount&quot;:&quot;5.0&quot;,&quot;msisdn&quot;:&quot;233200343913&quot;,&quot;transactionid&quot;:&quot;0000001853860636&quot;} \r\n\r\nHere is my code\r\n\r\n                    try{\r\n                          JSONObject jsonObject = new JSONObject(request);\r\n\r\n                            Iterator&lt;?&gt; keys = jsonObject.keys();\r\n                            while (keys.hasNext()){\r\n                                String key = (String)keys.hasNext();\r\n                                JSONArray value = jsonObject.getJSONArray(key);\r\n                            }\r\n                        }catch (Exception e){\r\n                            e.printStackTrace();\r\n                        }\r\n\r\nBut the string key = (String)keys.hasNext() given error I need your help, please.","title":"Get key and value from a JSONObject","body":"<p>Good morning everyone I want to get the &quot;transactionid: and it &quot;value&quot; from a json object but I am getting some error I need your helps.\nEx:</p>\n<p>request= {&quot;amount&quot;:&quot;5.0&quot;,&quot;msisdn&quot;:&quot;233200343913&quot;,&quot;transactionid&quot;:&quot;0000001853860636&quot;}</p>\n<p>Here is my code</p>\n<pre><code>                try{\n                      JSONObject jsonObject = new JSONObject(request);\n\n                        Iterator&lt;?&gt; keys = jsonObject.keys();\n                        while (keys.hasNext()){\n                            String key = (String)keys.hasNext();\n                            JSONArray value = jsonObject.getJSONArray(key);\n                        }\n                    }catch (Exception e){\n                        e.printStackTrace();\n                    }\n</code></pre>\n<p>But the string key = (String)keys.hasNext() given error I need your help, please.</p>\n"},{"tags":["java","android","radio-button","logical-operators"],"answers":[{"tags":[],"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633418256,"creation_date":1633418256,"answer_id":69446276,"question_id":69445938,"body_markdown":"since AND is executed before OR, it basically only takes AND of `fifty.isChecked()&amp;&amp;geo.isChecked()` and OR of the rest with the result of the previous AND, you should add brackets, and if I understand correctly you should be enabling the submit if one of number group {thirty, forty, fifty} and one of category group {eng, geo, movi, country} is checked, so to acheive this I removed the NOT that was put before each of them, it should look like this in the end.  \r\n```\r\nif((thirty.isChecked() || fourty.isChecked() || fifty.isChecked()) &amp;&amp; (geo.isChecked() || eng.isChecked() || country.isChecked() || movi.isChecked()))\r\n```\r\n\r\nnow it should mean `if((one of first group is checked) and (one of the second group is checked))then enable the submit button`","title":"Working with RadioButtons and Buttons in Android Studio using JAVA","body":"<p>since AND is executed before OR, it basically only takes AND of <code>fifty.isChecked()&amp;&amp;geo.isChecked()</code> and OR of the rest with the result of the previous AND, you should add brackets, and if I understand correctly you should be enabling the submit if one of number group {thirty, forty, fifty} and one of category group {eng, geo, movi, country} is checked, so to acheive this I removed the NOT that was put before each of them, it should look like this in the end.</p>\n<pre><code>if((thirty.isChecked() || fourty.isChecked() || fifty.isChecked()) &amp;&amp; (geo.isChecked() || eng.isChecked() || country.isChecked() || movi.isChecked()))\n</code></pre>\n<p>now it should mean <code>if((one of first group is checked) and (one of the second group is checked))then enable the submit button</code></p>\n"}],"owner":{"display_name":"user16240688"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69446276,"answer_count":1,"score":1,"last_activity_date":1633437119,"creation_date":1633416306,"question_id":69445938,"body_markdown":"So I made seven `RadioButtons`. There are two groups. First three and Last four! I want to enable &quot;submit&quot; button if both groups are checked. But the problem is that it enables the button even if I check one of the radio buttons. So basically it ignores `and(&amp;&amp;)` statment. Here&#39;s my code:\r\n\r\n    public void onRadioButtonClicked(View view) {\r\n        boolean checked = ((RadioButton) view).isChecked();\r\n        boolean checkeds = ((RadioButton) view).isChecked();\r\n        \r\n        if(!thirty.isChecked() || !fourty.isChecked() || !fifty.isChecked() &amp;&amp; !geo.isChecked() || !eng.isChecked() || !country.isChecked() || !movi.isChecked()){\r\n            submit.setEnabled(true);\r\n        }else{\r\n            submit.setEnabled(false);\r\n        }\r\n    \r\n        switch (view.getId()) {\r\n            case R.id.thirty:\r\n                if (checked) {\r\n                    scorelimit = 3;\r\n                    fourty.setChecked(false);\r\n                    fifty.setChecked(false);\r\n                }break;\r\n            case R.id.fourty:\r\n                if (checked) {\r\n                    scorelimit = 4;\r\n                    thirty.setChecked(false);\r\n                    fifty.setChecked(false);\r\n                }break;\r\n            case R.id.fifty:\r\n                if (checked) {\r\n                    scorelimit = 5;\r\n                    thirty.setChecked(false);\r\n                    fourty.setChecked(false);\r\n                }break;\r\n        }\r\n        switch (view.getId()) {\r\n            case R.id.geo:\r\n                if (checkeds) {\r\n                    gamemode = 3;\r\n                    eng.setChecked(false);\r\n                    country.setChecked(false);\r\n                    movi.setChecked(false);\r\n                }break;\r\n            case R.id.eng:\r\n                if (checkeds) {\r\n                    gamemode = 4;\r\n                    geo.setChecked(false);\r\n                    country.setChecked(false);\r\n                    movi.setChecked(false);\r\n                }break;\r\n            case R.id.country:\r\n                if (checkeds) {\r\n                    gamemode = 5;\r\n                    geo.setChecked(false);\r\n                    eng.setChecked(false);\r\n                    movi.setChecked(false);\r\n                }break;\r\n            case R.id.movi:\r\n                if (checkeds) {\r\n                    gamemode = 6;\r\n                    geo.setChecked(false);\r\n                    eng.setChecked(false);\r\n                    country.setChecked(false);\r\n                }break;\r\n        }\r\n    }","title":"Working with RadioButtons and Buttons in Android Studio using JAVA","body":"<p>So I made seven <code>RadioButtons</code>. There are two groups. First three and Last four! I want to enable &quot;submit&quot; button if both groups are checked. But the problem is that it enables the button even if I check one of the radio buttons. So basically it ignores <code>and(&amp;&amp;)</code> statment. Here's my code:</p>\n<pre><code>public void onRadioButtonClicked(View view) {\n    boolean checked = ((RadioButton) view).isChecked();\n    boolean checkeds = ((RadioButton) view).isChecked();\n    \n    if(!thirty.isChecked() || !fourty.isChecked() || !fifty.isChecked() &amp;&amp; !geo.isChecked() || !eng.isChecked() || !country.isChecked() || !movi.isChecked()){\n        submit.setEnabled(true);\n    }else{\n        submit.setEnabled(false);\n    }\n\n    switch (view.getId()) {\n        case R.id.thirty:\n            if (checked) {\n                scorelimit = 3;\n                fourty.setChecked(false);\n                fifty.setChecked(false);\n            }break;\n        case R.id.fourty:\n            if (checked) {\n                scorelimit = 4;\n                thirty.setChecked(false);\n                fifty.setChecked(false);\n            }break;\n        case R.id.fifty:\n            if (checked) {\n                scorelimit = 5;\n                thirty.setChecked(false);\n                fourty.setChecked(false);\n            }break;\n    }\n    switch (view.getId()) {\n        case R.id.geo:\n            if (checkeds) {\n                gamemode = 3;\n                eng.setChecked(false);\n                country.setChecked(false);\n                movi.setChecked(false);\n            }break;\n        case R.id.eng:\n            if (checkeds) {\n                gamemode = 4;\n                geo.setChecked(false);\n                country.setChecked(false);\n                movi.setChecked(false);\n            }break;\n        case R.id.country:\n            if (checkeds) {\n                gamemode = 5;\n                geo.setChecked(false);\n                eng.setChecked(false);\n                movi.setChecked(false);\n            }break;\n        case R.id.movi:\n            if (checkeds) {\n                gamemode = 6;\n                geo.setChecked(false);\n                eng.setChecked(false);\n                country.setChecked(false);\n            }break;\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":1902693,"reputation":9592,"user_id":1718213,"accept_rate":71,"display_name":"SergeyB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633437063,"creation_date":1391798952,"answer_id":21635528,"question_id":21635210,"body_markdown":"Take a look at Camel&#39;s [File Language][1]. Looks like `file:modified` might be what you are looking for.\r\n\r\nexample:\r\n`filterFile=${file:modified} &lt; ${date:now-24h}`\r\n\r\n\r\n  [1]: https://camel.apache.org/file-language.html","title":"How can I tell Camel to only copy a file if the Last Modified date is past a certain time?","body":"<p>Take a look at Camel's <a href=\"https://camel.apache.org/file-language.html\" rel=\"nofollow noreferrer\">File Language</a>. Looks like <code>file:modified</code> might be what you are looking for.</p>\n<p>example:\n<code>filterFile=${file:modified} &lt; ${date:now-24h}</code></p>\n"},{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1391947045,"creation_date":1391947045,"answer_id":21658759,"question_id":21635210,"body_markdown":"Yes you can implement a filter and then return true|false if you want to include the file or not. In that logic you can check the file modification and see if the file is more than X days old etc.\r\n\r\nSee the Camel file docs at\r\n\r\n- http://camel.apache.org/file2\r\n\r\nAnd look for the filter option, eg where you implement `org.apache.camel.component.file.GenericFileFilter` interface.","title":"How can I tell Camel to only copy a file if the Last Modified date is past a certain time?","body":"<p>Yes you can implement a filter and then return true|false if you want to include the file or not. In that logic you can check the file modification and see if the file is more than X days old etc.</p>\n\n<p>See the Camel file docs at</p>\n\n<ul>\n<li><a href=\"http://camel.apache.org/file2\" rel=\"nofollow\">http://camel.apache.org/file2</a></li>\n</ul>\n\n<p>And look for the filter option, eg where you implement <code>org.apache.camel.component.file.GenericFileFilter</code> interface.</p>\n"}],"owner":{"account_id":2747955,"reputation":1312,"user_id":2367955,"accept_rate":100,"display_name":"WalkerDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6950,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":21658759,"answer_count":2,"score":5,"last_activity_date":1633437063,"creation_date":1391797926,"question_id":21635210,"body_markdown":"I&#39;m wondering if this is possible to achieve with Apache Camel.  What I would like to do, is have Camel look at a directory of files, and only copy the ones whose &quot;Last Modified&quot; date is more recent than a certain date.  For example, only copy files that were modified AFTER February 7, 2014.  Basically I want to update a variable for the &quot;Last Run Date&quot; every time Camel runs, and then check if the files were modified after the Last Run.\r\n\r\nI would like to use the actual timestamp on the file, not anything provided by Camel... it is my understanding that there is a deprecated method in Camel that used to stamp files when Camel looked at them, and then that would let you know whether they have been processed already or not.  But this functionality is deprecated so I need an alternative.\r\n\r\nApache recommends moving or deleting the file after processing to know whether it has been processed, but this is not an option for me.  Any ideas?  Thanks in advance.\r\n\r\nSOLVED (2014-02-10):\r\n\r\n\timport java.util.Date;\r\n\t\r\n\timport org.apache.camel.builder.RouteBuilder;\r\n\t\r\n\tpublic class TestRoute extends RouteBuilder {\r\n\t\r\n\t\tstatic final long A_DAY = 86400000;\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void configure() throws Exception {\r\n\t\t\t\r\n\t\t\tDate yesterday = new Date(System.currentTimeMillis() - A_DAY);\r\n\t\t\t\r\n\t\t\tfrom(&quot;file://C:\\\\TestOutputFolder?noop=true&quot;).\r\n\t\t\t\tfilter(header(&quot;CamelFileLastModified&quot;).isGreaterThan(yesterday)).\r\n\t\t\t\tto(&quot;file://C:\\\\TestInputFolder&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nNo XML configuration required.  Thanks for the answers below.","title":"How can I tell Camel to only copy a file if the Last Modified date is past a certain time?","body":"<p>I'm wondering if this is possible to achieve with Apache Camel.  What I would like to do, is have Camel look at a directory of files, and only copy the ones whose \"Last Modified\" date is more recent than a certain date.  For example, only copy files that were modified AFTER February 7, 2014.  Basically I want to update a variable for the \"Last Run Date\" every time Camel runs, and then check if the files were modified after the Last Run.</p>\n\n<p>I would like to use the actual timestamp on the file, not anything provided by Camel... it is my understanding that there is a deprecated method in Camel that used to stamp files when Camel looked at them, and then that would let you know whether they have been processed already or not.  But this functionality is deprecated so I need an alternative.</p>\n\n<p>Apache recommends moving or deleting the file after processing to know whether it has been processed, but this is not an option for me.  Any ideas?  Thanks in advance.</p>\n\n<p>SOLVED (2014-02-10):</p>\n\n<pre><code>import java.util.Date;\n\nimport org.apache.camel.builder.RouteBuilder;\n\npublic class TestRoute extends RouteBuilder {\n\n    static final long A_DAY = 86400000;\n\n    @Override\n    public void configure() throws Exception {\n\n        Date yesterday = new Date(System.currentTimeMillis() - A_DAY);\n\n        from(\"file://C:\\\\TestOutputFolder?noop=true\").\n            filter(header(\"CamelFileLastModified\").isGreaterThan(yesterday)).\n            to(\"file://C:\\\\TestInputFolder\");\n\n    }\n\n}\n</code></pre>\n\n<p>No XML configuration required.  Thanks for the answers below.</p>\n"},{"tags":["java","bluetooth","pyjnius"],"answers":[{"tags":[],"owner":{"account_id":1735031,"reputation":147,"user_id":1587805,"accept_rate":0,"display_name":"Shashank Khare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478154822,"creation_date":1478154822,"answer_id":40395181,"question_id":40112401,"body_markdown":"I found out that with PyJNius it is only possible to implement interface class (pure abstract class) not an abstract class. &quot;android/bluetooth/le/ScanCallback&quot; is an abstract class not an interface class which was the case with earlier bluetooth API (&lt; 21). ","title":"pyjnius java abstract class implementation","body":"<p>I found out that with PyJNius it is only possible to implement interface class (pure abstract class) not an abstract class. \"android/bluetooth/le/ScanCallback\" is an abstract class not an interface class which was the case with earlier bluetooth API (&lt; 21). </p>\n"}],"owner":{"account_id":1735031,"reputation":147,"user_id":1587805,"accept_rate":0,"display_name":"Shashank Khare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633437049,"creation_date":1476804840,"question_id":40112401,"body_markdown":"I am trying to implement android.bluetooth.le.ScanCallback which is an abstract class using pyjnius. The moment I instantiate the given below python class there is a JVM error. The error states that android.bluetooth.le.ScanCallback is not an interface class. I believe an interface is an abstract class. What am I missing?\r\n```python\r\nclass ScanCallback(PythonJavaClass):\r\n\t\r\n    __javainterfaces__ = [&#39;android/bluetooth/le/ScanCallback&#39;] \r\n\r\n    def __init__(self, scanCallback, batchCallback=None, errorCallback=None):\r\n        super(ScanCallback, self).__init__()\r\n\t\tself.batchCallbk = batchCallback\r\n\t\tself.scanCallbk = scanCallback\r\n\t\tself.errorCallbk = errorCallback\r\n\t\tpass\r\n\r\n\t@java_method (&#39;(L/java/utils/List&lt;ScanResult&gt;/)V&#39;)\r\n\tdef onBatchScanResults(self,results): \r\n\t \tprint dir(results)\r\n\r\n\t@java_method (&#39;(I)V&#39;) \t\r\n\tdef onScanFailed(self, errorCode):\r\n\t\tprint &quot;failed to scan&quot; + str(errorCode)\r\n\t\traise ValueError(str(errorCode))\r\n\t\r\n\t@java_method (&#39;(IL/android/bluetooth/le/ScanResult)V&#39;)\r\n\tdef onScanResult(self, callbackType, result):\r\n\t\tprint dir(result)\r\n```\t \t","title":"pyjnius java abstract class implementation","body":"<p>I am trying to implement android.bluetooth.le.ScanCallback which is an abstract class using pyjnius. The moment I instantiate the given below python class there is a JVM error. The error states that android.bluetooth.le.ScanCallback is not an interface class. I believe an interface is an abstract class. What am I missing?</p>\n<pre class=\"lang-py prettyprint-override\"><code>class ScanCallback(PythonJavaClass):\n    \n    __javainterfaces__ = ['android/bluetooth/le/ScanCallback'] \n\n    def __init__(self, scanCallback, batchCallback=None, errorCallback=None):\n        super(ScanCallback, self).__init__()\n        self.batchCallbk = batchCallback\n        self.scanCallbk = scanCallback\n        self.errorCallbk = errorCallback\n        pass\n\n    @java_method ('(L/java/utils/List&lt;ScanResult&gt;/)V')\n    def onBatchScanResults(self,results): \n        print dir(results)\n\n    @java_method ('(I)V')   \n    def onScanFailed(self, errorCode):\n        print &quot;failed to scan&quot; + str(errorCode)\n        raise ValueError(str(errorCode))\n    \n    @java_method ('(IL/android/bluetooth/le/ScanResult)V')\n    def onScanResult(self, callbackType, result):\n        print dir(result)\n</code></pre>\n"},{"tags":["java","spring-boot","maven","dependency-injection","microservices"],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633436554,"creation_date":1633436554,"answer_id":69450385,"question_id":69449841,"body_markdown":"you need to show to spring that contains other classes to scan beyond your current project\r\n\r\nI think you are looking for `@ComponentScan(basePackages={&quot;com.sample&quot;})` that tells to spring see your third-party packages\r\n\r\n```\r\n@SpringBootApplication\r\n@EntityScan(basePackages = {&quot;br.com.scan-others-entities-in-other-projects&quot;})\r\n@ComponentScan(basePackages = {&quot;br.com.my-curent-project&quot;, &quot;br.com.scan-other-configs-and-controllers&quot;})\r\n@EnableJpaRepositories(basePackages = {&quot;br.com.com-other-repositories&quot;})\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\n}\r\n\r\n\r\n``` ","title":"How to access a controller or a component from one directory to another in Spring Boot?","body":"<p>you need to show to spring that contains other classes to scan beyond your current project</p>\n<p>I think you are looking for <code>@ComponentScan(basePackages={&quot;com.sample&quot;})</code> that tells to spring see your third-party packages</p>\n<pre><code>@SpringBootApplication\n@EntityScan(basePackages = {&quot;br.com.scan-others-entities-in-other-projects&quot;})\n@ComponentScan(basePackages = {&quot;br.com.my-curent-project&quot;, &quot;br.com.scan-other-configs-and-controllers&quot;})\n@EnableJpaRepositories(basePackages = {&quot;br.com.com-other-repositories&quot;})\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":16732944,"reputation":3,"user_id":12094846,"display_name":"Manogna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69450385,"answer_count":1,"score":0,"last_activity_date":1633436554,"creation_date":1633434329,"question_id":69449841,"body_markdown":"Tried to access a controller from a parent directory. I have used this method to call it from a child directory.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sample&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sample-core&lt;/artifactId&gt;\r\n    &lt;/dependency\r\n\r\nHere is the error for the above usage\r\n\r\n    [ERROR] /D:/Projects/sample/src/main/java/com/sample/controllers/abcController.java\r\n\r\n    package com.sample.controller does not exist\r\n\r\nAny help is appreciated to help me get access from a parent or a different directory.\r\n\r\n\r\n","title":"How to access a controller or a component from one directory to another in Spring Boot?","body":"<p>Tried to access a controller from a parent directory. I have used this method to call it from a child directory.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sample&lt;/groupId&gt;\n    &lt;artifactId&gt;sample-core&lt;/artifactId&gt;\n&lt;/dependency\n</code></pre>\n<p>Here is the error for the above usage</p>\n<pre><code>[ERROR] /D:/Projects/sample/src/main/java/com/sample/controllers/abcController.java\n\npackage com.sample.controller does not exist\n</code></pre>\n<p>Any help is appreciated to help me get access from a parent or a different directory.</p>\n"},{"tags":["java","hibernate","jpa","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":0,"creation_date":1633431923,"post_id":69448238,"comment_id":122752534,"body_markdown":"Well you are replacing a hibernate collection which generally is not a good idea, have you tried to add and remove from the collection instead?. I also suggest you yo check this blog post https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/ which a similar example, your issue I think is not with quarkus rather than with hibernate.","body":"Well you are replacing a hibernate collection which generally is not a good idea, have you tried to add and remove from the collection instead?. I also suggest you yo check this blog post <a href=\"https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a> which a similar example, your issue I think is not with quarkus rather than with hibernate."},{"owner":{"account_id":2626005,"reputation":117,"user_id":2272980,"accept_rate":75,"display_name":"Dinesh Chander"},"score":0,"creation_date":1633435783,"post_id":69448238,"comment_id":122754204,"body_markdown":"I don&#39;t think that&#39;s an issue here since tags collection isn&#39;t initialized and setter method is responsible for the initialization.","body":"I don&#39;t think that&#39;s an issue here since tags collection isn&#39;t initialized and setter method is responsible for the initialization."},{"owner":{"account_id":27118,"reputation":3700,"user_id":71208,"accept_rate":62,"display_name":"Max Rydahl Andersen"},"score":0,"creation_date":1633438275,"post_id":69448238,"comment_id":122755195,"body_markdown":"you are not only mutating the incoming list of categories you are also doing a query inside the setter - that is not good. Highly not recommended.\n\nI&#39;m assuming you are trying to persist something that is already persisted - just don&#39;t do that. I can&#39;t see where/how you call persist thus hard to help.\n\nBut start by removing your code in the setCategories() method - if you do want to mutate the list then do it before that call or add a dedicated method like cleanupCategories() ...but yes, recommended you remove/add elements rather than reset it to a default empty List.","body":"you are not only mutating the incoming list of categories you are also doing a query inside the setter - that is not good. Highly not recommended.  I&#39;m assuming you are trying to persist something that is already persisted - just don&#39;t do that. I can&#39;t see where/how you call persist thus hard to help.  But start by removing your code in the setCategories() method - if you do want to mutate the list then do it before that call or add a dedicated method like cleanupCategories() ...but yes, recommended you remove/add elements rather than reset it to a default empty List."},{"owner":{"account_id":2626005,"reputation":117,"user_id":2272980,"accept_rate":75,"display_name":"Dinesh Chander"},"score":0,"creation_date":1633446658,"post_id":69448238,"comment_id":122759237,"body_markdown":"I&#39;m trying to keep only unique categories in the categories table.  If a category already exists in the table I&#39;m linking it to the new Fruit entity.","body":"I&#39;m trying to keep only unique categories in the categories table.  If a category already exists in the table I&#39;m linking it to the new Fruit entity."},{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":0,"creation_date":1633449419,"post_id":69448238,"comment_id":122760504,"body_markdown":"You are thinking in java terms, but hibernate does not work exactly like that. The exception you are seeing is because hibernate has detected that your category entities are entities that at some point have been deatched from the EM.","body":"You are thinking in java terms, but hibernate does not work exactly like that. The exception you are seeing is because hibernate has detected that your category entities are entities that at some point have been deatched from the EM."},{"owner":{"account_id":2626005,"reputation":117,"user_id":2272980,"accept_rate":75,"display_name":"Dinesh Chander"},"score":0,"creation_date":1633450537,"post_id":69448238,"comment_id":122760997,"body_markdown":"Yes, you&#39;re correct. What&#39;s the correct approach for handling a situation like this?","body":"Yes, you&#39;re correct. What&#39;s the correct approach for handling a situation like this?"},{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":0,"creation_date":1633504237,"post_id":69448238,"comment_id":122773668,"body_markdown":"Use the method add and remove from the list, like in this post https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/, even if you have a list at runtime what you actually have is hibernate specific subclass, this is way replacing the collection was not good in the first place.","body":"Use the method add and remove from the list, like in this post <a href=\"https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>, even if you have a list at runtime what you actually have is hibernate specific subclass, this is way replacing the collection was not good in the first place."},{"owner":{"account_id":2626005,"reputation":117,"user_id":2272980,"accept_rate":75,"display_name":"Dinesh Chander"},"score":0,"creation_date":1633506000,"post_id":69448238,"comment_id":122774328,"body_markdown":"In this case, I&#39;m using rest call to create Fruit along with Categories. If I have to do what is suggested in the article, I will have to persist the Fruit class first and then add the categories using Fruit.addCategory method in the service class. I don&#39;t want to go that route if there&#39;s any way to do it using hibernate annotations.","body":"In this case, I&#39;m using rest call to create Fruit along with Categories. If I have to do what is suggested in the article, I will have to persist the Fruit class first and then add the categories using Fruit.addCategory method in the service class. I don&#39;t want to go that route if there&#39;s any way to do it using hibernate annotations."}],"owner":{"account_id":2626005,"reputation":117,"user_id":2272980,"accept_rate":75,"display_name":"Dinesh Chander"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1000,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633436340,"creation_date":1633427190,"question_id":69448238,"body_markdown":"I&#39;m working on a Quarkus codebase where &#39;many-to-many&#39; relation is required. I&#39;m using hibernate&#39;s @ManyToMany annotation for this and checking duplicates in the setter function of the parent entity. \r\n\r\nFor e.g Let&#39;s assume there are two entities Fruits and Categories. \r\n\r\n**Fruits.java**\r\n\r\n```\r\npackage org.acme.hibernate.orm.panache;\r\n\r\nimport io.quarkus.hibernate.orm.panache.PanacheEntity;\r\nimport io.quarkus.panache.common.Parameters;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.stream.Collectors;\r\n\r\n@Entity\r\n@Cacheable\r\npublic class Fruit extends PanacheEntity {\r\n\r\n  @Column(length = 40, unique = true)\r\n  public String name;\r\n\r\n  @ManyToMany(cascade = { CascadeType.MERGE, CascadeType.PERSIST }, mappedBy = &quot;fruits&quot;)\r\n  public List&lt;Category&gt; categories;\r\n\r\n  public Fruit () {\r\n  }\r\n\r\n  public Fruit (String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public void setCategories (List&lt;Category&gt; categories) {\r\n    this.categories = categories.stream().map(category -&gt; {\r\n              Category category1 = Category.find(&quot;name = :name&quot;, Parameters.with(&quot;name&quot;, category.name)).firstResult();\r\n              if (category1 != null) {\r\n                category1.fruits.add(this);\r\n                return category1;\r\n              }\r\n\r\n              return category;\r\n            }).filter(Objects::nonNull)\r\n            .collect(Collectors.toList());\r\n  }\r\n}\r\n```\r\n\r\n**Category.java**\r\n\r\n```\r\npackage org.acme.hibernate.orm.panache;\r\n\r\nimport io.quarkus.hibernate.orm.panache.PanacheEntity;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Cacheable\r\npublic class Category extends PanacheEntity {\r\n  @Column(length = 40, unique = true)\r\n  public String name;\r\n\r\n  @ManyToMany(cascade = { CascadeType.MERGE, CascadeType.REFRESH })\r\n  public List&lt;Fruit&gt; fruits;\r\n\r\n  public Category() {\r\n  }\r\n\r\n  public Category(String name) {\r\n    this.name = name;\r\n  }\r\n}\r\n```\r\n\r\nWhen I&#39;m trying to save fruit entity with categories, it is successfully getting saved the first time. But the second time I&#39;m getting \r\n\r\n```\r\njavax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: org.acme.hibernate.orm.panache.Category\r\n```\r\n\r\nWhat is the correct way to do this?\r\n\r\nFind the code for above example [here][1] \r\n\r\n\r\n  [1]: https://github.com/dinesh-chander/-hibernate-orm-panache-manytomany-test/tree/master/src/main/java/org/acme/hibernate/orm/panache","title":"How to handle duplicates in M-M (manytomany) relations in Java&#39;s Quarkus framework?","body":"<p>I'm working on a Quarkus codebase where 'many-to-many' relation is required. I'm using hibernate's @ManyToMany annotation for this and checking duplicates in the setter function of the parent entity.</p>\n<p>For e.g Let's assume there are two entities Fruits and Categories.</p>\n<p><strong>Fruits.java</strong></p>\n<pre><code>package org.acme.hibernate.orm.panache;\n\nimport io.quarkus.hibernate.orm.panache.PanacheEntity;\nimport io.quarkus.panache.common.Parameters;\n\nimport javax.persistence.*;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.stream.Collectors;\n\n@Entity\n@Cacheable\npublic class Fruit extends PanacheEntity {\n\n  @Column(length = 40, unique = true)\n  public String name;\n\n  @ManyToMany(cascade = { CascadeType.MERGE, CascadeType.PERSIST }, mappedBy = &quot;fruits&quot;)\n  public List&lt;Category&gt; categories;\n\n  public Fruit () {\n  }\n\n  public Fruit (String name) {\n    this.name = name;\n  }\n\n  public void setCategories (List&lt;Category&gt; categories) {\n    this.categories = categories.stream().map(category -&gt; {\n              Category category1 = Category.find(&quot;name = :name&quot;, Parameters.with(&quot;name&quot;, category.name)).firstResult();\n              if (category1 != null) {\n                category1.fruits.add(this);\n                return category1;\n              }\n\n              return category;\n            }).filter(Objects::nonNull)\n            .collect(Collectors.toList());\n  }\n}\n</code></pre>\n<p><strong>Category.java</strong></p>\n<pre><code>package org.acme.hibernate.orm.panache;\n\nimport io.quarkus.hibernate.orm.panache.PanacheEntity;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\n@Cacheable\npublic class Category extends PanacheEntity {\n  @Column(length = 40, unique = true)\n  public String name;\n\n  @ManyToMany(cascade = { CascadeType.MERGE, CascadeType.REFRESH })\n  public List&lt;Fruit&gt; fruits;\n\n  public Category() {\n  }\n\n  public Category(String name) {\n    this.name = name;\n  }\n}\n</code></pre>\n<p>When I'm trying to save fruit entity with categories, it is successfully getting saved the first time. But the second time I'm getting</p>\n<pre><code>javax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: org.acme.hibernate.orm.panache.Category\n</code></pre>\n<p>What is the correct way to do this?</p>\n<p>Find the code for above example <a href=\"https://github.com/dinesh-chander/-hibernate-orm-panache-manytomany-test/tree/master/src/main/java/org/acme/hibernate/orm/panache\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","kubernetes","apache-flink","apache-zookeeper"],"owner":{"account_id":3278201,"reputation":811,"user_id":2759538,"accept_rate":79,"display_name":"Ace McCloud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1633435529,"creation_date":1633420031,"question_id":69446613,"body_markdown":"I have a K8s cluster on EKS with 1 JM, 30 TMs, 3 Zookeepers and we are using the Flinkoperator: https://github.com/lyft/flinkk8soperator\r\n\r\nWe use zookeeper for High availability mode run. \r\nWe are unable to get the flink job i.e our application submitted. \r\n\r\nThe strange thing is this exact same configuration works in other regions but on this newly setup region we are just unable to submit the Flink Job. \r\n\r\nThe Flink UI also does not seem accessibile for the new region.\r\n\r\nSome observations:\r\n1. There are some errors in the zookeeper initially but it eventually runs fine and gives Processing... log for the rest.\r\n2. Job manager is where error seems prominent but we are not sure why this problem is\r\n3. Flink operator just tells us it could not submit the job.\r\n4. TM logs don&#39;t have too much data.\r\n\r\nWould anyone know how to proceed here? Or possibly have a hint as to what is going on? Could it be a resourcing issue as per: https://www.mail-archive.com/user@flink.apache.org/msg21146.html\r\n\r\nBut then we are using beefy nodes for the pods similar to our deployments to other regions.\r\n\r\nAny insights or pointers here would be appreciated.\r\n\r\nHere are the logs from the different pods: (Sorry if they are too long)\r\n\r\n\r\n1. Flink operator:\r\n\r\n&gt; {&quot;json&quot;:{&quot;app_name&quot;:&quot;my-app&quot;,&quot;ns&quot;:&quot;flink-cluster&quot;,&quot;phase&quot;:&quot;SubmittingJob&quot;},&quot;level&quot;:&quot;info&quot;,&quot;msg&quot;:&quot;Handle\r\n&gt; state skipped for application, lastSeenError UnknownMethod call failed\r\n&gt; with status FAILED and message &#39;&#39;: Could not find deployments for\r\n&gt; service my-app&quot;,&quot;ts&quot;:&quot;2021-09-28T15:35:54Z&quot;}\r\n&gt; {&quot;json&quot;:{&quot;app_name&quot;:&quot;my-app&quot;,&quot;ns&quot;:&quot;flink-cluster&quot;,&quot;phase&quot;:&quot;SubmittingJob&quot;},&quot;level&quot;:&quot;info&quot;,&quot;msg&quot;:&quot;Handle\r\n&gt; state skipped for application, lastSeenError UnknownMethod call failed\r\n&gt; with status FAILED and message &#39;&#39;: Could not find deployments for\r\n&gt; service my-app&quot;,&quot;ts&quot;:&quot;2021-09-28T15:36:24Z&quot;}\r\n\r\n\r\n2. Task manager (1 of them):\r\n\r\n&gt; 2021-09-28 16:13:02,940 ERROR\r\n&gt; org.apache.flink.runtime.taskexecutor.TaskExecutor           [] -\r\n&gt; Registration at ResourceManager failed due to an error\r\n&gt; java.util.concurrent.CompletionException:\r\n&gt; org.apache.flink.runtime.rpc.exceptions.FencingTokenException: Fencing\r\n&gt; token not set: Ignoring message\r\n&gt; RemoteFencedMessage(8bb0ba2f8de9e3fa13b269deba364c70,\r\n&gt; RemoteRpcInvocation(registerTaskExecutor(TaskExecutorRegistration,\r\n&gt; Time))) sent to\r\n&gt; akka.tcp://flink@100.117.59.33:35805/user/rpc/resourcemanager_0\r\n&gt; because the fencing token is null. \tat\r\n&gt; java.util.concurrent.CompletableFuture.encodeThrowable(Unknown Source)\r\n&gt; ~[?:?] \tat\r\n&gt; java.util.concurrent.CompletableFuture.completeThrowable(Unknown\r\n&gt; Source) ~[?:?] \tat\r\n&gt; java.util.concurrent.CompletableFuture$UniAccept.tryFire(Unknown\r\n&gt; Source) ~[?:?] \tat\r\n&gt; java.util.concurrent.CompletableFuture.postComplete(Unknown Source)\r\n&gt; ~[?:?] \tat\r\n&gt; java.util.concurrent.CompletableFuture.completeExceptionally(Unknown\r\n&gt; Source) ~[?:?] \tat\r\n&gt; org.apache.flink.runtime.rpc.akka.AkkaInvocationHandler.lambda$invokeRpc$0(AkkaInvocationHandler.java:235)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; java.util.concurrent.CompletableFuture.uniWhenComplete(Unknown Source)\r\n&gt; ~[?:?] \tat\r\n&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(Unknown\r\n&gt; Source) ~[?:?] \tat\r\n&gt; java.util.concurrent.CompletableFuture.postComplete(Unknown Source)\r\n&gt; ~[?:?] \tat\r\n&gt; java.util.concurrent.CompletableFuture.completeExceptionally(Unknown\r\n&gt; Source) ~[?:?] \tat\r\n&gt; org.apache.flink.runtime.concurrent.FutureUtils$1.onComplete(FutureUtils.java:1044)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.dispatch.OnComplete.internal(Future.scala:263)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.dispatch.OnComplete.internal(Future.scala:261)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.dispatch.japi$CallbackBridge.apply(Future.scala:191)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.dispatch.japi$CallbackBridge.apply(Future.scala:188)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; scala.concurrent.impl.CallbackRunnable.run(Promise.scala:60)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; org.apache.flink.runtime.concurrent.Executors$DirectExecutionContext.execute(Executors.java:73)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:68)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1(Promise.scala:284)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; scala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1$adapted(Promise.scala:284)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:284)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.pattern.PromiseActorRef.$bang(AskSupport.scala:573)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.remote.DefaultMessageDispatcher.dispatch(Endpoint.scala:101)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.remote.EndpointReader$$anonfun$receive$2.applyOrElse(Endpoint.scala:999)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.actor.Actor.aroundReceive(Actor.scala:517)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.actor.Actor.aroundReceive$(Actor.scala:515)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.remote.EndpointActor.aroundReceive(Endpoint.scala:458)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.actor.ActorCell.invoke(ActorCell.scala:561)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.dispatch.Mailbox.run(Mailbox.scala:225)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.dispatch.Mailbox.exec(Mailbox.scala:235)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)\r\n&gt; [flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)\r\n&gt; [flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)\r\n&gt; [flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)\r\n&gt; [flink-dist_2.12-1.12.1.jar:1.12.1] Caused by:\r\n&gt; org.apache.flink.runtime.rpc.exceptions.FencingTokenException: Fencing\r\n&gt; token not set: Ignoring message\r\n&gt; RemoteFencedMessage(8bb0ba2f8de9e3fa13b269deba364c70,\r\n&gt; RemoteRpcInvocation(registerTaskExecutor(TaskExecutorRegistration,\r\n&gt; Time))) sent to\r\n&gt; akka.tcp://flink@100.117.59.33:35805/user/rpc/resourcemanager_0\r\n&gt; because the fencing token is null. \tat\r\n&gt; org.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:67)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:159)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; scala.PartialFunction.applyOrElse(PartialFunction.scala:123)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; scala.PartialFunction.applyOrElse$(PartialFunction.scala:122)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:172)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:172)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.actor.Actor.aroundReceive(Actor.scala:517)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.actor.Actor.aroundReceive$(Actor.scala:515)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \tat\r\n&gt; akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1] \t... 9 more 2021-09-28\r\n&gt; 16:13:02,947 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor \r\n&gt; [] - Pausing and re-attempting registration in 10000 ms 2021-09-28\r\n&gt; 16:13:03,377 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor \r\n&gt; [] - Terminating registration attempts towards ResourceManager\r\n&gt; akka.tcp://flink@100.117.59.33:35805/user/rpc/resourcemanager_0.\r\n&gt; 2021-09-28 16:13:03,378 INFO \r\n&gt; org.apache.flink.runtime.taskexecutor.TaskExecutor           [] -\r\n&gt; Connecting to ResourceManager\r\n&gt; akka.tcp://flink@100.117.59.33:35805/user/rpc/resourcemanager_0(8ebb566d5f310905d0421f7fe9a74498).\r\n&gt; 2021-09-28 16:13:03,383 INFO \r\n&gt; org.apache.flink.runtime.taskexecutor.TaskExecutor           [] -\r\n&gt; Resolved ResourceManager address, beginning registration 2021-09-28\r\n&gt; 16:13:03,390 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor \r\n&gt; [] - Successful registration at resource manager\r\n&gt; akka.tcp://flink@100.117.59.33:35805/user/rpc/resourcemanager_0 under\r\n&gt; registration id 78d410e0d100d4712171571f087b6476.\r\n\r\n\r\n 3. Job manager:\r\n\r\n&gt;      2021-09-28 16:13:30,063 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager []\r\n&gt; - Registering TaskManager with ResourceID 120.117.67.21:34443-d3dd7f (akka.tcp://flink@120.117.67.21:34443/user/rpc/taskmanager_0) at\r\n&gt; ResourceManager\r\n&gt;     2021-09-30 15:36:33,455 WARN  akka.remote.Remoting                                         [] - Association to [akka.tcp://flink@120.117.78.156:33767] with\r\n&gt; unknown UID is irrecoverably failed. Address cannot be quarantined\r\n&gt; without knowing the UID, gating instead for 50 ms.\r\n&gt;     2021-09-30 15:42:25,636 ERROR akka.remote.Remoting                                         [] - Association to [akka.tcp://flink@120.117.79.241:40783] with UID\r\n&gt; [-210531468] irrecoverably failed. Quarantining address.\r\n&gt;     java.util.concurrent.TimeoutException: Remote system has been silent for too long. (more than 48.0 hours)\r\n&gt;     \tat akka.remote.ReliableDeliverySupervisor$$anonfun$idle$1.applyOrElse(Endpoint.scala:387)\r\n&gt; ~[flink-dist_2.12-1.12.1.jar:1.12.1]\r\n\r\n4. Zookeeper: Please check link as it is too long.\r\nhttps://pastecode.io/s/as00i6pb","title":"Flink cluster - Error when Submitting Job","body":"<p>I have a K8s cluster on EKS with 1 JM, 30 TMs, 3 Zookeepers and we are using the Flinkoperator: <a href=\"https://github.com/lyft/flinkk8soperator\" rel=\"nofollow noreferrer\">https://github.com/lyft/flinkk8soperator</a></p>\n<p>We use zookeeper for High availability mode run.\nWe are unable to get the flink job i.e our application submitted.</p>\n<p>The strange thing is this exact same configuration works in other regions but on this newly setup region we are just unable to submit the Flink Job.</p>\n<p>The Flink UI also does not seem accessibile for the new region.</p>\n<p>Some observations:</p>\n<ol>\n<li>There are some errors in the zookeeper initially but it eventually runs fine and gives Processing... log for the rest.</li>\n<li>Job manager is where error seems prominent but we are not sure why this problem is</li>\n<li>Flink operator just tells us it could not submit the job.</li>\n<li>TM logs don't have too much data.</li>\n</ol>\n<p>Would anyone know how to proceed here? Or possibly have a hint as to what is going on? Could it be a resourcing issue as per: <a href=\"https://www.mail-archive.com/user@flink.apache.org/msg21146.html\" rel=\"nofollow noreferrer\">https://www.mail-archive.com/user@flink.apache.org/msg21146.html</a></p>\n<p>But then we are using beefy nodes for the pods similar to our deployments to other regions.</p>\n<p>Any insights or pointers here would be appreciated.</p>\n<p>Here are the logs from the different pods: (Sorry if they are too long)</p>\n<ol>\n<li>Flink operator:</li>\n</ol>\n<blockquote>\n<p>{&quot;json&quot;:{&quot;app_name&quot;:&quot;my-app&quot;,&quot;ns&quot;:&quot;flink-cluster&quot;,&quot;phase&quot;:&quot;SubmittingJob&quot;},&quot;level&quot;:&quot;info&quot;,&quot;msg&quot;:&quot;Handle\nstate skipped for application, lastSeenError UnknownMethod call failed\nwith status FAILED and message '': Could not find deployments for\nservice my-app&quot;,&quot;ts&quot;:&quot;2021-09-28T15:35:54Z&quot;}\n{&quot;json&quot;:{&quot;app_name&quot;:&quot;my-app&quot;,&quot;ns&quot;:&quot;flink-cluster&quot;,&quot;phase&quot;:&quot;SubmittingJob&quot;},&quot;level&quot;:&quot;info&quot;,&quot;msg&quot;:&quot;Handle\nstate skipped for application, lastSeenError UnknownMethod call failed\nwith status FAILED and message '': Could not find deployments for\nservice my-app&quot;,&quot;ts&quot;:&quot;2021-09-28T15:36:24Z&quot;}</p>\n</blockquote>\n<ol start=\"2\">\n<li>Task manager (1 of them):</li>\n</ol>\n<blockquote>\n<p>2021-09-28 16:13:02,940 ERROR\norg.apache.flink.runtime.taskexecutor.TaskExecutor           [] -\nRegistration at ResourceManager failed due to an error\njava.util.concurrent.CompletionException:\norg.apache.flink.runtime.rpc.exceptions.FencingTokenException: Fencing\ntoken not set: Ignoring message\nRemoteFencedMessage(8bb0ba2f8de9e3fa13b269deba364c70,\nRemoteRpcInvocation(registerTaskExecutor(TaskExecutorRegistration,\nTime))) sent to\nakka.tcp://flink@100.117.59.33:35805/user/rpc/resourcemanager_0\nbecause the fencing token is null.    at\njava.util.concurrent.CompletableFuture.encodeThrowable(Unknown Source)\n~[?:?]    at\njava.util.concurrent.CompletableFuture.completeThrowable(Unknown\nSource) ~[?:?]    at\njava.util.concurrent.CompletableFuture$UniAccept.tryFire(Unknown\nSource) ~[?:?]    at\njava.util.concurrent.CompletableFuture.postComplete(Unknown Source)\n~[?:?]    at\njava.util.concurrent.CompletableFuture.completeExceptionally(Unknown\nSource) ~[?:?]    at\norg.apache.flink.runtime.rpc.akka.AkkaInvocationHandler.lambda$invokeRpc$0(AkkaInvocationHandler.java:235)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\njava.util.concurrent.CompletableFuture.uniWhenComplete(Unknown Source)\n~[?:?]    at\njava.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(Unknown\nSource) ~[?:?]    at\njava.util.concurrent.CompletableFuture.postComplete(Unknown Source)\n~[?:?]    at\njava.util.concurrent.CompletableFuture.completeExceptionally(Unknown\nSource) ~[?:?]    at\norg.apache.flink.runtime.concurrent.FutureUtils$1.onComplete(FutureUtils.java:1044)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.dispatch.OnComplete.internal(Future.scala:263)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.dispatch.OnComplete.internal(Future.scala:261)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.dispatch.japi$CallbackBridge.apply(Future.scala:191)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.dispatch.japi$CallbackBridge.apply(Future.scala:188)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nscala.concurrent.impl.CallbackRunnable.run(Promise.scala:60)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\norg.apache.flink.runtime.concurrent.Executors$DirectExecutionContext.execute(Executors.java:73)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nscala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:68)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nscala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1(Promise.scala:284)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nscala.concurrent.impl.Promise$DefaultPromise.$anonfun$tryComplete$1$adapted(Promise.scala:284)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nscala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:284)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.pattern.PromiseActorRef.$bang(AskSupport.scala:573)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.remote.DefaultMessageDispatcher.dispatch(Endpoint.scala:101)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.remote.EndpointReader$$anonfun$receive$2.applyOrElse(Endpoint.scala:999)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.actor.Actor.aroundReceive(Actor.scala:517)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.actor.Actor.aroundReceive$(Actor.scala:515)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.remote.EndpointActor.aroundReceive(Endpoint.scala:458)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.actor.ActorCell.receiveMessage(ActorCell.scala:592)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.actor.ActorCell.invoke(ActorCell.scala:561)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.dispatch.Mailbox.run(Mailbox.scala:225)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.dispatch.Mailbox.exec(Mailbox.scala:235)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)\n[flink-dist_2.12-1.12.1.jar:1.12.1]   at\nakka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)\n[flink-dist_2.12-1.12.1.jar:1.12.1]   at\nakka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)\n[flink-dist_2.12-1.12.1.jar:1.12.1]   at\nakka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)\n[flink-dist_2.12-1.12.1.jar:1.12.1] Caused by:\norg.apache.flink.runtime.rpc.exceptions.FencingTokenException: Fencing\ntoken not set: Ignoring message\nRemoteFencedMessage(8bb0ba2f8de9e3fa13b269deba364c70,\nRemoteRpcInvocation(registerTaskExecutor(TaskExecutorRegistration,\nTime))) sent to\nakka.tcp://flink@100.117.59.33:35805/user/rpc/resourcemanager_0\nbecause the fencing token is null.    at\norg.apache.flink.runtime.rpc.akka.FencedAkkaRpcActor.handleRpcMessage(FencedAkkaRpcActor.java:67)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\norg.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:159)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nscala.PartialFunction.applyOrElse(PartialFunction.scala:123)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nscala.PartialFunction.applyOrElse$(PartialFunction.scala:122)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nscala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nscala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:172)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nscala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:172)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.actor.Actor.aroundReceive(Actor.scala:517)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.actor.Actor.aroundReceive$(Actor.scala:515)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  at\nakka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]  ... 9 more 2021-09-28\n16:13:02,947 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor\n[] - Pausing and re-attempting registration in 10000 ms 2021-09-28\n16:13:03,377 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor\n[] - Terminating registration attempts towards ResourceManager\nakka.tcp://flink@100.117.59.33:35805/user/rpc/resourcemanager_0.\n2021-09-28 16:13:03,378 INFO\norg.apache.flink.runtime.taskexecutor.TaskExecutor           [] -\nConnecting to ResourceManager\nakka.tcp://flink@100.117.59.33:35805/user/rpc/resourcemanager_0(8ebb566d5f310905d0421f7fe9a74498).\n2021-09-28 16:13:03,383 INFO\norg.apache.flink.runtime.taskexecutor.TaskExecutor           [] -\nResolved ResourceManager address, beginning registration 2021-09-28\n16:13:03,390 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor\n[] - Successful registration at resource manager\nakka.tcp://flink@100.117.59.33:35805/user/rpc/resourcemanager_0 under\nregistration id 78d410e0d100d4712171571f087b6476.</p>\n</blockquote>\n<ol start=\"3\">\n<li>Job manager:</li>\n</ol>\n<blockquote>\n<pre><code> 2021-09-28 16:13:30,063 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager []\n</code></pre>\n<ul>\n<li>Registering TaskManager with ResourceID 120.117.67.21:34443-d3dd7f (akka.tcp://flink@120.117.67.21:34443/user/rpc/taskmanager_0) at\nResourceManager\n2021-09-30 15:36:33,455 WARN  akka.remote.Remoting                                         [] - Association to [akka.tcp://flink@120.117.78.156:33767] with\nunknown UID is irrecoverably failed. Address cannot be quarantined\nwithout knowing the UID, gating instead for 50 ms.\n2021-09-30 15:42:25,636 ERROR akka.remote.Remoting                                         [] - Association to [akka.tcp://flink@120.117.79.241:40783] with UID\n[-210531468] irrecoverably failed. Quarantining address.\njava.util.concurrent.TimeoutException: Remote system has been silent for too long. (more than 48.0 hours)\nat akka.remote.ReliableDeliverySupervisor$$anonfun$idle$1.applyOrElse(Endpoint.scala:387)\n~[flink-dist_2.12-1.12.1.jar:1.12.1]</li>\n</ul>\n</blockquote>\n<ol start=\"4\">\n<li>Zookeeper: Please check link as it is too long.\n<a href=\"https://pastecode.io/s/as00i6pb\" rel=\"nofollow noreferrer\">https://pastecode.io/s/as00i6pb</a></li>\n</ol>\n"},{"tags":["java","rest","karate","rest-assured"],"comments":[{"owner":{"account_id":38390,"reputation":2635,"user_id":110156,"accept_rate":80,"display_name":"Jamie Bisotti"},"score":0,"creation_date":1519223121,"post_id":40311808,"comment_id":84822406,"body_markdown":"I need to do this same thing. Did you come up with a solution?","body":"I need to do this same thing. Did you come up with a solution?"},{"owner":{"account_id":3029561,"reputation":1764,"user_id":2568874,"accept_rate":58,"display_name":"vicusbass"},"score":0,"creation_date":1519311699,"post_id":40311808,"comment_id":84867795,"body_markdown":"No, in the meanwhile I started using Spring Cloud Contracts for the bigger picture","body":"No, in the meanwhile I started using Spring Cloud Contracts for the bigger picture"},{"owner":{"account_id":1492763,"reputation":780,"user_id":1399467,"display_name":"SudhirR"},"score":0,"creation_date":1574147973,"post_id":40311808,"comment_id":104117296,"body_markdown":"Approach is correct, `synchronized object from which the test reads and validates` use a `CountDownLatch` with a timeout. awaitability is good framework to use for assertions on async flows. Use [spark-java] for a test endpoint that you can bootstrap within your test.","body":"Approach is correct, <code>synchronized object from which the test reads and validates</code> use a <code>CountDownLatch</code> with a timeout. awaitability is good framework to use for assertions on async flows. Use [spark-java] for a test endpoint that you can bootstrap within your test."}],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1633435391,"creation_date":1633093586,"answer_id":69406420,"question_id":40311808,"body_markdown":"Use [Karate](https://github.com/intuit/karate). Disclaimer: I am the developer.\r\n\r\nHere is an example (with links to the source code) on how you can achieve this: https://twitter.com/KarateDSL/status/1417023536082812935\r\n\r\nI&#39;ll try to explain the diagram in a simple way.\r\n\r\n* The `Test` creates a mock HTTP server when the test starts. Here the port is dynamic, but you can very well hard-code it to e.g. 8080 if the client is remote. So the client can call `http://hostname/8080/send`\r\n* Note how the mock is able to &quot;talk&quot; to a Java class. And how the `Test` waits for the Java class to signal a state change - when something calls the `Mock`.\r\n* This particular demo uses a message-queue to connect the `Mock` and the Java class. But you don&#39;t need to go that far to just respond to a callback, just complete the `CompletableFuture` by invoking some method instead of where you see `QueueUtils.send()` in the example\r\n* Here the `Test` itself is making a call to the `Mock` but in the scenario you describe, you can very well make a call to `/publish` and then wait for the callback.\r\n* If the server is remote and not fully in your control, you will need to somehow tell it the URL to call back to. But in the question here, it looks like you can pass the URL in the `/publish` call itself.\r\n* And if your server is remote and you cannot &quot;expose&quot; your local machine to the internet or the same network, you can easily run Karate anywhere wrapped in a Docker container or within a cloud instance such as EC2. And note that there are solutions such as [ngrok](https://ngrok.com).\r\n\r\n[![Karate and HTTP callbacks][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yJZKH.jpg","title":"How to test REST endpoint when using callbacks using JAVA?","body":"<p>Use <a href=\"https://github.com/intuit/karate\" rel=\"nofollow noreferrer\">Karate</a>. Disclaimer: I am the developer.</p>\n<p>Here is an example (with links to the source code) on how you can achieve this: <a href=\"https://twitter.com/KarateDSL/status/1417023536082812935\" rel=\"nofollow noreferrer\">https://twitter.com/KarateDSL/status/1417023536082812935</a></p>\n<p>I'll try to explain the diagram in a simple way.</p>\n<ul>\n<li>The <code>Test</code> creates a mock HTTP server when the test starts. Here the port is dynamic, but you can very well hard-code it to e.g. 8080 if the client is remote. So the client can call <code>http://hostname/8080/send</code></li>\n<li>Note how the mock is able to &quot;talk&quot; to a Java class. And how the <code>Test</code> waits for the Java class to signal a state change - when something calls the <code>Mock</code>.</li>\n<li>This particular demo uses a message-queue to connect the <code>Mock</code> and the Java class. But you don't need to go that far to just respond to a callback, just complete the <code>CompletableFuture</code> by invoking some method instead of where you see <code>QueueUtils.send()</code> in the example</li>\n<li>Here the <code>Test</code> itself is making a call to the <code>Mock</code> but in the scenario you describe, you can very well make a call to <code>/publish</code> and then wait for the callback.</li>\n<li>If the server is remote and not fully in your control, you will need to somehow tell it the URL to call back to. But in the question here, it looks like you can pass the URL in the <code>/publish</code> call itself.</li>\n<li>And if your server is remote and you cannot &quot;expose&quot; your local machine to the internet or the same network, you can easily run Karate anywhere wrapped in a Docker container or within a cloud instance such as EC2. And note that there are solutions such as <a href=\"https://ngrok.com\" rel=\"nofollow noreferrer\">ngrok</a>.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/yJZKH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yJZKH.jpg\" alt=\"Karate and HTTP callbacks\" /></a></p>\n"},{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633431531,"creation_date":1633431177,"answer_id":69449137,"question_id":40311808,"body_markdown":"Starting a local HTTP server out of the test code is a straightforward way. There are plenty of libraries to do it, for example WireMock:\r\n\r\nhttp://wiremock.org/index.html\r\n\r\nhttps://github.com/karatelabs/karate\r\n(for Karate see the answer from &quot;Peter Thomas&quot;)\r\n\r\nIt works perfectly during the development, but it is very limited in the real world. The test pipeline is usually not available from outside. It cannot listen for something. The developer of the test works in the local network behind NAT/firewall. He won&#39;t be able to listen for requests coming from the staging or production environment (which is running in the DMZ or in the Cloud).\r\n\r\nThe better solution is to use a mock server. It must listen for a request and record this event. The test asks the mock server for the event in the next step and validates it.\r\n\r\nOne can use cloud-based mock server, for example Postman or MockLab:\r\n\r\nhttps://www.mocklab.io/docs/stubbing/\r\n\r\nhttps://learning.postman.com/docs/designing-and-developing-your-api/mocking-data/setting-up-mock/\r\n\r\nFor simple use-case one can develop a mock server manually using any public cloud provider like AWS. The test must deploy a small Lambda function which listen for a request and puts it on S3 storage for validation. AWS most probably won&#39;t bill you for this use-case. 1M requests per month are for free:\r\n\r\nhttps://aws.amazon.com/lambda/pricing/\r\n\r\nOr one can implement this logic as a part of the server which is being tested.","title":"How to test REST endpoint when using callbacks using JAVA?","body":"<p>Starting a local HTTP server out of the test code is a straightforward way. There are plenty of libraries to do it, for example WireMock:</p>\n<p><a href=\"http://wiremock.org/index.html\" rel=\"nofollow noreferrer\">http://wiremock.org/index.html</a></p>\n<p><a href=\"https://github.com/karatelabs/karate\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate</a>\n(for Karate see the answer from &quot;Peter Thomas&quot;)</p>\n<p>It works perfectly during the development, but it is very limited in the real world. The test pipeline is usually not available from outside. It cannot listen for something. The developer of the test works in the local network behind NAT/firewall. He won't be able to listen for requests coming from the staging or production environment (which is running in the DMZ or in the Cloud).</p>\n<p>The better solution is to use a mock server. It must listen for a request and record this event. The test asks the mock server for the event in the next step and validates it.</p>\n<p>One can use cloud-based mock server, for example Postman or MockLab:</p>\n<p><a href=\"https://www.mocklab.io/docs/stubbing/\" rel=\"nofollow noreferrer\">https://www.mocklab.io/docs/stubbing/</a></p>\n<p><a href=\"https://learning.postman.com/docs/designing-and-developing-your-api/mocking-data/setting-up-mock/\" rel=\"nofollow noreferrer\">https://learning.postman.com/docs/designing-and-developing-your-api/mocking-data/setting-up-mock/</a></p>\n<p>For simple use-case one can develop a mock server manually using any public cloud provider like AWS. The test must deploy a small Lambda function which listen for a request and puts it on S3 storage for validation. AWS most probably won't bill you for this use-case. 1M requests per month are for free:</p>\n<p><a href=\"https://aws.amazon.com/lambda/pricing/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/lambda/pricing/</a></p>\n<p>Or one can implement this logic as a part of the server which is being tested.</p>\n"}],"owner":{"account_id":3029561,"reputation":1764,"user_id":2568874,"accept_rate":58,"display_name":"vicusbass"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2902,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1633435391,"creation_date":1477682063,"question_id":40311808,"body_markdown":"I want to write some test against an REST endpoint which is using a callback parameter. Might sound confusing so here&#39;s an explanation:\r\n\r\n - first call is a POST to `/publish` with the payload:\r\n\r\n     `{&quot;callbackURL&quot;:&quot;http://localhost:609/test&quot;}`\r\n\r\n - server replies with 200 and some json\r\n\r\n - the server does an async POST to `http://localhost:609/test/status` (based on the provided callback URL), with some json payload\r\n\r\nI built a test using TestNG and Rest-assured (not mandatory). My problem is how to validate both the initial reply and the message received at the callback URL. \r\nA (maybe naive) approach I first thought of is to implement a HTTP server which listens at `http://localhost:609/test/status`, when something comes it writes to a synchronized object from which the test reads and validates. However, sounds a bit tricky (the test local server will use an inner class, etc.) and fragile. Can anyone think of a better approach?","title":"How to test REST endpoint when using callbacks using JAVA?","body":"<p>I want to write some test against an REST endpoint which is using a callback parameter. Might sound confusing so here's an explanation:</p>\n\n<ul>\n<li><p>first call is a POST to <code>/publish</code> with the payload:</p>\n\n<p><code>{\"callbackURL\":\"http://localhost:609/test\"}</code></p></li>\n<li><p>server replies with 200 and some json</p></li>\n<li><p>the server does an async POST to <code>http://localhost:609/test/status</code> (based on the provided callback URL), with some json payload</p></li>\n</ul>\n\n<p>I built a test using TestNG and Rest-assured (not mandatory). My problem is how to validate both the initial reply and the message received at the callback URL. \nA (maybe naive) approach I first thought of is to implement a HTTP server which listens at <code>http://localhost:609/test/status</code>, when something comes it writes to a synchronized object from which the test reads and validates. However, sounds a bit tricky (the test local server will use an inner class, etc.) and fragile. Can anyone think of a better approach?</p>\n"},{"tags":["java","spring","spring-boot","class","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":5671023,"reputation":3866,"user_id":4485633,"display_name":"thopaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633435379,"creation_date":1633435379,"answer_id":69450104,"question_id":69450016,"body_markdown":"There are several [scopes for beans][1]. IIRC the singelton scope is the default one. So if you do not change this alle requests share the class variable used in your bean.\r\n\r\nIf you want to change this you can use the request or session scope.\r\n\r\n\r\nAnother approach would be to put the state out of your application (key-value-store, etc.)\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-bean-scopes","title":"How does spring boot application handle multiple concurrent request?","body":"<p>There are several <a href=\"https://www.baeldung.com/spring-bean-scopes\" rel=\"nofollow noreferrer\">scopes for beans</a>. IIRC the singelton scope is the default one. So if you do not change this alle requests share the class variable used in your bean.</p>\n<p>If you want to change this you can use the request or session scope.</p>\n<p>Another approach would be to put the state out of your application (key-value-store, etc.)</p>\n"}],"owner":{"account_id":21476427,"reputation":179,"user_id":15824604,"display_name":"Java Programmer"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1633435866,"answer_count":1,"score":0,"last_activity_date":1633435379,"creation_date":1633435027,"question_id":69450016,"body_markdown":"I was writing one bean in my spring boot application which had one class variable. That raised a doubt in my mind about how does spring boot handle multiple concurrent request. Let&#39;s say we have multiple users using our application but when the application is deployed on server, only one instance is created of a class. So how does that class handle multiple requests ? Let&#39;s say millions of concurrent request from user? \r\n\r\nConsider the example below: \r\n```\r\npublic class SampleBean  {\r\n  private Integer dummyVariable = null;\r\n  public void dummyFunction() {\r\n    //some computation on dummyVarible\r\n    dummyVariable += 10;\r\n    //dummy code\r\n    dummyVariable = null;\r\n  } \r\n} \r\n```\r\n\r\nSo when a ```user1``` enters in ```dummyFunction``` for first time and the value is null. But then some computation is done on it and it value changes but before returning from the function ```user2``` also enters in ```dummyFunction``` then the value of ```dummyVariable``` will be null or it will be altered by ```user1```? \r\n\r\nAlso, can someone share some article to understand this whole concept of concurrent requests handling on sprint boot? ","title":"How does spring boot application handle multiple concurrent request?","body":"<p>I was writing one bean in my spring boot application which had one class variable. That raised a doubt in my mind about how does spring boot handle multiple concurrent request. Let's say we have multiple users using our application but when the application is deployed on server, only one instance is created of a class. So how does that class handle multiple requests ? Let's say millions of concurrent request from user?</p>\n<p>Consider the example below:</p>\n<pre><code>public class SampleBean  {\n  private Integer dummyVariable = null;\n  public void dummyFunction() {\n    //some computation on dummyVarible\n    dummyVariable += 10;\n    //dummy code\n    dummyVariable = null;\n  } \n} \n</code></pre>\n<p>So when a <code>user1</code> enters in <code>dummyFunction</code> for first time and the value is null. But then some computation is done on it and it value changes but before returning from the function <code>user2</code> also enters in <code>dummyFunction</code> then the value of <code>dummyVariable</code> will be null or it will be altered by <code>user1</code>?</p>\n<p>Also, can someone share some article to understand this whole concept of concurrent requests handling on sprint boot?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633431796,"post_id":69448621,"comment_id":122752492,"body_markdown":"Is that code running on an Android device? If yes, then you should realize that those paths are not on an Android device.","body":"Is that code running on an Android device? If yes, then you should realize that those paths are not on an Android device."},{"owner":{"account_id":12555340,"reputation":49,"user_id":9135273,"display_name":"Hilfit19"},"score":0,"creation_date":1633433685,"post_id":69448621,"comment_id":122753306,"body_markdown":"Oh I see, i forgot about that. But shouldn&#39;t  getResourceAsStream can read the path ?","body":"Oh I see, i forgot about that. But shouldn&#39;t  getResourceAsStream can read the path ?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633434011,"post_id":69448621,"comment_id":122753443,"body_markdown":"Should it do that when you are with your device in town?","body":"Should it do that when you are with your device in town?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1633435045,"post_id":69448621,"comment_id":122753873,"body_markdown":"`val caInput: InputStream = getClass().getResourceAsStream(&quot;/server.pem&quot;)` should do it","body":"<code>val caInput: InputStream = getClass().getResourceAsStream(&quot;&#47;server.pem&quot;)</code> should do it"}],"answers":[{"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633435204,"creation_date":1633435204,"answer_id":69450062,"question_id":69448621,"body_markdown":"Put the file in `src/main/res/raw/`\r\n\r\n    val inputSteam = resources.openRawResource(R.raw.server);\r\n\r\n\r\n(`resources` is available on the `Context` object i.e. in your Activity (`getResources()` for java))\r\n\r\nhttps://developer.android.com/reference/android/content/res/Resources#openRawResource(int)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wsex9.png","title":"Android Load text from file as InputStream","body":"<p>Put the file in <code>src/main/res/raw/</code></p>\n<pre><code>val inputSteam = resources.openRawResource(R.raw.server);\n</code></pre>\n<p>(<code>resources</code> is available on the <code>Context</code> object i.e. in your Activity (<code>getResources()</code> for java))</p>\n<p><a href=\"https://developer.android.com/reference/android/content/res/Resources#openRawResource(int)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/content/res/Resources#openRawResource(int)</a></p>\n<p><a href=\"https://i.stack.imgur.com/Wsex9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wsex9.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12555340,"reputation":49,"user_id":9135273,"display_name":"Hilfit19"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633435204,"creation_date":1633428770,"question_id":69448621,"body_markdown":"I&#39;m trying to load a `.pem` file which is a `self signed server certificate` in `android kotlin`. The file that performs this function is `CertUtils.kt` which is located in `/src/main/java/org/matrix/android/sdk/internal/network/ssl/CertUtils.kt`\r\nHowever, in its implementation the file load process always fails because neither `file not found` nor `java.lang.RuntimeException: java.security.cert.CertificateException: com.android.org.conscrypt.OpenSSLX509CertificateFactory$ParsingException: inStream == null`\r\nI have tried several ways but still failed. Here are some of the methods I have used:\r\n\r\n\r\n    val caInput: InputStream = FileInputStream(&quot;server.pem&quot;)\r\n    val caInput: InputStream =CertUtil.javaClass.getResourceAsStream(&quot;server.pem&quot;)\r\n    val caInput: InputStream = ClassLoader.getSystemResourceAsStream(&quot;/server.pem&quot;)\r\n    val caInput: InputStream= this.javaClass.classLoader.getResourceAsStream(&quot;server.pem&quot;)\r\n    val caInput: InputStream = FileInputStream(&quot;server.pem&quot;)\r\n\r\nI&#39;ve also tried saving the `server.pem` file in several places\r\n\r\n    /home/user/server.pem\r\n    /src/main/res/server.pem\r\n    /src/main/resources/server.pem\r\n    /src/main/java/org/matrix/android/sdk/internal/network/ssl/server.pem\r\n\r\n but it&#39;s still wrong. Anybody can help ? ","title":"Android Load text from file as InputStream","body":"<p>I'm trying to load a <code>.pem</code> file which is a <code>self signed server certificate</code> in <code>android kotlin</code>. The file that performs this function is <code>CertUtils.kt</code> which is located in <code>/src/main/java/org/matrix/android/sdk/internal/network/ssl/CertUtils.kt</code>\nHowever, in its implementation the file load process always fails because neither <code>file not found</code> nor <code>java.lang.RuntimeException: java.security.cert.CertificateException: com.android.org.conscrypt.OpenSSLX509CertificateFactory$ParsingException: inStream == null</code>\nI have tried several ways but still failed. Here are some of the methods I have used:</p>\n<pre><code>val caInput: InputStream = FileInputStream(&quot;server.pem&quot;)\nval caInput: InputStream =CertUtil.javaClass.getResourceAsStream(&quot;server.pem&quot;)\nval caInput: InputStream = ClassLoader.getSystemResourceAsStream(&quot;/server.pem&quot;)\nval caInput: InputStream= this.javaClass.classLoader.getResourceAsStream(&quot;server.pem&quot;)\nval caInput: InputStream = FileInputStream(&quot;server.pem&quot;)\n</code></pre>\n<p>I've also tried saving the <code>server.pem</code> file in several places</p>\n<pre><code>/home/user/server.pem\n/src/main/res/server.pem\n/src/main/resources/server.pem\n/src/main/java/org/matrix/android/sdk/internal/network/ssl/server.pem\n</code></pre>\n<p>but it's still wrong. Anybody can help ?</p>\n"},{"tags":["java","time-complexity"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1580974615,"post_id":60089508,"comment_id":106275938,"body_markdown":"And what&#39;s wrong with your code?","body":"And what&#39;s wrong with your code?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1580974801,"post_id":60089508,"comment_id":106276015,"body_markdown":"I agree with Eran. Your code is _O(n)_, so other than the compilation error on the last return statement, your code seems fine. Why aren&#39;t you satisfied with your own code?","body":"I agree with Eran. Your code is <i>O(n)</i>, so other than the compilation error on the last return statement, your code seems fine. Why aren&#39;t you satisfied with your own code?"},{"owner":{"account_id":10510577,"reputation":57,"user_id":7746417,"display_name":"haritha pagadam"},"score":0,"creation_date":1580977479,"post_id":60089508,"comment_id":106277125,"body_markdown":"@Andreas i have written first  forloop for storing the characters and count.These HashMaps aren&#39;t sorted so we can&#39;t get the firstNonRepeatingCharacter and there is no ordering in HashMaps but luckily HashMap put and get time complexity is O(1).  so the second forloop is to return the FirstNonRepeating character. But for this Complexity is like O(2n) anyway we can drop the constants. I just to know is there any optimal solution can anyone found for this.","body":"@Andreas i have written first  forloop for storing the characters and count.These HashMaps aren&#39;t sorted so we can&#39;t get the firstNonRepeatingCharacter and there is no ordering in HashMaps but luckily HashMap put and get time complexity is O(1).  so the second forloop is to return the FirstNonRepeating character. But for this Complexity is like O(2n) anyway we can drop the constants. I just to know is there any optimal solution can anyone found for this."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1580977768,"post_id":60089508,"comment_id":106277262,"body_markdown":"@harithapagadam *&quot;there is no ordering in HashMaps&quot;* Correct, but there is in `LinkedHashMap`, see [my answer](https://stackoverflow.com/a/60089611/5221149).","body":"@harithapagadam <i>&quot;there is no ordering in HashMaps&quot;</i> Correct, but there is in <code>LinkedHashMap</code>, see <a href=\"https://stackoverflow.com/a/60089611/5221149\">my answer</a>."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1580978029,"post_id":60089508,"comment_id":106277394,"body_markdown":"@harithapagadam *&quot;is there any optimal solution?&quot;* Your code is very close, but can be improved slightly. See [my answer](https://stackoverflow.com/a/60089611/5221149) for how to reduce the number of iterations needed by the second loop. Other than that, it&#39;s minute improvements that JIT might take care of anyway, like not boxing `char` into `Character` multiple times.","body":"@harithapagadam <i>&quot;is there any optimal solution?&quot;</i> Your code is very close, but can be improved slightly. See <a href=\"https://stackoverflow.com/a/60089611/5221149\">my answer</a> for how to reduce the number of iterations needed by the second loop. Other than that, it&#39;s minute improvements that JIT might take care of anyway, like not boxing <code>char</code> into <code>Character</code> multiple times."},{"owner":{"account_id":10510577,"reputation":57,"user_id":7746417,"display_name":"haritha pagadam"},"score":0,"creation_date":1580978312,"post_id":60089508,"comment_id":106277538,"body_markdown":"@Andreas i have tried one more solution like using string inbuilt functions using indexOf() and lastIndexOf().","body":"@Andreas i have tried one more solution like using string inbuilt functions using indexOf() and lastIndexOf()."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1580978388,"post_id":60089508,"comment_id":106277581,"body_markdown":"@harithapagadam That would definitely not be _O(n)_. Use what you already have in the question, or use the improvement I suggested.","body":"@harithapagadam That would definitely not be <i>O(n)</i>. Use what you already have in the question, or use the improvement I suggested."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580975451,"creation_date":1580973699,"answer_id":60089611,"question_id":60089508,"body_markdown":"Build a frequency-map using a `LinkedHashMap&lt;Character, Integer&gt;`, then iterate the map until you find the first one with a frequency count of 1. You must use a `LinkedHashMap` so that if there is more than one non-repeating character, they will be in the map in the same order as in the input string. Building the map is _O(n)_ (amortized), and finding the non-repeating character is _O(n)_, so the overall complexity is _O(n)_.\r\n\r\nBetter yet, use Streams to build a `LinkedHashMap&lt;Integer, Long&gt;`, where the key is a Unicode Code Point. That way your solution can handle characters from the supplemental planes, such as Emojis. &#128578;\r\n\r\n```\r\nimport static java.util.function.Function.identity;\r\nimport static java.util.stream.Collectors.counting;\r\nimport static java.util.stream.Collectors.groupingBy;\r\nimport java.util.LinkedHashMap;\r\n```\r\n\r\n\tstatic String firstNonRepeatingCharacter(String text) {\r\n\t\treturn text.codePoints().boxed()\r\n\t\t\t.collect(groupingBy(identity(), LinkedHashMap::new, counting()))\r\n\t\t\t.entrySet().stream()\r\n\t\t\t.filter(e -&gt; e.getValue() == 1)\r\n\t\t\t.findFirst()\r\n\t\t\t.map(e -&gt; Character.toString(e.getKey()))\r\n\t\t\t.orElse(&quot;&quot;);\r\n\t}\r\n\r\nThe code above requires Java 11+. For Java 8+, use:\r\n\r\n\t\t\t.map(e -&gt; new String(new int[] { e.getKey() }, 0, 1))\r\n\r\n*Test*\r\n\r\n\tSystem.out.println(firstNonRepeatingCharacter(&quot;aabefddbccffaa&quot;));\r\n\tSystem.out.println(firstNonRepeatingCharacter(&quot;aabefddbccffaae&quot;));\r\n\tSystem.out.println(firstNonRepeatingCharacter(&quot;aabefddbccffaae&#128578;&quot;));\r\n\r\n*Output*\r\n\r\n```lang-none\r\ne\r\n\r\n&#128578;\r\n```","title":"FirstNonRepeatingCharacter in a given string In java using time Complexity O(n)","body":"<p>Build a frequency-map using a <code>LinkedHashMap&lt;Character, Integer&gt;</code>, then iterate the map until you find the first one with a frequency count of 1. You must use a <code>LinkedHashMap</code> so that if there is more than one non-repeating character, they will be in the map in the same order as in the input string. Building the map is <em>O(n)</em> (amortized), and finding the non-repeating character is <em>O(n)</em>, so the overall complexity is <em>O(n)</em>.</p>\n\n<p>Better yet, use Streams to build a <code>LinkedHashMap&lt;Integer, Long&gt;</code>, where the key is a Unicode Code Point. That way your solution can handle characters from the supplemental planes, such as Emojis. 🙂</p>\n\n<pre><code>import static java.util.function.Function.identity;\nimport static java.util.stream.Collectors.counting;\nimport static java.util.stream.Collectors.groupingBy;\nimport java.util.LinkedHashMap;\n</code></pre>\n\n<pre><code>static String firstNonRepeatingCharacter(String text) {\n    return text.codePoints().boxed()\n        .collect(groupingBy(identity(), LinkedHashMap::new, counting()))\n        .entrySet().stream()\n        .filter(e -&gt; e.getValue() == 1)\n        .findFirst()\n        .map(e -&gt; Character.toString(e.getKey()))\n        .orElse(\"\");\n}\n</code></pre>\n\n<p>The code above requires Java 11+. For Java 8+, use:</p>\n\n<pre><code>        .map(e -&gt; new String(new int[] { e.getKey() }, 0, 1))\n</code></pre>\n\n<p><em>Test</em></p>\n\n<pre><code>System.out.println(firstNonRepeatingCharacter(\"aabefddbccffaa\"));\nSystem.out.println(firstNonRepeatingCharacter(\"aabefddbccffaae\"));\nSystem.out.println(firstNonRepeatingCharacter(\"aabefddbccffaae🙂\"));\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>e\n\n🙂\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1580978336,"creation_date":1580978336,"answer_id":60090736,"question_id":60089508,"body_markdown":"It seems you are concerned about the second loop, even though it doesn&#39;t affect the `O(n)` asymptotic time complexity.\r\n\r\nYou can still get rid of it.\r\n\r\nFor example, instead of finding the frequency of each character, you can maintain two `Set`s - the first - `all` - contains all the distinct characters. The second - `uniques` - contains only the non repeating characters.\r\n\r\nYou can build these two `Set`s in a single loop. After that loop, you return the first `Character` in the `uniques` `Set`. I used `LinkedHashSet` for `uniques`, so that you&#39;ll get the first non repeating character (which is the first character added to that `Set` that wasn&#39;t later removed).\r\n\r\n    Set&lt;Character&gt; all = new HashSet&lt;&gt;(); \r\n    Set&lt;Character&gt; uniques = new LinkedHashSet&lt;&gt;();\r\n    for(int i=0; i&lt;string.length(); i++) { \r\n        char c = string.charAt(i); \r\n        if (all.add(c)) { // returns true if this is the first time c appears in the String\r\n            uniques.add(c); \r\n        } else { // c already appeared in the String\r\n            uniques.remove(c);\r\n        } \r\n    } \r\n    return uniques.isEmpty () ? &#39; &#39; : uniques.iterator().next();\r\n","title":"FirstNonRepeatingCharacter in a given string In java using time Complexity O(n)","body":"<p>It seems you are concerned about the second loop, even though it doesn't affect the <code>O(n)</code> asymptotic time complexity.</p>\n\n<p>You can still get rid of it.</p>\n\n<p>For example, instead of finding the frequency of each character, you can maintain two <code>Set</code>s - the first - <code>all</code> - contains all the distinct characters. The second - <code>uniques</code> - contains only the non repeating characters.</p>\n\n<p>You can build these two <code>Set</code>s in a single loop. After that loop, you return the first <code>Character</code> in the <code>uniques</code> <code>Set</code>. I used <code>LinkedHashSet</code> for <code>uniques</code>, so that you'll get the first non repeating character (which is the first character added to that <code>Set</code> that wasn't later removed).</p>\n\n<pre><code>Set&lt;Character&gt; all = new HashSet&lt;&gt;(); \nSet&lt;Character&gt; uniques = new LinkedHashSet&lt;&gt;();\nfor(int i=0; i&lt;string.length(); i++) { \n    char c = string.charAt(i); \n    if (all.add(c)) { // returns true if this is the first time c appears in the String\n        uniques.add(c); \n    } else { // c already appeared in the String\n        uniques.remove(c);\n    } \n} \nreturn uniques.isEmpty () ? ' ' : uniques.iterator().next();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22179575,"reputation":1,"user_id":16423496,"display_name":"Aman Thakor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633434985,"creation_date":1633434985,"answer_id":69450002,"question_id":60089508,"body_markdown":"Code:\r\n\r\n```\r\npublic class FirstNonRepeatingCharacter {\r\n\r\n\tpublic static void main(String... args) {\r\n\t\tString str = &quot;information&quot;;\r\n\t\tSystem.out.println(getFirstNonRepeatingCharacter(str));\r\n\t}\r\n\r\n\tprivate static char getFirstNonRepeatingCharacter(String str) {\r\n\t\tfor (char c : str.toCharArray()) {\r\n\t\t\tif (str.indexOf(c) == str.lastIndexOf(c)) {\r\n\t\t\t\treturn c;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n`f`","title":"FirstNonRepeatingCharacter in a given string In java using time Complexity O(n)","body":"<p>Code:</p>\n<pre><code>public class FirstNonRepeatingCharacter {\n\n    public static void main(String... args) {\n        String str = &quot;information&quot;;\n        System.out.println(getFirstNonRepeatingCharacter(str));\n    }\n\n    private static char getFirstNonRepeatingCharacter(String str) {\n        for (char c : str.toCharArray()) {\n            if (str.indexOf(c) == str.lastIndexOf(c)) {\n                return c;\n            }\n        }\n        return 0;\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<p><code>f</code></p>\n"}],"owner":{"account_id":10510577,"reputation":57,"user_id":7746417,"display_name":"haritha pagadam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":60090736,"answer_count":3,"score":0,"last_activity_date":1633434985,"creation_date":1580973213,"question_id":60089508,"body_markdown":"if i have given a string like &quot;aabefddbccffaa&quot; the program should return a character which is firstNonRepeatingCharacter in the string, example output is &quot;e&quot;. Time complexity should be O(n) only. I have tried with HashMaps and using character array. \r\n\r\n    HashMap&lt;Character, Integer&gt; char_counts = new HashMap(); \r\n    for(int i=0; i&lt;string.length(); i++) { \r\n        char c = string.charAt(i); \r\n        if(char_counts.containsKey(c)) { \r\n            char_counts.put(c, char_counts.get(c)+1); \r\n        } else { \r\n            char_counts.put(c, 1); \r\n        } \r\n    } \r\n    for (int i=0; i&lt;string.length();i++) { \r\n        char c = string.charAt(i); \r\n        if (char_counts.get(c) == 1) {\r\n             return c; \r\n        }\r\n    } \r\n    return &#39;&#39;; \r\n\r\n[Note] If there is no FirstNonRepeatingCharacter not found just return &#39;&#39;; \r\n","title":"FirstNonRepeatingCharacter in a given string In java using time Complexity O(n)","body":"<p>if i have given a string like \"aabefddbccffaa\" the program should return a character which is firstNonRepeatingCharacter in the string, example output is \"e\". Time complexity should be O(n) only. I have tried with HashMaps and using character array. </p>\n\n<pre><code>HashMap&lt;Character, Integer&gt; char_counts = new HashMap(); \nfor(int i=0; i&lt;string.length(); i++) { \n    char c = string.charAt(i); \n    if(char_counts.containsKey(c)) { \n        char_counts.put(c, char_counts.get(c)+1); \n    } else { \n        char_counts.put(c, 1); \n    } \n} \nfor (int i=0; i&lt;string.length();i++) { \n    char c = string.charAt(i); \n    if (char_counts.get(c) == 1) {\n         return c; \n    }\n} \nreturn ''; \n</code></pre>\n\n<p>[Note] If there is no FirstNonRepeatingCharacter not found just return ''; </p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":322123,"reputation":1521,"user_id":641367,"accept_rate":100,"display_name":"Wintermute"},"score":0,"creation_date":1398097459,"post_id":23201096,"comment_id":35488615,"body_markdown":"Hi, beside educational purposes or very specific domains (like bio-engineering) there is no best way to sort standard data types without the build-in sort() method. If it is for educational purposes check out the books from Knuth http://en.wikipedia.org/wiki/The_Art_of_Computer_Programming. If you have a specific domain, you should explain in more detail.","body":"Hi, beside educational purposes or very specific domains (like bio-engineering) there is no best way to sort standard data types without the build-in sort() method. If it is for educational purposes check out the books from Knuth <a href=\"http://en.wikipedia.org/wiki/The_Art_of_Computer_Programming\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/The_Art_of_Computer_Programming</a>. If you have a specific domain, you should explain in more detail."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1398097483,"post_id":23201096,"comment_id":35488632,"body_markdown":"To keep them in sync, just perform the exact same operations on the second array that you perform on the first array. It would be better to create a `Student` class that combined the names and marks into a single object, and sort them together, but it looks like this is for a `class project`.","body":"To keep them in sync, just perform the exact same operations on the second array that you perform on the first array. It would be better to create a <code>Student</code> class that combined the names and marks into a single object, and sort them together, but it looks like this is for a <code>class project</code>."}],"answers":[{"tags":[],"owner":{"account_id":4320007,"reputation":3489,"user_id":3528562,"display_name":"Zoyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398097608,"creation_date":1398097608,"answer_id":23201384,"question_id":23201096,"body_markdown":"First, I would advise against doing this at all. I would make a class holding a name and a mark, store this in the array, and sort the resulting array.\r\n\r\nThen, if you really want to do that, in bubble sort for example, when the normal code says to exchange elements i and j in the array you are sorting, simply also exchange elements i and j in the other array. This will do the job.","title":"Alphabetically sorting array in sync with another array","body":"<p>First, I would advise against doing this at all. I would make a class holding a name and a mark, store this in the array, and sort the resulting array.</p>\n\n<p>Then, if you really want to do that, in bubble sort for example, when the normal code says to exchange elements i and j in the array you are sorting, simply also exchange elements i and j in the other array. This will do the job.</p>\n"},{"tags":[],"owner":{"account_id":8825285,"reputation":1,"user_id":6593728,"display_name":"Ishraan Saha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633434912,"creation_date":1633434912,"answer_id":69449986,"question_id":23201096,"body_markdown":"The code is in c++ but you can translate it to java and change it in accordance to your need. I faced similar problem while i was trying to write code for Priority based CPU scheduling&#39;s non pre emptive  version. Trying to synchronize the sorting of two   \r\n\r\n```\r\n#include &lt;bits/stdc++.h&gt;\r\nusing namespace std;\r\n  \r\n// Function to sort character array b[]\r\n// according to the order defined by a[]\r\nvoid pairsort(int a[], char b[], int n)\r\n{\r\n    pair&lt;int, char&gt; pairt[n];\r\n  \r\n    // Storing the respective array\r\n    // elements in pairs.\r\n    for (int i = 0; i &lt; n; i++) \r\n    {\r\n        pairt[i].first = a[i];\r\n        pairt[i].second = b[i];\r\n    }\r\n  \r\n    // Sorting the pair array.\r\n    sort(pairt, pairt + n);\r\n      \r\n    // Modifying original arrays\r\n    for (int i = 0; i &lt; n; i++) \r\n    {\r\n        a[i] = pairt[i].first;\r\n        b[i] = pairt[i].second;\r\n    }\r\n}\r\n  \r\n// Driver function\r\nint main()\r\n{\r\n    int a[] = {2, 1, 5, 4, 9, 3, 6, 7, 10, 8};\r\n    char b[] = {&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, \r\n                         &#39;G&#39;, &#39;H&#39;, &#39;I&#39;, &#39;J&#39;};\r\n                           \r\n    int n = sizeof(a) / sizeof(a[0]);\r\n      \r\n    // Function calling\r\n    pairsort(a, b, n);\r\n  \r\n    for (int i = 0; i &lt; n; i++)\r\n        cout &lt;&lt; a[i] &lt;&lt; &quot; &quot;;\r\n    cout &lt;&lt; endl;\r\n  \r\n    for (int i = 0; i &lt; n; i++)\r\n        cout &lt;&lt; b[i] &lt;&lt; &quot; &quot;;\r\n          \r\n    return 0;\r\n}\r\n```","title":"Alphabetically sorting array in sync with another array","body":"<p>The code is in c++ but you can translate it to java and change it in accordance to your need. I faced similar problem while i was trying to write code for Priority based CPU scheduling's non pre emptive  version. Trying to synchronize the sorting of two</p>\n<pre><code>#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n  \n// Function to sort character array b[]\n// according to the order defined by a[]\nvoid pairsort(int a[], char b[], int n)\n{\n    pair&lt;int, char&gt; pairt[n];\n  \n    // Storing the respective array\n    // elements in pairs.\n    for (int i = 0; i &lt; n; i++) \n    {\n        pairt[i].first = a[i];\n        pairt[i].second = b[i];\n    }\n  \n    // Sorting the pair array.\n    sort(pairt, pairt + n);\n      \n    // Modifying original arrays\n    for (int i = 0; i &lt; n; i++) \n    {\n        a[i] = pairt[i].first;\n        b[i] = pairt[i].second;\n    }\n}\n  \n// Driver function\nint main()\n{\n    int a[] = {2, 1, 5, 4, 9, 3, 6, 7, 10, 8};\n    char b[] = {'A', 'B', 'C', 'D', 'E', 'F', \n                         'G', 'H', 'I', 'J'};\n                           \n    int n = sizeof(a) / sizeof(a[0]);\n      \n    // Function calling\n    pairsort(a, b, n);\n  \n    for (int i = 0; i &lt; n; i++)\n        cout &lt;&lt; a[i] &lt;&lt; &quot; &quot;;\n    cout &lt;&lt; endl;\n  \n    for (int i = 0; i &lt; n; i++)\n        cout &lt;&lt; b[i] &lt;&lt; &quot; &quot;;\n          \n    return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":2366601,"reputation":362,"user_id":2799902,"accept_rate":75,"display_name":"Vedant Chandra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1633434912,"creation_date":1398096547,"question_id":23201096,"body_markdown":"I&#39;m working on a simple program that, for now, writes inputted names and marks to two separate arrays, with the array counters synchronised. For example, the name in entry #3 on the first array corresponds to the marks in entry #3 on the second array. My code up to now is like this:\r\n\r\n    import java.io.*;\r\n    \r\n    public class project\r\n    {\r\n        int ctr;\r\n        int ctr1;\r\n        int pos;\r\n        int temp;\r\n        int max;\r\n        \r\n        public static void main(String args[]) throws IOException\r\n        {\r\n            new project().input();\r\n        }\r\n        \r\n        void input() throws IOException\r\n        {\r\n            BufferedReader obj = new BufferedReader(new InputStreamReader(System.in));\r\n            System.out.println (&quot;How many children?&quot;);\r\n            int n = Integer.parseInt(obj.readLine());\r\n            String a[] = new String[n];\r\n            int b[] = new int[n];\r\n            for(ctr=0;ctr&lt;n;ctr++)\r\n            {\r\n                System.out.println(&quot;Enter name&quot;);\r\n                a[ctr]=obj.readLine();\r\n                System.out.println(&quot;Enter marks&quot;);\r\n                b[ctr]=Integer.parseInt(obj.readLine());\r\n            }\r\n        }\r\n    }\r\n\r\nI now want to alphabetically sort the list of names, so that when the array is printed in order, the names are alphabetically arranged from A to Z.\r\n\r\n**What&#39;s the best way to sort the string array alphabetically *without* using any functions like `compareTo()` or `sort()`, but rather with bubble or exchange sorting using nested loops?**\r\n\r\n**How can I synchronise the sorting, so that as names get shuffled in the first array, the corresponding marks get shuffled identically, keeping the data correct?**","title":"Alphabetically sorting array in sync with another array","body":"<p>I'm working on a simple program that, for now, writes inputted names and marks to two separate arrays, with the array counters synchronised. For example, the name in entry #3 on the first array corresponds to the marks in entry #3 on the second array. My code up to now is like this:</p>\n\n<pre><code>import java.io.*;\n\npublic class project\n{\n    int ctr;\n    int ctr1;\n    int pos;\n    int temp;\n    int max;\n\n    public static void main(String args[]) throws IOException\n    {\n        new project().input();\n    }\n\n    void input() throws IOException\n    {\n        BufferedReader obj = new BufferedReader(new InputStreamReader(System.in));\n        System.out.println (\"How many children?\");\n        int n = Integer.parseInt(obj.readLine());\n        String a[] = new String[n];\n        int b[] = new int[n];\n        for(ctr=0;ctr&lt;n;ctr++)\n        {\n            System.out.println(\"Enter name\");\n            a[ctr]=obj.readLine();\n            System.out.println(\"Enter marks\");\n            b[ctr]=Integer.parseInt(obj.readLine());\n        }\n    }\n}\n</code></pre>\n\n<p>I now want to alphabetically sort the list of names, so that when the array is printed in order, the names are alphabetically arranged from A to Z.</p>\n\n<p><strong>What's the best way to sort the string array alphabetically <em>without</em> using any functions like <code>compareTo()</code> or <code>sort()</code>, but rather with bubble or exchange sorting using nested loops?</strong></p>\n\n<p><strong>How can I synchronise the sorting, so that as names get shuffled in the first array, the corresponding marks get shuffled identically, keeping the data correct?</strong></p>\n"},{"tags":["java","spring-boot","jms","ibm-mq","tls1.2"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1633388377,"post_id":69443164,"comment_id":122741882,"body_markdown":"Are all of the certs in the key store signed by the same issue or different issuers?","body":"Are all of the certs in the key store signed by the same issue or different issuers?"},{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":0,"creation_date":1633396103,"post_id":69443164,"comment_id":122742940,"body_markdown":"Yes, same issuer. And the first case works. That&#39;s what puzzling me :)","body":"Yes, same issuer. And the first case works. That&#39;s what puzzling me :)"},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1633403488,"post_id":69443164,"comment_id":122744012,"body_markdown":"Are you using more than one keystore?","body":"Are you using more than one keystore?"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1633409850,"post_id":69443164,"comment_id":122744977,"body_markdown":"If all certs are in the same key store it is undetermined which will be used by java.   It picks based on certs that it knows are trusted by the remote server but if all are issued by the same CA then multiple are trusted.   I&#39;ve seen the first in the key store picked under these circumstances. You would likely need to use multiple key stores to be able to use other certs.  If it is a multi threaded process you would have issues since the java system property that points to the key store is global.   I suggest you use a single cert or split things up so each process has only one cert.","body":"If all certs are in the same key store it is undetermined which will be used by java.   It picks based on certs that it knows are trusted by the remote server but if all are issued by the same CA then multiple are trusted.   I&#39;ve seen the first in the key store picked under these circumstances. You would likely need to use multiple key stores to be able to use other certs.  If it is a multi threaded process you would have issues since the java system property that points to the key store is global.   I suggest you use a single cert or split things up so each process has only one cert."}],"answers":[{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633434803,"creation_date":1633434803,"answer_id":69449961,"question_id":69443164,"body_markdown":"It looks like the underlying KeyManager has trouble sending the correct client certificate to ibm mq server. This will occur when using multiple keystores which have the same key algorithm. In that case it will just grab the first client certificate.\r\n\r\nSo I would suggest to use the additional option for the SSLFactory to correctly route the client certificate to the right ibm mq server. So the following setup should do the trick:\r\n\r\n```java\r\npublic SSLSocketFactory getCombinedSSLSocketFactory() {\r\n    return SSLFactory.builder()\r\n            .withIdentityMaterial(&quot;app1.jks&quot;, APP1_JKS_PWD.toCharArray())\r\n            .withIdentityMaterial(&quot;app2.jks&quot;, APP2_JKS_PWD.toCharArray())\r\n            .withTrustMaterial(&quot;app1.jks&quot;, APP1_JKS_PWD.toCharArray())\r\n            .withTrustMaterial(&quot;app2.jks&quot;, APP2_JKS_PWD.toCharArray())\r\n            .withClientIdentityRoute(&quot;client-alias-one&quot;, &quot;https://[MQHOST-ONE.company.net]:1414/&quot;)\r\n            .withClientIdentityRoute(&quot;client-alias-two&quot;, &quot;https://[MQHOST-TWO.company.net]:8463/&quot;)\r\n            .build().getSslContext().getSocketFactory();\r\n}\r\n```\r\n\r\nI have never tried this with ibm mq, so I am not sure if this will work. So it is just an assumption. With traditional setup (basic client and server communication) while using multiple keystores it will work. So I am curious if this solution will work for you.\r\n\r\nFor the `withClientIdentityRoute` you need to pass the alias name of the certificate which is used within the keystore file as the first parameter. The second parameter should be the url of your ibm mq server.\r\n\r\nFeel free to read here more in detail: [Routing identity material to specific host][1]\r\n\r\nCan you give it a try and share your results here?\r\n\r\n\r\n  [1]: https://github.com/Hakky54/sslcontext-kickstart#routing-identity-material-to-specific-host","title":"Not able to connect to multiple IBM MQ channels with multiple SSL certs using Spring Boot","body":"<p>It looks like the underlying KeyManager has trouble sending the correct client certificate to ibm mq server. This will occur when using multiple keystores which have the same key algorithm. In that case it will just grab the first client certificate.</p>\n<p>So I would suggest to use the additional option for the SSLFactory to correctly route the client certificate to the right ibm mq server. So the following setup should do the trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SSLSocketFactory getCombinedSSLSocketFactory() {\n    return SSLFactory.builder()\n            .withIdentityMaterial(&quot;app1.jks&quot;, APP1_JKS_PWD.toCharArray())\n            .withIdentityMaterial(&quot;app2.jks&quot;, APP2_JKS_PWD.toCharArray())\n            .withTrustMaterial(&quot;app1.jks&quot;, APP1_JKS_PWD.toCharArray())\n            .withTrustMaterial(&quot;app2.jks&quot;, APP2_JKS_PWD.toCharArray())\n            .withClientIdentityRoute(&quot;client-alias-one&quot;, &quot;https://[MQHOST-ONE.company.net]:1414/&quot;)\n            .withClientIdentityRoute(&quot;client-alias-two&quot;, &quot;https://[MQHOST-TWO.company.net]:8463/&quot;)\n            .build().getSslContext().getSocketFactory();\n}\n</code></pre>\n<p>I have never tried this with ibm mq, so I am not sure if this will work. So it is just an assumption. With traditional setup (basic client and server communication) while using multiple keystores it will work. So I am curious if this solution will work for you.</p>\n<p>For the <code>withClientIdentityRoute</code> you need to pass the alias name of the certificate which is used within the keystore file as the first parameter. The second parameter should be the url of your ibm mq server.</p>\n<p>Feel free to read here more in detail: <a href=\"https://github.com/Hakky54/sslcontext-kickstart#routing-identity-material-to-specific-host\" rel=\"nofollow noreferrer\">Routing identity material to specific host</a></p>\n<p>Can you give it a try and share your results here?</p>\n"}],"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633434803,"creation_date":1633388015,"question_id":69443164,"body_markdown":"Not able to connect to multiple `IBM MQ` channels with multiple `SSL` certs and `Spring Boot`\r\n\r\n\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\r\n    \t&lt;version&gt;6.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mq-jms-spring-boot-starter&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.0.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n**Note:** Using sslcontext-kickstart api and more documentation can be found here\r\n\r\nhttps://github.com/Hakky54/sslcontext-kickstart\r\n\r\n\r\n\r\n**MulticertApplication.java**\r\n\r\n    public class MulticertApplication implements CommandLineRunner {\r\n    \r\n    \t@Autowired\r\n    \tprivate SSLContextService sslContextService;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MulticertApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws JMSException {\r\n    \t\t// Both WORKS !!\r\n    \t\ttestConnectionWithIndividualSSL(&quot;APP1&quot;);\r\n    \t\tlog.info(&quot;APP1 CONNECTION SUCCESS WITH INDIVIDUAL SSL !!&quot;);\r\n    \t\ttestConnectionWithIndividualSSL(&quot;APP2&quot;);\r\n    \t\tlog.info(&quot;APP2 CONNECTION SUCCESS WITH INDIVIDUAL SSL !!&quot;);\r\n    \r\n    \t\t// Does NOT WORK !!\r\n    \t\tSSLSocketFactory sslSocketFactory = sslContextService.getCombinedSSLSocketFactory();\r\n    \t\ttestConnectionWithCombinedSSL(sslSocketFactory, &quot;APP1&quot;);\r\n    \t\tlog.info(&quot;APP1 CONNECTION SUCCESS WITH COMBINED SSL !!&quot;);\r\n    \t\ttestConnectionWithCombinedSSL(sslSocketFactory, &quot;APP2&quot;);\r\n    \t\tlog.info(&quot;APP2 CONNECTION SUCCESS WITH COMBINED SSL !!&quot;);\r\n    \t}\r\n    \r\n    \tprivate void testConnectionWithIndividualSSL(String app) throws JMSException {\r\n    \t\tMQQueueConnectionFactory mqQueueConnectionFactory = new MQQueueConnectionFactory();\r\n    \t\tmqQueueConnectionFactory.setHostName(&quot;MQHOST.company.net&quot;);\r\n    \t\tmqQueueConnectionFactory.setPort(1414);\r\n    \t\tmqQueueConnectionFactory.setTransportType(1);\r\n    \t\tmqQueueConnectionFactory.setQueueManager(&quot;MQHOST&quot;);\r\n    \t\tif (app.equalsIgnoreCase(&quot;APP1&quot;)) {\r\n    \t\t\tmqQueueConnectionFactory.setChannel(&quot;APP1.SVRCONN.TLS&quot;);\r\n    \t\t} else {\r\n    \t\t\tmqQueueConnectionFactory.setChannel(&quot;APP2.SVRCONN.TLS&quot;);\r\n    \t\t}\r\n    \t\tmqQueueConnectionFactory.setSSLCipherSuite(&quot;TLS_RSA_WITH_AES_256_CBC_SHA256&quot;);\r\n    \t\tmqQueueConnectionFactory.setSSLFipsRequired(false);\r\n    \t\tmqQueueConnectionFactory.setSSLSocketFactory(sslContextService.getSSLSocketFactory(app));\r\n    \t\tMQQueueConnection mqQueueConnection = (MQQueueConnection) mqQueueConnectionFactory.createQueueConnection();\r\n    \t\tmqQueueConnection.start();\r\n    \t\tmqQueueConnection.stop();\r\n    \t\tmqQueueConnection.close();\r\n    \t}\r\n    \r\n    \tprivate void testConnectionWithCombinedSSL(SSLSocketFactory sslSocketFactory, String app) throws JMSException {\r\n    \t\tMQQueueConnectionFactory mqQueueConnectionFactory = new MQQueueConnectionFactory();\r\n    \t\tmqQueueConnectionFactory.setHostName(&quot;MQHOST.company.net&quot;);\r\n    \t\tmqQueueConnectionFactory.setPort(1414);\r\n    \t\tmqQueueConnectionFactory.setTransportType(1);\r\n    \t\tmqQueueConnectionFactory.setQueueManager(&quot;MQHOST&quot;);\r\n    \t\tif (app.equalsIgnoreCase(&quot;APP1&quot;)) {\r\n    \t\t\tmqQueueConnectionFactory.setChannel(&quot;APP1.SVRCONN.TLS&quot;);\r\n    \t\t} else {\r\n    \t\t\tmqQueueConnectionFactory.setChannel(&quot;APP2.SVRCONN.TLS&quot;);\r\n    \t\t}\r\n    \t\tmqQueueConnectionFactory.setSSLCipherSuite(&quot;TLS_RSA_WITH_AES_256_CBC_SHA256&quot;);\r\n    \t\tmqQueueConnectionFactory.setSSLFipsRequired(false);\r\n    \t\tmqQueueConnectionFactory.setSSLSocketFactory(sslSocketFactory);\r\n    \t\tMQQueueConnection mqQueueConnection = (MQQueueConnection) mqQueueConnectionFactory.createQueueConnection();\r\n    \t\tmqQueueConnection.start();\r\n    \t\tmqQueueConnection.stop();\r\n    \t\tmqQueueConnection.close();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**SSLContextService.java**\r\n\r\n    @Service \r\n    public class SSLContextService {\r\n    \r\n    \tprivate static final String APP1_JKS_PWD = &quot;abc&quot;;\r\n    \tprivate static final String APP2_JKS_PWD = &quot;def&quot;;\r\n    \r\n    \tpublic SSLSocketFactory getSSLSocketFactory(String app) {\r\n    \t\tlog.info(&quot;app: &quot; + app);\r\n    \t\tif (app.equalsIgnoreCase(&quot;APP1&quot;)) {\r\n    \t\t\treturn SSLFactory.builder()\r\n    \t\t\t\t\t.withIdentityMaterial(&quot;app1.jks&quot;, APP1_JKS_PWD.toCharArray())\r\n    \t\t\t\t\t.withTrustMaterial(&quot;app1.jks&quot;, APP1_JKS_PWD.toCharArray())\r\n    \t\t\t\t\t.build().getSslContext().getSocketFactory();\r\n    \t\t} else if (app.equalsIgnoreCase(&quot;APP2&quot;)) {\r\n    \t\t\treturn SSLFactory.builder()\r\n    \t\t\t\t\t.withIdentityMaterial(&quot;app2.jks&quot;, APP2_JKS_PWD.toCharArray())\r\n    \t\t\t\t\t.withTrustMaterial(&quot;app2.jks&quot;, APP2_JKS_PWD.toCharArray())\r\n    \t\t\t\t\t.build().getSslContext().getSocketFactory();\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \tpublic SSLSocketFactory getCombinedSSLSocketFactory() {\r\n    \t\treturn SSLFactory.builder()\r\n    \t\t\t\t.withIdentityMaterial(&quot;app1.jks&quot;, APP1_JKS_PWD.toCharArray())\r\n    \t\t\t\t.withIdentityMaterial(&quot;app2.jks&quot;, APP2_JKS_PWD.toCharArray())\r\n    \t\t\t\t.withTrustMaterial(&quot;app1.jks&quot;, APP1_JKS_PWD.toCharArray())\r\n    \t\t\t\t.withTrustMaterial(&quot;app2.jks&quot;, APP2_JKS_PWD.toCharArray())\r\n    \t\t\t\t.build().getSslContext().getSocketFactory();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n**Error Log:**\r\n\r\n    2021-09-30 17:55:51.892  INFO 62988 --- [  restartedMain] c.e.multicert.MulticertApplication      : Started MulticertApplication in 3.414 seconds (JVM running for 4.448)\r\n    2021-09-30 17:55:51.899  INFO 62988 --- [  restartedMain] c.e.multicert.service.SSLContextService  : app: APP1\r\n    2021-09-30 17:55:52.513  INFO 62988 --- [  restartedMain] c.e.multicert.MulticertApplication      : APP1 CONNECTION SUCCESS WITH INDIVIDUAL SSL !!\r\n    2021-09-30 17:55:52.514  INFO 62988 --- [  restartedMain] c.e.multicert.service.SSLContextService  : app: APP2\r\n    2021-09-30 17:55:52.555  INFO 62988 --- [  restartedMain] c.e.multicert.MulticertApplication      : APP2 CONNECTION SUCCESS WITH INDIVIDUAL SSL !!\r\n    2021-09-30 17:55:52.597  INFO 62988 --- [  restartedMain] c.e.multicert.MulticertApplication      : APP1 CONNECTION SUCCESS WITH COMBINED SSL !!\r\n    2021-09-30 17:55:52.641  INFO 62988 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2021-09-30 17:55:52.663 ERROR 62988 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:807) [spring-boot-2.4.2.jar:2.4.2]\r\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:788) [spring-boot-2.4.2.jar:2.4.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.4.2.jar:2.4.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) [spring-boot-2.4.2.jar:2.4.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) [spring-boot-2.4.2.jar:2.4.2]\r\n        at com.example.multicert.MulticertApplication.main(MulticertApplication.java:23) [classes/:na]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\r\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.4.2.jar:2.4.2]\r\n    Caused by: com.ibm.msg.client.jms.DetailedJMSSecurityException: JMSWMQ2013: The security authentication was not valid that was supplied for QueueManager &#39;MQHOST&#39; with connection mode &#39;Client&#39; and host name &#39;MQHOST.company.net(1414)&#39;.\r\n        at com.ibm.msg.client.wmq.common.internal.Reason.reasonToException(Reason.java:531) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\r\n        at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:215) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\r\n        at com.ibm.msg.client.wmq.internal.WMQConnection.&lt;init&gt;(WMQConnection.java:424) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\r\n        at com.ibm.msg.client.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8475) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\r\n        at com.ibm.msg.client.wmq.factories.WMQConnectionFactory.createProviderConnection(WMQConnectionFactory.java:7815) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\r\n        at com.ibm.msg.client.jms.admin.JmsConnectionFactoryImpl._createConnection(JmsConnectionFactoryImpl.java:303) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\r\n        at com.ibm.msg.client.jms.admin.JmsConnectionFactoryImpl.createConnection(JmsConnectionFactoryImpl.java:236) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\r\n        at com.ibm.mq.jms.MQConnectionFactory.createCommonConnection(MQConnectionFactory.java:6016) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\r\n        at com.ibm.mq.jms.MQQueueConnectionFactory.createQueueConnection(MQQueueConnectionFactory.java:111) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\r\n        at com.example.multicert.MulticertApplication.testConnectionWithCombinedSSL(MulticertApplication.java:76) [classes/:na]\r\n        at com.example.multicert.MulticertApplication.run(MulticertApplication.java:38) [classes/:na]\r\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:804) [spring-boot-2.4.2.jar:2.4.2]\r\n        ... 10 common frames omitted\r\n    Caused by: com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode &#39;2&#39; (&#39;MQCC_FAILED&#39;) reason &#39;2035&#39; (&#39;MQRC_NOT_AUTHORIZED&#39;).\r\n        at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:203) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\r\n        ... 20 common frames omitted\r\n\r\n","title":"Not able to connect to multiple IBM MQ channels with multiple SSL certs using Spring Boot","body":"<p>Not able to connect to multiple <code>IBM MQ</code> channels with multiple <code>SSL</code> certs and <code>Spring Boot</code></p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\n    &lt;version&gt;6.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n    &lt;artifactId&gt;mq-jms-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;2.0.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Note:</strong> Using sslcontext-kickstart api and more documentation can be found here</p>\n<p><a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">https://github.com/Hakky54/sslcontext-kickstart</a></p>\n<p><strong>MulticertApplication.java</strong></p>\n<pre><code>public class MulticertApplication implements CommandLineRunner {\n\n    @Autowired\n    private SSLContextService sslContextService;\n\n    public static void main(String[] args) {\n        SpringApplication.run(MulticertApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws JMSException {\n        // Both WORKS !!\n        testConnectionWithIndividualSSL(&quot;APP1&quot;);\n        log.info(&quot;APP1 CONNECTION SUCCESS WITH INDIVIDUAL SSL !!&quot;);\n        testConnectionWithIndividualSSL(&quot;APP2&quot;);\n        log.info(&quot;APP2 CONNECTION SUCCESS WITH INDIVIDUAL SSL !!&quot;);\n\n        // Does NOT WORK !!\n        SSLSocketFactory sslSocketFactory = sslContextService.getCombinedSSLSocketFactory();\n        testConnectionWithCombinedSSL(sslSocketFactory, &quot;APP1&quot;);\n        log.info(&quot;APP1 CONNECTION SUCCESS WITH COMBINED SSL !!&quot;);\n        testConnectionWithCombinedSSL(sslSocketFactory, &quot;APP2&quot;);\n        log.info(&quot;APP2 CONNECTION SUCCESS WITH COMBINED SSL !!&quot;);\n    }\n\n    private void testConnectionWithIndividualSSL(String app) throws JMSException {\n        MQQueueConnectionFactory mqQueueConnectionFactory = new MQQueueConnectionFactory();\n        mqQueueConnectionFactory.setHostName(&quot;MQHOST.company.net&quot;);\n        mqQueueConnectionFactory.setPort(1414);\n        mqQueueConnectionFactory.setTransportType(1);\n        mqQueueConnectionFactory.setQueueManager(&quot;MQHOST&quot;);\n        if (app.equalsIgnoreCase(&quot;APP1&quot;)) {\n            mqQueueConnectionFactory.setChannel(&quot;APP1.SVRCONN.TLS&quot;);\n        } else {\n            mqQueueConnectionFactory.setChannel(&quot;APP2.SVRCONN.TLS&quot;);\n        }\n        mqQueueConnectionFactory.setSSLCipherSuite(&quot;TLS_RSA_WITH_AES_256_CBC_SHA256&quot;);\n        mqQueueConnectionFactory.setSSLFipsRequired(false);\n        mqQueueConnectionFactory.setSSLSocketFactory(sslContextService.getSSLSocketFactory(app));\n        MQQueueConnection mqQueueConnection = (MQQueueConnection) mqQueueConnectionFactory.createQueueConnection();\n        mqQueueConnection.start();\n        mqQueueConnection.stop();\n        mqQueueConnection.close();\n    }\n\n    private void testConnectionWithCombinedSSL(SSLSocketFactory sslSocketFactory, String app) throws JMSException {\n        MQQueueConnectionFactory mqQueueConnectionFactory = new MQQueueConnectionFactory();\n        mqQueueConnectionFactory.setHostName(&quot;MQHOST.company.net&quot;);\n        mqQueueConnectionFactory.setPort(1414);\n        mqQueueConnectionFactory.setTransportType(1);\n        mqQueueConnectionFactory.setQueueManager(&quot;MQHOST&quot;);\n        if (app.equalsIgnoreCase(&quot;APP1&quot;)) {\n            mqQueueConnectionFactory.setChannel(&quot;APP1.SVRCONN.TLS&quot;);\n        } else {\n            mqQueueConnectionFactory.setChannel(&quot;APP2.SVRCONN.TLS&quot;);\n        }\n        mqQueueConnectionFactory.setSSLCipherSuite(&quot;TLS_RSA_WITH_AES_256_CBC_SHA256&quot;);\n        mqQueueConnectionFactory.setSSLFipsRequired(false);\n        mqQueueConnectionFactory.setSSLSocketFactory(sslSocketFactory);\n        MQQueueConnection mqQueueConnection = (MQQueueConnection) mqQueueConnectionFactory.createQueueConnection();\n        mqQueueConnection.start();\n        mqQueueConnection.stop();\n        mqQueueConnection.close();\n    }\n\n}\n</code></pre>\n<p><strong>SSLContextService.java</strong></p>\n<pre><code>@Service \npublic class SSLContextService {\n\n    private static final String APP1_JKS_PWD = &quot;abc&quot;;\n    private static final String APP2_JKS_PWD = &quot;def&quot;;\n\n    public SSLSocketFactory getSSLSocketFactory(String app) {\n        log.info(&quot;app: &quot; + app);\n        if (app.equalsIgnoreCase(&quot;APP1&quot;)) {\n            return SSLFactory.builder()\n                    .withIdentityMaterial(&quot;app1.jks&quot;, APP1_JKS_PWD.toCharArray())\n                    .withTrustMaterial(&quot;app1.jks&quot;, APP1_JKS_PWD.toCharArray())\n                    .build().getSslContext().getSocketFactory();\n        } else if (app.equalsIgnoreCase(&quot;APP2&quot;)) {\n            return SSLFactory.builder()\n                    .withIdentityMaterial(&quot;app2.jks&quot;, APP2_JKS_PWD.toCharArray())\n                    .withTrustMaterial(&quot;app2.jks&quot;, APP2_JKS_PWD.toCharArray())\n                    .build().getSslContext().getSocketFactory();\n        }\n        return null;\n    }\n    \n    public SSLSocketFactory getCombinedSSLSocketFactory() {\n        return SSLFactory.builder()\n                .withIdentityMaterial(&quot;app1.jks&quot;, APP1_JKS_PWD.toCharArray())\n                .withIdentityMaterial(&quot;app2.jks&quot;, APP2_JKS_PWD.toCharArray())\n                .withTrustMaterial(&quot;app1.jks&quot;, APP1_JKS_PWD.toCharArray())\n                .withTrustMaterial(&quot;app2.jks&quot;, APP2_JKS_PWD.toCharArray())\n                .build().getSslContext().getSocketFactory();\n    }\n\n}\n</code></pre>\n<p><strong>Error Log:</strong></p>\n<pre><code>2021-09-30 17:55:51.892  INFO 62988 --- [  restartedMain] c.e.multicert.MulticertApplication      : Started MulticertApplication in 3.414 seconds (JVM running for 4.448)\n2021-09-30 17:55:51.899  INFO 62988 --- [  restartedMain] c.e.multicert.service.SSLContextService  : app: APP1\n2021-09-30 17:55:52.513  INFO 62988 --- [  restartedMain] c.e.multicert.MulticertApplication      : APP1 CONNECTION SUCCESS WITH INDIVIDUAL SSL !!\n2021-09-30 17:55:52.514  INFO 62988 --- [  restartedMain] c.e.multicert.service.SSLContextService  : app: APP2\n2021-09-30 17:55:52.555  INFO 62988 --- [  restartedMain] c.e.multicert.MulticertApplication      : APP2 CONNECTION SUCCESS WITH INDIVIDUAL SSL !!\n2021-09-30 17:55:52.597  INFO 62988 --- [  restartedMain] c.e.multicert.MulticertApplication      : APP1 CONNECTION SUCCESS WITH COMBINED SSL !!\n2021-09-30 17:55:52.641  INFO 62988 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2021-09-30 17:55:52.663 ERROR 62988 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:807) [spring-boot-2.4.2.jar:2.4.2]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:788) [spring-boot-2.4.2.jar:2.4.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.4.2.jar:2.4.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) [spring-boot-2.4.2.jar:2.4.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) [spring-boot-2.4.2.jar:2.4.2]\n    at com.example.multicert.MulticertApplication.main(MulticertApplication.java:23) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.4.2.jar:2.4.2]\nCaused by: com.ibm.msg.client.jms.DetailedJMSSecurityException: JMSWMQ2013: The security authentication was not valid that was supplied for QueueManager 'MQHOST' with connection mode 'Client' and host name 'MQHOST.company.net(1414)'.\n    at com.ibm.msg.client.wmq.common.internal.Reason.reasonToException(Reason.java:531) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\n    at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:215) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\n    at com.ibm.msg.client.wmq.internal.WMQConnection.&lt;init&gt;(WMQConnection.java:424) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\n    at com.ibm.msg.client.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8475) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\n    at com.ibm.msg.client.wmq.factories.WMQConnectionFactory.createProviderConnection(WMQConnectionFactory.java:7815) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\n    at com.ibm.msg.client.jms.admin.JmsConnectionFactoryImpl._createConnection(JmsConnectionFactoryImpl.java:303) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\n    at com.ibm.msg.client.jms.admin.JmsConnectionFactoryImpl.createConnection(JmsConnectionFactoryImpl.java:236) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\n    at com.ibm.mq.jms.MQConnectionFactory.createCommonConnection(MQConnectionFactory.java:6016) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\n    at com.ibm.mq.jms.MQQueueConnectionFactory.createQueueConnection(MQQueueConnectionFactory.java:111) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\n    at com.example.multicert.MulticertApplication.testConnectionWithCombinedSSL(MulticertApplication.java:76) [classes/:na]\n    at com.example.multicert.MulticertApplication.run(MulticertApplication.java:38) [classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:804) [spring-boot-2.4.2.jar:2.4.2]\n    ... 10 common frames omitted\nCaused by: com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode '2' ('MQCC_FAILED') reason '2035' ('MQRC_NOT_AUTHORIZED').\n    at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:203) ~[com.ibm.mq.allclient-9.1.0.0.jar:9.1.0.0 - p910-L180705]\n    ... 20 common frames omitted\n</code></pre>\n"},{"tags":["java","android","responsive-design","android-viewpager"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":1,"creation_date":1633322091,"post_id":69430914,"comment_id":122719199,"body_markdown":"What did you tried so far. can show your code.","body":"What did you tried so far. can show your code."},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1633322664,"post_id":69430914,"comment_id":122719295,"body_markdown":"you can check this [MeowBottomNavigation Github](https://github.com/oneHamidreza/MeowBottomNavigation).","body":"you can check this <a href=\"https://github.com/oneHamidreza/MeowBottomNavigation\" rel=\"nofollow noreferrer\">MeowBottomNavigation Github</a>."},{"owner":{"account_id":22934112,"reputation":1,"user_id":17067837,"display_name":"Gustavo Locatelli Helena"},"score":0,"creation_date":1633325426,"post_id":69430914,"comment_id":122719711,"body_markdown":"I&#39;ve already done my custom buttomnavigation, my problem is implementing the viewPager 2","body":"I&#39;ve already done my custom buttomnavigation, my problem is implementing the viewPager 2"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1633329036,"post_id":69430914,"comment_id":122720521,"body_markdown":"You can check this [example of how to implement viewPager 2](https://www.geeksforgeeks.org/viewpager2-in-android-with-example/)","body":"You can check this <a href=\"https://www.geeksforgeeks.org/viewpager2-in-android-with-example/\" rel=\"nofollow noreferrer\">example of how to implement viewPager 2</a>"}],"answers":[{"tags":[],"owner":{"account_id":5039612,"reputation":471,"user_id":4047442,"display_name":"Saiful Sazib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633324843,"creation_date":1633324843,"answer_id":69431210,"question_id":69430914,"body_markdown":"here [github.com/sazibislam/set_schedule][1] you can check the code. I already implemented bottom navigation view and view pager with kotlin, mvvm and dagger2. here is the class for custom bottom navigation view. [custom bottom navigation view][2]\r\n\r\n\r\n  [1]: http://github.com/sazibislam/set_schedule\r\n  [2]: https://github.com/sazibislam/set_schedule/tree/master/app/src/main/java/com/set/sazib/utils/view","title":"I&#39;m having problems implementing viewPager with a custom BottomNavigation","body":"<p>here <a href=\"http://github.com/sazibislam/set_schedule\" rel=\"nofollow noreferrer\">github.com/sazibislam/set_schedule</a> you can check the code. I already implemented bottom navigation view and view pager with kotlin, mvvm and dagger2. here is the class for custom bottom navigation view. <a href=\"https://github.com/sazibislam/set_schedule/tree/master/app/src/main/java/com/set/sazib/utils/view\" rel=\"nofollow noreferrer\">custom bottom navigation view</a></p>\n"}],"owner":{"account_id":22934112,"reputation":1,"user_id":17067837,"display_name":"Gustavo Locatelli Helena"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633434803,"creation_date":1633321681,"question_id":69430914,"body_markdown":"Is there any way to implement a `ViewPager` in an already finished application which uses a custom `bottomnavigation`? I&#39;ve been trying to adapt through some classes I watched about `viewPager`, but it keeps going wrong.\r\n\r\nI&#39;m using  [&quot;MeowBottomNavigation&quot;][1] in the app and I&#39;m trying to implement a simple `viewPager`, if anyone has any links or knowledge of how to make this implementation, I would be grateful =D\r\n\r\n\r\n  [1]: https://github.com/oneHamidreza/MeowBottomNavigation","title":"I&#39;m having problems implementing viewPager with a custom BottomNavigation","body":"<p>Is there any way to implement a <code>ViewPager</code> in an already finished application which uses a custom <code>bottomnavigation</code>? I've been trying to adapt through some classes I watched about <code>viewPager</code>, but it keeps going wrong.</p>\n<p>I'm using  <a href=\"https://github.com/oneHamidreza/MeowBottomNavigation\" rel=\"nofollow noreferrer\">&quot;MeowBottomNavigation&quot;</a> in the app and I'm trying to implement a simple <code>viewPager</code>, if anyone has any links or knowledge of how to make this implementation, I would be grateful =D</p>\n"},{"tags":["java","multithreading","websphere","heap-dump","thread-dump"],"answers":[{"tags":[],"owner":{"display_name":"Pradeep Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251199947,"creation_date":1251199947,"answer_id":1327689,"question_id":1300497,"body_markdown":"**Heap dumps** anytime you wish to see what is being held in memory Out-of-memory errors\r\nHeap dumps - picture of in memory objects - used for memory analysis\r\nJava cores - also known as **thread dumps** or java dumps, used for viewing the thread activity inside the JVM at a given time. IBM javacores should a lot\r\nof additional information besides just the threads and stacks -- used to determine hangs, deadlocks, and reasons for performance degredation\r\nSystem cores\r\n","title":"Difference between javacore, thread dump and heap dump in Websphere","body":"<p><strong>Heap dumps</strong> anytime you wish to see what is being held in memory Out-of-memory errors\nHeap dumps - picture of in memory objects - used for memory analysis\nJava cores - also known as <strong>thread dumps</strong> or java dumps, used for viewing the thread activity inside the JVM at a given time. IBM javacores should a lot\nof additional information besides just the threads and stacks -- used to determine hangs, deadlocks, and reasons for performance degredation\nSystem cores</p>\n"},{"tags":[],"owner":{"account_id":17533,"reputation":5283,"user_id":39334,"accept_rate":81,"display_name":"stolsvik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1259243464,"creation_date":1259243464,"answer_id":1803781,"question_id":1300497,"body_markdown":"A Thread dump is a dump of all threads&#39;s stack traces, i.e. as if each Thread suddenly threw an Exception and printStackTrace&#39;ed that. This is so that you can see what each thread is doing at some specific point, and is for example very good to catch deadlocks.\r\n\r\nA heap dump is a &quot;binary dump&quot; of the full memory the JVM is using, and is for example useful if you need to know why you are running out of memory - in the heap dump you could for example see that you have one billion User objects, even though you should only have a thousand, which points to a memory retention problem.","title":"Difference between javacore, thread dump and heap dump in Websphere","body":"<p>A Thread dump is a dump of all threads's stack traces, i.e. as if each Thread suddenly threw an Exception and printStackTrace'ed that. This is so that you can see what each thread is doing at some specific point, and is for example very good to catch deadlocks.</p>\n\n<p>A heap dump is a \"binary dump\" of the full memory the JVM is using, and is for example useful if you need to know why you are running out of memory - in the heap dump you could for example see that you have one billion User objects, even though you should only have a thousand, which points to a memory retention problem.</p>\n"},{"tags":[],"owner":{"account_id":71494,"reputation":915,"user_id":206800,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1283251232,"creation_date":1283251232,"answer_id":3608204,"question_id":1300497,"body_markdown":"A thread dump is a dump of the stacks of all live threads. Thus useful for analysing what an app is up to at some point in time, and if done at intervals handy in diagnosing some kinds of  &#39;execution&#39; problems (e.g. thread deadlock).\r\n\r\nA heap dump is a dump of the state of the Java heap memory. Thus useful for analysing what use of memory an app is making at some point in time so handy in diagnosing some memory issues, and if done at intervals handy in diagnosing memory leaks.\r\n\r\nThis is what they are in &#39;raw&#39; terms, and could be provided in many ways. In general used to describe dumped files from JVMs and app servers, and in this form they are a low level tool. Useful if for some reason you can&#39;t get anything else, but you will find life easier using decent profiling tool to get similar but easier to dissect info.\r\n\r\nWith respect to WebSphere a javacore file is a thread dump, albeit with a lot of other info such as locks and loaded classes and some limited memory usage info, and a PHD file is a heap dump.\r\n\r\nIf you want to read a javacore file you can do so by hand, but there is an IBM tool (BM Thread and Monitor Dump Analyzer) which makes it simpler. If you want to read a heap dump file you need one of many IBM tools: MDD4J or Heap Analyzer.","title":"Difference between javacore, thread dump and heap dump in Websphere","body":"<p>A thread dump is a dump of the stacks of all live threads. Thus useful for analysing what an app is up to at some point in time, and if done at intervals handy in diagnosing some kinds of  'execution' problems (e.g. thread deadlock).</p>\n\n<p>A heap dump is a dump of the state of the Java heap memory. Thus useful for analysing what use of memory an app is making at some point in time so handy in diagnosing some memory issues, and if done at intervals handy in diagnosing memory leaks.</p>\n\n<p>This is what they are in 'raw' terms, and could be provided in many ways. In general used to describe dumped files from JVMs and app servers, and in this form they are a low level tool. Useful if for some reason you can't get anything else, but you will find life easier using decent profiling tool to get similar but easier to dissect info.</p>\n\n<p>With respect to WebSphere a javacore file is a thread dump, albeit with a lot of other info such as locks and loaded classes and some limited memory usage info, and a PHD file is a heap dump.</p>\n\n<p>If you want to read a javacore file you can do so by hand, but there is an IBM tool (BM Thread and Monitor Dump Analyzer) which makes it simpler. If you want to read a heap dump file you need one of many IBM tools: MDD4J or Heap Analyzer.</p>\n"},{"tags":[],"owner":{"account_id":6187256,"reputation":66,"user_id":4821012,"display_name":"Krishna Jaladhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454939343,"creation_date":1454939343,"answer_id":35271239,"question_id":1300497,"body_markdown":"Thread dumps are javacore show snapshot of threads running in JVM, it is useful to debug hang issues, it will provide info about java level dead locks and also IBm version of javacores provides much more useful information, such as heap usage, CPU usage of each thread and overall heap usage along with number of classes laded by the JVM.\r\n\r\nHeapdumps, provides information about Java heap usage by an JVM, which can be used to debug memory leaks. Heapdumps are generated by IBM JVMs when a JVM is runs into outofmemoryerror, Heapdumps are only for heap leaks in java, native out of memory error may result system dumps usually with an &quot;GPF&quot; General protection Fault.","title":"Difference between javacore, thread dump and heap dump in Websphere","body":"<p>Thread dumps are javacore show snapshot of threads running in JVM, it is useful to debug hang issues, it will provide info about java level dead locks and also IBm version of javacores provides much more useful information, such as heap usage, CPU usage of each thread and overall heap usage along with number of classes laded by the JVM.</p>\n\n<p>Heapdumps, provides information about Java heap usage by an JVM, which can be used to debug memory leaks. Heapdumps are generated by IBM JVMs when a JVM is runs into outofmemoryerror, Heapdumps are only for heap leaks in java, native out of memory error may result system dumps usually with an \"GPF\" General protection Fault.</p>\n"},{"tags":[],"owner":{"account_id":2281543,"reputation":689,"user_id":2006498,"display_name":"Nu-ONE"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502604604,"creation_date":1502604604,"answer_id":45657639,"question_id":1300497,"body_markdown":"JVM head dump is a snapshot of a JVM heap memory in a given time. So its simply a heap representation of JVM. That is the state of the objects.\r\n\r\n \r\n\r\nJVM thread dump is a snapshot of a JVM threads at a given time. So thats what were threads doing at any given time. This is the state of threads. This helps understanding such as locked threads, hanged threads and running threads.\r\n\r\n \r\n\r\nHead dump has more information of java class level information than a thread dump. For example Head dump is good to analyse JVM heap memory issues and OutOfMemoryError errors. JVM head dump is generated automatically when there is something like OutOfMemoryError has taken place.  Heap dump can be created manually by killing the process using kill -3 . Generating a heap dump is a intensive computing task, which will probably hang your jvm. so itsn&#39;t a methond to use offetenly. Heap can be analysed using tools such as eclipse memory analyser.\r\n \r\n\r\nCore dump is a os level memory usage of objects. It has more informaiton than a head dump. core dump is not created when we kill a process purposely.","title":"Difference between javacore, thread dump and heap dump in Websphere","body":"<p>JVM head dump is a snapshot of a JVM heap memory in a given time. So its simply a heap representation of JVM. That is the state of the objects.</p>\n\n<p>JVM thread dump is a snapshot of a JVM threads at a given time. So thats what were threads doing at any given time. This is the state of threads. This helps understanding such as locked threads, hanged threads and running threads.</p>\n\n<p>Head dump has more information of java class level information than a thread dump. For example Head dump is good to analyse JVM heap memory issues and OutOfMemoryError errors. JVM head dump is generated automatically when there is something like OutOfMemoryError has taken place.  Heap dump can be created manually by killing the process using kill -3 . Generating a heap dump is a intensive computing task, which will probably hang your jvm. so itsn't a methond to use offetenly. Heap can be analysed using tools such as eclipse memory analyser.</p>\n\n<p>Core dump is a os level memory usage of objects. It has more informaiton than a head dump. core dump is not created when we kill a process purposely.</p>\n"}],"owner":{"display_name":"Sargunan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133722,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"answer_count":5,"score":66,"last_activity_date":1633434787,"creation_date":1250693756,"question_id":1300497,"body_markdown":"Can someone tell me the exact difference between javacore, thread dump and heap dump? Under which situation each of these are used??","title":"Difference between javacore, thread dump and heap dump in Websphere","body":"<p>Can someone tell me the exact difference between javacore, thread dump and heap dump? Under which situation each of these are used??</p>\n"},{"tags":["java","heap-memory","stack-dump"],"comments":[{"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"score":0,"creation_date":1260824111,"post_id":1902587,"comment_id":1806969,"body_markdown":"Was the dump made with an incompatible JVM? If jhat doesn&#39;t work I&#39;d assume there was something wrong with the dump.","body":"Was the dump made with an incompatible JVM? If jhat doesn&#39;t work I&#39;d assume there was something wrong with the dump."},{"owner":{"account_id":9856,"reputation":3081,"user_id":18356,"accept_rate":100,"display_name":"shoover"},"score":0,"creation_date":1260828876,"post_id":1902587,"comment_id":1807547,"body_markdown":"Heapdump format problem?  Binary vs text.","body":"Heapdump format problem?  Binary vs text."}],"answers":[{"tags":[],"owner":{"account_id":227753,"reputation":21,"user_id":489602,"display_name":"mmicheo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291181862,"creation_date":1291181862,"answer_id":4321520,"question_id":1902587,"body_markdown":"If you&#39;re using a java service wrapper, most likely the JVM got killed before it could finish writing the heap dump.  You may want to set a property for the service wrapper that will give the vm more time to complete the heap dump.","title":"Can&#39;t open HPROF file with Eclipse Memory Analyzer","body":"<p>If you're using a java service wrapper, most likely the JVM got killed before it could finish writing the heap dump.  You may want to set a property for the service wrapper that will give the vm more time to complete the heap dump.</p>\n"},{"tags":[],"owner":{"account_id":742167,"reputation":49,"user_id":724050,"display_name":"Jason Finns"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1303751136,"creation_date":1303751136,"answer_id":5780832,"question_id":1902587,"body_markdown":"I had the same issue.  Adding the flag &quot;format=b&quot; fixed the issue.  Apparently, Memory Analyzer can only read binary files.","title":"Can&#39;t open HPROF file with Eclipse Memory Analyzer","body":"<p>I had the same issue.  Adding the flag \"format=b\" fixed the issue.  Apparently, Memory Analyzer can only read binary files.</p>\n"}],"owner":{"account_id":578689,"reputation":61,"user_id":231512,"display_name":"veronica"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11600,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1633434748,"creation_date":1260815006,"question_id":1902587,"body_markdown":"[Eclipse Memory Analyzer][1] prompts me only with this message: &quot;Invalid [HPROF][2] file header&quot;.\r\n\r\nStack dump:\r\n\r\n        java.io.IOException: Invalid HPROF file header.\r\n        at org.eclipse.mat.hprof.AbstractParser.readVersion(AbstractParser.java:135)\r\n        at org.eclipse.mat.hprof.Pass1Parser.read(Pass1Parser.java:69)\r\n        at org.eclipse.mat.hprof.HprofIndexBuilder.fill(HprofIndexBuilder.java:65)\r\n        at org.eclipse.mat.parser.internal.SnapshotFactoryImpl.parse(SnapshotFactoryImpl.java:184)\r\n        at org.eclipse.mat.parser.internal.SnapshotFactoryImpl.openSnapshot(SnapshotFactoryImpl.java:102)\r\n        at org.eclipse.mat.snapshot.SnapshotFactory.openSnapshot(SnapshotFactory.java:114)\r\n        at org.eclipse.mat.snapshot.SnapshotFactory.openSnapshot(SnapshotFactory.java:94)\r\n        at org.eclipse.mat.ui.snapshot.ParseHeapDumpJob.run(ParseHeapDumpJob.java:54)\r\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\r\n\r\n\r\nThe HPROF file was made on a Linux machine.\r\n\r\n[HAT][3] doesn&#39;t work and the [IBM HeapAnalyzer][4] is to complicated, but did work.\r\n\r\nWhat can I do to make it work?\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/List_of_performance_analysis_tools#Java\r\n  [2]: http://java.sun.com/developer/technicalArticles/Programming/HPROF.html\r\n  [3]: https://hat.dev.java.net/\r\n  [4]: http://www.alphaworks.ibm.com/tech/heapanalyzer","title":"Can&#39;t open HPROF file with Eclipse Memory Analyzer","body":"<p><a href=\"http://en.wikipedia.org/wiki/List_of_performance_analysis_tools#Java\" rel=\"noreferrer\">Eclipse Memory Analyzer</a> prompts me only with this message: \"Invalid <a href=\"http://java.sun.com/developer/technicalArticles/Programming/HPROF.html\" rel=\"noreferrer\">HPROF</a> file header\".</p>\n\n<p>Stack dump:</p>\n\n<pre><code>    java.io.IOException: Invalid HPROF file header.\n    at org.eclipse.mat.hprof.AbstractParser.readVersion(AbstractParser.java:135)\n    at org.eclipse.mat.hprof.Pass1Parser.read(Pass1Parser.java:69)\n    at org.eclipse.mat.hprof.HprofIndexBuilder.fill(HprofIndexBuilder.java:65)\n    at org.eclipse.mat.parser.internal.SnapshotFactoryImpl.parse(SnapshotFactoryImpl.java:184)\n    at org.eclipse.mat.parser.internal.SnapshotFactoryImpl.openSnapshot(SnapshotFactoryImpl.java:102)\n    at org.eclipse.mat.snapshot.SnapshotFactory.openSnapshot(SnapshotFactory.java:114)\n    at org.eclipse.mat.snapshot.SnapshotFactory.openSnapshot(SnapshotFactory.java:94)\n    at org.eclipse.mat.ui.snapshot.ParseHeapDumpJob.run(ParseHeapDumpJob.java:54)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\n</code></pre>\n\n<p>The HPROF file was made on a Linux machine.</p>\n\n<p><a href=\"https://hat.dev.java.net/\" rel=\"noreferrer\">HAT</a> doesn't work and the <a href=\"http://www.alphaworks.ibm.com/tech/heapanalyzer\" rel=\"noreferrer\">IBM HeapAnalyzer</a> is to complicated, but did work.</p>\n\n<p>What can I do to make it work?</p>\n"},{"tags":["java","freebsd","heap-dump"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1270094775,"post_id":2556895,"comment_id":2561075,"body_markdown":"Something is really weird with your system.  Writing an 18Gb memory image to a file should not take 1 hour.","body":"Something is really weird with your system.  Writing an 18Gb memory image to a file should not take 1 hour."}],"answers":[{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1270075399,"creation_date":1270075399,"answer_id":2556999,"question_id":2556895,"body_markdown":"If you really mean a core file, and not something specific to java, then you need to use the ulimit command to set the maximum core file size to something small. \r\n","title":"how to disable creating java heap dump after VM crashes?","body":"<p>If you really mean a core file, and not something specific to java, then you need to use the ulimit command to set the maximum core file size to something small. </p>\n"},{"tags":[],"owner":{"account_id":39802,"reputation":12395,"user_id":114986,"display_name":"caskey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1270075403,"creation_date":1270075403,"answer_id":2557000,"question_id":2556895,"body_markdown":"If this is an OS crash dump then use ulimit to set the maximum core size to 0.","title":"how to disable creating java heap dump after VM crashes?","body":"<p>If this is an OS crash dump then use ulimit to set the maximum core size to 0.</p>\n"},{"tags":[],"owner":{"account_id":112197,"reputation":2812,"user_id":296055,"display_name":"Rob Heiser"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1270077384,"creation_date":1270077384,"answer_id":2557149,"question_id":2556895,"body_markdown":"I&#39;m not sure this will work, but if you&#39;re using the HotSpot VM, try this in the arguments to the `java` command:\r\n\r\n    -XX:HeapDumpPath=/dev/null\r\n\r\nIf you want to turn off core dumps altogether, you can use the ulimit approach (make sure to use the -H flag to set the hard limit):\r\n\r\n    ulimit -c -H 0","title":"how to disable creating java heap dump after VM crashes?","body":"<p>I'm not sure this will work, but if you're using the HotSpot VM, try this in the arguments to the <code>java</code> command:</p>\n\n<pre><code>-XX:HeapDumpPath=/dev/null\n</code></pre>\n\n<p>If you want to turn off core dumps altogether, you can use the ulimit approach (make sure to use the -H flag to set the hard limit):</p>\n\n<pre><code>ulimit -c -H 0\n</code></pre>\n"}],"owner":{"account_id":104178,"reputation":162,"user_id":278669,"display_name":"antony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9693,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":2557000,"answer_count":3,"score":3,"last_activity_date":1633434696,"creation_date":1270074166,"question_id":2556895,"body_markdown":"JVM runs on FreeBSD with 18Gb memory. creating core file takes about hour, which is very slow, so i need some way to disable it. ","title":"how to disable creating java heap dump after VM crashes?","body":"<p>JVM runs on FreeBSD with 18Gb memory. creating core file takes about hour, which is very slow, so i need some way to disable it. </p>\n"},{"tags":["java","heap-dump","jhat"],"comments":[{"owner":{"account_id":98378,"reputation":2722,"user_id":266333,"accept_rate":56,"display_name":"John"},"score":0,"creation_date":1292224831,"post_id":4397181,"comment_id":4830846,"body_markdown":"Finally settled with Eclipse Memory Analyzer, which gives almost everything we can get from the dump.","body":"Finally settled with Eclipse Memory Analyzer, which gives almost everything we can get from the dump."}],"answers":[{"tags":[],"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1453762305,"creation_date":1291890743,"answer_id":4397229,"question_id":4397181,"body_markdown":"Have you read the [documentation for JHAT][1]? It details the various types of queries that can be performed using the heap analysis tool.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jhat.html","title":"How to analyze the heap dump using jhat","body":"<p>Have you read the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jhat.html\" rel=\"nofollow\">documentation for JHAT</a>? It details the various types of queries that can be performed using the heap analysis tool.</p>\n"},{"tags":[],"owner":{"account_id":117125,"reputation":13617,"user_id":306855,"accept_rate":73,"display_name":"Emil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343952927,"creation_date":1291893205,"answer_id":4397569,"question_id":4397181,"body_markdown":"You can use the [object query language][1] which is a part of JHAT.See which object&#39;s are prominent in memory at the time of heap dump and look up in the code if you can reduce unwanted object creation.\r\n\r\nAlso have look at this blog on [how to fix memory leaks.](http://olex.openlogic.com/wazi/2009/how-to-fix-memory-leaks-in-java/)\r\n\r\n\r\n  [1]: http://blogs.oracle.com/sundararajan/entry/querying_java_heap_with_oql","title":"How to analyze the heap dump using jhat","body":"<p>You can use the <a href=\"http://blogs.oracle.com/sundararajan/entry/querying_java_heap_with_oql\" rel=\"nofollow\">object query language</a> which is a part of JHAT.See which object's are prominent in memory at the time of heap dump and look up in the code if you can reduce unwanted object creation.</p>\n\n<p>Also have look at this blog on <a href=\"http://olex.openlogic.com/wazi/2009/how-to-fix-memory-leaks-in-java/\" rel=\"nofollow\">how to fix memory leaks.</a></p>\n"},{"tags":[],"owner":{"account_id":98378,"reputation":2722,"user_id":266333,"accept_rate":56,"display_name":"John"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1314000540,"creation_date":1314000540,"answer_id":7144648,"question_id":4397181,"body_markdown":"Finally settled with Eclipse Memory Analyzer, which gives almost everything we can get from the dump","title":"How to analyze the heap dump using jhat","body":"<p>Finally settled with Eclipse Memory Analyzer, which gives almost everything we can get from the dump</p>\n"}],"owner":{"account_id":98378,"reputation":2722,"user_id":266333,"accept_rate":56,"display_name":"John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7568,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":7144648,"answer_count":3,"score":3,"last_activity_date":1633434668,"creation_date":1291890494,"question_id":4397181,"body_markdown":"I ran the jhat on the heap dump, it has generated the reports. How do i use the report to analyze the heap.I couldn&#39;t understand completely other than the instance count. Is there any references or case studies on that.\r\nIn short, i need to proceed furthur, How can i?\r\n\r\n\r\nAlso what is object query language.","title":"How to analyze the heap dump using jhat","body":"<p>I ran the jhat on the heap dump, it has generated the reports. How do i use the report to analyze the heap.I couldn't understand completely other than the instance count. Is there any references or case studies on that.\nIn short, i need to proceed furthur, How can i?</p>\n\n<p>Also what is object query language.</p>\n"},{"tags":["java","unix","heap-dump","jmap"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1334476609,"post_id":10160407,"comment_id":13033101,"body_markdown":"Show the code you use to call it.","body":"Show the code you use to call it."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1334478315,"post_id":10160407,"comment_id":13033294,"body_markdown":"A solution is probably to be found by implementing ***all*** the recommendations of [When Runtime.exec() won&#39;t](http://www.javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html).","body":"A solution is probably to be found by implementing <b><i>all</i></b> the recommendations of <a href=\"http://www.javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html\" rel=\"nofollow noreferrer\">When Runtime.exec() won&#39;t</a>."}],"answers":[{"tags":[],"owner":{"account_id":1375604,"reputation":7717,"user_id":1309650,"accept_rate":33,"display_name":"dash1e"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1334549968,"creation_date":1334549968,"answer_id":10168669,"question_id":10160407,"body_markdown":"You call two consecutively processes\r\n\r\n    process=runtime.exec(&quot;jmap -dump:format=b,file=D:/heapdump_2012APR10/heapdump_date +%d%b%Y-%H_%M_%S.bin 4478&quot;);\r\n    process=runtime.exec(&quot;gzip *.bin&quot;);\r\n\r\nwithout waiting that the first one terminates.\r\n\r\nAnd then you don&#39;t ever consume the stream of the processes you exec, or check theirs exit code.\r\n\r\nSo follow the suggestion of @Andrew Thompson and read this [article][1]. It explains very well how to launch external process from Java.\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html","title":"JMAP -dump not excuted on java: runtime.exec()","body":"<p>You call two consecutively processes</p>\n\n<pre><code>process=runtime.exec(\"jmap -dump:format=b,file=D:/heapdump_2012APR10/heapdump_date +%d%b%Y-%H_%M_%S.bin 4478\");\nprocess=runtime.exec(\"gzip *.bin\");\n</code></pre>\n\n<p>without waiting that the first one terminates.</p>\n\n<p>And then you don't ever consume the stream of the processes you exec, or check theirs exit code.</p>\n\n<p>So follow the suggestion of @Andrew Thompson and read this <a href=\"http://www.javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html\" rel=\"nofollow\">article</a>. It explains very well how to launch external process from Java.</p>\n"}],"owner":{"account_id":269113,"reputation":658,"user_id":558261,"accept_rate":80,"display_name":"Loga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1334765414,"accepted_answer_id":10168669,"answer_count":1,"score":0,"last_activity_date":1633434648,"creation_date":1334476545,"question_id":10160407,"body_markdown":"i have tried to execute the &#39;jmap -dump:format =b; file&quot; command in runtime.exec(), but it wont execute where other commands like date, pwd are working fine.\r\ncan anyone know why?\r\n\r\npublic static void commands(String s)\r\n\t{\r\n\r\n\t\truntime=Runtime.getRuntime();\r\n\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot; Creating Heap Dump &quot;);\r\n\t\t\tprocess=runtime.exec(&quot;jmap -dump:format=b,file=D:/heapdump_2012APR10/heapdump_date +%d%b%Y-%H_%M_%S.bin 4478&quot;);\r\n\t\t\tSystem.out.println(&quot;Heap Dump Created. Zipping the file&quot;);\r\n\t\t\tprocess=runtime.exec(&quot;gzip *.bin&quot;);\r\n\t\t\tSystem.out.println(&quot;Succesfully zipped&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"JMAP -dump not excuted on java: runtime.exec()","body":"<p>i have tried to execute the 'jmap -dump:format =b; file\" command in runtime.exec(), but it wont execute where other commands like date, pwd are working fine.\ncan anyone know why?</p>\n\n<p>public static void commands(String s)\n    {</p>\n\n<pre><code>    runtime=Runtime.getRuntime();\n\n\n    try {\n        System.out.println(\" Creating Heap Dump \");\n        process=runtime.exec(\"jmap -dump:format=b,file=D:/heapdump_2012APR10/heapdump_date +%d%b%Y-%H_%M_%S.bin 4478\");\n        System.out.println(\"Heap Dump Created. Zipping the file\");\n        process=runtime.exec(\"gzip *.bin\");\n        System.out.println(\"Succesfully zipped\");\n\n\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","shell","heap-dump"],"comments":[{"owner":{"account_id":1078274,"reputation":5094,"user_id":1075956,"display_name":"Thomas"},"score":0,"creation_date":1343306348,"post_id":11669419,"comment_id":15466857,"body_markdown":"Have you looked into [cron](http://stackoverflow.com/questions/9619362/running-a-cron-every-30-seconds)?","body":"Have you looked into <a href=\"http://stackoverflow.com/questions/9619362/running-a-cron-every-30-seconds\">cron</a>?"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1343307639,"post_id":11669419,"comment_id":15467471,"body_markdown":"@Thomas Use `cron` to trigger every 30 seconds?","body":"@Thomas Use <code>cron</code> to trigger every 30 seconds?"},{"owner":{"account_id":1078274,"reputation":5094,"user_id":1075956,"display_name":"Thomas"},"score":0,"creation_date":1343355874,"post_id":11669419,"comment_id":15485354,"body_markdown":"True, cron can only get down to every 60 seconds.","body":"True, cron can only get down to every 60 seconds."}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1343307690,"creation_date":1343306353,"answer_id":11669484,"question_id":11669419,"body_markdown":"Have you tried such a simple shell script?\r\n\r\n    while true\r\n    do\r\n      jmap -dump:file=/tmp/java-`date +%s`.hprof PID_OF_JVM\r\n      sleep 30\r\n    done\r\n\r\nThis will create one file pear each snapshot. For thread dump you can use similar script:\r\n\r\n    while true\r\n    do\r\n      jstack PID_OF_JVM &gt; stack-`date +%s`.txt\r\n      sleep 30\r\n    done\r\n\r\n&lt;del&gt;I guess you can use `kill -3` instead of `jstack`.&lt;/del&gt;","title":"how to take jave heap dump every 30 seconds using kill -3 &lt;pid&gt; command","body":"<p>Have you tried such a simple shell script?</p>\n\n<pre><code>while true\ndo\n  jmap -dump:file=/tmp/java-`date +%s`.hprof PID_OF_JVM\n  sleep 30\ndone\n</code></pre>\n\n<p>This will create one file pear each snapshot. For thread dump you can use similar script:</p>\n\n<pre><code>while true\ndo\n  jstack PID_OF_JVM &gt; stack-`date +%s`.txt\n  sleep 30\ndone\n</code></pre>\n\n<p><del>I guess you can use <code>kill -3</code> instead of <code>jstack</code>.</del></p>\n"},{"tags":[],"owner":{"account_id":1692104,"reputation":3160,"user_id":1554255,"display_name":"Andrey Borisov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1343306353,"creation_date":1343306353,"answer_id":11669485,"question_id":11669419,"body_markdown":"you can do thread dumping from java application using code like this\r\n\r\n     public static String getDumpFor(Thread thread) {\r\n        StringBuilder sb = new StringBuilder();\r\n        if (thread.isAlive()) {\r\n            StackTraceElement[] stackTrace = thread.getStackTrace();\r\n            sb.append(thread.toString()).append(&quot;\\n&quot;)\r\n                    .append(String.format(&quot; State - %s,&quot;, thread.getState()))\r\n                    .append(String.format(&quot; Is daemon = %s,&quot;, thread.isDaemon()));\r\n            for (StackTraceElement s : stackTrace)\r\n                sb.append(&quot;\\tat &quot;).append(s.getClassName()).append(&quot;.&quot;).append(s.getMethodName()).append(&quot;(&quot;).append(s.getFileName()).append(&quot;:&quot;).append(s.getLineNumber()).append(&quot;)&quot;)\r\n                        .append(&quot;\\n&quot;);\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n   \r\n    public static void dumpActiveThreads() {\r\n        Map&lt;Thread, StackTraceElement[]&gt; stackTraces = Thread.getAllStackTraces();\r\n        Set&lt;Thread&gt; keySet = stackTraces.keySet();\r\n        System.out.println(&quot;\\nThread dump begin:&quot;);\r\n        for (Thread thread : keySet)\r\n            dumpActiveThread(thread);\r\n        System.out.println(&quot;\\nThread dump end.&quot;);\r\n\r\n    }\r\n\r\n\r\nand then schedule task like this\r\n\r\n     final ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.scheduleWithFixedDelay(\r\n                new Runnable() {dumpActiveThreads()},\r\n                0,\r\n                30, TimeUnit.SECONDS);\r\n","title":"how to take jave heap dump every 30 seconds using kill -3 &lt;pid&gt; command","body":"<p>you can do thread dumping from java application using code like this</p>\n\n<pre><code> public static String getDumpFor(Thread thread) {\n    StringBuilder sb = new StringBuilder();\n    if (thread.isAlive()) {\n        StackTraceElement[] stackTrace = thread.getStackTrace();\n        sb.append(thread.toString()).append(\"\\n\")\n                .append(String.format(\" State - %s,\", thread.getState()))\n                .append(String.format(\" Is daemon = %s,\", thread.isDaemon()));\n        for (StackTraceElement s : stackTrace)\n            sb.append(\"\\tat \").append(s.getClassName()).append(\".\").append(s.getMethodName()).append(\"(\").append(s.getFileName()).append(\":\").append(s.getLineNumber()).append(\")\")\n                    .append(\"\\n\");\n    }\n    return sb.toString();\n}\n\n\npublic static void dumpActiveThreads() {\n    Map&lt;Thread, StackTraceElement[]&gt; stackTraces = Thread.getAllStackTraces();\n    Set&lt;Thread&gt; keySet = stackTraces.keySet();\n    System.out.println(\"\\nThread dump begin:\");\n    for (Thread thread : keySet)\n        dumpActiveThread(thread);\n    System.out.println(\"\\nThread dump end.\");\n\n}\n</code></pre>\n\n<p>and then schedule task like this</p>\n\n<pre><code> final ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.scheduleWithFixedDelay(\n            new Runnable() {dumpActiveThreads()},\n            0,\n            30, TimeUnit.SECONDS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":459860,"reputation":7861,"user_id":2587430,"accept_rate":76,"display_name":"amicngh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343306598,"creation_date":1343306598,"answer_id":11669556,"question_id":11669419,"body_markdown":"I have not used `kill -3` command but i have used `jmap` command provided by `sun sdk`\r\n\r\nYou can write a script and then in script run below command.\r\n\r\n    ${JAVA_HOME}/bin/jmap -dump:file=/home/MyDump.hprof PID","title":"how to take jave heap dump every 30 seconds using kill -3 &lt;pid&gt; command","body":"<p>I have not used <code>kill -3</code> command but i have used <code>jmap</code> command provided by <code>sun sdk</code></p>\n\n<p>You can write a script and then in script run below command.</p>\n\n<pre><code>${JAVA_HOME}/bin/jmap -dump:file=/home/MyDump.hprof PID\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7774376,"reputation":425,"user_id":5882929,"display_name":"Panky031"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458155316,"creation_date":1458155316,"answer_id":36044868,"question_id":11669419,"body_markdown":"3 will give only the thread dump but not the heap dump.Thread dump means you can only check the stack traces for each thread in the JVM.But you are lookin g for the heap dump on linux then need to use the below commands.\r\njmap -dump:file=myheap.bin {pid of which you are looking to take heap dump}. The output &quot;myheap.bin&quot; is not human readable,to read the file you can use the MAT tool.\r\nMAT download link: http://www.eclipse.org/mat/","title":"how to take jave heap dump every 30 seconds using kill -3 &lt;pid&gt; command","body":"<p>3 will give only the thread dump but not the heap dump.Thread dump means you can only check the stack traces for each thread in the JVM.But you are lookin g for the heap dump on linux then need to use the below commands.\njmap -dump:file=myheap.bin {pid of which you are looking to take heap dump}. The output \"myheap.bin\" is not human readable,to read the file you can use the MAT tool.\nMAT download link: <a href=\"http://www.eclipse.org/mat/\" rel=\"nofollow\">http://www.eclipse.org/mat/</a></p>\n"}],"owner":{"account_id":1691557,"reputation":31,"user_id":1553784,"display_name":"Raghava Malluvaiah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18642,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1633434625,"creation_date":1343306107,"question_id":11669419,"body_markdown":"Please help in this, i want to run a shell script where it should take jave heap dump every 30 seconds using kill -3 &lt;pid&gt; command. Thanks in advance.\r\n\r\n","title":"how to take jave heap dump every 30 seconds using kill -3 &lt;pid&gt; command","body":"<p>Please help in this, i want to run a shell script where it should take jave heap dump every 30 seconds using kill -3  command. Thanks in advance.</p>\n"},{"tags":["java","multithreading","heap-dump","thread-dump"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1349967211,"post_id":12842344,"comment_id":17376640,"body_markdown":"Thread.getAllStackTraces() will give you most of what you want. Or you can run `jstack {pid}` as an external program.","body":"Thread.getAllStackTraces() will give you most of what you want. Or you can run <code>jstack {pid}</code> as an external program."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1349967285,"post_id":12842344,"comment_id":17376688,"body_markdown":"I can&#39;t think of a way to produce a thread dump which requires a restart.... ;)","body":"I can&#39;t think of a way to produce a thread dump which requires a restart.... ;)"},{"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"score":0,"creation_date":1349967394,"post_id":12842344,"comment_id":17376766,"body_markdown":"Thread.dumpStack() will give you the stack trace for the current thread.","body":"Thread.dumpStack() will give you the stack trace for the current thread."},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1349967559,"post_id":12842344,"comment_id":17376859,"body_markdown":"@PeterLawrey - On a Unix system: `Runtime.getRuntime().exec(&quot;kill -3 &quot; + &lt;pid&gt;);` where `&lt;pid&gt;` is the current process id. (See, e.g., [here](http://stackoverflow.com/a/7303433/535871) for how to get the pid.)","body":"@PeterLawrey - On a Unix system: <code>Runtime.getRuntime().exec(&quot;kill -3 &quot; + &lt;pid&gt;);</code> where <code>&lt;pid&gt;</code> is the current process id. (See, e.g., <a href=\"http://stackoverflow.com/a/7303433/535871\">here</a> for how to get the pid.)"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1349967655,"post_id":12842344,"comment_id":17376921,"body_markdown":"`kill -3 {pid}` for a Java program is captured and triggers a stack dump, but doesn&#39;t kill the process.","body":"<code>kill -3 {pid}</code> for a Java program is captured and triggers a stack dump, but doesn&#39;t kill the process."}],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349967267,"creation_date":1349967267,"answer_id":12842477,"question_id":12842344,"body_markdown":"Yes, you can generated your own stack dump using the built-in management MXBeans.  Specifically, you can get all the current [ThreadInfos][1] From the [ThreadMXBean][2] and write the contents to your desired location.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/management/ThreadInfo.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/management/ThreadMXBean.html","title":"Generate a Java thread dump without restarting.","body":"<p>Yes, you can generated your own stack dump using the built-in management MXBeans.  Specifically, you can get all the current <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/management/ThreadInfo.html\" rel=\"nofollow\">ThreadInfos</a> From the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/management/ThreadMXBean.html\" rel=\"nofollow\">ThreadMXBean</a> and write the contents to your desired location.</p>\n"},{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1587108983,"creation_date":1349967302,"answer_id":12842493,"question_id":12842344,"body_markdown":"To dump the threads to the standard out, you may do something like this\r\n\r\n    ThreadInfo[] threads = ManagementFactory.getThreadMXBean()\r\n            .dumpAllThreads(true, true);\r\n    for (ThreadInfo info : threads) {\r\n        System.out.print(info);\r\n    }\r\n\r\nin Java 6 using the [ThreadMXBean][1] class. But I would suggest to use real logging instead of the standard output.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/management/ThreadMXBean.html","title":"Generate a Java thread dump without restarting.","body":"<p>To dump the threads to the standard out, you may do something like this</p>\n\n<pre><code>ThreadInfo[] threads = ManagementFactory.getThreadMXBean()\n        .dumpAllThreads(true, true);\nfor (ThreadInfo info : threads) {\n    System.out.print(info);\n}\n</code></pre>\n\n<p>in Java 6 using the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/management/ThreadMXBean.html\" rel=\"nofollow noreferrer\">ThreadMXBean</a> class. But I would suggest to use real logging instead of the standard output.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1349968090,"creation_date":1349967317,"answer_id":12842509,"question_id":12842344,"body_markdown":"Here&#39;s how we do it programmatically: http://pastebin.com/uS5jYpd4\r\n\r\nWe use the `JMX` [`ThreadMXBean`][1] and `ThreadInfo` classes:\r\n\r\n\tThreadMXBean mxBean = ManagementFactory.getThreadMXBean();\r\n\tThreadInfo[] threadInfos = mxBean.getThreadInfo(mxBean.getAllThreadIds(), 0);\r\n\t...\r\n\r\nYou can also do a `kill -QUIT pid` under ~unix to dump the stacks to the standard-out.  There is also jstack to dump the stack of a JVM.\r\n\r\nWe also have an automation which dumps the stack if the load average of the application is above some threshold:\r\n\r\n\tprivate long lastCpuTimeMillis;\r\n\tprivate long lastPollTimeMillis;\r\n\r\n\tpublic void checkLoadAverage() {\r\n\t\tlong now = System.currentTimeMillis();\r\n\t\tlong currentCpuMillis = getTotalCpuTimeMillis();\r\n\t\tdouble loadAvg = calcLoadAveragePercentage(now, currentCpuMillis);\r\n\t\tif (loadAvg &gt; LOAD_AVERAGE_DUMP_THRESHOLD) {\r\n\t\t\ttry {\r\n\t\t\t\tdumpStack(&quot;Load average percentage is &quot; + loadAvg);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// Oh well, we tried\r\n\t\t\t}\r\n\t\t}\r\n\t\tlastCpuTimeMillis = currentCpuMillis;\r\n\t\tlastPollTimeMillis = now;\r\n\t}\r\n\r\n\tprivate long getTotalCpuTimeMillis() {\r\n\t\tlong total = 0;\r\n\t\tfor (long id : threadMxBean.getAllThreadIds()) {\r\n\t\t\tlong cpuTime = threadMxBean.getThreadCpuTime(id);\r\n\t\t\tif (cpuTime &gt; 0) {\r\n\t\t\t\ttotal += cpuTime;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// since is in nano-seconds\r\n\t\tlong currentCpuMillis = total / 1000000;\r\n\t\treturn currentCpuMillis;\r\n\t}\r\n\r\n\tprivate double calcLoadAveragePercentage(long now, long currentCpuMillis) {\r\n\t\tlong timeDiff = now - lastPollTimeMillis;\r\n\t\tif (timeDiff == 0) {\r\n\t\t\ttimeDiff = 1;\r\n\t\t}\r\n\t\tlong cpuDiff = currentCpuMillis - lastCpuTimeMillis;\r\n\t\tdouble loadAvg = (double) cpuDiff / (double) timeDiff;\r\n\t\treturn loadAvg;\r\n\t}\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/management/ThreadMXBean.html","title":"Generate a Java thread dump without restarting.","body":"<p>Here's how we do it programmatically: <a href=\"http://pastebin.com/uS5jYpd4\">http://pastebin.com/uS5jYpd4</a></p>\n\n<p>We use the <code>JMX</code> <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/management/ThreadMXBean.html\"><code>ThreadMXBean</code></a> and <code>ThreadInfo</code> classes:</p>\n\n<pre><code>ThreadMXBean mxBean = ManagementFactory.getThreadMXBean();\nThreadInfo[] threadInfos = mxBean.getThreadInfo(mxBean.getAllThreadIds(), 0);\n...\n</code></pre>\n\n<p>You can also do a <code>kill -QUIT pid</code> under ~unix to dump the stacks to the standard-out.  There is also jstack to dump the stack of a JVM.</p>\n\n<p>We also have an automation which dumps the stack if the load average of the application is above some threshold:</p>\n\n<pre><code>private long lastCpuTimeMillis;\nprivate long lastPollTimeMillis;\n\npublic void checkLoadAverage() {\n    long now = System.currentTimeMillis();\n    long currentCpuMillis = getTotalCpuTimeMillis();\n    double loadAvg = calcLoadAveragePercentage(now, currentCpuMillis);\n    if (loadAvg &gt; LOAD_AVERAGE_DUMP_THRESHOLD) {\n        try {\n            dumpStack(\"Load average percentage is \" + loadAvg);\n        } catch (IOException e) {\n            // Oh well, we tried\n        }\n    }\n    lastCpuTimeMillis = currentCpuMillis;\n    lastPollTimeMillis = now;\n}\n\nprivate long getTotalCpuTimeMillis() {\n    long total = 0;\n    for (long id : threadMxBean.getAllThreadIds()) {\n        long cpuTime = threadMxBean.getThreadCpuTime(id);\n        if (cpuTime &gt; 0) {\n            total += cpuTime;\n        }\n    }\n    // since is in nano-seconds\n    long currentCpuMillis = total / 1000000;\n    return currentCpuMillis;\n}\n\nprivate double calcLoadAveragePercentage(long now, long currentCpuMillis) {\n    long timeDiff = now - lastPollTimeMillis;\n    if (timeDiff == 0) {\n        timeDiff = 1;\n    }\n    long cpuDiff = currentCpuMillis - lastCpuTimeMillis;\n    double loadAvg = (double) cpuDiff / (double) timeDiff;\n    return loadAvg;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":542673,"reputation":7014,"user_id":911576,"accept_rate":62,"display_name":"anish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368943556,"creation_date":1368943556,"answer_id":16631916,"question_id":12842344,"body_markdown":"Try \r\n“kill –QUIT”  Process_id\r\ne.g \r\n\r\n    kill -QUIT 2134\r\n\r\nThis will trigger the thread dump without restarting it","title":"Generate a Java thread dump without restarting.","body":"<p>Try \n“kill –QUIT”  Process_id\ne.g </p>\n\n<pre><code>kill -QUIT 2134\n</code></pre>\n\n<p>This will trigger the thread dump without restarting it</p>\n"},{"tags":[],"owner":{"account_id":966263,"reputation":736,"user_id":989643,"display_name":"arifng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564916600,"creation_date":1564916600,"answer_id":57346016,"question_id":12842344,"body_markdown":"In spring application, we can generate heap dump programmatically by creating cron job.\r\n\r\n    import com.sun.management.HotSpotDiagnosticMXBean;\r\n    import org.springframework.scheduling.annotation.Scheduled;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    import javax.management.MBeanServer;\r\n    import java.io.File;\r\n    import java.lang.management.ManagementFactory;\r\n\r\n    @Component\r\n    public class HeapDumpGenerator {\r\n        @Scheduled(cron = &quot;0 0/5 * * * *&quot;)\r\n        public void execute() {\r\n            generateHeapDump();\r\n        }\r\n\r\n        private void generateHeapDump() {\r\n            MBeanServer mBeanServer = ManagementFactory.getPlatformMBeanServer();\r\n            String dumpFilePath = System.getProperty(&quot;user.home&quot;) + File.separator + \r\n                    &quot;heap-dumps&quot; + File.separator +\r\n                    &quot;dumpfile_&quot; + System.currentTimeMillis() + &quot;.hprof&quot;;\r\n            try {\r\n                HotSpotDiagnosticMXBean hotSpotDiagnosticMXBean = ManagementFactory\r\n                    .newPlatformMXBeanProxy(mBeanServer,\r\n                                        &quot;com.sun.management:type=HotSpotDiagnostic&quot;, \r\n                                        HotSpotDiagnosticMXBean.class);\r\n                hotSpotDiagnosticMXBean.dumpHeap(dumpFilePath, Boolean.TRUE);\r\n            } catch (Exception e) {\r\n                // log error\r\n            }\r\n        }\r\n    }\r\n\r\nIt will run at every five minutes, but we can set our own time/interval. We can also add condition before calling `generateHeapDump()` method.","title":"Generate a Java thread dump without restarting.","body":"<p>In spring application, we can generate heap dump programmatically by creating cron job.</p>\n\n<pre><code>import com.sun.management.HotSpotDiagnosticMXBean;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\nimport javax.management.MBeanServer;\nimport java.io.File;\nimport java.lang.management.ManagementFactory;\n\n@Component\npublic class HeapDumpGenerator {\n    @Scheduled(cron = \"0 0/5 * * * *\")\n    public void execute() {\n        generateHeapDump();\n    }\n\n    private void generateHeapDump() {\n        MBeanServer mBeanServer = ManagementFactory.getPlatformMBeanServer();\n        String dumpFilePath = System.getProperty(\"user.home\") + File.separator + \n                \"heap-dumps\" + File.separator +\n                \"dumpfile_\" + System.currentTimeMillis() + \".hprof\";\n        try {\n            HotSpotDiagnosticMXBean hotSpotDiagnosticMXBean = ManagementFactory\n                .newPlatformMXBeanProxy(mBeanServer,\n                                    \"com.sun.management:type=HotSpotDiagnostic\", \n                                    HotSpotDiagnosticMXBean.class);\n            hotSpotDiagnosticMXBean.dumpHeap(dumpFilePath, Boolean.TRUE);\n        } catch (Exception e) {\n            // log error\n        }\n    }\n}\n</code></pre>\n\n<p>It will run at every five minutes, but we can set our own time/interval. We can also add condition before calling <code>generateHeapDump()</code> method.</p>\n"}],"owner":{"account_id":1625546,"reputation":616,"user_id":1501182,"accept_rate":76,"display_name":"Matteo Gatto"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8244,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":12842509,"answer_count":5,"score":10,"last_activity_date":1633434607,"creation_date":1349966909,"question_id":12842344,"body_markdown":"I&#39;d like to create a thread that keeps track of the memory usage and cpu usage.\r\n\r\nIf the application reaches a high level, I want to generate an heap dump or a thread dump.\r\n\r\nIs there a way to generate a Thread dump runtime without restarting?\r\n","title":"Generate a Java thread dump without restarting.","body":"<p>I'd like to create a thread that keeps track of the memory usage and cpu usage.</p>\n\n<p>If the application reaches a high level, I want to generate an heap dump or a thread dump.</p>\n\n<p>Is there a way to generate a Thread dump runtime without restarting?</p>\n"},{"tags":["java","amazon-ec2","heap-dump"],"comments":[{"owner":{"account_id":1540148,"reputation":1578,"user_id":1435014,"display_name":"Abhishek"},"score":0,"creation_date":1541416061,"post_id":53152900,"comment_id":93196702,"body_markdown":"Check this https://stackoverflow.com/questions/26140182/running-jmap-getting-unable-to-open-socket-file might help to resolve.","body":"Check this <a href=\"https://stackoverflow.com/questions/26140182/running-jmap-getting-unable-to-open-socket-file\" title=\"running jmap getting unable to open socket file\">stackoverflow.com/questions/26140182/&hellip;</a> might help to resolve."},{"owner":{"account_id":13439994,"reputation":1,"user_id":9697419,"display_name":"Chandru Raju"},"score":0,"creation_date":1541490504,"post_id":53152900,"comment_id":93225149,"body_markdown":"This dint not solve my problem , i need to get the java heap dump from EC2 instance , are there any other way i can get the dump. My tomcat8 memory is increasing gradually even though if there is no load on the server.","body":"This dint not solve my problem , i need to get the java heap dump from EC2 instance , are there any other way i can get the dump. My tomcat8 memory is increasing gradually even though if there is no load on the server."},{"owner":{"account_id":13439994,"reputation":1,"user_id":9697419,"display_name":"Chandru Raju"},"score":0,"creation_date":1541490559,"post_id":53152900,"comment_id":93225180,"body_markdown":"I even tried the options specified in the below link   https://stackoverflow.com/questions/3959122/memory-fully-utilized-by-java-concurrenthashmap-under-tomcat","body":"I even tried the options specified in the below link   <a href=\"https://stackoverflow.com/questions/3959122/memory-fully-utilized-by-java-concurrenthashmap-under-tomcat\" title=\"memory fully utilized by java concurrenthashmap under tomcat\">stackoverflow.com/questions/3959122/&hellip;</a>"}],"owner":{"account_id":13439994,"reputation":1,"user_id":9697419,"display_name":"Chandru Raju"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633434534,"creation_date":1541415005,"question_id":53152900,"body_markdown":"I have a Ubuntu 16.4 on an AWS EC2 instance and I have installed java 1.8 and tomcat 8 on this machine. I have deployed one Spring MVC application on this  machine. Quite often it gets out of memory issue. I want to analyze the heap dump and I tried by using the below command.\r\n\r\n  sudo jmap -dump:format=b,file=/opt/tmp/heapdump.bin 37320\r\n\r\nBut when I execute the above command got the below message.\r\n\r\nUnable to open socket file: target process not responding or HotSpot VM not loaded\r\n\r\nI want to get the java heap dump from my EC2 instance. \r\nThanks in advance.","title":"java heap memory dump from the aws EC2 instance with tomcat8","body":"<p>I have a Ubuntu 16.4 on an AWS EC2 instance and I have installed java 1.8 and tomcat 8 on this machine. I have deployed one Spring MVC application on this  machine. Quite often it gets out of memory issue. I want to analyze the heap dump and I tried by using the below command.</p>\n\n<p>sudo jmap -dump:format=b,file=/opt/tmp/heapdump.bin 37320</p>\n\n<p>But when I execute the above command got the below message.</p>\n\n<p>Unable to open socket file: target process not responding or HotSpot VM not loaded</p>\n\n<p>I want to get the java heap dump from my EC2 instance. \nThanks in advance.</p>\n"},{"tags":["java","jvm","heap-dump","nomad"],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1496930158,"creation_date":1496930158,"answer_id":44437739,"question_id":44433945,"body_markdown":"`jmap` without -F should be run by the same user as the target Java process (`nobody` in your case).\r\n\r\n`jmap -F` should be run by root, and `-F` argument should precede `&lt;app_pid&gt;`:\r\n\r\n    jmap -dump:format=b,file=filename.bin -F &lt;app_pid&gt;\r\n\r\nSee details in [this answers](https://stackoverflow.com/questions/26140182/running-jmap-getting-unable-to-open-socket-file/35963059#35963059).","title":"How to get heap dump from java app running by HashiCorp Nomad?","body":"<p><code>jmap</code> without -F should be run by the same user as the target Java process (<code>nobody</code> in your case).</p>\n\n<p><code>jmap -F</code> should be run by root, and <code>-F</code> argument should precede <code>&lt;app_pid&gt;</code>:</p>\n\n<pre><code>jmap -dump:format=b,file=filename.bin -F &lt;app_pid&gt;\n</code></pre>\n\n<p>See details in <a href=\"https://stackoverflow.com/questions/26140182/running-jmap-getting-unable-to-open-socket-file/35963059#35963059\">this answers</a>.</p>\n"}],"owner":{"account_id":4307644,"reputation":53,"user_id":3519626,"display_name":"Andrei Tsukanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44437739,"answer_count":1,"score":1,"last_activity_date":1633434517,"creation_date":1496919818,"question_id":44433945,"body_markdown":"I have java application that running by HashiCorp Nomad. At process status output I have nomad executor process running by `root` and java app process running by `nobody`. \r\n\r\nWhen I try execute command: \r\n`jmap -dump:format=b,file=filename.bin &lt;app_pid&gt;`\r\n\r\nI got message:\r\n\r\n`Unable to open socket file: target process not responding or HotSpot VM not loaded\r\nThe -F option can be used when the target process is not responding`\r\n\r\n\r\nWhen I try execute command: `jmap -dump:format=b,file=filename.bin &lt;app_pid&gt; -F`\r\n\r\nI got next trace: \r\n\r\n`Attaching to core -F from executable 5584, please wait...\r\nError attaching to core file: cannot open binary file\r\nsun.jvm.hotspot.debugger.DebuggerException: cannot open binary file\r\n        at sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal.attach0(Native Method)\r\n        at sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal.attach(LinuxDebuggerLocal.java:286)\r\n        at sun.jvm.hotspot.HotSpotAgent.attachDebugger(HotSpotAgent.java:673)\r\n        at sun.jvm.hotspot.HotSpotAgent.setupDebuggerLinux(HotSpotAgent.java:611)\r\n        at sun.jvm.hotspot.HotSpotAgent.setupDebugger(HotSpotAgent.java:337)\r\n        at sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:304)\r\n        at sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:156)\r\n        at sun.jvm.hotspot.tools.Tool.start(Tool.java:191)\r\n        at sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\r\n        at sun.jvm.hotspot.tools.HeapDumper.main(HeapDumper.java:83)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at sun.tools.jmap.JMap.runTool(JMap.java:201)\r\n        at sun.tools.jmap.JMap.main(JMap.java:130)\r\n`\r\n\r\n","title":"How to get heap dump from java app running by HashiCorp Nomad?","body":"<p>I have java application that running by HashiCorp Nomad. At process status output I have nomad executor process running by <code>root</code> and java app process running by <code>nobody</code>. </p>\n\n<p>When I try execute command: \n<code>jmap -dump:format=b,file=filename.bin &lt;app_pid&gt;</code></p>\n\n<p>I got message:</p>\n\n<p><code>Unable to open socket file: target process not responding or HotSpot VM not loaded\nThe -F option can be used when the target process is not responding</code></p>\n\n<p>When I try execute command: <code>jmap -dump:format=b,file=filename.bin &lt;app_pid&gt; -F</code></p>\n\n<p>I got next trace: </p>\n\n<p><code>Attaching to core -F from executable 5584, please wait...\nError attaching to core file: cannot open binary file\nsun.jvm.hotspot.debugger.DebuggerException: cannot open binary file\n        at sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal.attach0(Native Method)\n        at sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal.attach(LinuxDebuggerLocal.java:286)\n        at sun.jvm.hotspot.HotSpotAgent.attachDebugger(HotSpotAgent.java:673)\n        at sun.jvm.hotspot.HotSpotAgent.setupDebuggerLinux(HotSpotAgent.java:611)\n        at sun.jvm.hotspot.HotSpotAgent.setupDebugger(HotSpotAgent.java:337)\n        at sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:304)\n        at sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:156)\n        at sun.jvm.hotspot.tools.Tool.start(Tool.java:191)\n        at sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\n        at sun.jvm.hotspot.tools.HeapDumper.main(HeapDumper.java:83)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at sun.tools.jmap.JMap.runTool(JMap.java:201)\n        at sun.tools.jmap.JMap.main(JMap.java:130)\n</code></p>\n"},{"tags":["java","heap-dump"],"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1492975549,"post_id":43575536,"comment_id":74201118,"body_markdown":"There is a program called visualm that is packaged with the JDK; it&#39;s located in your Java/jdk.../bin/ folder.","body":"There is a program called visualm that is packaged with the JDK; it&#39;s located in your Java/jdk.../bin/ folder."}],"answers":[{"tags":[],"owner":{"account_id":5596369,"reputation":41,"user_id":4434016,"display_name":"Harry007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557058791,"creation_date":1492976213,"answer_id":43575656,"question_id":43575536,"body_markdown":"Steps to take heap dump:\r\n  \r\n 1. Identify process id for java on windows machine using &quot;jps&quot; command through cmd jps like ps command in linux.  \r\n 2. Use command `jmap -dump:file=mydump &lt;pid_returned_by_jps _command_in_step_1&gt;`\r\n\r\n 3. You can see mydump file will be created under your users/yourName folder with named mydump","title":"How to take heap dump of java application in windows OS manually","body":"<p>Steps to take heap dump:</p>\n\n<ol>\n<li>Identify process id for java on windows machine using \"jps\" command through cmd jps like ps command in linux.  </li>\n<li><p>Use command <code>jmap -dump:file=mydump &lt;pid_returned_by_jps _command_in_step_1&gt;</code></p></li>\n<li><p>You can see mydump file will be created under your users/yourName folder with named mydump</p></li>\n</ol>\n"}],"owner":{"account_id":5596369,"reputation":41,"user_id":4434016,"display_name":"Harry007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":935,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633434472,"creation_date":1492975457,"question_id":43575536,"body_markdown":"How can I take heap dump on windows for any running java application?\r\n\r\nThanks,\r\nHarish","title":"How to take heap dump of java application in windows OS manually","body":"<p>How can I take heap dump on windows for any running java application?</p>\n\n<p>Thanks,\nHarish</p>\n"},{"tags":["java","multithreading","heap-dump","thread-dump"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1487836801,"post_id":42407666,"comment_id":71966215,"body_markdown":"Do you mean a different Java Virtual Machine, which is an instance (running process) of the program `java.exe` (Windows) or `java` (others)? Or a &#39;hardware&#39; Virtual Machine like VMware&amp;ESXi, VirtualBox, Hyper-V, KVM, QEMU, Parallels, etc?","body":"Do you mean a different Java Virtual Machine, which is an instance (running process) of the program <code>java.exe</code> (Windows) or <code>java</code> (others)? Or a &#39;hardware&#39; Virtual Machine like VMware&amp;ESXi, VirtualBox, Hyper-V, KVM, QEMU, Parallels, etc?"},{"owner":{"account_id":9254394,"reputation":139,"user_id":6873797,"accept_rate":0,"display_name":"Gireesh Bhat"},"score":0,"creation_date":1487844254,"post_id":42407666,"comment_id":71970863,"body_markdown":"java virtual machine. I Just want to get the thread dump of some other process running in virtual machine. That task wan to achieve through java program","body":"java virtual machine. I Just want to get the thread dump of some other process running in virtual machine. That task wan to achieve through java program"}],"answers":[{"tags":[],"owner":{"account_id":2466763,"reputation":2434,"user_id":2149673,"accept_rate":20,"display_name":"AmanSinghal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487828461,"creation_date":1487828461,"answer_id":42407940,"question_id":42407666,"body_markdown":"You can get the IP of that virtual Machine, and then using any standard tool like VisualVM you can connect to the process running in that JVM.\r\nVisualVM gives lots of interesting debugging features, including thread dump.","title":"how to get thread dump of a process running different VM through java code","body":"<p>You can get the IP of that virtual Machine, and then using any standard tool like VisualVM you can connect to the process running in that JVM.\nVisualVM gives lots of interesting debugging features, including thread dump.</p>\n"}],"owner":{"account_id":9254394,"reputation":139,"user_id":6873797,"accept_rate":0,"display_name":"Gireesh Bhat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633434459,"creation_date":1487827294,"question_id":42407666,"body_markdown":"I wanted to get the **Thread Dump** and **Heap Dump** of the process by its process name that is running in my local but in different Virtual Machine. I tried using the **ThreadMXBean**, as I read, it supports for the processes that runs in same VM.\r\nIf it is not possible from java code, is there any alternative way to achieve the same in Windows environment(it would be better if it is in script form also).\r\nThank You.","title":"how to get thread dump of a process running different VM through java code","body":"<p>I wanted to get the <strong>Thread Dump</strong> and <strong>Heap Dump</strong> of the process by its process name that is running in my local but in different Virtual Machine. I tried using the <strong>ThreadMXBean</strong>, as I read, it supports for the processes that runs in same VM.\nIf it is not possible from java code, is there any alternative way to achieve the same in Windows environment(it would be better if it is in script form also).\nThank You.</p>\n"},{"tags":["java","abstract-class"],"comments":[{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1633433590,"post_id":69449611,"comment_id":122753271,"body_markdown":"Why did you putted `&lt;?&gt;` at `IncomingMessageAbstract`? You parent has no generic.","body":"Why did you putted <code>&lt;?&gt;</code> at <code>IncomingMessageAbstract</code>? You parent has no generic."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1633433649,"post_id":69449611,"comment_id":122753297,"body_markdown":"As soon as you give a `List&lt;ChildA&gt;` one cannot turn it into a `List&lt;ParentAbstract&gt;` as putting an ParentAbstract in the list, would corrupt others holding a `List&lt;ChildA&gt;` - they think. Hence not allowed.","body":"As soon as you give a <code>List&lt;ChildA&gt;</code> one cannot turn it into a <code>List&lt;ParentAbstract&gt;</code> as putting an ParentAbstract in the list, would corrupt others holding a <code>List&lt;ChildA&gt;</code> - they think. Hence not allowed."},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1633434151,"post_id":69449611,"comment_id":122753503,"body_markdown":"You can do this kind of cast `return (List&lt;ParentAbstract&gt;)(List&lt;?&gt;)results();`, but I&#39;m not sure that is a good idea.","body":"You can do this kind of cast <code>return (List&lt;ParentAbstract&gt;)(List&lt;?&gt;)results();</code>, but I&#39;m not sure that is a good idea."},{"owner":{"account_id":9907138,"reputation":73,"user_id":7335303,"display_name":"Thomas Pierre"},"score":0,"creation_date":1633434507,"post_id":69449611,"comment_id":122753647,"body_markdown":"@KunLun You&#39;re right, I can totally remove that","body":"@KunLun You&#39;re right, I can totally remove that"},{"owner":{"account_id":9907138,"reputation":73,"user_id":7335303,"display_name":"Thomas Pierre"},"score":0,"creation_date":1633436875,"post_id":69449611,"comment_id":122754611,"body_markdown":"I found a way to convert the list from the results() method :\n`new ArrayList&lt;&gt;(results.getResults())` is allowed to return a `List&lt;Parent&gt;` \n\nThanks for your help!","body":"I found a way to convert the list from the results() method : <code>new ArrayList&lt;&gt;(results.getResults())</code> is allowed to return a <code>List&lt;Parent&gt;</code>   Thanks for your help!"}],"owner":{"account_id":9907138,"reputation":73,"user_id":7335303,"display_name":"Thomas Pierre"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633433493,"answer_count":0,"score":0,"last_activity_date":1633434433,"creation_date":1633433324,"question_id":69449611,"body_markdown":"Imagine that I have a Parent abstract class \r\n```\r\npublic abstract class ParentAbstract {}\r\n```\r\n\r\nAnd one Child\r\n```\r\npublic abstract class ChildA extends ParentAbstract {}\r\n```\r\n\r\n\r\nIf I have a method that returns a list of ChildA that looks like this:\r\n```\r\nprivate List&lt;ChildA&gt; results() {\r\n  return new ArrayList&lt;ChildA&gt;();\r\n}\r\n````\r\n\r\nWhy can&#39;t I use this method like so? Which calls the above results method\r\n```\r\nprivate List&lt;Parent&lt;?&gt;&gt; absctractResults() {\r\n  return results();\r\n}\r\n````\r\nThe compiler will throw \r\n```\r\njava: incompatible types: List&lt;ChildA&gt; cannot be converted to List&lt;Parent&lt;?&gt;&gt;\r\n```\r\n\r\nWhy can&#39;t the compiler allow that and how to make a method that returns a list of the abstract class that calls other methods returning the child classes?\r\n","title":"How to return the parent Abstract class instead of the Child classes in Java","body":"<p>Imagine that I have a Parent abstract class</p>\n<pre><code>public abstract class ParentAbstract {}\n</code></pre>\n<p>And one Child</p>\n<pre><code>public abstract class ChildA extends ParentAbstract {}\n</code></pre>\n<p>If I have a method that returns a list of ChildA that looks like this:</p>\n<pre><code>private List&lt;ChildA&gt; results() {\n  return new ArrayList&lt;ChildA&gt;();\n}\n</code></pre>\n<p>Why can't I use this method like so? Which calls the above results method</p>\n<pre><code>private List&lt;Parent&lt;?&gt;&gt; absctractResults() {\n  return results();\n}\n</code></pre>\n<p>The compiler will throw</p>\n<pre><code>java: incompatible types: List&lt;ChildA&gt; cannot be converted to List&lt;Parent&lt;?&gt;&gt;\n</code></pre>\n<p>Why can't the compiler allow that and how to make a method that returns a list of the abstract class that calls other methods returning the child classes?</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":0,"creation_date":1470948537,"post_id":38905739,"comment_id":65170150,"body_markdown":"have you read the official documentation?","body":"have you read the official documentation?"},{"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"score":0,"creation_date":1470949222,"post_id":38905739,"comment_id":65170531,"body_markdown":"Yes, sure. These ones http://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/g1_gc.html &amp; http://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/g1_gc_tuning.html","body":"Yes, sure. These ones <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/g1_gc.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/&hellip;</a> &amp; <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/g1_gc_tuning.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/&hellip;</a>"},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1470949291,"post_id":38905739,"comment_id":65170565,"body_markdown":"Do you happen to explicitly call `System.gc()` from your application?","body":"Do you happen to explicitly call <code>System.gc()</code> from your application?"},{"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"score":0,"creation_date":1470949371,"post_id":38905739,"comment_id":65170599,"body_markdown":"No, I do not call gc() explicitly.","body":"No, I do not call gc() explicitly."},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1470949959,"post_id":38905739,"comment_id":65170857,"body_markdown":"It wouldn&#39;t hurt to try with `-XX:+DisableExplicitGC` in any case.","body":"It wouldn&#39;t hurt to try with <code>-XX:+DisableExplicitGC</code> in any case."},{"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"score":0,"creation_date":1470950207,"post_id":38905739,"comment_id":65171000,"body_markdown":"My application has many allocations which could be easily called &quot;humongous allocations&quot;. Now I read that I should avoid those when using G1GC. What should I tune if I know that I have a base RAM usage of ~38g and just a few GB living objects on top? This this presentation http://presentations2015.s3.amazonaws.com/40_presentation.pdf","body":"My application has many allocations which could be easily called &quot;humongous allocations&quot;. Now I read that I should avoid those when using G1GC. What should I tune if I know that I have a base RAM usage of ~38g and just a few GB living objects on top? This this presentation <a href=\"http://presentations2015.s3.amazonaws.com/40_presentation.pdf\" rel=\"nofollow noreferrer\">presentations2015.s3.amazonaws.com/40_presentation.pdf</a>"}],"answers":[{"tags":[],"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1633434322,"creation_date":1470950222,"answer_id":38906293,"question_id":38905739,"body_markdown":"&gt; Why is GCG1 still doing a &quot;stop the world&quot; for this? \r\n\r\nBecause G1 is not a *pauseless* collector, it is just a *low-pause* collector.\r\n\r\n&gt; Also I thought that the default value for -XX:MaxGCPauseMillis is 200 milliseconds, why is this value violated by a factor of 29 or even 50 (see below)?\r\n\r\nIt is, but it&#39;s just a goal, not a guarantee. Many things can cause it to fail to meet that goal. You got a fairly large heap, this makes things more difficult, i.e. failures are easier to provoke.\r\n\r\nAnyway, the GC tuning journey starts with enabling verbose GC logging via\r\n\r\n    -Xloggc:&lt;path to gc log file&gt;\r\n    -XX:+PrintAdaptiveSizePolicy\r\n    -XX:+PrintGCDateStamps\r\n    -XX:+PrintGCTimeStamps\r\n    -XX:+PrintGCDetails\r\n\r\nUpdate: These options are for hotspot 8. 9 and later use [unified logging][1] which has a different parameter format.\r\n\r\nand then running the resulting log through [GCViewer][2] to get a general overview and then going back to [reading individual log entries][3] (there are many answers/blog posts on this topic) to figure out what might be causing the worst behavior. Depending on the cause various remedies can be tried.\r\n\r\nSome general understanding of how tracing garbage collectors work in general and G1 will be necessary to avoid cargo-culting.\r\n\r\n&gt; My application has many allocations which could be easily called &quot;humongous allocations&quot;.\r\n\r\nIf that actually is the cause then current VMs have some [experimental options][4] to reclaim them sooner.\r\n\r\n&gt;      [Object Copy (ms): Min: 6964.1, Avg: 6973.0, Max: 6989.5, Diff: 25.3, Sum: 69730.4]\r\n&gt;      [Times: user=0.55 sys=46.58, real=7.02 secs] \r\n\r\nThis means it spends most of the time in the kernel when doing something that should mostly consist of memory accesses and not system calls. So swap activity or [transparent huge pages][5] are likely suspects.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41678557/how-to-list-syntax-and-available-tags-for-xlog\r\n  [2]: https://github.com/chewiebug/GCViewer\r\n  [3]: https://stackoverflow.com/q/7442742/1362755\r\n  [4]: https://stackoverflow.com/a/28065423/1362755\r\n  [5]: https://tobert.github.io/tldr/cassandra-java-huge-pages.html","title":"Java garbage collector G1GC taking long for &#39;Object Copy&#39; (Evacuation Pause)","body":"<blockquote>\n<p>Why is GCG1 still doing a &quot;stop the world&quot; for this?</p>\n</blockquote>\n<p>Because G1 is not a <em>pauseless</em> collector, it is just a <em>low-pause</em> collector.</p>\n<blockquote>\n<p>Also I thought that the default value for -XX:MaxGCPauseMillis is 200 milliseconds, why is this value violated by a factor of 29 or even 50 (see below)?</p>\n</blockquote>\n<p>It is, but it's just a goal, not a guarantee. Many things can cause it to fail to meet that goal. You got a fairly large heap, this makes things more difficult, i.e. failures are easier to provoke.</p>\n<p>Anyway, the GC tuning journey starts with enabling verbose GC logging via</p>\n<pre><code>-Xloggc:&lt;path to gc log file&gt;\n-XX:+PrintAdaptiveSizePolicy\n-XX:+PrintGCDateStamps\n-XX:+PrintGCTimeStamps\n-XX:+PrintGCDetails\n</code></pre>\n<p>Update: These options are for hotspot 8. 9 and later use <a href=\"https://stackoverflow.com/questions/41678557/how-to-list-syntax-and-available-tags-for-xlog\">unified logging</a> which has a different parameter format.</p>\n<p>and then running the resulting log through <a href=\"https://github.com/chewiebug/GCViewer\" rel=\"nofollow noreferrer\">GCViewer</a> to get a general overview and then going back to <a href=\"https://stackoverflow.com/q/7442742/1362755\">reading individual log entries</a> (there are many answers/blog posts on this topic) to figure out what might be causing the worst behavior. Depending on the cause various remedies can be tried.</p>\n<p>Some general understanding of how tracing garbage collectors work in general and G1 will be necessary to avoid cargo-culting.</p>\n<blockquote>\n<p>My application has many allocations which could be easily called &quot;humongous allocations&quot;.</p>\n</blockquote>\n<p>If that actually is the cause then current VMs have some <a href=\"https://stackoverflow.com/a/28065423/1362755\">experimental options</a> to reclaim them sooner.</p>\n<blockquote>\n<pre><code> [Object Copy (ms): Min: 6964.1, Avg: 6973.0, Max: 6989.5, Diff: 25.3, Sum: 69730.4]\n [Times: user=0.55 sys=46.58, real=7.02 secs] \n</code></pre>\n</blockquote>\n<p>This means it spends most of the time in the kernel when doing something that should mostly consist of memory accesses and not system calls. So swap activity or <a href=\"https://tobert.github.io/tldr/cassandra-java-huge-pages.html\" rel=\"nofollow noreferrer\">transparent huge pages</a> are likely suspects.</p>\n"},{"tags":[],"owner":{"account_id":16789460,"reputation":1,"user_id":12137499,"display_name":"user12137499"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583005877,"creation_date":1583005877,"answer_id":60469040,"question_id":38905739,"body_markdown":"Please note that the number of GC worker threads is 10. \r\nIf the number of system CPUs is small, serious resource contention will occur, resulting in a significant increase in the time consumption of memory copy.","title":"Java garbage collector G1GC taking long for &#39;Object Copy&#39; (Evacuation Pause)","body":"<p>Please note that the number of GC worker threads is 10. \nIf the number of system CPUs is small, serious resource contention will occur, resulting in a significant increase in the time consumption of memory copy.</p>\n"}],"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9640,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":38906293,"answer_count":2,"score":13,"last_activity_date":1633434322,"creation_date":1470948044,"question_id":38905739,"body_markdown":"I&#39;m not a Java newby but I know only a tiny bit about garbage collection. Now I would like to change that with some practical experiences. My goal is a latency of under 0.3 seconds, or in extreme cases 0.5 is okay too.\r\n\r\nI have an application with -Xmx50gb (-Xms50gb) and set the other following GC options:\r\n\r\n    -XX:+UseG1GC -Xloggc:somewhere.gc.log -XX:+PrintGCDateStamps\r\n\r\nBut now I&#39;m occasionally having long pauses over 5sec due to garbage collections and that although there seems to be enough memory available. One reason I found: \r\n\r\n    [GC pause (G1 Evacuation Pause) (young) 42G-&gt;40G(48G), 5.9409662 secs]\r\n\r\nWhy is GCG1 still doing a &quot;stop the world&quot; for this? (Or at least I see that it stops my application at exactly this time) And why does it do such a negative cleanup if it is not really necessary as there is over 12% of the available RAM free. Also I thought that the default value for `-XX:MaxGCPauseMillis` is 200 milliseconds, why is this value violated by a factor of 29 or even 50 (see below)?\r\n\r\nAnother reason for a delay was:\r\n \r\n    [GC pause (Metadata GC Threshold) (young) (initial-mark) 40G-&gt;39G(48G), 10.4667233 secs]\r\n\r\nThis will be probably solved [via this answer](https://stackoverflow.com/q/25251388/194609) e.g. just increasing the metadata space `-XX:MetaspaceSize=100M`\r\n\r\nBTW: Using JSE 1.8.0_91-b14\r\n\r\n**Update:** detailed GC log of such an event\r\n\r\n    2016-08-12T09:20:31.589+0200: 1178.312: [GC pause (G1 Evacuation Pause) (young) 1178.312: [G1Ergonomics (CSet Construction) start choosing CSet, _pending_cards: 3159, predicted base time: 1.52 ms, remaining time: 198.48 ms, target pause time: 200.00 ms]\r\n     1178.312: [G1Ergonomics (CSet Construction) add young regions to CSet, eden: 136 regions, survivors: 20 regions, predicted young region time: 1924.75 ms]\r\n     1178.312: [G1Ergonomics (CSet Construction) finish choosing CSet, eden: 136 regions, survivors: 20 regions, old: 0 regions, predicted pause time: 1926.27 ms, target pause time: 200.00 ms]\r\n     1185.330: [G1Ergonomics (Heap Sizing) attempt heap expansion, reason: recent GC overhead higher than threshold after GC, recent GC overhead: 21.83 %, threshold: 10.00 %, uncommitted: 0 bytes, calculated expansion amount: 0 bytes (20.00 %)]\r\n     1185.330: [G1Ergonomics (Concurrent Cycles) do not request concurrent cycle initiation, reason: still doing mixed collections, occupancy: 42580574208 bytes, allocation request: 0 bytes, threshold: 23592960000 bytes (45.00 %), source: end of GC]\r\n     1185.330: [G1Ergonomics (Mixed GCs) do not start mixed GCs, reason: reclaimable percentage not over threshold, candidate old regions: 1 regions, reclaimable: 3381416 bytes (0.01 %), threshold: 5.00 %]\r\n    , 7.0181903 secs]\r\n       [Parallel Time: 6991.8 ms, GC Workers: 10]\r\n          [GC Worker Start (ms): Min: 1178312.6, Avg: 1178312.8, Max: 1178312.9, Diff: 0.2]\r\n          [Ext Root Scanning (ms): Min: 1.1, Avg: 1.5, Max: 2.3, Diff: 1.2, Sum: 15.0]\r\n          [Update RS (ms): Min: 0.0, Avg: 0.3, Max: 1.3, Diff: 1.3, Sum: 3.4]\r\n             [Processed Buffers: Min: 0, Avg: 2.1, Max: 5, Diff: 5, Sum: 21]\r\n          [Scan RS (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.1, Sum: 0.4]\r\n          [Code Root Scanning (ms): Min: 0.0, Avg: 0.2, Max: 0.4, Diff: 0.4, Sum: 1.7]\r\n          [Object Copy (ms): Min: 6964.1, Avg: 6973.0, Max: 6989.5, Diff: 25.3, Sum: 69730.4]\r\n          [Termination (ms): Min: 0.0, Avg: 16.4, Max: 25.3, Diff: 25.3, Sum: 164.4]\r\n             [Termination Attempts: Min: 1, Avg: 3.2, Max: 13, Diff: 12, Sum: 32]\r\n          [GC Worker Other (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.2]\r\n          [GC Worker Total (ms): Min: 6991.5, Avg: 6991.6, Max: 6991.7, Diff: 0.2, Sum: 69915.5]\r\n          [GC Worker End (ms): Min: 1185304.3, Avg: 1185304.3, Max: 1185304.3, Diff: 0.0]\r\n       [Code Root Fixup: 0.1 ms]\r\n       [Code Root Purge: 0.0 ms]\r\n       [Clear CT: 0.3 ms]\r\n       [Other: 26.0 ms]\r\n          [Choose CSet: 0.0 ms]\r\n          [Ref Proc: 25.3 ms]\r\n          [Ref Enq: 0.1 ms]\r\n     [Redirty Cards: 0.1 ms]\r\n          [Humongous Register: 0.2 ms]\r\n          [Humongous Reclaim: 0.0 ms]\r\n          [Free CSet: 0.2 ms]\r\n       [Eden: 2176.0M(2176.0M)-&gt;0.0B(2176.0M) Survivors: 320.0M-&gt;320.0M Heap: 40.6G(48.8G)-&gt;40.0G(48.8G)]\r\n     [Times: user=0.55 sys=46.58, real=7.02 secs] \r\n\r\nRead [here][1] about it: Copying (Stop the World Event) - These are the stop the world pauses to evacuate or copy live objects to new unused regions. This can be done with young generation regions which are logged as [GC pause (young)]. Or both young and old generation regions which are logged as [GC Pause (mixed)].\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/tutorials/tutorials-1876574.html","title":"Java garbage collector G1GC taking long for &#39;Object Copy&#39; (Evacuation Pause)","body":"<p>I'm not a Java newby but I know only a tiny bit about garbage collection. Now I would like to change that with some practical experiences. My goal is a latency of under 0.3 seconds, or in extreme cases 0.5 is okay too.</p>\n\n<p>I have an application with -Xmx50gb (-Xms50gb) and set the other following GC options:</p>\n\n<pre><code>-XX:+UseG1GC -Xloggc:somewhere.gc.log -XX:+PrintGCDateStamps\n</code></pre>\n\n<p>But now I'm occasionally having long pauses over 5sec due to garbage collections and that although there seems to be enough memory available. One reason I found: </p>\n\n<pre><code>[GC pause (G1 Evacuation Pause) (young) 42G-&gt;40G(48G), 5.9409662 secs]\n</code></pre>\n\n<p>Why is GCG1 still doing a \"stop the world\" for this? (Or at least I see that it stops my application at exactly this time) And why does it do such a negative cleanup if it is not really necessary as there is over 12% of the available RAM free. Also I thought that the default value for <code>-XX:MaxGCPauseMillis</code> is 200 milliseconds, why is this value violated by a factor of 29 or even 50 (see below)?</p>\n\n<p>Another reason for a delay was:</p>\n\n<pre><code>[GC pause (Metadata GC Threshold) (young) (initial-mark) 40G-&gt;39G(48G), 10.4667233 secs]\n</code></pre>\n\n<p>This will be probably solved <a href=\"https://stackoverflow.com/q/25251388/194609\">via this answer</a> e.g. just increasing the metadata space <code>-XX:MetaspaceSize=100M</code></p>\n\n<p>BTW: Using JSE 1.8.0_91-b14</p>\n\n<p><strong>Update:</strong> detailed GC log of such an event</p>\n\n<pre><code>2016-08-12T09:20:31.589+0200: 1178.312: [GC pause (G1 Evacuation Pause) (young) 1178.312: [G1Ergonomics (CSet Construction) start choosing CSet, _pending_cards: 3159, predicted base time: 1.52 ms, remaining time: 198.48 ms, target pause time: 200.00 ms]\n 1178.312: [G1Ergonomics (CSet Construction) add young regions to CSet, eden: 136 regions, survivors: 20 regions, predicted young region time: 1924.75 ms]\n 1178.312: [G1Ergonomics (CSet Construction) finish choosing CSet, eden: 136 regions, survivors: 20 regions, old: 0 regions, predicted pause time: 1926.27 ms, target pause time: 200.00 ms]\n 1185.330: [G1Ergonomics (Heap Sizing) attempt heap expansion, reason: recent GC overhead higher than threshold after GC, recent GC overhead: 21.83 %, threshold: 10.00 %, uncommitted: 0 bytes, calculated expansion amount: 0 bytes (20.00 %)]\n 1185.330: [G1Ergonomics (Concurrent Cycles) do not request concurrent cycle initiation, reason: still doing mixed collections, occupancy: 42580574208 bytes, allocation request: 0 bytes, threshold: 23592960000 bytes (45.00 %), source: end of GC]\n 1185.330: [G1Ergonomics (Mixed GCs) do not start mixed GCs, reason: reclaimable percentage not over threshold, candidate old regions: 1 regions, reclaimable: 3381416 bytes (0.01 %), threshold: 5.00 %]\n, 7.0181903 secs]\n   [Parallel Time: 6991.8 ms, GC Workers: 10]\n      [GC Worker Start (ms): Min: 1178312.6, Avg: 1178312.8, Max: 1178312.9, Diff: 0.2]\n      [Ext Root Scanning (ms): Min: 1.1, Avg: 1.5, Max: 2.3, Diff: 1.2, Sum: 15.0]\n      [Update RS (ms): Min: 0.0, Avg: 0.3, Max: 1.3, Diff: 1.3, Sum: 3.4]\n         [Processed Buffers: Min: 0, Avg: 2.1, Max: 5, Diff: 5, Sum: 21]\n      [Scan RS (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.1, Sum: 0.4]\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.2, Max: 0.4, Diff: 0.4, Sum: 1.7]\n      [Object Copy (ms): Min: 6964.1, Avg: 6973.0, Max: 6989.5, Diff: 25.3, Sum: 69730.4]\n      [Termination (ms): Min: 0.0, Avg: 16.4, Max: 25.3, Diff: 25.3, Sum: 164.4]\n         [Termination Attempts: Min: 1, Avg: 3.2, Max: 13, Diff: 12, Sum: 32]\n      [GC Worker Other (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.2]\n      [GC Worker Total (ms): Min: 6991.5, Avg: 6991.6, Max: 6991.7, Diff: 0.2, Sum: 69915.5]\n      [GC Worker End (ms): Min: 1185304.3, Avg: 1185304.3, Max: 1185304.3, Diff: 0.0]\n   [Code Root Fixup: 0.1 ms]\n   [Code Root Purge: 0.0 ms]\n   [Clear CT: 0.3 ms]\n   [Other: 26.0 ms]\n      [Choose CSet: 0.0 ms]\n      [Ref Proc: 25.3 ms]\n      [Ref Enq: 0.1 ms]\n [Redirty Cards: 0.1 ms]\n      [Humongous Register: 0.2 ms]\n      [Humongous Reclaim: 0.0 ms]\n      [Free CSet: 0.2 ms]\n   [Eden: 2176.0M(2176.0M)-&gt;0.0B(2176.0M) Survivors: 320.0M-&gt;320.0M Heap: 40.6G(48.8G)-&gt;40.0G(48.8G)]\n [Times: user=0.55 sys=46.58, real=7.02 secs] \n</code></pre>\n\n<p>Read <a href=\"http://www.oracle.com/technetwork/tutorials/tutorials-1876574.html\" rel=\"noreferrer\">here</a> about it: Copying (Stop the World Event) - These are the stop the world pauses to evacuate or copy live objects to new unused regions. This can be done with young generation regions which are logged as [GC pause (young)]. Or both young and old generation regions which are logged as [GC Pause (mixed)].</p>\n"},{"tags":["java","heap-dump","jmap"],"comments":[{"owner":{"account_id":390163,"reputation":17713,"user_id":750040,"accept_rate":68,"display_name":"Santosh"},"score":0,"creation_date":1363014872,"post_id":15341833,"comment_id":21668623,"body_markdown":"do you need to read the binary data ?","body":"do you need to read the binary data ?"},{"owner":{"account_id":1041848,"reputation":2251,"user_id":1047723,"accept_rate":86,"display_name":"pbespechnyi"},"score":0,"creation_date":1363017902,"post_id":15341833,"comment_id":21670657,"body_markdown":"@Santosh, I need to build a histogram of Class instances amount form heap dump. So, yes, I need to read binary data.","body":"@Santosh, I need to build a histogram of Class instances amount form heap dump. So, yes, I need to read binary data."}],"answers":[{"tags":[],"owner":{"account_id":100664,"reputation":8069,"user_id":271236,"display_name":"jalopaba"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1363017942,"creation_date":1363017942,"answer_id":15343210,"question_id":15341833,"body_markdown":"If you need an histogram of the heap, you can use `jmap -histo &lt;pid&gt;` to get the histogram from your live JVM. If you already have the heap dump file, with [Eclipse MAT][1] (Eclipse Memory Analyzer Tool) you can load the dump and easily get the histogram you are looking for.\r\n\r\nMaybe [Lars Vogel tiny tutorial on it][2] can be an easy first step.\r\n\r\nRegarding the *hprof binary format*, I bookmarked this some time ago: http://java.net/downloads/heap-snapshot/hprof-binary-format.html, but developing your own parser to get an histogram is totaly overkill.\r\n\r\n\r\n  [1]: http://www.eclipse.org/mat/\r\n  [2]: http://www.vogella.com/articles/EclipseMemoryAnalyser/article.html","title":"JMap dump format specification","body":"<p>If you need an histogram of the heap, you can use <code>jmap -histo &lt;pid&gt;</code> to get the histogram from your live JVM. If you already have the heap dump file, with <a href=\"http://www.eclipse.org/mat/\" rel=\"nofollow\">Eclipse MAT</a> (Eclipse Memory Analyzer Tool) you can load the dump and easily get the histogram you are looking for.</p>\n\n<p>Maybe <a href=\"http://www.vogella.com/articles/EclipseMemoryAnalyser/article.html\" rel=\"nofollow\">Lars Vogel tiny tutorial on it</a> can be an easy first step.</p>\n\n<p>Regarding the <em>hprof binary format</em>, I bookmarked this some time ago: <a href=\"http://java.net/downloads/heap-snapshot/hprof-binary-format.html\" rel=\"nofollow\">http://java.net/downloads/heap-snapshot/hprof-binary-format.html</a>, but developing your own parser to get an histogram is totaly overkill.</p>\n"},{"tags":[],"owner":{"account_id":1301537,"reputation":95,"user_id":1251323,"accept_rate":75,"display_name":"user1251323"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366308618,"creation_date":1366308618,"answer_id":16090223,"question_id":15341833,"body_markdown":"Other simpler solution for histogram is to use [jhat][1] without being worried about the format. you can drill down and do various things.\r\n\r\n\r\n  [1]: http://ranjanrakesh.wordpress.com/2013/04/17/java-memory-analysis-just-using-jdk/","title":"JMap dump format specification","body":"<p>Other simpler solution for histogram is to use <a href=\"http://ranjanrakesh.wordpress.com/2013/04/17/java-memory-analysis-just-using-jdk/\" rel=\"nofollow\">jhat</a> without being worried about the format. you can drill down and do various things.</p>\n"}],"owner":{"account_id":1041848,"reputation":2251,"user_id":1047723,"accept_rate":86,"display_name":"pbespechnyi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2699,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":15343210,"answer_count":2,"score":1,"last_activity_date":1633434303,"creation_date":1363014136,"question_id":15341833,"body_markdown":"Are there any open specifications for jmap heap dump format?\r\n\r\nThanks for help!","title":"JMap dump format specification","body":"<p>Are there any open specifications for jmap heap dump format?</p>\n\n<p>Thanks for help!</p>\n"},{"tags":["java","heap-dump"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1371402655,"post_id":17135721,"comment_id":24798667,"body_markdown":"Have you tried and generated a heap dump manually on a runnning JVM using `jmap`?","body":"Have you tried and generated a heap dump manually on a runnning JVM using <code>jmap</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1308022,"reputation":9735,"user_id":1256583,"display_name":"darijan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1435088249,"creation_date":1371402718,"answer_id":17135759,"question_id":17135721,"body_markdown":"You can do it manually, using Java JDK&#39;s `jmap.exe`.\r\n\r\n - You get the `PID` of your process.\r\n - Navigate to %JAVA_HOME%/bin/ (JDK)\r\n - In the console (Command Prompt) type `jmap.exe -dump:format=b,file=C:\\dump\\dump.bin PID`\r\n  - dump file is saved in the path you provide (in my example is `C:\\dump\\dump.bin`)\r\n\r\nThen you can use NetBeans IDE to analyze this dump. It has an inbuilt tools, just import the `dump.bin`.","title":"Generating Heap Dumps Java JRE7","body":"<p>You can do it manually, using Java JDK's <code>jmap.exe</code>.</p>\n\n<ul>\n<li>You get the <code>PID</code> of your process.</li>\n<li>Navigate to %JAVA_HOME%/bin/ (JDK)</li>\n<li>In the console (Command Prompt) type <code>jmap.exe -dump:format=b,file=C:\\dump\\dump.bin PID</code>\n\n<ul>\n<li>dump file is saved in the path you provide (in my example is <code>C:\\dump\\dump.bin</code>)</li>\n</ul></li>\n</ul>\n\n<p>Then you can use NetBeans IDE to analyze this dump. It has an inbuilt tools, just import the <code>dump.bin</code>.</p>\n"}],"owner":{"account_id":2905740,"reputation":63,"user_id":2491165,"display_name":"user2491165"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3055,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":17135759,"answer_count":1,"score":6,"last_activity_date":1633434277,"creation_date":1371402478,"question_id":17135721,"body_markdown":"I&#39;m trying to generate a heap dump from my java program, but no matter what I seem to try I can&#39;t seem to figure out how to do so. \r\n\r\nI downloaded the Eclipse Memory Analyzer (Plugin and then Standalone) which is supposed to be able to aquire heat dumps from active jre processes.. yet it lists none. The documentation lists several otherways of generating them, but I can&#39;t seem to make any of them work, or they refer to something that just doesn&#39;t seem to exist on my system. Same applies from anything I&#39;ve managed to find on the web...\r\n\r\nThe program isn&#39;t causing an out of memory exception, its just using far more resources then I&#39;m expecting it too.\r\n\r\nI&#39;m just at a complete loss at how exactly its supposed to be done :/\r\n\r\nAny help would be appreciated thanks.","title":"Generating Heap Dumps Java JRE7","body":"<p>I'm trying to generate a heap dump from my java program, but no matter what I seem to try I can't seem to figure out how to do so. </p>\n\n<p>I downloaded the Eclipse Memory Analyzer (Plugin and then Standalone) which is supposed to be able to aquire heat dumps from active jre processes.. yet it lists none. The documentation lists several otherways of generating them, but I can't seem to make any of them work, or they refer to something that just doesn't seem to exist on my system. Same applies from anything I've managed to find on the web...</p>\n\n<p>The program isn't causing an out of memory exception, its just using far more resources then I'm expecting it too.</p>\n\n<p>I'm just at a complete loss at how exactly its supposed to be done :/</p>\n\n<p>Any help would be appreciated thanks.</p>\n"},{"tags":["java","heap-dump","jmap"],"comments":[{"owner":{"account_id":1521346,"reputation":2374,"user_id":1420898,"accept_rate":56,"display_name":"Luis Sep"},"score":0,"creation_date":1376644820,"post_id":18269356,"comment_id":26796751,"body_markdown":"Is jmap in your PATH?","body":"Is jmap in your PATH?"}],"answers":[{"tags":[],"owner":{"display_name":"user494461"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1376646499,"creation_date":1376646499,"answer_id":18270481,"question_id":18269356,"body_markdown":"I had to force it using -F\r\n\r\n    public static void dumpHeap()\r\n\r\n        {\r\n            System.out.println(&quot;dumping data&quot;);\r\n\r\n            String name = ManagementFactory.getRuntimeMXBean().getName();\r\n            System.out.println(&quot;name :&quot; + name);\r\n            String pid = name.substring(0, name.indexOf(&quot;@&quot;));\r\n            System.out.println(&quot;pid :&quot; + pid);\r\n\r\n            String[] cmd = { &quot;jmap&quot;, &quot;-dump:file=/Users/MyName/Desktop/dump.bin&quot;, &quot;-F&quot;, pid };\r\n            Process p;\r\n            try {\r\n                p = Runtime.getRuntime().exec(cmd);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n","title":"jmap dump not working","body":"<p>I had to force it using -F</p>\n\n<pre><code>public static void dumpHeap()\n\n    {\n        System.out.println(\"dumping data\");\n\n        String name = ManagementFactory.getRuntimeMXBean().getName();\n        System.out.println(\"name :\" + name);\n        String pid = name.substring(0, name.indexOf(\"@\"));\n        System.out.println(\"pid :\" + pid);\n\n        String[] cmd = { \"jmap\", \"-dump:file=/Users/MyName/Desktop/dump.bin\", \"-F\", pid };\n        Process p;\n        try {\n            p = Runtime.getRuntime().exec(cmd);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"}],"owner":{"display_name":"user494461"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":881,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18270481,"answer_count":1,"score":0,"last_activity_date":1633434245,"creation_date":1376642935,"question_id":18269356,"body_markdown":"       \r\n    \r\nno exception is thrown but I still cant find the dump.bin file in my desktop folder, is my path wrong?\r\n    \r\n    \r\n     public static void\tdumpHeap()\r\n        \t{\r\n        \t\tSystem.out.println(&quot;dumping data&quot;);\r\n        \t\t\r\n        \t\tString name = ManagementFactory.getRuntimeMXBean().getName();\r\n        \t\tSystem.out.println(&quot;name :&quot; + name);\r\n        \t\tString pid = name.substring(0, name.indexOf(&quot;@&quot;));\r\n        \t\tSystem.out.println(&quot;pid :&quot; + pid);\r\n        \r\n        \t\tString[] cmd = { &quot;jmap&quot;, &quot;-dump:file=/Users/MyName/Desktop/dump.bin&quot;, pid };\r\n        \t\tProcess p;\r\n        \t\ttry {\r\n        \t\t\tp = Runtime.getRuntime().exec(cmd);\r\n        \t\t} catch (IOException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}","title":"jmap dump not working","body":"<p>no exception is thrown but I still cant find the dump.bin file in my desktop folder, is my path wrong?</p>\n\n<pre><code> public static void dumpHeap()\n        {\n            System.out.println(\"dumping data\");\n\n            String name = ManagementFactory.getRuntimeMXBean().getName();\n            System.out.println(\"name :\" + name);\n            String pid = name.substring(0, name.indexOf(\"@\"));\n            System.out.println(\"pid :\" + pid);\n\n            String[] cmd = { \"jmap\", \"-dump:file=/Users/MyName/Desktop/dump.bin\", pid };\n            Process p;\n            try {\n                p = Runtime.getRuntime().exec(cmd);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n</code></pre>\n"},{"tags":["java","maven","command-line","properties","pom.xml"],"comments":[{"owner":{"account_id":109168,"reputation":31181,"user_id":289396,"accept_rate":89,"display_name":"JoseK"},"score":0,"creation_date":1400759633,"post_id":23802951,"comment_id":36619126,"body_markdown":"essentially you&#39;re looking for a way to read an xml file from your script - something like http://stackoverflow.com/q/4680143/289396","body":"essentially you&#39;re looking for a way to read an xml file from your script - something like <a href=\"http://stackoverflow.com/q/4680143/289396\">stackoverflow.com/q/4680143/289396</a>"},{"owner":{"account_id":1490764,"reputation":1434,"user_id":1397894,"accept_rate":100,"display_name":"spaceemotion"},"score":0,"creation_date":1400760406,"post_id":23802951,"comment_id":36619672,"body_markdown":"Well, I would like to not have to install another program - and I already got it working through &quot;native&quot; maven commands - thanks anyway!","body":"Well, I would like to not have to install another program - and I already got it working through &quot;native&quot; maven commands - thanks anyway!"},{"owner":{"account_id":5612953,"reputation":2976,"user_id":4445175,"accept_rate":33,"display_name":"Wlad"},"score":0,"creation_date":1597219629,"post_id":23802951,"comment_id":112058652,"body_markdown":"the second answer is better. it is not windows specific","body":"the second answer is better. it is not windows specific"}],"answers":[{"tags":[],"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1400758431,"creation_date":1400758431,"answer_id":23805666,"question_id":23802951,"body_markdown":"If you know the name of the property you want, you can get the value with:\r\n\r\n    mvn help:evaluate -Dexpression=[property-name] | findstr /R ^^[^^\\[INFO\\]]\r\n\r\nFor example:\r\n\r\n    mvn help:evaluate -Dexpression=basedir | findstr /R ^^[^^\\[INFO\\]]\r\n\r\nWill output:\r\n\r\n    C:\\Users\\nick\\Local\\Projects\\example\r\n\r\nThis obviously assumes your building on a Windows box with the `findstr` removing all the other logging that Maven does when it runs.  You&#39;ll be able to do something similar on Unix with a `grep`, but I leave that to you.","title":"Get pom.xml property from CommandLine","body":"<p>If you know the name of the property you want, you can get the value with:</p>\n\n<pre><code>mvn help:evaluate -Dexpression=[property-name] | findstr /R ^^[^^\\[INFO\\]]\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>mvn help:evaluate -Dexpression=basedir | findstr /R ^^[^^\\[INFO\\]]\n</code></pre>\n\n<p>Will output:</p>\n\n<pre><code>C:\\Users\\nick\\Local\\Projects\\example\n</code></pre>\n\n<p>This obviously assumes your building on a Windows box with the <code>findstr</code> removing all the other logging that Maven does when it runs.  You'll be able to do something similar on Unix with a <code>grep</code>, but I leave that to you.</p>\n"},{"tags":[],"owner":{"account_id":8631946,"reputation":1017,"user_id":6607763,"display_name":"Łukasz Kotyński"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1529313023,"creation_date":1529313023,"answer_id":50906059,"question_id":23802951,"body_markdown":"I know the question is old but I spent some time looking for this.\r\n\r\nTo filter output you may use flags &quot;-q -DforceStdout&quot; where &quot;-q&quot; prevents output and &quot;-DforceStdout&quot; forces outputting result of plugin. E.g.:\r\n\r\n    BUILD_VERSION=$(mvn help:evaluate -Dexpression=project.version -q -DforceStdout)\r\n    echo $BUILD_VERSION\r\n\r\nwill result in printing version of project from POM.\r\n\r\nSecond important problem I had was accessing &quot;properties&quot; which is explained in Nick Holt comment. To access properties you just access them directly\r\n\r\n    &lt;project ...&gt;\r\n        &lt;version&gt;123&lt;/version&gt;\r\n        (...)\r\n        &lt;properties&gt;\r\n            (...)\r\n            &lt;docker.registry&gt;docker.registry.com&lt;/docker.registry&gt;\r\n            (...)\r\n        &lt;/properties&gt;\r\n        (...)\r\n    &lt;/project&gt;\r\n\r\nWRONG\r\n\r\n    mvn help:evaluate -Dexpression=project.properties.docker.registry -q -DforceStdout\r\n\r\nOK\r\n\r\n    mvn help:evaluate -Dexpression=docker.registry -q -DforceStdout","title":"Get pom.xml property from CommandLine","body":"<p>I know the question is old but I spent some time looking for this.</p>\n\n<p>To filter output you may use flags \"-q -DforceStdout\" where \"-q\" prevents output and \"-DforceStdout\" forces outputting result of plugin. E.g.:</p>\n\n<pre><code>BUILD_VERSION=$(mvn help:evaluate -Dexpression=project.version -q -DforceStdout)\necho $BUILD_VERSION\n</code></pre>\n\n<p>will result in printing version of project from POM.</p>\n\n<p>Second important problem I had was accessing \"properties\" which is explained in Nick Holt comment. To access properties you just access them directly</p>\n\n<pre><code>&lt;project ...&gt;\n    &lt;version&gt;123&lt;/version&gt;\n    (...)\n    &lt;properties&gt;\n        (...)\n        &lt;docker.registry&gt;docker.registry.com&lt;/docker.registry&gt;\n        (...)\n    &lt;/properties&gt;\n    (...)\n&lt;/project&gt;\n</code></pre>\n\n<p>WRONG</p>\n\n<pre><code>mvn help:evaluate -Dexpression=project.properties.docker.registry -q -DforceStdout\n</code></pre>\n\n<p>OK</p>\n\n<pre><code>mvn help:evaluate -Dexpression=docker.registry -q -DforceStdout\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9316795,"reputation":1583,"user_id":6916890,"display_name":"lazylead"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633434242,"creation_date":1633434242,"answer_id":69449818,"question_id":23802951,"body_markdown":"You may try the following option by `github.com/jkot`\r\nhttps://gist.github.com/jkot/8668441#echo-all-available-maven-properties\r\n```xml\r\n&lt;!-- pom.xml --&gt;\r\n...\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    ...\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;run&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;tasks&gt;\r\n\t\t\t\t\t\t&lt;echoproperties /&gt;\r\n\t\t\t\t\t&lt;/tasks&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n...\r\n```\r\nrun `mvn validate` and you&#39;ll get all properties\r\n","title":"Get pom.xml property from CommandLine","body":"<p>You may try the following option by <code>github.com/jkot</code>\n<a href=\"https://gist.github.com/jkot/8668441#echo-all-available-maven-properties\" rel=\"nofollow noreferrer\">https://gist.github.com/jkot/8668441#echo-all-available-maven-properties</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- pom.xml --&gt;\n...\n&lt;build&gt;\n  &lt;plugins&gt;\n    ...\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;validate&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;run&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;tasks&gt;\n                        &lt;echoproperties /&gt;\n                    &lt;/tasks&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n...\n</code></pre>\n<p>run <code>mvn validate</code> and you'll get all properties</p>\n"}],"owner":{"account_id":1490764,"reputation":1434,"user_id":1397894,"accept_rate":100,"display_name":"spaceemotion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13842,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":50906059,"answer_count":3,"score":25,"last_activity_date":1633434242,"creation_date":1400751240,"question_id":23802951,"body_markdown":"I am currently writing a script for our Gitlab CI that automatically uploads files to an NFSShare folder in the network. Since I want to organize the builds and we&#39;re using maven, I thought I could &quot;easily&quot; get the project name from the pom.xml.\r\n\r\nIs there a way to get the properties available from within a pom.xml through a command-line tool or something? My only other way I could think of was &quot;regex-grepping the value by hand&quot; - not a very clean solution in my opinion.\r\n\r\nI already found the the properties plugin, but it only seem to ADD new properties through actual .properties files...\r\n\r\nAny help would be much appreciated!","title":"Get pom.xml property from CommandLine","body":"<p>I am currently writing a script for our Gitlab CI that automatically uploads files to an NFSShare folder in the network. Since I want to organize the builds and we're using maven, I thought I could \"easily\" get the project name from the pom.xml.</p>\n\n<p>Is there a way to get the properties available from within a pom.xml through a command-line tool or something? My only other way I could think of was \"regex-grepping the value by hand\" - not a very clean solution in my opinion.</p>\n\n<p>I already found the the properties plugin, but it only seem to ADD new properties through actual .properties files...</p>\n\n<p>Any help would be much appreciated!</p>\n"},{"tags":["java","jvm","heap-dump","jmap"],"answers":[{"tags":[],"owner":{"account_id":1416996,"reputation":2508,"user_id":1342427,"display_name":"ragnor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1381233829,"creation_date":1381233444,"answer_id":19247079,"question_id":19246321,"body_markdown":"Make sure that you&#39;re using jmap command from the same path (directory) as used to run process 19153. For me it seams that there are more than one JDK installed on host, one is used to run process 19153 and other to invoke jmap.\r\n\r\nYou can check java version using: `java -version`\r\n\r\nDo you use `-d64` JVM parameter to start process 19153?","title":"JMAP command and error of debuggee is 64 bit","body":"<p>Make sure that you're using jmap command from the same path (directory) as used to run process 19153. For me it seams that there are more than one JDK installed on host, one is used to run process 19153 and other to invoke jmap.</p>\n\n<p>You can check java version using: <code>java -version</code></p>\n\n<p>Do you use <code>-d64</code> JVM parameter to start process 19153?</p>\n"},{"tags":[],"owner":{"account_id":1774612,"reputation":748,"user_id":1618626,"accept_rate":33,"display_name":"Ketan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381479732,"creation_date":1381479732,"answer_id":19313519,"question_id":19246321,"body_markdown":"Thanks ragnor.\r\n\r\nI just had to add -d64 in the command.\r\n\r\n    ./jmap -d64 -heap:format=b 19153\r\n\r\nAs JVM is 64 bit so had to do this!","title":"JMAP command and error of debuggee is 64 bit","body":"<p>Thanks ragnor.</p>\n\n<p>I just had to add -d64 in the command.</p>\n\n<pre><code>./jmap -d64 -heap:format=b 19153\n</code></pre>\n\n<p>As JVM is 64 bit so had to do this!</p>\n"}],"owner":{"account_id":1774612,"reputation":748,"user_id":1618626,"accept_rate":33,"display_name":"Ketan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4786,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19247079,"answer_count":2,"score":0,"last_activity_date":1633434200,"creation_date":1381231137,"question_id":19246321,"body_markdown":"&lt;br&gt;&lt;br&gt;\r\nI need heap dump of the web logic server that&#39;s running on IST environment. I don&#39;t have access to that so I have asked support team to do that. The command that&#39;s executed is as following on UNIX:\r\n\r\n**./jmap -heap:format=b 19153**\r\n\r\nWhen support team executes the command, they get below output:\r\n\r\nAttaching to process ID 19153, please wait...&lt;br&gt;\r\nError attaching to process:Attach failed : debuggee is 64 bit, use java -d64 for debugger\r\n\r\nI think server is 64 bit, but what this suggestion is saying? Does it mean the server should be started with that flag in the command?\r\n\r\nI tried to look for such issue on Internet, but I get nothing useful. Do any one has idea how to get to the solution!!!??? \r\n\r\nI thank you all for extending your kind help!\r\n\r\nRegards,&lt;br&gt;\r\nKetan\r\n\r\n","title":"JMAP command and error of debuggee is 64 bit","body":"<p><br><br>\nI need heap dump of the web logic server that's running on IST environment. I don't have access to that so I have asked support team to do that. The command that's executed is as following on UNIX:</p>\n\n<p><strong>./jmap -heap:format=b 19153</strong></p>\n\n<p>When support team executes the command, they get below output:</p>\n\n<p>Attaching to process ID 19153, please wait...<br>\nError attaching to process:Attach failed : debuggee is 64 bit, use java -d64 for debugger</p>\n\n<p>I think server is 64 bit, but what this suggestion is saying? Does it mean the server should be started with that flag in the command?</p>\n\n<p>I tried to look for such issue on Internet, but I get nothing useful. Do any one has idea how to get to the solution!!!??? </p>\n\n<p>I thank you all for extending your kind help!</p>\n\n<p>Regards,<br>\nKetan</p>\n"},{"tags":["java","process","heap-memory","dump"],"answers":[{"tags":[],"owner":{"account_id":6235409,"reputation":74,"user_id":4850886,"display_name":"scir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430408850,"creation_date":1430401238,"answer_id":29969338,"question_id":29968465,"body_markdown":"If you still have access via SSH/telnet you could use:\r\n\r\n     kill -QUIT &lt;pid&gt;\r\n\r\nas you described in you quotation.\r\n\r\nOther option in to access the application via JMX, i.e. jconsole or jvisialvm  \r\n\r\nTo use JMX you need enabled JMX via the command line of the application","title":"Generate heap dump without JDK - SIGQUIT to application?","body":"<p>If you still have access via SSH/telnet you could use:</p>\n\n<pre><code> kill -QUIT &lt;pid&gt;\n</code></pre>\n\n<p>as you described in you quotation.</p>\n\n<p>Other option in to access the application via JMX, i.e. jconsole or jvisialvm  </p>\n\n<p>To use JMX you need enabled JMX via the command line of the application</p>\n"}],"owner":{"account_id":1101469,"reputation":545,"user_id":1093782,"accept_rate":50,"display_name":"98percentmonkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633434159,"creation_date":1430398882,"question_id":29968465,"body_markdown":"any idea how do generate a java heapdump without JDK?\r\nI&#39;m able to obtain the processid but I don&#39;t have access to the machine directly and there&#39;s no JDK installed.\r\n\r\n&gt; You can alternatively use the JVM parameter -XX:+HeapDumpOnCtrlBreak\r\n&gt; and send a SIGQUIT signal (-3 kill for Unix and Ctrl-Break for\r\n&gt; Windows) to the running Java process – the signal will also create a\r\n&gt; heapdump without aborting the JVM\r\n\r\nIs there an easier way? and how can I send a SIGQUIT to the process?\r\n\r\nThank you for your help\r\n","title":"Generate heap dump without JDK - SIGQUIT to application?","body":"<p>any idea how do generate a java heapdump without JDK?\nI'm able to obtain the processid but I don't have access to the machine directly and there's no JDK installed.</p>\n\n<blockquote>\n  <p>You can alternatively use the JVM parameter -XX:+HeapDumpOnCtrlBreak\n  and send a SIGQUIT signal (-3 kill for Unix and Ctrl-Break for\n  Windows) to the running Java process – the signal will also create a\n  heapdump without aborting the JVM</p>\n</blockquote>\n\n<p>Is there an easier way? and how can I send a SIGQUIT to the process?</p>\n\n<p>Thank you for your help</p>\n"},{"tags":["java","jvm","heap-dump"],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1467880554,"creation_date":1467798532,"answer_id":38221034,"question_id":38219660,"body_markdown":"Use `jmap` without `-F` option - it will be a way faster. \r\n\r\nThe difference is described in [this answer](https://stackoverflow.com/questions/26140182/running-jmap-getting-unable-to-opensocket-file/35963059#35963059).\r\n\r\nNote that without `-F` jmap should be run under the same user/group as the target process.","title":"Is there a command line method to get a jvm heap dump besides jmap?","body":"<p>Use <code>jmap</code> without <code>-F</code> option - it will be a way faster. </p>\n\n<p>The difference is described in <a href=\"https://stackoverflow.com/questions/26140182/running-jmap-getting-unable-to-opensocket-file/35963059#35963059\">this answer</a>.</p>\n\n<p>Note that without <code>-F</code> jmap should be run under the same user/group as the target process.</p>\n"}],"owner":{"account_id":8766848,"reputation":13,"user_id":6554904,"display_name":"Forest Soup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38221034,"answer_count":1,"score":0,"last_activity_date":1633434140,"creation_date":1467794400,"question_id":38219660,"body_markdown":"We are using oracle jvm 1.8 64bit in linux.\r\n\r\nWe know jmap can get jvm heap dump:\r\n\r\n    jmap -F -dump:format=b,file=***filepath*** ***pid***\r\n\r\nBut it&#39;s slow. \r\n\r\nWe know with JVisualVM and JConsole connecting to JMX can also get a heap dump, and it&#39;s very quick. But they are with GUI. \r\n\r\nHowever, in our product environment, there is no GUI. And no machine with GUI can access that environment.\r\n\r\nSo our question is - \r\nCan JVisualVM and JConsole support a command line to do heap dump? \r\nOr\r\nIs there a command line method to get a jvm heap dump besides jmap? \r\n\r\n\r\nWe tried today -\r\n\r\n1, using jvisualvm(remote jmx), we can get heap dump successfully\r\n\r\n2, using jmap without -F option, the dump failed:\r\n\r\n[root@panda01 ~]# jmap -dump:format=b,file=/tmp/heapdump.31941.hprof 31941\r\n\r\n31941: Unable to open socket file: target process not responding or HotSpot VM not loaded\r\n\r\nThe -F option can be used when the target process is not responding\r\n\r\n3, using jmap with -F option, the dump successfully, but slow:\r\n\r\n[root@panda01 ~]# jmap -F -dump:format=b,file=/tmp/heapdump.31941.hprof 31941\r\n\r\nAttaching to process ID 31941, please wait...\r\n\r\nDebugger attached successfully.\r\n\r\nServer compiler detected.\r\n\r\nJVM version is 25.92-b14\r\n\r\nDumping heap to /tmp/heapdump.31941.hprof ...\r\n\r\nHeap dump file created\r\n\r\nAnd we notice the result(2 .hprof files). The file dump with jvisualvm(called first dump) is smaller than the file dump with jmap -F(called 2nd dump).\r\nView with jvisualvm, the instance count and size in the 1st dump are much less than the ones in the 2nd dump.","title":"Is there a command line method to get a jvm heap dump besides jmap?","body":"<p>We are using oracle jvm 1.8 64bit in linux.</p>\n\n<p>We know jmap can get jvm heap dump:</p>\n\n<pre><code>jmap -F -dump:format=b,file=***filepath*** ***pid***\n</code></pre>\n\n<p>But it's slow. </p>\n\n<p>We know with JVisualVM and JConsole connecting to JMX can also get a heap dump, and it's very quick. But they are with GUI. </p>\n\n<p>However, in our product environment, there is no GUI. And no machine with GUI can access that environment.</p>\n\n<p>So our question is - \nCan JVisualVM and JConsole support a command line to do heap dump? \nOr\nIs there a command line method to get a jvm heap dump besides jmap? </p>\n\n<p>We tried today -</p>\n\n<p>1, using jvisualvm(remote jmx), we can get heap dump successfully</p>\n\n<p>2, using jmap without -F option, the dump failed:</p>\n\n<p>[root@panda01 ~]# jmap -dump:format=b,file=/tmp/heapdump.31941.hprof 31941</p>\n\n<p>31941: Unable to open socket file: target process not responding or HotSpot VM not loaded</p>\n\n<p>The -F option can be used when the target process is not responding</p>\n\n<p>3, using jmap with -F option, the dump successfully, but slow:</p>\n\n<p>[root@panda01 ~]# jmap -F -dump:format=b,file=/tmp/heapdump.31941.hprof 31941</p>\n\n<p>Attaching to process ID 31941, please wait...</p>\n\n<p>Debugger attached successfully.</p>\n\n<p>Server compiler detected.</p>\n\n<p>JVM version is 25.92-b14</p>\n\n<p>Dumping heap to /tmp/heapdump.31941.hprof ...</p>\n\n<p>Heap dump file created</p>\n\n<p>And we notice the result(2 .hprof files). The file dump with jvisualvm(called first dump) is smaller than the file dump with jmap -F(called 2nd dump).\nView with jvisualvm, the instance count and size in the 1st dump are much less than the ones in the 2nd dump.</p>\n"},{"tags":["java","selenium","automation","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633431545,"creation_date":1633431545,"answer_id":69449227,"question_id":69449198,"body_markdown":"Your css is wrong, so instead of \r\n\r\n    @FindBy(css = &quot;payment-state-message&quot;)\r\n    private WebElement cardAddedIndicator;\r\n\r\ntry this \r\n\r\n    @FindBy(css = &quot;.payment-state-message&quot;)\r\n    private WebElement cardAddedIndicator;\r\n\r\nalso do not check for visibility by `.isDisplay`\r\n\r\nrather have a text method called on it. Put some delay/wait as well. \r\n\r\n    String actualMessage = myCards.getCardAddedIndicator().getText();\r\n    String expectedMessage = &quot;Your card was successfully added&quot;\r\n    \r\n\r\nthen assert these two based on their actual and expected behavior .\r\n\r\n","title":"Not able to locate an element within the IFrame (Selenium)","body":"<p>Your css is wrong, so instead of</p>\n<pre><code>@FindBy(css = &quot;payment-state-message&quot;)\nprivate WebElement cardAddedIndicator;\n</code></pre>\n<p>try this</p>\n<pre><code>@FindBy(css = &quot;.payment-state-message&quot;)\nprivate WebElement cardAddedIndicator;\n</code></pre>\n<p>also do not check for visibility by <code>.isDisplay</code></p>\n<p>rather have a text method called on it. Put some delay/wait as well.</p>\n<pre><code>String actualMessage = myCards.getCardAddedIndicator().getText();\nString expectedMessage = &quot;Your card was successfully added&quot;\n</code></pre>\n<p>then assert these two based on their actual and expected behavior .</p>\n"},{"tags":[],"owner":{"account_id":19697011,"reputation":149,"user_id":14420712,"display_name":"Prozorov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633434008,"creation_date":1633433213,"answer_id":69449584,"question_id":69449198,"body_markdown":"**Conclusion** :\r\n\r\nWhen there is an `iframe` form and you submit it, it does not mean that its still the same `iframe`. In my case when I submitted the form then `iframe` disappeared however in order for for the element to be located I had to perform `driver().switch().parentFrame()`\r\n\r\n**FYI**: First always check your locators and make sure they are right.","title":"Not able to locate an element within the IFrame (Selenium)","body":"<p><strong>Conclusion</strong> :</p>\n<p>When there is an <code>iframe</code> form and you submit it, it does not mean that its still the same <code>iframe</code>. In my case when I submitted the form then <code>iframe</code> disappeared however in order for for the element to be located I had to perform <code>driver().switch().parentFrame()</code></p>\n<p><strong>FYI</strong>: First always check your locators and make sure they are right.</p>\n"}],"owner":{"account_id":19697011,"reputation":149,"user_id":14420712,"display_name":"Prozorov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69449227,"answer_count":2,"score":-1,"last_activity_date":1633434008,"creation_date":1633431431,"question_id":69449198,"body_markdown":"So i have create successful test of adding a card to my profile and now i would like ot verify if card was added so i would like to check if &quot;Your card was successfully added&quot; text appeared, however for some kind of a reason the className not located.\r\n\r\nThis is an iframe however i do enter it to add the card details and submit them, so trying to understand why it cant locate the follow:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAdding card\r\n\r\n    public void addCard(Card card) {\r\n            switchToCardIframe()\r\n                    .fillInCardNumber(card.getCardNumber())\r\n                    .fillInCardHolder(card.getCardHolderName())\r\n                    .fillInExpiryDate(card.getExpiryDate())\r\n                    .fillInCvv(card.getCvv())\r\n                    .clickOnToggle()\r\n                    .clickOnAddButton();\r\n        }\r\n\r\nThis is how i locate the text\r\n\r\n    @FindBy(css = &quot;payment-state-message&quot;)\r\n    private WebElement cardAddedIndicator;\r\n\r\n\r\nTest\r\n\r\n    @Test\r\n    public void shouldSuccessfullyAddCard() {\r\n        myCards.addCard(cardData());\r\n        assertTrue(myCards.getCardAddedIndicator().isDisplayed());\r\n    }\r\n\r\nI have also tried to check if another element displayed by escaping the iframe but no luck so any help appreciated\r\n\r\n    driver.switchTo().defaultContent()\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI have also attempted Thread.sleep() for 10 seconds before taking getting the text from the css locater but not luck\r\n\r\nHere is the base page where wait initialized \r\n\r\n    public class BasePage {\r\n    \r\n        public WebDriver driver;\r\n        protected Wait wait;\r\n    \r\n        public BasePage(WebDriver driver) {\r\n            initializePage(driver);\r\n            this.wait = new Wait(driver);\r\n        }\r\n    \r\n        final protected void initializePage(WebDriver driver) {\r\n            this.driver = driver;\r\n            PageFactory.initElements(new AjaxElementLocatorFactory(driver, 20), this);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BWkSx.png\r\n  [2]: https://i.stack.imgur.com/llQcr.png","title":"Not able to locate an element within the IFrame (Selenium)","body":"<p>So i have create successful test of adding a card to my profile and now i would like ot verify if card was added so i would like to check if &quot;Your card was successfully added&quot; text appeared, however for some kind of a reason the className not located.</p>\n<p>This is an iframe however i do enter it to add the card details and submit them, so trying to understand why it cant locate the follow:</p>\n<p><a href=\"https://i.stack.imgur.com/BWkSx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BWkSx.png\" alt=\"enter image description here\" /></a></p>\n<p>Adding card</p>\n<pre><code>public void addCard(Card card) {\n        switchToCardIframe()\n                .fillInCardNumber(card.getCardNumber())\n                .fillInCardHolder(card.getCardHolderName())\n                .fillInExpiryDate(card.getExpiryDate())\n                .fillInCvv(card.getCvv())\n                .clickOnToggle()\n                .clickOnAddButton();\n    }\n</code></pre>\n<p>This is how i locate the text</p>\n<pre><code>@FindBy(css = &quot;payment-state-message&quot;)\nprivate WebElement cardAddedIndicator;\n</code></pre>\n<p>Test</p>\n<pre><code>@Test\npublic void shouldSuccessfullyAddCard() {\n    myCards.addCard(cardData());\n    assertTrue(myCards.getCardAddedIndicator().isDisplayed());\n}\n</code></pre>\n<p>I have also tried to check if another element displayed by escaping the iframe but no luck so any help appreciated</p>\n<pre><code>driver.switchTo().defaultContent()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/llQcr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/llQcr.png\" alt=\"enter image description here\" /></a></p>\n<p>I have also attempted Thread.sleep() for 10 seconds before taking getting the text from the css locater but not luck</p>\n<p>Here is the base page where wait initialized</p>\n<pre><code>public class BasePage {\n\n    public WebDriver driver;\n    protected Wait wait;\n\n    public BasePage(WebDriver driver) {\n        initializePage(driver);\n        this.wait = new Wait(driver);\n    }\n\n    final protected void initializePage(WebDriver driver) {\n        this.driver = driver;\n        PageFactory.initElements(new AjaxElementLocatorFactory(driver, 20), this);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","dependency-injection","wicket"],"comments":[{"owner":{"account_id":5757383,"reputation":13785,"user_id":4544823,"display_name":"Ken Bekov"},"score":1,"creation_date":1454916261,"post_id":35260608,"comment_id":58240188,"body_markdown":"Do you use Spring configuration? If you do is it Java-based config or XML?","body":"Do you use Spring configuration? If you do is it Java-based config or XML?"}],"answers":[{"tags":[],"owner":{"account_id":5757383,"reputation":13785,"user_id":4544823,"display_name":"Ken Bekov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454924635,"creation_date":1454904493,"answer_id":35262210,"question_id":35260608,"body_markdown":"The error message is pretty clear. Wicked trying to create instance of proxy class for `BlogSummaryMailGenerator` with `CGLIB` library. Since you didn&#39;t (or you can&#39;t) provide arguments to constructor, it looking for contstructor with no arguments. But it can&#39;t, and you get error.\r\n\r\nJust replace constructor injection with property injection, and create no argument constructor:\r\n\r\n    @Component\r\n    public class BlogSummaryMailGenerator {\r\n    \r\n      @Autowired\r\n      private BlogRepository blogRepository;\r\n      \r\n      @Autowired\r\n      private BlogPostRepository blogPostRepository;\r\n    \r\n      public BlogSummaryMailGenerator() {}\r\n\r\n    }\r\n\r\nActually, you do not need to declare an empty constructor. I did it just for clarity. Note, that `BlogRepository` and `BlogPostRepository` should be declared as beans (marked with `@Component` annotation, or created as `@Bean` in Spring configuration).\r\n\r\n**UPDATE:**\r\n\r\nWhen you add `SpringComponentInjector` in your `WebApplication.init()`, you can specify `false` for third paramter, which means &#39;wrapInProxies&#39;. Wicket will never wrap Spring beans in porxy, and you can use `@Autowired` for constructors.\r\n\r\n    @Override\r\n    public void init()\r\n    {\r\n    \r\n        super.init();\r\n    \r\n    \tAnnotationConfigApplicationContext springContext = \r\n             new AnnotationConfigApplicationContext();\r\n    \tspringContext.register(SpringConfig.class);\r\n    \tspringContext.refresh();\r\n    \tgetComponentInstantiationListeners().add(new SpringComponentInjector(this, \r\n             springContext, false));\r\n    }","title":"Wicket @SpringBean and Spring @Autowired with injection via constructor","body":"<p>The error message is pretty clear. Wicked trying to create instance of proxy class for <code>BlogSummaryMailGenerator</code> with <code>CGLIB</code> library. Since you didn't (or you can't) provide arguments to constructor, it looking for contstructor with no arguments. But it can't, and you get error.</p>\n\n<p>Just replace constructor injection with property injection, and create no argument constructor:</p>\n\n<pre><code>@Component\npublic class BlogSummaryMailGenerator {\n\n  @Autowired\n  private BlogRepository blogRepository;\n\n  @Autowired\n  private BlogPostRepository blogPostRepository;\n\n  public BlogSummaryMailGenerator() {}\n\n}\n</code></pre>\n\n<p>Actually, you do not need to declare an empty constructor. I did it just for clarity. Note, that <code>BlogRepository</code> and <code>BlogPostRepository</code> should be declared as beans (marked with <code>@Component</code> annotation, or created as <code>@Bean</code> in Spring configuration).</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>When you add <code>SpringComponentInjector</code> in your <code>WebApplication.init()</code>, you can specify <code>false</code> for third paramter, which means 'wrapInProxies'. Wicket will never wrap Spring beans in porxy, and you can use <code>@Autowired</code> for constructors.</p>\n\n<pre><code>@Override\npublic void init()\n{\n\n    super.init();\n\n    AnnotationConfigApplicationContext springContext = \n         new AnnotationConfigApplicationContext();\n    springContext.register(SpringConfig.class);\n    springContext.refresh();\n    getComponentInstantiationListeners().add(new SpringComponentInjector(this, \n         springContext, false));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1633433559,"creation_date":1454919265,"answer_id":35264964,"question_id":35260608,"body_markdown":"The real problem is in CGLIB. It requires a default constructor to be able to create the proxy instance. The real Spring bean is created separately by Spring and has no such restrictions. The default constructor needed by CGLIB could be even `private` as far as I remember.\r\n\r\n**Update**: Since Wicket 9.5.0 Wicket could also use ByteBuddy instead of CGLib.\r\n\r\nAnother solution is to use an interface for this bean. Then Wicket will use JDK Proxy instead of CGLIB and in this case there is no need of default constructor in the implementation.\r\n\r\n","title":"Wicket @SpringBean and Spring @Autowired with injection via constructor","body":"<p>The real problem is in CGLIB. It requires a default constructor to be able to create the proxy instance. The real Spring bean is created separately by Spring and has no such restrictions. The default constructor needed by CGLIB could be even <code>private</code> as far as I remember.</p>\n<p><strong>Update</strong>: Since Wicket 9.5.0 Wicket could also use ByteBuddy instead of CGLib.</p>\n<p>Another solution is to use an interface for this bean. Then Wicket will use JDK Proxy instead of CGLIB and in this case there is no need of default constructor in the implementation.</p>\n"},{"tags":[],"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1459850197,"creation_date":1459401867,"answer_id":36324808,"question_id":35260608,"body_markdown":"Solution\r\n--------\r\nTo be able to take advantage of constructor injection for `@SpringBean` in _Wicket_ components you just have to add [_Objenesis_][1] to your compile time dependencies.\r\nExplanation\r\n-----------\r\n_Objenesis_ is a little and less known byte code manipulation library which (in opposite to _CGLIB_ provided together with _Wicket_) is able to create a proxy object for a class which has no default (no args) constructor. If you add it as a compile dependency to your project then _Wicket_ will switch it&#39;s internal lazily initializable proxy creation logic to take advantage of _Objenesis_ (instead _CGLIB_ which requires no args constructor) while instantiating a proxy. Unfortunately this feature is not documented but I can confirm it works in my case.\r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/org.objenesis/objenesis","title":"Wicket @SpringBean and Spring @Autowired with injection via constructor","body":"<h2>Solution</h2>\n\n<p>To be able to take advantage of constructor injection for <code>@SpringBean</code> in <em>Wicket</em> components you just have to add <a href=\"http://mvnrepository.com/artifact/org.objenesis/objenesis\" rel=\"noreferrer\"><em>Objenesis</em></a> to your compile time dependencies.</p>\n\n<h2>Explanation</h2>\n\n<p><em>Objenesis</em> is a little and less known byte code manipulation library which (in opposite to <em>CGLIB</em> provided together with <em>Wicket</em>) is able to create a proxy object for a class which has no default (no args) constructor. If you add it as a compile dependency to your project then <em>Wicket</em> will switch it's internal lazily initializable proxy creation logic to take advantage of <em>Objenesis</em> (instead <em>CGLIB</em> which requires no args constructor) while instantiating a proxy. Unfortunately this feature is not documented but I can confirm it works in my case.</p>\n"},{"tags":[],"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633433966,"creation_date":1633433966,"answer_id":69449764,"question_id":35260608,"body_markdown":"The correct way to solve this is not to add *Objenesis* to your project, but to inject interfaces instead of concrete implementations, as @martin-g already explained (of course, we do not always have the privilege to be able to do the right thing, but when we do, we should do it).\r\n\r\nI have a project that started to give the exact same error and stack after a library update I still don&#39;t exactly understand (complete Maven dependency hell, I inherited it, go easy on me). The reason was that I was creating a Spring request-scoped bean from a concrete subclass of `ListModel&lt;MyClass&gt;` and Wicket was hell bent on wrapping that class into a lazy loaded proxy, which it couldn&#39;t do because there was no zero-args-constructor.\r\n\r\nI fixed it by changing the configuration class to create a named instance of `IModel&lt;List&lt;MyClass&gt;&gt;` and by defining the injected dependency using the name.\r\n\r\nIn the configuration class:\r\n\r\n   \t@Bean(name = &quot;namedModel&quot;)\r\n    @RequestScope\r\n    public IModel&lt;List&lt;MyClass&gt;&gt; myObjectList() {\r\n        return new MyClass(parameters);\r\n    }\r\n\r\nIn the component:\r\n\r\n    @Inject\r\n    @Named(&quot;namedModel&quot;)\r\n    private IModel&lt;List&lt;MyClass&gt;&gt; myModel;\r\n","title":"Wicket @SpringBean and Spring @Autowired with injection via constructor","body":"<p>The correct way to solve this is not to add <em>Objenesis</em> to your project, but to inject interfaces instead of concrete implementations, as @martin-g already explained (of course, we do not always have the privilege to be able to do the right thing, but when we do, we should do it).</p>\n<p>I have a project that started to give the exact same error and stack after a library update I still don't exactly understand (complete Maven dependency hell, I inherited it, go easy on me). The reason was that I was creating a Spring request-scoped bean from a concrete subclass of <code>ListModel&lt;MyClass&gt;</code> and Wicket was hell bent on wrapping that class into a lazy loaded proxy, which it couldn't do because there was no zero-args-constructor.</p>\n<p>I fixed it by changing the configuration class to create a named instance of <code>IModel&lt;List&lt;MyClass&gt;&gt;</code> and by defining the injected dependency using the name.</p>\n<p>In the configuration class:</p>\n<pre><code>@Bean(name = &quot;namedModel&quot;)\n@RequestScope\npublic IModel&lt;List&lt;MyClass&gt;&gt; myObjectList() {\n    return new MyClass(parameters);\n}\n</code></pre>\n<p>In the component:</p>\n<pre><code>@Inject\n@Named(&quot;namedModel&quot;)\nprivate IModel&lt;List&lt;MyClass&gt;&gt; myModel;\n</code></pre>\n"}],"owner":{"account_id":331758,"reputation":1668,"user_id":656652,"accept_rate":79,"display_name":"Tomasz Dziurko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3489,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":36324808,"answer_count":4,"score":5,"last_activity_date":1633433966,"creation_date":1454888555,"question_id":35260608,"body_markdown":"I have a Wicket panel in which I want to inject bean using @SpringBean\r\n\r\n    public class SomePanel extends Panel {\r\n\r\n      @SpringBean\r\n      private BlogSummaryMailGenerator blogSummaryMailGenerator;\r\n   \r\n    }\r\n\r\nBut this BlogSummaryMailGenerator has injection via constructor defined like this:\r\n\r\n    @Component\r\n    public class BlogSummaryMailGenerator {\r\n\r\n      private BlogRepository blogRepository;\r\n      private BlogPostRepository blogPostRepository;\r\n\r\n      @Autowired\r\n      public BlogSummaryMailGenerator(BlogRepository blogRepository,\r\n                                    BlogPostRepository blogPostRepository) {\r\n        this.blogRepository = blogRepository;\r\n        this.blogPostRepository = blogPostRepository;\r\n      }\r\n    }\r\nAnd when SomePanel is instantiated I am getting an exception\r\n   \r\n    Caused by: java.lang.IllegalArgumentException: Superclass has no null constructors but no arguments were given\r\n\tat net.sf.cglib.proxy.Enhancer.emitConstructors(Enhancer.java:721) ~[cglib-3.1.jar:na]\r\n\tat net.sf.cglib.proxy.Enhancer.generateClass(Enhancer.java:499) ~[cglib-3.1.jar:na]\r\n\tat net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25) ~[cglib-3.1.jar:na]\r\n\tat net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:216) ~[cglib-3.1.jar:na]\r\n\tat net.sf.cglib.proxy.Enhancer.createHelper(Enhancer.java:377) ~[cglib-3.1.jar:na]\r\n\tat net.sf.cglib.proxy.Enhancer.create(Enhancer.java:285) ~[cglib-3.1.jar:na]\r\n\tat org.apache.wicket.proxy.LazyInitProxyFactory.createProxy(LazyInitProxyFactory.java:191) ~[wicket-ioc-7.2.0.jar:7.2.0]\r\n\r\nAdding empty no-args constructor to the BlogSummaryMailGenerator solves this issue but adding such code only to make injection work is wrong and I would like to avoid it.\r\n\r\nAny suggestions how to make @SpringBean work with beans using injection via constructor?","title":"Wicket @SpringBean and Spring @Autowired with injection via constructor","body":"<p>I have a Wicket panel in which I want to inject bean using @SpringBean</p>\n\n<pre><code>public class SomePanel extends Panel {\n\n  @SpringBean\n  private BlogSummaryMailGenerator blogSummaryMailGenerator;\n\n}\n</code></pre>\n\n<p>But this BlogSummaryMailGenerator has injection via constructor defined like this:</p>\n\n<pre><code>@Component\npublic class BlogSummaryMailGenerator {\n\n  private BlogRepository blogRepository;\n  private BlogPostRepository blogPostRepository;\n\n  @Autowired\n  public BlogSummaryMailGenerator(BlogRepository blogRepository,\n                                BlogPostRepository blogPostRepository) {\n    this.blogRepository = blogRepository;\n    this.blogPostRepository = blogPostRepository;\n  }\n}\n</code></pre>\n\n<p>And when SomePanel is instantiated I am getting an exception</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Superclass has no null constructors but no arguments were given\nat net.sf.cglib.proxy.Enhancer.emitConstructors(Enhancer.java:721) ~[cglib-3.1.jar:na]\nat net.sf.cglib.proxy.Enhancer.generateClass(Enhancer.java:499) ~[cglib-3.1.jar:na]\nat net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25) ~[cglib-3.1.jar:na]\nat net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:216) ~[cglib-3.1.jar:na]\nat net.sf.cglib.proxy.Enhancer.createHelper(Enhancer.java:377) ~[cglib-3.1.jar:na]\nat net.sf.cglib.proxy.Enhancer.create(Enhancer.java:285) ~[cglib-3.1.jar:na]\nat org.apache.wicket.proxy.LazyInitProxyFactory.createProxy(LazyInitProxyFactory.java:191) ~[wicket-ioc-7.2.0.jar:7.2.0]\n</code></pre>\n\n<p>Adding empty no-args constructor to the BlogSummaryMailGenerator solves this issue but adding such code only to make injection work is wrong and I would like to avoid it.</p>\n\n<p>Any suggestions how to make @SpringBean work with beans using injection via constructor?</p>\n"},{"tags":["java","spring-boot","gradle","aspectj"],"answers":[{"tags":[],"owner":{"account_id":16786114,"reputation":56,"user_id":12135059,"display_name":"mantatov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633433147,"creation_date":1633429843,"answer_id":69448870,"question_id":69440246,"body_markdown":"try to add ```id &quot;io.freefair.aspectj&quot; version &quot;5.3.3.3&quot;``` into plugin section\r\nand outside plugin section \r\n```\r\ntargetCompatibility = &#39;11&#39;\r\n\r\nsourceSets.main.aspectj.srcDir &quot;src/main/java&quot;\r\nsourceSets.main.java.srcDirs = files()\r\n```\r\nchange ```runtimeOnly ``` on ```compile```\r\nand add\r\n```\r\n\timplementation &quot;org.aspectj:aspectjrt:1.9.7&quot;\r\n```\r\n\r\nyour file will look like this\r\n\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.5.4&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    id &#39;java&#39;\r\n    id &quot;io.freefair.aspectj&quot; version &quot;5.3.3.3&quot;\r\n}\r\n\r\ngroup = &#39;br.com.wviana&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\ntargetCompatibility = &#39;11&#39;\r\n\r\nsourceSets.main.aspectj.srcDir &quot;src/main/java&quot;\r\nsourceSets.main.java.srcDirs = files()\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation &quot;org.aspectj:aspectjrt:1.9.7&quot;\r\n\timplementation &quot;org.aspectj:aspectjweaver:1.9.7&quot;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```","title":"Why gradle is not finding AspectJ packages","body":"<p>try to add <code>id &quot;io.freefair.aspectj&quot; version &quot;5.3.3.3&quot;</code> into plugin section\nand outside plugin section</p>\n<pre><code>targetCompatibility = '11'\n\nsourceSets.main.aspectj.srcDir &quot;src/main/java&quot;\nsourceSets.main.java.srcDirs = files()\n</code></pre>\n<p>change <code>runtimeOnly </code> on <code>compile</code>\nand add</p>\n<pre><code>    implementation &quot;org.aspectj:aspectjrt:1.9.7&quot;\n</code></pre>\n<p>your file will look like this</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.5.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id &quot;io.freefair.aspectj&quot; version &quot;5.3.3.3&quot;\n}\n\ngroup = 'br.com.wviana'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\ntargetCompatibility = '11'\n\nsourceSets.main.aspectj.srcDir &quot;src/main/java&quot;\nsourceSets.main.java.srcDirs = files()\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation &quot;org.aspectj:aspectjrt:1.9.7&quot;\n    implementation &quot;org.aspectj:aspectjweaver:1.9.7&quot;\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"}],"owner":{"account_id":2096177,"reputation":1707,"user_id":1864883,"accept_rate":68,"display_name":"wviana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1946,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69448870,"answer_count":1,"score":1,"last_activity_date":1633433147,"creation_date":1633369300,"question_id":69440246,"body_markdown":"I&#39;m training AOP in SpringBoot\r\n\r\nSo for using AspectJ annotations I&#39;ve add `\truntimeOnly &#39;org.aspectj:aspectjweaver:1.9.7&#39;`\r\ninto my gradle dependencies section.\r\n\r\n```gradle\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.5.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;br.com.wviana&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\truntimeOnly &#39;org.aspectj:aspectjweaver:1.9.7&#39;\r\n}\r\n\r\ntest {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\nMy Aspect class is like the follow:\r\n\r\n```java \r\npackage br.com.wviana.demo;\r\n\r\nimport java.util.logging.Logger;\r\n\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\nimport org.aspectj.lang.annotation.Pointcut;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Aspect\r\n@Component\r\npublic class DemoApplicationAspec {\r\n\r\n\tprivate Logger logger = Logger.getLogger(getClass().getName());\r\n\r\n\t@Pointcut(&quot;execution(* br.com.wviana.demo.GreetingController.greeting(..))&quot;)\r\n\tprivate void forGreeting() { }\r\n\r\n\t@Before(&quot;forGreeting()&quot;)\r\n\tpublic void beforeGreeting(JoinPoint theJoinPoint) {\r\n\r\n\t\tString methodName = theJoinPoint.getSignature().toShortString();\r\n\t\tlogger.info(&quot;====&gt; in @Before: &quot; + methodName);\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMy editor has recognized the annotations in autocomplete. I use neovim with jdts as language server.\r\n\r\nBut when I try to run the project using `./gradlew bootRun`  I get the follow erros\r\n\r\n```shell\r\n&gt; Task :compileJava FAILED\r\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:5: error: package org.aspectj.lang does not exist\r\nimport org.aspectj.lang.JoinPoint;\r\n                       ^\r\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:6: error: package org.aspectj.lang.annotation does not\r\n exist\r\nimport org.aspectj.lang.annotation.Aspect;\r\n                                  ^\r\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:7: error: package org.aspectj.lang.annotation does not\r\n exist\r\nimport org.aspectj.lang.annotation.Before;\r\n                                  ^\r\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:8: error: package org.aspectj.lang.annotation does not\r\n exist\r\nimport org.aspectj.lang.annotation.Pointcut;\r\n                                  ^\r\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:11: error: cannot find symbol\r\n@Aspect\r\n ^\r\n  symbol: class Aspect\r\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:21: error: cannot find symbol\r\n        public void beforeGreeting(JoinPoint theJoinPoint) {\r\n                                   ^\r\n  symbol:   class JoinPoint\r\n  location: class DemoApplicationAspec\r\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:17: error: cannot find symbol\r\n        @Pointcut(&quot;execution(* br.com.wviana.demo.GreetingController.greeting(..))&quot;)\r\n         ^\r\n  symbol:   class Pointcut\r\n  location: class DemoApplicationAspec\r\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:20: error: cannot find symbol\r\n        @Before(&quot;forGreeting()&quot;)\r\n         ^\r\n  symbol:   class Before\r\n  location: class DemoApplicationAspec\r\n8 errors\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1s\r\n1 actionable task: 1 executed\r\n```\r\n\r\nAm I missing something?","title":"Why gradle is not finding AspectJ packages","body":"<p>I'm training AOP in SpringBoot</p>\n<p>So for using AspectJ annotations I've add <code> runtimeOnly 'org.aspectj:aspectjweaver:1.9.7'</code>\ninto my gradle dependencies section.</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.5.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'br.com.wviana'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    runtimeOnly 'org.aspectj:aspectjweaver:1.9.7'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>My Aspect class is like the follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package br.com.wviana.demo;\n\nimport java.util.logging.Logger;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.aspectj.lang.annotation.Pointcut;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic class DemoApplicationAspec {\n\n    private Logger logger = Logger.getLogger(getClass().getName());\n\n    @Pointcut(&quot;execution(* br.com.wviana.demo.GreetingController.greeting(..))&quot;)\n    private void forGreeting() { }\n\n    @Before(&quot;forGreeting()&quot;)\n    public void beforeGreeting(JoinPoint theJoinPoint) {\n\n        String methodName = theJoinPoint.getSignature().toShortString();\n        logger.info(&quot;====&gt; in @Before: &quot; + methodName);\n\n    }\n\n}\n</code></pre>\n<p>My editor has recognized the annotations in autocomplete. I use neovim with jdts as language server.</p>\n<p>But when I try to run the project using <code>./gradlew bootRun</code>  I get the follow erros</p>\n<pre class=\"lang-sh prettyprint-override\"><code>&gt; Task :compileJava FAILED\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:5: error: package org.aspectj.lang does not exist\nimport org.aspectj.lang.JoinPoint;\n                       ^\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:6: error: package org.aspectj.lang.annotation does not\n exist\nimport org.aspectj.lang.annotation.Aspect;\n                                  ^\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:7: error: package org.aspectj.lang.annotation does not\n exist\nimport org.aspectj.lang.annotation.Before;\n                                  ^\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:8: error: package org.aspectj.lang.annotation does not\n exist\nimport org.aspectj.lang.annotation.Pointcut;\n                                  ^\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:11: error: cannot find symbol\n@Aspect\n ^\n  symbol: class Aspect\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:21: error: cannot find symbol\n        public void beforeGreeting(JoinPoint theJoinPoint) {\n                                   ^\n  symbol:   class JoinPoint\n  location: class DemoApplicationAspec\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:17: error: cannot find symbol\n        @Pointcut(&quot;execution(* br.com.wviana.demo.GreetingController.greeting(..))&quot;)\n         ^\n  symbol:   class Pointcut\n  location: class DemoApplicationAspec\n/Users/wesley.viana/Repos/springboot-demo/src/main/java/br/com/wviana/demo/DemoApplicationAspec.java:20: error: cannot find symbol\n        @Before(&quot;forGreeting()&quot;)\n         ^\n  symbol:   class Before\n  location: class DemoApplicationAspec\n8 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n1 actionable task: 1 executed\n</code></pre>\n<p>Am I missing something?</p>\n"},{"tags":["java","android","zipinputstream"],"comments":[{"owner":{"account_id":185878,"reputation":7904,"user_id":422870,"display_name":"Saurabh"},"score":2,"creation_date":1318391699,"post_id":7734969,"comment_id":9412469,"body_markdown":"how do you determine that the size is 512  bytes ?","body":"how do you determine that the size is 512  bytes ?"}],"answers":[{"tags":[],"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1318393109,"creation_date":1318393109,"answer_id":7735219,"question_id":7734969,"body_markdown":"     if (entry.getSize() == -1) {\r\n\r\n`ZipEntry.getSize()` *Returns the uncompressed size of the entry data, or **-1 if not known.***. You need to remove this check. \r\n\r\n\r\n&gt; I always get the size of &quot;in&quot; is 512 bytes\r\n\r\nHow are you checking this? ZipInputStream has no size properties. Whatever you are checking is unrelated.\r\n\r\n[This][1] seems to be a good canonical example of `ZipInputStream` usage.\r\n\r\n\r\n  [1]: http://www.java2s.com/Tutorial/Java/0180__File/UnzipusingtheZipInputStream.htm","title":"The size of zipInputStream is always 512 bytes?","body":"<pre><code> if (entry.getSize() == -1) {\n</code></pre>\n\n<p><code>ZipEntry.getSize()</code> <em>Returns the uncompressed size of the entry data, or <strong>-1 if not known.</em></strong>. You need to remove this check. </p>\n\n<blockquote>\n  <p>I always get the size of \"in\" is 512 bytes</p>\n</blockquote>\n\n<p>How are you checking this? ZipInputStream has no size properties. Whatever you are checking is unrelated.</p>\n\n<p><a href=\"http://www.java2s.com/Tutorial/Java/0180__File/UnzipusingtheZipInputStream.htm\" rel=\"nofollow\">This</a> seems to be a good canonical example of <code>ZipInputStream</code> usage.</p>\n"},{"tags":[],"owner":{"account_id":1221394,"reputation":551,"user_id":1187983,"display_name":"dboldureanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633432930,"creation_date":1633432930,"answer_id":69449525,"question_id":7734969,"body_markdown":"I think that 512 comes from `java.util.zip.ZipInputStream&#39;s` constructor\r\n\r\n    public ZipInputStream(InputStream in, Charset charset) {\r\n        super(new PushbackInputStream(in, 512), new Inflater(true), 512);","title":"The size of zipInputStream is always 512 bytes?","body":"<p>I think that 512 comes from <code>java.util.zip.ZipInputStream's</code> constructor</p>\n<pre><code>public ZipInputStream(InputStream in, Charset charset) {\n    super(new PushbackInputStream(in, 512), new Inflater(true), 512);\n</code></pre>\n"}],"owner":{"account_id":483369,"reputation":417,"user_id":898366,"accept_rate":89,"display_name":"user898366"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1565,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7735219,"answer_count":2,"score":0,"last_activity_date":1633432930,"creation_date":1318390304,"question_id":7734969,"body_markdown":"    \tprivate byte[] loadClassData(String className) {\r\n\t\tZipInputStream in = null;\r\n\t\tFileInputStream fis = null;\r\n\t\ttry {\r\n\t\t\tfis = new FileInputStream(jarPath);\r\n\t\t\tin = new ZipInputStream(new BufferedInputStream(fis));\r\n\t\t\tZipEntry entry;\r\n\t\t\twhile ((entry = in.getNextEntry()) != null) {\r\n\t\t\t\tif (entry.getName().contains(&quot;.class&quot;)) {\r\n\t\t\t\t\tString outFileName = entry.getName()\r\n\t\t\t\t\t\t\t.substring(0, entry.getName().lastIndexOf(&#39;.&#39;))\r\n\t\t\t\t\t\t\t.replace(&#39;/&#39;, &#39;.&#39;);\r\n\t\t\t\t\tif (outFileName.equals(className)) {\r\n\t\t\t\t\t\tif (entry.getSize() == -1) {\r\n\t\t\t\t\t\t\tLog.e(&quot;loadClassData&quot;, &quot;can&#39;t read the file！&quot;);\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbyte[] classData = new byte[(int) entry.getSize()];\r\n\t\t\t\t\t\tin.read(classData);\r\n\t\t\t\t\t\treturn classData;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tfis.close();\r\n\t\t\t\tin.close();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\nIn debug , I always get the size of &quot;in&quot; is 512 bytes so that I can&#39;t get the rest of my file,and I don&#39;t know why.Does ZipInputStream have size limit?\r\nThank you!                                                                                                                         ","title":"The size of zipInputStream is always 512 bytes?","body":"<pre><code>    private byte[] loadClassData(String className) {\n    ZipInputStream in = null;\n    FileInputStream fis = null;\n    try {\n        fis = new FileInputStream(jarPath);\n        in = new ZipInputStream(new BufferedInputStream(fis));\n        ZipEntry entry;\n        while ((entry = in.getNextEntry()) != null) {\n            if (entry.getName().contains(\".class\")) {\n                String outFileName = entry.getName()\n                        .substring(0, entry.getName().lastIndexOf('.'))\n                        .replace('/', '.');\n                if (outFileName.equals(className)) {\n                    if (entry.getSize() == -1) {\n                        Log.e(\"loadClassData\", \"can't read the file！\");\n                        return null;\n                    }\n                    byte[] classData = new byte[(int) entry.getSize()];\n                    in.read(classData);\n                    return classData;\n                }\n            }\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            fis.close();\n            in.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>In debug , I always get the size of \"in\" is 512 bytes so that I can't get the rest of my file,and I don't know why.Does ZipInputStream have size limit?\nThank you!                                                                                                                         </p>\n"},{"tags":["java","list","arraylist","pojo"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1633430027,"post_id":69448803,"comment_id":122751793,"body_markdown":"Take care of java naming conventions. Variable names should start with lower case character","body":"Take care of java naming conventions. Variable names should start with lower case character"},{"owner":{"account_id":401852,"reputation":3650,"user_id":768656,"accept_rate":96,"display_name":"Benjamin Maurer"},"score":0,"creation_date":1633430035,"post_id":69448803,"comment_id":122751796,"body_markdown":"More details would be helpful though, e.g., where does the list `driverPrimary` come from, how do the constructors look like.","body":"More details would be helpful though, e.g., where does the list <code>driverPrimary</code> come from, how do the constructors look like."},{"owner":{"account_id":401852,"reputation":3650,"user_id":768656,"accept_rate":96,"display_name":"Benjamin Maurer"},"score":1,"creation_date":1633430146,"post_id":69448803,"comment_id":122751837,"body_markdown":"@david what are you trying to check here? Because you check whether a given _secondary_ driver is in the list of _primary_ drivers. Yet you say &quot;changed&quot; and the example you give - the two elements are different so should not compare equal.","body":"@david what are you trying to check here? Because you check whether a given <i>secondary</i> driver is in the list of <i>primary</i> drivers. Yet you say &quot;changed&quot; and the example you give - the two elements are different so should not compare equal."},{"owner":{"account_id":7145515,"reputation":153,"user_id":5461368,"accept_rate":39,"display_name":"david"},"score":0,"creation_date":1633430190,"post_id":69448803,"comment_id":122751849,"body_markdown":"DriverPrimary comes from a Database POJO where it is defined as a list where as Driver Secondary is from Webservices. So i have it as a list and able to get the values","body":"DriverPrimary comes from a Database POJO where it is defined as a list where as Driver Secondary is from Webservices. So i have it as a list and able to get the values"},{"owner":{"account_id":7145515,"reputation":153,"user_id":5461368,"accept_rate":39,"display_name":"david"},"score":0,"creation_date":1633430238,"post_id":69448803,"comment_id":122751861,"body_markdown":"yeah I am new to java, so just understood that equals will work on same class structure","body":"yeah I am new to java, so just understood that equals will work on same class structure"},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1633430267,"post_id":69448803,"comment_id":122751871,"body_markdown":"So does the list named `driverPrimary` contain any values while you make the checks?","body":"So does the list named <code>driverPrimary</code> contain any values while you make the checks?"},{"owner":{"account_id":7145515,"reputation":153,"user_id":5461368,"accept_rate":39,"display_name":"david"},"score":0,"creation_date":1633430419,"post_id":69448803,"comment_id":122751929,"body_markdown":"driverPrimary  has DriverId and role whereas driverScondary has driverSecondaryDriverId and driverSecondaryType. just the names are different but values are similary type","body":"driverPrimary  has DriverId and role whereas driverScondary has driverSecondaryDriverId and driverSecondaryType. just the names are different but values are similary type"},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1633430520,"post_id":69448803,"comment_id":122751962,"body_markdown":"I mean: do you `add` any `DriverPrimary` instance to the `driverPrimary` list? Because if the list is empty, then `contains` should always return `false` as far as I know.","body":"I mean: do you <code>add</code> any <code>DriverPrimary</code> instance to the <code>driverPrimary</code> list? Because if the list is empty, then <code>contains</code> should always return <code>false</code> as far as I know."},{"owner":{"account_id":7145515,"reputation":153,"user_id":5461368,"accept_rate":39,"display_name":"david"},"score":0,"creation_date":1633430543,"post_id":69448803,"comment_id":122751969,"body_markdown":"edited the code to remove equals and hascode . can someone suggest me a better way to check two different list objects to check any changes in values","body":"edited the code to remove equals and hascode . can someone suggest me a better way to check two different list objects to check any changes in values"},{"owner":{"account_id":7145515,"reputation":153,"user_id":5461368,"accept_rate":39,"display_name":"david"},"score":0,"creation_date":1633430583,"post_id":69448803,"comment_id":122751990,"body_markdown":"@gthanop list is not empty, i am able to get the values","body":"@gthanop list is not empty, i am able to get the values"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1633431154,"post_id":69448803,"comment_id":122752208,"body_markdown":"Usually in Java two different classes are not comparable. If `DriverPrimary.driverId` should be compared to `DriverSecondary.driverSecondaryDriverId` and `DriverPrimary.role` compares to `DriverSecondary.driverSecondaryDriverType`, this may be implemented with a separate method `int compare(DriverPrimary p, DriverSecondary s)`, but why do you need to have these 2 classes at all?","body":"Usually in Java two different classes are not comparable. If <code>DriverPrimary.driverId</code> should be compared to <code>DriverSecondary.driverSecondaryDriverId</code> and <code>DriverPrimary.role</code> compares to <code>DriverSecondary.driverSecondaryDriverType</code>, this may be implemented with a separate method <code>int compare(DriverPrimary p, DriverSecondary s)</code>, but why do you need to have these 2 classes at all?"},{"owner":{"account_id":7145515,"reputation":153,"user_id":5461368,"accept_rate":39,"display_name":"david"},"score":0,"creation_date":1633431442,"post_id":69448803,"comment_id":122752329,"body_markdown":"Updated the code. Just want to compare two different pojo class list object","body":"Updated the code. Just want to compare two different pojo class list object"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633432560,"creation_date":1633432560,"answer_id":69449434,"question_id":69448803,"body_markdown":"One of the lists should be remapped to the classes of another type, to make the contents of the lists &quot;comparable&quot;:\r\n```java\r\n// from datasource which is not empty and has values\r\nList&lt;DriverPrimary&gt; primary = DataEBO.getDriverPrimary();\r\nList&lt;DriverPrimary&gt; secondary = DataDTO.getDriverSecondary() // List&lt;DriverSecondary&gt;\r\n        .stream()\r\n        .map(sec -&gt; new DriverPrimary(\r\n            sec.getDriverSecondaryDriverId(),  // id  -&gt; id\r\n            sec.getDriverSecondaryDriverType() // type -&gt; role\r\n        ))\r\n        .collect(Collectors.toList());  // List&lt;DriverPrimary&gt;\r\n```\r\nThen, assuming that `equals` and `hashCode` are implemented properly in `DriverPrimary`, the difference between the two lists may be found using for example `List::removeAll` (or just `List::equals`).\r\n```java\r\nList&lt;DriverPrimary&gt; diff1 = new ArrayList&lt;&gt;(primary);\r\ndiff1.removeAll(secondary); // items in primary missing in secondary\r\n\r\nList&lt;DriverPrimary&gt; diff2 = new ArrayList&lt;&gt;(secondary);\r\ndiff2.removeAll(primary); // items in secondary missing in primary\r\n```","title":"Comparing Two Pojo List for changes","body":"<p>One of the lists should be remapped to the classes of another type, to make the contents of the lists &quot;comparable&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// from datasource which is not empty and has values\nList&lt;DriverPrimary&gt; primary = DataEBO.getDriverPrimary();\nList&lt;DriverPrimary&gt; secondary = DataDTO.getDriverSecondary() // List&lt;DriverSecondary&gt;\n        .stream()\n        .map(sec -&gt; new DriverPrimary(\n            sec.getDriverSecondaryDriverId(),  // id  -&gt; id\n            sec.getDriverSecondaryDriverType() // type -&gt; role\n        ))\n        .collect(Collectors.toList());  // List&lt;DriverPrimary&gt;\n</code></pre>\n<p>Then, assuming that <code>equals</code> and <code>hashCode</code> are implemented properly in <code>DriverPrimary</code>, the difference between the two lists may be found using for example <code>List::removeAll</code> (or just <code>List::equals</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;DriverPrimary&gt; diff1 = new ArrayList&lt;&gt;(primary);\ndiff1.removeAll(secondary); // items in primary missing in secondary\n\nList&lt;DriverPrimary&gt; diff2 = new ArrayList&lt;&gt;(secondary);\ndiff2.removeAll(primary); // items in secondary missing in primary\n</code></pre>\n"}],"owner":{"account_id":7145515,"reputation":153,"user_id":5461368,"accept_rate":39,"display_name":"david"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69449434,"answer_count":1,"score":0,"last_activity_date":1633432560,"creation_date":1633429540,"question_id":69448803,"body_markdown":"I have two Pojo Classes \r\n`DriverPrimary`, `DriverSecondary`\r\n\r\nI am comparing Driver Primary with driver secondary and if there are any changes I need to find that out\r\n\r\nCan you please let me know how it is done?\r\n\r\nDriverPrimary.java\r\n\r\n    public class DriverPrimary implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        private String DriverId;\r\n        private String role;\r\n    \r\n        \r\n    }\r\n\r\n\r\nDriverSecondary.java\r\n\r\n    public class DriverSecondary{\r\n    \r\n        private String driverSecondaryDriverType;\r\n        private String driverSecondaryDriverId;\r\n    \r\n    }\r\n\r\n```\r\n   List&lt;DriverPrimary&gt; driverPrimary = new ArrayList&lt;DriverPrimary&gt;();\r\n   List&lt;DriverSecondary&gt; driverSecondary = new ArrayList&lt;DriverSecondary&gt;();\r\n\r\ndriverPrimary=DataEBO.getDriverPrimary();// from datasource which is not empty and has values\r\ndriverSecondary=DataDTO.getDriverSecondary();// from datasource which is not empty and has values\r\n\r\n```\r\nSO how to compare the above two list, though the field names are different both have similar values\r\n\r\n\r\nEdited:\r\nRemoved Equals and hashcode has that will work with class with same structure.\r\nEdit2: modified the code for better understanding\r\n","title":"Comparing Two Pojo List for changes","body":"<p>I have two Pojo Classes\n<code>DriverPrimary</code>, <code>DriverSecondary</code></p>\n<p>I am comparing Driver Primary with driver secondary and if there are any changes I need to find that out</p>\n<p>Can you please let me know how it is done?</p>\n<p>DriverPrimary.java</p>\n<pre><code>public class DriverPrimary implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private String DriverId;\n    private String role;\n\n    \n}\n</code></pre>\n<p>DriverSecondary.java</p>\n<pre><code>public class DriverSecondary{\n\n    private String driverSecondaryDriverType;\n    private String driverSecondaryDriverId;\n\n}\n</code></pre>\n<pre><code>   List&lt;DriverPrimary&gt; driverPrimary = new ArrayList&lt;DriverPrimary&gt;();\n   List&lt;DriverSecondary&gt; driverSecondary = new ArrayList&lt;DriverSecondary&gt;();\n\ndriverPrimary=DataEBO.getDriverPrimary();// from datasource which is not empty and has values\ndriverSecondary=DataDTO.getDriverSecondary();// from datasource which is not empty and has values\n\n</code></pre>\n<p>SO how to compare the above two list, though the field names are different both have similar values</p>\n<p>Edited:\nRemoved Equals and hashcode has that will work with class with same structure.\nEdit2: modified the code for better understanding</p>\n"},{"tags":["java","huawei-mobile-services","huawei-developers"],"comments":[{"owner":{"account_id":19870949,"reputation":81,"user_id":14557095,"display_name":"Raj Bhagat"},"score":0,"creation_date":1633436088,"post_id":69436694,"comment_id":122754324,"body_markdown":"I found the answer. For Height we can use `ability.getResourceManager().getDeviceCapability().height` and for width `ability.getResourceManager().getDeviceCapability().width`. It returns in virtual pixels (vps).","body":"I found the answer. For Height we can use <code>ability.getResourceManager().getDeviceCapability().height</code> and for width <code>ability.getResourceManager().getDeviceCapability().width</code>. It returns in virtual pixels (vps)."}],"answers":[{"tags":[],"owner":{"account_id":1174345,"reputation":33174,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633432452,"creation_date":1633432452,"answer_id":69449408,"question_id":69436694,"body_markdown":"You can still use this interface on Huawei phones.","title":"How to get the absolute height and width of the available display size in pixels","body":"<p>You can still use this interface on Huawei phones.</p>\n"}],"owner":{"account_id":19870949,"reputation":81,"user_id":14557095,"display_name":"Raj Bhagat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633432452,"creation_date":1633353659,"question_id":69436694,"body_markdown":"I am looking for absolute height and width of the available display in pixels like we do in android\r\n \r\n\r\n    activity.getResources().getDisplayMetrics().heightPixels;\r\nor\r\n\r\n    activity.getResources().getDisplayMetrics().widthPixels;","title":"How to get the absolute height and width of the available display size in pixels","body":"<p>I am looking for absolute height and width of the available display in pixels like we do in android</p>\n<pre><code>activity.getResources().getDisplayMetrics().heightPixels;\n</code></pre>\n<p>or</p>\n<pre><code>activity.getResources().getDisplayMetrics().widthPixels;\n</code></pre>\n"},{"tags":["java","spring-boot","websocket","spring-websocket"],"comments":[{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":0,"creation_date":1633432516,"post_id":69449272,"comment_id":122752806,"body_markdown":"Could you please explain what do you mean by &quot;application.yml is not getting loaded&quot;?","body":"Could you please explain what do you mean by &quot;application.yml is not getting loaded&quot;?"},{"owner":{"account_id":11164629,"reputation":1,"user_id":8193676,"display_name":"Dipisha jain"},"score":0,"creation_date":1633435636,"post_id":69449272,"comment_id":122754134,"body_markdown":"I have to read some values from application.yml like the name , url etc from it . with @Value annotation value is still null . Also I have Eureka server configuration in application.yml but that also dosen&#39;t work. If I remove any placeholder from application.yml then also server gets started without throwing any error as server is not loading application.yml on startup.","body":"I have to read some values from application.yml like the name , url etc from it . with @Value annotation value is still null . Also I have Eureka server configuration in application.yml but that also dosen&#39;t work. If I remove any placeholder from application.yml then also server gets started without throwing any error as server is not loading application.yml on startup."}],"owner":{"account_id":11164629,"reputation":1,"user_id":8193676,"display_name":"Dipisha jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633431796,"creation_date":1633431796,"question_id":69449272,"body_markdown":"I am creating a spring application which uses @EnableWebSocket annotation on my main class. I also have application.yml file on classpath which has some configuration for Eureka and other client connect. When I am running the server application.yml is not getting loaded but if i comment out @EnableWebSocket annotation from my main class yml file starts loading, but then my server will no longer support ws/wss protocol. \r\n\r\nHow can I read application.yml along with @EnableWebSocket annotation.","title":"How we can read application.yml with websocket configuration","body":"<p>I am creating a spring application which uses @EnableWebSocket annotation on my main class. I also have application.yml file on classpath which has some configuration for Eureka and other client connect. When I am running the server application.yml is not getting loaded but if i comment out @EnableWebSocket annotation from my main class yml file starts loading, but then my server will no longer support ws/wss protocol.</p>\n<p>How can I read application.yml along with @EnableWebSocket annotation.</p>\n"},{"tags":["java","android","datetime","simpledateformat"],"comments":[{"owner":{"account_id":945318,"reputation":8080,"user_id":972671,"accept_rate":46,"display_name":"Kingfisher Phuoc"},"score":0,"creation_date":1633421698,"post_id":69444447,"comment_id":122748529,"body_markdown":"the locale is `default`.","body":"the locale is <code>default</code>."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1633421733,"post_id":69444447,"comment_id":122748544,"body_markdown":"I know its default . i mean what value you r getting for locale ?","body":"I know its default . i mean what value you r getting for locale ?"},{"owner":{"account_id":945318,"reputation":8080,"user_id":972671,"accept_rate":46,"display_name":"Kingfisher Phuoc"},"score":0,"creation_date":1633422701,"post_id":69444447,"comment_id":122748886,"body_markdown":"I logged it as `locale.toString()` and it&#39;s named `default`.  The text after formatting was `Sat, M10 2`. However, I am using English in my device, it should be `Sat, Oct 2`.","body":"I logged it as <code>locale.toString()</code> and it&#39;s named <code>default</code>.  The text after formatting was <code>Sat, M10 2</code>. However, I am using English in my device, it should be <code>Sat, Oct 2</code>."},{"owner":{"account_id":16047390,"reputation":1264,"user_id":11582192,"display_name":"Per.J"},"score":0,"creation_date":1633426034,"post_id":69444447,"comment_id":122750211,"body_markdown":"`LocalDate.now().format(DateTimeFormatter.ofPattern(&quot;EEE, MMM d&quot;))`","body":"<code>LocalDate.now().format(DateTimeFormatter.ofPattern(&quot;EEE, MMM d&quot;))</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1633433730,"post_id":69444447,"comment_id":122753325,"body_markdown":"I recommend you don’t use `SimpleDateFormat`, `Calendar` and `Date`. Those classes are poorly designed and long outdated, the first in particular notoriously troublesome. Instead use `LocalDate` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>SimpleDateFormat</code>, <code>Calendar</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the first in particular notoriously troublesome. Instead use <code>LocalDate</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user16828276"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633424179,"creation_date":1633424179,"answer_id":69447525,"question_id":69444447,"body_markdown":"Initialize your date format just like this\r\n\r\n    Locale locale = Locale.getDefault();\r\n        DateFormat dateFormat = new SimpleDateFormat(&quot;EEE, MMM d&quot;, locale);\r\n        Calendar calendar = Calendar.getInstance(locale);\r\n        outputDate.setText(dateFormat.format(calendar.getTime()));","title":"Weird issue with Month in SimpleDateFormat","body":"<p>Initialize your date format just like this</p>\n<pre><code>Locale locale = Locale.getDefault();\n    DateFormat dateFormat = new SimpleDateFormat(&quot;EEE, MMM d&quot;, locale);\n    Calendar calendar = Calendar.getInstance(locale);\n    outputDate.setText(dateFormat.format(calendar.getTime()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633431724,"creation_date":1633431276,"answer_id":69449161,"question_id":69444447,"body_markdown":"# *java.time* \r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:**\r\n\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneOffset;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// A dummy Locale for the demo\r\n    \t\tLocale localeFromResponse = new Locale(&quot;default&quot;);\r\n    \r\n    \t\tLocale locale = localeFromResponse.toString().equals(&quot;default&quot;) ? Locale.getDefault() : localeFromResponse;\r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;EEE, MMM d&quot;, locale);\r\n    \t\tString formatted = OffsetDateTime.now(ZoneOffset.UTC).format(dtf);\r\n    \t\tSystem.out.println(formatted);\r\n    \r\n    \t\t// textView.setText(formatted);\r\n    \t}\r\n    }\r\n    \r\n**Output:**\r\n\r\n    Tue, Oct 5\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\n### If you have an existing `java.util.Calendar` object\r\n\r\nYou can convert the existing `java.util.Calendar` object to `java.time.Instant` using [`Calendar#toInstant`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html#toInstant--) which can in turn be converted into other Date-Time types of `java.time` API.\r\n\r\n**Demo:**\r\n\r\n    import java.time.ZoneOffset;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Calendar;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Dummy Locale and Calendar objects - for the demo\r\n    \t\tLocale localeFromResponse = new Locale(&quot;default&quot;);\r\n    \t\tCalendar calendar = Calendar.getInstance();\r\n    \r\n    \t\tLocale locale = localeFromResponse.toString().equals(&quot;default&quot;) ? Locale.getDefault() : localeFromResponse;\r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;EEE, MMM d&quot;, locale);\r\n    \t\tZonedDateTime zdt = calendar.toInstant().atZone(ZoneOffset.UTC);\r\n    \t\tString formatted = zdt.format(dtf);\r\n    \t\tSystem.out.println(formatted);\r\n    \r\n    \t\t// textView.setText(formatted);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    Tue, Oct 5\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][2]\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n### Just in case you need to do it using the legacy API\r\n\r\nFor any reason, if you want to stick to the legacy API, you can map the `Locale` in the same way as I have done above i.e. it will be\r\n\r\n\r\n    Locale localeFromResponse = context.getResources().getConfiguration().locale;\r\n    \r\n    Locale locale = localeFromResponse.toString().equals(&quot;default&quot;) ? Locale.getDefault() : localeFromResponse;\r\n    dateFormatDayMonth = new SimpleDateFormat(&quot;EEE, MMM d&quot;, locale);\r\n    textView.setText(dateFormatDayMonth.format(calendar.getTime()));\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/B5zqwN\r\n  [2]: https://ideone.com/0Dz3wx\r\n","title":"Weird issue with Month in SimpleDateFormat","body":"<h1><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong></p>\n<pre><code>import java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        // A dummy Locale for the demo\n        Locale localeFromResponse = new Locale(&quot;default&quot;);\n\n        Locale locale = localeFromResponse.toString().equals(&quot;default&quot;) ? Locale.getDefault() : localeFromResponse;\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;EEE, MMM d&quot;, locale);\n        String formatted = OffsetDateTime.now(ZoneOffset.UTC).format(dtf);\n        System.out.println(formatted);\n\n        // textView.setText(formatted);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Tue, Oct 5\n</code></pre>\n<p><a href=\"https://ideone.com/B5zqwN\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<h3>If you have an existing <code>java.util.Calendar</code> object</h3>\n<p>You can convert the existing <code>java.util.Calendar</code> object to <code>java.time.Instant</code> using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html#toInstant--\" rel=\"nofollow noreferrer\"><code>Calendar#toInstant</code></a> which can in turn be converted into other Date-Time types of <code>java.time</code> API.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.ZoneOffset;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Calendar;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Dummy Locale and Calendar objects - for the demo\n        Locale localeFromResponse = new Locale(&quot;default&quot;);\n        Calendar calendar = Calendar.getInstance();\n\n        Locale locale = localeFromResponse.toString().equals(&quot;default&quot;) ? Locale.getDefault() : localeFromResponse;\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;EEE, MMM d&quot;, locale);\n        ZonedDateTime zdt = calendar.toInstant().atZone(ZoneOffset.UTC);\n        String formatted = zdt.format(dtf);\n        System.out.println(formatted);\n\n        // textView.setText(formatted);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Tue, Oct 5\n</code></pre>\n<p><a href=\"https://ideone.com/0Dz3wx\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<h3>Just in case you need to do it using the legacy API</h3>\n<p>For any reason, if you want to stick to the legacy API, you can map the <code>Locale</code> in the same way as I have done above i.e. it will be</p>\n<pre><code>Locale localeFromResponse = context.getResources().getConfiguration().locale;\n\nLocale locale = localeFromResponse.toString().equals(&quot;default&quot;) ? Locale.getDefault() : localeFromResponse;\ndateFormatDayMonth = new SimpleDateFormat(&quot;EEE, MMM d&quot;, locale);\ntextView.setText(dateFormatDayMonth.format(calendar.getTime()));\n</code></pre>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"nofollow noreferrer\">support for <code>java.time</code></a>.\n</sup></p>\n"}],"owner":{"account_id":945318,"reputation":8080,"user_id":972671,"accept_rate":46,"display_name":"Kingfisher Phuoc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1633431724,"creation_date":1633402987,"question_id":69444447,"body_markdown":"I tried to format my date time:\r\n\r\n```\r\nLocale locale = context.getResources().getConfiguration().locale;\r\ndateFormatDayMonth = new SimpleDateFormat(&quot;EEE, MMM d&quot;, locale);\r\ntextView.setText(dateFormatDayMonth.format(calendar.getTime()));\r\n```\r\nHowever, the result is `Sat, M10 2`. I expected it to be `Sat, Oct 2`. It&#39;s used to work before, but suddenly it&#39;s stopped working.\r\nIs there anything I missed here?","title":"Weird issue with Month in SimpleDateFormat","body":"<p>I tried to format my date time:</p>\n<pre><code>Locale locale = context.getResources().getConfiguration().locale;\ndateFormatDayMonth = new SimpleDateFormat(&quot;EEE, MMM d&quot;, locale);\ntextView.setText(dateFormatDayMonth.format(calendar.getTime()));\n</code></pre>\n<p>However, the result is <code>Sat, M10 2</code>. I expected it to be <code>Sat, Oct 2</code>. It's used to work before, but suddenly it's stopped working.\nIs there anything I missed here?</p>\n"},{"tags":["java","html","spring","model-view-controller","playback"],"comments":[{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1633430571,"post_id":69448533,"comment_id":122751983,"body_markdown":"Hi, does your code compile? You have `public Status status;` and `public String getStatus()`","body":"Hi, does your code compile? You have <code>public Status status;</code> and <code>public String getStatus()</code>"}],"answers":[{"tags":[],"owner":{"account_id":20967341,"reputation":21,"user_id":15405246,"display_name":"asi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633431701,"creation_date":1633431701,"answer_id":69449256,"question_id":69448533,"body_markdown":"after long play with quotes, I found the answer:\r\n\r\n    #{if &quot;${programComment.getStatus()}&quot;==&quot;MODERATED&quot;}\r\n    &lt;div&gt;\r\n    ...\r\n    &lt;/div&gt;\r\n    #{/if}\r\n\r\nSo, I wrapped the variable with double quotations.","title":"How to compare String and string in enum","body":"<p>after long play with quotes, I found the answer:</p>\n<pre><code>#{if &quot;${programComment.getStatus()}&quot;==&quot;MODERATED&quot;}\n&lt;div&gt;\n...\n&lt;/div&gt;\n#{/if}\n</code></pre>\n<p>So, I wrapped the variable with double quotations.</p>\n"}],"owner":{"account_id":20967341,"reputation":21,"user_id":15405246,"display_name":"asi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633431701,"creation_date":1633428365,"question_id":69448533,"body_markdown":"I&#39;m new in MVC programming.\r\nSo I&#39;m using play framework.\r\n\r\nHere is the enum from my model:\r\n\r\n    public enum Status{\r\n        CREATED, \r\n        MODERATED, \r\n        REJECTED, \r\n        REPLIED, \r\n        REPLY \r\n    }\r\n\r\n    @Column(name=&quot;status_&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    public Status status;\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\nNow, I need to access the $status from the view (html) and compare the string:\r\n\r\n    #{if programComment.getStatus()==&quot;MODERATED&quot;}\r\n    &lt;div&gt;\r\n     ...\r\n    &lt;/div&gt;\r\n    #{/if}\r\n\r\nbut it gives me error: \r\n\r\n&gt; Getting Uncaught ReferenceError: MODERATED is not defined\r\n\r\n","title":"How to compare String and string in enum","body":"<p>I'm new in MVC programming.\nSo I'm using play framework.</p>\n<p>Here is the enum from my model:</p>\n<pre><code>public enum Status{\n    CREATED, \n    MODERATED, \n    REJECTED, \n    REPLIED, \n    REPLY \n}\n\n@Column(name=&quot;status_&quot;)\n@Enumerated(EnumType.STRING)\npublic Status status;\n\npublic String getStatus() {\n    return status;\n}\n</code></pre>\n<p>Now, I need to access the $status from the view (html) and compare the string:</p>\n<pre><code>#{if programComment.getStatus()==&quot;MODERATED&quot;}\n&lt;div&gt;\n ...\n&lt;/div&gt;\n#{/if}\n</code></pre>\n<p>but it gives me error:</p>\n<blockquote>\n<p>Getting Uncaught ReferenceError: MODERATED is not defined</p>\n</blockquote>\n"},{"tags":["java","multithreading","swing","user-interface","block"],"answers":[{"tags":[],"owner":{"account_id":251690,"reputation":695,"user_id":1014752,"display_name":"Ramsay Domloge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1411567435,"creation_date":1411549713,"answer_id":26012879,"question_id":26012709,"body_markdown":"The button click anonymous class&#39;s actionPerformed() method is executed on the Swing thread, so while the code in that block is executed, the GUI cannot do anything else. You need to execute the initiate() method in some other thread.\r\n\r\nTo prove to yourself that this is the case, use this (terrible) code:\r\n\r\n    new Thread(){\r\n        public void run() {\r\n            //initiate  the bot:\r\n            try {\r\n                irc_bot.initiate(server, ports);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }}.start();\r\n\r\nThat should achieve what you are looking for, albeit with terrible code. Then you need to work out how you are going to create and manage that thread. You&#39;ll need a way to signal, from your GUI, to the background thread that you want it to stop, probably by interrupting it.\r\n\r\nThe reason that you do not get this issue when executing the code from the main() method is that you are getting a new Thread for *free*. When you start your app with main(), you call the constructor on bot and this spawns the UI. Your main method, in its main thread then start executing the bot initiate() method and gets into that loop, whilst the Swing thread is responsible for running the UI. \r\n","title":"Java Swing GUI blocked by method only when method is called on button click","body":"<p>The button click anonymous class's actionPerformed() method is executed on the Swing thread, so while the code in that block is executed, the GUI cannot do anything else. You need to execute the initiate() method in some other thread.</p>\n\n<p>To prove to yourself that this is the case, use this (terrible) code:</p>\n\n<pre><code>new Thread(){\n    public void run() {\n        //initiate  the bot:\n        try {\n            irc_bot.initiate(server, ports);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }}.start();\n</code></pre>\n\n<p>That should achieve what you are looking for, albeit with terrible code. Then you need to work out how you are going to create and manage that thread. You'll need a way to signal, from your GUI, to the background thread that you want it to stop, probably by interrupting it.</p>\n\n<p>The reason that you do not get this issue when executing the code from the main() method is that you are getting a new Thread for <em>free</em>. When you start your app with main(), you call the constructor on bot and this spawns the UI. Your main method, in its main thread then start executing the bot initiate() method and gets into that loop, whilst the Swing thread is responsible for running the UI. </p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411551615,"creation_date":1411549751,"answer_id":26012897,"question_id":26012709,"body_markdown":"For button clicks, actionPerformed, is called on the event dispatching thread, and one should return from actionPerformed as fast as possible. Use the invokeLater to do long work a bit later. Otherwise the event queue is blocked (single thread), and the GUI is not responsive.\r\n\r\n    public void actionPerformed(ActionEvent event){\r\n        SwingUtilites.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                ... the work\r\n            }\r\n        });\r\n    }\r\n\r\n        EventQueue.invokeLater(() -&gt; {\r\n            ... the work\r\n        });\r\n\r\nThe second alternative uses the alternative class for invokeLater, and shortens the code using java 8&#39;s lambdas.\r\n\r\n","title":"Java Swing GUI blocked by method only when method is called on button click","body":"<p>For button clicks, actionPerformed, is called on the event dispatching thread, and one should return from actionPerformed as fast as possible. Use the invokeLater to do long work a bit later. Otherwise the event queue is blocked (single thread), and the GUI is not responsive.</p>\n\n<pre><code>public void actionPerformed(ActionEvent event){\n    SwingUtilites.invokeLater(new Runnable() {\n        @Override\n        public void run() {\n            ... the work\n        }\n    });\n}\n\n    EventQueue.invokeLater(() -&gt; {\n        ... the work\n    });\n</code></pre>\n\n<p>The second alternative uses the alternative class for invokeLater, and shortens the code using java 8's lambdas.</p>\n"},{"tags":[],"owner":{"account_id":2004750,"reputation":8566,"user_id":1795426,"display_name":"user11153"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633431382,"creation_date":1411550559,"answer_id":26013191,"question_id":26012709,"body_markdown":"&gt; I have tried adding SwingWorker so the initiate stuff runs in the\r\n&gt; background, but it still freezes the gui.\r\n\r\nYou must call `execute()` on SwingWorker, not `run()` method (common mistake).\r\n\r\nLike this:\r\n\r\n    new SwingWorker&lt;Void, Void&gt;() {\r\n    \t@Override\r\n    \tpublic Void doInBackground() {\r\n    \t\tirc_bot.initiate(server, ports);\r\n    \t\treturn null;\r\n    \t}\r\n    }.execute();\r\n","title":"Java Swing GUI blocked by method only when method is called on button click","body":"<blockquote>\n<p>I have tried adding SwingWorker so the initiate stuff runs in the\nbackground, but it still freezes the gui.</p>\n</blockquote>\n<p>You must call <code>execute()</code> on SwingWorker, not <code>run()</code> method (common mistake).</p>\n<p>Like this:</p>\n<pre><code>new SwingWorker&lt;Void, Void&gt;() {\n    @Override\n    public Void doInBackground() {\n        irc_bot.initiate(server, ports);\n        return null;\n    }\n}.execute();\n</code></pre>\n"}],"owner":{"account_id":5076498,"reputation":15,"user_id":4073727,"accept_rate":50,"display_name":"nmarton.t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":26012879,"answer_count":3,"score":0,"last_activity_date":1633431382,"creation_date":1411549175,"question_id":26012709,"body_markdown":"I am creating an IRC bot in Java. I made a class called &quot;loginHandler&quot; which asks the user to input the login info, such as nick/pass/server/etc... When the user is done, the &quot;Connect&quot; button is clicked, which initializes the IRC handler class, `bot`. See the code:\r\n\r\n    package irc_bot;\r\n\r\n    import java.awt.BorderLayout;\r\n    //more imports are here but they are irrelevant right now\r\n\r\n    public class loginHandler extends JFrame {\r\n    \r\n\tprivate static final long serialVersionUID = 6742568354533287421L;\r\n\r\n\tprivate bot irc_bot;\r\n\t\r\n\tprivate String username;\r\n\tprivate String password;\r\n\tprivate int[] ports={80,6667};\r\n\t//.....\r\n\t\r\n\t//gui vars\r\n\tprivate final JTextField usernameInput;\r\n\tprivate final JTextField passwordInput;\r\n\t//......\r\n\t\r\n\tpublic loginHandler(){\r\n\t\t\r\n\t\tsuper(&quot;Login data&quot;);\r\n\t\t\r\n\t\tPanel = new JPanel(new BorderLayout());\r\n\t\tPanel.setLayout(new GridLayout(13, 1));\r\n\t\t\r\n\t\tJLabel label = new JLabel(&quot;Hover over labels for information!!&quot;);\r\n\t\tPanel.add(label);\r\n\t\t\r\n\t\tlabel = new JLabel(&quot;Username: &quot;);\r\n\t\tlabel.setToolTipText(&quot;Type in your username!&quot;);\r\n\t\tPanel.add(label);\r\n\t\tusernameInput=new JTextField(&quot;&quot;);\r\n\t\tusernameInput.setEditable(true);\r\n\t\tPanel.add(usernameInput);\r\n\t\t\r\n\t\tlabel = new JLabel(&quot;Password: &quot;);\r\n\t\tlabel.setToolTipText(&quot;Type in your password! Starts with &#39;oauth:&#39;&quot;);\r\n\t\tPanel.add(label);\r\n\t\tpasswordInput=new JPasswordField(&quot;&quot;);\r\n\t\tpasswordInput.setEditable(true);\r\n\t\tPanel.add(passwordInput);\r\n        \r\n\t\t//.......\r\n\t\t//the other textfields are here but they are irrelevant right now\r\n        \r\n\r\n        //The important part:\r\n\t\tJButton okButton=new JButton(&quot;Connect&quot;);\r\n\t\tokButton.addActionListener(\r\n\t\t\t\tnew ActionListener(){\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent event){\r\n\t\t\t\t\t\t//set data method\r\n\t\t\t\t\t\tsetData();\r\n\t\t\t\t\t\tdispose();\r\n\t\t\t\t\t\t//bot object:\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tirc_bot=new bot(username, password, master_channel, master_admin);\r\n\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//initiate  the bot:\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tirc_bot.initiate(server, ports);\r\n\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\r\n\t\tadd(okButton, BorderLayout.SOUTH);\r\n\t\t\r\n\t\t\r\n\t\tadd(new JScrollPane(Panel), BorderLayout.NORTH);\r\n\t\t\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetSize(300,400);\r\n\t\tsetVisible(true);\r\n\t\t\r\n\t}\r\n\tprivate void setData(){\r\n\t\tusername=usernameInput.getText();\r\n\t\tpassword=passwordInput.getText();\r\n\t\tserver=serverInput.getText();\r\n\t\tmaster_channel=master_channelInput.getText();\r\n\t\tmaster_admin=master_adminInput.getText();\r\n\t\tport=portsInput.getText();\r\n\t\t\r\n\t\t//set up the ports: TO-DO\r\n\t}\r\n\r\n    }\r\n\r\nMy problem is that the `bot.initiate()` method blocks the GUI of the `bot` object. When the `bot.initiate()` is not called, the GUI works as intended. When the `bot.initiate()` stops, the GUI will be functional again. The problem is that the initiate() method contains an infinite loop which reads the lines from the irc server (this is in `irc_bot.mainMethod()`).\r\n\r\nThe GUI window shows up, but it is blank, and it does not respond to me trying to close it or anything else.\r\n\r\nThe program is actually *not* frozen, I can still communicate with the bot via irc.\r\n\r\nThe weird thing is that if I initiate the bot object in main() for example, it works as intended, the initiate() method does not block the gui.\r\n\r\nTake a look at the bot class (I copied only the relevant parts):\r\n\r\n    package irc_bot;\r\n\r\n    //import stuff\r\n \r\n    public class bot {\r\n\r\n\t//gui vars\r\n\tprivate JFrame mainWindow;\r\n\t//.....\r\n\t\r\n\t\r\n\t//irc variables\r\n\tprivate String server;\r\n\t//.....\r\n\t\r\n\t//lists\r\n\tprivate List&lt;String&gt; botadminlist;\r\n\t//.......\r\n\t\r\n\t//for communicating with IRC\r\n\tprivate Socket socket;\r\n\tprivate BufferedWriter writer;//write to IRC\r\n\t//.....\r\n\tpritate bot_msg_handler handler;\r\n\t\r\n\tprivate String line;//the received line from the IRC server is stored in this\r\n\t\r\n\t//-----methods-----\r\n\t//constructor: does the basic setup\r\n\tpublic bot(String nick, String password, String master_channel, String master_admin) throws Exception {\r\n\t\t\r\n\t\t\r\n\t\t//gui stuff\r\n\t\tmainWindow=new JFrame(&quot;irc_bot&quot;);\r\n\t\t\r\n\t\t//setup the menu\r\n\t\tmenuBar = new JMenuBar();\r\n\t\t\r\n\t\t//first menu\r\n\t\tmenu = new JMenu(&quot;Commands&quot;);\r\n\t\tmenu.setMnemonic(KeyEvent.VK_C);\r\n\t\tmenuBar.add(menu);\r\n\t\t//ide j&#246;n a men&#252; kifejt&#233;se\r\n\t\tmenuItem = new JMenuItem(&quot;Show/Edit commands&quot;,\r\n\t\t\t\tKeyEvent.VK_S);\r\n\t\t//event handling\r\n\t\tmenuItem.addActionListener(\r\n\t\t\t\tnew ActionListener(){\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent event){\r\n\t\t\t\t\t\tshowCommands();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\tmenu.add(menuItem);\r\n\t\tmenuItem = new JMenuItem(&quot;Add command&quot;,\r\n\t\t\t\tKeyEvent.VK_A);\r\n\t\t//event handling\r\n\t\tmenuItem.addActionListener(\r\n\t\t\t\tnew ActionListener(){\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent event){\r\n\t\t\t\t\t\taddCommand();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\tmenu.add(menuItem);\r\n\t\t//more menus.......\r\n\t\t\r\n        //more GUI elements\r\n\r\n        //.......\r\n\t\t//setup the window\r\n\t\tmainWindow.add(bottomPanel,BorderLayout.SOUTH);\r\n\t\tmainWindow.add(menuBar, BorderLayout.NORTH);\r\n\t\tmainWindow.add(new JScrollPane(textBox), BorderLayout.CENTER);\r\n\t\t\r\n\t\tmainWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tmainWindow.setSize(800,600);\r\n\t\tmainWindow.setVisible(true);\r\n\t\t\r\n\t\tsendBotMsg=false;\r\n\r\n\t\t//setup lists\r\n\t\tmodlist=new ArrayList&lt;mod_element&gt;();\r\n\t\t//.....\r\n\t\t\r\n\t\t//user settings\r\n\t\tthis.nick=nick;\r\n\t\tthis.password=password;\r\n\t\tthis.master_channel=master_channel;\r\n\t\tthis.master_admin=master_admin;\r\n\t\t\r\n\t\t//create the message handler object\r\n\t\thandler = new bot_msg_handler(this.nick, this.master_channel, this.master_admin, modlist,\r\n\t\t\t\tbotadminlist, stafflist, adminlist, active_channels, cooldown, commands);\r\n\t\thandler.setTextBox(textBox);\r\n\t\t\r\n\t\ttextBox.append(&quot;Constructor setup complete\\n&quot;);\r\n\t}//constructor\r\n\t\r\n\t//IRC SPECIFIC STUFF\r\n\tpublic void initiate(String server, int... ports) throws Exception{\r\n\t\tthis.server=server;\r\n\t\tif(connect(server, ports)==-1){\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;Bot couldn&#39;t connect to the server!&quot;);\r\n\t\t\tmainWindow.dispose();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(logon()==-1){\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;Bot couldn&#39;t log in!&quot;);\r\n\t\t\tmainWindow.dispose();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tjoin(master_channel);\r\n\t\t\r\n\t\tmainMethod();\r\n\t\t\r\n\t\t}\r\n\t\r\n\tprivate int connect(String server, int... ports) throws Exception {\r\n\t\t// Connect directly to the IRC server.\r\n\t\t//this.server=server;\r\n\t\tboolean connected=false;\r\n\t\tfor(int port:ports){\r\n\t\t\ttextBox.append(&quot;Trying to connect to &quot;+server+&quot; on port &quot;+port+&quot;...\\n&quot;);\r\n\t\t\ttry{\r\n\t\t\t\tsocket = new Socket();\r\n\t\t\t\tsocket.setSoTimeout(1000);//if nothing happens in 1000 milliseconds, it is gonna advance in the code. IMPORTANT!\r\n\t\t\t\tsocket.connect(new InetSocketAddress(server, port), 2000);//2000 is the timeout value in milliseconds for the connection\r\n\t\t\t\ttextBox.append(&quot;Connected to &quot;+server+&quot;:&quot;+port+&quot;\\n&quot;);\r\n\t\t\t\tconnected=true;\r\n\t\t\t\tthis.port=port;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcatch(SocketTimeoutException e1){\r\n\t\t\t\ttextBox.append(&quot;Connection timed out\\n&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(connected){\r\n\t\t\twriter = new BufferedWriter(\r\n\t\t\t\t\tnew OutputStreamWriter(socket.getOutputStream( ), &quot;UTF-8&quot;));//utf-8 (international characters)\r\n\t\t\treader = new BufferedReader(\r\n\t\t\t\t\tnew InputStreamReader(socket.getInputStream( ), &quot;UTF-8&quot;));\r\n\t\t\thandler.setWriter(writer);\r\n\t\t\treturn 1;//connection successful\r\n\t\t}else{\r\n\t\t\ttextBox.append(&quot;Connection timed out, cannot connect to the IRC server\\nApp will shut down now.\\n&quot;);\r\n\t\t\treturn -1;//this means that the connection failed\r\n\t\t}\r\n\t\t\r\n\t}//connect\r\n\t\r\n\tprivate int logon() throws Exception {//logs the bot in the irc\r\n\t\twriter.write(&quot;PASS &quot; + password + &quot;\\r\\n&quot;);//twitch specific stuff\r\n\t\twriter.write(&quot;NICK &quot; + nick + &quot;\\r\\n&quot;);\r\n\t\twriter.flush( );\r\n\t\t\r\n\t\t// Read lines from the server until it tells us we have connected.\r\n\t\tString line = null;\r\n\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\t\trawBox.append(line+&quot;\\n&quot;);\r\n\t\t\t\tif (line.contains(&quot;004&quot;)) {\r\n\t\t\t\t\t// We are now logged in.\r\n\t\t\t\t\ttextBox.append(&quot;The bot is successfully logged in\\n------------------\\n&quot;);\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t\telse if (line.contains(&quot;Login unsuccessful&quot;)) {\r\n\t\t\t\t\ttextBox.append(&quot;Login was unsuccessful.\\n&quot;);\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t}//logon\r\n\t\r\n\tprivate void join(String channel) throws Exception {\r\n\t\t// Join the channel. Only for initial use.\r\n\t\twriter.write(&quot;JOIN &quot; + channel + &quot;\\r\\n&quot;);\r\n\t\twriter.flush( );\r\n\t\t\r\n\t\twriter.write(&quot;TWITCHCLIENT 3&quot;+&quot;\\r\\n&quot;);\r\n\t\twriter.flush();\r\n\t}//join\r\n\t\r\n\tprivate void mainMethod() throws Exception{\r\n\t\t// Keep reading lines from the server.\r\n\t\t//-------MAIN PROCESS------\r\n\t\tmsgInput.setEditable(true);//the textbox is ready to be used\r\n\t\t\r\n\t\twhile (true){\r\n\t\t\ttry{\r\n\t\t\t\tline = reader.readLine( );//waits for a line for 1000 millisecs\r\n\t\t\t\thandler.setLine(line);\r\n\t\t\t}catch(SocketTimeoutException e7){\r\n\t\t\t\t//if there is no incoming line in a second, it&#39;s gonna create an exception\r\n\t\t\t\t//we want nothing to do with the exception though\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(line!=null){\r\n\t\t\t\thandler.set_msg_type(0);//default for each line\r\n\t\t\t\t\r\n\t\t\t\tif (line.startsWith(&quot;PING &quot;)) {\r\n\t\t\t\t\t// We must respond to PINGs to avoid being disconnected.\r\n\t\t\t\t\thandler.sendPONG();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//Print the raw line received by the bot to the rawBox\r\n\t\t\t\trawBox.append(line+&quot;\\n&quot;);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t//analyze the line and gather information\r\n\t\t\t\thandler.msgAnalyzer();\r\n\t\t\t\t\r\n\t\t\t\t//message handling:\r\n\t\t\t\thandler.msgHandler();\r\n\t\t\t\t\r\n\t\t\t\t//update channellist and other lists\r\n\t\t\t\tupdateLists();\r\n\t\t\t}//if\r\n\t\t\t\r\n\t\t\t//other tasks\r\n\t\t\thandler.otherTasks();\r\n\t\t\tline=null;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//send the message \r\n\t\t\tif(sendBotMsg){\r\n\t\t\t\thandler.sendPRIVMSG(channelToSend, msgToSend);\r\n\t\t\t\tsendBotMsg=false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}//while\r\n\r\n\t}//mainMethod\r\n\t\r\n\t\r\n\t//Methods called from the gui are here, but they are irrelevant now\r\n\t\r\n\r\nI have tried adding SwingWorker so the initiate stuff runs in the background, but it still freezes the gui.\r\n\r\nThe program works as intended when I ...\r\n\r\n1. Do not call the initiate method. I still create the object in the actionPerformed method, and I get a functioning GUI.\r\n\r\n2. Do not call the initiate function from the actionPerformed.\r\n\r\nFor example, when I do this, the bot works as intended:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String server=&quot;irc.twitch.tv&quot;;\r\n\t\tint[] ports={80,6667};\r\n\t\tString nick =&quot;test&quot;;\r\n\t\tString password = &quot;test&quot;;\r\n\t\tString master_channel = &quot;#master&quot;;\r\n\t\tString master_admin=&quot;master&quot;;\r\n\t\t\r\n\t\t//bot object:\r\n\t\tbot irc_bot=new bot(nick, password, master_channel, master_admin);//this is gonna be our irc_bot object\r\n\t\t//initiate  the bot:\r\n\t\tirc_bot.initiate(server, ports);\r\n\t}\r\n\r\nI suspect the thread in which the initiate() runs is blocking the GUI thread somehow. The thing that I do not understand is why it only happens when I call said method from the action listener/window listener/any listener. Any ideas as to how I can fix this?","title":"Java Swing GUI blocked by method only when method is called on button click","body":"<p>I am creating an IRC bot in Java. I made a class called \"loginHandler\" which asks the user to input the login info, such as nick/pass/server/etc... When the user is done, the \"Connect\" button is clicked, which initializes the IRC handler class, <code>bot</code>. See the code:</p>\n\n<pre><code>package irc_bot;\n\nimport java.awt.BorderLayout;\n//more imports are here but they are irrelevant right now\n\npublic class loginHandler extends JFrame {\n\nprivate static final long serialVersionUID = 6742568354533287421L;\n\nprivate bot irc_bot;\n\nprivate String username;\nprivate String password;\nprivate int[] ports={80,6667};\n//.....\n\n//gui vars\nprivate final JTextField usernameInput;\nprivate final JTextField passwordInput;\n//......\n\npublic loginHandler(){\n\n    super(\"Login data\");\n\n    Panel = new JPanel(new BorderLayout());\n    Panel.setLayout(new GridLayout(13, 1));\n\n    JLabel label = new JLabel(\"Hover over labels for information!!\");\n    Panel.add(label);\n\n    label = new JLabel(\"Username: \");\n    label.setToolTipText(\"Type in your username!\");\n    Panel.add(label);\n    usernameInput=new JTextField(\"\");\n    usernameInput.setEditable(true);\n    Panel.add(usernameInput);\n\n    label = new JLabel(\"Password: \");\n    label.setToolTipText(\"Type in your password! Starts with 'oauth:'\");\n    Panel.add(label);\n    passwordInput=new JPasswordField(\"\");\n    passwordInput.setEditable(true);\n    Panel.add(passwordInput);\n\n    //.......\n    //the other textfields are here but they are irrelevant right now\n\n\n    //The important part:\n    JButton okButton=new JButton(\"Connect\");\n    okButton.addActionListener(\n            new ActionListener(){\n                public void actionPerformed(ActionEvent event){\n                    //set data method\n                    setData();\n                    dispose();\n                    //bot object:\n                    try {\n                        irc_bot=new bot(username, password, master_channel, master_admin);\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                    //initiate  the bot:\n                    try {\n                        irc_bot.initiate(server, ports);\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        );\n\n    add(okButton, BorderLayout.SOUTH);\n\n\n    add(new JScrollPane(Panel), BorderLayout.NORTH);\n\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setSize(300,400);\n    setVisible(true);\n\n}\nprivate void setData(){\n    username=usernameInput.getText();\n    password=passwordInput.getText();\n    server=serverInput.getText();\n    master_channel=master_channelInput.getText();\n    master_admin=master_adminInput.getText();\n    port=portsInput.getText();\n\n    //set up the ports: TO-DO\n}\n\n}\n</code></pre>\n\n<p>My problem is that the <code>bot.initiate()</code> method blocks the GUI of the <code>bot</code> object. When the <code>bot.initiate()</code> is not called, the GUI works as intended. When the <code>bot.initiate()</code> stops, the GUI will be functional again. The problem is that the initiate() method contains an infinite loop which reads the lines from the irc server (this is in <code>irc_bot.mainMethod()</code>).</p>\n\n<p>The GUI window shows up, but it is blank, and it does not respond to me trying to close it or anything else.</p>\n\n<p>The program is actually <em>not</em> frozen, I can still communicate with the bot via irc.</p>\n\n<p>The weird thing is that if I initiate the bot object in main() for example, it works as intended, the initiate() method does not block the gui.</p>\n\n<p>Take a look at the bot class (I copied only the relevant parts):</p>\n\n<pre><code>package irc_bot;\n\n//import stuff\n\npublic class bot {\n\n//gui vars\nprivate JFrame mainWindow;\n//.....\n\n\n//irc variables\nprivate String server;\n//.....\n\n//lists\nprivate List&lt;String&gt; botadminlist;\n//.......\n\n//for communicating with IRC\nprivate Socket socket;\nprivate BufferedWriter writer;//write to IRC\n//.....\npritate bot_msg_handler handler;\n\nprivate String line;//the received line from the IRC server is stored in this\n\n//-----methods-----\n//constructor: does the basic setup\npublic bot(String nick, String password, String master_channel, String master_admin) throws Exception {\n\n\n    //gui stuff\n    mainWindow=new JFrame(\"irc_bot\");\n\n    //setup the menu\n    menuBar = new JMenuBar();\n\n    //first menu\n    menu = new JMenu(\"Commands\");\n    menu.setMnemonic(KeyEvent.VK_C);\n    menuBar.add(menu);\n    //ide jön a menü kifejtése\n    menuItem = new JMenuItem(\"Show/Edit commands\",\n            KeyEvent.VK_S);\n    //event handling\n    menuItem.addActionListener(\n            new ActionListener(){\n                public void actionPerformed(ActionEvent event){\n                    showCommands();\n                }\n            }\n        );\n    menu.add(menuItem);\n    menuItem = new JMenuItem(\"Add command\",\n            KeyEvent.VK_A);\n    //event handling\n    menuItem.addActionListener(\n            new ActionListener(){\n                public void actionPerformed(ActionEvent event){\n                    addCommand();\n                }\n            }\n        );\n    menu.add(menuItem);\n    //more menus.......\n\n    //more GUI elements\n\n    //.......\n    //setup the window\n    mainWindow.add(bottomPanel,BorderLayout.SOUTH);\n    mainWindow.add(menuBar, BorderLayout.NORTH);\n    mainWindow.add(new JScrollPane(textBox), BorderLayout.CENTER);\n\n    mainWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    mainWindow.setSize(800,600);\n    mainWindow.setVisible(true);\n\n    sendBotMsg=false;\n\n    //setup lists\n    modlist=new ArrayList&lt;mod_element&gt;();\n    //.....\n\n    //user settings\n    this.nick=nick;\n    this.password=password;\n    this.master_channel=master_channel;\n    this.master_admin=master_admin;\n\n    //create the message handler object\n    handler = new bot_msg_handler(this.nick, this.master_channel, this.master_admin, modlist,\n            botadminlist, stafflist, adminlist, active_channels, cooldown, commands);\n    handler.setTextBox(textBox);\n\n    textBox.append(\"Constructor setup complete\\n\");\n}//constructor\n\n//IRC SPECIFIC STUFF\npublic void initiate(String server, int... ports) throws Exception{\n    this.server=server;\n    if(connect(server, ports)==-1){\n        JOptionPane.showMessageDialog(null, \"Bot couldn't connect to the server!\");\n        mainWindow.dispose();\n        return;\n    }\n    if(logon()==-1){\n        JOptionPane.showMessageDialog(null, \"Bot couldn't log in!\");\n        mainWindow.dispose();\n        return;\n    }\n    join(master_channel);\n\n    mainMethod();\n\n    }\n\nprivate int connect(String server, int... ports) throws Exception {\n    // Connect directly to the IRC server.\n    //this.server=server;\n    boolean connected=false;\n    for(int port:ports){\n        textBox.append(\"Trying to connect to \"+server+\" on port \"+port+\"...\\n\");\n        try{\n            socket = new Socket();\n            socket.setSoTimeout(1000);//if nothing happens in 1000 milliseconds, it is gonna advance in the code. IMPORTANT!\n            socket.connect(new InetSocketAddress(server, port), 2000);//2000 is the timeout value in milliseconds for the connection\n            textBox.append(\"Connected to \"+server+\":\"+port+\"\\n\");\n            connected=true;\n            this.port=port;\n            break;\n        }\n        catch(SocketTimeoutException e1){\n            textBox.append(\"Connection timed out\\n\");\n        }\n    }\n    if(connected){\n        writer = new BufferedWriter(\n                new OutputStreamWriter(socket.getOutputStream( ), \"UTF-8\"));//utf-8 (international characters)\n        reader = new BufferedReader(\n                new InputStreamReader(socket.getInputStream( ), \"UTF-8\"));\n        handler.setWriter(writer);\n        return 1;//connection successful\n    }else{\n        textBox.append(\"Connection timed out, cannot connect to the IRC server\\nApp will shut down now.\\n\");\n        return -1;//this means that the connection failed\n    }\n\n}//connect\n\nprivate int logon() throws Exception {//logs the bot in the irc\n    writer.write(\"PASS \" + password + \"\\r\\n\");//twitch specific stuff\n    writer.write(\"NICK \" + nick + \"\\r\\n\");\n    writer.flush( );\n\n    // Read lines from the server until it tells us we have connected.\n    String line = null;\n    while ((line = reader.readLine()) != null) {\n            rawBox.append(line+\"\\n\");\n            if (line.contains(\"004\")) {\n                // We are now logged in.\n                textBox.append(\"The bot is successfully logged in\\n------------------\\n\");\n                return 1;\n            }\n            else if (line.contains(\"Login unsuccessful\")) {\n                textBox.append(\"Login was unsuccessful.\\n\");\n                return -1;\n            }\n    }\n    return -1;\n}//logon\n\nprivate void join(String channel) throws Exception {\n    // Join the channel. Only for initial use.\n    writer.write(\"JOIN \" + channel + \"\\r\\n\");\n    writer.flush( );\n\n    writer.write(\"TWITCHCLIENT 3\"+\"\\r\\n\");\n    writer.flush();\n}//join\n\nprivate void mainMethod() throws Exception{\n    // Keep reading lines from the server.\n    //-------MAIN PROCESS------\n    msgInput.setEditable(true);//the textbox is ready to be used\n\n    while (true){\n        try{\n            line = reader.readLine( );//waits for a line for 1000 millisecs\n            handler.setLine(line);\n        }catch(SocketTimeoutException e7){\n            //if there is no incoming line in a second, it's gonna create an exception\n            //we want nothing to do with the exception though\n        }\n\n        if(line!=null){\n            handler.set_msg_type(0);//default for each line\n\n            if (line.startsWith(\"PING \")) {\n                // We must respond to PINGs to avoid being disconnected.\n                handler.sendPONG();\n            }\n\n            //Print the raw line received by the bot to the rawBox\n            rawBox.append(line+\"\\n\");\n\n\n            //analyze the line and gather information\n            handler.msgAnalyzer();\n\n            //message handling:\n            handler.msgHandler();\n\n            //update channellist and other lists\n            updateLists();\n        }//if\n\n        //other tasks\n        handler.otherTasks();\n        line=null;\n\n\n        //send the message \n        if(sendBotMsg){\n            handler.sendPRIVMSG(channelToSend, msgToSend);\n            sendBotMsg=false;\n        }\n\n    }//while\n\n}//mainMethod\n\n\n//Methods called from the gui are here, but they are irrelevant now\n</code></pre>\n\n<p>I have tried adding SwingWorker so the initiate stuff runs in the background, but it still freezes the gui.</p>\n\n<p>The program works as intended when I ...</p>\n\n<ol>\n<li><p>Do not call the initiate method. I still create the object in the actionPerformed method, and I get a functioning GUI.</p></li>\n<li><p>Do not call the initiate function from the actionPerformed.</p></li>\n</ol>\n\n<p>For example, when I do this, the bot works as intended:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    String server=\"irc.twitch.tv\";\n    int[] ports={80,6667};\n    String nick =\"test\";\n    String password = \"test\";\n    String master_channel = \"#master\";\n    String master_admin=\"master\";\n\n    //bot object:\n    bot irc_bot=new bot(nick, password, master_channel, master_admin);//this is gonna be our irc_bot object\n    //initiate  the bot:\n    irc_bot.initiate(server, ports);\n}\n</code></pre>\n\n<p>I suspect the thread in which the initiate() runs is blocking the GUI thread somehow. The thing that I do not understand is why it only happens when I call said method from the action listener/window listener/any listener. Any ideas as to how I can fix this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8021,"page":1971,"page_size":100}
