{"items":[{"tags":["java","string","performance","permutation","lexicographic"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1647004121,"post_id":71438917,"comment_id":126269808,"body_markdown":"You may skip elements in the list if they don&#39;t start with one of the characters in your starting `str`. But else, I&#39;m not entirely sure if your algorithm could be improved","body":"You may skip elements in the list if they don&#39;t start with one of the characters in your starting <code>str</code>. But else, I&#39;m not entirely sure if your algorithm could be improved"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1647006307,"post_id":71438917,"comment_id":126270570,"body_markdown":"And just saying: as homework exercises, such things are great, as you can spend A LOT of time and energy, and learn a lot about different strategies and whatnot. But beware: if we are talking about &quot;real world production&quot; code, then you shouldn&#39;t spend a lot of time UNLESS you are already observing a &quot;real&quot; performance issue. Meaning: unless your carefully measured benchmarks show that you aren&#39;t &quot;fast enough&quot; (compared to some contract you signed), or you have users complaining about this specific part ...","body":"And just saying: as homework exercises, such things are great, as you can spend A LOT of time and energy, and learn a lot about different strategies and whatnot. But beware: if we are talking about &quot;real world production&quot; code, then you shouldn&#39;t spend a lot of time UNLESS you are already observing a &quot;real&quot; performance issue. Meaning: unless your carefully measured benchmarks show that you aren&#39;t &quot;fast enough&quot; (compared to some contract you signed), or you have users complaining about this specific part ..."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1647006309,"post_id":71438917,"comment_id":126270571,"body_markdown":"there is NO point in sitting down for hours to optimize something to be 1 ms faster in the end","body":"there is NO point in sitting down for hours to optimize something to be 1 ms faster in the end"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647007812,"creation_date":1647004207,"answer_id":71439032,"question_id":71438917,"body_markdown":"One simple optimisation (that only becomes meaningful for really large data sets, as it doesn&#39;t really improve the O(NK):\r\n\r\n- put all the characters of your incoming `str` into a Set `strChars`\r\n- now: when iterating the words in your list: fetch the first character of each entry\r\n- if `strChars.contains(charFromListEntry`): check whether it is a permutation\r\n- else: obviously, that list word can&#39;t be a permutation\r\n\r\nNote: the sorted ordering doesn&#39;t help *much* here: because you still have to check the first char of the next string from your list. \r\n\r\nThere might be *other* checks to avoid the costly `checkPermutation()` run, for example to first compare the lengths of the words: when the list string is shorter than the input string, it obviously can&#39;t be a permutation of *all* chars.\r\n\r\nBut as said, **in the end** you have to iterate over all entries in your list and determine whether an entry is a permutation. There is no way avoiding the corresponding &quot;looping&quot;. The only thing you can affect is the cost that occurs *within* your loop.\r\n\r\nFinally: if your List of strings would be a Set, then you could &quot;simply&quot; compute all permutations of your incoming `str`, and check for each permutation whether it is contained in that Set. But of course, in order to turn a list into a set, you have to iterate that thing.","title":"Is there an efficient algorithm for outputting all strings stored in a sorted lexicographically list that are a permutation of an input string?","body":"<p>One simple optimisation (that only becomes meaningful for really large data sets, as it doesn't really improve the O(NK):</p>\n<ul>\n<li>put all the characters of your incoming <code>str</code> into a Set <code>strChars</code></li>\n<li>now: when iterating the words in your list: fetch the first character of each entry</li>\n<li>if <code>strChars.contains(charFromListEntry</code>): check whether it is a permutation</li>\n<li>else: obviously, that list word can't be a permutation</li>\n</ul>\n<p>Note: the sorted ordering doesn't help <em>much</em> here: because you still have to check the first char of the next string from your list.</p>\n<p>There might be <em>other</em> checks to avoid the costly <code>checkPermutation()</code> run, for example to first compare the lengths of the words: when the list string is shorter than the input string, it obviously can't be a permutation of <em>all</em> chars.</p>\n<p>But as said, <strong>in the end</strong> you have to iterate over all entries in your list and determine whether an entry is a permutation. There is no way avoiding the corresponding &quot;looping&quot;. The only thing you can affect is the cost that occurs <em>within</em> your loop.</p>\n<p>Finally: if your List of strings would be a Set, then you could &quot;simply&quot; compute all permutations of your incoming <code>str</code>, and check for each permutation whether it is contained in that Set. But of course, in order to turn a list into a set, you have to iterate that thing.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647282962,"creation_date":1647282962,"answer_id":71472660,"question_id":71438917,"body_markdown":"Instead of iterating over the list and checking each element for being a permutation of your string, you can iterate over all permutations of the string and check each presence in the list using *binary search*.\r\n\r\nE.g.\r\n```java\r\npublic List&lt;String&gt; getPermutations(String str, List&lt;String&gt; lst){\r\n    List&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n    perm(str, (1L &lt;&lt; str.length()) - 1, new StringBuilder(), lst, res);\r\n    return res;\r\n}\r\n\r\nprivate void perm(String source, long unused,\r\n                  StringBuilder sb, List&lt;String&gt; lst, List&lt;String&gt; result) {\r\n    if(unused == 0) {\r\n        int i = Collections.binarySearch(lst, sb.toString());\r\n        if(i &gt;= 0) result.add(lst.get(i));\r\n    }\r\n    for(long r = unused, l; (l = Long.highestOneBit(r)) != 0; r-=l) {\r\n        sb.append(source.charAt(Long.numberOfTrailingZeros(l)));\r\n        perm(source, unused &amp; ~l, sb, lst, result);\r\n        sb.setLength(sb.length() - 1);\r\n    }\r\n}\r\n```\r\n\r\nNow, the time complexity is O(K! &#215; log N) which is not necessarily better than the O(NK) of your approach. It heavily depends on the magnitude of K and N. If the string is really short and the list really large, it may have an advantage.\r\n\r\nThere are a lot of optimizations imaginable. E.g. instead constructing each permutation, followed by a binary search, each recursion step could do a partial search to identify the potential search range for the next step and skip when it’s clear that the permutations can’t be contained. While this could raise the performance significantly, it can’t change the fundamental time complexity, i.e. the worst case.\r\n","title":"Is there an efficient algorithm for outputting all strings stored in a sorted lexicographically list that are a permutation of an input string?","body":"<p>Instead of iterating over the list and checking each element for being a permutation of your string, you can iterate over all permutations of the string and check each presence in the list using <em>binary search</em>.</p>\n<p>E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;String&gt; getPermutations(String str, List&lt;String&gt; lst){\n    List&lt;String&gt; res = new ArrayList&lt;&gt;();\n    perm(str, (1L &lt;&lt; str.length()) - 1, new StringBuilder(), lst, res);\n    return res;\n}\n\nprivate void perm(String source, long unused,\n                  StringBuilder sb, List&lt;String&gt; lst, List&lt;String&gt; result) {\n    if(unused == 0) {\n        int i = Collections.binarySearch(lst, sb.toString());\n        if(i &gt;= 0) result.add(lst.get(i));\n    }\n    for(long r = unused, l; (l = Long.highestOneBit(r)) != 0; r-=l) {\n        sb.append(source.charAt(Long.numberOfTrailingZeros(l)));\n        perm(source, unused &amp; ~l, sb, lst, result);\n        sb.setLength(sb.length() - 1);\n    }\n}\n</code></pre>\n<p>Now, the time complexity is O(K! × log N) which is not necessarily better than the O(NK) of your approach. It heavily depends on the magnitude of K and N. If the string is really short and the list really large, it may have an advantage.</p>\n<p>There are a lot of optimizations imaginable. E.g. instead constructing each permutation, followed by a binary search, each recursion step could do a partial search to identify the potential search range for the next step and skip when it’s clear that the permutations can’t be contained. While this could raise the performance significantly, it can’t change the fundamental time complexity, i.e. the worst case.</p>\n"}],"owner":{"account_id":24252821,"reputation":11,"user_id":18203631,"display_name":"Tomer Sivan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647282962,"creation_date":1647003632,"question_id":71438917,"body_markdown":"I would like to find the most efficient algorithm for this problem: \r\nGiven a string `str` and a list of strings `lst` that consists of only lowercase English characters and is **sorted lexicographically**, find all the words in `lst` that are a permutation of `str`.\r\n\r\nfor example:\r\n`str` = &quot;cat&quot;, `lst` = {&quot;aca&quot;, &quot;acc&quot;, &quot;act&quot;, &quot;cta&quot;, &quot;tac&quot;}\r\n\r\nwould return: {&quot;act&quot;, &quot;cta&quot;, &quot;tac&quot;}\r\n\r\nI already have an algorithm that doesn&#39;t take advantage of the fact that `lst` is lexicographically ordered, and I am looking for the most efficient algorithm that takes advantage of this fact.\r\n\r\nMy algorithm goes like this:\r\n    \r\n    public List&lt;String&gt; getPermutations(String str, List&lt;String&gt; lst){\r\n      List&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n      for (String word : lst)\r\n            if (checkPermutation(word, str))\r\n                res.add(word);\r\n      return res;\r\n    }\r\n\r\n    \r\n    public boolean checkPermutation(String word1, String word2) {\r\n        if (word1.length() != word2.length())\r\n            return false;\r\n        int[] count = new int[26];\r\n        int i;\r\n        for (i = 0; i &lt; word1.length(); i++) {\r\n            count[word1.charAt(i) - &#39;a&#39;]++;\r\n            count[word2.charAt(i) - &#39;a&#39;]--;\r\n        }\r\n        for (i = 0; i &lt; 26; i++)\r\n            if (count[i] != 0) {\r\n                return false;\r\n            }\r\n        return true;\r\n    }\r\n\r\nTotal runtime is O(NK) where N is the number of strings in `lst`, and k is the length of `str`.","title":"Is there an efficient algorithm for outputting all strings stored in a sorted lexicographically list that are a permutation of an input string?","body":"<p>I would like to find the most efficient algorithm for this problem:\nGiven a string <code>str</code> and a list of strings <code>lst</code> that consists of only lowercase English characters and is <strong>sorted lexicographically</strong>, find all the words in <code>lst</code> that are a permutation of <code>str</code>.</p>\n<p>for example:\n<code>str</code> = &quot;cat&quot;, <code>lst</code> = {&quot;aca&quot;, &quot;acc&quot;, &quot;act&quot;, &quot;cta&quot;, &quot;tac&quot;}</p>\n<p>would return: {&quot;act&quot;, &quot;cta&quot;, &quot;tac&quot;}</p>\n<p>I already have an algorithm that doesn't take advantage of the fact that <code>lst</code> is lexicographically ordered, and I am looking for the most efficient algorithm that takes advantage of this fact.</p>\n<p>My algorithm goes like this:</p>\n<pre><code>public List&lt;String&gt; getPermutations(String str, List&lt;String&gt; lst){\n  List&lt;String&gt; res = new ArrayList&lt;&gt;();\n  for (String word : lst)\n        if (checkPermutation(word, str))\n            res.add(word);\n  return res;\n}\n\n\npublic boolean checkPermutation(String word1, String word2) {\n    if (word1.length() != word2.length())\n        return false;\n    int[] count = new int[26];\n    int i;\n    for (i = 0; i &lt; word1.length(); i++) {\n        count[word1.charAt(i) - 'a']++;\n        count[word2.charAt(i) - 'a']--;\n    }\n    for (i = 0; i &lt; 26; i++)\n        if (count[i] != 0) {\n            return false;\n        }\n    return true;\n}\n</code></pre>\n<p>Total runtime is O(NK) where N is the number of strings in <code>lst</code>, and k is the length of <code>str</code>.</p>\n"},{"tags":["java","java-stream","java-11"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1647281559,"post_id":71472319,"comment_id":126327281,"body_markdown":"Use a lambda expression. You can&#39;t do that with method references, at least not directly.","body":"Use a lambda expression. You can&#39;t do that with method references, at least not directly."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1647282373,"post_id":71472319,"comment_id":126327543,"body_markdown":"What do you want to have as value of the inner map? `totalElement` as in your first snippet?","body":"What do you want to have as value of the inner map? <code>totalElement</code> as in your first snippet?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647282857,"creation_date":1647282857,"answer_id":71472639,"question_id":71472319,"body_markdown":"You have to use a lambda; you can&#39;t use method references this way.\r\n\r\n```\r\nDashboardEntity::getTotalElement + &quot;_&quot; DashboardEntity::getDate\r\n```\r\n\r\nshould be\r\n\r\n```\r\nentity -&gt; entity.getTotalElement() + &quot;_&quot; + entity.getDate()\r\n```","title":"Java stream: using Collectors to grouBy Map","body":"<p>You have to use a lambda; you can't use method references this way.</p>\n<pre><code>DashboardEntity::getTotalElement + &quot;_&quot; DashboardEntity::getDate\n</code></pre>\n<p>should be</p>\n<pre><code>entity -&gt; entity.getTotalElement() + &quot;_&quot; + entity.getDate()\n</code></pre>\n"}],"owner":{"account_id":5300172,"reputation":2057,"user_id":4230093,"accept_rate":20,"display_name":"Hey StackExchange"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71472639,"answer_count":1,"score":0,"last_activity_date":1647282857,"creation_date":1647281247,"question_id":71472319,"body_markdown":"I would like to transform:\r\n\r\n```java\r\nMap&lt;Integer, List&lt;Integer&gt;&gt; result =\r\n  dre.getItems().stream().collect(\r\n    Collectors.groupingBy(DashboardEntity::getElementNumber,\r\n      Collectors.mapping(DashboardEntity::getTotalElement , Collectors.toList())\r\n    )\r\n  );\r\n```\r\n\r\ninto (naive):\r\n\r\n```java\r\nMap&lt;Integer, List&lt;String&gt;&gt; result =\r\n  dre.getItems().stream().collect(\r\n    Collectors.groupingBy(DashboardEntity::getElementNumber,\r\n      Collectors.mapping(DashboardEntity::getTotalElement + &quot;_&quot; DashboardEntity::getDate, Collectors.toList())\r\n    )\r\n  );\r\n```\r\n\r\nBut the latter would raise a compile time error:\r\n\r\n`Method reference expression is not expected here`\r\n\r\nWhat would be the way to get `result` of type `Map&lt;Integer, Map&lt;String, Integer&gt;&gt;`, where the `Map&lt;String, Integer&gt;` key would contain the `date` (`getDate` call) and the value `totalElement` (`getTotalElement` call) value, knowing that the relation between `date` and `totalElement` is 1..1 ?\r\n","title":"Java stream: using Collectors to grouBy Map","body":"<p>I would like to transform:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, List&lt;Integer&gt;&gt; result =\n  dre.getItems().stream().collect(\n    Collectors.groupingBy(DashboardEntity::getElementNumber,\n      Collectors.mapping(DashboardEntity::getTotalElement , Collectors.toList())\n    )\n  );\n</code></pre>\n<p>into (naive):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, List&lt;String&gt;&gt; result =\n  dre.getItems().stream().collect(\n    Collectors.groupingBy(DashboardEntity::getElementNumber,\n      Collectors.mapping(DashboardEntity::getTotalElement + &quot;_&quot; DashboardEntity::getDate, Collectors.toList())\n    )\n  );\n</code></pre>\n<p>But the latter would raise a compile time error:</p>\n<p><code>Method reference expression is not expected here</code></p>\n<p>What would be the way to get <code>result</code> of type <code>Map&lt;Integer, Map&lt;String, Integer&gt;&gt;</code>, where the <code>Map&lt;String, Integer&gt;</code> key would contain the <code>date</code> (<code>getDate</code> call) and the value <code>totalElement</code> (<code>getTotalElement</code> call) value, knowing that the relation between <code>date</code> and <code>totalElement</code> is 1..1 ?</p>\n"},{"tags":["java","dictionary","collections","java-stream","collectors"],"comments":[{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1646874337,"post_id":71417427,"comment_id":126234148,"body_markdown":"https://www.baeldung.com/java-groupingby-collector","body":"<a href=\"https://www.baeldung.com/java-groupingby-collector\" rel=\"nofollow noreferrer\">baeldung.com/java-groupingby-collector</a>"}],"answers":[{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646911537,"creation_date":1646911537,"answer_id":71423334,"question_id":71417427,"body_markdown":"It may be possible to do this with a single sweep, but here I have solved it with two passes: one to group like items together, and another over the items in each group to build a representative item (which seems similar in spirit to your code, where you were also attempting to stream elements from groups).\r\n\r\n~~~~{.java}\r\n   \r\n    public static Collection&lt;Map&lt;String, String&gt;&gt; \r\n            mergeInventoryPerItemNumber(Collection&lt;Map&lt;String, String&gt;&gt; m){\r\n\r\n        return m.stream()\r\n                // returns a map of itemNumber -&gt; list of products with that number\r\n                .collect(Collectors.groupingBy(o -&gt; o.get(&quot;itemNumber&quot;)))\r\n                // for each item number, builds new representative product\r\n                .entrySet().stream().map(e -&gt; Map.of(\r\n                    &quot;itemNumber&quot;, e.getKey(), \r\n                    // ... merging non-duplicate subtypes\r\n                    &quot;subtype&quot;, e.getValue().stream()\r\n                        .map(v -&gt; v.get(&quot;subtype&quot;))\r\n                        .distinct() // avoid duplicates\r\n                        .collect(Collectors.joining(&quot;, &quot;)), \r\n                    // ... adding up quantities\r\n                    &quot;quantity&quot;, &quot;&quot;+e.getValue().stream()\r\n                        .map(v -&gt; Integer.parseInt(v.get(&quot;quantity&quot;)))\r\n                        .reduce(0, Integer::sum)))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    public static void main(String ... args) {\r\n        Collection&lt;Map&lt;String, String&gt;&gt; c = mkMap();\r\n        dump(c);\r\n        dump(mergeInventoryPerItemNumber(c));\r\n    }\r\n\r\n    public static Collection&lt;Map&lt;String, String&gt;&gt; mkMap() {\r\n        return List.of(\r\n            Map.of(&quot;subtype&quot;, &quot;DAIRY&quot;, &quot;itemNumber&quot;, &quot;EU999&quot;, &quot;quantity&quot;, &quot;60&quot;),\r\n            Map.of(&quot;subtype&quot;, &quot;DAIRY&quot;, &quot;itemNumber&quot;, &quot;EU999&quot;, &quot;quantity&quot;, &quot;1000&quot;),\r\n            Map.of(&quot;subtype&quot;, &quot;FRESH&quot;, &quot;itemNumber&quot;, &quot;EU999&quot;, &quot;quantity&quot;, &quot;800&quot;),\r\n            Map.of(&quot;subtype&quot;, &quot;FRESH&quot;, &quot;itemNumber&quot;, &quot;EU100&quot;, &quot;quantity&quot;, &quot;100&quot;));\r\n    }\r\n\r\n    public static void dump(Collection&lt;Map&lt;String, String&gt;&gt; col) {\r\n        int i = 0;\r\n        for (Map&lt;String, String&gt; m : col) {\r\n            System.out.println(i++);\r\n            for (Map.Entry e : m.entrySet()) {\r\n                System.out.println(&quot;\\t&quot; + e.getKey() + &quot; -&gt; &quot; + e.getValue());\r\n            }\r\n        }\r\n    }\r\n~~~~","title":"How to merge two Maps based on values with Java 8 streams?","body":"<p>It may be possible to do this with a single sweep, but here I have solved it with two passes: one to group like items together, and another over the items in each group to build a representative item (which seems similar in spirit to your code, where you were also attempting to stream elements from groups).</p>\n<pre><code>   \n    public static Collection&lt;Map&lt;String, String&gt;&gt; \n            mergeInventoryPerItemNumber(Collection&lt;Map&lt;String, String&gt;&gt; m){\n\n        return m.stream()\n                // returns a map of itemNumber -&gt; list of products with that number\n                .collect(Collectors.groupingBy(o -&gt; o.get(&quot;itemNumber&quot;)))\n                // for each item number, builds new representative product\n                .entrySet().stream().map(e -&gt; Map.of(\n                    &quot;itemNumber&quot;, e.getKey(), \n                    // ... merging non-duplicate subtypes\n                    &quot;subtype&quot;, e.getValue().stream()\n                        .map(v -&gt; v.get(&quot;subtype&quot;))\n                        .distinct() // avoid duplicates\n                        .collect(Collectors.joining(&quot;, &quot;)), \n                    // ... adding up quantities\n                    &quot;quantity&quot;, &quot;&quot;+e.getValue().stream()\n                        .map(v -&gt; Integer.parseInt(v.get(&quot;quantity&quot;)))\n                        .reduce(0, Integer::sum)))\n                .collect(Collectors.toList());\n    }\n\n    public static void main(String ... args) {\n        Collection&lt;Map&lt;String, String&gt;&gt; c = mkMap();\n        dump(c);\n        dump(mergeInventoryPerItemNumber(c));\n    }\n\n    public static Collection&lt;Map&lt;String, String&gt;&gt; mkMap() {\n        return List.of(\n            Map.of(&quot;subtype&quot;, &quot;DAIRY&quot;, &quot;itemNumber&quot;, &quot;EU999&quot;, &quot;quantity&quot;, &quot;60&quot;),\n            Map.of(&quot;subtype&quot;, &quot;DAIRY&quot;, &quot;itemNumber&quot;, &quot;EU999&quot;, &quot;quantity&quot;, &quot;1000&quot;),\n            Map.of(&quot;subtype&quot;, &quot;FRESH&quot;, &quot;itemNumber&quot;, &quot;EU999&quot;, &quot;quantity&quot;, &quot;800&quot;),\n            Map.of(&quot;subtype&quot;, &quot;FRESH&quot;, &quot;itemNumber&quot;, &quot;EU100&quot;, &quot;quantity&quot;, &quot;100&quot;));\n    }\n\n    public static void dump(Collection&lt;Map&lt;String, String&gt;&gt; col) {\n        int i = 0;\n        for (Map&lt;String, String&gt; m : col) {\n            System.out.println(i++);\n            for (Map.Entry e : m.entrySet()) {\n                System.out.println(&quot;\\t&quot; + e.getKey() + &quot; -&gt; &quot; + e.getValue());\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647281991,"creation_date":1646916357,"answer_id":71424380,"question_id":71417427,"body_markdown":"You are misusing a `Map` here. Every map contains the same keys (*&quot;subtype&quot;, &quot;itemNumber&quot;, &quot;quantity&quot;*). And they are treated almost like object properties in your code. They are expected to be present in every map and each of them expected to have a specific range of values, although are stored as strings according to your example. \r\n\r\n***Side-note:** avoid using row types (like `Map` without generic information in angle brackets `&lt;&gt;`), in such a case all elements inside a collection will be treated as `Object`s.*\r\n\r\n`Item` clearly has to be defined as a **class**. By storing these data inside a *map*, you&#39;re loosing a possibility to define an **appropriate data type** for each *property*, and also you&#39;re not able to **define behaviour** to manipulate with these *properties* (*for more elaborate explanation take a look at [this answer](https://stackoverflow.com/a/71113033/17949945)*).\r\n```\r\npublic class Item {\r\n    private final String itemNumber;\r\n    private Set&lt;Subtype&gt; subtypes;\r\n    private long quantity;\r\n\r\n    public Item combine(Item other) {\r\n        Set&lt;Subtype&gt; combinedSubtypes = new HashSet&lt;&gt;(subtypes);\r\n        combinedSubtypes.addAll(other.subtypes);\r\n\r\n        return new Item(this.itemNumber,\r\n                        combinedSubtypes,\r\n                        this.quantity + other.quantity);\r\n    }\r\n\r\n    // + constructor, getters, hashCode/equals, toString\r\n}\r\n```\r\nMethod `combine` represents the logic for merging two items together. By placing it inside this **class**, you could easily reuse and change it when needed.\r\n\r\nThe best choice for the type of the `subtype` field is an [**enum**](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html). Because it&#39;ll allow to *avoid mistakes* caused by misspelled string values and also **enum**s have an extensive language support (`switch` *expressions* and *statements*, special *data structures* designed especially for *enums*, *enum* could be used with *annotations*).\r\n\r\nThis custom **enum** can look like this.\r\n```\r\npublic enum Subtype {DAIRY, FRESH}\r\n```\r\nWith all these changes, the code inside the `mergeInventoryPerItemNumber()` becomes concise and easier to comprehend. `Collectors.groupingBy()` is used to create a map by grouping *items* with the same `itemNumber`. A downstream collector `Collectors.reducing()` is used to combine *items* grouped under the same *key* to a *single object*.\r\n\r\nNote that `Collectors.reducing()` produces an `Optional` result. Therefore, `filter(Optional::isPresent)` is used as a precaution to make sure that the result exists and subsequent operation `map(Optional::get)` extracts the **item** from the *optional object*.   \r\n\r\n    public static Collection&lt;Item&gt; mergeInventoryPerItemNumber(Collection&lt;Item&gt; inventory) {\r\n        return inventory.stream()\r\n                .collect(Collectors.groupingBy(Item::getItemNumber,\r\n                                Collectors.reducing(Item::combine)))\r\n                .values().stream()\r\n                .filter(Optional::isPresent)\r\n                .map(Optional::get)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n**main()**\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Item&gt; inventory =\r\n                List.of(new Item(&quot;EU999&quot;, Set.of(Subtype.DAIRY), 60),\r\n                        new Item(&quot;EU999&quot;, Set.of(Subtype.DAIRY), 1000),\r\n                        new Item(&quot;EU999&quot;, Set.of(Subtype.FRESH), 800),\r\n                        new Item(&quot;EU100&quot;, Set.of(Subtype.FRESH), 100));\r\n\r\n        Collection&lt;Item&gt; combinedItems = mergeInventoryPerItemNumber(inventory);\r\n\r\n        combinedItems.forEach(System.out::println);\r\n    }\r\n\r\n**Output**\r\n```\r\nItem{itemNumber=&#39;EU100&#39;, subtypes=[FRESH], quantity=100}\r\nItem{itemNumber=&#39;EU999&#39;, subtypes=[FRESH, DAIRY], quantity=1860}\r\n```","title":"How to merge two Maps based on values with Java 8 streams?","body":"<p>You are misusing a <code>Map</code> here. Every map contains the same keys (<em>&quot;subtype&quot;, &quot;itemNumber&quot;, &quot;quantity&quot;</em>). And they are treated almost like object properties in your code. They are expected to be present in every map and each of them expected to have a specific range of values, although are stored as strings according to your example.</p>\n<p><em><strong>Side-note:</strong> avoid using row types (like <code>Map</code> without generic information in angle brackets <code>&lt;&gt;</code>), in such a case all elements inside a collection will be treated as <code>Object</code>s.</em></p>\n<p><code>Item</code> clearly has to be defined as a <strong>class</strong>. By storing these data inside a <em>map</em>, you're loosing a possibility to define an <strong>appropriate data type</strong> for each <em>property</em>, and also you're not able to <strong>define behaviour</strong> to manipulate with these <em>properties</em> (<em>for more elaborate explanation take a look at <a href=\"https://stackoverflow.com/a/71113033/17949945\">this answer</a></em>).</p>\n<pre><code>public class Item {\n    private final String itemNumber;\n    private Set&lt;Subtype&gt; subtypes;\n    private long quantity;\n\n    public Item combine(Item other) {\n        Set&lt;Subtype&gt; combinedSubtypes = new HashSet&lt;&gt;(subtypes);\n        combinedSubtypes.addAll(other.subtypes);\n\n        return new Item(this.itemNumber,\n                        combinedSubtypes,\n                        this.quantity + other.quantity);\n    }\n\n    // + constructor, getters, hashCode/equals, toString\n}\n</code></pre>\n<p>Method <code>combine</code> represents the logic for merging two items together. By placing it inside this <strong>class</strong>, you could easily reuse and change it when needed.</p>\n<p>The best choice for the type of the <code>subtype</code> field is an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\"><strong>enum</strong></a>. Because it'll allow to <em>avoid mistakes</em> caused by misspelled string values and also <strong>enum</strong>s have an extensive language support (<code>switch</code> <em>expressions</em> and <em>statements</em>, special <em>data structures</em> designed especially for <em>enums</em>, <em>enum</em> could be used with <em>annotations</em>).</p>\n<p>This custom <strong>enum</strong> can look like this.</p>\n<pre><code>public enum Subtype {DAIRY, FRESH}\n</code></pre>\n<p>With all these changes, the code inside the <code>mergeInventoryPerItemNumber()</code> becomes concise and easier to comprehend. <code>Collectors.groupingBy()</code> is used to create a map by grouping <em>items</em> with the same <code>itemNumber</code>. A downstream collector <code>Collectors.reducing()</code> is used to combine <em>items</em> grouped under the same <em>key</em> to a <em>single object</em>.</p>\n<p>Note that <code>Collectors.reducing()</code> produces an <code>Optional</code> result. Therefore, <code>filter(Optional::isPresent)</code> is used as a precaution to make sure that the result exists and subsequent operation <code>map(Optional::get)</code> extracts the <strong>item</strong> from the <em>optional object</em>.</p>\n<pre><code>public static Collection&lt;Item&gt; mergeInventoryPerItemNumber(Collection&lt;Item&gt; inventory) {\n    return inventory.stream()\n            .collect(Collectors.groupingBy(Item::getItemNumber,\n                            Collectors.reducing(Item::combine)))\n            .values().stream()\n            .filter(Optional::isPresent)\n            .map(Optional::get)\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p><strong>main()</strong></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Item&gt; inventory =\n            List.of(new Item(&quot;EU999&quot;, Set.of(Subtype.DAIRY), 60),\n                    new Item(&quot;EU999&quot;, Set.of(Subtype.DAIRY), 1000),\n                    new Item(&quot;EU999&quot;, Set.of(Subtype.FRESH), 800),\n                    new Item(&quot;EU100&quot;, Set.of(Subtype.FRESH), 100));\n\n    Collection&lt;Item&gt; combinedItems = mergeInventoryPerItemNumber(inventory);\n\n    combinedItems.forEach(System.out::println);\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Item{itemNumber='EU100', subtypes=[FRESH], quantity=100}\nItem{itemNumber='EU999', subtypes=[FRESH, DAIRY], quantity=1860}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646925188,"creation_date":1646925188,"answer_id":71426467,"question_id":71417427,"body_markdown":"Here is one approach.\r\n- first iterate thru the list of maps.\r\n- for each map, process the keys as required\r\n  - special keys are `itemNumber` and `quantity`\r\n  - `itemNumber` is the joining element for all the values.\r\n  - `quantity` is the value that must be treated as an integer\r\n  - the others are strings and are treated as such (for all other values, if the value already exists in the string of concatenated values, then it is not added again)\r\n\r\nSome data\r\n```\r\nList&lt;Map&lt;String, String&gt;&gt; mapList = List.of(\r\n\t\tMap.of(&quot;subtype&quot;, &quot;DAIRY&quot;, &quot;itemNumber&quot;, &quot;EU999&quot;,\r\n\t\t\t\t&quot;quantity&quot;, &quot;60&quot;),\r\n\t\tMap.of(&quot;subtype&quot;, &quot;DAIRY&quot;, &quot;itemNumber&quot;, &quot;EU999&quot;,\r\n\t\t\t\t&quot;quantity&quot;, &quot;1000&quot;),\r\n\t\tMap.of(&quot;subtype&quot;, &quot;FRESH&quot;, &quot;itemNumber&quot;, &quot;EU999&quot;,\r\n\t\t\t\t&quot;quantity&quot;, &quot;800&quot;),\r\n\t\tMap.of(&quot;subtype&quot;, &quot;FRESH&quot;, &quot;itemNumber&quot;, &quot;EU100&quot;,\r\n\t\t\t\t&quot;quantity&quot;, &quot;100&quot;));\r\n```\r\nThe building process\r\n```\r\nMap&lt;String, Map&lt;String, String&gt;&gt; result = new HashMap&lt;&gt;();\r\n\r\nfor (Map&lt;String, String&gt; m : mapList) {\r\n\tresult.compute(m.get(&quot;itemNumber&quot;), (k, v) -&gt; {\r\n\t\tfor (Entry&lt;String, String&gt; e : m.entrySet()) {\r\n\t\t\tString key = e.getKey();\r\n\t\t\tString value = e.getValue();\r\n\t\t\tif (v == null) {\r\n\t\t\t\tv = new HashMap&lt;String, String&gt;();\r\n\t\t\t\tv.put(key, value);\r\n\t\t\t} else {\r\n\t\t\t\tif (key.equals(&quot;quantity&quot;)) {\r\n\t\t\t\t\tv.compute(key,\r\n\t\t\t\t\t\t\t(kk, vv) -&gt; vv == null ? value :\r\n\t\t\t\t\t\t\t\t\tInteger.toString(Integer\r\n\t\t\t\t\t\t\t\t\t\t\t.valueOf(vv)\r\n\t\t\t\t\t\t\t\t\t\t\t+ Integer.valueOf(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue)));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tv.compute(key, (kk, vv) -&gt; vv == null ?\r\n\t\t\t\t\t\t\tvalue : (vv.contains(value) ? vv :\r\n\t\t\t\t\t\t\t\t\tvv + &quot;, &quot; + value));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn v;\r\n\t});\r\n}\r\n\r\nList&lt;Map&lt;String,String&gt;&gt; list = new ArrayList&lt;&gt;(result.values());\r\n\t\t\r\nfor (int i = 0; i &lt; list.size(); i++) {\r\n  System.out.println(i + &quot; &quot; + list.get(i));\r\n}\r\n```\r\nprints\r\n```\r\n0 {itemNumber=EU100, quantity=100, subtype=FRESH}\r\n1 {itemNumber=EU999, quantity=1860, subtype=DAIRY, FRESH}\r\n\r\n```\r\nNote that the map of maps may be more useful that a list of maps. For example, you can retrieve the map for the `itemNumber` by simply specifying the desired key.\r\n```\r\nSystem.out.println(result.get(&quot;EU999&quot;));\r\n```\r\nprints\r\n```\r\n{itemNumber=EU999, quantity=1860, subtype=DAIRY, FRESH}\r\n\r\n","title":"How to merge two Maps based on values with Java 8 streams?","body":"<p>Here is one approach.</p>\n<ul>\n<li>first iterate thru the list of maps.</li>\n<li>for each map, process the keys as required\n<ul>\n<li>special keys are <code>itemNumber</code> and <code>quantity</code></li>\n<li><code>itemNumber</code> is the joining element for all the values.</li>\n<li><code>quantity</code> is the value that must be treated as an integer</li>\n<li>the others are strings and are treated as such (for all other values, if the value already exists in the string of concatenated values, then it is not added again)</li>\n</ul>\n</li>\n</ul>\n<p>Some data</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; mapList = List.of(\n        Map.of(&quot;subtype&quot;, &quot;DAIRY&quot;, &quot;itemNumber&quot;, &quot;EU999&quot;,\n                &quot;quantity&quot;, &quot;60&quot;),\n        Map.of(&quot;subtype&quot;, &quot;DAIRY&quot;, &quot;itemNumber&quot;, &quot;EU999&quot;,\n                &quot;quantity&quot;, &quot;1000&quot;),\n        Map.of(&quot;subtype&quot;, &quot;FRESH&quot;, &quot;itemNumber&quot;, &quot;EU999&quot;,\n                &quot;quantity&quot;, &quot;800&quot;),\n        Map.of(&quot;subtype&quot;, &quot;FRESH&quot;, &quot;itemNumber&quot;, &quot;EU100&quot;,\n                &quot;quantity&quot;, &quot;100&quot;));\n</code></pre>\n<p>The building process</p>\n<pre><code>Map&lt;String, Map&lt;String, String&gt;&gt; result = new HashMap&lt;&gt;();\n\nfor (Map&lt;String, String&gt; m : mapList) {\n    result.compute(m.get(&quot;itemNumber&quot;), (k, v) -&gt; {\n        for (Entry&lt;String, String&gt; e : m.entrySet()) {\n            String key = e.getKey();\n            String value = e.getValue();\n            if (v == null) {\n                v = new HashMap&lt;String, String&gt;();\n                v.put(key, value);\n            } else {\n                if (key.equals(&quot;quantity&quot;)) {\n                    v.compute(key,\n                            (kk, vv) -&gt; vv == null ? value :\n                                    Integer.toString(Integer\n                                            .valueOf(vv)\n                                            + Integer.valueOf(\n                                                    value)));\n                } else {\n                    v.compute(key, (kk, vv) -&gt; vv == null ?\n                            value : (vv.contains(value) ? vv :\n                                    vv + &quot;, &quot; + value));\n                }\n            }\n        }\n        return v;\n    });\n}\n\nList&lt;Map&lt;String,String&gt;&gt; list = new ArrayList&lt;&gt;(result.values());\n        \nfor (int i = 0; i &lt; list.size(); i++) {\n  System.out.println(i + &quot; &quot; + list.get(i));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>0 {itemNumber=EU100, quantity=100, subtype=FRESH}\n1 {itemNumber=EU999, quantity=1860, subtype=DAIRY, FRESH}\n\n</code></pre>\n<p>Note that the map of maps may be more useful that a list of maps. For example, you can retrieve the map for the <code>itemNumber</code> by simply specifying the desired key.</p>\n<pre><code>System.out.println(result.get(&quot;EU999&quot;));\n</code></pre>\n<p>prints</p>\n<pre><code>{itemNumber=EU999, quantity=1860, subtype=DAIRY, FRESH}\n\n</code></pre>\n"}],"owner":{"account_id":24509261,"reputation":31,"user_id":18423801,"display_name":"tripack91"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1423,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71426467,"answer_count":3,"score":1,"last_activity_date":1647281991,"creation_date":1646870990,"question_id":71417427,"body_markdown":"I have a `Collection` of `Map`s containing inventory information:\r\n```\r\n 0 \r\n  &quot;subtype&quot; -&gt; &quot;DAIRY&quot;\r\n  &quot;itemNumber&quot; -&gt; &quot;EU999&quot;\r\n  &quot;quantity&quot; -&gt; &quot;60&quot;\r\n 1 \r\n  &quot;subtype&quot; -&gt; &quot;DAIRY&quot;\r\n  &quot;itemNumber&quot; -&gt; &quot;EU999&quot;\r\n  &quot;quantity&quot; -&gt; &quot;1000&quot;\r\n 2 \r\n  &quot;subtype&quot; -&gt; &quot;FRESH&quot;\r\n  &quot;itemNumber&quot; -&gt; &quot;EU999&quot;\r\n  &quot;quantity&quot; -&gt; &quot;800&quot;\r\n 3\r\n  &quot;subtype&quot; -&gt; &quot;FRESH&quot;\r\n  &quot;itemNumber&quot; -&gt; &quot;EU100&quot;\r\n  &quot;quantity&quot; -&gt; &quot;100&quot;\r\n```\r\n\r\nI need to condense this list based on the `itemNumber`, while summing the `quantity` and retaining unique `subtypes` in a comma separated string. Meaning, **new** `Map`s would look like this:\r\n\r\n````\r\n 0 \r\n  &quot;subtype&quot; -&gt; &quot;DAIRY, FRESH&quot;\r\n  &quot;itemNumber&quot; -&gt; &quot;EU999&quot;\r\n  &quot;quantity&quot; -&gt; &quot;1860&quot;\r\n 1 \r\n  &quot;subtype&quot; -&gt; &quot;FRESH&quot;\r\n  &quot;itemNumber&quot; -&gt; &quot;EU100&quot;\r\n  &quot;quantity&quot; -&gt; &quot;100&quot;\r\n````\r\n\r\nI&#39;ve tried a variations of streams, collectors, groupby etc., and I&#39;m lost. \r\n\r\nThis is what I have so far:\r\n```\r\npublic Collection&lt;Map&gt; mergeInventoryPerItemNumber(Collection&lt;Map&gt; InventoryMap){\r\n        Map condensedInventory = null;\r\n        InventoryMap.stream()\r\n                .collect(groupingBy(inv -&gt; new ImmutablePair&lt;&gt;(inv.get(&quot;itemNumber&quot;), inv.get(&quot;subtype&quot;)))), collectingAndThen(toList(), list -&gt; {\r\n            long count = list.stream()\r\n                    .map(list.get(Integer.parseInt(&quot;quantity&quot;)))\r\n                    .collect(counting());\r\n            String itemNumbers = list.stream()\r\n                    .map(list.get(&quot;subtype&quot;))\r\n                    .collect(joining(&quot; , &quot;));\r\n            condensedInventory.put(&quot;quantity&quot;, count);\r\n            condensedInventory.put(&quot;subtype&quot;, itemNumbers);\r\n\r\n            return condensedInventory;\r\n        });\r\n```","title":"How to merge two Maps based on values with Java 8 streams?","body":"<p>I have a <code>Collection</code> of <code>Map</code>s containing inventory information:</p>\n<pre><code> 0 \n  &quot;subtype&quot; -&gt; &quot;DAIRY&quot;\n  &quot;itemNumber&quot; -&gt; &quot;EU999&quot;\n  &quot;quantity&quot; -&gt; &quot;60&quot;\n 1 \n  &quot;subtype&quot; -&gt; &quot;DAIRY&quot;\n  &quot;itemNumber&quot; -&gt; &quot;EU999&quot;\n  &quot;quantity&quot; -&gt; &quot;1000&quot;\n 2 \n  &quot;subtype&quot; -&gt; &quot;FRESH&quot;\n  &quot;itemNumber&quot; -&gt; &quot;EU999&quot;\n  &quot;quantity&quot; -&gt; &quot;800&quot;\n 3\n  &quot;subtype&quot; -&gt; &quot;FRESH&quot;\n  &quot;itemNumber&quot; -&gt; &quot;EU100&quot;\n  &quot;quantity&quot; -&gt; &quot;100&quot;\n</code></pre>\n<p>I need to condense this list based on the <code>itemNumber</code>, while summing the <code>quantity</code> and retaining unique <code>subtypes</code> in a comma separated string. Meaning, <strong>new</strong> <code>Map</code>s would look like this:</p>\n<pre><code> 0 \n  &quot;subtype&quot; -&gt; &quot;DAIRY, FRESH&quot;\n  &quot;itemNumber&quot; -&gt; &quot;EU999&quot;\n  &quot;quantity&quot; -&gt; &quot;1860&quot;\n 1 \n  &quot;subtype&quot; -&gt; &quot;FRESH&quot;\n  &quot;itemNumber&quot; -&gt; &quot;EU100&quot;\n  &quot;quantity&quot; -&gt; &quot;100&quot;\n</code></pre>\n<p>I've tried a variations of streams, collectors, groupby etc., and I'm lost.</p>\n<p>This is what I have so far:</p>\n<pre><code>public Collection&lt;Map&gt; mergeInventoryPerItemNumber(Collection&lt;Map&gt; InventoryMap){\n        Map condensedInventory = null;\n        InventoryMap.stream()\n                .collect(groupingBy(inv -&gt; new ImmutablePair&lt;&gt;(inv.get(&quot;itemNumber&quot;), inv.get(&quot;subtype&quot;)))), collectingAndThen(toList(), list -&gt; {\n            long count = list.stream()\n                    .map(list.get(Integer.parseInt(&quot;quantity&quot;)))\n                    .collect(counting());\n            String itemNumbers = list.stream()\n                    .map(list.get(&quot;subtype&quot;))\n                    .collect(joining(&quot; , &quot;));\n            condensedInventory.put(&quot;quantity&quot;, count);\n            condensedInventory.put(&quot;subtype&quot;, itemNumbers);\n\n            return condensedInventory;\n        });\n</code></pre>\n"},{"tags":["java","arduino","rxtx"],"answers":[{"tags":[],"owner":{"account_id":5281693,"reputation":702,"user_id":4216826,"display_name":"mumbasa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1519125641,"creation_date":1416050927,"answer_id":26945311,"question_id":22592188,"body_markdown":"1. Check if you have installed the library. If not, in case of Ubuntu,\r\n `sudo apt-get install librxtx-java`\r\n2. If already installed,\r\n   go to the path of the installation --- in my case `/usr/share/java/RXTXcomm.jar`\r\n3. If you are using Ubuntu or any Linux distro, remove any downloaded rxtx library from Eclipse build path, and add the path of the installed rxtx library in step 2. You can also copy it into your project.\r\n4. Check your java library property (`System.getProperty(&quot;java.library.path&quot;)`) to know the folder.\r\n5. Copy the `librxtxSerial.so` to the Java library path - in my case \r\n `sudo cp -r /usr/lib/jni/librxtxSerial.so /usr/lib/x86_64-linux-gnu`\r\n\r\nAfter that try your code again.&lt;br&gt;","title":"Mismatched RXTX Versions","body":"<ol>\n<li>Check if you have installed the library. If not, in case of Ubuntu,\n<code>sudo apt-get install librxtx-java</code></li>\n<li>If already installed,\ngo to the path of the installation --- in my case <code>/usr/share/java/RXTXcomm.jar</code></li>\n<li>If you are using Ubuntu or any Linux distro, remove any downloaded rxtx library from Eclipse build path, and add the path of the installed rxtx library in step 2. You can also copy it into your project.</li>\n<li>Check your java library property (<code>System.getProperty(\"java.library.path\")</code>) to know the folder.</li>\n<li>Copy the <code>librxtxSerial.so</code> to the Java library path - in my case \n<code>sudo cp -r /usr/lib/jni/librxtxSerial.so /usr/lib/x86_64-linux-gnu</code></li>\n</ol>\n\n<p>After that try your code again.<br></p>\n"},{"tags":[],"owner":{"account_id":4389858,"reputation":31,"user_id":3578646,"display_name":"user3578646"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484645691,"creation_date":1484645098,"answer_id":41693307,"question_id":22592188,"body_markdown":"For 32/64 bit processors, installing RXTX taken from jlog websites leads to   \r\n`rxtx version mismatch` error\r\n\r\nThe most stable rxtx java library is taken from the following [RXTX for Windows][1] page and resolves the &quot;version mismatch error&quot;. \r\n\r\nRXTX ([download][2]) is only for 32 bit operating systems\r\n\r\nHere `rxtx-2.1-7 bins-r2.zip` (binary column) is the right one to take.\r\nLet&#39;s hope these websites will not be taken down.\r\n\r\n\r\n  [1]: http://jlog.org/rxtx-win.html\r\n  [2]: http://rxtx.qbang.org/wiki/index.php/Download","title":"Mismatched RXTX Versions","body":"<p>For 32/64 bit processors, installing RXTX taken from jlog websites leads to<br>\n<code>rxtx version mismatch</code> error</p>\n\n<p>The most stable rxtx java library is taken from the following <a href=\"http://jlog.org/rxtx-win.html\" rel=\"nofollow noreferrer\">RXTX for Windows</a> page and resolves the \"version mismatch error\". </p>\n\n<p>RXTX (<a href=\"http://rxtx.qbang.org/wiki/index.php/Download\" rel=\"nofollow noreferrer\">download</a>) is only for 32 bit operating systems</p>\n\n<p>Here <code>rxtx-2.1-7 bins-r2.zip</code> (binary column) is the right one to take.\nLet's hope these websites will not be taken down.</p>\n"},{"tags":[],"owner":{"account_id":13904799,"reputation":1,"user_id":10039464,"display_name":"Sean Yeoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530829168,"creation_date":1530825318,"answer_id":51200012,"question_id":22592188,"body_markdown":"I had the same problem on the exact same code, here&#39;s what I did to make it work. I am on MacOS.\r\n\r\nThe reason is because the version of &quot;RXTXcomm.jar&quot; library you&#39;ve installed does not match the version that is needed (I believe from Arduino). Therefore, you need to install a matching version (2.2). You can download it from here (http://rxtx.qbang.org/wiki/index.php/Download), binary &quot;rxtx 2.2pre2 (prerelease)&quot;. \r\n\r\nThen you want to move this new version into your Java directory, which is hidden by default, but can be open easily with Terminal (MacOS) by the following code. \r\n\r\n    cd /Library/Java/Extension\r\n    open .\r\n\r\nMove the file into the Extension folder. (Admin password will be required)\r\n\r\nRestart BlueJ (the Java IDE i used), compile the code, and right click on the &quot;mouse&quot; module -&gt; void main (string[] args) -&gt; &quot;OK&quot;. It should work by now. \r\n\r\nFor the second error, &quot;could not find COM port&quot;. You just have to make sure you type in the correct COM port in your Java code. You can find the correct COM port at the bottom right corner of the Arduino window when the device is plugged in. \r\n","title":"Mismatched RXTX Versions","body":"<p>I had the same problem on the exact same code, here's what I did to make it work. I am on MacOS.</p>\n\n<p>The reason is because the version of \"RXTXcomm.jar\" library you've installed does not match the version that is needed (I believe from Arduino). Therefore, you need to install a matching version (2.2). You can download it from here (<a href=\"http://rxtx.qbang.org/wiki/index.php/Download\" rel=\"nofollow noreferrer\">http://rxtx.qbang.org/wiki/index.php/Download</a>), binary \"rxtx 2.2pre2 (prerelease)\". </p>\n\n<p>Then you want to move this new version into your Java directory, which is hidden by default, but can be open easily with Terminal (MacOS) by the following code. </p>\n\n<pre><code>cd /Library/Java/Extension\nopen .\n</code></pre>\n\n<p>Move the file into the Extension folder. (Admin password will be required)</p>\n\n<p>Restart BlueJ (the Java IDE i used), compile the code, and right click on the \"mouse\" module -> void main (string[] args) -> \"OK\". It should work by now. </p>\n\n<p>For the second error, \"could not find COM port\". You just have to make sure you type in the correct COM port in your Java code. You can find the correct COM port at the bottom right corner of the Arduino window when the device is plugged in. </p>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647281489,"creation_date":1647281489,"answer_id":71472359,"question_id":22592188,"body_markdown":"You can build RXTX from Sources, e.g. [GitHub-Arduino][1]\r\nand decide for yourself, how to deal with versions.\r\n\r\nBinaries are [here][2]\r\n\r\n\r\n  [1]: https://github.com/arduino/RXTX/tree/master/src\r\n  [2]: http://rxtx.qbang.org/wiki/index.php/Download#Pre-Built_Binaries","title":"Mismatched RXTX Versions","body":"<p>You can build RXTX from Sources, e.g. <a href=\"https://github.com/arduino/RXTX/tree/master/src\" rel=\"nofollow noreferrer\">GitHub-Arduino</a>\nand decide for yourself, how to deal with versions.</p>\n<p>Binaries are <a href=\"http://rxtx.qbang.org/wiki/index.php/Download#Pre-Built_Binaries\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":313951,"reputation":1165,"user_id":628872,"accept_rate":52,"display_name":"Peter Chappy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14022,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":26945311,"answer_count":4,"score":5,"last_activity_date":1647281489,"creation_date":1395584956,"question_id":22592188,"body_markdown":"I found a code to communicate in Java via Serial Port to an Arduino and wanted to try and get it working in order to expand on it for a project idea, but I keep getting this error\r\n\r\n    Stable Library\r\n    =========================================\r\n    Native lib Version = RXTX-2.2-20081207 Cloudhopper Build rxtx.cloudhopper.net\r\n    Java lib Version   = RXTX-2.1-7\r\n    WARNING:  RXTX Version mismatch\r\n\tJar version = RXTX-2.1-7\r\n\tnative lib Version = RXTX-2.2-20081207 Cloudhopper Build rxtx.cloudhopper.net\r\n    Could not find COM port.\r\n    Started\r\n\r\nI think that it means there is jar mismatch for  the RXTX library, but the link to the build in the native lib is a website is no longer there. I&#39;m not exactly sure how to fix the problem. My code is below if you believe that is the issue. Any help would be appreciated.\r\n\r\n            \r\n    import java.io.OutputStream;\r\n    import gnu.io.CommPortIdentifier;\r\n    import gnu.io.SerialPort;\r\n    import gnu.io.SerialPortEvent;\r\n    import gnu.io.SerialPortEventListener;\r\n    import java.io.InputStream;\r\n    import java.util.Enumeration;\r\n\r\n    public class AraInterface {\r\n    SerialPort serialPort;\r\n            /** The port we&#39;re normally going to use. */\r\n            private static final String PORT_NAMES[] = { \r\n                            &quot;/dev/tty.usbserial-A9007UX1&quot;, // Mac OS X\r\n                            &quot;/dev/ttyUSB0&quot;, // Linux\r\n                            &quot;COM35&quot;, // Windows //shin: ardu com port here\r\n                            };\r\n            private InputStream input;\r\n            private OutputStream output;\r\n            private static final int TIME_OUT = 2000;\r\n            private static final int DATA_RATE = 9600;\r\n\r\n            public void initialize() {\r\n                    CommPortIdentifier portId = null;\r\n                    Enumeration portEnum = CommPortIdentifier.getPortIdentifiers();\r\n\r\n                    while (portEnum.hasMoreElements()) {\r\n                            CommPortIdentifier currPortId = (CommPortIdentifier) portEnum.nextElement();\r\n                            for (String portName : PORT_NAMES) {\r\n                                    if (currPortId.getName().equals(portName)) { \r\n                                            portId = currPortId;\r\n                                            break;\r\n                                    }\r\n                            }\r\n                    }\r\n\r\n                    if (portId == null) {\r\n                            System.out.println(&quot;Could not find COM port.&quot;);\r\n                            return;\r\n                    }\r\n\r\n                    try {\r\n                            serialPort = (SerialPort) portId.open(this.getClass().getName(),\r\n                                            TIME_OUT);\r\n\r\n                            serialPort.setSerialPortParams(DATA_RATE,\r\n                                            SerialPort.DATABITS_8,\r\n                                            SerialPort.STOPBITS_1,\r\n                                            SerialPort.PARITY_NONE);\r\n\r\n                            input = serialPort.getInputStream();\r\n                            output = serialPort.getOutputStream();\r\n\r\n                            serialPort.addEventListener((SerialPortEventListener) this);\r\n                            serialPort.notifyOnDataAvailable(true); \r\n                    } catch (Exception e) {\r\n                            System.err.println(e.toString());\r\n                    }\r\n            }\r\n\r\n            public synchronized void close() {\r\n                    if (serialPort != null) {\r\n                            serialPort.removeEventListener();\r\n                            serialPort.close();\r\n                    }\r\n            }\r\n\r\n            public synchronized void serialEvent(SerialPortEvent oEvent) {\r\n                    if (oEvent.getEventType() == SerialPortEvent.DATA_AVAILABLE) {\r\n                            try {\r\n                                    int available = input.available();\r\n                                    byte chunk[] = new byte[available];\r\n                                    input.read(chunk, 0, available);\r\n\r\n                                    String temp = new String (chunk);\r\n                                    String ref = &quot;Hel&quot;;\r\n                                    if(temp.compareTo(ref)==0){\r\n                                    System.out.println(&quot;Hello World request received&quot;);\r\n                                    }\r\n                                    else{\r\n                                    System.out.println(&quot;lala&quot; + temp);\r\n                                    }\r\n\r\n                            } catch (Exception e) {\r\n                                    System.err.println(e.toString());\r\n                            }\r\n                    }\r\n\r\n            }\r\n\r\n            public static void main(String[] args) throws Exception {\r\n                    AraInterface main = new AraInterface();\r\n                    main.initialize();\r\n                    System.out.println(&quot;Started&quot;);\r\n            }\r\n    }","title":"Mismatched RXTX Versions","body":"<p>I found a code to communicate in Java via Serial Port to an Arduino and wanted to try and get it working in order to expand on it for a project idea, but I keep getting this error</p>\n\n<pre><code>Stable Library\n=========================================\nNative lib Version = RXTX-2.2-20081207 Cloudhopper Build rxtx.cloudhopper.net\nJava lib Version   = RXTX-2.1-7\nWARNING:  RXTX Version mismatch\nJar version = RXTX-2.1-7\nnative lib Version = RXTX-2.2-20081207 Cloudhopper Build rxtx.cloudhopper.net\nCould not find COM port.\nStarted\n</code></pre>\n\n<p>I think that it means there is jar mismatch for  the RXTX library, but the link to the build in the native lib is a website is no longer there. I'm not exactly sure how to fix the problem. My code is below if you believe that is the issue. Any help would be appreciated.</p>\n\n<pre><code>import java.io.OutputStream;\nimport gnu.io.CommPortIdentifier;\nimport gnu.io.SerialPort;\nimport gnu.io.SerialPortEvent;\nimport gnu.io.SerialPortEventListener;\nimport java.io.InputStream;\nimport java.util.Enumeration;\n\npublic class AraInterface {\nSerialPort serialPort;\n        /** The port we're normally going to use. */\n        private static final String PORT_NAMES[] = { \n                        \"/dev/tty.usbserial-A9007UX1\", // Mac OS X\n                        \"/dev/ttyUSB0\", // Linux\n                        \"COM35\", // Windows //shin: ardu com port here\n                        };\n        private InputStream input;\n        private OutputStream output;\n        private static final int TIME_OUT = 2000;\n        private static final int DATA_RATE = 9600;\n\n        public void initialize() {\n                CommPortIdentifier portId = null;\n                Enumeration portEnum = CommPortIdentifier.getPortIdentifiers();\n\n                while (portEnum.hasMoreElements()) {\n                        CommPortIdentifier currPortId = (CommPortIdentifier) portEnum.nextElement();\n                        for (String portName : PORT_NAMES) {\n                                if (currPortId.getName().equals(portName)) { \n                                        portId = currPortId;\n                                        break;\n                                }\n                        }\n                }\n\n                if (portId == null) {\n                        System.out.println(\"Could not find COM port.\");\n                        return;\n                }\n\n                try {\n                        serialPort = (SerialPort) portId.open(this.getClass().getName(),\n                                        TIME_OUT);\n\n                        serialPort.setSerialPortParams(DATA_RATE,\n                                        SerialPort.DATABITS_8,\n                                        SerialPort.STOPBITS_1,\n                                        SerialPort.PARITY_NONE);\n\n                        input = serialPort.getInputStream();\n                        output = serialPort.getOutputStream();\n\n                        serialPort.addEventListener((SerialPortEventListener) this);\n                        serialPort.notifyOnDataAvailable(true); \n                } catch (Exception e) {\n                        System.err.println(e.toString());\n                }\n        }\n\n        public synchronized void close() {\n                if (serialPort != null) {\n                        serialPort.removeEventListener();\n                        serialPort.close();\n                }\n        }\n\n        public synchronized void serialEvent(SerialPortEvent oEvent) {\n                if (oEvent.getEventType() == SerialPortEvent.DATA_AVAILABLE) {\n                        try {\n                                int available = input.available();\n                                byte chunk[] = new byte[available];\n                                input.read(chunk, 0, available);\n\n                                String temp = new String (chunk);\n                                String ref = \"Hel\";\n                                if(temp.compareTo(ref)==0){\n                                System.out.println(\"Hello World request received\");\n                                }\n                                else{\n                                System.out.println(\"lala\" + temp);\n                                }\n\n                        } catch (Exception e) {\n                                System.err.println(e.toString());\n                        }\n                }\n\n        }\n\n        public static void main(String[] args) throws Exception {\n                AraInterface main = new AraInterface();\n                main.initialize();\n                System.out.println(\"Started\");\n        }\n}\n</code></pre>\n"},{"tags":["java","apache","rest","postman","advanced-rest-client"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1647301221,"post_id":71472183,"comment_id":126332593,"body_markdown":"Sounds like you open the response, send the 200 status and then start to send output a bit at a time, but the connection times out before the entire response is sent.  That explains all the symptoms you see.","body":"Sounds like you open the response, send the 200 status and then start to send output a bit at a time, but the connection times out before the entire response is sent.  That explains all the symptoms you see."},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1647336436,"post_id":71472183,"comment_id":126339732,"body_markdown":"But Timeout is infinite on one place and 10 minutes on other. So what timed out?","body":"But Timeout is infinite on one place and 10 minutes on other. So what timed out?"}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647280520,"creation_date":1647280520,"question_id":71472183,"body_markdown":"A Heavy Request comes to application; deployed in my wildfly server; via HTTPD. \r\nIt takes 5 minutes to process 800 Records in request. (Application calls 2 servers using Multithreading and concatenate results and send back)\r\n\r\nApplication run till end:\r\n\r\n    2022-03-14 15:06:21,545 INFO  [com.gvry.chintugrator.msc.service.ToneConfigurationItemSearchResource] (default task-1) Before Result With Status: 200\r\n    2022-03-14 15:06:21,545 INFO  [com.gvry.chintugrator.msc.service.ToneConfigurationItemSearchResource] (default task-1) Before Result With StatusInfo: OK\r\n    2022-03-14 15:06:21,545 INFO  [com.gvry.chintugrator.msc.service.ToneConfigurationItemSearchResource] (default task-1) Before Result With ToString: org.jboss.resteasy.specimpl.BuiltResponse@7779817c\r\n    \r\n    @POST\r\n\t@Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })\r\n\t@Path(&quot;/configuration-items&quot;)\r\n\tpublic Response searchForConfigurationItems(ConfigurationItemsSearch search) {\r\n     --after 5 to 6 mins\r\n     --log(message and success))\r\n     return Response.ok().entity(new GenericEntity&lt;List&lt;ConfigurationItem&gt;&gt;(configurationItems)\r\n    }\r\n\r\nBut after processing my Postman, ARC and client are getting &quot;Error: read ECONNRESET&quot;\r\n[![enter image description here][1]][1]\r\n\r\nStrange thing is:\r\n\r\nHTTPD log says 200 when i hit from both Postman and ARC\r\n\r\n    net.cosng.integrator.qa.masterdata_access.log:[14/Mar/2022:14:44:33 +0100] 253.110.6.132, 139.316.415.46, 410.0.11.23 (410.0.11.23) masterdata.qa.chintugrator.cosng.net \r\n    &quot;POST //mscbilling/api/search/configuration-items HTTP/1.1&quot; 200 &quot;PostmanRuntime/7.29.0&quot;\r\n\r\n\r\nHTTPD timeout is 900 seconds and request return in 5-6 minutes\r\n\r\nARC client has following in header. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nPostman has following in header:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThen i downloaded Google Chrome ARC plugin and it returns 200 OK but\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThere is no issue in response json which i print in logs. \r\n\r\nWhere is the issue is \r\n\r\n  [1]: https://i.stack.imgur.com/RzPvC.png\r\n  [2]: https://i.stack.imgur.com/2ZRqK.png\r\n  [3]: https://i.stack.imgur.com/1YSpL.png\r\n  [4]: https://i.stack.imgur.com/MZ1kt.png","title":"Java: Getting Error: read ECONNRESET when HTTPD says 200 Ok and code successfully executed till end","body":"<p>A Heavy Request comes to application; deployed in my wildfly server; via HTTPD.\nIt takes 5 minutes to process 800 Records in request. (Application calls 2 servers using Multithreading and concatenate results and send back)</p>\n<p>Application run till end:</p>\n<pre><code>2022-03-14 15:06:21,545 INFO  [com.gvry.chintugrator.msc.service.ToneConfigurationItemSearchResource] (default task-1) Before Result With Status: 200\n2022-03-14 15:06:21,545 INFO  [com.gvry.chintugrator.msc.service.ToneConfigurationItemSearchResource] (default task-1) Before Result With StatusInfo: OK\n2022-03-14 15:06:21,545 INFO  [com.gvry.chintugrator.msc.service.ToneConfigurationItemSearchResource] (default task-1) Before Result With ToString: org.jboss.resteasy.specimpl.BuiltResponse@7779817c\n\n@POST\n@Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })\n@Path(&quot;/configuration-items&quot;)\npublic Response searchForConfigurationItems(ConfigurationItemsSearch search) {\n --after 5 to 6 mins\n --log(message and success))\n return Response.ok().entity(new GenericEntity&lt;List&lt;ConfigurationItem&gt;&gt;(configurationItems)\n}\n</code></pre>\n<p>But after processing my Postman, ARC and client are getting &quot;Error: read ECONNRESET&quot;\n<a href=\"https://i.stack.imgur.com/RzPvC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RzPvC.png\" alt=\"enter image description here\" /></a></p>\n<p>Strange thing is:</p>\n<p>HTTPD log says 200 when i hit from both Postman and ARC</p>\n<pre><code>net.cosng.integrator.qa.masterdata_access.log:[14/Mar/2022:14:44:33 +0100] 253.110.6.132, 139.316.415.46, 410.0.11.23 (410.0.11.23) masterdata.qa.chintugrator.cosng.net \n&quot;POST //mscbilling/api/search/configuration-items HTTP/1.1&quot; 200 &quot;PostmanRuntime/7.29.0&quot;\n</code></pre>\n<p>HTTPD timeout is 900 seconds and request return in 5-6 minutes</p>\n<p>ARC client has following in header.</p>\n<p><a href=\"https://i.stack.imgur.com/2ZRqK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ZRqK.png\" alt=\"enter image description here\" /></a></p>\n<p>Postman has following in header:</p>\n<p><a href=\"https://i.stack.imgur.com/1YSpL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1YSpL.png\" alt=\"enter image description here\" /></a></p>\n<p>Then i downloaded Google Chrome ARC plugin and it returns 200 OK but</p>\n<p><a href=\"https://i.stack.imgur.com/MZ1kt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZ1kt.png\" alt=\"enter image description here\" /></a></p>\n<p>There is no issue in response json which i print in logs.</p>\n<p>Where is the issue is</p>\n"},{"tags":["java","eclipse","selenium"],"comments":[{"owner":{"account_id":18276848,"reputation":94,"user_id":13306479,"display_name":"PuzzledScratch"},"score":1,"creation_date":1647281734,"post_id":71472093,"comment_id":126327346,"body_markdown":"Did you download and run the selenium Chrome driver? You have to seperately download the selenium driver for your browser and run it in the background. If you don&#39;t want to do this you can look at this https://github.com/bonigarcia/webdrivermanager.","body":"Did you download and run the selenium Chrome driver? You have to seperately download the selenium driver for your browser and run it in the background. If you don&#39;t want to do this you can look at this <a href=\"https://github.com/bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">github.com/bonigarcia/webdrivermanager</a>."},{"owner":{"account_id":6642040,"reputation":2057,"user_id":5127499,"accept_rate":100,"display_name":"Carsten"},"score":1,"creation_date":1647285255,"post_id":71472093,"comment_id":126328565,"body_markdown":"Looks like your definition of the main type to execute has a typo in it.\nIt tries to find &quot;selrnium.main&quot; (beware the &quot;R&quot; at position 4) while your actual class is &quot;selenium.main&quot;.","body":"Looks like your definition of the main type to execute has a typo in it. It tries to find &quot;selrnium.main&quot; (beware the &quot;R&quot; at position 4) while your actual class is &quot;selenium.main&quot;."}],"owner":{"account_id":24556938,"reputation":1,"user_id":18465327,"display_name":"Dor Gedasi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647280086,"creation_date":1647280086,"question_id":71472093,"body_markdown":"I am trying to browse google.com using Selenium.\r\nMy IDE is Eclipse, this is my code:\r\n\r\n    package seleniumauto;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    WebDriver driver = new ChromeDriver();\r\n    \t\r\n    \tdriver.get(&quot;http://www.google.com&quot;);\r\n    \t\r\n    \t}\r\n    }\r\n\r\n    \r\nI get the following error : \r\n\r\n    WARNING: Unknown module: selrnium specified to --patch-module\r\n    Error: Could not find or load main class selrniumauto.main\r\n    Caused by: java.lang.ClassNotFoundException: selrniumauto.main\r\n\r\n\r\n \r\n\r\n","title":"Could not find or load main class seleniumauto.main","body":"<p>I am trying to browse google.com using Selenium.\nMy IDE is Eclipse, this is my code:</p>\n<pre><code>package seleniumauto;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class main {\n\n    public static void main(String[] args) {\n    \nWebDriver driver = new ChromeDriver();\n    \n    driver.get(&quot;http://www.google.com&quot;);\n    \n    }\n}\n</code></pre>\n<p>I get the following error :</p>\n<pre><code>WARNING: Unknown module: selrnium specified to --patch-module\nError: Could not find or load main class selrniumauto.main\nCaused by: java.lang.ClassNotFoundException: selrniumauto.main\n</code></pre>\n"},{"tags":["java","aws-lambda","aws-event-bridge"],"answers":[{"tags":[],"owner":{"account_id":14223371,"reputation":163,"user_id":10274860,"display_name":"Hououin Kyouma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647279838,"creation_date":1647279838,"answer_id":71472053,"question_id":71471759,"body_markdown":"If you use scheduled-events to trigger a lambda function then you should be able to use InputTransformer to add whatever static data you want to have delivered to the lambda (see: https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-transform-target-input.html)","title":"Pass custom parameters in Event Bridge schedule event to lambda","body":"<p>If you use scheduled-events to trigger a lambda function then you should be able to use InputTransformer to add whatever static data you want to have delivered to the lambda (see: <a href=\"https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-transform-target-input.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-transform-target-input.html</a>)</p>\n"},{"tags":[],"owner":{"account_id":81630,"reputation":8522,"user_id":230055,"accept_rate":67,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647279961,"creation_date":1647279961,"answer_id":71472075,"question_id":71471759,"body_markdown":"When you create the EventBridge rule, you can specify JSON to pass for the event.  Under &quot;Additional settings&quot; you can configure the target input, and one option is JSON.  The following shows this in the console, and similar options are available if you create the rule via the APIs or CloudFormation:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Khkzd.jpg","title":"Pass custom parameters in Event Bridge schedule event to lambda","body":"<p>When you create the EventBridge rule, you can specify JSON to pass for the event.  Under &quot;Additional settings&quot; you can configure the target input, and one option is JSON.  The following shows this in the console, and similar options are available if you create the rule via the APIs or CloudFormation:\n<a href=\"https://i.stack.imgur.com/Khkzd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Khkzd.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14223371,"reputation":163,"user_id":10274860,"display_name":"Hououin Kyouma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71472053,"answer_count":2,"score":1,"last_activity_date":1647279961,"creation_date":1647278346,"question_id":71471759,"body_markdown":"I have a Lambda function which gets invoked at a fixed schedule from EventBridge events. Is there any way to pass custom parameters(like a json file) to the invoked lambda function via an event rule?\r\n\r\nI tried passing a json string inside withEventPattern in the PutRule object, like this:\r\n\r\n`{&#39;detail&#39;: {&quot;id&quot; : [&quot;unique_id&quot;]}}` =&gt; this lead to this error:\r\n\r\n `&quot;Event pattern is not valid. Reason: Unrecognized match type instance-id\\n at [Source: (String)\\&quot;{\\&quot;detail\\&quot;:[{\\&quot;instance-id\\&quot;:[\\&quot;d1983a77-dc0e-4724-953f-df283c1ad421\\&quot;]}]}\\&quot;`\r\n\r\nI understand this is not the appropriate way of doing this, but I was trying my luck.\r\n","title":"Pass custom parameters in Event Bridge schedule event to lambda","body":"<p>I have a Lambda function which gets invoked at a fixed schedule from EventBridge events. Is there any way to pass custom parameters(like a json file) to the invoked lambda function via an event rule?</p>\n<p>I tried passing a json string inside withEventPattern in the PutRule object, like this:</p>\n<p><code>{'detail': {&quot;id&quot; : [&quot;unique_id&quot;]}}</code> =&gt; this lead to this error:</p>\n<p><code>&quot;Event pattern is not valid. Reason: Unrecognized match type instance-id\\n at [Source: (String)\\&quot;{\\&quot;detail\\&quot;:[{\\&quot;instance-id\\&quot;:[\\&quot;d1983a77-dc0e-4724-953f-df283c1ad421\\&quot;]}]}\\&quot;</code></p>\n<p>I understand this is not the appropriate way of doing this, but I was trying my luck.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","persistence"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647279514,"creation_date":1647273782,"answer_id":71470763,"question_id":71469123,"body_markdown":"Your mappings are incorrect - you&#39;ll need to look into JPA tutorials on how to map derived ids, but the error tells you what is wrong, pointing you at your ClassifiedGroup.interaction mapping(s). The PK class must use the Interaction&#39;s ID (a UUID), not the Interaction instance itself.\r\n\r\n      public static class PrimaryKeys implements Serializable {\r\n        private UUID interaction;\r\n        private String descriptor;\r\n        private String value;\r\n      }\r\n\r\nAs JPA needs to insert the value into the defined &quot;interaction_id&quot; fk, your mapping within ClassifiedGroup should be *writeable*, similar to:\r\n\r\n      @Id\r\n      @ManyToOne(fetch = FetchType.LAZY)\r\n      @JoinColumn(\r\n          name = &quot;interaction_id&quot;,\r\n          referencedColumnName = &quot;interaction_id&quot;)\r\n      private Interaction interaction;\r\n\r\n For your other questions - yes, there are many many ways to handle what you want, but it is a matter of how much work you want to put in. Making relationships lazy avoids them being unnecessarily fetched, but you then have to consider serialization through other mechanisms and changes to detached entities. I don&#39;t trust Spring/JPA providers to automatically know what I want done when it receives a null value in a relationship, as it could be that the data wasn&#39;t serialized, or it could be a change. So where performance is a concern, I write my own merge methods to handle taking in serialized data (from say a REST interface) and determining how it should be merged into a managed instance if it exists. \r\n\r\nAlso note that CascadeType.ALL might not be what you really want. All you stated you want is that changes to the Interaction.groups list are picked up and that referenced ClassifiedGroups are removed with the Interaction, and as a convince so you can persist an Interaction and its groups list in one call. That is just `cascade={PERSIST, REMOVE}`. ALL includes merge, refresh and detach which have performance overhead and might cause you grief if you don&#39;t really need them. Merge especially - when you pass in an Interaction with changes and ClassifiedGroups within its list of groups, any differences in those ClassifiedGroups from what is in the database will get merged. This can lead to consequences like stale data overwrites, and of course has a large overhead, as merge will cascade over ClassifiedGroup references as well. Don&#39;t use cascade options lightly.","title":"Problem manipulating child entity of a OneToMany relation with Cascade ALL","body":"<p>Your mappings are incorrect - you'll need to look into JPA tutorials on how to map derived ids, but the error tells you what is wrong, pointing you at your ClassifiedGroup.interaction mapping(s). The PK class must use the Interaction's ID (a UUID), not the Interaction instance itself.</p>\n<pre><code>  public static class PrimaryKeys implements Serializable {\n    private UUID interaction;\n    private String descriptor;\n    private String value;\n  }\n</code></pre>\n<p>As JPA needs to insert the value into the defined &quot;interaction_id&quot; fk, your mapping within ClassifiedGroup should be <em>writeable</em>, similar to:</p>\n<pre><code>  @Id\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(\n      name = &quot;interaction_id&quot;,\n      referencedColumnName = &quot;interaction_id&quot;)\n  private Interaction interaction;\n</code></pre>\n<p>For your other questions - yes, there are many many ways to handle what you want, but it is a matter of how much work you want to put in. Making relationships lazy avoids them being unnecessarily fetched, but you then have to consider serialization through other mechanisms and changes to detached entities. I don't trust Spring/JPA providers to automatically know what I want done when it receives a null value in a relationship, as it could be that the data wasn't serialized, or it could be a change. So where performance is a concern, I write my own merge methods to handle taking in serialized data (from say a REST interface) and determining how it should be merged into a managed instance if it exists.</p>\n<p>Also note that CascadeType.ALL might not be what you really want. All you stated you want is that changes to the Interaction.groups list are picked up and that referenced ClassifiedGroups are removed with the Interaction, and as a convince so you can persist an Interaction and its groups list in one call. That is just <code>cascade={PERSIST, REMOVE}</code>. ALL includes merge, refresh and detach which have performance overhead and might cause you grief if you don't really need them. Merge especially - when you pass in an Interaction with changes and ClassifiedGroups within its list of groups, any differences in those ClassifiedGroups from what is in the database will get merged. This can lead to consequences like stale data overwrites, and of course has a large overhead, as merge will cascade over ClassifiedGroup references as well. Don't use cascade options lightly.</p>\n"}],"owner":{"account_id":8103484,"reputation":383,"user_id":6105830,"display_name":"Lucas Soares"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71470763,"answer_count":1,"score":1,"last_activity_date":1647279514,"creation_date":1647267061,"question_id":71469123,"body_markdown":"I have a performance problem using bi-directional relationship (OneToMany - ManyToOne).\r\n\r\nI have an entity `Interaction` that can have many `ClassifiedGroup` (see classes bellow for more details) but I have a specific use case where I need to delete few ClassifiedGroups and add few others.\r\n\r\nThe problem is that when I use the `InteractionRepository.java` itself (a simple JpaRepository) to save all modifications of related `ClassifiedGroup`, the code will have to fetch all groups from the database linked with an Interaction. It will also fetch many other attributes of the `Interaction` that can also be expensive. I do not want to manipulate the `Interaction` entity to delete/create new `ClassifiedGroup` but I also want to have the cascade type to `ALL` because I create the first groups when the Interaction is created and if I delete the interaction itself, all groups should be deleted.\r\n\r\nI tried to create a `JpaRepository` for the `ClassifiedGroup` entity and manipulate it directly but I&#39;m getting errors trying to save it:\r\n\r\nCode:\r\n\r\n```java\r\n      List&lt;ClassifiedGroup&gt; toAdd = generate(); // generate list to add\r\n      toAdd.forEach(g -&gt; g.setInteraction(interaction));\r\n\r\n      this.classifiedGroupRepository.saveAll(toAdd);\r\n```\r\n\r\nError:\r\n\r\n```\r\norg.springframework.beans.ConversionNotSupportedException: Failed to convert property value of type &#39;java.util.UUID&#39; to required type &#39;br.com.stilingue.smartcare.entities.Interaction&#39; for property &#39;interaction&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.util.UUID&#39; to required type &#39;br.com.stilingue.smartcare.entities.Interaction&#39; for property &#39;interaction&#39;: no matching editors or conversion strategy found\r\n\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.convertIfNecessary(AbstractNestablePropertyAccessor.java:595)\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.convertForProperty(AbstractNestablePropertyAccessor.java:609)\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.processLocalProperty(AbstractNestablePropertyAccessor.java:458)\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.setPropertyValue(AbstractNestablePropertyAccessor.java:278)\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.setPropertyValue(AbstractNestablePropertyAccessor.java:246)\r\n\tat org.springframework.data.util.DirectFieldAccessFallbackBeanWrapper.setPropertyValue(DirectFieldAccessFallbackBeanWrapper.java:75)\r\n\tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation$IdentifierDerivingDirectFieldAccessFallbackBeanWrapper.setPropertyValue(JpaMetamodelEntityInformation.java:367)\r\n\tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.getId(JpaMetamodelEntityInformation.java:175)\r\n\tat org.springframework.data.repository.core.support.AbstractEntityInformation.isNew(AbstractEntityInformation.java:46)\r\n\tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.isNew(JpaMetamodelEntityInformation.java:246)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:596)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:631)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy197.saveAll(Unknown Source)\r\n\tat br.com.stilingue.smartcare.event.interaction.update.strategy.impl.InteractionStilingueArrayUpdateStrategy.updateInteraction(InteractionStilingueArrayUpdateStrategy.java:78)\r\n\tat br.com.stilingue.smartcare.event.interaction.update.strategy.impl.InteractionStilingueArrayUpdateStrategy$$FastClassBySpringCGLIB$$b5a01170.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n\tat br.com.stilingue.smartcare.event.interaction.update.strategy.impl.InteractionStilingueArrayUpdateStrategy$$EnhancerBySpringCGLIB$$6a4de66a.updateInteraction(&lt;generated&gt;)\r\n\tat br.com.stilingue.smartcare.event.interaction.update.strategy.impl.InteractionStilingueArrayUpdateStrategyIntegrationTest.testShouldAddNewGroups(InteractionStilingueArrayUpdateStrategyIntegrationTest.java:114)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: java.lang.IllegalStateException: Cannot convert value of type &#39;java.util.UUID&#39; to required type &#39;br.com.stilingue.smartcare.entities.Interaction&#39; for property &#39;interaction&#39;: no matching editors or conversion strategy found\r\n\tat org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:262)\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.convertIfNecessary(AbstractNestablePropertyAccessor.java:590)\r\n\t... 120 more\r\n```\r\n\r\nI&#39;ve found a few other issues saying if I have the `CascadeType.PERSIST` in the parent entity I will not be able to manipulate the child entity directly because the parent entity will be the &quot;owner&quot; of the child entity.\r\n\r\nBut I have to ask: is there any way to avoid this performance bottleneck? My Interaction entity have a few other `OneToOne`, `ManyToMany`, `ManyToOne` and `OneToMany` relations and every time I use the `InteractionRepository#save` all relations are fetched from database. I really need to be able to create/delete `ClassifiedGroup` entities by my own.\r\n\r\nMy classes:\r\n\r\n\r\n**Interaction** \r\n```java\r\npackage br.com.stilingue.smartcare.entities;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.google.cloud.spanner.hibernate.types.SpannerJsonType;\r\nimport java.sql.Timestamp;\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport java.util.UUID;\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.EnumType;\r\nimport javax.persistence.Enumerated;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.OneToMany;\r\nimport javax.persistence.Table;\r\nimport javax.persistence.UniqueConstraint;\r\nimport lombok.Data;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.ToString;\r\nimport lombok.experimental.Accessors;\r\nimport org.hibernate.annotations.Type;\r\nimport org.hibernate.annotations.TypeDef;\r\n\r\n@Data\r\n@Entity\r\n@Accessors(chain = true)\r\n@Table(\r\n    name = &quot;interactions&quot;,\r\n    uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;pid&quot;, &quot;channel&quot;, &quot;universe_id&quot;})})\r\npublic class Interaction {\r\n\r\n  @Id\r\n  @GeneratedValue\r\n  @Type(type = &quot;uuid-char&quot;)\r\n  @Column(name = &quot;interaction_id&quot;, nullable = false)\r\n  private UUID interactionId;\r\n\r\n  @Column(name = &quot;pid&quot;, nullable = false)\r\n  private String pid;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  @Column(name = &quot;channel&quot;, nullable = false)\r\n  private Channel channel;\r\n\r\n  @Column(name = &quot;universe_id&quot;, nullable = false)\r\n  private Long universeId;\r\n\r\n  @Column(name = &quot;post_date&quot;, nullable = false)\r\n  private Timestamp postDate;\r\n\r\n  @ToString.Exclude\r\n  @EqualsAndHashCode.Exclude\r\n  @OneToMany(\r\n      mappedBy = &quot;interaction&quot;,\r\n      cascade = CascadeType.ALL,\r\n      fetch = FetchType.LAZY,\r\n      orphanRemoval = true)\r\n  private Set&lt;ClassifiedGroup&gt; groups;\r\n\r\n  // many other relations/attributes not relevant for the issue, but they also are loaded when I use InteractionRepository#save method\r\n\r\n  // method when the Interaction is created the first time\r\n  public void setRelations() {\r\n    if (this.groups != null) {\r\n      this.groups.forEach(group -&gt; group.setInteraction(this));\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**ClassifiedGroup**\r\n```java\r\npackage br.com.stilingue.smartcare.entities;\r\n\r\nimport java.io.Serializable;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.EnumType;\r\nimport javax.persistence.Enumerated;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.IdClass;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.Table;\r\nimport lombok.Data;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\nimport lombok.experimental.Accessors;\r\n\r\n@Data\r\n@Entity\r\n@NoArgsConstructor\r\n@Accessors(chain = true)\r\n@Table(name = &quot;classified_groups&quot;)\r\n@IdClass(ClassifiedGroup.PrimaryKeys.class)\r\npublic class ClassifiedGroup {\r\n  @Data\r\n  public static class PrimaryKeys implements Serializable {\r\n    private Interaction interaction;\r\n    private String descriptor;\r\n    private String value;\r\n  }\r\n\r\n  public ClassifiedGroup(String group, ClassificationType type, String descriptor) {\r\n    this.value = group;\r\n    this.type = type;\r\n    this.descriptor = descriptor;\r\n  }\r\n\r\n  public ClassifiedGroup(String group, ClassificationType type) {\r\n    this(group, type, &quot;&quot;);\r\n  }\r\n\r\n  @Id\r\n  @ToString.Exclude\r\n  @EqualsAndHashCode.Exclude\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(\r\n      name = &quot;interaction_id&quot;,\r\n      referencedColumnName = &quot;interaction_id&quot;,\r\n      insertable = false,\r\n      updatable = false)\r\n  private Interaction interaction;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  @Column(name = &quot;type&quot;, nullable = false)\r\n  private ClassificationType type;\r\n\r\n  @Id\r\n  @Column(name = &quot;value&quot;, nullable = false)\r\n  private String value;\r\n\r\n  @Id\r\n  @Column(name = &quot;descriptor&quot;, nullable = false)\r\n  private String descriptor = &quot;&quot;;\r\n}\r\n```\r\n\r\n**ClassifiedGroupRepository**\r\n```java\r\npackage br.com.stilingue.smartcare.repositories;\r\n\r\nimport br.com.stilingue.smartcare.entities.ClassifiedGroup;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface ClassifiedGroupRepository\r\n    extends JpaRepository&lt;ClassifiedGroup, ClassifiedGroup.PrimaryKeys&gt; {}\r\n```\r\n\r\n**InteractionRepository**\r\n```\r\npackage br.com.stilingue.smartcare.repositories;\r\n\r\nimport java.util.Optional;\r\nimport java.util.UUID;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface InteractionRepository extends JpaRepository&lt;Interaction, UUID&gt;{}\r\n```\r\n\r\nI&#39;m currently using Hibernate `5.6.5.Final`.","title":"Problem manipulating child entity of a OneToMany relation with Cascade ALL","body":"<p>I have a performance problem using bi-directional relationship (OneToMany - ManyToOne).</p>\n<p>I have an entity <code>Interaction</code> that can have many <code>ClassifiedGroup</code> (see classes bellow for more details) but I have a specific use case where I need to delete few ClassifiedGroups and add few others.</p>\n<p>The problem is that when I use the <code>InteractionRepository.java</code> itself (a simple JpaRepository) to save all modifications of related <code>ClassifiedGroup</code>, the code will have to fetch all groups from the database linked with an Interaction. It will also fetch many other attributes of the <code>Interaction</code> that can also be expensive. I do not want to manipulate the <code>Interaction</code> entity to delete/create new <code>ClassifiedGroup</code> but I also want to have the cascade type to <code>ALL</code> because I create the first groups when the Interaction is created and if I delete the interaction itself, all groups should be deleted.</p>\n<p>I tried to create a <code>JpaRepository</code> for the <code>ClassifiedGroup</code> entity and manipulate it directly but I'm getting errors trying to save it:</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      List&lt;ClassifiedGroup&gt; toAdd = generate(); // generate list to add\n      toAdd.forEach(g -&gt; g.setInteraction(interaction));\n\n      this.classifiedGroupRepository.saveAll(toAdd);\n</code></pre>\n<p>Error:</p>\n<pre><code>org.springframework.beans.ConversionNotSupportedException: Failed to convert property value of type 'java.util.UUID' to required type 'br.com.stilingue.smartcare.entities.Interaction' for property 'interaction'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.util.UUID' to required type 'br.com.stilingue.smartcare.entities.Interaction' for property 'interaction': no matching editors or conversion strategy found\n\n    at org.springframework.beans.AbstractNestablePropertyAccessor.convertIfNecessary(AbstractNestablePropertyAccessor.java:595)\n    at org.springframework.beans.AbstractNestablePropertyAccessor.convertForProperty(AbstractNestablePropertyAccessor.java:609)\n    at org.springframework.beans.AbstractNestablePropertyAccessor.processLocalProperty(AbstractNestablePropertyAccessor.java:458)\n    at org.springframework.beans.AbstractNestablePropertyAccessor.setPropertyValue(AbstractNestablePropertyAccessor.java:278)\n    at org.springframework.beans.AbstractNestablePropertyAccessor.setPropertyValue(AbstractNestablePropertyAccessor.java:246)\n    at org.springframework.data.util.DirectFieldAccessFallbackBeanWrapper.setPropertyValue(DirectFieldAccessFallbackBeanWrapper.java:75)\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation$IdentifierDerivingDirectFieldAccessFallbackBeanWrapper.setPropertyValue(JpaMetamodelEntityInformation.java:367)\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.getId(JpaMetamodelEntityInformation.java:175)\n    at org.springframework.data.repository.core.support.AbstractEntityInformation.isNew(AbstractEntityInformation.java:46)\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.isNew(JpaMetamodelEntityInformation.java:246)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:596)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:631)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy197.saveAll(Unknown Source)\n    at br.com.stilingue.smartcare.event.interaction.update.strategy.impl.InteractionStilingueArrayUpdateStrategy.updateInteraction(InteractionStilingueArrayUpdateStrategy.java:78)\n    at br.com.stilingue.smartcare.event.interaction.update.strategy.impl.InteractionStilingueArrayUpdateStrategy$$FastClassBySpringCGLIB$$b5a01170.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n    at br.com.stilingue.smartcare.event.interaction.update.strategy.impl.InteractionStilingueArrayUpdateStrategy$$EnhancerBySpringCGLIB$$6a4de66a.updateInteraction(&lt;generated&gt;)\n    at br.com.stilingue.smartcare.event.interaction.update.strategy.impl.InteractionStilingueArrayUpdateStrategyIntegrationTest.testShouldAddNewGroups(InteractionStilingueArrayUpdateStrategyIntegrationTest.java:114)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: java.lang.IllegalStateException: Cannot convert value of type 'java.util.UUID' to required type 'br.com.stilingue.smartcare.entities.Interaction' for property 'interaction': no matching editors or conversion strategy found\n    at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:262)\n    at org.springframework.beans.AbstractNestablePropertyAccessor.convertIfNecessary(AbstractNestablePropertyAccessor.java:590)\n    ... 120 more\n</code></pre>\n<p>I've found a few other issues saying if I have the <code>CascadeType.PERSIST</code> in the parent entity I will not be able to manipulate the child entity directly because the parent entity will be the &quot;owner&quot; of the child entity.</p>\n<p>But I have to ask: is there any way to avoid this performance bottleneck? My Interaction entity have a few other <code>OneToOne</code>, <code>ManyToMany</code>, <code>ManyToOne</code> and <code>OneToMany</code> relations and every time I use the <code>InteractionRepository#save</code> all relations are fetched from database. I really need to be able to create/delete <code>ClassifiedGroup</code> entities by my own.</p>\n<p>My classes:</p>\n<p><strong>Interaction</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package br.com.stilingue.smartcare.entities;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.google.cloud.spanner.hibernate.types.SpannerJsonType;\nimport java.sql.Timestamp;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.UUID;\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.EnumType;\nimport javax.persistence.Enumerated;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\nimport javax.persistence.UniqueConstraint;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\nimport lombok.ToString;\nimport lombok.experimental.Accessors;\nimport org.hibernate.annotations.Type;\nimport org.hibernate.annotations.TypeDef;\n\n@Data\n@Entity\n@Accessors(chain = true)\n@Table(\n    name = &quot;interactions&quot;,\n    uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;pid&quot;, &quot;channel&quot;, &quot;universe_id&quot;})})\npublic class Interaction {\n\n  @Id\n  @GeneratedValue\n  @Type(type = &quot;uuid-char&quot;)\n  @Column(name = &quot;interaction_id&quot;, nullable = false)\n  private UUID interactionId;\n\n  @Column(name = &quot;pid&quot;, nullable = false)\n  private String pid;\n\n  @Enumerated(EnumType.STRING)\n  @Column(name = &quot;channel&quot;, nullable = false)\n  private Channel channel;\n\n  @Column(name = &quot;universe_id&quot;, nullable = false)\n  private Long universeId;\n\n  @Column(name = &quot;post_date&quot;, nullable = false)\n  private Timestamp postDate;\n\n  @ToString.Exclude\n  @EqualsAndHashCode.Exclude\n  @OneToMany(\n      mappedBy = &quot;interaction&quot;,\n      cascade = CascadeType.ALL,\n      fetch = FetchType.LAZY,\n      orphanRemoval = true)\n  private Set&lt;ClassifiedGroup&gt; groups;\n\n  // many other relations/attributes not relevant for the issue, but they also are loaded when I use InteractionRepository#save method\n\n  // method when the Interaction is created the first time\n  public void setRelations() {\n    if (this.groups != null) {\n      this.groups.forEach(group -&gt; group.setInteraction(this));\n    }\n  }\n}\n</code></pre>\n<p><strong>ClassifiedGroup</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package br.com.stilingue.smartcare.entities;\n\nimport java.io.Serializable;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.EnumType;\nimport javax.persistence.Enumerated;\nimport javax.persistence.FetchType;\nimport javax.persistence.Id;\nimport javax.persistence.IdClass;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.Table;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\nimport lombok.experimental.Accessors;\n\n@Data\n@Entity\n@NoArgsConstructor\n@Accessors(chain = true)\n@Table(name = &quot;classified_groups&quot;)\n@IdClass(ClassifiedGroup.PrimaryKeys.class)\npublic class ClassifiedGroup {\n  @Data\n  public static class PrimaryKeys implements Serializable {\n    private Interaction interaction;\n    private String descriptor;\n    private String value;\n  }\n\n  public ClassifiedGroup(String group, ClassificationType type, String descriptor) {\n    this.value = group;\n    this.type = type;\n    this.descriptor = descriptor;\n  }\n\n  public ClassifiedGroup(String group, ClassificationType type) {\n    this(group, type, &quot;&quot;);\n  }\n\n  @Id\n  @ToString.Exclude\n  @EqualsAndHashCode.Exclude\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(\n      name = &quot;interaction_id&quot;,\n      referencedColumnName = &quot;interaction_id&quot;,\n      insertable = false,\n      updatable = false)\n  private Interaction interaction;\n\n  @Enumerated(EnumType.STRING)\n  @Column(name = &quot;type&quot;, nullable = false)\n  private ClassificationType type;\n\n  @Id\n  @Column(name = &quot;value&quot;, nullable = false)\n  private String value;\n\n  @Id\n  @Column(name = &quot;descriptor&quot;, nullable = false)\n  private String descriptor = &quot;&quot;;\n}\n</code></pre>\n<p><strong>ClassifiedGroupRepository</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package br.com.stilingue.smartcare.repositories;\n\nimport br.com.stilingue.smartcare.entities.ClassifiedGroup;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ClassifiedGroupRepository\n    extends JpaRepository&lt;ClassifiedGroup, ClassifiedGroup.PrimaryKeys&gt; {}\n</code></pre>\n<p><strong>InteractionRepository</strong></p>\n<pre><code>package br.com.stilingue.smartcare.repositories;\n\nimport java.util.Optional;\nimport java.util.UUID;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface InteractionRepository extends JpaRepository&lt;Interaction, UUID&gt;{}\n</code></pre>\n<p>I'm currently using Hibernate <code>5.6.5.Final</code>.</p>\n"},{"tags":["java","maven-2","dependencies","maven","dependency-management"],"comments":[{"owner":{"account_id":785462,"reputation":16343,"user_id":845034,"accept_rate":57,"display_name":"steffen"},"score":0,"creation_date":1540281687,"post_id":3812894,"comment_id":92796033,"body_markdown":"Could you change accepted answer to https://stackoverflow.com/a/52001216/845034?","body":"Could you change accepted answer to <a href=\"https://stackoverflow.com/a/52001216/845034\">stackoverflow.com/a/52001216/845034</a>?"},{"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"score":1,"creation_date":1540283154,"post_id":3812894,"comment_id":92796818,"body_markdown":"@steffen ok done","body":"@steffen ok done"}],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1285678937,"creation_date":1285678937,"answer_id":3812967,"question_id":3812894,"body_markdown":"I guess you refer to the m2eclipse plugin. You have these options:\r\n\r\n1. The order in the navigator is the classpath order. You can sort the dependencies in the POM to get a better list. Of course, there is a problem with transient dependencies.\r\n\r\n1. You can open the POM file in the POM editor and examine the dependencies in the tab &quot;Dependency Hierarchy&quot;\r\n\r\n2. You can type part of the name of a dependency to locate it when the tree item &quot;Maven Dependencies&quot; is open.","title":"Sort maven dependencies in Eclipse","body":"<p>I guess you refer to the m2eclipse plugin. You have these options:</p>\n\n<ol>\n<li><p>The order in the navigator is the classpath order. You can sort the dependencies in the POM to get a better list. Of course, there is a problem with transient dependencies.</p></li>\n<li><p>You can open the POM file in the POM editor and examine the dependencies in the tab \"Dependency Hierarchy\"</p></li>\n<li><p>You can type part of the name of a dependency to locate it when the tree item \"Maven Dependencies\" is open.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":38696,"reputation":6419,"user_id":111245,"accept_rate":50,"display_name":"Salandur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285682680,"creation_date":1285682680,"answer_id":3813586,"question_id":3812894,"body_markdown":"have a look at the project properties in the &#39;java build path&#39; section under the &#39;libraries&#39; tab.\r\n\r\ni don&#39;t know for sure if this works for the m2eclipse plugin.","title":"Sort maven dependencies in Eclipse","body":"<p>have a look at the project properties in the 'java build path' section under the 'libraries' tab.</p>\n\n<p>i don't know for sure if this works for the m2eclipse plugin.</p>\n"},{"tags":[],"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1500387442,"creation_date":1360165398,"answer_id":14732946,"question_id":3812894,"body_markdown":"I just ran into the [Sortpom Maven Plugin](https://github.com/Ekryd/sortpom). This enables you to sort the dependencies in your pom using a Maven command. So you can use it in Eclipse, but also in any other IDE (I&#39;m using NetBeans where you can configure it as custom goal definition).\r\n\r\nSimply run:\r\n\r\n    mvn com.github.ekryd.sortpom:sortpom-maven-plugin:sort -Dsort.sortDependencies=groupId,artifactId\r\nAt the GitHub wiki you can find [all parameters](https://github.com/Ekryd/sortpom/wiki/Parameters).\r\n\r\nBut as pointed out in the comments, sorting like this isn&#39;t a good idea. Let your IDE take care of it. NetBeans has a &quot;Dependencies&quot; folder in a project where the dependencies are shown sorted by default (first by type, then by name).","title":"Sort maven dependencies in Eclipse","body":"<p>I just ran into the <a href=\"https://github.com/Ekryd/sortpom\" rel=\"noreferrer\">Sortpom Maven Plugin</a>. This enables you to sort the dependencies in your pom using a Maven command. So you can use it in Eclipse, but also in any other IDE (I'm using NetBeans where you can configure it as custom goal definition).</p>\n\n<p>Simply run:</p>\n\n<pre><code>mvn com.github.ekryd.sortpom:sortpom-maven-plugin:sort -Dsort.sortDependencies=groupId,artifactId\n</code></pre>\n\n<p>At the GitHub wiki you can find <a href=\"https://github.com/Ekryd/sortpom/wiki/Parameters\" rel=\"noreferrer\">all parameters</a>.</p>\n\n<p>But as pointed out in the comments, sorting like this isn't a good idea. Let your IDE take care of it. NetBeans has a \"Dependencies\" folder in a project where the dependencies are shown sorted by default (first by type, then by name).</p>\n"},{"tags":[],"owner":{"account_id":2181152,"reputation":3524,"user_id":1930619,"display_name":"Jake Toronto"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1446233204,"creation_date":1446233204,"answer_id":33443513,"question_id":3812894,"body_markdown":"Maven&#39;s Pom viewer will do the trick:\r\n\r\nDouble-click the `pom.xml` you care about.  Eclipse opens it in a special viewer with five tabs on the bottom: Overview, Dependencies, Dependency Hierarchy, Effective POM, and pom.xml.\r\n\r\nClick `Dependency Hierarchy`.  You should see the following on the right side of the view:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt&#39;s alphabetized.\r\n\r\n  [1]: http://i.stack.imgur.com/SbmDq.png","title":"Sort maven dependencies in Eclipse","body":"<p>Maven's Pom viewer will do the trick:</p>\n\n<p>Double-click the <code>pom.xml</code> you care about.  Eclipse opens it in a special viewer with five tabs on the bottom: Overview, Dependencies, Dependency Hierarchy, Effective POM, and pom.xml.</p>\n\n<p>Click <code>Dependency Hierarchy</code>.  You should see the following on the right side of the view:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SbmDq.png\"><img src=\"https://i.stack.imgur.com/SbmDq.png\" alt=\"enter image description here\"></a></p>\n\n<p>It's alphabetized.</p>\n"},{"tags":[],"owner":{"account_id":10318428,"reputation":588,"user_id":10014950,"display_name":"Andreas Schaller"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1578383505,"creation_date":1535102237,"answer_id":52001216,"question_id":3812894,"body_markdown":"Finally it is possible with Eclipse Photon now.\r\n\r\nJust tick the checkbox `Sort library entries alphabetically in Package Explorer` under `Preferences` &amp;rarr; `Java` &amp;rarr; `Appearance`\r\n\r\nSee also [here](https://www.eclipse.org/photon/noteworthy/#java-views-and-dialogs) under &#39;Sort library entries alphabetically in Package Explorer&#39;.\r\n\r\nUnfortunately theres a bug, at least for me, that the source folders are also reordered, see [here](https://bugs.eclipse.org/bugs/show_bug.cgi?id=538236).\r\n\r\n[![preferences][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GNHSG.png","title":"Sort maven dependencies in Eclipse","body":"<p>Finally it is possible with Eclipse Photon now.</p>\n\n<p>Just tick the checkbox <code>Sort library entries alphabetically in Package Explorer</code> under <code>Preferences</code> &rarr; <code>Java</code> &rarr; <code>Appearance</code></p>\n\n<p>See also <a href=\"https://www.eclipse.org/photon/noteworthy/#java-views-and-dialogs\" rel=\"noreferrer\">here</a> under 'Sort library entries alphabetically in Package Explorer'.</p>\n\n<p>Unfortunately theres a bug, at least for me, that the source folders are also reordered, see <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=538236\" rel=\"noreferrer\">here</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GNHSG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GNHSG.png\" alt=\"preferences\"></a></p>\n"},{"tags":[],"owner":{"account_id":8018332,"reputation":132,"user_id":6047804,"display_name":"Gamebuster19901"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630275630,"creation_date":1630275630,"answer_id":68977352,"question_id":3812894,"body_markdown":"I had an issue where `Sort library entries alphabetically in Package Explorer` under `Preferences` → `Java` → `Appearance` was checked, but the dependencies were still unsorted.\r\n\r\nRight clicking the library path and clicking `Show in` -&gt; `System Explorer` fixed the issue for me.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jMfJx.png","title":"Sort maven dependencies in Eclipse","body":"<p>I had an issue where <code>Sort library entries alphabetically in Package Explorer</code> under <code>Preferences</code> → <code>Java</code> → <code>Appearance</code> was checked, but the dependencies were still unsorted.</p>\n<p>Right clicking the library path and clicking <code>Show in</code> -&gt; <code>System Explorer</code> fixed the issue for me.</p>\n<p><a href=\"https://i.stack.imgur.com/jMfJx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jMfJx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4902892,"reputation":543,"user_id":3950535,"display_name":"Martijn Dirkse"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647279317,"creation_date":1647279317,"answer_id":71471939,"question_id":3812894,"body_markdown":"It worked for me when I used the Java perspective instead of the Java EE perspective. On my computer, the dependencies were not sorted in the Java EE perspective, also not when I checked the checkbox in Java | Appearance. I had to choose the Java perspective instead. Then the checkbox did work and I could have sorted dependencies.","title":"Sort maven dependencies in Eclipse","body":"<p>It worked for me when I used the Java perspective instead of the Java EE perspective. On my computer, the dependencies were not sorted in the Java EE perspective, also not when I checked the checkbox in Java | Appearance. I had to choose the Java perspective instead. Then the checkbox did work and I could have sorted dependencies.</p>\n"}],"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22473,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":52001216,"answer_count":7,"score":80,"last_activity_date":1647279317,"creation_date":1285678514,"question_id":3812894,"body_markdown":"Just wanted to know if it is possible in Eclipse to sort Maven dependencies by alphabetical order?\r\n\r\nIt&#39;s bothering me to have a list of 200 jars not ordered... :(","title":"Sort maven dependencies in Eclipse","body":"<p>Just wanted to know if it is possible in Eclipse to sort Maven dependencies by alphabetical order?</p>\n\n<p>It's bothering me to have a list of 200 jars not ordered... :(</p>\n"},{"tags":["java","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"down_vote_count":1,"up_vote_count":375,"is_accepted":true,"score":374,"last_activity_date":1592943549,"creation_date":1360724611,"answer_id":14845734,"question_id":14845690,"body_markdown":"The error message outlines the solution. The line\r\n\r\n    doNothing().when(cmd).dnsCheck(HOST, any(InetAddressFactory.class))\r\n\r\nuses one raw value and one matcher, when it&#39;s required to use either all raw values or all matchers. A correct version might read\r\n\r\n    doNothing().when(cmd).dnsCheck(eq(HOST), any(InetAddressFactory.class))\r\n","title":"Mockito: InvalidUseOfMatchersException","body":"<p>The error message outlines the solution. The line</p>\n<pre><code>doNothing().when(cmd).dnsCheck(HOST, any(InetAddressFactory.class))\n</code></pre>\n<p>uses one raw value and one matcher, when it's required to use either all raw values or all matchers. A correct version might read</p>\n<pre><code>doNothing().when(cmd).dnsCheck(eq(HOST), any(InetAddressFactory.class))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1828331,"reputation":3481,"user_id":1660475,"accept_rate":67,"display_name":"sam"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1476223818,"creation_date":1433163317,"answer_id":30574079,"question_id":14845690,"body_markdown":"I had the same problem for a long time now, I often needed to mix Matchers and values and I never managed to do that with Mockito.... until recently !\r\nI put the solution here hoping it will help someone even if this post is quite old.\r\n\r\nIt is clearly not possible to use Matchers AND values together in Mockito, but what if there was a Matcher accepting to compare a variable ? That would solve the problem... and in fact there is : [eq][1] \r\n\r\n    when(recommendedAccessor.searchRecommendedHolidaysProduct(eq(metas), any(List.class), any(HotelsBoardBasisType.class), any(Config.class)))\r\n                .thenReturn(recommendedResults);\r\n\r\n In this example &#39;metas&#39; is an existing list of values\r\n\r\n\r\n  [1]: http://site.mockito.org/mockito/docs/current/org/mockito/ArgumentMatchers.html#eq(boolean)","title":"Mockito: InvalidUseOfMatchersException","body":"<p>I had the same problem for a long time now, I often needed to mix Matchers and values and I never managed to do that with Mockito.... until recently !\nI put the solution here hoping it will help someone even if this post is quite old.</p>\n\n<p>It is clearly not possible to use Matchers AND values together in Mockito, but what if there was a Matcher accepting to compare a variable ? That would solve the problem... and in fact there is : <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/ArgumentMatchers.html#eq(boolean)\" rel=\"noreferrer\">eq</a> </p>\n\n<pre><code>when(recommendedAccessor.searchRecommendedHolidaysProduct(eq(metas), any(List.class), any(HotelsBoardBasisType.class), any(Config.class)))\n            .thenReturn(recommendedResults);\n</code></pre>\n\n<p>In this example 'metas' is an existing list of values</p>\n"},{"tags":[],"owner":{"account_id":5275077,"reputation":5463,"user_id":4212150,"accept_rate":58,"display_name":"delucasvb"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1485438018,"creation_date":1485438018,"answer_id":41874791,"question_id":14845690,"body_markdown":"It might help some one in the future: Mockito doesn&#39;t support mocking of &#39;final&#39; methods (right now). It gave me the same `InvalidUseOfMatchersException`.\r\n\r\nThe solution for me was to put the part of the method that didn&#39;t have to be &#39;final&#39; in a separate, accessible and overridable method.\r\n\r\nReview the [Mockito API][1] for your use case.\r\n\r\n\r\n  [1]: https://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/Mockito.html","title":"Mockito: InvalidUseOfMatchersException","body":"<p>It might help some one in the future: Mockito doesn't support mocking of 'final' methods (right now). It gave me the same <code>InvalidUseOfMatchersException</code>.</p>\n\n<p>The solution for me was to put the part of the method that didn't have to be 'final' in a separate, accessible and overridable method.</p>\n\n<p>Review the <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/Mockito.html\" rel=\"noreferrer\">Mockito API</a> for your use case.</p>\n"},{"tags":[],"owner":{"account_id":9135869,"reputation":555,"user_id":6795572,"accept_rate":70,"display_name":"S Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529658434,"creation_date":1529658434,"answer_id":50984474,"question_id":14845690,"body_markdown":"Inspite of using all the matchers, I was getting the same issue:\r\n\r\n    &quot;org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\n    Invalid use of argument matchers!\r\n    1 matchers expected, 3 recorded:&quot;\r\n\r\nIt took me little while to figure this out that the method I was trying to mock was a static method of a class(say Xyz.class) which contains only static method and I forgot to write following line:\r\n\r\n    PowerMockito.mockStatic(Xyz.class);\r\n\r\nMay be it will help others as it may also be the cause of the issue.\r\n","title":"Mockito: InvalidUseOfMatchersException","body":"<p>Inspite of using all the matchers, I was getting the same issue:</p>\n\n<pre><code>\"org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \nInvalid use of argument matchers!\n1 matchers expected, 3 recorded:\"\n</code></pre>\n\n<p>It took me little while to figure this out that the method I was trying to mock was a static method of a class(say Xyz.class) which contains only static method and I forgot to write following line:</p>\n\n<pre><code>PowerMockito.mockStatic(Xyz.class);\n</code></pre>\n\n<p>May be it will help others as it may also be the cause of the issue.</p>\n"},{"tags":[],"owner":{"account_id":10932052,"reputation":12327,"user_id":8034839,"display_name":"shizhen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564637783,"creation_date":1564637783,"answer_id":57302399,"question_id":14845690,"body_markdown":"For my case, the exception was raised because I tried to mock a `package-access` method. When I changed the method access level from `package` to `protected` the exception went away. E.g. inside below Java class,\r\n\r\n```java\r\npublic class Foo {\r\n    String getName(String id) {\r\n        return mMap.get(id);\r\n    }\r\n}\r\n```\r\nthe method `String getName(String id)` has to be **AT LEAST** `protected` level so that the mocking mechanism (sub-classing) can work. \r\n","title":"Mockito: InvalidUseOfMatchersException","body":"<p>For my case, the exception was raised because I tried to mock a <code>package-access</code> method. When I changed the method access level from <code>package</code> to <code>protected</code> the exception went away. E.g. inside below Java class,</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n    String getName(String id) {\n        return mMap.get(id);\n    }\n}\n</code></pre>\n\n<p>the method <code>String getName(String id)</code> has to be <strong>AT LEAST</strong> <code>protected</code> level so that the mocking mechanism (sub-classing) can work. </p>\n"},{"tags":[],"owner":{"account_id":3412345,"reputation":1,"user_id":2862003,"display_name":"Dinesh Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1602801192,"creation_date":1602777343,"answer_id":64375379,"question_id":14845690,"body_markdown":"Do not use Mockito.anyXXXX(). Directly pass the value to the method parameter of same type.\r\nExample:\r\n\r\n    A expected = new A(10);\r\n    \r\n    String firstId = &quot;10w&quot;;\r\n    String secondId = &quot;20s&quot;;\r\n    String product = &quot;Test&quot;;\r\n    String type = &quot;type2&quot;;\r\n    Mockito.when(service.getTestData(firstId, secondId, product,type)).thenReturn(expected);\r\n    \r\n    public class A{\r\n       int a ;\r\n       public A(int a) {\r\n          this.a = a;\r\n       }\r\n    }","title":"Mockito: InvalidUseOfMatchersException","body":"<p>Do not use Mockito.anyXXXX(). Directly pass the value to the method parameter of same type.\nExample:</p>\n<pre><code>A expected = new A(10);\n\nString firstId = &quot;10w&quot;;\nString secondId = &quot;20s&quot;;\nString product = &quot;Test&quot;;\nString type = &quot;type2&quot;;\nMockito.when(service.getTestData(firstId, secondId, product,type)).thenReturn(expected);\n\npublic class A{\n   int a ;\n   public A(int a) {\n      this.a = a;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8184088,"reputation":289,"user_id":6160375,"display_name":"Alex Torson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611573735,"creation_date":1611573735,"answer_id":65883781,"question_id":14845690,"body_markdown":"May be helpful for somebody. Mocked method must be of **mocked class**, created with `mock(MyService.class)`","title":"Mockito: InvalidUseOfMatchersException","body":"<p>May be helpful for somebody. Mocked method must be of <strong>mocked class</strong>, created with <code>mock(MyService.class)</code></p>\n"},{"tags":[],"owner":{"account_id":2778233,"reputation":1072,"user_id":2391352,"display_name":"UnitasBrooks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647279301,"creation_date":1647279301,"answer_id":71471936,"question_id":14845690,"body_markdown":"Another option is to use a captor: https://www.baeldung.com/mockito-argumentcaptor\r\n\r\n    // assume deliver takes two values \r\n    @Captor\r\n    ArgumentCaptor&lt;String&gt; address; // declare before function call.\r\n    Mockito.verify(platform).deliver(address.capture(), any());\r\n    String value = address.getValue();\r\n    assertEquals(address == &quot;some@thing.com&quot;);\r\n\r\nCaptors are especially useful if say one member of the object you want to capture could be a random ID and another is something you can validate against.","title":"Mockito: InvalidUseOfMatchersException","body":"<p>Another option is to use a captor: <a href=\"https://www.baeldung.com/mockito-argumentcaptor\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-argumentcaptor</a></p>\n<pre><code>// assume deliver takes two values \n@Captor\nArgumentCaptor&lt;String&gt; address; // declare before function call.\nMockito.verify(platform).deliver(address.capture(), any());\nString value = address.getValue();\nassertEquals(address == &quot;some@thing.com&quot;);\n</code></pre>\n<p>Captors are especially useful if say one member of the object you want to capture could be a random ID and another is something you can validate against.</p>\n"}],"owner":{"account_id":1270084,"reputation":5416,"user_id":1226605,"accept_rate":86,"display_name":"devang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333794,"favorite_count":0,"down_vote_count":1,"up_vote_count":190,"accepted_answer_id":14845734,"answer_count":8,"score":189,"last_activity_date":1647279301,"creation_date":1360724182,"question_id":14845690,"body_markdown":"I have a command line tool that performs a DNS check. If the DNS check succeeds, the command proceeds with further tasks. I am trying to write unit tests for this using Mockito. Here&#39;s my code:\r\n\r\n    public class Command() {\r\n        // ....\r\n        void runCommand() {\r\n            // ..\r\n            dnsCheck(hostname, new InetAddressFactory());\r\n            // ..\r\n            // do other stuff after dnsCheck\r\n        }\r\n         \r\n        void dnsCheck(String hostname, InetAddressFactory factory) {\r\n            // calls to verify hostname\r\n        }\r\n    }\r\n\r\nI am using InetAddressFactory to mock a static implementation of the `InetAddress` class. Here&#39;s the code for the factory:\r\n\r\n    public class InetAddressFactory {\r\n        public InetAddress getByName(String host) throws UnknownHostException {\r\n            return InetAddress.getByName(host);\r\n        }\r\n    }\r\n\r\nHere&#39;s my unit test case:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class CmdTest {\r\n        \r\n        // many functional tests for dnsCheck\r\n\r\n        // here&#39;s the piece of code that is failing\r\n        // in this test I want to test the rest of the code (i.e. after dnsCheck)\r\n        @Test\r\n        void testPostDnsCheck() {\r\n            final Cmd cmd = spy(new Cmd());\r\n\r\n            // this line does not work, and it throws the exception below:\r\n            // tried using (InetAddressFactory) anyObject()\r\n            doNothing().when(cmd).dnsCheck(HOST, any(InetAddressFactory.class));\r\n            cmd.runCommand();\r\n        }\r\n    }\r\n\r\nException on running `testPostDnsCheck()` test:\r\n\r\n    org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\n    Invalid use of argument matchers!\r\n    2 matchers expected, 1 recorded.\r\n    This exception may occur if matchers are combined with raw values:\r\n        //incorrect:\r\n        someMethod(anyObject(), &quot;raw String&quot;);\r\n    When using matchers, all arguments have to be provided by matchers.\r\n    For example:\r\n        //correct:\r\n        someMethod(anyObject(), eq(&quot;String by matcher&quot;));\r\n\r\nAny input on how to solve this? ","title":"Mockito: InvalidUseOfMatchersException","body":"<p>I have a command line tool that performs a DNS check. If the DNS check succeeds, the command proceeds with further tasks. I am trying to write unit tests for this using Mockito. Here's my code:</p>\n\n<pre><code>public class Command() {\n    // ....\n    void runCommand() {\n        // ..\n        dnsCheck(hostname, new InetAddressFactory());\n        // ..\n        // do other stuff after dnsCheck\n    }\n\n    void dnsCheck(String hostname, InetAddressFactory factory) {\n        // calls to verify hostname\n    }\n}\n</code></pre>\n\n<p>I am using InetAddressFactory to mock a static implementation of the <code>InetAddress</code> class. Here's the code for the factory:</p>\n\n<pre><code>public class InetAddressFactory {\n    public InetAddress getByName(String host) throws UnknownHostException {\n        return InetAddress.getByName(host);\n    }\n}\n</code></pre>\n\n<p>Here's my unit test case:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class CmdTest {\n\n    // many functional tests for dnsCheck\n\n    // here's the piece of code that is failing\n    // in this test I want to test the rest of the code (i.e. after dnsCheck)\n    @Test\n    void testPostDnsCheck() {\n        final Cmd cmd = spy(new Cmd());\n\n        // this line does not work, and it throws the exception below:\n        // tried using (InetAddressFactory) anyObject()\n        doNothing().when(cmd).dnsCheck(HOST, any(InetAddressFactory.class));\n        cmd.runCommand();\n    }\n}\n</code></pre>\n\n<p>Exception on running <code>testPostDnsCheck()</code> test:</p>\n\n<pre><code>org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \nInvalid use of argument matchers!\n2 matchers expected, 1 recorded.\nThis exception may occur if matchers are combined with raw values:\n    //incorrect:\n    someMethod(anyObject(), \"raw String\");\nWhen using matchers, all arguments have to be provided by matchers.\nFor example:\n    //correct:\n    someMethod(anyObject(), eq(\"String by matcher\"));\n</code></pre>\n\n<p>Any input on how to solve this? </p>\n"},{"tags":["java","android","android-recyclerview","exoplayer2.x"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636580896,"creation_date":1607589822,"answer_id":65231148,"question_id":65229690,"body_markdown":"1. don&#39;t declare `PlayerView` and `SimpleExoPlayer` as `static`, this is wrong approach... you are keeping reference only to last video player instance and you want all of them to pause/stop all. every `HomeViewHolder` should keep only own player reference, `static` field keeps only one instance across all instances of reference-keeping class (&quot;owner&quot;, `HomeViewHolder`)\r\n\r\n2. remove all your `static` player stopping code from `onPause`, `onStop` and `onDestroy`, player instance (non-`static`) won&#39;t be accessible anyway\r\n\r\n3. override `onViewDetachedFromWindow(HomeVideoHolder holder)` and/or `onViewRecycled(HomeVideoHolder holder)` method(s) in adapter, in this place pause/stop this one player instance attached to single `HomeVideoHolder`\r\n\r\nlet adapter stop every player when single item gets recycled/detached, not only when destroying `Activity`/`Fragment`. currently you have probably some memory leaks, as started players may stay in memory playing some video and you don&#39;t have reference to it (only to last one, `static` field as above) for releasing resources... when you destroy `RecyclerView` then adapter attached to it will recycle/destroy all currently existing `HomeViewPager`s, to be shure you may `recyclerView.setAdapter(null)` in `onDestroy` (before `super` call). also check how this pattern (recycling views) works with some `Log` calls in all overriden-able methods of [RecyclerView.Adapter](https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.Adapter) starting with `on...` (e.g. like mentioned in 3.)","title":"Exoplayer stop not working in RecyclerView in Fragment","body":"<ol>\n<li><p>don't declare <code>PlayerView</code> and <code>SimpleExoPlayer</code> as <code>static</code>, this is wrong approach... you are keeping reference only to last video player instance and you want all of them to pause/stop all. every <code>HomeViewHolder</code> should keep only own player reference, <code>static</code> field keeps only one instance across all instances of reference-keeping class (&quot;owner&quot;, <code>HomeViewHolder</code>)</p>\n</li>\n<li><p>remove all your <code>static</code> player stopping code from <code>onPause</code>, <code>onStop</code> and <code>onDestroy</code>, player instance (non-<code>static</code>) won't be accessible anyway</p>\n</li>\n<li><p>override <code>onViewDetachedFromWindow(HomeVideoHolder holder)</code> and/or <code>onViewRecycled(HomeVideoHolder holder)</code> method(s) in adapter, in this place pause/stop this one player instance attached to single <code>HomeVideoHolder</code></p>\n</li>\n</ol>\n<p>let adapter stop every player when single item gets recycled/detached, not only when destroying <code>Activity</code>/<code>Fragment</code>. currently you have probably some memory leaks, as started players may stay in memory playing some video and you don't have reference to it (only to last one, <code>static</code> field as above) for releasing resources... when you destroy <code>RecyclerView</code> then adapter attached to it will recycle/destroy all currently existing <code>HomeViewPager</code>s, to be shure you may <code>recyclerView.setAdapter(null)</code> in <code>onDestroy</code> (before <code>super</code> call). also check how this pattern (recycling views) works with some <code>Log</code> calls in all overriden-able methods of <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.Adapter\" rel=\"nofollow noreferrer\">RecyclerView.Adapter</a> starting with <code>on...</code> (e.g. like mentioned in 3.)</p>\n"},{"tags":[],"owner":{"account_id":17520110,"reputation":37,"user_id":12706359,"display_name":"Binyamin Robbins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647279040,"creation_date":1647279040,"answer_id":71471890,"question_id":65229690,"body_markdown":"You should be keeping ONE instance of ExoPlayer. Create it in Activity and then pass to adapter through the constuctor. Here is my code:\r\nAdapter: \r\n`class VideoAdapter(\r\nprivate val mContext: Context, \r\nval exoPlayer: ExoPlayer, \r\noptions: FirestoreRecyclerOptions&lt;VideoModel?&gt;) :[...]`\r\n\r\n    exoPlayer\r\n    .also { exoPlayer -&gt;\r\n                    styledPlayerView.player = exoPlayer\r\n                    exoPlayer.seekTo(currentWindow, playbackPosition)\r\n                    styledPlayerView.setShowBuffering(StyledPlayerView.SHOW_BUFFERING_WHEN_PLAYING)\r\n                    styledPlayerView.useController = false\r\n                    exoPlayer.repeatMode = Player.REPEAT_MODE_ONE\r\n\r\n                }\r\n\r\nActivity:\r\n\r\n    private lateinit var exoPlayer: ExoPlayer [...]\r\n    exoPlayer = ExoPlayer.Builder(requireContext())\r\n            .build() [...]\r\n    videoAdapter = VideoAdapter(requireContext(), exoPlayer, options)\r\n\r\nthen in my Activities onStop() method:\r\n\r\n    override fun onStop() {\r\n        super.onStop()\r\n        videoAdapter.stopListening()\r\n        exoPlayer.release()\r\n    }","title":"Exoplayer stop not working in RecyclerView in Fragment","body":"<p>You should be keeping ONE instance of ExoPlayer. Create it in Activity and then pass to adapter through the constuctor. Here is my code:\nAdapter:\n<code>class VideoAdapter( private val mContext: Context,  val exoPlayer: ExoPlayer,  options: FirestoreRecyclerOptions&lt;VideoModel?&gt;) :[...]</code></p>\n<pre><code>exoPlayer\n.also { exoPlayer -&gt;\n                styledPlayerView.player = exoPlayer\n                exoPlayer.seekTo(currentWindow, playbackPosition)\n                styledPlayerView.setShowBuffering(StyledPlayerView.SHOW_BUFFERING_WHEN_PLAYING)\n                styledPlayerView.useController = false\n                exoPlayer.repeatMode = Player.REPEAT_MODE_ONE\n\n            }\n</code></pre>\n<p>Activity:</p>\n<pre><code>private lateinit var exoPlayer: ExoPlayer [...]\nexoPlayer = ExoPlayer.Builder(requireContext())\n        .build() [...]\nvideoAdapter = VideoAdapter(requireContext(), exoPlayer, options)\n</code></pre>\n<p>then in my Activities onStop() method:</p>\n<pre><code>override fun onStop() {\n    super.onStop()\n    videoAdapter.stopListening()\n    exoPlayer.release()\n}\n</code></pre>\n"}],"owner":{"account_id":19335310,"reputation":23,"user_id":14136014,"display_name":"SNPL NETWORK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1995,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65231148,"answer_count":2,"score":1,"last_activity_date":1647279040,"creation_date":1607582822,"question_id":65229690,"body_markdown":"I am using FirestorePagingAdapter for my RecyclerView. \r\n\r\nwhen fragment close I try to stop exoplayer in onStop, onPasue, onDestroy method but \r\nit not work properly, It stop only last video in Recycler view but I didn&#39;t understand \r\nwhat is the main problem here.\r\n\r\n```\r\n   @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        adapter.stopListening();\r\n        if (HomeVideoHolder.simpleExoPlayer != null) {\r\n            HomeVideoHolder.simpleExoPlayer.stop();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        adapter.stopListening();\r\n        if (HomeVideoHolder.simpleExoPlayer != null) {\r\n            HomeVideoHolder.simpleExoPlayer.stop();\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        adapter.stopListening();\r\n        if (HomeVideoHolder.simpleExoPlayer != null) {\r\n            HomeVideoHolder.simpleExoPlayer.stop();\r\n\r\n        }\r\n\r\n```\r\n\r\nI declared simpleExoplayer as a public static in HomeVideoHolder.\r\n\r\n```\r\n   public static PlayerView videoViewpath;\r\n    public static SimpleExoPlayer simpleExoPlayer;\r\n```\r\n\r\nI also try stop, release, setPlayWhenReady(false) and seek to end of the video\r\nto stop exoplayer.\r\n\r\nbut every method gave same result for me. They only stop last video of recyclerView.\r\n\r\nplease give me a solution for this problem......\r\n\r\n\r\nmy Adapter code...\r\n\r\n```\r\n        adapter=new FirestorePagingAdapter&lt;HomeClass, HomeVideoHolder&gt;(options) {\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull HomeVideoHolder holder, int position, @NonNull HomeClass model) {\r\n              \r\n             \r\n                    holder.setVideoView(getActivity(),model.getAd(),model.getpId(),model.getcUid(),model.getUid(),model.getPic(),model.getVideo(),model.getcT());\r\n                \r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public HomeVideoHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                return new HomeVideoHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.home_video_item,parent,false));\r\n            }\r\n\r\n            @Override\r\n            protected void onLoadingStateChanged(@NonNull LoadingState state) {\r\n                switch (state) {\r\n                    case LOADING_INITIAL:\r\n                        // The initial load has\r\n                        swipeRefreshLayout.setRefreshing(true);\r\n                        break;\r\n                    // ...\r\n                    case LOADING_MORE:\r\n                        // The adapter has started to load an additional page\r\n                        vLoadMore.setVisibility(View.VISIBLE);\r\n                        break;\r\n                    // ...\r\n                    case LOADED:\r\n                        // The previous load (either initial or additional) completed\r\n                        swipeRefreshLayout.setRefreshing(false);\r\n                        vLoadMore.setVisibility(View.INVISIBLE);\r\n                        break;\r\n\r\n                    // ...\r\n                    case FINISHED:\r\n                        vLoadMore.setVisibility(View.INVISIBLE);\r\n                        break;\r\n                    case ERROR:\r\n                        // The previous load (either initial or additional) failed. Call\r\n                        adapter.retry();\r\n                        swipeRefreshLayout.setRefreshing(true);\r\n                        // the retry() method in order to retry the load operation.\r\n                        break;\r\n                    // ...\r\n                }\r\n            }\r\n\r\n\r\n        };\r\n\r\n\r\n```\r\nmy viewHolder code....\r\n\r\n```\r\n public void setVideoView(Activity activity,String ad, String pId, String cUid, String uid, String pic, String video, String cT) {\r\n        final CircleImageView chanelProfile=view.findViewById(R.id.cPicH);\r\n        final TextView chanelName=view.findViewById(R.id.cNameH);\r\n        final TextView videoCaption=view.findViewById(R.id.vDesH);\r\n        final ImageView videoThreeDot=view.findViewById(R.id.threeDotHome);\r\n\r\n        Pkey=pId;\r\n        user=FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\r\n        videoCaption.setText(cT);\r\n\r\n        setPlayer(video);\r\n}\r\n\r\n    private void setPlayer(String video) {\r\n\r\n        if (playCode.equals(&quot;true&quot;)) {\r\n\r\n            LoadControl loadControl = new DefaultLoadControl();\r\n            BandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\r\n            TrackSelector trackSelector = new DefaultTrackSelector(\r\n                    new AdaptiveTrackSelection.Factory(bandwidthMeter)\r\n            );\r\n            simpleExoPlayer = ExoPlayerFactory.newSimpleInstance(\r\n                    view.getContext(), trackSelector, loadControl\r\n            );\r\n            DefaultHttpDataSourceFactory factory = new DefaultHttpDataSourceFactory(\r\n                    &quot;Video&quot;\r\n            );\r\n            ExtractorsFactory extractorsFactory = new DefaultExtractorsFactory();\r\n            MediaSource mediaSource = new ExtractorMediaSource(Uri.parse(Video),\r\n                    factory, extractorsFactory, null, null\r\n            );\r\n            videoViewpath.setPlayer(simpleExoPlayer);\r\n            videoViewpath.setKeepScreenOn(true);\r\n            simpleExoPlayer.prepare(mediaSource);\r\n            simpleExoPlayer.setPlayWhenReady(false);\r\n            simpleExoPlayer.addListener(new Player.DefaultEventListener() {\r\n                @Override\r\n                public void onTimelineChanged(Timeline timeline, Object manifest, int reason) {\r\n                    super.onTimelineChanged(timeline, manifest, reason);\r\n                }\r\n\r\n                @Override\r\n                public void onTracksChanged(TrackGroupArray trackGroups, TrackSelectionArray trackSelections) {\r\n                    super.onTracksChanged(trackGroups, trackSelections);\r\n                }\r\n\r\n                @Override\r\n                public void onLoadingChanged(boolean isLoading) {\r\n                    super.onLoadingChanged(isLoading);\r\n                }\r\n\r\n                @Override\r\n                public void onPlayerStateChanged(boolean playWhenReady, int playbackState) {\r\n                    super.onPlayerStateChanged(playWhenReady, playbackState);\r\n                    switch (playbackState) {\r\n\r\n                        case Player.STATE_BUFFERING:\r\n                            progressBar.setVisibility(View.VISIBLE);\r\n                            break;\r\n                        case Player.STATE_ENDED:\r\n\r\n                            break;\r\n                        case Player.STATE_IDLE:\r\n                            break;\r\n                        case Player.STATE_READY:\r\n                            addViwes();\r\n                            progressBar.setVisibility(View.INVISIBLE);\r\n                            break;\r\n                        default:\r\n                            break;\r\n\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onRepeatModeChanged(int repeatMode) {\r\n                    super.onRepeatModeChanged(repeatMode);\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onShuffleModeEnabledChanged(boolean shuffleModeEnabled) {\r\n                    super.onShuffleModeEnabledChanged(shuffleModeEnabled);\r\n                }\r\n\r\n                @Override\r\n                public void onPlayerError(ExoPlaybackException error) {\r\n                    super.onPlayerError(error);\r\n//                simpleExoPlayer.prepare(mediaSource);\r\n//                simpleExoPlayer.setPlayWhenReady(false);\r\n                }\r\n\r\n                @Override\r\n                public void onPositionDiscontinuity(int reason) {\r\n                    super.onPositionDiscontinuity(reason);\r\n                }\r\n\r\n                @Override\r\n                public void onPlaybackParametersChanged(PlaybackParameters playbackParameters) {\r\n                    super.onPlaybackParametersChanged(playbackParameters);\r\n                }\r\n\r\n                @Override\r\n                public void onSeekProcessed() {\r\n                    super.onSeekProcessed();\r\n                }\r\n            });\r\n\r\n        }else {\r\n                simpleExoPlayer.stop();\r\n                simpleExoPlayer.release();\r\n            simpleExoPlayer.clearVideoSurface();\r\n            videoViewpath.setPlayer(null);\r\n             }\r\n    }\r\n\r\n\r\n\r\n```\r\n\r\n","title":"Exoplayer stop not working in RecyclerView in Fragment","body":"<p>I am using FirestorePagingAdapter for my RecyclerView.</p>\n<p>when fragment close I try to stop exoplayer in onStop, onPasue, onDestroy method but\nit not work properly, It stop only last video in Recycler view but I didn't understand\nwhat is the main problem here.</p>\n<pre><code>   @Override\n    public void onStop() {\n        super.onStop();\n        adapter.stopListening();\n        if (HomeVideoHolder.simpleExoPlayer != null) {\n            HomeVideoHolder.simpleExoPlayer.stop();\n        }\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        adapter.stopListening();\n        if (HomeVideoHolder.simpleExoPlayer != null) {\n            HomeVideoHolder.simpleExoPlayer.stop();\n\n        }\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        adapter.stopListening();\n        if (HomeVideoHolder.simpleExoPlayer != null) {\n            HomeVideoHolder.simpleExoPlayer.stop();\n\n        }\n\n</code></pre>\n<p>I declared simpleExoplayer as a public static in HomeVideoHolder.</p>\n<pre><code>   public static PlayerView videoViewpath;\n    public static SimpleExoPlayer simpleExoPlayer;\n</code></pre>\n<p>I also try stop, release, setPlayWhenReady(false) and seek to end of the video\nto stop exoplayer.</p>\n<p>but every method gave same result for me. They only stop last video of recyclerView.</p>\n<p>please give me a solution for this problem......</p>\n<p>my Adapter code...</p>\n<pre><code>        adapter=new FirestorePagingAdapter&lt;HomeClass, HomeVideoHolder&gt;(options) {\n            @Override\n            protected void onBindViewHolder(@NonNull HomeVideoHolder holder, int position, @NonNull HomeClass model) {\n              \n             \n                    holder.setVideoView(getActivity(),model.getAd(),model.getpId(),model.getcUid(),model.getUid(),model.getPic(),model.getVideo(),model.getcT());\n                \n            }\n\n            @NonNull\n            @Override\n            public HomeVideoHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                return new HomeVideoHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.home_video_item,parent,false));\n            }\n\n            @Override\n            protected void onLoadingStateChanged(@NonNull LoadingState state) {\n                switch (state) {\n                    case LOADING_INITIAL:\n                        // The initial load has\n                        swipeRefreshLayout.setRefreshing(true);\n                        break;\n                    // ...\n                    case LOADING_MORE:\n                        // The adapter has started to load an additional page\n                        vLoadMore.setVisibility(View.VISIBLE);\n                        break;\n                    // ...\n                    case LOADED:\n                        // The previous load (either initial or additional) completed\n                        swipeRefreshLayout.setRefreshing(false);\n                        vLoadMore.setVisibility(View.INVISIBLE);\n                        break;\n\n                    // ...\n                    case FINISHED:\n                        vLoadMore.setVisibility(View.INVISIBLE);\n                        break;\n                    case ERROR:\n                        // The previous load (either initial or additional) failed. Call\n                        adapter.retry();\n                        swipeRefreshLayout.setRefreshing(true);\n                        // the retry() method in order to retry the load operation.\n                        break;\n                    // ...\n                }\n            }\n\n\n        };\n\n\n</code></pre>\n<p>my viewHolder code....</p>\n<pre><code> public void setVideoView(Activity activity,String ad, String pId, String cUid, String uid, String pic, String video, String cT) {\n        final CircleImageView chanelProfile=view.findViewById(R.id.cPicH);\n        final TextView chanelName=view.findViewById(R.id.cNameH);\n        final TextView videoCaption=view.findViewById(R.id.vDesH);\n        final ImageView videoThreeDot=view.findViewById(R.id.threeDotHome);\n\n        Pkey=pId;\n        user=FirebaseAuth.getInstance().getCurrentUser().getUid();\n\n        videoCaption.setText(cT);\n\n        setPlayer(video);\n}\n\n    private void setPlayer(String video) {\n\n        if (playCode.equals(&quot;true&quot;)) {\n\n            LoadControl loadControl = new DefaultLoadControl();\n            BandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\n            TrackSelector trackSelector = new DefaultTrackSelector(\n                    new AdaptiveTrackSelection.Factory(bandwidthMeter)\n            );\n            simpleExoPlayer = ExoPlayerFactory.newSimpleInstance(\n                    view.getContext(), trackSelector, loadControl\n            );\n            DefaultHttpDataSourceFactory factory = new DefaultHttpDataSourceFactory(\n                    &quot;Video&quot;\n            );\n            ExtractorsFactory extractorsFactory = new DefaultExtractorsFactory();\n            MediaSource mediaSource = new ExtractorMediaSource(Uri.parse(Video),\n                    factory, extractorsFactory, null, null\n            );\n            videoViewpath.setPlayer(simpleExoPlayer);\n            videoViewpath.setKeepScreenOn(true);\n            simpleExoPlayer.prepare(mediaSource);\n            simpleExoPlayer.setPlayWhenReady(false);\n            simpleExoPlayer.addListener(new Player.DefaultEventListener() {\n                @Override\n                public void onTimelineChanged(Timeline timeline, Object manifest, int reason) {\n                    super.onTimelineChanged(timeline, manifest, reason);\n                }\n\n                @Override\n                public void onTracksChanged(TrackGroupArray trackGroups, TrackSelectionArray trackSelections) {\n                    super.onTracksChanged(trackGroups, trackSelections);\n                }\n\n                @Override\n                public void onLoadingChanged(boolean isLoading) {\n                    super.onLoadingChanged(isLoading);\n                }\n\n                @Override\n                public void onPlayerStateChanged(boolean playWhenReady, int playbackState) {\n                    super.onPlayerStateChanged(playWhenReady, playbackState);\n                    switch (playbackState) {\n\n                        case Player.STATE_BUFFERING:\n                            progressBar.setVisibility(View.VISIBLE);\n                            break;\n                        case Player.STATE_ENDED:\n\n                            break;\n                        case Player.STATE_IDLE:\n                            break;\n                        case Player.STATE_READY:\n                            addViwes();\n                            progressBar.setVisibility(View.INVISIBLE);\n                            break;\n                        default:\n                            break;\n\n                    }\n                }\n\n                @Override\n                public void onRepeatModeChanged(int repeatMode) {\n                    super.onRepeatModeChanged(repeatMode);\n\n                }\n\n                @Override\n                public void onShuffleModeEnabledChanged(boolean shuffleModeEnabled) {\n                    super.onShuffleModeEnabledChanged(shuffleModeEnabled);\n                }\n\n                @Override\n                public void onPlayerError(ExoPlaybackException error) {\n                    super.onPlayerError(error);\n//                simpleExoPlayer.prepare(mediaSource);\n//                simpleExoPlayer.setPlayWhenReady(false);\n                }\n\n                @Override\n                public void onPositionDiscontinuity(int reason) {\n                    super.onPositionDiscontinuity(reason);\n                }\n\n                @Override\n                public void onPlaybackParametersChanged(PlaybackParameters playbackParameters) {\n                    super.onPlaybackParametersChanged(playbackParameters);\n                }\n\n                @Override\n                public void onSeekProcessed() {\n                    super.onSeekProcessed();\n                }\n            });\n\n        }else {\n                simpleExoPlayer.stop();\n                simpleExoPlayer.release();\n            simpleExoPlayer.clearVideoSurface();\n            videoViewpath.setPlayer(null);\n             }\n    }\n\n\n\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","jersey","jetty"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":1,"creation_date":1647279134,"post_id":71471770,"comment_id":126326440,"body_markdown":"There&#39;s no configuration for your shadow jar in your gradle build. (I would have expected at least a configured mergeServiceFiles entry)","body":"There&#39;s no configuration for your shadow jar in your gradle build. (I would have expected at least a configured mergeServiceFiles entry)"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1647280457,"post_id":71471770,"comment_id":126326893,"body_markdown":"When building a uber jar, without the merging of service files, the service loader can&#39;t load the required providers","body":"When building a uber jar, without the merging of service files, the service loader can&#39;t load the required providers"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1647297448,"post_id":71471770,"comment_id":126331914,"body_markdown":"What exactly is the error? The server is null because there was an exception and the server never got initialized. Also you kinda just swallow the exception. It doesn&#39;t really makes sense to continue if there is an exception creating the server.","body":"What exactly is the error? The server is null because there was an exception and the server never got initialized. Also you kinda just swallow the exception. It doesn&#39;t really makes sense to continue if there is an exception creating the server."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1647297685,"post_id":71471770,"comment_id":126331958,"body_markdown":"https://stackoverflow.com/q/53751401/2587435","body":"<a href=\"https://stackoverflow.com/q/53751401/2587435\">stackoverflow.com/q/53751401/2587435</a>"},{"owner":{"account_id":2800583,"reputation":351,"user_id":2408902,"display_name":"Mohan"},"score":0,"creation_date":1647354212,"post_id":71471770,"comment_id":126346585,"body_markdown":"After updating Jersey version to 2.35 it worked.","body":"After updating Jersey version to 2.35 it worked."}],"owner":{"account_id":2800583,"reputation":351,"user_id":2408902,"display_name":"Mohan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647278429,"creation_date":1647278429,"question_id":71471770,"body_markdown":"I have developed a small java application using Jersey + Jetty in Java 11. This works perfectly when running it in intelliJ but doesn&#39;t work from the Shadowjar. When I go to localhost:8080/hello no response or error. \r\n\r\nWhen I print server object, I&#39;m getting null during Shadowjar run.\r\n\r\nWhat am I doing wrong??\r\n\r\n```\r\npackage com.jettypoc;\r\n\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.glassfish.jersey.internal.util.JdkVersion;\r\nimport org.glassfish.jersey.jetty.JettyHttpContainerFactory;\r\nimport org.glassfish.jersey.server.ResourceConfig;\r\nimport org.jboss.weld.environment.se.Weld;\r\nimport org.jboss.weld.environment.se.WeldContainer;\r\n\r\nimport java.net.URI;\r\nimport java.util.Objects;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class MainApp {\r\n\r\n    public static final String BASE_URI = &quot;http://localhost:8080/&quot;;\r\n\r\n    public static Server startServer() {\r\n        Server server = null;\r\n    try {\r\n        //WeldContainer container = weld.initialize();\r\n        // scan packages\r\n        final ResourceConfig config = new ResourceConfig().packages(&quot;com.jettypoc&quot;);\r\n\r\n        //final ResourceConfig config = new ResourceConfig(MyResource.class);\r\n        System.out.println(&quot;JDK Version: &quot; + JdkVersion.getJdkVersion().getMajor());\r\n        server =\r\n                JettyHttpContainerFactory.createServer(URI.create(BASE_URI), config);\r\n        System.out.println(&quot;Server successfully initialized, waiting for start.&quot;);\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;Exception &quot; +e);\r\n    }\r\n    return server;\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        try {\r\n\r\n            final Server server = startServer();\r\n            if(Objects.isNull(server)) {\r\n                System.out.println(&quot;Server null&quot;);\r\n            } else {\r\n                System.out.println(&quot;Server Non null&quot;);\r\n                server.setDumpAfterStart(true);\r\n            }\r\n\r\n            Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n                try {\r\n                    System.out.println(&quot;Shutting down the application...&quot;);\r\n                    server.stop();\r\n                    System.out.println(&quot;Done, exit.&quot;);\r\n                } catch (Exception e) {\r\n                    Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, e);\r\n                }\r\n            }));\r\n\r\n            System.out.println(String.format(&quot;Application started.%nStop the application using CTRL+C&quot;));\r\n\r\n            // block and wait shut down signal, like CTRL+C\r\n            Thread.currentThread().join();\r\n\r\n            // alternative\r\n            // Thread.sleep(Long.MAX_VALUE);       // sleep forever...\r\n            // Thread.sleep(Integer.MAX_VALUE);    // sleep around 60+ years\r\n\r\n        } catch (InterruptedException ex) {\r\n            Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;com.github.johnrengelman.shadow&#39; version &#39;5.2.0&#39;\r\n}\r\n\r\ngroup &#39;com.jettypoc&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    jcenter()\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.glassfish.jersey.containers:jersey-container-jetty-http:3.0.2&#39;\r\n    implementation &#39;org.glassfish.jersey.inject:jersey-hk2:3.0.2&#39;\r\n    implementation &#39;jakarta.servlet:jakarta.servlet-api:5.0.0&#39;\r\n    implementation &#39;org.glassfish.jersey.media:jersey-media-json-jackson:3.0.2&#39;\r\n    implementation &#39;jakarta.activation:jakarta.activation-api:2.0.1&#39;\r\n    implementation group: &#39;log4j&#39;, name: &#39;log4j&#39;, version: &#39;1.2.15&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n","title":"jetty + Jersey works in intelliJ but fails in ShadowJar","body":"<p>I have developed a small java application using Jersey + Jetty in Java 11. This works perfectly when running it in intelliJ but doesn't work from the Shadowjar. When I go to localhost:8080/hello no response or error.</p>\n<p>When I print server object, I'm getting null during Shadowjar run.</p>\n<p>What am I doing wrong??</p>\n<pre><code>package com.jettypoc;\n\nimport org.eclipse.jetty.server.Server;\nimport org.glassfish.jersey.internal.util.JdkVersion;\nimport org.glassfish.jersey.jetty.JettyHttpContainerFactory;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.jboss.weld.environment.se.Weld;\nimport org.jboss.weld.environment.se.WeldContainer;\n\nimport java.net.URI;\nimport java.util.Objects;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class MainApp {\n\n    public static final String BASE_URI = &quot;http://localhost:8080/&quot;;\n\n    public static Server startServer() {\n        Server server = null;\n    try {\n        //WeldContainer container = weld.initialize();\n        // scan packages\n        final ResourceConfig config = new ResourceConfig().packages(&quot;com.jettypoc&quot;);\n\n        //final ResourceConfig config = new ResourceConfig(MyResource.class);\n        System.out.println(&quot;JDK Version: &quot; + JdkVersion.getJdkVersion().getMajor());\n        server =\n                JettyHttpContainerFactory.createServer(URI.create(BASE_URI), config);\n        System.out.println(&quot;Server successfully initialized, waiting for start.&quot;);\n    } catch (Exception e) {\n        System.out.println(&quot;Exception &quot; +e);\n    }\n    return server;\n\n    }\n\n    public static void main(String[] args) {\n\n        try {\n\n            final Server server = startServer();\n            if(Objects.isNull(server)) {\n                System.out.println(&quot;Server null&quot;);\n            } else {\n                System.out.println(&quot;Server Non null&quot;);\n                server.setDumpAfterStart(true);\n            }\n\n            Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n                try {\n                    System.out.println(&quot;Shutting down the application...&quot;);\n                    server.stop();\n                    System.out.println(&quot;Done, exit.&quot;);\n                } catch (Exception e) {\n                    Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, e);\n                }\n            }));\n\n            System.out.println(String.format(&quot;Application started.%nStop the application using CTRL+C&quot;));\n\n            // block and wait shut down signal, like CTRL+C\n            Thread.currentThread().join();\n\n            // alternative\n            // Thread.sleep(Long.MAX_VALUE);       // sleep forever...\n            // Thread.sleep(Integer.MAX_VALUE);    // sleep around 60+ years\n\n        } catch (InterruptedException ex) {\n            Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n\n}\n\n</code></pre>\n<pre><code>plugins {\n    id 'java'\n    id 'com.github.johnrengelman.shadow' version '5.2.0'\n}\n\ngroup 'com.jettypoc'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    jcenter()\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.glassfish.jersey.containers:jersey-container-jetty-http:3.0.2'\n    implementation 'org.glassfish.jersey.inject:jersey-hk2:3.0.2'\n    implementation 'jakarta.servlet:jakarta.servlet-api:5.0.0'\n    implementation 'org.glassfish.jersey.media:jersey-media-json-jackson:3.0.2'\n    implementation 'jakarta.activation:jakarta.activation-api:2.0.1'\n    implementation group: 'log4j', name: 'log4j', version: '1.2.15'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","spring","rest","outlook","slack"],"answers":[{"tags":[],"owner":{"account_id":131793,"reputation":64005,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647278093,"creation_date":1647278093,"answer_id":71471704,"question_id":71470688,"body_markdown":"Not much you can do about that.\r\n\r\nDo not use links as one-time actions. Add an extra step to your page that requires the user to explicitly click a link or a button.","title":"Catch link preview request in Spring Boot","body":"<p>Not much you can do about that.</p>\n<p>Do not use links as one-time actions. Add an extra step to your page that requires the user to explicitly click a link or a button.</p>\n"}],"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71471704,"answer_count":1,"score":0,"last_activity_date":1647278093,"creation_date":1647273499,"question_id":71470688,"body_markdown":"I have an application when kind of links are generated which can be clicked only once. For next click link is disabled.\r\n\r\nWhen the link is sent via Outlook or Slack or some other tool the request comes without even clicking it. I&#39;ve found that this is Link Previes request to get some information. Is there any chance to catch those request and avoid link deactivating on such requests?\r\n\r\nBiggest problem is that I can&#39;t test it in local environment so can&#39;t check how the request looks like because Outlook can&#39;t send preview link to localhost. I&#39;ve also found that there is a chance in Outlook to disable link preview request but it doesn&#39;t resolve that problem. I need to catch that on backend site somehow.\r\n\r\nAny ideas?\r\n\r\nhttps://support.microsoft.com/en-us/office/use-link-preview-in-outlook-com-and-outlook-on-the-web-ebbfd8ce-d38e-40ef-bb8c-a5362e881163\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6VJDM.png","title":"Catch link preview request in Spring Boot","body":"<p>I have an application when kind of links are generated which can be clicked only once. For next click link is disabled.</p>\n<p>When the link is sent via Outlook or Slack or some other tool the request comes without even clicking it. I've found that this is Link Previes request to get some information. Is there any chance to catch those request and avoid link deactivating on such requests?</p>\n<p>Biggest problem is that I can't test it in local environment so can't check how the request looks like because Outlook can't send preview link to localhost. I've also found that there is a chance in Outlook to disable link preview request but it doesn't resolve that problem. I need to catch that on backend site somehow.</p>\n<p>Any ideas?</p>\n<p><a href=\"https://support.microsoft.com/en-us/office/use-link-preview-in-outlook-com-and-outlook-on-the-web-ebbfd8ce-d38e-40ef-bb8c-a5362e881163\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/office/use-link-preview-in-outlook-com-and-outlook-on-the-web-ebbfd8ce-d38e-40ef-bb8c-a5362e881163</a></p>\n<p><a href=\"https://i.stack.imgur.com/6VJDM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6VJDM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","user-interface","layout","shapes"],"comments":[{"owner":{"account_id":8726421,"reputation":821,"user_id":15119028,"display_name":"Junaid Khalid"},"score":0,"creation_date":1647166836,"post_id":71455610,"comment_id":126298322,"body_markdown":"Try to google about drop shadow in android","body":"Try to google about drop shadow in android"},{"owner":{"display_name":"user17115124"},"score":0,"creation_date":1647170321,"post_id":71455610,"comment_id":126299049,"body_markdown":"Since I couldn&#39;t find anything like what I was looking for, I asked here anyway.","body":"Since I couldn&#39;t find anything like what I was looking for, I asked here anyway."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1647181711,"post_id":71455610,"comment_id":126301523,"body_markdown":"What is the question? What is your desired result?","body":"What is the question? What is your desired result?"},{"owner":{"display_name":"user17115124"},"score":0,"creation_date":1647214960,"post_id":71455610,"comment_id":126308584,"body_markdown":"@Darkman I want a white shape like in the picture: https://i.stack.imgur.com/86itL.png","body":"@Darkman I want a white shape like in the picture: <a href=\"https://i.stack.imgur.com/86itL.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/86itL.png</a>"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1647236834,"post_id":71455610,"comment_id":126311353,"body_markdown":"@test721 Shadow will overlap text?","body":"@test721 Shadow will overlap text?"}],"answers":[{"tags":[],"owner":{"account_id":14888087,"reputation":333,"user_id":10750674,"display_name":"Graziano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647277599,"creation_date":1647246221,"answer_id":71464792,"question_id":71455610,"body_markdown":"You should use a FrameLayout as root layout, and use an ImageView anchored to the bottom of the screen:\r\n\r\n```xml\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/id_framelayout&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.YourActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/green&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;@string/next&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;22sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n    /&gt;\r\n    &lt;LinearLayout\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_gravity=&quot;bottom&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n        \r\n        &lt;androidx.appcompat.widget.AppCompatImageView\r\n            android:src=&quot;@drawable/shadow&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;200dp&quot;\r\n        /&gt;\r\n        &lt;FrameLayout\r\n            android:background=&quot;@color/white&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;200dp&quot;&gt;\r\n           \r\n            &lt; IF YOU WANT, YOU CAN INSERT HERE YOUR BUTTON &gt;\r\n\r\n        &lt;/FrameLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\nThe shadow should be defined on `res/drawable/shadow.xml` as follows:\r\n\r\n```xml\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\tandroid:shape=&quot;rectangle&quot;&gt;\r\n\t&lt;gradient\r\n\t\tandroid:angle=&quot;-90&quot;\r\n\t\tandroid:endColor=&quot;#FFFFFF&quot;\r\n\t\tandroid:centerColor=&quot;#88FFFFFF&quot;\r\n\t\tandroid:startColor=&quot;@android:color/transparent&quot;\r\n\t\tandroid:type=&quot;linear&quot;&gt;\r\n\t&lt;/gradient&gt;\r\n&lt;/shape&gt;\r\n```","title":"How can I drop shadow background on Android?","body":"<p>You should use a FrameLayout as root layout, and use an ImageView anchored to the bottom of the screen:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/id_framelayout&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.YourActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/green&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;@string/next&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;22sp&quot;\n        android:textStyle=&quot;bold&quot;\n    /&gt;\n    &lt;LinearLayout\n        android:orientation=&quot;vertical&quot;\n        android:layout_gravity=&quot;bottom&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n        \n        &lt;androidx.appcompat.widget.AppCompatImageView\n            android:src=&quot;@drawable/shadow&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;200dp&quot;\n        /&gt;\n        &lt;FrameLayout\n            android:background=&quot;@color/white&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;200dp&quot;&gt;\n           \n            &lt; IF YOU WANT, YOU CAN INSERT HERE YOUR BUTTON &gt;\n\n        &lt;/FrameLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>The shadow should be defined on <code>res/drawable/shadow.xml</code> as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;&gt;\n    &lt;gradient\n        android:angle=&quot;-90&quot;\n        android:endColor=&quot;#FFFFFF&quot;\n        android:centerColor=&quot;#88FFFFFF&quot;\n        android:startColor=&quot;@android:color/transparent&quot;\n        android:type=&quot;linear&quot;&gt;\n    &lt;/gradient&gt;\n&lt;/shape&gt;\n</code></pre>\n"}],"owner":{"display_name":"user17115124"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1647277599,"creation_date":1647165495,"question_id":71455610,"body_markdown":"I want to add a background behind the button. I want to create an opaque shape from white color for this background.. I did this with a gradient, but I couldn&#39;t. I want to create a soft shape.. I want a white shape like in the picture\r\n\r\n ```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;gradient\r\n        android:angle=&quot;270&quot;\r\n        android:dither=&quot;false&quot;\r\n        android:endColor=&quot;#FFFFFF&quot;\r\n        android:startColor=&quot;#CCFFFFFF&quot; /&gt;\r\n    &lt;corners android:radius=&quot;5dp&quot; /&gt;\r\n&lt;/shape&gt;\r\n ```\r\n\r\n\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;bottom&quot;\r\n        android:background=&quot;@drawable/drop_shadow&quot; // here\r\n        android:paddingTop=&quot;16dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/button&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@color/green&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;@string/next&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;22sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rNmVd.jpg","title":"How can I drop shadow background on Android?","body":"<p>I want to add a background behind the button. I want to create an opaque shape from white color for this background.. I did this with a gradient, but I couldn't. I want to create a soft shape.. I want a white shape like in the picture</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n   &lt;gradient\n       android:angle=&quot;270&quot;\n       android:dither=&quot;false&quot;\n       android:endColor=&quot;#FFFFFF&quot;\n       android:startColor=&quot;#CCFFFFFF&quot; /&gt;\n   &lt;corners android:radius=&quot;5dp&quot; /&gt;\n&lt;/shape&gt;\n</code></pre>\n<pre><code>&lt;RelativeLayout\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_gravity=&quot;bottom&quot;\n    android:background=&quot;@drawable/drop_shadow&quot; // here\n    android:paddingTop=&quot;16dp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/green&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;@string/next&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;22sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/rNmVd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rNmVd.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","iterator","infinite"],"comments":[{"owner":{"account_id":38892,"reputation":1709,"user_id":111919,"display_name":"Khangharoth"},"score":0,"creation_date":1245400495,"post_id":1016605,"comment_id":826121,"body_markdown":"What could be requirement for this.If you just want to loop forever some elements then why to use Iterator?","body":"What could be requirement for this.If you just want to loop forever some elements then why to use Iterator?"},{"owner":{"account_id":26267,"reputation":18227,"user_id":68172,"accept_rate":98,"display_name":"Bobby"},"score":0,"creation_date":1245457663,"post_id":1016605,"comment_id":830163,"body_markdown":"If I were only using the iterator to access the objects via a while loop then there would be no point, but I&#39;m not so I use an iterator as it is the best fit for what I want to do.","body":"If I were only using the iterator to access the objects via a while loop then there would be no point, but I&#39;m not so I use an iterator as it is the best fit for what I want to do."}],"answers":[{"tags":[],"owner":{"account_id":42983,"reputation":3539,"user_id":125435,"accept_rate":78,"display_name":"mnuzzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1245393069,"creation_date":1245393069,"answer_id":1016612,"question_id":1016605,"body_markdown":"If you&#39;re making the iterator, in the next method you can have an if condition that checks if there&#39;s another object in the list.  If there is, then you return that object, if there isn&#39;t then you go back to the start of the list and return that object.","title":"How can I make an iterator that never ends?","body":"<p>If you're making the iterator, in the next method you can have an if condition that checks if there's another object in the list.  If there is, then you return that object, if there isn't then you go back to the start of the list and return that object.</p>\n"},{"tags":[],"owner":{"account_id":26267,"reputation":18227,"user_id":68172,"accept_rate":98,"display_name":"Bobby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1245393131,"creation_date":1245393131,"answer_id":1016619,"question_id":1016605,"body_markdown":"This is what I can think of...\r\n\r\n    iterator = set.getIterator\r\n    //other code\r\n    if (iterator.hasNext())\r\n        //do code here\r\n    else\r\n        iterator = set.getIterator();","title":"How can I make an iterator that never ends?","body":"<p>This is what I can think of...</p>\n\n<pre><code>iterator = set.getIterator\n//other code\nif (iterator.hasNext())\n    //do code here\nelse\n    iterator = set.getIterator();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1523355850,"creation_date":1245394024,"answer_id":1016650,"question_id":1016605,"body_markdown":"There&#39;s a method in the excellent [Google Collections][1] library which does this:\r\n\r\n    Set&lt;String&gt; names = ...;\r\n    Iterable&lt;String&gt; infinite = Iterables.cycle(names);\r\n\r\n(I can&#39;t recommend the Google Collections library strongly enough. It rocks very hard. I&#39;m biased as I work for Google, but I think pretty much every Googler writing Java would tell you how useful the collections are.)\r\n\r\n  [1]: https://github.com/google/guava","title":"How can I make an iterator that never ends?","body":"<p>There's a method in the excellent <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Google Collections</a> library which does this:</p>\n\n<pre><code>Set&lt;String&gt; names = ...;\nIterable&lt;String&gt; infinite = Iterables.cycle(names);\n</code></pre>\n\n<p>(I can't recommend the Google Collections library strongly enough. It rocks very hard. I'm biased as I work for Google, but I think pretty much every Googler writing Java would tell you how useful the collections are.)</p>\n"},{"tags":[],"owner":{"account_id":876647,"reputation":1405,"user_id":44605,"accept_rate":75,"display_name":"AlexC"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1245412525,"creation_date":1245412525,"answer_id":1017555,"question_id":1016605,"body_markdown":"    Iterator it = mylist.iterator();\r\n    while (it.hasNext())\r\n    {\r\n      MyType t = (MyType)it.next();\r\n    \r\n      // do something\r\n    \r\n      if (!it.hasNext())\r\n        it = mylist.iterator();\r\n    }\r\n\r\n","title":"How can I make an iterator that never ends?","body":"<pre><code>Iterator it = mylist.iterator();\nwhile (it.hasNext())\n{\n  MyType t = (MyType)it.next();\n\n  // do something\n\n  if (!it.hasNext())\n    it = mylist.iterator();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":606925,"reputation":1,"user_id":322726,"display_name":"Malid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271886678,"creation_date":1271886678,"answer_id":2686824,"question_id":1016605,"body_markdown":"I think what you want never help You can do anything with your iterator that&#39;s easy but you must be carefull with any new thing you add im not used with this style but this is what you want though :\r\n\r\nif (! It.hasNext() )\r\n{\r\nwhile ( It.hasPrevious() )\r\n{\r\nIt = It.Previous();\r\n}\r\n} else {\r\nIt = It.Next();\r\n}\r\n\r\nThis way is nothing if your really interested you should instead make next pointer of the last to the first always when pushing a new list.","title":"How can I make an iterator that never ends?","body":"<p>I think what you want never help You can do anything with your iterator that's easy but you must be carefull with any new thing you add im not used with this style but this is what you want though :</p>\n\n<p>if (! It.hasNext() )\n{\nwhile ( It.hasPrevious() )\n{\nIt = It.Previous();\n}\n} else {\nIt = It.Next();\n}</p>\n\n<p>This way is nothing if your really interested you should instead make next pointer of the last to the first always when pushing a new list.</p>\n"},{"tags":[],"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464155757,"creation_date":1464155757,"answer_id":37428838,"question_id":1016605,"body_markdown":"How about ?\r\n\r\n    List&lt;String&gt; list = // ArraysList\r\n    Interator&lt;String&gt; it = null;\r\n    \r\n    while(true) {\r\n     it = list.iterator();\r\n     while(it.hasNext()) {\r\n       System.out.println(it.next());\r\n     }\r\n    }","title":"How can I make an iterator that never ends?","body":"<p>How about ?</p>\n\n<pre><code>List&lt;String&gt; list = // ArraysList\nInterator&lt;String&gt; it = null;\n\nwhile(true) {\n it = list.iterator();\n while(it.hasNext()) {\n   System.out.println(it.next());\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":254817,"reputation":28628,"user_id":534471,"accept_rate":92,"display_name":"Emanuel Moecklin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497379521,"creation_date":1497379521,"answer_id":44529259,"question_id":1016605,"body_markdown":"If you don&#39;t want to use Guava but still want a reusable solution:\r\n\r\n    public static class CyclicIterator&lt;E, C extends Collection&lt;E&gt;&gt; implements Iterator&lt;E&gt; {\r\n        final private C mElements;\r\n        private Iterator&lt;E&gt; mIterator;\r\n    \r\n        public CyclicIterator(C elements) {\r\n            mElements = elements;\r\n            mIterator = elements.iterator();\r\n        }\r\n    \r\n        @Override\r\n        public boolean hasNext() {\r\n            if (! mIterator.hasNext()) {\r\n                mIterator = mElements.iterator();\r\n            }\r\n            return mIterator.hasNext();\r\n        }\r\n    \r\n        @Override\r\n        public E next() {\r\n            if (! mIterator.hasNext()) {\r\n                mIterator = mElements.iterator();\r\n            }\r\n            return mIterator.next();\r\n        }\r\n    }\r\n\r\nNote: this doesn&#39;t support the remove() method but it could easily be added if needed. Also it&#39;s not thread safe.\r\n","title":"How can I make an iterator that never ends?","body":"<p>If you don't want to use Guava but still want a reusable solution:</p>\n\n<pre><code>public static class CyclicIterator&lt;E, C extends Collection&lt;E&gt;&gt; implements Iterator&lt;E&gt; {\n    final private C mElements;\n    private Iterator&lt;E&gt; mIterator;\n\n    public CyclicIterator(C elements) {\n        mElements = elements;\n        mIterator = elements.iterator();\n    }\n\n    @Override\n    public boolean hasNext() {\n        if (! mIterator.hasNext()) {\n            mIterator = mElements.iterator();\n        }\n        return mIterator.hasNext();\n    }\n\n    @Override\n    public E next() {\n        if (! mIterator.hasNext()) {\n            mIterator = mElements.iterator();\n        }\n        return mIterator.next();\n    }\n}\n</code></pre>\n\n<p>Note: this doesn't support the remove() method but it could easily be added if needed. Also it's not thread safe.</p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499677664,"creation_date":1497863065,"answer_id":44626326,"question_id":1016605,"body_markdown":"Try [`EndlessIterator`](http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/EndlessIterator.html) from [Cactoos](http://www.cactoos.org):\r\n\r\n    Iterator&lt;String&gt; names = new EndlessIterator&lt;&gt;(&quot;John&quot;);\r\n\r\nIt will always return `&quot;John&quot;` and will never end.\r\n\r\nAlso, check [`EndlessIterable`](http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/EndlessIterable.html), which implements `Iterable` and does the same.","title":"How can I make an iterator that never ends?","body":"<p>Try <a href=\"http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/EndlessIterator.html\" rel=\"nofollow noreferrer\"><code>EndlessIterator</code></a> from <a href=\"http://www.cactoos.org\" rel=\"nofollow noreferrer\">Cactoos</a>:</p>\n\n<pre><code>Iterator&lt;String&gt; names = new EndlessIterator&lt;&gt;(\"John\");\n</code></pre>\n\n<p>It will always return <code>\"John\"</code> and will never end.</p>\n\n<p>Also, check <a href=\"http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/EndlessIterable.html\" rel=\"nofollow noreferrer\"><code>EndlessIterable</code></a>, which implements <code>Iterable</code> and does the same.</p>\n"},{"tags":[],"owner":{"account_id":296582,"reputation":386,"user_id":601627,"display_name":"bernstein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647277228,"creation_date":1647277228,"answer_id":71471530,"question_id":1016605,"body_markdown":"std jdk: \r\n```\r\nIterable&lt;String&gt; infinite = Stream.generate(names.stream()).flatMap(e -&gt; e).iterator()\r\n```","title":"How can I make an iterator that never ends?","body":"<p>std jdk:</p>\n<pre><code>Iterable&lt;String&gt; infinite = Stream.generate(names.stream()).flatMap(e -&gt; e).iterator()\n</code></pre>\n"}],"owner":{"account_id":26267,"reputation":18227,"user_id":68172,"accept_rate":98,"display_name":"Bobby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12430,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":1016650,"answer_count":9,"score":14,"last_activity_date":1647277228,"creation_date":1245392986,"question_id":1016605,"body_markdown":"I was just wondering what the easiest way to iterate over a set indefinitely, i.e. when it reaches the end it `next();` calls the first object. I&#39;m assuming that this is not an already predefined function in Java, so just looking for the easiest way to implement this in Java.","title":"How can I make an iterator that never ends?","body":"<p>I was just wondering what the easiest way to iterate over a set indefinitely, i.e. when it reaches the end it <code>next();</code> calls the first object. I'm assuming that this is not an already predefined function in Java, so just looking for the easiest way to implement this in Java.</p>\n"},{"tags":["java","interface","comments","javadoc"],"answers":[{"tags":[],"owner":{"account_id":61382,"reputation":74430,"user_id":182971,"accept_rate":72,"display_name":"Sjoerd"},"down_vote_count":3,"up_vote_count":36,"is_accepted":false,"score":33,"last_activity_date":1510760031,"creation_date":1276775890,"answer_id":3061408,"question_id":3061387,"body_markdown":"Both the implementation and the interface should have javadoc. With some tools, you can inherit the documentation of the interface with the @inheritDoc keyword.\r\n\r\n    /**\r\n     * @inheritDoc\r\n     *\r\n     * This implementation is very slow when b equals 3.\r\n     */\r\n    public foo(int b)\r\n    { ... }","title":"Should Javadoc comments be added to the implementation?","body":"<p>Both the implementation and the interface should have javadoc. With some tools, you can inherit the documentation of the interface with the @inheritDoc keyword.</p>\n\n<pre><code>/**\n * @inheritDoc\n *\n * This implementation is very slow when b equals 3.\n */\npublic foo(int b)\n{ ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1276775906,"creation_date":1276775906,"answer_id":3061411,"question_id":3061387,"body_markdown":"For the sake of generated javadoc yes it does matter. If you declare references to a concrete implementation using only the interface then it doesn&#39;t since interface&#39;s methods will be retrieved by the IDE.","title":"Should Javadoc comments be added to the implementation?","body":"<p>For the sake of generated javadoc yes it does matter. If you declare references to a concrete implementation using only the interface then it doesn't since interface's methods will be retrieved by the IDE.</p>\n"},{"tags":[],"owner":{"account_id":113933,"reputation":5618,"user_id":299843,"accept_rate":88,"display_name":"redben"},"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1647277174,"creation_date":1276775917,"answer_id":3061414,"question_id":3061387,"body_markdown":"`@see` It generates a link to the description in the interface. But I think it is good to add some details about the implementation too.\r\n","title":"Should Javadoc comments be added to the implementation?","body":"<p><code>@see</code> It generates a link to the description in the interface. But I think it is good to add some details about the implementation too.</p>\n"},{"tags":[],"owner":{"account_id":53499,"reputation":3171,"user_id":159946,"display_name":"Vanya"},"down_vote_count":3,"up_vote_count":31,"is_accepted":false,"score":28,"last_activity_date":1276775988,"creation_date":1276775988,"answer_id":3061418,"question_id":3061387,"body_markdown":"Somewhat good practice is to put\r\n \r\n\r\n    /**\r\n     * {@inheritDoc}\r\n     */\r\n\r\nas implementation&#39;s javadoc (unless there&#39;s something extra to be explained about the implementation&#39;s details).","title":"Should Javadoc comments be added to the implementation?","body":"<p>Somewhat good practice is to put</p>\n\n<pre><code>/**\n * {@inheritDoc}\n */\n</code></pre>\n\n<p>as implementation's javadoc (unless there's something extra to be explained about the implementation's details).</p>\n"},{"tags":[],"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1276785056,"creation_date":1276785056,"answer_id":3062566,"question_id":3061387,"body_markdown":"Sjoerd correctly says that both interface and implementation should have JavaDoc. The interface JavaDoc should define the contract of the method - what the method should do, what inputs it takes, what values it should return, and what it should do in cases of error.\r\n\r\nThe implementation documentation should note extensions or restrictions on the contract, and also appropriate details of the implementation, especially performance. \r\n\r\n","title":"Should Javadoc comments be added to the implementation?","body":"<p>Sjoerd correctly says that both interface and implementation should have JavaDoc. The interface JavaDoc should define the contract of the method - what the method should do, what inputs it takes, what values it should return, and what it should do in cases of error.</p>\n\n<p>The implementation documentation should note extensions or restrictions on the contract, and also appropriate details of the implementation, especially performance. </p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"down_vote_count":2,"up_vote_count":81,"is_accepted":true,"score":79,"last_activity_date":1461320085,"creation_date":1276785828,"answer_id":3062697,"question_id":3061387,"body_markdown":"For methods that are implementation only (not overrides), sure, why not, especially if they are public.\r\n\r\nIf you have an overriding situation and you are going to replicate any text, then definitely not. Replication is a surefire way of causing discrepancies. As a result, users would have a different understanding of your method based on whether they examine the method in the supertype or the subtype. Use `@inheritDoc` or don&#39;t provide a documentation - The IDEs will take the lowest available text to use in their Javadoc view. \r\n\r\nAs an aside, if your overriding version adds stuff to the documentation of the supertype, you could be in a world of trouble. I studied this problem during my PhD and found that in general folks will never be aware of the extra information in the overriding version if they are invoking through a supertype. \r\n\r\nAddressing this problem was one of the major feature of the prototype tool that I built - Whenever you invoked a method, you got an indication if its target or any potential overriding targets contained important information (e.g., a conflicting behavior). For instance, when invoking put on a map, you were reminded that if your implementation is a TreeMap, your elements need to be comparable.\r\n\r\n\r\n","title":"Should Javadoc comments be added to the implementation?","body":"<p>For methods that are implementation only (not overrides), sure, why not, especially if they are public.</p>\n\n<p>If you have an overriding situation and you are going to replicate any text, then definitely not. Replication is a surefire way of causing discrepancies. As a result, users would have a different understanding of your method based on whether they examine the method in the supertype or the subtype. Use <code>@inheritDoc</code> or don't provide a documentation - The IDEs will take the lowest available text to use in their Javadoc view. </p>\n\n<p>As an aside, if your overriding version adds stuff to the documentation of the supertype, you could be in a world of trouble. I studied this problem during my PhD and found that in general folks will never be aware of the extra information in the overriding version if they are invoking through a supertype. </p>\n\n<p>Addressing this problem was one of the major feature of the prototype tool that I built - Whenever you invoked a method, you got an indication if its target or any potential overriding targets contained important information (e.g., a conflicting behavior). For instance, when invoking put on a map, you were reminded that if your implementation is a TreeMap, your elements need to be comparable.</p>\n"},{"tags":[],"owner":{"account_id":1063749,"reputation":14067,"user_id":1064809,"accept_rate":70,"display_name":"Natix"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1476279874,"creation_date":1476200504,"answer_id":39981265,"question_id":3061387,"body_markdown":"Generally, when you override a method, you adhere to the contract defined in the base class/interface, so you don&#39;t want to change the original javadoc anyhow. Therefore the usage of `@inheritDoc` or `@see` tag mentioned in other answers is not needed and actually only serves as a noise in the code. All sensible tools inherit method javadoc from the superclass or interface as specified [here][1]:\r\n\r\n    Inherit from classes and interfaces - Inheriting of comments occurs in all\r\n    three possible cases of inheritance from classes and interfaces:\r\n    \r\n    - When a method in a class overrides a method in a superclass\r\n    - When a method in an interface overrides a method in a superinterface\r\n    - When a method in a class implements a method in an interface\r\n\r\nThe fact that some tools (I&#39;m looking at you, Eclipse!) generate these by default when overriding a method is only a sad state of things, but doesn&#39;t justify cluttering your code with useless noise.\r\n\r\n----------\r\n\r\nThere can of course be the opposite case, when you actually want to add a comment to the overriding method (usually some additional implementation details or making the contract a bit stricter). But in this case, you almost never want to do something like this:\r\n\r\n    /**\r\n     * {@inheritDoc}\r\n     *\r\n     * This implementation is very, very slow when b equals 3.\r\n     */\r\n\r\nWhy? Because the inherited comment can possibly be very long. In such case, who will notice the extra sentence at the end of the 3 long paragraphs?? Instead, just write down the piece of your own comment and that&#39;s all. All the javadoc tools always show some kind of *Specified by* link which you can click to read the base class comment. There is no point in mixing them.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/solaris/javadoc.html#inheritingcomments","title":"Should Javadoc comments be added to the implementation?","body":"<p>Generally, when you override a method, you adhere to the contract defined in the base class/interface, so you don't want to change the original javadoc anyhow. Therefore the usage of <code>@inheritDoc</code> or <code>@see</code> tag mentioned in other answers is not needed and actually only serves as a noise in the code. All sensible tools inherit method javadoc from the superclass or interface as specified <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/solaris/javadoc.html#inheritingcomments\" rel=\"noreferrer\">here</a>:</p>\n\n<pre><code>Inherit from classes and interfaces - Inheriting of comments occurs in all\nthree possible cases of inheritance from classes and interfaces:\n\n- When a method in a class overrides a method in a superclass\n- When a method in an interface overrides a method in a superinterface\n- When a method in a class implements a method in an interface\n</code></pre>\n\n<p>The fact that some tools (I'm looking at you, Eclipse!) generate these by default when overriding a method is only a sad state of things, but doesn't justify cluttering your code with useless noise.</p>\n\n<hr>\n\n<p>There can of course be the opposite case, when you actually want to add a comment to the overriding method (usually some additional implementation details or making the contract a bit stricter). But in this case, you almost never want to do something like this:</p>\n\n<pre><code>/**\n * {@inheritDoc}\n *\n * This implementation is very, very slow when b equals 3.\n */\n</code></pre>\n\n<p>Why? Because the inherited comment can possibly be very long. In such case, who will notice the extra sentence at the end of the 3 long paragraphs?? Instead, just write down the piece of your own comment and that's all. All the javadoc tools always show some kind of <em>Specified by</em> link which you can click to read the base class comment. There is no point in mixing them.</p>\n"}],"owner":{"account_id":87132,"reputation":5775,"user_id":241821,"accept_rate":81,"display_name":"Vaishak Suresh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76246,"favorite_count":0,"down_vote_count":0,"up_vote_count":123,"accepted_answer_id":3062697,"answer_count":7,"score":123,"last_activity_date":1647277174,"creation_date":1276775698,"question_id":3061387,"body_markdown":"Is it correct practice to add Javadoc comments in the interface and add non-Javadoc comments in the implementation?\r\n\r\nMost IDEs generate non-JavaDoc comments for implementations when you auto generate comments. Shouldn&#39;t the concrete method have the description?\r\n","title":"Should Javadoc comments be added to the implementation?","body":"<p>Is it correct practice to add Javadoc comments in the interface and add non-Javadoc comments in the implementation?</p>\n\n<p>Most IDEs generate non-JavaDoc comments for implementations when you auto generate comments. Shouldn't the concrete method have the description?</p>\n"},{"tags":["java","android","android-studio","runtime-error"],"answers":[{"tags":[],"owner":{"account_id":20965102,"reputation":93,"user_id":15409326,"display_name":"ACTPOHOM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647277096,"creation_date":1646550281,"answer_id":71368313,"question_id":71366942,"body_markdown":"try to use this code:\r\n```\r\n@RequiresApi(api = Build.VERSION_CODES.M)\r\n            private void updateGPS() {\r\n                fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\r\n\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                    fusedLocationProviderClient.getLastLocation().addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Location location) {\r\n                            updateUI(location);\r\n                        }\r\n                    });\r\n                } else {\r\n                    requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, rEQUESTCODE);\r\n                }\r\n            }\r\n```\r\n\r\nin onCreate code write\r\n\r\n```\r\nfusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\r\n\r\n```\r\n\r\ngradle:\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n\r\n\r\n    implementation &#39;com.google.android.gms:play-services-location:19.0.1&#39;\r\n\r\n}\r\n```","title":"TextFields not updating","body":"<p>try to use this code:</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.M)\n            private void updateGPS() {\n                fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\n\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n                    fusedLocationProviderClient.getLastLocation().addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\n                        @Override\n                        public void onSuccess(Location location) {\n                            updateUI(location);\n                        }\n                    });\n                } else {\n                    requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, rEQUESTCODE);\n                }\n            }\n</code></pre>\n<p>in onCreate code write</p>\n<pre><code>fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n\n</code></pre>\n<p>gradle:</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.3.0'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n\n\n    implementation 'com.google.android.gms:play-services-location:19.0.1'\n\n}\n</code></pre>\n"}],"owner":{"account_id":12518397,"reputation":13,"user_id":9110693,"display_name":"user9110693"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71368313,"answer_count":1,"score":2,"last_activity_date":1647277096,"creation_date":1646527317,"question_id":71366942,"body_markdown":"New to android development and been trying to follow a tutorial for a gps location app in android studio, but for some reason the text field are not updating.\r\n\r\nHere is the tutorial i have been following :-\r\n[[Android Studio Tutorial - Build a GPS App][1]][1]\r\n\r\n...................................................................................................................................................................................................................................................................\r\nHere is the code :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    TextView longi,lat;\r\n    Switch share;\r\n\r\n    // google play service api\r\n    FusedLocationProviderClient fusedLocationProviderClient;\r\n    // location request service\r\n    LocationRequest locationRequest;\r\n    private static final int sETINTERVAL=30;\r\n    private static final int fASTESTINTERVAL=5;\r\n    public static final int rEQUESTCODE=1;\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        longi = findViewById(R.id.longi);\r\n        lat   = findViewById(R.id.lat);\r\n        share = findViewById(R.id.share);\r\n\r\n        locationRequest = LocationRequest.create();\r\n\r\n        locationRequest.setInterval(1000 * sETINTERVAL);\r\n        locationRequest.setFastestInterval(1000 * fASTESTINTERVAL);\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n\r\n        share.setOnClickListener(v -&gt; {\r\n            if(share.isChecked()){\r\n                share.setText(&quot;ON&quot;);\r\n                updateGPS();\r\n            }\r\n            else{\r\n                share.setText(&quot;OFF&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        switch (requestCode){\r\n            case rEQUESTCODE:\r\n                if(grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                    updateGPS();\r\n                }\r\n                else{\r\n                    Toast.makeText(this, &quot;Requires location permission&quot;, Toast.LENGTH_SHORT).show();\r\n                    finish();\r\n                }\r\n                break;\r\n            default:\r\n                throw new IllegalStateException(&quot;Unexpected value: &quot; + requestCode);\r\n        };\r\n    }\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    private void updateGPS(){\r\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\r\n\r\n        if(ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED){\r\n            fusedLocationProviderClient.getLastLocation().addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\r\n                @Override\r\n                public void onSuccess(Location location) {\r\n                    updateUI(location);\r\n                }\r\n            });\r\n        }\r\n        else{\r\n            requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION},rEQUESTCODE);\r\n        }\r\n    }\r\n\r\n    private void updateUI(Location location){\r\n        lat.setText(String.valueOf(location.getLatitude()));\r\n        longi.setText(String.valueOf(location.getLongitude()));\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=_xUcYfbtfsI","title":"TextFields not updating","body":"<p>New to android development and been trying to follow a tutorial for a gps location app in android studio, but for some reason the text field are not updating.</p>\n<p>Here is the tutorial i have been following :-\n[<a href=\"https://www.youtube.com/watch?v=_xUcYfbtfsI\" rel=\"nofollow noreferrer\">Android Studio Tutorial - Build a GPS App</a>]<a href=\"https://www.youtube.com/watch?v=_xUcYfbtfsI\" rel=\"nofollow noreferrer\">1</a></p>\n<p>...................................................................................................................................................................................................................................................................\nHere is the code :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nTextView longi,lat;\nSwitch share;\n\n// google play service api\nFusedLocationProviderClient fusedLocationProviderClient;\n// location request service\nLocationRequest locationRequest;\nprivate static final int sETINTERVAL=30;\nprivate static final int fASTESTINTERVAL=5;\npublic static final int rEQUESTCODE=1;\n\n@RequiresApi(api = Build.VERSION_CODES.M)\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    longi = findViewById(R.id.longi);\n    lat   = findViewById(R.id.lat);\n    share = findViewById(R.id.share);\n\n    locationRequest = LocationRequest.create();\n\n    locationRequest.setInterval(1000 * sETINTERVAL);\n    locationRequest.setFastestInterval(1000 * fASTESTINTERVAL);\n    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n\n    share.setOnClickListener(v -&gt; {\n        if(share.isChecked()){\n            share.setText(&quot;ON&quot;);\n            updateGPS();\n        }\n        else{\n            share.setText(&quot;OFF&quot;);\n        }\n    });\n}\n\n@RequiresApi(api = Build.VERSION_CODES.M)\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    switch (requestCode){\n        case rEQUESTCODE:\n            if(grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                updateGPS();\n            }\n            else{\n                Toast.makeText(this, &quot;Requires location permission&quot;, Toast.LENGTH_SHORT).show();\n                finish();\n            }\n            break;\n        default:\n            throw new IllegalStateException(&quot;Unexpected value: &quot; + requestCode);\n    };\n}\n\n\n@RequiresApi(api = Build.VERSION_CODES.M)\nprivate void updateGPS(){\n    fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\n\n    if(ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED){\n        fusedLocationProviderClient.getLastLocation().addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\n            @Override\n            public void onSuccess(Location location) {\n                updateUI(location);\n            }\n        });\n    }\n    else{\n        requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION},rEQUESTCODE);\n    }\n}\n\nprivate void updateUI(Location location){\n    lat.setText(String.valueOf(location.getLatitude()));\n    longi.setText(String.valueOf(location.getLongitude()));\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","sqlite","stack-overflow"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1364991520,"post_id":15787086,"comment_id":22445184,"body_markdown":"hmmm use better names for variables ... now all vars have name `opis` (`TextView`, `Intent`, `String` ...) ... with this line `opis.putExtra(&quot;poslatOpis&quot;, opis);` you put `Intent`(not `String`) to `Intent` as Extra ... and thats why you ended with StackOverflow ...","body":"hmmm use better names for variables ... now all vars have name <code>opis</code> (<code>TextView</code>, <code>Intent</code>, <code>String</code> ...) ... with this line <code>opis.putExtra(&quot;poslatOpis&quot;, opis);</code> you put <code>Intent</code>(not <code>String</code>) to <code>Intent</code> as Extra ... and thats why you ended with StackOverflow ..."},{"owner":{"account_id":1914082,"reputation":20095,"user_id":1727092,"accept_rate":100,"display_name":"Pragnani"},"score":0,"creation_date":1364991602,"post_id":15787086,"comment_id":22445214,"body_markdown":"If you observe the stack trace,     `writeMapInternal , writeToParcel , writeBundle`  are executing recursively which cause the Stackoverflow Exception, please post your previous activity code","body":"If you observe the stack trace,     <code>writeMapInternal , writeToParcel , writeBundle</code>  are executing recursively which cause the Stackoverflow Exception, please post your previous activity code"}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1364991604,"creation_date":1364991604,"answer_id":15787218,"question_id":15787086,"body_markdown":"    Intent opis = new Intent(getApplicationContext(), Popup_opis.class);\r\n    opis.putExtra(&quot;poslatOpis&quot;, opis);\r\n\r\nYou are putting your `opis`intent inside your intent extras, creating infinite recursion when parceled. Use a different variable name for the intent and `poslatOpis`.","title":"java.lang.StackOverflowError","body":"<pre><code>Intent opis = new Intent(getApplicationContext(), Popup_opis.class);\nopis.putExtra(\"poslatOpis\", opis);\n</code></pre>\n\n<p>You are putting your <code>opis</code>intent inside your intent extras, creating infinite recursion when parceled. Use a different variable name for the intent and <code>poslatOpis</code>.</p>\n"},{"tags":[],"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364991745,"creation_date":1364991745,"answer_id":15787264,"question_id":15787086,"body_markdown":"Both the `Intent` and the `String` are named opis. You are probably parceling the Intent. Parcel the string as the extra instead.","title":"java.lang.StackOverflowError","body":"<p>Both the <code>Intent</code> and the <code>String</code> are named opis. You are probably parceling the Intent. Parcel the string as the extra instead.</p>\n"},{"tags":[],"owner":{"account_id":116320,"reputation":2536,"user_id":305046,"accept_rate":70,"display_name":"Flexo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364991951,"creation_date":1364991951,"answer_id":15787342,"question_id":15787086,"body_markdown":"    // Change\r\n    opis = c.getString(11);\r\n    // to\r\n    opisString = c.getString(11);\r\n\r\n    // and change\r\n    opis.putExtra(&quot;poslatOpis&quot;, opis);\r\n    // to\r\n    opis.putExtra(&quot;poslatOpis&quot;, opisString);\r\n\r\n\r\n","title":"java.lang.StackOverflowError","body":"<pre><code>// Change\nopis = c.getString(11);\n// to\nopisString = c.getString(11);\n\n// and change\nopis.putExtra(\"poslatOpis\", opis);\n// to\nopis.putExtra(\"poslatOpis\", opisString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3875614,"reputation":4608,"user_id":3209739,"accept_rate":60,"display_name":"cgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647276910,"creation_date":1647276910,"answer_id":71471457,"question_id":15787086,"body_markdown":"Had this stackOverflowError. Problem in my case was that one of the properties of my data class constructor was the Bundle which is a Parcelable as well. It tried to parcel the parcelable and so the recursion.","title":"java.lang.StackOverflowError","body":"<p>Had this stackOverflowError. Problem in my case was that one of the properties of my data class constructor was the Bundle which is a Parcelable as well. It tried to parcel the parcelable and so the recursion.</p>\n"}],"owner":{"account_id":2570653,"reputation":1042,"user_id":2229473,"accept_rate":49,"display_name":"marjanbaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9939,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":15787218,"answer_count":4,"score":6,"last_activity_date":1647276910,"creation_date":1364991250,"question_id":15787086,"body_markdown":"I get some text from my sqlite database and place it in a variable:\r\n\r\n    opis = c.getString(11);\r\n\r\nCursor works fine in the rest of my app.\r\nNow I call another activity with an intent and send it the string:\r\n\r\n    Intent opis = new Intent(getApplicationContext(), Popup_opis.class);\r\n    opis.putExtra(&quot;poslatOpis&quot;, opis);\r\n    startActivity(opis);\r\n\r\nIn that class I take that string and place it in another one, and then set that text to a TextView. That popup activity works fine when I call it with just word &quot;text&quot; in that TextView. Now, here&#39;s that activity:\r\n\r\n    public class Popup_opis extends Activity{\r\n    \t\r\n    \tTextView opis;\r\n    \tString poslatOpis, primljenOpis;\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\t\r\n    \t\trequestWindowFeature(Window.FEATURE_NO_TITLE);\r\n    \t\tgetWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n    \t\t\r\n    \t\tsetContentView(R.layout.popup_opis);\r\n    \t\t\r\n    \t\tBundle extras = getIntent().getExtras(); \r\n    \t    if(extras !=null) {\r\n    \t       primljenOpis = extras.getString(&quot;poslatOpis&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tinitVariables();\r\n    \t\t\r\n    \t}\r\n    \r\n    \tprivate void initVariables() {\r\n    \t\tTypeface tv = Typeface.createFromAsset(getAssets(), &quot;ARIALN.TTF&quot;);\r\n    \t\topis = (TextView) findViewById(R.id.tvOpis);\r\n    \t\topis.setTypeface(tv);\r\n    \t\topis.setText(primljenOpis);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd here&#39;s the LogCat:\r\n\r\n\r\n\r\n\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): FATAL EXCEPTION: main\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): java.lang.StackOverflowError\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeMapInternal(Parcel.java:484)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Bundle.writeToParcel(Bundle.java:1552)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeBundle(Parcel.java:502)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.content.Intent.writeToParcel(Intent.java:5503)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeParcelable(Parcel.java:1151)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeValue(Parcel.java:1070)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeMapInternal(Parcel.java:488)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Bundle.writeToParcel(Bundle.java:1552)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeBundle(Parcel.java:502)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.content.Intent.writeToParcel(Intent.java:5503)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeParcelable(Parcel.java:1151)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeValue(Parcel.java:1070)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeMapInternal(Parcel.java:488)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Bundle.writeToParcel(Bundle.java:1552)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeBundle(Parcel.java:502)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.content.Intent.writeToParcel(Intent.java:5503)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeParcelable(Parcel.java:1151)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeValue(Parcel.java:1070)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeMapInternal(Parcel.java:488)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Bundle.writeToParcel(Bundle.java:1552)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeBundle(Parcel.java:502)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.content.Intent.writeToParcel(Intent.java:5503)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeParcelable(Parcel.java:1151)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeValue(Parcel.java:1070)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeMapInternal(Parcel.java:488)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Bundle.writeToParcel(Bundle.java:1552)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeBundle(Parcel.java:502)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.content.Intent.writeToParcel(Intent.java:5503)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeParcelable(Parcel.java:1151)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeValue(Parcel.java:1070)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeMapInternal(Parcel.java:488)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Bundle.writeToParcel(Bundle.java:1552)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeBundle(Parcel.java:502)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.content.Intent.writeToParcel(Intent.java:5503)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeParcelable(Parcel.java:1151)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeValue(Parcel.java:1070)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeMapInternal(Parcel.java:488)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Bundle.writeToParcel(Bundle.java:1552)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeBundle(Parcel.java:502)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.content.Intent.writeToParcel(Intent.java:5503)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeParcelable(Parcel.java:1151)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeValue(Parcel.java:1070)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeMapInternal(Parcel.java:488)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Bundle.writeToParcel(Bundle.java:1552)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeBundle(Parcel.java:502)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.content.Intent.writeToParcel(Intent.java:5503)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeParcelable(Parcel.java:1151)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeValue(Parcel.java:1070)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeMapInternal(Parcel.java:488)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Bundle.writeToParcel(Bundle.java:1552)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeBundle(Parcel.java:502)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.content.Intent.writeToParcel(Intent.java:5503)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeParcelable(Parcel.java:1151)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeValue(Parcel.java:1070)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeMapInternal(Parcel.java:488)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Bundle.writeToParcel(Bundle.java:1552)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeBundle(Parcel.java:502)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.content.Intent.writeToParcel(Intent.java:5503)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeParcelable(Parcel.java:1151)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeValue(Parcel.java:1070)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeMapInternal(Parcel.java:488)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Bundle.writeToParcel(Bundle.java:1552)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeBundle(Parcel.java:502)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.content.Intent.writeToParcel(Intent.java:5503)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeParcelable(Parcel.java:1151)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeValue(Parcel.java:1070)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeMapInternal(Parcel.java:488)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Bundle.writeToParcel(Bundle.java:1552)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeBundle(Parcel.java:502)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.content.Intent.writeToParcel(Intent.java:5503)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeParcelable(Parcel.java:1151)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeValue(Parcel.java:1070)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Parcel.writeMapInternal(Parcel.java:488)\r\n    04-03 13:59:54.424: E/AndroidRuntime(28413): \tat android.os.Bundle.writeT\r\n\r\n\r\nWhat am I doing wrong?\r\n\r\n","title":"java.lang.StackOverflowError","body":"<p>I get some text from my sqlite database and place it in a variable:</p>\n\n<pre><code>opis = c.getString(11);\n</code></pre>\n\n<p>Cursor works fine in the rest of my app.\nNow I call another activity with an intent and send it the string:</p>\n\n<pre><code>Intent opis = new Intent(getApplicationContext(), Popup_opis.class);\nopis.putExtra(\"poslatOpis\", opis);\nstartActivity(opis);\n</code></pre>\n\n<p>In that class I take that string and place it in another one, and then set that text to a TextView. That popup activity works fine when I call it with just word \"text\" in that TextView. Now, here's that activity:</p>\n\n<pre><code>public class Popup_opis extends Activity{\n\n    TextView opis;\n    String poslatOpis, primljenOpis;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n        setContentView(R.layout.popup_opis);\n\n        Bundle extras = getIntent().getExtras(); \n        if(extras !=null) {\n           primljenOpis = extras.getString(\"poslatOpis\");\n        }\n\n        initVariables();\n\n    }\n\n    private void initVariables() {\n        Typeface tv = Typeface.createFromAsset(getAssets(), \"ARIALN.TTF\");\n        opis = (TextView) findViewById(R.id.tvOpis);\n        opis.setTypeface(tv);\n        opis.setText(primljenOpis);\n\n    }\n\n}\n</code></pre>\n\n<p>And here's the LogCat:</p>\n\n<pre><code>04-03 13:59:54.424: E/AndroidRuntime(28413): FATAL EXCEPTION: main\n04-03 13:59:54.424: E/AndroidRuntime(28413): java.lang.StackOverflowError\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeMapInternal(Parcel.java:484)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Bundle.writeToParcel(Bundle.java:1552)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeBundle(Parcel.java:502)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.content.Intent.writeToParcel(Intent.java:5503)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeParcelable(Parcel.java:1151)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeValue(Parcel.java:1070)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeMapInternal(Parcel.java:488)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Bundle.writeToParcel(Bundle.java:1552)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeBundle(Parcel.java:502)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.content.Intent.writeToParcel(Intent.java:5503)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeParcelable(Parcel.java:1151)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeValue(Parcel.java:1070)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeMapInternal(Parcel.java:488)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Bundle.writeToParcel(Bundle.java:1552)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeBundle(Parcel.java:502)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.content.Intent.writeToParcel(Intent.java:5503)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeParcelable(Parcel.java:1151)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeValue(Parcel.java:1070)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeMapInternal(Parcel.java:488)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Bundle.writeToParcel(Bundle.java:1552)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeBundle(Parcel.java:502)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.content.Intent.writeToParcel(Intent.java:5503)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeParcelable(Parcel.java:1151)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeValue(Parcel.java:1070)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeMapInternal(Parcel.java:488)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Bundle.writeToParcel(Bundle.java:1552)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeBundle(Parcel.java:502)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.content.Intent.writeToParcel(Intent.java:5503)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeParcelable(Parcel.java:1151)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeValue(Parcel.java:1070)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeMapInternal(Parcel.java:488)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Bundle.writeToParcel(Bundle.java:1552)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeBundle(Parcel.java:502)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.content.Intent.writeToParcel(Intent.java:5503)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeParcelable(Parcel.java:1151)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeValue(Parcel.java:1070)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeMapInternal(Parcel.java:488)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Bundle.writeToParcel(Bundle.java:1552)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeBundle(Parcel.java:502)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.content.Intent.writeToParcel(Intent.java:5503)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeParcelable(Parcel.java:1151)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeValue(Parcel.java:1070)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeMapInternal(Parcel.java:488)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Bundle.writeToParcel(Bundle.java:1552)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeBundle(Parcel.java:502)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.content.Intent.writeToParcel(Intent.java:5503)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeParcelable(Parcel.java:1151)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeValue(Parcel.java:1070)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeMapInternal(Parcel.java:488)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Bundle.writeToParcel(Bundle.java:1552)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeBundle(Parcel.java:502)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.content.Intent.writeToParcel(Intent.java:5503)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeParcelable(Parcel.java:1151)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeValue(Parcel.java:1070)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeMapInternal(Parcel.java:488)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Bundle.writeToParcel(Bundle.java:1552)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeBundle(Parcel.java:502)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.content.Intent.writeToParcel(Intent.java:5503)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeParcelable(Parcel.java:1151)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeValue(Parcel.java:1070)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeMapInternal(Parcel.java:488)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Bundle.writeToParcel(Bundle.java:1552)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeBundle(Parcel.java:502)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.content.Intent.writeToParcel(Intent.java:5503)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeParcelable(Parcel.java:1151)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeValue(Parcel.java:1070)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeMapInternal(Parcel.java:488)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Bundle.writeToParcel(Bundle.java:1552)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeBundle(Parcel.java:502)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.content.Intent.writeToParcel(Intent.java:5503)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeParcelable(Parcel.java:1151)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeValue(Parcel.java:1070)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Parcel.writeMapInternal(Parcel.java:488)\n04-03 13:59:54.424: E/AndroidRuntime(28413):    at android.os.Bundle.writeT\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","lazy-evaluation"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1647270210,"post_id":71469722,"comment_id":126322869,"body_markdown":"What IDE are you using? Can you show what the code before `p.collides(tmp)&amp;&amp;Resource.isImpenetrable(tmp.getType()` is, so that it is a [mcve]? You can probably add some sort of annotations to `collides` so that the IDE can figure out that `collides` must return false if `other == null`.","body":"What IDE are you using? Can you show what the code before <code>p.collides(tmp)&amp;&amp;Resource.isImpenetrable(tmp.getType()</code> is, so that it is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? You can probably add some sort of annotations to <code>collides</code> so that the IDE can figure out that <code>collides</code> must return false if <code>other == null</code>."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1647270269,"post_id":71469722,"comment_id":126322891,"body_markdown":"The compiler only sees that `tmp` is nullable at the time it encounters `p.collides(tmp)`. It doesn&#39;t &quot;know&quot; per se that the method returns `false` if `tmp` is really `null`. And since nothing in that same context (the whole condition) is ensuring that `tmp` will definitely not be null afterwards, the IDE will give you the warning.","body":"The compiler only sees that <code>tmp</code> is nullable at the time it encounters <code>p.collides(tmp)</code>. It doesn&#39;t &quot;know&quot; per se that the method returns <code>false</code> if <code>tmp</code> is really <code>null</code>. And since nothing in that same context (the whole condition) is ensuring that <code>tmp</code> will definitely not be null afterwards, the IDE will give you the warning."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1647270377,"post_id":71469722,"comment_id":126322939,"body_markdown":"Also note: if `tmp` would be a field of the surrounding class, theoretically, it could be not null for the first call, but change to null before the `&amp;&amp;` condition gets evaluated.","body":"Also note: if <code>tmp</code> would be a field of the surrounding class, theoretically, it could be not null for the first call, but change to null before the <code>&amp;&amp;</code> condition gets evaluated."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1647272023,"post_id":71469722,"comment_id":126323685,"body_markdown":"@GhostCat he is not accessing tmp.... into a nested field, so what you say can not be the case. The reference can not change the tmp even if it is a property of a class","body":"@GhostCat he is not accessing tmp.... into a nested field, so what you say can not be the case. The reference can not change the tmp even if it is a property of a class"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1647272220,"post_id":71469722,"comment_id":126323769,"body_markdown":"@PanagiotisBougioukos If `tmp` is a field of that class, and the same object of that class is processed by two different threads, and the corresponding code doesn&#39;t account for that, there can be a race condition. `&amp;&amp;` doesn&#39;t prevent another thread from running and making updates to fields.","body":"@PanagiotisBougioukos If <code>tmp</code> is a field of that class, and the same object of that class is processed by two different threads, and the corresponding code doesn&#39;t account for that, there can be a race condition. <code>&amp;&amp;</code> doesn&#39;t prevent another thread from running and making updates to fields."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1647272402,"post_id":71469722,"comment_id":126323843,"body_markdown":"@GhostCat no because tmp would be only a reference to some object. Even if some other thread changed another copied reference in another function, the original object reference would still point to the starting object. Java is passByValue in functions which means a copy of the reference is passed into the function parameter","body":"@GhostCat no because tmp would be only a reference to some object. Even if some other thread changed another copied reference in another function, the original object reference would still point to the starting object. Java is passByValue in functions which means a copy of the reference is passed into the function parameter"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1647272703,"post_id":71469722,"comment_id":126323963,"body_markdown":"@GhostCat what you mention could be the case if he nullified tmp.field1 and then yes field1 could be null later down the road. But considering he uses only a specific reference tmp and not a inner field, this can&#39;t be the case. It will always pass a copy of the reference tmp in any method","body":"@GhostCat what you mention could be the case if he nullified tmp.field1 and then yes field1 could be null later down the road. But considering he uses only a specific reference tmp and not a inner field, this can&#39;t be the case. It will always pass a copy of the reference tmp in any method"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1647272740,"post_id":71469722,"comment_id":126323984,"body_markdown":"@PanagiotisBougioukos Within`p.collides(tmp)&amp;&amp;Resource.isImpenetrable(tmp.getType()`, when `tmp` is a field of the class, call by value doesnt matter. The first method might see a non-null tmp, the other might not. tmp is checked, and then a method on tmp is called.","body":"@PanagiotisBougioukos Within<code>p.collides(tmp)&amp;&amp;Resource.isImpenetrable(tmp.getType()</code>&zwnj;&#8203;, when <code>tmp</code> is a field of the class, call by value doesnt matter. The first method might see a non-null tmp, the other might not. tmp is checked, and then a method on tmp is called."},{"owner":{"account_id":20952722,"reputation":121,"user_id":15394010,"display_name":"devor110"},"score":0,"creation_date":1647276003,"post_id":71469722,"comment_id":126325230,"body_markdown":"@Sweeper I&#39;m using intelliJ Idea (community), which in my experience handled similar issues very well in the past. However it has been broken for a few days (such as marking classes clearly in scope as inaccessible as thus showing a compile-time error, even though my code compiles and runs just fine) so maybe this issue could also originate from that","body":"@Sweeper I&#39;m using intelliJ Idea (community), which in my experience handled similar issues very well in the past. However it has been broken for a few days (such as marking classes clearly in scope as inaccessible as thus showing a compile-time error, even though my code compiles and runs just fine) so maybe this issue could also originate from that"}],"answers":[{"tags":[],"owner":{"account_id":5734600,"reputation":3267,"user_id":4529168,"display_name":"jiwopene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647270104,"creation_date":1647270104,"answer_id":71469859,"question_id":71469722,"body_markdown":"```\r\npublic boolean collides(Sprite other){\r\n    return other != null &amp;&amp; doesItCollide(other);\r\n}\r\n```\r\n\r\nNo it won&#39;t be evaluated. Java `&amp;&amp;` operator “short-circuits”, that means it evaluates the left expression first and only if it is `true`, evaluates the right one. It is possible that the IDE is not “smart enough” to figure such cases.\r\n\r\nDifferent thing is that the method *can be marked as throwing the NPE*. In this case, you must (or you should) handle it, because it does not have to be caused by the argument, but by something inside the method.\r\n\r\nSee also [this answer](https://stackoverflow.com/a/8759917/).","title":"Java - would this method call ever be evaluated?","body":"<pre><code>public boolean collides(Sprite other){\n    return other != null &amp;&amp; doesItCollide(other);\n}\n</code></pre>\n<p>No it won't be evaluated. Java <code>&amp;&amp;</code> operator “short-circuits”, that means it evaluates the left expression first and only if it is <code>true</code>, evaluates the right one. It is possible that the IDE is not “smart enough” to figure such cases.</p>\n<p>Different thing is that the method <em>can be marked as throwing the NPE</em>. In this case, you must (or you should) handle it, because it does not have to be caused by the argument, but by something inside the method.</p>\n<p>See also <a href=\"https://stackoverflow.com/a/8759917/\">this answer</a>.</p>\n"}],"owner":{"account_id":20952722,"reputation":121,"user_id":15394010,"display_name":"devor110"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71469859,"answer_count":1,"score":1,"last_activity_date":1647276628,"creation_date":1647269591,"question_id":71469722,"body_markdown":"My IDE is marking the following code snippet&#39;s second function call as a potential source for a NullPointerException, and I&#39;m unsure if that is actually the case.  \r\nThe snippet:\r\n```java\r\nSprite tmp = coordinateUtils.getSpriteUnderEntity(p);\r\nif( isOutOfBounds(p)\r\n    ||(p.collides(tmp)&amp;&amp;Resource.isImpenetrable(tmp.getType()))\r\n){\r\n//do stuff\r\n}\r\n```\r\n(For clarification `coordinateUtils.getSpriteUnderEntity()` takes a `Sprite` as argument for its coordinates then returns the (background) `Sprite` currently under it, or `null` if the `Sprite` has nothing under it)  \r\n    \r\n`p` is a projectile which is a kind of `Sprite`, which has a `collides` method while `tmp` is a Sprite. Here&#39;s a simplified version of that method (simplified as in the actual collision logic will be hidden as it&#39;s irrelevant for this question).  \r\n```java\r\npublic boolean collides(Sprite other){\r\n    return other != null &amp;&amp; doesItCollide(other);\r\n}\r\n```  \r\n`other` (`tmp` in the snippet) is in fact nullable but since `collides` is called before `getType()`, and that would return false if `other` (`tmp`) was `null` I can&#39;t ever run into a `NullPointerException` here, right?  \r\nTo rephrase the question, java&#39;s evaluation is lazy here, right?","title":"Java - would this method call ever be evaluated?","body":"<p>My IDE is marking the following code snippet's second function call as a potential source for a NullPointerException, and I'm unsure if that is actually the case.<br />\nThe snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Sprite tmp = coordinateUtils.getSpriteUnderEntity(p);\nif( isOutOfBounds(p)\n    ||(p.collides(tmp)&amp;&amp;Resource.isImpenetrable(tmp.getType()))\n){\n//do stuff\n}\n</code></pre>\n<p>(For clarification <code>coordinateUtils.getSpriteUnderEntity()</code> takes a <code>Sprite</code> as argument for its coordinates then returns the (background) <code>Sprite</code> currently under it, or <code>null</code> if the <code>Sprite</code> has nothing under it)</p>\n<p><code>p</code> is a projectile which is a kind of <code>Sprite</code>, which has a <code>collides</code> method while <code>tmp</code> is a Sprite. Here's a simplified version of that method (simplified as in the actual collision logic will be hidden as it's irrelevant for this question).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean collides(Sprite other){\n    return other != null &amp;&amp; doesItCollide(other);\n}\n</code></pre>\n<p><code>other</code> (<code>tmp</code> in the snippet) is in fact nullable but since <code>collides</code> is called before <code>getType()</code>, and that would return false if <code>other</code> (<code>tmp</code>) was <code>null</code> I can't ever run into a <code>NullPointerException</code> here, right?<br />\nTo rephrase the question, java's evaluation is lazy here, right?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriverwait"],"comments":[{"owner":{"account_id":9212975,"reputation":5137,"user_id":6845383,"display_name":"Moshe Slavin"},"score":0,"creation_date":1550422182,"post_id":54734392,"comment_id":96253085,"body_markdown":"why don&#39;t you us `executeScript(&quot;return arguments[0].complete&quot;, el)` like in the question you refered to?","body":"why don&#39;t you us <code>executeScript(&quot;return arguments[0].complete&quot;, el)</code> like in the question you refered to?"},{"owner":{"account_id":10005624,"reputation":276,"user_id":7400198,"display_name":"Sanat"},"score":0,"creation_date":1550422394,"post_id":54734392,"comment_id":96253157,"body_markdown":"Because it is giving me compile time error... the return type of the arg mentioned is not boolean","body":"Because it is giving me compile time error... the return type of the arg mentioned is not boolean"}],"answers":[{"tags":[],"owner":{"account_id":15172906,"reputation":1689,"user_id":10948428,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550481688,"creation_date":1550426944,"answer_id":54736129,"question_id":54734392,"body_markdown":"You can identify all the images in a current page using `document.images`. You can check how many images are there in the current page using `document.images.length`.\r\n\r\nAnd to check those images are loaded properly or not, you can apply `complete` property on each image like this `document.images[0].complete` which will return true if the image is loaded otherwise false.\r\n\r\n[![Here the proof][1]][1]\r\n\r\nBelow is the code which will check the `DOM` is loaded or not first then if the DOM is loaded, it will wait until all the images are loaded in that page.\r\n\r\n    // Launching the browser\r\n    driver.get(&quot;http://www.google.com&quot;);\r\n    \r\n    // Declaring and Casting driver to JavaScriptExecutor\r\n    JavascriptExecutor jse = (JavascriptExecutor) driver;\r\n    // Getting DOM status\r\n    Object result = jse.executeScript(&quot;return document.readyState;&quot;);\r\n    System.out.println(&quot;=&gt; The status is : &quot;+result.toString());\r\n    // Checking DOM loading is completed or not?\r\n    if(result.equals(&quot;complete&quot;)) {\r\n        // Fetching images count\r\n    \tresult = jse.executeScript(&quot;return document.images.length&quot;);\r\n    \tint imagesCount = Integer.parseInt(result.toString());\r\n    \tboolean allLoaded = false;\r\n        // Checking and waiting until all the images are getting loaded\r\n    \twhile(!allLoaded) {\r\n    \t\tint count = 0;\r\n    \t\tfor(int i=0;i&lt;imagesCount;i++) {\r\n    \t\t\tresult = jse.executeScript(&quot;return document.images[&quot;+i+&quot;].complete;&quot;);\r\n    \t\t\tboolean loaded = (Boolean) result;\r\n    \t\t\tif(loaded) count++;\r\n    \t\t}\r\n            // Breaking the while loop if all the images loading completes\r\n    \t\tif(count == imagesCount) {\r\n    \t\t\tSystem.out.println(&quot;=&gt; All the Images are loaded...&quot;);\r\n    \t\t\tbreak;\r\n    \t\t} else {\r\n                System.out.println(&quot;=&gt; Not yet loaded...&quot;);\r\n            }\r\n    \t\tThread.sleep(1000);\r\n    \t}\r\n    }\r\n\r\nBut careful while using the above code because it may go to an infinity state sometimes if the element is not loaded at all.\r\n\r\nTo check a particular element is loaded or not, you can do like below : \r\n\r\n    // To check a particular element is loaded or not?\r\n    WebElement googleLogo = driver.findElement(By.id(&quot;hplogo&quot;));\r\n    boolean loaded = (Boolean) jse.executeScript(&quot;return arguments[0].complete;&quot;, googleLogo);\r\n    System.out.println(&quot;The google logo is loaded ? &quot;+loaded);\r\n\r\nTo wait until that particular image is loaded, you can do like below :\r\n\r\n    // To check a particular element is loaded or not?\r\n    WebElement googleLogo = driver.findElement(By.id(&quot;hplogo&quot;));\r\n    while(!(Boolean) jse.executeScript(&quot;return arguments[0].complete;&quot;, googleLogo)) {\r\n    \tSystem.out.println(&quot;=&gt; The google logo is not yet loaded...&quot;);\r\n    \tThread.sleep(1000);\r\n    }\r\n    System.out.println(&quot;The google logo is loaded... &quot;);\r\n\r\nTo learn more about the JavaScript commands and the JavaScriptExecutor, check out and do subscribe to [this channel][2]\r\n\r\nSource : [HTML DOM images Collection][3], [Document.images\r\n][4]\r\n\r\nI hope it helps...\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qKss3.png\r\n  [2]: https://www.youtube.com/watch?v=UghwIKHB8Wo&amp;list=PLzIX4GKTh5quMkUB32JKpknaHzTnaAFOe\r\n  [3]: https://www.w3schools.com/jsref/coll_doc_images.asp\r\n  [4]: https://developer.mozilla.org/en-US/docs/Web/API/Document/images","title":"How to wait in selenium java until all images on the webpages are loaded properly","body":"<p>You can identify all the images in a current page using <code>document.images</code>. You can check how many images are there in the current page using <code>document.images.length</code>.</p>\n\n<p>And to check those images are loaded properly or not, you can apply <code>complete</code> property on each image like this <code>document.images[0].complete</code> which will return true if the image is loaded otherwise false.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qKss3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qKss3.png\" alt=\"Here the proof\"></a></p>\n\n<p>Below is the code which will check the <code>DOM</code> is loaded or not first then if the DOM is loaded, it will wait until all the images are loaded in that page.</p>\n\n<pre><code>// Launching the browser\ndriver.get(\"http://www.google.com\");\n\n// Declaring and Casting driver to JavaScriptExecutor\nJavascriptExecutor jse = (JavascriptExecutor) driver;\n// Getting DOM status\nObject result = jse.executeScript(\"return document.readyState;\");\nSystem.out.println(\"=&gt; The status is : \"+result.toString());\n// Checking DOM loading is completed or not?\nif(result.equals(\"complete\")) {\n    // Fetching images count\n    result = jse.executeScript(\"return document.images.length\");\n    int imagesCount = Integer.parseInt(result.toString());\n    boolean allLoaded = false;\n    // Checking and waiting until all the images are getting loaded\n    while(!allLoaded) {\n        int count = 0;\n        for(int i=0;i&lt;imagesCount;i++) {\n            result = jse.executeScript(\"return document.images[\"+i+\"].complete;\");\n            boolean loaded = (Boolean) result;\n            if(loaded) count++;\n        }\n        // Breaking the while loop if all the images loading completes\n        if(count == imagesCount) {\n            System.out.println(\"=&gt; All the Images are loaded...\");\n            break;\n        } else {\n            System.out.println(\"=&gt; Not yet loaded...\");\n        }\n        Thread.sleep(1000);\n    }\n}\n</code></pre>\n\n<p>But careful while using the above code because it may go to an infinity state sometimes if the element is not loaded at all.</p>\n\n<p>To check a particular element is loaded or not, you can do like below : </p>\n\n<pre><code>// To check a particular element is loaded or not?\nWebElement googleLogo = driver.findElement(By.id(\"hplogo\"));\nboolean loaded = (Boolean) jse.executeScript(\"return arguments[0].complete;\", googleLogo);\nSystem.out.println(\"The google logo is loaded ? \"+loaded);\n</code></pre>\n\n<p>To wait until that particular image is loaded, you can do like below :</p>\n\n<pre><code>// To check a particular element is loaded or not?\nWebElement googleLogo = driver.findElement(By.id(\"hplogo\"));\nwhile(!(Boolean) jse.executeScript(\"return arguments[0].complete;\", googleLogo)) {\n    System.out.println(\"=&gt; The google logo is not yet loaded...\");\n    Thread.sleep(1000);\n}\nSystem.out.println(\"The google logo is loaded... \");\n</code></pre>\n\n<p>To learn more about the JavaScript commands and the JavaScriptExecutor, check out and do subscribe to <a href=\"https://www.youtube.com/watch?v=UghwIKHB8Wo&amp;list=PLzIX4GKTh5quMkUB32JKpknaHzTnaAFOe\" rel=\"nofollow noreferrer\">this channel</a></p>\n\n<p>Source : <a href=\"https://www.w3schools.com/jsref/coll_doc_images.asp\" rel=\"nofollow noreferrer\">HTML DOM images Collection</a>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/images\" rel=\"nofollow noreferrer\">Document.images\n</a></p>\n\n<p>I hope it helps...</p>\n"},{"tags":[],"owner":{"account_id":9924728,"reputation":61,"user_id":7346746,"display_name":"MTK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647276347,"creation_date":1647276347,"answer_id":71471342,"question_id":54734392,"body_markdown":"You can try the below code. I am using it and it&#39;s working for me.\r\n\r\n    public Boolean verifyImageLoad() throws Exception {\r\n\t\t wait.until(\r\n\t\t\t\t new Function&lt;WebDriver, Boolean&gt;(){\r\n\t\t\t\t\t    @Override\r\n\t\t\t            public Boolean apply(WebDriver driver) {\r\n\t\t\t                return (Boolean) ((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].complete&quot;, imageWebElementHere);\r\n\t\t\t            }\r\n\t\t\t        }\r\n\t\t\t    );\r\n\t\tif (!imageWebElementHere.getAttribute(&quot;naturalWidth&quot;).equals(&quot;0&quot;)){\r\n\t        return true;\r\n\t    }\r\n\t\treturn false;\r\n    } ","title":"How to wait in selenium java until all images on the webpages are loaded properly","body":"<p>You can try the below code. I am using it and it's working for me.</p>\n<pre><code>public Boolean verifyImageLoad() throws Exception {\n     wait.until(\n             new Function&lt;WebDriver, Boolean&gt;(){\n                    @Override\n                    public Boolean apply(WebDriver driver) {\n                        return (Boolean) ((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].complete&quot;, imageWebElementHere);\n                    }\n                }\n            );\n    if (!imageWebElementHere.getAttribute(&quot;naturalWidth&quot;).equals(&quot;0&quot;)){\n        return true;\n    }\n    return false;\n} \n</code></pre>\n"}],"owner":{"account_id":10005624,"reputation":276,"user_id":7400198,"display_name":"Sanat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3349,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1647276347,"creation_date":1550414886,"question_id":54734392,"body_markdown":"I am trying to take a screenshot of a webpage when all images are fully loaded in it.\r\n\r\nAlthough I think the solution is already available on stack overflow but none of them is working for me. the most closest solution I found is here: https://stackoverflow.com/questions/42655802/wait-for-an-image-to-be-fully-loaded-selenium-webdriver\r\n\r\nhowever in this code and arg written in javascript executer is not returning boolean output and that is why it is giving me an error.\r\n\r\n\r\n\r\n\r\nFollowing code I am using but it is given in me compile time error as &quot;Incompatible operand types Object and \r\n int&quot; using equals is also not working for me here\r\n\r\n     waitexternal.until(new Function&lt;WebDriver, Boolean&gt;(){\r\n\t\t@Override\r\n\t\tpublic Boolean apply(WebDriver ldriver) {\r\n\t\t\tldriver = driver;\r\n\t\t\tJavascriptExecutor js = (JavascriptExecutor) driver;  \r\n\t\t\t\r\n\t\t\treturn js.executeScript(&quot;return jQuery.active&quot;) == 0;\r\n\t\t\t      \r\n\t\t\t//return (js.executeScript(&quot;return arguments[0]&quot;).equals(&quot;complete&quot;));\r\n\t\t\t}\r\n\t\t}\r\n\t   \r\n\t   );\r\n\r\n","title":"How to wait in selenium java until all images on the webpages are loaded properly","body":"<p>I am trying to take a screenshot of a webpage when all images are fully loaded in it.</p>\n\n<p>Although I think the solution is already available on stack overflow but none of them is working for me. the most closest solution I found is here: <a href=\"https://stackoverflow.com/questions/42655802/wait-for-an-image-to-be-fully-loaded-selenium-webdriver\">Wait for an image to be fully loaded Selenium WebDriver</a></p>\n\n<p>however in this code and arg written in javascript executer is not returning boolean output and that is why it is giving me an error.</p>\n\n<p>Following code I am using but it is given in me compile time error as \"Incompatible operand types Object and \n int\" using equals is also not working for me here</p>\n\n<pre><code> waitexternal.until(new Function&lt;WebDriver, Boolean&gt;(){\n    @Override\n    public Boolean apply(WebDriver ldriver) {\n        ldriver = driver;\n        JavascriptExecutor js = (JavascriptExecutor) driver;  \n\n        return js.executeScript(\"return jQuery.active\") == 0;\n\n        //return (js.executeScript(\"return arguments[0]\").equals(\"complete\"));\n        }\n    }\n\n   );\n</code></pre>\n"},{"tags":["java","eclipse","ant","build"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1280820169,"post_id":3394369,"comment_id":3529888,"body_markdown":"Is there no more output than that? Can you make it run with verbose logging?","body":"Is there no more output than that? Can you make it run with verbose logging?"},{"owner":{"account_id":18480,"reputation":32772,"user_id":42372,"accept_rate":95,"display_name":"Veera"},"score":0,"creation_date":1280820351,"post_id":3394369,"comment_id":3529911,"body_markdown":"no more output after the error message. Will try with verbose logging.","body":"no more output after the error message. Will try with verbose logging."},{"owner":{"account_id":2680559,"reputation":5110,"user_id":2317829,"accept_rate":76,"display_name":"eebbesen"},"score":0,"creation_date":1580514825,"post_id":3394369,"comment_id":106135464,"body_markdown":"This also happened for me without Eclipse -- jdk-8u241-windows-x64.exe placed a directory in my PATH that only contained java.exe, javaw.exe and javaws.exe. Adding javac.exe to the PATH solved it.","body":"This also happened for me without Eclipse -- jdk-8u241-windows-x64.exe placed a directory in my PATH that only contained java.exe, javaw.exe and javaws.exe. Adding javac.exe to the PATH solved it."}],"answers":[{"tags":[],"owner":{"account_id":127767,"reputation":858,"user_id":325152,"display_name":"Impiastro"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1280820227,"creation_date":1280820227,"answer_id":3394382,"question_id":3394369,"body_markdown":"Maybe the javac problem is because &quot;javac.exe&quot; is not in your System PATH, please edit your system path and add your JDK&#39;s /bin directory to it to correct this problem. \r\n\r\nOpen a shell or command prompt and try typing: javac to check if the system path is set correctly.","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>Maybe the javac problem is because \"javac.exe\" is not in your System PATH, please edit your system path and add your JDK's /bin directory to it to correct this problem. </p>\n\n<p>Open a shell or command prompt and try typing: javac to check if the system path is set correctly.</p>\n"},{"tags":[],"owner":{"account_id":177809,"reputation":1155,"user_id":409382,"display_name":"fuwaneko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280820558,"creation_date":1280820558,"answer_id":3394413,"question_id":3394369,"body_markdown":"Try changing memorymaximumsize=&quot;1G&quot; to memorymaximumsize=&quot;512M&quot;.","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>Try changing memorymaximumsize=\"1G\" to memorymaximumsize=\"512M\".</p>\n"},{"tags":[],"owner":{"account_id":313609,"reputation":686,"user_id":628346,"display_name":"spbala"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1298380072,"creation_date":1298380072,"answer_id":5078525,"question_id":3394369,"body_markdown":"I had the same problem and the issue was, in eclipse java.home was referring to JRE instead of JDK. I changed it and the build was successful. You can do the following to change it to JDK:\r\n\r\nPreferences &gt; Java &gt; Installed JRE&#39;s &gt; Add... For &#39;JRE Type&#39; select &#39;Standard VM&#39; &gt; Next &gt; Directory: select your JDK directory (instead of JRE) (in my case: C:\\Program Files\\Java\\jdk1.6.0_16 ), press OK.\r\n\r\nNow, you are back at &#39;Installed JRE&#39;s&#39;, select the JDK here also.\r\n\r\nThe below post helped in finding the solution.\r\nhttps://stackoverflow.com/questions/1951083/java-home-points-to-the-wrong-place\r\n","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>I had the same problem and the issue was, in eclipse java.home was referring to JRE instead of JDK. I changed it and the build was successful. You can do the following to change it to JDK:</p>\n\n<p>Preferences > Java > Installed JRE's > Add... For 'JRE Type' select 'Standard VM' > Next > Directory: select your JDK directory (instead of JRE) (in my case: C:\\Program Files\\Java\\jdk1.6.0_16 ), press OK.</p>\n\n<p>Now, you are back at 'Installed JRE's', select the JDK here also.</p>\n\n<p>The below post helped in finding the solution.\n<a href=\"https://stackoverflow.com/questions/1951083/java-home-points-to-the-wrong-place\">JAVA_HOME points to the wrong place</a></p>\n"},{"tags":[],"owner":{"account_id":231379,"reputation":345,"user_id":495580,"accept_rate":50,"display_name":"pall"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1322648060,"creation_date":1322648060,"answer_id":8324272,"question_id":3394369,"body_markdown":"Configuring eclipse to point to JDK instead of JRE did not work for me. \r\nWith further investigation, I solved this problem by stopping the build process from forking.\r\nIn your build.xml, remove the attribute `fork` from `&lt;javac&gt;` tag.","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>Configuring eclipse to point to JDK instead of JRE did not work for me. \nWith further investigation, I solved this problem by stopping the build process from forking.\nIn your build.xml, remove the attribute <code>fork</code> from <code>&lt;javac&gt;</code> tag.</p>\n"},{"tags":[],"owner":{"account_id":1119711,"reputation":221,"user_id":1108322,"display_name":"Avinash"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1324399874,"creation_date":1324399874,"answer_id":8578949,"question_id":3394369,"body_markdown":"I had the same problem and removed the attribute fork from javac and problem was gone.","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>I had the same problem and removed the attribute fork from javac and problem was gone.</p>\n"},{"tags":[],"owner":{"account_id":69659,"reputation":9188,"user_id":202553,"accept_rate":71,"display_name":"knb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334131848,"creation_date":1334131848,"answer_id":10102201,"question_id":3394369,"body_markdown":"Try to free some main memory. Close memory-hungry programs, and stop memory-hungry processes if you can.","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>Try to free some main memory. Close memory-hungry programs, and stop memory-hungry processes if you can.</p>\n"},{"tags":[],"owner":{"account_id":1237712,"reputation":1077,"user_id":1200966,"accept_rate":75,"display_name":"aram063"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1352147626,"creation_date":1352147626,"answer_id":13239931,"question_id":3394369,"body_markdown":"If the accepted answer above doesn&#39;t solve the problem for you (as it didn&#39;t for me), after updating the java.home to JDK instead of JRE as suggested in the accepted answer above, Go to Run -&gt; External Tools -&gt; External Tools Configuration -&gt; select your build.xml on the left menu -&gt; select JRE tab -&gt; select the JDK(from the dropdown) for Separate JRE radio button option -&gt; Click Run.\r\n\r\nThis should fix the problem.","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>If the accepted answer above doesn't solve the problem for you (as it didn't for me), after updating the java.home to JDK instead of JRE as suggested in the accepted answer above, Go to Run -> External Tools -> External Tools Configuration -> select your build.xml on the left menu -> select JRE tab -> select the JDK(from the dropdown) for Separate JRE radio button option -> Click Run.</p>\n\n<p>This should fix the problem.</p>\n"},{"tags":[],"owner":{"account_id":288238,"reputation":14443,"user_id":588532,"accept_rate":88,"display_name":"Uriel Frankel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357807796,"creation_date":1357807796,"answer_id":14253903,"question_id":3394369,"body_markdown":"I solved this by checking my Environment Variables in my Windows 7. I found that **JAVA_HOME** is pointing to C:\\ **Program Files (x86)**\\Java\\jdk1.6.0_31 when it supposed be C:\\ **Program Files**\\Java\\jdk1.6.0_31. If you want to know how [read this][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9673871/setting-up-environment-variables-in-windows-7-for-java-and-ant","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>I solved this by checking my Environment Variables in my Windows 7. I found that <strong>JAVA_HOME</strong> is pointing to C:\\ <strong>Program Files (x86)</strong>\\Java\\jdk1.6.0_31 when it supposed be C:\\ <strong>Program Files</strong>\\Java\\jdk1.6.0_31. If you want to know how <a href=\"https://stackoverflow.com/questions/9673871/setting-up-environment-variables-in-windows-7-for-java-and-ant\">read this</a> </p>\n"},{"tags":[],"owner":{"account_id":2589960,"reputation":1,"user_id":2244882,"display_name":"Ahmed Hamdy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387877037,"creation_date":1387877037,"answer_id":20758195,"question_id":3394369,"body_markdown":"I&#39;ve tried everything but nothing worked for me till I&#39;ve set (**fork=&#39;no&#39;** or fork=&#39;false&#39; in your case) and worked for me perfectly\r\n","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>I've tried everything but nothing worked for me till I've set (<strong>fork='no'</strong> or fork='false' in your case) and worked for me perfectly</p>\n"},{"tags":[],"owner":{"account_id":2844381,"reputation":429,"user_id":2443197,"accept_rate":50,"display_name":"Scala Enthusiast"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394453278,"creation_date":1394453278,"answer_id":22299667,"question_id":3394369,"body_markdown":"I removed fork=&quot;true&quot; and I got past that piece of code. What might be interesting to those of you who have this problem is that now, at that line, I get the output:\r\n\r\n    &#39;Since fork is false, ignoring memoryMaximumSize setting.&#39;\r\n\r\nSo it may be an issue with memoryMaximumSize if you need to keep your fork=&quot;true&quot; setting, as suggested above.","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>I removed fork=\"true\" and I got past that piece of code. What might be interesting to those of you who have this problem is that now, at that line, I get the output:</p>\n\n<pre><code>'Since fork is false, ignoring memoryMaximumSize setting.'\n</code></pre>\n\n<p>So it may be an issue with memoryMaximumSize if you need to keep your fork=\"true\" setting, as suggested above.</p>\n"},{"tags":[],"owner":{"account_id":4621744,"reputation":2066,"user_id":3746637,"display_name":"Salim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402960692,"creation_date":1402959465,"answer_id":24253432,"question_id":3394369,"body_markdown":"I fixed the problem like this:\r\n\r\nMy Java home folder had the wrong path. It should have been `C:\\Program Files (x86)\\Java\\jdk1.5.0_15` but instead it was `C:\\Program Files (x86)\\Java\\jdk1.5.0_15\\bin`.","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>I fixed the problem like this:</p>\n\n<p>My Java home folder had the wrong path. It should have been <code>C:\\Program Files (x86)\\Java\\jdk1.5.0_15</code> but instead it was <code>C:\\Program Files (x86)\\Java\\jdk1.5.0_15\\bin</code>.</p>\n"},{"tags":[],"owner":{"account_id":1992083,"reputation":956,"user_id":1785883,"display_name":"AlexW"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429628828,"creation_date":1429628828,"answer_id":29776127,"question_id":3394369,"body_markdown":"I faced the same problem, and here is my advice, maybe it will help someone.  \r\nIn fact, message `Error running javac.exe compiler` means that something went wrong. The question is, what exactly. When Ant runs `javac` task with `fork=&quot;true&quot;` flag, it doesn&#39;t print any error details. In my case, it didn&#39;t print them even after I added `verbose=&quot;true&quot;`, as suggested [here](https://stackoverflow.com/questions/17492022/how-to-see-the-compiler-output-when-running-javac-through-an-ant-task). Solution was to _add **-verbose** flag to Ant command line_:\r\n\r\n    ant -verbose\r\n\r\nAfter this, Ant starts printing full error messages, so you are able to fix a problem.","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>I faced the same problem, and here is my advice, maybe it will help someone.<br>\nIn fact, message <code>Error running javac.exe compiler</code> means that something went wrong. The question is, what exactly. When Ant runs <code>javac</code> task with <code>fork=\"true\"</code> flag, it doesn't print any error details. In my case, it didn't print them even after I added <code>verbose=\"true\"</code>, as suggested <a href=\"https://stackoverflow.com/questions/17492022/how-to-see-the-compiler-output-when-running-javac-through-an-ant-task\">here</a>. Solution was to <em>add <strong>-verbose</strong> flag to Ant command line</em>:</p>\n\n<pre><code>ant -verbose\n</code></pre>\n\n<p>After this, Ant starts printing full error messages, so you are able to fix a problem.</p>\n"},{"tags":[],"owner":{"account_id":3556889,"reputation":2353,"user_id":2970422,"display_name":"Joker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438183664,"creation_date":1438183664,"answer_id":31704790,"question_id":3394369,"body_markdown":"We hit the same issue on a windows build machine whereas locally (on a unix machine) everything worked out. Fork = true didnt helped either, it resulted in a Process fork failed exception also only on the build server\r\n\r\n**Research**\r\n\r\nAfter some research, we had a clue that the classpath might be too long.\r\nWe recreated the exact folder structure locally on a windows machine and we hit the same issue and we saw that the classpath was way too long (we used -v and -d for details how long it was) and this was the cause of the error.\r\n\r\n**Solution**\r\n\r\nThe solution was to create a jar, which contains only the manifest with all the libraries, see [this answer](https://stackoverflow.com/a/201969) for more details\r\n\r\n","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>We hit the same issue on a windows build machine whereas locally (on a unix machine) everything worked out. Fork = true didnt helped either, it resulted in a Process fork failed exception also only on the build server</p>\n\n<p><strong>Research</strong></p>\n\n<p>After some research, we had a clue that the classpath might be too long.\nWe recreated the exact folder structure locally on a windows machine and we hit the same issue and we saw that the classpath was way too long (we used -v and -d for details how long it was) and this was the cause of the error.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>The solution was to create a jar, which contains only the manifest with all the libraries, see <a href=\"https://stackoverflow.com/a/201969\">this answer</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":5880145,"reputation":33,"user_id":4629818,"display_name":"Kannan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438262639,"creation_date":1438262639,"answer_id":31725058,"question_id":3394369,"body_markdown":"If you are running ant in eclipse click run as --&gt; Ant second option and choose JDK path and run the build again.","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>If you are running ant in eclipse click run as --> Ant second option and choose JDK path and run the build again.</p>\n"},{"tags":[],"owner":{"account_id":6070986,"reputation":197,"user_id":4739826,"display_name":"dko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532029600,"creation_date":1532029600,"answer_id":51430684,"question_id":3394369,"body_markdown":"The accepted answer didn&#39;t work for me.\r\nBut right-clicking **in Ant** and setting the *Java Runtime Environment (JRE)* to the ***Jave Development Kit (JDK)*** worked for me.\r\n\r\n[Abhi Rampal&#39;s answer][1] is the step by step the same way I solved the problem on my eclipse.\r\n\r\n&gt; Go to Run -&gt; External Tools -&gt; External Tools Configuration -&gt; select your build.xml on the left menu -&gt; select JRE tab -&gt; select the JDK(from the dropdown) for Separate JRE radio button option -&gt; Click Run.\r\n\r\n  [1]: https://stackoverflow.com/a/13239931/4739826","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>The accepted answer didn't work for me.\nBut right-clicking <strong>in Ant</strong> and setting the <em>Java Runtime Environment (JRE)</em> to the <strong><em>Jave Development Kit (JDK)</em></strong> worked for me.</p>\n\n<p><a href=\"https://stackoverflow.com/a/13239931/4739826\">Abhi Rampal's answer</a> is the step by step the same way I solved the problem on my eclipse.</p>\n\n<blockquote>\n  <p>Go to Run -> External Tools -> External Tools Configuration -> select your build.xml on the left menu -> select JRE tab -> select the JDK(from the dropdown) for Separate JRE radio button option -> Click Run.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7439229,"reputation":105,"user_id":5657520,"display_name":"Devashish Priyadarshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546260582,"creation_date":1546260582,"answer_id":53987729,"question_id":3394369,"body_markdown":"For me it was backup libs inside WEB-INF/lib directory. \r\nI had multiple lib directory inside the main lib. And the classpath was including them all causing the javac command to become too long.\r\n\r\nI removed those directories and it worked for me.","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>For me it was backup libs inside WEB-INF/lib directory. \nI had multiple lib directory inside the main lib. And the classpath was including them all causing the javac command to become too long.</p>\n\n<p>I removed those directories and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":16282364,"reputation":199,"user_id":12859165,"display_name":"Talha Shahab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602780894,"creation_date":1602780894,"answer_id":64376341,"question_id":3394369,"body_markdown":"That&#39;s a very simple issue. The base directory path has to many subfolders that leads to the actual folder. For e.g.: \r\n/folder1/folder2/.../.../folderN/{project}\r\n\r\nDecrease the base directory path size and it will compile easily.\r\nFor e.g.:\r\nD:/{project}\r\n\r\nThank me later.","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>That's a very simple issue. The base directory path has to many subfolders that leads to the actual folder. For e.g.:\n/folder1/folder2/.../.../folderN/{project}</p>\n<p>Decrease the base directory path size and it will compile easily.\nFor e.g.:\nD:/{project}</p>\n<p>Thank me later.</p>\n"},{"tags":[],"owner":{"account_id":21317605,"reputation":1,"user_id":15691223,"display_name":"Talha Shahab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618823933,"creation_date":1618823933,"answer_id":67159236,"question_id":3394369,"body_markdown":"Most of the times, long path to project folder makes the build fail. That&#39;s what was found always even when running from Command Line. Just shorten your path to:\r\n\r\n***{Drive Letter}/{Checkout Project Folder}***\r\n \r\nand ant commands will surely compile the java JDK.","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>Most of the times, long path to project folder makes the build fail. That's what was found always even when running from Command Line. Just shorten your path to:</p>\n<p><em><strong>{Drive Letter}/{Checkout Project Folder}</strong></em></p>\n<p>and ant commands will surely compile the java JDK.</p>\n"},{"tags":[],"owner":{"account_id":15743333,"reputation":1,"user_id":18177848,"display_name":"user18177848"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647276277,"creation_date":1647276277,"answer_id":71471328,"question_id":3394369,"body_markdown":"You need to see the logs for the root cause of the error. Add the runtime argument  &quot;-verbose&quot; while running the ant script and it will show the stack trace of the error.\r\n\r\nFor me, it was throwing for &quot;Error running javac compiler ant The filename or extension is too long ...&quot;\r\nI solved it by, installing java in a separate location that is shorter in length, like D:/java/jdk1.8_251.\r\n\r\nAlso, you can try shortening the eclipse workspace path to a shorter one.\r\n\r\nHope it helps!!","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>You need to see the logs for the root cause of the error. Add the runtime argument  &quot;-verbose&quot; while running the ant script and it will show the stack trace of the error.</p>\n<p>For me, it was throwing for &quot;Error running javac compiler ant The filename or extension is too long ...&quot;\nI solved it by, installing java in a separate location that is shorter in length, like D:/java/jdk1.8_251.</p>\n<p>Also, you can try shortening the eclipse workspace path to a shorter one.</p>\n<p>Hope it helps!!</p>\n"}],"owner":{"account_id":18480,"reputation":32772,"user_id":42372,"accept_rate":95,"display_name":"Veera"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97887,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":5078525,"answer_count":19,"score":33,"last_activity_date":1647276277,"creation_date":1280820064,"question_id":3394369,"body_markdown":"When I run my Ant build in Eclipse, I&#39;m getting the following error message and the Ant build fails.\r\n\r\n**Error Message:** Error running javac.exe compiler\r\n\r\n**Line where the build stops:**\r\n    \r\n\r\n    &lt;javac destdir=&quot;${classes.home}&quot; debug=&quot;on&quot; fork=&quot;true&quot; memoryinitialsize=&quot;512M&quot; memorymaximumsize=&quot;1G&quot;&gt;\r\n            &lt;classpath refid=&quot;classpath&quot;/&gt;\r\n            &lt;src path=&quot;${source.home}&quot;/&gt;\r\n    &lt;/javac&gt;\r\n\r\nHas anyone faced a similar problem before? or does anybody know what&#39;s wrong here?\r\n\r\nSystem Information: Eclipse Helio, JDK 1.5","title":"Getting Error running javac.exe compiler message, while using Ant in Eclipse","body":"<p>When I run my Ant build in Eclipse, I'm getting the following error message and the Ant build fails.</p>\n\n<p><strong>Error Message:</strong> Error running javac.exe compiler</p>\n\n<p><strong>Line where the build stops:</strong></p>\n\n<pre><code>&lt;javac destdir=\"${classes.home}\" debug=\"on\" fork=\"true\" memoryinitialsize=\"512M\" memorymaximumsize=\"1G\"&gt;\n        &lt;classpath refid=\"classpath\"/&gt;\n        &lt;src path=\"${source.home}\"/&gt;\n&lt;/javac&gt;\n</code></pre>\n\n<p>Has anyone faced a similar problem before? or does anybody know what's wrong here?</p>\n\n<p>System Information: Eclipse Helio, JDK 1.5</p>\n"},{"tags":["java","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647276255,"creation_date":1647274184,"answer_id":71470867,"question_id":71470710,"body_markdown":"You are using a very old API and this API is not best practice. Amazon recommends the [AWS SDK for Java V2][1]. \r\n\r\nFor your use case, take a look at Retrieving paginated results using the AWS SDK for Java 2.x. This topic talks about how to handle AWS operations that return paginated results when the response object is too large to return in a single response. Details here: \r\n\r\n[Retrieving paginated results using the AWS SDK for Java 2.x][2]\r\n\r\nHEre is an example that demonstrates how to use auto pagination with the asynchronous DynamoDB client \r\n\r\n\r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/dynamodbasync/src/main/java/com/example/dynamodbasync/AsyncPagination.java\r\n\r\nIn the AWS SDK for Java 1.0, the response contained a token you had to use to retrieve the next page of results. New in the AWS SDK for Java 2.x are autopagination methods that make multiple service calls to get the next page of results for you.\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\r\n  [2]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/pagination.html","title":"Getting all rows from an Amazon DynamoDB table","body":"<p>You are using a very old API and this API is not best practice. Amazon recommends the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">AWS SDK for Java V2</a>.</p>\n<p>For your use case, take a look at Retrieving paginated results using the AWS SDK for Java 2.x. This topic talks about how to handle AWS operations that return paginated results when the response object is too large to return in a single response. Details here:</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/pagination.html\" rel=\"nofollow noreferrer\">Retrieving paginated results using the AWS SDK for Java 2.x</a></p>\n<p>HEre is an example that demonstrates how to use auto pagination with the asynchronous DynamoDB client</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/dynamodbasync/src/main/java/com/example/dynamodbasync/AsyncPagination.java\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/dynamodbasync/src/main/java/com/example/dynamodbasync/AsyncPagination.java</a></p>\n<p>In the AWS SDK for Java 1.0, the response contained a token you had to use to retrieve the next page of results. New in the AWS SDK for Java 2.x are autopagination methods that make multiple service calls to get the next page of results for you.</p>\n"}],"owner":{"account_id":8986222,"reputation":107,"user_id":6699716,"display_name":"Lagani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1889,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71470867,"answer_count":1,"score":2,"last_activity_date":1647276255,"creation_date":1647273563,"question_id":71470710,"body_markdown":"I need to get all rows from my DynamoDB table. There are approximately 500k records and every time I call scan method from Java SDK DynamoDBMapper I get different number of rows. So I tried to use scanPage method and use lastEvaluationKey from ScanResultPage object for pagination (because I think query result set size limit is 1MB) thinking it will work. But I get same result. I did something like this:\r\n\r\n            List&lt;String&gt; ids = new ArrayList&lt;&gt;();\r\n            DynamoDBScanExpression dynamoDBScanExpression = new DynamoDBScanExpression();\r\n            do {\r\n                ScanResultPage&lt;EntityObject&gt; scanResultPage = dynamoDBMapper.scanPage(EntityObject.class,\r\n                        dynamoDBScanExpression);\r\n                scanResultPage.getResults().forEach(result -&gt; ids.add(result.getId()));\r\n                log.info(&quot;Last evaluated key: {}&quot;, scanResultPage.getLastEvaluatedKey());\r\n                dynamoDBScanExpression.setExclusiveStartKey(scanResultPage.getLastEvaluatedKey());\r\n            } while (dynamoDBScanExpression.getExclusiveStartKey() != null);\r\n\r\nWhat can I do to actually get all rows?","title":"Getting all rows from an Amazon DynamoDB table","body":"<p>I need to get all rows from my DynamoDB table. There are approximately 500k records and every time I call scan method from Java SDK DynamoDBMapper I get different number of rows. So I tried to use scanPage method and use lastEvaluationKey from ScanResultPage object for pagination (because I think query result set size limit is 1MB) thinking it will work. But I get same result. I did something like this:</p>\n<pre><code>        List&lt;String&gt; ids = new ArrayList&lt;&gt;();\n        DynamoDBScanExpression dynamoDBScanExpression = new DynamoDBScanExpression();\n        do {\n            ScanResultPage&lt;EntityObject&gt; scanResultPage = dynamoDBMapper.scanPage(EntityObject.class,\n                    dynamoDBScanExpression);\n            scanResultPage.getResults().forEach(result -&gt; ids.add(result.getId()));\n            log.info(&quot;Last evaluated key: {}&quot;, scanResultPage.getLastEvaluatedKey());\n            dynamoDBScanExpression.setExclusiveStartKey(scanResultPage.getLastEvaluatedKey());\n        } while (dynamoDBScanExpression.getExclusiveStartKey() != null);\n</code></pre>\n<p>What can I do to actually get all rows?</p>\n"},{"tags":["java","android","json","android-recyclerview","android-volley"],"comments":[{"owner":{"account_id":18981447,"reputation":908,"user_id":13852758,"display_name":"Gulab Sagevadiya"},"score":0,"creation_date":1647233770,"post_id":71461913,"comment_id":126310876,"body_markdown":"are you sure you are getting correct response from your query?","body":"are you sure you are getting correct response from your query?"},{"owner":{"account_id":22825454,"reputation":45,"user_id":16974785,"display_name":"windowssolution"},"score":0,"creation_date":1647237447,"post_id":71461913,"comment_id":126311448,"body_markdown":"check if this work for you [recyclerview No adapter attached; skipping layout](https://stackoverflow.com/questions/29141729/recyclerview-no-adapter-attached-skipping-layout)","body":"check if this work for you <a href=\"https://stackoverflow.com/questions/29141729/recyclerview-no-adapter-attached-skipping-layout\">recyclerview No adapter attached; skipping layout</a>"},{"owner":{"display_name":"user18457519"},"score":1,"creation_date":1647277649,"post_id":71461913,"comment_id":126325859,"body_markdown":"@windowssolution it didn&#39;t worked :(","body":"@windowssolution it didn&#39;t worked :("}],"answers":[{"tags":[],"owner":{"account_id":18981447,"reputation":908,"user_id":13852758,"display_name":"Gulab Sagevadiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647241949,"creation_date":1647241603,"answer_id":71464067,"question_id":71461913,"body_markdown":"I have checked your repo and i have found that you are not getting booklist and getting error while parsing json data.\r\n\r\nhere what I got in exception \r\nNo value for industryIdentifiers\r\nMay be you are doing something wrong here....\r\n```\r\nJSONArray industryIdentifiers = book_info.getJSONArray(&quot;industryIdentifiers&quot;);\r\n    if (industryIdentifiers.length() == 1) {\r\n         JSONObject obj = industryIdentifiers.getJSONObject(0);\r\n         ISBN = obj.getString(&quot;type&quot;) + &quot;: &quot; + obj.getString(&quot;identifier&quot;);\r\n    } else if (industryIdentifiers.length() == 2) {\r\n         JSONObject obj1 = industryIdentifiers.getJSONObject(0);\r\n         JSONObject obj2 = industryIdentifiers.getJSONObject(1);\r\n         ISBN = obj1.getString(&quot;type&quot;) + &quot;: &quot; + obj1.getString(&quot;identifier&quot;) + &quot; - &quot;\r\n         + obj2.getString(&quot;type&quot;) + &quot;: &quot; + obj2.getString(&quot;identifier&quot;);\r\n    }\r\n```\r\n\r\n\r\n```\r\nLog.d(&quot;ListBook&quot;,bookList.toString());\r\nadapter = new MyAdapter(bookList, getApplicationContext());\r\nrecyclerView.setAdapter(adapter);\r\n```\r\n\r\nprint your book list before attaching it to the adapter\r\nalso, print exception in a catch block\r\n```\r\ncatch (JSONException e) {\r\n    Log.d(&quot;ListBook&quot;,e.getMessage());\r\n    e.printStackTrace();\r\n}\r\n```","title":"My RecyclerView doens&#39;t show up, it says there&#39;s no adapter, but it has","body":"<p>I have checked your repo and i have found that you are not getting booklist and getting error while parsing json data.</p>\n<p>here what I got in exception\nNo value for industryIdentifiers\nMay be you are doing something wrong here....</p>\n<pre><code>JSONArray industryIdentifiers = book_info.getJSONArray(&quot;industryIdentifiers&quot;);\n    if (industryIdentifiers.length() == 1) {\n         JSONObject obj = industryIdentifiers.getJSONObject(0);\n         ISBN = obj.getString(&quot;type&quot;) + &quot;: &quot; + obj.getString(&quot;identifier&quot;);\n    } else if (industryIdentifiers.length() == 2) {\n         JSONObject obj1 = industryIdentifiers.getJSONObject(0);\n         JSONObject obj2 = industryIdentifiers.getJSONObject(1);\n         ISBN = obj1.getString(&quot;type&quot;) + &quot;: &quot; + obj1.getString(&quot;identifier&quot;) + &quot; - &quot;\n         + obj2.getString(&quot;type&quot;) + &quot;: &quot; + obj2.getString(&quot;identifier&quot;);\n    }\n</code></pre>\n<pre><code>Log.d(&quot;ListBook&quot;,bookList.toString());\nadapter = new MyAdapter(bookList, getApplicationContext());\nrecyclerView.setAdapter(adapter);\n</code></pre>\n<p>print your book list before attaching it to the adapter\nalso, print exception in a catch block</p>\n<pre><code>catch (JSONException e) {\n    Log.d(&quot;ListBook&quot;,e.getMessage());\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"display_name":"user18457519"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647276174,"creation_date":1647217320,"question_id":71461913,"body_markdown":"I tried to fetch some JSON into a RecyclerView when searching for some book, all looks fine to me, but when searching the RecyclerView doens&#39;t show up.\r\nI got this error in Logcat: ``` E/RecyclerView: No adapter attached; skipping layout ```\r\nthat&#39;s the only thing returning an error, but I did set the ``` recyclerView.setAdapter(adapter); ```\r\n\r\nI&#39;m using Google Books API to search ISBN using the phone camera, and also search book titles, authors and keywords. My aim is to show matching/similar books from search inside the RecyclerView, then the user can choose which one he wants, click and open another activity with the book info there.\r\n\r\n**Few points to be noted:**\r\n\r\n - I&#39;ve tried all the solutions for &quot;No adapter attached; skipping\r\n   layout&quot; in [recyclerview No adapter attached; skipping layout][1] thread\r\n   and all associated duplicate threads.\r\n\r\n\r\n**Here&#39;s my Github repo:** [ISBN Scanner](https://github.com/sirbraz/ISBN_Scanner  &quot;Github&quot;)\r\n\r\nI don&#39;t know what to do now, I&#39;m getting mad at this. &gt;:(\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29141729/recyclerview-no-adapter-attached-skipping-layout","title":"My RecyclerView doens&#39;t show up, it says there&#39;s no adapter, but it has","body":"<p>I tried to fetch some JSON into a RecyclerView when searching for some book, all looks fine to me, but when searching the RecyclerView doens't show up.\nI got this error in Logcat: <code>E/RecyclerView: No adapter attached; skipping layout</code>\nthat's the only thing returning an error, but I did set the <code>recyclerView.setAdapter(adapter);</code></p>\n<p>I'm using Google Books API to search ISBN using the phone camera, and also search book titles, authors and keywords. My aim is to show matching/similar books from search inside the RecyclerView, then the user can choose which one he wants, click and open another activity with the book info there.</p>\n<p><strong>Few points to be noted:</strong></p>\n<ul>\n<li>I've tried all the solutions for &quot;No adapter attached; skipping\nlayout&quot; in <a href=\"https://stackoverflow.com/questions/29141729/recyclerview-no-adapter-attached-skipping-layout\">recyclerview No adapter attached; skipping layout</a> thread\nand all associated duplicate threads.</li>\n</ul>\n<p><strong>Here's my Github repo:</strong> <a href=\"https://github.com/sirbraz/ISBN_Scanner\" rel=\"nofollow noreferrer\" title=\"Github\">ISBN Scanner</a></p>\n<p>I don't know what to do now, I'm getting mad at this. &gt;:(</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1647251355,"post_id":71465231,"comment_id":126315387,"body_markdown":"Does this answer your question? [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1647251896,"post_id":71465231,"comment_id":126315568,"body_markdown":"@f1sh I think OP is struggling to remove elements from list(there is error in removal logic), not with string comparison.","body":"@f1sh I think OP is struggling to remove elements from list(there is error in removal logic), not with string comparison."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1647252012,"post_id":71465231,"comment_id":126315606,"body_markdown":"@Chaosfire OP&#39;s `arr.get(i).trim() == &quot;&quot;` is definitely a problem though.","body":"@Chaosfire OP&#39;s <code>arr.get(i).trim() == &quot;&quot;</code> is definitely a problem though."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1647254183,"post_id":71465231,"comment_id":126316404,"body_markdown":"@f1sh You are right, it&#39;s definitely a problem as well, somehow i totally missed it.","body":"@f1sh You are right, it&#39;s definitely a problem as well, somehow i totally missed it."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1647285549,"post_id":71465231,"comment_id":126328650,"body_markdown":"Why this inconsistency? At one place you’re only comparing with `&quot;&quot;`, at the other place, you’re calling `trim()` before comparing. Besides that, don’t reinvent the wheel. Remove `null` and empty string from map: `m.values().removeAll(Arrays.asList(null, &quot;&quot;));` Remove the same from lists in the map: `m.values().forEach(o -&gt; { if(o instanceof List) ((List&lt;?&gt;)o).removeAll( Arrays.asList(null, &quot;&quot;)); });`","body":"Why this inconsistency? At one place you’re only comparing with <code>&quot;&quot;</code>, at the other place, you’re calling <code>trim()</code> before comparing. Besides that, don’t reinvent the wheel. Remove <code>null</code> and empty string from map: <code>m.values().removeAll(Arrays.asList(null, &quot;&quot;));</code> Remove the same from lists in the map: <code>m.values().forEach(o -&gt; { if(o instanceof List) ((List&lt;?&gt;)o).removeAll( Arrays.asList(null, &quot;&quot;)); });</code>"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647251676,"creation_date":1647251676,"answer_id":71465809,"question_id":71465231,"body_markdown":"Your problem is that you remove element at index `i`, then the collection size changes, but you don&#39;t update index. This causes you to skip elements. To fix it you need to decrement index after removal:\r\n```\r\narr.remove(i);\r\ni--;\r\n```\r\nBut it&#39;s not good idea to change indexes during iteration, it&#39;s error prone. It would be better to:\r\n\r\n 1. Make iteration backwards\r\n```\r\nfor (int i = arr.size() - 1; i &gt;= 0; i--)\r\n```\r\nLike this you don&#39;t need to change index when removing\r\n\r\n 2. Better would be to use `Iterator.remove()`, the same way you are removing elements from map\r\n\r\n 3. Probably easiest solution - use `Collection.removeIf(Predicate)`\r\n```\r\narr.removeIf(str -&gt; str == null || str.trim().isEmpty());\r\n```\r\nTo citate java doc - `Removes all of the elements of this collection that satisfy the given predicate.`","title":"How to remove all the keys whose values are either blank, null or empty","body":"<p>Your problem is that you remove element at index <code>i</code>, then the collection size changes, but you don't update index. This causes you to skip elements. To fix it you need to decrement index after removal:</p>\n<pre><code>arr.remove(i);\ni--;\n</code></pre>\n<p>But it's not good idea to change indexes during iteration, it's error prone. It would be better to:</p>\n<ol>\n<li>Make iteration backwards</li>\n</ol>\n<pre><code>for (int i = arr.size() - 1; i &gt;= 0; i--)\n</code></pre>\n<p>Like this you don't need to change index when removing</p>\n<ol start=\"2\">\n<li><p>Better would be to use <code>Iterator.remove()</code>, the same way you are removing elements from map</p>\n</li>\n<li><p>Probably easiest solution - use <code>Collection.removeIf(Predicate)</code></p>\n</li>\n</ol>\n<pre><code>arr.removeIf(str -&gt; str == null || str.trim().isEmpty());\n</code></pre>\n<p>To citate java doc - <code>Removes all of the elements of this collection that satisfy the given predicate.</code></p>\n"},{"tags":[],"owner":{"account_id":24421224,"reputation":393,"user_id":18347432,"display_name":"CKT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647275866,"creation_date":1647275866,"answer_id":71471228,"question_id":71465231,"body_markdown":"You could interrogate the map and remember items that match your criteria in a list.  Then remove those items from the map like this:\r\n\r\n    Map&lt;String, Object&gt; m = new HashMap&lt;&gt;();\r\n    m.put(&quot;k3&quot;, null);\r\n    m.put(&quot;k4&quot;, &quot;&quot;);\r\n\r\n    List&lt;String&gt; keysToRemove = new ArrayList();\r\n\r\n    m.forEach((key, value) -&gt; {\r\n      if (value == null ) {\r\n        keysToRemove.add(key);\r\n      }else if(value instanceof ArrayList){\r\n        if(((ArrayList&lt;String&gt;) value).stream().filter(item -&gt; item != null || !item.isEmpty()).count() == 0){\r\n          keysToRemove.add(key);\r\n        }\r\n      }\r\n    });\r\n    for (String key : keysToRemove) {\r\n      m.remove(key);\r\n    }\r\n","title":"How to remove all the keys whose values are either blank, null or empty","body":"<p>You could interrogate the map and remember items that match your criteria in a list.  Then remove those items from the map like this:</p>\n<pre><code>Map&lt;String, Object&gt; m = new HashMap&lt;&gt;();\nm.put(&quot;k3&quot;, null);\nm.put(&quot;k4&quot;, &quot;&quot;);\n\nList&lt;String&gt; keysToRemove = new ArrayList();\n\nm.forEach((key, value) -&gt; {\n  if (value == null ) {\n    keysToRemove.add(key);\n  }else if(value instanceof ArrayList){\n    if(((ArrayList&lt;String&gt;) value).stream().filter(item -&gt; item != null || !item.isEmpty()).count() == 0){\n      keysToRemove.add(key);\n    }\n  }\n});\nfor (String key : keysToRemove) {\n  m.remove(key);\n}\n</code></pre>\n"}],"owner":{"account_id":23813170,"reputation":1,"user_id":17821753,"display_name":"Udit Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":798,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1647275866,"creation_date":1647248764,"question_id":71465231,"body_markdown":"        Map&lt;String, Object&gt; m = new HashMap&lt;&gt;();\r\n        ArrayList&lt;String&gt; str = new ArrayList&lt;String&gt;(Arrays.asList(&quot;Mohan&quot;, &quot;Rohan&quot;, &quot;&quot;, null));\r\n        m.put(&quot;k1&quot;, str);\r\n        m.put(&quot;k2&quot;, 43);\r\n        m.put(&quot;k3&quot;, null);\r\n        m.put(&quot;k4&quot;, &quot;&quot;);\r\n        System.out.println(m);\r\n        Set&lt;Map.Entry&lt;String, Object&gt;&gt; entrySet = m.entrySet();\r\n        Iterator&lt;Map.Entry&lt;String, Object&gt;&gt; itr = entrySet.iterator();\r\n        while (itr.hasNext()) {\r\n            Map.Entry&lt;String, Object&gt; entry = itr.next();\r\n            if (entry.getValue() == null || entry.getValue().toString().equals(&quot;&quot;)) {\r\n                itr.remove();\r\n            } else if (entry.getValue().getClass() == ArrayList.class) {\r\n                ArrayList&lt;String&gt; arr = (ArrayList&lt;String&gt;) entry.getValue();\r\n                for (int i = 0; i &lt; arr.size(); i++) {\r\n                    if (arr.get(i) == null || arr.get(i).trim() == &quot;&quot;) {\r\n                        arr.remove(i);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nI am getting stuck to remove empty and null values from arraylist \r\nCan anyone help me with this...","title":"How to remove all the keys whose values are either blank, null or empty","body":"<pre><code>    Map&lt;String, Object&gt; m = new HashMap&lt;&gt;();\n    ArrayList&lt;String&gt; str = new ArrayList&lt;String&gt;(Arrays.asList(&quot;Mohan&quot;, &quot;Rohan&quot;, &quot;&quot;, null));\n    m.put(&quot;k1&quot;, str);\n    m.put(&quot;k2&quot;, 43);\n    m.put(&quot;k3&quot;, null);\n    m.put(&quot;k4&quot;, &quot;&quot;);\n    System.out.println(m);\n    Set&lt;Map.Entry&lt;String, Object&gt;&gt; entrySet = m.entrySet();\n    Iterator&lt;Map.Entry&lt;String, Object&gt;&gt; itr = entrySet.iterator();\n    while (itr.hasNext()) {\n        Map.Entry&lt;String, Object&gt; entry = itr.next();\n        if (entry.getValue() == null || entry.getValue().toString().equals(&quot;&quot;)) {\n            itr.remove();\n        } else if (entry.getValue().getClass() == ArrayList.class) {\n            ArrayList&lt;String&gt; arr = (ArrayList&lt;String&gt;) entry.getValue();\n            for (int i = 0; i &lt; arr.size(); i++) {\n                if (arr.get(i) == null || arr.get(i).trim() == &quot;&quot;) {\n                    arr.remove(i);\n                }\n            }\n        }\n    }\n</code></pre>\n<p>I am getting stuck to remove empty and null values from arraylist\nCan anyone help me with this...</p>\n"},{"tags":["java","docker","tomcat","apple-m1","apple-silicon"],"comments":[{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1646779142,"post_id":71310132,"comment_id":126207641,"body_markdown":"The problem could be that your system/ci service is unable to build the image for the desired architecture , `linux/arm64/v8`, and when it runs in Apple Silicon is fails because it tries running a wrong one, the `amd64`. It is the same problem described in [this post](https://githubhot.com/repo/kartoza/docker-geoserver/issues/307) and [related issue](https://github.com/postgis/docker-postgis/issues/216). If you run [`docker buildx inspect --bootstrap`](https://docs.docker.com/engine/reference/commandline/buildx_inspect/), does the system report the `linux/arm64/v8` as available?","body":"The problem could be that your system/ci service is unable to build the image for the desired architecture , <code>linux&#47;arm64&#47;v8</code>, and when it runs in Apple Silicon is fails because it tries running a wrong one, the <code>amd64</code>. It is the same problem described in <a href=\"https://githubhot.com/repo/kartoza/docker-geoserver/issues/307\" rel=\"nofollow noreferrer\">this post</a> and <a href=\"https://github.com/postgis/docker-postgis/issues/216\" rel=\"nofollow noreferrer\">related issue</a>. If you run <a href=\"https://docs.docker.com/engine/reference/commandline/buildx_inspect/\" rel=\"nofollow noreferrer\"><code>docker buildx inspect --bootstrap</code></a>, does the system report the <code>linux&#47;arm64&#47;v8</code> as available?"},{"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"score":0,"creation_date":1646809295,"post_id":71310132,"comment_id":126212887,"body_markdown":"HI, the `inspect` command reports only `Platforms: linux/amd64, linux/386` – does it mean we will not be able to build for apple sillicon in our CI? Is there any way to overcome this?","body":"HI, the <code>inspect</code> command reports only <code>Platforms: linux&#47;amd64, linux&#47;386</code> – does it mean we will not be able to build for apple sillicon in our CI? Is there any way to overcome this?"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1646823451,"post_id":71310132,"comment_id":126217714,"body_markdown":"Hi @VVojtěch. Thank you for the feedback. I am not aware about tha actual CI product you are using but, afaik, if the output of the inspect command doesn&#39;t contain the necessary platform you will be unable to build images for that platform. Please, could you provide more information about the type of CI system that you are using? As you can read in the [docker documentation](https://docs.docker.com/buildx/working-with-buildx/#build-multi-platform-images), the actual build process greatly depends on  underlying requirements (QEMU, binfmt_misc).  ....","body":"Hi @VVojtěch. Thank you for the feedback. I am not aware about tha actual CI product you are using but, afaik, if the output of the inspect command doesn&#39;t contain the necessary platform you will be unable to build images for that platform. Please, could you provide more information about the type of CI system that you are using? As you can read in the <a href=\"https://docs.docker.com/buildx/working-with-buildx/#build-multi-platform-images\" rel=\"nofollow noreferrer\">docker documentation</a>, the actual build process greatly depends on  underlying requirements (QEMU, binfmt_misc).  ...."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1646823868,"post_id":71310132,"comment_id":126217882,"body_markdown":"There is a [great post](https://nexus.eddiesinentropy.net/2020/01/12/Building-Multi-architecture-Docker-Images-With-Buildx/) that describes these components, derived from a related, although old, [Github issue](https://github.com/docker/buildx/issues/208). In any way, `buildx` is a complicated subject: I think the problem is the one stated but honestly I am unaware of all the different configuration options, perhaps some of them could be of help. I hope any of the provided information helps and you managed to solve the problem.","body":"There is a <a href=\"https://nexus.eddiesinentropy.net/2020/01/12/Building-Multi-architecture-Docker-Images-With-Buildx/\" rel=\"nofollow noreferrer\">great post</a> that describes these components, derived from a related, although old, <a href=\"https://github.com/docker/buildx/issues/208\" rel=\"nofollow noreferrer\">Github issue</a>. In any way, <code>buildx</code> is a complicated subject: I think the problem is the one stated but honestly I am unaware of all the different configuration options, perhaps some of them could be of help. I hope any of the provided information helps and you managed to solve the problem."}],"answers":[{"tags":[],"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647275863,"creation_date":1647275863,"answer_id":71471227,"question_id":71310132,"body_markdown":"In the end, I abandoned the CI way of building M1 images. \r\n\r\nInstead, I have written a bash script (to be run locally on M1) which extracts the CI-built image and rebuilds an M1 image with the CI-built image contents. Not exactly nice, but it works.","title":"Build a multiplatform JDK/Tomcat docker image to be able to run on Apple Silicon","body":"<p>In the end, I abandoned the CI way of building M1 images.</p>\n<p>Instead, I have written a bash script (to be run locally on M1) which extracts the CI-built image and rebuilds an M1 image with the CI-built image contents. Not exactly nice, but it works.</p>\n"}],"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71471227,"answer_count":1,"score":3,"last_activity_date":1647275863,"creation_date":1646145368,"question_id":71310132,"body_markdown":"We build docker images with tomcat services within our CI as follows:\r\n\r\n```\r\n- PLATFORMS: linux/amd64,linux/arm64/v8\r\n- gradle build …\r\n# Switch to use different docker driver which supports multiplatform builds\r\n- docker buildx create --use\r\n- docker buildx build --push --platform=$PLATFORMS -t $image -f infra/Dockerfile .\r\n```\r\n\r\nThis works and pushes the image which can easily be run on linux/amd64 platforms.\r\n\r\nHowever when running this image on Apple Silicon, it fails with:\r\n\r\n```\r\norg.apache.catalina.startup.ContextConfig\r\nFailed to detect ServletContainerInitializers for context with name [] service \r\njava.net.MalformedURLException: no !/ found in url spec:file:/usr/local/tomcat/lib/tomcat-websocket.jar!/META-INF/services/javax.servlet.ServletContainerInitializer\r\n```\r\n\r\nFull stack trace here: https://gist.github.com/knyttl/c8f2c24ac3d94a91911ca08f08eff668\r\n\r\nWhat surprises me a bit is:\r\n\r\n```\r\norg.apache.catalina.startup.VersionLoggerListener Architecture:          amd64\r\n``` \r\n\r\nI guess the architecture should be `linux/arm64/v8`, so why does it run the wrong one?","title":"Build a multiplatform JDK/Tomcat docker image to be able to run on Apple Silicon","body":"<p>We build docker images with tomcat services within our CI as follows:</p>\n<pre><code>- PLATFORMS: linux/amd64,linux/arm64/v8\n- gradle build …\n# Switch to use different docker driver which supports multiplatform builds\n- docker buildx create --use\n- docker buildx build --push --platform=$PLATFORMS -t $image -f infra/Dockerfile .\n</code></pre>\n<p>This works and pushes the image which can easily be run on linux/amd64 platforms.</p>\n<p>However when running this image on Apple Silicon, it fails with:</p>\n<pre><code>org.apache.catalina.startup.ContextConfig\nFailed to detect ServletContainerInitializers for context with name [] service \njava.net.MalformedURLException: no !/ found in url spec:file:/usr/local/tomcat/lib/tomcat-websocket.jar!/META-INF/services/javax.servlet.ServletContainerInitializer\n</code></pre>\n<p>Full stack trace here: <a href=\"https://gist.github.com/knyttl/c8f2c24ac3d94a91911ca08f08eff668\" rel=\"nofollow noreferrer\">https://gist.github.com/knyttl/c8f2c24ac3d94a91911ca08f08eff668</a></p>\n<p>What surprises me a bit is:</p>\n<pre><code>org.apache.catalina.startup.VersionLoggerListener Architecture:          amd64\n</code></pre>\n<p>I guess the architecture should be <code>linux/arm64/v8</code>, so why does it run the wrong one?</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1647267755,"post_id":71469100,"comment_id":126321791,"body_markdown":"Please don&#39;t use `Date`, `Calendar` and `SimpleDateFormat`. They&#39;re obsolete and troublesome. Use classes from the `java.time` package instead.","body":"Please don&#39;t use <code>Date</code>, <code>Calendar</code> and <code>SimpleDateFormat</code>. They&#39;re obsolete and troublesome. Use classes from the <code>java.time</code> package instead."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647269335,"creation_date":1647268952,"answer_id":71469564,"question_id":71469100,"body_markdown":"# tl;dr\r\n\r\n    myPreparedStatement.setObject( \r\n        … \r\n        , \r\n        OffsetDateTime\r\n        .now( ZoneOffset.UTC ) \r\n        .minusMinutes( 5 )\r\n    ) \r\n\r\n\r\n# Avoid legacy date-time classes\r\n\r\n`Date` &amp; `Calendar` classes were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\n# *java.time*\r\n\r\nCapture the current moment. \r\n\r\n    Instant instant = Instant.now() ;\r\n\r\nDetermine the moment five minutes ago. \r\n\r\n    Duration d = Duration.ofMinutes( 5 ) ;\r\n    Instant fiveMinutesAgo = instant.minus( d ) ;\r\n\r\nYour database column must be of a type akin to the SQL-standard type `TIMESTAMP WITH TIME ZONE`. \r\n\r\nConvert our `Instant` object for use with SQL. \r\n\r\n    OffsetDateTime odt = fiveMinutesAgo.atOffset( ZoneOffset.UTC ) ;\r\n\r\nWrite SQL like this:\r\n\r\n```sql\r\nSELECT * \r\nFROM event_ \r\nWHERE when_ !&lt; ?\r\n;\r\n```\r\n\r\nPass our `OffsetDateTime` object to fill-in the placeholder. \r\n\r\n    myPreparedStatement.setObject( 1 , odt ) ;\r\n\r\nRetrieval.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\n","title":"Spring JPQL get rows between date time","body":"<h1>tl;dr</h1>\n<pre><code>myPreparedStatement.setObject( \n    … \n    , \n    OffsetDateTime\n    .now( ZoneOffset.UTC ) \n    .minusMinutes( 5 )\n) \n</code></pre>\n<h1>Avoid legacy date-time classes</h1>\n<p><code>Date</code> &amp; <code>Calendar</code> classes were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h1><em>java.time</em></h1>\n<p>Capture the current moment.</p>\n<pre><code>Instant instant = Instant.now() ;\n</code></pre>\n<p>Determine the moment five minutes ago.</p>\n<pre><code>Duration d = Duration.ofMinutes( 5 ) ;\nInstant fiveMinutesAgo = instant.minus( d ) ;\n</code></pre>\n<p>Your database column must be of a type akin to the SQL-standard type <code>TIMESTAMP WITH TIME ZONE</code>.</p>\n<p>Convert our <code>Instant</code> object for use with SQL.</p>\n<pre><code>OffsetDateTime odt = fiveMinutesAgo.atOffset( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Write SQL like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * \nFROM event_ \nWHERE when_ !&lt; ?\n;\n</code></pre>\n<p>Pass our <code>OffsetDateTime</code> object to fill-in the placeholder.</p>\n<pre><code>myPreparedStatement.setObject( 1 , odt ) ;\n</code></pre>\n<p>Retrieval.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n"}],"owner":{"account_id":17504301,"reputation":31,"user_id":12693870,"display_name":"ehirwa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647275598,"creation_date":1647266952,"question_id":71469100,"body_markdown":"I am trying to get records from a database and I use java.util.date and java.util.calendar, to retrieve records inserted in previous 5 minutes from now I compute the interval using java.util calendar however when both dates start and end are parsed, I am not able to find rows in the timespan I am looking for, any advise to remediate the concern?\r\n\r\n        Date d = new Date();\r\n\t\tCalendar cal = Calendar.getInstance();\r\n\t\tcal.setTime(d);\r\n\t\tcal.add(Calendar.MINUTE, -5);\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss.SSS&quot;);\r\n\t\t// SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\t\td = cal.getTime();\r\n\t\tString stdate = sdf.format(d);\r\n\t\t//System.out.println(&quot;start date&quot; + stdate);\t\t\r\n\t\t// process end date\t\t\r\n\t\tDate dd = new Date();\r\n\t\tCalendar call = Calendar.getInstance();\r\n\t\tcall.setTime(dd);\r\n\t\tcall.add(Calendar.MINUTE, -0);\t\t\r\n\t\tdd = call.getTime();\r\n\t\tString eddate = sdf.format(dd);\r\n\t\tSimpleDateFormat sdft=new SimpleDateFormat(&quot;yyyyMMddHHmmssSSS&quot;);\r\n\t\t//SimpleDateFormat sdft=new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n\t\tString stabledate=sdf.format(new Date());\t\t\r\n\t\t\r\n\t\t List&lt;customers&gt; listofcustomers= customerepo.findAllByTscsstatusAndDateBetween(&quot;ACTIVE&quot;,sdf.parse(startdate),sdf.parse(enddate));e here","title":"Spring JPQL get rows between date time","body":"<p>I am trying to get records from a database and I use java.util.date and java.util.calendar, to retrieve records inserted in previous 5 minutes from now I compute the interval using java.util calendar however when both dates start and end are parsed, I am not able to find rows in the timespan I am looking for, any advise to remediate the concern?</p>\n<pre><code>    Date d = new Date();\n    Calendar cal = Calendar.getInstance();\n    cal.setTime(d);\n    cal.add(Calendar.MINUTE, -5);\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss.SSS&quot;);\n    // SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n    d = cal.getTime();\n    String stdate = sdf.format(d);\n    //System.out.println(&quot;start date&quot; + stdate);        \n    // process end date     \n    Date dd = new Date();\n    Calendar call = Calendar.getInstance();\n    call.setTime(dd);\n    call.add(Calendar.MINUTE, -0);      \n    dd = call.getTime();\n    String eddate = sdf.format(dd);\n    SimpleDateFormat sdft=new SimpleDateFormat(&quot;yyyyMMddHHmmssSSS&quot;);\n    //SimpleDateFormat sdft=new SimpleDateFormat(&quot;yyyyMMdd&quot;);\n    String stabledate=sdf.format(new Date());       \n    \n     List&lt;customers&gt; listofcustomers= customerepo.findAllByTscsstatusAndDateBetween(&quot;ACTIVE&quot;,sdf.parse(startdate),sdf.parse(enddate));e here\n</code></pre>\n"},{"tags":["java","swing","list","arraylist","jlist"],"answers":[{"tags":[],"owner":{"account_id":1520026,"reputation":326,"user_id":1419950,"display_name":"user1419950"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340337980,"creation_date":1340337980,"answer_id":11150032,"question_id":11149848,"body_markdown":"you have forgotten?\r\n\r\n    add(lista);","title":"including List/ArrayList items in JList doesn&#39;t work","body":"<p>you have forgotten?</p>\n\n<pre><code>add(lista);\n</code></pre>\n"}],"owner":{"account_id":1358455,"reputation":191,"user_id":1296344,"accept_rate":78,"display_name":"elithin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647275384,"creation_date":1340336265,"question_id":11149848,"body_markdown":"I&#39;m having this problem today that I can&#39;t figure out how to solve. I know it&#39;s probably something stupid that I&#39;m overlooking, but it&#39;s been hours already....\r\nSo,\r\n\r\nI have my class, that extends JPanel. Inside I have just a scrollpane with a jlist. This class receives a List to use to populate the JList. The List contains several &quot;Orcamento&quot; which is one of  my program classes. The class has a .toString method.\r\nI have tried using models, and creating the JList directly with the list using .toArray. I&#39;ve tried transforming the List in ArrayList and doing the same. I tried using `DefaultListModel&lt;String&gt;` and `DefaultListModel&lt;Orcamento&gt;`. \r\n\r\nHope you can help me with this.\r\n\r\nHere&#39;s some code:  \r\nThe JPanel\r\n\r\n    package Views;\r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import javax.swing.DefaultListModel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JScrollPane;\r\n    import Models.Orcamento;\r\n    import javax.swing.ListSelectionModel;\r\n    import javax.swing.AbstractListModel;\r\n    \r\n    public class OrcamentoView extends JPanel {\r\n    \r\n    \tprivate JList lista;\r\n    \tprivate DefaultListModel modelo;\r\n    \t/**\r\n    \t * Create the panel.\r\n    \t */\r\n    \tpublic OrcamentoView(List&lt;Orcamento&gt; lst) {\r\n    \t\tsetBounds(0, 21, 434, 241);\r\n    \t\tsetLayout(null);\r\n    \t\t\r\n    \t\tArrayList&lt;Orcamento&gt; orcs= new ArrayList(lst);\r\n    \t\tDefaultListModel&lt;String&gt; modelo = new DefaultListModel&lt;String&gt;();\r\n    \t\tfor(Orcamento o:orcs)\r\n    \t\t\tmodelo.addElement(o.toString());\r\n    \t\tlista = new JList();\r\n    \t\tlista.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n    \t\tlista.setModel(modelo);\r\n    \t\t\r\n    \t\tJScrollPane scrollPane = new JScrollPane(lista);\r\n    \t\tscrollPane.setBounds(10, 11, 414, 219);\r\n    \t\tadd(scrollPane);\r\n    \t}\r\n    }\r\n\r\nAfter finishing the JPanel I do:\r\n\r\n    public void setContent(JPanel menu, JPanel content){\r\n            contentPane.removeAll();\r\n    \tcontentPane.add(menu);\r\n            contentPane.add(content);\r\n    \tcontentPane.repaint();\r\n    }\r\n\r\nto add the panel to my JFrame.(Which I&#39;ve been doing with many other panels).","title":"including List/ArrayList items in JList doesn&#39;t work","body":"<p>I'm having this problem today that I can't figure out how to solve. I know it's probably something stupid that I'm overlooking, but it's been hours already....\nSo,</p>\n<p>I have my class, that extends JPanel. Inside I have just a scrollpane with a jlist. This class receives a List to use to populate the JList. The List contains several &quot;Orcamento&quot; which is one of  my program classes. The class has a .toString method.\nI have tried using models, and creating the JList directly with the list using .toArray. I've tried transforming the List in ArrayList and doing the same. I tried using <code>DefaultListModel&lt;String&gt;</code> and <code>DefaultListModel&lt;Orcamento&gt;</code>.</p>\n<p>Hope you can help me with this.</p>\n<p>Here's some code:<br />\nThe JPanel</p>\n<pre><code>package Views;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\nimport javax.swing.DefaultListModel;\nimport javax.swing.JPanel;\nimport javax.swing.JList;\nimport javax.swing.JScrollPane;\nimport Models.Orcamento;\nimport javax.swing.ListSelectionModel;\nimport javax.swing.AbstractListModel;\n\npublic class OrcamentoView extends JPanel {\n\n    private JList lista;\n    private DefaultListModel modelo;\n    /**\n     * Create the panel.\n     */\n    public OrcamentoView(List&lt;Orcamento&gt; lst) {\n        setBounds(0, 21, 434, 241);\n        setLayout(null);\n        \n        ArrayList&lt;Orcamento&gt; orcs= new ArrayList(lst);\n        DefaultListModel&lt;String&gt; modelo = new DefaultListModel&lt;String&gt;();\n        for(Orcamento o:orcs)\n            modelo.addElement(o.toString());\n        lista = new JList();\n        lista.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n        lista.setModel(modelo);\n        \n        JScrollPane scrollPane = new JScrollPane(lista);\n        scrollPane.setBounds(10, 11, 414, 219);\n        add(scrollPane);\n    }\n}\n</code></pre>\n<p>After finishing the JPanel I do:</p>\n<pre><code>public void setContent(JPanel menu, JPanel content){\n        contentPane.removeAll();\n    contentPane.add(menu);\n        contentPane.add(content);\n    contentPane.repaint();\n}\n</code></pre>\n<p>to add the panel to my JFrame.(Which I've been doing with many other panels).</p>\n"},{"tags":["java","android","ios","preprocessor","manifold"],"comments":[{"owner":{"account_id":19095349,"reputation":3041,"user_id":13944750,"display_name":"Ptit Xav"},"score":1,"creation_date":1646676915,"post_id":71385378,"comment_id":126178080,"body_markdown":"This kind of macro is not specific to iOS, it is a specificity of c-like language. Before compilation there is first pass on called pre processor to process the macros = replace code or select (#if) code to be used. Look for : “Java preprocessing “ you may find some workaround. You may also use a c pre processor with Java code but that mean you have to preprocess the code to other have code which will be the source code for Java.","body":"This kind of macro is not specific to iOS, it is a specificity of c-like language. Before compilation there is first pass on called pre processor to process the macros = replace code or select (#if) code to be used. Look for : “Java preprocessing “ you may find some workaround. You may also use a c pre processor with Java code but that mean you have to preprocess the code to other have code which will be the source code for Java."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1646678071,"post_id":71385378,"comment_id":126178435,"body_markdown":"preprocessors (the things that evaluate macros) and macros aren&#39;t really a thing in Java or Kotlin.  There&#39;s other ways to achieve similar results, but they do it differently.  What those ways are really depends on what you&#39;re trying to do.  For example in the screenshot above, you&#39;d define the FST_BRAND to a value in your BuidConfig variable and do a standard if statement.  You can find some old Java preprocessors out there, but the idea is largely abandoned-  it just doesn&#39;t work for the language and tools.","body":"preprocessors (the things that evaluate macros) and macros aren&#39;t really a thing in Java or Kotlin.  There&#39;s other ways to achieve similar results, but they do it differently.  What those ways are really depends on what you&#39;re trying to do.  For example in the screenshot above, you&#39;d define the FST_BRAND to a value in your BuidConfig variable and do a standard if statement.  You can find some old Java preprocessors out there, but the idea is largely abandoned-  it just doesn&#39;t work for the language and tools."},{"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"score":0,"creation_date":1646931264,"post_id":71385378,"comment_id":126251279,"body_markdown":"@PtitXav for the Java preprocessing, I found the Manifold solution, but impossible to understand how to install it...","body":"@PtitXav for the Java preprocessing, I found the Manifold solution, but impossible to understand how to install it..."}],"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647274778,"creation_date":1646675941,"question_id":71385378,"body_markdown":"I would like to create targets &amp; macros like in iOS on the Android side.  \r\nI read the [doc][1] but impossible to understand   \r\n\r\n1/ how to get targets/schemes like in iOS:  \r\n[![Targets][2]][2]   \r\n\r\n2/ how to get preprocessor macros like in iOS:  \r\n[![Preprocessors macros][3]][3]   \r\n[![Code macros][4]][4]  \r\n\r\nI also checked that [ticket][5] and that [ticket][5] but it never mentions how to create the macros part and how to compile the differents APK variants like the targets in iOS...\r\n\r\n**EDIT 1:**  \r\nFor the variant and the flavor, I found exactly the video I needed:  [Video variant &amp; flavor][6]\r\n\r\nFor the icon for each variant : [Video icon change by variants][7]\r\n\r\nFor the preprocessoring, I tried to install [Manifold][8] but impossible to understand how to install it...  \r\n\r\n**EDIT 2:**  \r\nI found [that way][9] to use the preprocessor, but it seems not to work... \r\n\r\n\r\n  [1]: https://developer.android.com/studio/build/build-variants#groovy\r\n  [2]: https://i.stack.imgur.com/tUf99.png\r\n  [3]: https://i.stack.imgur.com/1Jk2r.png\r\n  [4]: https://i.stack.imgur.com/enyAi.png\r\n  [5]: https://stackoverflow.com/questions/40352894/how-to-subproject-or-target-multiple-app-equivalents-in-ios-10-xcode-8-swift\r\n  [6]: https://www.youtube.com/watch?v=l-PTrjFaDJk\r\n  [7]: https://www.youtube.com/watch?v=_Umzk3tAwiI\r\n  [8]: https://github.com/manifold-systems/manifold/blob/master/manifold-deps-parent/manifold-preprocessor/readme.md\r\n  [9]: http://harlie.com/using-gradle-for-processing-android-flavor-and-buildtype-with-ifdef-in-java-code/","title":"Android/Java: How to get Targets &amp; Macros in Android like in iOS?","body":"<p>I would like to create targets &amp; macros like in iOS on the Android side.<br />\nI read the <a href=\"https://developer.android.com/studio/build/build-variants#groovy\" rel=\"nofollow noreferrer\">doc</a> but impossible to understand</p>\n<p>1/ how to get targets/schemes like in iOS:<br />\n<a href=\"https://i.stack.imgur.com/tUf99.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tUf99.png\" alt=\"Targets\" /></a></p>\n<p>2/ how to get preprocessor macros like in iOS:<br />\n<a href=\"https://i.stack.imgur.com/1Jk2r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Jk2r.png\" alt=\"Preprocessors macros\" /></a><br />\n<a href=\"https://i.stack.imgur.com/enyAi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/enyAi.png\" alt=\"Code macros\" /></a></p>\n<p>I also checked that <a href=\"https://stackoverflow.com/questions/40352894/how-to-subproject-or-target-multiple-app-equivalents-in-ios-10-xcode-8-swift\">ticket</a> and that <a href=\"https://stackoverflow.com/questions/40352894/how-to-subproject-or-target-multiple-app-equivalents-in-ios-10-xcode-8-swift\">ticket</a> but it never mentions how to create the macros part and how to compile the differents APK variants like the targets in iOS...</p>\n<p><strong>EDIT 1:</strong><br />\nFor the variant and the flavor, I found exactly the video I needed:  <a href=\"https://www.youtube.com/watch?v=l-PTrjFaDJk\" rel=\"nofollow noreferrer\">Video variant &amp; flavor</a></p>\n<p>For the icon for each variant : <a href=\"https://www.youtube.com/watch?v=_Umzk3tAwiI\" rel=\"nofollow noreferrer\">Video icon change by variants</a></p>\n<p>For the preprocessoring, I tried to install <a href=\"https://github.com/manifold-systems/manifold/blob/master/manifold-deps-parent/manifold-preprocessor/readme.md\" rel=\"nofollow noreferrer\">Manifold</a> but impossible to understand how to install it...</p>\n<p><strong>EDIT 2:</strong><br />\nI found <a href=\"http://harlie.com/using-gradle-for-processing-android-flavor-and-buildtype-with-ifdef-in-java-code/\" rel=\"nofollow noreferrer\">that way</a> to use the preprocessor, but it seems not to work...</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1647270852,"post_id":71470015,"comment_id":126323178,"body_markdown":"What do you mean by _create a second Object_? Enum constants are singletons.","body":"What do you mean by <i>create a second Object</i>? Enum constants are singletons."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1647270896,"post_id":71470015,"comment_id":126323196,"body_markdown":"There is only one instance of each constant of an enum. `test` and `test2` refer to the same object. It looks like you&#39;re trying to use an enum for something that it&#39;s not intended for. When you do `EnumTypes test2 = EnumTypes.UpdateA;` you are not creating a second object.","body":"There is only one instance of each constant of an enum. <code>test</code> and <code>test2</code> refer to the same object. It looks like you&#39;re trying to use an enum for something that it&#39;s not intended for. When you do <code>EnumTypes test2 = EnumTypes.UpdateA;</code> you are not creating a second object."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1647270909,"post_id":71470015,"comment_id":126323198,"body_markdown":"Both `test` and `test2` refer to the same object referred to as `EnumTypes.UpdateA`.","body":"Both <code>test</code> and <code>test2</code> refer to the same object referred to as <code>EnumTypes.UpdateA</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1647271078,"post_id":71470015,"comment_id":126323269,"body_markdown":"Enums shouldn&#39;t be mutable. If you want to associate an enum constant with a `Map&lt;String, String&gt;`, use an `EnumMap`.","body":"Enums shouldn&#39;t be mutable. If you want to associate an enum constant with a <code>Map&lt;String, String&gt;</code>, use an <code>EnumMap</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1647273373,"post_id":71470015,"comment_id":126324218,"body_markdown":"&quot;today I learned that Enums are Static... who knew?!&quot; static-ness isn&#39;t directly relevant. If you had a class like `class A { String string; }`, and an instance `A someA = new A();`, then `A anotherA = someA;` doesn&#39;t create a copy of `someA`: `someA.string = &quot;hello&quot;` would also change `anotherA.string`, because they are the same instance.","body":"&quot;today I learned that Enums are Static... who knew?!&quot; static-ness isn&#39;t directly relevant. If you had a class like <code>class A { String string; }</code>, and an instance <code>A someA = new A();</code>, then <code>A anotherA = someA;</code> doesn&#39;t create a copy of <code>someA</code>: <code>someA.string = &quot;hello&quot;</code> would also change <code>anotherA.string</code>, because they are the same instance."}],"answers":[{"tags":[],"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1647270897,"creation_date":1647270897,"answer_id":71470062,"question_id":71470015,"body_markdown":"Enum instances are `static` so there can only be one instance which is created at class-loading time, maybe an Enum is not what you want here.\r\n\r\nThink of using enum the same way you would use a `final static` field","title":"Java enum doesnt store new data","body":"<p>Enum instances are <code>static</code> so there can only be one instance which is created at class-loading time, maybe an Enum is not what you want here.</p>\n<p>Think of using enum the same way you would use a <code>final static</code> field</p>\n"}],"owner":{"account_id":4920590,"reputation":1008,"user_id":3963249,"accept_rate":51,"display_name":"Skaros Ilias"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71470062,"answer_count":1,"score":-2,"last_activity_date":1647274678,"creation_date":1647270719,"question_id":71470015,"body_markdown":"I have created a small class that I use in order to contact our internal APIs. \r\ninstead of creating new connections and passing parameters, I have this class that does all the work.\r\nThe Enum is something like this\r\n\r\n    public enum EnumTypes {\r\n    \tUpdateA(&quot;update&quot;,PostGetEnum.Post),\r\n    \tUpdateB(&quot;update2&quot;,PostGetEnum.Post);\r\n        private Map&lt;String, String&gt; values=new HashMap&lt;String, String&gt;();\r\n     ....\r\n        public void addValues(String name,String value) {\r\n    \t\t values.put(name, value);\r\n    \t }\r\n        public Map&lt;String, String&gt; getValues() {\r\n\t\t   return values;\r\n\t    }\r\n    }\r\n\r\nSo i am creating an object like this\r\n\t\r\n\r\n    EnumTypes test = EnumTypes.UpdateA;\r\n    \t\ttest.addValues(&quot;id&quot;, &quot;1&quot;);\r\n\r\nIt is working just fine, except something that I just noticed. When I create a second Object like so\r\n\r\n    EnumTypes test2 = EnumTypes.UpdateA;\r\n    \t\ttest2.addValues(&quot;id&quot;, &quot;2&quot;);\r\n\r\nthey both have the same id.\r\n\t\r\n\r\n    System.out.println(test.getValues());\r\n    System.out.println(test2.getValues());\r\n\r\n&gt; 2   \r\n&gt; 2\r\n\r\nIs there something that i am doing wrong?\r\n","title":"Java enum doesnt store new data","body":"<p>I have created a small class that I use in order to contact our internal APIs.\ninstead of creating new connections and passing parameters, I have this class that does all the work.\nThe Enum is something like this</p>\n<pre><code>public enum EnumTypes {\n    UpdateA(&quot;update&quot;,PostGetEnum.Post),\n    UpdateB(&quot;update2&quot;,PostGetEnum.Post);\n    private Map&lt;String, String&gt; values=new HashMap&lt;String, String&gt;();\n ....\n    public void addValues(String name,String value) {\n         values.put(name, value);\n     }\n    public Map&lt;String, String&gt; getValues() {\n       return values;\n    }\n}\n</code></pre>\n<p>So i am creating an object like this</p>\n<pre><code>EnumTypes test = EnumTypes.UpdateA;\n        test.addValues(&quot;id&quot;, &quot;1&quot;);\n</code></pre>\n<p>It is working just fine, except something that I just noticed. When I create a second Object like so</p>\n<pre><code>EnumTypes test2 = EnumTypes.UpdateA;\n        test2.addValues(&quot;id&quot;, &quot;2&quot;);\n</code></pre>\n<p>they both have the same id.</p>\n<pre><code>System.out.println(test.getValues());\nSystem.out.println(test2.getValues());\n</code></pre>\n<blockquote>\n<p>2<br />\n2</p>\n</blockquote>\n<p>Is there something that i am doing wrong?</p>\n"},{"tags":["java","amazon-web-services","gradle","aws-lambda","aws-sam-cli"],"comments":[{"owner":{"account_id":7832275,"reputation":57,"user_id":5921778,"display_name":"N. Pamnani"},"score":0,"creation_date":1647875847,"post_id":71413617,"comment_id":126475161,"body_markdown":"Found this, if it helps - \nhttps://linuxtut.com/en/b91097dc0c3697e16f07/","body":"Found this, if it helps -  <a href=\"https://linuxtut.com/en/b91097dc0c3697e16f07/\" rel=\"nofollow noreferrer\">linuxtut.com/en/b91097dc0c3697e16f07</a>"},{"owner":{"account_id":1006088,"reputation":5962,"user_id":1019850,"display_name":"David"},"score":0,"creation_date":1647877316,"post_id":71413617,"comment_id":126475867,"body_markdown":"Just a very general remark: if you&#39;ve many small functions you should perhaps consider bundling them in one gradle.","body":"Just a very general remark: if you&#39;ve many small functions you should perhaps consider bundling them in one gradle."}],"owner":{"account_id":115919,"reputation":43529,"user_id":304151,"accept_rate":81,"display_name":"Mridang Agarwalla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647274635,"creation_date":1646847086,"question_id":71413617,"body_markdown":"I&#39;m currently building a Java Lambda function as a Gradle project. The application is built using the command `gradlew build`. This both tests ad builds the application JAR.\r\n\r\nThe definition for my function resembles the following snippet from the SAM `template.yml`.\r\n\r\n      ImageResizeLambda:\r\n        Type: AWS::Serverless::Function\r\n        Properties:\r\n          CodeUri: thumbor\r\n          Handler: com.nosto.imagevector.resizer.ResizeController::handleRequest\r\n          Runtime: java11\r\n          Events:\r\n            ResizeImage:\r\n              Type: Api\r\n              Properties:\r\n                Path: /quick/{accountId}/{thumbnailVersion}/{imageId}/{hash}/\r\n                Method: GET\r\n          Policies:\r\n            S3ReadPolicy:\r\n              BucketName: !Ref ImageBucket\r\n        Metadata:\r\n          BuildMethod: makefile\r\n\r\nAs shown here, the build method is defined as `makefile`. The `Makefile` inside my Gradle project (which seems really) unnecessary has this bit:\r\n\r\n\r\n    CUR_DIR := $(abspath $(patsubst %/,%,$(dir $(abspath $(lastword $(MAKEFILE_LIST))))))\r\n    \r\n    build-ImageNormalizeLambda:\r\n    \tcd $(CUR_DIR)/.. &amp;&amp; ./gradlew normaliser:clean normaliser:buildZip\r\n    \tcd $(CUR_DIR) &amp;&amp; unzip build/distributions/normaliser.zip -d $(ARTIFACTS_DIR)\r\n\r\nBecause my project contains multiple projects, there&#39;s a Gradle subproject for every function.\r\n\r\nWhile this seemingly works, I&#39;ve glued this together and seems to add yet another DSL to the already-complex build.\r\n\r\nBased on this project, I can see some work on a Gradle builder but I&#39;m unsure how/if this transitive dependency is used. https://github.com/aws/aws-lambda-builders/tree/develop/aws_lambda_builders/workflows/java_gradle\r\n\r\nIs there a better way to build a Gradle-based Java Lambda function as compared to this approach? The documentation for `sam build` doesn&#39;t go very deep. ","title":"Is it possible to use Gradle as a build target in the SAM CLI?","body":"<p>I'm currently building a Java Lambda function as a Gradle project. The application is built using the command <code>gradlew build</code>. This both tests ad builds the application JAR.</p>\n<p>The definition for my function resembles the following snippet from the SAM <code>template.yml</code>.</p>\n<pre><code>  ImageResizeLambda:\n    Type: AWS::Serverless::Function\n    Properties:\n      CodeUri: thumbor\n      Handler: com.nosto.imagevector.resizer.ResizeController::handleRequest\n      Runtime: java11\n      Events:\n        ResizeImage:\n          Type: Api\n          Properties:\n            Path: /quick/{accountId}/{thumbnailVersion}/{imageId}/{hash}/\n            Method: GET\n      Policies:\n        S3ReadPolicy:\n          BucketName: !Ref ImageBucket\n    Metadata:\n      BuildMethod: makefile\n</code></pre>\n<p>As shown here, the build method is defined as <code>makefile</code>. The <code>Makefile</code> inside my Gradle project (which seems really) unnecessary has this bit:</p>\n<pre><code>CUR_DIR := $(abspath $(patsubst %/,%,$(dir $(abspath $(lastword $(MAKEFILE_LIST))))))\n\nbuild-ImageNormalizeLambda:\n    cd $(CUR_DIR)/.. &amp;&amp; ./gradlew normaliser:clean normaliser:buildZip\n    cd $(CUR_DIR) &amp;&amp; unzip build/distributions/normaliser.zip -d $(ARTIFACTS_DIR)\n</code></pre>\n<p>Because my project contains multiple projects, there's a Gradle subproject for every function.</p>\n<p>While this seemingly works, I've glued this together and seems to add yet another DSL to the already-complex build.</p>\n<p>Based on this project, I can see some work on a Gradle builder but I'm unsure how/if this transitive dependency is used. <a href=\"https://github.com/aws/aws-lambda-builders/tree/develop/aws_lambda_builders/workflows/java_gradle\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-lambda-builders/tree/develop/aws_lambda_builders/workflows/java_gradle</a></p>\n<p>Is there a better way to build a Gradle-based Java Lambda function as compared to this approach? The documentation for <code>sam build</code> doesn't go very deep.</p>\n"},{"tags":["java","string","substring"],"answers":[{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647273839,"creation_date":1647273839,"answer_id":71470771,"question_id":71470645,"body_markdown":"`substring`&#39;s second argument is the end of the substring, exclusively.\r\nsubstring(a,b) get you the substring from index a to index b-1.\r\n\r\nExample:\r\n\r\n```\r\n&quot;abcd&quot;.substring(0,1) -&gt; &quot;a&quot;\r\n&quot;abcd&quot;.substring(1,3) -&gt; &quot;bc&quot;\r\n```\r\n\r\nWhich means for your example, you are cutting everything away **except** the newline, so the second time your loop runs, input has a newline as the first character. You get `indexOf(&#39;\\n&#39;)` = 0, nothing happens.\r\n\r\nTo include the newline in array[i], you have to do\r\n```\r\narray[i]=input.substring(0, input.indexOf(&quot;\\n&quot;) + 1);\r\n```\r\n","title":"Finding the last character of of a line in a String","body":"<p><code>substring</code>'s second argument is the end of the substring, exclusively.\nsubstring(a,b) get you the substring from index a to index b-1.</p>\n<p>Example:</p>\n<pre><code>&quot;abcd&quot;.substring(0,1) -&gt; &quot;a&quot;\n&quot;abcd&quot;.substring(1,3) -&gt; &quot;bc&quot;\n</code></pre>\n<p>Which means for your example, you are cutting everything away <strong>except</strong> the newline, so the second time your loop runs, input has a newline as the first character. You get <code>indexOf('\\n')</code> = 0, nothing happens.</p>\n<p>To include the newline in array[i], you have to do</p>\n<pre><code>array[i]=input.substring(0, input.indexOf(&quot;\\n&quot;) + 1);\n</code></pre>\n"}],"owner":{"account_id":24555610,"reputation":7,"user_id":18464241,"display_name":"WAM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71470771,"answer_count":1,"score":0,"last_activity_date":1647274345,"creation_date":1647273353,"question_id":71470645,"body_markdown":"I have a program that reads the content of a file and puts it as a String. The String input looks like this: \r\n\r\n    Age: 0-11,25203,18,54% ~\r\n    Age: 12-19,26722,35,68% ~\r\n    Age: 20-39,28427,46,72%. ~\r\n    Note: Each ICU admission is also included in the total number of hospitalization.,,, ~\r\n\r\nWhere each &quot;~&quot; is a line skip.\r\n\r\nI am looking to put each of the Age lines in a String array. I managed to find the number of &#39;\\n&#39; in my String that I put into counter. So, I tried to do\r\n\r\n```\r\nfor(int i=0; i&lt;counter;i++){\r\narray[i]=input.substring(0, input.indexOf(&quot;\\n&quot;)); //Puts the first line of the String in the array\r\ninput=input.replaceFirst(array[i],&quot;&quot;); //To remove the first line of the String\r\n```\r\nBut this doesn&#39;t work as the String won&#39;t cut further than the second line. Therefore, &quot;~&quot; is not equal to &#39;\\n&#39; as I cannot find a &#39;\\n&#39; once my String is chopped to \r\n\r\n    Age: 12-19,26722,35,68% ~\r\n    Age: 20-39,28427,46,72%. ~\r\n    Note: Each ICU admission is also included in the total number of hospitalization.,,, ~\r\n\r\n Also, I found this strange behaviour once the String was chopped:\r\n\r\n```\r\nSystem.out.println(&quot;A: &quot;+input.contains(&quot;\\n&quot;));\r\nSystem.out.println(&quot;B &quot;+input.indexOf(&#39;\\n&#39;));\r\n```\r\nWhich renders the output:\r\n```\r\nA: true\r\nB: 0\r\n```\r\nAnd so, I am confused because &quot;\\n&quot; should be at the end of my line and not at index 0. As such, I think I can&#39;t chop my string further because it locates the &quot;\\n&quot; at 0. \r\n\r\n**Quick note: I am not allowed to find the exact number of characters in the line and chop it after since it&#39;s only a sample file and the length of the line could vary.**","title":"Finding the last character of of a line in a String","body":"<p>I have a program that reads the content of a file and puts it as a String. The String input looks like this:</p>\n<pre><code>Age: 0-11,25203,18,54% ~\nAge: 12-19,26722,35,68% ~\nAge: 20-39,28427,46,72%. ~\nNote: Each ICU admission is also included in the total number of hospitalization.,,, ~\n</code></pre>\n<p>Where each &quot;~&quot; is a line skip.</p>\n<p>I am looking to put each of the Age lines in a String array. I managed to find the number of '\\n' in my String that I put into counter. So, I tried to do</p>\n<pre><code>for(int i=0; i&lt;counter;i++){\narray[i]=input.substring(0, input.indexOf(&quot;\\n&quot;)); //Puts the first line of the String in the array\ninput=input.replaceFirst(array[i],&quot;&quot;); //To remove the first line of the String\n</code></pre>\n<p>But this doesn't work as the String won't cut further than the second line. Therefore, &quot;~&quot; is not equal to '\\n' as I cannot find a '\\n' once my String is chopped to</p>\n<pre><code>Age: 12-19,26722,35,68% ~\nAge: 20-39,28427,46,72%. ~\nNote: Each ICU admission is also included in the total number of hospitalization.,,, ~\n</code></pre>\n<p>Also, I found this strange behaviour once the String was chopped:</p>\n<pre><code>System.out.println(&quot;A: &quot;+input.contains(&quot;\\n&quot;));\nSystem.out.println(&quot;B &quot;+input.indexOf('\\n'));\n</code></pre>\n<p>Which renders the output:</p>\n<pre><code>A: true\nB: 0\n</code></pre>\n<p>And so, I am confused because &quot;\\n&quot; should be at the end of my line and not at index 0. As such, I think I can't chop my string further because it locates the &quot;\\n&quot; at 0.</p>\n<p><strong>Quick note: I am not allowed to find the exact number of characters in the line and chop it after since it's only a sample file and the length of the line could vary.</strong></p>\n"},{"tags":["java","android","junit","sms","telephony"],"answers":[{"tags":[],"owner":{"account_id":7740136,"reputation":672,"user_id":5860233,"display_name":"Tajuddin Khandaker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647274201,"creation_date":1647274201,"answer_id":71470870,"question_id":71470609,"body_markdown":"When I added the following above my test class test method passed - no exception thrown for null reference\r\n\r\n    @RunWith(RobolectricTestRunner.class)\r\n    @Config(sdk = Build.VERSION_CODES.R)","title":"SmsMessage.calculateLength() returns null reference in Junit test app","body":"<p>When I added the following above my test class test method passed - no exception thrown for null reference</p>\n<pre><code>@RunWith(RobolectricTestRunner.class)\n@Config(sdk = Build.VERSION_CODES.R)\n</code></pre>\n"}],"owner":{"account_id":7740136,"reputation":672,"user_id":5860233,"display_name":"Tajuddin Khandaker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647274201,"creation_date":1647273197,"question_id":71470609,"body_markdown":"I was writing test cases for a class where an SMS message length is calculated\r\n\r\n    class A {\r\n    \r\n       public int getLength() {\r\n           int[] size = SmsMessage.calculateLength(&quot; &quot;, false);\r\n           return size[1] + size[2];\r\n       }\r\n    }\r\n\r\n\r\nTest code\r\n\r\n    @Test\r\n    public void Should_equal_When_called_calculateLength() {\r\n       A obj = new A();\r\n       assert(160, obj.getLength());\r\n    }\r\n\r\nI&#39;m getting the &quot;size&quot; in &quot;getLength()&quot; method null reference of an array where if I run my app it never returns null reference\r\n\r\nWhat could be the reason?","title":"SmsMessage.calculateLength() returns null reference in Junit test app","body":"<p>I was writing test cases for a class where an SMS message length is calculated</p>\n<pre><code>class A {\n\n   public int getLength() {\n       int[] size = SmsMessage.calculateLength(&quot; &quot;, false);\n       return size[1] + size[2];\n   }\n}\n</code></pre>\n<p>Test code</p>\n<pre><code>@Test\npublic void Should_equal_When_called_calculateLength() {\n   A obj = new A();\n   assert(160, obj.getLength());\n}\n</code></pre>\n<p>I'm getting the &quot;size&quot; in &quot;getLength()&quot; method null reference of an array where if I run my app it never returns null reference</p>\n<p>What could be the reason?</p>\n"},{"tags":["java","performance","debugging","compiler-optimization","final"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1646979397,"post_id":71434304,"comment_id":126261883,"body_markdown":"If you&#39;re going to rebuild your project anyway (well, you&#39;d have to do that to change a constant too), then maybe it doesn&#39;t matter, you just remove/comment the code. Or is the question to know how the JVM behaves in cases like this?","body":"If you&#39;re going to rebuild your project anyway (well, you&#39;d have to do that to change a constant too), then maybe it doesn&#39;t matter, you just remove/comment the code. Or is the question to know how the JVM behaves in cases like this?"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":2,"creation_date":1646992511,"post_id":71434304,"comment_id":126265760,"body_markdown":"Are you asking whether the JIT compiler *makes asm that re-evaluates*?  The ideal situation is if the compiler itself evaluates the statement at (JIT)-compile time, and after that one-time work of handling the `if(false)`, eliminates dead code from the JIT-compiler output.  (Careful terminology is necessary here, because modern Java implementations compile at least twice: once source-&gt; .class, then bytecode -&gt; machine code, maybe redoing it if something that was previously true becomes false.  And in between they might interpret or might make first-pass less optimized native code.)","body":"Are you asking whether the JIT compiler <i>makes asm that re-evaluates</i>?  The ideal situation is if the compiler itself evaluates the statement at (JIT)-compile time, and after that one-time work of handling the <code>if(false)</code>, eliminates dead code from the JIT-compiler output.  (Careful terminology is necessary here, because modern Java implementations compile at least twice: once source-&gt; .class, then bytecode -&gt; machine code, maybe redoing it if something that was previously true becomes false.  And in between they might interpret or might make first-pass less optimized native code.)"},{"owner":{"account_id":23330487,"reputation":101,"user_id":17406948,"display_name":"Erin Parkinson"},"score":0,"creation_date":1647227786,"post_id":71434304,"comment_id":126310056,"body_markdown":"@ernest_k &quot;Or is the question to know how the JVM behaves in cases like this?&quot; Yes, exactly. I want to know how the JVM behaves. I&#39;m aware I could comment/remove the code but if the performance will be EXACTLY the same (excluding the first evaluation of the variable) I prefer to keep the code the way it is and set `public final static boolean runInDebugMode = false;` to false..","body":"@ernest_k &quot;Or is the question to know how the JVM behaves in cases like this?&quot; Yes, exactly. I want to know how the JVM behaves. I&#39;m aware I could comment/remove the code but if the performance will be EXACTLY the same (excluding the first evaluation of the variable) I prefer to keep the code the way it is and set <code>public final static boolean runInDebugMode = false;</code> to false.."},{"owner":{"account_id":23330487,"reputation":101,"user_id":17406948,"display_name":"Erin Parkinson"},"score":0,"creation_date":1647228097,"post_id":71434304,"comment_id":126310098,"body_markdown":"@PeterCordes _The ideal situation is if the compiler itself evaluates the statement at (JIT)-compile time, and after that one-time work of handling the if(false), eliminates dead code from the JIT-compiler output._ Yes, this is exactly the question. I don&#39;t mind paying the price for the compiler to evaluate the statement once &amp; then eliminate the dead code going forward as this essentially means basically no overhead during execution. My question is whether this is indeed how it works? Keep in mind the variable `runInDebugMode`  is being declared in a different class as `final static`..","body":"@PeterCordes <i>The ideal situation is if the compiler itself evaluates the statement at (JIT)-compile time, and after that one-time work of handling the if(false), eliminates dead code from the JIT-compiler output.</i> Yes, this is exactly the question. I don&#39;t mind paying the price for the compiler to evaluate the statement once &amp; then eliminate the dead code going forward as this essentially means basically no overhead during execution. My question is whether this is indeed how it works? Keep in mind the variable <code>runInDebugMode</code>  is being declared in a different class as <code>final static</code>.."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1647228976,"post_id":71434304,"comment_id":126310227,"body_markdown":"When a JVM generates machine code at run-time (JIT), it can see all the `.class` files involved.  So cross-file inlining and constant-propagation is no problem.","body":"When a JVM generates machine code at run-time (JIT), it can see all the <code>.class</code> files involved.  So cross-file inlining and constant-propagation is no problem."}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647254027,"creation_date":1647254027,"answer_id":71466323,"question_id":71434304,"body_markdown":"The scenario you have is described as &quot;conditional compilation&quot;, i.e. the compiler that produces bytecode [can optimize away the code if the constant variable is false](https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.22):\r\n\r\n*&quot;...in order to allow the if statement to be used conveniently for &quot;conditional compilation&quot; purposes, the actual rules differ.*\r\n\r\n*As an example, the following statement results in a compile-time error:*\r\n\r\n    while (false) { x=3; }\r\n\r\n*because the statement x=3; is not reachable; but the superficially similar case:*\r\n\r\n    if (false) { x=3; }\r\n\r\n*does not result in a compile-time error. **An optimizing compiler may realize that the statement `x=3;` will never be executed and may choose to omit the code for that statement from the generated `class` file**, but the statement `x=3;` is not regarded as &quot;unreachable&quot; in the technical sense specified here.&quot;*\r\n\r\nNote the part in bold: it depends on the compiler but it&#39;s quite easy to verify with the `javap` disassembler, just run `javap -v -l -p MyClass.class` to view the resulting bytecode. I&#39;m pretty sure the Oracle/OpenJDK javac does that optimization since long ago and so do most compilers. Note that `GVar.runInDebugMode` is a [constant expression](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29), so it benefits from this optimization.\r\n\r\n&lt;h5&gt;Keep in mind:&lt;/h5&gt;\r\n\r\n*&quot;Conditional compilation comes with a caveat. If a set of classes that use a &quot;flag&quot; variable - or more precisely, any static constant variable (&#167;4.12.4) - are compiled and conditional code is omitted, it does not suffice later to distribute just a new version of the class or interface that contains the definition of the flag. The classes that use the flag will not see its new value, so their behavior may be surprising. In essence, a change to the value of a flag is binary compatible with pre-existing binaries (no LinkageError occurs) but not behaviorally compatible.&quot;*\r\n\r\nwhich basically says that you have to also re-compile the code that uses the flag, in addition to the class that defines it. This shouldn&#39;t be a problem if you build the whole code.","title":"Does Java Evaluate a Variable Declared as Final only Once?","body":"<p>The scenario you have is described as &quot;conditional compilation&quot;, i.e. the compiler that produces bytecode <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.22\" rel=\"nofollow noreferrer\">can optimize away the code if the constant variable is false</a>:</p>\n<p><em>&quot;...in order to allow the if statement to be used conveniently for &quot;conditional compilation&quot; purposes, the actual rules differ.</em></p>\n<p><em>As an example, the following statement results in a compile-time error:</em></p>\n<pre><code>while (false) { x=3; }\n</code></pre>\n<p><em>because the statement x=3; is not reachable; but the superficially similar case:</em></p>\n<pre><code>if (false) { x=3; }\n</code></pre>\n<p><em>does not result in a compile-time error. <strong>An optimizing compiler may realize that the statement <code>x=3;</code> will never be executed and may choose to omit the code for that statement from the generated <code>class</code> file</strong>, but the statement <code>x=3;</code> is not regarded as &quot;unreachable&quot; in the technical sense specified here.&quot;</em></p>\n<p>Note the part in bold: it depends on the compiler but it's quite easy to verify with the <code>javap</code> disassembler, just run <code>javap -v -l -p MyClass.class</code> to view the resulting bytecode. I'm pretty sure the Oracle/OpenJDK javac does that optimization since long ago and so do most compilers. Note that <code>GVar.runInDebugMode</code> is a <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\">constant expression</a>, so it benefits from this optimization.</p>\n<h5>Keep in mind:</h5>\n<p><em>&quot;Conditional compilation comes with a caveat. If a set of classes that use a &quot;flag&quot; variable - or more precisely, any static constant variable (§4.12.4) - are compiled and conditional code is omitted, it does not suffice later to distribute just a new version of the class or interface that contains the definition of the flag. The classes that use the flag will not see its new value, so their behavior may be surprising. In essence, a change to the value of a flag is binary compatible with pre-existing binaries (no LinkageError occurs) but not behaviorally compatible.&quot;</em></p>\n<p>which basically says that you have to also re-compile the code that uses the flag, in addition to the class that defines it. This shouldn't be a problem if you build the whole code.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647273842,"creation_date":1647273842,"answer_id":71470775,"question_id":71434304,"body_markdown":"When you declare a variable like\r\n```java\r\npublic final static boolean runInDebugMode = false;\r\n```\r\n\r\nit’s a [*compile-time constant*][&#167;4.12.4].\r\n\r\n&gt; A *constant variable* is a `final` variable of primitive type or type `String` that is initialized with a constant expression ([&#167;15.29]).\r\n\r\n[which means that]\r\n\r\n&gt; A reference to a field that is a constant variable ([&#167;4.12.4]) must be resolved at compile time to the value `V` denoted by the constant variable&#39;s initializer.\r\n&gt; \r\n&gt; If such a field is `static`, then no reference to the field should be present in the code in a binary file, including the class or interface which declared the field.\r\n\r\nIn other words, when you write `if(runInDebugMode)` anywhere and `runInDebugMode` is `false` at compile time, the behavior is as if you’ve written `if(false)`, as the value must be resolved at compile time and no reference to the field appears in the compiled class file.\r\n\r\nYour use case has been discussed specifically in [&#167;14.22]\r\n\r\n&gt; However, in order to allow the `if` statement to be used conveniently for &quot;conditional compilation&quot; purposes, the actual rules differ.\r\n&gt; \r\n&gt; As an example, the following statement results in a compile-time error:\r\n&gt; ```\r\n&gt; while (false) { x=3; }\r\n&gt; ```\r\n&gt; because the statement `x=3;` is not reachable; but the superficially similar case:\r\n&gt; ```\r\n&gt; if (false) { x=3; }\r\n&gt; ```\r\n&gt; does not result in a compile-time error. An optimizing compiler may realize that the statement `x=3;` will never be executed and may choose to omit the code for that statement from the generated `class` file, but the statement `x=3;` is not regarded as &quot;unreachable&quot; in the technical sense specified here.\r\n&gt; \r\n&gt; The rationale for this differing treatment is to allow programmers to define &quot;flag&quot; variables such as:\r\n&gt; ```\r\n&gt; static final boolean DEBUG = false;\r\n&gt; ```\r\n&gt; and then write code such as:\r\n&gt; ```\r\n&gt; if (DEBUG) { x=3; }\r\n&gt; ```\r\n&gt; The idea is that it should be possible to change the value of `DEBUG` from `false` to `true` or from `true` to `false` and then compile the code correctly with no other changes to the program text.\r\n&gt; \r\n&gt; Conditional compilation comes with a caveat. If a set of classes that use a &quot;flag&quot; variable - or more precisely, any `static` constant variable ([&#167;4.12.4]) - are compiled and conditional code is omitted, it does not suffice later to distribute just a new version of the class or interface that contains the definition of the flag.\r\n\r\nSo, this statement makes clear that this form of conditional compilation matches the intent of the language designers and that compilers are entitled to omit the code in question (all relevant compilers do). In principle, a compiler is not required to omit the code, but since it *must not* generate a reference to the field `GVar.runInDebugMode` in the compiled code, the code can’t contain a real conditional. If the code is not omitted, it must be skipped in a de-facto unconditional way. Either, by a `goto` instruction or, when compiling in the most na&#239;ve way imaginable, by literally testing `false`, `iconst_0; ifeq …`. Both approaches would be on the nanosecond scale in interpreted execution mode and no challenge to the JIT compiler/ optimizer at all.\r\n\r\n---\r\n\r\nIt’s worth mentioning that `static final` fields are trusted fields which are normally not even changeable by Reflection. This is used, e.g. by the Assertion feature, as under the hood, a class containing an `assert` statement will have a `static final boolean` field initialized at class initialization time (so it’s not a compile-time constant) and each `assert` statement will skip its check conditionally, depending on the state of the `static final` variable. It was as early as at Java&#160;1.4 time, when it was concluded that the necessary dead code elimination is commonplace in JVMs, to rely on it in this way.\r\n\r\nSo even if you turn your debug flag from compile-time constant to an initialization-time constant, the impact on the performance would be hardly noticeable. But the way you’re using it now, the code is removed at compile-time already and doesn’t rely on the JVM anyway.\r\n\r\n[&#167;4.12.4]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4 (4.12.4. final Variables)\r\n[&#167;15.29]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29 (15.29. Constant Expressions)\r\n[which means that]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-13.html#jls-13.1-110-C (13.1. The Form of a Binary)\r\n[&#167;14.22]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.22-300-ZA (14.22. Unreachable Statements)","title":"Does Java Evaluate a Variable Declared as Final only Once?","body":"<p>When you declare a variable like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final static boolean runInDebugMode = false;\n</code></pre>\n<p>it’s a <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\" title=\"4.12.4. final Variables\"><em>compile-time constant</em></a>.</p>\n<blockquote>\n<p>A <em>constant variable</em> is a <code>final</code> variable of primitive type or type <code>String</code> that is initialized with a constant expression (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\" title=\"15.29. Constant Expressions\">§15.29</a>).</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-13.html#jls-13.1-110-C\" rel=\"nofollow noreferrer\" title=\"13.1. The Form of a Binary\">which means that</a></p>\n<blockquote>\n<p>A reference to a field that is a constant variable (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\" title=\"4.12.4. final Variables\">§4.12.4</a>) must be resolved at compile time to the value <code>V</code> denoted by the constant variable's initializer.</p>\n<p>If such a field is <code>static</code>, then no reference to the field should be present in the code in a binary file, including the class or interface which declared the field.</p>\n</blockquote>\n<p>In other words, when you write <code>if(runInDebugMode)</code> anywhere and <code>runInDebugMode</code> is <code>false</code> at compile time, the behavior is as if you’ve written <code>if(false)</code>, as the value must be resolved at compile time and no reference to the field appears in the compiled class file.</p>\n<p>Your use case has been discussed specifically in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.22-300-ZA\" rel=\"nofollow noreferrer\" title=\"14.22. Unreachable Statements\">§14.22</a></p>\n<blockquote>\n<p>However, in order to allow the <code>if</code> statement to be used conveniently for &quot;conditional compilation&quot; purposes, the actual rules differ.</p>\n<p>As an example, the following statement results in a compile-time error:</p>\n<pre><code>while (false) { x=3; }\n</code></pre>\n<p>because the statement <code>x=3;</code> is not reachable; but the superficially similar case:</p>\n<pre><code>if (false) { x=3; }\n</code></pre>\n<p>does not result in a compile-time error. An optimizing compiler may realize that the statement <code>x=3;</code> will never be executed and may choose to omit the code for that statement from the generated <code>class</code> file, but the statement <code>x=3;</code> is not regarded as &quot;unreachable&quot; in the technical sense specified here.</p>\n<p>The rationale for this differing treatment is to allow programmers to define &quot;flag&quot; variables such as:</p>\n<pre><code>static final boolean DEBUG = false;\n</code></pre>\n<p>and then write code such as:</p>\n<pre><code>if (DEBUG) { x=3; }\n</code></pre>\n<p>The idea is that it should be possible to change the value of <code>DEBUG</code> from <code>false</code> to <code>true</code> or from <code>true</code> to <code>false</code> and then compile the code correctly with no other changes to the program text.</p>\n<p>Conditional compilation comes with a caveat. If a set of classes that use a &quot;flag&quot; variable - or more precisely, any <code>static</code> constant variable (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\" title=\"4.12.4. final Variables\">§4.12.4</a>) - are compiled and conditional code is omitted, it does not suffice later to distribute just a new version of the class or interface that contains the definition of the flag.</p>\n</blockquote>\n<p>So, this statement makes clear that this form of conditional compilation matches the intent of the language designers and that compilers are entitled to omit the code in question (all relevant compilers do). In principle, a compiler is not required to omit the code, but since it <em>must not</em> generate a reference to the field <code>GVar.runInDebugMode</code> in the compiled code, the code can’t contain a real conditional. If the code is not omitted, it must be skipped in a de-facto unconditional way. Either, by a <code>goto</code> instruction or, when compiling in the most naïve way imaginable, by literally testing <code>false</code>, <code>iconst_0; ifeq …</code>. Both approaches would be on the nanosecond scale in interpreted execution mode and no challenge to the JIT compiler/ optimizer at all.</p>\n<hr />\n<p>It’s worth mentioning that <code>static final</code> fields are trusted fields which are normally not even changeable by Reflection. This is used, e.g. by the Assertion feature, as under the hood, a class containing an <code>assert</code> statement will have a <code>static final boolean</code> field initialized at class initialization time (so it’s not a compile-time constant) and each <code>assert</code> statement will skip its check conditionally, depending on the state of the <code>static final</code> variable. It was as early as at Java 1.4 time, when it was concluded that the necessary dead code elimination is commonplace in JVMs, to rely on it in this way.</p>\n<p>So even if you turn your debug flag from compile-time constant to an initialization-time constant, the impact on the performance would be hardly noticeable. But the way you’re using it now, the code is removed at compile-time already and doesn’t rely on the JVM anyway.</p>\n"}],"owner":{"account_id":23330487,"reputation":101,"user_id":17406948,"display_name":"Erin Parkinson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":71470775,"answer_count":2,"score":6,"last_activity_date":1647273842,"creation_date":1646979052,"question_id":71434304,"body_markdown":"I&#39;m writing a Java program that requires thousands of `System.out.println()` statements that will be printed hundreds of millions (or billions) of times throughout the lifecycle of the program for debugging purposes:\r\n\r\n    if (GVar.runInDebugMode) System.out.println(&quot;Print debug message&quot;);\r\n\r\nIn the real world, these statements can be deactivated in order to speed up a computational heavy calculation.\r\n\r\nIf I set:\r\n\r\n    public final static boolean runInDebugMode = false;\r\n\r\nDoes the compiler re-evaluate `runInDebugMode` each time it comes across a statement like: `if (GVar.runInDebugMode)` or since it was declared as final it will be evaluated once at the beginning of the program and won&#39;t put additional strain on the CPU? In other words, would I be better off commenting out all debug statements entirely once I deploy the app or is setting `runInDebugMode`  to `false` sufficient?","title":"Does Java Evaluate a Variable Declared as Final only Once?","body":"<p>I'm writing a Java program that requires thousands of <code>System.out.println()</code> statements that will be printed hundreds of millions (or billions) of times throughout the lifecycle of the program for debugging purposes:</p>\n<pre><code>if (GVar.runInDebugMode) System.out.println(&quot;Print debug message&quot;);\n</code></pre>\n<p>In the real world, these statements can be deactivated in order to speed up a computational heavy calculation.</p>\n<p>If I set:</p>\n<pre><code>public final static boolean runInDebugMode = false;\n</code></pre>\n<p>Does the compiler re-evaluate <code>runInDebugMode</code> each time it comes across a statement like: <code>if (GVar.runInDebugMode)</code> or since it was declared as final it will be evaluated once at the beginning of the program and won't put additional strain on the CPU? In other words, would I be better off commenting out all debug statements entirely once I deploy the app or is setting <code>runInDebugMode</code>  to <code>false</code> sufficient?</p>\n"},{"tags":["java","android","ios","swift","react-native"],"comments":[{"owner":{"account_id":9965768,"reputation":169,"user_id":7373512,"display_name":"N.Jones"},"score":0,"creation_date":1624605411,"post_id":65269882,"comment_id":120408880,"body_markdown":"Did you find a solution to this in the end?","body":"Did you find a solution to this in the end?"},{"owner":{"account_id":2503615,"reputation":362,"user_id":2178028,"display_name":"Omer Faruk KAYA"},"score":1,"creation_date":1624609455,"post_id":65269882,"comment_id":120410452,"body_markdown":"Unfortunately not yet. I think we must bridge to native. It is really so interesting that such a feature doesnt exist in react native :(","body":"Unfortunately not yet. I think we must bridge to native. It is really so interesting that such a feature doesnt exist in react native :("},{"owner":{"account_id":9965768,"reputation":169,"user_id":7373512,"display_name":"N.Jones"},"score":0,"creation_date":1624698942,"post_id":65269882,"comment_id":120432895,"body_markdown":"Yeah I couldn&#39;t find anything either. Looks like bridge is the only option right now","body":"Yeah I couldn&#39;t find anything either. Looks like bridge is the only option right now"}],"owner":{"account_id":2503615,"reputation":362,"user_id":2178028,"display_name":"Omer Faruk KAYA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":997,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":0,"score":3,"last_activity_date":1647273710,"creation_date":1607807578,"question_id":65269882,"body_markdown":"We are making a reading book application with React Native, but we have a problem about context menu. As you know many reading applications have a customized menu when user long press on text. There is a different menu instead of standart Android context menu (Copy-Paste-Select All)\r\n\r\nFor example: https://prnt.sc/w14pap (App XODO - https://play.google.com/store/apps/details?id=com.xodo.pdf.reader&amp;hl=tr)\r\n[![enter image description here][1]][1]\r\n\r\nWe want to show a menu like that.\r\n\r\nWe tried both in javascript side and react native plugin (https://github.com/Astrocoders/react-native-selectable-text), but we couldn&#39;t succeed.\r\n\r\nPlugin supports only text, but we want to show icons only.\r\n\r\nCould you help me please how can I make a context menu like this? \r\n\r\nWhat we need?\r\n\r\n- When user long press on text, a customized menu must be shown\r\n- When user extend selection, the customized menu mustn&#39;t be lost or should be shown again.\r\n- When user long press or extend selection, we must get start and end indexes of selection.\r\n- We are using Text component because of we can colorize/underline some words of text. (TextInput doesn&#39;t support partial styling)\r\n\r\nIf it is not possible to do it without native bridge, is there any ready plugins in native side to bridge?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/25ieI.png","title":"React Native Custom Text Selection Menu","body":"<p>We are making a reading book application with React Native, but we have a problem about context menu. As you know many reading applications have a customized menu when user long press on text. There is a different menu instead of standart Android context menu (Copy-Paste-Select All)</p>\n<p>For example: <a href=\"https://prnt.sc/w14pap\" rel=\"nofollow noreferrer\">https://prnt.sc/w14pap</a> (App XODO - <a href=\"https://play.google.com/store/apps/details?id=com.xodo.pdf.reader&amp;hl=tr\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.xodo.pdf.reader&amp;hl=tr</a>)\n<a href=\"https://i.stack.imgur.com/25ieI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/25ieI.png\" alt=\"enter image description here\" /></a></p>\n<p>We want to show a menu like that.</p>\n<p>We tried both in javascript side and react native plugin (<a href=\"https://github.com/Astrocoders/react-native-selectable-text\" rel=\"nofollow noreferrer\">https://github.com/Astrocoders/react-native-selectable-text</a>), but we couldn't succeed.</p>\n<p>Plugin supports only text, but we want to show icons only.</p>\n<p>Could you help me please how can I make a context menu like this?</p>\n<p>What we need?</p>\n<ul>\n<li>When user long press on text, a customized menu must be shown</li>\n<li>When user extend selection, the customized menu mustn't be lost or should be shown again.</li>\n<li>When user long press or extend selection, we must get start and end indexes of selection.</li>\n<li>We are using Text component because of we can colorize/underline some words of text. (TextInput doesn't support partial styling)</li>\n</ul>\n<p>If it is not possible to do it without native bridge, is there any ready plugins in native side to bridge?</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":3,"creation_date":1647269228,"post_id":71469584,"comment_id":126322460,"body_markdown":"You can use `Function.identity()` instead of `v-&gt;v`.","body":"You can use <code>Function.identity()</code> instead of <code>v-&gt;v</code>."},{"owner":{"account_id":24555043,"reputation":13,"user_id":18463756,"display_name":"Jan5676"},"score":1,"creation_date":1647269625,"post_id":71469584,"comment_id":126322621,"body_markdown":"Interesting, that works. I think you might as well post this as an answer, even though checking the implementation appears to just mask the arrow construct :p","body":"Interesting, that works. I think you might as well post this as an answer, even though checking the implementation appears to just mask the arrow construct :p"}],"answers":[{"tags":[],"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647270007,"creation_date":1647270007,"answer_id":71469836,"question_id":71469584,"body_markdown":"Instead of using `v-&gt;v` you can use `Function.identity()`, which has the same effect. I personally like the second method more, but would not say that one is really better than the other. You can read in [this answer](https://stackoverflow.com/a/28041480/7947994) about the differences if you are interested.","title":"Can the Double Colon Operator reference the Source Object itself?","body":"<p>Instead of using <code>v-&gt;v</code> you can use <code>Function.identity()</code>, which has the same effect. I personally like the second method more, but would not say that one is really better than the other. You can read in <a href=\"https://stackoverflow.com/a/28041480/7947994\">this answer</a> about the differences if you are interested.</p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647272774,"creation_date":1647272774,"answer_id":71470511,"question_id":71469584,"body_markdown":"You should use the answer provided by JANO – either `t -&gt; t` or `Function.identity()`.\r\n\r\nHowever, if you *really really* want to use a method reference, you could just roll out your own method:\r\n\r\n```java\r\nclass Functions {\r\n    static &lt;T&gt; T identity(T t) {\r\n        return t;\r\n    }\r\n}\r\n```\r\n\r\nand then suddenly\r\n\r\n```java\r\n.collect(Collectors.toMap(SampleObject::getImportantValue, Functions::identity));\r\n```\r\n\r\nworks.","title":"Can the Double Colon Operator reference the Source Object itself?","body":"<p>You should use the answer provided by JANO – either <code>t -&gt; t</code> or <code>Function.identity()</code>.</p>\n<p>However, if you <em>really really</em> want to use a method reference, you could just roll out your own method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Functions {\n    static &lt;T&gt; T identity(T t) {\n        return t;\n    }\n}\n</code></pre>\n<p>and then suddenly</p>\n<pre class=\"lang-java prettyprint-override\"><code>.collect(Collectors.toMap(SampleObject::getImportantValue, Functions::identity));\n</code></pre>\n<p>works.</p>\n"}],"owner":{"account_id":24555043,"reputation":13,"user_id":18463756,"display_name":"Jan5676"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1647273085,"accepted_answer_id":71469836,"answer_count":2,"score":1,"last_activity_date":1647273218,"creation_date":1647269003,"question_id":71469584,"body_markdown":"In certain cases when I use a Stream on a list of Objects, I like to collect them via the Collectors.toMap function and assign an important attribute as the key and the object itself as the value, like in this case:\r\n\r\n```java\r\nMap&lt;String, SampleObject&gt; map = list.stream()\r\n    .collect(Collectors.toMap(SampleObject::getImportantValue, v -&gt; v));\r\n```\r\n\r\nUsually I use the double colon operator to assign the key, but for the value I resort to the `v -&gt; v` construct.\r\n\r\nThis made me wonder:\r\n\r\nIs there a way to assign the object itself as the return value of the anonymous function by using double colons? From my own testing it appears that `SampleObject` and `SampleObject::` don&#39;t work. (Only logical, as the former only references the class and the latter expects a method to follow)\r\n\r\nAs a naive approach I would expect something functionally similar to this:\r\n\r\n`...collect(Collectors.toMap(SampleObject::getImportantValue, SampleObject::));`","title":"Can the Double Colon Operator reference the Source Object itself?","body":"<p>In certain cases when I use a Stream on a list of Objects, I like to collect them via the Collectors.toMap function and assign an important attribute as the key and the object itself as the value, like in this case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, SampleObject&gt; map = list.stream()\n    .collect(Collectors.toMap(SampleObject::getImportantValue, v -&gt; v));\n</code></pre>\n<p>Usually I use the double colon operator to assign the key, but for the value I resort to the <code>v -&gt; v</code> construct.</p>\n<p>This made me wonder:</p>\n<p>Is there a way to assign the object itself as the return value of the anonymous function by using double colons? From my own testing it appears that <code>SampleObject</code> and <code>SampleObject::</code> don't work. (Only logical, as the former only references the class and the latter expects a method to follow)</p>\n<p>As a naive approach I would expect something functionally similar to this:</p>\n<p><code>...collect(Collectors.toMap(SampleObject::getImportantValue, SampleObject::));</code></p>\n"},{"tags":["java","generics","wildcard","bounded-wildcard"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1647268822,"post_id":71469275,"comment_id":126322273,"body_markdown":"&quot;The official Oracle Java documentation shows an example of adding numbers to a list&quot; -- No, that code does not show adding numbers to a list. It shows *getting* numbers *from* a list.","body":"&quot;The official Oracle Java documentation shows an example of adding numbers to a list&quot; -- No, that code does not show adding numbers to a list. It shows <i>getting</i> numbers <i>from</i> a list."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647269193,"creation_date":1647268643,"answer_id":71469499,"question_id":71469275,"body_markdown":"&gt; So why would anyone use `extends` with `?` anyways?\r\n\r\nBecause you may not have a `List&lt;Number&gt;` to pass to it. For example, you can pass a `List&lt;Integer&gt;`, a `List&lt;BigInteger&gt;` etc to `sumOfList`.\r\n\r\nIf you hadn&#39;t declared it as accepting a `List&lt;? extends Number&gt;`, but instead as accepting a `List&lt;Number&gt;`, you could only pass a `List&lt;Number&gt;` to it - `List&lt;Integer&gt;` isn&#39;t a subtype of `List&lt;Number&gt;`.\r\n\r\n----\r\n\r\nIn terms of the `addNumbers` method: you simply need some kind of `List` to which it is safe to add instances of `Integer` (or subtypes [of which there are none, because it is final], or `null`).\r\n\r\nThat&#39;s all `List&lt;? super Integer&gt;` means: it&#39;s safe to add instances of `Integer` to that.\r\n\r\nIt&#39;s safe to pass a `List&lt;Object&gt;` to that method, because all `Integer`s are `Object`s, so it&#39;s safe to add `Integer`s to that list.\r\n\r\nAgain, if you&#39;d declared the method as accepting a `List&lt;Object&gt;` (or a `List&lt;Integer&gt;`), that would be all you could pass to it: a `List&lt;Object&gt;` (or a `List&lt;Integer&gt;`, respectively). You couldn&#39;t pass it, say, a `List&lt;Number&gt;`.\r\n\r\n---\r\n\r\n&gt; So can anyone clarify the actual practical use of the `extends` and `super` keywords in combination with the `?` operator?\r\n\r\nThe practical use of wildcards is *to increase the flexibility of API methods*, as illustrated above: it allows you to declare a single method that takes a range of related types as inputs.\r\n\r\nYou can also use wildcards in outputs, but this should be avoided, because the wildcard ends up in the type of the value at the call site, and just generally hangs around looking messy and confusing.\r\n","title":"Is there an actual practical usecase of the wildcard character (?) in Java?","body":"<blockquote>\n<p>So why would anyone use <code>extends</code> with <code>?</code> anyways?</p>\n</blockquote>\n<p>Because you may not have a <code>List&lt;Number&gt;</code> to pass to it. For example, you can pass a <code>List&lt;Integer&gt;</code>, a <code>List&lt;BigInteger&gt;</code> etc to <code>sumOfList</code>.</p>\n<p>If you hadn't declared it as accepting a <code>List&lt;? extends Number&gt;</code>, but instead as accepting a <code>List&lt;Number&gt;</code>, you could only pass a <code>List&lt;Number&gt;</code> to it - <code>List&lt;Integer&gt;</code> isn't a subtype of <code>List&lt;Number&gt;</code>.</p>\n<hr />\n<p>In terms of the <code>addNumbers</code> method: you simply need some kind of <code>List</code> to which it is safe to add instances of <code>Integer</code> (or subtypes [of which there are none, because it is final], or <code>null</code>).</p>\n<p>That's all <code>List&lt;? super Integer&gt;</code> means: it's safe to add instances of <code>Integer</code> to that.</p>\n<p>It's safe to pass a <code>List&lt;Object&gt;</code> to that method, because all <code>Integer</code>s are <code>Object</code>s, so it's safe to add <code>Integer</code>s to that list.</p>\n<p>Again, if you'd declared the method as accepting a <code>List&lt;Object&gt;</code> (or a <code>List&lt;Integer&gt;</code>), that would be all you could pass to it: a <code>List&lt;Object&gt;</code> (or a <code>List&lt;Integer&gt;</code>, respectively). You couldn't pass it, say, a <code>List&lt;Number&gt;</code>.</p>\n<hr />\n<blockquote>\n<p>So can anyone clarify the actual practical use of the <code>extends</code> and <code>super</code> keywords in combination with the <code>?</code> operator?</p>\n</blockquote>\n<p>The practical use of wildcards is <em>to increase the flexibility of API methods</em>, as illustrated above: it allows you to declare a single method that takes a range of related types as inputs.</p>\n<p>You can also use wildcards in outputs, but this should be avoided, because the wildcard ends up in the type of the value at the call site, and just generally hangs around looking messy and confusing.</p>\n"},{"tags":[],"owner":{"account_id":22750553,"reputation":321,"user_id":17236065,"display_name":"Pedro Luiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647273098,"creation_date":1647273098,"answer_id":71470586,"question_id":71469275,"body_markdown":"**1. So why would anyone use extends with ? anyways?**\r\n\r\nWe can&#39;t perform write or delete operations when wildcards are used as Unbounded like &quot;List&lt;?&gt;&quot;, because the compiler can&#39;t know what type it is, like:\r\n\r\n        // not allowed\r\n        public static void displayList(List&lt;?&gt; list) {\r\n            list.add(1);\r\n        }\r\n\r\n        // allowed\r\n        public static void displayList(List&lt;? super Integer&gt; list) {\r\n            list.add(1);\r\n        }\r\n\r\n**2. So can anyone clarify the actual practical use of the extends and super keywords in combination with the ? operator?**\r\n\r\nIt is a good combination of using some design patterns and principles, the most simple one that comes to my mind is using it with the [Interface Segregation Principle][1].\r\n\r\n  [1]: https://www.baeldung.com/java-interface-segregation\r\n\r\n    interface Worker {\r\n        void work();\r\n    }\r\n\r\n    interface Sleeping {\r\n        void sleep();\r\n    }\r\n\r\n    class Human implements Worker, Sleeping {\r\n\r\n        @Override\r\n        public void work() {}\r\n\r\n        @Override\r\n        public void sleep() {}\r\n    }\r\n\r\n    class Robot implements Worker {\r\n\r\n        @Override\r\n        public void work() {}\r\n    }\r\n\r\n        public static void main(String[] args) {\r\n        Human human1 = new Human();\r\n        Human human2 = new Human();\r\n        List&lt;Human&gt; humans = List.of(human1, human2);\r\n        displayIfSleeping(humans);\r\n\r\n        Robot robot1 = new Robot();\r\n        Robot robot2 = new Robot();\r\n        List&lt;Robot&gt; robots = List.of(robot1, robot2);\r\n        displayIfSleeping(robots); // error\r\n\r\n    }\r\n\r\n    public static void displayIfSleeping(List&lt;? extends Sleeping&gt; workers) {\r\n        // display only workers who are sleeping\r\n    }\r\n\r\nThat is a good way of explicit showing that if you have to iterate through workers, you only want them to be the ones that can sleep.\r\n","title":"Is there an actual practical usecase of the wildcard character (?) in Java?","body":"<p><strong>1. So why would anyone use extends with ? anyways?</strong></p>\n<p>We can't perform write or delete operations when wildcards are used as Unbounded like &quot;List&lt;?&gt;&quot;, because the compiler can't know what type it is, like:</p>\n<pre><code>    // not allowed\n    public static void displayList(List&lt;?&gt; list) {\n        list.add(1);\n    }\n\n    // allowed\n    public static void displayList(List&lt;? super Integer&gt; list) {\n        list.add(1);\n    }\n</code></pre>\n<p><strong>2. So can anyone clarify the actual practical use of the extends and super keywords in combination with the ? operator?</strong></p>\n<p>It is a good combination of using some design patterns and principles, the most simple one that comes to my mind is using it with the <a href=\"https://www.baeldung.com/java-interface-segregation\" rel=\"nofollow noreferrer\">Interface Segregation Principle</a>.</p>\n<pre><code>interface Worker {\n    void work();\n}\n\ninterface Sleeping {\n    void sleep();\n}\n\nclass Human implements Worker, Sleeping {\n\n    @Override\n    public void work() {}\n\n    @Override\n    public void sleep() {}\n}\n\nclass Robot implements Worker {\n\n    @Override\n    public void work() {}\n}\n\n    public static void main(String[] args) {\n    Human human1 = new Human();\n    Human human2 = new Human();\n    List&lt;Human&gt; humans = List.of(human1, human2);\n    displayIfSleeping(humans);\n\n    Robot robot1 = new Robot();\n    Robot robot2 = new Robot();\n    List&lt;Robot&gt; robots = List.of(robot1, robot2);\n    displayIfSleeping(robots); // error\n\n}\n\npublic static void displayIfSleeping(List&lt;? extends Sleeping&gt; workers) {\n    // display only workers who are sleeping\n}\n</code></pre>\n<p>That is a good way of explicit showing that if you have to iterate through workers, you only want them to be the ones that can sleep.</p>\n"}],"owner":{"account_id":18695664,"reputation":31,"user_id":13629037,"display_name":"macwarrior"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71469499,"answer_count":2,"score":-1,"last_activity_date":1647273098,"creation_date":1647267714,"question_id":71469275,"body_markdown":"I don&#39;t get the actual practical use case of the wildcard character `?` in Java, when using it with `extends` or `super`.\r\n\r\nThe official Oracle Java documentation shows an example of adding numbers to a list and sum them up:\r\n\r\n    private static double sumOfList(List&lt;? extends Number&gt; list) {\r\n    \tdouble sum = 0.0;\r\n    \tfor (Number number : list) {\r\n    \t\tsum += number.doubleValue();\r\n    \t}\r\n        return sum;\r\n    }\r\n\r\nFrom my understanding `List&lt;? extends Number&gt; list` **does not mean** &quot;a list of instances of Number objects and objects of possible sub-classes of Number&quot; but instead &quot;a list of objects of a single type, which have to be or extend the type Number&quot;. That&#39;s all fine.\r\n\r\nUntil I tried this code:\r\n\r\n    List&lt;Number&gt; numberList = new ArrayList&lt;Number&gt;();\r\n    numberList.add(Integer.valueOf(123));\r\n    numberList.add(Double.valueOf(2.34));\r\n    numberList.add(Float.valueOf(3.45f));\r\n\r\nThe instances can be added to the Number list through an implicit upcast to number references. And that list of numbers can then be used with the sumOfList method as shown above. But the elements would not be of a single type. So why would anyone use `extends` with `?` anyways?\r\n\r\nThe other thing that I am not getting is the use of the wildcard character with super. It is fine, that you can define the lower bound of a type. The offical Oracle documentation shows this example:\r\n\r\n    public static void addNumbers(List&lt;? super Integer&gt; list) {\r\n    \tfor (int i = 1; i &lt;= 10; i++) {\r\n    \t    list.add(i);\r\n    \t}\r\n    }\r\n\r\nThing is, this works great for a simple thing like adding numbers to a list. But the code shown also works with lists like this:\r\n\r\n    List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n    list.add(Integer.valueOf(123));\r\n    list.add(Double.valueOf(2.34));\r\n    list.add(new Person(&quot;John&quot;, &quot;Doe&quot;));\r\n\r\nSo as long as one would call methods, that would do anything useful with actual numbers like - I dunno - arithmetical operations the code would probably work fine. But when it comes to the John Doe entry, code meant for numbers would fail.\r\n\r\nSo can anyone clarify the actual practical use of the `extends` and `super` keywords in combination with the `?` operator?","title":"Is there an actual practical usecase of the wildcard character (?) in Java?","body":"<p>I don't get the actual practical use case of the wildcard character <code>?</code> in Java, when using it with <code>extends</code> or <code>super</code>.</p>\n<p>The official Oracle Java documentation shows an example of adding numbers to a list and sum them up:</p>\n<pre><code>private static double sumOfList(List&lt;? extends Number&gt; list) {\n    double sum = 0.0;\n    for (Number number : list) {\n        sum += number.doubleValue();\n    }\n    return sum;\n}\n</code></pre>\n<p>From my understanding <code>List&lt;? extends Number&gt; list</code> <strong>does not mean</strong> &quot;a list of instances of Number objects and objects of possible sub-classes of Number&quot; but instead &quot;a list of objects of a single type, which have to be or extend the type Number&quot;. That's all fine.</p>\n<p>Until I tried this code:</p>\n<pre><code>List&lt;Number&gt; numberList = new ArrayList&lt;Number&gt;();\nnumberList.add(Integer.valueOf(123));\nnumberList.add(Double.valueOf(2.34));\nnumberList.add(Float.valueOf(3.45f));\n</code></pre>\n<p>The instances can be added to the Number list through an implicit upcast to number references. And that list of numbers can then be used with the sumOfList method as shown above. But the elements would not be of a single type. So why would anyone use <code>extends</code> with <code>?</code> anyways?</p>\n<p>The other thing that I am not getting is the use of the wildcard character with super. It is fine, that you can define the lower bound of a type. The offical Oracle documentation shows this example:</p>\n<pre><code>public static void addNumbers(List&lt;? super Integer&gt; list) {\n    for (int i = 1; i &lt;= 10; i++) {\n        list.add(i);\n    }\n}\n</code></pre>\n<p>Thing is, this works great for a simple thing like adding numbers to a list. But the code shown also works with lists like this:</p>\n<pre><code>List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\nlist.add(Integer.valueOf(123));\nlist.add(Double.valueOf(2.34));\nlist.add(new Person(&quot;John&quot;, &quot;Doe&quot;));\n</code></pre>\n<p>So as long as one would call methods, that would do anything useful with actual numbers like - I dunno - arithmetical operations the code would probably work fine. But when it comes to the John Doe entry, code meant for numbers would fail.</p>\n<p>So can anyone clarify the actual practical use of the <code>extends</code> and <code>super</code> keywords in combination with the <code>?</code> operator?</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":990854,"reputation":20670,"user_id":1008222,"accept_rate":84,"display_name":"Mithun Sasidharan"},"score":0,"creation_date":1335433967,"post_id":10331025,"comment_id":13303019,"body_markdown":"Hope this helps -&gt; http://www.unix.com/unix-dummies-questions-answers/39683-find-string-jar-file.html considering your os is linux. good luck !!","body":"Hope this helps -&gt; <a href=\"http://www.unix.com/unix-dummies-questions-answers/39683-find-string-jar-file.html\" rel=\"nofollow noreferrer\">unix.com/unix-dummies-questions-answers/&hellip;</a> considering your os is linux. good luck !!"},{"owner":{"account_id":359062,"reputation":6355,"user_id":700232,"accept_rate":83,"display_name":"Kalpak Gadre"},"score":0,"creation_date":1335433970,"post_id":10331025,"comment_id":13303020,"body_markdown":"are you trying to do this at runtime, or as a part of debugging a problem?","body":"are you trying to do this at runtime, or as a part of debugging a problem?"},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1335434105,"post_id":10331025,"comment_id":13303066,"body_markdown":"What do you mean with &quot;keyword&quot;? Jar files consist of java classes, which contain identifiers and strings (and other content). Do you want to find classes which define or use a string &quot;BEGIN REQUEST &quot;?","body":"What do you mean with &quot;keyword&quot;? Jar files consist of java classes, which contain identifiers and strings (and other content). Do you want to find classes which define or use a string &quot;BEGIN REQUEST &quot;?"}],"answers":[{"tags":[],"owner":{"account_id":359062,"reputation":6355,"user_id":700232,"accept_rate":83,"display_name":"Kalpak Gadre"},"down_vote_count":1,"up_vote_count":160,"is_accepted":false,"score":159,"last_activity_date":1647272632,"creation_date":1335434224,"answer_id":10331145,"question_id":10331025,"body_markdown":"You can use zipgrep on Linux or OSX:\r\n\r\n    zipgrep &quot;BEGIN REQUEST&quot; file.jar\r\n\r\nIf you wish to search a number of jars, do\r\n\r\n    find libdir -name &quot;*.jar&quot; -exec zipgrep &quot;BEGIN REQUEST&quot; &#39;{}&#39; \\;\r\n\r\nwhere `libdir` is a directory containing all jars. The command will recursively search subdirectories too.\r\n\r\nFor windows, you can download cygwin and install zipgrep under it: http://www.cygwin.com/\r\n\r\n**Edit 1**\r\n\r\nTo view the name of the file that the expression was found you could do,\r\n\r\n    find libdir -name &quot;*.jar&quot; | xargs -I{} sh -c &#39;echo searching in &quot;{}&quot;; zipgrep &quot;BEGIN REQUEST&quot; {}&#39;\r\n\r\n**Edit 2**\r\n\r\nSimpler version of Edit 1\r\n\r\n    find libdir -name &quot;*.jar&quot; -print -exec zipgrep &quot;BEGIN REQUEST&quot; &#39;{}&#39; \\;\r\n","title":"How to search for a string in JAR files","body":"<p>You can use zipgrep on Linux or OSX:</p>\n<pre><code>zipgrep &quot;BEGIN REQUEST&quot; file.jar\n</code></pre>\n<p>If you wish to search a number of jars, do</p>\n<pre><code>find libdir -name &quot;*.jar&quot; -exec zipgrep &quot;BEGIN REQUEST&quot; '{}' \\;\n</code></pre>\n<p>where <code>libdir</code> is a directory containing all jars. The command will recursively search subdirectories too.</p>\n<p>For windows, you can download cygwin and install zipgrep under it: <a href=\"http://www.cygwin.com/\" rel=\"noreferrer\">http://www.cygwin.com/</a></p>\n<p><strong>Edit 1</strong></p>\n<p>To view the name of the file that the expression was found you could do,</p>\n<pre><code>find libdir -name &quot;*.jar&quot; | xargs -I{} sh -c 'echo searching in &quot;{}&quot;; zipgrep &quot;BEGIN REQUEST&quot; {}'\n</code></pre>\n<p><strong>Edit 2</strong></p>\n<p>Simpler version of Edit 1</p>\n<pre><code>find libdir -name &quot;*.jar&quot; -print -exec zipgrep &quot;BEGIN REQUEST&quot; '{}' \\;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2415189,"reputation":9,"user_id":2109382,"display_name":"JKI"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1361841293,"creation_date":1361840239,"answer_id":15079489,"question_id":10331025,"body_markdown":"The below command shows the results with the file name and jar file name.\r\n\r\n1. To find the string in the list of jar file.\r\n\r\n        find &lt;%PATH of the Folder where you need to search%&gt; -name &quot;*.jar&quot; -print -exec zipgrep &quot;jar$|&lt;%STRING THAT YOU NEED TO FIND&gt;&quot; &#39;{}&#39; \\;\r\n\r\n2. To find the class name in the list of jar file.\r\n\r\n        find . -name &quot;*.jar&quot; -print -exec jar tvf {} \\; |grep -E &quot;jar$|&lt;%CLASS NAME THAT YOU NEED TO FIND&gt;\\.class&quot;\r\n","title":"How to search for a string in JAR files","body":"<p>The below command shows the results with the file name and jar file name.</p>\n\n<ol>\n<li><p>To find the string in the list of jar file.</p>\n\n<pre><code>find &lt;%PATH of the Folder where you need to search%&gt; -name \"*.jar\" -print -exec zipgrep \"jar$|&lt;%STRING THAT YOU NEED TO FIND&gt;\" '{}' \\;\n</code></pre></li>\n<li><p>To find the class name in the list of jar file.</p>\n\n<pre><code>find . -name \"*.jar\" -print -exec jar tvf {} \\; |grep -E \"jar$|&lt;%CLASS NAME THAT YOU NEED TO FIND&gt;\\.class\"\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3986580,"reputation":87,"user_id":3286966,"display_name":"tigersagar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470393129,"creation_date":1470393129,"answer_id":38787065,"question_id":10331025,"body_markdown":"Searching inside a jar or finding the class name which contains a particular text is very easy with WinRar search. Its efficient and always worked for me atleast.\r\n\r\njust open any jar in WinRar, click on &quot;..&quot; until you reach the top folder from where you want to start the search(including subfolders).\r\n\r\nMake sure to check the below options:\r\n\r\n1.) Provide &#39;*&#39; in fields &#39;file names to find&#39;, &#39;Archive types&#39;\r\n\r\n2.) select check boxes &#39;find in subfolders&#39;, &#39;find in files&#39;, &#39;find in archives&#39;.","title":"How to search for a string in JAR files","body":"<p>Searching inside a jar or finding the class name which contains a particular text is very easy with WinRar search. Its efficient and always worked for me atleast.</p>\n\n<p>just open any jar in WinRar, click on \"..\" until you reach the top folder from where you want to start the search(including subfolders).</p>\n\n<p>Make sure to check the below options:</p>\n\n<p>1.) Provide '*' in fields 'file names to find', 'Archive types'</p>\n\n<p>2.) select check boxes 'find in subfolders', 'find in files', 'find in archives'.</p>\n"},{"tags":[],"owner":{"account_id":2087834,"reputation":7157,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1473447782,"creation_date":1473447782,"answer_id":39418200,"question_id":10331025,"body_markdown":"**Caution:** This is not an accurate answer, it&#39;s only a quick heuristic approach. If you need to find something like the name of a class (e.g., which jar has class Foo?) or maybe a method name, then this may work. \r\n\r\n    grep --text &#39;your string&#39; your.jar\r\n\r\nThis will search the jar file as if it were text. This is quicker because it doesn&#39;t expand the archive, but that is also why it is less accurate. If you need to be exhaustive then this is not the approach you should use, but if you want to try something a little quicker before pulling out `zipgrep` this is a good approach.\r\n\r\n---\r\n\r\nFrom `man grep`,\r\n\r\n&gt;       -a, --text\r\n&gt;               Process  a binary file as if it were text; this is equivalent\r\n&gt;               to the --binary-files=text option.","title":"How to search for a string in JAR files","body":"<p><strong>Caution:</strong> This is not an accurate answer, it's only a quick heuristic approach. If you need to find something like the name of a class (e.g., which jar has class Foo?) or maybe a method name, then this may work. </p>\n\n<pre><code>grep --text 'your string' your.jar\n</code></pre>\n\n<p>This will search the jar file as if it were text. This is quicker because it doesn't expand the archive, but that is also why it is less accurate. If you need to be exhaustive then this is not the approach you should use, but if you want to try something a little quicker before pulling out <code>zipgrep</code> this is a good approach.</p>\n\n<hr>\n\n<p>From <code>man grep</code>,</p>\n\n<blockquote>\n<pre><code>  -a, --text\n          Process  a binary file as if it were text; this is equivalent\n          to the --binary-files=text option.\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5398644,"reputation":1439,"user_id":4299078,"accept_rate":60,"display_name":"AndreyT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488370720,"creation_date":1488370720,"answer_id":42531528,"question_id":10331025,"body_markdown":"[Fastjar](http://fastjar.sourceforge.net/) - very old, but fit your needs. Fastjar contains tool called jargrep (or grepjar). Used the same way as grep:\r\n\r\n    &gt;  locate .jar | grep hibernate | xargs grepjar -n &#39;objectToSQLString&#39;\r\n\r\n    org/hibernate/type/EnumType.class:646:objectToSQLString\r\n    org/hibernate/sql/Update.class:576:objectToSQLString\r\n    org/hibernate/sql/Insert.class:410:objectToSQLString\r\n    org/hibernate/usertype/EnhancedUserType.class:22:objectToSQLString\r\n    org/hibernate/persister/entity/SingleTableEntityPersister.class:2713:objectToSQLString\r\n    org/hibernate/hql/classic/WhereParser.class:1910:objectToSQLString\r\n    org/hibernate/hql/ast/tree/JavaConstantNode.class:344:objectToSQLString\r\n    org/hibernate/hql/ast/tree/BooleanLiteralNode.class:240:objectToSQLString\r\n    org/hibernate/hql/ast/util/LiteralProcessor.class:1363:objectToSQLString\r\n    org/hibernate/type/BigIntegerType.class:114:objectToSQLString\r\n    org/hibernate/type/ShortType.class:189:objectToSQLString\r\n    org/hibernate/type/TimeType.class:307:objectToSQLString\r\n    org/hibernate/type/CharacterType.class:210:objectToSQLString\r\n    org/hibernate/type/BooleanType.class:180:objectToSQLString\r\n    org/hibernate/type/StringType.class:166:objectToSQLString\r\n    org/hibernate/type/NumericBooleanType.class:128:objectToSQLString\r\n    org/hibernate/type/CustomType.class:543:objectToSQLString\r\n    org/hibernate/type/TimeZoneType.class:204:objectToSQLString\r\n    org/hibernate/type/DateType.class:343:objectToSQLString\r\n    org/hibernate/type/LiteralType.class:18:objectToSQLString\r\n    org/hibernate/type/ByteType.class:189:objectToSQLString\r\n    org/hibernate/type/LocaleType.class:259:objectToSQLString\r\n    org/hibernate/type/CharBooleanType.class:171:objectToSQLString\r\n    org/hibernate/type/TimestampType.class:409:objectToSQLString\r\n    org/hibernate/type/CurrencyType.class:256:objectToSQLString\r\n    org/hibernate/type/AbstractCharArrayType.class:219:objectToSQLString\r\n    org/hibernate/type/FloatType.class:177:objectToSQLString\r\n    org/hibernate/type/DoubleType.class:173:objectToSQLString\r\n    org/hibernate/type/LongType.class:223:objectToSQLString\r\n    org/hibernate/type/IntegerType.class:188:objectToSQLString\r\n\r\n","title":"How to search for a string in JAR files","body":"<p><a href=\"http://fastjar.sourceforge.net/\" rel=\"nofollow noreferrer\">Fastjar</a> - very old, but fit your needs. Fastjar contains tool called jargrep (or grepjar). Used the same way as grep:</p>\n\n<pre><code>&gt;  locate .jar | grep hibernate | xargs grepjar -n 'objectToSQLString'\n\norg/hibernate/type/EnumType.class:646:objectToSQLString\norg/hibernate/sql/Update.class:576:objectToSQLString\norg/hibernate/sql/Insert.class:410:objectToSQLString\norg/hibernate/usertype/EnhancedUserType.class:22:objectToSQLString\norg/hibernate/persister/entity/SingleTableEntityPersister.class:2713:objectToSQLString\norg/hibernate/hql/classic/WhereParser.class:1910:objectToSQLString\norg/hibernate/hql/ast/tree/JavaConstantNode.class:344:objectToSQLString\norg/hibernate/hql/ast/tree/BooleanLiteralNode.class:240:objectToSQLString\norg/hibernate/hql/ast/util/LiteralProcessor.class:1363:objectToSQLString\norg/hibernate/type/BigIntegerType.class:114:objectToSQLString\norg/hibernate/type/ShortType.class:189:objectToSQLString\norg/hibernate/type/TimeType.class:307:objectToSQLString\norg/hibernate/type/CharacterType.class:210:objectToSQLString\norg/hibernate/type/BooleanType.class:180:objectToSQLString\norg/hibernate/type/StringType.class:166:objectToSQLString\norg/hibernate/type/NumericBooleanType.class:128:objectToSQLString\norg/hibernate/type/CustomType.class:543:objectToSQLString\norg/hibernate/type/TimeZoneType.class:204:objectToSQLString\norg/hibernate/type/DateType.class:343:objectToSQLString\norg/hibernate/type/LiteralType.class:18:objectToSQLString\norg/hibernate/type/ByteType.class:189:objectToSQLString\norg/hibernate/type/LocaleType.class:259:objectToSQLString\norg/hibernate/type/CharBooleanType.class:171:objectToSQLString\norg/hibernate/type/TimestampType.class:409:objectToSQLString\norg/hibernate/type/CurrencyType.class:256:objectToSQLString\norg/hibernate/type/AbstractCharArrayType.class:219:objectToSQLString\norg/hibernate/type/FloatType.class:177:objectToSQLString\norg/hibernate/type/DoubleType.class:173:objectToSQLString\norg/hibernate/type/LongType.class:223:objectToSQLString\norg/hibernate/type/IntegerType.class:188:objectToSQLString\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12523357,"reputation":165,"user_id":9114013,"display_name":"liams62217"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1517478357,"creation_date":1517478357,"answer_id":48559645,"question_id":10331025,"body_markdown":"Using jfind jar  \r\n\r\n\r\n&gt; JFind can find a Java class file anywhere on the filesystem, even if\r\n&gt; it is hidden many levels deep in a jar within an ear within a zip!\r\n\r\n http://jfind.sourceforge.net/ ","title":"How to search for a string in JAR files","body":"<p>Using jfind jar  </p>\n\n<blockquote>\n  <p>JFind can find a Java class file anywhere on the filesystem, even if\n  it is hidden many levels deep in a jar within an ear within a zip!</p>\n</blockquote>\n\n<p><a href=\"http://jfind.sourceforge.net/\" rel=\"nofollow noreferrer\">http://jfind.sourceforge.net/</a> </p>\n"},{"tags":[],"owner":{"account_id":444211,"reputation":61229,"user_id":835883,"accept_rate":81,"display_name":"j2emanue"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1541670696,"creation_date":1541670696,"answer_id":53205197,"question_id":10331025,"body_markdown":"in android i had to search both jar and aar files for a certain string i was looking for here is my implementation on mac:\r\n\r\n    find . -name &quot;*.jar&quot; -o -name &quot;*.aar&quot; | xargs -I{} zipgrep &quot;AssestManager&quot; {}\r\n\r\nessentially finds all jars and aar files in current direclty (and find command is recursive by default) pipes the results to zipgrep and applies each file name as a parameter via xargs.  the brackets at the end tell xargs where to put the file name you got from the find command. if you want to search the entire home directory  just change the find . to find ~  ","title":"How to search for a string in JAR files","body":"<p>in android i had to search both jar and aar files for a certain string i was looking for here is my implementation on mac:</p>\n\n<pre><code>find . -name \"*.jar\" -o -name \"*.aar\" | xargs -I{} zipgrep \"AssestManager\" {}\n</code></pre>\n\n<p>essentially finds all jars and aar files in current direclty (and find command is recursive by default) pipes the results to zipgrep and applies each file name as a parameter via xargs.  the brackets at the end tell xargs where to put the file name you got from the find command. if you want to search the entire home directory  just change the find . to find ~  </p>\n"},{"tags":[],"owner":{"account_id":11739318,"reputation":567,"user_id":8592142,"display_name":"Michael C Good"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570626157,"creation_date":1570626157,"answer_id":58304792,"question_id":10331025,"body_markdown":"Found the script below on alvinalexander.com. It is simple but useful for searching through all jar files in the current directory\r\n\r\n    \r\n    #!/bin/sh\r\n\r\n    LOOK_FOR=&quot;codehaus/xfire/spring&quot;\r\n\r\n    for i in `find . -name &quot;*jar&quot;`\r\n    do\r\n      echo &quot;Looking in $i ...&quot;\r\n      jar tvf $i | grep $LOOK_FOR &gt; /dev/null\r\n      if [ $? == 0 ]\r\n      then\r\n        echo &quot;==&gt; Found \\&quot;$LOOK_FOR\\&quot; in $i&quot;\r\n      fi\r\n    done\r\n\r\nReplace &quot;codehaus...&quot; with your query, i.e. a class name. \r\n\r\nSample output:\r\n\r\n    $ ./searchjars.sh\r\n    \r\n    Looking in ./activation-1.1.jar ...\r\n    Looking in ./commons-beanutils-1.7.0.jar ...\r\n    Looking in ./commons-codec-1.3.jar ...\r\n    Looking in ./commons-pool.jar ...\r\n    Looking in ./jaxen-1.1-beta-9.jar ...\r\n    Looking in ./jdom-1.0.jar ...\r\n    Looking in ./mail-1.4.jar ...\r\n    Looking in ./xbean-2.2.0.jar ...\r\n    Looking in ./xbean-spring-2.8.jar ...\r\n    Looking in ./xfire-aegis-1.2.6.jar ...\r\n    Looking in ./xfire-annotations-1.2.6.jar ...\r\n    Looking in ./xfire-core-1.2.6.jar ...\r\n    Looking in ./xfire-java5-1.2.6.jar ...\r\n    Looking in ./xfire-jaxws-1.2.6.jar ...\r\n    Looking in ./xfire-jsr181-api-1.0-M1.jar ...\r\n    Looking in ./xfire-spring-1.2.6.jar ...\r\n    ==&gt; Found &quot;codehaus/xfire/spring&quot; in ./xfire-spring-1.2.6.jar\r\n    Looking in ./XmlSchema-1.1.jar ...","title":"How to search for a string in JAR files","body":"<p>Found the script below on alvinalexander.com. It is simple but useful for searching through all jar files in the current directory</p>\n\n<pre><code>#!/bin/sh\n\nLOOK_FOR=\"codehaus/xfire/spring\"\n\nfor i in `find . -name \"*jar\"`\ndo\n  echo \"Looking in $i ...\"\n  jar tvf $i | grep $LOOK_FOR &gt; /dev/null\n  if [ $? == 0 ]\n  then\n    echo \"==&gt; Found \\\"$LOOK_FOR\\\" in $i\"\n  fi\ndone\n</code></pre>\n\n<p>Replace \"codehaus...\" with your query, i.e. a class name. </p>\n\n<p>Sample output:</p>\n\n<pre><code>$ ./searchjars.sh\n\nLooking in ./activation-1.1.jar ...\nLooking in ./commons-beanutils-1.7.0.jar ...\nLooking in ./commons-codec-1.3.jar ...\nLooking in ./commons-pool.jar ...\nLooking in ./jaxen-1.1-beta-9.jar ...\nLooking in ./jdom-1.0.jar ...\nLooking in ./mail-1.4.jar ...\nLooking in ./xbean-2.2.0.jar ...\nLooking in ./xbean-spring-2.8.jar ...\nLooking in ./xfire-aegis-1.2.6.jar ...\nLooking in ./xfire-annotations-1.2.6.jar ...\nLooking in ./xfire-core-1.2.6.jar ...\nLooking in ./xfire-java5-1.2.6.jar ...\nLooking in ./xfire-jaxws-1.2.6.jar ...\nLooking in ./xfire-jsr181-api-1.0-M1.jar ...\nLooking in ./xfire-spring-1.2.6.jar ...\n==&gt; Found \"codehaus/xfire/spring\" in ./xfire-spring-1.2.6.jar\nLooking in ./XmlSchema-1.1.jar ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7997930,"reputation":33,"user_id":6033641,"display_name":"Roger Tannous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578859824,"creation_date":1578859520,"answer_id":59707664,"question_id":10331025,"body_markdown":"One-liner solution that prints file names for which the search string is found, it doesn&#39;t jam your console with unnecessary &quot;searching in&quot; logs::\r\n\r\n    find libdir -wholename &quot;*.jar&quot; | xargs --replace={} bash -c &#39;zipgrep &quot;BEGIN REQUEST&quot; {} &amp;&gt;/dev/null; [ $? -eq 0 ] &amp;&amp; echo &quot;{}&quot;;&#39;\r\n\r\nEdit:: Removing unnecessary if statement, and using -name instead of -wholename (actually, I used wholename, but it depends on your scenario and preferences)::\r\n\r\n    find libdir -name &quot;*.jar&quot; | xargs --replace={} bash -c &#39;zipgrep &quot;BEGIN REQUEST&quot; {} &amp;&gt;/dev/null &amp;&amp; echo &quot;{}&quot;;&#39;\r\n\r\nYou can also use sh instead of bash.\r\nOne last thing, --replace={} is just equivalent to -I{} (I usually use long option formats, to avoid having to go into the manual again later).","title":"How to search for a string in JAR files","body":"<p>One-liner solution that prints file names for which the search string is found, it doesn't jam your console with unnecessary \"searching in\" logs::</p>\n\n<pre><code>find libdir -wholename \"*.jar\" | xargs --replace={} bash -c 'zipgrep \"BEGIN REQUEST\" {} &amp;&gt;/dev/null; [ $? -eq 0 ] &amp;&amp; echo \"{}\";'\n</code></pre>\n\n<p>Edit:: Removing unnecessary if statement, and using -name instead of -wholename (actually, I used wholename, but it depends on your scenario and preferences)::</p>\n\n<pre><code>find libdir -name \"*.jar\" | xargs --replace={} bash -c 'zipgrep \"BEGIN REQUEST\" {} &amp;&gt;/dev/null &amp;&amp; echo \"{}\";'\n</code></pre>\n\n<p>You can also use sh instead of bash.\nOne last thing, --replace={} is just equivalent to -I{} (I usually use long option formats, to avoid having to go into the manual again later).</p>\n"},{"tags":[],"owner":{"account_id":6844658,"reputation":1061,"user_id":5263842,"display_name":"A W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597919112,"creation_date":1597919112,"answer_id":63503068,"question_id":10331025,"body_markdown":"Although there are ways of doing it using a decomplier or eclipse , but it gets tricky when those jars are not part of your project , or its particularly painful when using decompiler and you have 100s or 1000s of jars placed in several folders. \r\n\r\nI found [this][1] CMD command useful , which helps in finding the class names in list of jars present in directory . \r\n\r\n    forfiles /S /M *.jar /C &quot;cmd /c jar -tvf @file | findstr &quot;classname&quot; &amp;&amp; echo @path\r\n\r\nYou can either navigate to your desired path , and open cmd from there and run this command OR  give the path directly in command itself , like this \r\n\r\n    forfiles /S /M *.jar /C &quot;cmd /c jar -tvf @file | findstr /C:&quot;classname&quot; &amp;&amp; echo @path\r\n\r\nMy use case was to find a particular class in Glassfish , so command will look something like this :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.windows-commandline.com/search-classes-in-jar-file/\r\n  [2]: https://i.stack.imgur.com/7f3Yb.png","title":"How to search for a string in JAR files","body":"<p>Although there are ways of doing it using a decomplier or eclipse , but it gets tricky when those jars are not part of your project , or its particularly painful when using decompiler and you have 100s or 1000s of jars placed in several folders.</p>\n<p>I found <a href=\"https://www.windows-commandline.com/search-classes-in-jar-file/\" rel=\"nofollow noreferrer\">this</a> CMD command useful , which helps in finding the class names in list of jars present in directory .</p>\n<pre><code>forfiles /S /M *.jar /C &quot;cmd /c jar -tvf @file | findstr &quot;classname&quot; &amp;&amp; echo @path\n</code></pre>\n<p>You can either navigate to your desired path , and open cmd from there and run this command OR  give the path directly in command itself , like this</p>\n<pre><code>forfiles /S /M *.jar /C &quot;cmd /c jar -tvf @file | findstr /C:&quot;classname&quot; &amp;&amp; echo @path\n</code></pre>\n<p>My use case was to find a particular class in Glassfish , so command will look something like this :</p>\n<p><a href=\"https://i.stack.imgur.com/7f3Yb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7f3Yb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1304629,"reputation":5311,"user_id":1253847,"accept_rate":52,"display_name":"user1253847"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130178,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"answer_count":10,"score":82,"last_activity_date":1647272632,"creation_date":1335433760,"question_id":10331025,"body_markdown":"My application is built on Java EE.\r\n\r\nI have approximately 50 jars in this application.\r\n\r\nIs it possible to search for a particular keyword (actually I want to search for a keyword `BEGIN REQUEST `)?\r\n\r\n\r\n\r\n","title":"How to search for a string in JAR files","body":"<p>My application is built on Java EE.</p>\n\n<p>I have approximately 50 jars in this application.</p>\n\n<p>Is it possible to search for a particular keyword (actually I want to search for a keyword <code>BEGIN REQUEST</code>)?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10114825,"reputation":41,"user_id":7473867,"display_name":"Bhoomika G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647272543,"creation_date":1647109015,"answer_id":71452156,"question_id":71452046,"body_markdown":"Could you please share the project structure? If the images are placed in *test/resources/* or *main/resources* folder then the jar will not have any resources from tests or main folder. That could be one possibility.","title":"Get images from resources folder on a JAR in a Spring boot application","body":"<p>Could you please share the project structure? If the images are placed in <em>test/resources/</em> or <em>main/resources</em> folder then the jar will not have any resources from tests or main folder. That could be one possibility.</p>\n"}],"owner":{"account_id":17166208,"reputation":75,"user_id":12479599,"display_name":"Bocho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647272543,"creation_date":1647108056,"question_id":71452046,"body_markdown":"I have a spring boot application. When I deploy mi application in a local Tomcat as a war, I&#39;m able to use images from the resources folder by this way:\r\n\r\n    ResourceUtils.getFile(&quot;classpath:Logo.png&quot;)\r\n\r\nMy problem is when I package the applications as a JAR. Seems that is not able to find the images... After some time searching the internet, I tried a few different things, but none have worked so far.\r\n\r\n    Resource resource  = new ClassPathResource(&quot;classpath:Logo.png&quot;);\r\n\tInputStream inputStream = resource.getInputStream();\r\n\tBufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n\timagePart.attachFile(FileCopyUtils.copyToString(reader));\r\n\r\nEdit:\r\nProject Structure\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9mbCG.png","title":"Get images from resources folder on a JAR in a Spring boot application","body":"<p>I have a spring boot application. When I deploy mi application in a local Tomcat as a war, I'm able to use images from the resources folder by this way:</p>\n<pre><code>ResourceUtils.getFile(&quot;classpath:Logo.png&quot;)\n</code></pre>\n<p>My problem is when I package the applications as a JAR. Seems that is not able to find the images... After some time searching the internet, I tried a few different things, but none have worked so far.</p>\n<pre><code>Resource resource  = new ClassPathResource(&quot;classpath:Logo.png&quot;);\nInputStream inputStream = resource.getInputStream();\nBufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\nimagePart.attachFile(FileCopyUtils.copyToString(reader));\n</code></pre>\n<p>Edit:\nProject Structure</p>\n<p><a href=\"https://i.stack.imgur.com/9mbCG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9mbCG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1647258362,"post_id":71466986,"comment_id":126317954,"body_markdown":"1) What jOOQ version are you using? 2) What&#39;s the full stack trace (at least the relevant bits), 3) How did you execute this query?","body":"1) What jOOQ version are you using? 2) What&#39;s the full stack trace (at least the relevant bits), 3) How did you execute this query?"},{"owner":{"account_id":11548488,"reputation":2162,"user_id":8461847,"display_name":"Vinko Vorih"},"score":0,"creation_date":1647258678,"post_id":71466986,"comment_id":126318065,"body_markdown":"1) &lt;jooq.version&gt;3.15.4&lt;/jooq.version&gt;\n2) \n\tat org.jooq.impl.Tools.indexFail(Tools.java:1769)\n\tat org.jooq.impl.AbstractRecord.get(AbstractRecord.java:331)\n\tat org.jooq.impl.AbstractRecord.get(AbstractRecord.java:336)\n3) query is executed inside transaction, using fetchLazy()","body":"1) &lt;jooq.version&gt;3.15.4&lt;/jooq.version&gt; 2)  \tat org.jooq.impl.Tools.indexFail(Tools.java:1769) \tat org.jooq.impl.AbstractRecord.get(AbstractRecord.java:331) \tat org.jooq.impl.AbstractRecord.get(AbstractRecord.java:336) 3) query is executed inside transaction, using fetchLazy()"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1647259208,"post_id":71466986,"comment_id":126318255,"body_markdown":"Can you please update your question with the details? Including the exact code *you* wrote to help reproduce it. I don&#39;t think I could reproduce the problem from the information you&#39;ve given so far.","body":"Can you please update your question with the details? Including the exact code <i>you</i> wrote to help reproduce it. I don&#39;t think I could reproduce the problem from the information you&#39;ve given so far."},{"owner":{"account_id":11548488,"reputation":2162,"user_id":8461847,"display_name":"Vinko Vorih"},"score":1,"creation_date":1647260035,"post_id":71466986,"comment_id":126318564,"body_markdown":"added UPDATE section with entire method call","body":"added UPDATE section with entire method call"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1647263672,"post_id":71466986,"comment_id":126320016,"body_markdown":"And what does `processRecords` do? Does the error happen in there, or inside of `fetchLazy()`? (I can&#39;t see it, which is why I asked for the complete stack trace)","body":"And what does <code>processRecords</code> do? Does the error happen in there, or inside of <code>fetchLazy()</code>? (I can&#39;t see it, which is why I asked for the complete stack trace)"},{"owner":{"account_id":11548488,"reputation":2162,"user_id":8461847,"display_name":"Vinko Vorih"},"score":0,"creation_date":1647266026,"post_id":71466986,"comment_id":126321041,"body_markdown":"I&#39;ve updated question. As it seems problem lays in my custom mapper, I&#39;m not sure what is the correct way of mapping row data received inside record","body":"I&#39;ve updated question. As it seems problem lays in my custom mapper, I&#39;m not sure what is the correct way of mapping row data received inside record"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647272431,"creation_date":1647272431,"answer_id":71470434,"question_id":71466986,"body_markdown":"The problem is that you&#39;ve nested your record to have a type like this\r\n\r\n```java\r\nCursor&lt;Record1&lt;CustomMapperSelectSeekStep&gt;&gt;\r\n```\r\n\r\nWhen you thought you had a type like this:\r\n\r\n```java\r\nCursor&lt;Record10&lt;T1, T2, ..., T10&gt;&gt;\r\n```\r\n\r\nIn the latter case, you could simply extract the projected column like you did:\r\n\r\n```java\r\nrecord.get(TEST.TEST_NAME);\r\n```\r\n\r\nBut when you have a nested record, that column no longer exists, it&#39;s nested in an anonymous `Record1&lt;?&gt;` type. Not only that, but because you used an [ad-hoc converter using `convertFrom()`][1], there&#39;s no nested record anymore, but jOOQ projected your custom POJO type `CustomMapperSelectSeekStep` for you.\r\n\r\nSo, just read your value like this:\r\n\r\n```java\r\nvoid processRecords(List&lt;Record1&lt;CustomMapperSelectSeekStep&gt;&gt; records) {\r\n    for (Record1&lt;CustomMapperSelectSeekStep&gt; record : records) {\r\n        CustomMapperSelectSeekStep pojo : record.value1();\r\n    }\r\n} \r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/","title":"Using row() in jooq to map result into custom seekStep class","body":"<p>The problem is that you've nested your record to have a type like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cursor&lt;Record1&lt;CustomMapperSelectSeekStep&gt;&gt;\n</code></pre>\n<p>When you thought you had a type like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cursor&lt;Record10&lt;T1, T2, ..., T10&gt;&gt;\n</code></pre>\n<p>In the latter case, you could simply extract the projected column like you did:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record.get(TEST.TEST_NAME);\n</code></pre>\n<p>But when you have a nested record, that column no longer exists, it's nested in an anonymous <code>Record1&lt;?&gt;</code> type. Not only that, but because you used an <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc converter using <code>convertFrom()</code></a>, there's no nested record anymore, but jOOQ projected your custom POJO type <code>CustomMapperSelectSeekStep</code> for you.</p>\n<p>So, just read your value like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void processRecords(List&lt;Record1&lt;CustomMapperSelectSeekStep&gt;&gt; records) {\n    for (Record1&lt;CustomMapperSelectSeekStep&gt; record : records) {\n        CustomMapperSelectSeekStep pojo : record.value1();\n    }\n} \n</code></pre>\n"}],"owner":{"account_id":11548488,"reputation":2162,"user_id":8461847,"display_name":"Vinko Vorih"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71470434,"answer_count":1,"score":1,"last_activity_date":1647272431,"creation_date":1647257157,"question_id":71466986,"body_markdown":"Since I don&#39;t want to use RecordX class (in my case I am returning 11 fields from query) I&#39;ve created custom mapper to map SelectSeekStep result into it. The problem occurs when I have fields that are part of joined table. E.g.\r\n\r\n    @Value\r\n    public class CustomMapperSelectSeekStep {\r\n      private final String field1;\r\n      private final String field2;\r\n      private final String field3;\r\n      private final String field4;\r\n      private final String field5;\r\n      private final String field6;\r\n      private final String field7;\r\n      private final String test_id;\r\n      private final String field9;\r\n      private final String field10;\r\n    }\r\nLet&#39;s say that all fields except `test_id` fields are part of main table (let&#39;s call it `dummy`) and that field is part of `test` table which we will connect with `left join`.\r\n\r\n    dslContext\r\n\t.select(\r\n\trow(DUMMY.FIELD1,\r\n\t\tDUMMY.FIELD2,\r\n\t\tDUMMY.FIELD3,\r\n\t\tDUMMY.FIELD4,\r\n\t\tDUMMY.FIELD5,\r\n\t\tDUMMY.FIELD6,\r\n\t\tDUMMY.FIELD7,\r\n\t\tTEST.TEST_NAME,\r\n\t\tDUMMY.FIELD8,\r\n\t\tDUMMY.FIELD9,\r\n\t\tDUMMY.FIELD10).mapping(CustomMapperSelectSeekStep::new))\r\n\t.from(DUMMY)\r\n\t.leftJoin(TEST).on(TEST.ID.eq(DUMMY.TEST_ID))\r\n\t.orderBy(DUMMY.FIELD1);\r\n\r\nException I am getting:\r\n\r\n    java.lang.IllegalArgumentException: Field (&quot;test&quot;.&quot;test_name&quot;) is not contained in Row \r\n    (row (\r\n    &quot;DUMMY&quot;.&quot;FIELD1&quot;,\r\n    &quot;DUMMY&quot;.&quot;FIELD2&quot;,\r\n    &quot;DUMMY&quot;.&quot;FIELD3&quot;,\r\n    &quot;DUMMY&quot;.&quot;FIELD4&quot;,\r\n    &quot;DUMMY&quot;.&quot;FIELD5&quot;,\r\n    &quot;DUMMY&quot;.&quot;FIELD6&quot;,\r\n    &quot;DUMMY&quot;.&quot;FIELD7&quot;,\r\n    &quot;DUMMY&quot;.&quot;FIELD8&quot;,\r\n    &quot;TEST&quot;.&quot;TEST_NAME&quot;,\r\n    &quot;DUMMY&quot;.&quot;FIELD9&quot;,\r\n    &quot;DUMMY&quot;.&quot;FIELD10&quot;\r\n    ))\t\r\n\r\nUPDATE: added entire method call:\r\n\r\n    dslContext.transaction(configuration -&gt; {\r\n    DSLContext localDsl = DSL.using(configuration);\r\n    try (Cursor&lt;Record1&lt;CustomMapperSelectSeekStep&gt;&gt; records = \r\n    selectRecords(localDsl)\r\n        .fetchSize(1000)\r\n        .resultSetType(ResultSet.TYPE_FORWARD_ONLY)\r\n        .resultSetConcurrency(ResultSet.CONCUR_READ_ONLY)\r\n\t    .fetchLazy()) {\r\n\t        processRecords(records);\r\n\t    }\r\n    });\r\n    //method\r\n    private SelectSeekStep1&lt;Record1&lt;CustomMapperSelectSeekStep&gt;,Timestamp&gt; selectRecords(DSLContext dslContext) {\r\n    return dslContext.select(\r\n\t    row(DUMMY.FIELD1,\r\n\t\t    DUMMY.FIELD2,\r\n\t\t    DUMMY.FIELD3,\r\n\t\t    DUMMY.FIELD4,\r\n\t\t    DUMMY.FIELD5,\r\n\t\t    DUMMY.FIELD6,\r\n\t\t    DUMMY.FIELD7,\r\n\t\t    TEST.TEST_NAME,\r\n\t\t    DUMMY.FIELD8,\r\n\t\t    DUMMY.FIELD9,\r\n\t\t    DUMMY.FIELD10).mapping(CustomMapperSelectSeekStep::new))\r\n\t    .from(DUMMY)\r\n\t    .leftJoin(TEST).on(TEST.ID.eq(DUMMY.TEST_ID))\r\n\t    .orderBy(DUMMY.FIELD1);\r\n        }\r\n\r\nInside process record I am mapping `Record` objects to desired object type.\r\n\r\n    void processRecords(List&lt;Records&gt; records) {\r\n    record.map(recordMapper);\r\n    } \r\n\r\nI have custom recordMapper implementation where i am doing logic like this:\r\n\r\n    testName = record.get(TEST.TEST_NAME, Test.class);\r\n\r\nStack trace:\r\n\r\n    \tat org.jooq.impl.Tools.indexFail(Tools.java:1769)\r\n\tat org.jooq.impl.AbstractRecord.get(AbstractRecord.java:331)\r\n\tat org.jooq.impl.AbstractRecord.get(AbstractRecord.java:336)\r\n\tat org.test.CustomMapper.map(CustomMapper.java:42)\r\n\tat org.test.CustomMapper.map(CustomMapper.java:16)\r\n\tat org.jooq.impl.AbstractRecord.map(AbstractRecord.java:904)\r\n\tat org.test.Processor.processRecords(Processor.java:88)\r\n\tat org.test.Repository.lambda$fetchLazy$0(Repository.java:78)\r\n\tat org.jooq.impl.DefaultDSLContext.lambda$transaction$5(DefaultDSLContext.java:611)\r\n\tat org.jooq.impl.DefaultDSLContext.lambda$transactionResult0$3(DefaultDSLContext.java:549)\r\n\r\n","title":"Using row() in jooq to map result into custom seekStep class","body":"<p>Since I don't want to use RecordX class (in my case I am returning 11 fields from query) I've created custom mapper to map SelectSeekStep result into it. The problem occurs when I have fields that are part of joined table. E.g.</p>\n<pre><code>@Value\npublic class CustomMapperSelectSeekStep {\n  private final String field1;\n  private final String field2;\n  private final String field3;\n  private final String field4;\n  private final String field5;\n  private final String field6;\n  private final String field7;\n  private final String test_id;\n  private final String field9;\n  private final String field10;\n}\n</code></pre>\n<p>Let's say that all fields except <code>test_id</code> fields are part of main table (let's call it <code>dummy</code>) and that field is part of <code>test</code> table which we will connect with <code>left join</code>.</p>\n<pre><code>dslContext\n.select(\nrow(DUMMY.FIELD1,\n    DUMMY.FIELD2,\n    DUMMY.FIELD3,\n    DUMMY.FIELD4,\n    DUMMY.FIELD5,\n    DUMMY.FIELD6,\n    DUMMY.FIELD7,\n    TEST.TEST_NAME,\n    DUMMY.FIELD8,\n    DUMMY.FIELD9,\n    DUMMY.FIELD10).mapping(CustomMapperSelectSeekStep::new))\n.from(DUMMY)\n.leftJoin(TEST).on(TEST.ID.eq(DUMMY.TEST_ID))\n.orderBy(DUMMY.FIELD1);\n</code></pre>\n<p>Exception I am getting:</p>\n<pre><code>java.lang.IllegalArgumentException: Field (&quot;test&quot;.&quot;test_name&quot;) is not contained in Row \n(row (\n&quot;DUMMY&quot;.&quot;FIELD1&quot;,\n&quot;DUMMY&quot;.&quot;FIELD2&quot;,\n&quot;DUMMY&quot;.&quot;FIELD3&quot;,\n&quot;DUMMY&quot;.&quot;FIELD4&quot;,\n&quot;DUMMY&quot;.&quot;FIELD5&quot;,\n&quot;DUMMY&quot;.&quot;FIELD6&quot;,\n&quot;DUMMY&quot;.&quot;FIELD7&quot;,\n&quot;DUMMY&quot;.&quot;FIELD8&quot;,\n&quot;TEST&quot;.&quot;TEST_NAME&quot;,\n&quot;DUMMY&quot;.&quot;FIELD9&quot;,\n&quot;DUMMY&quot;.&quot;FIELD10&quot;\n))  \n</code></pre>\n<p>UPDATE: added entire method call:</p>\n<pre><code>dslContext.transaction(configuration -&gt; {\nDSLContext localDsl = DSL.using(configuration);\ntry (Cursor&lt;Record1&lt;CustomMapperSelectSeekStep&gt;&gt; records = \nselectRecords(localDsl)\n    .fetchSize(1000)\n    .resultSetType(ResultSet.TYPE_FORWARD_ONLY)\n    .resultSetConcurrency(ResultSet.CONCUR_READ_ONLY)\n    .fetchLazy()) {\n        processRecords(records);\n    }\n});\n//method\nprivate SelectSeekStep1&lt;Record1&lt;CustomMapperSelectSeekStep&gt;,Timestamp&gt; selectRecords(DSLContext dslContext) {\nreturn dslContext.select(\n    row(DUMMY.FIELD1,\n        DUMMY.FIELD2,\n        DUMMY.FIELD3,\n        DUMMY.FIELD4,\n        DUMMY.FIELD5,\n        DUMMY.FIELD6,\n        DUMMY.FIELD7,\n        TEST.TEST_NAME,\n        DUMMY.FIELD8,\n        DUMMY.FIELD9,\n        DUMMY.FIELD10).mapping(CustomMapperSelectSeekStep::new))\n    .from(DUMMY)\n    .leftJoin(TEST).on(TEST.ID.eq(DUMMY.TEST_ID))\n    .orderBy(DUMMY.FIELD1);\n    }\n</code></pre>\n<p>Inside process record I am mapping <code>Record</code> objects to desired object type.</p>\n<pre><code>void processRecords(List&lt;Records&gt; records) {\nrecord.map(recordMapper);\n} \n</code></pre>\n<p>I have custom recordMapper implementation where i am doing logic like this:</p>\n<pre><code>testName = record.get(TEST.TEST_NAME, Test.class);\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>    at org.jooq.impl.Tools.indexFail(Tools.java:1769)\nat org.jooq.impl.AbstractRecord.get(AbstractRecord.java:331)\nat org.jooq.impl.AbstractRecord.get(AbstractRecord.java:336)\nat org.test.CustomMapper.map(CustomMapper.java:42)\nat org.test.CustomMapper.map(CustomMapper.java:16)\nat org.jooq.impl.AbstractRecord.map(AbstractRecord.java:904)\nat org.test.Processor.processRecords(Processor.java:88)\nat org.test.Repository.lambda$fetchLazy$0(Repository.java:78)\nat org.jooq.impl.DefaultDSLContext.lambda$transaction$5(DefaultDSLContext.java:611)\nat org.jooq.impl.DefaultDSLContext.lambda$transactionResult0$3(DefaultDSLContext.java:549)\n</code></pre>\n"},{"tags":["java","logging","logback","rollingfileappender"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1647279006,"post_id":71470119,"comment_id":126326389,"body_markdown":"What&#39;s the java code were missing loggin is?","body":"What&#39;s the java code were missing loggin is?"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1647279349,"post_id":71470119,"comment_id":126326506,"body_markdown":"Please, take some time to read how to create [a minimal, reproducible example](/help/minimal-reproducible-example)","body":"Please, take some time to read how to create <a href=\"/help/minimal-reproducible-example\">a minimal, reproducible example</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647283958,"post_id":71470119,"comment_id":126328085,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":16765801,"reputation":1,"user_id":12119499,"display_name":"SREELEKSHMI G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647271143,"creation_date":1647271143,"question_id":71470119,"body_markdown":"I am using a Rolling File Appender and it creates new log files after the file size exceeds 3MB. But it does not add some logs. When I try to perform operations on UI, it doesn&#39;t gets logged. I am new to Log-back and would be great if anybody can help?\r\n\r\n    &lt;appender name=&quot;SiftingRolling&quot; class=&quot;com.demo.eventlogger.SiftingAppender&quot;&gt;\r\n    &lt;discriminator&gt;\r\n        &lt;key&gt;id&lt;/key&gt;\r\n        &lt;defaultValue&gt;Common&lt;/defaultValue&gt;\r\n    &lt;/discriminator&gt;\r\n    &lt;sift&gt;\r\n        &lt;appender name=&quot;FILE-${id}&quot;\r\n                class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;${dir}/log/service.log&lt;/file&gt;\r\n            &lt;rollingPolicy\r\n                    class=&quot;ch.qos.logback.core.rolling.FixedWindowRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;${dir}/log/service.%i.gz\r\n                &lt;/fileNamePattern&gt;\r\n                &lt;maxIndex&gt;1&lt;/maxIndex&gt;\r\n            &lt;/rollingPolicy&gt;\r\n            &lt;triggeringPolicy\r\n                    class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\r\n                &lt;maxFileSize&gt;3MB&lt;/maxFileSize&gt;\r\n            &lt;/triggeringPolicy&gt;\r\n            &lt;append&gt;true&lt;/append&gt;\r\n            \r\n        &lt;/appender&gt;\r\n  \r\n\r\n  \r\n       &lt;/sift&gt;\r\n      &lt;/appender&gt;","title":"Rolling file Appender Missing some logs","body":"<p>I am using a Rolling File Appender and it creates new log files after the file size exceeds 3MB. But it does not add some logs. When I try to perform operations on UI, it doesn't gets logged. I am new to Log-back and would be great if anybody can help?</p>\n<pre><code>&lt;appender name=&quot;SiftingRolling&quot; class=&quot;com.demo.eventlogger.SiftingAppender&quot;&gt;\n&lt;discriminator&gt;\n    &lt;key&gt;id&lt;/key&gt;\n    &lt;defaultValue&gt;Common&lt;/defaultValue&gt;\n&lt;/discriminator&gt;\n&lt;sift&gt;\n    &lt;appender name=&quot;FILE-${id}&quot;\n            class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${dir}/log/service.log&lt;/file&gt;\n        &lt;rollingPolicy\n                class=&quot;ch.qos.logback.core.rolling.FixedWindowRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${dir}/log/service.%i.gz\n            &lt;/fileNamePattern&gt;\n            &lt;maxIndex&gt;1&lt;/maxIndex&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;triggeringPolicy\n                class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\n            &lt;maxFileSize&gt;3MB&lt;/maxFileSize&gt;\n        &lt;/triggeringPolicy&gt;\n        &lt;append&gt;true&lt;/append&gt;\n        \n    &lt;/appender&gt;\n\n\n\n   &lt;/sift&gt;\n  &lt;/appender&gt;\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa","information-schema"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1647274420,"post_id":71470097,"comment_id":126324618,"body_markdown":"Colon is a special character for JPA, used in JPQL queries. [Take a look at this question and the solutions](https://stackoverflow.com/questions/4169582/escaping-the-colon-character-in-jpa-queries).","body":"Colon is a special character for JPA, used in JPQL queries. <a href=\"https://stackoverflow.com/questions/4169582/escaping-the-colon-character-in-jpa-queries\">Take a look at this question and the solutions</a>."},{"owner":{"account_id":16212014,"reputation":23,"user_id":11705738,"display_name":"ice denis"},"score":0,"creation_date":1647277409,"post_id":71470097,"comment_id":126325776,"body_markdown":"TY A LOT WORKED  &lt;3","body":"TY A LOT WORKED  &lt;3"}],"owner":{"account_id":16212014,"reputation":23,"user_id":11705738,"display_name":"ice denis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2742,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647271065,"creation_date":1647271065,"question_id":71470097,"body_markdown":"Hi i have working query in mySQL: \r\nQUERY:\r\n\r\n&gt; SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE &#39;dmind&#39;;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l4bwt.png\r\n\r\nDatabase name  is dmind.\r\n\r\nSo what i want to do is Get this Information in Spring Boot JpaRepository\r\nHere is the code i have: \r\nMODEL:\r\n\r\n    @Entity\r\npublic class DatabaseModel1 {\r\n    \r\n\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;num&quot;)\r\n    private Long ID;\r\n\r\n\r\n\r\n    @Column(name = &quot;TABLE_NAME&quot;)\r\n    private String tableName;\r\n\r\n    public DatabaseModel1(){\r\n\r\n    }\r\n\r\n    public DatabaseModel1(Long ID, String tableName) {\r\n        this.ID = ID;\r\n        this.tableName = tableName;\r\n    }\r\n\r\n    public Long getID() {\r\n        return ID;\r\n    }\r\n\r\n    public void setID(Long ID) {\r\n        this.ID = ID;\r\n    }\r\n\r\n    public String getTableName() {\r\n        return tableName;\r\n    }\r\n\r\n    public void setTableName(String tableName) {\r\n        this.tableName = tableName;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nThats is the REPO\r\n\r\n\r\n\r\n  @Repository\r\npublic interface DatabaseRepo extends JpaRepository&lt;DatabaseModel1, Long&gt; {\r\n\r\n\r\n\r\n    @Query(value = &quot;SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE &#39;dmind&#39;&quot; , nativeQuery = true)\r\n    List&lt;DatabaseModel1&gt; finddatabase();\r\n\r\n}\r\n\r\n\r\nAnd The controller:\r\n\r\n\r\n      @GetMapping(&quot;/data&quot;)\r\n    public List&lt;DatabaseModel1&gt; getdabase(){\r\n        return databaseRepo.finddatabase();\r\n    }\r\n\r\n\r\nSo When i make Request From POSTMAN I get this Result\r\n\r\n\r\n    timestamp&quot;: &quot;2022-03-14T15:13:06.160+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;trace&quot;: &quot;org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: Space is not allowed after parameter prefix &#39;:&#39; [SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE &#39;dmind&#39;]; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: Space is not allowed after parameter prefix &#39;:&#39; [SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE &#39;dmind&#39;]\\r\\n\\tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\\r\\n\\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\\r\\n\\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\\r\\n\\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy105.finddatabase(Unknown Source)\\r\\n\\tat com.dbcompairbackend.controller.EmployeeController.getdabase(EmployeeController.java:43)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\r\\nCaused by: java.lang.IllegalArgumentException: org.hibernate.QueryException: Space is not allowed after parameter prefix &#39;:&#39; [SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE &#39;dmind&#39;]\\r\\n\\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)\\r\\n\\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\\r\\n\\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\\r\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.getNativeQueryImplementor(AbstractSharedSessionContract.java:1147)\\r\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.createNativeQuery(AbstractSharedSessionContract.java:1043)\\r\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.createNativeQuery(AbstractSharedSessionContract.java:1053)\\r\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.createNativeQuery(AbstractSharedSessionContract.java:114)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\r\\n\\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy94.createNativeQuery(Unknown Source)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\r\\n\\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy94.createNativeQuery(Unknown Source)\\r\\n\\tat org.springframework.data.jpa.repository.query.NativeJpaQuery.createJpaQuery(NativeJpaQuery.java:72)\\r\\n\\tat org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:89)\\r\\n\\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:227)\\r\\n\\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)\\r\\n\\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\\r\\n\\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\\r\\n\\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\\r\\n\\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159)\\r\\n\\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\\r\\n\\t... 58 more\\r\\nCaused by: org.hibernate.QueryException: Space is not allowed after parameter prefix &#39;:&#39; [SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE &#39;dmind&#39;]\\r\\n\\tat org.hibernate.engine.query.spi.ParameterParser.parse(ParameterParser.java:175)\\r\\n\\tat org.hibernate.engine.query.spi.ParamLocationRecognizer.parseLocations(ParamLocationRecognizer.java:56)\\r\\n\\tat org.hibernate.engine.query.internal.NativeQueryInterpreterStandardImpl.getParameterMetadata(NativeQueryInterpreterStandardImpl.java:30)\\r\\n\\tat org.hibernate.engine.query.spi.QueryPlanCache.lambda$getSQLParameterMetadata$0(QueryPlanCache.java:135)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)\\r\\n\\tat org.hibernate.engine.query.spi.QueryPlanCache.getSQLParameterMetadata(QueryPlanCache.java:135)\\r\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.getNativeQueryImplementor(AbstractSharedSessionContract.java:1140)\\r\\n\\t... 92 more\\r\\n&quot;,\r\n    &quot;message&quot;: &quot;org.hibernate.QueryException: Space is not allowed after parameter prefix &#39;:&#39; [SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE &#39;dmind&#39;]; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: Space is not allowed after parameter prefix &#39;:&#39; [SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE &#39;dmind&#39;]&quot;,\r\n    &quot;path&quot;: &quot;/api/v1/data&quot;\r\n\r\n\r\nSo if you can help me out how i can do that Please Write any suggestions you have:)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring BOOT JPA, Custom SQL Query with mysql added row number in Select from INFORMATION SCHEMA","body":"<p>Hi i have working query in mySQL:\nQUERY:</p>\n<blockquote>\n<p>SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE 'dmind';</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/l4bwt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l4bwt.png\" alt=\"enter image description here\" /></a></p>\n<p>Database name  is dmind.</p>\n<p>So what i want to do is Get this Information in Spring Boot JpaRepository\nHere is the code i have:\nMODEL:</p>\n<pre><code>@Entity\n</code></pre>\n<p>public class DatabaseModel1 {</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;num&quot;)\nprivate Long ID;\n\n\n\n@Column(name = &quot;TABLE_NAME&quot;)\nprivate String tableName;\n\npublic DatabaseModel1(){\n\n}\n\npublic DatabaseModel1(Long ID, String tableName) {\n    this.ID = ID;\n    this.tableName = tableName;\n}\n\npublic Long getID() {\n    return ID;\n}\n\npublic void setID(Long ID) {\n    this.ID = ID;\n}\n\npublic String getTableName() {\n    return tableName;\n}\n\npublic void setTableName(String tableName) {\n    this.tableName = tableName;\n}\n</code></pre>\n<p>}</p>\n<p>Thats is the REPO</p>\n<p>@Repository\npublic interface DatabaseRepo extends JpaRepository&lt;DatabaseModel1, Long&gt; {</p>\n<pre><code>@Query(value = &quot;SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE 'dmind'&quot; , nativeQuery = true)\nList&lt;DatabaseModel1&gt; finddatabase();\n</code></pre>\n<p>}</p>\n<p>And The controller:</p>\n<pre><code>  @GetMapping(&quot;/data&quot;)\npublic List&lt;DatabaseModel1&gt; getdabase(){\n    return databaseRepo.finddatabase();\n}\n</code></pre>\n<p>So When i make Request From POSTMAN I get this Result</p>\n<pre><code>timestamp&quot;: &quot;2022-03-14T15:13:06.160+00:00&quot;,\n&quot;status&quot;: 500,\n&quot;error&quot;: &quot;Internal Server Error&quot;,\n&quot;trace&quot;: &quot;org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: Space is not allowed after parameter prefix ':' [SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE 'dmind']; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: Space is not allowed after parameter prefix ':' [SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE 'dmind']\\r\\n\\tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\\r\\n\\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\\r\\n\\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\\r\\n\\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy105.finddatabase(Unknown Source)\\r\\n\\tat com.dbcompairbackend.controller.EmployeeController.getdabase(EmployeeController.java:43)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\r\\nCaused by: java.lang.IllegalArgumentException: org.hibernate.QueryException: Space is not allowed after parameter prefix ':' [SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE 'dmind']\\r\\n\\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)\\r\\n\\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\\r\\n\\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\\r\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.getNativeQueryImplementor(AbstractSharedSessionContract.java:1147)\\r\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.createNativeQuery(AbstractSharedSessionContract.java:1043)\\r\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.createNativeQuery(AbstractSharedSessionContract.java:1053)\\r\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.createNativeQuery(AbstractSharedSessionContract.java:114)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\r\\n\\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy94.createNativeQuery(Unknown Source)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\r\\n\\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy94.createNativeQuery(Unknown Source)\\r\\n\\tat org.springframework.data.jpa.repository.query.NativeJpaQuery.createJpaQuery(NativeJpaQuery.java:72)\\r\\n\\tat org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:89)\\r\\n\\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:227)\\r\\n\\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)\\r\\n\\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\\r\\n\\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\\r\\n\\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\\r\\n\\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159)\\r\\n\\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\\r\\n\\t... 58 more\\r\\nCaused by: org.hibernate.QueryException: Space is not allowed after parameter prefix ':' [SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE 'dmind']\\r\\n\\tat org.hibernate.engine.query.spi.ParameterParser.parse(ParameterParser.java:175)\\r\\n\\tat org.hibernate.engine.query.spi.ParamLocationRecognizer.parseLocations(ParamLocationRecognizer.java:56)\\r\\n\\tat org.hibernate.engine.query.internal.NativeQueryInterpreterStandardImpl.getParameterMetadata(NativeQueryInterpreterStandardImpl.java:30)\\r\\n\\tat org.hibernate.engine.query.spi.QueryPlanCache.lambda$getSQLParameterMetadata$0(QueryPlanCache.java:135)\\r\\n\\tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)\\r\\n\\tat org.hibernate.engine.query.spi.QueryPlanCache.getSQLParameterMetadata(QueryPlanCache.java:135)\\r\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.getNativeQueryImplementor(AbstractSharedSessionContract.java:1140)\\r\\n\\t... 92 more\\r\\n&quot;,\n&quot;message&quot;: &quot;org.hibernate.QueryException: Space is not allowed after parameter prefix ':' [SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE 'dmind']; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: Space is not allowed after parameter prefix ':' [SELECT TABLE_NAME,(@row_number:=@row_number + 1) AS num FROM (SELECT @row_number:=0) AS t,INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA LIKE 'dmind']&quot;,\n&quot;path&quot;: &quot;/api/v1/data&quot;\n</code></pre>\n<p>So if you can help me out how i can do that Please Write any suggestions you have:)</p>\n"},{"tags":["java","loops","swing","jbutton","jlabel"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1647211900,"post_id":71461464,"comment_id":126308151,"body_markdown":"If this is not a duplicate, please [edit] your question to include a [mre] that shows your revised approach.","body":"If this is not a duplicate, please <a href=\"https://stackoverflow.com/posts/71461464/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1647271618,"post_id":71461464,"comment_id":126323507,"body_markdown":"also note: stick with java naming conventions, variable/field names start lower case, so it would be `for (int i` ... and understand: there are different ways to go about this. For example: when you are able to write you code so that you can give the corresponding ActionListener to your button right when you create that button ... then there might be no need to &quot;remember&quot; the different JButton instances in code of yours.","body":"also note: stick with java naming conventions, variable/field names start lower case, so it would be <code>for (int i</code> ... and understand: there are different ways to go about this. For example: when you are able to write you code so that you can give the corresponding ActionListener to your button right when you create that button ... then there might be no need to &quot;remember&quot; the different JButton instances in code of yours."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1647679909,"post_id":71461464,"comment_id":126435158,"body_markdown":"You need some way to identify the created `JButton`s. There are a few ways to do this. One is to use the `JButton`s text - as indicated in the third duplicate question. Other ways include setting the _name_ property by calling method `setName` or the _actionCommand_ property by calling method `setActionCommand` or setting a custom property by calling method `putClientProperty`.","body":"You need some way to identify the created <code>JButton</code>s. There are a few ways to do this. One is to use the <code>JButton</code>s text - as indicated in the third duplicate question. Other ways include setting the <i>name</i> property by calling method <code>setName</code> or the <i>actionCommand</i> property by calling method <code>setActionCommand</code> or setting a custom property by calling method <code>putClientProperty</code>."}],"owner":{"account_id":23258904,"reputation":11,"user_id":17345509,"display_name":"Josh Nolan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647211878,"answer_count":0,"score":0,"last_activity_date":1647270784,"creation_date":1647211717,"question_id":71461464,"body_markdown":"How would I go about creating lots of JButtons and JLables without having to declare a long list of them , I&#39;m not sure how to do it if I made a for loop which said e.g. &quot;`for (int I = 0; I &lt; 30; I++)\r\n{\r\nJButton button = new JButton();\r\n}`\r\nAlthough this would create many buttons I want to be able to individually edit each button later on so how would I do this loop of buttons but them all having different names. \r\nAny help is very much appreciated :)","title":"How can I make lots of JButtons / JLabels with them all having different names using a loop?","body":"<p>How would I go about creating lots of JButtons and JLables without having to declare a long list of them , I'm not sure how to do it if I made a for loop which said e.g. &quot;<code>for (int I = 0; I &lt; 30; I++) { JButton button = new JButton(); }</code>\nAlthough this would create many buttons I want to be able to individually edit each button later on so how would I do this loop of buttons but them all having different names.\nAny help is very much appreciated :)</p>\n"},{"tags":["java","mongodb","spring-webflux","spring-data-mongodb","spring-data-mongodb-reactive"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1646900962,"post_id":71227052,"comment_id":126239168,"body_markdown":"As far as I know, it&#39;s not allowed to map multiple properties to a single db field but you can redefine getter for` bar` `public String getBar() { return foo; }`","body":"As far as I know, it&#39;s not allowed to map multiple properties to a single db field but you can redefine getter for` bar` <code>public String getBar() { return foo; }</code>"},{"owner":{"account_id":21334358,"reputation":73,"user_id":15705806,"display_name":"fmbordignon"},"score":0,"creation_date":1647021984,"post_id":71227052,"comment_id":126276784,"body_markdown":"@Alex good catch, i&#39;ll try it later and come back here if it works on my use-case :)","body":"@Alex good catch, i&#39;ll try it later and come back here if it works on my use-case :)"},{"owner":{"account_id":21334358,"reputation":73,"user_id":15705806,"display_name":"fmbordignon"},"score":0,"creation_date":1647268749,"post_id":71227052,"comment_id":126322236,"body_markdown":"@Alex please post your comment as the answer","body":"@Alex please post your comment as the answer"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647269997,"creation_date":1647269997,"answer_id":71469832,"question_id":71227052,"body_markdown":"It&#39;s not allowed to map multiple object fields to a single db field but you can redefine getter for the `bar`\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Document(&quot;test&quot;)\r\npublic class MyClass {\r\n    @Id\r\n    private String _id;\r\n\r\n    @BsonProperty(&quot;foo&quot;)\r\n    private String foo;\r\n\r\n    private String bar;\r\n\r\n    public String getBar() { \r\n       return foo; \r\n    }\r\n\r\n}\r\n```","title":"Map one mongodb field to two POJO properties","body":"<p>It's not allowed to map multiple object fields to a single db field but you can redefine getter for the <code>bar</code></p>\n<pre><code>@Getter\n@Setter\n@Document(&quot;test&quot;)\npublic class MyClass {\n    @Id\n    private String _id;\n\n    @BsonProperty(&quot;foo&quot;)\n    private String foo;\n\n    private String bar;\n\n    public String getBar() { \n       return foo; \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":21334358,"reputation":73,"user_id":15705806,"display_name":"fmbordignon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":811,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71469832,"answer_count":1,"score":1,"last_activity_date":1647269997,"creation_date":1645557135,"question_id":71227052,"body_markdown":"I have a property on my mongodb entity, lets call it ```foo```.\r\n\r\nWhen I retrieve this property, i want its value to be set on two different properties of my POJO, ```foo``` and ```bar```\r\n\r\nSo if a document is registered as:\r\n```\r\n{\r\n  &quot;_id&quot;: &quot;xxxxxx&quot;,\r\n  &quot;foo&quot;: &quot;123&quot;,\r\n}\r\n```\r\n\r\nWhen the service retrieves it from the DB, i want the fetched entity to look like this:\r\n```\r\n{\r\n  &quot;_id&quot;: &quot;xxxxxx&quot;,\r\n  &quot;foo&quot;: &quot;123&quot;,\r\n  &quot;bar&quot;: &quot;123&quot;,\r\n}\r\n```\r\n\r\n\r\nIs there a way to achieve this only changing the entity class? I tried the following and it didn&#39;t work\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Document(&quot;test&quot;)\r\npublic class MyClass {\r\n    @Id\r\n    private String _id;\r\n\r\n    @BsonProperty(&quot;foo&quot;)\r\n    private String bar;\r\n\r\n    private String foo;\r\n\r\n}\r\n```\r\n\r\nI&#39;m using Spring Webflux and Reactive MongoDB stack.\r\n","title":"Map one mongodb field to two POJO properties","body":"<p>I have a property on my mongodb entity, lets call it <code>foo</code>.</p>\n<p>When I retrieve this property, i want its value to be set on two different properties of my POJO, <code>foo</code> and <code>bar</code></p>\n<p>So if a document is registered as:</p>\n<pre><code>{\n  &quot;_id&quot;: &quot;xxxxxx&quot;,\n  &quot;foo&quot;: &quot;123&quot;,\n}\n</code></pre>\n<p>When the service retrieves it from the DB, i want the fetched entity to look like this:</p>\n<pre><code>{\n  &quot;_id&quot;: &quot;xxxxxx&quot;,\n  &quot;foo&quot;: &quot;123&quot;,\n  &quot;bar&quot;: &quot;123&quot;,\n}\n</code></pre>\n<p>Is there a way to achieve this only changing the entity class? I tried the following and it didn't work</p>\n<pre><code>@Getter\n@Setter\n@Document(&quot;test&quot;)\npublic class MyClass {\n    @Id\n    private String _id;\n\n    @BsonProperty(&quot;foo&quot;)\n    private String bar;\n\n    private String foo;\n\n}\n</code></pre>\n<p>I'm using Spring Webflux and Reactive MongoDB stack.</p>\n"},{"tags":["java","json","set","iteration"],"answers":[{"tags":[],"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647269984,"creation_date":1647269984,"answer_id":71469828,"question_id":71464460,"body_markdown":"You can create in one pass of the JSON a Map of seller/vendor and their models. All you need is to do is to compose a `Map&lt;String, List&lt;String&gt;&gt;` where the key is the seller and the value is the list of models they have. Then you can retrieve the list of models for any specific seller without iterating over the JSON.\r\n\r\n    JSONArray sellersArray = sellerJSON.getJSONArray(&quot;sellers&quot;);\r\n    Map&lt;String,List&lt;String&gt;&gt; sellerModels = new HashMap&lt;&gt;();\r\n    for (int i = 0; i &lt; sellersArray.length(); i++) {\r\n      JSONObject modelObj = sellersArray.getJSONObject(i);\r\n      String seller = modelObj.getString(&quot;seller&quot;);\r\n      String model = modelObj.getString(&quot;phone_model&quot;);\r\n      List&lt;String&gt; models = sellerModels.get(seller);\r\n      if (models == null) {\r\n        models = new ArrayList&lt;&gt;();\r\n        sellerModels.put(seller, models);\r\n      }\r\n      models.add(model);\r\n    }\r\n    \r\nFrom this point you can query `sellerModels` for any particular seller, and get a list of its models without iterating over the JSON ever again.","title":"How to extract information related a particular key inside a JSON Array?","body":"<p>You can create in one pass of the JSON a Map of seller/vendor and their models. All you need is to do is to compose a <code>Map&lt;String, List&lt;String&gt;&gt;</code> where the key is the seller and the value is the list of models they have. Then you can retrieve the list of models for any specific seller without iterating over the JSON.</p>\n<pre><code>JSONArray sellersArray = sellerJSON.getJSONArray(&quot;sellers&quot;);\nMap&lt;String,List&lt;String&gt;&gt; sellerModels = new HashMap&lt;&gt;();\nfor (int i = 0; i &lt; sellersArray.length(); i++) {\n  JSONObject modelObj = sellersArray.getJSONObject(i);\n  String seller = modelObj.getString(&quot;seller&quot;);\n  String model = modelObj.getString(&quot;phone_model&quot;);\n  List&lt;String&gt; models = sellerModels.get(seller);\n  if (models == null) {\n    models = new ArrayList&lt;&gt;();\n    sellerModels.put(seller, models);\n  }\n  models.add(model);\n}\n</code></pre>\n<p>From this point you can query <code>sellerModels</code> for any particular seller, and get a list of its models without iterating over the JSON ever again.</p>\n"}],"owner":{"account_id":19047336,"reputation":195,"user_id":13906258,"display_name":"user13906258"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71469828,"answer_count":1,"score":1,"last_activity_date":1647269984,"creation_date":1647244285,"question_id":71464460,"body_markdown":"I have a mobile stock json with seller information and the model available like below \r\n\r\n    {\r\n    \t&quot;title&quot;: &quot;mobile_stock_information&quot;,\r\n    \t&quot;payload&quot;: {\r\n    \t\t&quot;sellers&quot;: [\r\n    \t\t\t{\r\n    \t\t\t\t&quot;seller&quot;: &quot;SAMSUNG&quot;,\r\n    \t\t\t\t&quot;phone_model&quot;: &quot;Samsung S21&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;seller&quot;: &quot;SAMSUNG&quot;,\r\n    \t\t\t\t&quot;phone_model&quot;: &quot;Samsung S21 Ultra&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;seller&quot;: &quot;SAMSUNG&quot;,\r\n    \t\t\t\t&quot;phone_model&quot;: &quot;Samsung S22&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;seller&quot;: &quot;SAMSUNG&quot;,\r\n    \t\t\t\t&quot;phone_model&quot;: &quot;Samsung S22 Ultra&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;seller&quot;: &quot;APPLE&quot;,\r\n    \t\t\t\t&quot;phone_model&quot;: &quot;Iphone 13&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;seller&quot;: &quot;APPLE&quot;,\r\n    \t\t\t\t&quot;phone_model&quot;: &quot;Iphone 13 Pro&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;seller&quot;: &quot;APPLE&quot;,\r\n    \t\t\t\t&quot;phone_model&quot;: &quot;Iphone 12&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;seller&quot;: &quot;GOOGLE&quot;,\r\n    \t\t\t\t&quot;phone_model&quot;: &quot;Pixel 6&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;seller&quot;: &quot;GOOGLE&quot;,\r\n    \t\t\t\t&quot;phone_model&quot;: &quot;Pixel 6 XL&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;seller&quot;: &quot;GOOGLE&quot;,\r\n    \t\t\t\t&quot;phone_model&quot;: &quot;Pixel 5&quot;\r\n    \t\t\t}\r\n    \t\t]\r\n    \t}\r\n    }\r\n\r\n I am extracting all the seller from Json using Jayway JSON Path like below\r\n\r\n    String sellerPath = &quot;$.payload.sellers[*].seller&quot;;\r\n    \r\n    DocumentContext jsonContext = JsonPath.parse(seller_json);\r\n    \r\n    List&lt;String&gt; sellersList = jsonContext.read(sellerPath);\r\n    \r\n    Set&lt;String&gt; sellerSet = new HashSet&lt;&gt;(sellersList);\r\n\r\nI am converting the List to Set to get unique sellers and after that i am iterating through the JSONArray and trying to extract mobile seller specific data\r\n\r\n    sellersArray = sellerJSON.getJSONArray(&quot;sellers&quot;);\r\n    \r\n    public static JSONObject getSellerObject(String sellerToSearch, JSONArray array) {\r\n        for(int i = 0; i &lt; array.length(); i++) {\r\n            try {\r\n                JSONObject jsonObject = array.getJSONObject(i);\r\n                if (jsonObject.getString(&quot;seller&quot;).equals(sellerToSearch)){\r\n                    return jsonObject;\r\n                }\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\nThe output looks like below\r\n\r\n    {\r\n    \t&quot;title&quot;: &quot;mobile_stock_information&quot;,\r\n    \t&quot;payload&quot;: {\r\n    \t\t&quot;sellers&quot;: [\r\n    \t\t\t{\r\n    \t\t\t\t&quot;seller&quot;: &quot;SAMSUNG&quot;,\r\n    \t\t\t\t&quot;phone_model&quot;: &quot;Samsung S21&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;seller&quot;: &quot;SAMSUNG&quot;,\r\n    \t\t\t\t&quot;phone_model&quot;: &quot;Samsung S21 Ultra&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;seller&quot;: &quot;SAMSUNG&quot;,\r\n    \t\t\t\t&quot;phone_model&quot;: &quot;Samsung S22&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;seller&quot;: &quot;SAMSUNG&quot;,\r\n    \t\t\t\t&quot;phone_model&quot;: &quot;Samsung S22 Ultra&quot;\r\n    \t\t\t}\r\n    \t\t]\r\n    \t}\r\n    }\r\n\r\nLet say i have 5 different vendors and 10 json object inside sellers array i have to iterate the loop for each key 10 times for 5 keys it will be 50 times. Is there any efficient way to reduce the number of iterations and extract vendor specific information. Thanks in advance.\r\n\r\n","title":"How to extract information related a particular key inside a JSON Array?","body":"<p>I have a mobile stock json with seller information and the model available like below</p>\n<pre><code>{\n    &quot;title&quot;: &quot;mobile_stock_information&quot;,\n    &quot;payload&quot;: {\n        &quot;sellers&quot;: [\n            {\n                &quot;seller&quot;: &quot;SAMSUNG&quot;,\n                &quot;phone_model&quot;: &quot;Samsung S21&quot;\n            },\n            {\n                &quot;seller&quot;: &quot;SAMSUNG&quot;,\n                &quot;phone_model&quot;: &quot;Samsung S21 Ultra&quot;\n            },\n            {\n                &quot;seller&quot;: &quot;SAMSUNG&quot;,\n                &quot;phone_model&quot;: &quot;Samsung S22&quot;\n            },\n            {\n                &quot;seller&quot;: &quot;SAMSUNG&quot;,\n                &quot;phone_model&quot;: &quot;Samsung S22 Ultra&quot;\n            },\n            {\n                &quot;seller&quot;: &quot;APPLE&quot;,\n                &quot;phone_model&quot;: &quot;Iphone 13&quot;\n            },\n            {\n                &quot;seller&quot;: &quot;APPLE&quot;,\n                &quot;phone_model&quot;: &quot;Iphone 13 Pro&quot;\n            },\n            {\n                &quot;seller&quot;: &quot;APPLE&quot;,\n                &quot;phone_model&quot;: &quot;Iphone 12&quot;\n            },\n            {\n                &quot;seller&quot;: &quot;GOOGLE&quot;,\n                &quot;phone_model&quot;: &quot;Pixel 6&quot;\n            },\n            {\n                &quot;seller&quot;: &quot;GOOGLE&quot;,\n                &quot;phone_model&quot;: &quot;Pixel 6 XL&quot;\n            },\n            {\n                &quot;seller&quot;: &quot;GOOGLE&quot;,\n                &quot;phone_model&quot;: &quot;Pixel 5&quot;\n            }\n        ]\n    }\n}\n</code></pre>\n<p>I am extracting all the seller from Json using Jayway JSON Path like below</p>\n<pre><code>String sellerPath = &quot;$.payload.sellers[*].seller&quot;;\n\nDocumentContext jsonContext = JsonPath.parse(seller_json);\n\nList&lt;String&gt; sellersList = jsonContext.read(sellerPath);\n\nSet&lt;String&gt; sellerSet = new HashSet&lt;&gt;(sellersList);\n</code></pre>\n<p>I am converting the List to Set to get unique sellers and after that i am iterating through the JSONArray and trying to extract mobile seller specific data</p>\n<pre><code>sellersArray = sellerJSON.getJSONArray(&quot;sellers&quot;);\n\npublic static JSONObject getSellerObject(String sellerToSearch, JSONArray array) {\n    for(int i = 0; i &lt; array.length(); i++) {\n        try {\n            JSONObject jsonObject = array.getJSONObject(i);\n            if (jsonObject.getString(&quot;seller&quot;).equals(sellerToSearch)){\n                return jsonObject;\n            }\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>The output looks like below</p>\n<pre><code>{\n    &quot;title&quot;: &quot;mobile_stock_information&quot;,\n    &quot;payload&quot;: {\n        &quot;sellers&quot;: [\n            {\n                &quot;seller&quot;: &quot;SAMSUNG&quot;,\n                &quot;phone_model&quot;: &quot;Samsung S21&quot;\n            },\n            {\n                &quot;seller&quot;: &quot;SAMSUNG&quot;,\n                &quot;phone_model&quot;: &quot;Samsung S21 Ultra&quot;\n            },\n            {\n                &quot;seller&quot;: &quot;SAMSUNG&quot;,\n                &quot;phone_model&quot;: &quot;Samsung S22&quot;\n            },\n            {\n                &quot;seller&quot;: &quot;SAMSUNG&quot;,\n                &quot;phone_model&quot;: &quot;Samsung S22 Ultra&quot;\n            }\n        ]\n    }\n}\n</code></pre>\n<p>Let say i have 5 different vendors and 10 json object inside sellers array i have to iterate the loop for each key 10 times for 5 keys it will be 50 times. Is there any efficient way to reduce the number of iterations and extract vendor specific information. Thanks in advance.</p>\n"},{"tags":["java","spring","mongodb"],"answers":[{"tags":[],"owner":{"account_id":10846480,"reputation":8784,"user_id":7975771,"accept_rate":12,"display_name":"varman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647269944,"creation_date":1647269944,"answer_id":71469815,"question_id":71466403,"body_markdown":"Since you are fresher, I&#39;m not showing optimized code, but I will solve you with the same code you tried. I&#39;m not sure, why you are saving cyclic way like userId in History and history id in User (but mongodb allows it).\r\nOk, lets come to the solution. I used default ObjectId, sometime you might haved used any data type. Code works top to bottom. You dont need to save at first. Once your business logic is finished, you can save\r\n\r\n\r\n    FoodDto foodDto1 = new FoodDto();\r\n    foodDto1.setName(&quot;HotDog&quot;);\r\n    foodDto1.setDescription(&quot;Very HOT DOG&quot;);\r\n    foodDto1.setCalories(99);\r\n    FoodDto savedFood1 = foodService.save(foodDto1);\r\n    \r\n    UserDto userDto1 = new UserDto();\r\n    userDto1.setUsername(&quot;John&quot;);\r\n    userDto1.setHistoryId(savedHistory1.getId());\r\n    UserDto savedUser1 = userService.save(userDto1); \r\n    \r\n    HistoryDto historyDto1 = new HistoryDto();\r\n    historyDto1.setFoodId(savedFood1.getId());\r\n    historyDto1.setTotalCalories(savedFood1.getCalories());\r\n    historyDto1.setUserId(savedUser1.getId());\r\n    HistoryDto savedHistory1 = historyService.save(historyDto1);\r\n\r\nAnd your respective classes\r\n\r\n\r\n    public class FootDto{\r\n    \t@Id\r\n    \tprivate ObjectId _id;\r\n    \tprivate String name;\r\n    \tprivate String description;\r\n    \tprivate int calories;\r\n    }\r\n    \r\n    public class UserDto{\r\n    \t@Id\r\n    \tprivate ObjectId _id;\r\n    \tprivate String username;\r\n    \tprivate ObjectId historyId;\r\n    }\r\n    \r\n    public class HistoryDto{\r\n    \t@Id\r\n    \tprivate ObjectId _id;\r\n    \tprivate ObjectId foodId;\r\n    \tprivate int totalCalories;\r\n    \tprivate ObjectId userId;\r\n    }","title":"Populating Database problem crossing tables","body":"<p>Since you are fresher, I'm not showing optimized code, but I will solve you with the same code you tried. I'm not sure, why you are saving cyclic way like userId in History and history id in User (but mongodb allows it).\nOk, lets come to the solution. I used default ObjectId, sometime you might haved used any data type. Code works top to bottom. You dont need to save at first. Once your business logic is finished, you can save</p>\n<pre><code>FoodDto foodDto1 = new FoodDto();\nfoodDto1.setName(&quot;HotDog&quot;);\nfoodDto1.setDescription(&quot;Very HOT DOG&quot;);\nfoodDto1.setCalories(99);\nFoodDto savedFood1 = foodService.save(foodDto1);\n\nUserDto userDto1 = new UserDto();\nuserDto1.setUsername(&quot;John&quot;);\nuserDto1.setHistoryId(savedHistory1.getId());\nUserDto savedUser1 = userService.save(userDto1); \n\nHistoryDto historyDto1 = new HistoryDto();\nhistoryDto1.setFoodId(savedFood1.getId());\nhistoryDto1.setTotalCalories(savedFood1.getCalories());\nhistoryDto1.setUserId(savedUser1.getId());\nHistoryDto savedHistory1 = historyService.save(historyDto1);\n</code></pre>\n<p>And your respective classes</p>\n<pre><code>public class FootDto{\n    @Id\n    private ObjectId _id;\n    private String name;\n    private String description;\n    private int calories;\n}\n\npublic class UserDto{\n    @Id\n    private ObjectId _id;\n    private String username;\n    private ObjectId historyId;\n}\n\npublic class HistoryDto{\n    @Id\n    private ObjectId _id;\n    private ObjectId foodId;\n    private int totalCalories;\n    private ObjectId userId;\n}\n</code></pre>\n"}],"owner":{"account_id":24514456,"reputation":17,"user_id":18428407,"display_name":"devnoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647269944,"creation_date":1647254357,"question_id":71466403,"body_markdown":"I&#39;m creating one small web app for practice, its Calories Counter. I created entities and now want to populate Mongo DB, but I have one problem and I&#39;ll try to explain best I can.\r\n\r\nJust to notify in my main class I `implements CommandLineRunner` and then implement `run` method.\r\n\r\nFirst I `@Autowired` my services.\r\n\r\n    @Autowired\r\n    FoodService foodService;\r\n    @Autowired\r\n    UserService userService;\r\n    @Autowired\r\n    HistoryService historyService;\r\n\r\nThen I created this method to populate DB.\r\n\r\n          @Override\r\n          public void run(String... args) throws Exception {\r\n\r\n        HistoryDto historyDto1 = new HistoryDto();\r\n        HistoryDto historyDto2 = new HistoryDto();\r\n        UserDto userDto1 = new UserDto();\r\n        UserDto userDto2 = new UserDto();\r\n        FoodDto foodDto1 = new FoodDto();\r\n        FoodDto foodDto2 = new FoodDto();\r\n\r\n        HistoryDto savedHistory1 = historyService.save(historyDto1);\r\n        HistoryDto savedHistory2 = historyService.save(historyDto2);\r\n        UserDto savedUser1 = userService.save(userDto1);\r\n        UserDto savedUser2 = userService.save(userDto2);\r\n        FoodDto savedFood1 = foodService.save(foodDto1);\r\n        FoodDto savedFood2 = foodService.save(foodDto2);\r\n\r\n\r\n        userDto1.setUsername(&quot;John&quot;);\r\n        userDto1.setHistoryId(savedHistory1.getHistoryId());\r\n\r\n\r\n        userDto2.setUsername(&quot;Marc&quot;);\r\n        userDto2.setHistoryId(savedHistory2.getHistoryId());\r\n\r\n        foodDto1.setName(&quot;HotDog&quot;);\r\n        foodDto1.setDescription(&quot;Very HOT DOG&quot;);\r\n        foodDto1.setCalories(99);\r\n\r\n        foodDto2.setName(&quot;Burger&quot;);\r\n        foodDto2.setDescription(&quot;Very Burger&quot;);\r\n        foodDto2.setCalories(230);\r\n\r\n\r\n        historyDto1.setFoodId(savedUser1.getFoodId());\r\n        historyDto1.setTotalCalories(savedFood1.getCalories());\r\n        historyDto1.setUserId(savedUser1.getUserId());\r\n\r\n        historyDto2.setFoodId(savedUser2.getFoodId());\r\n        historyDto2.setTotalCalories(savedFood2.getCalories());\r\n        historyDto2.setUserId(savedUser2.getUserId());\r\n    \r\nAs expected, no errors, database is created but my collections stays empty because I first save entities and then initialize data.\r\n\r\nAs you can see, `History` has `savedFood` and `savedUser`so If I first initialize `History` like this: \r\n\r\n        historyDto1.setFoodId(savedUser1.getFoodId());\r\n        historyDto1.setTotalCalories(savedFood1.getCalories());\r\n        historyDto1.setUserId(savedUser1.getUserId());\r\n\r\n        historyDto2.setFoodId(savedUser2.getFoodId());\r\n        historyDto2.setTotalCalories(savedFood2.getCalories());\r\n        historyDto2.setUserId(savedUser2.getUserId());\r\n\r\nThen create variable to save it like this:\r\n\r\n        HistoryDto savedHistory1 = historyService.save(historyDto1);\r\n        HistoryDto savedHistory2 = historyService.save(historyDto2);\r\n\r\nIm getting errors for `savedUser1` and `savedFood1` as expected.\r\n\r\nAnd If I put user below that like this so part of code now stays like:\r\n\r\n        userDto1.setUsername(&quot;John&quot;);\r\n        userDto1.setHistoryId(savedHistory1.getHistoryId());\r\n\r\n\r\n        userDto2.setUsername(&quot;Marc&quot;);\r\n        userDto2.setHistoryId(savedHistory2.getHistoryId());\r\n\r\n        historyDto1.setFoodId(savedUser1.getFoodId());\r\n        historyDto1.setTotalCalories(savedFood1.getCalories());\r\n        historyDto1.setUserId(savedUser1.getUserId());\r\n\r\n        historyDto2.setFoodId(savedUser2.getFoodId());\r\n        historyDto2.setTotalCalories(savedFood2.getCalories());\r\n        historyDto2.setUserId(savedUser2.getUserId());\r\n\r\n        HistoryDto savedHistory1 = historyService.save(historyDto1);\r\n        HistoryDto savedHistory2 = historyService.save(historyDto2);\r\n\r\nI&#39;m getting error on `userDto1.setHistoryId(savedHistory1.getHistoryId());` logic, because now `savedHistory1` is not resolved. \r\n\r\nHow I can fix this. I tried to add collection by collection but then, for example If I created `Food` collection and now want to create `History` I cant call `foodId` to store in `History`.\r\n\r\nI tried to explain best I can, and sorry for bad English, still learning.\r\n\r\n","title":"Populating Database problem crossing tables","body":"<p>I'm creating one small web app for practice, its Calories Counter. I created entities and now want to populate Mongo DB, but I have one problem and I'll try to explain best I can.</p>\n<p>Just to notify in my main class I <code>implements CommandLineRunner</code> and then implement <code>run</code> method.</p>\n<p>First I <code>@Autowired</code> my services.</p>\n<pre><code>@Autowired\nFoodService foodService;\n@Autowired\nUserService userService;\n@Autowired\nHistoryService historyService;\n</code></pre>\n<p>Then I created this method to populate DB.</p>\n<pre><code>      @Override\n      public void run(String... args) throws Exception {\n\n    HistoryDto historyDto1 = new HistoryDto();\n    HistoryDto historyDto2 = new HistoryDto();\n    UserDto userDto1 = new UserDto();\n    UserDto userDto2 = new UserDto();\n    FoodDto foodDto1 = new FoodDto();\n    FoodDto foodDto2 = new FoodDto();\n\n    HistoryDto savedHistory1 = historyService.save(historyDto1);\n    HistoryDto savedHistory2 = historyService.save(historyDto2);\n    UserDto savedUser1 = userService.save(userDto1);\n    UserDto savedUser2 = userService.save(userDto2);\n    FoodDto savedFood1 = foodService.save(foodDto1);\n    FoodDto savedFood2 = foodService.save(foodDto2);\n\n\n    userDto1.setUsername(&quot;John&quot;);\n    userDto1.setHistoryId(savedHistory1.getHistoryId());\n\n\n    userDto2.setUsername(&quot;Marc&quot;);\n    userDto2.setHistoryId(savedHistory2.getHistoryId());\n\n    foodDto1.setName(&quot;HotDog&quot;);\n    foodDto1.setDescription(&quot;Very HOT DOG&quot;);\n    foodDto1.setCalories(99);\n\n    foodDto2.setName(&quot;Burger&quot;);\n    foodDto2.setDescription(&quot;Very Burger&quot;);\n    foodDto2.setCalories(230);\n\n\n    historyDto1.setFoodId(savedUser1.getFoodId());\n    historyDto1.setTotalCalories(savedFood1.getCalories());\n    historyDto1.setUserId(savedUser1.getUserId());\n\n    historyDto2.setFoodId(savedUser2.getFoodId());\n    historyDto2.setTotalCalories(savedFood2.getCalories());\n    historyDto2.setUserId(savedUser2.getUserId());\n</code></pre>\n<p>As expected, no errors, database is created but my collections stays empty because I first save entities and then initialize data.</p>\n<p>As you can see, <code>History</code> has <code>savedFood</code> and <code>savedUser</code>so If I first initialize <code>History</code> like this:</p>\n<pre><code>    historyDto1.setFoodId(savedUser1.getFoodId());\n    historyDto1.setTotalCalories(savedFood1.getCalories());\n    historyDto1.setUserId(savedUser1.getUserId());\n\n    historyDto2.setFoodId(savedUser2.getFoodId());\n    historyDto2.setTotalCalories(savedFood2.getCalories());\n    historyDto2.setUserId(savedUser2.getUserId());\n</code></pre>\n<p>Then create variable to save it like this:</p>\n<pre><code>    HistoryDto savedHistory1 = historyService.save(historyDto1);\n    HistoryDto savedHistory2 = historyService.save(historyDto2);\n</code></pre>\n<p>Im getting errors for <code>savedUser1</code> and <code>savedFood1</code> as expected.</p>\n<p>And If I put user below that like this so part of code now stays like:</p>\n<pre><code>    userDto1.setUsername(&quot;John&quot;);\n    userDto1.setHistoryId(savedHistory1.getHistoryId());\n\n\n    userDto2.setUsername(&quot;Marc&quot;);\n    userDto2.setHistoryId(savedHistory2.getHistoryId());\n\n    historyDto1.setFoodId(savedUser1.getFoodId());\n    historyDto1.setTotalCalories(savedFood1.getCalories());\n    historyDto1.setUserId(savedUser1.getUserId());\n\n    historyDto2.setFoodId(savedUser2.getFoodId());\n    historyDto2.setTotalCalories(savedFood2.getCalories());\n    historyDto2.setUserId(savedUser2.getUserId());\n\n    HistoryDto savedHistory1 = historyService.save(historyDto1);\n    HistoryDto savedHistory2 = historyService.save(historyDto2);\n</code></pre>\n<p>I'm getting error on <code>userDto1.setHistoryId(savedHistory1.getHistoryId());</code> logic, because now <code>savedHistory1</code> is not resolved.</p>\n<p>How I can fix this. I tried to add collection by collection but then, for example If I created <code>Food</code> collection and now want to create <code>History</code> I cant call <code>foodId</code> to store in <code>History</code>.</p>\n<p>I tried to explain best I can, and sorry for bad English, still learning.</p>\n"},{"tags":["java","testing","mocking","mockito","powermock"],"comments":[{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1647433376,"post_id":71467527,"comment_id":126368892,"body_markdown":"What do you mean remove it? Remove it how? &quot;still see mockito-core there but when I remove it I&quot;","body":"What do you mean remove it? Remove it how? &quot;still see mockito-core there but when I remove it I&quot;"},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1647433461,"post_id":71467527,"comment_id":126368924,"body_markdown":"If you can, copy the source files, pom to new directory,  change name in pom, don&#39;t copy intellij files or target &amp; build directories.  And check","body":"If you can, copy the source files, pom to new directory,  change name in pom, don&#39;t copy intellij files or target &amp; build directories.  And check"},{"owner":{"account_id":11298916,"reputation":382,"user_id":8285537,"display_name":"John"},"score":0,"creation_date":1647481737,"post_id":71467527,"comment_id":126384707,"body_markdown":"Have you tried including mockito-core alongside mockito-inline?","body":"Have you tried including mockito-core alongside mockito-inline?"},{"owner":{"account_id":10842248,"reputation":21,"user_id":7973086,"display_name":"ms.nobody"},"score":0,"creation_date":1647602457,"post_id":71467527,"comment_id":126417631,"body_markdown":"I checked the dependency tree and mockito-core was used explicitly via another dependency. That was the problem. Now it is fixed. Thank you both!","body":"I checked the dependency tree and mockito-core was used explicitly via another dependency. That was the problem. Now it is fixed. Thank you both!"}],"owner":{"account_id":10842248,"reputation":21,"user_id":7973086,"display_name":"ms.nobody"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1491,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647269884,"creation_date":1647259657,"question_id":71467527,"body_markdown":"I am trying to get rid of Powermock and mock my static classes with Mockito using version 4.3.1. I updated version in my dependencies. I updated my dependency as mockito-inline instead of mockito-core at my pom.xml. But I keep getting the following error. I am using IntelliJ, when I check File &gt; Project Structure &gt; Dependencies I still see mockito-core there but when I remove it I got bunch of &quot;**Cannot resolve symbol Mockito/@Mock**&quot; etc. errors. Do you have ideas about what should I do? Thanks! \r\n\r\n``` org.mockito.exceptions.base.MockitoException: \r\nThe used MockMaker PowerMockMaker does not support the creation of static mocks\r\n\r\nMockito&#39;s inline mock maker supports static mocks based on the Instrumentation API.\r\nYou can simply enable this mock mode, by placing the &#39;mockito-inline&#39; artifact where you are currently using &#39;mockito-core&#39;.\r\nNote that Mockito&#39;s inline mock maker is not supported on Android. ","title":"Using Mockito 4.3.1 instead of Powermock","body":"<p>I am trying to get rid of Powermock and mock my static classes with Mockito using version 4.3.1. I updated version in my dependencies. I updated my dependency as mockito-inline instead of mockito-core at my pom.xml. But I keep getting the following error. I am using IntelliJ, when I check File &gt; Project Structure &gt; Dependencies I still see mockito-core there but when I remove it I got bunch of &quot;<strong>Cannot resolve symbol Mockito/@Mock</strong>&quot; etc. errors. Do you have ideas about what should I do? Thanks!</p>\n<pre><code>The used MockMaker PowerMockMaker does not support the creation of static mocks\n\nMockito's inline mock maker supports static mocks based on the Instrumentation API.\nYou can simply enable this mock mode, by placing the 'mockito-inline' artifact where you are currently using 'mockito-core'.\nNote that Mockito's inline mock maker is not supported on Android. \n</code></pre>\n"},{"tags":["java","char","byte"],"answers":[{"tags":[],"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1371550904,"creation_date":1371550904,"answer_id":17166432,"question_id":17166393,"body_markdown":"*how they act differently ?*\n\nRefer the [JLS][1]:\n\n&gt;The integral types are byte, short, int, and long, whose values are 8-bit, 16-bit, 32-bit and 64-bit signed two&#39;s-complement integers, respectively, and char, whose values are 16-bit unsigned integers representing UTF-16 code units.\n&gt;\n&gt;The values of the integral types are integers in the following ranges:\n&gt;\n&gt; 1. For byte, from -128 to 127, inclusive\n&gt;\n&gt; 2. For short, from -32768 to 32767, inclusive\n&gt;\n&gt; 3. For int, from -2147483648 to 2147483647, inclusive\n&gt;\n&gt; 4. For long, from -9223372036854775808 to 9223372036854775807, inclusive\n&gt;\n&gt; 5. For char, from &#39;\\u0000&#39; to &#39;\\uffff&#39; inclusive, that is, from 0 to 65535\n\nAnother difference will be their Wrapper Classes differ : `byte` to `Byte` , `char` to `Character` and `short` to `Short`.\n\n\n*`char c = 65;` why this is a correct statement ?*\n\n&gt;**char**, whose values are 16-bit unsigned integers representing UTF-16 code units (&#167;3.1).\n\n[1]:http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html","title":"byte, char, int in Java - bit representation","body":"<p><em>how they act differently ?</em></p>\n<p>Refer the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html\" rel=\"nofollow noreferrer\">JLS</a>:</p>\n<blockquote>\n<p>The integral types are byte, short, int, and long, whose values are 8-bit, 16-bit, 32-bit and 64-bit signed two's-complement integers, respectively, and char, whose values are 16-bit unsigned integers representing UTF-16 code units.</p>\n<p>The values of the integral types are integers in the following ranges:</p>\n<ol>\n<li><p>For byte, from -128 to 127, inclusive</p>\n</li>\n<li><p>For short, from -32768 to 32767, inclusive</p>\n</li>\n<li><p>For int, from -2147483648 to 2147483647, inclusive</p>\n</li>\n<li><p>For long, from -9223372036854775808 to 9223372036854775807, inclusive</p>\n</li>\n<li><p>For char, from '\\u0000' to '\\uffff' inclusive, that is, from 0 to 65535</p>\n</li>\n</ol>\n</blockquote>\n<p>Another difference will be their Wrapper Classes differ : <code>byte</code> to <code>Byte</code> , <code>char</code> to <code>Character</code> and <code>short</code> to <code>Short</code>.</p>\n<p><em><code>char c = 65;</code> why this is a correct statement ?</em></p>\n<blockquote>\n<p><strong>char</strong>, whose values are 16-bit unsigned integers representing UTF-16 code units (§3.1).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2221540,"reputation":2069,"user_id":1960804,"accept_rate":57,"display_name":"Peter Jaloveczki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371550912,"creation_date":1371550912,"answer_id":17166434,"question_id":17166393,"body_markdown":"They do not behave differently as far data reprezentation is considered, the difference is only that they can hold values in different intervals.\r\n\r\nAs for char every character has it&#39;s integers representation that is why it is a valid syntax in java.","title":"byte, char, int in Java - bit representation","body":"<p>They do not behave differently as far data reprezentation is considered, the difference is only that they can hold values in different intervals.</p>\n\n<p>As for char every character has it's integers representation that is why it is a valid syntax in java.</p>\n"},{"tags":[],"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1371551579,"creation_date":1371550984,"answer_id":17166461,"question_id":17166393,"body_markdown":"`byte` is boxed to `Byte`\r\n\r\n`char` is boxed to `Character`\r\n\r\n`short` is boxed to `Short`\r\n\r\nThose 3 classes have 3 different `toString()` method. That&#39;s why they have different displays.\r\n\r\nThen the conversions from `int` to `byte`, `char`,`short` are done automatically for you, then it is boxed to their corresponding boxing class.","title":"byte, char, int in Java - bit representation","body":"<p><code>byte</code> is boxed to <code>Byte</code></p>\n\n<p><code>char</code> is boxed to <code>Character</code></p>\n\n<p><code>short</code> is boxed to <code>Short</code></p>\n\n<p>Those 3 classes have 3 different <code>toString()</code> method. That's why they have different displays.</p>\n\n<p>Then the conversions from <code>int</code> to <code>byte</code>, <code>char</code>,<code>short</code> are done automatically for you, then it is boxed to their corresponding boxing class.</p>\n"},{"tags":[],"owner":{"account_id":1308022,"reputation":9735,"user_id":1256583,"display_name":"darijan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647269705,"creation_date":1371551163,"answer_id":17166534,"question_id":17166393,"body_markdown":"All **primitive types** (`boolean, char, short, int, ...`) are actually bit arrays in memory. \r\n\r\nThe type of the variable only defines in what range this variable can take value:\r\nholds 16 bit unsigned value\r\n - `boolean` 1 bit [range 0-1]\r\n - `char` 16 bits [range 0 to  65,535 or \\u0000 to \\uFFFF]\r\n - `byte` 8 bits [range -128 to 127]\r\n - `short` 16 bits [-32768 to 32767]\r\n - `int` 32 bits [-2147483648 to 2147483647]\r\n - ...\r\n\r\n---\r\n\r\n`char` is represented by bits, or complementary a hex, dec, oct number. It does not matter. That&#39;s why you can assign a number to it and then when you call `.toString()` on it, this number is matched to *Unicode* representation of that number.","title":"byte, char, int in Java - bit representation","body":"<p>All <strong>primitive types</strong> (<code>boolean, char, short, int, ...</code>) are actually bit arrays in memory.</p>\n<p>The type of the variable only defines in what range this variable can take value:\nholds 16 bit unsigned value</p>\n<ul>\n<li><code>boolean</code> 1 bit [range 0-1]</li>\n<li><code>char</code> 16 bits [range 0 to  65,535 or \\u0000 to \\uFFFF]</li>\n<li><code>byte</code> 8 bits [range -128 to 127]</li>\n<li><code>short</code> 16 bits [-32768 to 32767]</li>\n<li><code>int</code> 32 bits [-2147483648 to 2147483647]</li>\n<li>...</li>\n</ul>\n<hr />\n<p><code>char</code> is represented by bits, or complementary a hex, dec, oct number. It does not matter. That's why you can assign a number to it and then when you call <code>.toString()</code> on it, this number is matched to <em>Unicode</em> representation of that number.</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371553038,"creation_date":1371551337,"answer_id":17166595,"question_id":17166393,"body_markdown":"1) their bit representation is not the same, it&#39;s `01000001` for byte and `0000000001000001` for short and char.\r\n\r\n2) the difference is that byte and short are signed integers and char is a 16-bit Unicode character\r\n\r\n3) 65 is not int, it&#39;s a constant, if you try to assign an int you will get an error\r\n\r\n       int x = 65;\r\n       char c = x;   &lt;-- error","title":"byte, char, int in Java - bit representation","body":"<p>1) their bit representation is not the same, it's <code>01000001</code> for byte and <code>0000000001000001</code> for short and char.</p>\n\n<p>2) the difference is that byte and short are signed integers and char is a 16-bit Unicode character</p>\n\n<p>3) 65 is not int, it's a constant, if you try to assign an int you will get an error</p>\n\n<pre><code>   int x = 65;\n   char c = x;   &lt;-- error\n</code></pre>\n"}],"owner":{"account_id":1098575,"reputation":2027,"user_id":1091608,"accept_rate":69,"display_name":"Ronin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9733,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1647269705,"creation_date":1371550784,"question_id":17166393,"body_markdown":"I am confused with byte and char in Java. I have the following program segment :\r\n\r\n        byte b = 65;\r\n        char c = 65;\r\n        short s = 65;\r\n        System.out.println(&quot;b:&quot;+b+&quot; c:&quot;+c+ &quot; s:&quot;+s);  // outputs b:65 c:A s:65\r\n\r\nThe bit representation of b, c and s are same they all are :: 00000000 01000001 . \r\nMy question is if the bits are same then how they act differently - b as byte, c as char and s as short ?\r\nAnother question is : `char c = 65;` why this is a correct statement ? it does not give error though I am assigning int value to a char.\r\n\r\nThanks.","title":"byte, char, int in Java - bit representation","body":"<p>I am confused with byte and char in Java. I have the following program segment :</p>\n\n<pre><code>    byte b = 65;\n    char c = 65;\n    short s = 65;\n    System.out.println(\"b:\"+b+\" c:\"+c+ \" s:\"+s);  // outputs b:65 c:A s:65\n</code></pre>\n\n<p>The bit representation of b, c and s are same they all are :: 00000000 01000001 . \nMy question is if the bits are same then how they act differently - b as byte, c as char and s as short ?\nAnother question is : <code>char c = 65;</code> why this is a correct statement ? it does not give error though I am assigning int value to a char.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647262904,"post_id":71444831,"comment_id":126319698,"body_markdown":"If you intend to use a RecyclerView, then I think that this article, [How to delete a record from Firestore on a RecylerView left/right swipe?](https://medium.com/firebase-tips-tricks/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf) or [How to delete multiple records from Firestore using RecyclerView multi-selection?](https://medium.com/firebase-tips-tricks/how-to-delete-multiple-records-from-firestore-using-recyclerview-multi-selection-96108e4c6166) will help.","body":"If you intend to use a RecyclerView, then I think that this article, <a href=\"https://medium.com/firebase-tips-tricks/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf\" rel=\"nofollow noreferrer\">How to delete a record from Firestore on a RecylerView left/right swipe?</a> or <a href=\"https://medium.com/firebase-tips-tricks/how-to-delete-multiple-records-from-firestore-using-recyclerview-multi-selection-96108e4c6166\" rel=\"nofollow noreferrer\">How to delete multiple records from Firestore using RecyclerView multi-selection?</a> will help."}],"answers":[{"tags":[],"owner":{"account_id":11814576,"reputation":173,"user_id":8645145,"display_name":"Paul Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647268747,"creation_date":1647034290,"answer_id":71444832,"question_id":71444831,"body_markdown":"To do this efficiently, you should use a batched write. This allows you to perform multiple delete operations simultaneously.\r\n\r\nSee: [Transactions and batched writes | Firebase Documentation](https://firebase.google.com/docs/firestore/manage-data/transactions)\r\n\r\nFor example, to delete three documents at once:\r\n\r\n```java\r\nWriteBatch batch = db.batch();\r\nbatch.delete(db.collection(&quot;cartItems&quot;).document(&quot;item1&quot;));\r\nbatch.delete(db.collection(&quot;cartItems&quot;).document(&quot;item2&quot;));\r\nbatch.delete(db.collection(&quot;cartItems&quot;).document(&quot;item3&quot;));\r\nbatch.commit()\r\n     .addOnSuccessListener((result) -&gt; { \r\n       Log.i(LOG_TAG, &quot;Selected items have been deleted.&quot;); \r\n     })\r\n     .addOnFailureListener((error) -&gt; { \r\n       Log.e(LOG_TAG, &quot;Failed to delete selected items.&quot;, error); \r\n     });\r\n```\r\n\r\nSo if you know the document Ids in advance, this is fairly simple:\r\n\r\n```java\r\npublic void removeSelectedItemsFromShoppingCart(List&lt;String&gt; itemIds) {\r\n  WriteBatch batch = db.batch();\r\n  CollectionReference collection = db.collection(&quot;cartItems&quot;);\r\n  for (String itemId : itemIds) {\r\n    batch.delete(collection.document(itemId));\r\n  }\r\n\r\n  batch.commit()\r\n       .addOnSuccessListener((result) -&gt; {\r\n          Log.i(LOG_TAG, &quot;Selected items have been removed.&quot;);\r\n        })\r\n        .addOnFailureListener((error) -&gt; {\r\n           Log.e(LOG_TAG, &quot;Failed to remove selected items.&quot;, error);\r\n        });\r\n}\r\n```\r\n\r\nBut if you don&#39;t know the document Ids in advance, you may have to query the database first:\r\n\r\n```java\r\npublic void removeAllItemsFromShoppingCart(String userId) {\r\n  db.collection(&quot;cartItems&quot;)\r\n    .whereEqualTo(&quot;userId&quot;, userId)\r\n    .get()\r\n    .addOnSuccessListener((querySnapshot) -&gt; {\r\n      WriteBatch batch = db.batch();\r\n      for (DocumentSnapshot doc : querySnapshot) {\r\n        batch.delete(doc.getReference());\r\n      }\r\n\r\n      batch.commit()\r\n           .addOnSuccessListener((result) -&gt; {\r\n              Log.i(LOG_TAG, &quot;All items have been removed.&quot;);\r\n            })\r\n            .addOnFailureListener((error) -&gt; {\r\n               Log.e(LOG_TAG, &quot;Failed to remove all items.&quot;, error);\r\n            });\r\n    })\r\n    .addOnFailureListener((error) -&gt; {\r\n       Log.e(LOG_TAG, &quot;Failed to get your cart items.&quot;, error);\r\n    });\r\n}\r\n```\r\n\r\n**Note that the code above uses a one-time read, instead of a real-time read. Which is critical here, so it doesn&#39;t continue deleting documents after the operation is done.**","title":"How to delete multiple documents from a collection in Cloud Firestore?","body":"<p>To do this efficiently, you should use a batched write. This allows you to perform multiple delete operations simultaneously.</p>\n<p>See: <a href=\"https://firebase.google.com/docs/firestore/manage-data/transactions\" rel=\"nofollow noreferrer\">Transactions and batched writes | Firebase Documentation</a></p>\n<p>For example, to delete three documents at once:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WriteBatch batch = db.batch();\nbatch.delete(db.collection(&quot;cartItems&quot;).document(&quot;item1&quot;));\nbatch.delete(db.collection(&quot;cartItems&quot;).document(&quot;item2&quot;));\nbatch.delete(db.collection(&quot;cartItems&quot;).document(&quot;item3&quot;));\nbatch.commit()\n     .addOnSuccessListener((result) -&gt; { \n       Log.i(LOG_TAG, &quot;Selected items have been deleted.&quot;); \n     })\n     .addOnFailureListener((error) -&gt; { \n       Log.e(LOG_TAG, &quot;Failed to delete selected items.&quot;, error); \n     });\n</code></pre>\n<p>So if you know the document Ids in advance, this is fairly simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void removeSelectedItemsFromShoppingCart(List&lt;String&gt; itemIds) {\n  WriteBatch batch = db.batch();\n  CollectionReference collection = db.collection(&quot;cartItems&quot;);\n  for (String itemId : itemIds) {\n    batch.delete(collection.document(itemId));\n  }\n\n  batch.commit()\n       .addOnSuccessListener((result) -&gt; {\n          Log.i(LOG_TAG, &quot;Selected items have been removed.&quot;);\n        })\n        .addOnFailureListener((error) -&gt; {\n           Log.e(LOG_TAG, &quot;Failed to remove selected items.&quot;, error);\n        });\n}\n</code></pre>\n<p>But if you don't know the document Ids in advance, you may have to query the database first:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void removeAllItemsFromShoppingCart(String userId) {\n  db.collection(&quot;cartItems&quot;)\n    .whereEqualTo(&quot;userId&quot;, userId)\n    .get()\n    .addOnSuccessListener((querySnapshot) -&gt; {\n      WriteBatch batch = db.batch();\n      for (DocumentSnapshot doc : querySnapshot) {\n        batch.delete(doc.getReference());\n      }\n\n      batch.commit()\n           .addOnSuccessListener((result) -&gt; {\n              Log.i(LOG_TAG, &quot;All items have been removed.&quot;);\n            })\n            .addOnFailureListener((error) -&gt; {\n               Log.e(LOG_TAG, &quot;Failed to remove all items.&quot;, error);\n            });\n    })\n    .addOnFailureListener((error) -&gt; {\n       Log.e(LOG_TAG, &quot;Failed to get your cart items.&quot;, error);\n    });\n}\n</code></pre>\n<p><strong>Note that the code above uses a one-time read, instead of a real-time read. Which is critical here, so it doesn't continue deleting documents after the operation is done.</strong></p>\n"}],"owner":{"account_id":11814576,"reputation":173,"user_id":8645145,"display_name":"Paul Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647040564,"accepted_answer_id":71444832,"answer_count":1,"score":0,"last_activity_date":1647268747,"creation_date":1647034290,"question_id":71444831,"body_markdown":"The official Firebase docs explain how to delete a single document. But they do not explain how to delete multiple documents at once.\r\n\r\nSee: [Delete data from Cloud Firestore](https://firebase.google.com/docs/firestore/manage-data/delete-data)\r\n\r\nOne common scenario where the user may want to delete multiple documents, would be for example: \r\nRemoving all of the items from a user&#39;s shopping cart. (But not from other user&#39;s carts.)","title":"How to delete multiple documents from a collection in Cloud Firestore?","body":"<p>The official Firebase docs explain how to delete a single document. But they do not explain how to delete multiple documents at once.</p>\n<p>See: <a href=\"https://firebase.google.com/docs/firestore/manage-data/delete-data\" rel=\"nofollow noreferrer\">Delete data from Cloud Firestore</a></p>\n<p>One common scenario where the user may want to delete multiple documents, would be for example:\nRemoving all of the items from a user's shopping cart. (But not from other user's carts.)</p>\n"},{"tags":["java","lucene"],"answers":[{"tags":[],"owner":{"account_id":14333824,"reputation":121,"user_id":10353914,"display_name":"theMahaloRecords"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647259183,"creation_date":1647259183,"answer_id":71467422,"question_id":71465662,"body_markdown":"Short Answer: Wildcard can only match characters; Cant be used for numbers. \r\nIm going to represent a numeric wildcard now as a range like numberA:[-Double.MAX_VALUE TO Double.MAX_VALUE]","title":"Lucene/Luwak can&#39;t match number values in NOT query","body":"<p>Short Answer: Wildcard can only match characters; Cant be used for numbers.\nIm going to represent a numeric wildcard now as a range like numberA:[-Double.MAX_VALUE TO Double.MAX_VALUE]</p>\n"}],"owner":{"account_id":14333824,"reputation":121,"user_id":10353914,"display_name":"theMahaloRecords"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647268739,"creation_date":1647250998,"question_id":71465662,"body_markdown":"I&#39;ve created a small Lucene/Luwak prototype. \r\nI&#39;m adding a query to a lucene syntax, and after it I want to provide an InputDocument which should give me a match on that query. \r\n\r\nFor TextFields, everything seems to be working. However, when I try to do the same with Numbers / DoublePoint, I never get a match (for not queries / reverse search). \r\n\r\nIf I&#39;m using text values, it is working:\r\n```\r\nstoreRuleQuery(&quot;ruleID_1&quot; , &quot;textA:* -textA:A&quot;);\r\ntextValues.put(&quot;textA&quot; , &quot;B&quot;);\r\nAnd in console: Match in Luwak: ruleID_1:textA:* -textA:A\r\n```\r\nVS \r\n```\r\nstoreRuleQuery(&quot;ruleID_1&quot; , &quot;numberA:* -numberA:500&quot;);\r\nnumberValues.put(&quot;numberA&quot; , 900d);\r\nAnd in console: No Match\r\n```\r\n\r\nSo let me explain the code which I&#39;m using:\r\n\r\nFirst I&#39;m creating a RamDirectory for my monitor:\r\n\r\n``` \r\nfsDirectory = new RAMDirectory();\r\n``` \r\n\r\nAnd I&#39;m also defining a field type:\r\n\r\n``` \r\nprivate static final FieldType FIELD_TYPE = new FieldType();\r\nFIELD_TYPE.setStored(false);\r\nFIELD_TYPE.setIndexOptions(IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS); \r\n```\r\nThen I&#39;m creating my monitor:\r\n```\r\n QueryIndexConfiguration config = new QueryIndexConfiguration();\r\n        config.storeQueries(true);\r\n        monitor = new Monitor(new LuwakQueryParser(null, new KeywordAnalyzer(), number, text), new TermFilteredPresearcher(), fsDirectory, config);\r\n```\r\n\r\nTo use DoublePoints, I&#39;ve created my own QueryParser (LuwakQueryParser)\r\n\r\n```\r\npublic class LuwakQueryParser implements MonitorQueryParser {\r\n\r\n    private QueryParser parser = null;\r\n\r\n    /**\r\n     * Creates a parser with a given default field and analyzer\r\n     * @param defaultField the default field\r\n     * @param analyzer an analyzer to use to analyzer query terms\r\n     */\r\n    public LuwakQueryParser(String defaultField, Analyzer analyzer, List&lt;String&gt; numbers, List&lt;String&gt; text) {\r\n        this.parser = new RangeQueryParser(defaultField, analyzer, numbers, text);\r\n        this.parser.setLowercaseExpandedTerms(false);\r\n        this.parser.setAllowLeadingWildcard(true);\r\n        this.parser.setDefaultOperator(Operator.OR);\r\n    }\r\n\r\n\r\n    @Override\r\n    public Query parse(String query, Map&lt;String, String&gt; metadata) throws Exception {\r\n        return parser.parse(query);\r\n    }\r\n}\r\n```\r\n\r\nAs you can see, I use a custom RangeQueryParser which is then used to parse the queries\r\n\r\n```\r\npublic class RangeQueryParser extends QueryParser {\r\n\r\n    private final List&lt;String&gt; numbers;\r\n    private final List&lt;String&gt; text;\r\n\r\n    public RangeQueryParser(String f, Analyzer a, List&lt;String&gt; numbers, List&lt;String&gt; text) {\r\n        super(f, a);\r\n        this.numbers = numbers;\r\n        this.text = text;\r\n    }\r\n\r\n    @Override\r\n    protected Query newFieldQuery(Analyzer analyzer, String field, String queryText, boolean quoted) throws ParseException {\r\n        if (StringUtils.isNotBlank(queryText) &amp;&amp; isNumber(field) &amp;&amp; NumberUtils.isNumber(queryText)) {\r\n            //needed for single value, transforms it to a rage (eg [500 TO 500])\r\n            return (DoublePoint.newExactQuery(field, Double.parseDouble(queryText)));\r\n        } else if(isText(field)){\r\n            return (super.newFieldQuery(analyzer, field, queryText, quoted));\r\n        }\r\n        return (super.newFieldQuery(analyzer, field, queryText, quoted));\r\n    }\r\n\r\n```\r\n\r\nI&#39;ve removed unused code in this example which currently isn&#39;t needed\r\n\r\nAs you can see, the newFieldQuery-method checks, if its a text or a number value, and adapts the query. Texts will be stored as a normal fieldQuery, while numbers will be turned into a DoublePoint.newExactQuery. So as an example, it would turn &quot;numberA:500&quot; into &quot;numberA:[500 to 500]&quot;\r\n\r\nThen I&#39;m adding a query to the monitor:\r\n\r\n```\r\n//input: storeRuleQuery(&quot;ruleID_1&quot; , &quot;numberA:* -numberA:500&quot;);\r\n\r\npublic void storeRuleQuery(String ruleID, String query) throws IOException, UpdateException {\r\n        String queryString = query;\r\n        if (queryString.trim().length() &gt; 0) {\r\n            MonitorQuery monitorQuery = new MonitorQuery(ruleID, queryString);\r\n            monitor.deleteById(ruleID);\r\n            monitor.update(monitorQuery);\r\n        }\r\n    }\r\n```\r\n\r\nThis is the BooleanQuery which gets created by the monitor.update() method call:\r\n[![Debuggerview showing variables at the end of the BooleanQuery constructor][1]][1]\r\n\r\n\r\nI then would like to match the ruleID_1 by providing an InputDocument like so:\r\n\r\n```\r\nMap&lt;String, Double&gt; numberValues = new HashMap&lt;&gt;();\r\nMap&lt;String, String&gt; textValues = new HashMap&lt;&gt;();\r\n\r\nnumberValues.put(&quot;numberA&quot; , 900d);\r\nInputDocument.Builder builder = InputDocument.builder(&quot;document_1&quot;);\r\n        for(String numberField : numberValues.keySet()){\r\n            builder.addField(new DoublePoint(numberField, (numberValues.get(numberField))));\r\n        }\r\n\r\n        for(String textField : textValues.keySet()){\r\n            builder.addField(new Field(textField, (textValues.get(textField)), FIELD_TYPE));\r\n        }\r\n\r\n        List&lt;InputDocument&gt; documents = new ArrayList() {{\r\n            add(builder.build());\r\n        }};\r\n        DocumentBatch batch = DocumentBatch.of(documents);\r\n        Matches&lt;HighlightsMatch&gt; matches;\r\n        matches = monitor.match(batch, HighlightingMatcher.FACTORY);\r\n```\r\nThis are the BooleanQueries which are created from this inputdocument and our matcher.match():\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n[![enter image description here][5]][5]\r\n[![enter image description here][6]][6]\r\n\r\nThen I&#39;m retrieving the matches (where I get 0 hits in this case):\r\n\r\n```\r\n Set&lt;Map&lt;String, String&gt;&gt; matchingIds = new HashSet&lt;&gt;();\r\n        for (DocumentMatches&lt;HighlightsMatch&gt; docMatches : matches) {\r\n            for (HighlightsMatch match : docMatches) {\r\n                MonitorQuery mq = monitor.getQuery(match.getQueryId());\r\n                HashMap&lt;String, String&gt; q = new HashMap&lt;&gt;();\r\n                q.put(match.getQueryId(), mq.getQuery());\r\n                matchingIds.add(q);\r\n            }\r\n        }\r\n\r\n        Map&lt;String, String&gt; results = new HashMap&lt;&gt;();\r\n\r\n        for (Map&lt;String, String&gt; v : matchingIds) {\r\n            results.put(v.keySet().iterator().next(), v.values().iterator().next());\r\n        }\r\n\r\n        for(String key : results.keySet()){\r\n            System.out.println(&quot;Match in Luwak: &quot; + key + &quot;:&quot; + results.get(key));\r\n        }\r\n```\r\n\r\nThe version of luwak that I&#39;m using:\r\n```\r\n &lt;dependency&gt;\r\n       &lt;groupId&gt;com.github.flaxsearch&lt;/groupId&gt;\r\n       &lt;artifactId&gt;luwak&lt;/artifactId&gt;\r\n       &lt;version&gt;1.5.0&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nnJTu.png\r\n  [2]: https://i.stack.imgur.com/gts5O.png\r\n  [3]: https://i.stack.imgur.com/UxS2A.png\r\n  [4]: https://i.stack.imgur.com/TgwEH.png\r\n  [5]: https://i.stack.imgur.com/Jh39u.png\r\n  [6]: https://i.stack.imgur.com/mHPTz.png","title":"Lucene/Luwak can&#39;t match number values in NOT query","body":"<p>I've created a small Lucene/Luwak prototype.\nI'm adding a query to a lucene syntax, and after it I want to provide an InputDocument which should give me a match on that query.</p>\n<p>For TextFields, everything seems to be working. However, when I try to do the same with Numbers / DoublePoint, I never get a match (for not queries / reverse search).</p>\n<p>If I'm using text values, it is working:</p>\n<pre><code>storeRuleQuery(&quot;ruleID_1&quot; , &quot;textA:* -textA:A&quot;);\ntextValues.put(&quot;textA&quot; , &quot;B&quot;);\nAnd in console: Match in Luwak: ruleID_1:textA:* -textA:A\n</code></pre>\n<p>VS</p>\n<pre><code>storeRuleQuery(&quot;ruleID_1&quot; , &quot;numberA:* -numberA:500&quot;);\nnumberValues.put(&quot;numberA&quot; , 900d);\nAnd in console: No Match\n</code></pre>\n<p>So let me explain the code which I'm using:</p>\n<p>First I'm creating a RamDirectory for my monitor:</p>\n<pre><code>fsDirectory = new RAMDirectory();\n</code></pre>\n<p>And I'm also defining a field type:</p>\n<pre><code>private static final FieldType FIELD_TYPE = new FieldType();\nFIELD_TYPE.setStored(false);\nFIELD_TYPE.setIndexOptions(IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS); \n</code></pre>\n<p>Then I'm creating my monitor:</p>\n<pre><code> QueryIndexConfiguration config = new QueryIndexConfiguration();\n        config.storeQueries(true);\n        monitor = new Monitor(new LuwakQueryParser(null, new KeywordAnalyzer(), number, text), new TermFilteredPresearcher(), fsDirectory, config);\n</code></pre>\n<p>To use DoublePoints, I've created my own QueryParser (LuwakQueryParser)</p>\n<pre><code>public class LuwakQueryParser implements MonitorQueryParser {\n\n    private QueryParser parser = null;\n\n    /**\n     * Creates a parser with a given default field and analyzer\n     * @param defaultField the default field\n     * @param analyzer an analyzer to use to analyzer query terms\n     */\n    public LuwakQueryParser(String defaultField, Analyzer analyzer, List&lt;String&gt; numbers, List&lt;String&gt; text) {\n        this.parser = new RangeQueryParser(defaultField, analyzer, numbers, text);\n        this.parser.setLowercaseExpandedTerms(false);\n        this.parser.setAllowLeadingWildcard(true);\n        this.parser.setDefaultOperator(Operator.OR);\n    }\n\n\n    @Override\n    public Query parse(String query, Map&lt;String, String&gt; metadata) throws Exception {\n        return parser.parse(query);\n    }\n}\n</code></pre>\n<p>As you can see, I use a custom RangeQueryParser which is then used to parse the queries</p>\n<pre><code>public class RangeQueryParser extends QueryParser {\n\n    private final List&lt;String&gt; numbers;\n    private final List&lt;String&gt; text;\n\n    public RangeQueryParser(String f, Analyzer a, List&lt;String&gt; numbers, List&lt;String&gt; text) {\n        super(f, a);\n        this.numbers = numbers;\n        this.text = text;\n    }\n\n    @Override\n    protected Query newFieldQuery(Analyzer analyzer, String field, String queryText, boolean quoted) throws ParseException {\n        if (StringUtils.isNotBlank(queryText) &amp;&amp; isNumber(field) &amp;&amp; NumberUtils.isNumber(queryText)) {\n            //needed for single value, transforms it to a rage (eg [500 TO 500])\n            return (DoublePoint.newExactQuery(field, Double.parseDouble(queryText)));\n        } else if(isText(field)){\n            return (super.newFieldQuery(analyzer, field, queryText, quoted));\n        }\n        return (super.newFieldQuery(analyzer, field, queryText, quoted));\n    }\n\n</code></pre>\n<p>I've removed unused code in this example which currently isn't needed</p>\n<p>As you can see, the newFieldQuery-method checks, if its a text or a number value, and adapts the query. Texts will be stored as a normal fieldQuery, while numbers will be turned into a DoublePoint.newExactQuery. So as an example, it would turn &quot;numberA:500&quot; into &quot;numberA:[500 to 500]&quot;</p>\n<p>Then I'm adding a query to the monitor:</p>\n<pre><code>//input: storeRuleQuery(&quot;ruleID_1&quot; , &quot;numberA:* -numberA:500&quot;);\n\npublic void storeRuleQuery(String ruleID, String query) throws IOException, UpdateException {\n        String queryString = query;\n        if (queryString.trim().length() &gt; 0) {\n            MonitorQuery monitorQuery = new MonitorQuery(ruleID, queryString);\n            monitor.deleteById(ruleID);\n            monitor.update(monitorQuery);\n        }\n    }\n</code></pre>\n<p>This is the BooleanQuery which gets created by the monitor.update() method call:\n<a href=\"https://i.stack.imgur.com/nnJTu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nnJTu.png\" alt=\"Debuggerview showing variables at the end of the BooleanQuery constructor\" /></a></p>\n<p>I then would like to match the ruleID_1 by providing an InputDocument like so:</p>\n<pre><code>Map&lt;String, Double&gt; numberValues = new HashMap&lt;&gt;();\nMap&lt;String, String&gt; textValues = new HashMap&lt;&gt;();\n\nnumberValues.put(&quot;numberA&quot; , 900d);\nInputDocument.Builder builder = InputDocument.builder(&quot;document_1&quot;);\n        for(String numberField : numberValues.keySet()){\n            builder.addField(new DoublePoint(numberField, (numberValues.get(numberField))));\n        }\n\n        for(String textField : textValues.keySet()){\n            builder.addField(new Field(textField, (textValues.get(textField)), FIELD_TYPE));\n        }\n\n        List&lt;InputDocument&gt; documents = new ArrayList() {{\n            add(builder.build());\n        }};\n        DocumentBatch batch = DocumentBatch.of(documents);\n        Matches&lt;HighlightsMatch&gt; matches;\n        matches = monitor.match(batch, HighlightingMatcher.FACTORY);\n</code></pre>\n<p>This are the BooleanQueries which are created from this inputdocument and our matcher.match():</p>\n<p><a href=\"https://i.stack.imgur.com/gts5O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gts5O.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/UxS2A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UxS2A.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/TgwEH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TgwEH.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/Jh39u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jh39u.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/mHPTz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mHPTz.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I'm retrieving the matches (where I get 0 hits in this case):</p>\n<pre><code> Set&lt;Map&lt;String, String&gt;&gt; matchingIds = new HashSet&lt;&gt;();\n        for (DocumentMatches&lt;HighlightsMatch&gt; docMatches : matches) {\n            for (HighlightsMatch match : docMatches) {\n                MonitorQuery mq = monitor.getQuery(match.getQueryId());\n                HashMap&lt;String, String&gt; q = new HashMap&lt;&gt;();\n                q.put(match.getQueryId(), mq.getQuery());\n                matchingIds.add(q);\n            }\n        }\n\n        Map&lt;String, String&gt; results = new HashMap&lt;&gt;();\n\n        for (Map&lt;String, String&gt; v : matchingIds) {\n            results.put(v.keySet().iterator().next(), v.values().iterator().next());\n        }\n\n        for(String key : results.keySet()){\n            System.out.println(&quot;Match in Luwak: &quot; + key + &quot;:&quot; + results.get(key));\n        }\n</code></pre>\n<p>The version of luwak that I'm using:</p>\n<pre><code> &lt;dependency&gt;\n       &lt;groupId&gt;com.github.flaxsearch&lt;/groupId&gt;\n       &lt;artifactId&gt;luwak&lt;/artifactId&gt;\n       &lt;version&gt;1.5.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","file","list","object","singleton"],"comments":[{"owner":{"account_id":394015,"reputation":7148,"user_id":756200,"accept_rate":93,"display_name":"dario_ramos"},"score":0,"creation_date":1322853243,"post_id":8361301,"comment_id":10315213,"body_markdown":"When I had to do this kind of thing, I used the dom4j library, which allows you to save objects to xml files very easily. There might be something better out there now","body":"When I had to do this kind of thing, I used the dom4j library, which allows you to save objects to xml files very easily. There might be something better out there now"},{"owner":{"account_id":82701,"reputation":2446,"user_id":232328,"display_name":"Shaun"},"score":2,"creation_date":1322853275,"post_id":8361301,"comment_id":10315228,"body_markdown":"What part of this process are you having trouble with?","body":"What part of this process are you having trouble with?"}],"answers":[{"tags":[],"owner":{"account_id":886478,"reputation":9207,"user_id":925806,"display_name":"Ashwinee K Jha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1322853271,"creation_date":1322853271,"answer_id":8361373,"question_id":8361301,"body_markdown":"It can be done by reading the object in the main method of your application and saving it again in the main method close to the shutdown point. May be I am missing something. ","title":"How to read and rewrite a singleton object from a file?","body":"<p>It can be done by reading the object in the main method of your application and saving it again in the main method close to the shutdown point. May be I am missing something. </p>\n"},{"tags":[],"owner":{"account_id":70264,"reputation":3487,"user_id":203925,"accept_rate":81,"display_name":"Eric Hydrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322853333,"creation_date":1322853333,"answer_id":8361382,"question_id":8361301,"body_markdown":"I&#39;m assuming there&#39;s code in your real Storage class that sets member data for the Storage object. Given that, I would recommend something along the lines of:\r\n\r\n    static public Storage instance() {\r\n        if(_instance != null) {\r\n            return _instance;\r\n        }\r\n        \r\n        _instance = new Storage();\r\n        \r\n        if (file.exists()) {\r\n             deserialize_Storage_data_from_file();\r\n        }\r\n\r\n        return _instance;\r\n    }","title":"How to read and rewrite a singleton object from a file?","body":"<p>I'm assuming there's code in your real Storage class that sets member data for the Storage object. Given that, I would recommend something along the lines of:</p>\n\n<pre><code>static public Storage instance() {\n    if(_instance != null) {\n        return _instance;\n    }\n\n    _instance = new Storage();\n\n    if (file.exists()) {\n         deserialize_Storage_data_from_file();\n    }\n\n    return _instance;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30304,"reputation":27134,"user_id":82559,"display_name":"alphazero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322856879,"creation_date":1322853354,"answer_id":8361391,"question_id":8361301,"body_markdown":"Obviously you need to store the serialized singleton in the file system, so you will need a canonical location, e.g. a config parameter for the file name.\r\n\r\nThen, the instance accessor method effectively is in charge of marshalling/unmarshalling the persistent instance. This is the easy part.  (There is a small can of worms for a robust system: you will need to insure no other process is ever writing to this file, e.g if another JVM instance comes up and uses the same singleton class.  Again: the name of serialized file is a simple mechanism to address this issue.\r\n\r\nOperationally, any changes to the instance (in mem) need to be synchronized with the persistent form, e.g. consistency requirements will demands some sort of transactional semantics.  Simplest (but least efficient) is to simply flush the instance to the serialized file on every mutating action on the singleton instance, e.g. when modifying list content.\r\n\r\n","title":"How to read and rewrite a singleton object from a file?","body":"<p>Obviously you need to store the serialized singleton in the file system, so you will need a canonical location, e.g. a config parameter for the file name.</p>\n\n<p>Then, the instance accessor method effectively is in charge of marshalling/unmarshalling the persistent instance. This is the easy part.  (There is a small can of worms for a robust system: you will need to insure no other process is ever writing to this file, e.g if another JVM instance comes up and uses the same singleton class.  Again: the name of serialized file is a simple mechanism to address this issue.</p>\n\n<p>Operationally, any changes to the instance (in mem) need to be synchronized with the persistent form, e.g. consistency requirements will demands some sort of transactional semantics.  Simplest (but least efficient) is to simply flush the instance to the serialized file on every mutating action on the singleton instance, e.g. when modifying list content.</p>\n"},{"tags":[],"owner":{"account_id":47141,"reputation":22981,"user_id":139506,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1322853370,"creation_date":1322853370,"answer_id":8361394,"question_id":8361301,"body_markdown":"You can add the following methods to your Storage object:\r\n\r\n    public void persist() throws IOException{\r\n    \r\n      FileOutputStream fos = null;\r\n      ObjectOutputStream out = null;\r\n      try{\r\n       fos = new FileOutputStream(FILE_NAME); //assumes filename is a constant you&#39;ve defined\r\n       out = new ObjectOutputStream(fos);\r\n       out.writeObject(time);\r\n      }finally{\r\n        out.close();\r\n      }\r\n    }\r\n\r\n   \r\n\r\n    protected static void initialize() throws IOException{\r\n       FileInputStream fis = null;\r\n       ObjectInputStream in = null;\r\n       try{\r\n         fis = new FileInputStream(FILE_NAME);\r\n         in = new ObjectInputStream(fis);\r\n         instance  = (PersistentTime)in.readObject();\r\n       }finally{\r\n         in.close();\r\n       }\r\n    }\r\n\r\nYou can call `initialize()` from your static `instance` method instead of calling the constructor directly.","title":"How to read and rewrite a singleton object from a file?","body":"<p>You can add the following methods to your Storage object:</p>\n\n<pre><code>public void persist() throws IOException{\n\n  FileOutputStream fos = null;\n  ObjectOutputStream out = null;\n  try{\n   fos = new FileOutputStream(FILE_NAME); //assumes filename is a constant you've defined\n   out = new ObjectOutputStream(fos);\n   out.writeObject(time);\n  }finally{\n    out.close();\n  }\n}\n\n\n\nprotected static void initialize() throws IOException{\n   FileInputStream fis = null;\n   ObjectInputStream in = null;\n   try{\n     fis = new FileInputStream(FILE_NAME);\n     in = new ObjectInputStream(fis);\n     instance  = (PersistentTime)in.readObject();\n   }finally{\n     in.close();\n   }\n}\n</code></pre>\n\n<p>You can call <code>initialize()</code> from your static <code>instance</code> method instead of calling the constructor directly.</p>\n"},{"tags":[],"owner":{"account_id":893445,"reputation":9064,"user_id":931277,"accept_rate":80,"display_name":"dokkaebi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1322853861,"creation_date":1322853397,"answer_id":8361397,"question_id":8361301,"body_markdown":"There is a good description of the Java serialization api here: \r\n\r\nhttp://java.sun.com/developer/technicalArticles/Programming/serialization/ \r\n\r\nThe short version is you probably need to add the following two methods to customize how your object is written.  Note that these do not Override any superclass method -- just add them with these exact signatures.\r\n\r\nMake sure your Message and Group objects are serializable as well. \r\n\r\nThen you&#39;ll create an `ObjectOuputStream` and call its writeObject method to write your object to a file.\r\n\r\nThe methods to add to your Serializable class:\r\n\r\n\r\n    private void writeObject(ObjectOutputStream out) throws IOException\r\nand\r\n\r\n    private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException\r\n\r\n","title":"How to read and rewrite a singleton object from a file?","body":"<p>There is a good description of the Java serialization api here: </p>\n\n<p><a href=\"http://java.sun.com/developer/technicalArticles/Programming/serialization/\" rel=\"nofollow\">http://java.sun.com/developer/technicalArticles/Programming/serialization/</a> </p>\n\n<p>The short version is you probably need to add the following two methods to customize how your object is written.  Note that these do not Override any superclass method -- just add them with these exact signatures.</p>\n\n<p>Make sure your Message and Group objects are serializable as well. </p>\n\n<p>Then you'll create an <code>ObjectOuputStream</code> and call its writeObject method to write your object to a file.</p>\n\n<p>The methods to add to your Serializable class:</p>\n\n<pre><code>private void writeObject(ObjectOutputStream out) throws IOException\n</code></pre>\n\n<p>and</p>\n\n<pre><code>private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":256980,"reputation":3763,"user_id":1071757,"display_name":"davidfrancis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322853480,"creation_date":1322853480,"answer_id":8361411,"question_id":8361301,"body_markdown":"\r\nAll the above - and change those List&#39;s to be non-static too!\r\n","title":"How to read and rewrite a singleton object from a file?","body":"<p>All the above - and change those List's to be non-static too!</p>\n"}],"owner":{"account_id":204487,"reputation":942,"user_id":452730,"accept_rate":96,"display_name":"Miky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":8361394,"answer_count":6,"score":0,"last_activity_date":1647268319,"creation_date":1322852769,"question_id":8361301,"body_markdown":"    public class Storage implements Serializable{\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tpublic static List&lt;Message&gt; MessageList = Collections.synchronizedList(new ArrayList&lt;Message&gt;()); //Fail safe if multiple threads modify them.\r\n    \tpublic static List&lt;Group&gt; GroupList = Collections.synchronizedList(new ArrayList&lt;Group&gt;());\r\n    \t\r\n    \tprotected Storage() {\r\n    \t\tsuper();\r\n    \t}\r\n    \t\t \r\n    \tstatic private Storage _instance = null;\r\n     \r\n    \t//initialized: Storage.instance();\r\n    \tstatic public Storage instance() {\r\n    \t\tif(_instance == null) {\r\n    \t\t\t_instance = new Storage();\r\n    \t\t}\r\n         return _instance;\r\n        }\r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\n\r\nI have the upper class which creates a single object. I want to save this object with its Lists to a file. Then when my app starts and I instantiate Storage I want it to read the file and if it is empty create a new Storage, but if its not then read the previous instance of Storage and create this new based on the old. Basically meaning that I want the contents of GroupList and MessageList to be persistent.\r\n\r\n**EDIT:** because I didn&#39;t make it clear enough.\r\n\r\nWhere do I place the code needed to check and read a previous instance of this class in? I guess in the constructor, but then will my Lists also get the values of the other object? I dont know where/how to code that.\r\n\r\n**EDIT2:** pasting solution.\r\n\r\n    public class Storage implements Serializable{\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tpublic static List&lt;Message&gt; MessageList = Collections.synchronizedList(new ArrayList&lt;Message&gt;()); //Fail safe if multiple threads modify them.\r\n    \tpublic static List&lt;Group&gt; GroupList = Collections.synchronizedList(new ArrayList&lt;Group&gt;());\r\n    \r\n    \tprotected Storage() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tstatic private Storage _instance = null;\r\n    \r\n    \t//initialized: Storage.instance();\r\n    \tpublic static synchronized Storage instance(){\r\n    \t\tinitialize();\r\n    \t\tif(_instance == null) {\r\n    \t\t\t_instance = new Storage();\r\n    \t\t}\r\n    \t\treturn _instance;\r\n    \t}\r\n    \r\n    \tpublic static synchronized void persist(){\r\n    \t\tFileOutputStream fos = null;\r\n    \t\tObjectOutputStream out = null;\r\n    \t\ttry{\r\n    \t\t\tfos = new FileOutputStream(&quot;Storage.txt&quot;);\r\n    \t\t\tout = new ObjectOutputStream(fos);\r\n    \t\t\tout.writeObject(instance());\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}finally{\r\n    \t\t\ttry {\r\n    \t\t\t\tout.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprotected static synchronized void initialize(){\r\n    \t\tFileInputStream fis = null;\r\n    \t\tObjectInputStream in = null;\r\n    \t\ttry{\r\n    \t\t\tfis = new FileInputStream(&quot;Storage.txt&quot;);\r\n    \t\t\tin = new ObjectInputStream(fis);\r\n    \t\t\t_instance = (Storage)in.readObject();\r\n    \t\t} catch (ClassNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (OptionalDataException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}finally{\r\n    \t\t\ttry {\r\n    \t\t\t\tin.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static synchronized void addElement(Message message){\r\n    \t\tif(!MessageList.contains(message)){\r\n    \t\t\tMessageList.add(message);\r\n    \t\t\tpersist();\r\n    \t\t\tLog.i(&quot;STORAGE-addElement&quot;, &quot;Added: &quot; + message);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static synchronized void addElement(Group group){\r\n    \t\tif(!GroupList.contains(group)){\r\n    \t\t\tGroupList.add(group);\r\n    \t\t\tpersist();\r\n    \t\t\tLog.i(&quot;STORAGE-addElement&quot;, &quot;Added: &quot; + group);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static synchronized void removeElement(Message message){\r\n    \t\tif(!MessageList.contains(message)){\r\n    \t\t\tMessageList.remove(message);\r\n    \t\t\tpersist();\r\n    \t\t\tLog.i(&quot;STORAGE-removeElement&quot;, &quot;Removed: &quot; + message);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static synchronized void removeElement(Group group){\r\n    \t\tif(!GroupList.contains(group)){\r\n    \t\t\tGroupList.remove(group);\r\n    \t\t\tpersist();\r\n    \t\t\tLog.i(&quot;STORAGE-removeElement&quot;, &quot;Removed: &quot; + group);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static synchronized void wipeAll(){\r\n    \t\tMessageList.clear();\r\n    \t\tGroupList.clear();\r\n    \t\tpersist();\r\n    \t\tLog.i(&quot;STORAGE-wipeAll&quot;, &quot;Wiped all data&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nThanks for your help! :)\r\n\r\n","title":"How to read and rewrite a singleton object from a file?","body":"<pre><code>public class Storage implements Serializable{\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    public static List&lt;Message&gt; MessageList = Collections.synchronizedList(new ArrayList&lt;Message&gt;()); //Fail safe if multiple threads modify them.\n    public static List&lt;Group&gt; GroupList = Collections.synchronizedList(new ArrayList&lt;Group&gt;());\n\n    protected Storage() {\n        super();\n    }\n\n    static private Storage _instance = null;\n\n    //initialized: Storage.instance();\n    static public Storage instance() {\n        if(_instance == null) {\n            _instance = new Storage();\n        }\n     return _instance;\n    }\n\n\n\n}\n</code></pre>\n\n<p>I have the upper class which creates a single object. I want to save this object with its Lists to a file. Then when my app starts and I instantiate Storage I want it to read the file and if it is empty create a new Storage, but if its not then read the previous instance of Storage and create this new based on the old. Basically meaning that I want the contents of GroupList and MessageList to be persistent.</p>\n\n<p><strong>EDIT:</strong> because I didn't make it clear enough.</p>\n\n<p>Where do I place the code needed to check and read a previous instance of this class in? I guess in the constructor, but then will my Lists also get the values of the other object? I dont know where/how to code that.</p>\n\n<p><strong>EDIT2:</strong> pasting solution.</p>\n\n<pre><code>public class Storage implements Serializable{\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    public static List&lt;Message&gt; MessageList = Collections.synchronizedList(new ArrayList&lt;Message&gt;()); //Fail safe if multiple threads modify them.\n    public static List&lt;Group&gt; GroupList = Collections.synchronizedList(new ArrayList&lt;Group&gt;());\n\n    protected Storage() {\n        super();\n    }\n\n    static private Storage _instance = null;\n\n    //initialized: Storage.instance();\n    public static synchronized Storage instance(){\n        initialize();\n        if(_instance == null) {\n            _instance = new Storage();\n        }\n        return _instance;\n    }\n\n    public static synchronized void persist(){\n        FileOutputStream fos = null;\n        ObjectOutputStream out = null;\n        try{\n            fos = new FileOutputStream(\"Storage.txt\");\n            out = new ObjectOutputStream(fos);\n            out.writeObject(instance());\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }finally{\n            try {\n                out.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n\n    protected static synchronized void initialize(){\n        FileInputStream fis = null;\n        ObjectInputStream in = null;\n        try{\n            fis = new FileInputStream(\"Storage.txt\");\n            in = new ObjectInputStream(fis);\n            _instance = (Storage)in.readObject();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (OptionalDataException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }finally{\n            try {\n                in.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public static synchronized void addElement(Message message){\n        if(!MessageList.contains(message)){\n            MessageList.add(message);\n            persist();\n            Log.i(\"STORAGE-addElement\", \"Added: \" + message);\n        }\n    }\n\n    public static synchronized void addElement(Group group){\n        if(!GroupList.contains(group)){\n            GroupList.add(group);\n            persist();\n            Log.i(\"STORAGE-addElement\", \"Added: \" + group);\n        }\n    }\n\n    public static synchronized void removeElement(Message message){\n        if(!MessageList.contains(message)){\n            MessageList.remove(message);\n            persist();\n            Log.i(\"STORAGE-removeElement\", \"Removed: \" + message);\n        }\n    }\n\n    public static synchronized void removeElement(Group group){\n        if(!GroupList.contains(group)){\n            GroupList.remove(group);\n            persist();\n            Log.i(\"STORAGE-removeElement\", \"Removed: \" + group);\n        }\n    }\n\n    public static synchronized void wipeAll(){\n        MessageList.clear();\n        GroupList.clear();\n        persist();\n        Log.i(\"STORAGE-wipeAll\", \"Wiped all data\");\n    }\n\n}\n</code></pre>\n\n<p>Thanks for your help! :)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1444370158,"post_id":33030455,"comment_id":53883732,"body_markdown":"Some indentation would enhance readability.","body":"Some indentation would enhance readability."},{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":0,"creation_date":1444370440,"post_id":33030455,"comment_id":53883839,"body_markdown":"What error do you get (stacktrace please)?","body":"What error do you get (stacktrace please)?"}],"answers":[{"tags":[],"owner":{"account_id":3854593,"reputation":2852,"user_id":3193876,"display_name":"Ronald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647267937,"creation_date":1647267937,"answer_id":71469333,"question_id":33030455,"body_markdown":"I know this answer is somewhat late, but maybe someone else runs into the same issue.\r\n\r\nIn my project the Server runs some utility (I call it winps.exe here) regularly and it was easy to see (using RAMMAP resp. Handles) that the Java process kept a handle to each of the (terminated) child processes. Restarting the Server removed all entries from the process table.\r\n\r\nAfter some experimenting, I found that explicitly calling the Garbage Collector resolved the issue.\r\n\r\nBelow you find my Java test program which I used to investigate the matter.\r\nNote that this test program has been copied from the Server source code and isn&#39;t 100% as cleanly written as possible.\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    import java.util.regex.*;\r\n    import java.text.*;\r\n    import java.lang.reflect.*;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    \r\n    public class StartPS\r\n    {\r\n            static Long STARTTIME_JITTER = 5000L;\r\n    \r\n            synchronized public static HashMap&lt;String,Long&gt; getStartTimes()\r\n            {\r\n                    HashMap&lt;String,Long&gt; result = new HashMap&lt;String, Long&gt;();;\r\n                    final File tmp_file = new File(&quot;/tmp/starttimes.out&quot;);\r\n                    String tmpfilename = null;\r\n                    try {\r\n                            tmpfilename = tmp_file.getCanonicalPath();\r\n                    } catch (Exception e) {}\r\n    \r\n                    try {\r\n                            ProcessBuilder pb = new ProcessBuilder(&quot;.\\\\winps.exe&quot;);\r\n    \r\n                            pb.redirectOutput(new File(tmpfilename));\r\n                            pb.redirectErrorStream(true);\r\n                            Process p = pb.start();\r\n                            p.getOutputStream().close();\r\n                            p.getInputStream().close();\r\n                            p.getErrorStream().close();\r\n                            try {\r\n                                    p.waitFor();\r\n                            } catch (InterruptedException ie) {\r\n                                    // maybe some cleanup here\r\n                            }\r\n    \r\n                            try {\r\n                                    while (p.isAlive()) { // &lt;- most likely unnecessary ;-)\r\n                                            Thread.sleep(100);\r\n                                            p.destroy();\r\n                                            System.gc();\r\n                                    }\r\n                                    p = null;      // should help the garbage collector (eliminates a reference to the object p points to)\r\n                                    System.gc();   // &lt;- most likely the key to success !\r\n                            } catch (Exception e) {\r\n                                    System.out.println(&quot;Warning: &quot; + e.toString());\r\n                            }\r\n                    } catch (Exception e) {\r\n                            throw new RuntimeException(&quot;(02310251044) Process start times : &quot; + e.toString());\r\n                    }\r\n                    return result;\r\n            }\r\n    \r\n            public static void main(String[] argv)\r\n            {\r\n                    String sMax;\r\n                    int iMax = 500;\r\n    \r\n                    if  (argv.length &gt; 0) {\r\n                            sMax = argv[0];\r\n                            try {\r\n                                    iMax = Integer.parseInt(sMax);\r\n                            } catch (Exception e) {\r\n                                    System.out.println(&quot;Oops : &quot; + e.toString());\r\n                                    System.exit(1);\r\n                            }\r\n                    }\r\n                    for (int i = 0; i &lt; iMax; ++i) {\r\n                            System.out.print(&quot;\\r&quot; + i);\r\n                            getStartTimes();\r\n                            try {\r\n                                    Thread.sleep(1000);\r\n                            } catch (Exception e) {\r\n                                    // do nothing\r\n                            }\r\n                    }\r\n            }\r\n    \r\n    }","title":"How to release process resource in java","body":"<p>I know this answer is somewhat late, but maybe someone else runs into the same issue.</p>\n<p>In my project the Server runs some utility (I call it winps.exe here) regularly and it was easy to see (using RAMMAP resp. Handles) that the Java process kept a handle to each of the (terminated) child processes. Restarting the Server removed all entries from the process table.</p>\n<p>After some experimenting, I found that explicitly calling the Garbage Collector resolved the issue.</p>\n<p>Below you find my Java test program which I used to investigate the matter.\nNote that this test program has been copied from the Server source code and isn't 100% as cleanly written as possible.</p>\n<pre><code>import java.util.*;\nimport java.io.*;\nimport java.util.regex.*;\nimport java.text.*;\nimport java.lang.reflect.*;\nimport java.util.concurrent.TimeUnit;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.nio.file.attribute.BasicFileAttributes;\n\npublic class StartPS\n{\n        static Long STARTTIME_JITTER = 5000L;\n\n        synchronized public static HashMap&lt;String,Long&gt; getStartTimes()\n        {\n                HashMap&lt;String,Long&gt; result = new HashMap&lt;String, Long&gt;();;\n                final File tmp_file = new File(&quot;/tmp/starttimes.out&quot;);\n                String tmpfilename = null;\n                try {\n                        tmpfilename = tmp_file.getCanonicalPath();\n                } catch (Exception e) {}\n\n                try {\n                        ProcessBuilder pb = new ProcessBuilder(&quot;.\\\\winps.exe&quot;);\n\n                        pb.redirectOutput(new File(tmpfilename));\n                        pb.redirectErrorStream(true);\n                        Process p = pb.start();\n                        p.getOutputStream().close();\n                        p.getInputStream().close();\n                        p.getErrorStream().close();\n                        try {\n                                p.waitFor();\n                        } catch (InterruptedException ie) {\n                                // maybe some cleanup here\n                        }\n\n                        try {\n                                while (p.isAlive()) { // &lt;- most likely unnecessary ;-)\n                                        Thread.sleep(100);\n                                        p.destroy();\n                                        System.gc();\n                                }\n                                p = null;      // should help the garbage collector (eliminates a reference to the object p points to)\n                                System.gc();   // &lt;- most likely the key to success !\n                        } catch (Exception e) {\n                                System.out.println(&quot;Warning: &quot; + e.toString());\n                        }\n                } catch (Exception e) {\n                        throw new RuntimeException(&quot;(02310251044) Process start times : &quot; + e.toString());\n                }\n                return result;\n        }\n\n        public static void main(String[] argv)\n        {\n                String sMax;\n                int iMax = 500;\n\n                if  (argv.length &gt; 0) {\n                        sMax = argv[0];\n                        try {\n                                iMax = Integer.parseInt(sMax);\n                        } catch (Exception e) {\n                                System.out.println(&quot;Oops : &quot; + e.toString());\n                                System.exit(1);\n                        }\n                }\n                for (int i = 0; i &lt; iMax; ++i) {\n                        System.out.print(&quot;\\r&quot; + i);\n                        getStartTimes();\n                        try {\n                                Thread.sleep(1000);\n                        } catch (Exception e) {\n                                // do nothing\n                        }\n                }\n        }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7090552,"reputation":11,"user_id":5425862,"display_name":"Lavanya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647267937,"creation_date":1444368123,"question_id":33030455,"body_markdown":"How to release process resource??\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    import java.util.StringTokenizer;\r\n\r\n    public class RuntimeSample{\r\n        public RuntimeSample() {\r\n        }\r\n        private void execCmd1() throws IOException {\r\n            InputStream in = null;\r\n            Process process = null;\r\n            String[] cmd = { &quot;java&quot;, &quot;-version&quot; };\r\n            try {\r\n                process = Runtime.getRuntime().exec(cmd);\r\n                in = process.getInputStream();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (in != null) {\r\n                    in.close();\r\n                }\r\n            }\r\n        } \r\n        private void execCmd2() throws IOException {\r\n            Process process = null;\r\n            String[] cmd = { &quot;java&quot;, &quot;-version&quot; };\r\n            try {\r\n                process = Runtime.getRuntime().exec(cmd);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n            }\r\n        }\r\n    }\r\n\r\nwhy it is throwing process.getError stream is not closed,I tried to close process resource by using following\r\n\r\n    if (process != null) {\r\n        process.getInputStream().close();\r\n        process.getOutputStream().close();\r\n        process.getErrorStream().close();\r\n\r\n even it is showing process.getError stream is not closed.may i know the reason y it is showing that stream is not closed and how to close the process resource.Thanks in advance ","title":"How to release process resource in java","body":"<p>How to release process resource??</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.util.StringTokenizer;\n\npublic class RuntimeSample{\n    public RuntimeSample() {\n    }\n    private void execCmd1() throws IOException {\n        InputStream in = null;\n        Process process = null;\n        String[] cmd = { &quot;java&quot;, &quot;-version&quot; };\n        try {\n            process = Runtime.getRuntime().exec(cmd);\n            in = process.getInputStream();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            if (in != null) {\n                in.close();\n            }\n        }\n    } \n    private void execCmd2() throws IOException {\n        Process process = null;\n        String[] cmd = { &quot;java&quot;, &quot;-version&quot; };\n        try {\n            process = Runtime.getRuntime().exec(cmd);\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n        }\n    }\n}\n</code></pre>\n<p>why it is throwing process.getError stream is not closed,I tried to close process resource by using following</p>\n<pre><code>if (process != null) {\n    process.getInputStream().close();\n    process.getOutputStream().close();\n    process.getErrorStream().close();\n</code></pre>\n<p>even it is showing process.getError stream is not closed.may i know the reason y it is showing that stream is not closed and how to close the process resource.Thanks in advance</p>\n"},{"tags":["java","eclipse","jpa"],"answers":[{"tags":[],"owner":{"account_id":320797,"reputation":5319,"user_id":639258,"accept_rate":92,"display_name":"Pramod Karandikar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1467354717,"creation_date":1467354717,"answer_id":38138540,"question_id":35572613,"body_markdown":"Finally found the fix.\r\n\r\n - In the dropdown for &#39;Drivers&#39;, select &#39;Other Oracle Driver&#39;\r\n - Mention the full connection URL\r\n - Test connection\r\n\r\nThat&#39;s it!","title":"Eclipse JPA Tools: Connect with service name instead of SID","body":"<p>Finally found the fix.</p>\n\n<ul>\n<li>In the dropdown for 'Drivers', select 'Other Oracle Driver'</li>\n<li>Mention the full connection URL</li>\n<li>Test connection</li>\n</ul>\n\n<p>That's it!</p>\n"}],"owner":{"account_id":320797,"reputation":5319,"user_id":639258,"accept_rate":92,"display_name":"Pramod Karandikar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2214,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":38138540,"answer_count":1,"score":1,"last_activity_date":1647267536,"creation_date":1456216810,"question_id":35572613,"body_markdown":"I am trying to generate entities from the database tables using JPA Tools features in eclipse.\r\n\r\nI am aware that we can use service name and connect using \r\n\r\n    jdbc:oracle:thin:@//oracle.hostserver.mydomain.ca:1234/ABCD\r\n\r\n\r\nThe problem is that we don&#39;t have SID due to some constraints and JPA Tools doesn&#39;t allow me to edit the connection URL. Connection URL is a non-editable field in the &quot;New Connection&quot; screen. URL is formed based on the inputs the user enters. I have referred to multiple SO questions but it didn&#39;t help. Any pointers are appreciated.\r\n\r\nJPA Tools screenshot \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/FZjWw.jpg","title":"Eclipse JPA Tools: Connect with service name instead of SID","body":"<p>I am trying to generate entities from the database tables using JPA Tools features in eclipse.</p>\n\n<p>I am aware that we can use service name and connect using </p>\n\n<pre><code>jdbc:oracle:thin:@//oracle.hostserver.mydomain.ca:1234/ABCD\n</code></pre>\n\n<p>The problem is that we don't have SID due to some constraints and JPA Tools doesn't allow me to edit the connection URL. Connection URL is a non-editable field in the \"New Connection\" screen. URL is formed based on the inputs the user enters. I have referred to multiple SO questions but it didn't help. Any pointers are appreciated.</p>\n\n<p>JPA Tools screenshot \n<a href=\"https://i.stack.imgur.com/FZjWw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FZjWw.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","simulation","anylogic"],"comments":[{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1618670135,"post_id":67138665,"comment_id":118674923,"body_markdown":"Have you tried deactivating any constraints and requirements, if you used any?","body":"Have you tried deactivating any constraints and requirements, if you used any?"},{"owner":{"account_id":17697614,"reputation":33,"user_id":12895274,"display_name":"Natasha Jones"},"score":0,"creation_date":1618683980,"post_id":67138665,"comment_id":118678726,"body_markdown":"Hi Benjamin, When I disable the requirement I have set it also generates the same error","body":"Hi Benjamin, When I disable the requirement I have set it also generates the same error"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1618765637,"post_id":67138665,"comment_id":118695895,"body_markdown":"Afraid there wont be a solution but to re-trace your steps until the error does not appear anymore. Hope you have versioned your model and can go back in time ;)","body":"Afraid there wont be a solution but to re-trace your steps until the error does not appear anymore. Hope you have versioned your model and can go back in time ;)"},{"owner":{"account_id":17697614,"reputation":33,"user_id":12895274,"display_name":"Natasha Jones"},"score":0,"creation_date":1618783985,"post_id":67138665,"comment_id":118700906,"body_markdown":"I mean I am following a webinar exactly and I have re-created the entire file multiple times and am still getting the same error so that doesn&#39;t seam to be the case","body":"I mean I am following a webinar exactly and I have re-created the entire file multiple times and am still getting the same error so that doesn&#39;t seam to be the case"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1618805438,"post_id":67138665,"comment_id":118704286,"body_markdown":"Might be an older version of AnyLogic...","body":"Might be an older version of AnyLogic..."},{"owner":{"account_id":4999683,"reputation":3818,"user_id":4019094,"display_name":"Jaco-Ben Vosloo"},"score":0,"creation_date":1647258617,"post_id":67138665,"comment_id":126318040,"body_markdown":"Same problem, the latest version of AnyLogic and professional version. I submitted it to AnyLogic support. I will update here if I get any updates.","body":"Same problem, the latest version of AnyLogic and professional version. I submitted it to AnyLogic support. I will update here if I get any updates."}],"answers":[{"tags":[],"owner":{"account_id":2011537,"reputation":816,"user_id":1799849,"display_name":"Artem P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618825464,"creation_date":1618825464,"answer_id":67159608,"question_id":67138665,"body_markdown":"`IsFeasible()` is called by OptQuest engine on a best found solution to make sure it satisfies constraints, from memory this error usually means that no solution has been found. Can you try running one of the example models that has an Optimization experiment (like &#39;Supply Chain&#39; for example) just to check that your AnyLogic is set up correctly and optimization is working. If it does then I am afraid there is an error in your model that prevents generation of solutions.","title":"Internal OptQuest Error. (Is Feasible() - solution has not been evaluated.)","body":"<p><code>IsFeasible()</code> is called by OptQuest engine on a best found solution to make sure it satisfies constraints, from memory this error usually means that no solution has been found. Can you try running one of the example models that has an Optimization experiment (like 'Supply Chain' for example) just to check that your AnyLogic is set up correctly and optimization is working. If it does then I am afraid there is an error in your model that prevents generation of solutions.</p>\n"},{"tags":[],"owner":{"account_id":21636728,"reputation":1,"user_id":15959552,"display_name":"Manuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621328366,"creation_date":1621328050,"answer_id":67582975,"question_id":67138665,"body_markdown":"Had exactly the same problem, I think we were doing the same example from the webinar. \r\nGo to Optimization properties &gt; Advanced and uncheck &quot;Allow parallel evaluations&quot; (my program is in Spanish, so it may have different wording, I&#39;ve just translated it).\r\n\r\nI still don&#39;t know why there was a problem, maybe it is because with a student license you can&#39;t run parallel simulations, but it solved it for me.","title":"Internal OptQuest Error. (Is Feasible() - solution has not been evaluated.)","body":"<p>Had exactly the same problem, I think we were doing the same example from the webinar.\nGo to Optimization properties &gt; Advanced and uncheck &quot;Allow parallel evaluations&quot; (my program is in Spanish, so it may have different wording, I've just translated it).</p>\n<p>I still don't know why there was a problem, maybe it is because with a student license you can't run parallel simulations, but it solved it for me.</p>\n"},{"tags":[],"owner":{"account_id":4999683,"reputation":3818,"user_id":4019094,"display_name":"Jaco-Ben Vosloo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647267485,"creation_date":1647267485,"answer_id":71469215,"question_id":67138665,"body_markdown":"AnyLogic support confirmed this as a bug\r\n\r\n&quot;The error occurs if the number of iterations is less than the number of CPU cores available for parallel evaluations. &quot;\r\nThey will fix it in one of the next AnyLogic updates. Currently, the error can be avoided as follows:\r\n\r\n- disable parallel evaluations in the properties of the experiment\r\n(Which is not great as it slows down your execution considerably)\r\n\r\nor\r\n\r\n(Preferred)\r\n- reduce the number of available CPU cores in AnyLogic Preferences (Tools &gt; Preferences... &gt; Runtime).\r\n\r\nI have 4 physical cors and 8 virtual cores. When I changed this to 4 it works fine, anything above it gives the error randomly. \r\n","title":"Internal OptQuest Error. (Is Feasible() - solution has not been evaluated.)","body":"<p>AnyLogic support confirmed this as a bug</p>\n<p>&quot;The error occurs if the number of iterations is less than the number of CPU cores available for parallel evaluations. &quot;\nThey will fix it in one of the next AnyLogic updates. Currently, the error can be avoided as follows:</p>\n<ul>\n<li>disable parallel evaluations in the properties of the experiment\n(Which is not great as it slows down your execution considerably)</li>\n</ul>\n<p>or</p>\n<p>(Preferred)</p>\n<ul>\n<li>reduce the number of available CPU cores in AnyLogic Preferences (Tools &gt; Preferences... &gt; Runtime).</li>\n</ul>\n<p>I have 4 physical cors and 8 virtual cores. When I changed this to 4 it works fine, anything above it gives the error randomly.</p>\n"}],"owner":{"account_id":17697614,"reputation":33,"user_id":12895274,"display_name":"Natasha Jones"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1647267485,"creation_date":1618665924,"question_id":67138665,"body_markdown":"My optimisation experiment inside AnyLogic is refusing the run, the error coming up is:\r\n\r\nInternal OptQuest Error. (Is Feasible() - solution has not been evaluated.)\r\n\r\nI cannot find anyone online explaining what this means and so I was wondering if anyone here could help?\r\n\r\nAny help would be appreciated","title":"Internal OptQuest Error. (Is Feasible() - solution has not been evaluated.)","body":"<p>My optimisation experiment inside AnyLogic is refusing the run, the error coming up is:</p>\n<p>Internal OptQuest Error. (Is Feasible() - solution has not been evaluated.)</p>\n<p>I cannot find anyone online explaining what this means and so I was wondering if anyone here could help?</p>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","design-patterns","ejb","instance","cdi"],"comments":[{"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":3,"creation_date":1565800239,"post_id":57497729,"comment_id":101467016,"body_markdown":"related: https://www.slf4j.org/faq.html#declared_static","body":"related: <a href=\"https://www.slf4j.org/faq.html#declared_static\" rel=\"nofollow noreferrer\">slf4j.org/faq.html#declared_static</a>"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1647339983,"post_id":57497729,"comment_id":126340990,"body_markdown":"Many already forgot that  you may code without using annotations :-P . Only disadvantages but CDI fans will craft some advantages for sure ;-)","body":"Many already forgot that  you may code without using annotations :-P . Only disadvantages but CDI fans will craft some advantages for sure ;-)"}],"answers":[{"tags":[],"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566281220,"creation_date":1566281220,"answer_id":57567537,"question_id":57497729,"body_markdown":"if you evaluates it from a performance perspective view... there is no big differences but static initialization usually is better than a managed bean.\r\n\r\nUsually, CDI will require a little more processing at application initialization and at contextual instance creation time. It will require a few more lines inside a producer method/class but will provide easy of use and certain kind of flexibility. Btw with CDI you can manage one instance per class or application with a minimal producer method.\r\n\r\n**Advantages:**\r\n\r\n - Easy to provide abstraction from common logging frameworks\r\n - Easy to add support for additional features like internationalization and localization\r\n - Easy of use (simple like use an annotation)\r\n - Easy of manage multiple implementations/configurations (simple like use multiple qualifiers)\r\n - Standardize use (like other fields)\r\n\r\n**Disadvantages:**\r\n\r\n - Additional minimal processing cost\r\n - Other tools like Lombok provides easy of use and provides annotation configuration too (at compile time and in a static way).\r\n - Usually is not required additional features for logs (like internationalization/localization).\r\n\r\nIn my opinion and summarized, I prefers to use an static field but it is not a bad practice use a cdi bean if you want certain point of abstraction, provide additional features, provide multiple Logger implementations/configurations or provide something ease of use to developers.\r\n","title":"Inject logger by CDI, an anti-pattern?","body":"<p>if you evaluates it from a performance perspective view... there is no big differences but static initialization usually is better than a managed bean.</p>\n\n<p>Usually, CDI will require a little more processing at application initialization and at contextual instance creation time. It will require a few more lines inside a producer method/class but will provide easy of use and certain kind of flexibility. Btw with CDI you can manage one instance per class or application with a minimal producer method.</p>\n\n<p><strong>Advantages:</strong></p>\n\n<ul>\n<li>Easy to provide abstraction from common logging frameworks</li>\n<li>Easy to add support for additional features like internationalization and localization</li>\n<li>Easy of use (simple like use an annotation)</li>\n<li>Easy of manage multiple implementations/configurations (simple like use multiple qualifiers)</li>\n<li>Standardize use (like other fields)</li>\n</ul>\n\n<p><strong>Disadvantages:</strong></p>\n\n<ul>\n<li>Additional minimal processing cost</li>\n<li>Other tools like Lombok provides easy of use and provides annotation configuration too (at compile time and in a static way).</li>\n<li>Usually is not required additional features for logs (like internationalization/localization).</li>\n</ul>\n\n<p>In my opinion and summarized, I prefers to use an static field but it is not a bad practice use a cdi bean if you want certain point of abstraction, provide additional features, provide multiple Logger implementations/configurations or provide something ease of use to developers.</p>\n"},{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647267029,"creation_date":1647267029,"answer_id":71469115,"question_id":57497729,"body_markdown":"I think Ariel&#39;s answer is correct. I wanted to add that you may have a fundamental misunderstanding of how CDI works: CDI does not inject the beans directly, nor does it instantiate the beans for every injection point. CDI Injects proxies, which have a reference to the real bean. These proxies are dirt cheap to create and gc. SL4J is also pooled and optimized for quick logger lookup. Combine these two, there are likely far more previous items that would affect your application that a very lightweight CDI injection.\r\n\r\n\r\nWhen doing any performance testing, the number one rule is to use a profiler. I think getting yourself a good test setup where you can evaluate your assumptions would be key. That being said, I think CDI Injections will likely be as-fast or faster.","title":"Inject logger by CDI, an anti-pattern?","body":"<p>I think Ariel's answer is correct. I wanted to add that you may have a fundamental misunderstanding of how CDI works: CDI does not inject the beans directly, nor does it instantiate the beans for every injection point. CDI Injects proxies, which have a reference to the real bean. These proxies are dirt cheap to create and gc. SL4J is also pooled and optimized for quick logger lookup. Combine these two, there are likely far more previous items that would affect your application that a very lightweight CDI injection.</p>\n<p>When doing any performance testing, the number one rule is to use a profiler. I think getting yourself a good test setup where you can evaluate your assumptions would be key. That being said, I think CDI Injections will likely be as-fast or faster.</p>\n"}],"owner":{"account_id":5727357,"reputation":409,"user_id":4523982,"display_name":"fidudidu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1647267029,"creation_date":1565796384,"question_id":57497729,"body_markdown":"Looking at this code:\r\n\r\n    @Stateless\r\n    public class AStatelessEJB {\r\n\r\n    @Inject\r\n    private Logger logger;\r\n\r\n    (...)\r\n\r\n\r\nWhy a logger, which is typically final and static, is injected by CDI into a stateless EJB (as an instance variable)? \r\n\r\nIs there any advantage? Or only disadvantages such as:\r\n\r\n\r\n - overhead of CDI lookup (per each bean initialization)\r\n - overhead of CDI initialization (per each bean initialization)\r\n - overhead of CDI injection (per each bean initialization)\r\n - overhead of garbage collector clean up (each time the bean gets destroyed)\r\n","title":"Inject logger by CDI, an anti-pattern?","body":"<p>Looking at this code:</p>\n\n<pre><code>@Stateless\npublic class AStatelessEJB {\n\n@Inject\nprivate Logger logger;\n\n(...)\n</code></pre>\n\n<p>Why a logger, which is typically final and static, is injected by CDI into a stateless EJB (as an instance variable)? </p>\n\n<p>Is there any advantage? Or only disadvantages such as:</p>\n\n<ul>\n<li>overhead of CDI lookup (per each bean initialization)</li>\n<li>overhead of CDI initialization (per each bean initialization)</li>\n<li>overhead of CDI injection (per each bean initialization)</li>\n<li>overhead of garbage collector clean up (each time the bean gets destroyed)</li>\n</ul>\n"},{"tags":["java","c++","opencv","alphablending","blending"],"answers":[{"tags":[],"owner":{"account_id":14652733,"reputation":1302,"user_id":10582271,"display_name":"shortcipher3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576992450,"creation_date":1576992450,"answer_id":59441826,"question_id":59441058,"body_markdown":"I recommend using the [addWeighted][1] method from Core for basic alpha-blending.  \r\n\r\nIt looks like you want a variable alpha blend based on a mask, you will need to arrange your parameters in the order specified by the api for basic things like [addition][2]/[subtraction][3]/[multiplication][4].  For your multiplication this means the scalar should be the second parameter.  For your subtraction this means the scalar should again be the second parameter (I find myself multiplying the matrix by negative 1 followed by adding to the scalar value).\r\n\r\n\r\n  [1]: https://docs.opencv.org/4.1.2/javadoc/org/opencv/core/Core.html#addWeighted-org.opencv.core.Mat-double-org.opencv.core.Mat-double-double-org.opencv.core.Mat-\r\n  [2]: https://docs.opencv.org/4.1.2/javadoc/org/opencv/core/Core.html#add-org.opencv.core.Mat-org.opencv.core.Scalar-org.opencv.core.Mat-\r\n  [3]: https://docs.opencv.org/4.1.2/javadoc/org/opencv/core/Core.html#subtract-org.opencv.core.Mat-org.opencv.core.Scalar-org.opencv.core.Mat-\r\n  [4]: https://docs.opencv.org/4.1.2/javadoc/org/opencv/core/Core.html#multiply-org.opencv.core.Mat-org.opencv.core.Scalar-org.opencv.core.Mat-","title":"OpenCV java alpha Blending","body":"<p>I recommend using the <a href=\"https://docs.opencv.org/4.1.2/javadoc/org/opencv/core/Core.html#addWeighted-org.opencv.core.Mat-double-org.opencv.core.Mat-double-double-org.opencv.core.Mat-\" rel=\"nofollow noreferrer\">addWeighted</a> method from Core for basic alpha-blending.  </p>\n\n<p>It looks like you want a variable alpha blend based on a mask, you will need to arrange your parameters in the order specified by the api for basic things like <a href=\"https://docs.opencv.org/4.1.2/javadoc/org/opencv/core/Core.html#add-org.opencv.core.Mat-org.opencv.core.Scalar-org.opencv.core.Mat-\" rel=\"nofollow noreferrer\">addition</a>/<a href=\"https://docs.opencv.org/4.1.2/javadoc/org/opencv/core/Core.html#subtract-org.opencv.core.Mat-org.opencv.core.Scalar-org.opencv.core.Mat-\" rel=\"nofollow noreferrer\">subtraction</a>/<a href=\"https://docs.opencv.org/4.1.2/javadoc/org/opencv/core/Core.html#multiply-org.opencv.core.Mat-org.opencv.core.Scalar-org.opencv.core.Mat-\" rel=\"nofollow noreferrer\">multiplication</a>.  For your multiplication this means the scalar should be the second parameter.  For your subtraction this means the scalar should again be the second parameter (I find myself multiplying the matrix by negative 1 followed by adding to the scalar value).</p>\n"},{"tags":[],"owner":{"account_id":14652733,"reputation":1302,"user_id":10582271,"display_name":"shortcipher3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577030134,"creation_date":1577030134,"answer_id":59445760,"question_id":59441058,"body_markdown":"Based on the link you shared, it looks like the goal is just to use image masking, I think there is an easier way to do it, using the [copyTo][1] function.  Try putting  this in your main and when it is working move to your function:\r\n\r\n    // Read the images\r\n    Mat foreground = Imgcodecs.imread(&quot;puppets.png&quot;);\r\n    Mat background = Imgcodecs.imread(&quot;ocean.png&quot;);\r\n    Mat mask = Imgcodecs.imread(&quot;puppets_alpha.png&quot;);\r\n    Mat notMask = new Mat();\r\n    Core.bitwise_not(mask, notMask);\r\n    Mat result = new Mat();\r\n    Core.copyTo(background, result, mask);\r\n    Core.copyTo(foreground, result, notMask);\r\n    Imgcodecs.imwrite(&quot;result.png&quot;, result);\r\n\r\n  [1]: https://docs.opencv.org/4.1.2/javadoc/org/opencv/core/Core.html#copyTo-org.opencv.core.Mat-org.opencv.core.Mat-org.opencv.core.Mat-\r\n","title":"OpenCV java alpha Blending","body":"<p>Based on the link you shared, it looks like the goal is just to use image masking, I think there is an easier way to do it, using the <a href=\"https://docs.opencv.org/4.1.2/javadoc/org/opencv/core/Core.html#copyTo-org.opencv.core.Mat-org.opencv.core.Mat-org.opencv.core.Mat-\" rel=\"nofollow noreferrer\">copyTo</a> function.  Try putting  this in your main and when it is working move to your function:</p>\n\n<pre><code>// Read the images\nMat foreground = Imgcodecs.imread(\"puppets.png\");\nMat background = Imgcodecs.imread(\"ocean.png\");\nMat mask = Imgcodecs.imread(\"puppets_alpha.png\");\nMat notMask = new Mat();\nCore.bitwise_not(mask, notMask);\nMat result = new Mat();\nCore.copyTo(background, result, mask);\nCore.copyTo(foreground, result, notMask);\nImgcodecs.imwrite(\"result.png\", result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23822046,"reputation":1,"user_id":17829600,"display_name":"Vishruti Faldu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647266658,"creation_date":1647266658,"answer_id":71469027,"question_id":59441058,"body_markdown":"    using OpenCVForUnity.CoreModule;\r\n    using OpenCVForUnity.UnityUtils;\r\n    using UnityEngine;\r\n    public class bitwiseNew : MonoBehaviour\r\n    {\r\n        Texture2D textureFace, textureMask, textureBG;\r\n        void Start()\r\n        {\r\n            Utils.setDebugMode(true);\r\n            textureFace = Resources.Load(&quot;Lena&quot;) as Texture2D;\r\n            textureMask = Resources.Load(&quot;circle&quot;) as Texture2D;\r\n            textureBG = Resources.Load(&quot;face&quot;) as Texture2D;\r\n    \r\n            Mat matFace = new Mat(textureFace.height, textureFace.width, CvType.CV_8UC4);\r\n            Mat matMask = new Mat(textureMask.height, textureMask.width, CvType.CV_8UC4);\r\n            Mat matBG = new Mat(textureBG.height, textureBG.width, CvType.CV_8UC4);\r\n    \r\n            Utils.texture2DToMat(textureFace, matFace);\r\n            Utils.texture2DToMat(textureMask, matMask);\r\n            Utils.texture2DToMat(textureBG, matBG);\r\n    \r\n            Mat mask = new Mat(matFace.cols(), matFace.rows(), matFace.type());\r\n            Mat maskDst1 = new Mat(matFace.cols(), matFace.rows(), matFace.type());\r\n            Mat maskDst2 = new Mat(matFace.cols(), matFace.rows(), matFace.type());\r\n            Mat dst = new Mat(matFace.cols(), matFace.rows(), matFace.type());\r\n    \r\n            Core.bitwise_not(matMask, mask);\r\n            Core.bitwise_not(matFace, matFace);\r\n    \r\n            Core.bitwise_and(matBG, mask, maskDst1);\r\n            Core.bitwise_or(mask, matFace, maskDst2);\r\n            Core.bitwise_not(maskDst2, maskDst2);\r\n    \r\n            Core.addWeighted(maskDst1, 1f, maskDst2, 1f, 0f, dst);\r\n            Debug.Log(&quot;dst: &quot; + dst.channels());\r\n    \r\n            Texture2D texture = new Texture2D(dst.cols(), dst.rows(), TextureFormat.RGBA32, false);\r\n            Utils.matToTexture2D(dst, texture);\r\n            gameObject.GetComponent&lt;Renderer&gt;().material.mainTexture = texture;\r\n            Utils.setDebugMode(false);\r\n        }\r\n    }","title":"OpenCV java alpha Blending","body":"<pre><code>using OpenCVForUnity.CoreModule;\nusing OpenCVForUnity.UnityUtils;\nusing UnityEngine;\npublic class bitwiseNew : MonoBehaviour\n{\n    Texture2D textureFace, textureMask, textureBG;\n    void Start()\n    {\n        Utils.setDebugMode(true);\n        textureFace = Resources.Load(&quot;Lena&quot;) as Texture2D;\n        textureMask = Resources.Load(&quot;circle&quot;) as Texture2D;\n        textureBG = Resources.Load(&quot;face&quot;) as Texture2D;\n\n        Mat matFace = new Mat(textureFace.height, textureFace.width, CvType.CV_8UC4);\n        Mat matMask = new Mat(textureMask.height, textureMask.width, CvType.CV_8UC4);\n        Mat matBG = new Mat(textureBG.height, textureBG.width, CvType.CV_8UC4);\n\n        Utils.texture2DToMat(textureFace, matFace);\n        Utils.texture2DToMat(textureMask, matMask);\n        Utils.texture2DToMat(textureBG, matBG);\n\n        Mat mask = new Mat(matFace.cols(), matFace.rows(), matFace.type());\n        Mat maskDst1 = new Mat(matFace.cols(), matFace.rows(), matFace.type());\n        Mat maskDst2 = new Mat(matFace.cols(), matFace.rows(), matFace.type());\n        Mat dst = new Mat(matFace.cols(), matFace.rows(), matFace.type());\n\n        Core.bitwise_not(matMask, mask);\n        Core.bitwise_not(matFace, matFace);\n\n        Core.bitwise_and(matBG, mask, maskDst1);\n        Core.bitwise_or(mask, matFace, maskDst2);\n        Core.bitwise_not(maskDst2, maskDst2);\n\n        Core.addWeighted(maskDst1, 1f, maskDst2, 1f, 0f, dst);\n        Debug.Log(&quot;dst: &quot; + dst.channels());\n\n        Texture2D texture = new Texture2D(dst.cols(), dst.rows(), TextureFormat.RGBA32, false);\n        Utils.matToTexture2D(dst, texture);\n        gameObject.GetComponent&lt;Renderer&gt;().material.mainTexture = texture;\n        Utils.setDebugMode(false);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10798505,"reputation":1,"user_id":7943352,"display_name":"nvsl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1647266658,"creation_date":1576978054,"question_id":59441058,"body_markdown":"I am trying to port the following code (from C++ to Java) to make good alpha blending between my images, but It did not work:\r\n\r\n```cpp\r\n#include opencv2/opencv.hpp\r\n \r\nusing namespace cv;\r\nusing namespace std;\r\n \r\nint main(int argc, char** argv)\r\n{\r\n \r\n    // Read the images\r\n    Mat foreground = imread(&quot;puppets.png&quot;);\r\n    Mat background = imread(&quot;ocean.png&quot;);\r\n    Mat alpha = imread(&quot;puppets_alpha.png&quot;);\r\n     \r\n    // Convert Mat to float data type\r\n    foreground.convertTo(foreground, CV_32FC3);\r\n    background.convertTo(background, CV_32FC3);\r\n    \r\n    // Normalize the alpha mask to keep intensity between 0 and 1\r\n    alpha.convertTo(alpha, CV_32FC3, 1.0/255); // \r\n \r\n    // Storage for output image\r\n    Mat ouImage = Mat::zeros(foreground.size(), foreground.type());\r\n \r\n    // Multiply the foreground with the alpha matte\r\n    multiply(alpha, foreground, foreground); \r\n \r\n    // Multiply the background with ( 1 - alpha )\r\n    multiply(Scalar::all(1.0)-alpha, background, background); \r\n \r\n    // Add the masked foreground and background.\r\n    add(foreground, background, ouImage); \r\n     \r\n    // Display image\r\n    imshow(&quot;alpha blended image&quot;, ouImage/255);\r\n    waitKey(0);\r\n     \r\n    return 0;\r\n}\r\n```\r\nThe code can be found here: [https://www.learnopencv.com/alpha-blending-using-opencv-cpp-python/][1]\r\n  [1]: https://www.learnopencv.com/alpha-blending-using-opencv-cpp-python/\r\n\r\nAnd my Java version:\r\n\r\n```java\r\npublic static Mat alphaBlend(Mat background, Mat foreground) {\r\n        Vector&lt;Mat&gt; rgba = new Vector&lt;Mat&gt;();\r\n        // split RBGA image for separate channels\r\n        Core.split(background, rgba);\r\n        // get alpha channel\r\n        Mat alpha = rgba.get(3);\r\n\r\n        // Convert Mat to float data type\r\n        foreground.convertTo(foreground, CvType.CV_32FC3);\r\n        background.convertTo(background, CvType.CV_32FC3);\r\n\r\n        // Normalize the alpha mask to keep intensity between 0 and 1\r\n        alpha.convertTo(alpha, CvType.CV_32FC3, 1.0/255); //\r\n        Imgproc.cvtColor(alpha,alpha, Imgproc.COLOR_GRAY2BGRA,4);\r\n\r\n        Mat outImage = Mat.zeros(foreground.size(),foreground.type());\r\n\r\n        // Multiply the foreground with the alpha matte\r\n        Core.multiply(alpha, foreground, foreground);\r\n\r\n        Mat kernel = new MatOfDouble(1.0);\r\n\r\n        Core.subtract(kernel, alpha, alpha);\r\n\r\n        // Multiply the background with ( 1 - alpha )\r\n        Core.multiply(alpha, background, background);\r\n\r\n        // Add the masked foreground and background.\r\n        Core.add(foreground, background, outImage);\r\n\r\n        Core.divide(new MatOfDouble(255), outImage,outImage);\r\n        return outImage;\r\n    }\r\n```\r\n\r\nI think my problem is to port this in java:\r\n\r\n```cpp\r\nmultiply(Scalar::all(1.0)-alpha, background, background); \r\n```\r\n\r\nAny help would be appreciated!\r\n\r\nThanks\r\n\r\nEdit:\r\nHere a working version but the border does not blend transparent pixel causing blank pixel/line at the border of the intersection of the images:\r\n```java\r\n    private static Mat merge(Mat background, Mat foreground) {\r\n        Vector&lt;Mat&gt; rgba = new Vector&lt;Mat&gt;();\r\n        // split RBGA image for separate channels\r\n        Core.split(background, rgba);\r\n        // get alpha channel\r\n        Mat alpha = rgba.get(3);\r\n        // Convert Mat to float data type\r\n        // Normalize the alpha mask to keep intensity between 0 and 1\r\n        alpha.convertTo(alpha, CvType.CV_32FC3, 1.0/255); //\r\n        Mat dst = new Mat(256,256,CvType.CV_8UC4);\r\n        alpha.convertTo(alpha,CvType.CV_8UC1);\r\n        Mat alphaInv = new Mat();\r\n        // invert the mask\r\n        Core.absdiff(new MatOfDouble(1.0), alpha, alphaInv);\r\n        foreground.copyTo(dst, alphaInv);\r\n        // case where foreground is full JPEG in BGR\r\n        if(dst.type() != CvType.CV_8UC4) {\r\n            Imgproc.cvtColor(dst, dst, Imgproc.COLOR_BGR2BGRA, 4);\r\n        }\r\n        background.copyTo(dst, alpha);\r\n        return dst;\r\n    }\r\n```\r\n\r\n","title":"OpenCV java alpha Blending","body":"<p>I am trying to port the following code (from C++ to Java) to make good alpha blending between my images, but It did not work:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include opencv2/opencv.hpp\n\nusing namespace cv;\nusing namespace std;\n\nint main(int argc, char** argv)\n{\n\n    // Read the images\n    Mat foreground = imread(\"puppets.png\");\n    Mat background = imread(\"ocean.png\");\n    Mat alpha = imread(\"puppets_alpha.png\");\n\n    // Convert Mat to float data type\n    foreground.convertTo(foreground, CV_32FC3);\n    background.convertTo(background, CV_32FC3);\n\n    // Normalize the alpha mask to keep intensity between 0 and 1\n    alpha.convertTo(alpha, CV_32FC3, 1.0/255); // \n\n    // Storage for output image\n    Mat ouImage = Mat::zeros(foreground.size(), foreground.type());\n\n    // Multiply the foreground with the alpha matte\n    multiply(alpha, foreground, foreground); \n\n    // Multiply the background with ( 1 - alpha )\n    multiply(Scalar::all(1.0)-alpha, background, background); \n\n    // Add the masked foreground and background.\n    add(foreground, background, ouImage); \n\n    // Display image\n    imshow(\"alpha blended image\", ouImage/255);\n    waitKey(0);\n\n    return 0;\n}\n</code></pre>\n\n<p>The code can be found here: <a href=\"https://www.learnopencv.com/alpha-blending-using-opencv-cpp-python/\" rel=\"nofollow noreferrer\">https://www.learnopencv.com/alpha-blending-using-opencv-cpp-python/</a>\nAnd my Java version:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static Mat alphaBlend(Mat background, Mat foreground) {\n        Vector&lt;Mat&gt; rgba = new Vector&lt;Mat&gt;();\n        // split RBGA image for separate channels\n        Core.split(background, rgba);\n        // get alpha channel\n        Mat alpha = rgba.get(3);\n\n        // Convert Mat to float data type\n        foreground.convertTo(foreground, CvType.CV_32FC3);\n        background.convertTo(background, CvType.CV_32FC3);\n\n        // Normalize the alpha mask to keep intensity between 0 and 1\n        alpha.convertTo(alpha, CvType.CV_32FC3, 1.0/255); //\n        Imgproc.cvtColor(alpha,alpha, Imgproc.COLOR_GRAY2BGRA,4);\n\n        Mat outImage = Mat.zeros(foreground.size(),foreground.type());\n\n        // Multiply the foreground with the alpha matte\n        Core.multiply(alpha, foreground, foreground);\n\n        Mat kernel = new MatOfDouble(1.0);\n\n        Core.subtract(kernel, alpha, alpha);\n\n        // Multiply the background with ( 1 - alpha )\n        Core.multiply(alpha, background, background);\n\n        // Add the masked foreground and background.\n        Core.add(foreground, background, outImage);\n\n        Core.divide(new MatOfDouble(255), outImage,outImage);\n        return outImage;\n    }\n</code></pre>\n\n<p>I think my problem is to port this in java:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>multiply(Scalar::all(1.0)-alpha, background, background); \n</code></pre>\n\n<p>Any help would be appreciated!</p>\n\n<p>Thanks</p>\n\n<p>Edit:\nHere a working version but the border does not blend transparent pixel causing blank pixel/line at the border of the intersection of the images:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    private static Mat merge(Mat background, Mat foreground) {\n        Vector&lt;Mat&gt; rgba = new Vector&lt;Mat&gt;();\n        // split RBGA image for separate channels\n        Core.split(background, rgba);\n        // get alpha channel\n        Mat alpha = rgba.get(3);\n        // Convert Mat to float data type\n        // Normalize the alpha mask to keep intensity between 0 and 1\n        alpha.convertTo(alpha, CvType.CV_32FC3, 1.0/255); //\n        Mat dst = new Mat(256,256,CvType.CV_8UC4);\n        alpha.convertTo(alpha,CvType.CV_8UC1);\n        Mat alphaInv = new Mat();\n        // invert the mask\n        Core.absdiff(new MatOfDouble(1.0), alpha, alphaInv);\n        foreground.copyTo(dst, alphaInv);\n        // case where foreground is full JPEG in BGR\n        if(dst.type() != CvType.CV_8UC4) {\n            Imgproc.cvtColor(dst, dst, Imgproc.COLOR_BGR2BGRA, 4);\n        }\n        background.copyTo(dst, alpha);\n        return dst;\n    }\n</code></pre>\n"},{"tags":["java","concurrency","rx-java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1645112618,"post_id":71157549,"comment_id":125789369,"body_markdown":"So you basically want to submit a new task for the DB write and continue with the stream without waiting for the task to be processed?","body":"So you basically want to submit a new task for the DB write and continue with the stream without waiting for the task to be processed?"},{"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"score":0,"creation_date":1645114566,"post_id":71157549,"comment_id":125790264,"body_markdown":"Yes. I guess so. If you got a code solution. Please write it in simple answer","body":"Yes. I guess so. If you got a code solution. Please write it in simple answer"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1645432358,"post_id":71157549,"comment_id":125860790,"body_markdown":"No, I don&#39;t have any ready to use code examples but I&#39;d try to create an `ExecutorService` via `Executors.newSingleThreadExecutor()`, share the instance between the flows and submit tasks to it instead of directly writing to the DB.","body":"No, I don&#39;t have any ready to use code examples but I&#39;d try to create an <code>ExecutorService</code> via <code>Executors.newSingleThreadExecutor()</code>, share the instance between the flows and submit tasks to it instead of directly writing to the DB."}],"answers":[{"tags":[],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647266351,"creation_date":1647266351,"answer_id":71468964,"question_id":71157549,"body_markdown":"What you are seeing is the effect of backpressure on `sequential`. Apply `observeOn` after it with another scheduler to not bog down the parallel threads.\r\n\r\nhttps://github.com/ReactiveX/RxJava/issues/7394","title":"RxJava parallel threads wait for sequental thread","body":"<p>What you are seeing is the effect of backpressure on <code>sequential</code>. Apply <code>observeOn</code> after it with another scheduler to not bog down the parallel threads.</p>\n<p><a href=\"https://github.com/ReactiveX/RxJava/issues/7394\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/RxJava/issues/7394</a></p>\n"}],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71468964,"answer_count":1,"score":0,"last_activity_date":1647266351,"creation_date":1645098281,"question_id":71157549,"body_markdown":"I got such a flow, where i need to prepare files in many threads and write to database in one thread\r\n\r\n        Flowable.fromIterable(files)\r\n                .parallel()\r\n                .runOn(Schedulers.io())\r\n                .flatMap(prepareFiles())\r\n                .doOnNext(writeToDatabase())\r\n                .sequential()\r\n                .takeUntil(file -&gt; {\r\n                    return stopService.get();\r\n                })\r\n                .blockingSubscribe();\r\n\r\nWhen i use such a flow it works perfectly. But i need to write to database in one thread (cause of database specifics)\r\n\r\nSo i just change two lines (`doOnNext` and `sequential`) in code and it became this:\r\n\r\n\r\n        Flowable.fromIterable(files)\r\n                .parallel()\r\n                .runOn(Schedulers.io())\r\n                .flatMap(prepareFiles())\r\n                .sequential()\r\n                .doOnNext(writeToDatabase())\r\n                .takeUntil(file -&gt; {\r\n                    return stopService.get();\r\n                })\r\n                .blockingSubscribe();\r\n\r\nBut if you will look in JVM, you will see, that totaly speed became much slower\r\n\r\nIt seems, like all threads wait for only one thread for write into database\r\n\r\nThat the JVM with first code\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd that is the JVM with the second code\r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou can see, that it seems like all threads wait for one\r\n\r\nSo, how to write in one thread, and set other threads not to wait for first?\r\n\r\n  [1]: https://i.stack.imgur.com/aaHhh.jpg\r\n  [2]: https://i.stack.imgur.com/o1cMA.jpg","title":"RxJava parallel threads wait for sequental thread","body":"<p>I got such a flow, where i need to prepare files in many threads and write to database in one thread</p>\n<pre><code>    Flowable.fromIterable(files)\n            .parallel()\n            .runOn(Schedulers.io())\n            .flatMap(prepareFiles())\n            .doOnNext(writeToDatabase())\n            .sequential()\n            .takeUntil(file -&gt; {\n                return stopService.get();\n            })\n            .blockingSubscribe();\n</code></pre>\n<p>When i use such a flow it works perfectly. But i need to write to database in one thread (cause of database specifics)</p>\n<p>So i just change two lines (<code>doOnNext</code> and <code>sequential</code>) in code and it became this:</p>\n<pre><code>    Flowable.fromIterable(files)\n            .parallel()\n            .runOn(Schedulers.io())\n            .flatMap(prepareFiles())\n            .sequential()\n            .doOnNext(writeToDatabase())\n            .takeUntil(file -&gt; {\n                return stopService.get();\n            })\n            .blockingSubscribe();\n</code></pre>\n<p>But if you will look in JVM, you will see, that totaly speed became much slower</p>\n<p>It seems, like all threads wait for only one thread for write into database</p>\n<p>That the JVM with first code</p>\n<p><a href=\"https://i.stack.imgur.com/aaHhh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aaHhh.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And that is the JVM with the second code</p>\n<p><a href=\"https://i.stack.imgur.com/o1cMA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o1cMA.jpg\" alt=\"enter image description here\" /></a></p>\n<p>You can see, that it seems like all threads wait for one</p>\n<p>So, how to write in one thread, and set other threads not to wait for first?</p>\n"},{"tags":["java","mqtt","hivemq"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1647262165,"post_id":71467511,"comment_id":126319388,"body_markdown":"Have you printed/checked what `connAck` value you get back is?","body":"Have you printed/checked what <code>connAck</code> value you get back is?"},{"owner":{"account_id":4217278,"reputation":799,"user_id":3453066,"accept_rate":92,"display_name":"Jure"},"score":0,"creation_date":1647264854,"post_id":71467511,"comment_id":126320521,"body_markdown":"@hardillb I added it the if statement and I is not printed.","body":"@hardillb I added it the if statement and I is not printed."}],"answers":[{"tags":[],"owner":{"account_id":4217278,"reputation":799,"user_id":3453066,"accept_rate":92,"display_name":"Jure"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647266090,"creation_date":1647266090,"answer_id":71468903,"question_id":71467511,"body_markdown":"I removed the line:\r\n\r\n    .automaticReconnectWithDefaultConfig()\r\n\r\nand I now get the exception thrown when trying to connect. It looks that if you have automaticReconnect enabled it tries to reconnect without throwing exception.\r\n\r\nReason why it was failing to connect was that I was using tcp://127.0.0.1 instead of just 127.0.0.1.","title":"HiveMQ Mqtt Client","body":"<p>I removed the line:</p>\n<pre><code>.automaticReconnectWithDefaultConfig()\n</code></pre>\n<p>and I now get the exception thrown when trying to connect. It looks that if you have automaticReconnect enabled it tries to reconnect without throwing exception.</p>\n<p>Reason why it was failing to connect was that I was using tcp://127.0.0.1 instead of just 127.0.0.1.</p>\n"}],"owner":{"account_id":4217278,"reputation":799,"user_id":3453066,"accept_rate":92,"display_name":"Jure"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71468903,"answer_count":1,"score":0,"last_activity_date":1647266090,"creation_date":1647259583,"question_id":71467511,"body_markdown":"I am trying to connect to our local  MQTT broker.\r\n\r\nI create client:\r\n\r\n    Mqtt5AsyncClient client = Mqtt5Client.builder()\r\n                .serverHost(connectionConfig.getIp())\r\n                .serverPort(1883)\r\n                .automaticReconnectWithDefaultConfig()\r\n                .identifier(connectionConfig.getClientID())\r\n                .addConnectedListener(context -&gt;  isConnected = true)\r\n                .addDisconnectedListener(context -&gt; isConnected = false)\r\n                .buildAsync();\r\n\r\nand latter I try to open connection:\r\n\r\n    private void openConnection()\r\n        {\r\n            logger.info(&quot;openConnection() start&quot;);\r\n            client.connectWith()\r\n                    .simpleAuth()\r\n                    .username(connectionConfig.getUser())\r\n                    .password(connectionConfig.getPassword().getBytes())\r\n                    .applySimpleAuth()\r\n                    .send()\r\n                    .whenComplete((connAck, throwable) -&gt;\r\n                    {\r\n                        if (throwable != null)\r\n                        {\r\n                            logger.error(&quot;connect error&quot;);\r\n                            logger.error(&quot;couldn&#39;t connect to broker={}&quot;, throwable);\r\n                        } else\r\n                        {\r\n                            logger.info(&quot;mqtt client connected&quot;);\r\n                            subscribe();\r\n                        }\r\n    \r\n                    });\r\n            logger.info(&quot;openConnection() end&quot;);\r\n        }\r\n\r\nI am waiting for whenComplete to give me some result but nothing happens. In log I only get this:\r\n\r\n    13:00:53.375 [Thread-0] INFO  mqtt.MqttHiveClient - openConnection() start\r\n    13:00:55.582 [Thread-0] INFO  mqtt.MqttHiveClient - openConnection() end\r\n\r\nShould I catch Exceptions somehow different?\r\n\r\nEven if i change:\r\n\r\n    .serverHost(connectionConfig.getIp())\r\n\r\nto something wrong:\r\n\r\n    .serverHost(&quot;asdž)\r\n\r\nnothing is thrown.","title":"HiveMQ Mqtt Client","body":"<p>I am trying to connect to our local  MQTT broker.</p>\n<p>I create client:</p>\n<pre><code>Mqtt5AsyncClient client = Mqtt5Client.builder()\n            .serverHost(connectionConfig.getIp())\n            .serverPort(1883)\n            .automaticReconnectWithDefaultConfig()\n            .identifier(connectionConfig.getClientID())\n            .addConnectedListener(context -&gt;  isConnected = true)\n            .addDisconnectedListener(context -&gt; isConnected = false)\n            .buildAsync();\n</code></pre>\n<p>and latter I try to open connection:</p>\n<pre><code>private void openConnection()\n    {\n        logger.info(&quot;openConnection() start&quot;);\n        client.connectWith()\n                .simpleAuth()\n                .username(connectionConfig.getUser())\n                .password(connectionConfig.getPassword().getBytes())\n                .applySimpleAuth()\n                .send()\n                .whenComplete((connAck, throwable) -&gt;\n                {\n                    if (throwable != null)\n                    {\n                        logger.error(&quot;connect error&quot;);\n                        logger.error(&quot;couldn't connect to broker={}&quot;, throwable);\n                    } else\n                    {\n                        logger.info(&quot;mqtt client connected&quot;);\n                        subscribe();\n                    }\n\n                });\n        logger.info(&quot;openConnection() end&quot;);\n    }\n</code></pre>\n<p>I am waiting for whenComplete to give me some result but nothing happens. In log I only get this:</p>\n<pre><code>13:00:53.375 [Thread-0] INFO  mqtt.MqttHiveClient - openConnection() start\n13:00:55.582 [Thread-0] INFO  mqtt.MqttHiveClient - openConnection() end\n</code></pre>\n<p>Should I catch Exceptions somehow different?</p>\n<p>Even if i change:</p>\n<pre><code>.serverHost(connectionConfig.getIp())\n</code></pre>\n<p>to something wrong:</p>\n<pre><code>.serverHost(&quot;asdž)\n</code></pre>\n<p>nothing is thrown.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":4712900,"reputation":3227,"user_id":3812888,"accept_rate":73,"display_name":"The Head Rush"},"score":1,"creation_date":1647263725,"post_id":71468351,"comment_id":126320048,"body_markdown":"Saying &quot;it&#39;s not working&quot; is not a helpful description of a problem. We need to know what you expect to happen, what actually does happen and what errors, if any, are produced along the way","body":"Saying &quot;it&#39;s not working&quot; is not a helpful description of a problem. We need to know what you expect to happen, what actually does happen and what errors, if any, are produced along the way"},{"owner":{"account_id":2368363,"reputation":92154,"user_id":2073595,"display_name":"dano"},"score":1,"creation_date":1647264572,"post_id":71468351,"comment_id":126320394,"body_markdown":"Your example is using Reactor, not RxJava.","body":"Your example is using Reactor, not RxJava."},{"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"score":0,"creation_date":1658736766,"post_id":71468351,"comment_id":129115925,"body_markdown":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like.","body":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like."}],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647265638,"creation_date":1647265638,"answer_id":71468821,"question_id":71468351,"body_markdown":"The method `collectList` returns a `Mono&lt;List&lt;String&gt;&gt;` that can be transformed to `Flux`. \r\nTherefore, using `flatMapMany` it becomes `payloadList` filtering out the `dbNameList`.\r\n\r\n```java\r\npublic void filterName(Flux&lt;String&gt; payloadList) {\r\n    nameRepo.findAll() &lt; --DB call which is reactive repository\r\n        .map(dbObj -&gt; dbObj.getName())\r\n        .collectList()\r\n        .flatMapMany(dbNameList -&gt; payloadList.filter(name -&gt; !dbNameList.contains(name)))\r\n        .subscribe(System.out::println);\r\n}\r\n```","title":"Using Filter operator in Reactor Java","body":"<p>The method <code>collectList</code> returns a <code>Mono&lt;List&lt;String&gt;&gt;</code> that can be transformed to <code>Flux</code>.\nTherefore, using <code>flatMapMany</code> it becomes <code>payloadList</code> filtering out the <code>dbNameList</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void filterName(Flux&lt;String&gt; payloadList) {\n    nameRepo.findAll() &lt; --DB call which is reactive repository\n        .map(dbObj -&gt; dbObj.getName())\n        .collectList()\n        .flatMapMany(dbNameList -&gt; payloadList.filter(name -&gt; !dbNameList.contains(name)))\n        .subscribe(System.out::println);\n}\n</code></pre>\n"}],"owner":{"account_id":6381890,"reputation":131,"user_id":4951026,"accept_rate":71,"display_name":"Deepak Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1607,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71468821,"answer_count":1,"score":2,"last_activity_date":1647265710,"creation_date":1647263521,"question_id":71468351,"body_markdown":"I am trying to filter out the name which are  not present in DB results. It&#39;s not working\r\n&gt;  Data Present in Db:\r\n\r\n      A,B,C,D\r\n\r\n   Payload Contains:\r\n\r\n    C,D,E,X\r\n  \r\n   Expected Result:\r\n\r\n    E,X\r\n\r\n\r\nBelow is the code snippet.\r\n\r\n         public void filterName(Flux&lt;String&gt; payloadList)\r\n              {\r\n               nameRepo.findAll() &lt;-- DB call which is reactiverepository\r\n     \t\t   .map(dbObj-&gt;dbObj.getName())     \t\t   \r\n               .collectList().flatMapMany(Mono::just)\r\n     \t\t   .map(dbNameList-&gt;payloadList.filter(name-&gt; \r\n               !dbNameList.contains(name)).subscribe())\r\n              .subscribe(z-&gt; System.out.println(z));;   \r\n        }\r\n\r\n\r\n&gt; In result I am getting LambdaSubscriber object.\r\n\r\n \r\n","title":"Using Filter operator in Reactor Java","body":"<p>I am trying to filter out the name which are  not present in DB results. It's not working</p>\n<blockquote>\n<p>Data Present in Db:</p>\n</blockquote>\n<pre><code>  A,B,C,D\n</code></pre>\n<p>Payload Contains:</p>\n<pre><code>C,D,E,X\n</code></pre>\n<p>Expected Result:</p>\n<pre><code>E,X\n</code></pre>\n<p>Below is the code snippet.</p>\n<pre><code>     public void filterName(Flux&lt;String&gt; payloadList)\n          {\n           nameRepo.findAll() &lt;-- DB call which is reactiverepository\n           .map(dbObj-&gt;dbObj.getName())                \n           .collectList().flatMapMany(Mono::just)\n           .map(dbNameList-&gt;payloadList.filter(name-&gt; \n           !dbNameList.contains(name)).subscribe())\n          .subscribe(z-&gt; System.out.println(z));;   \n    }\n</code></pre>\n<blockquote>\n<p>In result I am getting LambdaSubscriber object.</p>\n</blockquote>\n"},{"tags":["java","sql","spring-boot","testing"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647264880,"post_id":71468109,"comment_id":126320535,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":23036186,"reputation":1,"user_id":18462870,"display_name":"IgorGarciaRez"},"score":0,"creation_date":1647265680,"post_id":71468109,"comment_id":126320880,"body_markdown":"Hey, just provided some more","body":"Hey, just provided some more"}],"answers":[{"tags":[],"owner":{"account_id":23036186,"reputation":1,"user_id":18462870,"display_name":"IgorGarciaRez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647264060,"creation_date":1647264060,"answer_id":71468467,"question_id":71468109,"body_markdown":"So the issue was that I was not inserting a already existing Cidade, so what I did was change the @Test class to save a Cidade and assign to the Pessoa i was trying to save.\r\n\r\nAnd after more than 2 hours of research I found my solution on https://stackoverflow.com/questions/54973463/spring-boot-referential-integrity-constraint-violation , at @Cristian Colorado answer\r\n\r\nHere&#39;s my test class:\r\n```\r\n@Test\r\n    void save_whenSuccessful(){\r\n        Pessoa pessoa2BSalva = PessoaCreator.criarPessoa2BSalva();\r\n        Cidade cidade2BSalva = CidadeCreator.criarCidade2BSalva();\r\n        Cidade cidadeSalva = this.cidadeRepository.save(cidade2BSalva);\r\n        pessoa2BSalva.setCidade(cidadeSalva);\r\n        Pessoa pessoaSalva = this.pessoaRepository.save(pessoa2BSalva);\r\n        Assertions.assertThat(pessoaSalva).isNotNull();\r\n        Assertions.assertThat(pessoaSalva.getId()).isNotNull();\r\n    }\r\n```","title":"How to use @Builder from lombok to build an entity when it needs another entity?","body":"<p>So the issue was that I was not inserting a already existing Cidade, so what I did was change the @Test class to save a Cidade and assign to the Pessoa i was trying to save.</p>\n<p>And after more than 2 hours of research I found my solution on <a href=\"https://stackoverflow.com/questions/54973463/spring-boot-referential-integrity-constraint-violation\">Spring boot : Referential integrity constraint violation</a> , at @Cristian Colorado answer</p>\n<p>Here's my test class:</p>\n<pre><code>@Test\n    void save_whenSuccessful(){\n        Pessoa pessoa2BSalva = PessoaCreator.criarPessoa2BSalva();\n        Cidade cidade2BSalva = CidadeCreator.criarCidade2BSalva();\n        Cidade cidadeSalva = this.cidadeRepository.save(cidade2BSalva);\n        pessoa2BSalva.setCidade(cidadeSalva);\n        Pessoa pessoaSalva = this.pessoaRepository.save(pessoa2BSalva);\n        Assertions.assertThat(pessoaSalva).isNotNull();\n        Assertions.assertThat(pessoaSalva.getId()).isNotNull();\n    }\n</code></pre>\n"}],"owner":{"account_id":23036186,"reputation":1,"user_id":18462870,"display_name":"IgorGarciaRez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71468467,"answer_count":1,"score":-1,"last_activity_date":1647265638,"creation_date":1647262320,"question_id":71468109,"body_markdown":"i was trying to build an entity of &quot;Pessoa&quot; for my backend test class, but it requires a &quot;Cidade&quot; type of property, and when i try to pass a new Cidade or instantiate a builder of Cidade to create a new valid one, i get the errors related to sql:\r\n&gt;org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n\r\n&gt;Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: &quot;FK_PESSOA_CIDADE_ID: PUBLIC.PESSOA FOREIGN KEY(CIDADE_ID) REFERENCES PUBLIC.CIDADE(ID) (1)&quot;; SQL statement:\r\ninsert into pessoa (apelido, cidade_id, cpf, hobbie, nome, time_coracao) values (?, ?, ?, ?, ?, ?) [23506-200]\r\n\r\nhttps://www.h2database.com/javadoc/org/h2/api/ErrorCode.html\r\n\r\nI already know that the error with code 23506 is thrown when trying to insert or update a row that would violate a referential constraint, because the referenced row does not exist.\r\n\r\nBut what I don&#39;t know is what to do to solve it, can someone help?\r\n\r\nI have tried putting not yet existing Ids to create a new Cidade, but it didn&#39;t work. I have spent already more than 2 hours on this error.\r\n\r\nTest class:\r\n```\r\n@DataJpaTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@Log4j2\r\nclass PessoaRepositoryTest {\r\n\r\n    @Autowired\r\n    private PessoaRepository pessoaRepository;\r\n\r\n    @Test\r\n        void save_whenSuccessful(){\r\n            Pessoa pessoa2BSalva = PessoaCreator.criarPessoa2BSalva();\r\n            Pessoa pessoaSalva = this.pessoaRepository.save(pessoa2BSalva);\r\n            Assertions.assertThat(pessoaSalva).isNotNull();\r\n            Assertions.assertThat(pessoaSalva.getId()).isNotNull();\r\n    }\r\n```\r\n\r\nPessoa2BSalva method:\r\n```\r\npublic static Pessoa criarPessoa2BSalva(){\r\n        return Pessoa.builder()\r\n                .nome(&quot;Roger&quot;)\r\n                .cpf(&quot;54027892300&quot;)\r\n                .apelido(&quot;Rogerinho&quot;)\r\n                .timeCoracao(&quot;Flamengo&quot;)\r\n                .hobbie(&quot;Futebol&quot;)\r\n                .cidade(CidadeCreator.criarCidadeValida())\r\n                .build();\r\n    }\r\n```\r\n\r\nCriarCidadeValida method:\r\n```\r\npublic static Cidade criarCidadeValida(){\r\n        return Cidade.builder()\r\n                .id(1L)\r\n                .nome(&quot;Formiga&quot;)\r\n                .estado(&quot;MG&quot;)\r\n                .qtdHabitantes(75000).build();\r\n    }\r\n```\r\n\r\nAny type of help is apreciated","title":"How to use @Builder from lombok to build an entity when it needs another entity?","body":"<p>i was trying to build an entity of &quot;Pessoa&quot; for my backend test class, but it requires a &quot;Cidade&quot; type of property, and when i try to pass a new Cidade or instantiate a builder of Cidade to create a new valid one, i get the errors related to sql:</p>\n<blockquote>\n<p>org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement</p>\n</blockquote>\n<blockquote>\n<p>Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: &quot;FK_PESSOA_CIDADE_ID: PUBLIC.PESSOA FOREIGN KEY(CIDADE_ID) REFERENCES PUBLIC.CIDADE(ID) (1)&quot;; SQL statement:\ninsert into pessoa (apelido, cidade_id, cpf, hobbie, nome, time_coracao) values (?, ?, ?, ?, ?, ?) [23506-200]</p>\n</blockquote>\n<p><a href=\"https://www.h2database.com/javadoc/org/h2/api/ErrorCode.html\" rel=\"nofollow noreferrer\">https://www.h2database.com/javadoc/org/h2/api/ErrorCode.html</a></p>\n<p>I already know that the error with code 23506 is thrown when trying to insert or update a row that would violate a referential constraint, because the referenced row does not exist.</p>\n<p>But what I don't know is what to do to solve it, can someone help?</p>\n<p>I have tried putting not yet existing Ids to create a new Cidade, but it didn't work. I have spent already more than 2 hours on this error.</p>\n<p>Test class:</p>\n<pre><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\n@Log4j2\nclass PessoaRepositoryTest {\n\n    @Autowired\n    private PessoaRepository pessoaRepository;\n\n    @Test\n        void save_whenSuccessful(){\n            Pessoa pessoa2BSalva = PessoaCreator.criarPessoa2BSalva();\n            Pessoa pessoaSalva = this.pessoaRepository.save(pessoa2BSalva);\n            Assertions.assertThat(pessoaSalva).isNotNull();\n            Assertions.assertThat(pessoaSalva.getId()).isNotNull();\n    }\n</code></pre>\n<p>Pessoa2BSalva method:</p>\n<pre><code>public static Pessoa criarPessoa2BSalva(){\n        return Pessoa.builder()\n                .nome(&quot;Roger&quot;)\n                .cpf(&quot;54027892300&quot;)\n                .apelido(&quot;Rogerinho&quot;)\n                .timeCoracao(&quot;Flamengo&quot;)\n                .hobbie(&quot;Futebol&quot;)\n                .cidade(CidadeCreator.criarCidadeValida())\n                .build();\n    }\n</code></pre>\n<p>CriarCidadeValida method:</p>\n<pre><code>public static Cidade criarCidadeValida(){\n        return Cidade.builder()\n                .id(1L)\n                .nome(&quot;Formiga&quot;)\n                .estado(&quot;MG&quot;)\n                .qtdHabitantes(75000).build();\n    }\n</code></pre>\n<p>Any type of help is apreciated</p>\n"},{"tags":["java","android","kotlin","exception"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1647264777,"post_id":71468599,"comment_id":126320489,"body_markdown":"most likely, you can add catch blocks for each type of exception you want handled, or within the catch(Exception e) block, you can use conditional statements to fire out which type it is, and to treat it accordingly","body":"most likely, you can add catch blocks for each type of exception you want handled, or within the catch(Exception e) block, you can use conditional statements to fire out which type it is, and to treat it accordingly"},{"owner":{"display_name":"user14016240"},"score":0,"creation_date":1647264990,"post_id":71468599,"comment_id":126320584,"body_markdown":"@Stultuske Ooops, I think you didn&#39;t understand my question properly. I&#39;m not asking that inside catch block how can I handle the exception, I&#39;m asking that for every fun, I&#39;m wrapping my code inside try/catch block, that I don&#39;t want, instead it should be handle from any base class, and if exception is coming then it should go to catch block of that base class and return the logic from there only.","body":"@Stultuske Ooops, I think you didn&#39;t understand my question properly. I&#39;m not asking that inside catch block how can I handle the exception, I&#39;m asking that for every fun, I&#39;m wrapping my code inside try/catch block, that I don&#39;t want, instead it should be handle from any base class, and if exception is coming then it should go to catch block of that base class and return the logic from there only."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647265445,"creation_date":1647265445,"answer_id":71468775,"question_id":71468599,"body_markdown":"Your `getResult` function has an error in the catch block. You are calling `call()` again if the first call to `call()` threw an exception. I don&#39;t think it makes sense to call it again, because it will probably throw again and you won&#39;t be able to return your `Resource.error`.\r\n\r\nIf you fix this problem, you won&#39;t need to use try/catch in your other functions, because `call` will be safely wrapped in `try/catch` and pack any errors into a `Resource.error`.\r\n\r\nTo fix it: since you already handle `response?.code` in the try block, there&#39;s no reason to repeat getting `call()?.code` in the catch block. You can simplify it to \r\n\r\n    return error(e.message ?: e.toString(), AppConstants.INetworkValues.DEFAULT_ERROR_CODE)","title":"How can I handle catch exception for different functions at a common class in Kotlin?","body":"<p>Your <code>getResult</code> function has an error in the catch block. You are calling <code>call()</code> again if the first call to <code>call()</code> threw an exception. I don't think it makes sense to call it again, because it will probably throw again and you won't be able to return your <code>Resource.error</code>.</p>\n<p>If you fix this problem, you won't need to use try/catch in your other functions, because <code>call</code> will be safely wrapped in <code>try/catch</code> and pack any errors into a <code>Resource.error</code>.</p>\n<p>To fix it: since you already handle <code>response?.code</code> in the try block, there's no reason to repeat getting <code>call()?.code</code> in the catch block. You can simplify it to</p>\n<pre><code>return error(e.message ?: e.toString(), AppConstants.INetworkValues.DEFAULT_ERROR_CODE)\n</code></pre>\n"}],"owner":{"display_name":"user14016240"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71468775,"answer_count":1,"score":1,"last_activity_date":1647265445,"creation_date":1647264629,"question_id":71468599,"body_markdown":"This is my RemoteDataSource class, where I&#39;ll write many api calls like this:\r\n\r\n    suspend fun getReviewData1() = getResult {\r\n            try {\r\n               apiService.getReviewData(getCustomerId())\r\n            } catch (e: Exception) {\r\n               handleException(e)\r\n            }\r\n        }\r\n    \r\n    suspend fun getReviewData2() = getResult {\r\n            try {\r\n               apiService.getReviewData(getCustomerId())\r\n            } catch (e: Exception) {\r\n               handleException(e)\r\n            }\r\n        }\r\n\r\nNow, you can see that for each fun, I need to wrap my code in try/catch block. Everything is working fine, I&#39;m able to catch the exception also, but why to write so many try/catch for each function? Instead I need to do in one common class, so that I can simply call my function SOMETHING like this.\r\n\r\n\r\n    suspend fun getReviewData() = getResult {\r\n         apiService.getReviewData(getCustomerId())\r\n     }\r\n\r\nYou can write an answer and suggest me if you want to make change anything, for ex in getResult()\r\n\r\n---\r\n\r\ngetResult() in another base class:\r\n\r\n    protected suspend fun &lt;T&gt; getResult(call: suspend () -&gt; Response&lt;T&gt;?): Resource&lt;T&gt; {\r\n            try {\r\n                val response = call()\r\n                if (response?.isSuccessful == true) {\r\n                    val body = response.body()\r\n                    if (body != null) return Resource.success(body, response.message(), response.code())\r\n                }\r\n                return error((response?.message() ?: context.getString(R.string.unable_to_reach_server)),\r\n                    (response?.code() ?: AppConstants.INetworkValues.DEFAULT_ERROR_CODE))\r\n            } catch (e: Exception) {\r\n                return error(e.message ?: e.toString(), (call()?.code() ?: AppConstants.INetworkValues.DEFAULT_ERROR_CODE))\r\n            }\r\n        }\r\n    \r\n        private fun &lt;T&gt; error(message: String, code: Int): Resource&lt;T&gt; {\r\n            LogUtils.d(message)\r\n            return Resource.error(null, message, code)\r\n        }\r\n\r\n\r\nhandleException()\r\n\r\n    fun handleException(e: Exception): Response&lt;Any&gt; {\r\n            if (e is NoConnectivityException) {\r\n                return Response.error(AppConstants.INetworkValues.INTERNET_ERROR_CODE, getDummyResponseBody())\r\n            } else {\r\n                return Response.error(AppConstants.INetworkValues.DEFAULT_ERROR_CODE, getDummyResponseBody())\r\n            }\r\n        }\r\n\r\nI tried this answer, but it&#39;s just not happening:\r\nhttps://stackoverflow.com/a/46517243/14016240\r\n\r\nPlease help.","title":"How can I handle catch exception for different functions at a common class in Kotlin?","body":"<p>This is my RemoteDataSource class, where I'll write many api calls like this:</p>\n<pre><code>suspend fun getReviewData1() = getResult {\n        try {\n           apiService.getReviewData(getCustomerId())\n        } catch (e: Exception) {\n           handleException(e)\n        }\n    }\n\nsuspend fun getReviewData2() = getResult {\n        try {\n           apiService.getReviewData(getCustomerId())\n        } catch (e: Exception) {\n           handleException(e)\n        }\n    }\n</code></pre>\n<p>Now, you can see that for each fun, I need to wrap my code in try/catch block. Everything is working fine, I'm able to catch the exception also, but why to write so many try/catch for each function? Instead I need to do in one common class, so that I can simply call my function SOMETHING like this.</p>\n<pre><code>suspend fun getReviewData() = getResult {\n     apiService.getReviewData(getCustomerId())\n }\n</code></pre>\n<p>You can write an answer and suggest me if you want to make change anything, for ex in getResult()</p>\n<hr />\n<p>getResult() in another base class:</p>\n<pre><code>protected suspend fun &lt;T&gt; getResult(call: suspend () -&gt; Response&lt;T&gt;?): Resource&lt;T&gt; {\n        try {\n            val response = call()\n            if (response?.isSuccessful == true) {\n                val body = response.body()\n                if (body != null) return Resource.success(body, response.message(), response.code())\n            }\n            return error((response?.message() ?: context.getString(R.string.unable_to_reach_server)),\n                (response?.code() ?: AppConstants.INetworkValues.DEFAULT_ERROR_CODE))\n        } catch (e: Exception) {\n            return error(e.message ?: e.toString(), (call()?.code() ?: AppConstants.INetworkValues.DEFAULT_ERROR_CODE))\n        }\n    }\n\n    private fun &lt;T&gt; error(message: String, code: Int): Resource&lt;T&gt; {\n        LogUtils.d(message)\n        return Resource.error(null, message, code)\n    }\n</code></pre>\n<p>handleException()</p>\n<pre><code>fun handleException(e: Exception): Response&lt;Any&gt; {\n        if (e is NoConnectivityException) {\n            return Response.error(AppConstants.INetworkValues.INTERNET_ERROR_CODE, getDummyResponseBody())\n        } else {\n            return Response.error(AppConstants.INetworkValues.DEFAULT_ERROR_CODE, getDummyResponseBody())\n        }\n    }\n</code></pre>\n<p>I tried this answer, but it's just not happening:\n<a href=\"https://stackoverflow.com/a/46517243/14016240\">https://stackoverflow.com/a/46517243/14016240</a></p>\n<p>Please help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1647200962,"post_id":71459997,"comment_id":126306104,"body_markdown":"[Apache POI](https://poi.apache.org/)","body":"<a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache POI</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647250226,"post_id":71459997,"comment_id":126314963,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1647265315,"post_id":71459997,"comment_id":126320717,"body_markdown":"You dropped some code, and some requirements, but what is your question?","body":"You dropped some code, and some requirements, but what is your question?"}],"owner":{"account_id":24319157,"reputation":1,"user_id":18259858,"display_name":"Arvind Wanve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647265034,"creation_date":1647198642,"question_id":71459997,"body_markdown":"\r\n\r\nI want to compare two excel sheet data with same column name, excel sheet having same column name but position of column name will be different. So, I need logic first check column name and compare data\r\n\r\nbelow code is working if both the sheet column name have same position or index.\r\n\r\npublic static void main(String[] args) throws IOException {\r\n\r\n\t\t// Workbook1 Code\r\n\t\t\r\n\t\tFileInputStream filepath1 = new FileInputStream(&quot;.\\\\DataFile\\\\Book1.xlsx&quot;);\r\n\r\n\t\tXSSFWorkbook workbook1 = new XSSFWorkbook(filepath1);\r\n\r\n\t\tXSSFSheet worksheet1 = workbook1.getSheet(&quot;sheet1&quot;);\r\n\r\n\t\tint rowcount1 = worksheet1.getPhysicalNumberOfRows();\r\n\t\tint CellCount=worksheet1.getRow(0).getPhysicalNumberOfCells();\r\n\t\r\n\r\n\t\tSystem.out.println(&quot;row count of worbook1:&quot; + rowcount1);\r\n\r\n\t\t// Workbook2 Code\r\n\r\n\t\tFileInputStream filepath2 = new FileInputStream(&quot;.\\\\DataFile\\\\Book2.xlsx&quot;);\r\n\r\n\t\tXSSFWorkbook workbook2 = new XSSFWorkbook(filepath2);\r\n\r\n\t\tXSSFSheet worksheet2 = workbook2.getSheet(&quot;sheet1&quot;);\r\n\r\n\t\tint rowcount2 = worksheet2.getPhysicalNumberOfRows();\r\n\r\n\t\tSystem.out.println(&quot;row count of worbook2:&quot; + rowcount2);\r\n\r\n\t\tif (rowcount1 == rowcount2) // condition if rowcount1 is equal to row count of worbook2 are same\r\n\t\t{\r\n\t\t\tfor (int i = 0; i &lt; rowcount1; i++) {\r\n\t\t\t\t\r\n\t\t\t\tfor(int j=0; j&lt;CellCount; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\t\r\n\t\t\t\tXSSFCell row1 = worksheet1.getRow(i).getCell(j);\r\n\r\n\t\t\t\tXSSFCell row2 = worksheet2.getRow(i).getCell(j);\r\n\t\t\t\t\r\n\t\t\t\trow1.setCellType(CellType.STRING);\r\n\t\t\t\t\r\n\t\t\t\tString cellvalue=row1.getStringCellValue();\r\n\t\t\t\t\r\n\t\t\t\trow2.setCellType(CellType.STRING);\r\n\t\t\t\t\r\n\t\t\t\tString cellvalue2=row2.getStringCellValue();\r\n\t\t\t\t\r\n\t\t\t\tif(!cellvalue.equals(cellvalue2))\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;Row number:&quot;+i+ &quot;  Column number:&quot;+j+&quot; [ERROR] :&quot; + &quot;Diference in data &quot; +&quot;| Book1 id = &quot; + cellvalue + &quot; | Book2 id = &quot; + cellvalue2);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t}}}","title":"Compare 2 Excel data if same column name having different postion","body":"<p>I want to compare two excel sheet data with same column name, excel sheet having same column name but position of column name will be different. So, I need logic first check column name and compare data</p>\n<p>below code is working if both the sheet column name have same position or index.</p>\n<p>public static void main(String[] args) throws IOException {</p>\n<pre><code>    // Workbook1 Code\n    \n    FileInputStream filepath1 = new FileInputStream(&quot;.\\\\DataFile\\\\Book1.xlsx&quot;);\n\n    XSSFWorkbook workbook1 = new XSSFWorkbook(filepath1);\n\n    XSSFSheet worksheet1 = workbook1.getSheet(&quot;sheet1&quot;);\n\n    int rowcount1 = worksheet1.getPhysicalNumberOfRows();\n    int CellCount=worksheet1.getRow(0).getPhysicalNumberOfCells();\n\n\n    System.out.println(&quot;row count of worbook1:&quot; + rowcount1);\n\n    // Workbook2 Code\n\n    FileInputStream filepath2 = new FileInputStream(&quot;.\\\\DataFile\\\\Book2.xlsx&quot;);\n\n    XSSFWorkbook workbook2 = new XSSFWorkbook(filepath2);\n\n    XSSFSheet worksheet2 = workbook2.getSheet(&quot;sheet1&quot;);\n\n    int rowcount2 = worksheet2.getPhysicalNumberOfRows();\n\n    System.out.println(&quot;row count of worbook2:&quot; + rowcount2);\n\n    if (rowcount1 == rowcount2) // condition if rowcount1 is equal to row count of worbook2 are same\n    {\n        for (int i = 0; i &lt; rowcount1; i++) {\n            \n            for(int j=0; j&lt;CellCount; j++)\n            {\n                \n            XSSFCell row1 = worksheet1.getRow(i).getCell(j);\n\n            XSSFCell row2 = worksheet2.getRow(i).getCell(j);\n            \n            row1.setCellType(CellType.STRING);\n            \n            String cellvalue=row1.getStringCellValue();\n            \n            row2.setCellType(CellType.STRING);\n            \n            String cellvalue2=row2.getStringCellValue();\n            \n            if(!cellvalue.equals(cellvalue2))\n            {\n                System.out.println(&quot;Row number:&quot;+i+ &quot;  Column number:&quot;+j+&quot; [ERROR] :&quot; + &quot;Diference in data &quot; +&quot;| Book1 id = &quot; + cellvalue + &quot; | Book2 id = &quot; + cellvalue2);\n            }\n            \n            }}}\n</code></pre>\n"},{"tags":["java","xml","svg","batik","apache-xml-graphics"],"comments":[{"owner":{"account_id":1029387,"reputation":119820,"user_id":1038015,"display_name":"Robert Longson"},"score":1,"creation_date":1647262564,"post_id":71466042,"comment_id":126319547,"body_markdown":"Why? Everything ignores doctypes.","body":"Why? Everything ignores doctypes."},{"owner":{"account_id":1511908,"reputation":650,"user_id":1413799,"display_name":"BradHards"},"score":0,"creation_date":1647334876,"post_id":71466042,"comment_id":126339140,"body_markdown":"Why? Validation and cross-domain security checking applications.","body":"Why? Validation and cross-domain security checking applications."},{"owner":{"account_id":1029387,"reputation":119820,"user_id":1038015,"display_name":"Robert Longson"},"score":1,"creation_date":1647335205,"post_id":71466042,"comment_id":126339280,"body_markdown":"https://www.w3.org/TR/2015/WD-SVG2-20150709/intro.html *A DTD is not provided in this specification, as the use of DTDs for validating documents is known to be problematic. In particular, DTDs do not handle namespaces gracefully and the range of constraints they can express is limited. It is recommended that authors do not include a DOCTYPE declaration in SVG documents.*","body":"<a href=\"https://www.w3.org/TR/2015/WD-SVG2-20150709/intro.html\" rel=\"nofollow noreferrer\">w3.org/TR/2015/WD-SVG2-20150709/intro.html</a> <i>A DTD is not provided in this specification, as the use of DTDs for validating documents is known to be problematic. In particular, DTDs do not handle namespaces gracefully and the range of constraints they can express is limited. It is recommended that authors do not include a DOCTYPE declaration in SVG documents.</i>"},{"owner":{"account_id":1511908,"reputation":650,"user_id":1413799,"display_name":"BradHards"},"score":0,"creation_date":1647335776,"post_id":71466042,"comment_id":126339479,"body_markdown":"Thanks - any idea why that doesn&#39;t appear in the current drafts? It looks like the DTD isn&#39;t provided, but this context doesn&#39;t seem to be there either.","body":"Thanks - any idea why that doesn&#39;t appear in the current drafts? It looks like the DTD isn&#39;t provided, but this context doesn&#39;t seem to be there either."},{"owner":{"account_id":1029387,"reputation":119820,"user_id":1038015,"display_name":"Robert Longson"},"score":1,"creation_date":1647336127,"post_id":71466042,"comment_id":126339598,"body_markdown":"https://svgwg.org/svg2-draft/changes.html#concepts *References to the SVG DTD have been removed.*","body":"<a href=\"https://svgwg.org/svg2-draft/changes.html#concepts\" rel=\"nofollow noreferrer\">svgwg.org/svg2-draft/changes.html#concepts</a> <i>References to the SVG DTD have been removed.</i>"}],"answers":[{"tags":[],"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647264863,"creation_date":1647264361,"answer_id":71468535,"question_id":71466042,"body_markdown":"Rather than struggle with Batik over `DOCTYPE` generation, just skip it.  As [Robert commented][1], it&#39;s generally ignored.  Furthermore, using a `DOCTYPE` is [not recommended][2] with SVG:\r\n\r\n\r\n&gt; In fact SVG WG members are even telling people not to use a DOCTYPE\r\n&gt; declaration in SVG 1.0 and 1.1 documents. Instead always include the\r\n&gt; `version` and `baseProfile` attributes on the root `&lt;svg&gt;` tag, and\r\n&gt; assign them appropriate values as in the following example.\r\n&gt; \r\n&gt;     &lt;svg version=&quot;1.1&quot;\r\n&gt;          baseProfile=&quot;full&quot;\r\n&gt;          xmlns=&quot;http://www.w3.org/2000/svg&quot;\r\n&gt;          xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;\r\n&gt;          xmlns:ev=&quot;http://www.w3.org/2001/xml-events&quot;&gt;\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71466042/setting-svg-1-1-doctype-public-and-system-ids-in-batik/71468535#comment126319547_71466042\r\n  [2]: https://jwatt.org/svg/authoring/#doctype-declaration","title":"Setting SVG 1.1 doctype (public and system ids) in Batik","body":"<p>Rather than struggle with Batik over <code>DOCTYPE</code> generation, just skip it.  As <a href=\"https://stackoverflow.com/questions/71466042/setting-svg-1-1-doctype-public-and-system-ids-in-batik/71468535#comment126319547_71466042\">Robert commented</a>, it's generally ignored.  Furthermore, using a <code>DOCTYPE</code> is <a href=\"https://jwatt.org/svg/authoring/#doctype-declaration\" rel=\"nofollow noreferrer\">not recommended</a> with SVG:</p>\n<blockquote>\n<p>In fact SVG WG members are even telling people not to use a DOCTYPE\ndeclaration in SVG 1.0 and 1.1 documents. Instead always include the\n<code>version</code> and <code>baseProfile</code> attributes on the root <code>&lt;svg&gt;</code> tag, and\nassign them appropriate values as in the following example.</p>\n<pre><code>&lt;svg version=&quot;1.1&quot;\n     baseProfile=&quot;full&quot;\n     xmlns=&quot;http://www.w3.org/2000/svg&quot;\n     xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;\n     xmlns:ev=&quot;http://www.w3.org/2001/xml-events&quot;&gt;\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":1511908,"reputation":650,"user_id":1413799,"display_name":"BradHards"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1647264863,"creation_date":1647252763,"question_id":71466042,"body_markdown":"I&#39;m trying to get a specific DOCTYPE entry in my SVG output when using Apache Batik (1.14).\r\n\r\nA simple example looks like:\r\n```\r\n        DOMImplementation domImpl = GenericDOMImplementation.getDOMImplementation();\r\n        String svgNS = &quot;http://www.w3.org/2000/svg&quot;;\r\n        DocumentType docType = domImpl.createDocumentType(&quot;svg&quot;, &quot;-//W3C//DTD SVG 1.1//EN&quot;, &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;);\r\n        Document document = domImpl.createDocument(svgNS, &quot;svg&quot;, docType);\r\n        SVGGeneratorContext ctx = SVGGeneratorContext.createDefault(document);\r\n        SVGGraphics2D svgGenerator = new SVGGraphics2D(ctx, false);\r\n        Writer out = new OutputStreamWriter(System.out, &quot;UTF-8&quot;);\r\n        svgGenerator.stream(out, true);\r\n```\r\n\r\nWhich produces:\r\n\r\n```\r\n&lt;!DOCTYPE svg PUBLIC &#39;-//W3C//DTD SVG 1.0//EN&#39;\r\n          &#39;http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd&#39;&gt;\r\n```\r\n\r\nI was hoping for something more like:\r\n\r\n```\r\n&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; \r\n  &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;\r\n```\r\n(based on the SVG 1.1 spec entry at https://www.w3.org/TR/SVG11/struct.html#NewDocument).\r\n\r\nHow can I get the desired DOCTYPE (ideally without munging the XML afterwards)?","title":"Setting SVG 1.1 doctype (public and system ids) in Batik","body":"<p>I'm trying to get a specific DOCTYPE entry in my SVG output when using Apache Batik (1.14).</p>\n<p>A simple example looks like:</p>\n<pre><code>        DOMImplementation domImpl = GenericDOMImplementation.getDOMImplementation();\n        String svgNS = &quot;http://www.w3.org/2000/svg&quot;;\n        DocumentType docType = domImpl.createDocumentType(&quot;svg&quot;, &quot;-//W3C//DTD SVG 1.1//EN&quot;, &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;);\n        Document document = domImpl.createDocument(svgNS, &quot;svg&quot;, docType);\n        SVGGeneratorContext ctx = SVGGeneratorContext.createDefault(document);\n        SVGGraphics2D svgGenerator = new SVGGraphics2D(ctx, false);\n        Writer out = new OutputStreamWriter(System.out, &quot;UTF-8&quot;);\n        svgGenerator.stream(out, true);\n</code></pre>\n<p>Which produces:</p>\n<pre><code>&lt;!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.0//EN'\n          'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'&gt;\n</code></pre>\n<p>I was hoping for something more like:</p>\n<pre><code>&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; \n  &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;\n</code></pre>\n<p>(based on the SVG 1.1 spec entry at <a href=\"https://www.w3.org/TR/SVG11/struct.html#NewDocument\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/SVG11/struct.html#NewDocument</a>).</p>\n<p>How can I get the desired DOCTYPE (ideally without munging the XML afterwards)?</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1647261489,"post_id":71467906,"comment_id":126319127,"body_markdown":"Does this answer your question? [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1647261603,"post_id":71467906,"comment_id":126319175,"body_markdown":"`if(s11[i] != s12[i])` &lt;- 1. Error is not using equals to compare the Strings, and 2. Error is that your if statement doesn&#39;t have braces `{...}`. So only `System.out.println(s11[i]);` is conditional and the `return false;` is not and will always be executed.","body":"<code>if(s11[i] != s12[i])</code> &lt;- 1. Error is not using equals to compare the Strings, and 2. Error is that your if statement doesn&#39;t have braces <code>{...}</code>. So only <code>System.out.println(s11[i]);</code> is conditional and the <code>return false;</code> is not and will always be executed."}],"answers":[{"tags":[],"owner":{"account_id":4344526,"reputation":316,"user_id":3546909,"display_name":"drjansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647264466,"creation_date":1647264466,"answer_id":71468553,"question_id":71467906,"body_markdown":"Ideally here no need to check individual character from both the Array\r\nYou can directly check both the Sorted Arrays are equals or not. Replace your for loop with the below code :\r\n\r\n    if(!Arrays.equals(s11, s12)){\r\n            return false ;\r\n    }\r\n\r\nAlso your code is not working because `==` is comparing the reference and not the value in Java","title":"if condition in Java Anagram Class not validating the String properly. getting not an anagram for anagram string","body":"<p>Ideally here no need to check individual character from both the Array\nYou can directly check both the Sorted Arrays are equals or not. Replace your for loop with the below code :</p>\n<pre><code>if(!Arrays.equals(s11, s12)){\n        return false ;\n}\n</code></pre>\n<p>Also your code is not working because <code>==</code> is comparing the reference and not the value in Java</p>\n"}],"owner":{"account_id":24553962,"reputation":1,"user_id":18462814,"display_name":"Prasad Prakash Tupe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647264466,"creation_date":1647261396,"question_id":71467906,"body_markdown":"The below code working without error but it not getting proper result for anagram. The if condition is return false for correct value.       \r\n    \r\n    import java.util.*;\r\n    \r\n    public class Anagram{\r\n        public boolean solve(String s1, String s2){\r\n            if(s1.length() != s2.length()) return false;\r\n            \r\n            String[] s11 = s1.split(&quot;&quot;);\r\n            String[] s12 = s2.split(&quot;&quot;);\r\n    \r\n            Arrays.sort(s11);\r\n            System.out.println(Arrays.toString(s11));\r\n            Arrays.sort(s12);\r\n            System.out.println(Arrays.toString(s12));\r\n    \r\n            \r\n            for(int i = 0; i &lt; s1.length(); i++){\r\n                if(s11[i] != s12[i])\r\n                 System.out.println(s11[i]);\r\n                 System.out.println(s12[i]);\r\n                 return false;\r\n            }\r\n    \r\n            return true;\r\n        }\r\n    \r\n        public static void main(String[] args){\r\n            String s1 = &quot;restful&quot;;\r\n            String s2 = &quot;fluster&quot;;\r\n    \r\n            Anagram v = new Anagram();\r\n    \r\n            if(v.solve(s1, s2)){\r\n                System.out.println(s2 + &quot; is anagram of the &quot; + s1);\r\n            }else{\r\n                System.out.println(&quot;not an anagram&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nPlease let me know why it is not working","title":"if condition in Java Anagram Class not validating the String properly. getting not an anagram for anagram string","body":"<p>The below code working without error but it not getting proper result for anagram. The if condition is return false for correct value.</p>\n<pre><code>import java.util.*;\n\npublic class Anagram{\n    public boolean solve(String s1, String s2){\n        if(s1.length() != s2.length()) return false;\n        \n        String[] s11 = s1.split(&quot;&quot;);\n        String[] s12 = s2.split(&quot;&quot;);\n\n        Arrays.sort(s11);\n        System.out.println(Arrays.toString(s11));\n        Arrays.sort(s12);\n        System.out.println(Arrays.toString(s12));\n\n        \n        for(int i = 0; i &lt; s1.length(); i++){\n            if(s11[i] != s12[i])\n             System.out.println(s11[i]);\n             System.out.println(s12[i]);\n             return false;\n        }\n\n        return true;\n    }\n\n    public static void main(String[] args){\n        String s1 = &quot;restful&quot;;\n        String s2 = &quot;fluster&quot;;\n\n        Anagram v = new Anagram();\n\n        if(v.solve(s1, s2)){\n            System.out.println(s2 + &quot; is anagram of the &quot; + s1);\n        }else{\n            System.out.println(&quot;not an anagram&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Please let me know why it is not working</p>\n"},{"tags":["java","algorithm","arraylist"],"comments":[{"owner":{"account_id":6136522,"reputation":76953,"user_id":4785185,"display_name":"Prune"},"score":0,"creation_date":1563296638,"post_id":57062078,"comment_id":100649835,"body_markdown":"Possible duplicate of [Java: How to implement 3 sum?](https://stackoverflow.com/questions/40905695/java-how-to-implement-3-sum)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/40905695/java-how-to-implement-3-sum\">Java: How to implement 3 sum?</a>"}],"answers":[{"tags":[],"owner":{"account_id":9011105,"reputation":389,"user_id":6715662,"display_name":"Jarett LeVan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563296875,"creation_date":1563296875,"answer_id":57062318,"question_id":57062078,"body_markdown":"Put  `result.add(subList)` inside of your if statement after your subList.add() statements. Currently in your code, you are adding every solution to the sublist without ever adding it to the result, so at the end you simply are adding a list of ints.","title":"How can I solve the 3-sum challenge using arrayLists?","body":"<p>Put  <code>result.add(subList)</code> inside of your if statement after your subList.add() statements. Currently in your code, you are adding every solution to the sublist without ever adding it to the result, so at the end you simply are adding a list of ints.</p>\n"},{"tags":[],"owner":{"account_id":7443661,"reputation":173,"user_id":5660613,"display_name":"AZWN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1563296884,"creation_date":1563296884,"answer_id":57062319,"question_id":57062078,"body_markdown":"After finding a solution, pleas instantly add it to the results list:\r\n\r\n```java\r\nclass Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\r\n\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n\r\n\r\n        for (int i = 0; i &lt; nums.length - 2; i++) {\r\n            for (int j = i + 1; j &lt;  nums.length - 1; j++) {\r\n                for (int k = j + 1; k &lt; nums.length; k++) {\r\n                    if (nums[i] + nums[j] + nums[k] == 0) {\r\n                        List&lt;Integer&gt; subList = new ArrayList&lt;&gt;();\r\n                        subList.add(nums[i]);\r\n                        subList.add(nums[j]);\r\n                        subList.add(nums[k]);\r\n                        result.add(subList);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nThis will give you:\r\n`[[-1,0,1],[-1,2,-1],[0,1,-1]]`\r\n\r\nIn this case, the `[-1,0,1]` option is added twice, because `-1` is in the list twice, depending whether or not you want this, you can sort the sublist, and check for equality:\r\n\r\n```java\r\npublic class Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\r\n\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; nums.length - 2; i++) {\r\n            for (int j = i + 1; j &lt;  nums.length - 1; j++) {\r\n                for (int k = j + 1; k &lt; nums.length; k++) {\r\n                    if (nums[i] + nums[j] + nums[k] == 0) {\r\n                        List&lt;Integer&gt; subList = new ArrayList&lt;&gt;();\r\n                        subList.add(nums[i]);\r\n                        subList.add(nums[j]);\r\n                        subList.add(nums[k]);\r\n                        \r\n                        Collections.sort(subList);\r\n                        boolean duplicate = false;\r\n                        \r\n                        for (List&lt;Integer&gt; list : result) {\r\n                            if (list.equals(subList)) {\r\n                                duplicate = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        \r\n                        if (!duplicate) {                            \r\n                            result.add(subList);\r\n                        }   \r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n```","title":"How can I solve the 3-sum challenge using arrayLists?","body":"<p>After finding a solution, pleas instantly add it to the results list:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\n\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n\n\n        for (int i = 0; i &lt; nums.length - 2; i++) {\n            for (int j = i + 1; j &lt;  nums.length - 1; j++) {\n                for (int k = j + 1; k &lt; nums.length; k++) {\n                    if (nums[i] + nums[j] + nums[k] == 0) {\n                        List&lt;Integer&gt; subList = new ArrayList&lt;&gt;();\n                        subList.add(nums[i]);\n                        subList.add(nums[j]);\n                        subList.add(nums[k]);\n                        result.add(subList);\n                    }\n                }\n            }\n        }\n\n        return result;\n    }\n}\n</code></pre>\n\n<p>This will give you:\n<code>[[-1,0,1],[-1,2,-1],[0,1,-1]]</code></p>\n\n<p>In this case, the <code>[-1,0,1]</code> option is added twice, because <code>-1</code> is in the list twice, depending whether or not you want this, you can sort the sublist, and check for equality:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\n\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; nums.length - 2; i++) {\n            for (int j = i + 1; j &lt;  nums.length - 1; j++) {\n                for (int k = j + 1; k &lt; nums.length; k++) {\n                    if (nums[i] + nums[j] + nums[k] == 0) {\n                        List&lt;Integer&gt; subList = new ArrayList&lt;&gt;();\n                        subList.add(nums[i]);\n                        subList.add(nums[j]);\n                        subList.add(nums[k]);\n\n                        Collections.sort(subList);\n                        boolean duplicate = false;\n\n                        for (List&lt;Integer&gt; list : result) {\n                            if (list.equals(subList)) {\n                                duplicate = true;\n                                break;\n                            }\n                        }\n\n                        if (!duplicate) {                            \n                            result.add(subList);\n                        }   \n                    }\n                }\n            }\n        }\n\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563297096,"creation_date":1563297096,"answer_id":57062369,"question_id":57062078,"body_markdown":"You have 2 issues here:\r\n\r\n1. `result.add(subList);` You&#39;re adding your `sublist` at the very end of the computations.\r\n\r\n2. You never clear previous results from your `sublist`.\r\n\r\nYou need to declare:\r\n\r\n    List&lt;Integer&gt; subList = new ArrayList&lt;&gt;();\r\n\r\nInside the 2nd loop and before the 3rd one AND add your sublist after you&#39;ve added all 3 numbers but only if there was a coincidence (i.e. all 3 numbers added are equal to zero)\r\n\r\n    for (int i = 0; i &lt; nums.length - 2; i++) {\r\n        for (int j = i + 1; j &lt;  nums.length - 1; j++) {\r\n            List&lt;Integer&gt; subList = new ArrayList&lt;&gt;();\r\n            for (int k = j + 1; k &lt; nums.length; k++) {\r\n                if (nums[i] + nums[j] + nums[k] == 0) {\r\n                    subList.add(nums[i]);\r\n                    subList.add(nums[j]);\r\n                    subList.add(nums[k]);\r\n                }\r\n            }\r\n            if (!subList.isEmpty()) {\r\n                result.add(subList);\r\n            }\r\n        }\r\n    }\r\n\r\nThis provides this result:\r\n\r\n    [[-1, 0, 1], [-1, 2, -1], [0, 1, -1]]\r\n\r\nAnd now we need to have them as **unique** combinations, so, we could use:\r\n\r\n    Collections.sort(sublist)\r\n\r\nAnd change our `result` variable to be a `Set` rather than a `List`, so, our code will end up as:\r\n\r\n    import java.util.*;\r\n    \r\n    class Solution {\r\n        public static Set&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\r\n    \r\n            Set&lt;List&lt;Integer&gt;&gt; result = new HashSet&lt;&gt;();\r\n    \r\n            for (int i = 0; i &lt; nums.length - 2; i++) {\r\n                for (int j = i + 1; j &lt;  nums.length - 1; j++) {\r\n                    List&lt;Integer&gt; subList = new ArrayList&lt;&gt;();\r\n                    for (int k = j + 1; k &lt; nums.length; k++) {\r\n                        if (nums[i] + nums[j] + nums[k] == 0) {\r\n                            subList.add(nums[i]);\r\n                            subList.add(nums[j]);\r\n                            subList.add(nums[k]);\r\n                        }\r\n                    }\r\n                    Collections.sort(subList);\r\n                    if (!subList.isEmpty()) {\r\n                        result.add(subList);\r\n                    }\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(threeSum(new int[] {-1, 0, 1, 2, -1, -4}));\r\n        }\r\n    }\r\n\r\nThis returns:\r\n\r\n    [[-1, -1, 2], [-1, 0, 1]]\r\n\r\n**Note:** I made the method `static` in order to test the program without creating an instance of the class.","title":"How can I solve the 3-sum challenge using arrayLists?","body":"<p>You have 2 issues here:</p>\n\n<ol>\n<li><p><code>result.add(subList);</code> You're adding your <code>sublist</code> at the very end of the computations.</p></li>\n<li><p>You never clear previous results from your <code>sublist</code>.</p></li>\n</ol>\n\n<p>You need to declare:</p>\n\n<pre><code>List&lt;Integer&gt; subList = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>Inside the 2nd loop and before the 3rd one AND add your sublist after you've added all 3 numbers but only if there was a coincidence (i.e. all 3 numbers added are equal to zero)</p>\n\n<pre><code>for (int i = 0; i &lt; nums.length - 2; i++) {\n    for (int j = i + 1; j &lt;  nums.length - 1; j++) {\n        List&lt;Integer&gt; subList = new ArrayList&lt;&gt;();\n        for (int k = j + 1; k &lt; nums.length; k++) {\n            if (nums[i] + nums[j] + nums[k] == 0) {\n                subList.add(nums[i]);\n                subList.add(nums[j]);\n                subList.add(nums[k]);\n            }\n        }\n        if (!subList.isEmpty()) {\n            result.add(subList);\n        }\n    }\n}\n</code></pre>\n\n<p>This provides this result:</p>\n\n<pre><code>[[-1, 0, 1], [-1, 2, -1], [0, 1, -1]]\n</code></pre>\n\n<p>And now we need to have them as <strong>unique</strong> combinations, so, we could use:</p>\n\n<pre><code>Collections.sort(sublist)\n</code></pre>\n\n<p>And change our <code>result</code> variable to be a <code>Set</code> rather than a <code>List</code>, so, our code will end up as:</p>\n\n<pre><code>import java.util.*;\n\nclass Solution {\n    public static Set&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\n\n        Set&lt;List&lt;Integer&gt;&gt; result = new HashSet&lt;&gt;();\n\n        for (int i = 0; i &lt; nums.length - 2; i++) {\n            for (int j = i + 1; j &lt;  nums.length - 1; j++) {\n                List&lt;Integer&gt; subList = new ArrayList&lt;&gt;();\n                for (int k = j + 1; k &lt; nums.length; k++) {\n                    if (nums[i] + nums[j] + nums[k] == 0) {\n                        subList.add(nums[i]);\n                        subList.add(nums[j]);\n                        subList.add(nums[k]);\n                    }\n                }\n                Collections.sort(subList);\n                if (!subList.isEmpty()) {\n                    result.add(subList);\n                }\n            }\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(threeSum(new int[] {-1, 0, 1, 2, -1, -4}));\n    }\n}\n</code></pre>\n\n<p>This returns:</p>\n\n<pre><code>[[-1, -1, 2], [-1, 0, 1]]\n</code></pre>\n\n<p><strong>Note:</strong> I made the method <code>static</code> in order to test the program without creating an instance of the class.</p>\n"},{"tags":[],"owner":{"account_id":6136522,"reputation":76953,"user_id":4785185,"display_name":"Prune"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563297226,"creation_date":1563297226,"answer_id":57062410,"question_id":57062078,"body_markdown":"You have two problems.  The first and most obvious is that you&#39;ve merely appended the elements to the array, without making a 3-element sub-array from them.  You can fix that easily:\r\n\r\n                        subList.add(nums[i]);\r\n                        subList.add(nums[j]);\r\n                        subList.add(nums[k]);\r\n\r\nShould be\r\n                        subList.add([nums[i], nums[j], nums[k]);\r\n\r\n---------------\r\nThe second problem is that your program doesn&#39;t recognize that the -1 values are not considered separate solutions to the remaining pair of [1, 0].  The easiest way to get around this is to sort the list before you begin, and check that your third element can be only one of any grouping.\r\n\r\nFinally, to consolidate the gains of that sorting, your loop nesting should ensure that you never pick the same elements in a different order.  You&#39;re handling your indexing correctly, but eliminate the third loop.  Merely check to see whether the sum you need is available.  In pseudo-code ...\r\n\r\n            if (-(nums[i] + nums[j]) is in nums[j+1:])\r\n\r\n","title":"How can I solve the 3-sum challenge using arrayLists?","body":"<p>You have two problems.  The first and most obvious is that you've merely appended the elements to the array, without making a 3-element sub-array from them.  You can fix that easily:</p>\n\n<pre><code>                    subList.add(nums[i]);\n                    subList.add(nums[j]);\n                    subList.add(nums[k]);\n</code></pre>\n\n<p>Should be\n                        subList.add([nums[i], nums[j], nums[k]);</p>\n\n<hr>\n\n<p>The second problem is that your program doesn't recognize that the -1 values are not considered separate solutions to the remaining pair of [1, 0].  The easiest way to get around this is to sort the list before you begin, and check that your third element can be only one of any grouping.</p>\n\n<p>Finally, to consolidate the gains of that sorting, your loop nesting should ensure that you never pick the same elements in a different order.  You're handling your indexing correctly, but eliminate the third loop.  Merely check to see whether the sum you need is available.  In pseudo-code ...</p>\n\n<pre><code>        if (-(nums[i] + nums[j]) is in nums[j+1:])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8597442,"reputation":196,"user_id":6440062,"display_name":"Parth Desai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642012618,"creation_date":1642012618,"answer_id":70686736,"question_id":57062078,"body_markdown":"kotlin way\r\n\r\n        fun main() {\r\n           println(ThreeSum(readLine()))\r\n        }\r\n    \r\n        fun ThreeSum(nums: Array&lt;Int&gt;): Boolean {\r\n    \r\n     if(nums.size &lt; 4) return false  //minimum 4 elements should be in array\r\n     \r\n      var counter = 0\r\n      for (i in 0..(nums.size - 3)) {\r\n                for (j in  (i + 1)..(nums.size - 3)) {\r\n                    for (k in  (j + 1)..(nums.size-1)) {\r\n                        if (nums[i] + nums[j] + nums[k] == nums[0]) {\r\n                            counter+=1 \r\n                            if (counter == 3) {\r\n                                return true\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        \r\n      return false\r\n      \r\n    }\r\n\r\n","title":"How can I solve the 3-sum challenge using arrayLists?","body":"<p>kotlin way</p>\n<pre><code>    fun main() {\n       println(ThreeSum(readLine()))\n    }\n\n    fun ThreeSum(nums: Array&lt;Int&gt;): Boolean {\n\n if(nums.size &lt; 4) return false  //minimum 4 elements should be in array\n \n  var counter = 0\n  for (i in 0..(nums.size - 3)) {\n            for (j in  (i + 1)..(nums.size - 3)) {\n                for (k in  (j + 1)..(nums.size-1)) {\n                    if (nums[i] + nums[j] + nums[k] == nums[0]) {\n                        counter+=1 \n                        if (counter == 3) {\n                            return true\n                        }\n                    }\n                }\n            }\n        }\n    \n  return false\n  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22862502,"reputation":1,"user_id":17006349,"display_name":"Lalita Shukla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647264125,"creation_date":1647264125,"answer_id":71468481,"question_id":57062078,"body_markdown":"    class Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\r\n        List&lt;List&lt;Integer&gt;&gt; three=new ArrayList&lt;&gt;();\r\n            for(int i=0;i&lt;nums.length-2;i++){\r\n                for(int j=i+1;j&lt;nums.length-1;j++){\r\n                    for(int k=j+1;k&lt;nums.length;k++){\r\n                        List&lt;Integer&gt; list=new ArrayList&lt;&gt;();\r\n                                if(nums[i]+nums[j]+nums[k]==0){\r\n                                    list.add(nums[i]);\r\n                                    list.add(nums[j]);\r\n                                    list.add(nums[k]);\r\n                                    Collections.sort(list);\r\n                                    boolean duplicate = false;\r\n                                    \r\n                                    for (List&lt;Integer&gt; l : three) {\r\n                                        if (three.equals(list)) {\r\n                                            duplicate = true;\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                            if (!duplicate) {\r\n                                if(!three.contains(list)){\r\n                                    three.add(list);\r\n                            }\r\n                        }   \r\n                    }\r\n                }  \r\n            }  \r\n        }\r\n        return three;\r\n    }\r\n}","title":"How can I solve the 3-sum challenge using arrayLists?","body":"<pre><code>class Solution {\npublic List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\n    List&lt;List&lt;Integer&gt;&gt; three=new ArrayList&lt;&gt;();\n        for(int i=0;i&lt;nums.length-2;i++){\n            for(int j=i+1;j&lt;nums.length-1;j++){\n                for(int k=j+1;k&lt;nums.length;k++){\n                    List&lt;Integer&gt; list=new ArrayList&lt;&gt;();\n                            if(nums[i]+nums[j]+nums[k]==0){\n                                list.add(nums[i]);\n                                list.add(nums[j]);\n                                list.add(nums[k]);\n                                Collections.sort(list);\n                                boolean duplicate = false;\n                                \n                                for (List&lt;Integer&gt; l : three) {\n                                    if (three.equals(list)) {\n                                        duplicate = true;\n                                        break;\n                                    }\n                                }\n                        if (!duplicate) {\n                            if(!three.contains(list)){\n                                three.add(list);\n                        }\n                    }   \n                }\n            }  \n        }  \n    }\n    return three;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":11266218,"reputation":271,"user_id":8262928,"display_name":"SaturnsBelt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":851,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":57062319,"answer_count":6,"score":-1,"last_activity_date":1647264125,"creation_date":1563295801,"question_id":57062078,"body_markdown":"I&#39;m currently trying to solve the &quot;three sum&quot; challenge (I&#39;m using java by the way). Here is the challenge description:\r\n\r\n&gt; Given an array nums of n integers, are there elements a, b, c in nums such that a + b + c = 0? Find all unique triplets in the array which gives the sum of zero.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nExample:\r\n\r\nGiven array nums = `[-1, 0, 1, 2, -1, -4]`,\r\n\r\nA solution set is:\r\n```\r\n[\r\n  [-1, 0, 1],\r\n  [-1, -1, 2]\r\n]\r\n\r\n```\r\n\r\nHere is my attempted solution but it is not working currently:\r\n\r\n```\r\nclass Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\r\n\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        List&lt;Integer&gt; subList = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; nums.length - 2; i++) {\r\n            for (int j = i + 1; j &lt;  nums.length - 1; j++) {\r\n                for (int k = j + 1; k &lt; nums.length; k++) {\r\n                    if (nums[i] + nums[j] + nums[k] == 0) {\r\n                        subList.add(nums[i]);\r\n                        subList.add(nums[j]);\r\n                        subList.add(nums[k]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        result.add(subList);\r\n\r\n        return result;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe output I&#39;m getting is:\r\n```\r\n[[-1,0,1,-1,2,-1,0,1,-1]]\r\n\r\n```\r\nWhen it is supposed to be:\r\n\r\n```\r\n\r\n[[-1,-1,2],[-1,0,1]]\r\n\r\n```\r\n\r\n\r\nI know my attempted solution is O(n^(3)) and not optimal, but I&#39;m curious on how I can do this challenge using three for loops. Can someone give me an idea on how I can go about creating the right output ? I&#39;ve been trying different things to no avail. Thank you !","title":"How can I solve the 3-sum challenge using arrayLists?","body":"<p>I'm currently trying to solve the \"three sum\" challenge (I'm using java by the way). Here is the challenge description:</p>\n\n<blockquote>\n  <p>Given an array nums of n integers, are there elements a, b, c in nums such that a + b + c = 0? Find all unique triplets in the array which gives the sum of zero.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<p>Given array nums = <code>[-1, 0, 1, 2, -1, -4]</code>,</p>\n\n<p>A solution set is:</p>\n\n<pre><code>[\n  [-1, 0, 1],\n  [-1, -1, 2]\n]\n\n</code></pre>\n\n<p>Here is my attempted solution but it is not working currently:</p>\n\n<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\n\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n\n        List&lt;Integer&gt; subList = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; nums.length - 2; i++) {\n            for (int j = i + 1; j &lt;  nums.length - 1; j++) {\n                for (int k = j + 1; k &lt; nums.length; k++) {\n                    if (nums[i] + nums[j] + nums[k] == 0) {\n                        subList.add(nums[i]);\n                        subList.add(nums[j]);\n                        subList.add(nums[k]);\n                    }\n                }\n            }\n        }\n\n        result.add(subList);\n\n        return result;\n    }\n}\n\n</code></pre>\n\n<p>The output I'm getting is:</p>\n\n<pre><code>[[-1,0,1,-1,2,-1,0,1,-1]]\n\n</code></pre>\n\n<p>When it is supposed to be:</p>\n\n<pre><code>\n[[-1,-1,2],[-1,0,1]]\n\n</code></pre>\n\n<p>I know my attempted solution is O(n^(3)) and not optimal, but I'm curious on how I can do this challenge using three for loops. Can someone give me an idea on how I can go about creating the right output ? I've been trying different things to no avail. Thank you !</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito","powermock"],"comments":[{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":1,"creation_date":1647171208,"post_id":71455593,"comment_id":126299210,"body_markdown":"What version of PowerMock and Mockito do you use?","body":"What version of PowerMock and Mockito do you use?"},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":1,"creation_date":1647187553,"post_id":71455593,"comment_id":126302906,"body_markdown":"What java version do you use?","body":"What java version do you use?"},{"owner":{"display_name":"user18085807"},"score":0,"creation_date":1647188063,"post_id":71455593,"comment_id":126303048,"body_markdown":"I use Java 11...","body":"I use Java 11..."}],"answers":[{"tags":[],"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647260276,"creation_date":1647260276,"answer_id":71467662,"question_id":71455593,"body_markdown":"Since you asked in another comment, here&#39;s a pattern I&#39;ve used in the past to prevent the need for static mocking:\r\n\r\nImagine we have a static method...\r\n\r\n    public class SomeClass {\r\n      public static String doSomething(int x) { ... }\r\n    }\r\n\r\nNow imagine our code using it like this...\r\n\r\n    public class MyClass {\r\n      public void someMethod() {\r\n        String xyz = SomeClass.doSomething(123);\r\n        ...\r\n      }\r\n    }\r\n\r\nIf we now needed to mock that `SomeStaticClass.doSomething(123)` call, we need static mocking.\r\n\r\nAn alternative is a delegator:\r\n\r\n    public class MyDelegator {\r\n      public String doSomething(int x) { \r\n        return SomeClass.doSomething(x);\r\n      } \r\n    }\r\n\r\nNow you can use that instead in your class:\r\n\r\n    public class MyClass {\r\n      private final MyDelegator myDelegator;\r\n    \r\n      public MyClass(MyDelegator myDelegator) { this.myDelegator = myDelegator; }\r\n    \r\n      public void someMethod() {\r\n        String xyz = myDelegator.doSomething(123);\r\n        ...\r\n      }\r\n    }\r\n\r\nAnd voila, you can simply mock the MyDelegator object instead of having to care that the original implementation was a static call.\r\n\r\nOf course, this doesn&#39;t solve the underlying code smell, but it can help you to work around it in cases where you cannot refactor the static code itself.","title":"NotAMockException exception when trying to verify a static method with Powermockito","body":"<p>Since you asked in another comment, here's a pattern I've used in the past to prevent the need for static mocking:</p>\n<p>Imagine we have a static method...</p>\n<pre><code>public class SomeClass {\n  public static String doSomething(int x) { ... }\n}\n</code></pre>\n<p>Now imagine our code using it like this...</p>\n<pre><code>public class MyClass {\n  public void someMethod() {\n    String xyz = SomeClass.doSomething(123);\n    ...\n  }\n}\n</code></pre>\n<p>If we now needed to mock that <code>SomeStaticClass.doSomething(123)</code> call, we need static mocking.</p>\n<p>An alternative is a delegator:</p>\n<pre><code>public class MyDelegator {\n  public String doSomething(int x) { \n    return SomeClass.doSomething(x);\n  } \n}\n</code></pre>\n<p>Now you can use that instead in your class:</p>\n<pre><code>public class MyClass {\n  private final MyDelegator myDelegator;\n\n  public MyClass(MyDelegator myDelegator) { this.myDelegator = myDelegator; }\n\n  public void someMethod() {\n    String xyz = myDelegator.doSomething(123);\n    ...\n  }\n}\n</code></pre>\n<p>And voila, you can simply mock the MyDelegator object instead of having to care that the original implementation was a static call.</p>\n<p>Of course, this doesn't solve the underlying code smell, but it can help you to work around it in cases where you cannot refactor the static code itself.</p>\n"},{"tags":[],"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647263713,"creation_date":1647263202,"answer_id":71468283,"question_id":71455593,"body_markdown":"Let me suggest a different approach altogether because I see you already use Mockito version 3.4.6 .\r\nSince `Mockito &gt;= 3.4.0` you are able to mock static methods directly. This means you can completely get rid of the `PowerMock` dependency.  \r\nAlso, AFAIK PowerMock does not support JUnit5. This solution will allow you to upgrade your JUnit test framework to version 5 without issues which I also highly recommend.\r\n\r\nStatic mocking using Mockito does require you to use the `mockito-inline` dependency over `mockito-core` but, because `mockito-inline` depends on `mockito-core`, Maven will also download the `mockito-core` package. Please note that the Mockito documentation states that, at one point in the future, they might abolish this package when they pull all these \r\n&quot;experimental&quot; features to the core package.  \r\nNext to that, you should also replace `@RunWith(PowerMockRunner.class)` with `@RunWith(MockitoJUnitRunner.class)`\r\n\r\nThis is how you use it.\r\n\r\nYou can either define the mock per test method like so using a try-with-resources statement that automatically calls close\r\n\r\n```java\r\n    try (MockedStatic&lt;Files&gt; filesMock = Mockito.mockStatic(Files.class)) {\r\n        filesMock.when(() -&gt; Files.copy(any(Path.class), any(OutputStream.class))).thenReturn(1L);\r\n     \r\n        // Call logic\r\n    }\r\n```\r\n\r\nOr you can define it for all tests in a `@Before` method because you use jUnit4.\r\n\r\n```java\r\n    private MockedStatic&lt;Files&gt; filesMock;\r\n\r\n    @Before\r\n    public void init() {\r\n        filesMock = org.mockito.Mockito.mockStatic(Files.class);\r\n    }\r\n\r\n    @After\r\n    public void teardown() {\r\n        filesMock.close();\r\n    }\r\n    \r\n    @Test\r\n    void test() {\r\n        filesMock.when(() -&gt; Files.copy(any(Path.class), any(OutputStream.class))).thenReturn(1L);\r\n    }\r\n```\r\n\r\nhttps://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#mockito-inline\r\nhttps://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks","title":"NotAMockException exception when trying to verify a static method with Powermockito","body":"<p>Let me suggest a different approach altogether because I see you already use Mockito version 3.4.6 .\nSince <code>Mockito &gt;= 3.4.0</code> you are able to mock static methods directly. This means you can completely get rid of the <code>PowerMock</code> dependency.<br />\nAlso, AFAIK PowerMock does not support JUnit5. This solution will allow you to upgrade your JUnit test framework to version 5 without issues which I also highly recommend.</p>\n<p>Static mocking using Mockito does require you to use the <code>mockito-inline</code> dependency over <code>mockito-core</code> but, because <code>mockito-inline</code> depends on <code>mockito-core</code>, Maven will also download the <code>mockito-core</code> package. Please note that the Mockito documentation states that, at one point in the future, they might abolish this package when they pull all these\n&quot;experimental&quot; features to the core package.<br />\nNext to that, you should also replace <code>@RunWith(PowerMockRunner.class)</code> with <code>@RunWith(MockitoJUnitRunner.class)</code></p>\n<p>This is how you use it.</p>\n<p>You can either define the mock per test method like so using a try-with-resources statement that automatically calls close</p>\n<pre class=\"lang-java prettyprint-override\"><code>    try (MockedStatic&lt;Files&gt; filesMock = Mockito.mockStatic(Files.class)) {\n        filesMock.when(() -&gt; Files.copy(any(Path.class), any(OutputStream.class))).thenReturn(1L);\n     \n        // Call logic\n    }\n</code></pre>\n<p>Or you can define it for all tests in a <code>@Before</code> method because you use jUnit4.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private MockedStatic&lt;Files&gt; filesMock;\n\n    @Before\n    public void init() {\n        filesMock = org.mockito.Mockito.mockStatic(Files.class);\n    }\n\n    @After\n    public void teardown() {\n        filesMock.close();\n    }\n    \n    @Test\n    void test() {\n        filesMock.when(() -&gt; Files.copy(any(Path.class), any(OutputStream.class))).thenReturn(1L);\n    }\n</code></pre>\n<p><a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#mockito-inline\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#mockito-inline</a>\n<a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks</a></p>\n"}],"owner":{"display_name":"user18085807"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":683,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71467662,"answer_count":2,"score":0,"last_activity_date":1647263713,"creation_date":1647165364,"question_id":71455593,"body_markdown":"I use [PowerMock](https://github.com/powermock/powermock/wiki/Mockito#how-to-use-argument-matchers) to test a static method as mentioned its documentation. \r\n\r\nAs far as I see, there may be a bug, but I am not sure:\r\n\r\n[Static mocking broken for Mockito &gt;= 2.26.1](https://github.com/powermock/powermock/issues/992)\r\n\r\n...\r\n\r\n\r\nI tried the workarounds mentioned on the following pages, however it does not fix the problem and some of them cannot be applicable as they are outdated.\r\n\r\n[NotAMockException when trying to verify a static method](https://stackoverflow.com/questions/58752923/notamockexception-when-trying-to-verify-a-static-method)\r\n\r\n[verifyStatic get NotAMockExcption from mockito](https://groups.google.com/g/powermock/c/8AGmoKEkzL4)\r\n\r\nHowever, I get *&quot;Argument passed to verify() is of type Class and is not a mock!&quot;* error. Here is the service method that I am testing and test method:\r\n\r\n***service:***\r\n\r\n```\r\n// I want to test this method\r\n public CommandDTO create(EmployeeRequest request) {\r\n    // ...\r\n\r\n    log();\r\n    return CommandDTO.builder().uuid(employee.getUuid()).build();\r\n}\r\n\r\n\r\nprivate void log() {\r\n    LoggingUtils.info(&quot;Created...&quot;);\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***test:***\r\n\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest(LoggingUtils.class)\r\npublic class EMployeeServiceImplTest {\r\n\r\n    @Test\r\n    public void unit_test() {\r\n\r\n        // ...\r\n\r\n        PowerMockito.mockStatic(LoggingUtils.class);\r\n\r\n        employeeService.create(request);\r\n\r\n        PowerMockito.verifyStatic(LoggingUtils.class); // throws error\r\n\r\n        LoggingUtils.info(any());\r\n    }\r\n}\r\n```\r\n\r\nHere are libraries and versions:\r\n\r\n***pom.xml:***\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.9&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n    &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.9&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.6&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"NotAMockException exception when trying to verify a static method with Powermockito","body":"<p>I use <a href=\"https://github.com/powermock/powermock/wiki/Mockito#how-to-use-argument-matchers\" rel=\"nofollow noreferrer\">PowerMock</a> to test a static method as mentioned its documentation.</p>\n<p>As far as I see, there may be a bug, but I am not sure:</p>\n<p><a href=\"https://github.com/powermock/powermock/issues/992\" rel=\"nofollow noreferrer\">Static mocking broken for Mockito &gt;= 2.26.1</a></p>\n<p>...</p>\n<p>I tried the workarounds mentioned on the following pages, however it does not fix the problem and some of them cannot be applicable as they are outdated.</p>\n<p><a href=\"https://stackoverflow.com/questions/58752923/notamockexception-when-trying-to-verify-a-static-method\">NotAMockException when trying to verify a static method</a></p>\n<p><a href=\"https://groups.google.com/g/powermock/c/8AGmoKEkzL4\" rel=\"nofollow noreferrer\">verifyStatic get NotAMockExcption from mockito</a></p>\n<p>However, I get <em>&quot;Argument passed to verify() is of type Class and is not a mock!&quot;</em> error. Here is the service method that I am testing and test method:</p>\n<p><em><strong>service:</strong></em></p>\n<pre><code>// I want to test this method\n public CommandDTO create(EmployeeRequest request) {\n    // ...\n\n    log();\n    return CommandDTO.builder().uuid(employee.getUuid()).build();\n}\n\n\nprivate void log() {\n    LoggingUtils.info(&quot;Created...&quot;);\n}\n</code></pre>\n<br/>\n<p><em><strong>test:</strong></em></p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(LoggingUtils.class)\npublic class EMployeeServiceImplTest {\n\n    @Test\n    public void unit_test() {\n\n        // ...\n\n        PowerMockito.mockStatic(LoggingUtils.class);\n\n        employeeService.create(request);\n\n        PowerMockito.verifyStatic(LoggingUtils.class); // throws error\n\n        LoggingUtils.info(any());\n    }\n}\n</code></pre>\n<p>Here are libraries and versions:</p>\n<p><em><strong>pom.xml:</strong></em></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n    &lt;version&gt;2.0.9&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n    &lt;version&gt;2.0.9&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;3.4.6&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","gradle","kubernetes"],"comments":[{"owner":{"account_id":10042466,"reputation":1978,"user_id":7424896,"display_name":"Manuel"},"score":1,"creation_date":1647197222,"post_id":71458769,"comment_id":126305300,"body_markdown":"The question is weird. You don&#39;t commit something into kubernetes. Explain what are you doing...","body":"The question is weird. You don&#39;t commit something into kubernetes. Explain what are you doing..."},{"owner":{"account_id":14176402,"reputation":3,"user_id":10241511,"display_name":"Hazem M. Anwar"},"score":0,"creation_date":1647207678,"post_id":71458769,"comment_id":126307438,"body_markdown":"sorry for this. I edited the post, mainly I upgraded project gradle to latest version locally and I&#39;m trying to deploy the project into k8s deployment, but this issue I see while toolchain is running","body":"sorry for this. I edited the post, mainly I upgraded project gradle to latest version locally and I&#39;m trying to deploy the project into k8s deployment, but this issue I see while toolchain is running"},{"owner":{"account_id":10042466,"reputation":1978,"user_id":7424896,"display_name":"Manuel"},"score":0,"creation_date":1647233814,"post_id":71458769,"comment_id":126310889,"body_markdown":"I realized two things. Filename must be settings.gradle and the include should not contain colons.","body":"I realized two things. Filename must be settings.gradle and the include should not contain colons."},{"owner":{"account_id":14176402,"reputation":3,"user_id":10241511,"display_name":"Hazem M. Anwar"},"score":0,"creation_date":1647263363,"post_id":71458769,"comment_id":126319882,"body_markdown":"Done and I&#39;m still seeing the same issue ..","body":"Done and I&#39;m still seeing the same issue .."}],"owner":{"account_id":14176402,"reputation":3,"user_id":10241511,"display_name":"Hazem M. Anwar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647263382,"creation_date":1647189338,"question_id":71458769,"body_markdown":"I&#39;m getting this error while trying to commit my changes into gitlab repo and deploy it in kubernetes after upgrading gradle version to 7.4\r\n\r\nAlso I think the problem in how I include my shared library inside the project it self, that&#39;s what I sense from the error output below\r\n\r\nCould not determine the dependencies of task &#39;:distTar&#39;.\r\n&gt; Could not resolve all task dependencies for configuration &#39;:runtimeClasspath&#39;.\r\n   &gt; Could not resolve project :vlc-shc.\r\n     Required by:\r\n         project :\r\n      &gt; No matching configuration of project :vlc-shc was found. The consumer was configured to find a runtime of a library compatible with Java 11, packaged as a jar, preferably optimized for standard JVMs, and its dependencies declared externally but:\r\n          - None of the consumable configurations have attributes.\r\n\r\nbuild.gradle: \r\n\r\n    dependencies {\r\n        implementation project(&#39;:vlc-shc&#39;)\r\n        }\r\n\r\nsetting.gradle:\r\n\r\n    rootProject.name = &#39;vlc-myProject&#39;\r\n    include (&#39;vlc-shc&#39;)","title":"updating gradle version for a project that depends on another shared library project doesn&#39;t work in a toolchain (kubernetes)","body":"<p>I'm getting this error while trying to commit my changes into gitlab repo and deploy it in kubernetes after upgrading gradle version to 7.4</p>\n<p>Also I think the problem in how I include my shared library inside the project it self, that's what I sense from the error output below</p>\n<p>Could not determine the dependencies of task ':distTar'.</p>\n<blockquote>\n<p>Could not resolve all task dependencies for configuration ':runtimeClasspath'.\nCould not resolve project :vlc-shc.\nRequired by:\nproject :\n&gt; No matching configuration of project :vlc-shc was found. The consumer was configured to find a runtime of a library compatible with Java 11, packaged as a jar, preferably optimized for standard JVMs, and its dependencies declared externally but:\n- None of the consumable configurations have attributes.</p>\n</blockquote>\n<p>build.gradle:</p>\n<pre><code>dependencies {\n    implementation project(':vlc-shc')\n    }\n</code></pre>\n<p>setting.gradle:</p>\n<pre><code>rootProject.name = 'vlc-myProject'\ninclude ('vlc-shc')\n</code></pre>\n"},{"tags":["java","spring","rest","spring-mvc","resttemplate"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":1,"creation_date":1647263457,"post_id":71468197,"comment_id":126319919,"body_markdown":"You&#39;re using `MappingJackson2HttpMessageConverter`; it&#39;s going to produce JSON.","body":"You&#39;re using <code>MappingJackson2HttpMessageConverter</code>; it&#39;s going to produce JSON."},{"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"score":0,"creation_date":1647263535,"post_id":71468197,"comment_id":126319955,"body_markdown":"the response is a json that should be converted to an instance of my ResponseDto class, the request body itself is a simple String","body":"the response is a json that should be converted to an instance of my ResponseDto class, the request body itself is a simple String"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1647263799,"post_id":71468197,"comment_id":126320080,"body_markdown":"As stated you are sending json, regardless if it is a simple string. You haven&#39;t provided anything as a message converter that handles a simple String. Just create a regular `RestTemplate` (don&#39;t mess with the converters) and send plain text, not json.","body":"As stated you are sending json, regardless if it is a simple string. You haven&#39;t provided anything as a message converter that handles a simple String. Just create a regular <code>RestTemplate</code> (don&#39;t mess with the converters) and send plain text, not json."},{"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"score":0,"creation_date":1647266375,"post_id":71468197,"comment_id":126321178,"body_markdown":"Thanks that solved the problem! Can you add that as a response so other people with a similiar problem can find the solution easier?","body":"Thanks that solved the problem! Can you add that as a response so other people with a similiar problem can find the solution easier?"}],"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647263377,"creation_date":1647262744,"question_id":71468197,"body_markdown":"When performing a POST request with Spring&#39;s RestTemplate, the request body is wrapped in quotes. Is there a way to avoid that? In my case the request body should be a simple String.\r\n\r\n\r\n      private RestTemplate createRestTemplate() {\r\n        if (restTemplate == null) {\r\n          restTemplate = new RestTemplate();\r\n          final List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\r\n          final MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n          converter.setSupportedMediaTypes(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n          messageConverters.add(converter);\r\n          restTemplate.setMessageConverters(messageConverters);\r\n        }\r\n        return restTemplate;\r\n      }\r\n    \r\n    public void performRequest() {\r\n    createRestTemplate().exchange(config.getUrl(), HttpMethod.POST,\r\n              HttpEntity&lt;&gt;(&quot;request body String&quot;, new HttpHeaders()), ResponseDto.class).getBody();\r\n    }\r\n\r\nThe body that is send will be the following:\r\n\r\n    &quot;request body String&quot;\r\n\r\nBut I want it to look like this:\r\n\r\n    request body String","title":"How can I prevent Spring RestTemplate from wrapping my request body in quotes?","body":"<p>When performing a POST request with Spring's RestTemplate, the request body is wrapped in quotes. Is there a way to avoid that? In my case the request body should be a simple String.</p>\n<pre><code>  private RestTemplate createRestTemplate() {\n    if (restTemplate == null) {\n      restTemplate = new RestTemplate();\n      final List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\n      final MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n      converter.setSupportedMediaTypes(Collections.singletonList(MediaType.APPLICATION_JSON));\n      messageConverters.add(converter);\n      restTemplate.setMessageConverters(messageConverters);\n    }\n    return restTemplate;\n  }\n\npublic void performRequest() {\ncreateRestTemplate().exchange(config.getUrl(), HttpMethod.POST,\n          HttpEntity&lt;&gt;(&quot;request body String&quot;, new HttpHeaders()), ResponseDto.class).getBody();\n}\n</code></pre>\n<p>The body that is send will be the following:</p>\n<pre><code>&quot;request body String&quot;\n</code></pre>\n<p>But I want it to look like this:</p>\n<pre><code>request body String\n</code></pre>\n"},{"tags":["python","java","selenium","automation"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1647204183,"post_id":71459492,"comment_id":126306790,"body_markdown":"Use `move_to_element(to_element)` instead of `send_keys(Keys.PAGE_DOWN)`.","body":"Use <code>move_to_element(to_element)</code> instead of <code>send_keys(Keys.PAGE_DOWN)</code>."},{"owner":{"account_id":11033234,"reputation":11,"user_id":8103999,"display_name":"Ezzamzami Hicham"},"score":0,"creation_date":1647209176,"post_id":71459492,"comment_id":126307735,"body_markdown":"i didn&#39;t work i&#39;m still getting the same problem","body":"i didn&#39;t work i&#39;m still getting the same problem"},{"owner":{"account_id":99309,"reputation":136264,"user_id":1832058,"display_name":"furas"},"score":0,"creation_date":1647209250,"post_id":71459492,"comment_id":126307754,"body_markdown":"you have to get rows during scrolling the page - every row has unique `data-rowid` so you should recognize if you count some row again. But you didn&#39;t add url for this page and we can&#39;t see page, we can&#39;t run you code, and we can&#39;t read in your mind - so we can&#39;t help you.","body":"you have to get rows during scrolling the page - every row has unique <code>data-rowid</code> so you should recognize if you count some row again. But you didn&#39;t add url for this page and we can&#39;t see page, we can&#39;t run you code, and we can&#39;t read in your mind - so we can&#39;t help you."},{"owner":{"account_id":99309,"reputation":136264,"user_id":1832058,"display_name":"furas"},"score":0,"creation_date":1647209761,"post_id":71459492,"comment_id":126307853,"body_markdown":"you could use `set()` to keep all `data-rowid` which you find when you scroll. So you can get all `data-rowid`, add to `set()`, next scroll and get again all `data-rowid` and add to the same `set`, and scroll again, etc.","body":"you could use <code>set()</code> to keep all <code>data-rowid</code> which you find when you scroll. So you can get all <code>data-rowid</code>, add to <code>set()</code>, next scroll and get again all <code>data-rowid</code> and add to the same <code>set</code>, and scroll again, etc."},{"owner":{"account_id":11033234,"reputation":11,"user_id":8103999,"display_name":"Ezzamzami Hicham"},"score":0,"creation_date":1647212017,"post_id":71459492,"comment_id":126308165,"body_markdown":"could you please explain in more detail, and i&#39;m sorry because i didn&#39;t put the url because it&#39;s not accessible for everyone,","body":"could you please explain in more detail, and i&#39;m sorry because i didn&#39;t put the url because it&#39;s not accessible for everyone,"},{"owner":{"account_id":11033234,"reputation":11,"user_id":8103999,"display_name":"Ezzamzami Hicham"},"score":0,"creation_date":1647212128,"post_id":71459492,"comment_id":126308187,"body_markdown":"this is how the url looks like https://10.211.24.5:31943/ossfacewebsite/index.html#Access/fmAlarmLog","body":"this is how the url looks like <a href=\"https://10.211.24.5:31943/ossfacewebsite/index.html#Access/fmAlarmLog\" rel=\"nofollow noreferrer\">10.211.24.5:31943/ossfacewebsite/index.html#Access/fmAlarmLo&zwnj;&#8203;g</a>"},{"owner":{"account_id":11033234,"reputation":11,"user_id":8103999,"display_name":"Ezzamzami Hicham"},"score":0,"creation_date":1647212364,"post_id":71459492,"comment_id":126308214,"body_markdown":"and please could you explain how can i use this data-rowid to access to the content of each row","body":"and please could you explain how can i use this data-rowid to access to the content of each row"}],"answers":[{"tags":[],"owner":{"account_id":12852309,"reputation":11,"user_id":9296776,"display_name":"Athul Damodaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647262803,"creation_date":1647262803,"answer_id":71468208,"question_id":71459492,"body_markdown":"**1**. Hope you are clear on how to access each row/cell on the table (the visible 33 rows) and extract data from them.\r\n\r\n-- lets have two 2d arrays: Main array, last_page array.\r\n\r\n0. Capture first page data and append to Main 2d array. \r\n1. Save the current page data to last_page 2d array\r\n2. Navigate to next page (last row cell click and then page down etc.)\r\n3. Capture current page data.\r\n4. Check if it matches with last_page 2d array or not - \r\n  if matches, we are at the last page -- break\r\n6. Otherwise append the page data to Main 2d array\r\n7. Repeat steps from 1.\r\n\r\nThe final result table will be the Main 2d array after removing the duplicate rows if any. \r\n-- If duplicate rows are possible in the original web table, we will have a challenge in differentiating them with the duplicate entries that came as part of our scraping.\r\n\r\n**2**. Another possibility is to ,\r\nCheck if the js library used here to create table has any methods exposed to get all the rows data. (eg. eviewtableObj.getData()) .Something you can call using execute_script.","title":"I can&#39;t get all the rows from a table selenium, Python","body":"<p><strong>1</strong>. Hope you are clear on how to access each row/cell on the table (the visible 33 rows) and extract data from them.</p>\n<p>-- lets have two 2d arrays: Main array, last_page array.</p>\n<ol start=\"0\">\n<li>Capture first page data and append to Main 2d array.</li>\n<li>Save the current page data to last_page 2d array</li>\n<li>Navigate to next page (last row cell click and then page down etc.)</li>\n<li>Capture current page data.</li>\n<li>Check if it matches with last_page 2d array or not -\nif matches, we are at the last page -- break</li>\n<li>Otherwise append the page data to Main 2d array</li>\n<li>Repeat steps from 1.</li>\n</ol>\n<p>The final result table will be the Main 2d array after removing the duplicate rows if any.\n-- If duplicate rows are possible in the original web table, we will have a challenge in differentiating them with the duplicate entries that came as part of our scraping.</p>\n<p><strong>2</strong>. Another possibility is to ,\nCheck if the js library used here to create table has any methods exposed to get all the rows data. (eg. eviewtableObj.getData()) .Something you can call using execute_script.</p>\n"}],"owner":{"account_id":11033234,"reputation":11,"user_id":8103999,"display_name":"Ezzamzami Hicham"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647262803,"creation_date":1647194898,"question_id":71459492,"body_markdown":"I am trying to get a count of all the rows in the HTML table using Python Selenium. My table contains 184 rows, but my code returns only 33 as Row Count with scrolling. I have checked to inspect the element it is showing only 33 rows, once I scroll down old rows are deleted from inspect element and new rows were added. So, it is maintained at 33 as constant. In this case how can take 184 as Row Count and traverse all the rows\r\n\r\nMy solution was:\r\n\r\n```\r\ni = 0\r\n        l = []\r\n        while True:\r\n\r\n            i += 1\r\n            \r\n            xpath_row = &#39;//*[@id=&quot;fmEviewTable_tbody&quot;]/tr[&#39;+ str(i) +&#39;]/td[7]&#39;\r\n            time.sleep(0.5)\r\n            try:\r\n                row_text = WebDriverWait(self.driver,10).until(EC.visibility_of_element_located((By.XPATH, xpath_row))).text\r\n            except TimeoutException:\r\n                print(&quot;element not found&quot;)\r\n            print(f&quot;line {i}, date: {row_text}&quot;)\r\n            l.append(row_text)\r\n            \r\n            if i % 10 == 0:\r\n                self.driver.find_element(By.TAG_NAME, &#39;body&#39;).send_keys(Keys.PAGE_DOWN)\r\n                time.sleep(1)\r\n\r\n            \r\n            #stopping the loop at the end of row table\r\n\r\n            try:\r\n                self.driver.find_element(By.XPATH, &#39;//*[@id=&quot;fmEviewTable_tbody&quot;]/tr[&#39;+ str(i) +&#39;]/td[7]&#39;)\r\n            except:\r\n                break\r\n```\r\n\r\nimage bellow it&#39;s a print screen\r\n\r\n[print screen of page][1]\r\n\r\n\r\n[Inspect element print screen][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/94wbJ.png\r\n  [2]: https://i.stack.imgur.com/O7mT0.png","title":"I can&#39;t get all the rows from a table selenium, Python","body":"<p>I am trying to get a count of all the rows in the HTML table using Python Selenium. My table contains 184 rows, but my code returns only 33 as Row Count with scrolling. I have checked to inspect the element it is showing only 33 rows, once I scroll down old rows are deleted from inspect element and new rows were added. So, it is maintained at 33 as constant. In this case how can take 184 as Row Count and traverse all the rows</p>\n<p>My solution was:</p>\n<pre><code>i = 0\n        l = []\n        while True:\n\n            i += 1\n            \n            xpath_row = '//*[@id=&quot;fmEviewTable_tbody&quot;]/tr['+ str(i) +']/td[7]'\n            time.sleep(0.5)\n            try:\n                row_text = WebDriverWait(self.driver,10).until(EC.visibility_of_element_located((By.XPATH, xpath_row))).text\n            except TimeoutException:\n                print(&quot;element not found&quot;)\n            print(f&quot;line {i}, date: {row_text}&quot;)\n            l.append(row_text)\n            \n            if i % 10 == 0:\n                self.driver.find_element(By.TAG_NAME, 'body').send_keys(Keys.PAGE_DOWN)\n                time.sleep(1)\n\n            \n            #stopping the loop at the end of row table\n\n            try:\n                self.driver.find_element(By.XPATH, '//*[@id=&quot;fmEviewTable_tbody&quot;]/tr['+ str(i) +']/td[7]')\n            except:\n                break\n</code></pre>\n<p>image bellow it's a print screen</p>\n<p><a href=\"https://i.stack.imgur.com/94wbJ.png\" rel=\"nofollow noreferrer\">print screen of page</a></p>\n<p><a href=\"https://i.stack.imgur.com/O7mT0.png\" rel=\"nofollow noreferrer\">Inspect element print screen</a></p>\n"},{"tags":["java","spring-boot","google-cloud-platform","dialogflow-cx"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":1,"creation_date":1646773483,"post_id":71392195,"comment_id":126206083,"body_markdown":"It fails to run. What&#39;s your error?","body":"It fails to run. What&#39;s your error?"},{"owner":{"account_id":24479637,"reputation":1,"user_id":18398225,"display_name":"shahabaaz"},"score":0,"creation_date":1646809690,"post_id":71392195,"comment_id":126212983,"body_markdown":"`java: cannot find symbol\n  symbol:   class ListKnowledgeBasesResponse\n  location: class com.google.cloud.dialogflow.v2beta1.KnowledgeBasesSettings\n`\n\n\nAnd it redirects me to KnowledgeBasesSettings.java","body":"<code>java: cannot find symbol   symbol:   class ListKnowledgeBasesResponse   location: class com.google.cloud.dialogflow.v2beta1.KnowledgeBasesSettings </code>   And it redirects me to KnowledgeBasesSettings.java"},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1646815191,"post_id":71392195,"comment_id":126214637,"body_markdown":"What are you imports?","body":"What are you imports?"},{"owner":{"account_id":24479637,"reputation":1,"user_id":18398225,"display_name":"shahabaaz"},"score":0,"creation_date":1646895316,"post_id":71392195,"comment_id":126237500,"body_markdown":"It&#39;s the same maven dependencies mentioned here  https://github.com/googleapis/java-dialogflow/tree/61351f83a3e169105fa136b36cb22919aa84c273/samples/snippets . No modifications done.","body":"It&#39;s the same maven dependencies mentioned here  <a href=\"https://github.com/googleapis/java-dialogflow/tree/61351f83a3e169105fa136b36cb22919aa84c273/samples/snippets\" rel=\"nofollow noreferrer\">github.com/googleapis/java-dialogflow/tree/&hellip;</a> . No modifications done."}],"answers":[{"tags":[],"owner":{"account_id":24479637,"reputation":1,"user_id":18398225,"display_name":"shahabaaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647262663,"creation_date":1647262663,"answer_id":71468176,"question_id":71392195,"body_markdown":"Finally was able to solve it.\r\nSteps:\r\n\r\nFirst run\r\n```\r\ngcloud auth application-default revoke\r\n```\r\nThis will remove user account &amp; service account credentials.\r\n\r\nNow login into gcloud using service account credentials.\r\n\r\n```\r\ngcloud auth activate-service-account --key-file=key.json\r\n```\r\n\r\nWonder why we have to revoke user account credentials because keeping both the accounts and activating service account didn&#39;t work.\r\n\r\n\r\nNow it works.","title":"Can somebody help me to get started with Google Dialogflow in spring boot","body":"<p>Finally was able to solve it.\nSteps:</p>\n<p>First run</p>\n<pre><code>gcloud auth application-default revoke\n</code></pre>\n<p>This will remove user account &amp; service account credentials.</p>\n<p>Now login into gcloud using service account credentials.</p>\n<pre><code>gcloud auth activate-service-account --key-file=key.json\n</code></pre>\n<p>Wonder why we have to revoke user account credentials because keeping both the accounts and activating service account didn't work.</p>\n<p>Now it works.</p>\n"}],"owner":{"reputation":1,"user_id":18398225,"display_name":"shahabaaz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71468176,"answer_count":1,"score":0,"last_activity_date":1647262663,"creation_date":1646729162,"question_id":71392195,"body_markdown":"Searched a lot but there is no precise answer on how to get started with dialogflow in spring boot. \r\n\r\n**Aim**: To detect intent from GDF knowledgebase and return back the response.\r\n\r\n**What I have done so far:**\r\n\r\nTried executing this code https://github.com/googleapis/java-dialogflow/blob/HEAD/samples/snippets/src/main/java/com/example/dialogflow/DetectIntentTexts.java\r\nby creating a main app.\r\n\r\n**App.java**\r\n\r\n```\r\npackage com.example.dialogflow;\r\n\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        DetectIntentTexts theDetectIntentTexts = new DetectIntentTexts();\r\n\r\n        String projectId = &quot;abc&quot;;\r\n        String sessionId = &quot;xyz&quot;;\r\n        String lang = &quot;en&quot;;\r\n\r\n        List&lt;String&gt; myTexts = new ArrayList&lt;&gt;();\r\n        myTexts.add(&quot;hi&quot;);\r\n\r\n        String ans = null;\r\n        try {\r\n            ans = String.valueOf(theDetectIntentTexts.detectIntentTexts(projectId, myTexts, sessionId, lang));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        System.out.println(&quot;Bot reply:&quot; + ans);\r\n\r\n    }\r\n\r\n   \r\n\r\n}\r\n\r\n\r\n```\r\nBut it fails to run.\r\n\r\nI have my service account GCP set in local machine and `export GOOGLE_APPLICATION_CREDENTIALS=/path/to/your-project-credentials.json` is set too\r\n\r\nAny help would be appreciated.\r\n","title":"Can somebody help me to get started with Google Dialogflow in spring boot","body":"<p>Searched a lot but there is no precise answer on how to get started with dialogflow in spring boot.</p>\n<p><strong>Aim</strong>: To detect intent from GDF knowledgebase and return back the response.</p>\n<p><strong>What I have done so far:</strong></p>\n<p>Tried executing this code <a href=\"https://github.com/googleapis/java-dialogflow/blob/HEAD/samples/snippets/src/main/java/com/example/dialogflow/DetectIntentTexts.java\" rel=\"nofollow noreferrer\">https://github.com/googleapis/java-dialogflow/blob/HEAD/samples/snippets/src/main/java/com/example/dialogflow/DetectIntentTexts.java</a>\nby creating a main app.</p>\n<p><strong>App.java</strong></p>\n<pre><code>package com.example.dialogflow;\n\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class App {\n\n    public static void main(String[] args) {\n\n        DetectIntentTexts theDetectIntentTexts = new DetectIntentTexts();\n\n        String projectId = &quot;abc&quot;;\n        String sessionId = &quot;xyz&quot;;\n        String lang = &quot;en&quot;;\n\n        List&lt;String&gt; myTexts = new ArrayList&lt;&gt;();\n        myTexts.add(&quot;hi&quot;);\n\n        String ans = null;\n        try {\n            ans = String.valueOf(theDetectIntentTexts.detectIntentTexts(projectId, myTexts, sessionId, lang));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        System.out.println(&quot;Bot reply:&quot; + ans);\n\n    }\n\n   \n\n}\n\n\n</code></pre>\n<p>But it fails to run.</p>\n<p>I have my service account GCP set in local machine and <code>export GOOGLE_APPLICATION_CREDENTIALS=/path/to/your-project-credentials.json</code> is set too</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":5,"creation_date":1647262800,"post_id":71468175,"comment_id":126319661,"body_markdown":"You can define multiple constructs with different sets of arguments. So in addition to the one you already have, define one that takes only 3 int values (and it&#39;s easily implemented by using `this(...)` to delegate to the other constructor).","body":"You can define multiple constructs with different sets of arguments. So in addition to the one you already have, define one that takes only 3 int values (and it&#39;s easily implemented by using <code>this(...)</code> to delegate to the other constructor)."},{"owner":{"account_id":8645763,"reputation":11,"user_id":18387960,"display_name":"kahlzun"},"score":0,"creation_date":1647263012,"post_id":71468175,"comment_id":126319742,"body_markdown":"that indeed did the trick. Usually the system throws errors if you have multiple of the same thing, so i didnt even think of this. Thanks much!","body":"that indeed did the trick. Usually the system throws errors if you have multiple of the same thing, so i didnt even think of this. Thanks much!"},{"owner":{"account_id":18858875,"reputation":86,"user_id":14951170,"display_name":"Corentin Colas des Francs"},"score":0,"creation_date":1647263806,"post_id":71468175,"comment_id":126320085,"body_markdown":"@JoachimSauer Hey, is there a reason for answering in a comment instead of an answer? I see many people do this and I find it annoying since the question can not be marked as answered, and if someone comes with the same question they might not notice your comment and miss what they were here for...","body":"@JoachimSauer Hey, is there a reason for answering in a comment instead of an answer? I see many people do this and I find it annoying since the question can not be marked as answered, and if someone comes with the same question they might not notice your comment and miss what they were here for..."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1647264211,"post_id":71468175,"comment_id":126320251,"body_markdown":"@CorentinColasdesFrancs: probably not a **good** reason, but for me it&#39;s that I don&#39;t have time to find the proper duplicate that this should be closed as (as I&#39;m certain there&#39;s already a good answer to pretty much exactly this question somewhere on the site) and didn&#39;t feel like just moving on without offering *anything*. Finding the duplicate would have been the correct action here (as the duplicate would likely also provide information about all the possible follow-up questions that might pop up).","body":"@CorentinColasdesFrancs: probably not a <b>good</b> reason, but for me it&#39;s that I don&#39;t have time to find the proper duplicate that this should be closed as (as I&#39;m certain there&#39;s already a good answer to pretty much exactly this question somewhere on the site) and didn&#39;t feel like just moving on without offering <i>anything</i>. Finding the duplicate would have been the correct action here (as the duplicate would likely also provide information about all the possible follow-up questions that might pop up)."}],"owner":{"account_id":8645763,"reputation":11,"user_id":18387960,"display_name":"kahlzun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648122686,"answer_count":0,"score":0,"last_activity_date":1647262652,"creation_date":1647262652,"question_id":71468175,"body_markdown":"I am working on learning Java, and have been given an assignment to write a class which recieves a set of variables from another class, and spits out a formatted text. The example file gives the variables twice.\r\n\r\nI have figured out how to do most of this independently, however there is one component which eludes me.\r\nIn the example as mentioned the (call?) is repeated twice, however the first time it is missing a variable which is in the second one:\r\n```\r\nBox a = new Box(width, height, depth);\r\nBox 2 = new Box(width, height, depth, builder);\r\n```\r\nif i build it to expect the three ints, it throws an error about the string. If i build it to include the string, it throws an error:\r\n`&quot;Box(int, int, int, java.lang.String) in &#39;Box&#39; cannot be applied to &#39;(int, int, int)&#39;`\r\n\r\nIn the example output, it lists the first one as outputting &quot;null&quot; for the builder section.\r\n\r\nI do not know how to make it accept both inputs, and am open to any suggestions.\r\nOutput code:\r\n```\r\n            int width = 33;\r\n            int height = 28;\r\n            int depth = 58;\r\n            String builder = &quot;Lori &quot;;\r\n            Box a = new Box(width,height,depth);\r\n            System.out.println(a.printMe());\r\n            Box b = new Box(width,height, depth,builder);\r\n            System.out.println(b.printMe());\r\n```\r\n\r\nmy code:\r\n\r\n```\r\npublic class Box {\r\n    private int width_x;\r\n    private int height_y;\r\n    private int depth_z;\r\n    private String name;\r\n\r\n//  constructor?\r\n    public Box(int width,int height,int depth,String builder) {\r\n        width_x = width;\r\n        height_y = height;\r\n        depth_z = depth;\r\n        name = builder;\r\n//      output test\r\n        System.out.println(width+&quot; &quot;+height+&quot; &quot;+depth+builder);\r\n        System.out.println(width_x +&quot; &quot;+ height_y +&quot; &quot;+ depth_z +name);\r\n    }\r\n\r\n\r\n    public String printMe() {\r\n        System.out.println(width_x +&quot; &quot;+ height_y +&quot; &quot;+ depth_z +name);\r\n        return (&quot;Width: &quot;+ width_x +&quot;\\n Height: &quot;+ height_y +&quot;\\n Depth: &quot;+ depth_z +&quot;\\n Built by &quot;+name);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd the expected output is:\r\n```\r\n  Width: 33\r\n  Height: 28\r\n  Depth: 58\r\n  Built by null\r\n  Width: 33\r\n  Height: 28\r\n  Depth: 58\r\n  Built by Lori\r\n```","title":"Java: how do you pass incomplete information to a class?","body":"<p>I am working on learning Java, and have been given an assignment to write a class which recieves a set of variables from another class, and spits out a formatted text. The example file gives the variables twice.</p>\n<p>I have figured out how to do most of this independently, however there is one component which eludes me.\nIn the example as mentioned the (call?) is repeated twice, however the first time it is missing a variable which is in the second one:</p>\n<pre><code>Box a = new Box(width, height, depth);\nBox 2 = new Box(width, height, depth, builder);\n</code></pre>\n<p>if i build it to expect the three ints, it throws an error about the string. If i build it to include the string, it throws an error:\n<code>&quot;Box(int, int, int, java.lang.String) in 'Box' cannot be applied to '(int, int, int)'</code></p>\n<p>In the example output, it lists the first one as outputting &quot;null&quot; for the builder section.</p>\n<p>I do not know how to make it accept both inputs, and am open to any suggestions.\nOutput code:</p>\n<pre><code>            int width = 33;\n            int height = 28;\n            int depth = 58;\n            String builder = &quot;Lori &quot;;\n            Box a = new Box(width,height,depth);\n            System.out.println(a.printMe());\n            Box b = new Box(width,height, depth,builder);\n            System.out.println(b.printMe());\n</code></pre>\n<p>my code:</p>\n<pre><code>public class Box {\n    private int width_x;\n    private int height_y;\n    private int depth_z;\n    private String name;\n\n//  constructor?\n    public Box(int width,int height,int depth,String builder) {\n        width_x = width;\n        height_y = height;\n        depth_z = depth;\n        name = builder;\n//      output test\n        System.out.println(width+&quot; &quot;+height+&quot; &quot;+depth+builder);\n        System.out.println(width_x +&quot; &quot;+ height_y +&quot; &quot;+ depth_z +name);\n    }\n\n\n    public String printMe() {\n        System.out.println(width_x +&quot; &quot;+ height_y +&quot; &quot;+ depth_z +name);\n        return (&quot;Width: &quot;+ width_x +&quot;\\n Height: &quot;+ height_y +&quot;\\n Depth: &quot;+ depth_z +&quot;\\n Built by &quot;+name);\n    }\n}\n\n</code></pre>\n<p>And the expected output is:</p>\n<pre><code>  Width: 33\n  Height: 28\n  Depth: 58\n  Built by null\n  Width: 33\n  Height: 28\n  Depth: 58\n  Built by Lori\n</code></pre>\n"},{"tags":["java","methods","type-conversion","primitive-types","string.format"],"comments":[{"owner":{"account_id":3990689,"reputation":271,"user_id":3289740,"accept_rate":58,"display_name":"user3289740"},"score":0,"creation_date":1393326620,"post_id":22011835,"comment_id":33364919,"body_markdown":"Hey Guys! So I made the alterations and not getting any errors. However, I doesn&#39;t print out &quot;name&quot; or even &quot;age&quot; when the main method is executed: if (optionSelected == 2) {\n           System.out.println(zac.displayProfile());\n       }","body":"Hey Guys! So I made the alterations and not getting any errors. However, I doesn&#39;t print out &quot;name&quot; or even &quot;age&quot; when the main method is executed: if (optionSelected == 2) {            System.out.println(zac.displayProfile());        }"}],"answers":[{"tags":[],"owner":{"display_name":"user2630808"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393836527,"creation_date":1393325432,"answer_id":22011909,"question_id":22011835,"body_markdown":"The format specifiers and functions would need to be separate so the specifiers are in the string and the functions need to be called after the string:\r\n\r\n    public String displayProfile() {\r\n        return String.format(&quot;%d, %s&quot;, getAge(), getName());\r\n        }","title":"How to Print out two objects using String.format()","body":"<p>The format specifiers and functions would need to be separate so the specifiers are in the string and the functions need to be called after the string:</p>\n\n<pre><code>public String displayProfile() {\n    return String.format(\"%d, %s\", getAge(), getName());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1523507,"reputation":966,"user_id":1430008,"accept_rate":75,"display_name":"ingenious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393325624,"creation_date":1393325624,"answer_id":22011991,"question_id":22011835,"body_markdown":"You&#39;d need to make that:\r\n\r\n    public String displayProfile() {\r\n      return String.format(&quot;%d %s&quot;, getAge(), getName())\r\n\r\n    } \r\n\r\nThe format method takes several arguments, the first is always the string to be formatted. All other are the variables which replace the placeholders in the first string. So what you are basically doing here is telling java to print you a string (`&quot;%d %s&quot;`) which has two placeholders (one for integers, one for strings) separated by a single space character. Then you supply the values for your placeholders, from left to right in the same order.\r\n\r\n\r\nAlso I&#39;d strongly suggest that you start browsing through http://docs.oracle.com/javase/tutorial/ or some other tutorial.","title":"How to Print out two objects using String.format()","body":"<p>You'd need to make that:</p>\n\n<pre><code>public String displayProfile() {\n  return String.format(\"%d %s\", getAge(), getName())\n\n} \n</code></pre>\n\n<p>The format method takes several arguments, the first is always the string to be formatted. All other are the variables which replace the placeholders in the first string. So what you are basically doing here is telling java to print you a string (<code>\"%d %s\"</code>) which has two placeholders (one for integers, one for strings) separated by a single space character. Then you supply the values for your placeholders, from left to right in the same order.</p>\n\n<p>Also I'd strongly suggest that you start browsing through <a href=\"http://docs.oracle.com/javase/tutorial/\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/</a> or some other tutorial.</p>\n"},{"tags":[],"owner":{"account_id":1767541,"reputation":5220,"user_id":1628280,"accept_rate":90,"display_name":"Saro Taşciyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393325745,"creation_date":1393325745,"answer_id":22012036,"question_id":22011835,"body_markdown":"You can use `String.Format()` as:\r\n\r\n    public String displayProfile() {\r\n        return String.format(&quot;Age: %f, Name: %s&quot;, getAge(), getName());\r\n    }\r\n\r\nWhere `%f` stands for a *floating-point* type and `%s` for *String* type. I don&#39;t think you will need floating points for representing `Age`. I&#39;d rather use *int* and use `%d` in order to format.\r\n\r\nYou can read further on formatting [here][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/data/numberformat.html","title":"How to Print out two objects using String.format()","body":"<p>You can use <code>String.Format()</code> as:</p>\n\n<pre><code>public String displayProfile() {\n    return String.format(\"Age: %f, Name: %s\", getAge(), getName());\n}\n</code></pre>\n\n<p>Where <code>%f</code> stands for a <em>floating-point</em> type and <code>%s</code> for <em>String</em> type. I don't think you will need floating points for representing <code>Age</code>. I'd rather use <em>int</em> and use <code>%d</code> in order to format.</p>\n\n<p>You can read further on formatting <a href=\"http://docs.oracle.com/javase/tutorial/java/data/numberformat.html\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":22669807,"reputation":1,"user_id":16841705,"display_name":"sardor khaydarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647262544,"creation_date":1647262544,"answer_id":71468157,"question_id":22011835,"body_markdown":"       String   birinchison =  JOptionPane.showInputDialog(&quot;Birinchi sonni kiriti&quot;);\r\n            String   ikkinchiSon =  JOptionPane.showInputDialog(&quot;Birinchi sonni kiriti&quot;);\r\n            int raqam1= Integer.parseInt(birinchison);\r\n            int raqam2 =Integer.parseInt(ikkinchiSon);\r\n            int yigindi = raqam1+raqam2;\r\n    \r\n            JOptionPane.showMessageDialog(null ,&quot;ularni yigindisi&quot; + yigindi , &quot;Sarlavha&quot; , JOptionPane.INFORMATION_MESSAGE);\r\n        enter code here\r\n\r\n","title":"How to Print out two objects using String.format()","body":"<pre><code>   String   birinchison =  JOptionPane.showInputDialog(&quot;Birinchi sonni kiriti&quot;);\n        String   ikkinchiSon =  JOptionPane.showInputDialog(&quot;Birinchi sonni kiriti&quot;);\n        int raqam1= Integer.parseInt(birinchison);\n        int raqam2 =Integer.parseInt(ikkinchiSon);\n        int yigindi = raqam1+raqam2;\n\n        JOptionPane.showMessageDialog(null ,&quot;ularni yigindisi&quot; + yigindi , &quot;Sarlavha&quot; , JOptionPane.INFORMATION_MESSAGE);\n    enter code here\n</code></pre>\n"}],"owner":{"account_id":3990689,"reputation":271,"user_id":3289740,"accept_rate":58,"display_name":"user3289740"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5544,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1647262544,"creation_date":1393325230,"question_id":22011835,"body_markdown":"I&#39;m a little confused. Previously I posted a question: https://stackoverflow.com/questions/21794804/conventional-programming-how-do-you-return-two-types-of-primitive-int-and-st\r\n\r\nThe answer it got was to use use `String.format() with format specifiers (%s, %d, %f...)`. \r\n\r\nAnd although the answer was a bit confusing, I understand that %f means to convert (?)\r\n \r\nBut how do you print out `age` and `name` using this method. My attempt:\r\n\r\n    // DISPLAY Person name and age\r\n\t\r\n\tpublic String displayProfile() {\r\n\t    return String.format(%fgetAge(), %fgetName())\r\n\t\t\r\n\t\t\t}\r\n\r\nMain method from which *above* method gets executed:\r\n\r\n     if (optionSelected == 2) {\r\n \t\t\t   System.out.println(zac.displayProfile());\r\n \t\t   }\r\n\t\r\nI&#39;m all over the place with this, any help would be appreciated.\r\n\r\n**UPDATE:\r\nAs requested,I&#39;m posting the get and set methods used with the String.format() method. Because although I&#39;m not getting any errors after the correcting the String.format method, it not printing out the &#39;name&#39; and &#39;age&#39; after I return the getAge() and GetName() from String.format(). What is the mistake I&#39;m making any ideas?**  \r\n\r\n     // SET NAME \r\n\tpublic  void setName(String name) {\r\n\t\tthis.name = name;\r\n\t\t}\r\n\t\r\n\t// GET NAME\t\r\n\tpublic String getName() {\r\n\t\treturn this.name;\r\n\t}\t\r\n\t\r\n\t\r\n\t// SET AGE\r\n\t\r\n\tpublic void setAge(int age) {\r\n\t\tthis.age = age;\r\n\t\t}\r\n\t\r\n\t// GET AGE\r\n\t\r\n\tpublic int getAge() {\r\n\t\treturn this.age;\r\n\t}\r\n\t","title":"How to Print out two objects using String.format()","body":"<p>I'm a little confused. Previously I posted a question: <a href=\"https://stackoverflow.com/questions/21794804/conventional-programming-how-do-you-return-two-types-of-primitive-int-and-st\">Conventional Programming: How do you return two Types of primitive (&#39;int and &#39;string&#39;) from &quot;get&quot; method?</a></p>\n\n<p>The answer it got was to use use <code>String.format() with format specifiers (%s, %d, %f...)</code>. </p>\n\n<p>And although the answer was a bit confusing, I understand that %f means to convert (?)</p>\n\n<p>But how do you print out <code>age</code> and <code>name</code> using this method. My attempt:</p>\n\n<pre><code>// DISPLAY Person name and age\n\npublic String displayProfile() {\n    return String.format(%fgetAge(), %fgetName())\n\n        }\n</code></pre>\n\n<p>Main method from which <em>above</em> method gets executed:</p>\n\n<pre><code> if (optionSelected == 2) {\n           System.out.println(zac.displayProfile());\n       }\n</code></pre>\n\n<p>I'm all over the place with this, any help would be appreciated.</p>\n\n<p><strong>UPDATE:\nAs requested,I'm posting the get and set methods used with the String.format() method. Because although I'm not getting any errors after the correcting the String.format method, it not printing out the 'name' and 'age' after I return the getAge() and GetName() from String.format(). What is the mistake I'm making any ideas?</strong>  </p>\n\n<pre><code> // SET NAME \npublic  void setName(String name) {\n    this.name = name;\n    }\n\n// GET NAME \npublic String getName() {\n    return this.name;\n}   \n\n\n// SET AGE\n\npublic void setAge(int age) {\n    this.age = age;\n    }\n\n// GET AGE\n\npublic int getAge() {\n    return this.age;\n}\n</code></pre>\n"},{"tags":["java","spring","swagger-2.0"],"answers":[{"tags":[],"owner":{"account_id":1151583,"reputation":2092,"user_id":1133169,"accept_rate":68,"display_name":"Jakub Pomykała"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1501871365,"creation_date":1470739930,"answer_id":38848748,"question_id":38843911,"body_markdown":" 1. You need to create constructor in SwaggerConfiguration class. \r\n 2. @Autowire service and withdraw data you need from database  \r\n 3. assign this to `final` variable\r\n 4. assign this `final` variable to `allowableValues` in annotation\r\n 5. enjoy not efficient api \r\n\r\n\r\n        private final String allowableValues;\r\n        \r\n        public SwaggerConfiguration() {\r\n          List&lt;YourEntitiy&gt; list = someService.findAll();\r\n          //code to get every value you need and add create comma separated String\r\n          StringJoiner stringJoiner = new StringJoiner(&quot;,&quot;);\r\n          stringJoiner.add(list.get(0).getValue());\r\n        \r\n          this.allowableValues = stringJoiner.toString();\r\n        }\r\n    \r\n        @ApiParam(allowableValues = allowableValues)\r\n\r\nBut I think it&#39;s bad idea getting all ids from database just to create allowable values. Just validate in api method if that id exist and/or Create new api to get ids from database, use pagination from Spring Data project, like [PageImpl&lt;&gt; javadocs][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/autorepo/docs/spring-data-commons/1.6.1.RELEASE/api/org/springframework/data/domain/Page.html","title":"Passing values from database in &quot;allowableValues&quot;?","body":"<ol>\n<li>You need to create constructor in SwaggerConfiguration class. </li>\n<li>@Autowire service and withdraw data you need from database  </li>\n<li>assign this to <code>final</code> variable</li>\n<li>assign this <code>final</code> variable to <code>allowableValues</code> in annotation</li>\n<li><p>enjoy not efficient api </p>\n\n<pre><code>private final String allowableValues;\n\npublic SwaggerConfiguration() {\n  List&lt;YourEntitiy&gt; list = someService.findAll();\n  //code to get every value you need and add create comma separated String\n  StringJoiner stringJoiner = new StringJoiner(\",\");\n  stringJoiner.add(list.get(0).getValue());\n\n  this.allowableValues = stringJoiner.toString();\n}\n\n@ApiParam(allowableValues = allowableValues)\n</code></pre></li>\n</ol>\n\n<p>But I think it's bad idea getting all ids from database just to create allowable values. Just validate in api method if that id exist and/or Create new api to get ids from database, use pagination from Spring Data project, like <a href=\"http://docs.spring.io/autorepo/docs/spring-data-commons/1.6.1.RELEASE/api/org/springframework/data/domain/Page.html\" rel=\"nofollow noreferrer\">PageImpl&lt;> javadocs</a></p>\n"},{"tags":[],"owner":{"account_id":936129,"reputation":86,"user_id":965027,"display_name":"Vinkal Vishnoi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647261483,"creation_date":1647261483,"answer_id":71467932,"question_id":38843911,"body_markdown":"This question is bit old, I too faced the same problem so thought of adding here which may help some one.\r\n\r\n\r\n//For ApiModelProperty\r\n\r\n    @ApiModelProperty(required = true, allowableValues = &quot;dynamicEnum(AddressType)&quot;)\r\n    @JsonProperty(&quot;type&quot;)\r\n    private String type;\r\n\r\nCreated a component which implements ModelPropertyBuilderPlugin\r\n\r\n    @Component\r\n    @Order(SwaggerPluginSupport.SWAGGER_PLUGIN_ORDER + 1)\r\n    public class ApiModelPropertyPropertyBuilderCustom implements ModelPropertyBuilderPlugin {\r\n\t    private final DescriptionResolver descriptions;\r\n\r\n    @Autowired\r\n    public ApiModelPropertyPropertyBuilderCustom(DescriptionResolver descriptions) {\r\n        this.descriptions = descriptions;\r\n    }\r\n\r\n    public void apply(ModelPropertyContext context) {\r\n        try {\r\n            AllowableListValues allowableListValues = (AllowableListValues) FieldUtils.readField(context.getBuilder(),\r\n                    &quot;allowableValues&quot;, true);\r\n            if(allowableListValues!=null) {\r\n                String allowableValuesString = allowableListValues.getValues().get(0);\r\n                if (allowableValuesString.contains(&quot;dynamicEnum&quot;)) {\r\n                    String yourOwnStringOrDatabaseTable = allowableValuesString.substring(allowableValuesString.indexOf(&quot;(&quot;)+1, allowableValuesString.indexOf(&quot;)&quot;));\r\n                    \r\n                    //Logic to Generate dynamic values and create a list out of it and then create AllowableListValues object\r\n\r\n                    context.getBuilder().allowableValues(allowableValues);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    public boolean supports(DocumentationType delimiter) {\r\n        return SwaggerPluginSupport.pluginDoesApply(delimiter);\r\n    }\r\n    }\r\n\r\nSimilary for ApiParam we can create component which will implement ParameterBuilderPlugin\r\n\r\n    @Override\r\n    public void apply(ParameterContext context) {\r\n        @SuppressWarnings(&quot;Guava&quot;) final Optional&lt;ApiParam&gt; apiParam =\r\n                context.resolvedMethodParameter().findAnnotation(ApiParam.class);\r\n\r\n        if (apiParam.isPresent()) {\r\n            final String allowableValuesString = apiParam.get().allowableValues();\r\n            //Your logic here\r\n            context.parameterBuilder().allowableValues(allowableValues);\r\n            \r\n        }\r\n    }\r\n","title":"Passing values from database in &quot;allowableValues&quot;?","body":"<p>This question is bit old, I too faced the same problem so thought of adding here which may help some one.</p>\n<p>//For ApiModelProperty</p>\n<pre><code>@ApiModelProperty(required = true, allowableValues = &quot;dynamicEnum(AddressType)&quot;)\n@JsonProperty(&quot;type&quot;)\nprivate String type;\n</code></pre>\n<p>Created a component which implements ModelPropertyBuilderPlugin</p>\n<pre><code>@Component\n@Order(SwaggerPluginSupport.SWAGGER_PLUGIN_ORDER + 1)\npublic class ApiModelPropertyPropertyBuilderCustom implements ModelPropertyBuilderPlugin {\n    private final DescriptionResolver descriptions;\n\n@Autowired\npublic ApiModelPropertyPropertyBuilderCustom(DescriptionResolver descriptions) {\n    this.descriptions = descriptions;\n}\n\npublic void apply(ModelPropertyContext context) {\n    try {\n        AllowableListValues allowableListValues = (AllowableListValues) FieldUtils.readField(context.getBuilder(),\n                &quot;allowableValues&quot;, true);\n        if(allowableListValues!=null) {\n            String allowableValuesString = allowableListValues.getValues().get(0);\n            if (allowableValuesString.contains(&quot;dynamicEnum&quot;)) {\n                String yourOwnStringOrDatabaseTable = allowableValuesString.substring(allowableValuesString.indexOf(&quot;(&quot;)+1, allowableValuesString.indexOf(&quot;)&quot;));\n                \n                //Logic to Generate dynamic values and create a list out of it and then create AllowableListValues object\n\n                context.getBuilder().allowableValues(allowableValues);\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n\n\n}\n\npublic boolean supports(DocumentationType delimiter) {\n    return SwaggerPluginSupport.pluginDoesApply(delimiter);\n}\n}\n</code></pre>\n<p>Similary for ApiParam we can create component which will implement ParameterBuilderPlugin</p>\n<pre><code>@Override\npublic void apply(ParameterContext context) {\n    @SuppressWarnings(&quot;Guava&quot;) final Optional&lt;ApiParam&gt; apiParam =\n            context.resolvedMethodParameter().findAnnotation(ApiParam.class);\n\n    if (apiParam.isPresent()) {\n        final String allowableValuesString = apiParam.get().allowableValues();\n        //Your logic here\n        context.parameterBuilder().allowableValues(allowableValues);\n        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3675,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":38848748,"answer_count":2,"score":1,"last_activity_date":1647262214,"creation_date":1470725265,"question_id":38843911,"body_markdown":"I am using Swagger version 2 with Java Spring. I have declared a property and it works fine and it generates a drop down list of value I assigned.\r\n\r\n    @ApiParam(value = &quot;Pass any one Shuttle provider ID from the list&quot;, allowableValues = &quot;1,2,3,4,10&quot;)\r\n    private Long hotelId;\r\n    \t\r\n\r\nNow, I need a way to populate this list which is passed in `allowableValues` from my database as it could be random list as well as huge data. How can I assign list of values dynamically from database in this `allowableValues`?","title":"Passing values from database in &quot;allowableValues&quot;?","body":"<p>I am using Swagger version 2 with Java Spring. I have declared a property and it works fine and it generates a drop down list of value I assigned.</p>\n<pre><code>@ApiParam(value = &quot;Pass any one Shuttle provider ID from the list&quot;, allowableValues = &quot;1,2,3,4,10&quot;)\nprivate Long hotelId;\n    \n</code></pre>\n<p>Now, I need a way to populate this list which is passed in <code>allowableValues</code> from my database as it could be random list as well as huge data. How can I assign list of values dynamically from database in this <code>allowableValues</code>?</p>\n"},{"tags":["java","spring-boot","sdk","yaml","spring-cloud-config"],"comments":[{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1647260918,"post_id":71467591,"comment_id":126318923,"body_markdown":"Well, you could make the core of your SDK immutable. Create a interface called `MathematicalAlgorithm` in the core of your SDK, then create another module with just the implementations of it. The module called `mathematical-algorithms-implementations` will be mutable (you add new implementations to it), while the module called `mathematical-implementations-core` would be as immutable as possible (you would not have to add new algorithm implementation, but, instead, use the implementations from the other module).","body":"Well, you could make the core of your SDK immutable. Create a interface called <code>MathematicalAlgorithm</code> in the core of your SDK, then create another module with just the implementations of it. The module called <code>mathematical-algorithms-implementations</code> will be mutable (you add new implementations to it), while the module called <code>mathematical-implementations-core</code> would be as immutable as possible (you would not have to add new algorithm implementation, but, instead, use the implementations from the other module)."},{"owner":{"account_id":6576171,"reputation":137,"user_id":5082136,"display_name":"Gene Zeiniss"},"score":0,"creation_date":1647261391,"post_id":71467591,"comment_id":126319091,"body_markdown":"Just to make sure I understand the solution, module `mathematical-algorithms-implementations` will be part of SDK, right? This means, that each change of this module will cause to change in the SDK version. And this is exactly what I&#39;m trying to avoid. \nDid I understand your suggestion right?","body":"Just to make sure I understand the solution, module <code>mathematical-algorithms-implementations</code> will be part of SDK, right? This means, that each change of this module will cause to change in the SDK version. And this is exactly what I&#39;m trying to avoid.  Did I understand your suggestion right?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1647261426,"post_id":71467591,"comment_id":126319103,"body_markdown":"Perhaps change external configuration to external implementation.  The SDK could define an interface such as `Validator` that users of the SDK can implement, with the SDK providing some standard implementations such as Luhn.","body":"Perhaps change external configuration to external implementation.  The SDK could define an interface such as <code>Validator</code> that users of the SDK can implement, with the SDK providing some standard implementations such as Luhn."},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1647261510,"post_id":71467591,"comment_id":126319133,"body_markdown":"@GeneZeiniss . . . Not exactly. Your `mathematical-algorithms-implementations` can have different version than the core. Nothing forces you to have the same version in both modules. That&#39;s why they must be different projects in the workspace.","body":"@GeneZeiniss . . . Not exactly. Your <code>mathematical-algorithms-implementations</code> can have different version than the core. Nothing forces you to have the same version in both modules. That&#39;s why they must be different projects in the workspace."},{"owner":{"account_id":6576171,"reputation":137,"user_id":5082136,"display_name":"Gene Zeiniss"},"score":0,"creation_date":1647261750,"post_id":71467591,"comment_id":126319231,"body_markdown":"@AndrewS\nTo get advanced with the external implementation you suggest I will need to upgrade the implementation version within my SDK (on validator change). This will make my SDK&#39;s client upgrade the SDK version as well,","body":"@AndrewS To get advanced with the external implementation you suggest I will need to upgrade the implementation version within my SDK (on validator change). This will make my SDK&#39;s client upgrade the SDK version as well,"},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":1,"creation_date":1647262467,"post_id":71467591,"comment_id":126319497,"body_markdown":"@GeneZeiniss . . . yes, you will. The suggestion from Andrew is the same as mine and I think it&#39;s the best way to go. Java doesn&#39;t have a &quot;eval&quot; function like the one from Javascript. So don&#39;t expect to write Java code as text and then call some function to make the code run (which is exactly what the eval function from Javascript does). Anyway, if you still want to follow in that line, I suggest you to take a look at the `ScriptEngineManager` from the Java, which let&#39;s you execute arbitrary strings as a scripting language, such as Javascript, but, imo, this is not a good solution.","body":"@GeneZeiniss . . . yes, you will. The suggestion from Andrew is the same as mine and I think it&#39;s the best way to go. Java doesn&#39;t have a &quot;eval&quot; function like the one from Javascript. So don&#39;t expect to write Java code as text and then call some function to make the code run (which is exactly what the eval function from Javascript does). Anyway, if you still want to follow in that line, I suggest you to take a look at the <code>ScriptEngineManager</code> from the Java, which let&#39;s you execute arbitrary strings as a scripting language, such as Javascript, but, imo, this is not a good solution."}],"owner":{"account_id":6576171,"reputation":137,"user_id":5082136,"display_name":"Gene Zeiniss"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647262163,"creation_date":1647259948,"question_id":71467591,"body_markdown":"**Context:**\r\n\r\nI&#39;m working on a Java SDK that wraps the library which analyzes provided text. As part of analyzing process, I want to run mathematical algorithms (validators) on findings. The new validators can be added during the time, and existing validators can be modified. \r\n\r\nOnce SDK is initiated by the client, it calls to **spring-boot** service to retrieve relevant configuration (**spring-cloud-config**)\r\n\r\nMy problem is, that I want to make my SDK as immutable as possible. In other words, all changes (including validators) to SDK logics should be added as external configuration, and not as part of SDK. I mean, all the changes **should not require SDK version change**.\r\n\r\n**Challenge:**\r\n\r\nHow to implement mathematical algorithms (such [Luhn](https://en.wikipedia.org/wiki/Luhn_algorithm)) in the YAML configuration file and to convert it to Java code.\r\n\r\n** Other implementation suggestions will be appreciated. ","title":"Mathematical Algorithm Implementation in Spring Cloud Config YAML File","body":"<p><strong>Context:</strong></p>\n<p>I'm working on a Java SDK that wraps the library which analyzes provided text. As part of analyzing process, I want to run mathematical algorithms (validators) on findings. The new validators can be added during the time, and existing validators can be modified.</p>\n<p>Once SDK is initiated by the client, it calls to <strong>spring-boot</strong> service to retrieve relevant configuration (<strong>spring-cloud-config</strong>)</p>\n<p>My problem is, that I want to make my SDK as immutable as possible. In other words, all changes (including validators) to SDK logics should be added as external configuration, and not as part of SDK. I mean, all the changes <strong>should not require SDK version change</strong>.</p>\n<p><strong>Challenge:</strong></p>\n<p>How to implement mathematical algorithms (such <a href=\"https://en.wikipedia.org/wiki/Luhn_algorithm\" rel=\"nofollow noreferrer\">Luhn</a>) in the YAML configuration file and to convert it to Java code.</p>\n<p>** Other implementation suggestions will be appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1647267451,"post_id":71467977,"comment_id":126321651,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1647262085,"creation_date":1647261832,"answer_id":71468013,"question_id":71467977,"body_markdown":"`((y = y++ / x) == 0)` is never evaluated since `&amp;&amp;` is a short circuited logical AND operator, and `(x++ == 0)` is `false`, so `s` is evaluated to `false` without evaluating the second operand.\r\n\r\nHence, the output is\r\n\r\n    x + y\r\n  \r\n    0 + 5 == 5\r\n\r\nNote that if you change the `&amp;&amp;` operator to `&amp;`, which is **not** short circuited, the second operand will be evaluated, which will lead to division by `0` and `ArithmeticException`. `x` is incremented when the first operand is evaluated, so once the second operand is evaluated, `x` is already `0`.","title":"Why does this output 5?","body":"<p><code>((y = y++ / x) == 0)</code> is never evaluated since <code>&amp;&amp;</code> is a short circuited logical AND operator, and <code>(x++ == 0)</code> is <code>false</code>, so <code>s</code> is evaluated to <code>false</code> without evaluating the second operand.</p>\n<p>Hence, the output is</p>\n<pre><code>x + y\n\n0 + 5 == 5\n</code></pre>\n<p>Note that if you change the <code>&amp;&amp;</code> operator to <code>&amp;</code>, which is <strong>not</strong> short circuited, the second operand will be evaluated, which will lead to division by <code>0</code> and <code>ArithmeticException</code>. <code>x</code> is incremented when the first operand is evaluated, so once the second operand is evaluated, <code>x</code> is already <code>0</code>.</p>\n"}],"owner":{"account_id":24553983,"reputation":17,"user_id":18462833,"display_name":"stevenpgrey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1647262173,"accepted_answer_id":71468013,"answer_count":1,"score":-1,"last_activity_date":1647262085,"creation_date":1647261686,"question_id":71467977,"body_markdown":"My understanding is x++ == 0 runs first. But x is still -1 at the point of calculating (y = y++ / x) == 0? Otherwise it will be dividing by zero. I thought the output will be -5 but eclipse says 5. I&#39;m going crazy.\r\n\r\n\tpublic static void main(String[] args){\r\n\t\t\t\r\n\t\tint x = -1;\r\n\t\tint y = 5;\r\n\t\tboolean s = (x++ == 0) &amp;&amp; ((y = y++ / x) == 0);\r\n\t\tSystem.out.println(x + y);\r\n\t}\r\n\t\r\n\r\n","title":"Why does this output 5?","body":"<p>My understanding is x++ == 0 runs first. But x is still -1 at the point of calculating (y = y++ / x) == 0? Otherwise it will be dividing by zero. I thought the output will be -5 but eclipse says 5. I'm going crazy.</p>\n<pre><code>public static void main(String[] args){\n        \n    int x = -1;\n    int y = 5;\n    boolean s = (x++ == 0) &amp;&amp; ((y = y++ / x) == 0);\n    System.out.println(x + y);\n}\n</code></pre>\n"},{"tags":["java","linear-search"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1647260573,"post_id":71467694,"comment_id":126318789,"body_markdown":"`customerDetails[1][0]=&quot;Pune&quot;;` should have `[1][2]`.","body":"<code>customerDetails[1][0]=&quot;Pune&quot;;</code> should have <code>[1][2]</code>."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":3,"creation_date":1647260601,"post_id":71467694,"comment_id":126318802,"body_markdown":"The `if(!found)` statement should be outside of the loops. Right now, it is inside of the outer loop, and the `break` terminates the loop after the first iteration, since the content was not found in the first iteration.","body":"The <code>if(!found)</code> statement should be outside of the loops. Right now, it is inside of the outer loop, and the <code>break</code> terminates the loop after the first iteration, since the content was not found in the first iteration."},{"owner":{"account_id":2493254,"reputation":633,"user_id":2170326,"display_name":"J.J"},"score":0,"creation_date":1647274018,"post_id":71467694,"comment_id":126324479,"body_markdown":"If your goal is to find by name, then why are you comparing to every element in the array? The name field is on second column (index of 1), you could iterate all the rows and match the value in that column. Having said that, I hope this is just an academic exercise. In real world, you should be using a pojo to keep this data and use a data structure other than two dimensional arrays. You could use many other data structures over 2-D array here.","body":"If your goal is to find by name, then why are you comparing to every element in the array? The name field is on second column (index of 1), you could iterate all the rows and match the value in that column. Having said that, I hope this is just an academic exercise. In real world, you should be using a pojo to keep this data and use a data structure other than two dimensional arrays. You could use many other data structures over 2-D array here."}],"answers":[{"tags":[],"owner":{"account_id":8332915,"reputation":89,"user_id":6260817,"display_name":"Fakhar uddin Malik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647262082,"creation_date":1647261983,"answer_id":71468047,"question_id":71467694,"body_markdown":"```\r\npublic class test\r\n{\r\n\r\n\tString customerDetails[][] = new String[5][3];\r\n\r\n\ttest()\r\n\t{\r\n\t\tcustomerDetails[0][0] = &quot;1001&quot;;\r\n\t\tcustomerDetails[0][1] = &quot;Raj&quot;;\r\n\t\tcustomerDetails[0][2] = &quot;Chennai&quot;;\r\n\r\n\t\tcustomerDetails[1][0] = &quot;1008&quot;;\r\n\t\tcustomerDetails[1][1] = &quot;Akshay&quot;;\r\n\t\tcustomerDetails[1][2] = &quot;Pune&quot;;\r\n\r\n\t\tcustomerDetails[2][0] = &quot;1002&quot;;\r\n\t\tcustomerDetails[2][1] = &quot;Simrath&quot;;\r\n\t\tcustomerDetails[2][2] = &quot;Amristar&quot;;\r\n\r\n\t\tcustomerDetails[3][0] = &quot;1204&quot;;\r\n\t\tcustomerDetails[3][1] = &quot;Gaurav&quot;;\r\n\t\tcustomerDetails[3][2] = &quot;Delhi&quot;;\r\n\r\n\t\tcustomerDetails[4][0] = &quot;1005&quot;;\r\n\t\tcustomerDetails[4][1] = &quot;Ganesh&quot;;\r\n\t\tcustomerDetails[4][2] = &quot;Chennai&quot;;\r\n\r\n\t}\r\n\r\n    public static void main(String args[]) throws Exception\r\n\t{\r\n\r\n\t\ttest nc = new test();\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tString key = sc.nextLine();\r\n\t\tboolean found = false;\r\n\t\tfor (int i = 0; i &lt; 5; i++)\r\n\t\t{\r\n\t\t\tfor (int j = 0; j &lt; 3; j++)\r\n\t\t\t{\r\n\r\n\t\t\t\tif (nc.customerDetails[i][j].equals(key))\r\n\t\t\t\t{\r\n\t\t\t\t\tfound = true;\r\n\t\t\t\t\tSystem.out.println(nc.customerDetails[i][0] + &#39;\\n&#39; + nc.customerDetails[i][1] + &#39;\\n&#39; + nc.customerDetails[i][2]);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tif (!found)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;No Record Found&quot;);\r\n\t\t\t// break;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThis should work. `if(!found)` should be outside the loop to check all records.","title":"Trying Linear Search in java but it seems loop is not iterating","body":"<pre><code>public class test\n{\n\n    String customerDetails[][] = new String[5][3];\n\n    test()\n    {\n        customerDetails[0][0] = &quot;1001&quot;;\n        customerDetails[0][1] = &quot;Raj&quot;;\n        customerDetails[0][2] = &quot;Chennai&quot;;\n\n        customerDetails[1][0] = &quot;1008&quot;;\n        customerDetails[1][1] = &quot;Akshay&quot;;\n        customerDetails[1][2] = &quot;Pune&quot;;\n\n        customerDetails[2][0] = &quot;1002&quot;;\n        customerDetails[2][1] = &quot;Simrath&quot;;\n        customerDetails[2][2] = &quot;Amristar&quot;;\n\n        customerDetails[3][0] = &quot;1204&quot;;\n        customerDetails[3][1] = &quot;Gaurav&quot;;\n        customerDetails[3][2] = &quot;Delhi&quot;;\n\n        customerDetails[4][0] = &quot;1005&quot;;\n        customerDetails[4][1] = &quot;Ganesh&quot;;\n        customerDetails[4][2] = &quot;Chennai&quot;;\n\n    }\n\n    public static void main(String args[]) throws Exception\n    {\n\n        test nc = new test();\n        Scanner sc = new Scanner(System.in);\n        String key = sc.nextLine();\n        boolean found = false;\n        for (int i = 0; i &lt; 5; i++)\n        {\n            for (int j = 0; j &lt; 3; j++)\n            {\n\n                if (nc.customerDetails[i][j].equals(key))\n                {\n                    found = true;\n                    System.out.println(nc.customerDetails[i][0] + '\\n' + nc.customerDetails[i][1] + '\\n' + nc.customerDetails[i][2]);\n                    break;\n\n                }\n            }\n\n        }\n        if (!found)\n        {\n            System.out.println(&quot;No Record Found&quot;);\n            // break;\n        }\n    }\n}\n</code></pre>\n<p>This should work. <code>if(!found)</code> should be outside the loop to check all records.</p>\n"}],"owner":{"account_id":24553700,"reputation":13,"user_id":18462583,"display_name":"sns949"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71468047,"answer_count":1,"score":0,"last_activity_date":1647262082,"creation_date":1647260413,"question_id":71467694,"body_markdown":"I am trying to use Linear Search using java to find the name in the 2d array and print the details related to it, but the code is directly going to last loop without searching \r\n\r\nthe code is\r\n\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.text.*;\r\n    import java.math.*;\r\n    import java.util.regex.*;\r\n \r\n    public class Source {\r\n  \r\n    String customerDetails[][]=new String[5][3];\r\n    Source()\r\n\t{\r\n\tcustomerDetails[0][0]=&quot;1001&quot;;\r\n\tcustomerDetails[0][1]=&quot;Raj&quot;;\r\n\tcustomerDetails[0][2]=&quot;Chennai&quot;;\r\n\t\r\n\tcustomerDetails[1][0]=&quot;1008&quot;;\r\n\tcustomerDetails[1][1]=&quot;Akshay&quot;;\r\n\tcustomerDetails[1][0]=&quot;Pune&quot;;\r\n\t\r\n\tcustomerDetails[2][0]=&quot;1002&quot;;\r\n\tcustomerDetails[2][1]=&quot;Simrath&quot;;\r\n\tcustomerDetails[2][2]=&quot;Amristar&quot;;\r\n\t\r\n\tcustomerDetails[3][0]=&quot;1204&quot;;\r\n\tcustomerDetails[3][1]=&quot;Gaurav&quot;;\r\n\tcustomerDetails[3][2]=&quot;Delhi&quot;;\r\n\t\r\n\tcustomerDetails[4][0]=&quot;1005&quot;;\r\n\tcustomerDetails[4][1]=&quot;Ganesh&quot;;\r\n\tcustomerDetails[4][2]=&quot;Chennai&quot;;\r\n\t\r\n\t}\r\n  \r\n\tpublic static void main(String args[] ) throws Exception {\r\n\t\t\r\n\t\tSource nc = new Source();\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tString key = sc.nextLine();\r\n\t\tboolean found = false;\r\n\t\tfor(int i=0;i&lt;5;i++){\r\n\t\t    for(int j=0;j&lt;3;j++){\r\n\t\t        \r\n\t\t        if(nc.customerDetails[i][j].equals(key)){\r\n\t\t            found = true;\r\n\t\t            System.out.println(nc.customerDetails[i][0] + &#39;\\n&#39; + nc.customerDetails[i][1] + &#39;\\n&#39; + nc.customerDetails[i][2]);\r\n\t\t            break;\r\n\t\t            \r\n\t\t        }\r\n\t\t    }\r\n\t\t    if(!found){\r\n\t\t        System.out.println(&quot;No Record Found&quot;);\r\n\t\t        break;\r\n\t\t    }\r\n\t\t}\r\n\t}\r\n    }\r\n\r\ni want to find Gaurav in the array and print \r\n1204\r\nGaurav\r\nDelhi","title":"Trying Linear Search in java but it seems loop is not iterating","body":"<p>I am trying to use Linear Search using java to find the name in the 2d array and print the details related to it, but the code is directly going to last loop without searching</p>\n<p>the code is</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.text.*;\nimport java.math.*;\nimport java.util.regex.*;\n\npublic class Source {\n\nString customerDetails[][]=new String[5][3];\nSource()\n{\ncustomerDetails[0][0]=&quot;1001&quot;;\ncustomerDetails[0][1]=&quot;Raj&quot;;\ncustomerDetails[0][2]=&quot;Chennai&quot;;\n\ncustomerDetails[1][0]=&quot;1008&quot;;\ncustomerDetails[1][1]=&quot;Akshay&quot;;\ncustomerDetails[1][0]=&quot;Pune&quot;;\n\ncustomerDetails[2][0]=&quot;1002&quot;;\ncustomerDetails[2][1]=&quot;Simrath&quot;;\ncustomerDetails[2][2]=&quot;Amristar&quot;;\n\ncustomerDetails[3][0]=&quot;1204&quot;;\ncustomerDetails[3][1]=&quot;Gaurav&quot;;\ncustomerDetails[3][2]=&quot;Delhi&quot;;\n\ncustomerDetails[4][0]=&quot;1005&quot;;\ncustomerDetails[4][1]=&quot;Ganesh&quot;;\ncustomerDetails[4][2]=&quot;Chennai&quot;;\n\n}\n\npublic static void main(String args[] ) throws Exception {\n    \n    Source nc = new Source();\n    Scanner sc = new Scanner(System.in);\n    String key = sc.nextLine();\n    boolean found = false;\n    for(int i=0;i&lt;5;i++){\n        for(int j=0;j&lt;3;j++){\n            \n            if(nc.customerDetails[i][j].equals(key)){\n                found = true;\n                System.out.println(nc.customerDetails[i][0] + '\\n' + nc.customerDetails[i][1] + '\\n' + nc.customerDetails[i][2]);\n                break;\n                \n            }\n        }\n        if(!found){\n            System.out.println(&quot;No Record Found&quot;);\n            break;\n        }\n    }\n}\n}\n</code></pre>\n<p>i want to find Gaurav in the array and print\n1204\nGaurav\nDelhi</p>\n"},{"tags":["java","android","retrofit2"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1647260452,"post_id":71467450,"comment_id":126318741,"body_markdown":"I would use OkHttp directly, rather than making the request through Retrofit.","body":"I would use OkHttp directly, rather than making the request through Retrofit."}],"answers":[{"tags":[],"owner":{"account_id":4344526,"reputation":316,"user_id":3546909,"display_name":"drjansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647261397,"creation_date":1647261397,"answer_id":71467907,"question_id":71467450,"body_markdown":"You need to retrieve the content from body \r\n```\r\ntry {\r\n   html  = response.body().content();\r\n} catch (IOException e) {\r\n   e.printStackTrace();\r\n}\r\n```","title":"How do i receive HTML page as response from API using retrofit in Android?","body":"<p>You need to retrieve the content from body</p>\n<pre><code>try {\n   html  = response.body().content();\n} catch (IOException e) {\n   e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":7428890,"reputation":78,"user_id":5650567,"display_name":"RR_Pradhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1042,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647261397,"creation_date":1647259289,"question_id":71467450,"body_markdown":"API is sending one HTML page as response.\r\n[![postment image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V8AZq.png\r\n\r\nCurrently i am receiving as ResponseBody\r\n\r\n    public interface DashBoardHtmlJsonAPI {\r\n        @FormUrlEncoded\r\n        @POST(&quot;/MobileDashbord&quot;)\r\n        Call&lt;ResponseBody&gt; getHtml(@Field(&quot;UserName&quot;) String username, @Field(&quot;Password&quot;) String password);\r\n    }\r\n\r\nI want convert the responseBody to String and load the html to webview.\r\n\r\n    html  = response.body().string();\r\n\r\nAfter successful response above code return a blank string\r\n\r\nI am not able to retrieve the html page as string.\r\n\r\n    Retrofit retrofit = new Retrofit.Builder().baseUrl(Constants.BASE_URL).addConverterFactory(ScalarsConverterFactory.create()).build();\r\n            DashBoardHtmlJsonAPI dashBoardHtmlJsonAPI = retrofit.create(DashBoardHtmlJsonAPI.class);\r\n            Call&lt;ResponseBody&gt; call = dashBoardHtmlJsonAPI.getHtml(userName,password);\r\n            call.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n                    if (response.isSuccessful()){\r\n                        String html=&quot;&quot;;\r\n                        try {\r\n                          html  = response.body().string();\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                        loadWebView(html);\r\n                        Log.i(&quot;WEBVIEW&quot;,response.toString());\r\n                        Log.i(&quot;WEBVIEW&quot;,html);\r\n    \r\n    \r\n                    }\r\n                    else {\r\n                        Log.i(&quot;WEBVIEW&quot;,response.body().toString());\r\n    \r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n                    Log.i(&quot;WEBVIEW&quot;,t.getLocalizedMessage());\r\n                }\r\n            });\r\n\r\nCan anybody help me ?\r\n","title":"How do i receive HTML page as response from API using retrofit in Android?","body":"<p>API is sending one HTML page as response.\n<a href=\"https://i.stack.imgur.com/V8AZq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V8AZq.png\" alt=\"postment image\" /></a></p>\n<p>Currently i am receiving as ResponseBody</p>\n<pre><code>public interface DashBoardHtmlJsonAPI {\n    @FormUrlEncoded\n    @POST(&quot;/MobileDashbord&quot;)\n    Call&lt;ResponseBody&gt; getHtml(@Field(&quot;UserName&quot;) String username, @Field(&quot;Password&quot;) String password);\n}\n</code></pre>\n<p>I want convert the responseBody to String and load the html to webview.</p>\n<pre><code>html  = response.body().string();\n</code></pre>\n<p>After successful response above code return a blank string</p>\n<p>I am not able to retrieve the html page as string.</p>\n<pre><code>Retrofit retrofit = new Retrofit.Builder().baseUrl(Constants.BASE_URL).addConverterFactory(ScalarsConverterFactory.create()).build();\n        DashBoardHtmlJsonAPI dashBoardHtmlJsonAPI = retrofit.create(DashBoardHtmlJsonAPI.class);\n        Call&lt;ResponseBody&gt; call = dashBoardHtmlJsonAPI.getHtml(userName,password);\n        call.enqueue(new Callback&lt;ResponseBody&gt;() {\n            @Override\n            public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\n                if (response.isSuccessful()){\n                    String html=&quot;&quot;;\n                    try {\n                      html  = response.body().string();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                    loadWebView(html);\n                    Log.i(&quot;WEBVIEW&quot;,response.toString());\n                    Log.i(&quot;WEBVIEW&quot;,html);\n\n\n                }\n                else {\n                    Log.i(&quot;WEBVIEW&quot;,response.body().toString());\n\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n                Log.i(&quot;WEBVIEW&quot;,t.getLocalizedMessage());\n            }\n        });\n</code></pre>\n<p>Can anybody help me ?</p>\n"},{"tags":["java","performance","garbage-collection","immutability"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1647163931,"post_id":71455345,"comment_id":126297746,"body_markdown":"You are right, immutability can lead to the creation of many objects. For example: if you use immutable date objects and increment a date in a loop.","body":"You are right, immutability can lead to the creation of many objects. For example: if you use immutable date objects and increment a date in a loop."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1647166519,"post_id":71455345,"comment_id":126298249,"body_markdown":"Writing programs with inappropriate data structures might cause performance problems. There are situations where immutable object is not best design choice to start with (eg counters etc).","body":"Writing programs with inappropriate data structures might cause performance problems. There are situations where immutable object is not best design choice to start with (eg counters etc)."},{"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"score":2,"creation_date":1647183588,"post_id":71455345,"comment_id":126301965,"body_markdown":"The need to instantiate new objects can be considered a drawback of using immutable classes, and sometimes you are probably better off without them. But the cost of instantiation should rarely be an issue. Also note that gc performance is not related to the number of objects you instantiate; it is more about the number of objects you keep references to. In other words, gc performance is mainly related to the number of &quot;non-garbage&quot; objects. In addition, using immutable classes can have other perf benefits, e.g. they are thread-safe by convention and can minimize locks in a multi-threaded app.","body":"The need to instantiate new objects can be considered a drawback of using immutable classes, and sometimes you are probably better off without them. But the cost of instantiation should rarely be an issue. Also note that gc performance is not related to the number of objects you instantiate; it is more about the number of objects you keep references to. In other words, gc performance is mainly related to the number of &quot;non-garbage&quot; objects. In addition, using immutable classes can have other perf benefits, e.g. they are thread-safe by convention and can minimize locks in a multi-threaded app."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1647261384,"creation_date":1647261384,"answer_id":71467902,"question_id":71455345,"body_markdown":"When you repeatedly modify a mutable object, it will likely produce less garbage than repeatedly constructing new immutable objects to represent the intermediate state. But there are several reasons why using immutable objects still is not necessarily imposing a performance problem:\r\n\r\n - In typical applications, this scenario occurs only occasionally, compared to other uses where immutable objects do not suffer or even turn out to win. Most notably:\r\n\r\n   - getters do not need to create a defensive copy when returning an immutable object\r\n   - setters can store the incoming argument by reference if immutable\r\n   - verification methods can be implemented the simple (or na&#239;ve) way, without having to deal with the check-then-act problem, as immutable objects can not change between the check and the subsequent use\r\n   - immutable objects can be safely shared, to actually reduce the amount of created objects or used memory\r\n\r\n - The impact of garbage collection to the performance is often overestimated. We routinely use the immutable type `java.lang.String`, benefitting from the advantages mentioned above. Strings are also one of the most often used hash map keys.\r\n\r\n   There’s the mutable companion class `StringBuilder` for the scenario of repeated string manipulations, but its main advantage is *not* about the number of allocated objects. The problem with string construction is that each object has to create a copy of the contained characters, so operations like repeatedly concatenating characters lead to a quadratic time complexity when constructing a new string on each step. The `StringBuilder` still reallocates its buffer under the hood when necessary but with a nonlinear growth, which yields an amortized linear time complexity for repeated concatenation.\r\n\r\n   As explained in [this answer], the costs of garbage collection mainly depend on the still existing objects, so temporary objects usually do not impact the garbage collection much unless you create an excessive amount of them. But even the latter scenario should only be addressed if you have an actual performance problem and an impartial profiling tool proves that a particular allocation site truly is the culprit.\r\n\r\n - Sophisticated applications may have to deal with undo/redo or other versioning features, which require keeping copies of the alternative application state anyway. At this point, using immutable objects may actually become an advantage, as you do not need to copy objects which did not change between two versions of the application state. A changed application state may consist 99% of the same objects as the previous state.\r\n\r\n - One of the big reasons why the topic has become popular (again) is that immutable objects provide the easiest way to implement efficient and correct parallel processing. There is no need to acquire a lock to prevent inconsistent modifications. As said above, there’s no need to worry about the check-then-act problem. Further, when the application state can be expressed as a single reference to a compound immutable object, the check for a concurrent update reduces to a simple reference comparison. Compare also with [this answer][2].\r\n\r\nSo there are a lot of performance advantages with immutable objects which may compensate the disadvantages, if there are any. At the same time, potential bottlenecks can be fixed with the established solution of temporarily dealing with mutable objects for an operation while keeping the overall immutable behavior.\r\n\r\n[this answer]: https://stackoverflow.com/a/54619104/2711488\r\n[2]: https://stackoverflow.com/a/52038903/2711488","title":"Performance of programs using immutable objects","body":"<p>When you repeatedly modify a mutable object, it will likely produce less garbage than repeatedly constructing new immutable objects to represent the intermediate state. But there are several reasons why using immutable objects still is not necessarily imposing a performance problem:</p>\n<ul>\n<li><p>In typical applications, this scenario occurs only occasionally, compared to other uses where immutable objects do not suffer or even turn out to win. Most notably:</p>\n<ul>\n<li>getters do not need to create a defensive copy when returning an immutable object</li>\n<li>setters can store the incoming argument by reference if immutable</li>\n<li>verification methods can be implemented the simple (or naïve) way, without having to deal with the check-then-act problem, as immutable objects can not change between the check and the subsequent use</li>\n<li>immutable objects can be safely shared, to actually reduce the amount of created objects or used memory</li>\n</ul>\n</li>\n<li><p>The impact of garbage collection to the performance is often overestimated. We routinely use the immutable type <code>java.lang.String</code>, benefitting from the advantages mentioned above. Strings are also one of the most often used hash map keys.</p>\n<p>There’s the mutable companion class <code>StringBuilder</code> for the scenario of repeated string manipulations, but its main advantage is <em>not</em> about the number of allocated objects. The problem with string construction is that each object has to create a copy of the contained characters, so operations like repeatedly concatenating characters lead to a quadratic time complexity when constructing a new string on each step. The <code>StringBuilder</code> still reallocates its buffer under the hood when necessary but with a nonlinear growth, which yields an amortized linear time complexity for repeated concatenation.</p>\n<p>As explained in <a href=\"https://stackoverflow.com/a/54619104/2711488\">this answer</a>, the costs of garbage collection mainly depend on the still existing objects, so temporary objects usually do not impact the garbage collection much unless you create an excessive amount of them. But even the latter scenario should only be addressed if you have an actual performance problem and an impartial profiling tool proves that a particular allocation site truly is the culprit.</p>\n</li>\n<li><p>Sophisticated applications may have to deal with undo/redo or other versioning features, which require keeping copies of the alternative application state anyway. At this point, using immutable objects may actually become an advantage, as you do not need to copy objects which did not change between two versions of the application state. A changed application state may consist 99% of the same objects as the previous state.</p>\n</li>\n<li><p>One of the big reasons why the topic has become popular (again) is that immutable objects provide the easiest way to implement efficient and correct parallel processing. There is no need to acquire a lock to prevent inconsistent modifications. As said above, there’s no need to worry about the check-then-act problem. Further, when the application state can be expressed as a single reference to a compound immutable object, the check for a concurrent update reduces to a simple reference comparison. Compare also with <a href=\"https://stackoverflow.com/a/52038903/2711488\">this answer</a>.</p>\n</li>\n</ul>\n<p>So there are a lot of performance advantages with immutable objects which may compensate the disadvantages, if there are any. At the same time, potential bottlenecks can be fixed with the established solution of temporarily dealing with mutable objects for an operation while keeping the overall immutable behavior.</p>\n"}],"owner":{"account_id":21079020,"reputation":95,"user_id":15493760,"display_name":"grabeqc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1369,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71467902,"answer_count":1,"score":4,"last_activity_date":1647261384,"creation_date":1647162925,"question_id":71455345,"body_markdown":"Does writing programs with immutable objects cause performance problems? If a given object is immutable and we need to somehow change its state, we have to map it to a new object with a slightly changed state. Thus, we can find ourselves in a situation where we create a lot of objects which congest memory and, as I understand it, can be problematic for the garbage collector. Is what I have described taking place or is there some aspect that I am not aware of on this topic?","title":"Performance of programs using immutable objects","body":"<p>Does writing programs with immutable objects cause performance problems? If a given object is immutable and we need to somehow change its state, we have to map it to a new object with a slightly changed state. Thus, we can find ourselves in a situation where we create a lot of objects which congest memory and, as I understand it, can be problematic for the garbage collector. Is what I have described taking place or is there some aspect that I am not aware of on this topic?</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647260995,"creation_date":1647260995,"answer_id":71467810,"question_id":71467525,"body_markdown":"The `memberAtTeam` field of `invitedUser` needs to point to `usersInTeam` when you add it to the `usersInTeam` collection of `teamInvitedTo`. Or else the foreign key column value of `usersInTeam` will not point to `teamInvitedTo`  when you save it, instead it will remain null.\r\n\r\n    Team teamInvitedTo = invite.getTeamInvitedTo(); //Returns a Team object. Works.\r\n    invitedUser.setMemberAtTeam(teamInvitedTo); \r\n    teamInvitedTo.getUsersInTeam().add(invitedUser); //invitedUser is a User.java object\r\n    teamRepository.save(teamInvitedTo); //Doesn&#39;t set team_id, stays null in DB\r\n    \r\n    teamInviteRepository.delete(invite); //Deletes used invite, this works.","title":"Hibernate not saving join column id","body":"<p>The <code>memberAtTeam</code> field of <code>invitedUser</code> needs to point to <code>usersInTeam</code> when you add it to the <code>usersInTeam</code> collection of <code>teamInvitedTo</code>. Or else the foreign key column value of <code>usersInTeam</code> will not point to <code>teamInvitedTo</code>  when you save it, instead it will remain null.</p>\n<pre><code>Team teamInvitedTo = invite.getTeamInvitedTo(); //Returns a Team object. Works.\ninvitedUser.setMemberAtTeam(teamInvitedTo); \nteamInvitedTo.getUsersInTeam().add(invitedUser); //invitedUser is a User.java object\nteamRepository.save(teamInvitedTo); //Doesn't set team_id, stays null in DB\n\nteamInviteRepository.delete(invite); //Deletes used invite, this works.\n</code></pre>\n"}],"owner":{"account_id":13319876,"reputation":19,"user_id":9614927,"display_name":"articapps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1811,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71467810,"answer_count":1,"score":0,"last_activity_date":1647260995,"creation_date":1647259649,"question_id":71467525,"body_markdown":"I have a ManyToOne relationship set up. Each team can have multiple users. I&#39;m using `CascadeType.PERSIST` in Team.java as I don&#39;t want user accounts deleted when team gets removed or vice versa. Is the cascade type correct for my use case?\r\n\r\nThe join column in User.java table `team_id` stays null after saving a Team and adding a user to this team in the controller.\r\n\r\n\r\nTeam.java\r\n```\r\n@OneToMany(mappedBy = &quot;memberAtTeam&quot;, cascade = CascadeType.PERSIST)\r\nprivate List&lt;User&gt; usersInTeam;\r\n```\r\n\r\nUser.java\r\n```\r\n@ManyToOne\r\n@JoinColumn(name = &quot;team_id&quot;)\r\nprivate Team memberAtTeam;\r\n```\r\n\r\nTeamController.java\r\n```\r\nTeam teamInvitedTo = invite.getTeamInvitedTo(); //Returns a Team object. Works.\r\n\r\nteamInvitedTo.getUsersInTeam().add(invitedUser); //invitedUser is a User.java object\r\nteamRepository.save(teamInvitedTo); //Doesn&#39;t set team_id, stays null in DB\r\n\r\nteamInviteRepository.delete(invite); //Deletes used invite, this works.\r\n```","title":"Hibernate not saving join column id","body":"<p>I have a ManyToOne relationship set up. Each team can have multiple users. I'm using <code>CascadeType.PERSIST</code> in Team.java as I don't want user accounts deleted when team gets removed or vice versa. Is the cascade type correct for my use case?</p>\n<p>The join column in User.java table <code>team_id</code> stays null after saving a Team and adding a user to this team in the controller.</p>\n<p>Team.java</p>\n<pre><code>@OneToMany(mappedBy = &quot;memberAtTeam&quot;, cascade = CascadeType.PERSIST)\nprivate List&lt;User&gt; usersInTeam;\n</code></pre>\n<p>User.java</p>\n<pre><code>@ManyToOne\n@JoinColumn(name = &quot;team_id&quot;)\nprivate Team memberAtTeam;\n</code></pre>\n<p>TeamController.java</p>\n<pre><code>Team teamInvitedTo = invite.getTeamInvitedTo(); //Returns a Team object. Works.\n\nteamInvitedTo.getUsersInTeam().add(invitedUser); //invitedUser is a User.java object\nteamRepository.save(teamInvitedTo); //Doesn't set team_id, stays null in DB\n\nteamInviteRepository.delete(invite); //Deletes used invite, this works.\n</code></pre>\n"},{"tags":["java","maven","github","github-actions"],"comments":[{"owner":{"account_id":201208,"reputation":3985,"user_id":447503,"accept_rate":61,"display_name":"basin"},"score":1,"creation_date":1647072000,"post_id":71435932,"comment_id":126285513,"body_markdown":"Did you try adding `uses: actions/cache@v2...` to the other task too?","body":"Did you try adding <code>uses: actions&#47;cache@v2...</code> to the other task too?"},{"owner":{"account_id":1250747,"reputation":12431,"user_id":1640490,"accept_rate":92,"display_name":"nano_nano"},"score":0,"creation_date":1647074811,"post_id":71435932,"comment_id":126285938,"body_markdown":"It is always the same task but with different input","body":"It is always the same task but with different input"},{"owner":{"account_id":2361230,"reputation":18506,"user_id":2067877,"accept_rate":65,"display_name":"Grzegorz Krukowski"},"score":0,"creation_date":1647169175,"post_id":71435932,"comment_id":126298803,"body_markdown":"Can you show the exact key that is used to restore cache ?","body":"Can you show the exact key that is used to restore cache ?"},{"owner":{"account_id":1250747,"reputation":12431,"user_id":1640490,"accept_rate":92,"display_name":"nano_nano"},"score":0,"creation_date":1647255623,"post_id":71435932,"comment_id":126316904,"body_markdown":"@GrzegorzKrukowski  Linux-maven-c1aeb95006c18983cede8838a04297a07d42d08b1204053f2e1a2bf076b9954a\nand the key is the same for all the actions within the pipeline.","body":"@GrzegorzKrukowski  Linux-maven-c1aeb95006c18983cede8838a04297a07d42d08b1204053f&zwnj;&#8203;2e1a2bf076b9954a and the key is the same for all the actions within the pipeline."},{"owner":{"account_id":14627561,"reputation":1444,"user_id":10564458,"display_name":"Daniel"},"score":0,"creation_date":1647640784,"post_id":71435932,"comment_id":126430321,"body_markdown":"Try `path: ~/.m2/repository` instead of `path: .m2/repository`","body":"Try <code>path: ~&#47;.m2&#47;repository</code> instead of <code>path: .m2&#47;repository</code>"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1647260952,"creation_date":1647260952,"answer_id":71467802,"question_id":71435932,"body_markdown":"Two possible reasons:\r\n\r\n1. You changed the POM file in between. Then the cache is deleted.\r\n\r\n2. Maven is often downloading external POMs to evaluate dependency graphs. I do not really know why, but as long as no JAR files are downloaded, I would not worry to much because POMs are really small and downloaded super fast.","title":"github action maven dependency caching","body":"<p>Two possible reasons:</p>\n<ol>\n<li><p>You changed the POM file in between. Then the cache is deleted.</p>\n</li>\n<li><p>Maven is often downloading external POMs to evaluate dependency graphs. I do not really know why, but as long as no JAR files are downloaded, I would not worry to much because POMs are really small and downloaded super fast.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1250747,"reputation":12431,"user_id":1640490,"accept_rate":92,"display_name":"nano_nano"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647260952,"creation_date":1646988809,"question_id":71435932,"body_markdown":"I introduce myself currently into github actions and several maven operations.\r\nI think I have some missunderstanding how the dependency caching is working inside my github actions.\r\nI have this action:\r\n\r\n    runs:\r\n      using: composite\r\n      steps:\r\n   \r\n        - name: Cache m2 dependencies\r\n          uses: actions/cache@v2\r\n          with:\r\n            path: .m2/repository\r\n            key: ${{ runner.os }}-maven-${{ hashFiles(&#39;**/pom.xml&#39;) }}\r\n            restore-keys: |\r\n              ${{ runner.os }}-maven-\r\n        - name: Run ${{ inputs.name }}\r\n          run: mvn compile exec:java -Dexec.mainClass=&quot;Order&quot; -Dexec.args=&quot;${{ inputs.order }}&quot; -B\r\n          shell: bash\r\n          \r\nThis action is executed without problem 5 times within my pipeline chane.\r\n\r\nBut... In each task the dependencies are downloaded again. In my case 5 times.\r\nI thought I get rid of that with the &quot;Cache m2 dependencies&quot; ?\r\nThe cache is recognized:\r\n\r\n    Received 46137344 of 81878765 (56.3%), 10.9 MBs/sec\r\n    73\r\n    Received 71303168 of 81878765 (87.1%), 13.5 MBs/sec\r\n    74\r\n    Received 81878765 of 81878765 (100.0%), 13.5 MBs/sec\r\n    75\r\n    Cache Size: ~78 MB (81878765 B)\r\n    76\r\n    /bin/tar -z -xf /__w/_temp/883f2a2b-30d5-4597-bd4e-230d73e83443/cache.tgz -P -C /__w/test-prj/test-prj\r\n    77\r\n    Cache restored successfully\r\n\r\nhowever in the next step &quot;Run ${{ inputs.name }}&quot; everything is downloaded again and again.\r\n\r\n    [INFO] ----------------&lt; test-prj &gt;----------------\r\n    199\r\n    [INFO] Building test-prj 1.0\r\n    200\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    201\r\n    [INFO] Downloading from thirdparty-rep: https://thirdparty-rep.com/public/repositories/maven/io/appium/java-client/7.4.1/java-client-7.4.1.pom\r\n    202\r\n    [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/appium/java-client/7.4.1/java-client-7.4.1.pom\r\n    203\r\n    [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/appium/java-client/7.4.1/java-client-7.4.1.pom (4.7 kB at 55 kB/s)\r\n    204\r\n    [INFO] Downloading from thirdparty-rep: https://thirdparty-rep.com/public/repositories/maven/org/seleniumhq/selenium/selenium-java/3.141.59/selenium-java-3.141.59.pom\r\n    205\r\n    [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/seleniumhq/selenium/selenium-java/3.141.59/selenium-java-3.141.59.pom\r\n\r\nBesides of my dependencies in the pom.xml, I have additionaly placed a repository for some third-party libs:\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;my-third-party-repo&lt;/id&gt;\r\n            &lt;url&gt;https://thirdparty-rep.com/public/repositories/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\nmaybe you see my problem with the caching...","title":"github action maven dependency caching","body":"<p>I introduce myself currently into github actions and several maven operations.\nI think I have some missunderstanding how the dependency caching is working inside my github actions.\nI have this action:</p>\n<pre><code>runs:\n  using: composite\n  steps:\n\n    - name: Cache m2 dependencies\n      uses: actions/cache@v2\n      with:\n        path: .m2/repository\n        key: ${{ runner.os }}-maven-${{ hashFiles('**/pom.xml') }}\n        restore-keys: |\n          ${{ runner.os }}-maven-\n    - name: Run ${{ inputs.name }}\n      run: mvn compile exec:java -Dexec.mainClass=&quot;Order&quot; -Dexec.args=&quot;${{ inputs.order }}&quot; -B\n      shell: bash\n      \n</code></pre>\n<p>This action is executed without problem 5 times within my pipeline chane.</p>\n<p>But... In each task the dependencies are downloaded again. In my case 5 times.\nI thought I get rid of that with the &quot;Cache m2 dependencies&quot; ?\nThe cache is recognized:</p>\n<pre><code>Received 46137344 of 81878765 (56.3%), 10.9 MBs/sec\n73\nReceived 71303168 of 81878765 (87.1%), 13.5 MBs/sec\n74\nReceived 81878765 of 81878765 (100.0%), 13.5 MBs/sec\n75\nCache Size: ~78 MB (81878765 B)\n76\n/bin/tar -z -xf /__w/_temp/883f2a2b-30d5-4597-bd4e-230d73e83443/cache.tgz -P -C /__w/test-prj/test-prj\n77\nCache restored successfully\n</code></pre>\n<p>however in the next step &quot;Run ${{ inputs.name }}&quot; everything is downloaded again and again.</p>\n<pre><code>[INFO] ----------------&lt; test-prj &gt;----------------\n199\n[INFO] Building test-prj 1.0\n200\n[INFO] --------------------------------[ jar ]---------------------------------\n201\n[INFO] Downloading from thirdparty-rep: https://thirdparty-rep.com/public/repositories/maven/io/appium/java-client/7.4.1/java-client-7.4.1.pom\n202\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/appium/java-client/7.4.1/java-client-7.4.1.pom\n203\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/appium/java-client/7.4.1/java-client-7.4.1.pom (4.7 kB at 55 kB/s)\n204\n[INFO] Downloading from thirdparty-rep: https://thirdparty-rep.com/public/repositories/maven/org/seleniumhq/selenium/selenium-java/3.141.59/selenium-java-3.141.59.pom\n205\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/seleniumhq/selenium/selenium-java/3.141.59/selenium-java-3.141.59.pom\n</code></pre>\n<p>Besides of my dependencies in the pom.xml, I have additionaly placed a repository for some third-party libs:</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;my-third-party-repo&lt;/id&gt;\n        &lt;url&gt;https://thirdparty-rep.com/public/repositories/maven&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>maybe you see my problem with the caching...</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":6589256,"reputation":12808,"user_id":5091073,"display_name":"Nir Levy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647260837,"creation_date":1647260837,"answer_id":71467783,"question_id":71465770,"body_markdown":"This might mean that you have one test that changes something in the state of your spring beans that affects following tests.  \r\nTry using [@DirtiesContext][1] annotation on your tests\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-dirtiescontext","title":"Error creating bean with name &#39;springApplicationAdminRegistrar&#39; when i run many junit tests same time","body":"<p>This might mean that you have one test that changes something in the state of your spring beans that affects following tests.<br />\nTry using <a href=\"https://www.baeldung.com/spring-dirtiescontext\" rel=\"nofollow noreferrer\">@DirtiesContext</a> annotation on your tests</p>\n"}],"owner":{"account_id":24552187,"reputation":41,"user_id":18461232,"display_name":"hanchao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647260837,"creation_date":1647251467,"question_id":71465770,"body_markdown":"when i run all junit tests with vscode i got some errors, but i don&#39;t get the error when i run just one test. i saw the same problem somebody posted within eclipse but i use vscode.\r\n\r\n    javax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication\r\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getMBean(DefaultMBeanServerInterceptor.java:1095) ~[na:1.8.0_161]\r\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getClassLoaderFor(DefaultMBeanServerInterceptor.java:1444) ~[na:1.8.0_161]\r\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.getClassLoaderFor(JmxMBeanServer.java:1324) ~[na:1.8.0_161]\r\n    at javax.management.remote.rmi.RMIConnectionImpl$6.run(RMIConnectionImpl.java:1365) ~[na:1.8.0_161]\r\n    at java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_161]\r\n    at javax.management.remote.rmi.RMIConnectionImpl.getClassLoaderFor(RMIConnectionImpl.java:1362) ~[na:1.8.0_161]\r\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:813) ~[na:1.8.0_161]\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\r\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\r\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:361) ~[na:1.8.0_161]\r\n    at sun.rmi.transport.Transport$1.run(Transport.java:200) [na:1.8.0_161]\r\n    at sun.rmi.transport.Transport$1.run(Transport.java:197) [na:1.8.0_161]\r\n    at java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_161]\r\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196) [na:1.8.0_161]\r\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568) [na:1.8.0_161]\r\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826) [na:1.8.0_161]\r\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683) [na:1.8.0_161]\r\n    at java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_161]\r\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682) [na:1.8.0_161]\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_161]\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_161]\r\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_161]","title":"Error creating bean with name &#39;springApplicationAdminRegistrar&#39; when i run many junit tests same time","body":"<p>when i run all junit tests with vscode i got some errors, but i don't get the error when i run just one test. i saw the same problem somebody posted within eclipse but i use vscode.</p>\n<pre><code>javax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication\nat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getMBean(DefaultMBeanServerInterceptor.java:1095) ~[na:1.8.0_161]\nat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getClassLoaderFor(DefaultMBeanServerInterceptor.java:1444) ~[na:1.8.0_161]\nat com.sun.jmx.mbeanserver.JmxMBeanServer.getClassLoaderFor(JmxMBeanServer.java:1324) ~[na:1.8.0_161]\nat javax.management.remote.rmi.RMIConnectionImpl$6.run(RMIConnectionImpl.java:1365) ~[na:1.8.0_161]\nat java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_161]\nat javax.management.remote.rmi.RMIConnectionImpl.getClassLoaderFor(RMIConnectionImpl.java:1362) ~[na:1.8.0_161]\nat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:813) ~[na:1.8.0_161]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\nat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:361) ~[na:1.8.0_161]\nat sun.rmi.transport.Transport$1.run(Transport.java:200) [na:1.8.0_161]\nat sun.rmi.transport.Transport$1.run(Transport.java:197) [na:1.8.0_161]\nat java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_161]\nat sun.rmi.transport.Transport.serviceCall(Transport.java:196) [na:1.8.0_161]\nat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568) [na:1.8.0_161]\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826) [na:1.8.0_161]\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683) [na:1.8.0_161]\nat java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_161]\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682) [na:1.8.0_161]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_161]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_161]\nat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_161]\n</code></pre>\n"},{"tags":["java","jenkins","teamcity","cicd","migrating"],"comments":[{"owner":{"account_id":22209635,"reputation":1,"user_id":16449060,"display_name":"ravid"},"score":0,"creation_date":1647260478,"post_id":71467631,"comment_id":126318751,"body_markdown":"We are building project through aws codepipeline and need to migrate into TeamCity CI tool","body":"We are building project through aws codepipeline and need to migrate into TeamCity CI tool"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647283927,"post_id":71467631,"comment_id":126328072,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":22209635,"reputation":1,"user_id":16449060,"display_name":"ravid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647260669,"creation_date":1647260153,"question_id":71467631,"body_markdown":"CICD is happening in AWS code pipeline (via jenkins) and there are many project and i want to move all those project into TeamCity CI. How can i do? Kindly suggest me. \r\n\r\nCode is building through AWS code pipeline which is also include code commit, and code deploy. I need to migrate everything like code commit to github, project from aws code pipeline to TeamCity/Octopus deploy server.\r\n\r\nHow can go through it. Kindly suggest. Thakns","title":"Move build project from AWS code pipeline to TeamCity","body":"<p>CICD is happening in AWS code pipeline (via jenkins) and there are many project and i want to move all those project into TeamCity CI. How can i do? Kindly suggest me.</p>\n<p>Code is building through AWS code pipeline which is also include code commit, and code deploy. I need to migrate everything like code commit to github, project from aws code pipeline to TeamCity/Octopus deploy server.</p>\n<p>How can go through it. Kindly suggest. Thakns</p>\n"},{"tags":["java","xml","maven","selenium","testng"],"answers":[{"tags":[],"owner":{"account_id":12935237,"reputation":289,"user_id":9352815,"display_name":"InvisibleExo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1540628810,"creation_date":1540628810,"answer_id":53020062,"question_id":52751939,"body_markdown":"Figured out the Issue. First, the name for the Suite File path needed to be &quot;drivers.xml&quot; instead &quot;./drivers.xml&quot;. \r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n      &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n\r\n    &lt;suite name=&quot;All-Tests&quot;&gt;\r\n\r\n    &lt;suite-files&gt;\r\n\r\n        &lt;suite-file path=&quot;drivers.xml&quot;&gt;&lt;/suite-file&gt;\r\n\r\n    &lt;/suite-files&gt;\r\n\r\n    &lt;/suite&gt;\r\n\r\n\r\nSecond, my XmlMaker Class wasn&#39;t setting up the Xml file creation, such as a name is required with the Suite tags, declaring doctype, plus how I had to do some tweaks with how to do Element objects when constructing my custom xml file.\r\n\r\n    public class XMLMaker {\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic DocumentBuilderFactory docDriverSetup;\r\n    \t\r\n    \tpublic DocumentBuilder driverSetup;\r\n    \t\r\n    \tpublic int connectedDevices = 0;\r\n    \t\r\n    \tDocument doc;\r\n    \t\r\n    \tTransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n    \t\r\n    \tTransformer transformer;\r\n    \t\r\n    \tpublic void setupDriverXMLFile(List &lt;AppiumDriver&lt;MobileElement&gt;&gt; driverList) {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;List size: &quot;+ driverList.size());\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tdocDriverSetup = DocumentBuilderFactory.newInstance();\r\n    \t\t\r\n    \t\t\tdriverSetup = docDriverSetup.newDocumentBuilder();\r\n    \t\t\t\r\n    \t\t\tdoc = driverSetup.newDocument();\r\n    \t\t\t\r\n    \t\t\ttransformer = transformerFactory.newTransformer();\r\n    \t\t\t\r\n    \t\t\ttransformer.setOutputProperty(OutputKeys.DOCTYPE_SYSTEM, &quot;http://testng.org/testng-1.0.dtd&quot;);\r\n    \t\t\t\r\n    \t\t\tElement suiteElement = doc.createElement(&quot;suite&quot;);\r\n    \t\t\tsuiteElement.setAttribute(&quot;name&quot;, &quot;All-tests&quot;);\r\n    \t\t\t\r\n    \t\t\tfor(AppiumDriver&lt;MobileElement&gt; driver: driverList) {\r\n    \t\t\t\r\n    \t\t\t\tElement rootElement = doc.createElement(&quot;test&quot;);\r\n    \t\t\t\tsuiteElement.appendChild(rootElement);\r\n    \t\t\t\trootElement.setAttribute(&quot;name&quot;, (String) driver.getCapabilities().getCapability(&quot;deviceName&quot;));\r\n    \t\t\t\t\r\n    \t\t\t\tElement deviceNameEle = doc.createElement(&quot;parameter&quot;);\r\n    \t\t\t\tdeviceNameEle.setAttribute(&quot;name&quot;, &quot;deviceName&quot;);\r\n    \t\t\t\tdeviceNameEle.setAttribute(&quot;value&quot;, (String) driver.getCapabilities().getCapability(&quot;deviceName&quot;));\r\n    \t\t\t\trootElement.appendChild(deviceNameEle);\r\n    \t\t\t\t\r\n    \t\t\t\tElement platformEle = doc.createElement(&quot;parameter&quot;);\r\n    \t\t\t\tplatformEle.setAttribute(&quot;name&quot;, &quot;platform&quot;);\r\n    \t\t\t\tplatformEle.setAttribute(&quot;value&quot;, driver.getPlatformName()+&quot;&quot;);\r\n    \t\t\t\trootElement.appendChild(platformEle);\r\n    \t\t\t\t\r\n    \t\t\t\tElement udidEle = doc.createElement(&quot;parameter&quot;);\r\n    \t\t\t\tudidEle.setAttribute(&quot;name&quot;, &quot;udid&quot;);\r\n    \t\t\t\tudidEle.setAttribute(&quot;value&quot;, (String)driver.getCapabilities().getCapability(&quot;udid&quot;));\r\n    \t\t\t\trootElement.appendChild(udidEle);\r\n    \t\t\t\t\r\n    \t\t\t\tElement urlPort = doc.createElement(&quot;parameter&quot;);\r\n    \t\t\t\turlPort.setAttribute(&quot;name&quot;, &quot;URL&quot;);\r\n    \t\t\t\turlPort.setAttribute(&quot;value&quot;, (String)driver.getCapabilities().getCapability(&quot;appiumURL&quot;));\r\n    \t\t\t\trootElement.appendChild(urlPort);\r\n    \t\t\t\t\r\n    \t\t\t\tElement devicePort = doc.createElement(&quot;parameter&quot;);\r\n    \t\t\t\t\r\n    \t\t\t\tif((driver.getPlatformName()+&quot;&quot;).\r\n    \t\t\t\t\t\ttoLowerCase().contains(&quot;android&quot;)) {\r\n    \t\t\t\t\t\tdevicePort.setAttribute(&quot;name&quot;, &quot;port&quot;);\r\n    \t\t\t\t\t\tdevicePort.setAttribute(&quot;value&quot;, driver.getCapabilities().getCapability(&quot;systemPort&quot;)+&quot;&quot;);\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\tif ((driver.getPlatformName()+&quot;&quot;).\r\n    \t\t\t\t\t\ttoLowerCase().contains(&quot;ios&quot;)) {\r\n    \t\t\t\t\t\tdevicePort.setAttribute(&quot;name&quot;, &quot;port&quot;);\r\n    \t\t\t\t\t\tdevicePort.setAttribute(&quot;value&quot;, (String)driver.getCapabilities().getCapability(&quot;wdaLocalPort&quot;));\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\trootElement.appendChild(devicePort);\r\n    \t\t\t\t\r\n    \t\t\t\tElement packages = doc.createElement(&quot;packages&quot;);\r\n    \t\t\t\trootElement.appendChild(packages);\r\n    \t\t\t\tElement packageName = doc.createElement(&quot;package&quot;);\r\n    \t\t\t\tpackageName.setAttribute(&quot;name&quot;, &quot;BaseTest&quot;);\r\n    \t\t\t\tpackages.appendChild(packageName);\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\tconnectedDevices++;\r\n    \t\t\t}\t\r\n    \t\t\tsuiteElement.setAttribute(&quot;parallel&quot;, &quot;tests&quot;);\r\n    \t\t\tsuiteElement.setAttribute(&quot;thread-count&quot;, connectedDevices+&quot;&quot;);\r\n    \t\t\tdoc.appendChild(suiteElement);\r\n    \t\t\t\r\n    \t\t} catch(ParserConfigurationException pce) {\r\n    \t\t\tpce.printStackTrace();\r\n    \t\t} catch (TransformerConfigurationException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} \r\n    \t\t\r\n    \t}","title":"Run Tests through a Dynamic Custom TestNG File through Maven/Testng","body":"<p>Figured out the Issue. First, the name for the Suite File path needed to be \"drivers.xml\" instead \"./drivers.xml\". </p>\n\n<pre><code>  &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n  &lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n\n&lt;suite name=\"All-Tests\"&gt;\n\n&lt;suite-files&gt;\n\n    &lt;suite-file path=\"drivers.xml\"&gt;&lt;/suite-file&gt;\n\n&lt;/suite-files&gt;\n\n&lt;/suite&gt;\n</code></pre>\n\n<p>Second, my XmlMaker Class wasn't setting up the Xml file creation, such as a name is required with the Suite tags, declaring doctype, plus how I had to do some tweaks with how to do Element objects when constructing my custom xml file.</p>\n\n<pre><code>public class XMLMaker {\n\n\n\n    public DocumentBuilderFactory docDriverSetup;\n\n    public DocumentBuilder driverSetup;\n\n    public int connectedDevices = 0;\n\n    Document doc;\n\n    TransformerFactory transformerFactory = TransformerFactory.newInstance();\n\n    Transformer transformer;\n\n    public void setupDriverXMLFile(List &lt;AppiumDriver&lt;MobileElement&gt;&gt; driverList) {\n\n        System.out.println(\"List size: \"+ driverList.size());\n        try {\n\n            docDriverSetup = DocumentBuilderFactory.newInstance();\n\n            driverSetup = docDriverSetup.newDocumentBuilder();\n\n            doc = driverSetup.newDocument();\n\n            transformer = transformerFactory.newTransformer();\n\n            transformer.setOutputProperty(OutputKeys.DOCTYPE_SYSTEM, \"http://testng.org/testng-1.0.dtd\");\n\n            Element suiteElement = doc.createElement(\"suite\");\n            suiteElement.setAttribute(\"name\", \"All-tests\");\n\n            for(AppiumDriver&lt;MobileElement&gt; driver: driverList) {\n\n                Element rootElement = doc.createElement(\"test\");\n                suiteElement.appendChild(rootElement);\n                rootElement.setAttribute(\"name\", (String) driver.getCapabilities().getCapability(\"deviceName\"));\n\n                Element deviceNameEle = doc.createElement(\"parameter\");\n                deviceNameEle.setAttribute(\"name\", \"deviceName\");\n                deviceNameEle.setAttribute(\"value\", (String) driver.getCapabilities().getCapability(\"deviceName\"));\n                rootElement.appendChild(deviceNameEle);\n\n                Element platformEle = doc.createElement(\"parameter\");\n                platformEle.setAttribute(\"name\", \"platform\");\n                platformEle.setAttribute(\"value\", driver.getPlatformName()+\"\");\n                rootElement.appendChild(platformEle);\n\n                Element udidEle = doc.createElement(\"parameter\");\n                udidEle.setAttribute(\"name\", \"udid\");\n                udidEle.setAttribute(\"value\", (String)driver.getCapabilities().getCapability(\"udid\"));\n                rootElement.appendChild(udidEle);\n\n                Element urlPort = doc.createElement(\"parameter\");\n                urlPort.setAttribute(\"name\", \"URL\");\n                urlPort.setAttribute(\"value\", (String)driver.getCapabilities().getCapability(\"appiumURL\"));\n                rootElement.appendChild(urlPort);\n\n                Element devicePort = doc.createElement(\"parameter\");\n\n                if((driver.getPlatformName()+\"\").\n                        toLowerCase().contains(\"android\")) {\n                        devicePort.setAttribute(\"name\", \"port\");\n                        devicePort.setAttribute(\"value\", driver.getCapabilities().getCapability(\"systemPort\")+\"\");\n\n                }\n                if ((driver.getPlatformName()+\"\").\n                        toLowerCase().contains(\"ios\")) {\n                        devicePort.setAttribute(\"name\", \"port\");\n                        devicePort.setAttribute(\"value\", (String)driver.getCapabilities().getCapability(\"wdaLocalPort\"));\n                }\n\n                rootElement.appendChild(devicePort);\n\n                Element packages = doc.createElement(\"packages\");\n                rootElement.appendChild(packages);\n                Element packageName = doc.createElement(\"package\");\n                packageName.setAttribute(\"name\", \"BaseTest\");\n                packages.appendChild(packageName);\n\n\n                connectedDevices++;\n            }   \n            suiteElement.setAttribute(\"parallel\", \"tests\");\n            suiteElement.setAttribute(\"thread-count\", connectedDevices+\"\");\n            doc.appendChild(suiteElement);\n\n        } catch(ParserConfigurationException pce) {\n            pce.printStackTrace();\n        } catch (TransformerConfigurationException e) {\n            e.printStackTrace();\n        } \n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17375833,"reputation":496,"user_id":12588979,"display_name":"GHULAM NABI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647260572,"creation_date":1647260572,"answer_id":71467730,"question_id":52751939,"body_markdown":"**Concepts Used In TestNG.xml**\r\n\r\n**#1)** A Suite is represented by one XML file. It can contain one or more tests and is defined by the &lt;suite&gt; tag.\r\n\r\nExample: &lt;suite name=”Testing Google Apps”&gt;\r\n\r\n**#2)** A Test is represented by &lt;test&gt; and can contain one or more TestNG classes.\r\n\r\nExample: &lt;test name=”Regression”&gt;\r\n\r\n**#3)** A Class is a Java class that contains TestNG annotations. Here it is represented by the &lt;class&gt; tag and can contain one or more test methods.\r\n\r\nExample\r\n\r\n    &lt;classes&gt;\r\n    &lt;class name=&quot;Googletest.GmailTest&quot;/&gt;\r\n    &lt;class name=&quot;Googletest.MapsTest&quot;/&gt;\r\n    &lt;class name=&quot;Googletest.ImagesTest&quot;/&gt;\r\n    &lt;/classes&gt;\r\n\r\n**#4)** A Test method is a Java method annotated by @Test methods in the source file.\r\n\r\nExample:\r\n\r\n    public class GmailTest {\r\n    @Test\r\n    public void LoginTest()\r\n    {\r\n    System.out.println(&quot;Successfully Logged In&quot;);\r\n    }\r\n    @Test\r\n    public void LogoutTest()\r\n    {\r\n    System.out.println(&quot;Successfully Logged Out&quot;);\r\n    }\r\n    }\r\n\r\n**`TestNG.xml` Example**\r\nBasic Testng.xml file looks as shown below.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Practice Suite&quot;&gt;\r\n      &lt;test name=&quot;Test Basics 1&quot;&gt;\r\n          &lt;parameter name=&quot;emailid&quot; value=&quot;tester456@gmail.com&quot;/&gt;\r\n          &lt;parameter name=&quot;password&quot; value=&quot;test@123&quot;/&gt;\r\n          &lt;classes&gt;\r\n          &lt;class name=&quot;practiceTests.testParameters&quot;/&gt;\r\n          &lt;/classes&gt;\r\n      &lt;/test&gt; &lt;!-- Test --&gt; \r\n       \r\n      &lt;test name=&quot;Test Basics 2&quot;&gt;    \r\n        &lt;parameter name=&quot;emailid&quot; value=&quot;tester789@gmail.com&quot;/&gt;\r\n        &lt;classes&gt;\r\n           &lt;class name=&quot;practiceTests.testOptional&quot;/&gt;\r\n        &lt;/classes&gt;\r\n         \r\n      &lt;/test&gt; &lt;!-- Test --&gt;\r\n    &lt;/suite&gt; &lt;!-- Suite --&gt;\r\n\r\n**Courtesy:** https://softans.com/create-and-use-testng-xml-file/","title":"Run Tests through a Dynamic Custom TestNG File through Maven/Testng","body":"<p><strong>Concepts Used In TestNG.xml</strong></p>\n<p><strong>#1)</strong> A Suite is represented by one XML file. It can contain one or more tests and is defined by the  tag.</p>\n<p>Example: &lt;suite name=”Testing Google Apps”&gt;</p>\n<p><strong>#2)</strong> A Test is represented by  and can contain one or more TestNG classes.</p>\n<p>Example: </p>\n<p><strong>#3)</strong> A Class is a Java class that contains TestNG annotations. Here it is represented by the  tag and can contain one or more test methods.</p>\n<p>Example</p>\n<pre><code>&lt;classes&gt;\n&lt;class name=&quot;Googletest.GmailTest&quot;/&gt;\n&lt;class name=&quot;Googletest.MapsTest&quot;/&gt;\n&lt;class name=&quot;Googletest.ImagesTest&quot;/&gt;\n&lt;/classes&gt;\n</code></pre>\n<p><strong>#4)</strong> A Test method is a Java method annotated by @Test methods in the source file.</p>\n<p>Example:</p>\n<pre><code>public class GmailTest {\n@Test\npublic void LoginTest()\n{\nSystem.out.println(&quot;Successfully Logged In&quot;);\n}\n@Test\npublic void LogoutTest()\n{\nSystem.out.println(&quot;Successfully Logged Out&quot;);\n}\n}\n</code></pre>\n<p><strong><code>TestNG.xml</code> Example</strong>\nBasic Testng.xml file looks as shown below.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Practice Suite&quot;&gt;\n  &lt;test name=&quot;Test Basics 1&quot;&gt;\n      &lt;parameter name=&quot;emailid&quot; value=&quot;tester456@gmail.com&quot;/&gt;\n      &lt;parameter name=&quot;password&quot; value=&quot;test@123&quot;/&gt;\n      &lt;classes&gt;\n      &lt;class name=&quot;practiceTests.testParameters&quot;/&gt;\n      &lt;/classes&gt;\n  &lt;/test&gt; &lt;!-- Test --&gt; \n   \n  &lt;test name=&quot;Test Basics 2&quot;&gt;    \n    &lt;parameter name=&quot;emailid&quot; value=&quot;tester789@gmail.com&quot;/&gt;\n    &lt;classes&gt;\n       &lt;class name=&quot;practiceTests.testOptional&quot;/&gt;\n    &lt;/classes&gt;\n     \n  &lt;/test&gt; &lt;!-- Test --&gt;\n&lt;/suite&gt; &lt;!-- Suite --&gt;\n</code></pre>\n<p><strong>Courtesy:</strong> <a href=\"https://softans.com/create-and-use-testng-xml-file/\" rel=\"nofollow noreferrer\">https://softans.com/create-and-use-testng-xml-file/</a></p>\n"}],"owner":{"account_id":12935237,"reputation":289,"user_id":9352815,"display_name":"InvisibleExo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53020062,"answer_count":2,"score":1,"last_activity_date":1647260572,"creation_date":1539230079,"question_id":52751939,"body_markdown":"I&#39;m trying to setup my testng.xml in way where it points to a dynamically customized testng xml file to determine what needs to be tested based on how many mobile devices are connected, (drivers.xml). I have a Java Class the creates and contains Appium Drivers, then pass those values for each driver into another Java class  to setup parameters and values for each driver, so that I can use @Parameters annotation to pass the required driver info for parallel testing.\r\n\r\nCurrently the way I have testng.xml file setup doesn&#39;t seem to run any tests at all. I&#39;ve tried looking for answers online, but for TestNG, there doesn&#39;t seem to be much of getting values from other custom xml files. (I&#39;m not sure if I&#39;m phrasing my question correctly or not.) Has anyone encountered problems for this setup?\r\n\r\nHere are the Xml files and the Java class that creates the custom xml file:\r\n\r\ntestNG.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    \r\n    &lt;suite name=&quot;All-Tests&quot;&gt;\r\n    \t\r\n    \t&lt;suite-files&gt;\r\n    \t\t\r\n    \t\t&lt;suite-file path=&quot;./drivers.xml&quot;&gt;&lt;/suite-file&gt;\r\n    \t\t\r\n    \t&lt;/suite-files&gt;\r\n    \t\r\n    &lt;/suite&gt;\r\n\r\ndrivers.xml (custom xml file):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    \r\n    -&lt;suite name=&quot;suite&quot;&gt;\r\n    \r\n    \r\n    -&lt;test name=&quot;driver1&quot;&gt;\r\n    \r\n    &lt;parameter name=&quot;platform&quot; value=&quot;Android&quot;/&gt;\r\n    &lt;parameter name=&quot;udid&quot; value=&quot;192.168.174.102:5555&quot;/&gt;\r\n    \r\n    &lt;parameter name=&quot;URL&quot; value=&quot;http://127.0.0.1:5000/wd/hub&quot;/&gt;\r\n    \r\n    \r\n    -&lt;parameter name=&quot;port&quot; value=&quot;8200&quot;&gt;\r\n    \r\n    &lt;package name=&quot;BaseTest&quot;/&gt;\r\n    \r\n    &lt;/parameter&gt;\r\n    \r\n    &lt;/test&gt;\r\n    \r\n    \r\n    -&lt;test name=&quot;driver2&quot;&gt;\r\n    \r\n    &lt;parameter name=&quot;platform&quot; value=&quot;Android&quot;/&gt;\r\n    \r\n    &lt;parameter name=&quot;udid&quot; value=&quot;192.168.174.101:5555&quot;/&gt;\r\n    \r\n    &lt;parameter name=&quot;URL&quot; value=&quot;http://127.0.0.1:5000/wd/hub&quot;/&gt;\r\n    \r\n    \r\n    -&lt;parameter name=&quot;port&quot; value=&quot;2801&quot;&gt;\r\n    \r\n    &lt;package name=&quot;BaseTest&quot;/&gt;\r\n    \r\n    &lt;/parameter&gt;\r\n    \r\n    &lt;/test&gt;\r\n    \r\n    &lt;/suite&gt;\r\n\r\nXml Maker Java Class:\r\n\r\n    public class XMLMaker {\r\n    \t\r\n    \tprivate boolean docTypeDeclared = false;\r\n    \t\r\n    \tpublic DocumentBuilderFactory docDriverSetup;\r\n    \t\r\n    \tpublic DocumentBuilder driverSetup;\r\n    \t\r\n    \tpublic int connectedDevices = 0;\r\n    \t\r\n    \tDocument doc;\r\n    \t\r\n    \tTransformerFactory transformerFactory;\r\n    \t\r\n    \tTransformer transformer;\r\n    \t\r\n    \tpublic void setupDriverXMLFile(List &lt;AppiumDriver&lt;MobileElement&gt;&gt; driverList) {\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tdocDriverSetup = DocumentBuilderFactory.newInstance();\r\n    \t\t\r\n    \t\t\tdriverSetup = docDriverSetup.newDocumentBuilder();\r\n    \t\t\t\r\n    \t\t\tdoc = driverSetup.newDocument();\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\ttransformerFactory = TransformerFactory.newInstance();\r\n    \t\t\ttransformer = transformerFactory.newTransformer();\r\n    \t\t\t\r\n    \t\t\tif(docTypeDeclared == false) {\r\n    \t\t\t\tDOMImplementation domImpl = doc.getImplementation();\r\n    \t\t\t\tDocumentType docType = domImpl.createDocumentType(&quot;suite&quot;, &quot;&quot;,&quot;http://testng.org/testng-1.0.dtd&quot;);\r\n    \t\t\t\tdoc.appendChild(docType);\r\n    \t\t\t\tdocTypeDeclared = true;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tElement suiteElement = doc.createElement(&quot;suite&quot;);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tfor(AppiumDriver&lt;MobileElement&gt; driver: driverList) {\r\n    \t\t\t\r\n    \t\t\t\tElement rootElement = doc.createElement(&quot;test&quot;);\r\n    \t\t\t\tsuiteElement.appendChild(rootElement);\r\n    \t\t\t\trootElement.setAttribute(&quot;name&quot;, (String) driver.getCapabilities().getCapability(&quot;deviceName&quot;));\r\n    \t\t\t\t\r\n    \t\t\t\tElement deviceNameEle = doc.createElement(&quot;parameter&quot;);\r\n    \t\t\t\tdeviceNameEle.setAttribute(&quot;name&quot;, &quot;deviceName&quot;);\r\n    \t\t\t\tdeviceNameEle.setAttribute(&quot;value&quot;, (String) driver.getCapabilities().getCapability(&quot;deviceName&quot;));\r\n    \t\t\t\trootElement.appendChild(deviceNameEle);\r\n    \t\t\t\t\r\n    \t\t\t\tElement platformEle = doc.createElement(&quot;parameter&quot;);\r\n    \t\t\t\tplatformEle.setAttribute(&quot;name&quot;, &quot;platform&quot;);\r\n    \t\t\t\tplatformEle.setAttribute(&quot;value&quot;, driver.getPlatformName()+&quot;&quot;);\r\n    \t\t\t\trootElement.appendChild(platformEle);\r\n    \t\t\t\t\r\n    \t\t\t\tElement udidEle = doc.createElement(&quot;parameter&quot;);\r\n    \t\t\t\tudidEle.setAttribute(&quot;name&quot;, &quot;udid&quot;);\r\n    \t\t\t\tudidEle.setAttribute(&quot;value&quot;, (String)driver.getCapabilities().getCapability(&quot;udid&quot;));\r\n    \t\t\t\trootElement.appendChild(udidEle);\r\n    \t\t\t\t\r\n    \t\t\t\tElement urlPort = doc.createElement(&quot;parameter&quot;);\r\n    \t\t\t\turlPort.setAttribute(&quot;name&quot;, &quot;URL&quot;);\r\n    \t\t\t\turlPort.setAttribute(&quot;value&quot;, (String)driver.getCapabilities().getCapability(&quot;appiumURL&quot;));\r\n    \t\t\t\trootElement.appendChild(urlPort);\r\n    \t\t\t\t\r\n    \t\t\t\tElement devicePort = doc.createElement(&quot;parameter&quot;);\r\n    \t\t\t\t\r\n    \t\t\t\tif((driver.getPlatformName()+&quot;&quot;).\r\n    \t\t\t\t\t\ttoLowerCase().contains(&quot;android&quot;)) {\r\n    \t\t\t\t\t\tdevicePort.setAttribute(&quot;name&quot;, &quot;port&quot;);\r\n    \t\t\t\t\t\tdevicePort.setAttribute(&quot;value&quot;, (String)driver.getCapabilities().getCapability(&quot;systemPort&quot;));\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\tif ((driver.getPlatformName()+&quot;&quot;).\r\n    \t\t\t\t\t\ttoLowerCase().contains(&quot;ios&quot;)) {\r\n    \t\t\t\t\t\tdevicePort.setAttribute(&quot;name&quot;, &quot;port&quot;);\r\n    \t\t\t\t\t\tdevicePort.setAttribute(&quot;value&quot;, (String)driver.getCapabilities().getCapability(&quot;wdaLocalPort&quot;));\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\trootElement.appendChild(devicePort);\r\n    \t\t\t\t\r\n    \t\t\t\tElement packageName = doc.createElement(&quot;package&quot;);\r\n    \t\t\t\tpackageName.setAttribute(&quot;name&quot;, &quot;BaseTest&quot;);\r\n    \t\t\t\tdevicePort.appendChild(packageName);\r\n    \t\t\t\t\r\n    \t\t\t\tconnectedDevices++;\r\n    \t\t\t}\t\r\n    \t\t\tsuiteElement.setAttribute(&quot;parallel&quot;, &quot;tests&quot;);\r\n    \t\t\tsuiteElement.setAttribute(&quot;thread-count&quot;, connectedDevices+&quot;&quot;);\r\n    \t\t\tdoc.appendChild(suiteElement);\r\n    \t\t\t\r\n    \t\t} catch(ParserConfigurationException pce) {\r\n    \t\t\tpce.printStackTrace();\r\n    \t\t} catch (TransformerConfigurationException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} \r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic void createDriverFile() throws TransformerConfigurationException {\r\n    \t\ttransformerFactory = TransformerFactory.newInstance();\r\n    \t\ttransformer = transformerFactory.newTransformer();\r\n    \t\tDOMSource source = new DOMSource(doc);\r\n    \t\tStreamResult result = new StreamResult(new File(&quot;./drivers.xml&quot;));\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\ttransformer.transform(source, result);\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;File Updated&quot;);\r\n    \t\t} catch (TransformerException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Run Tests through a Dynamic Custom TestNG File through Maven/Testng","body":"<p>I'm trying to setup my testng.xml in way where it points to a dynamically customized testng xml file to determine what needs to be tested based on how many mobile devices are connected, (drivers.xml). I have a Java Class the creates and contains Appium Drivers, then pass those values for each driver into another Java class  to setup parameters and values for each driver, so that I can use @Parameters annotation to pass the required driver info for parallel testing.</p>\n\n<p>Currently the way I have testng.xml file setup doesn't seem to run any tests at all. I've tried looking for answers online, but for TestNG, there doesn't seem to be much of getting values from other custom xml files. (I'm not sure if I'm phrasing my question correctly or not.) Has anyone encountered problems for this setup?</p>\n\n<p>Here are the Xml files and the Java class that creates the custom xml file:</p>\n\n<p>testNG.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n\n&lt;suite name=\"All-Tests\"&gt;\n\n    &lt;suite-files&gt;\n\n        &lt;suite-file path=\"./drivers.xml\"&gt;&lt;/suite-file&gt;\n\n    &lt;/suite-files&gt;\n\n&lt;/suite&gt;\n</code></pre>\n\n<p>drivers.xml (custom xml file):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n\n-&lt;suite name=\"suite\"&gt;\n\n\n-&lt;test name=\"driver1\"&gt;\n\n&lt;parameter name=\"platform\" value=\"Android\"/&gt;\n&lt;parameter name=\"udid\" value=\"192.168.174.102:5555\"/&gt;\n\n&lt;parameter name=\"URL\" value=\"http://127.0.0.1:5000/wd/hub\"/&gt;\n\n\n-&lt;parameter name=\"port\" value=\"8200\"&gt;\n\n&lt;package name=\"BaseTest\"/&gt;\n\n&lt;/parameter&gt;\n\n&lt;/test&gt;\n\n\n-&lt;test name=\"driver2\"&gt;\n\n&lt;parameter name=\"platform\" value=\"Android\"/&gt;\n\n&lt;parameter name=\"udid\" value=\"192.168.174.101:5555\"/&gt;\n\n&lt;parameter name=\"URL\" value=\"http://127.0.0.1:5000/wd/hub\"/&gt;\n\n\n-&lt;parameter name=\"port\" value=\"2801\"&gt;\n\n&lt;package name=\"BaseTest\"/&gt;\n\n&lt;/parameter&gt;\n\n&lt;/test&gt;\n\n&lt;/suite&gt;\n</code></pre>\n\n<p>Xml Maker Java Class:</p>\n\n<pre><code>public class XMLMaker {\n\n    private boolean docTypeDeclared = false;\n\n    public DocumentBuilderFactory docDriverSetup;\n\n    public DocumentBuilder driverSetup;\n\n    public int connectedDevices = 0;\n\n    Document doc;\n\n    TransformerFactory transformerFactory;\n\n    Transformer transformer;\n\n    public void setupDriverXMLFile(List &lt;AppiumDriver&lt;MobileElement&gt;&gt; driverList) {\n\n        try {\n\n            docDriverSetup = DocumentBuilderFactory.newInstance();\n\n            driverSetup = docDriverSetup.newDocumentBuilder();\n\n            doc = driverSetup.newDocument();\n\n\n            transformerFactory = TransformerFactory.newInstance();\n            transformer = transformerFactory.newTransformer();\n\n            if(docTypeDeclared == false) {\n                DOMImplementation domImpl = doc.getImplementation();\n                DocumentType docType = domImpl.createDocumentType(\"suite\", \"\",\"http://testng.org/testng-1.0.dtd\");\n                doc.appendChild(docType);\n                docTypeDeclared = true;\n            }\n\n            Element suiteElement = doc.createElement(\"suite\");\n\n\n            for(AppiumDriver&lt;MobileElement&gt; driver: driverList) {\n\n                Element rootElement = doc.createElement(\"test\");\n                suiteElement.appendChild(rootElement);\n                rootElement.setAttribute(\"name\", (String) driver.getCapabilities().getCapability(\"deviceName\"));\n\n                Element deviceNameEle = doc.createElement(\"parameter\");\n                deviceNameEle.setAttribute(\"name\", \"deviceName\");\n                deviceNameEle.setAttribute(\"value\", (String) driver.getCapabilities().getCapability(\"deviceName\"));\n                rootElement.appendChild(deviceNameEle);\n\n                Element platformEle = doc.createElement(\"parameter\");\n                platformEle.setAttribute(\"name\", \"platform\");\n                platformEle.setAttribute(\"value\", driver.getPlatformName()+\"\");\n                rootElement.appendChild(platformEle);\n\n                Element udidEle = doc.createElement(\"parameter\");\n                udidEle.setAttribute(\"name\", \"udid\");\n                udidEle.setAttribute(\"value\", (String)driver.getCapabilities().getCapability(\"udid\"));\n                rootElement.appendChild(udidEle);\n\n                Element urlPort = doc.createElement(\"parameter\");\n                urlPort.setAttribute(\"name\", \"URL\");\n                urlPort.setAttribute(\"value\", (String)driver.getCapabilities().getCapability(\"appiumURL\"));\n                rootElement.appendChild(urlPort);\n\n                Element devicePort = doc.createElement(\"parameter\");\n\n                if((driver.getPlatformName()+\"\").\n                        toLowerCase().contains(\"android\")) {\n                        devicePort.setAttribute(\"name\", \"port\");\n                        devicePort.setAttribute(\"value\", (String)driver.getCapabilities().getCapability(\"systemPort\"));\n\n                }\n                if ((driver.getPlatformName()+\"\").\n                        toLowerCase().contains(\"ios\")) {\n                        devicePort.setAttribute(\"name\", \"port\");\n                        devicePort.setAttribute(\"value\", (String)driver.getCapabilities().getCapability(\"wdaLocalPort\"));\n                }\n\n                rootElement.appendChild(devicePort);\n\n                Element packageName = doc.createElement(\"package\");\n                packageName.setAttribute(\"name\", \"BaseTest\");\n                devicePort.appendChild(packageName);\n\n                connectedDevices++;\n            }   \n            suiteElement.setAttribute(\"parallel\", \"tests\");\n            suiteElement.setAttribute(\"thread-count\", connectedDevices+\"\");\n            doc.appendChild(suiteElement);\n\n        } catch(ParserConfigurationException pce) {\n            pce.printStackTrace();\n        } catch (TransformerConfigurationException e) {\n            e.printStackTrace();\n        } \n\n    }\n\n\n    public void createDriverFile() throws TransformerConfigurationException {\n        transformerFactory = TransformerFactory.newInstance();\n        transformer = transformerFactory.newTransformer();\n        DOMSource source = new DOMSource(doc);\n        StreamResult result = new StreamResult(new File(\"./drivers.xml\"));\n\n        try {\n            transformer.transform(source, result);\n\n            System.out.println(\"File Updated\");\n        } catch (TransformerException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","authentication","twitter"],"owner":{"account_id":22324641,"reputation":11,"user_id":16546812,"display_name":"Mauricio Romero Navarro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647260209,"creation_date":1647260209,"question_id":71467643,"body_markdown":"I am developing an app in java in the android studio IDE, the idea is that after logging in with my username and password, I can be redirected to a new view where a user profile is shown with the name, email and profile image. Currently I can log in and after that it redirects to the user profile but I don&#39;t know how to get the name, email and profile image.Then I leave you my code in case you have the time to help me, thank you very much for reading:\r\nloggin.class\r\n```\r\npublic class loggin extends AppCompatActivity {\r\n\r\n    //variable twitter\r\n    Button  twitterButton;\r\n    //TwitterLoginButton login;\r\n    private static final String TAG = &quot;Twitter4j&quot;;\r\n    private static Twitter twitter;\r\n    private static final String APIConsumerKey = &quot;xxxx&quot;;\r\n    private static final String APIConsumerSecretKey = &quot;xxxx&quot;;\r\n    private static final String CALLBACK_URL = &quot;http://myurl&quot;; \r\n    private static RequestToken twitterRequestToken;\r\n    twitterButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                initializeTwitter(loggin.this);\r\n\r\n            }\r\n        });\r\n}\r\nprivate static void initializeTwitter(final Activity activity) {\r\n        ConfigurationBuilder configurationBuilder = new ConfigurationBuilder();\r\n        configurationBuilder.setOAuthConsumerKey(APIConsumerKey);\r\n        configurationBuilder.setOAuthConsumerSecret(APIConsumerSecretKey);\r\n        twitter = new TwitterFactory(configurationBuilder.build()).getInstance();\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                User user;\r\n                try {\r\n                    twitterRequestToken = twitter.getOAuthRequestToken(CALLBACK_URL);\r\n                    Log.i(&quot;LoginActivity&quot;, String.valueOf(twitterRequestToken));\r\n                    activity.runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            //Open Dialog for authentication.\r\n                            Intent intent = new Intent(activity, TwitterAuthActivity.class);\r\n                            if (twitterRequestToken != null) {\r\n                                intent.putExtra(&quot;TwitterReqTokenUrl&quot;, twitterRequestToken.getAuthenticationURL());\r\n                                activity.startActivity(intent);\r\n                            }\r\n                        }\r\n                    });\r\n                } catch (Exception e) {\r\n                    Log.e(TAG, &quot;Exception &quot; + e.getMessage());\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n```\r\ntwitterAuthActivity\r\n```\r\npublic class TwitterAuthActivity extends AppCompatActivity {\r\n\r\n    private static final String TAG = &quot;Twitter4j&quot;;\r\n    private static final String TWITTER_CALLBACK_URL = &quot;http://www.stackoverflow.com&quot;; //&quot;x-oauthflow-twitter://twitterlogin&quot;;\r\n    private ProgressDialog progressDialog;\r\n    private String twitterRequesTokenUrl;\r\n    private WebView twitterWebView;\r\n\r\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.dialog_twitter);\r\n        twitterWebView = findViewById(R.id.TwitterWebView);\r\n        Bundle extras = getIntent().getExtras();\r\n        if (extras != null) {\r\n            twitterRequesTokenUrl = extras.getString(&quot;TwitterReqTokenUrl&quot;);\r\n        }\r\n\r\n        progressDialog = new ProgressDialog(this);\r\n        progressDialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        progressDialog.setMessage(&quot;Loading...&quot;);\r\n\r\n        //Setup WebView\r\n        CookieSyncManager.createInstance(this);\r\n        CookieManager cookieManager = CookieManager.getInstance();\r\n        cookieManager.removeAllCookie();\r\n        twitterWebView.setVerticalScrollBarEnabled(false);\r\n        twitterWebView.setHorizontalScrollBarEnabled(false);\r\n        twitterWebView.setWebViewClient(new TwitterWebViewClient());\r\n        WebSettings webSettings = twitterWebView.getSettings();\r\n        webSettings.setSupportZoom(true);\r\n        webSettings.setSaveFormData(true);\r\n        webSettings.setJavaScriptEnabled(true);\r\n        twitterWebView.loadUrl(twitterRequesTokenUrl);\r\n    }\r\n\r\n    @Override\r\n    public boolean dispatchTouchEvent(MotionEvent ev) {\r\n        if (ev.getAction() == MotionEvent.ACTION_DOWN) {\r\n            int[] l = new int[2];\r\n            twitterWebView.getLocationOnScreen(l);\r\n            Rect rect = new Rect(l[0], l[1], l[0] + twitterWebView.getWidth(), l[1] + twitterWebView.getHeight());\r\n            if (!rect.contains((int) ev.getRawX(), (int) ev.getRawY())) {\r\n                finish();\r\n            }\r\n        }\r\n        return super.dispatchTouchEvent(ev);\r\n    }\r\n\r\n\r\n    private class TwitterWebViewClient extends WebViewClient {\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n\r\n            boolean response = false;\r\n            if (url.contains(TWITTER_CALLBACK_URL)) {\r\n                Uri uri = Uri.parse(url);\r\n                //This uri could be saved as access token.\r\n                Log.i(TAG, &quot;shouldOverrideUrlLoading() uri &quot; + uri.getPath());\r\n                Intent intent=new Intent(TwitterAuthActivity.this,MainActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n                response = true;\r\n            }\r\n            return response;\r\n        }\r\n\r\n        @Override\r\n        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\r\n            super.onReceivedError(view, errorCode, description, failingUrl);\r\n            Toast.makeText(TwitterAuthActivity.this, &quot;Upps! something happened, retry later!.&quot;, Toast.LENGTH_LONG).show();\r\n            finish();\r\n        }\r\n\r\n\r\n\r\n        @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n        @Override\r\n        public void onPageFinished(WebView view, String url) {\r\n            super.onPageFinished(view, url);\r\n            if(progressDialog.isShowing() &amp;&amp; !isFinishing() &amp;&amp; !isDestroyed()) {\r\n                progressDialog.dismiss();\r\n            }\r\n            twitterWebView.setVisibility(View.VISIBLE);\r\n        }\r\n    }\r\n}\r\n```","title":"how to get twitter username with twitter4j","body":"<p>I am developing an app in java in the android studio IDE, the idea is that after logging in with my username and password, I can be redirected to a new view where a user profile is shown with the name, email and profile image. Currently I can log in and after that it redirects to the user profile but I don't know how to get the name, email and profile image.Then I leave you my code in case you have the time to help me, thank you very much for reading:\nloggin.class</p>\n<pre><code>public class loggin extends AppCompatActivity {\n\n    //variable twitter\n    Button  twitterButton;\n    //TwitterLoginButton login;\n    private static final String TAG = &quot;Twitter4j&quot;;\n    private static Twitter twitter;\n    private static final String APIConsumerKey = &quot;xxxx&quot;;\n    private static final String APIConsumerSecretKey = &quot;xxxx&quot;;\n    private static final String CALLBACK_URL = &quot;http://myurl&quot;; \n    private static RequestToken twitterRequestToken;\n    twitterButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                initializeTwitter(loggin.this);\n\n            }\n        });\n}\nprivate static void initializeTwitter(final Activity activity) {\n        ConfigurationBuilder configurationBuilder = new ConfigurationBuilder();\n        configurationBuilder.setOAuthConsumerKey(APIConsumerKey);\n        configurationBuilder.setOAuthConsumerSecret(APIConsumerSecretKey);\n        twitter = new TwitterFactory(configurationBuilder.build()).getInstance();\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                User user;\n                try {\n                    twitterRequestToken = twitter.getOAuthRequestToken(CALLBACK_URL);\n                    Log.i(&quot;LoginActivity&quot;, String.valueOf(twitterRequestToken));\n                    activity.runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            //Open Dialog for authentication.\n                            Intent intent = new Intent(activity, TwitterAuthActivity.class);\n                            if (twitterRequestToken != null) {\n                                intent.putExtra(&quot;TwitterReqTokenUrl&quot;, twitterRequestToken.getAuthenticationURL());\n                                activity.startActivity(intent);\n                            }\n                        }\n                    });\n                } catch (Exception e) {\n                    Log.e(TAG, &quot;Exception &quot; + e.getMessage());\n                }\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>twitterAuthActivity</p>\n<pre><code>public class TwitterAuthActivity extends AppCompatActivity {\n\n    private static final String TAG = &quot;Twitter4j&quot;;\n    private static final String TWITTER_CALLBACK_URL = &quot;http://www.stackoverflow.com&quot;; //&quot;x-oauthflow-twitter://twitterlogin&quot;;\n    private ProgressDialog progressDialog;\n    private String twitterRequesTokenUrl;\n    private WebView twitterWebView;\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.dialog_twitter);\n        twitterWebView = findViewById(R.id.TwitterWebView);\n        Bundle extras = getIntent().getExtras();\n        if (extras != null) {\n            twitterRequesTokenUrl = extras.getString(&quot;TwitterReqTokenUrl&quot;);\n        }\n\n        progressDialog = new ProgressDialog(this);\n        progressDialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n        progressDialog.setMessage(&quot;Loading...&quot;);\n\n        //Setup WebView\n        CookieSyncManager.createInstance(this);\n        CookieManager cookieManager = CookieManager.getInstance();\n        cookieManager.removeAllCookie();\n        twitterWebView.setVerticalScrollBarEnabled(false);\n        twitterWebView.setHorizontalScrollBarEnabled(false);\n        twitterWebView.setWebViewClient(new TwitterWebViewClient());\n        WebSettings webSettings = twitterWebView.getSettings();\n        webSettings.setSupportZoom(true);\n        webSettings.setSaveFormData(true);\n        webSettings.setJavaScriptEnabled(true);\n        twitterWebView.loadUrl(twitterRequesTokenUrl);\n    }\n\n    @Override\n    public boolean dispatchTouchEvent(MotionEvent ev) {\n        if (ev.getAction() == MotionEvent.ACTION_DOWN) {\n            int[] l = new int[2];\n            twitterWebView.getLocationOnScreen(l);\n            Rect rect = new Rect(l[0], l[1], l[0] + twitterWebView.getWidth(), l[1] + twitterWebView.getHeight());\n            if (!rect.contains((int) ev.getRawX(), (int) ev.getRawY())) {\n                finish();\n            }\n        }\n        return super.dispatchTouchEvent(ev);\n    }\n\n\n    private class TwitterWebViewClient extends WebViewClient {\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n\n            boolean response = false;\n            if (url.contains(TWITTER_CALLBACK_URL)) {\n                Uri uri = Uri.parse(url);\n                //This uri could be saved as access token.\n                Log.i(TAG, &quot;shouldOverrideUrlLoading() uri &quot; + uri.getPath());\n                Intent intent=new Intent(TwitterAuthActivity.this,MainActivity.class);\n                startActivity(intent);\n                finish();\n                response = true;\n            }\n            return response;\n        }\n\n        @Override\n        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n            super.onReceivedError(view, errorCode, description, failingUrl);\n            Toast.makeText(TwitterAuthActivity.this, &quot;Upps! something happened, retry later!.&quot;, Toast.LENGTH_LONG).show();\n            finish();\n        }\n\n\n\n        @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR1)\n        @Override\n        public void onPageFinished(WebView view, String url) {\n            super.onPageFinished(view, url);\n            if(progressDialog.isShowing() &amp;&amp; !isFinishing() &amp;&amp; !isDestroyed()) {\n                progressDialog.dismiss();\n            }\n            twitterWebView.setVisibility(View.VISIBLE);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","design-patterns","text-editor","undo-redo","memento"],"answers":[{"tags":[],"owner":{"account_id":1825157,"reputation":1996,"user_id":1658168,"display_name":"Peter Dongan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647259936,"creation_date":1647259936,"answer_id":71467588,"question_id":71082058,"body_markdown":"You need to attach an event handler to when the TextArea&#39;s state changes. Currently you only store its state when the program starts. The exact way you do this is a design decision to make - if you experiment with existing text editors you will see that they generally do something different than store state on every keystroke.\r\n\r\nYou have defined an ArrayList to store states. A stack is a more suitable structure to use for the Memento pattern. If you are supporting Redo, then you need a Redo stack as well.\r\n\r\nI don&#39;t know if you are attempting this as an academic exercise or for a product. If it is the latter, then it would seem more efficient to just find an existing Java text control that already has a mature undo/redo feature.\r\n","title":"Memento pattern undo/redo texteditor","body":"<p>You need to attach an event handler to when the TextArea's state changes. Currently you only store its state when the program starts. The exact way you do this is a design decision to make - if you experiment with existing text editors you will see that they generally do something different than store state on every keystroke.</p>\n<p>You have defined an ArrayList to store states. A stack is a more suitable structure to use for the Memento pattern. If you are supporting Redo, then you need a Redo stack as well.</p>\n<p>I don't know if you are attempting this as an academic exercise or for a product. If it is the latter, then it would seem more efficient to just find an existing Java text control that already has a mature undo/redo feature.</p>\n"}],"owner":{"account_id":23535447,"reputation":3,"user_id":17580461,"display_name":"Wojciech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647259936,"creation_date":1644591028,"question_id":71082058,"body_markdown":"I tried to apply memento pattern to include undo/redo functions in my tex editor app. Let&#39;s say it is simplified version :). So far, I haven&#39;t figured out how to save and then restore the exact text input from the keyboard. I mean, I have to link the state attribute with the textarea in my code, plus some other modifications. I tried to stuck the whole code in three classes, Main, Editor, Memento like below\r\nAny hints? Thank you\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        \r\n        Editor viewEditor = new Editor();\r\n        viewEditor.setVisible(true);\r\n\r\n        //Storing changes in ArrayList\r\n        List&lt;Memento&gt; mementoList = new ArrayList&lt;Memento&gt;();\r\n        \r\n        viewEditor.setState(&quot; first and only state :)&quot;);\r\n        mementoList.add(viewEditor.saveStatetoMemento());\r\n    \r\n        viewEditor.getStatefromMemento(mementoList.get(0));\r\n       \r\n\r\n    }\r\n\r\n}\r\n\r\npublic class Editor extends JFrame {\r\n\r\n    String state;\r\n\r\n    public void setState(String state) {\r\n        this.state = state;\r\n    }\r\n    public String getState(String state) {\r\n        return state;\r\n    }\r\n    public Memento saveStatetoMemento() {\r\n        System.out.println(&quot;Saving state to Memento in Editor.java &quot;);\r\n        return new Memento(state);\r\n    }\r\n\r\n    public void getStatefromMemento(Memento memento) {\r\n        state = memento.getState();\r\n        System.out.println(&quot;State restored from memento&quot; + state);\r\n    }\r\n    //Using UndoManager for handling undo/redo/ operations \r\n    private UndoManager um = new UndoManager();\r\n\r\n    public Editor() {\r\n        initUI();\r\n    }\r\n\r\n    public final void initUI() {\r\n        //Panel\r\n        JPanel panel = new JPanel();\r\n        //Text Field\r\n        final JTextArea textArea = new JTextArea(&quot;&quot;);\r\n        textArea.getDocument().addUndoableEditListener(new UndoableEditListener() {\r\n            public void undoableEditHappened(UndoableEditEvent e) {\r\n                um.addEdit(e.getEdit());\r\n            \r\n         state = textArea.getText();\r\n            }\r\n        });\r\n        textArea.setPreferredSize(new Dimension(550, 600));\r\n        textArea.setLineWrap(true);\r\n        textArea.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\r\n        textArea.setEditable(true);\r\n\r\n        // Addind text field to panel\r\n        panel.add(textArea);\r\n\r\n        // Adding panel to JFrame\r\n        add(panel);\r\n        pack();\r\n\r\n        // Menubar\r\n        JMenuBar menubar = new JMenuBar();\r\n        // Menu Brudnopis\r\n        JMenu brudnopis = new JMenu(&quot;Brudnopis&quot;);\r\n        brudnopis.setMnemonic(KeyEvent.VK_B);\r\n        // Menu Items: Zakoncz\r\n        JMenuItem eMenuItemZakoncz = new JMenuItem(&quot;Zakoncz&quot;);\r\n        eMenuItemZakoncz.setMnemonic(KeyEvent.VK_K);\r\n        eMenuItemZakoncz.setToolTipText(&quot;Zakoncz program&quot;);\r\n        // Adding action for the item: &quot;Zakoncz&quot;\r\n        eMenuItemZakoncz.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent event) {\r\n                System.exit(0);\r\n            }\r\n        });\r\n\r\n        //Menu Edit Item\r\n        JMenu edit = new JMenu(&quot;Edycja&quot;);\r\n        edit.setMnemonic(KeyEvent.VK_H);\r\n        //Menu items: undo and redo\r\n        JMenuItem undo = new JMenuItem(&quot;Undo&quot;);\r\n        undo.setMnemonic(KeyEvent.VK_Z);\r\n        undo.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_Z, ActionEvent.CTRL_MASK));\r\n        //undo.setAction(a);\r\n        undo.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent event) {\r\n                if (um.canUndo()) {\r\n                    um.undo();\r\n                }\r\n            }\r\n        });\r\n\r\n        JMenuItem redo = new JMenuItem(&quot;Redo&quot;);\r\n        redo.setMnemonic(KeyEvent.VK_Y);\r\n        redo.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_Y, ActionEvent.CTRL_MASK));\r\n        redo.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent event) {\r\n                if (um.canRedo()) {\r\n                    um.redo();\r\n                }\r\n            }\r\n        });\r\n\r\n        //Adding &#39;brudnopis&#39; to menubar\r\n        menubar.add(brudnopis);\r\n        menubar.add(edit);\r\n        setJMenuBar(menubar);\r\n\r\n        //Dodanie opcji do paska menu\r\n        brudnopis.add(eMenuItemZakoncz);\r\n        edit.add(undo);\r\n        edit.add(redo);\r\n\r\n        setTitle(&quot;Brudnopis&quot;);\r\n        setSize(600, 700);\r\n        setLocationRelativeTo(null);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\npublic class Memento {\r\n\r\nprivate final String state;\r\n\r\npublic Memento(String state) {\r\nthis.state = state;\r\n    }\r\n\r\npublic String getState() {\r\n    return state;\r\n}\r\n\r\n }\r\n\r\n```","title":"Memento pattern undo/redo texteditor","body":"<p>I tried to apply memento pattern to include undo/redo functions in my tex editor app. Let's say it is simplified version :). So far, I haven't figured out how to save and then restore the exact text input from the keyboard. I mean, I have to link the state attribute with the textarea in my code, plus some other modifications. I tried to stuck the whole code in three classes, Main, Editor, Memento like below\nAny hints? Thank you</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        \n        Editor viewEditor = new Editor();\n        viewEditor.setVisible(true);\n\n        //Storing changes in ArrayList\n        List&lt;Memento&gt; mementoList = new ArrayList&lt;Memento&gt;();\n        \n        viewEditor.setState(&quot; first and only state :)&quot;);\n        mementoList.add(viewEditor.saveStatetoMemento());\n    \n        viewEditor.getStatefromMemento(mementoList.get(0));\n       \n\n    }\n\n}\n\npublic class Editor extends JFrame {\n\n    String state;\n\n    public void setState(String state) {\n        this.state = state;\n    }\n    public String getState(String state) {\n        return state;\n    }\n    public Memento saveStatetoMemento() {\n        System.out.println(&quot;Saving state to Memento in Editor.java &quot;);\n        return new Memento(state);\n    }\n\n    public void getStatefromMemento(Memento memento) {\n        state = memento.getState();\n        System.out.println(&quot;State restored from memento&quot; + state);\n    }\n    //Using UndoManager for handling undo/redo/ operations \n    private UndoManager um = new UndoManager();\n\n    public Editor() {\n        initUI();\n    }\n\n    public final void initUI() {\n        //Panel\n        JPanel panel = new JPanel();\n        //Text Field\n        final JTextArea textArea = new JTextArea(&quot;&quot;);\n        textArea.getDocument().addUndoableEditListener(new UndoableEditListener() {\n            public void undoableEditHappened(UndoableEditEvent e) {\n                um.addEdit(e.getEdit());\n            \n         state = textArea.getText();\n            }\n        });\n        textArea.setPreferredSize(new Dimension(550, 600));\n        textArea.setLineWrap(true);\n        textArea.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\n        textArea.setEditable(true);\n\n        // Addind text field to panel\n        panel.add(textArea);\n\n        // Adding panel to JFrame\n        add(panel);\n        pack();\n\n        // Menubar\n        JMenuBar menubar = new JMenuBar();\n        // Menu Brudnopis\n        JMenu brudnopis = new JMenu(&quot;Brudnopis&quot;);\n        brudnopis.setMnemonic(KeyEvent.VK_B);\n        // Menu Items: Zakoncz\n        JMenuItem eMenuItemZakoncz = new JMenuItem(&quot;Zakoncz&quot;);\n        eMenuItemZakoncz.setMnemonic(KeyEvent.VK_K);\n        eMenuItemZakoncz.setToolTipText(&quot;Zakoncz program&quot;);\n        // Adding action for the item: &quot;Zakoncz&quot;\n        eMenuItemZakoncz.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent event) {\n                System.exit(0);\n            }\n        });\n\n        //Menu Edit Item\n        JMenu edit = new JMenu(&quot;Edycja&quot;);\n        edit.setMnemonic(KeyEvent.VK_H);\n        //Menu items: undo and redo\n        JMenuItem undo = new JMenuItem(&quot;Undo&quot;);\n        undo.setMnemonic(KeyEvent.VK_Z);\n        undo.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_Z, ActionEvent.CTRL_MASK));\n        //undo.setAction(a);\n        undo.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent event) {\n                if (um.canUndo()) {\n                    um.undo();\n                }\n            }\n        });\n\n        JMenuItem redo = new JMenuItem(&quot;Redo&quot;);\n        redo.setMnemonic(KeyEvent.VK_Y);\n        redo.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_Y, ActionEvent.CTRL_MASK));\n        redo.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent event) {\n                if (um.canRedo()) {\n                    um.redo();\n                }\n            }\n        });\n\n        //Adding 'brudnopis' to menubar\n        menubar.add(brudnopis);\n        menubar.add(edit);\n        setJMenuBar(menubar);\n\n        //Dodanie opcji do paska menu\n        brudnopis.add(eMenuItemZakoncz);\n        edit.add(undo);\n        edit.add(redo);\n\n        setTitle(&quot;Brudnopis&quot;);\n        setSize(600, 700);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n}\n\n\n\n\npublic class Memento {\n\nprivate final String state;\n\npublic Memento(String state) {\nthis.state = state;\n    }\n\npublic String getState() {\n    return state;\n}\n\n }\n\n</code></pre>\n"},{"tags":["java","object","jpa","objectdb"],"comments":[{"owner":{"account_id":1054347,"reputation":1308,"user_id":1057389,"display_name":"ObjectDB"},"score":0,"creation_date":1647258013,"post_id":71466761,"comment_id":126317815,"body_markdown":"Could you please post a minimal working example that demonstrates the issue? If possible using the format on https://www.objectdb.com/database/post.","body":"Could you please post a minimal working example that demonstrates the issue? If possible using the format on <a href=\"https://www.objectdb.com/database/post\" rel=\"nofollow noreferrer\">objectdb.com/database/post</a>."},{"owner":{"account_id":20035587,"reputation":13,"user_id":15092216,"display_name":"Adam Bazzal"},"score":0,"creation_date":1647258434,"post_id":71466761,"comment_id":126317980,"body_markdown":"yes I will provide the full main class code","body":"yes I will provide the full main class code"},{"owner":{"account_id":1054347,"reputation":1308,"user_id":1057389,"display_name":"ObjectDB"},"score":0,"creation_date":1647277324,"post_id":71466761,"comment_id":126325740,"body_markdown":"No obvious issue is seen in the posted code so maybe the exception is related to the way in which the code is run. Anyway, this is still not a complete (but minimal) runnable program, so it may be difficult to help you.","body":"No obvious issue is seen in the posted code so maybe the exception is related to the way in which the code is run. Anyway, this is still not a complete (but minimal) runnable program, so it may be difficult to help you."}],"owner":{"account_id":20035587,"reputation":13,"user_id":15092216,"display_name":"Adam Bazzal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647259781,"creation_date":1647255966,"question_id":71466761,"body_markdown":"&gt; in the main method:  \r\n \r\nIam only trying to store some objects in objectdb file in the root directory I want to know why the field in insurance class is not located in the class\r\n\r\n    package com.example.medicalcenter;\r\n    \r\n    import com.example.medicalcenter.model.Insurance;\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.Persistence;\r\n    import java.io.IOException;\r\n    \r\n    public class Run extends Application {\r\n    \r\n    \r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(Run.class.getResource(&quot;patient.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 900, 600);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    \r\n        EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;$objectdb/db/d.odb&quot;);\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n    \r\n        Insurance i = new Insurance(&quot;i1&quot;, 88f);\r\n        entityManager.persist(i);\r\n    \r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n    }\r\n\r\n&gt; Iam trying to use [objectdb][1] with maven project and this error keeps appearing.\r\n&gt; what I am doing is adding Insurance object to the database\r\n\r\n    Caused by: com.objectdb.o.UserException: Failed to locate field field com.example.medicalcenter.model.Insurance.percentage using reflection\r\n\r\n&gt; Insurance class\r\n\r\n    @Entity public class Insurance {\r\n\r\n    @Id@GeneratedValue\r\n    private int id;\r\n\r\n    @Column(name=&quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name=&quot;percentage&quot;)\r\n    private float percentage;\r\n\r\n    public Insurance() {\r\n    }\r\n\r\n    public Insurance(String name, float percentage) {\r\n        this.name = name;\r\n        this.percentage = percentage;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public float getPercentage() {\r\n        return percentage;\r\n    }\r\n\r\n    public void setPercentage(float percentage) {\r\n        this.percentage = percentage;\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\n  [1]: https://objectdb.com\r\n","title":"UserException: Field not found","body":"<blockquote>\n<p>in the main method:</p>\n</blockquote>\n<p>Iam only trying to store some objects in objectdb file in the root directory I want to know why the field in insurance class is not located in the class</p>\n<pre><code>package com.example.medicalcenter;\n\nimport com.example.medicalcenter.model.Insurance;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\nimport java.io.IOException;\n\npublic class Run extends Application {\n\n\n@Override\npublic void start(Stage stage) throws IOException {\n    FXMLLoader fxmlLoader = new FXMLLoader(Run.class.getResource(&quot;patient.fxml&quot;));\n    Scene scene = new Scene(fxmlLoader.load(), 900, 600);\n    stage.setTitle(&quot;Hello!&quot;);\n    stage.setScene(scene);\n    stage.show();\n\n    EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;$objectdb/db/d.odb&quot;);\n    EntityManager entityManager = entityManagerFactory.createEntityManager();\n\n    Insurance i = new Insurance(&quot;i1&quot;, 88f);\n    entityManager.persist(i);\n\n}\n\npublic static void main(String[] args) {\n    launch();\n}\n}\n</code></pre>\n<blockquote>\n<p>Iam trying to use <a href=\"https://objectdb.com\" rel=\"nofollow noreferrer\">objectdb</a> with maven project and this error keeps appearing.\nwhat I am doing is adding Insurance object to the database</p>\n</blockquote>\n<pre><code>Caused by: com.objectdb.o.UserException: Failed to locate field field com.example.medicalcenter.model.Insurance.percentage using reflection\n</code></pre>\n<blockquote>\n<p>Insurance class</p>\n</blockquote>\n<pre><code>@Entity public class Insurance {\n\n@Id@GeneratedValue\nprivate int id;\n\n@Column(name=&quot;name&quot;)\nprivate String name;\n\n@Column(name=&quot;percentage&quot;)\nprivate float percentage;\n\npublic Insurance() {\n}\n\npublic Insurance(String name, float percentage) {\n    this.name = name;\n    this.percentage = percentage;\n}\n\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic float getPercentage() {\n    return percentage;\n}\n\npublic void setPercentage(float percentage) {\n    this.percentage = percentage;\n}\n\n\n}\n</code></pre>\n"},{"tags":["java","maven","maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1568963683,"post_id":58023240,"comment_id":102449599,"body_markdown":"Simple answer you can not...cause a plugin is executed within the context of a given build which uses a given JDK ...I don&#39;t know why you are using preview features of a JDK within a plugin ? Does not make sense from my point of view...Apart from that this means you can not run your build with earlier JDK version by using the implemented plugin ...?","body":"Simple answer you can not...cause a plugin is executed within the context of a given build which uses a given JDK ...I don&#39;t know why you are using preview features of a JDK within a plugin ? Does not make sense from my point of view...Apart from that this means you can not run your build with earlier JDK version by using the implemented plugin ...?"},{"owner":{"account_id":494894,"reputation":2183,"user_id":1006669,"accept_rate":52,"display_name":"Giovanni Lovato"},"score":1,"creation_date":1568963898,"post_id":58023240,"comment_id":102449717,"body_markdown":"Just wanted to start using the new switch statement; if it&#39;s not possible to enable preview features on a plugin execution, I&#39;ll just don&#39;t use them! Thanks!","body":"Just wanted to start using the new switch statement; if it&#39;s not possible to enable preview features on a plugin execution, I&#39;ll just don&#39;t use them! Thanks!"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1569146455,"post_id":58023240,"comment_id":102494900,"body_markdown":"See also [Compile a JDK12 preview feature with Maven](https://stackoverflow.com/q/52232681/1744774).","body":"See also <a href=\"https://stackoverflow.com/q/52232681/1744774\">Compile a JDK12 preview feature with Maven</a>."}],"answers":[{"tags":[],"owner":{"account_id":2335634,"reputation":2907,"user_id":2048051,"display_name":"Randgalt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580049381,"creation_date":1576524664,"answer_id":59363152,"question_id":58023240,"body_markdown":"For me, I had to add a config file to my build directory at:\r\n\r\n    .mvn/jvm.config\r\n\r\ncontaining:\r\n\r\n    --enable-preview\r\n\r\nThis will make sure that Maven passes the correct parameters to JVM","title":"Execute a Maven plugin with --enable-preview in POM","body":"<p>For me, I had to add a config file to my build directory at:</p>\n\n<pre><code>.mvn/jvm.config\n</code></pre>\n\n<p>containing:</p>\n\n<pre><code>--enable-preview\n</code></pre>\n\n<p>This will make sure that Maven passes the correct parameters to JVM</p>\n"},{"tags":[],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634731334,"creation_date":1634731334,"answer_id":69645635,"question_id":58023240,"body_markdown":"You made a mistake in your pom. `&lt;compilerArgs&gt;` takes nested `&lt;arg&gt;`, like so:\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;--enable-preview&lt;/arg&gt;\r\n                     &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"Execute a Maven plugin with --enable-preview in POM","body":"<p>You made a mistake in your pom. <code>&lt;compilerArgs&gt;</code> takes nested <code>&lt;arg&gt;</code>, like so:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;--enable-preview&lt;/arg&gt;\n                 &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647259645,"creation_date":1647259645,"answer_id":71467523,"question_id":58023240,"body_markdown":"For JDK 17, this works for me:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  &lt;configuration&gt;\r\n    &lt;source&gt;17&lt;/source&gt;\r\n    &lt;target&gt;17&lt;/target&gt;\r\n    &lt;compilerArgs&gt;--enable-preview&lt;/compilerArgs&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Execute a Maven plugin with --enable-preview in POM","body":"<p>For JDK 17, this works for me:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;source&gt;17&lt;/source&gt;\n    &lt;target&gt;17&lt;/target&gt;\n    &lt;compilerArgs&gt;--enable-preview&lt;/compilerArgs&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":494894,"reputation":2183,"user_id":1006669,"accept_rate":52,"display_name":"Giovanni Lovato"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4144,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1647259645,"creation_date":1568962591,"question_id":58023240,"body_markdown":"I have a custom Maven plugin which makes use of JDK 12 preview features. I compile the plugin setting `--enable-preview` as compiler arg, i.e.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;compilerArgs&gt;\r\n                &lt;compilerArg&gt;--enable-preview&lt;/compilerArg&gt;\r\n            &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nWhen I want to execute the plugin, I add the plugin like this in the POM:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;my.group&lt;/groupId&gt;\r\n        &lt;artifactId&gt;my-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;my-goal&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nBut this fails with:\r\n\r\n    Preview features are not enabled for MyPluginMojo. Try running with &#39;--enable-preview&#39;\r\n\r\nHow can I enable preview features in a plugin execution?","title":"Execute a Maven plugin with --enable-preview in POM","body":"<p>I have a custom Maven plugin which makes use of JDK 12 preview features. I compile the plugin setting <code>--enable-preview</code> as compiler arg, i.e.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;compilerArgs&gt;\n            &lt;compilerArg&gt;--enable-preview&lt;/compilerArg&gt;\n        &lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>When I want to execute the plugin, I add the plugin like this in the POM:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;my.group&lt;/groupId&gt;\n    &lt;artifactId&gt;my-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;my-goal&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>But this fails with:</p>\n\n<pre><code>Preview features are not enabled for MyPluginMojo. Try running with '--enable-preview'\n</code></pre>\n\n<p>How can I enable preview features in a plugin execution?</p>\n"},{"tags":["java","string","casting"],"comments":[{"owner":{"account_id":472920,"reputation":1141,"user_id":881703,"accept_rate":54,"display_name":"user881703"},"score":1,"creation_date":1538027325,"post_id":5884353,"comment_id":91999610,"body_markdown":"`String str = Integer.toString(j); //integer or string with white spaces&lt;br/&gt;    \nstr = new StringBuffer(str.trim()).insert(str.length()-2, &quot;.&quot;).toString();`","body":"<code>String str = Integer.toString(j); &#47;&#47;integer or string with white spaces&lt;br&#47;&gt;     str = new StringBuffer(str.trim()).insert(str.length()-2, &quot;.&quot;).toString();</code>"}],"answers":[{"tags":[],"owner":{"account_id":106901,"reputation":36958,"user_id":284538,"accept_rate":64,"display_name":"Mike Thomsen"},"down_vote_count":2,"up_vote_count":224,"is_accepted":true,"score":222,"last_activity_date":1304516711,"creation_date":1304516711,"answer_id":5884396,"question_id":5884353,"body_markdown":"    int j = 123456;\r\n    String x = Integer.toString(j);\r\n    x = x.substring(0, 4) + &quot;.&quot; + x.substring(4, x.length());","title":"How to insert a character in a string at a certain position?","body":"<pre><code>int j = 123456;\nString x = Integer.toString(j);\nx = x.substring(0, 4) + \".\" + x.substring(4, x.length());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1525352522,"creation_date":1304516813,"answer_id":5884413,"question_id":5884353,"body_markdown":"    int yourInteger = 123450;\r\n    String s = String.format(&quot;%6.2f&quot;, yourInteger / 100.0);\r\n    System.out.println(s);\r\n","title":"How to insert a character in a string at a certain position?","body":"<pre><code>int yourInteger = 123450;\nString s = String.format(\"%6.2f\", yourInteger / 100.0);\nSystem.out.println(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":259521,"reputation":4921,"user_id":542461,"display_name":"Joseph Ottinger"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1304603212,"creation_date":1304516824,"answer_id":5884418,"question_id":5884353,"body_markdown":"You could use \r\n\r\n    System.out.printf(&quot;%4.2f%n&quot;, ((float)12345)/100));\r\n\r\nAs per the comments, 12345/100.0 would be better, as would the use of double instead of float.","title":"How to insert a character in a string at a certain position?","body":"<p>You could use </p>\n\n<pre><code>System.out.printf(\"%4.2f%n\", ((float)12345)/100));\n</code></pre>\n\n<p>As per the comments, 12345/100.0 would be better, as would the use of double instead of float.</p>\n"},{"tags":[],"owner":{"account_id":317483,"reputation":2335,"user_id":634203,"accept_rate":83,"display_name":"rurouni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304517540,"creation_date":1304517540,"answer_id":5884584,"question_id":5884353,"body_markdown":"If you are using a system where float is expensive (e.g. no FPU) or not allowed (e.g. in accounting) you could use something like this:\r\n\r\n    \tfor (int i = 1; i &lt; 100000; i *= 2) {\r\n\t\t\tString s = &quot;00&quot; + i;\r\n\t\t\tSystem.out.println(s.substring(Math.min(2, s.length() - 2), s.length() - 2) + &quot;.&quot; + s.substring(s.length() - 2));\r\n\t\t}\r\n\r\nOtherwise the DecimalFormat is the better solution. (the StringBuilder variant above won&#39;t work with small numbers (&lt;100)","title":"How to insert a character in a string at a certain position?","body":"<p>If you are using a system where float is expensive (e.g. no FPU) or not allowed (e.g. in accounting) you could use something like this:</p>\n\n<pre><code>    for (int i = 1; i &lt; 100000; i *= 2) {\n        String s = \"00\" + i;\n        System.out.println(s.substring(Math.min(2, s.length() - 2), s.length() - 2) + \".\" + s.substring(s.length() - 2));\n    }\n</code></pre>\n\n<p>Otherwise the DecimalFormat is the better solution. (the StringBuilder variant above won't work with small numbers (&lt;100)</p>\n"},{"tags":[],"owner":{"account_id":350279,"reputation":6790,"user_id":686036,"accept_rate":85,"display_name":"blo0p3r"},"down_vote_count":0,"up_vote_count":242,"is_accepted":false,"score":242,"last_activity_date":1563197392,"creation_date":1353538122,"answer_id":13503345,"question_id":5884353,"body_markdown":"As mentioned in comments, a [StringBuilder](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuilder.html) is probably a faster implementation than using a [StringBuffer](http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuffer.html). As mentioned in the Java docs: \r\n\r\n&gt; This class provides an API compatible with StringBuffer, but with no guarantee of synchronization. This class is designed for use as a drop-in replacement for StringBuffer in places where the string buffer was being used by a single thread (as is generally the case). Where possible, it is recommended that this class be used in preference to StringBuffer as it will be faster under most implementations.\r\n\r\nUsage : \r\n\r\n    String str = Integer.toString(j);\r\n    str = new StringBuilder(str).insert(str.length()-2, &quot;.&quot;).toString();\r\n\r\nOr if you need synchronization use the [StringBuffer](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/StringBuffer.html &quot;java.lang.StringBuffer&quot;) with similar usage :\r\n\r\n    String str = Integer.toString(j);\r\n    str = new StringBuffer(str).insert(str.length()-2, &quot;.&quot;).toString();","title":"How to insert a character in a string at a certain position?","body":"<p>As mentioned in comments, a <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuilder.html\" rel=\"noreferrer\">StringBuilder</a> is probably a faster implementation than using a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuffer.html\" rel=\"noreferrer\">StringBuffer</a>. As mentioned in the Java docs: </p>\n\n<blockquote>\n  <p>This class provides an API compatible with StringBuffer, but with no guarantee of synchronization. This class is designed for use as a drop-in replacement for StringBuffer in places where the string buffer was being used by a single thread (as is generally the case). Where possible, it is recommended that this class be used in preference to StringBuffer as it will be faster under most implementations.</p>\n</blockquote>\n\n<p>Usage : </p>\n\n<pre><code>String str = Integer.toString(j);\nstr = new StringBuilder(str).insert(str.length()-2, \".\").toString();\n</code></pre>\n\n<p>Or if you need synchronization use the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/StringBuffer.html\" rel=\"noreferrer\" title=\"java.lang.StringBuffer\">StringBuffer</a> with similar usage :</p>\n\n<pre><code>String str = Integer.toString(j);\nstr = new StringBuffer(str).insert(str.length()-2, \".\").toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10038844,"reputation":11,"user_id":7422444,"display_name":"Miya"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1484536234,"creation_date":1484506752,"answer_id":41665061,"question_id":5884353,"body_markdown":"      public static void main(String[] args) {\r\n        char ch=&#39;m&#39;;\r\n        String str=&quot;Hello&quot;,k=String.valueOf(ch),b,c;\r\n    \r\n        System.out.println(str);\r\n    \r\n        int index=3;\r\n        b=str.substring(0,index-1 );\r\n        c=str.substring(index-1,str.length());\r\n        str=b+k+c;\r\n    }","title":"How to insert a character in a string at a certain position?","body":"<pre><code>  public static void main(String[] args) {\n    char ch='m';\n    String str=\"Hello\",k=String.valueOf(ch),b,c;\n\n    System.out.println(str);\n\n    int index=3;\n    b=str.substring(0,index-1 );\n    c=str.substring(index-1,str.length());\n    str=b+k+c;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1504433061,"creation_date":1504433061,"answer_id":46022277,"question_id":5884353,"body_markdown":"In most use-cases, using a `StringBuilder` (as already answered) is a good way to do this. However, if performance matters, this may be a good alternative.\r\n\r\n    /**\r\n     * Insert the &#39;insert&#39; String at the index &#39;position&#39; into the &#39;target&#39; String.\r\n     * \r\n     * ````\r\n     * insertAt(&quot;AC&quot;, 0, &quot;&quot;) -&gt; &quot;AC&quot;\r\n     * insertAt(&quot;AC&quot;, 1, &quot;xxx&quot;) -&gt; &quot;AxxxC&quot;\r\n     * insertAt(&quot;AB&quot;, 2, &quot;C&quot;) -&gt; &quot;ABC\r\n     * ````\r\n     */\r\n    public static String insertAt(final String target, final int position, final String insert) {\r\n        final int targetLen = target.length();\r\n        if (position &lt; 0 || position &gt; targetLen) {\r\n            throw new IllegalArgumentException(&quot;position=&quot; + position);\r\n        }\r\n        if (insert.isEmpty()) {\r\n            return target;\r\n        }\r\n        if (position == 0) {\r\n            return insert.concat(target);\r\n        } else if (position == targetLen) {\r\n            return target.concat(insert);\r\n        }\r\n        final int insertLen = insert.length();\r\n        final char[] buffer = new char[targetLen + insertLen];\r\n        target.getChars(0, position, buffer, 0);\r\n        insert.getChars(0, insertLen, buffer, position);\r\n        target.getChars(position, targetLen, buffer, position + insertLen);\r\n        return new String(buffer);\r\n    }","title":"How to insert a character in a string at a certain position?","body":"<p>In most use-cases, using a <code>StringBuilder</code> (as already answered) is a good way to do this. However, if performance matters, this may be a good alternative.</p>\n\n<pre><code>/**\n * Insert the 'insert' String at the index 'position' into the 'target' String.\n * \n * ````\n * insertAt(\"AC\", 0, \"\") -&gt; \"AC\"\n * insertAt(\"AC\", 1, \"xxx\") -&gt; \"AxxxC\"\n * insertAt(\"AB\", 2, \"C\") -&gt; \"ABC\n * ````\n */\npublic static String insertAt(final String target, final int position, final String insert) {\n    final int targetLen = target.length();\n    if (position &lt; 0 || position &gt; targetLen) {\n        throw new IllegalArgumentException(\"position=\" + position);\n    }\n    if (insert.isEmpty()) {\n        return target;\n    }\n    if (position == 0) {\n        return insert.concat(target);\n    } else if (position == targetLen) {\n        return target.concat(insert);\n    }\n    final int insertLen = insert.length();\n    final char[] buffer = new char[targetLen + insertLen];\n    target.getChars(0, position, buffer, 0);\n    insert.getChars(0, insertLen, buffer, position);\n    target.getChars(position, targetLen, buffer, position + insertLen);\n    return new String(buffer);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1259191,"reputation":5458,"user_id":1217989,"accept_rate":74,"display_name":"Luan Nico"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1513170252,"creation_date":1513170252,"answer_id":47793743,"question_id":5884353,"body_markdown":"I think a simpler and more elegant solution to insert a String in a certain position would be this one-liner:\r\n\r\n    target.replaceAll(&quot;^(.{&quot; + position + &quot;})&quot;, &quot;$1&quot; + insert);\r\n\r\nFor example, to insert a missing `:` into a time String:\r\n\r\n    &quot;-0300&quot;.replaceAll(&quot;^(.{3})&quot;, &quot;$1:&quot;);\r\n\r\nWhat it does is, matches `position` characters from the beginning of the string, groups that, and replaces the group with itself (`$1`) followed by the `insert` string. Mind the replaceAll, even though there&#39;s always one occurrence, because the first parameter must be a regex.\r\n\r\nOf course it does not have the same performance as the StringBuilder solution, but I believe the succinctness and elegance as a simple and easier to read one-liner (compared to a huge method) is sufficient for making it the preferred solution in most non performance-critical use-cases.\r\n\r\nNote I&#39;m solving the generic problem in the title for documentation reasons, of course if you are dealing with decimal numbers you should use the domain-specific solutions already proposed.","title":"How to insert a character in a string at a certain position?","body":"<p>I think a simpler and more elegant solution to insert a String in a certain position would be this one-liner:</p>\n\n<pre><code>target.replaceAll(\"^(.{\" + position + \"})\", \"$1\" + insert);\n</code></pre>\n\n<p>For example, to insert a missing <code>:</code> into a time String:</p>\n\n<pre><code>\"-0300\".replaceAll(\"^(.{3})\", \"$1:\");\n</code></pre>\n\n<p>What it does is, matches <code>position</code> characters from the beginning of the string, groups that, and replaces the group with itself (<code>$1</code>) followed by the <code>insert</code> string. Mind the replaceAll, even though there's always one occurrence, because the first parameter must be a regex.</p>\n\n<p>Of course it does not have the same performance as the StringBuilder solution, but I believe the succinctness and elegance as a simple and easier to read one-liner (compared to a huge method) is sufficient for making it the preferred solution in most non performance-critical use-cases.</p>\n\n<p>Note I'm solving the generic problem in the title for documentation reasons, of course if you are dealing with decimal numbers you should use the domain-specific solutions already proposed.</p>\n"},{"tags":[],"owner":{"account_id":13772570,"reputation":11,"user_id":9939655,"display_name":"Nagendra Mishra"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1529503312,"creation_date":1529503312,"answer_id":50950098,"question_id":5884353,"body_markdown":"    // Create given String and make with size 30\r\n    String str = &quot;Hello How Are You&quot;;\r\n    \r\n    // Creating StringBuffer Object for right padding\r\n    StringBuffer stringBufferRightPad = new StringBuffer(str);\r\n    while (stringBufferRightPad.length() &lt; 30) {\r\n    \tstringBufferRightPad.insert(stringBufferRightPad.length(), &quot;*&quot;);\r\n    }\r\n    \t\t\r\n    System.out.println(&quot;after Left padding : &quot; + stringBufferRightPad);\r\n    System.out.println(&quot;after Left padding : &quot; + stringBufferRightPad.toString());\r\n    \r\n    // Creating StringBuffer Object for right padding\r\n    StringBuffer stringBufferLeftPad = new StringBuffer(str);\r\n    while (stringBufferLeftPad.length() &lt; 30) {\r\n    \tstringBufferLeftPad.insert(0, &quot;*&quot;);\r\n    }\r\n    System.out.println(&quot;after Left padding : &quot; + stringBufferLeftPad);\r\n    System.out.println(&quot;after Left padding : &quot; + stringBufferLeftPad.toString());","title":"How to insert a character in a string at a certain position?","body":"<pre><code>// Create given String and make with size 30\nString str = \"Hello How Are You\";\n\n// Creating StringBuffer Object for right padding\nStringBuffer stringBufferRightPad = new StringBuffer(str);\nwhile (stringBufferRightPad.length() &lt; 30) {\n    stringBufferRightPad.insert(stringBufferRightPad.length(), \"*\");\n}\n\nSystem.out.println(\"after Left padding : \" + stringBufferRightPad);\nSystem.out.println(\"after Left padding : \" + stringBufferRightPad.toString());\n\n// Creating StringBuffer Object for right padding\nStringBuffer stringBufferLeftPad = new StringBuffer(str);\nwhile (stringBufferLeftPad.length() &lt; 30) {\n    stringBufferLeftPad.insert(0, \"*\");\n}\nSystem.out.println(\"after Left padding : \" + stringBufferLeftPad);\nSystem.out.println(\"after Left padding : \" + stringBufferLeftPad.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10565026,"reputation":1,"user_id":7783538,"display_name":"Pattanai Pornpibul"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1536319194,"creation_date":1533873668,"answer_id":51778783,"question_id":5884353,"body_markdown":"Try this :\r\n\r\n    public String ConvertMessage(String content_sendout){\r\n\r\n            //use unicode (004E00650077) need to change to hex (&amp;#x004E&amp;#x;0065&amp;#x;0077;) first ;\r\n            String resultcontent_sendout = &quot;&quot;;\r\n            int i = 4;\r\n            int lengthwelcomemsg = content_sendout.length()/i;\r\n            for(int nadd=0;nadd&lt;lengthwelcomemsg;nadd++){\r\n                if(nadd == 0){\r\n                    resultcontent_sendout = &quot;&amp;#x&quot;+content_sendout.substring(nadd*i, (nadd*i)+i) + &quot;;&amp;#x&quot;;\r\n                }else if(nadd == lengthwelcomemsg-1){\r\n                    resultcontent_sendout += content_sendout.substring(nadd*i, (nadd*i)+i) + &quot;;&quot;;\r\n                }else{\r\n                    resultcontent_sendout += content_sendout.substring(nadd*i, (nadd*i)+i) + &quot;;&amp;#x&quot;;\r\n                }\r\n            }\r\n            return resultcontent_sendout;\r\n        }","title":"How to insert a character in a string at a certain position?","body":"<p>Try this :</p>\n\n<pre><code>public String ConvertMessage(String content_sendout){\n\n        //use unicode (004E00650077) need to change to hex (&amp;#x004E&amp;#x;0065&amp;#x;0077;) first ;\n        String resultcontent_sendout = \"\";\n        int i = 4;\n        int lengthwelcomemsg = content_sendout.length()/i;\n        for(int nadd=0;nadd&lt;lengthwelcomemsg;nadd++){\n            if(nadd == 0){\n                resultcontent_sendout = \"&amp;#x\"+content_sendout.substring(nadd*i, (nadd*i)+i) + \";&amp;#x\";\n            }else if(nadd == lengthwelcomemsg-1){\n                resultcontent_sendout += content_sendout.substring(nadd*i, (nadd*i)+i) + \";\";\n            }else{\n                resultcontent_sendout += content_sendout.substring(nadd*i, (nadd*i)+i) + \";&amp;#x\";\n            }\n        }\n        return resultcontent_sendout;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2259882,"reputation":486,"user_id":1990240,"display_name":"gherkin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1554895043,"creation_date":1554895043,"answer_id":55611236,"question_id":5884353,"body_markdown":"Using ApacheCommons3 StringUtils, you could also do\r\n\r\n    int j = 123456;\r\n    String s = Integer.toString(j);\r\n    int pos = s.length()-2;\r\n\r\n    s = StringUtils.overlay(s,&quot;.&quot;, pos, pos);\r\n\r\nit&#39;s basically substring concatenation but shorter if you don&#39;t mind using libraries, or already depending on StringUtils  ","title":"How to insert a character in a string at a certain position?","body":"<p>Using ApacheCommons3 StringUtils, you could also do</p>\n\n<pre><code>int j = 123456;\nString s = Integer.toString(j);\nint pos = s.length()-2;\n\ns = StringUtils.overlay(s,\".\", pos, pos);\n</code></pre>\n\n<p>it's basically substring concatenation but shorter if you don't mind using libraries, or already depending on StringUtils  </p>\n"},{"tags":[],"owner":{"account_id":944636,"reputation":3874,"user_id":972128,"accept_rate":78,"display_name":"kkurian"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1572296068,"creation_date":1572296068,"answer_id":58598279,"question_id":5884353,"body_markdown":"String.format(&quot;%0d.%02d&quot;, d / 100, d % 100);","title":"How to insert a character in a string at a certain position?","body":"<p>String.format(\"%0d.%02d\", d / 100, d % 100);</p>\n"},{"tags":[],"owner":{"account_id":4654013,"reputation":11203,"user_id":4370279,"accept_rate":61,"display_name":"theapache64"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1646014512,"creation_date":1585505032,"answer_id":60918595,"question_id":5884353,"body_markdown":"For Kotlin dudes ;) from the accepted answer (@MikeThomsen&#39;s)\r\n\r\n```kotlin\r\nfun String.insert(insertAt: Int, string: String): String {\r\n    return this.substring(0, insertAt) + string + this.substring(insertAt, this.length)\r\n}\r\n```\r\n\r\nTest ✅\r\n\r\n```\r\n&quot;ThisTest&quot;.insert(insertAt = 4, string = &quot;Is&quot;).should.equal(&quot;ThisIsTest&quot;)\r\n```","title":"How to insert a character in a string at a certain position?","body":"<p>For Kotlin dudes ;) from the accepted answer (@MikeThomsen's)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun String.insert(insertAt: Int, string: String): String {\n    return this.substring(0, insertAt) + string + this.substring(insertAt, this.length)\n}\n</code></pre>\n<p>Test ✅</p>\n<pre><code>&quot;ThisTest&quot;.insert(insertAt = 4, string = &quot;Is&quot;).should.equal(&quot;ThisIsTest&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4639590,"reputation":2255,"user_id":3759846,"display_name":"Wajid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647259477,"creation_date":1647258872,"answer_id":71467342,"question_id":5884353,"body_markdown":"There are good answers here, but with Kotlin extensions addition we can do it even more simply:\r\n\r\n        val indexWhereInsertIsIntended = 2\r\n        val inputString = &quot;2408&quot;\r\n        val resultingString = inputString.toCharArray().toMutableList()\r\n            .also { \r\n                 it.add(indexWhereInsertIsIntended, &#39;/&#39;) \r\n            }.joinToString(&quot;&quot;)\r\n\r\n&gt; Result = 24/08\r\n\r\nThis example shows a card expiry date, and slash (/) is intended at 2nd Index. So the resulting index in this case will have / at 2nd index.\r\n\r\nIf you want to replace and not add:\r\n\r\n    val indexWhereInsertIsIntended = 2\r\n            val inputString = &quot;2408&quot;\r\n            val resultingString = inputString.toCharArray()\r\n                .also { \r\n                     it[indexWhereInsertIsIntended] = &#39;/&#39; \r\n                }.joinToString(&quot;&quot;)\r\n\r\n&gt; Result = 24/0","title":"How to insert a character in a string at a certain position?","body":"<p>There are good answers here, but with Kotlin extensions addition we can do it even more simply:</p>\n<pre><code>    val indexWhereInsertIsIntended = 2\n    val inputString = &quot;2408&quot;\n    val resultingString = inputString.toCharArray().toMutableList()\n        .also { \n             it.add(indexWhereInsertIsIntended, '/') \n        }.joinToString(&quot;&quot;)\n</code></pre>\n<blockquote>\n<p>Result = 24/08</p>\n</blockquote>\n<p>This example shows a card expiry date, and slash (/) is intended at 2nd Index. So the resulting index in this case will have / at 2nd index.</p>\n<p>If you want to replace and not add:</p>\n<pre><code>val indexWhereInsertIsIntended = 2\n        val inputString = &quot;2408&quot;\n        val resultingString = inputString.toCharArray()\n            .also { \n                 it[indexWhereInsertIsIntended] = '/' \n            }.joinToString(&quot;&quot;)\n</code></pre>\n<blockquote>\n<p>Result = 24/0</p>\n</blockquote>\n"}],"owner":{"account_id":354760,"reputation":2293,"user_id":693307,"accept_rate":75,"display_name":"daverocks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494175,"favorite_count":0,"down_vote_count":1,"up_vote_count":184,"accepted_answer_id":5884396,"answer_count":14,"score":183,"last_activity_date":1647259477,"creation_date":1304516567,"question_id":5884353,"body_markdown":"I&#39;m getting in an `int` with a 6 digit value. I want to display it as a `String` with a decimal point (.) at 2 digits from the end of `int`. I wanted to use a `float` but was suggested to use `String` for a better display output (instead of `1234.5` will be `1234.50`). Therefore, I need a function that will take an `int` as parameter and return the properly formatted `String` with a decimal point 2 digits from the end.\r\n\r\nSay:\r\n    \r\n    int j= 123456 \r\n    Integer.toString(j); \r\n    \r\n    //processing...\r\n    \r\n    //output : 1234.56","title":"How to insert a character in a string at a certain position?","body":"<p>I'm getting in an <code>int</code> with a 6 digit value. I want to display it as a <code>String</code> with a decimal point (.) at 2 digits from the end of <code>int</code>. I wanted to use a <code>float</code> but was suggested to use <code>String</code> for a better display output (instead of <code>1234.5</code> will be <code>1234.50</code>). Therefore, I need a function that will take an <code>int</code> as parameter and return the properly formatted <code>String</code> with a decimal point 2 digits from the end.</p>\n\n<p>Say:</p>\n\n<pre><code>int j= 123456 \nInteger.toString(j); \n\n//processing...\n\n//output : 1234.56\n</code></pre>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647259246,"creation_date":1647250536,"answer_id":71465566,"question_id":71450185,"body_markdown":"### What is `StaleElementReferenceException`\r\n\r\nIn a simple words:\r\n\r\nSelenium has client-server architecture.\r\n\r\nWhen you store `WebElement/List&lt;WebElement&gt;` in some variable in the code, all the elements are some kind of _references_ to the real elements on the server-side. And all the elements like _cached_.\r\n\r\nSo this _references_ might be easily broken if the element&#39;s structure will be changed. The easiest way to reproduce this:\r\n\r\n```\r\nWebElement myButton = driver.findElement(...); // myButton keeps the reference to the page element\r\ndriver.navigate().refresh(); // page structure changed, all existing references became broken\r\nmyButton.click(); // this will throw StaleElementReferenceException\r\n```\r\n\r\n---\r\n\r\n## Solution\r\n\r\nTrack any page structure updates and refresh the element references explicitly.\r\n\r\n```\r\nWebElement myButton = driver.findElement(...); // element reference created\r\n...\r\ndriver.navigate().refresh(); // page structure changed, all existing references became broken\r\nmyButton = driver.findElement(...); // refresh the reference\r\nmyButton.click();\r\n```\r\n\r\n---\r\n\r\nAlso see\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference","title":"Selenium Webdriver - Stale element exception when clicking on multiple dropdowns in a for loop","body":"<h3>What is <code>StaleElementReferenceException</code></h3>\n<p>In a simple words:</p>\n<p>Selenium has client-server architecture.</p>\n<p>When you store <code>WebElement/List&lt;WebElement&gt;</code> in some variable in the code, all the elements are some kind of <em>references</em> to the real elements on the server-side. And all the elements like <em>cached</em>.</p>\n<p>So this <em>references</em> might be easily broken if the element's structure will be changed. The easiest way to reproduce this:</p>\n<pre><code>WebElement myButton = driver.findElement(...); // myButton keeps the reference to the page element\ndriver.navigate().refresh(); // page structure changed, all existing references became broken\nmyButton.click(); // this will throw StaleElementReferenceException\n</code></pre>\n<hr />\n<h2>Solution</h2>\n<p>Track any page structure updates and refresh the element references explicitly.</p>\n<pre><code>WebElement myButton = driver.findElement(...); // element reference created\n...\ndriver.navigate().refresh(); // page structure changed, all existing references became broken\nmyButton = driver.findElement(...); // refresh the reference\nmyButton.click();\n</code></pre>\n<hr />\n<p>Also see</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference</a></p>\n"}],"owner":{"account_id":24511078,"reputation":11,"user_id":18425393,"display_name":"Suchilita Swain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647259246,"creation_date":1647092287,"question_id":71450185,"body_markdown":"I have written down a code where I need to automate a dropdown with 4 options available. I am using a for loop to check the value in the dropdown and after that to click on every option present in the dropdown and to validate whether the application is returning the correct result based on the selection of dropdown.\r\n\r\nError found:\r\nBut, after clicking on one option, it is coming out from the for loop and not executing till the size of the dropdown and returning a state element exception. Here I am attaching the code:\r\n\r\n        Select select = new Select(hp.sort());\r\n\t\tList&lt;WebElement&gt; values = select.getOptions();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; values.size(); i++) {\r\n\t\t\t\r\n\t\t\t\tSystem.out.println(values.get(i).getText());\r\n\t\t\t\t\r\n\t\t\t\tif (values.get(i).getText().equals(&quot;Name (A to Z)&quot;)) {\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse if (values.get(i).getText().equals(&quot;Name (Z to A)&quot;)) {\r\n\t\t\t\t\tselect.selectByVisibleText(values.get(i).getText());\r\n\t\t\t\t\tdriver.navigate().refresh();\r\n\t\t\t\t}\r\n\t\t\t\telse if (values.get(i).getText().equals(&quot;Price (low to high)&quot;)) {\r\n\t\t\t\t\tselect.selectByVisibleText(values.get(i).getText());\r\n\t\t\t\t}\r\n\t\t\t\telse if (values.get(i).getText().equals(&quot;Price (high to low)&quot;)){\r\n\t\t\t\t\tselect.selectByVisibleText(values.get(i).getText());\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t}","title":"Selenium Webdriver - Stale element exception when clicking on multiple dropdowns in a for loop","body":"<p>I have written down a code where I need to automate a dropdown with 4 options available. I am using a for loop to check the value in the dropdown and after that to click on every option present in the dropdown and to validate whether the application is returning the correct result based on the selection of dropdown.</p>\n<p>Error found:\nBut, after clicking on one option, it is coming out from the for loop and not executing till the size of the dropdown and returning a state element exception. Here I am attaching the code:</p>\n<pre><code>    Select select = new Select(hp.sort());\n    List&lt;WebElement&gt; values = select.getOptions();\n    \n    for (int i = 0; i &lt; values.size(); i++) {\n        \n            System.out.println(values.get(i).getText());\n            \n            if (values.get(i).getText().equals(&quot;Name (A to Z)&quot;)) {  \n                \n            }\n            else if (values.get(i).getText().equals(&quot;Name (Z to A)&quot;)) {\n                select.selectByVisibleText(values.get(i).getText());\n                driver.navigate().refresh();\n            }\n            else if (values.get(i).getText().equals(&quot;Price (low to high)&quot;)) {\n                select.selectByVisibleText(values.get(i).getText());\n            }\n            else if (values.get(i).getText().equals(&quot;Price (high to low)&quot;)){\n                select.selectByVisibleText(values.get(i).getText());\n            }\n        \n    }\n</code></pre>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":5035030,"reputation":281,"user_id":5342852,"display_name":"Shankar Saran Singh"},"score":0,"creation_date":1574068058,"post_id":58910990,"comment_id":104084259,"body_markdown":"Seems like package structure and design and declaration of classes is having some problem.  As per my understanding, you want to create clazz Type instance at runtime, it would be better if you create an Abstract class and in the same package create the rest of the classes extends this abstract class in this way via abstraction you can have proper and full control of your instance creation. NoSuchMethodExeception has relation where your classes are declared, the package structure. OR you can follow this:\nClass clazz = Class.forName(&quot;fully.qualified.class.name&quot;);\nA a = (A) clazz.newInstace();","body":"Seems like package structure and design and declaration of classes is having some problem.  As per my understanding, you want to create clazz Type instance at runtime, it would be better if you create an Abstract class and in the same package create the rest of the classes extends this abstract class in this way via abstraction you can have proper and full control of your instance creation. NoSuchMethodExeception has relation where your classes are declared, the package structure. OR you can follow this: Class clazz = Class.forName(&quot;fully.qualified.class.name&quot;); A a = (A) clazz.newInstace();"}],"answers":[{"tags":[],"owner":{"account_id":8447064,"reputation":161,"user_id":6337321,"display_name":"Jahangir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574069284,"creation_date":1574069284,"answer_id":58911436,"question_id":58910990,"body_markdown":"As per my understanding your class has no default constructor. That&#39;s why you get this kind of exception. So You have to implement default constructor explicitly if you made any constructor in class. This exception comes from clazz.newInstance();","title":"java.lang.NoSuchMethodException : package.ClassName.&lt;init&gt;() Using Class&lt;?&gt;","body":"<p>As per my understanding your class has no default constructor. That's why you get this kind of exception. So You have to implement default constructor explicitly if you made any constructor in class. This exception comes from clazz.newInstance();</p>\n"},{"tags":[],"owner":{"account_id":12193925,"reputation":1483,"user_id":8900311,"display_name":"Quaffel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1574069303,"creation_date":1574069303,"answer_id":58911441,"question_id":58910990,"body_markdown":"As per [documentation](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#newInstance--), the function `Class#newInstance` is only capable of initializing classes that provide a no-arg constructor. \r\n\r\nIf you want to initialize a type which doesn&#39;t provide a no-arg constructor and therefore requires the constructor&#39;s caller to provide an argument, you can use the [java.lang.reflect.Constructor-API](https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html).\r\n\r\n```java\r\nConstructor&lt;?&gt; constr = clazz.getConstructor(classTypeOfArgument);\r\nObject instance = constr.newInstance(paramInstance); \r\n```\r\n\r\nNote: Using raw types is a rather bad idea in this context as it seems like you already know what kind of types you&#39;re dealing with. \r\n\r\n@Shankar Saran Singh This has absolutely nothing to do with dynamic type creation at runtime and the code snippet you&#39;ve provided doesn&#39;t solve the author&#39;s question at all.","title":"java.lang.NoSuchMethodException : package.ClassName.&lt;init&gt;() Using Class&lt;?&gt;","body":"<p>As per <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#newInstance--\" rel=\"nofollow noreferrer\">documentation</a>, the function <code>Class#newInstance</code> is only capable of initializing classes that provide a no-arg constructor. </p>\n\n<p>If you want to initialize a type which doesn't provide a no-arg constructor and therefore requires the constructor's caller to provide an argument, you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html\" rel=\"nofollow noreferrer\">java.lang.reflect.Constructor-API</a>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Constructor&lt;?&gt; constr = clazz.getConstructor(classTypeOfArgument);\nObject instance = constr.newInstance(paramInstance); \n</code></pre>\n\n<p>Note: Using raw types is a rather bad idea in this context as it seems like you already know what kind of types you're dealing with. </p>\n\n<p>@Shankar Saran Singh This has absolutely nothing to do with dynamic type creation at runtime and the code snippet you've provided doesn't solve the author's question at all.</p>\n"},{"tags":[],"owner":{"account_id":1493702,"reputation":41,"user_id":1400136,"display_name":"magyuuuuny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647259182,"creation_date":1647259182,"answer_id":71467420,"question_id":58910990,"body_markdown":"Well, I also have similar problem in kotlin JPA.\r\nWhen I use a JPAQueryFactory Projections.fields that needs DTO like below.\r\n```\r\nclass AdCampaignDailyStatDTO @QueryProjection constructor(\r\nvar id: Long?,\r\nvar accountId: Long?,\r\nvar name: String?,\r\nvar type: AdCampaignType?,\r\nvar onOff: OnOffType?,\r\nvar status: AdCampaignStatus?,\r\nvar budgetLimit: BigDecimal?\r\n```\r\n\r\nbut it occured &#39;java.lang.NoSuchMethodException&#39; like you.\r\nEven though many sample code guides that.\r\n```\r\ncom.querydsl.core.types.ExpressionException: com.navercorp.groupn.gpc.entity.stats.dto.AdCampaignDailyStatDTO] with root cause\r\njava.lang.NoSuchMethodException: com.navercorp.groupn.gpc.entity.stats.dto.AdCampaignDailyStatDTO.&lt;init&gt;()\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3349)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:556)\r\n\tat com.querydsl.core.types.QBean.create(QBean.java:255)\r\n\tat com.querydsl.core.types.QBean.newInstance(QBean.java:222)\r\n```\r\n\r\nAnd I ended up solving problem like below.\r\nIt means DTO code needs property initial value that has to define &#39;null&#39; in my case.\r\nlike this.\r\n```\r\nclass AdCampaignDailyStatDTO @QueryProjection constructor(\r\n    var id: Long? = null,\r\n    var accountId: Long? = null,\r\n    var name: String? = null,\r\n    var type: AdCampaignType? = null,\r\n    var onOff: OnOffType? = null,\r\n    var status: AdCampaignStatus? = null,\r\n    var budgetLimit: BigDecimal? = null\r\n)\r\n```\r\n\r\n\r\n\r\n","title":"java.lang.NoSuchMethodException : package.ClassName.&lt;init&gt;() Using Class&lt;?&gt;","body":"<p>Well, I also have similar problem in kotlin JPA.\nWhen I use a JPAQueryFactory Projections.fields that needs DTO like below.</p>\n<pre><code>class AdCampaignDailyStatDTO @QueryProjection constructor(\nvar id: Long?,\nvar accountId: Long?,\nvar name: String?,\nvar type: AdCampaignType?,\nvar onOff: OnOffType?,\nvar status: AdCampaignStatus?,\nvar budgetLimit: BigDecimal?\n</code></pre>\n<p>but it occured 'java.lang.NoSuchMethodException' like you.\nEven though many sample code guides that.</p>\n<pre><code>com.querydsl.core.types.ExpressionException: com.navercorp.groupn.gpc.entity.stats.dto.AdCampaignDailyStatDTO] with root cause\njava.lang.NoSuchMethodException: com.navercorp.groupn.gpc.entity.stats.dto.AdCampaignDailyStatDTO.&lt;init&gt;()\n    at java.base/java.lang.Class.getConstructor0(Class.java:3349)\n    at java.base/java.lang.Class.newInstance(Class.java:556)\n    at com.querydsl.core.types.QBean.create(QBean.java:255)\n    at com.querydsl.core.types.QBean.newInstance(QBean.java:222)\n</code></pre>\n<p>And I ended up solving problem like below.\nIt means DTO code needs property initial value that has to define 'null' in my case.\nlike this.</p>\n<pre><code>class AdCampaignDailyStatDTO @QueryProjection constructor(\n    var id: Long? = null,\n    var accountId: Long? = null,\n    var name: String? = null,\n    var type: AdCampaignType? = null,\n    var onOff: OnOffType? = null,\n    var status: AdCampaignStatus? = null,\n    var budgetLimit: BigDecimal? = null\n)\n</code></pre>\n"}],"owner":{"account_id":12893923,"reputation":386,"user_id":9324947,"accept_rate":83,"display_name":"AyukNayr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58911441,"answer_count":3,"score":0,"last_activity_date":1647259182,"creation_date":1574067697,"question_id":58910990,"body_markdown":"I am instantiating a new class using this code:\r\n\r\n    Class&lt;?&gt; clazz; Object object;\r\n    \r\n    clazz = Class.forname(package.ClassName);//dynamic classes \r\n    \r\n    object = clazz.newInstance();\r\n\r\nNow the problem is whenever I run this code, it gives me a `NoSuchMethodExeception : package.ClassName.`\r\n\r\nClassName has a parameter, and I can&#39;t remove it since it is a must.\r\n\r\nI tried removing the parameter then the error gone (parameter must be always there for some reason).\r\n\r\nWhy is it working like this?\r\n\r\n\r\n","title":"java.lang.NoSuchMethodException : package.ClassName.&lt;init&gt;() Using Class&lt;?&gt;","body":"<p>I am instantiating a new class using this code:</p>\n\n<pre><code>Class&lt;?&gt; clazz; Object object;\n\nclazz = Class.forname(package.ClassName);//dynamic classes \n\nobject = clazz.newInstance();\n</code></pre>\n\n<p>Now the problem is whenever I run this code, it gives me a <code>NoSuchMethodExeception : package.ClassName.</code></p>\n\n<p>ClassName has a parameter, and I can't remove it since it is a must.</p>\n\n<p>I tried removing the parameter then the error gone (parameter must be always there for some reason).</p>\n\n<p>Why is it working like this?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1647254348,"post_id":71466331,"comment_id":126316464,"body_markdown":"Where is your method of prime factorization?","body":"Where is your method of prime factorization?"},{"owner":{"account_id":24551223,"reputation":3,"user_id":18460353,"display_name":"Moomin H"},"score":0,"creation_date":1647254733,"post_id":71466331,"comment_id":126316619,"body_markdown":"@NowhereMan public static ArrayList&lt;Integer&gt; A(int x)\n\t{\n\t\tArrayList&lt;Integer&gt; A = new ArrayList&lt;Integer&gt;();\n\t\tfor(int i=2;i&lt;=x;i++)\n\t\t{\n\t\t\twhile(x%i==0)\n\t\t\t{\n\t\t\t\tx/=i;\n\t\t\t\tA.add(i);\n\t\t\t}\n\t\t}\n\t\treturn A;\n\t}\n\t\n\tpublic static ArrayList&lt;Integer&gt; B(int y)\n\t{\n\t\tArrayList&lt;Integer&gt; B = new ArrayList&lt;Integer&gt;();\n\t\tfor(int i=2;i&lt;=y;i++)\n\t\t{\n\t\t\twhile(y%i==0)\n\t\t\t{\n\t\t\t\ty/=i;\n\t\t\t\tB.add(i);\n\t\t\t}\n\t\t\t\n\t\t}\n\t\treturn B;\n\t}","body":"@NowhereMan public static ArrayList&lt;Integer&gt; A(int x) \t{ \t\tArrayList&lt;Integer&gt; A = new ArrayList&lt;Integer&gt;(); \t\tfor(int i=2;i&lt;=x;i++) \t\t{ \t\t\twhile(x%i==0) \t\t\t{ \t\t\t\tx/=i; \t\t\t\tA.add(i); \t\t\t} \t\t} \t\treturn A; \t} \t \tpublic static ArrayList&lt;Integer&gt; B(int y) \t{ \t\tArrayList&lt;Integer&gt; B = new ArrayList&lt;Integer&gt;(); \t\tfor(int i=2;i&lt;=y;i++) \t\t{ \t\t\twhile(y%i==0) \t\t\t{ \t\t\t\ty/=i; \t\t\t\tB.add(i); \t\t\t} \t\t\t \t\t} \t\treturn B; \t}"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647259118,"creation_date":1647259118,"answer_id":71467393,"question_id":71466331,"body_markdown":"First, the factorization methods `A` and `B` are identical, so only one of these methods should be kept and used.\r\n\r\nSecond, in order to calculate the greatest common divisor using the prime factors, `List::retainAll` is not appropriate because:\r\n1) it does not handle duplicate entries properly. \r\n2) it modifies list `A` implicitly.\r\n\r\nA proper intersection can be computed with the help of a frequency map for each factor:  \r\nfor `x = 18` and `A = [2, 3, 3]` and `y = 30` and `B = [2, 3, 5]` the intersection is `[2, 3] -&gt; gcd = 6`:\r\n```java\r\npublic static int gcd(List&lt;Integer&gt; A, List&lt;Integer&gt; B) {\r\n    Map&lt;Integer, Integer&gt; common = new HashMap&lt;&gt;();\r\n\r\n    A.forEach(a -&gt; common.merge(a, 1, Integer::sum));\r\n\r\n    int gcd = 1;\r\n    \r\n    for (Integer b : B) {\r\n        if (common.merge(b, -1, Integer::sum) &gt;= 0) {\r\n            gcd *= b;\r\n        }\r\n    }\r\n    return gcd;\r\n}\r\n```\r\nIt is also worth to note that here list `A` is not affected.\r\n\r\nSo for the test:\r\n```java\r\nint x = 18;\r\nint y = 30;\r\n\r\nArrayList&lt;Integer&gt; A = A(x);\r\nArrayList&lt;Integer&gt; B = A(y);\r\nSystem.out.println(&quot;gcd = &quot; + gcd(A, B)); // gcd = 6\r\nSystem.out.println(&quot;lcm = &quot; + lcm(A, B)); // lcm = 90\r\n```","title":"about the gcd in arraylist java","body":"<p>First, the factorization methods <code>A</code> and <code>B</code> are identical, so only one of these methods should be kept and used.</p>\n<p>Second, in order to calculate the greatest common divisor using the prime factors, <code>List::retainAll</code> is not appropriate because:</p>\n<ol>\n<li>it does not handle duplicate entries properly.</li>\n<li>it modifies list <code>A</code> implicitly.</li>\n</ol>\n<p>A proper intersection can be computed with the help of a frequency map for each factor:<br />\nfor <code>x = 18</code> and <code>A = [2, 3, 3]</code> and <code>y = 30</code> and <code>B = [2, 3, 5]</code> the intersection is <code>[2, 3] -&gt; gcd = 6</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int gcd(List&lt;Integer&gt; A, List&lt;Integer&gt; B) {\n    Map&lt;Integer, Integer&gt; common = new HashMap&lt;&gt;();\n\n    A.forEach(a -&gt; common.merge(a, 1, Integer::sum));\n\n    int gcd = 1;\n    \n    for (Integer b : B) {\n        if (common.merge(b, -1, Integer::sum) &gt;= 0) {\n            gcd *= b;\n        }\n    }\n    return gcd;\n}\n</code></pre>\n<p>It is also worth to note that here list <code>A</code> is not affected.</p>\n<p>So for the test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x = 18;\nint y = 30;\n\nArrayList&lt;Integer&gt; A = A(x);\nArrayList&lt;Integer&gt; B = A(y);\nSystem.out.println(&quot;gcd = &quot; + gcd(A, B)); // gcd = 6\nSystem.out.println(&quot;lcm = &quot; + lcm(A, B)); // lcm = 90\n</code></pre>\n"}],"owner":{"account_id":24551223,"reputation":3,"user_id":18460353,"display_name":"Moomin H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71467393,"answer_count":1,"score":-1,"last_activity_date":1647259118,"creation_date":1647254068,"question_id":71466331,"body_markdown":"input 2 integers\r\neg x=18 ,y=30\r\ndo prime factorization and save each prime factor in arraylist\r\nand find gcd and lcm in two arraylist\r\n\r\ni tried to find gcd,it result {2,3,3}\r\nbut i need {2,3}\r\nso i can do the 2*3\r\n\r\n    \tpublic static int gcd(ArrayList&lt;Integer&gt; A,ArrayList&lt;Integer&gt; B)\r\n    \t{\r\n    \t\tint sum1=1;\r\n    \t\tA.retainAll(B);\r\n    \t\t\r\n    \t\tfor(int i=0;i&lt;A.size();i++)\r\n    \t\t{\r\n    \t\t\tsum1*=A.get(i);\r\n    \t\t}\r\n    \t\treturn sum1;\r\n    \t}\r\n    \t\r\n    \tpublic static int lcm(ArrayList&lt;Integer&gt; A,ArrayList&lt;Integer&gt; B)\r\n    \t{\r\n    \t\tint sum = 1;\r\n    \t\tfor(int i=0;i&lt;A.size();i++)\r\n    \t\t{\r\n    \t\t\tsum*=A.get(i);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tfor(int j=0;j&lt;B.size();j++)\r\n    \t\t\t{\r\n    \t\t\t\tsum*=B.get(j);\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\treturn sum/gcd(A,B);\r\n    \t}\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\t\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \r\n    \t\tint x = sc.nextInt();\r\n    \t\tint y = sc.nextInt();\r\n    \t\t\r\n    \t\tSystem.out.println(gcd(A(x),B(y)));\r\n    \t\tSystem.out.println(lcm(A(x),B(y)));\r\n    \t\t\r\n    \t}\r\n    }","title":"about the gcd in arraylist java","body":"<p>input 2 integers\neg x=18 ,y=30\ndo prime factorization and save each prime factor in arraylist\nand find gcd and lcm in two arraylist</p>\n<p>i tried to find gcd,it result {2,3,3}\nbut i need {2,3}\nso i can do the 2*3</p>\n<pre><code>    public static int gcd(ArrayList&lt;Integer&gt; A,ArrayList&lt;Integer&gt; B)\n    {\n        int sum1=1;\n        A.retainAll(B);\n        \n        for(int i=0;i&lt;A.size();i++)\n        {\n            sum1*=A.get(i);\n        }\n        return sum1;\n    }\n    \n    public static int lcm(ArrayList&lt;Integer&gt; A,ArrayList&lt;Integer&gt; B)\n    {\n        int sum = 1;\n        for(int i=0;i&lt;A.size();i++)\n        {\n            sum*=A.get(i);\n            \n        }\n        for(int j=0;j&lt;B.size();j++)\n            {\n                sum*=B.get(j);\n                \n            }\n        return sum/gcd(A,B);\n    }\n    public static void main(String[] args) \n    {\n        \n        Scanner sc = new Scanner(System.in);\n\n        int x = sc.nextInt();\n        int y = sc.nextInt();\n        \n        System.out.println(gcd(A(x),B(y)));\n        System.out.println(lcm(A(x),B(y)));\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647259092,"creation_date":1647259092,"answer_id":71467386,"question_id":71456192,"body_markdown":"This is happening because you have an extra column (`id`) in the table (`network_chain`) which is responsible for the `many-to-many` relationship.\r\n\r\nThe `@JoinTable` annotation will support the definition of only 2 fields, usually the `id`s of the 2 tables. The 2 `id`s together, will be the `primary key` for the join table, also known as a `composite primary key`.\r\n\r\nIn your case, you will have to create an entity to represent the table `network_chain`. \r\n\r\n    @Entity\r\n    @Table(name = &quot;network_chain&quot;)\r\n    public class NetworkChain {\r\n    \r\n       @Id\r\n       @Column(name = &quot;id&quot;)\r\n       @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n       private Integer id;\r\n    \r\n       @ManyToOne\r\n       private Network network;\r\n       \r\n       @ManyToOne\r\n       private Chain chain;    \r\n    }\r\n\r\n    public class Network implements Serializable {\r\n        //somewhere in the code\r\n        @OneToMany\r\n        List&lt;NetworkChain&gt; networkChains;\r\n    }\r\n\r\n    public class Chain implements Serializable {\r\n        //somewhere in the code\r\n        @OneToMany\r\n        List&lt;NetworkChain&gt; networkChains;\r\n    }\r\n\r\nNow, the entity `NetworkChain` has the extra column `id` as the primary key and hibernate will do the proper joins to fetch the data.\r\n\r\n**Out of topic** but not sure why there is a javadoc for the `findAll()` method which is usually part of the `JpaRepository` and weird `findById` as well..","title":"Why Hibernate is not performing the JOIN on this MANY TO MANY association table using @ManyToMany and @JoinTable annotation?","body":"<p>This is happening because you have an extra column (<code>id</code>) in the table (<code>network_chain</code>) which is responsible for the <code>many-to-many</code> relationship.</p>\n<p>The <code>@JoinTable</code> annotation will support the definition of only 2 fields, usually the <code>id</code>s of the 2 tables. The 2 <code>id</code>s together, will be the <code>primary key</code> for the join table, also known as a <code>composite primary key</code>.</p>\n<p>In your case, you will have to create an entity to represent the table <code>network_chain</code>.</p>\n<pre><code>@Entity\n@Table(name = &quot;network_chain&quot;)\npublic class NetworkChain {\n\n   @Id\n   @Column(name = &quot;id&quot;)\n   @GeneratedValue(strategy=GenerationType.IDENTITY)\n   private Integer id;\n\n   @ManyToOne\n   private Network network;\n   \n   @ManyToOne\n   private Chain chain;    \n}\n\npublic class Network implements Serializable {\n    //somewhere in the code\n    @OneToMany\n    List&lt;NetworkChain&gt; networkChains;\n}\n\npublic class Chain implements Serializable {\n    //somewhere in the code\n    @OneToMany\n    List&lt;NetworkChain&gt; networkChains;\n}\n</code></pre>\n<p>Now, the entity <code>NetworkChain</code> has the extra column <code>id</code> as the primary key and hibernate will do the proper joins to fetch the data.</p>\n<p><strong>Out of topic</strong> but not sure why there is a javadoc for the <code>findAll()</code> method which is usually part of the <code>JpaRepository</code> and weird <code>findById</code> as well..</p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71467386,"answer_count":1,"score":1,"last_activity_date":1647259092,"creation_date":1647170037,"question_id":71456192,"body_markdown":"I am working on a Spring Boot application using Spring Data JPA and Hibernate mapping and I have the following problem.\r\n\r\nI have this **network** table:\r\n\r\n    CREATE TABLE IF NOT EXISTS public.network\r\n    (\r\n        id bigint NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),\r\n        name character varying(50) COLLATE pg_catalog.&quot;default&quot; NOT NULL,\r\n        description text COLLATE pg_catalog.&quot;default&quot;,\r\n        CONSTRAINT network_pkey PRIMARY KEY (id)\r\n    )\r\n\r\nand this **chain** table:\r\n\r\n    CREATE TABLE IF NOT EXISTS public.chain\r\n    (\r\n        id bigint NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),\r\n        name character varying(50) COLLATE pg_catalog.&quot;default&quot; NOT NULL,\r\n        fk_chain_type bigint NOT NULL,\r\n        description text COLLATE pg_catalog.&quot;default&quot;,\r\n        CONSTRAINT chain_pkey PRIMARY KEY (id),\r\n        CONSTRAINT &quot;chain_to_chain_type_FK&quot; FOREIGN KEY (fk_chain_type)\r\n            REFERENCES public.chain_type (id) MATCH SIMPLE\r\n            ON UPDATE NO ACTION\r\n            ON DELETE NO ACTION\r\n            NOT VALID\r\n    )\r\n\r\nThese 2 tables are related to each other by a **MANY TO MANY** relationship, implmemented by this **network_chain** table:\r\n\r\n    CREATE TABLE IF NOT EXISTS public.network_chain\r\n    (\r\n        id bigint NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),\r\n        fk_network_id bigint NOT NULL,\r\n        fk_chain_id bigint NOT NULL,\r\n        CONSTRAINT network_chain_pkey PRIMARY KEY (id),\r\n        CONSTRAINT chain_id_fk FOREIGN KEY (fk_chain_id)\r\n            REFERENCES public.chain (id) MATCH SIMPLE\r\n            ON UPDATE NO ACTION\r\n            ON DELETE NO ACTION\r\n            NOT VALID,\r\n        CONSTRAINT network_id_fk FOREIGN KEY (fk_network_id)\r\n            REFERENCES public.network (id) MATCH SIMPLE\r\n            ON UPDATE NO ACTION\r\n            ON DELETE NO ACTION\r\n            NOT VALID\r\n    )\r\n\r\nBasically the **fk_network_id** field represents the id of a specific record into the  **network** table while the **fk_chain_id** represents the id of a specific record into the **chain** table.\r\n\r\nI mapped these DB tables with the following Hibernate entity classes, first of all I created this **Network** class mapping the **network** table:\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;network&quot;)\r\n\t@Getter\r\n\t@Setter\r\n\t@NoArgsConstructor\r\n\t@AllArgsConstructor\r\n\t@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n\tpublic class Network implements Serializable {\r\n\r\n\t\tprivate static final long serialVersionUID = -5341425320975462596L;\r\n\t\t\r\n\t\t@Id\r\n\t\t@Column(name = &quot;id&quot;)\r\n\t\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t\tprivate Integer id;\r\n\t\t\r\n\t\t@Column(name = &quot;name&quot;)\r\n\t\tprivate String name;\r\n\t\t\r\n\t\t@Column(name = &quot;description&quot;)\r\n\t\tprivate String description;\r\n\t\t\r\n\t\t@ManyToMany(cascade = { CascadeType.MERGE })\r\n\t\t@JoinTable(\r\n\t\t\tname = &quot;network_chain&quot;, \r\n\t\t\tjoinColumns = { @JoinColumn(name = &quot;fk_network_id&quot;) }, \r\n\t\t\tinverseJoinColumns = { @JoinColumn(name = &quot;fk_chain_id&quot;) }\r\n\t\t)\r\n\t\tSet&lt;Chain&gt; chainList;\r\n\r\n\t}\r\n\r\nAs you can see it contains the **@ManyToMany** annotation using the **@JoinTable** annotation in order to join my **network** table with  my **chain** table (mapped by the **Chain** entity class) using the previous **network_chain** table (implementing the MANY TO MANY relationship).\r\n\r\nSo in this **@JoinTable** annotation I am specifying:\r\n\r\n - The merging table implementing the MANY TO MANY relationship: **network_chain**.\r\n - the two FK on this table that are **fk_network_id** and **fk_chain_id**.\r\n\r\nThen I have this Spring Data JPA repository class named **NetworkRepository**:\r\n\r\n    public interface NetworkRepository extends JpaRepository&lt;Network, Integer&gt; {\r\n    \t\r\n    \t/**\r\n    \t * Retrieve a Network object by its ID\r\n    \t * @param id of the network\r\n    \t * @return the retrieve Network object\r\n    \t */\r\n    \tNetwork findById(String id);\r\n    \t\r\n    \t/**\r\n    \t * Retrieve a Network object by its name\r\n    \t * @param name of the network\r\n    \t * @return a Network object\r\n    \t */\r\n    \tNetwork findByName(String name);\r\n    \t\r\n    \t/**\r\n    \t * Retrieve the list of all the possible networks\r\n    \t * @return a List&lt;Network&gt; object: the list of the all the networks\r\n    \t */\r\n    \tList&lt;Network&gt; findAll();\r\n    \r\n    }\r\n\r\nFinally I created a JUnit test class containing a method in order to test the previous repository **findAll()** method, this one:\r\n\r\n    @SpringBootTest()\r\n    @ContextConfiguration(classes = GetUserWsApplication.class)\r\n    @TestMethodOrder(OrderAnnotation.class)\r\n    public class NetworkTest {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate NetworkRepository networkRepository;\r\n    \t\r\n    \t/**\r\n    \t * Retrieve the networks list\r\n    \t */\r\n    \t@Test\r\n    \t@Order(1)\r\n    \tpublic void findAllTest() {\r\n    \t\t\r\n    \t\tList&lt;Network&gt; networksList = this.networkRepository.findAll();\r\n    \t\t\r\n    \t\tassertTrue(networksList.size() == 5, &quot;It retrieved 5 networks&quot;);\r\n    \t\t\r\n    \t\tSet&lt;Chain&gt; networkChain = networksList.get(0).getChainList();\r\n    \t\t\r\n    \t\tassertTrue(networkChain != null, &quot;The network chains list are not null&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nThe problem is that the **findAll()** method  execute this SQL statement( I can see it into my stacktrace):\r\n\r\n    Hibernate: \r\n        select\r\n            network0_.id as id1_6_,\r\n            network0_.description as descript2_6_,\r\n            network0_.name as name3_6_ \r\n        from\r\n            network network0_\r\n\r\n\r\nand retrieve the expected **List&lt;Network&gt;** object but as you can see in the following printscreen my **chainList** field give an error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt seems that it have not retrieved the chainList from my **MANY TO MANY** table (infact thre previous Hibernate statement seems not perform any join on the **network_chain** and then **chain** tables).\r\n\r\nI also tried to directly access to this field by this line (my idea was that maybe Hibernate performed this join when the access to this field is explicitly performed:\r\n\r\n    Set&lt;Chain&gt; networkChain = networksList.get(0).getChainList();\r\n\r\nIt seems that this **com.sun.jdi.InvocationException** exceptions happens when I try to retrieve this field. Basically it seems that the JOINS between the **MANY TO MANY** table and the on the **chain** table is never performed.\r\n\r\nWhy? What is wrong with my code? What am I missing? How can I try to fix it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Q8Lt.png","title":"Why Hibernate is not performing the JOIN on this MANY TO MANY association table using @ManyToMany and @JoinTable annotation?","body":"<p>I am working on a Spring Boot application using Spring Data JPA and Hibernate mapping and I have the following problem.</p>\n<p>I have this <strong>network</strong> table:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS public.network\n(\n    id bigint NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),\n    name character varying(50) COLLATE pg_catalog.&quot;default&quot; NOT NULL,\n    description text COLLATE pg_catalog.&quot;default&quot;,\n    CONSTRAINT network_pkey PRIMARY KEY (id)\n)\n</code></pre>\n<p>and this <strong>chain</strong> table:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS public.chain\n(\n    id bigint NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),\n    name character varying(50) COLLATE pg_catalog.&quot;default&quot; NOT NULL,\n    fk_chain_type bigint NOT NULL,\n    description text COLLATE pg_catalog.&quot;default&quot;,\n    CONSTRAINT chain_pkey PRIMARY KEY (id),\n    CONSTRAINT &quot;chain_to_chain_type_FK&quot; FOREIGN KEY (fk_chain_type)\n        REFERENCES public.chain_type (id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE NO ACTION\n        NOT VALID\n)\n</code></pre>\n<p>These 2 tables are related to each other by a <strong>MANY TO MANY</strong> relationship, implmemented by this <strong>network_chain</strong> table:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS public.network_chain\n(\n    id bigint NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),\n    fk_network_id bigint NOT NULL,\n    fk_chain_id bigint NOT NULL,\n    CONSTRAINT network_chain_pkey PRIMARY KEY (id),\n    CONSTRAINT chain_id_fk FOREIGN KEY (fk_chain_id)\n        REFERENCES public.chain (id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE NO ACTION\n        NOT VALID,\n    CONSTRAINT network_id_fk FOREIGN KEY (fk_network_id)\n        REFERENCES public.network (id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE NO ACTION\n        NOT VALID\n)\n</code></pre>\n<p>Basically the <strong>fk_network_id</strong> field represents the id of a specific record into the  <strong>network</strong> table while the <strong>fk_chain_id</strong> represents the id of a specific record into the <strong>chain</strong> table.</p>\n<p>I mapped these DB tables with the following Hibernate entity classes, first of all I created this <strong>Network</strong> class mapping the <strong>network</strong> table:</p>\n<pre><code>@Entity\n@Table(name = &quot;network&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\npublic class Network implements Serializable {\n\n    private static final long serialVersionUID = -5341425320975462596L;\n    \n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n    \n    @Column(name = &quot;name&quot;)\n    private String name;\n    \n    @Column(name = &quot;description&quot;)\n    private String description;\n    \n    @ManyToMany(cascade = { CascadeType.MERGE })\n    @JoinTable(\n        name = &quot;network_chain&quot;, \n        joinColumns = { @JoinColumn(name = &quot;fk_network_id&quot;) }, \n        inverseJoinColumns = { @JoinColumn(name = &quot;fk_chain_id&quot;) }\n    )\n    Set&lt;Chain&gt; chainList;\n\n}\n</code></pre>\n<p>As you can see it contains the <strong>@ManyToMany</strong> annotation using the <strong>@JoinTable</strong> annotation in order to join my <strong>network</strong> table with  my <strong>chain</strong> table (mapped by the <strong>Chain</strong> entity class) using the previous <strong>network_chain</strong> table (implementing the MANY TO MANY relationship).</p>\n<p>So in this <strong>@JoinTable</strong> annotation I am specifying:</p>\n<ul>\n<li>The merging table implementing the MANY TO MANY relationship: <strong>network_chain</strong>.</li>\n<li>the two FK on this table that are <strong>fk_network_id</strong> and <strong>fk_chain_id</strong>.</li>\n</ul>\n<p>Then I have this Spring Data JPA repository class named <strong>NetworkRepository</strong>:</p>\n<pre><code>public interface NetworkRepository extends JpaRepository&lt;Network, Integer&gt; {\n    \n    /**\n     * Retrieve a Network object by its ID\n     * @param id of the network\n     * @return the retrieve Network object\n     */\n    Network findById(String id);\n    \n    /**\n     * Retrieve a Network object by its name\n     * @param name of the network\n     * @return a Network object\n     */\n    Network findByName(String name);\n    \n    /**\n     * Retrieve the list of all the possible networks\n     * @return a List&lt;Network&gt; object: the list of the all the networks\n     */\n    List&lt;Network&gt; findAll();\n\n}\n</code></pre>\n<p>Finally I created a JUnit test class containing a method in order to test the previous repository <strong>findAll()</strong> method, this one:</p>\n<pre><code>@SpringBootTest()\n@ContextConfiguration(classes = GetUserWsApplication.class)\n@TestMethodOrder(OrderAnnotation.class)\npublic class NetworkTest {\n    \n    @Autowired\n    private NetworkRepository networkRepository;\n    \n    /**\n     * Retrieve the networks list\n     */\n    @Test\n    @Order(1)\n    public void findAllTest() {\n        \n        List&lt;Network&gt; networksList = this.networkRepository.findAll();\n        \n        assertTrue(networksList.size() == 5, &quot;It retrieved 5 networks&quot;);\n        \n        Set&lt;Chain&gt; networkChain = networksList.get(0).getChainList();\n        \n        assertTrue(networkChain != null, &quot;The network chains list are not null&quot;);\n    }\n\n}\n</code></pre>\n<p>The problem is that the <strong>findAll()</strong> method  execute this SQL statement( I can see it into my stacktrace):</p>\n<pre><code>Hibernate: \n    select\n        network0_.id as id1_6_,\n        network0_.description as descript2_6_,\n        network0_.name as name3_6_ \n    from\n        network network0_\n</code></pre>\n<p>and retrieve the expected <strong>List</strong> object but as you can see in the following printscreen my <strong>chainList</strong> field give an error:</p>\n<p><a href=\"https://i.stack.imgur.com/7Q8Lt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Q8Lt.png\" alt=\"enter image description here\" /></a></p>\n<p>It seems that it have not retrieved the chainList from my <strong>MANY TO MANY</strong> table (infact thre previous Hibernate statement seems not perform any join on the <strong>network_chain</strong> and then <strong>chain</strong> tables).</p>\n<p>I also tried to directly access to this field by this line (my idea was that maybe Hibernate performed this join when the access to this field is explicitly performed:</p>\n<pre><code>Set&lt;Chain&gt; networkChain = networksList.get(0).getChainList();\n</code></pre>\n<p>It seems that this <strong>com.sun.jdi.InvocationException</strong> exceptions happens when I try to retrieve this field. Basically it seems that the JOINS between the <strong>MANY TO MANY</strong> table and the on the <strong>chain</strong> table is never performed.</p>\n<p>Why? What is wrong with my code? What am I missing? How can I try to fix it?</p>\n"},{"tags":["javascript","java","oracle","jet"],"answers":[{"tags":[],"owner":{"account_id":15886197,"reputation":223,"user_id":11462489,"display_name":"jon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647258816,"creation_date":1647258816,"answer_id":71467325,"question_id":71446396,"body_markdown":"oj-menu component is not a popup component. So initiate oj-menu we have to use it along with oj-menu-button component. ","title":"How to initiate ojet menu from javascript","body":"<p>oj-menu component is not a popup component. So initiate oj-menu we have to use it along with oj-menu-button component.</p>\n"}],"owner":{"account_id":15886197,"reputation":223,"user_id":11462489,"display_name":"jon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647258816,"creation_date":1647049923,"question_id":71446396,"body_markdown":"We are using below function in java script to trigger oj-dialog and its working fine. \r\n```\r\nelse if(operation === &quot;fmethod&quot;){\r\n            \r\n            var popup = document.getElementById(&quot;fPopUp&quot;);\r\n            if (!popup.isOpen()) {\r\n                popup.open();\r\n            }\r\n            return;\r\n```\r\nBut when I am using the same function to trigger oj-menu or any other oj element we are getting &quot;popup.isOpen is not a funtion&quot; error. \r\n\r\nCan someone let me know what should be the equivalent syntax of javascript to trigger or start oj-menu.","title":"How to initiate ojet menu from javascript","body":"<p>We are using below function in java script to trigger oj-dialog and its working fine.</p>\n<pre><code>else if(operation === &quot;fmethod&quot;){\n            \n            var popup = document.getElementById(&quot;fPopUp&quot;);\n            if (!popup.isOpen()) {\n                popup.open();\n            }\n            return;\n</code></pre>\n<p>But when I am using the same function to trigger oj-menu or any other oj element we are getting &quot;popup.isOpen is not a funtion&quot; error.</p>\n<p>Can someone let me know what should be the equivalent syntax of javascript to trigger or start oj-menu.</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-athena"],"comments":[{"owner":{"account_id":942617,"reputation":2964,"user_id":970422,"accept_rate":73,"display_name":"Hussain Mansoor"},"score":0,"creation_date":1647321829,"post_id":71467303,"comment_id":126335790,"body_markdown":"Don&#39;t ask open ended generic questions. Show what you tried, which documentation or tutorial you&#39;re following and then ask help on the specific issue you&#39;re facing. Not a problem statement of a project.","body":"Don&#39;t ask open ended generic questions. Show what you tried, which documentation or tutorial you&#39;re following and then ask help on the specific issue you&#39;re facing. Not a problem statement of a project."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647346245,"post_id":71467303,"comment_id":126343156,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":20990586,"reputation":1,"user_id":15423528,"display_name":"Prakash dubey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647258746,"creation_date":1647258746,"question_id":71467303,"body_markdown":"How i can upload nested JSON and create a table using java in Athena with the help of data.jsonserde.JsonSerDe(maven)?\r\nor is it possible to do so?\r\n","title":"How i can upload nested JSON and create a table using java in Athena","body":"<p>How i can upload nested JSON and create a table using java in Athena with the help of data.jsonserde.JsonSerDe(maven)?\nor is it possible to do so?</p>\n"},{"tags":["java","user-interface","javafx","actionlistener"],"answers":[{"tags":[],"owner":{"account_id":2352518,"reputation":609,"user_id":2061026,"display_name":"SSchuette"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1495109551,"creation_date":1479885504,"answer_id":40758244,"question_id":40757911,"body_markdown":"If you want to e.g. reuse an `EventHandler`, define it like described in [JavaFX Documentation][1] as:\r\n\r\n    EventHandler&lt;ActionEvent&gt; buttonHandler = new EventHandler&lt;ActionEvent&gt;() {\r\n        @Override\r\n        public void handle(ActionEvent event) {\r\n            label.setText(&quot;Accepted&quot;);\r\n            event.consume();\r\n        }\r\n    };\r\n\r\nYou can now add your defined `buttonHandler` to the `onAction` of your button via:\r\n\r\n    button.setOnAction(buttonHandler);\r\n\r\nAnd citing from the documentation providing the remove option for completeness:\r\n\r\n&gt; To remove an event handler that was registered by a convenience method, pass null to the convenience method, for example, `node1.setOnMouseDragged(null).`\r\n\r\nResulting for you in: \r\n\r\n    button.setOnAction(null)\r\n\r\nThe documentation furthermore provides some examples how to add handler for specific events - it&#39;s a good read.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javafx/2/events/handlers.htm#BABBHHCJ","title":"Javafx adding ActionListener to button","body":"<p>If you want to e.g. reuse an <code>EventHandler</code>, define it like described in <a href=\"https://docs.oracle.com/javafx/2/events/handlers.htm#BABBHHCJ\" rel=\"noreferrer\">JavaFX Documentation</a> as:</p>\n\n<pre><code>EventHandler&lt;ActionEvent&gt; buttonHandler = new EventHandler&lt;ActionEvent&gt;() {\n    @Override\n    public void handle(ActionEvent event) {\n        label.setText(\"Accepted\");\n        event.consume();\n    }\n};\n</code></pre>\n\n<p>You can now add your defined <code>buttonHandler</code> to the <code>onAction</code> of your button via:</p>\n\n<pre><code>button.setOnAction(buttonHandler);\n</code></pre>\n\n<p>And citing from the documentation providing the remove option for completeness:</p>\n\n<blockquote>\n  <p>To remove an event handler that was registered by a convenience method, pass null to the convenience method, for example, <code>node1.setOnMouseDragged(null).</code></p>\n</blockquote>\n\n<p>Resulting for you in: </p>\n\n<pre><code>button.setOnAction(null)\n</code></pre>\n\n<p>The documentation furthermore provides some examples how to add handler for specific events - it's a good read.</p>\n"},{"tags":[],"owner":{"account_id":7575319,"reputation":403,"user_id":5747896,"accept_rate":100,"display_name":"MertG"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1479890034,"creation_date":1479890034,"answer_id":40759420,"question_id":40757911,"body_markdown":"I think this is how I should do. Creating the handler:\r\n\r\n    public EventHandler&lt;Event&gt; createSolButtonHandler()\r\n    {\r\n    \tbtnSolHandler = new EventHandler&lt;Event&gt;() {\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void handle(Event event) {\r\n    \t\t\tSystem.out.println(&quot;Pressed!&quot;);\r\n    \t\t\tbiddingHelperFrame.getBtnSag().setVisible(false);\r\n    \t\t}\r\n    \t};\r\n    \treturn btnSolHandler;\r\n    }\r\n\r\nAdding Handler to button:\r\n\r\n    btnSol.addEventHandler(MouseEvent.MOUSE_CLICKED, biddingHelperFrameController.createSolButtonHandler());","title":"Javafx adding ActionListener to button","body":"<p>I think this is how I should do. Creating the handler:</p>\n\n<pre><code>public EventHandler&lt;Event&gt; createSolButtonHandler()\n{\n    btnSolHandler = new EventHandler&lt;Event&gt;() {\n\n        @Override\n        public void handle(Event event) {\n            System.out.println(\"Pressed!\");\n            biddingHelperFrame.getBtnSag().setVisible(false);\n        }\n    };\n    return btnSolHandler;\n}\n</code></pre>\n\n<p>Adding Handler to button:</p>\n\n<pre><code>btnSol.addEventHandler(MouseEvent.MOUSE_CLICKED, biddingHelperFrameController.createSolButtonHandler());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5129591,"reputation":141,"user_id":4110287,"display_name":"D4NT3"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1647258655,"creation_date":1584537022,"answer_id":60740308,"question_id":40757911,"body_markdown":"Just the same approach, but easier with lamda expressions:\r\n\r\n    button.setOnAction(event -&gt; buttonSaveClicked());","title":"Javafx adding ActionListener to button","body":"<p>Just the same approach, but easier with lamda expressions:</p>\n<pre><code>button.setOnAction(event -&gt; buttonSaveClicked());\n</code></pre>\n"}],"owner":{"account_id":7575319,"reputation":403,"user_id":5747896,"accept_rate":100,"display_name":"MertG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39191,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":40759420,"answer_count":3,"score":12,"last_activity_date":1647258655,"creation_date":1479884215,"question_id":40757911,"body_markdown":"    button.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n        @Override public void handle(ActionEvent e) {\r\n            label.setText(&quot;Accepted&quot;);\r\n        }\r\n    });\r\n\r\nIn the code above we are defining what will happen when we press the button. This is all good but I wanna create new ActionListener and then add it to my button.\r\nNormally in JButton I can just add ActionListener like this:\r\n\r\n    button.addActionListener(someControllerClass.createButtonListener());\r\n\r\nIn code above createButtonListener() returns ActionListener.\r\n\r\nMy question is: What is the equivalent of JButton addActionListener ?","title":"Javafx adding ActionListener to button","body":"<pre><code>button.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n    @Override public void handle(ActionEvent e) {\n        label.setText(\"Accepted\");\n    }\n});\n</code></pre>\n\n<p>In the code above we are defining what will happen when we press the button. This is all good but I wanna create new ActionListener and then add it to my button.\nNormally in JButton I can just add ActionListener like this:</p>\n\n<pre><code>button.addActionListener(someControllerClass.createButtonListener());\n</code></pre>\n\n<p>In code above createButtonListener() returns ActionListener.</p>\n\n<p>My question is: What is the equivalent of JButton addActionListener ?</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":2,"creation_date":1647259050,"post_id":71467267,"comment_id":126318197,"body_markdown":"you *could* add a constructor with the initial value of the atomic as an argument `public ClassATest(int initial) {atomicInt = new AtomicInteger(initial); }` that way you could add a pretty high initial value in the test when creating an instance of `ClassATest`","body":"you <i>could</i> add a constructor with the initial value of the atomic as an argument <code>public ClassATest(int initial) {atomicInt = new AtomicInteger(initial); }</code> that way you could add a pretty high initial value in the test when creating an instance of <code>ClassATest</code>"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1647260568,"post_id":71467267,"comment_id":126318785,"body_markdown":"Another option would be to make `MAX_NUM` configurable through a constructor.  In either approach, the constructor could be `protected` (assuming the test class has the same package as the class under test).","body":"Another option would be to make <code>MAX_NUM</code> configurable through a constructor.  In either approach, the constructor could be <code>protected</code> (assuming the test class has the same package as the class under test)."},{"owner":{"account_id":15466975,"reputation":117,"user_id":11158058,"display_name":"Arun"},"score":0,"creation_date":1647267010,"post_id":71467267,"comment_id":126321444,"body_markdown":"Both are useful ways for this case. Thanks a lot. Its worked for me.","body":"Both are useful ways for this case. Thanks a lot. Its worked for me."}],"owner":{"account_id":15466975,"reputation":117,"user_id":11158058,"display_name":"Arun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647258517,"creation_date":1647258517,"question_id":71467267,"body_markdown":"In the below incrementId() method, I need to test *id &gt; MAX_NUM* greater than the condition.\r\n\r\n```\r\npubic class ClassATest {\r\n\r\n  AtomicInteger atomicInt = new AtomicInteger (0)\r\n  public static final int MAX_NUM = 1000\r\n\r\n  pulic long incrementId() {\r\n   long id = atomicInt.incrementAndGet();\r\n   if (id &gt; MAX_NUM ) {\r\n     System.out.println(&quot;need to be tested....&quot;)\r\n   }\r\n}\r\n}\r\n``` \r\nIs it possible to mock the above atomicInt object? or is there any way to test above  *if condition* without affecting the performance?\r\n\r\nCan someone please help me on this?","title":"Junit: how to handle class level variables in junit test cases","body":"<p>In the below incrementId() method, I need to test <em>id &gt; MAX_NUM</em> greater than the condition.</p>\n<pre><code>pubic class ClassATest {\n\n  AtomicInteger atomicInt = new AtomicInteger (0)\n  public static final int MAX_NUM = 1000\n\n  pulic long incrementId() {\n   long id = atomicInt.incrementAndGet();\n   if (id &gt; MAX_NUM ) {\n     System.out.println(&quot;need to be tested....&quot;)\n   }\n}\n}\n</code></pre>\n<p>Is it possible to mock the above atomicInt object? or is there any way to test above  <em>if condition</em> without affecting the performance?</p>\n<p>Can someone please help me on this?</p>\n"},{"tags":["java","lambda","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":5,"creation_date":1567885354,"post_id":57836937,"comment_id":102102208,"body_markdown":"`Filter.nameStartingWithPrefix` should probably return a `Predicate&lt;String&gt;`, not a String itself.","body":"<code>Filter.nameStartingWithPrefix</code> should probably return a <code>Predicate&lt;String&gt;</code>, not a String itself."}],"answers":[{"tags":[],"owner":{"account_id":8404501,"reputation":108,"user_id":6308393,"accept_rate":100,"display_name":"Shiv Pratap Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1567933932,"creation_date":1567933306,"answer_id":57840512,"question_id":57836937,"body_markdown":"Since you are using a Custom Filter Class to invoke the filter over the stream.\r\nfilter function requires a Predicate, therefore you will need to create a custom predicate and return it from the nameStartingWithPrefix function.\r\n\r\nIn the same way, you will require to create a Function for mapper and will return it from the function.\r\n\r\n\r\n\timport java.util.Arrays;\r\n\timport java.util.HashMap;\r\n\timport java.util.List;\r\n\timport java.util.Scanner;\r\n\timport java.util.function.Function;\r\n\timport java.util.function.Predicate;\r\n\r\n\tclass Filter {\r\n\r\n\t\tpublic static Predicate&lt;String&gt; nameStartingWithPrefix(String nextLine) {\r\n\t\t\treturn new Predicate&lt;String&gt;() {\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean test(String t) {\r\n\t\t\t\t\t// System.out.println(t);\r\n\t\t\t\t\treturn t.startsWith(nextLine);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\tpublic class Solution1 {\r\n\t\tprivate static final Scanner scanner = new Scanner(System.in);\r\n\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tList&lt;String&gt; names = Arrays.asList(\r\n\t\t\t\t\t&quot;aaryanna&quot;,\r\n\t\t\t\t\t&quot;aayanna&quot;,\r\n\t\t\t\t\t&quot;airianna&quot;,\r\n\t\t\t\t\t&quot;alassandra&quot;,\r\n\t\t\t\t\t&quot;allanna&quot;,\r\n\t\t\t\t\t&quot;allannah&quot;,\r\n\t\t\t\t\t&quot;allessandra&quot;,\r\n\t\t\t\t\t&quot;allianna&quot;,\r\n\t\t\t\t\t&quot;allyanna&quot;,\r\n\t\t\t\t\t&quot;anastaisa&quot;,\r\n\t\t\t\t\t&quot;anastashia&quot;,\r\n\t\t\t\t\t&quot;anastasia&quot;,\r\n\t\t\t\t\t&quot;annabella&quot;,\r\n\t\t\t\t\t&quot;annabelle&quot;,\r\n\t\t\t\t\t&quot;annebelle&quot;\r\n\t\t\t\t\t);\r\n\r\n\t\t\tnames.stream().filter(Filter.nameStartingWithPrefix(scanner.nextLine()))\r\n\t\t\t.map(Mapper.getDistinctCharactersCount()).forEachOrdered(System.out::println);\r\n\t\t}\r\n\t}\r\n\r\nFor further clarification for filter and map please check out below links:\r\n\r\nDocumentation for Predicate Functions : https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html#test-T-\r\n\r\nVideo Explanation for Map : https://www.youtube.com/watch?v=bTTNVP_ORr8\r\n\r\nVideo Explanation for Filter : https://www.youtube.com/watch?v=vHwToYEYvsU\r\n\r\nNote: Please follow Stackoverflow guidelines to ask questions.","title":"Call custom static functions from filter and map in Java 8 - stream","body":"<p>Since you are using a Custom Filter Class to invoke the filter over the stream.\nfilter function requires a Predicate, therefore you will need to create a custom predicate and return it from the nameStartingWithPrefix function.</p>\n\n<p>In the same way, you will require to create a Function for mapper and will return it from the function.</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.function.Function;\nimport java.util.function.Predicate;\n\nclass Filter {\n\n    public static Predicate&lt;String&gt; nameStartingWithPrefix(String nextLine) {\n        return new Predicate&lt;String&gt;() {\n\n            @Override\n            public boolean test(String t) {\n                // System.out.println(t);\n                return t.startsWith(nextLine);\n            }\n        };\n    }\n\n}\n\n\npublic class Solution1 {\n    private static final Scanner scanner = new Scanner(System.in);\n\n    @SuppressWarnings(\"unchecked\")\n    public static void main(String[] args) {\n        List&lt;String&gt; names = Arrays.asList(\n                \"aaryanna\",\n                \"aayanna\",\n                \"airianna\",\n                \"alassandra\",\n                \"allanna\",\n                \"allannah\",\n                \"allessandra\",\n                \"allianna\",\n                \"allyanna\",\n                \"anastaisa\",\n                \"anastashia\",\n                \"anastasia\",\n                \"annabella\",\n                \"annabelle\",\n                \"annebelle\"\n                );\n\n        names.stream().filter(Filter.nameStartingWithPrefix(scanner.nextLine()))\n        .map(Mapper.getDistinctCharactersCount()).forEachOrdered(System.out::println);\n    }\n}\n</code></pre>\n\n<p>For further clarification for filter and map please check out below links:</p>\n\n<p>Documentation for Predicate Functions : <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html#test-T-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html#test-T-</a></p>\n\n<p>Video Explanation for Map : <a href=\"https://www.youtube.com/watch?v=bTTNVP_ORr8\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=bTTNVP_ORr8</a></p>\n\n<p>Video Explanation for Filter : <a href=\"https://www.youtube.com/watch?v=vHwToYEYvsU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=vHwToYEYvsU</a></p>\n\n<p>Note: Please follow Stackoverflow guidelines to ask questions.</p>\n"},{"tags":[],"owner":{"account_id":19889549,"reputation":31,"user_id":14571926,"display_name":"GKN"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1604420493,"creation_date":1604420493,"answer_id":64666645,"question_id":57836937,"body_markdown":"```\r\nThe Filter and Mapper implementation is followed as - \r\nclass Filter {\r\n    public static Predicate&lt;String&gt; nameStartingWithPrefix(String prefix) {\r\n        return n -&gt; n.startsWith(prefix);\r\n    }\r\n}\r\nclass Mapper {\r\n    public static Function&lt;String, CharactersCount&gt; getDistinctCharactersCount() {\r\n    \treturn s -&gt; new CharactersCount(s, (int)s.chars().distinct().count());\r\n    }\r\n}\r\nclass CharactersCount {\r\n\r\n\tprivate final String name;\r\n\tprivate final Integer distinctCharacterCount;\r\n\r\n\tpublic CharactersCount(String name, Integer distinctCharacterCount) {\r\n\t\tthis.name = name;\r\n\t\tthis.distinctCharacterCount = distinctCharacterCount;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;\\&quot;&quot; + this.name + &quot;\\&quot; has &quot; + this.distinctCharacterCount + &quot; distinct characters.&quot;;\r\n\t}\r\n\r\n}\r\n\r\n```","title":"Call custom static functions from filter and map in Java 8 - stream","body":"<pre><code>The Filter and Mapper implementation is followed as - \nclass Filter {\n    public static Predicate&lt;String&gt; nameStartingWithPrefix(String prefix) {\n        return n -&gt; n.startsWith(prefix);\n    }\n}\nclass Mapper {\n    public static Function&lt;String, CharactersCount&gt; getDistinctCharactersCount() {\n        return s -&gt; new CharactersCount(s, (int)s.chars().distinct().count());\n    }\n}\nclass CharactersCount {\n\n    private final String name;\n    private final Integer distinctCharacterCount;\n\n    public CharactersCount(String name, Integer distinctCharacterCount) {\n        this.name = name;\n        this.distinctCharacterCount = distinctCharacterCount;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;\\&quot;&quot; + this.name + &quot;\\&quot; has &quot; + this.distinctCharacterCount + &quot; distinct characters.&quot;;\n    }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24553438,"reputation":1,"user_id":18462354,"display_name":"viashanavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647257826,"creation_date":1647257826,"answer_id":71467121,"question_id":57836937,"body_markdown":"    small correction in Mapper class\r\n     it should be like this (just we need to create object and we need to enclose inner class and methods)\r\n    \r\n    class Mapper {\r\n    \t\tpublic static Function&lt;String, CharactersCount&gt; getDistinctCharactersCount() {\r\n    \t\t\tFilterMapper fm = new FilterMapper();\r\n    \t\t\treturn s -&gt; fm.new CharactersCount(s, (int) s.chars().distinct().count());\r\n    \t\t}\r\n    \t}","title":"Call custom static functions from filter and map in Java 8 - stream","body":"<pre><code>small correction in Mapper class\n it should be like this (just we need to create object and we need to enclose inner class and methods)\n\nclass Mapper {\n        public static Function&lt;String, CharactersCount&gt; getDistinctCharactersCount() {\n            FilterMapper fm = new FilterMapper();\n            return s -&gt; fm.new CharactersCount(s, (int) s.chars().distinct().count());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":10757431,"reputation":39,"user_id":7914960,"display_name":"Pooja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9155,"favorite_count":0,"down_vote_count":4,"up_vote_count":4,"accepted_answer_id":57840512,"answer_count":3,"score":0,"last_activity_date":1647257826,"creation_date":1567885181,"question_id":57836937,"body_markdown":"I want to call method name nameStartingWithPrefix() which is inside filter and its definition will be in Filter class. \r\n\r\nAll ArrayList describes in main(), but the list is not passed as in an argument, how can I call in List of names inside Filter.nameStartingWithPrefix(). \r\n    \r\nSyntax is given like: \r\n\r\nnames is name of ArrayList which is inside main() \r\n\r\n    names.stream()\r\n    .filter(Filter.nameStartingWithPrefix(scanner.nextLine()))\r\n    .map(Mapper.getDistinctCharactersCount())\r\n    .forEachOrdered(System.out::println);\r\n\r\n\r\nBelow is code sample:\r\n    \r\n        public class FilterMapper {\r\n            private static final Scanner scanner = new Scanner(System.in);\r\n           \r\n            public static void main(String[] args) {\r\n                List&lt;String&gt; names = Arrays.asList(\r\n                        &quot;aaryanna&quot;,\r\n                        &quot;aayanna&quot;,\r\n                        &quot;airianna&quot;,\r\n                        &quot;alassandra&quot;,\r\n                        &quot;allanna&quot;,\r\n                        &quot;allannah&quot;,\r\n                        &quot;allessandra&quot;,\r\n                        &quot;allianna&quot;,\r\n                        &quot;allyanna&quot;,\r\n                        &quot;anastaisa&quot;,\r\n                        &quot;anastashia&quot;,\r\n                        &quot;anastasia&quot;,\r\n                        &quot;annabella&quot;,\r\n                        &quot;annabelle&quot;,\r\n                        &quot;annebelle&quot;\r\n                );\r\n               \r\n                names.stream()\r\n                        .filter(Filter.nameStartingWithPrefix(scanner.nextLine()))\r\n                        .map(Mapper.getDistinctCharactersCount())\r\n                        .forEachOrdered(System.out::println);\r\n            }\r\n        }\r\n        \r\n         class Filter{\r\n        \t\r\n        \t public static String nameStartingWithPrefix(String prefix)\r\n        \t {\r\n        \t\t \r\n        \t }\r\n        }\r\n    \r\n  2.  Expected like, I have to write a code on Filter method which filters the names on the basis of prefix given by the user in runtime.\r\n    But I am unable to access list on the basis of given code. can you please help me how to access List of names inside the Filter class.\r\n    \r\n   3. I think List should be passed in arguments of (Filter.nameStartingWithPrefix(scanner.nextLine()))\r\n    but its not there.\r\n\r\n","title":"Call custom static functions from filter and map in Java 8 - stream","body":"<p>I want to call method name nameStartingWithPrefix() which is inside filter and its definition will be in Filter class. </p>\n\n<p>All ArrayList describes in main(), but the list is not passed as in an argument, how can I call in List of names inside Filter.nameStartingWithPrefix(). </p>\n\n<p>Syntax is given like: </p>\n\n<p>names is name of ArrayList which is inside main() </p>\n\n<pre><code>names.stream()\n.filter(Filter.nameStartingWithPrefix(scanner.nextLine()))\n.map(Mapper.getDistinctCharactersCount())\n.forEachOrdered(System.out::println);\n</code></pre>\n\n<p>Below is code sample:</p>\n\n<pre><code>    public class FilterMapper {\n        private static final Scanner scanner = new Scanner(System.in);\n\n        public static void main(String[] args) {\n            List&lt;String&gt; names = Arrays.asList(\n                    \"aaryanna\",\n                    \"aayanna\",\n                    \"airianna\",\n                    \"alassandra\",\n                    \"allanna\",\n                    \"allannah\",\n                    \"allessandra\",\n                    \"allianna\",\n                    \"allyanna\",\n                    \"anastaisa\",\n                    \"anastashia\",\n                    \"anastasia\",\n                    \"annabella\",\n                    \"annabelle\",\n                    \"annebelle\"\n            );\n\n            names.stream()\n                    .filter(Filter.nameStartingWithPrefix(scanner.nextLine()))\n                    .map(Mapper.getDistinctCharactersCount())\n                    .forEachOrdered(System.out::println);\n        }\n    }\n\n     class Filter{\n\n         public static String nameStartingWithPrefix(String prefix)\n         {\n\n         }\n    }\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Expected like, I have to write a code on Filter method which filters the names on the basis of prefix given by the user in runtime.\nBut I am unable to access list on the basis of given code. can you please help me how to access List of names inside the Filter class.</p>\n\n<ol start=\"3\">\n<li>I think List should be passed in arguments of (Filter.nameStartingWithPrefix(scanner.nextLine()))\nbut its not there.</li>\n</ol></li>\n</ol>\n"},{"tags":["java","spring-boot","apache-camel","spring-ws"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1647288000,"post_id":71466577,"comment_id":126329400,"body_markdown":"When using Java DSL, you should not escape URI parameters. Try with `&amp;soapAction=...` instead of `&amp;amp;soapAction=...`","body":"When using Java DSL, you should not escape URI parameters. Try with <code>&amp;soapAction=...</code> instead of <code>&amp;amp;soapAction=...</code>"},{"owner":{"account_id":1973259,"reputation":465,"user_id":1771662,"accept_rate":60,"display_name":"shatk"},"score":0,"creation_date":1647333212,"post_id":71466577,"comment_id":126338509,"body_markdown":"Spring-ws throws WebServiceTransportException with &amp;. Stacktrace below. \n2022-03-15 12:27:58.411 [http-nio-9090-exec-1   ] ERROR - null :: Exception occurred FQ :: \norg.springframework.ws.client.WebServiceTransportException: Internal Server Error [500]\n\tat org.springframework.ws.client.core.WebServiceTemplate.handleError(WebServiceTemplate.java:673)\n\tat org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:591)\n\tat org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:542)","body":"Spring-ws throws WebServiceTransportException with &amp;. Stacktrace below.  2022-03-15 12:27:58.411 [http-nio-9090-exec-1   ] ERROR - null :: Exception occurred FQ ::  org.springframework.ws.client.WebServiceTransportException: Internal Server Error [500] \tat org.springframework.ws.client.core.WebServiceTemplate.handle&zwnj;&#8203;Error(WebServiceTemp&zwnj;&#8203;late.java:673) \tat org.springframework.ws.client.core.WebServiceTemplate.doSend&zwnj;&#8203;AndReceive(WebServic&zwnj;&#8203;eTemplate.java:591) \tat org.springframework.ws.client.core.WebServiceTemplate.sendAn&zwnj;&#8203;dReceive(WebServiceT&zwnj;&#8203;emplate.java:542)"}],"owner":{"account_id":1973259,"reputation":465,"user_id":1771662,"accept_rate":60,"display_name":"shatk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647257816,"creation_date":1647255204,"question_id":71466577,"body_markdown":"\r\nWe are working on performance tuning of camel spring-ws API to support high TPS. we are trying to override default connection properties of HttpComponentsMessageSender with custom spring-webservice template based on below spring-ws doc , but with no luck. \r\n\r\nhttps://camel.apache.org/components/3.15.x/spring-ws-component.html\r\n\r\ncamel.version -3.0.1\r\nspring-boot-version - 2.6.3\r\n\r\n**Camel Route**\r\n\r\n    .doTry()\r\n    \t\t.to(dStreamPath)\r\n\r\n**Spring WS YAML Config**\r\n\r\n    dStreamPath: spring-ws:http://URL/getOffers?webServiceTemplate=#customSpringWSTemplate&amp;amp;soapAction=http://www.url.org\r\n\r\n**Bean Config**\r\n\r\n    @Bean(name = &quot;customSpringWSTemplate&quot;)\r\n\t   public WebServiceTemplate webServiceTemplate() throws Exception {\r\n\t\tfinal MessageFactory msgFactory = MessageFactory.newInstance(SOAPConstants.SOAP_1_2_PROTOCOL);\r\n\t\tfinal SaajSoapMessageFactory saajSoapMessageFactory = new SaajSoapMessageFactory(msgFactory);\r\n\t\tfinal WebServiceTemplate customSpringWSTemplate = new WebServiceTemplate(saajSoapMessageFactory);\r\n\t\tHttpComponentsMessageSender httpMessageSender = new HttpComponentsMessageSender();\r\n\t\thttpMessageSender.setMaxConnectionsPerHost(new HashMap&lt;String, String&gt;() {\r\n\t\t\t{ put(&quot;http://URL/getOffers&quot;, &quot;20&quot;);}\r\n\t\t});\r\n\t\thttpMessageSender.setMaxTotalConnections(100);\r\n\r\n\t\tcustomSpringWSTemplate.setMessageSender(httpMessageSender);\r\n\t\treturn customSpringWSTemplate;\r\n\t}\r\n\r\n\r\nError :\r\n\r\n    Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: \r\n    spring-ws://URL due to:\r\n    There are 1 parameters that couldn&#39;t be set on the endpoint. Check the uri if the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{amp;soapAction=http://URL}]\r\n    \tat org.apache.camel.support.DefaultComponent.validateParameters(DefaultComponent.java:199)\r\n    \tat org.apache.camel.support.DefaultComponent.createEndpoint(DefaultComponent.java:135)\r\n\r\n","title":"Spring WS Camel | overriding default http connection properties","body":"<p>We are working on performance tuning of camel spring-ws API to support high TPS. we are trying to override default connection properties of HttpComponentsMessageSender with custom spring-webservice template based on below spring-ws doc , but with no luck.</p>\n<p><a href=\"https://camel.apache.org/components/3.15.x/spring-ws-component.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.15.x/spring-ws-component.html</a></p>\n<p>camel.version -3.0.1\nspring-boot-version - 2.6.3</p>\n<p><strong>Camel Route</strong></p>\n<pre><code>.doTry()\n        .to(dStreamPath)\n</code></pre>\n<p><strong>Spring WS YAML Config</strong></p>\n<pre><code>dStreamPath: spring-ws:http://URL/getOffers?webServiceTemplate=#customSpringWSTemplate&amp;amp;soapAction=http://www.url.org\n</code></pre>\n<p><strong>Bean Config</strong></p>\n<pre><code>@Bean(name = &quot;customSpringWSTemplate&quot;)\n   public WebServiceTemplate webServiceTemplate() throws Exception {\n    final MessageFactory msgFactory = MessageFactory.newInstance(SOAPConstants.SOAP_1_2_PROTOCOL);\n    final SaajSoapMessageFactory saajSoapMessageFactory = new SaajSoapMessageFactory(msgFactory);\n    final WebServiceTemplate customSpringWSTemplate = new WebServiceTemplate(saajSoapMessageFactory);\n    HttpComponentsMessageSender httpMessageSender = new HttpComponentsMessageSender();\n    httpMessageSender.setMaxConnectionsPerHost(new HashMap&lt;String, String&gt;() {\n        { put(&quot;http://URL/getOffers&quot;, &quot;20&quot;);}\n    });\n    httpMessageSender.setMaxTotalConnections(100);\n\n    customSpringWSTemplate.setMessageSender(httpMessageSender);\n    return customSpringWSTemplate;\n}\n</code></pre>\n<p>Error :</p>\n<pre><code>Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: \nspring-ws://URL due to:\nThere are 1 parameters that couldn't be set on the endpoint. Check the uri if the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{amp;soapAction=http://URL}]\n    at org.apache.camel.support.DefaultComponent.validateParameters(DefaultComponent.java:199)\n    at org.apache.camel.support.DefaultComponent.createEndpoint(DefaultComponent.java:135)\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data"],"comments":[{"owner":{"account_id":10846480,"reputation":8784,"user_id":7975771,"accept_rate":12,"display_name":"varman"},"score":0,"creation_date":1647268119,"post_id":71467105,"comment_id":126321962,"body_markdown":"you can use the save() method after calculation. What do you mean runtime?","body":"you can use the save() method after calculation. What do you mean runtime?"},{"owner":{"account_id":18355622,"reputation":11,"user_id":13368740,"display_name":"Shivam Kumar"},"score":0,"creation_date":1647273894,"post_id":71467105,"comment_id":126324415,"body_markdown":"while I enter product quantity and price in the body of the request. The  tot_amt field should be calculated as tot_amt = quantity*price and should be saved in database.","body":"while I enter product quantity and price in the body of the request. The  tot_amt field should be calculated as tot_amt = quantity*price and should be saved in database."}],"owner":{"account_id":18355622,"reputation":11,"user_id":13368740,"display_name":"Shivam Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647257762,"creation_date":1647257762,"question_id":71467105,"body_markdown":"The database schema :-\r\n```\r\n{\r\n&quot;Id&quot;:&quot;string&quot;,\r\n&quot;uname&quot;:&quot;string&quot;,\r\n&quot;products&quot;:[\r\n  {\r\n    &quot;prodname&quot;:&quot;string&quot;,\r\n    &quot;quantity&quot;:&quot;int&quot;,\r\n    &quot;price&quot;:&quot;double&quot;\r\n  }],\r\n&quot;tot_amt&quot;:&quot;double&quot;,\r\n}\r\n```\r\nI want to set tot_amt=quantity*price during the runtime. I am relatively new to MongoDB abd Spring Boot, is there a set way to do this?\r\n\r\nMy Cart.java file\r\n```\r\nimport lombok.Data;\r\n\r\n@Data\r\n@Document(&quot;cart&quot;)\r\npublic class Cart {\r\n\t\r\n\t@Id\r\n\tpublic String Id;\r\n\t\r\n\t@Indexed(unique=true)\r\n\tpublic String uname;\r\n\t\r\n\tpublic List&lt;Product&gt;products;\r\n\tpublic double tot_amt;\r\n\r\n}\r\n\r\n```\r\nProduct.java file\r\n```\r\npackage com.example.demo.modell;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Product {\r\n\r\n\tpublic String prodname;\r\n\tpublic int quantity;\r\n\tpublic double price;\r\n}\r\n\r\n```\r\nCartRepository.java\r\n```\r\n@Repository\r\n\r\npublic interface CartRepository extends MongoRepository&lt;Cart,String&gt;{\r\n\t\r\n\t@Query(&quot;{uname:?0}&quot;)\r\n\tOptional&lt;Cart&gt; findByName(String name);\t\r\n}\r\n```\r\n","title":"I want to update &quot;tot_amt&quot; field in my MongoDB document during the runtime. I am using spring boot as framework?","body":"<p>The database schema :-</p>\n<pre><code>{\n&quot;Id&quot;:&quot;string&quot;,\n&quot;uname&quot;:&quot;string&quot;,\n&quot;products&quot;:[\n  {\n    &quot;prodname&quot;:&quot;string&quot;,\n    &quot;quantity&quot;:&quot;int&quot;,\n    &quot;price&quot;:&quot;double&quot;\n  }],\n&quot;tot_amt&quot;:&quot;double&quot;,\n}\n</code></pre>\n<p>I want to set tot_amt=quantity*price during the runtime. I am relatively new to MongoDB abd Spring Boot, is there a set way to do this?</p>\n<p>My Cart.java file</p>\n<pre><code>import lombok.Data;\n\n@Data\n@Document(&quot;cart&quot;)\npublic class Cart {\n    \n    @Id\n    public String Id;\n    \n    @Indexed(unique=true)\n    public String uname;\n    \n    public List&lt;Product&gt;products;\n    public double tot_amt;\n\n}\n\n</code></pre>\n<p>Product.java file</p>\n<pre><code>package com.example.demo.modell;\n\nimport lombok.Data;\n\n@Data\npublic class Product {\n\n    public String prodname;\n    public int quantity;\n    public double price;\n}\n\n</code></pre>\n<p>CartRepository.java</p>\n<pre><code>@Repository\n\npublic interface CartRepository extends MongoRepository&lt;Cart,String&gt;{\n    \n    @Query(&quot;{uname:?0}&quot;)\n    Optional&lt;Cart&gt; findByName(String name); \n}\n</code></pre>\n"},{"tags":["java","geometry","computational-geometry","jts"],"answers":[{"tags":[],"owner":{"account_id":301079,"reputation":3069,"user_id":608588,"accept_rate":71,"display_name":"Piscean"},"down_vote_count":2,"up_vote_count":14,"is_accepted":true,"score":12,"last_activity_date":1340876834,"creation_date":1340876834,"answer_id":11241996,"question_id":6570017,"body_markdown":"Use these line of codes:\r\n\r\n     GeometryFactory fact = new GeometryFactory();\r\n     LinearRing linear = new GeometryFactory().createLinearRing(coordinates);\r\n     Polygon poly = new Polygon(linear, null, fact);\r\n\r\nI hope it will help :)","title":"How to create a polygon in JTS when we have list of coordinate?","body":"<p>Use these line of codes:</p>\n\n<pre><code> GeometryFactory fact = new GeometryFactory();\n LinearRing linear = new GeometryFactory().createLinearRing(coordinates);\n Polygon poly = new Polygon(linear, null, fact);\n</code></pre>\n\n<p>I hope it will help :)</p>\n"},{"tags":[],"owner":{"account_id":6197971,"reputation":1011,"user_id":4828720,"display_name":"bugmenot123"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1429880513,"creation_date":1429880513,"answer_id":29848243,"question_id":6570017,"body_markdown":"The accepted answer might have still been valid (still awkward) in 2012 but nowadays you should really do it simply like this:\r\n\r\n    // Create a GeometryFactory if you don&#39;t have one already\r\n    GeometryFactory geometryFactory = new GeometryFactory();\r\n    \r\n    // Simply pass an array of Coordinate or a CoordinateSequence to its method\r\n    Polygon polygonFromCoordinates = geometryFactory.createPolygon(coordinates);","title":"How to create a polygon in JTS when we have list of coordinate?","body":"<p>The accepted answer might have still been valid (still awkward) in 2012 but nowadays you should really do it simply like this:</p>\n\n<pre><code>// Create a GeometryFactory if you don't have one already\nGeometryFactory geometryFactory = new GeometryFactory();\n\n// Simply pass an array of Coordinate or a CoordinateSequence to its method\nPolygon polygonFromCoordinates = geometryFactory.createPolygon(coordinates);\n</code></pre>\n"}],"owner":{"account_id":301079,"reputation":3069,"user_id":608588,"accept_rate":71,"display_name":"Piscean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34372,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":11241996,"answer_count":2,"score":18,"last_activity_date":1647257585,"creation_date":1309774076,"question_id":6570017,"body_markdown":"We can create a LineString using coordinates list like this:\r\n\r\n         Geometry g1 = new GeometryFactory().createLineString(coordinates);\r\n\r\nHow can we create a polygon using coordinates list?\r\n\r\nThanks in advance.","title":"How to create a polygon in JTS when we have list of coordinate?","body":"<p>We can create a LineString using coordinates list like this:</p>\n\n<pre><code>     Geometry g1 = new GeometryFactory().createLineString(coordinates);\n</code></pre>\n\n<p>How can we create a polygon using coordinates list?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1647263091,"post_id":71466727,"comment_id":126319779,"body_markdown":"Does this answer your question? [Unable to add window -- token null is not valid; is your activity running?](https://stackoverflow.com/questions/27087983/unable-to-add-window-token-null-is-not-valid-is-your-activity-running)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27087983/unable-to-add-window-token-null-is-not-valid-is-your-activity-running\">Unable to add window -- token null is not valid; is your activity running?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5028906,"reputation":923,"user_id":4039784,"display_name":"Hayssam Soussi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647257530,"creation_date":1647257089,"answer_id":71466972,"question_id":71466727,"body_markdown":"You&#39;re trying to show the popup too early. The view on OnCreate is still not created so try to move the **popup()** to OnViewCreated()\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        popup()\r\n    }\r\n\r\nor use View.post so it goes into the main thread queue and gets executed after the other pending tasks are finished\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n       ...\r\n       binding.root.post {\r\n         popup() \r\n       }\r\n    }","title":"Unable to add window -- token null is not valid; is your activity running error. How can I solve it?","body":"<p>You're trying to show the popup too early. The view on OnCreate is still not created so try to move the <strong>popup()</strong> to OnViewCreated()</p>\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    popup()\n}\n</code></pre>\n<p>or use View.post so it goes into the main thread queue and gets executed after the other pending tasks are finished</p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n   ...\n   binding.root.post {\n     popup() \n   }\n}\n</code></pre>\n"}],"owner":{"account_id":15928330,"reputation":17,"user_id":11493385,"display_name":"Talha  Saglam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71466972,"answer_count":1,"score":1,"last_activity_date":1647257530,"creation_date":1647255834,"question_id":71466727,"body_markdown":"I have a login screen. Switching to the `HomeScreenActivity` when the user logs in. I want to show a popup window message about user information when the activity is opened. But I&#39;m getting an &#39;Unable to add window -- token null is not valid; is your activity running?&#39;  error. I have a popup layout that name is `popup_user_information`. I&#39;m using view binding for this project. How can I solve it?\r\n```\r\npackage com.tcoding.instagramloginscreen\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.content.Intent\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.view.Display\r\nimport android.view.Gravity\r\nimport android.widget.PopupWindow\r\nimport android.widget.Toast\r\nimport androidx.core.hardware.display.DisplayManagerCompat\r\nimport androidx.viewpager.widget.ViewPager\r\nimport com.tcoding.instagramloginscreen.databinding.ActivityHomePageBinding\r\nimport com.tcoding.instagramloginscreen.databinding.PopupUserInformationBinding\r\n\r\nclass HomePageActivity : AppCompatActivity() {\r\n\r\n    lateinit var binding: ActivityHomePageBinding\r\n    lateinit var bindingPopup: PopupUserInformationBinding\r\n\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityHomePageBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        val username = intent.getStringExtra(&quot;username&quot;)\r\n        val password = intent.getStringExtra(&quot;password&quot;)\r\n        binding.tvUsername.text = binding.tvUsername.text.toString() + username\r\n        binding.tvPassword.text = binding.tvPassword.text.toString() + password\r\n\r\n        binding.btnExit.setOnClickListener{\r\n            val intent = Intent(this, MainActivity::class.java)\r\n            intent.putExtra(&quot;username&quot;, username)\r\n            intent.putExtra(&quot;password&quot;, password)\r\n            setResult(RESULT_OK)\r\n            finish()\r\n\r\n        }\r\n\r\n        popUp()\r\n\r\n\r\n    }\r\n\r\n\r\n    fun popUp()\r\n    {\r\n        val username = intent.getStringExtra(&quot;username&quot;)\r\n        val password = intent.getStringExtra(&quot;password&quot;)\r\n        bindingPopup = PopupUserInformationBinding.inflate(layoutInflater)\r\n        val popup = PopupWindow(bindingPopup.root, ViewPager.LayoutParams.MATCH_PARENT, ViewPager.LayoutParams.WRAP_CONTENT)\r\n\r\n\r\n        popup.showAtLocation(bindingPopup.root, Gravity.BOTTOM, 0,0)\r\n\r\n        bindingPopup.usernameInfo.text = username\r\n        bindingPopup.passwordInfo.setText(password)\r\n\r\n        bindingPopup.btnKaydet.setOnClickListener {\r\n            Toast.makeText(this,&quot;Clicked save&quot;,Toast.LENGTH_SHORT).show()\r\n            popup.dismiss()\r\n        }\r\n        bindingPopup.btnNotnow.setOnClickListener {\r\n            Toast.makeText(this,&quot;Clicked Not now&quot;,Toast.LENGTH_SHORT).show()\r\n            popup.dismiss()\r\n        }\r\n    }\r\n}\r\n```","title":"Unable to add window -- token null is not valid; is your activity running error. How can I solve it?","body":"<p>I have a login screen. Switching to the <code>HomeScreenActivity</code> when the user logs in. I want to show a popup window message about user information when the activity is opened. But I'm getting an 'Unable to add window -- token null is not valid; is your activity running?'  error. I have a popup layout that name is <code>popup_user_information</code>. I'm using view binding for this project. How can I solve it?</p>\n<pre><code>package com.tcoding.instagramloginscreen\n\nimport android.annotation.SuppressLint\nimport android.content.Intent\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.Display\nimport android.view.Gravity\nimport android.widget.PopupWindow\nimport android.widget.Toast\nimport androidx.core.hardware.display.DisplayManagerCompat\nimport androidx.viewpager.widget.ViewPager\nimport com.tcoding.instagramloginscreen.databinding.ActivityHomePageBinding\nimport com.tcoding.instagramloginscreen.databinding.PopupUserInformationBinding\n\nclass HomePageActivity : AppCompatActivity() {\n\n    lateinit var binding: ActivityHomePageBinding\n    lateinit var bindingPopup: PopupUserInformationBinding\n\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityHomePageBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        val username = intent.getStringExtra(&quot;username&quot;)\n        val password = intent.getStringExtra(&quot;password&quot;)\n        binding.tvUsername.text = binding.tvUsername.text.toString() + username\n        binding.tvPassword.text = binding.tvPassword.text.toString() + password\n\n        binding.btnExit.setOnClickListener{\n            val intent = Intent(this, MainActivity::class.java)\n            intent.putExtra(&quot;username&quot;, username)\n            intent.putExtra(&quot;password&quot;, password)\n            setResult(RESULT_OK)\n            finish()\n\n        }\n\n        popUp()\n\n\n    }\n\n\n    fun popUp()\n    {\n        val username = intent.getStringExtra(&quot;username&quot;)\n        val password = intent.getStringExtra(&quot;password&quot;)\n        bindingPopup = PopupUserInformationBinding.inflate(layoutInflater)\n        val popup = PopupWindow(bindingPopup.root, ViewPager.LayoutParams.MATCH_PARENT, ViewPager.LayoutParams.WRAP_CONTENT)\n\n\n        popup.showAtLocation(bindingPopup.root, Gravity.BOTTOM, 0,0)\n\n        bindingPopup.usernameInfo.text = username\n        bindingPopup.passwordInfo.setText(password)\n\n        bindingPopup.btnKaydet.setOnClickListener {\n            Toast.makeText(this,&quot;Clicked save&quot;,Toast.LENGTH_SHORT).show()\n            popup.dismiss()\n        }\n        bindingPopup.btnNotnow.setOnClickListener {\n            Toast.makeText(this,&quot;Clicked Not now&quot;,Toast.LENGTH_SHORT).show()\n            popup.dismiss()\n        }\n    }\n}\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8474,"page":1518,"page_size":100}
