{"items":[{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":6503474,"reputation":2504,"user_id":5994190,"accept_rate":66,"display_name":"the_dani"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1549792946,"creation_date":1549792946,"answer_id":54615292,"question_id":54615243,"body_markdown":"Setting background colors programmatically is easy:\r\n\r\n    row.setBackgroundResource(R.color.colorPrimaryDark);\r\n\r\nFor more information:\r\nhttps://developer.android.com/reference/android/view/View#setBackgroundResource(int)","title":"How to set background color programmatically from an app color theme","body":"<p>Setting background colors programmatically is easy:</p>\n\n<pre><code>row.setBackgroundResource(R.color.colorPrimaryDark);\n</code></pre>\n\n<p>For more information:\n<a href=\"https://developer.android.com/reference/android/view/View#setBackgroundResource(int)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/View#setBackgroundResource(int)</a></p>\n"},{"tags":[],"owner":{"account_id":2645875,"reputation":2220,"user_id":2288580,"display_name":"user2288580"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674348331,"creation_date":1674348331,"answer_id":75197592,"question_id":54615243,"body_markdown":"This will set the backgroud with alpha\r\n\r\n    view.setBackgroundDrawable(ColorDrawable(Color.parseColor(&quot;#c0ffffff&quot;)))","title":"How to set background color programmatically from an app color theme","body":"<p>This will set the backgroud with alpha</p>\n<pre><code>view.setBackgroundDrawable(ColorDrawable(Color.parseColor(&quot;#c0ffffff&quot;)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2988005,"reputation":83,"user_id":2536283,"display_name":"Simin Ghasemi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695038367,"creation_date":1694965670,"answer_id":77122560,"question_id":54615243,"body_markdown":"You can use this:\r\n\r\n    view.setBackgroundColor(Color.WHITE);","title":"How to set background color programmatically from an app color theme","body":"<p>You can use this:</p>\n<pre><code>view.setBackgroundColor(Color.WHITE);\n</code></pre>\n"}],"owner":{"account_id":15302807,"reputation":692,"user_id":11040588,"display_name":"Justice47"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2840,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54615292,"answer_count":3,"score":0,"last_activity_date":1695038367,"creation_date":1549792604,"question_id":54615243,"body_markdown":"I&#39;m trying to set background color programmatically for a &lt;TableRow&gt; element, which should be same as \r\n```\r\n&lt;TableRow android:background=&quot;@color/colorPrimaryDark&quot;&gt;\r\n```\r\nin xml file.\r\nFor now on I&#39;m stuck with\r\n```\r\n row.setBackgroundColor(Color.parseColor(&quot;#00ffff&quot;));\r\n```\r\n, but I dont know how to pass &quot;@color/colorPrimaryDark&quot; here correctly and can&#39;t find any relative information in Android documentation.\r\n\r\n","title":"How to set background color programmatically from an app color theme","body":"<p>I'm trying to set background color programmatically for a  element, which should be same as </p>\n\n<pre><code>&lt;TableRow android:background=\"@color/colorPrimaryDark\"&gt;\n</code></pre>\n\n<p>in xml file.\nFor now on I'm stuck with</p>\n\n<pre><code> row.setBackgroundColor(Color.parseColor(\"#00ffff\"));\n</code></pre>\n\n<p>, but I dont know how to pass \"@color/colorPrimaryDark\" here correctly and can't find any relative information in Android documentation.</p>\n"},{"tags":["java","serialization","deserialization","kryo"],"answers":[{"tags":[],"owner":{"account_id":398856,"reputation":491,"user_id":763794,"accept_rate":69,"display_name":"senleft"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1427204470,"creation_date":1427196681,"answer_id":29231519,"question_id":27771421,"body_markdown":"Try the next before doing serialization/deserialization (in my case it works for kryo.WriteObject and kryo.readObject)\r\n\r\n        JavaSerializer serializer = new JavaSerializer();\r\n        kryo.register(LinkedHashMultimap.class, serializer);\r\n\r\nThe working example:\r\n\r\n    public class SerializationTest {\r\n\r\n    private static final String ioFileName = &quot;someIO.bin&quot;;\r\n\r\n    public static void main(String[] args0) {\r\n\r\n        // Create LinkedHashMultimap to serialize\r\n        LinkedHashMultimap&lt;String, Object&gt; outObj = LinkedHashMultimap.create();\r\n        outObj.put(&quot;x&quot;, 1);\r\n        outObj.put(&quot;y&quot;, &quot;abc&quot;);\r\n\r\n        // Try to serialize and deserialize\r\n        Kryo kryo = new Kryo();\r\n        kryo.register(LinkedHashMultimap.class, new JavaSerializer());\r\n        writeObj(kryo, outObj);\r\n        LinkedHashMultimap&lt;String, Object&gt; inObj = (LinkedHashMultimap&lt;String, Object&gt;) readObj(kryo);\r\n\r\n        System.out.println(inObj);\r\n    }\r\n\r\n    public static Object readObj(Kryo kryo) {\r\n        Object obj = null;\r\n        try {\r\n            Input input = new Input(new FileInputStream(ioFileName));\r\n            obj = kryo.readClassAndObject(input);\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    public static void writeObj(Kryo kryo, Object obj) {\r\n        try {\r\n            Output output = new Output(new FileOutputStream(ioFileName));\r\n            kryo.writeClassAndObject(output, obj);\r\n            output.flush();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nThe output:\r\n\r\n    {x=[1], y=[abc]}\r\n","title":"How to serialize Multimaps with Kryo?","body":"<p>Try the next before doing serialization/deserialization (in my case it works for kryo.WriteObject and kryo.readObject)</p>\n\n<pre><code>    JavaSerializer serializer = new JavaSerializer();\n    kryo.register(LinkedHashMultimap.class, serializer);\n</code></pre>\n\n<p>The working example:</p>\n\n<pre><code>public class SerializationTest {\n\nprivate static final String ioFileName = \"someIO.bin\";\n\npublic static void main(String[] args0) {\n\n    // Create LinkedHashMultimap to serialize\n    LinkedHashMultimap&lt;String, Object&gt; outObj = LinkedHashMultimap.create();\n    outObj.put(\"x\", 1);\n    outObj.put(\"y\", \"abc\");\n\n    // Try to serialize and deserialize\n    Kryo kryo = new Kryo();\n    kryo.register(LinkedHashMultimap.class, new JavaSerializer());\n    writeObj(kryo, outObj);\n    LinkedHashMultimap&lt;String, Object&gt; inObj = (LinkedHashMultimap&lt;String, Object&gt;) readObj(kryo);\n\n    System.out.println(inObj);\n}\n\npublic static Object readObj(Kryo kryo) {\n    Object obj = null;\n    try {\n        Input input = new Input(new FileInputStream(ioFileName));\n        obj = kryo.readClassAndObject(input);\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    return obj;\n}\n\npublic static void writeObj(Kryo kryo, Object obj) {\n    try {\n        Output output = new Output(new FileOutputStream(ioFileName));\n        kryo.writeClassAndObject(output, obj);\n        output.flush();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The output:</p>\n\n<pre><code>{x=[1], y=[abc]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6592153,"reputation":1029,"user_id":5093005,"display_name":"jboockmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695038235,"creation_date":1695038235,"answer_id":77126995,"question_id":27771421,"body_markdown":"I encountered a similar issue today, and because it took me some time to identify the root cause behind the observed symptoms, I believe it&#39;s valuable to post an answer, even though this question has been around for a while. It&#39;s worth noting that this problem was also discussed on GitHub at https://github.com/EsotericSoftware/kryo/issues/573.\r\n\r\nIt&#39;s important to understand that the `multimapHeaderEntry` attribute within the `LinkedHashMultimap` class is marked as `transient`. According to https://github.com/EsotericSoftware/kryo#fieldserializer-settings, Kryo doesn&#39;t serialize transient fields by default. To still serialize transient fields, you can configure the default field serializer via the FieldSerializerConfig. See the MRE below:\r\n\r\n```java\r\npublic class Debug {\r\n\r\n\r\n    static class Dummy {\r\n        int i;\r\n        transient int ti;\r\n    }\r\n\r\n    @Test\r\n    public void kryoTest() {\r\n        // kryo setup\r\n        Kryo kryo = new Kryo();\r\n        FieldSerializer.FieldSerializerConfig config = new FieldSerializer.FieldSerializerConfig();\r\n        config.setSerializeTransient(true); // test will fail if this line is commented out\r\n        kryo.addDefaultSerializer(Dummy.class, new FieldSerializer&lt;&gt;(kryo, Dummy.class, config));\r\n        kryo.register(Dummy.class); // registration after configuration\r\n\r\n        // create dummy object\r\n        Dummy dummy = new Dummy();\r\n        dummy.i = 1;\r\n        dummy.ti = 2;\r\n\r\n        // serialize\r\n        Output output = new Output(128, -1);\r\n        kryo.writeObject(output, dummy);\r\n        byte[] data = output.getBuffer();\r\n\r\n        // deserialize\r\n        Dummy clone = kryo.readObject(new Input(data), Dummy.class);\r\n\r\n        assertEquals(dummy.i, clone.i);\r\n        assertEquals(dummy.ti, clone.ti); // fails if you do not use the custom serializer above\r\n    }\r\n}\r\n```","title":"How to serialize Multimaps with Kryo?","body":"<p>I encountered a similar issue today, and because it took me some time to identify the root cause behind the observed symptoms, I believe it's valuable to post an answer, even though this question has been around for a while. It's worth noting that this problem was also discussed on GitHub at <a href=\"https://github.com/EsotericSoftware/kryo/issues/573\" rel=\"nofollow noreferrer\">https://github.com/EsotericSoftware/kryo/issues/573</a>.</p>\n<p>It's important to understand that the <code>multimapHeaderEntry</code> attribute within the <code>LinkedHashMultimap</code> class is marked as <code>transient</code>. According to <a href=\"https://github.com/EsotericSoftware/kryo#fieldserializer-settings\" rel=\"nofollow noreferrer\">https://github.com/EsotericSoftware/kryo#fieldserializer-settings</a>, Kryo doesn't serialize transient fields by default. To still serialize transient fields, you can configure the default field serializer via the FieldSerializerConfig. See the MRE below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Debug {\n\n\n    static class Dummy {\n        int i;\n        transient int ti;\n    }\n\n    @Test\n    public void kryoTest() {\n        // kryo setup\n        Kryo kryo = new Kryo();\n        FieldSerializer.FieldSerializerConfig config = new FieldSerializer.FieldSerializerConfig();\n        config.setSerializeTransient(true); // test will fail if this line is commented out\n        kryo.addDefaultSerializer(Dummy.class, new FieldSerializer&lt;&gt;(kryo, Dummy.class, config));\n        kryo.register(Dummy.class); // registration after configuration\n\n        // create dummy object\n        Dummy dummy = new Dummy();\n        dummy.i = 1;\n        dummy.ti = 2;\n\n        // serialize\n        Output output = new Output(128, -1);\n        kryo.writeObject(output, dummy);\n        byte[] data = output.getBuffer();\n\n        // deserialize\n        Dummy clone = kryo.readObject(new Input(data), Dummy.class);\n\n        assertEquals(dummy.i, clone.i);\n        assertEquals(dummy.ti, clone.ti); // fails if you do not use the custom serializer above\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1856144,"reputation":9878,"user_id":1681681,"accept_rate":85,"display_name":"mchen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1695038235,"creation_date":1420413381,"question_id":27771421,"body_markdown":"Problem\r\n-\r\n\r\nI am trying to serialize a [`LinkedHashMultimap`][1] using [Kryo Serialization library][2], but am getting a `NullPointerException` upon deserialization. The minimal working example is below:\r\n\r\n\timport com.esotericsoftware.kryo.Kryo;\r\n\timport com.esotericsoftware.kryo.io.Input;\r\n\timport com.esotericsoftware.kryo.io.Output;\r\n\timport com.google.common.collect.LinkedHashMultimap;\r\n\timport java.io.*;\r\n\r\n\tpublic class SerializationTest {\r\n\r\n\t\tprivate static final String ioFileName = &quot;someIO.bin&quot;;\r\n\r\n\t\tpublic static void main(String[] args0) {\r\n\r\n\t\t\t// Create LinkedHashMultimap to serialize\r\n\t\t\tLinkedHashMultimap&lt;String, Object&gt; outObj = LinkedHashMultimap.create();\r\n\t\t\toutObj.put(&quot;x&quot;, 1);\r\n\t\t\toutObj.put(&quot;y&quot;, &quot;abc&quot;);\r\n\r\n\t\t\t// Try to serialize and deserialize\r\n\t\t\tKryo kryo = new Kryo();\r\n\t\t\twriteObj(kryo, outObj);\r\n\t\t\tLinkedHashMultimap&lt;String, Object&gt; inObj = (LinkedHashMultimap&lt;String, Object&gt;) readObj(kryo);\r\n\r\n\t\t\tSystem.out.println(inObj);\r\n\t\t}\r\n\r\n\t\tpublic static Object readObj(Kryo kryo) {\r\n\t\t\tObject obj = null;\r\n\t\t\ttry {\r\n\t\t\t\tInput input = new Input(new FileInputStream(ioFileName));\r\n\t\t\t\tobj = kryo.readClassAndObject(input);\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn obj;\r\n\t\t}\r\n\r\n\t\tpublic static void writeObj(Kryo kryo, Object obj) {\r\n\t\t\ttry {\r\n\t\t\t\tOutput output = new Output(new FileOutputStream(ioFileName));\r\n\t\t\t\tkryo.writeClassAndObject(output, obj);\r\n\t\t\t\toutput.flush();\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nYou can see the problem as soon as `kryo.readClassAndObject()` (line 30) is called (screenshot from debugging in IntelliJ 14):\r\n\r\n![enter image description here][3]\r\n\r\nEither the `LinkedHashMultimap` is being corrupted upon serialization or is simply being deserialized incorrectly, resulting in a `NullPointerException`.\r\n\r\nThe full stacktrace as produced when `System.out.println(inObj)` is called:\r\n\r\n\tException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tDisconnected from the target VM, address: &#39;127.0.0.1:60310&#39;, transport: &#39;socket&#39;\r\n\t\tat com.google.common.collect.AbstractMapBasedMultimap$AsMap.toString(AbstractMapBasedMultimap.java:1293)\r\n\t\tat com.google.common.collect.AbstractMultimap.toString(AbstractMultimap.java:239)\r\n\t\tat com.google.common.collect.LinkedHashMultimap.toString(LinkedHashMultimap.java:81)\r\n\t\tat java.lang.String.valueOf(String.java:2854)\r\n\t\tat java.io.PrintStream.println(PrintStream.java:821)\r\n\t\tat SerializationTest.main(SerializationTest.java:23)\r\n\r\n**Does anyone know how to resolve this?**\r\n\r\nMotivation:\r\n-\r\nTo aid in remote debugging (Java), it&#39;s useful to be able to request remote servers to send over arbitrary objects to my local machine for inspection. However, this means that the remote server must be able to serialize an arbitrary java object that is not known in advance at runtime.\r\n\r\nSo I asked around and stumbled on the [Kryo serialization library][4]. From [Kryo&#39;s documentation][5], a major feature is that it&#39;s very robust at serializing arbitrary java objects. Objects\r\n\r\n- don&#39;t have to implement `Serializable`,\r\n- don&#39;t need no-arg constructors to be deserializable and\r\n- I don&#39;t even need to know anything about the structure of the object prior to serialization.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/LinkedHashMultimap.html\r\n  [2]: https://github.com/EsotericSoftware/kryo\r\n  [3]: http://i.stack.imgur.com/97IlQ.png\r\n  [4]: https://github.com/EsotericSoftware/kryo\r\n  [5]: http://i.stack.imgur.com/yBHqW.png","title":"How to serialize Multimaps with Kryo?","body":"<h2>Problem</h2>\n\n<p>I am trying to serialize a <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/LinkedHashMultimap.html\" rel=\"nofollow noreferrer\"><code>LinkedHashMultimap</code></a> using <a href=\"https://github.com/EsotericSoftware/kryo\" rel=\"nofollow noreferrer\">Kryo Serialization library</a>, but am getting a <code>NullPointerException</code> upon deserialization. The minimal working example is below:</p>\n\n<pre><code>import com.esotericsoftware.kryo.Kryo;\nimport com.esotericsoftware.kryo.io.Input;\nimport com.esotericsoftware.kryo.io.Output;\nimport com.google.common.collect.LinkedHashMultimap;\nimport java.io.*;\n\npublic class SerializationTest {\n\n    private static final String ioFileName = \"someIO.bin\";\n\n    public static void main(String[] args0) {\n\n        // Create LinkedHashMultimap to serialize\n        LinkedHashMultimap&lt;String, Object&gt; outObj = LinkedHashMultimap.create();\n        outObj.put(\"x\", 1);\n        outObj.put(\"y\", \"abc\");\n\n        // Try to serialize and deserialize\n        Kryo kryo = new Kryo();\n        writeObj(kryo, outObj);\n        LinkedHashMultimap&lt;String, Object&gt; inObj = (LinkedHashMultimap&lt;String, Object&gt;) readObj(kryo);\n\n        System.out.println(inObj);\n    }\n\n    public static Object readObj(Kryo kryo) {\n        Object obj = null;\n        try {\n            Input input = new Input(new FileInputStream(ioFileName));\n            obj = kryo.readClassAndObject(input);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        return obj;\n    }\n\n    public static void writeObj(Kryo kryo, Object obj) {\n        try {\n            Output output = new Output(new FileOutputStream(ioFileName));\n            kryo.writeClassAndObject(output, obj);\n            output.flush();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>You can see the problem as soon as <code>kryo.readClassAndObject()</code> (line 30) is called (screenshot from debugging in IntelliJ 14):</p>\n\n<p><img src=\"https://i.stack.imgur.com/97IlQ.png\" alt=\"enter image description here\"></p>\n\n<p>Either the <code>LinkedHashMultimap</code> is being corrupted upon serialization or is simply being deserialized incorrectly, resulting in a <code>NullPointerException</code>.</p>\n\n<p>The full stacktrace as produced when <code>System.out.println(inObj)</code> is called:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NullPointerException\nDisconnected from the target VM, address: '127.0.0.1:60310', transport: 'socket'\n    at com.google.common.collect.AbstractMapBasedMultimap$AsMap.toString(AbstractMapBasedMultimap.java:1293)\n    at com.google.common.collect.AbstractMultimap.toString(AbstractMultimap.java:239)\n    at com.google.common.collect.LinkedHashMultimap.toString(LinkedHashMultimap.java:81)\n    at java.lang.String.valueOf(String.java:2854)\n    at java.io.PrintStream.println(PrintStream.java:821)\n    at SerializationTest.main(SerializationTest.java:23)\n</code></pre>\n\n<p><strong>Does anyone know how to resolve this?</strong></p>\n\n<h2>Motivation:</h2>\n\n<p>To aid in remote debugging (Java), it's useful to be able to request remote servers to send over arbitrary objects to my local machine for inspection. However, this means that the remote server must be able to serialize an arbitrary java object that is not known in advance at runtime.</p>\n\n<p>So I asked around and stumbled on the <a href=\"https://github.com/EsotericSoftware/kryo\" rel=\"nofollow noreferrer\">Kryo serialization library</a>. From <a href=\"https://i.stack.imgur.com/yBHqW.png\" rel=\"nofollow noreferrer\">Kryo's documentation</a>, a major feature is that it's very robust at serializing arbitrary java objects. Objects</p>\n\n<ul>\n<li>don't have to implement <code>Serializable</code>,</li>\n<li>don't need no-arg constructors to be deserializable and</li>\n<li>I don't even need to know anything about the structure of the object prior to serialization.</li>\n</ul>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1457449447,"post_id":35867138,"comment_id":59405492,"body_markdown":"Please read this: http://stackoverflow.com/help/how-to-ask then update your question to specify exactly what your issue is. Are you getting an error? Are you getting an incorrect file size? You have some comments in your code about calls to `object.close()` taking a long time, but that seems to be a completely different issue from the question about getting an object&#39;s file size.","body":"Please read this: <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> then update your question to specify exactly what your issue is. Are you getting an error? Are you getting an incorrect file size? You have some comments in your code about calls to <code>object.close()</code> taking a long time, but that seems to be a completely different issue from the question about getting an object&#39;s file size."}],"answers":[{"comments":[{"owner":{"account_id":3736052,"reputation":389,"user_id":3106975,"accept_rate":68,"display_name":"Mike Spike"},"score":7,"creation_date":1519049002,"post_id":35871008,"comment_id":84739085,"body_markdown":"Perhaps, would be better to use getInstanceLenght() instead of getContentLenght(), because if you selectively download a range of the file using setRange(), content length gives you the http content length of the request which in this case would be your range(e.g. for setRange(0,100), getContentLength() will return 100 and not the actual file size)","body":"Perhaps, would be better to use getInstanceLenght() instead of getContentLenght(), because if you selectively download a range of the file using setRange(), content length gives you the http content length of the request which in this case would be your range(e.g. for setRange(0,100), getContentLength() will return 100 and not the actual file size)"}],"tags":[],"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"comment_count":1,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1457449846,"creation_date":1457449846,"answer_id":35871008,"question_id":35867138,"body_markdown":"I&#39;m guessing what your actual question is asking, but I think you can reduce your code and eliminate the need to create an s3Object at all by doing something like:\r\n\r\n    public Long getObjectSize(AmazonS3Client amazonS3Client, String bucket, String key)\r\n            throws IOException {\r\n        return amazonS3Client.getObjectMetadata(bucket, key).getContentLength();\r\n    }\r\n\r\nThat should remove the need to call `object.close()` which you appear to be having issues with.","title":"Getting file size from S3 bucket","body":"<p>I'm guessing what your actual question is asking, but I think you can reduce your code and eliminate the need to create an s3Object at all by doing something like:</p>\n\n<pre><code>public Long getObjectSize(AmazonS3Client amazonS3Client, String bucket, String key)\n        throws IOException {\n    return amazonS3Client.getObjectMetadata(bucket, key).getContentLength();\n}\n</code></pre>\n\n<p>That should remove the need to call <code>object.close()</code> which you appear to be having issues with.</p>\n"},{"tags":[],"owner":{"account_id":143752,"reputation":5048,"user_id":352319,"accept_rate":84,"display_name":"kc2001"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1620232617,"creation_date":1620232617,"answer_id":67405366,"question_id":35867138,"body_markdown":"For v2 of the Amazon S3 Java SDK, try something like this:\r\n\r\n\tHeadObjectRequest headObjectRequest =\r\n\t\t\tHeadObjectRequest.builder()\r\n\t\t\t  .bucket(bucket)\r\n\t\t\t  .key(key)\r\n\t\t\t  .build();\r\n\tHeadObjectResponse headObjectResponse =\r\n\t\t\ts3Client.headObject(headObjectRequest);\r\n\tLong contentLength = headObjectResponse.contentLength();\r\n\r\n","title":"Getting file size from S3 bucket","body":"<p>For v2 of the Amazon S3 Java SDK, try something like this:</p>\n<pre><code>HeadObjectRequest headObjectRequest =\n        HeadObjectRequest.builder()\n          .bucket(bucket)\n          .key(key)\n          .build();\nHeadObjectResponse headObjectResponse =\n        s3Client.headObject(headObjectRequest);\nLong contentLength = headObjectResponse.contentLength();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671027929,"creation_date":1671027929,"answer_id":74799741,"question_id":35867138,"body_markdown":"So we have 2 SDKs.\r\n\r\nFor v1 of the Amazon S3 Java SDK, below \r\n\r\n    client.getObjectMetadata(bucket, key).getContentLength();\r\nwhere client is an instance of `AmazonS3` coming from `import com.amazonaws.services.s3.AmazonS3;` and     `implementation &#39;com.amazonaws:aws-java-sdk-s3:1.12.353&#39;` gradle dependencies.\r\n\r\nFor v2 of the Amazon S3 Java SDK, below:\r\n\r\n    return client.headObject(HeadObjectRequest.builder().bucket(bucket).key(key).build()).contentLength();\r\n\r\nwhere client is instance of `S3Client` coming from `import software.amazon.awssdk.services.s3.S3Client;` and gradle dependencies `implementation &#39;software.amazon.awssdk:s3:2.18.35&#39;`\r\n\r\n","title":"Getting file size from S3 bucket","body":"<p>So we have 2 SDKs.</p>\n<p>For v1 of the Amazon S3 Java SDK, below</p>\n<pre><code>client.getObjectMetadata(bucket, key).getContentLength();\n</code></pre>\n<p>where client is an instance of <code>AmazonS3</code> coming from <code>import com.amazonaws.services.s3.AmazonS3;</code> and     <code>implementation 'com.amazonaws:aws-java-sdk-s3:1.12.353'</code> gradle dependencies.</p>\n<p>For v2 of the Amazon S3 Java SDK, below:</p>\n<pre><code>return client.headObject(HeadObjectRequest.builder().bucket(bucket).key(key).build()).contentLength();\n</code></pre>\n<p>where client is instance of <code>S3Client</code> coming from <code>import software.amazon.awssdk.services.s3.S3Client;</code> and gradle dependencies <code>implementation 'software.amazon.awssdk:s3:2.18.35'</code></p>\n"},{"tags":[],"owner":{"account_id":26752,"reputation":761,"user_id":69888,"accept_rate":50,"display_name":"manuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695038034,"creation_date":1695030754,"answer_id":77126190,"question_id":35867138,"body_markdown":"Looks like 2.x client version doesn&#39;t have `amazonS3Client.getObjectMetadata(bucket, key)` method, but there is a different one:\r\n\r\n            Long size = s3Client.getObjectAttributes(GetObjectAttributesRequest.builder()\r\n                .bucket(bucketName)\r\n                .key(objectKey)\r\n                .build()).objectSize();\r\n\r\nHere `software.amazon.awssdk.services.s3.S3Client` is used.\r\n","title":"Getting file size from S3 bucket","body":"<p>Looks like 2.x client version doesn't have <code>amazonS3Client.getObjectMetadata(bucket, key)</code> method, but there is a different one:</p>\n<pre><code>        Long size = s3Client.getObjectAttributes(GetObjectAttributesRequest.builder()\n            .bucket(bucketName)\n            .key(objectKey)\n            .build()).objectSize();\n</code></pre>\n<p>Here <code>software.amazon.awssdk.services.s3.S3Client</code> is used.</p>\n"}],"owner":{"account_id":41411,"reputation":7890,"user_id":120322,"accept_rate":67,"display_name":"Ashwani K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32656,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":35871008,"answer_count":4,"score":15,"last_activity_date":1695038034,"creation_date":1457439303,"question_id":35867138,"body_markdown":"I am trying to get the file size (content-length) using Amazon S3 JAVA sdk.\r\n\r\n\tpublic Long getObjectSize(AmazonS3Client amazonS3Client, String bucket, String key)\r\n\t\t\tthrows IOException {\r\n\t\tLong size = null;\r\n\t\tS3Object object = null;\r\n\t\ttry {\r\n\t\t\tobject = amazonS3Client.getObject(bucket, key);\r\n\t\t\tsize = object.getObjectMetadata().getContentLength();\r\n\r\n\t\t} finally {\r\n\t\t\tif (object != null) {\r\n\t\t\t\t//object.close();\r\n\t\t\t\t1. This results in 50 calls (connection pool size) post that I start getting connection pool errors. \r\n\t\t\t\t2. If this line is uncommented it takes hell lot of time to make calls.\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn size;\r\n\t}\r\nI followed [this][1] and [this][2]. But not sure what I am doing wrong here.\r\nAny help on this?\r\n\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AmazonS3/latest/dev/RetrievingObjectUsingJava.html\r\n  [2]: https://stackoverflow.com/questions/20233259/how-to-close-aws-connection-if-there-is-no-such-key-in-the-query","title":"Getting file size from S3 bucket","body":"<p>I am trying to get the file size (content-length) using Amazon S3 JAVA sdk.</p>\n\n<pre><code>public Long getObjectSize(AmazonS3Client amazonS3Client, String bucket, String key)\n        throws IOException {\n    Long size = null;\n    S3Object object = null;\n    try {\n        object = amazonS3Client.getObject(bucket, key);\n        size = object.getObjectMetadata().getContentLength();\n\n    } finally {\n        if (object != null) {\n            //object.close();\n            1. This results in 50 calls (connection pool size) post that I start getting connection pool errors. \n            2. If this line is uncommented it takes hell lot of time to make calls.\n        }\n    }\n    return size;\n}\n</code></pre>\n\n<p>I followed <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/RetrievingObjectUsingJava.html\" rel=\"noreferrer\">this</a> and <a href=\"https://stackoverflow.com/questions/20233259/how-to-close-aws-connection-if-there-is-no-such-key-in-the-query\">this</a>. But not sure what I am doing wrong here.\nAny help on this?</p>\n"},{"tags":["java","maven","java-17","spotless","spotless-maven-plugin"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695037703,"post_id":77126927,"comment_id":135966169,"body_markdown":"UnclosedStringLiteral -&gt; hasn&#39;t got much to do with import statements. Have you checked your DBClient.java class?","body":"UnclosedStringLiteral -&gt; hasn&#39;t got much to do with import statements. Have you checked your DBClient.java class?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695037789,"post_id":77126927,"comment_id":135966190,"body_markdown":"Can you add a [mcve] containing the smallest amount of code needed to reproduce this problem?","body":"Can you add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> containing the smallest amount of code needed to reproduce this problem?"},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1695037849,"post_id":77126927,"comment_id":135966205,"body_markdown":"There are some people who have already reported this error https://github.com/diffplug/spotless/issues/923","body":"There are some people who have already reported this error <a href=\"https://github.com/diffplug/spotless/issues/923\" rel=\"nofollow noreferrer\">github.com/diffplug/spotless/issues/923</a>"},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1695037895,"post_id":77126927,"comment_id":135966217,"body_markdown":"The string literals is to do with the new features from Java 17, and the error only happens when the tag for `removeUsusedImports` is enabled.","body":"The string literals is to do with the new features from Java 17, and the error only happens when the tag for <code>removeUsusedImports</code> is enabled."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1695038021,"post_id":77126927,"comment_id":135966236,"body_markdown":"Ok. Disable `removeUsusedImports` until the issue is resolved. What other answer did you expect?","body":"Ok. Disable <code>removeUsusedImports</code> until the issue is resolved. What other answer did you expect?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695038037,"post_id":77126927,"comment_id":135966240,"body_markdown":"so disable that, and check the code of the class where you get the problem","body":"so disable that, and check the code of the class where you get the problem"},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1695038072,"post_id":77126927,"comment_id":135966243,"body_markdown":"I&#39;ve disabled it already, but I would still like to use the functionality of removing the unused imports.","body":"I&#39;ve disabled it already, but I would still like to use the functionality of removing the unused imports."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1695038106,"post_id":77126927,"comment_id":135966248,"body_markdown":"The docs seem to be suggesting workaround solutions for the google formatter, and I tried then all,  however, for some reason it&#39;s not working for the eclipse formatter, reason why I posted the question here.","body":"The docs seem to be suggesting workaround solutions for the google formatter, and I tried then all,  however, for some reason it&#39;s not working for the eclipse formatter, reason why I posted the question here."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695038258,"post_id":77126927,"comment_id":135966283,"body_markdown":"&quot;use the functionality of using the unused imports&quot; .... ok ... what? what exactly do you mean?","body":"&quot;use the functionality of using the unused imports&quot; .... ok ... what? what exactly do you mean?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1695038267,"post_id":77126927,"comment_id":135966287,"body_markdown":"The linked github issue suggests there is a bug. All software has bugs. This one seems odd, why aren&#39;t you removing unused imports before you commit your code? That seems like a pre-commit check to me. Or something to catch in code review.","body":"The linked github issue suggests there is a bug. All software has bugs. This one seems odd, why aren&#39;t you removing unused imports before you commit your code? That seems like a pre-commit check to me. Or something to catch in code review."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1695038456,"post_id":77126927,"comment_id":135966316,"body_markdown":"Humans can make mistake and forget to remove the imports, reason why trying to automate the process. But the main point is of the question is that this was working before, and is not anymore, and perhaps someone has found a workaround for it and can provide some assistance.","body":"Humans can make mistake and forget to remove the imports, reason why trying to automate the process. But the main point is of the question is that this was working before, and is not anymore, and perhaps someone has found a workaround for it and can provide some assistance."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695038714,"post_id":77126927,"comment_id":135966364,"body_markdown":"The authors themselves call it a bug, meaning it doesn&#39;t work (as should). Nowadays all decent IDE&#39;s provide a somewhat automatic way to &#39;clean up (unused) imports&#39;, so this is a nice-to-have (at best). Meaning, especially if it doesn&#39;t work, it&#39;s pointless. The main risk of having unused imports is that you&#39;re using resources you don&#39;t need to use by loading classes you are not going to use, unless you&#39;re really outdoing yourself there, it&#39;s not a major issue. As Elliott said, it remains good practice to check yourself before committing code. Takes hardly any time and solves all your issues.","body":"The authors themselves call it a bug, meaning it doesn&#39;t work (as should). Nowadays all decent IDE&#39;s provide a somewhat automatic way to &#39;clean up (unused) imports&#39;, so this is a nice-to-have (at best). Meaning, especially if it doesn&#39;t work, it&#39;s pointless. The main risk of having unused imports is that you&#39;re using resources you don&#39;t need to use by loading classes you are not going to use, unless you&#39;re really outdoing yourself there, it&#39;s not a major issue. As Elliott said, it remains good practice to check yourself before committing code. Takes hardly any time and solves all your issues."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1695040499,"post_id":77126927,"comment_id":135966736,"body_markdown":"This is probably more the problem mentioned at [Step remove unused import break on multiline string](https://github.com/diffplug/spotless/issues/681)  and the fix would be to upgrade the spotless-plugin.version to 2.36.0 or later (https://github.com/diffplug/spotless/issues/681#issuecomment-1498452643)","body":"This is probably more the problem mentioned at <a href=\"https://github.com/diffplug/spotless/issues/681\" rel=\"nofollow noreferrer\">Step remove unused import break on multiline string</a>  and the fix would be to upgrade the spotless-plugin.version to 2.36.0 or later (<a href=\"https://github.com/diffplug/spotless/issues/681#issuecomment-1498452643\" rel=\"nofollow noreferrer\">github.com/diffplug/spotless/issues/681#issuecomment-149845&zwnj;&#8203;2643</a>)"},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":1,"creation_date":1695042120,"post_id":77126927,"comment_id":135967102,"body_markdown":"I tried updating spotless before raising the question, but got this other error, which happens even without the removeUnusedImports tag, so I kept the older version: [ERROR] Failed to execute goal com.diffplug.spotless:spotless-maven-plugin:2.36.0:apply (default-cli) on project aml-ar-api-automation: Execution default-cli of goal com.diffplug.spotl\ness:spotless-maven-plugin:2.36.0:apply failed.: NullPointerException -&gt; [Help 1]","body":"I tried updating spotless before raising the question, but got this other error, which happens even without the removeUnusedImports tag, so I kept the older version: [ERROR] Failed to execute goal com.diffplug.spotless:spotless-maven-plugin:2.36.0:apply (default-cli) on project aml-ar-api-automation: Execution default-cli of goal com.diffplug.spotl ess:spotless-maven-plugin:2.36.0:apply failed.: NullPointerException -&gt; [Help 1]"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695038018,"creation_date":1695037635,"question_id":77126927,"body_markdown":"I am upgrading my Spring Boot app to use Spring 3+ and Java 17. However, I&#39;m now getting an error when trying to apply spotless and to do with `removeUnusedImports` feature. \r\n\r\nThis issue is similar to what has been reported here:\r\n[github.com/diffplug/spotless/issues/923][1]\r\n\r\n\r\nI have tried a few things, such as adding this: \r\n\r\n```\r\n-Xmx4096m\r\n--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\r\n```\r\n\r\nTo my IntelliJ VM Options as per here: https://github.com/google/google-java-format#intellij-jre-config\r\n\r\nI also tried to add this directly to maven through typing the below on my git terminal:\r\n\r\n```\r\nexport MAVEN_OPTS=&quot;-Xmx4096m --add-exports=jdk.compiler/com.sun.tools.javac.ap\r\ni=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED --\r\nadd-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED --add-exports=jdk.\r\ncompiler/com.sun.tools.javac.parser=ALL-UNNAMED --add-exports=jdk.compiler/com.s\r\nun.tools.javac.tree=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.u\r\n$ git config --global credential.helper &quot;cache --timeout=3600&quot;\r\n```\r\n\r\nHowever, the issue still persists.\r\n\r\n```\r\n  &lt;spotless-plugin.version&gt;2.34.0&lt;/spotless-plugin.version&gt;\r\n  &lt;spotless-eclipse.version&gt;4.18.0&lt;/spotless-eclipse.version&gt;\r\n  &lt;spring-boot.version&gt;3.1.3&lt;/spring-boot.version&gt;\r\n```\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${spotless-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;formats&gt;\r\n                        &lt;!-- you can define as many formats as you want, each is independent --&gt;\r\n                        &lt;format&gt;\r\n                            &lt;!-- define the files to apply to --&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;*.java&lt;/include&gt;\r\n                                &lt;include&gt;*.md&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                            &lt;!-- define the steps to apply to those files --&gt;\r\n                            &lt;trimTrailingWhitespace/&gt;\r\n                            &lt;endWithNewline/&gt;\r\n                            &lt;indent&gt;\r\n                                &lt;tabs&gt;true&lt;/tabs&gt;\r\n                                &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\r\n                            &lt;/indent&gt;\r\n                        &lt;/format&gt;\r\n                    &lt;/formats&gt;\r\n                    &lt;!-- define a language-specific format --&gt;\r\n                    &lt;java&gt;\r\n                        &lt;!-- no need to specify files, inferred automatically, but you can if you want --&gt;\r\n\r\n                         &lt;removeUnusedImports/&gt; &lt;!-- self-explanatory --&gt;\r\n\r\n                        &lt;!-- apply a specific flavor of google-java-format and reflow long strings --&gt;\r\n                        &lt;eclipse&gt;\r\n                            &lt;version&gt;${spotless-eclipse.version}&lt;/version&gt; &lt;!-- optional --&gt;\r\n                            &lt;file&gt;${project.basedir}/eclipse-formatter.xml&lt;/file&gt; &lt;!-- optional --&gt;\r\n                        &lt;/eclipse&gt;\r\n                    &lt;/java&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n```\r\n\r\n\r\nThis is the exact error here:\r\n\r\n```\r\n[INFO] Spotless.Format is keeping 1 files clean - 0 were changed to be clean, 1 were already clean, 0 were skipped because caching determined they were already clean\r\n[ERROR] Step &#39;removeUnusedImports&#39; found problem in &#39;src\\test\\java\\com\\myproject\\amlar\\client\\DBClient.java&#39;:\r\nnull\r\njava.lang.reflect.InvocationTargetException\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$constructRemoveUnusedFunction$4 (GoogleJavaFormatStep.java:211)\r\nCaused by: com.google.googlejavaformat.java.FormatterException: 37:25: error: unclosed string literal\r\n    at com.google.googlejavaformat.java.FormatterException.fromJavacDiagnostics (FormatterException.java:51)\r\n    at com.google.googlejavaformat.java.RemoveUnusedImports.parse (RemoveUnusedImports.java:262)\r\n    at com.google.googlejavaformat.java.RemoveUnusedImports.removeUnusedImports (RemoveUnusedImports.java:219)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$constructRemoveUnusedFunction$4 (GoogleJavaFormatStep.java:211)\r\n    at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$createRemoveUnusedImportsOnly$2 (GoogleJavaFormatStep.java:188)\r\n    at com.diffplug.spotless.FormatterFunc.apply (FormatterFunc.java:32)\r\n    at com.diffplug.spotless.FormatterStepImpl$Standard.format (FormatterStepImpl.java:82)\r\n    at com.diffplug.spotless.FormatterStep$Strict.format (FormatterStep.java:88)\r\n    at com.diffplug.spotless.Formatter.compute (Formatter.java:246)\r\n    at com.diffplug.spotless.PaddedCell.calculateDirtyState (PaddedCell.java:203)\r\n    at com.diffplug.spotless.PaddedCell.calculateDirtyState (PaddedCell.java:190)\r\n    at com.diffplug.spotless.maven.SpotlessApplyMojo.process (SpotlessApplyMojo.java:48)\r\n    at com.diffplug.spotless.maven.AbstractSpotlessMojo.execute (AbstractSpotlessMojo.java:225)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.439 s\r\n[INFO] Finished at: 2023-09-18T12:43:17+01:00\r\n\r\n```\r\nThank you.\r\n\r\n\r\n  [1]: https://github.com/diffplug/spotless/issues/923","title":"Spotless + Eclipse Formatter + Java 17 = Error on String Literals + Removing Unused Imports","body":"<p>I am upgrading my Spring Boot app to use Spring 3+ and Java 17. However, I'm now getting an error when trying to apply spotless and to do with <code>removeUnusedImports</code> feature.</p>\n<p>This issue is similar to what has been reported here:\n<a href=\"https://github.com/diffplug/spotless/issues/923\" rel=\"nofollow noreferrer\">github.com/diffplug/spotless/issues/923</a></p>\n<p>I have tried a few things, such as adding this:</p>\n<pre><code>-Xmx4096m\n--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\n</code></pre>\n<p>To my IntelliJ VM Options as per here: <a href=\"https://github.com/google/google-java-format#intellij-jre-config\" rel=\"nofollow noreferrer\">https://github.com/google/google-java-format#intellij-jre-config</a></p>\n<p>I also tried to add this directly to maven through typing the below on my git terminal:</p>\n<pre><code>export MAVEN_OPTS=&quot;-Xmx4096m --add-exports=jdk.compiler/com.sun.tools.javac.ap\ni=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED --\nadd-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED --add-exports=jdk.\ncompiler/com.sun.tools.javac.parser=ALL-UNNAMED --add-exports=jdk.compiler/com.s\nun.tools.javac.tree=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.u\n$ git config --global credential.helper &quot;cache --timeout=3600&quot;\n</code></pre>\n<p>However, the issue still persists.</p>\n<pre><code>  &lt;spotless-plugin.version&gt;2.34.0&lt;/spotless-plugin.version&gt;\n  &lt;spotless-eclipse.version&gt;4.18.0&lt;/spotless-eclipse.version&gt;\n  &lt;spring-boot.version&gt;3.1.3&lt;/spring-boot.version&gt;\n</code></pre>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\n                &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spotless-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;formats&gt;\n                        &lt;!-- you can define as many formats as you want, each is independent --&gt;\n                        &lt;format&gt;\n                            &lt;!-- define the files to apply to --&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;*.java&lt;/include&gt;\n                                &lt;include&gt;*.md&lt;/include&gt;\n                            &lt;/includes&gt;\n                            &lt;!-- define the steps to apply to those files --&gt;\n                            &lt;trimTrailingWhitespace/&gt;\n                            &lt;endWithNewline/&gt;\n                            &lt;indent&gt;\n                                &lt;tabs&gt;true&lt;/tabs&gt;\n                                &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\n                            &lt;/indent&gt;\n                        &lt;/format&gt;\n                    &lt;/formats&gt;\n                    &lt;!-- define a language-specific format --&gt;\n                    &lt;java&gt;\n                        &lt;!-- no need to specify files, inferred automatically, but you can if you want --&gt;\n\n                         &lt;removeUnusedImports/&gt; &lt;!-- self-explanatory --&gt;\n\n                        &lt;!-- apply a specific flavor of google-java-format and reflow long strings --&gt;\n                        &lt;eclipse&gt;\n                            &lt;version&gt;${spotless-eclipse.version}&lt;/version&gt; &lt;!-- optional --&gt;\n                            &lt;file&gt;${project.basedir}/eclipse-formatter.xml&lt;/file&gt; &lt;!-- optional --&gt;\n                        &lt;/eclipse&gt;\n                    &lt;/java&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n</code></pre>\n<p>This is the exact error here:</p>\n<pre><code>[INFO] Spotless.Format is keeping 1 files clean - 0 were changed to be clean, 1 were already clean, 0 were skipped because caching determined they were already clean\n[ERROR] Step 'removeUnusedImports' found problem in 'src\\test\\java\\com\\myproject\\amlar\\client\\DBClient.java':\nnull\njava.lang.reflect.InvocationTargetException\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$constructRemoveUnusedFunction$4 (GoogleJavaFormatStep.java:211)\nCaused by: com.google.googlejavaformat.java.FormatterException: 37:25: error: unclosed string literal\n    at com.google.googlejavaformat.java.FormatterException.fromJavacDiagnostics (FormatterException.java:51)\n    at com.google.googlejavaformat.java.RemoveUnusedImports.parse (RemoveUnusedImports.java:262)\n    at com.google.googlejavaformat.java.RemoveUnusedImports.removeUnusedImports (RemoveUnusedImports.java:219)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$constructRemoveUnusedFunction$4 (GoogleJavaFormatStep.java:211)\n    at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$createRemoveUnusedImportsOnly$2 (GoogleJavaFormatStep.java:188)\n    at com.diffplug.spotless.FormatterFunc.apply (FormatterFunc.java:32)\n    at com.diffplug.spotless.FormatterStepImpl$Standard.format (FormatterStepImpl.java:82)\n    at com.diffplug.spotless.FormatterStep$Strict.format (FormatterStep.java:88)\n    at com.diffplug.spotless.Formatter.compute (Formatter.java:246)\n    at com.diffplug.spotless.PaddedCell.calculateDirtyState (PaddedCell.java:203)\n    at com.diffplug.spotless.PaddedCell.calculateDirtyState (PaddedCell.java:190)\n    at com.diffplug.spotless.maven.SpotlessApplyMojo.process (SpotlessApplyMojo.java:48)\n    at com.diffplug.spotless.maven.AbstractSpotlessMojo.execute (AbstractSpotlessMojo.java:225)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.439 s\n[INFO] Finished at: 2023-09-18T12:43:17+01:00\n\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":2,"creation_date":1505300753,"post_id":46195830,"comment_id":79354006,"body_markdown":"Is `Repository.findDocument()` a `static` method?","body":"Is <code>Repository.findDocument()</code> a <code>static</code> method?"},{"owner":{"account_id":9593823,"reputation":262,"user_id":7123686,"display_name":"canihazurcode"},"score":0,"creation_date":1505301315,"post_id":46195830,"comment_id":79354384,"body_markdown":"A similiar question was answered here: https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito.","body":"A similiar question was answered here: <a href=\"https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito\" title=\"mocking static methods with mockito\">stackoverflow.com/questions/21105403/&hellip;</a>."},{"owner":{"account_id":3622211,"reputation":451,"user_id":3020656,"accept_rate":63,"display_name":"AYa"},"score":0,"creation_date":1505301361,"post_id":46195830,"comment_id":79354412,"body_markdown":"No. I am autowiring and then using `findDocument`","body":"No. I am autowiring and then using <code>findDocument</code>"},{"owner":{"account_id":9593823,"reputation":262,"user_id":7123686,"display_name":"canihazurcode"},"score":0,"creation_date":1505301782,"post_id":46195830,"comment_id":79354697,"body_markdown":"Do you use `@Autowire Repository repository` in your unit test?","body":"Do you use <code>@Autowire Repository repository</code> in your unit test?"}],"answers":[{"comments":[{"owner":{"account_id":3622211,"reputation":451,"user_id":3020656,"accept_rate":63,"display_name":"AYa"},"score":0,"creation_date":1505302890,"post_id":46196287,"comment_id":79355493,"body_markdown":"So, I should parse the JSON file and store the ID and pass it in the above function ryt ?","body":"So, I should parse the JSON file and store the ID and pass it in the above function ryt ?"},{"owner":{"account_id":4004917,"reputation":56,"user_id":7126388,"display_name":"Venkat"},"score":0,"creation_date":1505303342,"post_id":46196287,"comment_id":79355812,"body_markdown":"Sorry didn&#39;t notice that you need Document object, I have edited my answer. If you wish to mock Document object with custom data you could do it.","body":"Sorry didn&#39;t notice that you need Document object, I have edited my answer. If you wish to mock Document object with custom data you could do it."},{"owner":{"account_id":3622211,"reputation":451,"user_id":3020656,"accept_rate":63,"display_name":"AYa"},"score":0,"creation_date":1505303449,"post_id":46196287,"comment_id":79355883,"body_markdown":"And where should I call my method `searchid(id)` ?","body":"And where should I call my method <code>searchid(id)</code> ?"},{"owner":{"account_id":4004917,"reputation":56,"user_id":7126388,"display_name":"Venkat"},"score":0,"creation_date":1505303715,"post_id":46196287,"comment_id":79356074,"body_markdown":"Both the mocking code and `searchid(id)` should be in your unit test method","body":"Both the mocking code and <code>searchid(id)</code> should be in your unit test method"},{"owner":{"account_id":3622211,"reputation":451,"user_id":3020656,"accept_rate":63,"display_name":"AYa"},"score":0,"creation_date":1505304953,"post_id":46196287,"comment_id":79356941,"body_markdown":"Hey, how can I mock Document object with custom data ? Sorry to ask but I am a newbie to this.","body":"Hey, how can I mock Document object with custom data ? Sorry to ask but I am a newbie to this."}],"tags":[],"owner":{"account_id":4004917,"reputation":56,"user_id":7126388,"display_name":"Venkat"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505303255,"creation_date":1505301900,"answer_id":46196287,"question_id":46195830,"body_markdown":"You can try to mock the `Repository.findDocument(id)` call in your unit test method.\r\n\r\n    Mockito.when(Repository.findDocument(Mockito.isA(String.class))).thenReturn(Mockito.mock(Document.class));\r\n\r\nThis will return Mocked Document object whenever the `Repository.findDocument(id)` call is made.","title":"Mockito - Mocking a method with parameters","body":"<p>You can try to mock the <code>Repository.findDocument(id)</code> call in your unit test method.</p>\n\n<pre><code>Mockito.when(Repository.findDocument(Mockito.isA(String.class))).thenReturn(Mockito.mock(Document.class));\n</code></pre>\n\n<p>This will return Mocked Document object whenever the <code>Repository.findDocument(id)</code> call is made.</p>\n"},{"comments":[{"owner":{"account_id":11522738,"reputation":310,"user_id":8444030,"display_name":"Radek Riedel"},"score":0,"creation_date":1694167337,"post_id":46283251,"comment_id":135858911,"body_markdown":"the link is not working anymore","body":"the link is not working anymore"}],"tags":[],"owner":{"account_id":6120309,"reputation":3055,"user_id":4774054,"accept_rate":0,"display_name":"Frank Neblung"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1695037709,"creation_date":1505749115,"answer_id":46283251,"question_id":46195830,"body_markdown":"The key to testability is that you have a **field** `repository` that gets constructor-injected into your class. This way you can easily substitute the real  repository by a fake instance (e.g a mockito mock).\r\n\r\nThe best source for learning how to write testable code, that I know, is http://misko.hevery.com/code-reviewers-guide/\r\n\r\n**UPDATED at 2023-09-18**\r\nUnfortunately the above link is broken. But I found most of the material referenced here:\r\n- https://testing.googleblog.com/2008/08/by-miko-hevery-so-you-decided-to.html\r\n- https://testing.googleblog.com/2008/07/how-to-write-3v1l-untestable-code.html\r\n\r\nInterested readers will skim https://www.google.com/search?q=site%3Atesting.googleblog.com%20misko%20hevery","title":"Mockito - Mocking a method with parameters","body":"<p>The key to testability is that you have a <strong>field</strong> <code>repository</code> that gets constructor-injected into your class. This way you can easily substitute the real  repository by a fake instance (e.g a mockito mock).</p>\n<p>The best source for learning how to write testable code, that I know, is <a href=\"http://misko.hevery.com/code-reviewers-guide/\" rel=\"nofollow noreferrer\">http://misko.hevery.com/code-reviewers-guide/</a></p>\n<p><strong>UPDATED at 2023-09-18</strong>\nUnfortunately the above link is broken. But I found most of the material referenced here:</p>\n<ul>\n<li><a href=\"https://testing.googleblog.com/2008/08/by-miko-hevery-so-you-decided-to.html\" rel=\"nofollow noreferrer\">https://testing.googleblog.com/2008/08/by-miko-hevery-so-you-decided-to.html</a></li>\n<li><a href=\"https://testing.googleblog.com/2008/07/how-to-write-3v1l-untestable-code.html\" rel=\"nofollow noreferrer\">https://testing.googleblog.com/2008/07/how-to-write-3v1l-untestable-code.html</a></li>\n</ul>\n<p>Interested readers will skim <a href=\"https://www.google.com/search?q=site%3Atesting.googleblog.com%20misko%20hevery\" rel=\"nofollow noreferrer\">https://www.google.com/search?q=site%3Atesting.googleblog.com%20misko%20hevery</a></p>\n"}],"owner":{"account_id":3622211,"reputation":451,"user_id":3020656,"accept_rate":63,"display_name":"AYa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46283251,"answer_count":2,"score":1,"last_activity_date":1695037709,"creation_date":1505300601,"question_id":46195830,"body_markdown":"I am writing unit tests for a method that takes in argument `id` which is something like below :\r\n\r\n     public void searchid(String id) {\r\n        Document doc = Repository.findDocument(id); //returns a document\r\n        if (doc == null) {\r\n          System.out.println(&quot;id missing&quot;);\r\n        } else {\r\n          String stringRecord = doc.asJsonString(); //converting doc to string\r\n          \r\n\r\nHere `Repository.findDocument(id)` is returning a document.\r\nIn my unit test, I am getting the JSON file from `src/test/resources`. So, how do I mock `Repository.findDocument(id)`, so as to fetch the file from my resource instead ?\r\n\r\nThanks,\r\n\r\n","title":"Mockito - Mocking a method with parameters","body":"<p>I am writing unit tests for a method that takes in argument <code>id</code> which is something like below :</p>\n\n<pre><code> public void searchid(String id) {\n    Document doc = Repository.findDocument(id); //returns a document\n    if (doc == null) {\n      System.out.println(\"id missing\");\n    } else {\n      String stringRecord = doc.asJsonString(); //converting doc to string\n</code></pre>\n\n<p>Here <code>Repository.findDocument(id)</code> is returning a document.\nIn my unit test, I am getting the JSON file from <code>src/test/resources</code>. So, how do I mock <code>Repository.findDocument(id)</code>, so as to fetch the file from my resource instead ?</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","multithreading","concurrency","coroutine","actor"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1694849754,"post_id":77113720,"comment_id":135947855,"body_markdown":"Please ask only one question at a time.","body":"Please ask only one question at a time."}],"owner":{"account_id":15968441,"reputation":373,"user_id":11523294,"display_name":"Criwran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695036953,"creation_date":1694792737,"question_id":77113720,"body_markdown":"Is it my understanding of actor model, mpmc and mpsc right?\r\n\r\nI have seen some code like this before:\r\n\r\n```\r\npublic enum ProcessorId implements CommandProcessorId {\r\n    AUTH,\r\n    PLAYER,\r\n    PERSIST,\r\n    COMMON;\r\n}\r\n\r\n\r\n@Slf4j\r\n@Data\r\npublic abstract class Command implements Runnable {\r\n    private Queue queue;\r\n\r\n    @Override\r\n    public final void run() {\r\n        try {\r\n            if (queue != null) {\r\n                CommandContext ctx = CommandContext.ctx.get();\r\n                ctx.setQueue(queue);\r\n            }\r\n\r\n            this.action();\r\n        } catch (Exception e) {\r\n            log.error(&quot;command execute failed.&quot;, e);\r\n        }\r\n    }\r\n\r\n    protected abstract void action() throws Exception;\r\n}\r\n\r\n\r\npublic class CommandContext {\r\n    public static final ThreadLocal&lt;CommandContext&gt; ctx\r\n            = ThreadLocal.withInitial(CommandContext::new);\r\n\r\n    @Setter(AccessLevel.PROTECTED)\r\n    private Queue queue;\r\n\r\n    private CommandContext() {\r\n\r\n    }\r\n\r\n\r\n    public static Queue getQueue() {\r\n        return ctx.get().queue;\r\n    }\r\n\r\n}\r\n\r\npublic interface CommandProcessor {\r\n\r\n    CommandProcessorId getId();\r\n\r\n    Queue getQueue(long key);\r\n\r\n}\r\n\r\npublic interface CommandProcessorId {\r\n\r\n}\r\n\r\n@Component\r\npublic class CommandRouter implements ApplicationContextAware {\r\n    private final Map&lt;CommandProcessorId, CommandProcessor&gt; processors = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public void setApplicationContext(@Nonnull ApplicationContext applicationContext) throws BeansException {\r\n        applicationContext.getBeansOfType(CommandProcessor.class).forEach((name, bean) -&gt; {\r\n            CommandProcessorId id = bean.getId();\r\n            if (processors.containsKey(id)) {\r\n                throw new RuntimeException(&quot;processor repeated: &quot; + id + &quot;/&quot; + bean.getClass().getName());\r\n            }\r\n            processors.put(id, bean);\r\n        });\r\n    }\r\n\r\n\r\n    public void process(CommandProcessorId processorId, long key, Command command) {\r\n        CommandProcessor processor = processors.get(processorId);\r\n        if (processor == null) {\r\n            throw new RuntimeException(&quot;processor not found: &quot; + processorId + &quot; - &quot; + command);\r\n        }\r\n        Queue queue = processor.getQueue(key);\r\n        if (queue == null) {\r\n            throw new RuntimeException(&quot;get queue failed: &quot; + processorId + &quot;/&quot; + key + &quot; - &quot; + command);\r\n        }\r\n        queue.append(command);\r\n    }\r\n}\r\n\r\n@Slf4j\r\npublic class Executor extends ThreadPoolExecutor {\r\n\r\n    public Executor(int corePoolSize, int maxPoolSize) {\r\n        super(corePoolSize, maxPoolSize, 30L, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;&gt;(), new ThreadFactory() {\r\n            final AtomicInteger n = new AtomicInteger(0);\r\n            @Override\r\n            public Thread newThread(Runnable r) {\r\n                String name = &quot;queue-execute-thread-&quot; + n.incrementAndGet();\r\n                log.error(&quot;create thread: {}&quot;, name);\r\n                return new Thread(r, name);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void afterExecute(Runnable r, Throwable t) {\r\n        super.afterExecute(r, t);\r\n        ((Command) r).getQueue().resume();\r\n    }\r\n}\r\n\r\npublic class Queue {\r\n    public static final Executor EXECUTOR = new Executor(16, 16);\r\n\r\n    @Getter\r\n    private final long id;\r\n    @Getter\r\n    private final String name;\r\n    @Getter\r\n    private final int capacity;\r\n\r\n    private final java.util.Queue&lt;Command&gt; queue;\r\n\r\n    private boolean running = false;\r\n    @Getter\r\n    @Setter\r\n    private boolean destroy = false;\r\n\r\n\r\n    public Queue(long id, String name, int capacity) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.capacity = capacity;\r\n        this.queue = new ArrayDeque&lt;&gt;();\r\n    }\r\n\r\n    public boolean append(Command command) {\r\n        command.setQueue(this);\r\n        synchronized (this) {\r\n            if (!running &amp;&amp; !destroy) {\r\n                running = true;\r\n                EXECUTOR.execute(command);\r\n                return true;\r\n            }\r\n            return queue.offer(command);\r\n        }\r\n    }\r\n\r\n    protected void resume() {\r\n        synchronized (this) {\r\n            if (destroy) {\r\n                running = false;\r\n                return;\r\n            }\r\n            Command command = queue.poll();\r\n            if (command == null) {\r\n                running = false;\r\n                return;\r\n            }\r\n            EXECUTOR.execute(command);\r\n        }\r\n    }\r\n\r\n}\r\n\r\npublic class QueueCommitException extends AppException {\r\n    public QueueCommitException(String msg) {\r\n        super(msg);\r\n    }\r\n}\r\n\r\npublic class PlayerIndex implements ExposedIndex {\r\n    @Override\r\n    public Object get() {\r\n        return ProcessorId.PLAYER;\r\n    }\r\n}\r\n\r\n@Component\r\npublic class PlayerProcessor implements CommandProcessor {\r\n    private final Map&lt;Long, Queue&gt; queues = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public CommandProcessorId getId() {\r\n        return ProcessorId.PLAYER;\r\n    }\r\n\r\n    @Override\r\n    public Queue getQueue(long key) {\r\n        return queues.computeIfAbsent(key, k -&gt; new Queue(key, &quot;player@&quot; + key, 1000));\r\n    }\r\n}\r\n\r\n\r\npublic class CommonIndex implements ExposedIndex {\r\n    @Override\r\n    public Object get() {\r\n        return ProcessorId.COMMON;\r\n    }\r\n}\r\n\r\n@Component\r\npublic class CommonProcessor implements CommandProcessor {\r\n    private final Queue queue = new Queue(0, &quot;common&quot;, 2000);\r\n\r\n    @Override\r\n    public CommandProcessorId getId() {\r\n        return ProcessorId.COMMON;\r\n    }\r\n\r\n    @Override\r\n    public Queue getQueue(long key) {\r\n        return queue;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nI think it is a combination of actor model with mpmc((Multiple Producer Multiple Consumer)).\r\n\r\nFor example, each player is an actor,  persist and auth services(see `ProcessorId`) are also actors. In the actor model, there&#39;re serveral important factors: address, mail, mailbox. As an actor processes `mail` in its   ` mailbox` sequentially, so we don&#39;t worry the data race problem in each queue.\r\n\r\nFor one player(see `PlayerProcessor`):\r\n\r\n```\r\nprivate final Map&lt;Long, Queue&gt; queues = new ConcurrentHashMap&lt;&gt;(); // key is playerId\r\n```\r\n\r\nI think the `Long playerId` is `address`, `Queue queue` is a `mailbox`, and `Command command` is a `mail`. If I want to send an `mail ` from other actor to an player(eg. commit some items to player&#39;s backpack at midnight in SpringBoot @Scheduled annotated method), the code would be:\r\n\r\n```java\r\npublic Promise&lt;Void&gt; safeCommit(Player player, LogAction action) {\r\n        Promise&lt;Void&gt; promise = new DefaultPromise&lt;&gt;();\r\n        Queue queue = CommandContext.getQueue();\r\n        if (queue != null &amp;&amp; queue.getId() == player.getId()) {\r\n            try {\r\n                commit(player, action);\r\n                promise.setFulfilled(null);\r\n            } catch (Exception e) {\r\n                promise.setRejected(e);\r\n            }\r\n        } else {\r\n            GameApplicationContext.getBean(CommandRouter.class).process(ProcessorId.PLAYER, player.getId(), new Command() {\r\n                @Override\r\n                protected void action() throws Exception {\r\n                    try {\r\n                        commit(player, action);\r\n                        promise.setFulfilled(null);\r\n                    } catch (Exception e) {\r\n                        promise.setRejected(e);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        return promise;\r\n    }\r\n```\r\n\r\nThis code is somewhat similar to `tell` in Akka:\r\n\r\n```java\r\nGameApplicationContext.getBean(CommandRouter.class).process(ProcessorId.PLAYER, player.getId(), \r\n                                                            new Command() {...});\r\n\r\n// akka \r\ntargetActor.tell(message, sender)\r\n```\r\n\r\nAnd I think the code at the beginning is `mpmc` implementation. For example, if 100 players send each request to the server, then there&#39;re 100 requests in different player queues and there would be 16 thread at maximum to process these requests. I think the clients who send requests are producers, while the threads that process the logic are consumers.\r\n\r\nSince the code uses thread pool not to create a new thread for each `command`, and to avoid shared data race, each queue are locked using `synchronized` keyword to block other threads until the processing thread release the lock.\r\n\r\nTherefore, I have the following question:\r\n\r\n1. Since queues are detached from one thread and then attach to another, there must be many lock and unlock operations, which result huge cost of thread switching. \r\n\r\n    And I&#39;ve heard some people say that bind one thread to one queue(is it `mpsc` implementation?) are much effective. Since there&#39;re limited threads in the thread pool, if once there&#39;re large number of players online simultaneously, the threads don&#39;t seem to be enough. \r\n\r\n    I want to know how to bind one thread to one queue without lock primitives to ensure concurrent safety.\r\n\r\nIf my understanding or my questions are wrong,  please let me know.  And if you are willing to show your code implementation, I would be much appreciated.\r\n\r\n","title":"how to bind one thread to one queue? Is it mpsc?","body":"<p>Is it my understanding of actor model, mpmc and mpsc right?</p>\n<p>I have seen some code like this before:</p>\n<pre><code>public enum ProcessorId implements CommandProcessorId {\n    AUTH,\n    PLAYER,\n    PERSIST,\n    COMMON;\n}\n\n\n@Slf4j\n@Data\npublic abstract class Command implements Runnable {\n    private Queue queue;\n\n    @Override\n    public final void run() {\n        try {\n            if (queue != null) {\n                CommandContext ctx = CommandContext.ctx.get();\n                ctx.setQueue(queue);\n            }\n\n            this.action();\n        } catch (Exception e) {\n            log.error(&quot;command execute failed.&quot;, e);\n        }\n    }\n\n    protected abstract void action() throws Exception;\n}\n\n\npublic class CommandContext {\n    public static final ThreadLocal&lt;CommandContext&gt; ctx\n            = ThreadLocal.withInitial(CommandContext::new);\n\n    @Setter(AccessLevel.PROTECTED)\n    private Queue queue;\n\n    private CommandContext() {\n\n    }\n\n\n    public static Queue getQueue() {\n        return ctx.get().queue;\n    }\n\n}\n\npublic interface CommandProcessor {\n\n    CommandProcessorId getId();\n\n    Queue getQueue(long key);\n\n}\n\npublic interface CommandProcessorId {\n\n}\n\n@Component\npublic class CommandRouter implements ApplicationContextAware {\n    private final Map&lt;CommandProcessorId, CommandProcessor&gt; processors = new HashMap&lt;&gt;();\n\n    @Override\n    public void setApplicationContext(@Nonnull ApplicationContext applicationContext) throws BeansException {\n        applicationContext.getBeansOfType(CommandProcessor.class).forEach((name, bean) -&gt; {\n            CommandProcessorId id = bean.getId();\n            if (processors.containsKey(id)) {\n                throw new RuntimeException(&quot;processor repeated: &quot; + id + &quot;/&quot; + bean.getClass().getName());\n            }\n            processors.put(id, bean);\n        });\n    }\n\n\n    public void process(CommandProcessorId processorId, long key, Command command) {\n        CommandProcessor processor = processors.get(processorId);\n        if (processor == null) {\n            throw new RuntimeException(&quot;processor not found: &quot; + processorId + &quot; - &quot; + command);\n        }\n        Queue queue = processor.getQueue(key);\n        if (queue == null) {\n            throw new RuntimeException(&quot;get queue failed: &quot; + processorId + &quot;/&quot; + key + &quot; - &quot; + command);\n        }\n        queue.append(command);\n    }\n}\n\n@Slf4j\npublic class Executor extends ThreadPoolExecutor {\n\n    public Executor(int corePoolSize, int maxPoolSize) {\n        super(corePoolSize, maxPoolSize, 30L, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;&gt;(), new ThreadFactory() {\n            final AtomicInteger n = new AtomicInteger(0);\n            @Override\n            public Thread newThread(Runnable r) {\n                String name = &quot;queue-execute-thread-&quot; + n.incrementAndGet();\n                log.error(&quot;create thread: {}&quot;, name);\n                return new Thread(r, name);\n            }\n        });\n    }\n\n    @Override\n    protected void afterExecute(Runnable r, Throwable t) {\n        super.afterExecute(r, t);\n        ((Command) r).getQueue().resume();\n    }\n}\n\npublic class Queue {\n    public static final Executor EXECUTOR = new Executor(16, 16);\n\n    @Getter\n    private final long id;\n    @Getter\n    private final String name;\n    @Getter\n    private final int capacity;\n\n    private final java.util.Queue&lt;Command&gt; queue;\n\n    private boolean running = false;\n    @Getter\n    @Setter\n    private boolean destroy = false;\n\n\n    public Queue(long id, String name, int capacity) {\n        this.id = id;\n        this.name = name;\n        this.capacity = capacity;\n        this.queue = new ArrayDeque&lt;&gt;();\n    }\n\n    public boolean append(Command command) {\n        command.setQueue(this);\n        synchronized (this) {\n            if (!running &amp;&amp; !destroy) {\n                running = true;\n                EXECUTOR.execute(command);\n                return true;\n            }\n            return queue.offer(command);\n        }\n    }\n\n    protected void resume() {\n        synchronized (this) {\n            if (destroy) {\n                running = false;\n                return;\n            }\n            Command command = queue.poll();\n            if (command == null) {\n                running = false;\n                return;\n            }\n            EXECUTOR.execute(command);\n        }\n    }\n\n}\n\npublic class QueueCommitException extends AppException {\n    public QueueCommitException(String msg) {\n        super(msg);\n    }\n}\n\npublic class PlayerIndex implements ExposedIndex {\n    @Override\n    public Object get() {\n        return ProcessorId.PLAYER;\n    }\n}\n\n@Component\npublic class PlayerProcessor implements CommandProcessor {\n    private final Map&lt;Long, Queue&gt; queues = new ConcurrentHashMap&lt;&gt;();\n\n    @Override\n    public CommandProcessorId getId() {\n        return ProcessorId.PLAYER;\n    }\n\n    @Override\n    public Queue getQueue(long key) {\n        return queues.computeIfAbsent(key, k -&gt; new Queue(key, &quot;player@&quot; + key, 1000));\n    }\n}\n\n\npublic class CommonIndex implements ExposedIndex {\n    @Override\n    public Object get() {\n        return ProcessorId.COMMON;\n    }\n}\n\n@Component\npublic class CommonProcessor implements CommandProcessor {\n    private final Queue queue = new Queue(0, &quot;common&quot;, 2000);\n\n    @Override\n    public CommandProcessorId getId() {\n        return ProcessorId.COMMON;\n    }\n\n    @Override\n    public Queue getQueue(long key) {\n        return queue;\n    }\n}\n\n\n</code></pre>\n<p>I think it is a combination of actor model with mpmc((Multiple Producer Multiple Consumer)).</p>\n<p>For example, each player is an actor,  persist and auth services(see <code>ProcessorId</code>) are also actors. In the actor model, there're serveral important factors: address, mail, mailbox. As an actor processes <code>mail</code> in its   <code> mailbox</code> sequentially, so we don't worry the data race problem in each queue.</p>\n<p>For one player(see <code>PlayerProcessor</code>):</p>\n<pre><code>private final Map&lt;Long, Queue&gt; queues = new ConcurrentHashMap&lt;&gt;(); // key is playerId\n</code></pre>\n<p>I think the <code>Long playerId</code> is <code>address</code>, <code>Queue queue</code> is a <code>mailbox</code>, and <code>Command command</code> is a <code>mail</code>. If I want to send an <code>mail </code> from other actor to an player(eg. commit some items to player's backpack at midnight in SpringBoot @Scheduled annotated method), the code would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Promise&lt;Void&gt; safeCommit(Player player, LogAction action) {\n        Promise&lt;Void&gt; promise = new DefaultPromise&lt;&gt;();\n        Queue queue = CommandContext.getQueue();\n        if (queue != null &amp;&amp; queue.getId() == player.getId()) {\n            try {\n                commit(player, action);\n                promise.setFulfilled(null);\n            } catch (Exception e) {\n                promise.setRejected(e);\n            }\n        } else {\n            GameApplicationContext.getBean(CommandRouter.class).process(ProcessorId.PLAYER, player.getId(), new Command() {\n                @Override\n                protected void action() throws Exception {\n                    try {\n                        commit(player, action);\n                        promise.setFulfilled(null);\n                    } catch (Exception e) {\n                        promise.setRejected(e);\n                    }\n                }\n            });\n        }\n\n        return promise;\n    }\n</code></pre>\n<p>This code is somewhat similar to <code>tell</code> in Akka:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GameApplicationContext.getBean(CommandRouter.class).process(ProcessorId.PLAYER, player.getId(), \n                                                            new Command() {...});\n\n// akka \ntargetActor.tell(message, sender)\n</code></pre>\n<p>And I think the code at the beginning is <code>mpmc</code> implementation. For example, if 100 players send each request to the server, then there're 100 requests in different player queues and there would be 16 thread at maximum to process these requests. I think the clients who send requests are producers, while the threads that process the logic are consumers.</p>\n<p>Since the code uses thread pool not to create a new thread for each <code>command</code>, and to avoid shared data race, each queue are locked using <code>synchronized</code> keyword to block other threads until the processing thread release the lock.</p>\n<p>Therefore, I have the following question:</p>\n<ol>\n<li><p>Since queues are detached from one thread and then attach to another, there must be many lock and unlock operations, which result huge cost of thread switching.</p>\n<p>And I've heard some people say that bind one thread to one queue(is it <code>mpsc</code> implementation?) are much effective. Since there're limited threads in the thread pool, if once there're large number of players online simultaneously, the threads don't seem to be enough.</p>\n<p>I want to know how to bind one thread to one queue without lock primitives to ensure concurrent safety.</p>\n</li>\n</ol>\n<p>If my understanding or my questions are wrong,  please let me know.  And if you are willing to show your code implementation, I would be much appreciated.</p>\n"},{"tags":["java","pdf-generation","openhtmltopdf"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1688551244,"post_id":76618802,"comment_id":135087252,"body_markdown":"You have 3 options: [1] Use a java-based PDF generator, such as iText. This is problematic; iText isn&#39;t FOSS, other alternatives aren&#39;t any good. You&#39;d have to ditch the HTML in any case. [2] Let a browser engine render the HTML to PDF. This is problematic, too. [3] Use another ecosystem. Such as pdf-make.js, and run this e.g. using `ProcessBuilder`. Inconvenient, but it&#39;s what I recommend here.","body":"You have 3 options: [1] Use a java-based PDF generator, such as iText. This is problematic; iText isn&#39;t FOSS, other alternatives aren&#39;t any good. You&#39;d have to ditch the HTML in any case. [2] Let a browser engine render the HTML to PDF. This is problematic, too. [3] Use another ecosystem. Such as pdf-make.js, and run this e.g. using <code>ProcessBuilder</code>. Inconvenient, but it&#39;s what I recommend here."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1688551296,"post_id":76618802,"comment_id":135087265,"body_markdown":"The 3rd option would involve changing how your code works (you&#39;d have to just generate the PDF using that library&#39;s constructs, and avoid HTML altogether). The problem is this: From experience, the chrome engine&#39;s print system is deplorably bad. That&#39;s because the chrome team doesn&#39;t care about printing. Bugs about misinterpreting print-specific CSS have been open for _years_. Firefox is much better, but, running firefox headless is very complicated. It requires a full GFX stack, which makes it _very_ heavyweight and hard to install on servers.","body":"The 3rd option would involve changing how your code works (you&#39;d have to just generate the PDF using that library&#39;s constructs, and avoid HTML altogether). The problem is this: From experience, the chrome engine&#39;s print system is deplorably bad. That&#39;s because the chrome team doesn&#39;t care about printing. Bugs about misinterpreting print-specific CSS have been open for <i>years</i>. Firefox is much better, but, running firefox headless is very complicated. It requires a full GFX stack, which makes it <i>very</i> heavyweight and hard to install on servers."}],"answers":[{"tags":[],"owner":{"account_id":23706651,"reputation":88,"user_id":17729030,"display_name":"Saurabh Deshmukh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688548576,"creation_date":1688548576,"answer_id":76618838,"question_id":76618802,"body_markdown":"We did a similar thing, but with python, we used wkhtmltopdf. It also had poor css support. But when we used inline css. The generated pdf followed proper formatting. You may try using inline css. Not sure if it will help. But it helped us.","title":"Html to PDF generation with Java","body":"<p>We did a similar thing, but with python, we used wkhtmltopdf. It also had poor css support. But when we used inline css. The generated pdf followed proper formatting. You may try using inline css. Not sure if it will help. But it helped us.</p>\n"},{"tags":[],"owner":{"account_id":28778728,"reputation":11,"user_id":22040772,"display_name":"finger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688549608,"creation_date":1688549608,"answer_id":76618998,"question_id":76618802,"body_markdown":"You can to try Chrome Headless print\r\n\r\ncmd:\r\n`google-chrome --headless --disable-gpu --print-to-pdf=&#39;/root/test/test.pdf&#39; /root/test/test.html`","title":"Html to PDF generation with Java","body":"<p>You can to try Chrome Headless print</p>\n<p>cmd:\n<code>google-chrome --headless --disable-gpu --print-to-pdf='/root/test/test.pdf' /root/test/test.html</code></p>\n"},{"tags":[],"owner":{"account_id":8515340,"reputation":783,"user_id":6383966,"display_name":"Dheeraj Malik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688694945,"creation_date":1688694945,"answer_id":76633497,"question_id":76618802,"body_markdown":"You can try Spire.PDF for Java. It provides functionality for [rendering HTML with inline CSS to PDF][1]. If you&#39;re using external CSS, you&#39;ll need to convert it into inline CSS to ensure proper rendering within the PDF document. \r\n\r\n\r\n  [1]: https://www.e-iceblue.com/Tutorials/Java/Spire.PDF-for-Java/Program-Guide/Conversion/Java-convert-HTML-to-PDF.html","title":"Html to PDF generation with Java","body":"<p>You can try Spire.PDF for Java. It provides functionality for <a href=\"https://www.e-iceblue.com/Tutorials/Java/Spire.PDF-for-Java/Program-Guide/Conversion/Java-convert-HTML-to-PDF.html\" rel=\"nofollow noreferrer\">rendering HTML with inline CSS to PDF</a>. If you're using external CSS, you'll need to convert it into inline CSS to ensure proper rendering within the PDF document.</p>\n"}],"owner":{"account_id":28954223,"reputation":21,"user_id":22178114,"display_name":"Laman Aghabayova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1695036762,"creation_date":1688548320,"question_id":76618802,"body_markdown":"In our project, we have a task to generate PDF from HTML content. For that, we tried to use *flying saucer* and openhtmltoppdf, however, the HTML content that we are trying to generate contains CSS3 syntax, and seems that both of these libraries have poor support for CSS3. As a result generated PDF is incomplete and missing proper layout. \r\nMy question is, if there is any way to generate a proper PDF that will look the same as in the web view in Java?\r\n\r\n\r\nHere is the code snippet:\r\n\r\n\r\n```JAVA\r\nvar document = Jsoup.connect(url).get();\r\n\r\ntry (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n    PdfRendererBuilder builder = new PdfRendererBuilder();\r\n    builder.withUri(uri);\r\n    builder.toStream(outputStream);\r\n    builder.withW3cDocument(new W3CDom().fromJsoup(document), &quot;/&quot;);\r\n    builder.run();\r\n\r\n    return outputStream.toByteArray();\r\n}\r\n```\r\n\r\nWe were also trying to append all the CSS code to the HTML document, since the original HTML document contains external references to the static CSS pages. Here is the snippet:\r\n\r\n```java\r\nfor (Element link : document.select(&quot;link[rel=stylesheet]&quot;)) {\r\n    String cssFilename = link.attr(&quot;href&quot;);\r\n\r\n    Element style = new Element(Tag.valueOf(&quot;style&quot;), &quot;&quot;);\r\n    var css = Jsoup.connect(baseUrl + cssFilename).get().body().text();\r\n\r\n    style.appendText(css);\r\n    link.replaceWith(style);\r\n}\r\n```\r\n","title":"Html to PDF generation with Java","body":"<p>In our project, we have a task to generate PDF from HTML content. For that, we tried to use <em>flying saucer</em> and openhtmltoppdf, however, the HTML content that we are trying to generate contains CSS3 syntax, and seems that both of these libraries have poor support for CSS3. As a result generated PDF is incomplete and missing proper layout.\nMy question is, if there is any way to generate a proper PDF that will look the same as in the web view in Java?</p>\n<p>Here is the code snippet:</p>\n<pre><code>var document = Jsoup.connect(url).get();\n\ntry (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n    PdfRendererBuilder builder = new PdfRendererBuilder();\n    builder.withUri(uri);\n    builder.toStream(outputStream);\n    builder.withW3cDocument(new W3CDom().fromJsoup(document), &quot;/&quot;);\n    builder.run();\n\n    return outputStream.toByteArray();\n}\n</code></pre>\n<p>We were also trying to append all the CSS code to the HTML document, since the original HTML document contains external references to the static CSS pages. Here is the snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Element link : document.select(&quot;link[rel=stylesheet]&quot;)) {\n    String cssFilename = link.attr(&quot;href&quot;);\n\n    Element style = new Element(Tag.valueOf(&quot;style&quot;), &quot;&quot;);\n    var css = Jsoup.connect(baseUrl + cssFilename).get().body().text();\n\n    style.appendText(css);\n    link.replaceWith(style);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1693858542,"post_id":77040386,"comment_id":135812557,"body_markdown":"Are you using Spring-boot in version `&gt;= 3`? If so: Spring-boot switched from `javax.persistence` to `jakarta.persistence`.","body":"Are you using Spring-boot in version <code>&gt;= 3</code>? If so: Spring-boot switched from <code>javax.persistence</code> to <code>jakarta.persistence</code>."},{"owner":{"account_id":80124,"reputation":528,"user_id":226758,"accept_rate":92,"display_name":"Harry"},"score":0,"creation_date":1693891701,"post_id":77040386,"comment_id":135815314,"body_markdown":"Did you google the error. Here&#39;s one link which you can check : https://www.java67.com/2023/04/how-to-fix-not-managed-type-exception.html","body":"Did you google the error. Here&#39;s one link which you can check : <a href=\"https://www.java67.com/2023/04/how-to-fix-not-managed-type-exception.html\" rel=\"nofollow noreferrer\">java67.com/2023/04/how-to-fix-not-managed-type-exception.htm&zwnj;&#8203;l</a>"}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695036989,"post_id":77044412,"comment_id":135966029,"body_markdown":"Adding `@EnableJpaRepositories` isn&#39;t needed for a Spring Boot application, in fact it will even disable parts of the auto configuration if you add it. The same for `@Repository` on a Sprng Data interface repository it doesn&#39;t add anything but overhead.","body":"Adding <code>@EnableJpaRepositories</code> isn&#39;t needed for a Spring Boot application, in fact it will even disable parts of the auto configuration if you add it. The same for <code>@Repository</code> on a Sprng Data interface repository it doesn&#39;t add anything but overhead."},{"owner":{"account_id":26079635,"reputation":24,"user_id":19778028,"display_name":"Elentari"},"score":0,"creation_date":1695151345,"post_id":77044412,"comment_id":135984789,"body_markdown":"Unfortunately you are wrong my friend some cases springboot cant see the repositories so , sometimes this annotation can be needed because of the directory or intelij ide, also its  doesnt  disable autoconfiguration  just enable jparepo","body":"Unfortunately you are wrong my friend some cases springboot cant see the repositories so , sometimes this annotation can be needed because of the directory or intelij ide, also its  doesnt  disable autoconfiguration  just enable jparepo"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695190124,"post_id":77044412,"comment_id":135989054,"body_markdown":"No I&#39;m not wrong. If it is an IDE problem the problem is different and the solution isn&#39;t adding that annotation, and yes it will disable parts of the JPA auto configuration (Or more precise Spring Data JPA auto configuration).","body":"No I&#39;m not wrong. If it is an IDE problem the problem is different and the solution isn&#39;t adding that annotation, and yes it will disable parts of the JPA auto configuration (Or more precise Spring Data JPA auto configuration)."}],"tags":[],"owner":{"account_id":26079635,"reputation":24,"user_id":19778028,"display_name":"Elentari"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693915936,"creation_date":1693915936,"answer_id":77044412,"question_id":77040386,"body_markdown":"**First:** you can try that \r\n\r\n  `@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n}` \r\n  with `@EnableJpaRepositories(basePackages = &quot;com.springboot.dao&quot;)` anotation with springboot app class.\r\n\r\n**Second:** you can check `spring-boot-starter-data-jpa` dependency  at your pom.xml\r\n\r\n**Third:** You can try use Long for id. I think that it is better practice.\r\n\r\n\r\n\r\n\r\n","title":"Not a managed type: class com.springboot.entities.User","body":"<p><strong>First:</strong> you can try that</p>\n<p><code>@Repository public interface UserRepository extends JpaRepository&lt;User, Integer&gt; { }</code>\nwith <code>@EnableJpaRepositories(basePackages = &quot;com.springboot.dao&quot;)</code> anotation with springboot app class.</p>\n<p><strong>Second:</strong> you can check <code>spring-boot-starter-data-jpa</code> dependency  at your pom.xml</p>\n<p><strong>Third:</strong> You can try use Long for id. I think that it is better practice.</p>\n"},{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695036950,"post_id":77126801,"comment_id":135966018,"body_markdown":"Adding `@EnableJpaRepositories` isn&#39;t needed for a Spring Boot application, in fact it will even disable parts of the auto configuration if you add it.","body":"Adding <code>@EnableJpaRepositories</code> isn&#39;t needed for a Spring Boot application, in fact it will even disable parts of the auto configuration if you add it."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695194975,"post_id":77126801,"comment_id":135989900,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77126801/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29472901,"reputation":1,"user_id":22585235,"display_name":"PatilAditya"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695036574,"creation_date":1695036542,"answer_id":77126801,"question_id":77040386,"body_markdown":"Also you can try adding \r\n@EnableJpaRepositories(&quot;com.base.*&quot;)\r\n\r\nannotation to your main springboot class file \r\n\r\neg in your case:\r\n\r\n@EnableJpaRepositories(&quot;com.springboot.entities*&quot;) // path of entity package\r\n@SpringBootApplication\r\npublic class DataApplication {`enter code here`\r\n     //\r\n}\r\n","title":"Not a managed type: class com.springboot.entities.User","body":"<p>Also you can try adding\n@EnableJpaRepositories(&quot;com.base.*&quot;)</p>\n<p>annotation to your main springboot class file</p>\n<p>eg in your case:</p>\n<p>@EnableJpaRepositories(&quot;com.springboot.entities*&quot;) // path of entity package\n@SpringBootApplication\npublic class DataApplication {<code>enter code here</code>\n//\n}</p>\n"}],"owner":{"account_id":26325532,"reputation":1,"user_id":19986908,"display_name":"Prashant Parapelli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1695036574,"creation_date":1693858420,"question_id":77040386,"body_markdown":"The Error says Unable to create bean named with user Repository .not  a a managed type com.user .entities\r\nTried with multiple component such enablejparepository.entityscan still it doesn&#39;t work\r\n\r\n```\r\npackage com.springboot;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\nimport org.springframework.context.ApplicationContext;\r\n\r\nimport com.springboot.dao.UserRepository;\r\nimport com.springboot.entities.User;\r\n\r\n@SpringBootApplication\r\npublic class DataApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tApplicationContext context = SpringApplication.run(DataApplication.class, args);\r\n\t\tUserRepository userRepository = context.getBean(UserRepository.class);\r\n\t\tUser user = new User();\r\n\t\tuser.setName(&quot;prashant&quot;);\r\n\t\tuser.setCity(&quot;vikhroli&quot;);\r\n\t\tuser.setStatus(&quot;java programming&quot;);\r\n        User user2 = userRepository.save(user);\r\n\t\tSystem.out.println(user2);\r\n }\r\n}\r\n```\r\n\r\nThis is the main Application class\r\n-\r\n\r\n```\r\npackage com.springboot;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\nimport org.springframework.context.ApplicationContext;\r\n\r\nimport com.springboot.dao.UserRepository;\r\nimport com.springboot.entities.User;\r\n\r\n@SpringBootApplication\r\npublic class DataApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tApplicationContext context = SpringApplication.run(DataApplication.class, args);\r\n\t\tUserRepository userRepository = context.getBean(UserRepository.class);\r\n\t\tUser user = new User();\r\n\t\tuser.setName(&quot;prashant&quot;);\r\n\t\tuser.setCity(&quot;vikhroli&quot;);\r\n\t\tuser.setStatus(&quot;java programming&quot;);\r\n        User user2 = userRepository.save(user);\r\n\t\tSystem.out.println(user2);\r\n }\r\n}\r\n```\r\n\r\nThis the repository class\r\n-\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends CrudRepository\\&lt;User, Integer\\&gt; {\r\n\r\n}\r\n```\r\n\r\n```\r\n package com.springboot.entities;\r\n\r\n      import javax.persistence.Entity;\r\n      import javax.persistence.GeneratedValue;\r\n      import javax.persistence.GenerationType;\r\n      import javax.persistence.Id;\r\n\r\n\r\n@Entity\r\npublic class User\r\n{\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public int id;\r\n    public String name;\r\n    public String city;\r\n    public String status;\r\n\tpublic User() {\r\n\t\tsuper();\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\tpublic User(int id, String name, String city, String status) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.city = city;\r\n\t\tthis.status = status;\r\n\t}\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\tpublic void setCity(String city) {\r\n\t\tthis.city = city;\r\n\t}\r\n\tpublic String getStatus() {\r\n\t\treturn status;\r\n\t}\r\n\tpublic void setStatus(String status) {\r\n\t\tthis.status = status;\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;, city=&quot; + city + &quot;, status=&quot; + status + &quot;]&quot;;\r\n\t}\r\n    \r\n    \r\n}\r\n```\r\n\r\nThis is the entity class\r\n-\r\n\r\n``` \r\n      spring.datasource.name=world\r\n      spring.datasource.url=jdbc:mysql://localhost:/pops\r\n      spring.datasource.username=root\r\n      spring.datasource.password=root\r\n      spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n      spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\n      spring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\nThe Error log\r\n-\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39; defined in com.springboot.dao.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.springboot.entities.User","title":"Not a managed type: class com.springboot.entities.User","body":"<p>The Error says Unable to create bean named with user Repository .not  a a managed type com.user .entities\nTried with multiple component such enablejparepository.entityscan still it doesn't work</p>\n<pre><code>package com.springboot;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport org.springframework.context.ApplicationContext;\n\nimport com.springboot.dao.UserRepository;\nimport com.springboot.entities.User;\n\n@SpringBootApplication\npublic class DataApplication {\n\n    public static void main(String[] args) {\n        ApplicationContext context = SpringApplication.run(DataApplication.class, args);\n        UserRepository userRepository = context.getBean(UserRepository.class);\n        User user = new User();\n        user.setName(&quot;prashant&quot;);\n        user.setCity(&quot;vikhroli&quot;);\n        user.setStatus(&quot;java programming&quot;);\n        User user2 = userRepository.save(user);\n        System.out.println(user2);\n }\n}\n</code></pre>\n<h2>This is the main Application class</h2>\n<pre><code>package com.springboot;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport org.springframework.context.ApplicationContext;\n\nimport com.springboot.dao.UserRepository;\nimport com.springboot.entities.User;\n\n@SpringBootApplication\npublic class DataApplication {\n\n    public static void main(String[] args) {\n        ApplicationContext context = SpringApplication.run(DataApplication.class, args);\n        UserRepository userRepository = context.getBean(UserRepository.class);\n        User user = new User();\n        user.setName(&quot;prashant&quot;);\n        user.setCity(&quot;vikhroli&quot;);\n        user.setStatus(&quot;java programming&quot;);\n        User user2 = userRepository.save(user);\n        System.out.println(user2);\n }\n}\n</code></pre>\n<h2>This the repository class</h2>\n<pre><code>@Repository\npublic interface UserRepository extends CrudRepository\\&lt;User, Integer\\&gt; {\n\n}\n</code></pre>\n<pre><code> package com.springboot.entities;\n\n      import javax.persistence.Entity;\n      import javax.persistence.GeneratedValue;\n      import javax.persistence.GenerationType;\n      import javax.persistence.Id;\n\n\n@Entity\npublic class User\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public int id;\n    public String name;\n    public String city;\n    public String status;\n    public User() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n    public User(int id, String name, String city, String status) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.city = city;\n        this.status = status;\n    }\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getCity() {\n        return city;\n    }\n    public void setCity(String city) {\n        this.city = city;\n    }\n    public String getStatus() {\n        return status;\n    }\n    public void setStatus(String status) {\n        this.status = status;\n    }\n    @Override\n    public String toString() {\n        return &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;, city=&quot; + city + &quot;, status=&quot; + status + &quot;]&quot;;\n    }\n    \n    \n}\n</code></pre>\n<h2>This is the entity class</h2>\n<pre><code>      spring.datasource.name=world\n      spring.datasource.url=jdbc:mysql://localhost:/pops\n      spring.datasource.username=root\n      spring.datasource.password=root\n      spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n      spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\n      spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<h2>The Error log</h2>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.springboot.dao.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.springboot.entities.User</p>\n"},{"tags":["java","spring","graphql","graphql-java"],"answers":[{"comments":[{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1690410453,"post_id":76596713,"comment_id":135351629,"body_markdown":"Didn&#39;t know about this proposal. Thanks for pointing it out. Sounds useful, seeing how often nullability causes undue trouble.","body":"Didn&#39;t know about this proposal. Thanks for pointing it out. Sounds useful, seeing how often nullability causes undue trouble."}],"tags":[],"owner":{"account_id":1476634,"reputation":5571,"user_id":1386873,"accept_rate":90,"display_name":"puelo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695036437,"creation_date":1688248602,"answer_id":76596713,"question_id":76594757,"body_markdown":"Adding this as an answer for the future. It seems like there as a somewhat progressed proposal in the GraphQL Spec working group, which would solve that issue, by allowing client controlled nullability (basically changing the nullability of a field in the request):\r\n\r\nhttps://github.com/graphql/graphql-wg/blob/main/rfcs/ClientControlledNullability.md\r\n\r\nHere is an excerpt of the proposal:\r\n\r\n&gt; Each client controlled nullability designator overrides the\r\n&gt; schema-defined nullability of the field it&#39;s attached to for the\r\n&gt; duration of the operation.\r\n&gt; \r\n&gt;**!**\r\n&gt;\r\n&gt; The proposed client-controlled required designator would have similar,\r\n&gt; but not identical semantics to the current schema-defined Non-Null.\r\n&gt; Specifically if a required field resolves to null, then null\r\n&gt; propagation extends to the nearest optional parent rather than the\r\n&gt; nearest nullable parent. In the event that no optional parent exists,\r\n&gt; the data field of the response will be null.\r\n&gt; \r\n&gt;**?**\r\n&gt; \r\n&gt; The proposed client-controlled optional designator would have\r\n&gt; identical semantics to the current schema-defined default behavior.\r\n&gt; Fields that resolve to null return null for that field. Additionally,\r\n&gt; fields marked with ? act as a stopping point for null propagation\r\n&gt; caused by required fields.\r\n\r\n**Update 18.09.2023:** Sadly the RFC was updated to only include &quot;!&quot;, but omit the counter-part in &quot;?&quot;. This was done to reduce the complexity and move the RFC forward. This means that the RFC in it&#39;s current form will not be a full solution to the issue outlined in my question. I will still keep this answer here in case it becomes useful again.","title":"GraphQL field level authorization and nullability","body":"<p>Adding this as an answer for the future. It seems like there as a somewhat progressed proposal in the GraphQL Spec working group, which would solve that issue, by allowing client controlled nullability (basically changing the nullability of a field in the request):</p>\n<p><a href=\"https://github.com/graphql/graphql-wg/blob/main/rfcs/ClientControlledNullability.md\" rel=\"nofollow noreferrer\">https://github.com/graphql/graphql-wg/blob/main/rfcs/ClientControlledNullability.md</a></p>\n<p>Here is an excerpt of the proposal:</p>\n<blockquote>\n<p>Each client controlled nullability designator overrides the\nschema-defined nullability of the field it's attached to for the\nduration of the operation.</p>\n<p><strong>!</strong></p>\n<p>The proposed client-controlled required designator would have similar,\nbut not identical semantics to the current schema-defined Non-Null.\nSpecifically if a required field resolves to null, then null\npropagation extends to the nearest optional parent rather than the\nnearest nullable parent. In the event that no optional parent exists,\nthe data field of the response will be null.</p>\n<p><strong>?</strong></p>\n<p>The proposed client-controlled optional designator would have\nidentical semantics to the current schema-defined default behavior.\nFields that resolve to null return null for that field. Additionally,\nfields marked with ? act as a stopping point for null propagation\ncaused by required fields.</p>\n</blockquote>\n<p><strong>Update 18.09.2023:</strong> Sadly the RFC was updated to only include &quot;!&quot;, but omit the counter-part in &quot;?&quot;. This was done to reduce the complexity and move the RFC forward. This means that the RFC in it's current form will not be a full solution to the issue outlined in my question. I will still keep this answer here in case it becomes useful again.</p>\n"},{"comments":[{"owner":{"account_id":1476634,"reputation":5571,"user_id":1386873,"accept_rate":90,"display_name":"puelo"},"score":1,"creation_date":1690395676,"post_id":76771487,"comment_id":135349207,"body_markdown":"Thank you for your answer. That was very insightful. Especially the part about `GraphqlFieldVisibility`. Doesn&#39;t this error out if a user requests a field that is not part of the visible schema for them? I will mark this as an answer.","body":"Thank you for your answer. That was very insightful. Especially the part about <code>GraphqlFieldVisibility</code>. Doesn&#39;t this error out if a user requests a field that is not part of the visible schema for them? I will mark this as an answer."},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1690409055,"post_id":76771487,"comment_id":135351452,"body_markdown":"@puelo It does, yes, as if they requested any other non existing field. Depending on who/what your client is, that may be a good or a bad thing. E.g. in a multi tenant application where the clients are maintained by the tenants themselves, this works wonders. If your client needs to dynamically adjust to different  permissions (which is your situation, if I got it right), you can theoretically leverage introspection to make the decision, but that&#39;s cumbersome (effectively like HATEOAS), so the visibility approach isn&#39;t that great.","body":"@puelo It does, yes, as if they requested any other non existing field. Depending on who/what your client is, that may be a good or a bad thing. E.g. in a multi tenant application where the clients are maintained by the tenants themselves, this works wonders. If your client needs to dynamically adjust to different  permissions (which is your situation, if I got it right), you can theoretically leverage introspection to make the decision, but that&#39;s cumbersome (effectively like HATEOAS), so the visibility approach isn&#39;t that great."},{"owner":{"account_id":1476634,"reputation":5571,"user_id":1386873,"accept_rate":90,"display_name":"puelo"},"score":0,"creation_date":1690410586,"post_id":76771487,"comment_id":135351639,"body_markdown":"Thanks! We actually somewhat have a mix of both and the `GraphqlFieldVisibility` might still be useful for self-documenting the schema via introspection for clients with different access levels (so that are not presented with any fields that they cannot actually query). For now we will remove the not-null constraint for the information which can be null via authorization and reevaluate once/if the proposal has made it into the spec.","body":"Thanks! We actually somewhat have a mix of both and the <code>GraphqlFieldVisibility</code> might still be useful for self-documenting the schema via introspection for clients with different access levels (so that are not presented with any fields that they cannot actually query). For now we will remove the not-null constraint for the information which can be null via authorization and reevaluate once/if the proposal has made it into the spec."}],"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690409510,"creation_date":1690375607,"answer_id":76771487,"question_id":76594757,"body_markdown":"Here are some thoughts I hope you find useful.\r\n\r\nNullability\r\n--\r\nNullability on _output_ types is _generally_ regarded as not the best idea in many cases. I&#39;ll quote [Production Ready GraphQL](https://productionreadygraphql.com) here (the book is worth its weight in gold to anyone designing GraphQL schemas, can not recommend it enough):\r\n\r\n&gt; So here are a few guidelines that I use for nullability when designing\r\n&gt; schemas:\r\n&gt; \r\n&gt; - For arguments, non-null is almost always better to allow for a more predictable and easy to understand API. (If you’re adding an argument,\r\n&gt; nullable is the best choice to avoid breaking existing clients)\r\n&gt; - Fields that return object types that are backed by database associations, network calls, or anything else that could potentially\r\n&gt; fail one day should almost always be nullable.\r\n&gt; - Simple scalars on an object that you know will already have been loaded on the parent at execution time are generally safe to make\r\n&gt; non-null.\r\n\r\nOne reason nullability on the output is dangerous is that if a non-null field does end up being null, the whole parent object is nulled too. And if that parent is also non-null... well, you can easily end up bombing your entire object graph for no good reason. [This article](https://www.apollographql.com/blog/graphql/basics/using-nullability-in-graphql/) also has a decent summary of the situation and best practices.\r\n\r\nGraphqlFieldVisibility\r\n--\r\n- A _very_ neat way to handle per-field authorization (when possible) instead is to provide a custom `GraphqlFieldVisibility` for each user (of rather tenant). This way, you have no issues with nullable fields, because the users already can not even see (nor request) the fields they&#39;re not authorized to see. The effective schema their requests are executed against is already filtered to only include the permitted fields. This approach does not apply for fields where you need to inspect the runtime value of the inputs or outputs before you make the decision on whether a field is accessible or not, but works wonderfully everywhere else (e.g. for role-based or access-list based authorization).\r\n\r\nHere&#39;s the pseudo-code for this:\r\n\r\n    //Do this on each request*\r\n    GraphQLCodeRegistry codeRegistry = schema.getCodeRegistry().transform(c -&gt; c.fieldVisibility(new AuthVisibility(currentUser)));\r\n    GraphQL runtime = GraphQL.newGraphQL(schema.transform(s -&gt; s.codeRegistry(codeRegistry)));\r\n\r\nThen implement `AuthVisibility` using the current user (or whatever else is applicable) to decide whether a field is visible to that user. I e.g. made use of Spring Security for this, and invoked the same logic it normally invokes to decide if the underlying resolver method can be called by the current user. I can probably dig out some of that code should you need it.\r\n\r\n*You can also somehow cache the resulting `GraphQL` object per user session, but it&#39;s probably not needed, as the transformations involved are trivial.","title":"GraphQL field level authorization and nullability","body":"<p>Here are some thoughts I hope you find useful.</p>\n<h2>Nullability</h2>\n<p>Nullability on <em>output</em> types is <em>generally</em> regarded as not the best idea in many cases. I'll quote <a href=\"https://productionreadygraphql.com\" rel=\"nofollow noreferrer\">Production Ready GraphQL</a> here (the book is worth its weight in gold to anyone designing GraphQL schemas, can not recommend it enough):</p>\n<blockquote>\n<p>So here are a few guidelines that I use for nullability when designing\nschemas:</p>\n<ul>\n<li>For arguments, non-null is almost always better to allow for a more predictable and easy to understand API. (If you’re adding an argument,\nnullable is the best choice to avoid breaking existing clients)</li>\n<li>Fields that return object types that are backed by database associations, network calls, or anything else that could potentially\nfail one day should almost always be nullable.</li>\n<li>Simple scalars on an object that you know will already have been loaded on the parent at execution time are generally safe to make\nnon-null.</li>\n</ul>\n</blockquote>\n<p>One reason nullability on the output is dangerous is that if a non-null field does end up being null, the whole parent object is nulled too. And if that parent is also non-null... well, you can easily end up bombing your entire object graph for no good reason. <a href=\"https://www.apollographql.com/blog/graphql/basics/using-nullability-in-graphql/\" rel=\"nofollow noreferrer\">This article</a> also has a decent summary of the situation and best practices.</p>\n<h2>GraphqlFieldVisibility</h2>\n<ul>\n<li>A <em>very</em> neat way to handle per-field authorization (when possible) instead is to provide a custom <code>GraphqlFieldVisibility</code> for each user (of rather tenant). This way, you have no issues with nullable fields, because the users already can not even see (nor request) the fields they're not authorized to see. The effective schema their requests are executed against is already filtered to only include the permitted fields. This approach does not apply for fields where you need to inspect the runtime value of the inputs or outputs before you make the decision on whether a field is accessible or not, but works wonderfully everywhere else (e.g. for role-based or access-list based authorization).</li>\n</ul>\n<p>Here's the pseudo-code for this:</p>\n<pre><code>//Do this on each request*\nGraphQLCodeRegistry codeRegistry = schema.getCodeRegistry().transform(c -&gt; c.fieldVisibility(new AuthVisibility(currentUser)));\nGraphQL runtime = GraphQL.newGraphQL(schema.transform(s -&gt; s.codeRegistry(codeRegistry)));\n</code></pre>\n<p>Then implement <code>AuthVisibility</code> using the current user (or whatever else is applicable) to decide whether a field is visible to that user. I e.g. made use of Spring Security for this, and invoked the same logic it normally invokes to decide if the underlying resolver method can be called by the current user. I can probably dig out some of that code should you need it.</p>\n<p>*You can also somehow cache the resulting <code>GraphQL</code> object per user session, but it's probably not needed, as the transformations involved are trivial.</p>\n"}],"owner":{"account_id":1476634,"reputation":5571,"user_id":1386873,"accept_rate":90,"display_name":"puelo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76771487,"answer_count":2,"score":2,"last_activity_date":1695036437,"creation_date":1688215450,"question_id":76594757,"body_markdown":"We&#39;ve implemented field level authorization in the type resolvers of our server, where a field is only returned with a value if the user has access to it, otherwise &quot;null&quot; is returned (with information in the extensions). The reason why we are not just returning an error (with an empty data response) is that we have web apps that are used by a variety of users with different access levels, and we don&#39;t want (and in some circumstances can&#39;t) write queries fitting for every access pattern. Our client has separate logic to deal with authorization, so that the missing information is handeled correctly.\r\n\r\nNow we also wanted to add nullability information to our GraphQL schema, but that turned out to be difficult with the above way of handling missing access. If a field technically is never returned null from our data, we would like mark it as non-nullable in the schema as well. But since missing authorization can make the field null while resolving GraphQL, it is not working well in all situations.\r\n\r\nI think my only options are:\r\n - Remove the non-nullable information from parts of the schema that can be affected by authorization checks\r\n - Build custom queries on the client for the different access types (that would at least allow us to return an error instead of making a field &quot;null&quot;, but would mean a lot of work to cover all possible access rules)\r\n - Somehow remove the entire field from the response before GQL validates it, but that sounds very dirty and also probably breaks the GQL &quot;contract&quot; between server and client.\r\n\r\nHas anyone else dealt with field-level authorization, common queries and nullability in GQL and has some other suggestions how to handle this? ","title":"GraphQL field level authorization and nullability","body":"<p>We've implemented field level authorization in the type resolvers of our server, where a field is only returned with a value if the user has access to it, otherwise &quot;null&quot; is returned (with information in the extensions). The reason why we are not just returning an error (with an empty data response) is that we have web apps that are used by a variety of users with different access levels, and we don't want (and in some circumstances can't) write queries fitting for every access pattern. Our client has separate logic to deal with authorization, so that the missing information is handeled correctly.</p>\n<p>Now we also wanted to add nullability information to our GraphQL schema, but that turned out to be difficult with the above way of handling missing access. If a field technically is never returned null from our data, we would like mark it as non-nullable in the schema as well. But since missing authorization can make the field null while resolving GraphQL, it is not working well in all situations.</p>\n<p>I think my only options are:</p>\n<ul>\n<li>Remove the non-nullable information from parts of the schema that can be affected by authorization checks</li>\n<li>Build custom queries on the client for the different access types (that would at least allow us to return an error instead of making a field &quot;null&quot;, but would mean a lot of work to cover all possible access rules)</li>\n<li>Somehow remove the entire field from the response before GQL validates it, but that sounds very dirty and also probably breaks the GQL &quot;contract&quot; between server and client.</li>\n</ul>\n<p>Has anyone else dealt with field-level authorization, common queries and nullability in GQL and has some other suggestions how to handle this?</p>\n"},{"tags":["java","android","imageview","fresco"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1694400318,"post_id":77078147,"comment_id":135881454,"body_markdown":"Can you give general explanation on what you are trying to do~","body":"Can you give general explanation on what you are trying to do~"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694418346,"post_id":77078147,"comment_id":135883325,"body_markdown":"The aar file of 2.6.0 contains `libnative-imagetranscoder.so` for all 4 major ABI and has a size of 685KB, version 3.0 does not contain any .so files and has a size of 5KB (and the dependencies have not changed). May be v3.0 is a defect release?","body":"The aar file of 2.6.0 contains <code>libnative-imagetranscoder.so</code> for all 4 major ABI and has a size of 685KB, version 3.0 does not contain any .so files and has a size of 5KB (and the dependencies have not changed). May be v3.0 is a defect release?"}],"answers":[{"tags":[],"owner":{"account_id":6605717,"reputation":238,"user_id":5102602,"display_name":"Shashank Bhong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695036196,"creation_date":1695036196,"answer_id":77126770,"question_id":77078147,"body_markdown":"We can use like \r\n```\r\nimplementation(&quot;com.facebook.fresco:fresco:2.6.0&quot;)\r\n```","title":"Fresco java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libnative-imagetranscoder.so&quot; not found - Android Studio - Java","body":"<p>We can use like</p>\n<pre><code>implementation(&quot;com.facebook.fresco:fresco:2.6.0&quot;)\n</code></pre>\n"}],"owner":{"account_id":11740512,"reputation":67,"user_id":8593001,"display_name":"Murat Gungor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695036196,"creation_date":1694386392,"question_id":77078147,"body_markdown":"Adding this did not solve my problem \r\n`implementation(&quot;com.facebook.fresco:nativeimagetranscoder:3.0.0&quot;)`\r\n\r\nbut this solved my problem with Android Studio with Java in gradle  dependencies\r\n```\r\nimplementation(&quot;com.facebook.fresco:nativeimagetranscoder&quot;) {\r\n        version {\r\n            strictly(&quot;2.6.0&quot;)\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\nDid not now I should be including this lib \r\n```\r\ncom.facebook.fresco:nativeimagetranscoder\r\n```","title":"Fresco java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libnative-imagetranscoder.so&quot; not found - Android Studio - Java","body":"<p>Adding this did not solve my problem\n<code>implementation(&quot;com.facebook.fresco:nativeimagetranscoder:3.0.0&quot;)</code></p>\n<p>but this solved my problem with Android Studio with Java in gradle  dependencies</p>\n<pre><code>implementation(&quot;com.facebook.fresco:nativeimagetranscoder&quot;) {\n        version {\n            strictly(&quot;2.6.0&quot;)\n        }\n    }\n</code></pre>\n<p>Did not now I should be including this lib</p>\n<pre><code>com.facebook.fresco:nativeimagetranscoder\n</code></pre>\n"},{"tags":["java","eclipse","gradle","eclipse-wtp"],"comments":[{"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"score":0,"creation_date":1695029896,"post_id":77125852,"comment_id":135964684,"body_markdown":"You can clean build your project or just right click on the project folder and refresh it.","body":"You can clean build your project or just right click on the project folder and refresh it."},{"owner":{"account_id":29471731,"reputation":3,"user_id":22584244,"display_name":"KKwak"},"score":0,"creation_date":1695030017,"post_id":77125852,"comment_id":135964701,"body_markdown":"I tried everything and it&#39;s the same...","body":"I tried everything and it&#39;s the same..."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1695035815,"post_id":77125852,"comment_id":135965783,"body_markdown":"Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) to the [bug report](https://bugs.eclipse.org/bugs/show_bug.cgi?id=182136) and reopen it.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to the <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=182136\" rel=\"nofollow noreferrer\">bug report</a> and reopen it."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1695046850,"post_id":77125852,"comment_id":135968169,"body_markdown":"A new image is not, by itself, a reproducible example. For the most basic information, there aren&#39;t actually web.xml files in each folder?","body":"A new image is not, by itself, a reproducible example. For the most basic information, there aren&#39;t actually web.xml files in each folder?"}],"answers":[{"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1695035713,"post_id":77126110,"comment_id":135965765,"body_markdown":"Well, someone reported it to Eclipse without a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), so it got closed.","body":"Well, someone reported it to Eclipse without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, so it got closed."}],"tags":[],"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695030156,"creation_date":1695030156,"answer_id":77126110,"question_id":77125852,"body_markdown":"Eclipse has once recorded this bug. You can check your eclipse version. I have provided the link in which this bug was reported.\r\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=182136","title":"There is a deployment descriptor in every folder. What&#39;s happening?","body":"<p>Eclipse has once recorded this bug. You can check your eclipse version. I have provided the link in which this bug was reported.\n<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=182136\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=182136</a></p>\n"}],"owner":{"account_id":29471731,"reputation":3,"user_id":22584244,"display_name":"KKwak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77126110,"answer_count":1,"score":0,"last_activity_date":1695035844,"creation_date":1695028063,"question_id":77125852,"body_markdown":"The project is a gradle project in the eclipse environment. I received the project from someone else and imported it, and I see deployment descriptors created in all folders. I don&#39;t think this should happen, but how can I fix this error?\r\nJava is using 11 and Tomcat is using 9.0.\r\n(ps. The folder name has been hidden for security reasons.)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI imported the project several times and tried importing it by reinstalling the 2023-06 and 2022-03 versions of Eclipse.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DdB9d.png","title":"There is a deployment descriptor in every folder. What&#39;s happening?","body":"<p>The project is a gradle project in the eclipse environment. I received the project from someone else and imported it, and I see deployment descriptors created in all folders. I don't think this should happen, but how can I fix this error?\nJava is using 11 and Tomcat is using 9.0.\n(ps. The folder name has been hidden for security reasons.)</p>\n<p><a href=\"https://i.stack.imgur.com/DdB9d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DdB9d.png\" alt=\"enter image description here\" /></a></p>\n<p>I imported the project several times and tried importing it by reinstalling the 2023-06 and 2022-03 versions of Eclipse.</p>\n"},{"tags":["java","swing","zooming","jscrollpane","graphics2d"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1695053076,"post_id":77126586,"comment_id":135969564,"body_markdown":"You might want to consider using Graphics2D.zoom instead of the AffineTransform. The biggest(?) issue with this is translating mouse event points to account for the zoom. You might want to look at ZoomPanel (https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/mod/ZoomPanel.java)","body":"You might want to consider using Graphics2D.zoom instead of the AffineTransform. The biggest(?) issue with this is translating mouse event points to account for the zoom. You might want to look at ZoomPanel (<a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/mod/ZoomPanel.java\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/mod/&hellip;</a>)"},{"owner":{"account_id":29472347,"reputation":11,"user_id":22584768,"display_name":"Displayname"},"score":0,"creation_date":1695113499,"post_id":77126586,"comment_id":135977374,"body_markdown":"Yeah, I know. But unfortunately G2D zoom did not work as smoothly as AffineTransform. It seems like I need to switch to this approach.","body":"Yeah, I know. But unfortunately G2D zoom did not work as smoothly as AffineTransform. It seems like I need to switch to this approach."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1695136111,"post_id":77126586,"comment_id":135982041,"body_markdown":"I don&#39;t know what to tell you; I was just thinking that it might be better to do this in JOGL, just because OGL is better set up for moving the camera. Otherwise, I don&#39;t know.","body":"I don&#39;t know what to tell you; I was just thinking that it might be better to do this in JOGL, just because OGL is better set up for moving the camera. Otherwise, I don&#39;t know."}],"owner":{"account_id":29472347,"reputation":11,"user_id":22584768,"display_name":"Displayname"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695034275,"creation_date":1695034275,"question_id":77126586,"body_markdown":"my goal is to implement an image viewer, where one can zoom to the mouse position and the JScrollPane correctly response to this zoom gesture. Also the possibility to roate the image would be nice.\r\nI&#39;m thrilled about Affine Transformation and the the smooth zooming described in [this](https://stackoverflow.com/questions/63583595/java-graphics2d-zoom-on-mouse-location) post.\r\nSo I implemented this affine transformation together with the feature to rotate the image with F7 and F8. (Zoom with control+mouse wheel)\r\nBut unfortunately the JScrollPane does not correctly adjust to the zooming and scrolling with the scrollbars leads to a distortion of the image. \r\nI found that the reason for this distortion is the following line in the paintComponent Method:\r\n`g2.setTransform(cordTransform);` Since removing this line leads to a normal scrolling, but then the zooming is not possible. \r\nAlso I tried to use the setView method to correct the alignment of the JScrollPane, but this did also not work properly.\r\nI appreciate any help provided.\r\n\r\nHere&#39;s my code:\r\n\r\n\r\n```\r\npackage org.example;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseMotionAdapter;\r\nimport java.awt.event.MouseWheelEvent;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.awt.geom.NoninvertibleTransformException;\r\nimport java.awt.geom.Point2D;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\n\r\npublic class ZoomAndPan1 extends JPanel {\r\n\r\n    BufferedImage img;\r\n    private boolean init = true;\r\n    private static final double ZOOM_MULTIPLICATION_FACTOR = 1.2;\r\n    private AffineTransform cordTransform = new AffineTransform();\r\n    private double scale = 1.0;\r\n\r\n    public ZoomAndPan1() throws IOException {\r\n        this.addMouseWheelListener(e -&gt; {\r\n            if (e.isControlDown()) {\r\n                zoom(e);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        int x = (int) (this.getWidth() - (img.getWidth() * scale)) / 2;\r\n        int y = (int) (this.getHeight() - (img.getHeight() * scale)) / 2;\r\n\r\n        AffineTransform at = new AffineTransform();\r\n        at.translate(x, y);\r\n        at.scale(scale, scale);\r\n        if (init) {\r\n            g2.setTransform(at);\r\n            init = false;\r\n            cordTransform = g2.getTransform();\r\n        } else {\r\n            g2.setTransform(cordTransform);\r\n        }\r\n\r\n        g2.drawImage(img, 0, 0, this);\r\n        g2.dispose();\r\n    }\r\n\r\n    private void rotate(int e) {\r\n        double centerX = (double) img.getWidth() / 2;\r\n        double centerY = (double) img.getHeight() / 2;\r\n        cordTransform.translate(centerX, centerY);\r\n        if (e &gt; 0) {\r\n            cordTransform.quadrantRotate(3);\r\n        } else {\r\n            cordTransform.quadrantRotate(1);\r\n        }\r\n        cordTransform.translate(-centerX, -centerY);\r\n        repaint();\r\n    }\r\n\r\n\r\n    private void zoom(MouseWheelEvent e) {\r\n        try {\r\n            int wheelRotation = e.getWheelRotation();\r\n            Point p = e.getPoint();\r\n            Point2D p1 = transformPoint(p);\r\n            if (wheelRotation &gt; 0) {\r\n                scale *= 1 / ZOOM_MULTIPLICATION_FACTOR;\r\n                cordTransform.scale(1 / ZOOM_MULTIPLICATION_FACTOR, 1 / ZOOM_MULTIPLICATION_FACTOR);\r\n            } else {\r\n                scale *= ZOOM_MULTIPLICATION_FACTOR;\r\n                cordTransform.scale(ZOOM_MULTIPLICATION_FACTOR, ZOOM_MULTIPLICATION_FACTOR);\r\n            }\r\n            Point2D p2 = transformPoint(p);\r\n            cordTransform.translate(p2.getX() - p1.getX(), p2.getY() - p1.getY());\r\n            revalidate();\r\n            repaint();\r\n        } catch (NoninvertibleTransformException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    \r\n    }\r\n\r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        int w = (int) (scale * img.getWidth());\r\n        int h = (int) (scale * img.getHeight());\r\n        return new Dimension(w, h);\r\n    }\r\n\r\n    private Point2D.Float transformPoint(Point p1) throws NoninvertibleTransformException {\r\n        AffineTransform inverse = cordTransform.createInverse();\r\n        Point2D.Float p2 = new Point2D.Float();\r\n        inverse.transform(p1, p2);\r\n        return p2;\r\n    }\r\n\r\n    public void setImg(BufferedImage img) {\r\n        this.img = img;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            BufferedImage img = ImageIO.read(new File(&quot;src/main/resources/car.jpg&quot;));\r\n            MapScale mapScale = new MapScale(img);\r\n            JFrame frame = new JFrame(&quot;Zoom and Pan &quot;);\r\n            Dimension d = new Dimension(1920,1080);\r\n            frame.setSize(d);\r\n            frame.setPreferredSize(d);\r\n            frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n            ZoomAndPan1 zoomAndPan1 = new ZoomAndPan1();\r\n            zoomAndPan1.setImg(img);\r\n            JScrollPane scrollPane = new JScrollPane(mapScale);\r\n            scrollPane.setViewportView(zoomAndPan1);\r\n            frame.add(scrollPane, BorderLayout.CENTER);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n            frame.addKeyListener(new KeyListener() {\r\n                @Override\r\n                public void keyTyped(KeyEvent e) {\r\n                    // NOP\r\n                }\r\n\r\n                @Override\r\n                public void keyPressed(KeyEvent e) {\r\n                    if (e.getKeyCode() == KeyEvent.VK_F7) {\r\n                        zoomAndPan1.rotate(1);\r\n                    }\r\n                    if (e.getKeyCode() == KeyEvent.VK_F8) {\r\n                        zoomAndPan1.rotate(-1);\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void keyReleased(KeyEvent e) {\r\n                    // NOP\r\n                }\r\n            });\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(ZoomAndPan1.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n}\r\n```","title":"Zoom to Mouse Pointer using AffineTransform and JScrollPane","body":"<p>my goal is to implement an image viewer, where one can zoom to the mouse position and the JScrollPane correctly response to this zoom gesture. Also the possibility to roate the image would be nice.\nI'm thrilled about Affine Transformation and the the smooth zooming described in <a href=\"https://stackoverflow.com/questions/63583595/java-graphics2d-zoom-on-mouse-location\">this</a> post.\nSo I implemented this affine transformation together with the feature to rotate the image with F7 and F8. (Zoom with control+mouse wheel)\nBut unfortunately the JScrollPane does not correctly adjust to the zooming and scrolling with the scrollbars leads to a distortion of the image.\nI found that the reason for this distortion is the following line in the paintComponent Method:\n<code>g2.setTransform(cordTransform);</code> Since removing this line leads to a normal scrolling, but then the zooming is not possible.\nAlso I tried to use the setView method to correct the alignment of the JScrollPane, but this did also not work properly.\nI appreciate any help provided.</p>\n<p>Here's my code:</p>\n<pre><code>package org.example;\n\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionAdapter;\nimport java.awt.event.MouseWheelEvent;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.NoninvertibleTransformException;\nimport java.awt.geom.Point2D;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\n\npublic class ZoomAndPan1 extends JPanel {\n\n    BufferedImage img;\n    private boolean init = true;\n    private static final double ZOOM_MULTIPLICATION_FACTOR = 1.2;\n    private AffineTransform cordTransform = new AffineTransform();\n    private double scale = 1.0;\n\n    public ZoomAndPan1() throws IOException {\n        this.addMouseWheelListener(e -&gt; {\n            if (e.isControlDown()) {\n                zoom(e);\n            }\n        });\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        int x = (int) (this.getWidth() - (img.getWidth() * scale)) / 2;\n        int y = (int) (this.getHeight() - (img.getHeight() * scale)) / 2;\n\n        AffineTransform at = new AffineTransform();\n        at.translate(x, y);\n        at.scale(scale, scale);\n        if (init) {\n            g2.setTransform(at);\n            init = false;\n            cordTransform = g2.getTransform();\n        } else {\n            g2.setTransform(cordTransform);\n        }\n\n        g2.drawImage(img, 0, 0, this);\n        g2.dispose();\n    }\n\n    private void rotate(int e) {\n        double centerX = (double) img.getWidth() / 2;\n        double centerY = (double) img.getHeight() / 2;\n        cordTransform.translate(centerX, centerY);\n        if (e &gt; 0) {\n            cordTransform.quadrantRotate(3);\n        } else {\n            cordTransform.quadrantRotate(1);\n        }\n        cordTransform.translate(-centerX, -centerY);\n        repaint();\n    }\n\n\n    private void zoom(MouseWheelEvent e) {\n        try {\n            int wheelRotation = e.getWheelRotation();\n            Point p = e.getPoint();\n            Point2D p1 = transformPoint(p);\n            if (wheelRotation &gt; 0) {\n                scale *= 1 / ZOOM_MULTIPLICATION_FACTOR;\n                cordTransform.scale(1 / ZOOM_MULTIPLICATION_FACTOR, 1 / ZOOM_MULTIPLICATION_FACTOR);\n            } else {\n                scale *= ZOOM_MULTIPLICATION_FACTOR;\n                cordTransform.scale(ZOOM_MULTIPLICATION_FACTOR, ZOOM_MULTIPLICATION_FACTOR);\n            }\n            Point2D p2 = transformPoint(p);\n            cordTransform.translate(p2.getX() - p1.getX(), p2.getY() - p1.getY());\n            revalidate();\n            repaint();\n        } catch (NoninvertibleTransformException ex) {\n            ex.printStackTrace();\n        }\n    \n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        int w = (int) (scale * img.getWidth());\n        int h = (int) (scale * img.getHeight());\n        return new Dimension(w, h);\n    }\n\n    private Point2D.Float transformPoint(Point p1) throws NoninvertibleTransformException {\n        AffineTransform inverse = cordTransform.createInverse();\n        Point2D.Float p2 = new Point2D.Float();\n        inverse.transform(p1, p2);\n        return p2;\n    }\n\n    public void setImg(BufferedImage img) {\n        this.img = img;\n    }\n\n    public static void main(String[] args) {\n        try {\n            BufferedImage img = ImageIO.read(new File(&quot;src/main/resources/car.jpg&quot;));\n            MapScale mapScale = new MapScale(img);\n            JFrame frame = new JFrame(&quot;Zoom and Pan &quot;);\n            Dimension d = new Dimension(1920,1080);\n            frame.setSize(d);\n            frame.setPreferredSize(d);\n            frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n            ZoomAndPan1 zoomAndPan1 = new ZoomAndPan1();\n            zoomAndPan1.setImg(img);\n            JScrollPane scrollPane = new JScrollPane(mapScale);\n            scrollPane.setViewportView(zoomAndPan1);\n            frame.add(scrollPane, BorderLayout.CENTER);\n            frame.pack();\n            frame.setVisible(true);\n            frame.addKeyListener(new KeyListener() {\n                @Override\n                public void keyTyped(KeyEvent e) {\n                    // NOP\n                }\n\n                @Override\n                public void keyPressed(KeyEvent e) {\n                    if (e.getKeyCode() == KeyEvent.VK_F7) {\n                        zoomAndPan1.rotate(1);\n                    }\n                    if (e.getKeyCode() == KeyEvent.VK_F8) {\n                        zoomAndPan1.rotate(-1);\n                    }\n                }\n\n                @Override\n                public void keyReleased(KeyEvent e) {\n                    // NOP\n                }\n            });\n        } catch (IOException ex) {\n            Logger.getLogger(ZoomAndPan1.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","openai-api","chatgpt-api"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1694892382,"post_id":77119202,"comment_id":135952195,"body_markdown":"What happens when you don&#39;t try to catch exceptions when doing the HTTP call? My guess is [How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?](https://stackoverflow.com/q/6343166/295004) Also read: https://developer.android.com/training/articles/perf-anr and https://developer.android.com/guide/background/asynchronous","body":"What happens when you don&#39;t try to catch exceptions when doing the HTTP call? My guess is <a href=\"https://stackoverflow.com/q/6343166/295004\">How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?</a> Also read: <a href=\"https://developer.android.com/training/articles/perf-anr\" rel=\"nofollow noreferrer\">developer.android.com/training/articles/perf-anr</a> and <a href=\"https://developer.android.com/guide/background/asynchronous\" rel=\"nofollow noreferrer\">developer.android.com/guide/background/asynchronous</a>"},{"owner":{"account_id":1052677,"reputation":2047,"user_id":1056179,"accept_rate":71,"display_name":"Amir Jalilifard"},"score":1,"creation_date":1694903099,"post_id":77119202,"comment_id":135953136,"body_markdown":"Yeah.. The problem is when in Android you use the main thread to make network conncetion. Thanks","body":"Yeah.. The problem is when in Android you use the main thread to make network conncetion. Thanks"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1694923450,"post_id":77119202,"comment_id":135954228,"body_markdown":"If your question is answered, you may just want to delete the question as it would be a dup of the link. Also your API key is in the post.","body":"If your question is answered, you may just want to delete the question as it would be a dup of the link. Also your API key is in the post."},{"owner":{"account_id":3125071,"reputation":5745,"user_id":2644098,"accept_rate":40,"display_name":"Gergely Kőr&#246;ssy"},"score":0,"creation_date":1695036863,"post_id":77119202,"comment_id":135966000,"body_markdown":"@AmirJalilifard You&#39;d better get a new API key and deactivate the old one since anyone can see the edit history, which means your API key as well.","body":"@AmirJalilifard You&#39;d better get a new API key and deactivate the old one since anyone can see the edit history, which means your API key as well."},{"owner":{"account_id":1052677,"reputation":2047,"user_id":1056179,"accept_rate":71,"display_name":"Amir Jalilifard"},"score":0,"creation_date":1695060486,"post_id":77119202,"comment_id":135970935,"body_markdown":"Yeah.. Already did it","body":"Yeah.. Already did it"}],"owner":{"account_id":1052677,"reputation":2047,"user_id":1056179,"accept_rate":71,"display_name":"Amir Jalilifard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695034112,"creation_date":1694890958,"question_id":77119202,"body_markdown":"My Java code when run in  IntelliJ IDEA connects to OpenAI API and returns the response easily without any problem. However, when I run exactly the same code in the Android Studio, it only runs until the line and the the app breaks and exit from running.\r\n\r\n    OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream());\r\n\r\nHere is the entire code which is simple:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    public class ChatGPTAPIExample {\r\n    \r\n        public static String chatGPT(String prompt) {\r\n            String url = &quot;https://api.openai.com/v1/chat/completions&quot;;\r\n            String apiKey &quot;&quot;;\r\n            String model = &quot;gpt-3.5-turbo&quot;;\r\n    \r\n            try {\r\n                URL obj = new URL(url);\r\n                HttpURLConnection connection = (HttpURLConnection) obj.openConnection();\r\n                connection.setRequestMethod(&quot;POST&quot;);\r\n                connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + apiKey);\r\n                connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \r\n                // The request body\r\n                String body = &quot;{\\&quot;model\\&quot;: \\&quot;&quot; + model + &quot;\\&quot;, \\&quot;messages\\&quot;: [{\\&quot;role\\&quot;: \\&quot;user\\&quot;, \\&quot;content\\&quot;: \\&quot;&quot; + prompt + &quot;\\&quot;}]}&quot;;\r\n                connection.setDoOutput(true);\r\n                OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream());\r\n                writer.write(body);\r\n                writer.flush();\r\n                writer.close();\r\n    \r\n                // Response from ChatGPT\r\n                BufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n                String line;\r\n    \r\n                StringBuffer response = new StringBuffer();\r\n    \r\n                while ((line = br.readLine()) != null) {\r\n                    response.append(line);\r\n                }\r\n                br.close();\r\n    \r\n                // calls the method to extract the message.\r\n                return extractMessageFromJSONResponse(response.toString());\r\n    \r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        public static String extractMessageFromJSONResponse(String response) {\r\n            int start = response.indexOf(&quot;content&quot;) + 11;\r\n    \r\n            int end = response.indexOf(&quot;\\&quot;&quot;, start);\r\n    \r\n            return response.substring(start, end);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nI am wondering why in Android Studio it is not working. Is there any configuration I should set? All I do is simply calling the function on a button click:\r\n\r\n \r\n\r\n    botton.setOnClickListener(new View.OnClickListener() {\r\n    \r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    String response= ChatGPTAPIExample.chatGPT(&quot;hello, how are you? Can you tell me what&#39;s a Fibonacci Number?&quot;);\r\n                    txt.setText(response);\r\n\r\nThis is all I see in the Android Studio Console:\r\n\r\n&gt; 2023-09-16 16:13:09: Launching app on\r\n&gt; &#39;Pixel_3a_API_34_extension_level_7_x86_64. $ adb shell am start -n\r\n&gt; &quot;com.example.gptapi_connect/com.example.gptapi_connect.MainActivity&quot;\r\n&gt; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER -D --suspend --splashscreen-show-icon \r\n&gt; \r\n&gt; Starting: Intent { act=android.intent.action.MAIN\r\n&gt; cat=[android.intent.category.LAUNCHER]\r\n&gt; cmp=com.example.gptapi_connect/.MainActivity }\r\n&gt; \r\n&gt; Connected to the target VM, address: &#39;localhost:37483&#39;, transport:\r\n&gt; &#39;socket&#39; Disconnected from the target VM, address: &#39;localhost:37483&#39;,\r\n&gt; transport: &#39;socket&#39;","title":"Android Studio Java Does not connect to CharGPT API but in IntelliJ IDEA the code works fine","body":"<p>My Java code when run in  IntelliJ IDEA connects to OpenAI API and returns the response easily without any problem. However, when I run exactly the same code in the Android Studio, it only runs until the line and the the app breaks and exit from running.</p>\n<pre><code>OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream());\n</code></pre>\n<p>Here is the entire code which is simple:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class ChatGPTAPIExample {\n\n    public static String chatGPT(String prompt) {\n        String url = &quot;https://api.openai.com/v1/chat/completions&quot;;\n        String apiKey &quot;&quot;;\n        String model = &quot;gpt-3.5-turbo&quot;;\n\n        try {\n            URL obj = new URL(url);\n            HttpURLConnection connection = (HttpURLConnection) obj.openConnection();\n            connection.setRequestMethod(&quot;POST&quot;);\n            connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + apiKey);\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n            // The request body\n            String body = &quot;{\\&quot;model\\&quot;: \\&quot;&quot; + model + &quot;\\&quot;, \\&quot;messages\\&quot;: [{\\&quot;role\\&quot;: \\&quot;user\\&quot;, \\&quot;content\\&quot;: \\&quot;&quot; + prompt + &quot;\\&quot;}]}&quot;;\n            connection.setDoOutput(true);\n            OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream());\n            writer.write(body);\n            writer.flush();\n            writer.close();\n\n            // Response from ChatGPT\n            BufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n            String line;\n\n            StringBuffer response = new StringBuffer();\n\n            while ((line = br.readLine()) != null) {\n                response.append(line);\n            }\n            br.close();\n\n            // calls the method to extract the message.\n            return extractMessageFromJSONResponse(response.toString());\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static String extractMessageFromJSONResponse(String response) {\n        int start = response.indexOf(&quot;content&quot;) + 11;\n\n        int end = response.indexOf(&quot;\\&quot;&quot;, start);\n\n        return response.substring(start, end);\n\n    }\n}\n</code></pre>\n<p>I am wondering why in Android Studio it is not working. Is there any configuration I should set? All I do is simply calling the function on a button click:</p>\n<pre><code>botton.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n\n                String response= ChatGPTAPIExample.chatGPT(&quot;hello, how are you? Can you tell me what's a Fibonacci Number?&quot;);\n                txt.setText(response);\n</code></pre>\n<p>This is all I see in the Android Studio Console:</p>\n<blockquote>\n<p>2023-09-16 16:13:09: Launching app on\n'Pixel_3a_API_34_extension_level_7_x86_64. $ adb shell am start -n\n&quot;com.example.gptapi_connect/com.example.gptapi_connect.MainActivity&quot;\n-a android.intent.action.MAIN -c android.intent.category.LAUNCHER -D --suspend --splashscreen-show-icon</p>\n<p>Starting: Intent { act=android.intent.action.MAIN\ncat=[android.intent.category.LAUNCHER]\ncmp=com.example.gptapi_connect/.MainActivity }</p>\n<p>Connected to the target VM, address: 'localhost:37483', transport:\n'socket' Disconnected from the target VM, address: 'localhost:37483',\ntransport: 'socket'</p>\n</blockquote>\n"},{"tags":["java","ant"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695037439,"post_id":77126505,"comment_id":135966116,"body_markdown":"One of those looks like a source code jar and shouldn&#39;t be in the classpath. afaik, you should only have *one* `classpath` element too","body":"One of those looks like a source code jar and shouldn&#39;t be in the classpath. afaik, you should only have <i>one</i> <code>classpath</code> element too"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695038017,"post_id":77126505,"comment_id":135966234,"body_markdown":"Share the code where that symbol is referenced including imports and the Ant build script.","body":"Share the code where that symbol is referenced including imports and the Ant build script."},{"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"score":0,"creation_date":1695041754,"post_id":77126505,"comment_id":135967022,"body_markdown":"@g00se what do you propose as workaround? regarding your comment related to source_code jar?","body":"@g00se what do you propose as workaround? regarding your comment related to source_code jar?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695042863,"post_id":77126505,"comment_id":135967263,"body_markdown":"I don&#39;t understand. Having a source code jar in the classpath makes no sense at all. You need to remove it","body":"I don&#39;t understand. Having a source code jar in the classpath makes no sense at all. You need to remove it"},{"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"score":0,"creation_date":1695043968,"post_id":77126505,"comment_id":135967504,"body_markdown":"@g00se so where does it go then? The source  code jar. It is an external jar right?","body":"@g00se so where does it go then? The source  code jar. It is an external jar right?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695044131,"post_id":77126505,"comment_id":135967550,"body_markdown":"I&#39;m not sure why you&#39;re even interested in it. It shouldn&#39;t be part of an Ant project at all normally. Forget about it. The only time you might be interested in it is if you wanted to debug into it","body":"I&#39;m not sure why you&#39;re even interested in it. It shouldn&#39;t be part of an Ant project at all normally. Forget about it. The only time you might be interested in it is if you wanted to debug into it"},{"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"score":0,"creation_date":1695098157,"post_id":77126505,"comment_id":135974958,"body_markdown":"@g00se I don&#39;t understand. The project clearly requires it as an dependency. Also, I added it as an external dependency in eclipse, and the problems got resolved. So, create the external dependency needs to be added? What am I doing doing here, I don&#39;t understand?","body":"@g00se I don&#39;t understand. The project clearly requires it as an dependency. Also, I added it as an external dependency in eclipse, and the problems got resolved. So, create the external dependency needs to be added? What am I doing doing here, I don&#39;t understand?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695111705,"post_id":77126505,"comment_id":135977034,"body_markdown":"Let me ask you: what is a &quot; dependency&quot;?","body":"Let me ask you: what is a &quot; dependency&quot;?"},{"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"score":0,"creation_date":1695114941,"post_id":77126505,"comment_id":135977673,"body_markdown":"@g00se the project clearly uses some java files used in the external jar. Proof is eclipe adding external jar, resolving the import/class errors. So, that counts as a depedency, right?","body":"@g00se the project clearly uses some java files used in the external jar. Proof is eclipe adding external jar, resolving the import/class errors. So, that counts as a depedency, right?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695116284,"post_id":77126505,"comment_id":135977960,"body_markdown":"You didn&#39;t answer the question. Also, that version of Netty is pretty old","body":"You didn&#39;t answer the question. Also, that version of Netty is pretty old"}],"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695033697,"creation_date":1695033697,"question_id":77126505,"body_markdown":"I am working on a Java+ANT+Netty project. The ANT build is failing even though I have added the required external jars in the classpath,\r\n\r\n\t\t&lt;classpath&gt;\r\n\t\t      &lt;pathelement path=&quot;/home/pc19/Downloads/mail/netty-all-4.1.10.Final.jar&quot;/&gt;\r\n\t\t&lt;/classpath&gt;\r\n\r\n\t\t&lt;classpath&gt;\r\n\t\t\t &lt;pathelement path=&quot;/home/pc19/Downloads/mail/netty-all-4.1.10.Final-sources.jar&quot;/&gt;\r\n\t\t&lt;/classpath&gt;\r\n\r\nOn building, I am getting netty related error, basically complaing about JARS missing.\r\n\r\nError\r\n\r\n    [javac]   symbol:   class DatagramPacket\r\n    [javac]   location: class UdpServerHandler\r\n    [javac] /home/pc19/Documents/workspace/GenericDCS/src/org/opengts/servers/dcs_gen/UdpServerHandler.java:234: error: cannot find symbol\r\n    [javac]     public void channelActive(ChannelHandlerContext ctx) throws Exception {\r\n\r\n\r\nFor the same project, when I import the two jars in eclipse with `Add External Jars`. The errors are resolved.\r\n\r\nDoes anybody how to resolve this issue.","title":"External JARS in the classpath issue with Java(ANT and Eclipse)","body":"<p>I am working on a Java+ANT+Netty project. The ANT build is failing even though I have added the required external jars in the classpath,</p>\n<pre><code>    &lt;classpath&gt;\n          &lt;pathelement path=&quot;/home/pc19/Downloads/mail/netty-all-4.1.10.Final.jar&quot;/&gt;\n    &lt;/classpath&gt;\n\n    &lt;classpath&gt;\n         &lt;pathelement path=&quot;/home/pc19/Downloads/mail/netty-all-4.1.10.Final-sources.jar&quot;/&gt;\n    &lt;/classpath&gt;\n</code></pre>\n<p>On building, I am getting netty related error, basically complaing about JARS missing.</p>\n<p>Error</p>\n<pre><code>[javac]   symbol:   class DatagramPacket\n[javac]   location: class UdpServerHandler\n[javac] /home/pc19/Documents/workspace/GenericDCS/src/org/opengts/servers/dcs_gen/UdpServerHandler.java:234: error: cannot find symbol\n[javac]     public void channelActive(ChannelHandlerContext ctx) throws Exception {\n</code></pre>\n<p>For the same project, when I import the two jars in eclipse with <code>Add External Jars</code>. The errors are resolved.</p>\n<p>Does anybody how to resolve this issue.</p>\n"},{"tags":["java","arrays","list","java-8","java-stream"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1554963686,"post_id":55625888,"comment_id":97943846,"body_markdown":"you remember that list start with index `0`, right?","body":"you remember that list start with index <code>0</code>, right?"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1554963944,"post_id":55625888,"comment_id":97943944,"body_markdown":"so the ranges are 0-99, 100-199 and so on, right?","body":"so the ranges are 0-99, 100-199 and so on, right?"},{"owner":{"account_id":12232513,"reputation":3738,"user_id":8928024,"accept_rate":83,"display_name":"ZF007"},"score":0,"creation_date":1554964656,"post_id":55625888,"comment_id":97944241,"body_markdown":"@SharonBenAsher You might want to merge both questions into one comment. It looks silly right now. (flag my comment for removal so it gets removed when you&#39;re done).","body":"@SharonBenAsher You might want to merge both questions into one comment. It looks silly right now. (flag my comment for removal so it gets removed when you&#39;re done)."},{"owner":{"account_id":5877498,"reputation":2130,"user_id":4627942,"accept_rate":25,"display_name":"Hasnain Ali Bohra"},"score":0,"creation_date":1554964697,"post_id":55625888,"comment_id":97944256,"body_markdown":"yes @SharonBenAsher actually for the first sublist the number of element will be from 0 to 100 i.e. 101 elements","body":"yes @SharonBenAsher actually for the first sublist the number of element will be from 0 to 100 i.e. 101 elements"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1554991090,"post_id":55625888,"comment_id":97959765,"body_markdown":"but `.subList(0, 100)` has only 100 elements. Whereas `.subList(101, 200)` will have 99 elements.","body":"but <code>.subList(0, 100)</code> has only 100 elements. Whereas <code>.subList(101, 200)</code> will have 99 elements."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1554965032,"creation_date":1554964712,"answer_id":55626141,"question_id":55625888,"body_markdown":"What about :\r\n\r\n      List&lt;List&lt;Integer&gt;&gt; result = IntStream.range(0, list.size() / 100)\r\n             .mapToObj(index -&gt; list.subList(index * 100, index * 100 + 100))\r\n             .collect(Collectors.toList());","title":"How can use stream API for divide the array into sub array","body":"<p>What about :</p>\n\n<pre><code>  List&lt;List&lt;Integer&gt;&gt; result = IntStream.range(0, list.size() / 100)\n         .mapToObj(index -&gt; list.subList(index * 100, index * 100 + 100))\n         .collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5877498,"reputation":2130,"user_id":4627942,"accept_rate":25,"display_name":"Hasnain Ali Bohra"},"score":1,"creation_date":1555051702,"post_id":55626143,"comment_id":97981275,"body_markdown":"@ltFreak im not sure the partitioningBy will work for my condition as the use case of partitioningBy is to dived the list into two parts based on provided predicate.","body":"@ltFreak im not sure the partitioningBy will work for my condition as the use case of partitioningBy is to dived the list into two parts based on provided predicate."},{"owner":{"account_id":13654971,"reputation":2329,"user_id":9851762,"display_name":"ItFreak"},"score":0,"creation_date":1555058422,"post_id":55626143,"comment_id":97984340,"body_markdown":"@HasnainAliBohra you were right, I extended my answer","body":"@HasnainAliBohra you were right, I extended my answer"}],"tags":[],"owner":{"account_id":13654971,"reputation":2329,"user_id":9851762,"display_name":"ItFreak"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555058403,"creation_date":1554964719,"answer_id":55626143,"question_id":55625888,"body_markdown":"You could either use `Collectors.partitioningBy`:\r\n\r\n    Map&lt;Boolean, List&lt;Integer&gt;&gt; map = list.stream().collect(Collectors.partitioningBy(element -&gt; list.indexOf(element) &gt;= 100));\r\n    and then do:  \r\n    List&lt;List&lt;Integer&gt;&gt; results = new ArrayList(map.values());\r\n\r\n**Update:** \r\n`Collectors.partitioningBy` takes a predicate and thus is not able to solve the desired use case.\r\n\r\nOr if you want to split a list into equal parts (what I think is more youre use case), you could use `Collectors.groupingBy()`:  \r\n\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; groups = \r\n          list.stream().collect(Collectors.groupingBy(element -&gt; (element - 1) / YOUR_NUMBER_OF_PIECES_PER_SUBLIST));\r\n        List&lt;List&lt;Integer&gt;&gt; subLists= new ArrayList&lt;List&lt;Integer&gt;&gt;(groups.values());\r\n    System.out.println(&quot;Number of sublists &quot; + subLists.size());\r\n\r\nThis gives you: \r\n\r\n    Number of sublists: 5\r\n\r\nwhen running with `NUMBER_OF_PIECES_PER_SUBLIST = 200`, which seems your use case.\r\n\r\n","title":"How can use stream API for divide the array into sub array","body":"<p>You could either use <code>Collectors.partitioningBy</code>:</p>\n\n<pre><code>Map&lt;Boolean, List&lt;Integer&gt;&gt; map = list.stream().collect(Collectors.partitioningBy(element -&gt; list.indexOf(element) &gt;= 100));\nand then do:  \nList&lt;List&lt;Integer&gt;&gt; results = new ArrayList(map.values());\n</code></pre>\n\n<p><strong>Update:</strong> \n<code>Collectors.partitioningBy</code> takes a predicate and thus is not able to solve the desired use case.</p>\n\n<p>Or if you want to split a list into equal parts (what I think is more youre use case), you could use <code>Collectors.groupingBy()</code>:  </p>\n\n<pre><code>Map&lt;Integer, List&lt;Integer&gt;&gt; groups = \n      list.stream().collect(Collectors.groupingBy(element -&gt; (element - 1) / YOUR_NUMBER_OF_PIECES_PER_SUBLIST));\n    List&lt;List&lt;Integer&gt;&gt; subLists= new ArrayList&lt;List&lt;Integer&gt;&gt;(groups.values());\nSystem.out.println(\"Number of sublists \" + subLists.size());\n</code></pre>\n\n<p>This gives you: </p>\n\n<pre><code>Number of sublists: 5\n</code></pre>\n\n<p>when running with <code>NUMBER_OF_PIECES_PER_SUBLIST = 200</code>, which seems your use case.</p>\n"},{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554976885,"creation_date":1554967593,"answer_id":55626890,"question_id":55625888,"body_markdown":"You can use [`IntStream.iterate()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#iterate-int-java.util.function.IntUnaryOperator-) to achieve that:\r\n\r\n    int sublistItems = 100;\r\n    List&lt;List&lt;Integer&gt;&gt; result = IntStream.iterate(0, i -&gt; i + sublistItems)\r\n            .limit((list.size() + sublistItems - 1) / sublistItems)\r\n            .mapToObj(startIndex -&gt; list.subList(startIndex, Math.min(startIndex + sublistItems, list.size())))\r\n            .collect(Collectors.toList());\r\n\r\nIf you are using Java 9 or above you can simplify it like that:\r\n\r\n    int sublistItems = 100;\r\n    List&lt;List&lt;Integer&gt;&gt; result = IntStream.iterate(0, i -&gt; i &lt; list.size(), i -&gt; i + sublistItems)\r\n            .mapToObj(startIndex -&gt; list.subList(startIndex, Math.min(startIndex + sublistItems, list.size())))\r\n            .collect(Collectors.toList());","title":"How can use stream API for divide the array into sub array","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#iterate-int-java.util.function.IntUnaryOperator-\" rel=\"nofollow noreferrer\"><code>IntStream.iterate()</code></a> to achieve that:</p>\n\n<pre><code>int sublistItems = 100;\nList&lt;List&lt;Integer&gt;&gt; result = IntStream.iterate(0, i -&gt; i + sublistItems)\n        .limit((list.size() + sublistItems - 1) / sublistItems)\n        .mapToObj(startIndex -&gt; list.subList(startIndex, Math.min(startIndex + sublistItems, list.size())))\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>If you are using Java 9 or above you can simplify it like that:</p>\n\n<pre><code>int sublistItems = 100;\nList&lt;List&lt;Integer&gt;&gt; result = IntStream.iterate(0, i -&gt; i &lt; list.size(), i -&gt; i + sublistItems)\n        .mapToObj(startIndex -&gt; list.subList(startIndex, Math.min(startIndex + sublistItems, list.size())))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695032754,"creation_date":1695032754,"answer_id":77126408,"question_id":55625888,"body_markdown":"To use the [Stream API][1] with an **array**, you want to use [`StreamSupport`][2] and a [`Spliterator`][3].\r\n\r\n[`Arrays`][4] provides utility methods to create a `Spliterator`.\r\n\r\nFor example:\r\n\r\n    int[] array = new int[1000];\r\n    StreamSupport.stream(Arrays.spliterator(array, 0, 100), false)\r\n      .forEach(e -&gt; {});\r\n    StreamSupport.stream(Arrays.spliterator(array, 100, 200), false)\r\n      .forEach(e -&gt; {});\r\n\r\nNote - it&#39;s zero-based indexing, and the start index is inclusive and the end index is *exclusive*.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/StreamSupport.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html","title":"How can use stream API for divide the array into sub array","body":"<p>To use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">Stream API</a> with an <strong>array</strong>, you want to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/StreamSupport.html\" rel=\"nofollow noreferrer\"><code>StreamSupport</code></a> and a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\" rel=\"nofollow noreferrer\"><code>Spliterator</code></a>.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\"><code>Arrays</code></a> provides utility methods to create a <code>Spliterator</code>.</p>\n<p>For example:</p>\n<pre><code>int[] array = new int[1000];\nStreamSupport.stream(Arrays.spliterator(array, 0, 100), false)\n  .forEach(e -&gt; {});\nStreamSupport.stream(Arrays.spliterator(array, 100, 200), false)\n  .forEach(e -&gt; {});\n</code></pre>\n<p>Note - it's zero-based indexing, and the start index is inclusive and the end index is <em>exclusive</em>.</p>\n"}],"owner":{"account_id":5877498,"reputation":2130,"user_id":4627942,"accept_rate":25,"display_name":"Hasnain Ali Bohra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1859,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1695032772,"creation_date":1554963620,"question_id":55625888,"body_markdown":"I have an array of size 1000.\r\nI want to use the stream operations to performe like this :-\r\n\r\n    List list= new ArrayList();\r\n    //list is initialize to 1000 elements \r\n\r\n      List subList = list.subList(0, 100);\r\n       // perform some operaions over the subarray\r\n      List subList1 = list.subList(101, 200);\r\n       // perform some operaions over the subarray\r\n     .... so on\r\n    }\r\n\r\nI want code using stream API.\r\nThanks in advance","title":"How can use stream API for divide the array into sub array","body":"<p>I have an array of size 1000.\nI want to use the stream operations to performe like this :-</p>\n\n<pre><code>List list= new ArrayList();\n//list is initialize to 1000 elements \n\n  List subList = list.subList(0, 100);\n   // perform some operaions over the subarray\n  List subList1 = list.subList(101, 200);\n   // perform some operaions over the subarray\n .... so on\n}\n</code></pre>\n\n<p>I want code using stream API.\nThanks in advance</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695024250,"post_id":77124907,"comment_id":135963582,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":20192524,"reputation":149,"user_id":14810367,"display_name":"Talha Chaudhry"},"score":0,"creation_date":1695020027,"post_id":77125039,"comment_id":135962827,"body_markdown":"If you still want to use the method you created in MyGraphicView,\nyou can call onCreateOptionsMenu of your custom class from the override method of your Activity class","body":"If you still want to use the method you created in MyGraphicView, you can call onCreateOptionsMenu of your custom class from the override method of your Activity class"},{"owner":{"account_id":26709213,"reputation":13,"user_id":20314900,"display_name":"slprbrck"},"score":0,"creation_date":1695025015,"post_id":77125039,"comment_id":135963738,"body_markdown":"@TalhaChaudhry Can you give me an idea of how that would work?","body":"@TalhaChaudhry Can you give me an idea of how that would work?"},{"owner":{"account_id":20192524,"reputation":149,"user_id":14810367,"display_name":"Talha Chaudhry"},"score":0,"creation_date":1695031039,"post_id":77125039,"comment_id":135964912,"body_markdown":"Sure lemme answer it.","body":"Sure lemme answer it."}],"tags":[],"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695019435,"creation_date":1695019435,"answer_id":77125039,"question_id":77124907,"body_markdown":"As seen [here][1], the method `onCreateOptionsMenu(...)` should be overriden either...\r\n\r\nin an `Activity`:\r\n```\r\n@Override\r\npublic boolean onCreateOptionsMenu(Menu menu) {\r\n    MenuInflater inflater = getMenuInflater();\r\n    inflater.inflate(R.menu.main_menu, menu);\r\n    return true;\r\n}\r\n```\r\n\r\nor a `Fragment`:\r\n```\r\n@Override\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n    View root = inflater.inflate(R.layout.main_fragment, container, false);\r\n    setHasOptionsMenu(true);\r\n    return root;\r\n}\r\n\r\n@Override\r\npublic void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\r\n    inflater.inflate(R.menu.fragment_menu, menu);\r\n}\r\n```\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/components/menus#options-menu","title":"Cannot resolve method &#39;onCreateOptionsMenu&#39; in &#39;View&#39;","body":"<p>As seen <a href=\"https://developer.android.com/develop/ui/views/components/menus#options-menu\" rel=\"nofollow noreferrer\">here</a>, the method <code>onCreateOptionsMenu(...)</code> should be overriden either...</p>\n<p>in an <code>Activity</code>:</p>\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater inflater = getMenuInflater();\n    inflater.inflate(R.menu.main_menu, menu);\n    return true;\n}\n</code></pre>\n<p>or a <code>Fragment</code>:</p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View root = inflater.inflate(R.layout.main_fragment, container, false);\n    setHasOptionsMenu(true);\n    return root;\n}\n\n@Override\npublic void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n    inflater.inflate(R.menu.fragment_menu, menu);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20192524,"reputation":149,"user_id":14810367,"display_name":"Talha Chaudhry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695032592,"creation_date":1695031863,"answer_id":77126315,"question_id":77124907,"body_markdown":"I&#39;m taking the same code as you provided and updating in way that you can use the menuOptions in your customView class \r\n\r\n     public class MainActivity extends AppCompatActivity {\r\n        final static int LINE = 1, CIRCLE = 2;\r\n        static int curShape = LINE;\r\n        MyGraphicView myGraphicView;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            myGraphicView=new MyGraphicView(this)\r\n            setContentView(myGraphicView);\r\n        }\r\n        public class MyGraphicView extends View{\r\n            int startX = -1, startY = -1, stopX = -1, stopY = -1;\r\n            public MyGraphicView(Context context)\r\n            { super(context); }\r\n            public boolean onTouchEvent(MotionEvent event)\r\n            {\r\n                switch (event.getAction()) {\r\n                    case MotionEvent.ACTION_DOWN:\r\n                        startX = (int) event.getX();\r\n                        startY = (int) event.getY(); break;\r\n                    case MotionEvent.ACTION_MOVE:\r\n                    case MotionEvent.ACTION_UP:\r\n                        stopX = (int) event.getX();\r\n                        stopY = (int) event.getY();\r\n                        this.invalidate();\r\n                        break;\r\n                }\r\n                return true;\r\n            }\r\n            @Override\r\n            protected void onDraw(Canvas canvas){\r\n                super.onDraw(canvas);\r\n                Paint paint = new Paint();\r\n                paint.setAntiAlias(true);\r\n                paint.setStrokeWidth(5);\r\n                paint.setStyle(Paint.Style.STROKE);\r\n                paint.setColor(Color.RED);\r\n                switch (curShape) {\r\n                    case LINE: canvas.drawLine(startX, startY, stopX, stopY, paint);\r\n                        break;\r\n                    case CIRCLE: int radius = (int) (Math.sqrt(Math.pow(stopX-startX, 2))\r\n                            +Math.sqrt(Math.pow(stopX-startX, 2)));\r\n                        canvas.drawCircle(startX, startY, radius, paint); break;\r\n                }\r\n            }\r\n            public boolean onCreateOptionsMenu(Menu menu)\r\n            {\r\n\r\n                menu.add(0, 1, 0, &quot;Drawing line&quot;);\r\n                menu.add(0, 2, 0, &quot;Drawing circle&quot;);\r\n                return true;\r\n            }\r\n            public Boolean onOptionsItemSelected(MenuItem item)\r\n            {\r\n                switch (item.getItemId()) {\r\n                    case 1: curShape = LINE; return true;\r\n                    case 2: curShape = CIRCLE; return true;\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            super.onCreateOptionsMenu(menu);\r\n            return myGraphicView.onCreateOptionsMenu(menu);  // must be the Obj of MyGraphicView\r\n        }\r\n\r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item)\r\n        {\r\n            Boolean result= myGraphicView.onOptionsItemSelected(item); // must be the Obj of MyGraphicView\r\n            if (result!=null) return result else\r\n            return super.onContextItemSelected(item);\r\n        }\r\n\r\n    }\r\n\r\nHope this will clear you the concept","title":"Cannot resolve method &#39;onCreateOptionsMenu&#39; in &#39;View&#39;","body":"<p>I'm taking the same code as you provided and updating in way that you can use the menuOptions in your customView class</p>\n<pre><code> public class MainActivity extends AppCompatActivity {\n    final static int LINE = 1, CIRCLE = 2;\n    static int curShape = LINE;\n    MyGraphicView myGraphicView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        myGraphicView=new MyGraphicView(this)\n        setContentView(myGraphicView);\n    }\n    public class MyGraphicView extends View{\n        int startX = -1, startY = -1, stopX = -1, stopY = -1;\n        public MyGraphicView(Context context)\n        { super(context); }\n        public boolean onTouchEvent(MotionEvent event)\n        {\n            switch (event.getAction()) {\n                case MotionEvent.ACTION_DOWN:\n                    startX = (int) event.getX();\n                    startY = (int) event.getY(); break;\n                case MotionEvent.ACTION_MOVE:\n                case MotionEvent.ACTION_UP:\n                    stopX = (int) event.getX();\n                    stopY = (int) event.getY();\n                    this.invalidate();\n                    break;\n            }\n            return true;\n        }\n        @Override\n        protected void onDraw(Canvas canvas){\n            super.onDraw(canvas);\n            Paint paint = new Paint();\n            paint.setAntiAlias(true);\n            paint.setStrokeWidth(5);\n            paint.setStyle(Paint.Style.STROKE);\n            paint.setColor(Color.RED);\n            switch (curShape) {\n                case LINE: canvas.drawLine(startX, startY, stopX, stopY, paint);\n                    break;\n                case CIRCLE: int radius = (int) (Math.sqrt(Math.pow(stopX-startX, 2))\n                        +Math.sqrt(Math.pow(stopX-startX, 2)));\n                    canvas.drawCircle(startX, startY, radius, paint); break;\n            }\n        }\n        public boolean onCreateOptionsMenu(Menu menu)\n        {\n\n            menu.add(0, 1, 0, &quot;Drawing line&quot;);\n            menu.add(0, 2, 0, &quot;Drawing circle&quot;);\n            return true;\n        }\n        public Boolean onOptionsItemSelected(MenuItem item)\n        {\n            switch (item.getItemId()) {\n                case 1: curShape = LINE; return true;\n                case 2: curShape = CIRCLE; return true;\n            }\n            return null;\n        }\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        super.onCreateOptionsMenu(menu);\n        return myGraphicView.onCreateOptionsMenu(menu);  // must be the Obj of MyGraphicView\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item)\n    {\n        Boolean result= myGraphicView.onOptionsItemSelected(item); // must be the Obj of MyGraphicView\n        if (result!=null) return result else\n        return super.onContextItemSelected(item);\n    }\n\n}\n</code></pre>\n<p>Hope this will clear you the concept</p>\n"}],"owner":{"account_id":26709213,"reputation":13,"user_id":20314900,"display_name":"slprbrck"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695032592,"creation_date":1695017920,"question_id":77124907,"body_markdown":"So I&#39;m trying to make a canvas with a menu options to switch between drawing a line and a circle but I&#39;m having trouble displaying the menu\r\n\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    final static int LINE = 1, CIRCLE = 2;\r\n    static int curShape = LINE;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(new MyGraphicView(this));\r\n    }\r\n    public class MyGraphicView extends View{\r\n        int startX = -1, startY = -1, stopX = -1, stopY = -1;\r\n        public MyGraphicView(Context context)\r\n        { super(context); }\r\n        public boolean onTouchEvent(MotionEvent event)\r\n        {\r\n            switch (event.getAction()) {\r\n                case MotionEvent.ACTION_DOWN: \r\n                    startX = (int) event.getX();\r\n                    startY = (int) event.getY(); break;\r\n                case MotionEvent.ACTION_MOVE:\r\n                case MotionEvent.ACTION_UP:\r\n                    stopX = (int) event.getX();\r\n                    stopY = (int) event.getY();\r\n                    this.invalidate();\r\n                    break;\r\n            }\r\n            return true;\r\n        }\r\n        @Override\r\n        protected void onDraw(Canvas canvas){\r\n            super.onDraw(canvas);\r\n            Paint paint = new Paint();\r\n            paint.setAntiAlias(true);\r\n            paint.setStrokeWidth(5);\r\n            paint.setStyle(Paint.Style.STROKE);\r\n            paint.setColor(Color.RED);\r\n            switch (curShape) {\r\n                case LINE: canvas.drawLine(startX, startY, stopX, stopY, paint);\r\n                    break;\r\n                case CIRCLE: int radius = (int) (Math.sqrt(Math.pow(stopX-startX, 2))\r\n                        +Math.sqrt(Math.pow(stopX-startX, 2)));\r\n                    canvas.drawCircle(startX, startY, radius, paint); break;\r\n            }\r\n        }\r\n        public boolean onCreateOptionsMenu(Menu menu)\r\n        {\r\n            super.onCreateOptionsMenu(menu);\r\n            menu.add(0, 1, 0, &quot;Drawing line&quot;);\r\n            menu.add(0, 2, 0, &quot;Drawing circle&quot;);\r\n            return true;\r\n        }\r\n        public boolean onOptionsItemSelected(MenuItem item)\r\n        {\r\n            switch (item.getItemId()) {\r\n                case 1: curShape = LINE; return true;\r\n                case 2: curShape = CIRCLE; return true;\r\n            }\r\n            return super.onContextItemSelected(item);\r\n        }\r\n    }\r\n    }\r\n```\r\nSo here is the code I&#39;ve also tried putting the menu code in the main activity class but it doesn&#39;t work what should I do. I&#39;m also having the same problem with onOptionsItemSelected","title":"Cannot resolve method &#39;onCreateOptionsMenu&#39; in &#39;View&#39;","body":"<p>So I'm trying to make a canvas with a menu options to switch between drawing a line and a circle but I'm having trouble displaying the menu</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    final static int LINE = 1, CIRCLE = 2;\n    static int curShape = LINE;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(new MyGraphicView(this));\n    }\n    public class MyGraphicView extends View{\n        int startX = -1, startY = -1, stopX = -1, stopY = -1;\n        public MyGraphicView(Context context)\n        { super(context); }\n        public boolean onTouchEvent(MotionEvent event)\n        {\n            switch (event.getAction()) {\n                case MotionEvent.ACTION_DOWN: \n                    startX = (int) event.getX();\n                    startY = (int) event.getY(); break;\n                case MotionEvent.ACTION_MOVE:\n                case MotionEvent.ACTION_UP:\n                    stopX = (int) event.getX();\n                    stopY = (int) event.getY();\n                    this.invalidate();\n                    break;\n            }\n            return true;\n        }\n        @Override\n        protected void onDraw(Canvas canvas){\n            super.onDraw(canvas);\n            Paint paint = new Paint();\n            paint.setAntiAlias(true);\n            paint.setStrokeWidth(5);\n            paint.setStyle(Paint.Style.STROKE);\n            paint.setColor(Color.RED);\n            switch (curShape) {\n                case LINE: canvas.drawLine(startX, startY, stopX, stopY, paint);\n                    break;\n                case CIRCLE: int radius = (int) (Math.sqrt(Math.pow(stopX-startX, 2))\n                        +Math.sqrt(Math.pow(stopX-startX, 2)));\n                    canvas.drawCircle(startX, startY, radius, paint); break;\n            }\n        }\n        public boolean onCreateOptionsMenu(Menu menu)\n        {\n            super.onCreateOptionsMenu(menu);\n            menu.add(0, 1, 0, &quot;Drawing line&quot;);\n            menu.add(0, 2, 0, &quot;Drawing circle&quot;);\n            return true;\n        }\n        public boolean onOptionsItemSelected(MenuItem item)\n        {\n            switch (item.getItemId()) {\n                case 1: curShape = LINE; return true;\n                case 2: curShape = CIRCLE; return true;\n            }\n            return super.onContextItemSelected(item);\n        }\n    }\n    }\n</code></pre>\n<p>So here is the code I've also tried putting the menu code in the main activity class but it doesn't work what should I do. I'm also having the same problem with onOptionsItemSelected</p>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":13974945,"reputation":94,"user_id":10092570,"display_name":"A.Gun"},"score":0,"creation_date":1695037263,"post_id":77126312,"comment_id":135966084,"body_markdown":"Looks like this kind of issue already answered check this (https://stackoverflow.com/questions/36910746/package-java-net-http-does-not-exist-error-on-jdk9)","body":"Looks like this kind of issue already answered check this (<a href=\"https://stackoverflow.com/questions/36910746/package-java-net-http-does-not-exist-error-on-jdk9\" title=\"package java net http does not exist error on jdk9\">stackoverflow.com/questions/36910746/&hellip;</a>)"}],"answers":[{"comments":[{"owner":{"account_id":29323201,"reputation":67,"user_id":22466312,"display_name":"TranDatK"},"score":0,"creation_date":1695036081,"post_id":77126374,"comment_id":135965839,"body_markdown":"Yes i do, in gradle module is:\n  `compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_17\n        targetCompatibility = JavaVersion.VERSION_17\n    }`","body":"Yes i do, in gradle module is:   <code>compileOptions {         sourceCompatibility = JavaVersion.VERSION_17         targetCompatibility = JavaVersion.VERSION_17     }</code>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695069107,"post_id":77126374,"comment_id":135972326,"body_markdown":"@TranDatK I&#39;m not sure that the `java.net.http` API is available on Android. See https://stackoverflow.com/a/69883204/6395627. Regardless, there are more Kotlin-friendly libraries out there for HTTP clients.","body":"@TranDatK I&#39;m not sure that the <code>java.net.http</code> API is available on Android. See <a href=\"https://stackoverflow.com/a/69883204/6395627\">stackoverflow.com/a/69883204/6395627</a>. Regardless, there are more Kotlin-friendly libraries out there for HTTP clients."},{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1695114362,"post_id":77126374,"comment_id":135977555,"body_markdown":"@TranDatK : Please check your machine for java version, if java available then uninstall it and install again for latest update. basically java.net.http  is updated in java 11 and your machine is not getting that package.","body":"@TranDatK : Please check your machine for java version, if java available then uninstall it and install again for latest update. basically java.net.http  is updated in java 11 and your machine is not getting that package."},{"owner":{"account_id":29323201,"reputation":67,"user_id":22466312,"display_name":"TranDatK"},"score":0,"creation_date":1695128202,"post_id":77126374,"comment_id":135980241,"body_markdown":"Thank you for  all for your help, let me try more","body":"Thank you for  all for your help, let me try more"}],"tags":[],"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695032486,"creation_date":1695032486,"answer_id":77126374,"question_id":77126312,"body_markdown":"The problem is connected with the version of Java/JRE that exist in your system because the package &quot;**java.net.http**&quot; was included in Java 11 or up.\r\n\r\nTry to download a new version of java from one of these sites [Oracle JDK 11][1] or [Open JDK][2]\r\n\r\nAfter installing the new version of Java check that Android Studio uses the correct one. \r\n\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase-jdk11-downloads.html\r\n  [2]: https://openjdk.java.net/install/","title":"Gradle build can&#39;t find the package &#39;java.net.http&#39; and &#39;java.net.http.HttpResponse&#39; and &#39;java.net.http.HttpRequest&#39;","body":"<p>The problem is connected with the version of Java/JRE that exist in your system because the package &quot;<strong>java.net.http</strong>&quot; was included in Java 11 or up.</p>\n<p>Try to download a new version of java from one of these sites <a href=\"https://www.oracle.com/java/technologies/javase-jdk11-downloads.html\" rel=\"nofollow noreferrer\">Oracle JDK 11</a> or <a href=\"https://openjdk.java.net/install/\" rel=\"nofollow noreferrer\">Open JDK</a></p>\n<p>After installing the new version of Java check that Android Studio uses the correct one.</p>\n"}],"owner":{"account_id":29323201,"reputation":67,"user_id":22466312,"display_name":"TranDatK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695032486,"creation_date":1695031846,"question_id":77126312,"body_markdown":"\r\n**Currently I&#39;m building an app running with kotlin and jetpack compose, but I have an error that I can&#39;t import &#39;java.net.http&#39; and &#39;java.net.http.HttpResponse&#39; and &#39;java.net.http.HttpRequest&#39;**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6SHjH.png\r\n\r\n\r\nAnd below are my entire project level gradle files:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;org.jetbrains.kotlin.android&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n        // Add the Crashlytics Gradle plugin\r\n        id(&quot;com.google.firebase.crashlytics&quot;)\r\n\r\n        id(&quot;com.google.firebase.firebase-perf&quot;)\r\n        id(&quot;dagger.hilt.android.plugin&quot;)\r\n        id(&quot;com.ncorti.ktfmt.gradle&quot;) version &quot;0.10.0&quot;\r\n        id(&quot;com.google.devtools.ksp&quot;)\r\n    }\r\n\r\n    android {\r\n        namespace &#39;com.tnmd.learningenglishapp&#39;\r\n        compileSdk 34\r\n\r\n        defaultConfig {\r\n            applicationId &quot;com.tnmd.learningenglishapp&quot;\r\n            minSdk 27\r\n            targetSdk 34\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            vectorDrawables {\r\n                useSupportLibrary true\r\n            }\r\n        }\r\n\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility = JavaVersion.VERSION_17\r\n            targetCompatibility = JavaVersion.VERSION_17\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &quot;17&quot;\r\n        }\r\n        buildFeatures {\r\n            compose true\r\n            buildConfig = true\r\n        }\r\n        composeOptions {\r\n            kotlinCompilerExtensionVersion &#39;1.5.0&#39;\r\n        }\r\n        packagingOptions {\r\n            resources {\r\n                excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n    ktfmt {\r\n        googleStyle()\r\n    }\r\n\r\n    dependencies {\r\n\r\n        implementation(&quot;androidx.core:core-ktx:1.12.0&quot;)\r\n        implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\r\n        implementation(&quot;com.google.android.material:material:1.9.0&quot;)\r\n        implementation(&quot;androidx.compose:compose-bom:2023.08.00&quot;)\r\n        implementation(&quot;androidx.compose.ui:ui&quot;)\r\n        implementation(&quot;androidx.compose.material:material&quot;)\r\n        implementation(&quot;androidx.compose.ui:ui-tooling-preview&quot;)\r\n        implementation(&quot;androidx.compose.material:material-icons-extended:1.5.1&quot;)\r\n        implementation(&quot;androidx.lifecycle:lifecycle-runtime-compose:2.6.2&quot;)\r\n        implementation(&quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.2&quot;)\r\n        implementation(&quot;androidx.activity:activity-compose:1.7.2&quot;)\r\n        implementation(&quot;androidx.navigation:navigation-compose:2.7.1&quot;)\r\n        implementation(&quot;androidx.hilt:hilt-navigation-compose:1.0.0&quot;)\r\n        implementation(&quot;androidx.preference:preference-ktx:1.2.1&quot;)\r\n        implementation(&quot;androidx.compose.material3:material3:1.2.0-alpha06&quot;)\r\n        implementation &quot;androidx.constraintlayout:constraintlayout-compose:1.0.1&quot;\r\n        implementation &#39;androidx.compose.runtime:runtime-livedata:1.6.0-alpha05&#39;\r\n        implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.7.1&quot;)\r\n\r\n        implementation(&quot;com.google.accompanist:accompanist-permissions:0.30.1&quot;)\r\n        implementation(&quot;com.google.dagger:hilt-android:2.47&quot;)\r\n        implementation &#39;com.google.firebase:firebase-storage:20.2.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage-ktx:20.2.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-firestore-ktx:24.7.1&#39;\r\n        ksp(&quot;com.google.dagger:hilt-compiler:2.47&quot;)\r\n\r\n        //Firebase\r\n        implementation(platform(&quot;com.google.firebase:firebase-bom:31.5.0&quot;))\r\n        implementation(&quot;com.google.firebase:firebase-analytics-ktx&quot;)\r\n        implementation(&quot;com.google.firebase:firebase-crashlytics-ktx&quot;)\r\n        implementation(&quot;com.google.firebase:firebase-auth-ktx&quot;)\r\n\r\n        implementation(&quot;com.google.firebase:firebase-perf-ktx&quot;)\r\n        implementation(&quot;com.google.firebase:firebase-config-ktx&quot;)\r\n        implementation(&quot;com.google.firebase:firebase-messaging-ktx&quot;)\r\n\r\n        implementation(&quot;io.coil-kt:coil-compose:2.4.0&quot;)\r\n\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n        androidTestImplementation platform(&#39;androidx.compose:compose-bom:2022.10.00&#39;)\r\n        androidTestImplementation &#39;androidx.compose.ui:ui-test-junit4&#39;\r\n        debugImplementation &#39;androidx.compose.ui:ui-tooling&#39;\r\n        debugImplementation &#39;androidx.compose.ui:ui-test-manifest&#39;\r\n\r\n        //Stream SĐK\r\n        implementation &quot;io.getstream:stream-chat-android-compose:5.17.7&quot;\r\n        implementation &quot;io.getstream:stream-chat-android-ui-components:5.17.13&quot;\r\n\r\n        //Retrofit\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:converter-simplexml:2.1.0&#39;\r\n\r\n        //Gson\r\n        implementation &quot;com.squareup.retrofit2:converter-gson:2.9.0&quot;\r\n\r\n        implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.5.0&quot;\r\n        implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.5.0&quot;\r\n        implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-java:1.5.0&quot;\r\n        implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-jdk8:1.5.0&quot;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nCan you help me if you find the problem or not, thank you very much","title":"Gradle build can&#39;t find the package &#39;java.net.http&#39; and &#39;java.net.http.HttpResponse&#39; and &#39;java.net.http.HttpRequest&#39;","body":"<p><strong>Currently I'm building an app running with kotlin and jetpack compose, but I have an error that I can't import 'java.net.http' and 'java.net.http.HttpResponse' and 'java.net.http.HttpRequest'</strong></p>\n<p><a href=\"https://i.stack.imgur.com/6SHjH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6SHjH.png\" alt=\"enter image description here\" /></a></p>\n<p>And below are my entire project level gradle files:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'com.google.gms.google-services'\n    // Add the Crashlytics Gradle plugin\n    id(\"com.google.firebase.crashlytics\")\n\n    id(\"com.google.firebase.firebase-perf\")\n    id(\"dagger.hilt.android.plugin\")\n    id(\"com.ncorti.ktfmt.gradle\") version \"0.10.0\"\n    id(\"com.google.devtools.ksp\")\n}\n\nandroid {\n    namespace 'com.tnmd.learningenglishapp'\n    compileSdk 34\n\n    defaultConfig {\n        applicationId \"com.tnmd.learningenglishapp\"\n        minSdk 27\n        targetSdk 34\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n        vectorDrawables {\n            useSupportLibrary true\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_17\n        targetCompatibility = JavaVersion.VERSION_17\n    }\n    kotlinOptions {\n        jvmTarget = \"17\"\n    }\n    buildFeatures {\n        compose true\n        buildConfig = true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.5.0'\n    }\n    packagingOptions {\n        resources {\n            excludes += '/META-INF/{AL2.0,LGPL2.1}'\n        }\n    }\n}\n\nktfmt {\n    googleStyle()\n}\n\ndependencies {\n\n    implementation(\"androidx.core:core-ktx:1.12.0\")\n    implementation(\"androidx.appcompat:appcompat:1.6.1\")\n    implementation(\"com.google.android.material:material:1.9.0\")\n    implementation(\"androidx.compose:compose-bom:2023.08.00\")\n    implementation(\"androidx.compose.ui:ui\")\n    implementation(\"androidx.compose.material:material\")\n    implementation(\"androidx.compose.ui:ui-tooling-preview\")\n    implementation(\"androidx.compose.material:material-icons-extended:1.5.1\")\n    implementation(\"androidx.lifecycle:lifecycle-runtime-compose:2.6.2\")\n    implementation(\"androidx.lifecycle:lifecycle-runtime-ktx:2.6.2\")\n    implementation(\"androidx.activity:activity-compose:1.7.2\")\n    implementation(\"androidx.navigation:navigation-compose:2.7.1\")\n    implementation(\"androidx.hilt:hilt-navigation-compose:1.0.0\")\n    implementation(\"androidx.preference:preference-ktx:1.2.1\")\n    implementation(\"androidx.compose.material3:material3:1.2.0-alpha06\")\n    implementation \"androidx.constraintlayout:constraintlayout-compose:1.0.1\"\n    implementation 'androidx.compose.runtime:runtime-livedata:1.6.0-alpha05'\n    implementation(\"org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.7.1\")\n\n    implementation(\"com.google.accompanist:accompanist-permissions:0.30.1\")\n    implementation(\"com.google.dagger:hilt-android:2.47\")\n    implementation 'com.google.firebase:firebase-storage:20.2.1'\n    implementation 'com.google.firebase:firebase-storage-ktx:20.2.1'\n    implementation 'com.google.firebase:firebase-firestore-ktx:24.7.1'\n    ksp(\"com.google.dagger:hilt-compiler:2.47\")\n\n    //Firebase\n    implementation(platform(\"com.google.firebase:firebase-bom:31.5.0\"))\n    implementation(\"com.google.firebase:firebase-analytics-ktx\")\n    implementation(\"com.google.firebase:firebase-crashlytics-ktx\")\n    implementation(\"com.google.firebase:firebase-auth-ktx\")\n\n    implementation(\"com.google.firebase:firebase-perf-ktx\")\n    implementation(\"com.google.firebase:firebase-config-ktx\")\n    implementation(\"com.google.firebase:firebase-messaging-ktx\")\n\n    implementation(\"io.coil-kt:coil-compose:2.4.0\")\n\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    androidTestImplementation platform('androidx.compose:compose-bom:2022.10.00')\n    androidTestImplementation 'androidx.compose.ui:ui-test-junit4'\n    debugImplementation 'androidx.compose.ui:ui-tooling'\n    debugImplementation 'androidx.compose.ui:ui-test-manifest'\n\n    //Stream SĐK\n    implementation \"io.getstream:stream-chat-android-compose:5.17.7\"\n    implementation \"io.getstream:stream-chat-android-ui-components:5.17.13\"\n\n    //Retrofit\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-simplexml:2.1.0'\n\n    //Gson\n    implementation \"com.squareup.retrofit2:converter-gson:2.9.0\"\n\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.5.0\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.5.0\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-java:1.5.0\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-jdk8:1.5.0\"\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Can you help me if you find the problem or not, thank you very much</p>\n"},{"tags":["java","unit-testing","collections","junit"],"comments":[{"owner":{"account_id":4150363,"reputation":1083,"user_id":3403011,"accept_rate":100,"display_name":"Thibstars"},"score":5,"creation_date":1517924352,"post_id":3236880,"comment_id":84285367,"body_markdown":"I like to use `assertArrayEquals` nowadays. Use in combination with `List#toArray`.","body":"I like to use <code>assertArrayEquals</code> nowadays. Use in combination with <code>List#toArray</code>."},{"owner":{"account_id":16164,"reputation":20387,"user_id":34935,"accept_rate":60,"display_name":"dfrankow"},"score":0,"creation_date":1531345731,"post_id":3236880,"comment_id":89566787,"body_markdown":"@Thibstars - I&#39;d upvote that as an answer.","body":"@Thibstars - I&#39;d upvote that as an answer."},{"owner":{"account_id":1754735,"reputation":399,"user_id":1603041,"display_name":"ThetaSinner"},"score":5,"creation_date":1542842279,"post_id":3236880,"comment_id":93717986,"body_markdown":"`assertArrayEquals` requires you to get arrays from your lists. You can operate directly on the list using `assertIterableEquals`","body":"<code>assertArrayEquals</code> requires you to get arrays from your lists. You can operate directly on the list using <code>assertIterableEquals</code>"},{"owner":{"account_id":2165742,"reputation":1826,"user_id":3966933,"accept_rate":56,"display_name":"iec2011007"},"score":1,"creation_date":1589527084,"post_id":3236880,"comment_id":109334817,"body_markdown":"`assertIterableEquals` available for jUnit5 @ThetaSinner","body":"<code>assertIterableEquals</code> available for jUnit5 @ThetaSinner"}],"answers":[{"comments":[{"owner":{"account_id":162637,"reputation":3918,"user_id":384223,"accept_rate":55,"display_name":"Kamal"},"score":1,"creation_date":1279022867,"post_id":3236919,"comment_id":3342244,"body_markdown":"So you mean expected.equals(a) will take care of asserting the objects that the list is holding ?","body":"So you mean expected.equals(a) will take care of asserting the objects that the list is holding ?"},{"owner":{"account_id":45943,"reputation":19756,"user_id":135624,"accept_rate":88,"display_name":"Paul McKenzie"},"score":1,"creation_date":1279023029,"post_id":3236919,"comment_id":3342264,"body_markdown":"From List javadoc: Compares the specified object with this list for equality. Returns true if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are equal. (Two elements e1 and e2 are equal if (e1==null ? e2==null : e1.equals(e2)).) In other words, two lists are defined to be equal if they contain the same elements in the same order. This definition ensures that the equals method works properly across different implementations of the List interface.","body":"From List javadoc: Compares the specified object with this list for equality. Returns true if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are equal. (Two elements e1 and e2 are equal if (e1==null ? e2==null : e1.equals(e2)).) In other words, two lists are defined to be equal if they contain the same elements in the same order. This definition ensures that the equals method works properly across different implementations of the List interface."},{"owner":{"account_id":52748,"reputation":14581,"user_id":157672,"accept_rate":86,"display_name":"Michael Lloyd Lee mlk"},"score":1,"creation_date":1279023903,"post_id":3236919,"comment_id":3342372,"body_markdown":"This alas provides less than helpful error message. I have found it better to write a utility class which performs a loop so you can see which elements are different.","body":"This alas provides less than helpful error message. I have found it better to write a utility class which performs a loop so you can see which elements are different."},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1279024878,"post_id":3236919,"comment_id":3342505,"body_markdown":"@mlk, perhaps, but I&#39;m hesitant to write a custom utility method for such a thing. What about the error message I edited just now?","body":"@mlk, perhaps, but I&#39;m hesitant to write a custom utility method for such a thing. What about the error message I edited just now?"},{"owner":{"account_id":10818,"reputation":1096,"user_id":20605,"accept_rate":100,"display_name":"Matt N"},"score":0,"creation_date":1279025354,"post_id":3236919,"comment_id":3342585,"body_markdown":"@mlk I agree that it might be better to write a loop to test each element so you know exactly what is different.  It depends on what types of objects are in the list.  If they are Strings, then just say &quot;a=&quot;+a should be fine, but if they are complex objects (other lists, or something that doesn&#39;t have a good toString implementation), it might be easier to test them individually","body":"@mlk I agree that it might be better to write a loop to test each element so you know exactly what is different.  It depends on what types of objects are in the list.  If they are Strings, then just say &quot;a=&quot;+a should be fine, but if they are complex objects (other lists, or something that doesn&#39;t have a good toString implementation), it might be easier to test them individually"},{"owner":{"account_id":162637,"reputation":3918,"user_id":384223,"accept_rate":55,"display_name":"Kamal"},"score":0,"creation_date":1279026026,"post_id":3236919,"comment_id":3342684,"body_markdown":"So in case the list are having same objects, but in different order, this expected.equals(a) will return false.","body":"So in case the list are having same objects, but in different order, this expected.equals(a) will return false."},{"owner":{"account_id":52748,"reputation":14581,"user_id":157672,"accept_rate":86,"display_name":"Michael Lloyd Lee mlk"},"score":0,"creation_date":1279034539,"post_id":3236919,"comment_id":3344348,"body_markdown":"Bart/Matt - The solution I use is I have /the loop/ but if the loop finds a difference it generates a string of the array using Apache Commons ReflectionToStringBuilder for the elements. It then does a string assert on the two generated strings (as this is colour coded in Eclipses JUnit runner) followed by a simple fail should the string assert pass. It is not a solution for every occasion but it works nicely for many.","body":"Bart/Matt - The solution I use is I have /the loop/ but if the loop finds a difference it generates a string of the array using Apache Commons ReflectionToStringBuilder for the elements. It then does a string assert on the two generated strings (as this is colour coded in Eclipses JUnit runner) followed by a simple fail should the string assert pass. It is not a solution for every occasion but it works nicely for many."}],"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":7,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1370389109,"creation_date":1279022495,"answer_id":3236919,"question_id":3236880,"body_markdown":"This is a legacy answer, suitable for JUnit 4.3 and below. The modern version of JUnit includes a built-in readable failure messages in the assertThat method. Prefer other answers on this question, if possible.\r\n\r\n    List&lt;E&gt; a = resultFromTest();\r\n    List&lt;E&gt; expected = Arrays.asList(new E(), new E(), ...);\r\n    assertTrue(&quot;Expected &#39;a&#39; and &#39;expected&#39; to be equal.&quot;+\r\n                &quot;\\n  &#39;a&#39;        = &quot;+a+\r\n                &quot;\\n  &#39;expected&#39; = &quot;+expected, \r\n                expected.equals(a));\r\n\r\nFor the record, as @Paul mentioned in his comment to this answer, two `List`s are equal:\r\n\r\n&gt; *if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are equal. (Two elements `e1` and `e2` are equal if `(e1==null ? e2==null : e1.equals(e2))`.) In other words, two lists are defined to be equal if they contain the same elements in the same order. This definition ensures that the equals method works properly across different implementations of the `List` interface.*\r\n\r\nSee the [JavaDocs of the `List` interface][1].\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/List.html#equals(java.lang.Object)","title":"Assert equals between 2 Lists in Junit","body":"<p>This is a legacy answer, suitable for JUnit 4.3 and below. The modern version of JUnit includes a built-in readable failure messages in the assertThat method. Prefer other answers on this question, if possible.</p>\n\n<pre><code>List&lt;E&gt; a = resultFromTest();\nList&lt;E&gt; expected = Arrays.asList(new E(), new E(), ...);\nassertTrue(\"Expected 'a' and 'expected' to be equal.\"+\n            \"\\n  'a'        = \"+a+\n            \"\\n  'expected' = \"+expected, \n            expected.equals(a));\n</code></pre>\n\n<p>For the record, as @Paul mentioned in his comment to this answer, two <code>List</code>s are equal:</p>\n\n<blockquote>\n  <p><em>if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are equal. (Two elements <code>e1</code> and <code>e2</code> are equal if <code>(e1==null ? e2==null : e1.equals(e2))</code>.) In other words, two lists are defined to be equal if they contain the same elements in the same order. This definition ensures that the equals method works properly across different implementations of the <code>List</code> interface.</em></p>\n</blockquote>\n\n<p>See the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/List.html#equals(java.lang.Object)\" rel=\"noreferrer\">JavaDocs of the <code>List</code> interface</a>.</p>\n"},{"comments":[{"owner":{"account_id":78055,"reputation":18996,"user_id":222403,"accept_rate":85,"display_name":"Catfish"},"score":3,"creation_date":1395867900,"post_id":10660606,"comment_id":34539019,"body_markdown":"`System.out.println(actual == expected);` will return false, but `System.out.println(actual.equals(expected));` will return true.","body":"<code>System.out.println(actual == expected);</code> will return false, but <code>System.out.println(actual.equals(expected));</code> will return true."},{"owner":{"account_id":333711,"reputation":4480,"user_id":659715,"accept_rate":88,"display_name":"djeikyb"},"score":0,"creation_date":1395869494,"post_id":10660606,"comment_id":34540008,"body_markdown":"@Catfish yeah, that&#39;s confusing isn&#39;t it. I think I was demonstrating that the matcher is using `.equals(..)` instead of `==`?","body":"@Catfish yeah, that&#39;s confusing isn&#39;t it. I think I was demonstrating that the matcher is using <code>.equals(..)</code> instead of <code>==</code>?"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":5,"creation_date":1519977051,"post_id":10660606,"comment_id":85134514,"body_markdown":"How is that better than assertEquals?","body":"How is that better than assertEquals?"},{"owner":{"account_id":333711,"reputation":4480,"user_id":659715,"accept_rate":88,"display_name":"djeikyb"},"score":2,"creation_date":1520283558,"post_id":10660606,"comment_id":85244185,"body_markdown":"@Raedwald the output when the assertion fails. i&#39;ll try to come back later to edit in the difference. hamcrest matchers can generate detailed failure messages. it&#39;s possible for junit to simply overload assertEquals with similar goodness. but mostly junit provides core unit test features, and hamcrest provides a nice-to-have object difference describer library.","body":"@Raedwald the output when the assertion fails. i&#39;ll try to come back later to edit in the difference. hamcrest matchers can generate detailed failure messages. it&#39;s possible for junit to simply overload assertEquals with similar goodness. but mostly junit provides core unit test features, and hamcrest provides a nice-to-have object difference describer library."},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1606747426,"post_id":10660606,"comment_id":115047126,"body_markdown":"@djeikyb, `Assert.assertEquals` works right and outputs expected and actual lists when comparison fails.","body":"@djeikyb, <code>Assert.assertEquals</code> works right and outputs expected and actual lists when comparison fails."}],"tags":[],"owner":{"account_id":333711,"reputation":4480,"user_id":659715,"accept_rate":88,"display_name":"djeikyb"},"comment_count":5,"down_vote_count":1,"up_vote_count":200,"is_accepted":false,"score":199,"last_activity_date":1596046611,"creation_date":1337380947,"answer_id":10660606,"question_id":3236880,"body_markdown":"*For junit4! This question deserves a new answer written for [junit5][2].*\r\n\r\nI realise this answer is written a couple years after the question, probably this feature wasn&#39;t around then. But now, it&#39;s easy to just do this:\r\n\r\n    @Test\r\n    public void test_array_pass()\r\n    {\r\n      List&lt;String&gt; actual = Arrays.asList(&quot;fee&quot;, &quot;fi&quot;, &quot;foe&quot;);\r\n      List&lt;String&gt; expected = Arrays.asList(&quot;fee&quot;, &quot;fi&quot;, &quot;foe&quot;);\r\n    \r\n      assertThat(actual, is(expected));\r\n      assertThat(actual, is(not(expected)));\r\n    }\r\n\r\nIf you have a recent version of Junit installed with hamcrest, just add these imports:\r\n\r\n    import static org.junit.Assert.*;\r\n    import static org.hamcrest.CoreMatchers.*;\r\n\r\n[http://junit.org/junit4/javadoc/latest/org/junit/Assert.html#assertThat(T, org.hamcrest.Matcher)][1]\r\n\r\nhttp://junit.org/junit4/javadoc/latest/org/hamcrest/CoreMatchers.html\r\n\r\nhttp://junit.org/junit4/javadoc/latest/org/hamcrest/core/Is.html\r\n\r\n  [1]: http://junit.org/junit4/javadoc/latest/org/junit/Assert.html#assertThat%28T,%20org.hamcrest.Matcher%29\r\n  [2]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions-third-party","title":"Assert equals between 2 Lists in Junit","body":"<p><em>For junit4! This question deserves a new answer written for <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions-third-party\" rel=\"noreferrer\">junit5</a>.</em></p>\n<p>I realise this answer is written a couple years after the question, probably this feature wasn't around then. But now, it's easy to just do this:</p>\n<pre><code>@Test\npublic void test_array_pass()\n{\n  List&lt;String&gt; actual = Arrays.asList(&quot;fee&quot;, &quot;fi&quot;, &quot;foe&quot;);\n  List&lt;String&gt; expected = Arrays.asList(&quot;fee&quot;, &quot;fi&quot;, &quot;foe&quot;);\n\n  assertThat(actual, is(expected));\n  assertThat(actual, is(not(expected)));\n}\n</code></pre>\n<p>If you have a recent version of Junit installed with hamcrest, just add these imports:</p>\n<pre><code>import static org.junit.Assert.*;\nimport static org.hamcrest.CoreMatchers.*;\n</code></pre>\n<p><a href=\"http://junit.org/junit4/javadoc/latest/org/junit/Assert.html#assertThat%28T,%20org.hamcrest.Matcher%29\" rel=\"noreferrer\">http://junit.org/junit4/javadoc/latest/org/junit/Assert.html#assertThat(T, org.hamcrest.Matcher)</a></p>\n<p><a href=\"http://junit.org/junit4/javadoc/latest/org/hamcrest/CoreMatchers.html\" rel=\"noreferrer\">http://junit.org/junit4/javadoc/latest/org/hamcrest/CoreMatchers.html</a></p>\n<p><a href=\"http://junit.org/junit4/javadoc/latest/org/hamcrest/core/Is.html\" rel=\"noreferrer\">http://junit.org/junit4/javadoc/latest/org/hamcrest/core/Is.html</a></p>\n"},{"comments":[{"owner":{"account_id":34011,"reputation":5855,"user_id":95674,"display_name":"Barett"},"score":9,"creation_date":1370386467,"post_id":10808951,"comment_id":24439582,"body_markdown":"Note: If you don&#39;t care about the order of the elements, you should be using a Set or Collection, not a List.","body":"Note: If you don&#39;t care about the order of the elements, you should be using a Set or Collection, not a List."},{"owner":{"account_id":331483,"reputation":1181,"user_id":656193,"accept_rate":60,"display_name":"Ryan"},"score":11,"creation_date":1404771974,"post_id":10808951,"comment_id":38155370,"body_markdown":"I agree. This library is gross. Why on earth would ListAssert.assertEquals() default to orderless?","body":"I agree. This library is gross. Why on earth would ListAssert.assertEquals() default to orderless?"}],"tags":[],"owner":{"account_id":74665,"reputation":8844,"user_id":214429,"display_name":"Viktor Nordling"},"comment_count":2,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1338341772,"creation_date":1338341772,"answer_id":10808951,"question_id":3236880,"body_markdown":"If you don&#39;t care about the order of the elements, I recommend `ListAssert.assertEquals` in junit-addons.\r\n\r\nLink: http://junit-addons.sourceforge.net/\r\n\r\nFor lazy Maven users:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit-addons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-addons&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n","title":"Assert equals between 2 Lists in Junit","body":"<p>If you don't care about the order of the elements, I recommend <code>ListAssert.assertEquals</code> in junit-addons.</p>\n\n<p>Link: <a href=\"http://junit-addons.sourceforge.net/\">http://junit-addons.sourceforge.net/</a></p>\n\n<p>For lazy Maven users:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;junit-addons&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-addons&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2444028,"reputation":3478,"user_id":2131816,"display_name":"Arun Pratap Singh"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1376321170,"creation_date":1376321170,"answer_id":18190856,"question_id":3236880,"body_markdown":"if you don&#39;t want to build up an array list , you can try this also \r\n\r\n    @Test\r\n    public void test_array_pass()\r\n    {\r\n      List&lt;String&gt; list = Arrays.asList(&quot;fee&quot;, &quot;fi&quot;, &quot;foe&quot;);\r\n      Strint listToString = list.toString();\r\n      Assert.assertTrue(listToString.contains(&quot;[fee, fi, foe]&quot;));   // passes  \r\n    }\r\n\r\n  \r\n\r\n   ","title":"Assert equals between 2 Lists in Junit","body":"<p>if you don't want to build up an array list , you can try this also </p>\n\n<pre><code>@Test\npublic void test_array_pass()\n{\n  List&lt;String&gt; list = Arrays.asList(\"fee\", \"fi\", \"foe\");\n  Strint listToString = list.toString();\n  Assert.assertTrue(listToString.contains(\"[fee, fi, foe]\"));   // passes  \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":236964,"reputation":1214,"user_id":504807,"accept_rate":79,"display_name":"yoni"},"score":2,"creation_date":1515470283,"post_id":26429379,"comment_id":83301921,"body_markdown":"Should be the chosen answer, with one note: You need also to verify that there are no more items in the list besides what you want. Maybe use:`Assert.assertEquals(4,yourList.size());`","body":"Should be the chosen answer, with one note: You need also to verify that there are no more items in the list besides what you want. Maybe use:<code>Assert.assertEquals(4,yourList.size());</code>"},{"owner":{"account_id":1982300,"reputation":550,"user_id":1778602,"display_name":"user1778602"},"score":0,"creation_date":1520400316,"post_id":26429379,"comment_id":85294448,"body_markdown":"or with a single line: `assertThat(yourList.toArray(), arrayContainingInAnyOrder(1,2,3,4,5));`","body":"or with a single line: <code>assertThat(yourList.toArray(), arrayContainingInAnyOrder(1,2,3,4,5));</code>"},{"owner":{"account_id":352393,"reputation":7153,"user_id":6404321,"display_name":"walen"},"score":4,"creation_date":1559806856,"post_id":26429379,"comment_id":99536488,"body_markdown":"_&quot;This is not good for perfomance.&quot;_ → I&#39;m not sure to what degree one should take performance into account when writing _unit tests_... But sure, comparing strings via their `toString()` version is not the best way.","body":"<i>&quot;This is not good for perfomance.&quot;</i> → I&#39;m not sure to what degree one should take performance into account when writing <i>unit tests</i>... But sure, comparing strings via their <code>toString()</code> version is not the best way."}],"tags":[],"owner":{"account_id":5182428,"reputation":356,"user_id":4147737,"display_name":"Andre Fonseca"},"comment_count":3,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1504196937,"creation_date":1413563026,"answer_id":26429379,"question_id":3236880,"body_markdown":"Don&#39;t transform to string and compare. This is not good for perfomance. \r\nIn the junit, inside Corematchers, there&#39;s a matcher for this =&gt; `hasItems`\r\n\r\n\r\n    List&lt;Integer&gt; yourList = Arrays.asList(1,2,3,4)    \r\n    assertThat(yourList, CoreMatchers.hasItems(1,2,3,4,5));\r\n\r\nThis is the better way that I know of to check elements in a list.","title":"Assert equals between 2 Lists in Junit","body":"<p>Don't transform to string and compare. This is not good for perfomance. \nIn the junit, inside Corematchers, there's a matcher for this => <code>hasItems</code></p>\n\n<pre><code>List&lt;Integer&gt; yourList = Arrays.asList(1,2,3,4)    \nassertThat(yourList, CoreMatchers.hasItems(1,2,3,4,5));\n</code></pre>\n\n<p>This is the better way that I know of to check elements in a list.</p>\n"},{"comments":[{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1664516841,"post_id":32178953,"comment_id":130494017,"body_markdown":"Can you please guide me here: https://stackoverflow.com/questions/73898075/java-lang-assertionerror-while-checking-list-from-object-class-a-feild?","body":"Can you please guide me here: <a href=\"https://stackoverflow.com/questions/73898075/java-lang-assertionerror-while-checking-list-from-object-class-a-feild\" title=\"java lang assertionerror while checking list from object class a feild\">stackoverflow.com/questions/73898075/&hellip;</a>?"}],"tags":[],"owner":{"account_id":6838599,"reputation":63,"user_id":5259704,"display_name":"Ruslan Gafiullin"},"comment_count":1,"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1457102335,"creation_date":1440408974,"answer_id":32178953,"question_id":3236880,"body_markdown":"\t\r\n\tList&lt;Integer&gt; figureTypes = new ArrayList&lt;Integer&gt;(\r\n\t\t\t\t\t\t\t   Arrays.asList(\r\n\t\t\t\t\t\t\t\t\t 1,\r\n\t\t\t\t\t\t\t\t\t 2\r\n\t\t\t\t\t\t\t\t));\r\n\r\n\tList&lt;Integer&gt; figureTypes2 = new ArrayList&lt;Integer&gt;(\r\n\t\t\t\t\t\t\t   Arrays.asList(\r\n\t\t\t\t\t\t\t\t\t 1,\r\n\t\t\t\t\t\t\t\t\t 2));\r\n\r\n    assertTrue(figureTypes .equals(figureTypes2 ));\r\n","title":"Assert equals between 2 Lists in Junit","body":"<pre><code>List&lt;Integer&gt; figureTypes = new ArrayList&lt;Integer&gt;(\n                           Arrays.asList(\n                                 1,\n                                 2\n                            ));\n\nList&lt;Integer&gt; figureTypes2 = new ArrayList&lt;Integer&gt;(\n                           Arrays.asList(\n                                 1,\n                                 2));\n\nassertTrue(figureTypes .equals(figureTypes2 ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1612962,"reputation":2478,"user_id":1491414,"accept_rate":56,"display_name":"Ganesa Vijayakumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1520064205,"creation_date":1519976606,"answer_id":49064684,"question_id":3236880,"body_markdown":"I don&#39;t this the all the above answers are giving the exact solution for comparing two lists of Objects.\r\nMost of above approaches can be helpful in following limit of comparisons only\r\n- Size comparison\r\n- Reference comparison\r\n\r\nBut if we have same sized lists of objects and different data on the objects level then this comparison approaches won&#39;t help. \r\n\r\nI think the following approach will work perfectly with overriding equals and hashcode method on the user-defined object.\r\n\r\nI used [Xstream][1] lib for override equals and hashcode but we can override equals and hashcode by out won logics/comparison too.\r\n\r\nHere is the example for your reference\r\n\r\n        import com.thoughtworks.xstream.XStream;\r\n        \r\n        import java.text.ParseException;\r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        \r\n        class TestClass {\r\n          private String name;\r\n          private String id;\r\n        \r\n          public void setName(String value) {\r\n            this.name = value;\r\n          }\r\n        \r\n          public String getName() {\r\n            return this.name;\r\n          }\r\n        \r\n          public String getId() {\r\n            return id;\r\n          }\r\n        \r\n          public void setId(String id) {\r\n            this.id = id;\r\n          }\r\n        \r\n          /**\r\n           * @see java.lang.Object#equals(java.lang.Object)\r\n           */\r\n          @Override\r\n          public boolean equals(Object o) {\r\n            XStream xstream = new XStream();\r\n            String oxml = xstream.toXML(o);\r\n            String myxml = xstream.toXML(this);\r\n        \r\n            return myxml.equals(oxml);\r\n          }\r\n        \r\n          /**\r\n           * @see java.lang.Object#hashCode()\r\n           */\r\n          @Override\r\n          public int hashCode() {\r\n            XStream xstream = new XStream();\r\n            String myxml = xstream.toXML(this);\r\n            return myxml.hashCode();\r\n          }\r\n        }\r\n        \r\n        public class XstreamCompareTest {\r\n          public static void main(String[] args) throws ParseException {\r\n          checkObjectEquals();\r\n    }\r\n        \r\n          private static void checkObjectEquals() {\r\n            List&lt;TestClass&gt; testList1 = new ArrayList&lt;TestClass&gt;();\r\n            TestClass tObj1 = new TestClass();\r\n            tObj1.setId(&quot;test3&quot;);\r\n            tObj1.setName(&quot;testname3&quot;);\r\n            testList1.add(tObj1);\r\n        \r\n            TestClass tObj2 = new TestClass();\r\n            tObj2.setId(&quot;test2&quot;);\r\n            tObj2.setName(&quot;testname2&quot;);\r\n            testList1.add(tObj2);\r\n        \r\n            testList1.sort((TestClass t1, TestClass t2) -&gt; t1.getId().compareTo(t2.getId()));\r\n        \r\n            List&lt;TestClass&gt; testList2 = new ArrayList&lt;TestClass&gt;();\r\n            TestClass tObj3 = new TestClass();\r\n            tObj3.setId(&quot;test3&quot;);\r\n            tObj3.setName(&quot;testname3&quot;);\r\n            testList2.add(tObj3);\r\n        \r\n            TestClass tObj4 = new TestClass();\r\n            tObj4.setId(&quot;test2&quot;);\r\n            tObj4.setName(&quot;testname2&quot;);\r\n            testList2.add(tObj4);\r\n        \r\n            testList2.sort((TestClass t1, TestClass t2) -&gt; t1.getId().compareTo(t2.getId()));\r\n        \r\n            if (isNotMatch(testList1, testList2)) {\r\n              System.out.println(&quot;The list are not matched&quot;);\r\n            } else {\r\n              System.out.println(&quot;The list are matched&quot;);\r\n            }\r\n        \r\n          }\r\n        \r\n          private static boolean isNotMatch(List&lt;TestClass&gt; clist1, List&lt;TestClass&gt; clist2) {\r\n            return clist1.size() != clist2.size() || !clist1.equals(clist2);\r\n          }\r\n        }\r\n\r\nThe most important thing is that you can ignore the fields by Annotation (@XStreamOmitField) if you don&#39;t want to include any fields on the equal check of Objects. There are many Annotations like this to configure so have a look deep about the annotations of this lib.\r\n\r\nI am sure this answer will save your time to identify the correct approach for comparing two lists of objects :). Please comment if you see any issues on this.\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.thoughtworks.xstream/xstream/1.4.10\r\n\r\n","title":"Assert equals between 2 Lists in Junit","body":"<p>I don't this the all the above answers are giving the exact solution for comparing two lists of Objects.\nMost of above approaches can be helpful in following limit of comparisons only\n- Size comparison\n- Reference comparison</p>\n\n<p>But if we have same sized lists of objects and different data on the objects level then this comparison approaches won't help. </p>\n\n<p>I think the following approach will work perfectly with overriding equals and hashcode method on the user-defined object.</p>\n\n<p>I used <a href=\"https://mvnrepository.com/artifact/com.thoughtworks.xstream/xstream/1.4.10\" rel=\"nofollow noreferrer\">Xstream</a> lib for override equals and hashcode but we can override equals and hashcode by out won logics/comparison too.</p>\n\n<p>Here is the example for your reference</p>\n\n<pre><code>    import com.thoughtworks.xstream.XStream;\n\n    import java.text.ParseException;\n    import java.util.ArrayList;\n    import java.util.List;\n\n    class TestClass {\n      private String name;\n      private String id;\n\n      public void setName(String value) {\n        this.name = value;\n      }\n\n      public String getName() {\n        return this.name;\n      }\n\n      public String getId() {\n        return id;\n      }\n\n      public void setId(String id) {\n        this.id = id;\n      }\n\n      /**\n       * @see java.lang.Object#equals(java.lang.Object)\n       */\n      @Override\n      public boolean equals(Object o) {\n        XStream xstream = new XStream();\n        String oxml = xstream.toXML(o);\n        String myxml = xstream.toXML(this);\n\n        return myxml.equals(oxml);\n      }\n\n      /**\n       * @see java.lang.Object#hashCode()\n       */\n      @Override\n      public int hashCode() {\n        XStream xstream = new XStream();\n        String myxml = xstream.toXML(this);\n        return myxml.hashCode();\n      }\n    }\n\n    public class XstreamCompareTest {\n      public static void main(String[] args) throws ParseException {\n      checkObjectEquals();\n}\n\n      private static void checkObjectEquals() {\n        List&lt;TestClass&gt; testList1 = new ArrayList&lt;TestClass&gt;();\n        TestClass tObj1 = new TestClass();\n        tObj1.setId(\"test3\");\n        tObj1.setName(\"testname3\");\n        testList1.add(tObj1);\n\n        TestClass tObj2 = new TestClass();\n        tObj2.setId(\"test2\");\n        tObj2.setName(\"testname2\");\n        testList1.add(tObj2);\n\n        testList1.sort((TestClass t1, TestClass t2) -&gt; t1.getId().compareTo(t2.getId()));\n\n        List&lt;TestClass&gt; testList2 = new ArrayList&lt;TestClass&gt;();\n        TestClass tObj3 = new TestClass();\n        tObj3.setId(\"test3\");\n        tObj3.setName(\"testname3\");\n        testList2.add(tObj3);\n\n        TestClass tObj4 = new TestClass();\n        tObj4.setId(\"test2\");\n        tObj4.setName(\"testname2\");\n        testList2.add(tObj4);\n\n        testList2.sort((TestClass t1, TestClass t2) -&gt; t1.getId().compareTo(t2.getId()));\n\n        if (isNotMatch(testList1, testList2)) {\n          System.out.println(\"The list are not matched\");\n        } else {\n          System.out.println(\"The list are matched\");\n        }\n\n      }\n\n      private static boolean isNotMatch(List&lt;TestClass&gt; clist1, List&lt;TestClass&gt; clist2) {\n        return clist1.size() != clist2.size() || !clist1.equals(clist2);\n      }\n    }\n</code></pre>\n\n<p>The most important thing is that you can ignore the fields by Annotation (@XStreamOmitField) if you don't want to include any fields on the equal check of Objects. There are many Annotations like this to configure so have a look deep about the annotations of this lib.</p>\n\n<p>I am sure this answer will save your time to identify the correct approach for comparing two lists of objects :). Please comment if you see any issues on this.</p>\n"},{"comments":[{"owner":{"account_id":2153693,"reputation":59,"user_id":1909375,"display_name":"Greg Knox"},"score":1,"creation_date":1624832555,"post_id":49694036,"comment_id":120458239,"body_markdown":"The order of the parameters in Assert.assertEquals is expected result then the actual result, so in your snippet it should be \n\n    Assert.assertEquals(expected, actual);","body":"The order of the parameters in Assert.assertEquals is expected result then the actual result, so in your snippet it should be       Assert.assertEquals(expected, actual);"}],"tags":[],"owner":{"account_id":6936044,"reputation":1126,"user_id":5323907,"display_name":"Dhyan Mohandas"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1523022776,"creation_date":1523021588,"answer_id":49694036,"question_id":3236880,"body_markdown":"You can use **assertEquals** in junit. \r\n\r\n    import org.junit.Assert;   \r\n    import org.junit.Test;\r\n\r\n        @Test\r\n        public void test_array_pass()\r\n        {\r\n            List&lt;String&gt; actual = Arrays.asList(&quot;fee&quot;, &quot;fi&quot;, &quot;foe&quot;);\r\n            List&lt;String&gt; expected = Arrays.asList(&quot;fee&quot;, &quot;fi&quot;, &quot;foe&quot;);\r\n            Assert.assertEquals(actual,expected);\r\n        }\r\n\r\nIf the order of elements is different then it will return error.\r\n\r\n&gt; If you are asserting a model object list then you should\r\n&gt; override the equals method in the specific model.\r\n&gt; \r\n&gt;         @Override\r\n&gt;         public boolean equals(Object obj) {\r\n&gt;             if (obj == this) {\r\n&gt;                 return true;\r\n&gt;             }\r\n&gt;             if (obj != null &amp;&amp; obj instanceof ModelName) {\r\n&gt;                 ModelName other = (ModelName) obj;\r\n&gt;                 return this.getItem().equals(other.getItem()) ;\r\n&gt;             }\r\n&gt;             return false;\r\n&gt;         }\r\n\r\n","title":"Assert equals between 2 Lists in Junit","body":"<p>You can use <strong>assertEquals</strong> in junit. </p>\n\n<pre><code>import org.junit.Assert;   \nimport org.junit.Test;\n\n    @Test\n    public void test_array_pass()\n    {\n        List&lt;String&gt; actual = Arrays.asList(\"fee\", \"fi\", \"foe\");\n        List&lt;String&gt; expected = Arrays.asList(\"fee\", \"fi\", \"foe\");\n        Assert.assertEquals(actual,expected);\n    }\n</code></pre>\n\n<p>If the order of elements is different then it will return error.</p>\n\n<blockquote>\n  <p>If you are asserting a model object list then you should\n  override the equals method in the specific model.</p>\n\n<pre><code>    @Override\n    public boolean equals(Object obj) {\n        if (obj == this) {\n            return true;\n        }\n        if (obj != null &amp;&amp; obj instanceof ModelName) {\n            ModelName other = (ModelName) obj;\n            return this.getItem().equals(other.getItem()) ;\n        }\n        return false;\n    }\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1534105391,"creation_date":1534105391,"answer_id":51812537,"question_id":3236880,"body_markdown":"`assertEquals(Object, Object)` from JUnit4/JUnit 5 or   `assertThat(actual, is(expected));` from Hamcrest proposed in the other answers will work only as both `equals()` and `toString()` are overrided for the classes (and deeply) of the compared objects.   \r\n\r\nIt matters because the equality test in the assertion relies on `equals()` and the test failure message relies on `toString()` of the compared objects.   \r\nFor built-in classes such as `String`, `Integer` and so for ... no problem as these override both `equals()` and `toString()`. So it is perfectly valid to assert `List&lt;String&gt;` or `List&lt;Integer&gt;` with  `assertEquals(Object,Object)`.   \r\nAnd about this matter : you have to override `equals()` in a class because it makes sense in terms of object equality, not only to make assertions easier in a test with JUnit.       \r\nTo make assertions easier you have other ways.   \r\nAs a good practice I favor assertion/matcher libraries.   \r\n\r\nHere is a [AssertJ][1] solution.  \r\n\r\n [`org.assertj.core.api.ListAssert.containsExactly()`][2] is what you need : it verifies that the actual group contains exactly the given values and nothing else, in order as stated in the javadoc.   \r\n   \r\nSuppose a `Foo` class where you add elements and where you can get that.  \r\nA unit test of `Foo` that asserts that the two lists have the same content could look like :\r\n\r\n    import org.assertj.core.api.Assertions;\r\n    import org.junit.jupiter.api.Test;\r\n\r\n\t@Test\r\n\tvoid add() throws Exception { \r\n       Foo foo = new Foo();\r\n   \t   foo.add(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;);\r\n  \t   Assertions.assertThat(foo.getElements())\r\n\t             .containsExactly(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;);\r\n    }\r\n\r\nA AssertJ good point is that declaring a `List` as expected is needless : it makes the assertion straighter and the code more readable :\r\n\r\n    Assertions.assertThat(foo.getElements())\r\n             .containsExactly(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;);\r\n\r\n\r\nBut Assertion/matcher libraries are a must because these will really further.    \t \r\nSuppose now that `Foo`\tdoesn&#39;t store `String`s but `Bar`s instances.   \r\nThat is a very common need. \r\nWith AssertJ the assertion is still simple to write. Better you can assert that the list content are equal even if the class of the elements doesn&#39;t override `equals()/hashCode()` while JUnit way requires that :\r\n\r\n    import org.assertj.core.api.Assertions;\r\n    import static org.assertj.core.groups.Tuple.tuple;\r\n    import org.junit.jupiter.api.Test;\r\n\r\n\t@Test\r\n\tvoid add() throws Exception {\r\n\t\tFoo foo = new Foo();\r\n        foo.add(new Bar(1, &quot;One&quot;), new Bar(2, &quot;Two&quot;), new Bar(3, &quot;Three&quot;));\r\n\t\tAssertions.assertThat(foo.getElements())\r\n\t\t          .extracting(Bar::getId, Bar::getName)\r\n\t\t          .containsExactly(tuple(1, &quot;One&quot;),\r\n\t\t                           tuple(2, &quot;Two&quot;),\r\n\t\t                           tuple(3, &quot;Three&quot;));\r\n\t}\r\n\r\n  [1]: http://joel-costigliola.github.io/assertj/\r\n  [2]: http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/ListAssert.html#containsExactly-ELEMENT...-\r\n","title":"Assert equals between 2 Lists in Junit","body":"<p><code>assertEquals(Object, Object)</code> from JUnit4/JUnit 5 or   <code>assertThat(actual, is(expected));</code> from Hamcrest proposed in the other answers will work only as both <code>equals()</code> and <code>toString()</code> are overrided for the classes (and deeply) of the compared objects.   </p>\n\n<p>It matters because the equality test in the assertion relies on <code>equals()</code> and the test failure message relies on <code>toString()</code> of the compared objects.<br>\nFor built-in classes such as <code>String</code>, <code>Integer</code> and so for ... no problem as these override both <code>equals()</code> and <code>toString()</code>. So it is perfectly valid to assert <code>List&lt;String&gt;</code> or <code>List&lt;Integer&gt;</code> with  <code>assertEquals(Object,Object)</code>.<br>\nAnd about this matter : you have to override <code>equals()</code> in a class because it makes sense in terms of object equality, not only to make assertions easier in a test with JUnit.<br>\nTo make assertions easier you have other ways.<br>\nAs a good practice I favor assertion/matcher libraries.   </p>\n\n<p>Here is a <a href=\"http://joel-costigliola.github.io/assertj/\" rel=\"noreferrer\">AssertJ</a> solution.  </p>\n\n<p><a href=\"http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/ListAssert.html#containsExactly-ELEMENT...-\" rel=\"noreferrer\"><code>org.assertj.core.api.ListAssert.containsExactly()</code></a> is what you need : it verifies that the actual group contains exactly the given values and nothing else, in order as stated in the javadoc.   </p>\n\n<p>Suppose a <code>Foo</code> class where you add elements and where you can get that.<br>\nA unit test of <code>Foo</code> that asserts that the two lists have the same content could look like :</p>\n\n<pre><code>import org.assertj.core.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\n@Test\nvoid add() throws Exception { \n   Foo foo = new Foo();\n   foo.add(\"One\", \"Two\", \"Three\");\n   Assertions.assertThat(foo.getElements())\n             .containsExactly(\"One\", \"Two\", \"Three\");\n}\n</code></pre>\n\n<p>A AssertJ good point is that declaring a <code>List</code> as expected is needless : it makes the assertion straighter and the code more readable :</p>\n\n<pre><code>Assertions.assertThat(foo.getElements())\n         .containsExactly(\"One\", \"Two\", \"Three\");\n</code></pre>\n\n<p>But Assertion/matcher libraries are a must because these will really further.<br>\nSuppose now that <code>Foo</code>  doesn't store <code>String</code>s but <code>Bar</code>s instances.<br>\nThat is a very common need. \nWith AssertJ the assertion is still simple to write. Better you can assert that the list content are equal even if the class of the elements doesn't override <code>equals()/hashCode()</code> while JUnit way requires that :</p>\n\n<pre><code>import org.assertj.core.api.Assertions;\nimport static org.assertj.core.groups.Tuple.tuple;\nimport org.junit.jupiter.api.Test;\n\n@Test\nvoid add() throws Exception {\n    Foo foo = new Foo();\n    foo.add(new Bar(1, \"One\"), new Bar(2, \"Two\"), new Bar(3, \"Three\"));\n    Assertions.assertThat(foo.getElements())\n              .extracting(Bar::getId, Bar::getName)\n              .containsExactly(tuple(1, \"One\"),\n                               tuple(2, \"Two\"),\n                               tuple(3, \"Three\"));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2165742,"reputation":1826,"user_id":3966933,"accept_rate":56,"display_name":"iec2011007"},"score":1,"creation_date":1589526869,"post_id":60449398,"comment_id":109334719,"body_markdown":"will this not fails if the order is not matched ??","body":"will this not fails if the order is not matched ??"}],"tags":[],"owner":{"account_id":3628689,"reputation":946,"user_id":3025545,"accept_rate":73,"display_name":"Kh.Taheri"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582884166,"creation_date":1582884166,"answer_id":60449398,"question_id":3236880,"body_markdown":"I know there are already many options to solve this issue, but I would rather do the following to **assert two lists in any oder**:\r\n\r\n    assertTrue(result.containsAll(expected) &amp;&amp; expected.containsAll(result))","title":"Assert equals between 2 Lists in Junit","body":"<p>I know there are already many options to solve this issue, but I would rather do the following to <strong>assert two lists in any oder</strong>:</p>\n\n<pre><code>assertTrue(result.containsAll(expected) &amp;&amp; expected.containsAll(result))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3692561,"reputation":153,"user_id":3074840,"display_name":"devmarkpro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586631050,"creation_date":1586631050,"answer_id":61162039,"question_id":3236880,"body_markdown":"`assertEquals(expected, result);` works for me.\r\nSince this function gets two objects, you can pass anything to it.\r\n\r\n```java \r\npublic static void assertEquals(Object expected, Object actual) {\r\n    AssertEquals.assertEquals(expected, actual);\r\n}\r\n```","title":"Assert equals between 2 Lists in Junit","body":"<p><code>assertEquals(expected, result);</code> works for me.\nSince this function gets two objects, you can pass anything to it.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void assertEquals(Object expected, Object actual) {\n    AssertEquals.assertEquals(expected, actual);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5848522,"reputation":2057,"user_id":6411857,"display_name":"DroidClicketyClacker"},"score":0,"creation_date":1604273714,"post_id":63160287,"comment_id":114289937,"body_markdown":"Much simpler to upgrade to JUnit5. [Migration Instructions](https://junit.org/junit5/docs/current/user-guide/#running-tests-build-gradle-engines-configure) \n\nFrom: `testImplementation(&quot;junit:junit:4.13&quot;)` To: `testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:5.7.0&quot;)\n`","body":"Much simpler to upgrade to JUnit5. <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-build-gradle-engines-configure\" rel=\"nofollow noreferrer\">Migration Instructions</a>   From: <code>testImplementation(&quot;junit:junit:4.13&quot;)</code> To: <code>testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:5.7.&zwnj;&#8203;0&quot;) </code>"}],"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"comment_count":1,"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1605976777,"creation_date":1596047796,"answer_id":63160287,"question_id":3236880,"body_markdown":"\r\n## For JUnit 5\r\n you can use [`assertIterableEquals`](https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertIterableEquals-java.lang.Iterable-java.lang.Iterable-) :\r\n````\r\nList&lt;String&gt; numbers = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\nList&lt;String&gt; numbers2 = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\n\r\nAssertions.assertIterableEquals(numbers, numbers2);\r\n````\r\nor [`assertArrayEquals`](https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertArrayEquals-java.lang.Object:A-java.lang.Object:A-) and converting lists to arrays :\r\n````\r\nList&lt;String&gt; numbers = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\nList&lt;String&gt; numbers2 = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\nAssertions.assertArrayEquals(numbers.toArray(), numbers2.toArray());\r\n````","title":"Assert equals between 2 Lists in Junit","body":"<h2>For JUnit 5</h2>\n<p>you can use <a href=\"https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertIterableEquals-java.lang.Iterable-java.lang.Iterable-\" rel=\"noreferrer\"><code>assertIterableEquals</code></a> :</p>\n<pre><code>List&lt;String&gt; numbers = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\nList&lt;String&gt; numbers2 = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\n\nAssertions.assertIterableEquals(numbers, numbers2);\n</code></pre>\n<p>or <a href=\"https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertArrayEquals-java.lang.Object:A-java.lang.Object:A-\" rel=\"noreferrer\"><code>assertArrayEquals</code></a> and converting lists to arrays :</p>\n<pre><code>List&lt;String&gt; numbers = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\nList&lt;String&gt; numbers2 = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\nAssertions.assertArrayEquals(numbers.toArray(), numbers2.toArray());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8608149,"reputation":526,"user_id":9285942,"display_name":"David Good"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603475807,"creation_date":1603475807,"answer_id":64505104,"question_id":3236880,"body_markdown":"You mentioned that you&#39;re interested in the equality of the contents of the list (and didn&#39;t mention order). So `containsExactlyInAnyOrder` from AssertJ is a good fit. It comes packaged with `spring-boot-starter-test`, for example.\r\n\r\nFrom the [AssertJ docs ListAssert#containsExactlyInAnyOrder][1]:\r\n\r\n&gt; Verifies that the actual group contains exactly the given values and nothing else, in any order.\r\n&gt; Example:\r\n\r\n```java\r\n // an Iterable is used in the example but it would also work with an array\r\n Iterable&lt;Ring&gt; elvesRings = newArrayList(vilya, nenya, narya, vilya);\r\n\r\n // assertion will pass\r\n assertThat(elvesRings).containsExactlyInAnyOrder(vilya, vilya, nenya, narya);\r\n\r\n // assertion will fail as vilya is contained twice in elvesRings.\r\n assertThat(elvesRings).containsExactlyInAnyOrder(nenya, vilya, narya);\r\n```\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/3.16.1/org/assertj/core/api/ListAssert.html#containsExactlyInAnyOrder(ELEMENT...)","title":"Assert equals between 2 Lists in Junit","body":"<p>You mentioned that you're interested in the equality of the contents of the list (and didn't mention order). So <code>containsExactlyInAnyOrder</code> from AssertJ is a good fit. It comes packaged with <code>spring-boot-starter-test</code>, for example.</p>\n<p>From the <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/3.16.1/org/assertj/core/api/ListAssert.html#containsExactlyInAnyOrder(ELEMENT...)\" rel=\"nofollow noreferrer\">AssertJ docs ListAssert#containsExactlyInAnyOrder</a>:</p>\n<blockquote>\n<p>Verifies that the actual group contains exactly the given values and nothing else, in any order.\nExample:</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code> // an Iterable is used in the example but it would also work with an array\n Iterable&lt;Ring&gt; elvesRings = newArrayList(vilya, nenya, narya, vilya);\n\n // assertion will pass\n assertThat(elvesRings).containsExactlyInAnyOrder(vilya, vilya, nenya, narya);\n\n // assertion will fail as vilya is contained twice in elvesRings.\n assertThat(elvesRings).containsExactlyInAnyOrder(nenya, vilya, narya);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13991015,"reputation":311,"user_id":10104999,"display_name":"SMilos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665152115,"creation_date":1665152115,"answer_id":73988517,"question_id":3236880,"body_markdown":"If there are no duplicates, following code should do the job\r\n\r\n        Assertions.assertTrue(firstList.size() == secondList.size() \r\n            &amp;&amp; firstList.containsAll(secondList) \r\n            &amp;&amp; secondList.containsAll(firstList));\r\n\r\n**Note**: In case of duplicates, assertion will pass if number of elements is the same in both lists (even if different elements are duplicated in each list.\r\n\r\n","title":"Assert equals between 2 Lists in Junit","body":"<p>If there are no duplicates, following code should do the job</p>\n<pre><code>    Assertions.assertTrue(firstList.size() == secondList.size() \n        &amp;&amp; firstList.containsAll(secondList) \n        &amp;&amp; secondList.containsAll(firstList));\n</code></pre>\n<p><strong>Note</strong>: In case of duplicates, assertion will pass if number of elements is the same in both lists (even if different elements are duplicated in each list.</p>\n"},{"tags":[],"owner":{"account_id":26604654,"reputation":103,"user_id":20225739,"display_name":"Theri Muthu Selvam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695031944,"creation_date":1695031944,"answer_id":77126323,"question_id":3236880,"body_markdown":"Just use the below code, it&#39;ll help in your case and import the following Assertions package - `import org.junit.jupiter.api.Assertions;`\r\n\r\n    Assertions.assertEquals(expected, actual);","title":"Assert equals between 2 Lists in Junit","body":"<p>Just use the below code, it'll help in your case and import the following Assertions package - <code>import org.junit.jupiter.api.Assertions;</code></p>\n<pre><code>Assertions.assertEquals(expected, actual);\n</code></pre>\n"}],"owner":{"account_id":162637,"reputation":3918,"user_id":384223,"accept_rate":55,"display_name":"Kamal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331105,"favorite_count":0,"down_vote_count":0,"up_vote_count":214,"answer_count":15,"score":214,"last_activity_date":1695031944,"creation_date":1279022199,"question_id":3236880,"body_markdown":"How can I make an equality assertion between lists in a ***JUnit*** test case? Equality should be between the content of the list.\r\n\r\nFor example:\r\n\r\n    List&lt;String&gt; numbers = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\n\tList&lt;String&gt; numbers2 = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\n\tList&lt;String&gt; numbers3 = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;four&quot;); \r\n    \r\n    // numbers should be equal to numbers2\r\n    //numbers should not be equal to numbers3","title":"Assert equals between 2 Lists in Junit","body":"<p>How can I make an equality assertion between lists in a <strong><em>JUnit</em></strong> test case? Equality should be between the content of the list.</p>\n\n<p>For example:</p>\n\n<pre><code>List&lt;String&gt; numbers = Arrays.asList(\"one\", \"two\", \"three\");\nList&lt;String&gt; numbers2 = Arrays.asList(\"one\", \"two\", \"three\");\nList&lt;String&gt; numbers3 = Arrays.asList(\"one\", \"two\", \"four\"); \n\n// numbers should be equal to numbers2\n//numbers should not be equal to numbers3\n</code></pre>\n"},{"tags":["java","mysql","jdbc","connection-pooling","c3p0"],"comments":[{"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1353449610,"post_id":13482803,"comment_id":18448232,"body_markdown":"what does the other datasource look like?","body":"what does the other datasource look like?"},{"owner":{"account_id":1210340,"reputation":1432,"user_id":1179018,"accept_rate":41,"display_name":"scabbage"},"score":0,"creation_date":1353449725,"post_id":13482803,"comment_id":18448268,"body_markdown":"Same config with different id.","body":"Same config with different id."},{"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1353449747,"post_id":13482803,"comment_id":18448275,"body_markdown":"Have you tried increasing the connection limit on the database?","body":"Have you tried increasing the connection limit on the database?"},{"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1353449958,"post_id":13482803,"comment_id":18448349,"body_markdown":"Also does this happen on start up or after a while at run time? Are you sure you&#39;ve configured your database settings correctly?","body":"Also does this happen on start up or after a while at run time? Are you sure you&#39;ve configured your database settings correctly?"},{"owner":{"account_id":1210340,"reputation":1432,"user_id":1179018,"accept_rate":41,"display_name":"scabbage"},"score":0,"creation_date":1353450715,"post_id":13482803,"comment_id":18448667,"body_markdown":"This is during run time. I doubt it was related to the connection limit for the db. The monitor shows the DB connection count with a sawtooth pattern (http://en.wikipedia.org/wiki/Sawtooth_wave), which is really weird. The DB is getting from anywhere between 40-300 connections. We have ds1 with maxPoolSize=300 and ds2 with maxPoolSize=50.","body":"This is during run time. I doubt it was related to the connection limit for the db. The monitor shows the DB connection count with a sawtooth pattern (<a href=\"http://en.wikipedia.org/wiki/Sawtooth_wave\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Sawtooth_wave</a>), which is really weird. The DB is getting from anywhere between 40-300 connections. We have ds1 with maxPoolSize=300 and ds2 with maxPoolSize=50."},{"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1353450949,"post_id":13482803,"comment_id":18448749,"body_markdown":"so whats the limit on the DB?","body":"so whats the limit on the DB?"},{"owner":{"account_id":1210340,"reputation":1432,"user_id":1179018,"accept_rate":41,"display_name":"scabbage"},"score":0,"creation_date":1353451833,"post_id":13482803,"comment_id":18449100,"body_markdown":"1200 is the limit. We are far from there. BTW, the sawtooth problem was identified. We have a script that opens connections without closing them. That is now fixed. But this should have nothing to do with the getConnection() problem here.","body":"1200 is the limit. We are far from there. BTW, the sawtooth problem was identified. We have a script that opens connections without closing them. That is now fixed. But this should have nothing to do with the getConnection() problem here."},{"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1353452572,"post_id":13482803,"comment_id":18449398,"body_markdown":"Have you noticed any pattern to this exception occuring? Does it occur on both datasources? Have you debugged before getting the connection to see if the datasource is in a weird state when it throws the exception?","body":"Have you noticed any pattern to this exception occuring? Does it occur on both datasources? Have you debugged before getting the connection to see if the datasource is in a weird state when it throws the exception?"},{"owner":{"account_id":1346755,"reputation":13871,"user_id":1287342,"display_name":"Alex"},"score":0,"creation_date":1353453051,"post_id":13482803,"comment_id":18449593,"body_markdown":"Are you able to bump up the logging level on C3PO?","body":"Are you able to bump up the logging level on C3PO?"},{"owner":{"account_id":1210340,"reputation":1432,"user_id":1179018,"accept_rate":41,"display_name":"scabbage"},"score":0,"creation_date":1353453174,"post_id":13482803,"comment_id":18449638,"body_markdown":"@Brian No pattern has been recognized. It happens on both ds. We are not able to reproduce the problem. So not possible to debug.","body":"@Brian No pattern has been recognized. It happens on both ds. We are not able to reproduce the problem. So not possible to debug."},{"owner":{"account_id":1210340,"reputation":1432,"user_id":1179018,"accept_rate":41,"display_name":"scabbage"},"score":0,"creation_date":1353453203,"post_id":13482803,"comment_id":18449649,"body_markdown":"@Alex How do I bump up the logging level in c3p0? We are using logback, btw.","body":"@Alex How do I bump up the logging level in c3p0? We are using logback, btw."},{"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1353453440,"post_id":13482803,"comment_id":18449725,"body_markdown":"But how often does it happen and how soon after start up?","body":"But how often does it happen and how soon after start up?"},{"owner":{"account_id":1210340,"reputation":1432,"user_id":1179018,"accept_rate":41,"display_name":"scabbage"},"score":0,"creation_date":1353454216,"post_id":13482803,"comment_id":18449949,"body_markdown":"@Brian There is no pattern for it.","body":"@Brian There is no pattern for it."},{"owner":{"account_id":1346755,"reputation":13871,"user_id":1287342,"display_name":"Alex"},"score":0,"creation_date":1353455216,"post_id":13482803,"comment_id":18450229,"body_markdown":"Looks like c3p0 is hard-wired to use log4j (http://www.mchange.com/projects/c3p0/#configuring_logging). Your best bet is probably to install the log4j-over-slf4j bridge (http://www.slf4j.org/legacy.html) and then modify your logback configuration to increase the logging level of the com.mchange appender.","body":"Looks like c3p0 is hard-wired to use log4j (<a href=\"http://www.mchange.com/projects/c3p0/#configuring_logging\" rel=\"nofollow noreferrer\">mchange.com/projects/c3p0/#configuring_logging</a>). Your best bet is probably to install the log4j-over-slf4j bridge (<a href=\"http://www.slf4j.org/legacy.html\" rel=\"nofollow noreferrer\">slf4j.org/legacy.html</a>) and then modify your logback configuration to increase the logging level of the com.mchange appender."},{"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1353485087,"post_id":13482803,"comment_id":18457405,"body_markdown":"You&#39;re going to need to explain exactly what happens. Does it happen every time hibernate attempts to make a connection? I think you need to include your session factory bean and also the hibernate calling code","body":"You&#39;re going to need to explain exactly what happens. Does it happen every time hibernate attempts to make a connection? I think you need to include your session factory bean and also the hibernate calling code"}],"answers":[{"tags":[],"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353450973,"creation_date":1353450570,"answer_id":13483317,"question_id":13482803,"body_markdown":"Although not strictly answering your question, I didn&#39;t want to add code in the comments as code in comments is unreadable.\r\n\r\nHere is an example config of MySQL with C3P0 from my project. note all the extra parameters to make sure the connections don&#39;t die. (In the end I went with Postgres because it didn&#39;t kill my connections and was more stable generally, also having to retest connections with select 1; isn&#39;t very efficient)\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;\r\n         destroy-method=&quot;close&quot;&gt;\r\n      &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driverClassName}&quot;/&gt;\r\n      &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.url}&quot;/&gt;\r\n      &lt;property name=&quot;properties&quot;&gt;\r\n        &lt;props&gt;\r\n            &lt;prop key=&quot;c3p0.minPoolSize&quot;&gt;0&lt;/prop&gt;\r\n            &lt;prop key=&quot;hc3p0.maxPoolSize&quot;&gt;1000&lt;/prop&gt;\r\n            &lt;prop key=&quot;hc3p0.timeout&quot;&gt;3000&lt;/prop&gt;\r\n            &lt;prop key=&quot;c3p0.acquire_increment&quot;&gt;10&lt;/prop&gt;\r\n            &lt;prop key=&quot;c3p0.max_statement&quot;&gt;50&lt;/prop&gt;\r\n\r\n            &lt;prop key=&quot;hibernate.c3p0.idle_test_period&quot;&gt;60&lt;/prop&gt;\r\n            &lt;prop key=&quot;c3p0.preferredTestQuery&quot;&gt;SELECT 1;&lt;/prop&gt;\r\n            &lt;prop key=&quot;hibernate.c3p0.testConnectionOnCheckout&quot;&gt;false&lt;/prop&gt;\r\n            &lt;prop key=&quot;user&quot;&gt;${jdbc.username}&lt;/prop&gt;\r\n            &lt;prop key=&quot;password&quot;&gt;${jdbc.password}&lt;/prop&gt;\r\n        &lt;/props&gt;\r\n      &lt;/property&gt;\r\n    &lt;/bean&gt;","title":"c3p0 getConnection() throws exception: A ResourcePool could not acquire a resource from its primary factory or source","body":"<p>Although not strictly answering your question, I didn't want to add code in the comments as code in comments is unreadable.</p>\n\n<p>Here is an example config of MySQL with C3P0 from my project. note all the extra parameters to make sure the connections don't die. (In the end I went with Postgres because it didn't kill my connections and was more stable generally, also having to retest connections with select 1; isn't very efficient)</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\"\n     destroy-method=\"close\"&gt;\n  &lt;property name=\"driverClass\" value=\"${jdbc.driverClassName}\"/&gt;\n  &lt;property name=\"jdbcUrl\" value=\"${jdbc.url}\"/&gt;\n  &lt;property name=\"properties\"&gt;\n    &lt;props&gt;\n        &lt;prop key=\"c3p0.minPoolSize\"&gt;0&lt;/prop&gt;\n        &lt;prop key=\"hc3p0.maxPoolSize\"&gt;1000&lt;/prop&gt;\n        &lt;prop key=\"hc3p0.timeout\"&gt;3000&lt;/prop&gt;\n        &lt;prop key=\"c3p0.acquire_increment\"&gt;10&lt;/prop&gt;\n        &lt;prop key=\"c3p0.max_statement\"&gt;50&lt;/prop&gt;\n\n        &lt;prop key=\"hibernate.c3p0.idle_test_period\"&gt;60&lt;/prop&gt;\n        &lt;prop key=\"c3p0.preferredTestQuery\"&gt;SELECT 1;&lt;/prop&gt;\n        &lt;prop key=\"hibernate.c3p0.testConnectionOnCheckout\"&gt;false&lt;/prop&gt;\n        &lt;prop key=\"user\"&gt;${jdbc.username}&lt;/prop&gt;\n        &lt;prop key=\"password\"&gt;${jdbc.password}&lt;/prop&gt;\n    &lt;/props&gt;\n  &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616513389,"creation_date":1616513389,"answer_id":66766284,"question_id":13482803,"body_markdown":"I found the following list of causes and resolutions which helped me solve the problem. Might also help others:\r\n\r\n 1. **The database configuration details you entered are incorrect or have changed**. For example, the database name or database username/password for your Confluence database. Confirm that the database username, password, and connection URL in &lt;confluence-home&gt;/confluence.cfg.xml are incorrect, and if not update them accordingly.\r\n 2. **The URL for the database is incorrect**. For example, if the database connection is jdbc:mysql://yma/confluence?autoReconnect=true, does the host &#39;yma&#39; exist and is the database server installed on &#39;yma&#39;? Check &lt;confluence-home&gt;/confluence.cfg.xml to find this entry.\r\n 3. **The database server is not running**. If your database server is down, restart it and check the logs to see why it had failed or stopped.\r\n 4. **The network is down** (or there is a firewall in between Confluence and its database) and the connection to the database cannot be established. If your network is down, or a new firewall is installed, consult with your System Administrator for further troubleshooting.\r\n 5. **Your database password has expired.** If your password has expired (and you will only discover this if you try to connect to your database via your database client or an external database tool such as DbVisualizer), update your password. You may want to deactivate expiring passwords for your Confluence database user to prevent the problem from happening again. Be sure to consult with your DBA about this.\r\n 6. **Postgres specific issue**: the Postgres encryption method has been altered or changed when migrating or upgrading Confluence, the environment, etc. Check the pg_hba.conf file. If the method is set to ident change it to md5.\r\n 7. **MySQL specific issue**: there are too many connection requests that triggered MySQL server to block Confluence from making any requests. See this MySQL article for resolution.\r\n\r\nSource: https://confluence.atlassian.com/confkb/connections-could-not-be-acquired-from-the-underlying-database-104825087.html\r\n\r\n\r\n  [1]: https://confluence.atlassian.com\r\n","title":"c3p0 getConnection() throws exception: A ResourcePool could not acquire a resource from its primary factory or source","body":"<p>I found the following list of causes and resolutions which helped me solve the problem. Might also help others:</p>\n<ol>\n<li><strong>The database configuration details you entered are incorrect or have changed</strong>. For example, the database name or database username/password for your Confluence database. Confirm that the database username, password, and connection URL in /confluence.cfg.xml are incorrect, and if not update them accordingly.</li>\n<li><strong>The URL for the database is incorrect</strong>. For example, if the database connection is jdbc:mysql://yma/confluence?autoReconnect=true, does the host 'yma' exist and is the database server installed on 'yma'? Check /confluence.cfg.xml to find this entry.</li>\n<li><strong>The database server is not running</strong>. If your database server is down, restart it and check the logs to see why it had failed or stopped.</li>\n<li><strong>The network is down</strong> (or there is a firewall in between Confluence and its database) and the connection to the database cannot be established. If your network is down, or a new firewall is installed, consult with your System Administrator for further troubleshooting.</li>\n<li><strong>Your database password has expired.</strong> If your password has expired (and you will only discover this if you try to connect to your database via your database client or an external database tool such as DbVisualizer), update your password. You may want to deactivate expiring passwords for your Confluence database user to prevent the problem from happening again. Be sure to consult with your DBA about this.</li>\n<li><strong>Postgres specific issue</strong>: the Postgres encryption method has been altered or changed when migrating or upgrading Confluence, the environment, etc. Check the pg_hba.conf file. If the method is set to ident change it to md5.</li>\n<li><strong>MySQL specific issue</strong>: there are too many connection requests that triggered MySQL server to block Confluence from making any requests. See this MySQL article for resolution.</li>\n</ol>\n<p>Source: <a href=\"https://confluence.atlassian.com/confkb/connections-could-not-be-acquired-from-the-underlying-database-104825087.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/confkb/connections-could-not-be-acquired-from-the-underlying-database-104825087.html</a></p>\n"}],"owner":{"account_id":1210340,"reputation":1432,"user_id":1179018,"accept_rate":41,"display_name":"scabbage"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15257,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1695031555,"creation_date":1353448161,"question_id":13482803,"body_markdown":"We have a [Hibernate + c3p0 + MySQL] config for our project. We are hitting the following exception:\r\n\r\n    com.mchange.v2.resourcepool.CannotAcquireResourceException: A ResourcePool could not acquire a resource from its primary factory or source.\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.awaitAvailable(BasicResourcePool.java:1319) ~[c3p0-0.9.1.2.jar:0.9.1.2]\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.prelimCheckoutResource(BasicResourcePool.java:557) ~[c3p0-0.9.1.2.jar:0.9.1.2]\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:477) ~[c3p0-0.9.1.2.jar:0.9.1.2]\r\n    \tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:525) ~[c3p0-0.9.1.2.jar:0.9.1.2]\r\n    Wrapped by: java.sql.SQLException: Connections could not be acquired from the underlying database!\r\n    \tat com.mchange.v2.sql.SqlUtils.toSQLException(SqlUtils.java:106) ~[c3p0-0.9.1.2.jar:0.9.1.2]\r\n    \tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:529) ~[c3p0-0.9.1.2.jar:0.9.1.2]\r\n    \tat com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource.getConnection(AbstractPoolBackedDataSource.java:128) ~[c3p0-0.9.1.2.jar:0.9.1.2]\r\n    \tat org.hibernate.service.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:141) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    Wrapped by: org.hibernate.exception.GenericJDBCException: Could not open connection\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:52) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:160) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1263) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:399) ~[spring-orm-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n    Wrapped by: org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Could not open connection\r\n    \tat org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:440) ~[spring-orm-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371) ~[spring-tx-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:336) ~[spring-tx-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105) ~[spring-tx-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172) ~[spring-aop-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202) ~[spring-aop-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n    \tat $Proxy28.messageExists(Unknown Source) ~[na:na]\r\n\r\nOur c3p0 config:\r\n\r\n    &lt;bean id=&quot;provDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n    …\r\n            &lt;property name=&quot;acquireIncrement&quot; value=&quot;1&quot; /&gt;\r\n            &lt;property name=&quot;idleConnectionTestPeriod&quot; value=&quot;100&quot;/&gt;\r\n            &lt;property name=&quot;minPoolSize&quot; value=&quot;5&quot; /&gt;\r\n            &lt;property name=&quot;maxPoolSize&quot; value=&quot;50&quot; /&gt;\r\n            &lt;property name=&quot;maxIdleTime&quot; value=&quot;1800&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nNote that we also have another similar c3p0 datasource configured on top of this MySQL instance.\r\n\r\nCan anyone give me some suggestions on how to debug this?","title":"c3p0 getConnection() throws exception: A ResourcePool could not acquire a resource from its primary factory or source","body":"<p>We have a [Hibernate + c3p0 + MySQL] config for our project. We are hitting the following exception:</p>\n<pre><code>com.mchange.v2.resourcepool.CannotAcquireResourceException: A ResourcePool could not acquire a resource from its primary factory or source.\n    at com.mchange.v2.resourcepool.BasicResourcePool.awaitAvailable(BasicResourcePool.java:1319) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at com.mchange.v2.resourcepool.BasicResourcePool.prelimCheckoutResource(BasicResourcePool.java:557) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:477) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:525) ~[c3p0-0.9.1.2.jar:0.9.1.2]\nWrapped by: java.sql.SQLException: Connections could not be acquired from the underlying database!\n    at com.mchange.v2.sql.SqlUtils.toSQLException(SqlUtils.java:106) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:529) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource.getConnection(AbstractPoolBackedDataSource.java:128) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at org.hibernate.service.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:141) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\nWrapped by: org.hibernate.exception.GenericJDBCException: Could not open connection\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:52) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:160) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1263) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:399) ~[spring-orm-3.1.2.RELEASE.jar:3.1.2.RELEASE]\nWrapped by: org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Could not open connection\n    at org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:440) ~[spring-orm-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371) ~[spring-tx-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:336) ~[spring-tx-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105) ~[spring-tx-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172) ~[spring-aop-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202) ~[spring-aop-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at $Proxy28.messageExists(Unknown Source) ~[na:na]\n</code></pre>\n<p>Our c3p0 config:</p>\n<pre><code>&lt;bean id=&quot;provDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\n…\n        &lt;property name=&quot;acquireIncrement&quot; value=&quot;1&quot; /&gt;\n        &lt;property name=&quot;idleConnectionTestPeriod&quot; value=&quot;100&quot;/&gt;\n        &lt;property name=&quot;minPoolSize&quot; value=&quot;5&quot; /&gt;\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;50&quot; /&gt;\n        &lt;property name=&quot;maxIdleTime&quot; value=&quot;1800&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Note that we also have another similar c3p0 datasource configured on top of this MySQL instance.</p>\n<p>Can anyone give me some suggestions on how to debug this?</p>\n"},{"tags":["java","compression","dicom","dcm4che"],"answers":[{"tags":[],"owner":{"account_id":1278589,"reputation":28407,"user_id":1233251,"accept_rate":90,"display_name":"E_net4"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695030454,"creation_date":1694597919,"answer_id":77095888,"question_id":77020127,"body_markdown":"Pixel data decoding and encoding in dcm4che is provided through the [Java Image I/O API](https://docs.oracle.com/javase/8/docs/technotes/guides/imageio/spec/imageio_guideTOC.fm.html). A set of image readers and writers are automatically recorded so that it supports reading DICOM files, as well as translating a supported set of transfer syntaxes.\r\n\r\nThe easiest way to obtain an image is through [`ImageIO`](https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html):\r\n\r\n```java\r\nBufferedImage img = ImageIO.read(file);\r\n```\r\n\r\nThe outcome is a rendered form of the pixel data, including Modality LUT and VOI LUT. You can skip these transformations by requesting the raster instead. This may require you to fill in some blanks if you want to turn it into a rendered image, but it is closer to a native pixel data form.\r\n\r\n```java\r\ntry (DicomInputStream dis = new DicomInputStream(file)) {\r\n    ImageReader reader = ImageIO.getImageReadersByFormatName(&quot;DICOM&quot;).next();\r\n    try (ImageInputStream iis = ImageIO.createImageInputStream(dis)) {\r\n        reader.setInput(iis, false);\r\n        ImageReadParam param = reader.getDefaultReadParam();\r\n        // note that a file may have multiple frames.\r\n        // set frame number depending on your use case\r\n        int frame = 0;\r\n        Raster raster = reader.readRaster(frame, param);\r\n    }\r\n}\r\n```\r\n\r\nThis is supported by dcm4che since at least v2, although the details on how to register custom image readers and writers depending on transfer syntax may differ.\r\n\r\n&gt; Because of that I&#39;m sure the image is compressed/encapsulated (not sure about the difference) and I want to unzip it.\r\n\r\nYou can find the difference between native pixel data and encapsulated pixel data in the standard, [part 5, section 8.2](https://dicom.nema.org/medical/dicom/current/output/chtml/part05/sect_8.2.html). In short, _Pixel Data_ comprising a list of fragments means that the pixel data is encapsulated, and the transfer syntax dictates how the pixels are encoded in them.\r\n\r\nSee also:\r\n\r\n- https://stackoverflow.com/questions/40585011/imageio-read-is-sporadically-reading-an-image-file ","title":"How do I decompress/unencapsulate Pixel Data fragments using dcm4che?","body":"<p>Pixel data decoding and encoding in dcm4che is provided through the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/imageio/spec/imageio_guideTOC.fm.html\" rel=\"nofollow noreferrer\">Java Image I/O API</a>. A set of image readers and writers are automatically recorded so that it supports reading DICOM files, as well as translating a supported set of transfer syntaxes.</p>\n<p>The easiest way to obtain an image is through <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html\" rel=\"nofollow noreferrer\"><code>ImageIO</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage img = ImageIO.read(file);\n</code></pre>\n<p>The outcome is a rendered form of the pixel data, including Modality LUT and VOI LUT. You can skip these transformations by requesting the raster instead. This may require you to fill in some blanks if you want to turn it into a rendered image, but it is closer to a native pixel data form.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (DicomInputStream dis = new DicomInputStream(file)) {\n    ImageReader reader = ImageIO.getImageReadersByFormatName(&quot;DICOM&quot;).next();\n    try (ImageInputStream iis = ImageIO.createImageInputStream(dis)) {\n        reader.setInput(iis, false);\n        ImageReadParam param = reader.getDefaultReadParam();\n        // note that a file may have multiple frames.\n        // set frame number depending on your use case\n        int frame = 0;\n        Raster raster = reader.readRaster(frame, param);\n    }\n}\n</code></pre>\n<p>This is supported by dcm4che since at least v2, although the details on how to register custom image readers and writers depending on transfer syntax may differ.</p>\n<blockquote>\n<p>Because of that I'm sure the image is compressed/encapsulated (not sure about the difference) and I want to unzip it.</p>\n</blockquote>\n<p>You can find the difference between native pixel data and encapsulated pixel data in the standard, <a href=\"https://dicom.nema.org/medical/dicom/current/output/chtml/part05/sect_8.2.html\" rel=\"nofollow noreferrer\">part 5, section 8.2</a>. In short, <em>Pixel Data</em> comprising a list of fragments means that the pixel data is encapsulated, and the transfer syntax dictates how the pixels are encoded in them.</p>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40585011/imageio-read-is-sporadically-reading-an-image-file\">ImageIO.read is sporadically reading an image file</a></li>\n</ul>\n"}],"owner":{"account_id":18823488,"reputation":11,"user_id":15401415,"display_name":"Salu Ramos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695030454,"creation_date":1693534115,"question_id":77020127,"body_markdown":"When reading the _Pixel Data_ with dcm4che, it returns an object of type `Fragment`, which has a byte array with a size of 219576 bytes, however the image size is 512x512 with each pixel occupying 16 bits, so the expected would be 524288 bytes if the image was not compressed. Because of that I&#39;m sure the image is compressed/encapsulated (not sure about the difference) and I want to unzip it.\r\n\r\nHow could I transform that 219576 bytes in expected 524288 bytes? (I want to have access every pixel color)\r\n\r\n    File file = new File(filename);\r\n    DicomInputStream dis = new DicomInputStream(file);\r\n    Attributes attrs = dis.readDataset();\r\n    Object image = attrs.getValue(Tag.PixelData);\r\n    if (image.getClass() == Fragments.class) {\r\n        //decompress here\r\n    }\r\n    dis.close();\r\n\r\nThis is the DICOM file I&#39;m working and his tags and values: https://pastecode.io/s/ofmt5uf1\r\n\r\n```none\r\n&quot;0008|0021&quot; -&gt; &quot;20230619&quot;\r\n&quot;0008|0020&quot; -&gt; &quot;20230619&quot;\r\n&quot;0008|3010&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900000089&quot;\r\n&quot;0008|0023&quot; -&gt; &quot;20230619&quot;\r\n&quot;0008|0022&quot; -&gt; &quot;20230619&quot;\r\n&quot;0029|1024&quot; -&gt; &quot;Spine &quot;\r\n&quot;0029|1022&quot; -&gt; &quot;16&quot;\r\n&quot;0029|1028&quot; -&gt; &quot;0\\48.3151&quot;\r\n&quot;0010|0020&quot; -&gt; &quot;72918 &quot;\r\n&quot;0029|1027&quot; -&gt; &quot;150.63&quot;\r\n&quot;0029|1026&quot; -&gt; &quot;150.63&quot;\r\n&quot;0018|9323&quot; -&gt; &quot;ELLIP_ZEC &quot;\r\n&quot;0020|1041&quot; -&gt; &quot;-1240.06&quot;\r\n&quot;0018|1200&quot; -&gt; &quot;20230619&quot;\r\n&quot;0020|1040&quot; -&gt; &quot;&quot;\r\n&quot;0018|1201&quot; -&gt; &quot;081456.000000 &quot;\r\n&quot;0018|1160&quot; -&gt; &quot;None&quot;\r\n&quot;0029|100f&quot; -&gt; &quot;1&quot;\r\n&quot;0029|100e&quot; -&gt; &quot;UNDEFINED &quot;\r\n&quot;0029|100d&quot; -&gt; &quot;FFSNONE &quot;\r\n&quot;0040|0245&quot; -&gt; &quot;093956.911773 &quot;\r\n&quot;0040|0244&quot; -&gt; &quot;20230619&quot;\r\n&quot;0029|1014&quot; -&gt; &quot;FALSE &quot;\r\n&quot;0029|1013&quot; -&gt; &quot;FALSE &quot;\r\n&quot;0029|1011&quot; -&gt; &quot;SAFIRE2 &quot;\r\n&quot;0008|0016&quot; -&gt; &quot;1.2.840.10008.5.1.4.1.1.2&quot;\r\n&quot;0029|1018&quot; -&gt; &quot;FALSE &quot;\r\n&quot;0029|1017&quot; -&gt; &quot;FALSE &quot;\r\n&quot;0008|0018&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900001296&quot;\r\n&quot;0029|1016&quot; -&gt; &quot;FALSE &quot;\r\n&quot;0029|1015&quot; -&gt; &quot;FALSE &quot;\r\n&quot;0010|0010&quot; -&gt; &quot;PIETRO LEVY SETUBAL &quot;\r\n&quot;0018|1210&quot; -&gt; &quot;Br60f\\3 &quot;\r\n&quot;0028|0030&quot; -&gt; &quot;0.294203125\\0.294203125 &quot;\r\n&quot;0029|1019&quot; -&gt; &quot;0&quot;\r\n&quot;0021|0010&quot; -&gt; &quot;SIEMENS MED &quot;\r\n&quot;0018|1170&quot; -&gt; &quot;8 &quot;\r\n&quot;0008|0090&quot; -&gt; &quot;&quot;\r\n&quot;0019|0010&quot; -&gt; &quot;SIEMENS CT EXAM APP SHARED&quot;\r\n&quot;0008|1010&quot; -&gt; &quot;CT107544&quot;\r\n&quot;0029|1043&quot; -&gt; &quot;3&quot;\r\n&quot;0028|0301&quot; -&gt; &quot;NO&quot;\r\n&quot;0029|1046&quot; -&gt; &quot;0.5&quot;\r\n&quot;0008|0201&quot; -&gt; &quot;-0300 &quot;\r\n&quot;0029|1045&quot; -&gt; &quot;0.4&quot;\r\n&quot;0029|1048&quot; -&gt; &quot;NONE&quot;\r\n&quot;0018|9345&quot; -&gt; &quot;10.8698&quot;\r\n&quot;0020|0052&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900000087&quot;\r\n&quot;0029|1209&quot; -&gt; &quot;VA10A 971201&quot;\r\n&quot;0018|1100&quot; -&gt; &quot;150.632589502953&quot;\r\n&quot;0029|1208&quot; -&gt; &quot;SOM 5 &quot;\r\n&quot;0018|0015&quot; -&gt; &quot;SPINE &quot;\r\n&quot;0029|102a&quot; -&gt; &quot;CHILD &quot;\r\n&quot;0008|002a&quot; -&gt; &quot;20230619094136.916000 &quot;\r\n&quot;0029|102e&quot; -&gt; &quot;FALSE &quot;\r\n&quot;0029|102c&quot; -&gt; &quot;16&quot;\r\n&quot;0029|102b&quot; -&gt; &quot;3&quot;\r\n&quot;0018|0090&quot; -&gt; &quot;499.799988&quot;\r\n&quot;0029|102f&quot; -&gt; &quot;c0bf3ca5-a91b-43d9-b4ec-483d516b3e38&quot;\r\n&quot;0008|0030&quot; -&gt; &quot;093956.911773 &quot;\r\n&quot;0029|1031&quot; -&gt; &quot;450&quot;\r\n&quot;0008|0032&quot; -&gt; &quot;094136.916000 &quot;\r\n&quot;0029|1030&quot; -&gt; &quot;ALGOSLIDE &quot;\r\n&quot;0008|0031&quot; -&gt; &quot;094156.128805 &quot;\r\n&quot;0008|0033&quot; -&gt; &quot;094136.916000 &quot;\r\n&quot;0028|0011&quot; -&gt; &quot;512&quot;\r\n&quot;0029|1039&quot; -&gt; &quot;TRUE&quot;\r\n&quot;0029|1038&quot; -&gt; &quot;-1240.06&quot;\r\n&quot;0028|0010&quot; -&gt; &quot;512&quot;\r\n&quot;0029|1037&quot; -&gt; &quot;1000&quot;\r\n&quot;0018|1110&quot; -&gt; &quot;983 &quot;\r\n&quot;0018|1111&quot; -&gt; &quot;535 &quot;\r\n&quot;0018|1190&quot; -&gt; &quot;1.6\\1.6 &quot;\r\n&quot;0029|101d&quot; -&gt; &quot;134&quot;\r\n&quot;0029|101b&quot; -&gt; &quot;0&quot;\r\n&quot;0029|101a&quot; -&gt; &quot;ITR_Off &quot;\r\n&quot;0029|101f&quot; -&gt; &quot;0&quot;\r\n&quot;0029|101e&quot; -&gt; &quot;16&quot;\r\n&quot;0028|0004&quot; -&gt; &quot;MONOCHROME2 &quot;\r\n&quot;0029|0012&quot; -&gt; &quot;SIEMENS CSA HEADER&quot;\r\n&quot;0028|0002&quot; -&gt; &quot;1&quot;\r\n&quot;0029|0010&quot; -&gt; &quot;SIEMENS CT EXAM IMAGE &quot;\r\n&quot;0029|0011&quot; -&gt; &quot;SIEMENS CT EXAM EQUIPMENT &quot;\r\n&quot;0010|1030&quot; -&gt; &quot;&quot;\r\n&quot;0029|1106&quot; -&gt; &quot;3.84984&quot;\r\n&quot;0010|2000&quot; -&gt; &quot;&quot;\r\n&quot;0020|0032&quot; -&gt; &quot;-75.1688984375\\-132.8538984375\\-1240.06 &quot;\r\n&quot;0028|1054&quot; -&gt; &quot;HU&quot;\r\n&quot;0029|1104&quot; -&gt; &quot;435234&quot;\r\n&quot;0018|1120&quot; -&gt; &quot;0 &quot;\r\n&quot;0028|1055&quot; -&gt; &quot;&quot;\r\n&quot;0018|1000&quot; -&gt; &quot;107544&quot;\r\n&quot;0028|1052&quot; -&gt; &quot;-8192 &quot;\r\n&quot;0028|1053&quot; -&gt; &quot;1 &quot;\r\n&quot;0029|1109&quot; -&gt; &quot;P81A&quot;\r\n&quot;0028|1050&quot; -&gt; &quot;450 &quot;\r\n&quot;0028|1051&quot; -&gt; &quot;1500&quot;\r\n&quot;0021|1011&quot; -&gt; &quot;0\\48.3151045659296&quot;\r\n&quot;0029|104f&quot; -&gt; &quot;Bone&quot;\r\n&quot;0029|104e&quot; -&gt; &quot;Manual&quot;\r\n&quot;0008|0060&quot; -&gt; &quot;CT&quot;\r\n&quot;0029|1052&quot; -&gt; &quot;130.0 kV&quot;\r\n&quot;0020|4000&quot; -&gt; &quot;&quot;\r\n&quot;0029|1051&quot; -&gt; &quot;80.0 kV &quot;\r\n&quot;0010|2110&quot; -&gt; &quot;&quot;\r\n&quot;0018|1130&quot; -&gt; &quot;106.000 &quot;\r\n&quot;0010|1020&quot; -&gt; &quot;&quot;\r\n&quot;0029|103b&quot; -&gt; &quot;213&quot;\r\n&quot;0020|0037&quot; -&gt; &quot;1\\0\\0\\0\\1\\0 &quot;\r\n&quot;0029|1050&quot; -&gt; &quot;236.0 mAs &quot;\r\n&quot;0008|0050&quot; -&gt; &quot;188828&quot;\r\n&quot;0028|0107&quot; -&gt; &quot;10006&quot;\r\n&quot;0028|0106&quot; -&gt; &quot;6869&quot;\r\n&quot;0018|9309&quot; -&gt; &quot;8.9&quot;\r\n&quot;0028|0103&quot; -&gt; &quot;0&quot;\r\n&quot;0028|0101&quot; -&gt; &quot;16&quot;\r\n&quot;0018|0050&quot; -&gt; &quot;1 &quot;\r\n&quot;0028|0102&quot; -&gt; &quot;15&quot;\r\n&quot;0008|0005&quot; -&gt; &quot;ISO_IR 100&quot;\r\n&quot;0010|0040&quot; -&gt; &quot;M &quot;\r\n&quot;0018|9305&quot; -&gt; &quot;1&quot;\r\n&quot;0020|0012&quot; -&gt; &quot;200 &quot;\r\n&quot;0029|1007&quot; -&gt; &quot;1000&quot;\r\n&quot;0018|1140&quot; -&gt; &quot;CW&quot;\r\n&quot;0018|9306&quot; -&gt; &quot;0.7&quot;\r\n&quot;0020|0011&quot; -&gt; &quot;3 &quot;\r\n&quot;0028|0100&quot; -&gt; &quot;16&quot;\r\n&quot;0029|1006&quot; -&gt; &quot;1587&quot;\r\n&quot;0010|1010&quot; -&gt; &quot;007Y&quot;\r\n&quot;0018|1020&quot; -&gt; &quot;syngo CT VA30A&quot;\r\n&quot;0018|9307&quot; -&gt; &quot;11.2&quot;\r\n&quot;0020|0010&quot; -&gt; &quot;230619085613&quot;\r\n&quot;0018|5100&quot; -&gt; &quot;HFS &quot;\r\n&quot;0008|0008&quot; -&gt; &quot;ORIGINAL\\PRIMARY\\AXIAL\\CT_SOM5 SPI&quot;\r\n&quot;0029|1009&quot; -&gt; &quot;STANDARD&quot;\r\n&quot;0008|103e&quot; -&gt; &quot;VOL OSSO&quot;\r\n&quot;0020|000e&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900000197&quot;\r\n&quot;0020|000d&quot; -&gt; &quot;1.2.826.1.1.3680043.2.1396.11123.88282918.2306190855&quot;\r\n&quot;0018|1150&quot; -&gt; &quot;1250&quot;\r\n&quot;0018|1030&quot; -&gt; &quot;COLUNA TORACICA-LOMBAR&quot;\r\n&quot;0018|1151&quot; -&gt; &quot;107 &quot;\r\n&quot;0018|1152&quot; -&gt; &quot;134 &quot;\r\n&quot;0018|9318&quot; -&gt; &quot;0\\-57.685\\-1240.06&quot;\r\n&quot;0010|0030&quot; -&gt; &quot;20160315&quot;\r\n&quot;0028|2110&quot; -&gt; &quot;00&quot;\r\n&quot;0018|9313&quot; -&gt; &quot;0\\-106\\-1240.06&quot;\r\n&quot;0018|9310&quot; -&gt; &quot;8.96&quot;\r\n&quot;0018|9311&quot; -&gt; &quot;0.8&quot;\r\n&quot;0020|0013&quot; -&gt; &quot;549 &quot;\r\n&quot;0018|0060&quot; -&gt; &quot;110 &quot;\r\n&quot;0019|1002&quot; -&gt; &quot;283&quot;\r\n&quot;0019|1003&quot; -&gt; &quot;Br60fS3n0.:02644:0HhAAL1aaA &quot;\r\n&quot;0008|0070&quot; -&gt; &quot;Siemens Healthineers&quot;\r\n&quot;0008|1040&quot; -&gt; &quot;Centro de Imagem&quot;\r\n```","title":"How do I decompress/unencapsulate Pixel Data fragments using dcm4che?","body":"<p>When reading the <em>Pixel Data</em> with dcm4che, it returns an object of type <code>Fragment</code>, which has a byte array with a size of 219576 bytes, however the image size is 512x512 with each pixel occupying 16 bits, so the expected would be 524288 bytes if the image was not compressed. Because of that I'm sure the image is compressed/encapsulated (not sure about the difference) and I want to unzip it.</p>\n<p>How could I transform that 219576 bytes in expected 524288 bytes? (I want to have access every pixel color)</p>\n<pre><code>File file = new File(filename);\nDicomInputStream dis = new DicomInputStream(file);\nAttributes attrs = dis.readDataset();\nObject image = attrs.getValue(Tag.PixelData);\nif (image.getClass() == Fragments.class) {\n    //decompress here\n}\ndis.close();\n</code></pre>\n<p>This is the DICOM file I'm working and his tags and values: <a href=\"https://pastecode.io/s/ofmt5uf1\" rel=\"nofollow noreferrer\">https://pastecode.io/s/ofmt5uf1</a></p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;0008|0021&quot; -&gt; &quot;20230619&quot;\n&quot;0008|0020&quot; -&gt; &quot;20230619&quot;\n&quot;0008|3010&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900000089&quot;\n&quot;0008|0023&quot; -&gt; &quot;20230619&quot;\n&quot;0008|0022&quot; -&gt; &quot;20230619&quot;\n&quot;0029|1024&quot; -&gt; &quot;Spine &quot;\n&quot;0029|1022&quot; -&gt; &quot;16&quot;\n&quot;0029|1028&quot; -&gt; &quot;0\\48.3151&quot;\n&quot;0010|0020&quot; -&gt; &quot;72918 &quot;\n&quot;0029|1027&quot; -&gt; &quot;150.63&quot;\n&quot;0029|1026&quot; -&gt; &quot;150.63&quot;\n&quot;0018|9323&quot; -&gt; &quot;ELLIP_ZEC &quot;\n&quot;0020|1041&quot; -&gt; &quot;-1240.06&quot;\n&quot;0018|1200&quot; -&gt; &quot;20230619&quot;\n&quot;0020|1040&quot; -&gt; &quot;&quot;\n&quot;0018|1201&quot; -&gt; &quot;081456.000000 &quot;\n&quot;0018|1160&quot; -&gt; &quot;None&quot;\n&quot;0029|100f&quot; -&gt; &quot;1&quot;\n&quot;0029|100e&quot; -&gt; &quot;UNDEFINED &quot;\n&quot;0029|100d&quot; -&gt; &quot;FFSNONE &quot;\n&quot;0040|0245&quot; -&gt; &quot;093956.911773 &quot;\n&quot;0040|0244&quot; -&gt; &quot;20230619&quot;\n&quot;0029|1014&quot; -&gt; &quot;FALSE &quot;\n&quot;0029|1013&quot; -&gt; &quot;FALSE &quot;\n&quot;0029|1011&quot; -&gt; &quot;SAFIRE2 &quot;\n&quot;0008|0016&quot; -&gt; &quot;1.2.840.10008.5.1.4.1.1.2&quot;\n&quot;0029|1018&quot; -&gt; &quot;FALSE &quot;\n&quot;0029|1017&quot; -&gt; &quot;FALSE &quot;\n&quot;0008|0018&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900001296&quot;\n&quot;0029|1016&quot; -&gt; &quot;FALSE &quot;\n&quot;0029|1015&quot; -&gt; &quot;FALSE &quot;\n&quot;0010|0010&quot; -&gt; &quot;PIETRO LEVY SETUBAL &quot;\n&quot;0018|1210&quot; -&gt; &quot;Br60f\\3 &quot;\n&quot;0028|0030&quot; -&gt; &quot;0.294203125\\0.294203125 &quot;\n&quot;0029|1019&quot; -&gt; &quot;0&quot;\n&quot;0021|0010&quot; -&gt; &quot;SIEMENS MED &quot;\n&quot;0018|1170&quot; -&gt; &quot;8 &quot;\n&quot;0008|0090&quot; -&gt; &quot;&quot;\n&quot;0019|0010&quot; -&gt; &quot;SIEMENS CT EXAM APP SHARED&quot;\n&quot;0008|1010&quot; -&gt; &quot;CT107544&quot;\n&quot;0029|1043&quot; -&gt; &quot;3&quot;\n&quot;0028|0301&quot; -&gt; &quot;NO&quot;\n&quot;0029|1046&quot; -&gt; &quot;0.5&quot;\n&quot;0008|0201&quot; -&gt; &quot;-0300 &quot;\n&quot;0029|1045&quot; -&gt; &quot;0.4&quot;\n&quot;0029|1048&quot; -&gt; &quot;NONE&quot;\n&quot;0018|9345&quot; -&gt; &quot;10.8698&quot;\n&quot;0020|0052&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900000087&quot;\n&quot;0029|1209&quot; -&gt; &quot;VA10A 971201&quot;\n&quot;0018|1100&quot; -&gt; &quot;150.632589502953&quot;\n&quot;0029|1208&quot; -&gt; &quot;SOM 5 &quot;\n&quot;0018|0015&quot; -&gt; &quot;SPINE &quot;\n&quot;0029|102a&quot; -&gt; &quot;CHILD &quot;\n&quot;0008|002a&quot; -&gt; &quot;20230619094136.916000 &quot;\n&quot;0029|102e&quot; -&gt; &quot;FALSE &quot;\n&quot;0029|102c&quot; -&gt; &quot;16&quot;\n&quot;0029|102b&quot; -&gt; &quot;3&quot;\n&quot;0018|0090&quot; -&gt; &quot;499.799988&quot;\n&quot;0029|102f&quot; -&gt; &quot;c0bf3ca5-a91b-43d9-b4ec-483d516b3e38&quot;\n&quot;0008|0030&quot; -&gt; &quot;093956.911773 &quot;\n&quot;0029|1031&quot; -&gt; &quot;450&quot;\n&quot;0008|0032&quot; -&gt; &quot;094136.916000 &quot;\n&quot;0029|1030&quot; -&gt; &quot;ALGOSLIDE &quot;\n&quot;0008|0031&quot; -&gt; &quot;094156.128805 &quot;\n&quot;0008|0033&quot; -&gt; &quot;094136.916000 &quot;\n&quot;0028|0011&quot; -&gt; &quot;512&quot;\n&quot;0029|1039&quot; -&gt; &quot;TRUE&quot;\n&quot;0029|1038&quot; -&gt; &quot;-1240.06&quot;\n&quot;0028|0010&quot; -&gt; &quot;512&quot;\n&quot;0029|1037&quot; -&gt; &quot;1000&quot;\n&quot;0018|1110&quot; -&gt; &quot;983 &quot;\n&quot;0018|1111&quot; -&gt; &quot;535 &quot;\n&quot;0018|1190&quot; -&gt; &quot;1.6\\1.6 &quot;\n&quot;0029|101d&quot; -&gt; &quot;134&quot;\n&quot;0029|101b&quot; -&gt; &quot;0&quot;\n&quot;0029|101a&quot; -&gt; &quot;ITR_Off &quot;\n&quot;0029|101f&quot; -&gt; &quot;0&quot;\n&quot;0029|101e&quot; -&gt; &quot;16&quot;\n&quot;0028|0004&quot; -&gt; &quot;MONOCHROME2 &quot;\n&quot;0029|0012&quot; -&gt; &quot;SIEMENS CSA HEADER&quot;\n&quot;0028|0002&quot; -&gt; &quot;1&quot;\n&quot;0029|0010&quot; -&gt; &quot;SIEMENS CT EXAM IMAGE &quot;\n&quot;0029|0011&quot; -&gt; &quot;SIEMENS CT EXAM EQUIPMENT &quot;\n&quot;0010|1030&quot; -&gt; &quot;&quot;\n&quot;0029|1106&quot; -&gt; &quot;3.84984&quot;\n&quot;0010|2000&quot; -&gt; &quot;&quot;\n&quot;0020|0032&quot; -&gt; &quot;-75.1688984375\\-132.8538984375\\-1240.06 &quot;\n&quot;0028|1054&quot; -&gt; &quot;HU&quot;\n&quot;0029|1104&quot; -&gt; &quot;435234&quot;\n&quot;0018|1120&quot; -&gt; &quot;0 &quot;\n&quot;0028|1055&quot; -&gt; &quot;&quot;\n&quot;0018|1000&quot; -&gt; &quot;107544&quot;\n&quot;0028|1052&quot; -&gt; &quot;-8192 &quot;\n&quot;0028|1053&quot; -&gt; &quot;1 &quot;\n&quot;0029|1109&quot; -&gt; &quot;P81A&quot;\n&quot;0028|1050&quot; -&gt; &quot;450 &quot;\n&quot;0028|1051&quot; -&gt; &quot;1500&quot;\n&quot;0021|1011&quot; -&gt; &quot;0\\48.3151045659296&quot;\n&quot;0029|104f&quot; -&gt; &quot;Bone&quot;\n&quot;0029|104e&quot; -&gt; &quot;Manual&quot;\n&quot;0008|0060&quot; -&gt; &quot;CT&quot;\n&quot;0029|1052&quot; -&gt; &quot;130.0 kV&quot;\n&quot;0020|4000&quot; -&gt; &quot;&quot;\n&quot;0029|1051&quot; -&gt; &quot;80.0 kV &quot;\n&quot;0010|2110&quot; -&gt; &quot;&quot;\n&quot;0018|1130&quot; -&gt; &quot;106.000 &quot;\n&quot;0010|1020&quot; -&gt; &quot;&quot;\n&quot;0029|103b&quot; -&gt; &quot;213&quot;\n&quot;0020|0037&quot; -&gt; &quot;1\\0\\0\\0\\1\\0 &quot;\n&quot;0029|1050&quot; -&gt; &quot;236.0 mAs &quot;\n&quot;0008|0050&quot; -&gt; &quot;188828&quot;\n&quot;0028|0107&quot; -&gt; &quot;10006&quot;\n&quot;0028|0106&quot; -&gt; &quot;6869&quot;\n&quot;0018|9309&quot; -&gt; &quot;8.9&quot;\n&quot;0028|0103&quot; -&gt; &quot;0&quot;\n&quot;0028|0101&quot; -&gt; &quot;16&quot;\n&quot;0018|0050&quot; -&gt; &quot;1 &quot;\n&quot;0028|0102&quot; -&gt; &quot;15&quot;\n&quot;0008|0005&quot; -&gt; &quot;ISO_IR 100&quot;\n&quot;0010|0040&quot; -&gt; &quot;M &quot;\n&quot;0018|9305&quot; -&gt; &quot;1&quot;\n&quot;0020|0012&quot; -&gt; &quot;200 &quot;\n&quot;0029|1007&quot; -&gt; &quot;1000&quot;\n&quot;0018|1140&quot; -&gt; &quot;CW&quot;\n&quot;0018|9306&quot; -&gt; &quot;0.7&quot;\n&quot;0020|0011&quot; -&gt; &quot;3 &quot;\n&quot;0028|0100&quot; -&gt; &quot;16&quot;\n&quot;0029|1006&quot; -&gt; &quot;1587&quot;\n&quot;0010|1010&quot; -&gt; &quot;007Y&quot;\n&quot;0018|1020&quot; -&gt; &quot;syngo CT VA30A&quot;\n&quot;0018|9307&quot; -&gt; &quot;11.2&quot;\n&quot;0020|0010&quot; -&gt; &quot;230619085613&quot;\n&quot;0018|5100&quot; -&gt; &quot;HFS &quot;\n&quot;0008|0008&quot; -&gt; &quot;ORIGINAL\\PRIMARY\\AXIAL\\CT_SOM5 SPI&quot;\n&quot;0029|1009&quot; -&gt; &quot;STANDARD&quot;\n&quot;0008|103e&quot; -&gt; &quot;VOL OSSO&quot;\n&quot;0020|000e&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900000197&quot;\n&quot;0020|000d&quot; -&gt; &quot;1.2.826.1.1.3680043.2.1396.11123.88282918.2306190855&quot;\n&quot;0018|1150&quot; -&gt; &quot;1250&quot;\n&quot;0018|1030&quot; -&gt; &quot;COLUNA TORACICA-LOMBAR&quot;\n&quot;0018|1151&quot; -&gt; &quot;107 &quot;\n&quot;0018|1152&quot; -&gt; &quot;134 &quot;\n&quot;0018|9318&quot; -&gt; &quot;0\\-57.685\\-1240.06&quot;\n&quot;0010|0030&quot; -&gt; &quot;20160315&quot;\n&quot;0028|2110&quot; -&gt; &quot;00&quot;\n&quot;0018|9313&quot; -&gt; &quot;0\\-106\\-1240.06&quot;\n&quot;0018|9310&quot; -&gt; &quot;8.96&quot;\n&quot;0018|9311&quot; -&gt; &quot;0.8&quot;\n&quot;0020|0013&quot; -&gt; &quot;549 &quot;\n&quot;0018|0060&quot; -&gt; &quot;110 &quot;\n&quot;0019|1002&quot; -&gt; &quot;283&quot;\n&quot;0019|1003&quot; -&gt; &quot;Br60fS3n0.:02644:0HhAAL1aaA &quot;\n&quot;0008|0070&quot; -&gt; &quot;Siemens Healthineers&quot;\n&quot;0008|1040&quot; -&gt; &quot;Centro de Imagem&quot;\n</code></pre>\n"},{"tags":["java","protocol-buffers","mapstruct","proto3","protobuf-java"],"answers":[{"comments":[{"owner":{"account_id":9736891,"reputation":225,"user_id":7219867,"display_name":"Liso"},"score":3,"creation_date":1532347301,"post_id":51449940,"comment_id":89924856,"body_markdown":"I forgot to write that I already used:\n\n`@Mapper(collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED,\n    nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS)`\n\nThe problem occures ONLY for List&lt;String&gt; because MapStruct would create an object of type ProtocolStringList (instead of String&lt;List&gt;), which is an interface and therefore can&#39;t be used.","body":"I forgot to write that I already used:  <code>@Mapper(collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED,     nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS)</code>  The problem occures ONLY for List&lt;String&gt; because MapStruct would create an object of type ProtocolStringList (instead of String&lt;List&gt;), which is an interface and therefore can&#39;t be used."},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1532368655,"post_id":51449940,"comment_id":89938352,"body_markdown":"Can you update your issue with this information, please. I will update the answer with the fix","body":"Can you update your issue with this information, please. I will update the answer with the fix"},{"owner":{"account_id":10248990,"reputation":118,"user_id":7563899,"display_name":"0xTomato"},"score":1,"creation_date":1618038315,"post_id":51449940,"comment_id":118485699,"body_markdown":"How about from Protobuf to Java POJO?","body":"How about from Protobuf to Java POJO?"},{"owner":{"account_id":4510827,"reputation":1268,"user_id":3667003,"accept_rate":100,"display_name":"Oliver"},"score":0,"creation_date":1652568780,"post_id":51449940,"comment_id":127638340,"body_markdown":"@0xTomato for that, please see: https://stackoverflow.com/a/72244381/3667003","body":"@0xTomato for that, please see: <a href=\"https://stackoverflow.com/a/72244381/3667003\">stackoverflow.com/a/72244381/3667003</a>"}],"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1532368772,"creation_date":1532118614,"answer_id":51449940,"question_id":51416941,"body_markdown":"The problem is that MapStruct will use `getProductsList().addAll()`. In order to avoid this you should use `CollectionMappingStrategy.ADDER_PREFERRED` `collectionMappingStrategy`. Have a look at the [`UserMapper`](https://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-protobuf3/usage/src/main/java/org/mapstruct/example/mapper/UserMapper.java) from the [mapstruct-protobuf3](https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-protobuf3) in the mapstruct examples repo.\r\n\r\nIn a nutshell you need to add:\r\n\r\n\r\n    @Mapper(collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED,\r\n        nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS)\r\n\r\n\r\nto your mapper.\r\n\r\nOne information regarding your builder, in case you are using 1.3.0.Beta1 you won&#39;t need it as there is out of the box support for that in MapStruct now.\r\n\r\nNB: There was a [bug](https://github.com/mapstruct/mapstruct/issues/1338) in MapStruct that was not working correctly with `ProtocolStringList`. This bug has been fixed in 1.3.0.Beta1. If you try with this version it should work (in case your `productList` is a `String`)","title":"Map List&lt;String&gt; with Mapstruct from Java POJO to Protobuf (proto3)","body":"<p>The problem is that MapStruct will use <code>getProductsList().addAll()</code>. In order to avoid this you should use <code>CollectionMappingStrategy.ADDER_PREFERRED</code> <code>collectionMappingStrategy</code>. Have a look at the <a href=\"https://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-protobuf3/usage/src/main/java/org/mapstruct/example/mapper/UserMapper.java\" rel=\"noreferrer\"><code>UserMapper</code></a> from the <a href=\"https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-protobuf3\" rel=\"noreferrer\">mapstruct-protobuf3</a> in the mapstruct examples repo.</p>\n\n<p>In a nutshell you need to add:</p>\n\n<pre><code>@Mapper(collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED,\n    nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS)\n</code></pre>\n\n<p>to your mapper.</p>\n\n<p>One information regarding your builder, in case you are using 1.3.0.Beta1 you won't need it as there is out of the box support for that in MapStruct now.</p>\n\n<p>NB: There was a <a href=\"https://github.com/mapstruct/mapstruct/issues/1338\" rel=\"noreferrer\">bug</a> in MapStruct that was not working correctly with <code>ProtocolStringList</code>. This bug has been fixed in 1.3.0.Beta1. If you try with this version it should work (in case your <code>productList</code> is a <code>String</code>)</p>\n"},{"tags":[],"owner":{"account_id":8637440,"reputation":189,"user_id":6467108,"display_name":"JustK K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695030392,"creation_date":1695030392,"answer_id":77126148,"question_id":51416941,"body_markdown":"I faced with the same issue and solve it like this:\r\n```\r\n    @AfterMapping\r\n    void afterMapping(@MappingTarget ResponseProtobuf.Builder target, Response response) {\r\n       target.addAllProducts(response.getProducts());\r\n    }\r\n```","title":"Map List&lt;String&gt; with Mapstruct from Java POJO to Protobuf (proto3)","body":"<p>I faced with the same issue and solve it like this:</p>\n<pre><code>    @AfterMapping\n    void afterMapping(@MappingTarget ResponseProtobuf.Builder target, Response response) {\n       target.addAllProducts(response.getProducts());\n    }\n</code></pre>\n"}],"owner":{"account_id":9736891,"reputation":225,"user_id":7219867,"display_name":"Liso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8626,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":51449940,"answer_count":2,"score":9,"last_activity_date":1695030392,"creation_date":1531985884,"question_id":51416941,"body_markdown":"I&#39;m trying to map some POJOs from Java to Protobuf (proto3). Some of them contain Lists. While mapping lists with POJOs (for example List&lt;SpecialPojo&gt;) is no problem, I&#39;m getting a UnsupportedOperationException. \r\n\r\nExample with `List&lt;Product&gt;` (this works corrctly):\r\n\r\n    ProductProtobuf.Builder map(Product product);\r\n\r\n    @Mapping(target = &quot;productsList&quot;, source = &quot;products&quot;)\r\n    ResponseProtobuf.Builder map(Response response);\r\n\r\nExample with `List&lt;String&gt;` (this doesn&#39;t work):\r\n\r\n    @Mapping(target = &quot;usersList&quot;, source = &quot;users&quot;)\r\n    ResponseProtobuf.Builder map(Response response);\r\n\r\n\r\nAdditionally, I have some Mapper for builder:\r\n\r\n    public ResponseProtobuf.Builder responseBuilder() {\r\n\t\treturn ResponseProtobuf.newBuilder();\r\n\t}\r\n\r\n    public ProductProtobuf build(ProductProtobuf.Builder builder) {\r\n\t\treturn builder.build();\r\n\t}","title":"Map List&lt;String&gt; with Mapstruct from Java POJO to Protobuf (proto3)","body":"<p>I'm trying to map some POJOs from Java to Protobuf (proto3). Some of them contain Lists. While mapping lists with POJOs (for example List) is no problem, I'm getting a UnsupportedOperationException. </p>\n\n<p>Example with <code>List&lt;Product&gt;</code> (this works corrctly):</p>\n\n<pre><code>ProductProtobuf.Builder map(Product product);\n\n@Mapping(target = \"productsList\", source = \"products\")\nResponseProtobuf.Builder map(Response response);\n</code></pre>\n\n<p>Example with <code>List&lt;String&gt;</code> (this doesn't work):</p>\n\n<pre><code>@Mapping(target = \"usersList\", source = \"users\")\nResponseProtobuf.Builder map(Response response);\n</code></pre>\n\n<p>Additionally, I have some Mapper for builder:</p>\n\n<pre><code>public ResponseProtobuf.Builder responseBuilder() {\n    return ResponseProtobuf.newBuilder();\n}\n\npublic ProductProtobuf build(ProductProtobuf.Builder builder) {\n    return builder.build();\n}\n</code></pre>\n"},{"tags":["java","jcreator"],"comments":[{"owner":{"account_id":3251,"reputation":19567,"user_id":4665,"accept_rate":89,"display_name":"Jon P"},"score":0,"creation_date":1695008131,"post_id":77124400,"comment_id":135961729,"body_markdown":"Java and Javascript are not interchangeable.  This looks more like Java","body":"Java and Javascript are not interchangeable.  This looks more like Java"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1695014215,"post_id":77124400,"comment_id":135962154,"body_markdown":"Please indent your code correctly. It will make it much easier for you to see errors. Your IDE should do that for you if you ask it.","body":"Please indent your code correctly. It will make it much easier for you to see errors. Your IDE should do that for you if you ask it."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695015451,"post_id":77124400,"comment_id":135962270,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1695016952,"post_id":77124400,"comment_id":135962417,"body_markdown":"Have you run your code under the debugger and stepped through it? That&#39;s a good way to help you understand what it is doing.","body":"Have you run your code under the debugger and stepped through it? That&#39;s a good way to help you understand what it is doing."},{"owner":{"account_id":29384482,"reputation":11,"user_id":22514185,"display_name":"Charles Glenn Naria"},"score":0,"creation_date":1695017801,"post_id":77124400,"comment_id":135962513,"body_markdown":"I dont really know how to use the debugging tool","body":"I dont really know how to use the debugging tool"}],"answers":[{"comments":[{"owner":{"account_id":29384482,"reputation":11,"user_id":22514185,"display_name":"Charles Glenn Naria"},"score":0,"creation_date":1695015501,"post_id":77124746,"comment_id":135962275,"body_markdown":"can you fix it in my code, because it is too confusing for me, thank you","body":"can you fix it in my code, because it is too confusing for me, thank you"},{"owner":{"account_id":21224895,"reputation":328,"user_id":15610766,"display_name":"Dolfinwu"},"score":0,"creation_date":1695021429,"post_id":77124746,"comment_id":135963084,"body_markdown":"@CharlesGlennNaria I documented where you can insert your code.","body":"@CharlesGlennNaria I documented where you can insert your code."}],"tags":[],"owner":{"account_id":21224895,"reputation":328,"user_id":15610766,"display_name":"Dolfinwu"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695014901,"creation_date":1695014901,"answer_id":77124746,"question_id":77124400,"body_markdown":"If you want to implement a way to return to the menu after completing an operation, this is what I would do:\r\n\r\n1. Define a `boolean` variable to control the menu loop. You can use `true` to keep the menu running until the user wants to exit.\r\n\r\n```java\r\nboolean isRunning = true;\r\n```\r\n\r\n2. Then put the entire menu system in a `while` loop to keep the menu active.\r\n\r\n```java\r\nwhile (isRunning) {\r\n    // Menu code\r\n}\r\n```\r\n\r\n3. When the user selects an option (e.g., &quot;1&quot; for Biography or &quot;2&quot; for Calculator), you can add an additional loop to handle the specific operation and return to the main menu \r\n\r\nFor biography:\r\n\r\n\r\n```java\r\nif (number.equals(&quot;1&quot;)) {\r\n    // Biography code\r\n\r\n    // After the executino above, add a loop to ask if the user wants to return to the main menu\r\n    System.out.print(&quot;Return to the main menu? (yes/no): &quot;);\r\n    String returnChoice = naria.next();\r\n    \r\n    if (returnChoice.equalsIgnoreCase(&quot;no&quot;)) {\r\n        isRunning = false; // If not, then exit the program\r\n    }\r\n}\r\n```\r\n\r\nFor Calculator:\r\n\r\n```java\r\nelse if (number.equals(&quot;2&quot;)) {\r\n    while (true) {\r\n        // Calculator code\r\n        \r\n        // After performing the code above, ask if the user wants to return to the main menu\r\n        System.out.print(&quot;Return to the main menu? (yes/no): &quot;);\r\n        String returnChoice = glenn.next();\r\n        \r\n        if (returnChoice.equalsIgnoreCase(&quot;yes&quot;)) {\r\n            break; // Then exit this loop and return to the main menu\r\n        }\r\n    }\r\n}\r\n```","title":"Getting my Return choice to work inside of the calculator","body":"<p>If you want to implement a way to return to the menu after completing an operation, this is what I would do:</p>\n<ol>\n<li>Define a <code>boolean</code> variable to control the menu loop. You can use <code>true</code> to keep the menu running until the user wants to exit.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isRunning = true;\n</code></pre>\n<ol start=\"2\">\n<li>Then put the entire menu system in a <code>while</code> loop to keep the menu active.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>while (isRunning) {\n    // Menu code\n}\n</code></pre>\n<ol start=\"3\">\n<li>When the user selects an option (e.g., &quot;1&quot; for Biography or &quot;2&quot; for Calculator), you can add an additional loop to handle the specific operation and return to the main menu</li>\n</ol>\n<p>For biography:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (number.equals(&quot;1&quot;)) {\n    // Biography code\n\n    // After the executino above, add a loop to ask if the user wants to return to the main menu\n    System.out.print(&quot;Return to the main menu? (yes/no): &quot;);\n    String returnChoice = naria.next();\n    \n    if (returnChoice.equalsIgnoreCase(&quot;no&quot;)) {\n        isRunning = false; // If not, then exit the program\n    }\n}\n</code></pre>\n<p>For Calculator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>else if (number.equals(&quot;2&quot;)) {\n    while (true) {\n        // Calculator code\n        \n        // After performing the code above, ask if the user wants to return to the main menu\n        System.out.print(&quot;Return to the main menu? (yes/no): &quot;);\n        String returnChoice = glenn.next();\n        \n        if (returnChoice.equalsIgnoreCase(&quot;yes&quot;)) {\n            break; // Then exit this loop and return to the main menu\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695030373,"creation_date":1695027015,"answer_id":77125712,"question_id":77124400,"body_markdown":"&gt; _&quot;... I wanted the break to change to return back to biography and calculator choice ... I dont know what statements do I use to make it work ...&quot;_\r\n\r\nUse a _loop_.\r\n\r\n- _[The for Statement (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html)_\r\n- _[The while and do-while Statements (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html)_\r\n\r\nA lot of the _&quot;bugs&quot;_ in your code stem from the use of the _[Scanner#next](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next())_ methods versus _[nextLine](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine())_.\r\n\r\nThe _next_ methods are useful for capturing multiple values within a single line, and not the entire line itself.\r\n\r\nHere is a re-factor, where I&#39;m using a _[LinkedHashMap](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedHashMap.html)_ to contain the questions and answers for the _biography_ option.\r\n\r\n```java\r\npublic brickgame() {\r\n}\r\npublic static void main (String[] args) {\r\n    Scanner in = new Scanner(System.in);\r\n    Map&lt;String, String[]&gt; map = new LinkedHashMap&lt;&gt;() {{\r\n        put(&quot;Fname&quot;, new String[] { &quot;Please Enter your Name: &quot;, null });\r\n        put(&quot;Age&quot;, new String[] { &quot;Please Enter your Age: &quot;, null });\r\n        put(&quot;Address&quot;, new String[] { &quot;Please Enter your Address: &quot;, null });\r\n        put(&quot;Birthplace&quot;, new String[] { &quot;Please Enter your Birthplace: &quot;, null });\r\n        put(&quot;Birthday&quot;, new String[] { &quot;Please Enter your Birthday: &quot;, null });\r\n        put(&quot;FavoriteF&quot;, new String[] { &quot;Please Enter your Favorite Food: &quot;, null });\r\n        put(&quot;FavoriteS&quot;, new String[] { &quot;Please Enter your Favorite Subject: &quot;, null });\r\n        put(&quot;FavoriteC&quot;, new String[] { &quot;Please Enter your Favorite Color: &quot;, null });\r\n        put(&quot;Hobby&quot;, new String[] { &quot;Please Enter your Hobby: &quot;, null });\r\n        put(&quot;STalent&quot;, new String[] { &quot;Please Enter your Secret Talent: &quot;, null });\r\n    }};\r\n\r\n    Formatter f = new Formatter(System.out);\r\n    boolean exit = false;\r\n\r\n    do {\r\n        f.format(&quot;Choose the operation you want to do?%n&quot;);\r\n        f.format(&quot;[1] Biography%n&quot;);\r\n        f.format(&quot;[2] Calculator%n&quot;);\r\n        f.format(&quot;[3] Bye%n&quot;);\r\n        f.format(&quot;Choose the number:&quot;).flush();\r\n        switch (Integer.parseInt(in.nextLine())) {\r\n            case 1 -&gt; {\r\n                for (Map.Entry&lt;String, String[]&gt; e : map.entrySet()) {\r\n                    f.format(e.getValue()[0]).flush();\r\n                    e.getValue()[1] = in.nextLine();\r\n                }\r\n\r\n                f.format(&quot;Hello &quot;+map.get(&quot;Fname&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;You are &quot;+ map.get(&quot;Age&quot;)[1] +&quot; years old%n&quot;);\r\n                f.format(&quot;You lived at &quot;+map.get(&quot;Address&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;You are born in &quot;+ map.get(&quot;Birthplace&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;Your birthday is on &quot;+map.get(&quot;Birthday&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;Your Favorite Food is &quot;+map.get(&quot;FavoriteF&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;Your Favorite Color is &quot;+map.get(&quot;FavoriteC&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;Your Favorite Color is &quot;+map.get(&quot;FavoriteS&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;Your hobby is to &quot;+map.get(&quot;Hobby&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;Your Secret Talent is to &quot;+ map.get(&quot;STalent&quot;)[1] + &quot;%n&quot;);\r\n                f.flush();\r\n            }\r\n            case 2 -&gt; {\r\n                int i;\r\n                BigDecimal x, a, b;\r\n                f.format(&quot;[1] Addition%n&quot;);\r\n                f.format(&quot;[2] Subtraction%n&quot;);\r\n                f.format(&quot;[3] Multiplication%n&quot;);\r\n                f.format(&quot;[4] Division%n&quot;);\r\n                f.format(&quot;[5] Greater Than/Less Than%n&quot;);\r\n                f.format(&quot;[6] Return%n&quot;);\r\n                f.format(&quot;Enter the number you chose:&quot;).flush();\r\n                i = Integer.parseInt(in.nextLine());\r\n                f.format(&quot;Enter your first number: &quot;).flush();\r\n                a = new BigDecimal(in.nextLine());\r\n                f.format(&quot;Enter your second number: &quot;).flush();\r\n                b = new BigDecimal(in.nextLine());\r\n                switch (i) {\r\n                    case 5 -&gt; {\r\n                        f.format(a.toPlainString() + &quot; is &quot;);\r\n                        f.format(\r\n                            switch (a.compareTo(b)) {\r\n                                case -1 -&gt; &quot;lesser-than &quot;;\r\n                                case 0 -&gt; &quot;equal-to &quot;;\r\n                                default -&gt; &quot;greater-than &quot;;\r\n                            });\r\n                        f.format(b.toPlainString()).flush();\r\n                    }\r\n                    case 6 -&gt; {\r\n                        System.out.println(&quot; \\nThank you and Goodbye!&quot;);\r\n                        exit = true;\r\n                    }\r\n                    default -&gt; {\r\n                        x = new BigDecimal(\r\n                                String.valueOf(\r\n                                    switch (i) {\r\n                                        case 1 -&gt; a.add(b);\r\n                                        case 2 -&gt; a.subtract(b);\r\n                                        case 3 -&gt; a.multiply(b);\r\n                                        default -&gt; a.divide(b, 0xf, RoundingMode.HALF_UP);\r\n                                    }));\r\n                        String op = switch (i) {\r\n                            case 1 -&gt; &quot;+&quot;;\r\n                            case 2 -&gt; &quot;-&quot;;\r\n                            case 3 -&gt; &quot;*&quot;;\r\n                            default -&gt; &quot;/&quot;;\r\n                        };\r\n                        f.format(a.toPlainString());\r\n                        f.format(&quot; %s &quot;, op);\r\n                        f.format(b.toPlainString());\r\n                        f.format(&quot; = %s%n&quot;, x.toPlainString());\r\n                    }\r\n                }\r\n            }\r\n            case 3 -&gt; {\r\n                System.out.println(&quot; \\nThank you and Goodbye!&quot;);\r\n                exit = true;\r\n            }\r\n        }\r\n    } while (!exit);\r\n}\r\n```\r\n\r\nAnd, here is an example usage.\r\n\r\n```none\r\nChoose the operation you want to do?\r\n[1] Biography\r\n[2] Calculator\r\n[3] Bye\r\nChoose the number:1\r\nPlease Enter your Name: abc\r\nPlease Enter your Age: 123\r\nPlease Enter your Address: 456 def\r\nPlease Enter your Birthplace: ghi\r\nPlease Enter your Birthday: 7/8/9\r\nPlease Enter your Favorite Food: jkl\r\nPlease Enter your Favorite Subject: mno\r\nPlease Enter your Favorite Color: pqr\r\nPlease Enter your Hobby: stu\r\nPlease Enter your Secret Talent: vwx\r\nHello abc\r\nYou are 123 years old\r\nYou lived at 456 def\r\nYou are born in ghi\r\nYour birthday is on 7/8/9\r\nYour Favorite Food is jkl\r\nYour Favorite Color is pqr\r\nYour Favorite Color is mno\r\nYour hobby is to stu\r\nYour Secret Talent is to vwx\r\nChoose the operation you want to do?\r\n[1] Biography\r\n[2] Calculator\r\n[3] Bye\r\nChoose the number:2\r\n[1] Addition\r\n[2] Subtraction\r\n[3] Multiplication\r\n[4] Division\r\n[5] Greater Than/Less Than\r\n[6] Return\r\nEnter the number you chose:4\r\nEnter your first number: 22\r\nEnter your second number: 7\r\n22 / 7 = 3.142857142857143\r\nChoose the operation you want to do?\r\n[1] Biography\r\n[2] Calculator\r\n[3] Bye\r\nChoose the number:3\r\n```","title":"Getting my Return choice to work inside of the calculator","body":"<blockquote>\n<p><em>&quot;... I wanted the break to change to return back to biography and calculator choice ... I dont know what statements do I use to make it work ...&quot;</em></p>\n</blockquote>\n<p>Use a <em>loop</em>.</p>\n<ul>\n<li><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">The for Statement (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em></li>\n<li><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">The while and do-while Statements (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em></li>\n</ul>\n<p>A lot of the <em>&quot;bugs&quot;</em> in your code stem from the use of the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\">Scanner#next</a></em> methods versus <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">nextLine</a></em>.</p>\n<p>The <em>next</em> methods are useful for capturing multiple values within a single line, and not the entire line itself.</p>\n<p>Here is a re-factor, where I'm using a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">LinkedHashMap</a></em> to contain the questions and answers for the <em>biography</em> option.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public brickgame() {\n}\npublic static void main (String[] args) {\n    Scanner in = new Scanner(System.in);\n    Map&lt;String, String[]&gt; map = new LinkedHashMap&lt;&gt;() {{\n        put(&quot;Fname&quot;, new String[] { &quot;Please Enter your Name: &quot;, null });\n        put(&quot;Age&quot;, new String[] { &quot;Please Enter your Age: &quot;, null });\n        put(&quot;Address&quot;, new String[] { &quot;Please Enter your Address: &quot;, null });\n        put(&quot;Birthplace&quot;, new String[] { &quot;Please Enter your Birthplace: &quot;, null });\n        put(&quot;Birthday&quot;, new String[] { &quot;Please Enter your Birthday: &quot;, null });\n        put(&quot;FavoriteF&quot;, new String[] { &quot;Please Enter your Favorite Food: &quot;, null });\n        put(&quot;FavoriteS&quot;, new String[] { &quot;Please Enter your Favorite Subject: &quot;, null });\n        put(&quot;FavoriteC&quot;, new String[] { &quot;Please Enter your Favorite Color: &quot;, null });\n        put(&quot;Hobby&quot;, new String[] { &quot;Please Enter your Hobby: &quot;, null });\n        put(&quot;STalent&quot;, new String[] { &quot;Please Enter your Secret Talent: &quot;, null });\n    }};\n\n    Formatter f = new Formatter(System.out);\n    boolean exit = false;\n\n    do {\n        f.format(&quot;Choose the operation you want to do?%n&quot;);\n        f.format(&quot;[1] Biography%n&quot;);\n        f.format(&quot;[2] Calculator%n&quot;);\n        f.format(&quot;[3] Bye%n&quot;);\n        f.format(&quot;Choose the number:&quot;).flush();\n        switch (Integer.parseInt(in.nextLine())) {\n            case 1 -&gt; {\n                for (Map.Entry&lt;String, String[]&gt; e : map.entrySet()) {\n                    f.format(e.getValue()[0]).flush();\n                    e.getValue()[1] = in.nextLine();\n                }\n\n                f.format(&quot;Hello &quot;+map.get(&quot;Fname&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;You are &quot;+ map.get(&quot;Age&quot;)[1] +&quot; years old%n&quot;);\n                f.format(&quot;You lived at &quot;+map.get(&quot;Address&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;You are born in &quot;+ map.get(&quot;Birthplace&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;Your birthday is on &quot;+map.get(&quot;Birthday&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;Your Favorite Food is &quot;+map.get(&quot;FavoriteF&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;Your Favorite Color is &quot;+map.get(&quot;FavoriteC&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;Your Favorite Color is &quot;+map.get(&quot;FavoriteS&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;Your hobby is to &quot;+map.get(&quot;Hobby&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;Your Secret Talent is to &quot;+ map.get(&quot;STalent&quot;)[1] + &quot;%n&quot;);\n                f.flush();\n            }\n            case 2 -&gt; {\n                int i;\n                BigDecimal x, a, b;\n                f.format(&quot;[1] Addition%n&quot;);\n                f.format(&quot;[2] Subtraction%n&quot;);\n                f.format(&quot;[3] Multiplication%n&quot;);\n                f.format(&quot;[4] Division%n&quot;);\n                f.format(&quot;[5] Greater Than/Less Than%n&quot;);\n                f.format(&quot;[6] Return%n&quot;);\n                f.format(&quot;Enter the number you chose:&quot;).flush();\n                i = Integer.parseInt(in.nextLine());\n                f.format(&quot;Enter your first number: &quot;).flush();\n                a = new BigDecimal(in.nextLine());\n                f.format(&quot;Enter your second number: &quot;).flush();\n                b = new BigDecimal(in.nextLine());\n                switch (i) {\n                    case 5 -&gt; {\n                        f.format(a.toPlainString() + &quot; is &quot;);\n                        f.format(\n                            switch (a.compareTo(b)) {\n                                case -1 -&gt; &quot;lesser-than &quot;;\n                                case 0 -&gt; &quot;equal-to &quot;;\n                                default -&gt; &quot;greater-than &quot;;\n                            });\n                        f.format(b.toPlainString()).flush();\n                    }\n                    case 6 -&gt; {\n                        System.out.println(&quot; \\nThank you and Goodbye!&quot;);\n                        exit = true;\n                    }\n                    default -&gt; {\n                        x = new BigDecimal(\n                                String.valueOf(\n                                    switch (i) {\n                                        case 1 -&gt; a.add(b);\n                                        case 2 -&gt; a.subtract(b);\n                                        case 3 -&gt; a.multiply(b);\n                                        default -&gt; a.divide(b, 0xf, RoundingMode.HALF_UP);\n                                    }));\n                        String op = switch (i) {\n                            case 1 -&gt; &quot;+&quot;;\n                            case 2 -&gt; &quot;-&quot;;\n                            case 3 -&gt; &quot;*&quot;;\n                            default -&gt; &quot;/&quot;;\n                        };\n                        f.format(a.toPlainString());\n                        f.format(&quot; %s &quot;, op);\n                        f.format(b.toPlainString());\n                        f.format(&quot; = %s%n&quot;, x.toPlainString());\n                    }\n                }\n            }\n            case 3 -&gt; {\n                System.out.println(&quot; \\nThank you and Goodbye!&quot;);\n                exit = true;\n            }\n        }\n    } while (!exit);\n}\n</code></pre>\n<p>And, here is an example usage.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Choose the operation you want to do?\n[1] Biography\n[2] Calculator\n[3] Bye\nChoose the number:1\nPlease Enter your Name: abc\nPlease Enter your Age: 123\nPlease Enter your Address: 456 def\nPlease Enter your Birthplace: ghi\nPlease Enter your Birthday: 7/8/9\nPlease Enter your Favorite Food: jkl\nPlease Enter your Favorite Subject: mno\nPlease Enter your Favorite Color: pqr\nPlease Enter your Hobby: stu\nPlease Enter your Secret Talent: vwx\nHello abc\nYou are 123 years old\nYou lived at 456 def\nYou are born in ghi\nYour birthday is on 7/8/9\nYour Favorite Food is jkl\nYour Favorite Color is pqr\nYour Favorite Color is mno\nYour hobby is to stu\nYour Secret Talent is to vwx\nChoose the operation you want to do?\n[1] Biography\n[2] Calculator\n[3] Bye\nChoose the number:2\n[1] Addition\n[2] Subtraction\n[3] Multiplication\n[4] Division\n[5] Greater Than/Less Than\n[6] Return\nEnter the number you chose:4\nEnter your first number: 22\nEnter your second number: 7\n22 / 7 = 3.142857142857143\nChoose the operation you want to do?\n[1] Biography\n[2] Calculator\n[3] Bye\nChoose the number:3\n</code></pre>\n"}],"owner":{"account_id":29384482,"reputation":11,"user_id":22514185,"display_name":"Charles Glenn Naria"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695030373,"creation_date":1695007276,"question_id":77124400,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class brickgame {\r\n\r\n    public brickgame() {\r\n    }\r\n   public static void main (String[] args) {\r\n   \tSystem.out.println(&quot;Choose the operation you want to do?&quot;);\r\n   \tScanner charles = new Scanner(System.in);\r\n   \tString number;\r\n   \t\r\n   \t\r\n   \r\n   \tSystem.out.print(&quot;[1] Biography \\n[2] Calculator \\n[3] Bye \\nChoose the number:&quot;);\r\n   \t \tnumber=charles.nextLine();\r\n   \t \t\r\n   \t \t\r\n   \t \tif(number.equals(&quot;1&quot;)) {\r\n   \t \t\tScanner naria = new Scanner(System.in);\r\n   \t \tString Fname,Age,Address,Birthplace,Birthday,FavoriteF,FavoriteS,FavoriteC,Hobby,STalent;\r\n   \t \t\r\n   \t \tSystem.out.println(&quot;Please use Underscore Character or _ as your spacebar! &quot;);\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Name: &quot;);\r\n   \t \tFname = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Age: &quot;);\r\n   \t \tAge = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Address: &quot;);\r\n   \t \tAddress = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Birthplace: &quot;);\r\n   \t \tBirthplace = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Birthday: &quot;);\r\n   \t \tBirthday = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Favorite Food: &quot;);\r\n   \t \tFavoriteF = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Favorite Subject: &quot;);\r\n   \t \tFavoriteS = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Favorite Color: &quot;);\r\n   \t \tFavoriteC = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Hobby: &quot;);\r\n   \t \tHobby = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Secret Talent: &quot;);\r\n   \t \tSTalent = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.println(&quot;Hello &quot;+Fname);\r\n        System.out.println(&quot;You are &quot;+ Age +&quot; years old&quot;);\r\n        System.out.println(&quot;You lived at &quot;+Address);\r\n   \t \tSystem.out.println(&quot;You are born in &quot;+ Birthplace);\r\n   \t \tSystem.out.println(&quot;Your birthday is on &quot;+Birthday);\r\n   \t \tSystem.out.println(&quot;Your Favorite Food is &quot;+FavoriteF);\r\n   \t \tSystem.out.println(&quot;Your Favorite Color is &quot;+FavoriteC);\r\n   \t \tSystem.out.println(&quot;Your Favorite Color is &quot;+FavoriteS);\r\n   \t \tSystem.out.println(&quot;Your hobby is to &quot;+Hobby);\r\n   \t \tSystem.out.println(&quot;Your Secret Talent is to &quot;+ STalent);\r\n   \t \t}\r\n   \telse if(number.equals(&quot;2&quot;)) {\r\n   \t\twhile (true)\r\n   \t\t{\r\n   \t\t\r\n   \t \tScanner glenn = new Scanner(System.in);\r\nString chosen;\r\nint a,b,ab,e,f;\r\nfloat d,c,dc;\r\n\r\n\r\nSystem.out.println(&quot;\\n[1] Addition \\n[2] Subtraction \\n[3] Multiplication \\n[4] Division \\n[5] Greater Than/Less Than \\n[6] Return \\nEnter the number you chose:&quot;);\r\n \tchosen=glenn.nextLine();\r\n   \t \t\r\n\t   \t \tif(chosen.equals(&quot;1&quot;)) {\r\n\t   \t \tSystem.out.print(&quot;Enter your first number: &quot;);\r\n\t   \t \ta=glenn.nextInt();\r\n\t   \t \tSystem.out.print(&quot;Enter your second number: &quot;);\r\n\t   \t \tb=glenn.nextInt();\r\n\t   \t \tab=a+b; \t\t\r\n\t   \t \tSystem.out.print(a + &quot; + &quot; + b + &quot; = &quot; +ab);  \t \r\n\t   \t \t}\r\n\t   \telse if(chosen.equals(&quot;2&quot;)) {\r\n\t   \t \tSystem.out.print(&quot;Enter your first number: &quot;);\r\n\t   \t \ta=glenn.nextInt();\r\n\t   \t \tSystem.out.print(&quot;Enter your second number: &quot;);\r\n\t   \t \tb=glenn.nextInt();\r\n\t   \t \tab=a-b;\r\n\t   \t \t\t\r\n\t   \t \tSystem.out.print(a + &quot; - &quot; + b + &quot; = &quot; +ab);\r\n\t   \t \t}\r\n\t   \telse if(chosen.equals(&quot;3&quot;)) {\r\n\t   \t \tSystem.out.print(&quot;Enter your first number: &quot;);\r\n\t   \t \ta=glenn.nextInt();\r\n\t   \t \tSystem.out.print(&quot;Enter your second number: &quot;);\r\n\t   \t \tb=glenn.nextInt();\r\n\t   \t \tab=a*b;\t\r\n\t   \t \tSystem.out.print(a + &quot; * &quot; + b + &quot; = &quot; +ab);\r\n\t   \t \t}\r\n   \telse if(chosen.equals(&quot;4&quot;)) {\r\n   \t \tSystem.out.print(&quot;Enter your first number: &quot;);\r\n   \t \tc=glenn.nextInt();\r\n   \t \tSystem.out.print(&quot;Enter your second number: &quot;);\r\n   \t \td=glenn.nextInt();\r\n   \t \tdc=c/d;\t\r\n   \t \tSystem.out.print(c + &quot; / &quot; + d + &quot; = &quot; +dc);\r\n   \t}\r\n   \t \telse if(chosen.equals(&quot;5&quot;)) {\r\n   \t \tSystem.out.print(&quot;Enter your first number: &quot;);\r\n   \t \te=glenn.nextInt();\r\n   \t \tSystem.out.print(&quot;Enter your second number: &quot;);\r\n   \t \tf=glenn.nextInt();\r\n   \t \tif (e&gt;f){\r\n   \t \t \tSystem.out.print(e + &quot; is greater than &quot;+ f);\r\n   \t \t }\r\n   \t \t \r\n   \t \t  if(e&lt;f){\r\n   \t \t \tSystem.out.print(e + &quot; is lesser than &quot;+ f);\r\n   \t \t }\r\n   \t \t if(e==f){\r\n   \t \t \tSystem.out.print(e + &quot; is same as &quot;+ f);\r\n   \t \t }\r\n   \t \t}\r\n   \t \t  if(chosen.equals(&quot;6&quot;)) {\r\n   \t \t  \tSystem.out.println(&quot; \\nThank you and Goodbye!&quot;);\r\n   \t    break;\r\n   \t}\t\r\n   \t\t}\r\n   \t}\r\n   \t\telse System.out.println(&quot; \\nThank you and Goodbye!&quot;); \r\n\r\n}\r\n}\r\n```\r\n\r\n\r\nI wanted the break to change to return back to biography and calculator choice, I need help please because Ive been struggling too much now, I dont know what statements do I use to make it work, I only got like a few hours to finish it and Ive been struggling real, real hard for the past 2 hours\r\n\r\nIt is an easy problem but I am only a programmer for 2 weeks rn thats why I needed help, any help is appreaciated","title":"Getting my Return choice to work inside of the calculator","body":"<pre><code>import java.util.Scanner;\n\npublic class brickgame {\n\n    public brickgame() {\n    }\n   public static void main (String[] args) {\n    System.out.println(&quot;Choose the operation you want to do?&quot;);\n    Scanner charles = new Scanner(System.in);\n    String number;\n    \n    \n   \n    System.out.print(&quot;[1] Biography \\n[2] Calculator \\n[3] Bye \\nChoose the number:&quot;);\n        number=charles.nextLine();\n        \n        \n        if(number.equals(&quot;1&quot;)) {\n            Scanner naria = new Scanner(System.in);\n        String Fname,Age,Address,Birthplace,Birthday,FavoriteF,FavoriteS,FavoriteC,Hobby,STalent;\n        \n        System.out.println(&quot;Please use Underscore Character or _ as your spacebar! &quot;);\n        \n        System.out.print(&quot;Please Enter your Name: &quot;);\n        Fname = naria.next();\n        \n        System.out.print(&quot;Please Enter your Age: &quot;);\n        Age = naria.next();\n        \n        System.out.print(&quot;Please Enter your Address: &quot;);\n        Address = naria.next();\n        \n        System.out.print(&quot;Please Enter your Birthplace: &quot;);\n        Birthplace = naria.next();\n        \n        System.out.print(&quot;Please Enter your Birthday: &quot;);\n        Birthday = naria.next();\n        \n        System.out.print(&quot;Please Enter your Favorite Food: &quot;);\n        FavoriteF = naria.next();\n        \n        System.out.print(&quot;Please Enter your Favorite Subject: &quot;);\n        FavoriteS = naria.next();\n        \n        System.out.print(&quot;Please Enter your Favorite Color: &quot;);\n        FavoriteC = naria.next();\n        \n        System.out.print(&quot;Please Enter your Hobby: &quot;);\n        Hobby = naria.next();\n        \n        System.out.print(&quot;Please Enter your Secret Talent: &quot;);\n        STalent = naria.next();\n        \n        System.out.println(&quot;Hello &quot;+Fname);\n        System.out.println(&quot;You are &quot;+ Age +&quot; years old&quot;);\n        System.out.println(&quot;You lived at &quot;+Address);\n        System.out.println(&quot;You are born in &quot;+ Birthplace);\n        System.out.println(&quot;Your birthday is on &quot;+Birthday);\n        System.out.println(&quot;Your Favorite Food is &quot;+FavoriteF);\n        System.out.println(&quot;Your Favorite Color is &quot;+FavoriteC);\n        System.out.println(&quot;Your Favorite Color is &quot;+FavoriteS);\n        System.out.println(&quot;Your hobby is to &quot;+Hobby);\n        System.out.println(&quot;Your Secret Talent is to &quot;+ STalent);\n        }\n    else if(number.equals(&quot;2&quot;)) {\n        while (true)\n        {\n        \n        Scanner glenn = new Scanner(System.in);\nString chosen;\nint a,b,ab,e,f;\nfloat d,c,dc;\n\n\nSystem.out.println(&quot;\\n[1] Addition \\n[2] Subtraction \\n[3] Multiplication \\n[4] Division \\n[5] Greater Than/Less Than \\n[6] Return \\nEnter the number you chose:&quot;);\n    chosen=glenn.nextLine();\n        \n            if(chosen.equals(&quot;1&quot;)) {\n            System.out.print(&quot;Enter your first number: &quot;);\n            a=glenn.nextInt();\n            System.out.print(&quot;Enter your second number: &quot;);\n            b=glenn.nextInt();\n            ab=a+b;         \n            System.out.print(a + &quot; + &quot; + b + &quot; = &quot; +ab);     \n            }\n        else if(chosen.equals(&quot;2&quot;)) {\n            System.out.print(&quot;Enter your first number: &quot;);\n            a=glenn.nextInt();\n            System.out.print(&quot;Enter your second number: &quot;);\n            b=glenn.nextInt();\n            ab=a-b;\n                \n            System.out.print(a + &quot; - &quot; + b + &quot; = &quot; +ab);\n            }\n        else if(chosen.equals(&quot;3&quot;)) {\n            System.out.print(&quot;Enter your first number: &quot;);\n            a=glenn.nextInt();\n            System.out.print(&quot;Enter your second number: &quot;);\n            b=glenn.nextInt();\n            ab=a*b; \n            System.out.print(a + &quot; * &quot; + b + &quot; = &quot; +ab);\n            }\n    else if(chosen.equals(&quot;4&quot;)) {\n        System.out.print(&quot;Enter your first number: &quot;);\n        c=glenn.nextInt();\n        System.out.print(&quot;Enter your second number: &quot;);\n        d=glenn.nextInt();\n        dc=c/d; \n        System.out.print(c + &quot; / &quot; + d + &quot; = &quot; +dc);\n    }\n        else if(chosen.equals(&quot;5&quot;)) {\n        System.out.print(&quot;Enter your first number: &quot;);\n        e=glenn.nextInt();\n        System.out.print(&quot;Enter your second number: &quot;);\n        f=glenn.nextInt();\n        if (e&gt;f){\n            System.out.print(e + &quot; is greater than &quot;+ f);\n         }\n         \n          if(e&lt;f){\n            System.out.print(e + &quot; is lesser than &quot;+ f);\n         }\n         if(e==f){\n            System.out.print(e + &quot; is same as &quot;+ f);\n         }\n        }\n          if(chosen.equals(&quot;6&quot;)) {\n            System.out.println(&quot; \\nThank you and Goodbye!&quot;);\n        break;\n    }   \n        }\n    }\n        else System.out.println(&quot; \\nThank you and Goodbye!&quot;); \n\n}\n}\n</code></pre>\n<p>I wanted the break to change to return back to biography and calculator choice, I need help please because Ive been struggling too much now, I dont know what statements do I use to make it work, I only got like a few hours to finish it and Ive been struggling real, real hard for the past 2 hours</p>\n<p>It is an easy problem but I am only a programmer for 2 weeks rn thats why I needed help, any help is appreaciated</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1695028137,"post_id":77125847,"comment_id":135964302,"body_markdown":"Find a caching library that allows you to read without locking if it&#39;s sure the data is already there. One example could be Caffeine, which is a fork of the Guava Cache.","body":"Find a caching library that allows you to read without locking if it&#39;s sure the data is already there. One example could be Caffeine, which is a fork of the Guava Cache."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1695028371,"post_id":77125847,"comment_id":135964362,"body_markdown":"From a performance perspective, you should _measure_ performance, not guess it like some kind of mystical oracle.","body":"From a performance perspective, you should <i>measure</i> performance, not guess it like some kind of mystical oracle."},{"owner":{"account_id":4926557,"reputation":41,"user_id":3967656,"display_name":"Kashish Aneja"},"score":0,"creation_date":1695028840,"post_id":77125847,"comment_id":135964473,"body_markdown":"@Jorn - Data is there but has to be loaded at the request level, as the request will have a deciding parameter, the outer map will have read/write operation but the inner is a write once operation.","body":"@Jorn - Data is there but has to be loaded at the request level, as the request will have a deciding parameter, the outer map will have read/write operation but the inner is a write once operation."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695029369,"post_id":77125847,"comment_id":135964584,"body_markdown":"Yes, sounds like a good fit for that Cache then","body":"Yes, sounds like a good fit for that Cache then"}],"answers":[{"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1695030537,"post_id":77126051,"comment_id":135964818,"body_markdown":"[Exactly](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html): &quot;However, even though all operations are thread-safe, retrieval operations do not entail locking, and there is not any support for locking the entire table in a way that prevents all access&quot;.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\">Exactly</a>: &quot;However, even though all operations are thread-safe, retrieval operations do not entail locking, and there is not any support for locking the entire table in a way that prevents all access&quot;."},{"owner":{"account_id":20833547,"reputation":1212,"user_id":15302273,"display_name":"stacktrace2234"},"score":0,"creation_date":1695030739,"post_id":77126051,"comment_id":135964856,"body_markdown":"Well, it locks but only locks the given bucket I believe?","body":"Well, it locks but only locks the given bucket I believe?"}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695029742,"creation_date":1695029742,"answer_id":77126051,"question_id":77125847,"body_markdown":"The point of `ConcurrentMap` class is that it does NOT use locks. So, you should be OK.","title":"Best way to load and store data at request level","body":"<p>The point of <code>ConcurrentMap</code> class is that it does NOT use locks. So, you should be OK.</p>\n"}],"owner":{"account_id":4926557,"reputation":41,"user_id":3967656,"display_name":"Kashish Aneja"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695029742,"creation_date":1695028038,"question_id":77125847,"body_markdown":"**Scenario:** I have a Rest API, where we are fetching some data and on basis of some db data, we are applying rules.\r\n**Current Implementation:** So, I have fetched all the data required for rules in one shot and stored it in HashMap.\r\nDataStructure looks like this - **ConcurrentMap&lt;String,HashMap&lt;String,Rules&gt;&gt;.**  \r\n\r\nThe outer map contains uses the request_id as key and inner contains rule&#39;key.\r\nAlso, outer map is concurrenthashmap and inner one is hashmap.\r\n\r\nThe **problem** comes as this application is multithreaded and when threads try to read the rule, they have to go through the lock in the concurrenthashmap.SO, from a performance perspective, I think this does not sound good.\r\n\r\nI wanted to check if there is a better way to implement this scenario.","title":"Best way to load and store data at request level","body":"<p><strong>Scenario:</strong> I have a Rest API, where we are fetching some data and on basis of some db data, we are applying rules.\n<strong>Current Implementation:</strong> So, I have fetched all the data required for rules in one shot and stored it in HashMap.\nDataStructure looks like this - <strong>ConcurrentMap&lt;String,HashMap&lt;String,Rules&gt;&gt;.</strong></p>\n<p>The outer map contains uses the request_id as key and inner contains rule'key.\nAlso, outer map is concurrenthashmap and inner one is hashmap.</p>\n<p>The <strong>problem</strong> comes as this application is multithreaded and when threads try to read the rule, they have to go through the lock in the concurrenthashmap.SO, from a performance perspective, I think this does not sound good.</p>\n<p>I wanted to check if there is a better way to implement this scenario.</p>\n"},{"tags":["java","gradle"],"owner":{"account_id":18059203,"reputation":11,"user_id":13126726,"display_name":"Mihir Kohli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695029728,"creation_date":1695029728,"question_id":77126048,"body_markdown":"How to add custom favicon to javadoc built using gradle?\r\n\r\n```\r\njavadoc {\r\n\tsource = sourceSets.main.allJava\r\n\tclasspath = configurations.compileClasspath\r\n\toptions.encoding = &#39;UTF-8&#39;\r\n\t// currently our javadoc has a lot of errors, so we need to suppress the linter\r\n\toptions.addStringOption(&#39;Xdoclint:none&#39;, &#39;-quiet&#39;)\r\n}\r\n\r\ntask releaseJavadoc(type: Javadoc) {\r\n\ttitle = project.name + &#39; &#39; + project.property(&#39;version&#39;)\r\n\tsource = sourceSets.main.allJava\r\n\tclasspath = configurations.compileClasspath\r\n\toptions.encoding = &#39;UTF-8&#39;\r\n\t// currently our javadoc has a lot of errors, so we need to suppress the linter\r\n\toptions.addStringOption(&#39;Xdoclint:none&#39;, &#39;-quiet&#39;)\r\n}\r\n```\r\n\r\nAbove is code for buidling javadocs.\r\n\r\n[Current](https://i.stack.imgur.com/xKo8n.png)\r\n\r\nWant to replace this with custom favicon.","title":"How to add favicon to javadoc gradle?","body":"<p>How to add custom favicon to javadoc built using gradle?</p>\n<pre><code>javadoc {\n    source = sourceSets.main.allJava\n    classpath = configurations.compileClasspath\n    options.encoding = 'UTF-8'\n    // currently our javadoc has a lot of errors, so we need to suppress the linter\n    options.addStringOption('Xdoclint:none', '-quiet')\n}\n\ntask releaseJavadoc(type: Javadoc) {\n    title = project.name + ' ' + project.property('version')\n    source = sourceSets.main.allJava\n    classpath = configurations.compileClasspath\n    options.encoding = 'UTF-8'\n    // currently our javadoc has a lot of errors, so we need to suppress the linter\n    options.addStringOption('Xdoclint:none', '-quiet')\n}\n</code></pre>\n<p>Above is code for buidling javadocs.</p>\n<p><a href=\"https://i.stack.imgur.com/xKo8n.png\" rel=\"nofollow noreferrer\">Current</a></p>\n<p>Want to replace this with custom favicon.</p>\n"},{"tags":["java","gis","geo","geotools"],"comments":[{"owner":{"account_id":74542,"reputation":3561,"user_id":214143,"display_name":"Jason Aller"},"score":1,"creation_date":1690384756,"post_id":76771429,"comment_id":135346743,"body_markdown":"What are your criteria for determining if a point is &quot;likely&quot; at a given set of coordinates?","body":"What are your criteria for determining if a point is &quot;likely&quot; at a given set of coordinates?"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1690441907,"post_id":76771429,"comment_id":135354981,"body_markdown":"There is a GeoJSON datastore in GeoTools","body":"There is a GeoJSON datastore in GeoTools"},{"owner":{"account_id":23317556,"reputation":33,"user_id":17395970,"display_name":"Gaetan"},"score":0,"creation_date":1690532133,"post_id":76771429,"comment_id":135369849,"body_markdown":"Hi guys. Thanks for your answers.\nI may have used the wrong word. My need is to assert that a geograpohic point exists.\nI&#39;m not at the stage where i try to get en address from it.\nBut i would like to get en error if i get something like 100.10, 200.30 (witch wouldn&#39;t exist).\nAnd i didn&#39;t find that in GeoTools. I figured there would be a methode like `isValideCoordinate(lat, lon)`","body":"Hi guys. Thanks for your answers. I may have used the wrong word. My need is to assert that a geograpohic point exists. I&#39;m not at the stage where i try to get en address from it. But i would like to get en error if i get something like 100.10, 200.30 (witch wouldn&#39;t exist). And i didn&#39;t find that in GeoTools. I figured there would be a methode like <code>isValideCoordinate(lat, lon)</code>"}],"answers":[{"tags":[],"owner":{"account_id":18524434,"reputation":65,"user_id":13496635,"display_name":"Arjen10"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695029439,"creation_date":1695027694,"answer_id":77125798,"question_id":76771429,"body_markdown":"validation coordinates should be determined from the reference coordinate system. you can visit [epsg.io](https://epsg.io/4326) like wgs84 bounds, use the following code to determine whether the coordinates are within the corresponding interval.\r\n\r\n```java\r\npackage org.example;\r\n\r\n\r\nimport org.geotools.referencing.CRS;\r\nimport org.opengis.referencing.crs.CoordinateReferenceSystem;\r\nimport org.opengis.referencing.cs.CoordinateSystem;\r\nimport org.opengis.referencing.cs.CoordinateSystemAxis;\r\n\r\n/**\r\n * @author Arjen10\r\n * @date 2023/9/15 下午4:55\r\n */\r\npublic class Test2 {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        CoordinateReferenceSystem decode = CRS.decode(&quot;EPSG:4326&quot;, true);\r\n        CoordinateSystem coordinateSystem = decode.getCoordinateSystem();\r\n        CoordinateSystemAxis axis = coordinateSystem.getAxis(0);\r\n        CoordinateSystemAxis axis1 = coordinateSystem.getAxis(1);\r\n        double maxX = axis.getMaximumValue();\r\n        double maxY = axis1.getMaximumValue();\r\n        double minX = axis.getMinimumValue();\r\n        double minY = axis1.getMinimumValue();\r\n        System.out.println(&quot;wg84 maxX &quot; + maxX);\r\n        System.out.println(&quot;wg84 maxY &quot; + maxY);\r\n        System.out.println(&quot;wg84 minX &quot; + minX);\r\n        System.out.println(&quot;wg84 minY &quot; + minY);\r\n\r\n        double userInputX = 180d;\r\n        double userInputY = 90.1;\r\n\r\n        if (userInputX &gt; maxX || userInputX &lt; minX) {\r\n            throw new IllegalArgumentException(&quot;error x&quot;);\r\n        }\r\n\r\n        if (userInputY &gt; maxY || userInputY &lt; minY) {\r\n            throw new IllegalArgumentException(&quot;error y&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```","title":"User input geographic point syntax validation","body":"<p>validation coordinates should be determined from the reference coordinate system. you can visit <a href=\"https://epsg.io/4326\" rel=\"nofollow noreferrer\">epsg.io</a> like wgs84 bounds, use the following code to determine whether the coordinates are within the corresponding interval.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\n\nimport org.geotools.referencing.CRS;\nimport org.opengis.referencing.crs.CoordinateReferenceSystem;\nimport org.opengis.referencing.cs.CoordinateSystem;\nimport org.opengis.referencing.cs.CoordinateSystemAxis;\n\n/**\n * @author Arjen10\n * @date 2023/9/15 下午4:55\n */\npublic class Test2 {\n\n    public static void main(String[] args) throws Exception {\n        CoordinateReferenceSystem decode = CRS.decode(&quot;EPSG:4326&quot;, true);\n        CoordinateSystem coordinateSystem = decode.getCoordinateSystem();\n        CoordinateSystemAxis axis = coordinateSystem.getAxis(0);\n        CoordinateSystemAxis axis1 = coordinateSystem.getAxis(1);\n        double maxX = axis.getMaximumValue();\n        double maxY = axis1.getMaximumValue();\n        double minX = axis.getMinimumValue();\n        double minY = axis1.getMinimumValue();\n        System.out.println(&quot;wg84 maxX &quot; + maxX);\n        System.out.println(&quot;wg84 maxY &quot; + maxY);\n        System.out.println(&quot;wg84 minX &quot; + minX);\n        System.out.println(&quot;wg84 minY &quot; + minY);\n\n        double userInputX = 180d;\n        double userInputY = 90.1;\n\n        if (userInputX &gt; maxX || userInputX &lt; minX) {\n            throw new IllegalArgumentException(&quot;error x&quot;);\n        }\n\n        if (userInputY &gt; maxY || userInputY &lt; minY) {\n            throw new IllegalArgumentException(&quot;error y&quot;);\n        }\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":23317556,"reputation":33,"user_id":17395970,"display_name":"Gaetan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77125798,"answer_count":1,"score":0,"last_activity_date":1695029439,"creation_date":1690375226,"question_id":76771429,"body_markdown":"I&#39;m trying to work with geographic points in a java project.\r\nI started to look into good practice, started looking into GeoTols which seems to be the reference for java.\r\n\r\nWhat I&#39;m trying to do is validate a user input for geographic points.\r\nThe user input is JSON file. So I&#39;m parsing the file, and I would like to find something that validates the syntax and that a point at this coordinates is likely.\r\n\r\nI couldn&#39;t find it (maybe I searched wrong) in GeoTools.\r\nThanks!","title":"User input geographic point syntax validation","body":"<p>I'm trying to work with geographic points in a java project.\nI started to look into good practice, started looking into GeoTols which seems to be the reference for java.</p>\n<p>What I'm trying to do is validate a user input for geographic points.\nThe user input is JSON file. So I'm parsing the file, and I would like to find something that validates the syntax and that a point at this coordinates is likely.</p>\n<p>I couldn't find it (maybe I searched wrong) in GeoTools.\nThanks!</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1575882911,"post_id":59245405,"comment_id":104701498,"body_markdown":"It doesn&#39;t work because it crashed due to a bug in the VM.","body":"It doesn&#39;t work because it crashed due to a bug in the VM."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1575885572,"post_id":59245405,"comment_id":104702901,"body_markdown":"Access violation is usually an indication of problem in native code - usually badly addressed memory. If the database access relies on some external library (DLL or SO), it may have a bug.","body":"Access violation is usually an indication of problem in native code - usually badly addressed memory. If the database access relies on some external library (DLL or SO), it may have a bug."},{"owner":{"account_id":272310,"reputation":6057,"user_id":563323,"display_name":"Sanne"},"score":1,"creation_date":1575888464,"post_id":59245405,"comment_id":104704481,"body_markdown":"That&#39;s not a Quarkus issue, something wrong is being triggered in your JDK. I see you&#39;re using a very old build of JDK11, try updating?","body":"That&#39;s not a Quarkus issue, something wrong is being triggered in your JDK. I see you&#39;re using a very old build of JDK11, try updating?"},{"owner":{"account_id":11721412,"reputation":1016,"user_id":8580266,"display_name":"alexzimmer96"},"score":0,"creation_date":1575898185,"post_id":59245405,"comment_id":104709509,"body_markdown":"Thanks for the responses. I&#39;ve tried updating to the current version of OpenJDK-11 but it still crashes.","body":"Thanks for the responses. I&#39;ve tried updating to the current version of OpenJDK-11 but it still crashes."}],"answers":[{"tags":[],"owner":{"account_id":14915615,"reputation":181,"user_id":10769525,"display_name":"drino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695029254,"creation_date":1695029254,"answer_id":77125994,"question_id":59245405,"body_markdown":"Try do to do something simple (like print) in your operateEntry function to be sure that it is not a problem with your database access.\r\n\r\nI don&#39;t think that this is the good approach to solve your problem, parallelStream to access database often lead to the kinf of problem you are actually facing.\r\n\r\nAnother approach might be to use parallel aproach to read files, but a single transaction to commit in database.\r\n","title":"Parallel Stream for inserting data on startup","body":"<p>Try do to do something simple (like print) in your operateEntry function to be sure that it is not a problem with your database access.</p>\n<p>I don't think that this is the good approach to solve your problem, parallelStream to access database often lead to the kinf of problem you are actually facing.</p>\n<p>Another approach might be to use parallel aproach to read files, but a single transaction to commit in database.</p>\n"}],"owner":{"account_id":11721412,"reputation":1016,"user_id":8580266,"display_name":"alexzimmer96"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1695029254,"creation_date":1575881760,"question_id":59245405,"body_markdown":"I&#39;m just wondering if it&#39;s possible to create a parallelStream inside a startup-event function. I discover quarkus at the moment and for testing i have to read a file and insert its files into the database on startup. Whenever is try to use a `parallelStream` instead of a normal one, i get `ACCESS_VIOLATION_EXCEPTION`.\r\n\r\nHere&#39;s some Code so you can imagine what i&#39;m doing. This example works.\r\n```java\r\nvoid onStart(@Observes StartupEvent ev) throws Exception {\r\n    // Parsing the file, getting the iterator\r\n    it.readAll().stream().forEach(this::operateEntry);\r\n}\r\n\r\n@Transactional\r\nvoid operateEntry(Entry entry) {\r\n    // Performing the database actions for a single entry\r\n}\r\n```\r\n\r\nUsing the same example but this time with an parallel stream results in an error:\r\n```java\r\nvoid onStart(@Observes StartupEvent ev) throws Exception {\r\n    // Parsing the file, getting the iterator\r\n    it.readAll().parallelStream().forEach(this::operateEntry);\r\n}\r\n```\r\nAnd the error message\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffd5e59bf40, pid=15880, tid=20388\r\n#\r\n# JRE version: Java(TM) SE Runtime Environment (11.0.1+13) (build 11.0.1+13-LTS)\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (11.0.1+13-LTS, mixed mode, tiered, compressed oops, g1 gc, windows-amd64)\r\n# Problematic frame:\r\n# V  [jvm.dll+0x1ebf40]\r\n#\r\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n#\r\n# An error report file with more information is saved as:\r\n# D:\\knowledge\\curator-service\\target\\hs_err_pid15880.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   http://bugreport.java.com/bugreport/crash.jsp\r\n```\r\n\r\nI understand that parsing a bigger amount of data on every quarkus startup might not a realistic use-case. However i would like to understand why this does not work. I&#39;m thankful for any advice.\r\n\r\nThank you in advance.","title":"Parallel Stream for inserting data on startup","body":"<p>I'm just wondering if it's possible to create a parallelStream inside a startup-event function. I discover quarkus at the moment and for testing i have to read a file and insert its files into the database on startup. Whenever is try to use a <code>parallelStream</code> instead of a normal one, i get <code>ACCESS_VIOLATION_EXCEPTION</code>.</p>\n\n<p>Here's some Code so you can imagine what i'm doing. This example works.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>void onStart(@Observes StartupEvent ev) throws Exception {\n    // Parsing the file, getting the iterator\n    it.readAll().stream().forEach(this::operateEntry);\n}\n\n@Transactional\nvoid operateEntry(Entry entry) {\n    // Performing the database actions for a single entry\n}\n</code></pre>\n\n<p>Using the same example but this time with an parallel stream results in an error:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>void onStart(@Observes StartupEvent ev) throws Exception {\n    // Parsing the file, getting the iterator\n    it.readAll().parallelStream().forEach(this::operateEntry);\n}\n</code></pre>\n\n<p>And the error message</p>\n\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffd5e59bf40, pid=15880, tid=20388\n#\n# JRE version: Java(TM) SE Runtime Environment (11.0.1+13) (build 11.0.1+13-LTS)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (11.0.1+13-LTS, mixed mode, tiered, compressed oops, g1 gc, windows-amd64)\n# Problematic frame:\n# V  [jvm.dll+0x1ebf40]\n#\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n#\n# An error report file with more information is saved as:\n# D:\\knowledge\\curator-service\\target\\hs_err_pid15880.log\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n</code></pre>\n\n<p>I understand that parsing a bigger amount of data on every quarkus startup might not a realistic use-case. However i would like to understand why this does not work. I'm thankful for any advice.</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1441019124,"post_id":32308964,"comment_id":52494469,"body_markdown":"The &quot;answer&quot; by &quot;Mr. Noddy&quot; was probably meant to be a comment, but he doesn&#39;t have 50 points reputation. He tells you to look here: https://stackoverflow.com/questions/18152803/how-do-you-track-the-location-of-pdpagecontentstreams-text-output . Btw, the answer to your question &quot;Is there a way through which i can get the cursor information like where the cursor is present&quot; is &quot;no&quot;.","body":"The &quot;answer&quot; by &quot;Mr. Noddy&quot; was probably meant to be a comment, but he doesn&#39;t have 50 points reputation. He tells you to look here: <a href=\"https://stackoverflow.com/questions/18152803/how-do-you-track-the-location-of-pdpagecontentstreams-text-output\" title=\"how do you track the location of pdpagecontentstreams text output\">stackoverflow.com/questions/18152803/&hellip;</a> . Btw, the answer to your question &quot;Is there a way through which i can get the cursor information like where the cursor is present&quot; is &quot;no&quot;."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1441350624,"post_id":32308964,"comment_id":52652892,"body_markdown":"if an answer solved your problem, please press the green checkmark. If it isn&#39;t, mention in the comments why.","body":"if an answer solved your problem, please press the green checkmark. If it isn&#39;t, mention in the comments why."}],"answers":[{"tags":[],"owner":{"account_id":6450270,"reputation":1304,"user_id":5201008,"accept_rate":56,"display_name":"Nirav Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1441160098,"creation_date":1441087763,"answer_id":32324661,"question_id":32308964,"body_markdown":"You can use some class level variables like below which maintains positionY throught execution of pdf generation.\r\n\r\n    float PAGE_MARGIN = 20;\r\n    float newPagepositionY = page.findMediaBox().getHeight() - PAGE_MARGIN;\r\n    float positionY = newPagepositionY;\r\n    PDPage currentPage = new PDPage();\r\n\r\nBefore adding any content on PDF, check whether cursor has reached at end of page or not.\r\ni.e. Create funtion as shown below\r\n\r\n    public boolean isEndOfPage(Row row) \r\n    {\r\n    \tfloat currentY = this.positionY ;\r\n    \tboolean isEndOfPage = currentY  &lt;= (PAGE_MARGIN + 10);\r\n    \t\r\n    \treturn isEndOfPage;\r\n    }\r\n\r\nUsing above funtion, you can create new page as required.\r\n\r\n    if (isEndOfPage(row)) \r\n    {\r\n    \t// Reset positionY  to newPagepositionY\r\n    \tthis.positionY  = newPagepositionY;\r\n    \r\n    \tthis.currentPage = new PDPage();\r\n    \t\r\n    \t// your code\r\n    }","title":"How to add multiple pages in PDFBox","body":"<p>You can use some class level variables like below which maintains positionY throught execution of pdf generation.</p>\n\n<pre><code>float PAGE_MARGIN = 20;\nfloat newPagepositionY = page.findMediaBox().getHeight() - PAGE_MARGIN;\nfloat positionY = newPagepositionY;\nPDPage currentPage = new PDPage();\n</code></pre>\n\n<p>Before adding any content on PDF, check whether cursor has reached at end of page or not.\ni.e. Create funtion as shown below</p>\n\n<pre><code>public boolean isEndOfPage(Row row) \n{\n    float currentY = this.positionY ;\n    boolean isEndOfPage = currentY  &lt;= (PAGE_MARGIN + 10);\n\n    return isEndOfPage;\n}\n</code></pre>\n\n<p>Using above funtion, you can create new page as required.</p>\n\n<pre><code>if (isEndOfPage(row)) \n{\n    // Reset positionY  to newPagepositionY\n    this.positionY  = newPagepositionY;\n\n    this.currentPage = new PDPage();\n\n    // your code\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1109015,"reputation":1359,"user_id":1099819,"accept_rate":75,"display_name":"Mirko Ebert"},"score":1,"creation_date":1544615416,"post_id":53742060,"comment_id":94337288,"body_markdown":"Can you please explain the solution.","body":"Can you please explain the solution."}],"tags":[],"owner":{"account_id":14931104,"reputation":21,"user_id":10780484,"display_name":"kenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546626324,"creation_date":1544614102,"answer_id":53742060,"question_id":32308964,"body_markdown":"This worked for me\r\n    \r\n    package trypdf;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.pdmodel.PDPage;\r\n    import org.apache.pdfbox.pdmodel.PDPageContentStream;\r\n    import org.apache.pdfbox.pdmodel.font.PDType1Font;\r\n    \r\n    public class PDF {\r\n    \t\r\n    \tpublic static PDPage blankPage= new PDPage();\r\n        public  static float PAGE_MARGIN = 5;\r\n    \tpublic static  float newPagepositionY = blankPage.getMediaBox().getHeight() - \r\n              PAGE_MARGIN;\r\n    \tpublic static    float positionY = newPagepositionY;\r\n    \r\n    \tpublic static void main(String[] args)throws IOException \r\n    \t{\r\n    \t\t\r\n    \t      PDDocument document = new PDDocument();    \r\n    \t      \r\n   \t          // adding a new page to the document - the first page\r\n    \t      document.addPage(blankPage);   \r\n    \t      \r\n              // creating the content that will appear on the previously added \r\n              //page \r\n    \t      PDPageContentStream contentStream = new \r\n                          PDPageContentStream(document,blankPage); \r\n    \t      \r\n    \t      //the begin of the text for the content\r\n              contentStream.beginText();\r\n              \r\n              //formating the text   \r\n    \t      contentStream.setFont( PDType1Font.TIMES_ROMAN, 12 );\r\n    \t      contentStream.setLeading(14.5f);\r\n\r\n              //setting the coordinates from where the text will be displayed \r\n              //on the page (first one is the column, second is for row)\r\n    \t      contentStream.newLineAtOffset(15, 750);\r\n    \t      \r\n              //depending on the text formats you can get more or less rows on a \r\n              //page, for my formats I gor 49 rows + the document margins and \r\n              //the spaces between the rows; this goes for the first for\r\n              for(int i=0; i&lt;48;i++) {\t\r\n                  \r\n                  //will display a text at the begining of every row in my case \r\n                  //it will display the row number\r\n    \t    \t  contentStream. showText(Integer.toString(i));\r\n    \t    \t  \r\n                  //this for will display some text to each column of the page\r\n                  //in my case it will display the letter &quot;a&quot;+ one space 64 \r\n                  //times; depending on the text formats you can get more or \r\n                  //less characters\r\n                  for(int j=0;j&lt;63;j++) {\r\n    \t    \t\t  contentStream. showText(&quot;a&quot;+&quot; &quot;);\r\n    \t    \t  }\r\n    \t    \t  \r\n                  //I wanted to display a &quot;b&quot; at each end of a line so I coud \r\n                  //see that the line fits to the page\r\n                  contentStream. showText(&quot;b&quot;);\r\n    \t    \t  \r\n                  //adds another line  \r\n                  contentStream.newLine();\r\n    \t      }\t\r\n\r\n              //marks the end of the text that will be displayed on the first \r\n              //page          \r\n    \t      contentStream.endText();\r\n              \r\n              //will close the content for the first page\r\n    \t      contentStream.close();\r\n    \t      \r\n              //end of the first page\r\n\r\n    \t      //adding other 3 pages with the same text\r\n    \t      int j=0; //the counter for the pages that will be added\r\n    \t      \r\n              while(j&lt;3) {\r\n    \t            \r\n                    //adding another blank page to the document with different \r\n                    //text from the previous one\r\n                    document.addPage(blankPage=new PDPage());\r\n    \t            \r\n                    //taking a content for the new page\r\n                    contentStream = new PDPageContentStream(document,blankPage);\r\n    \t            contentStream.beginText(); \r\n    \t            contentStream.setFont( PDType1Font.TIMES_ROMAN, 12 );\r\n    \t            contentStream.setLeading(14.5f);\r\n    \t            contentStream.newLineAtOffset(15, 720);\r\n\r\n                    //display a number for every row on the page\r\n    \t            for( int i=50; i&lt;98;i++) {\r\n    \t    \t          contentStream. showText(Integer.toString(i));\r\n    \t    \t          contentStream.newLine();\r\n    \t            }\r\n    \t            \r\n                    //closing the text and the content\r\n                    contentStream.endText();\r\n    \t            contentStream.close();\r\n\r\n                    //increasing the counter for the page    \t           \r\n                    j++;\r\n    \t      }\r\n    \t      System.out.println(&quot;Content added&quot;);\r\n    \t      \r\n              //Saving the document\r\n    \t      document.save(&quot;C:/PdfBox_Examples/docc1.pdf&quot;);  \r\n    \t      System.out.println(&quot;PDF created&quot;);  \r\n    \t      document.close();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to add multiple pages in PDFBox","body":"<p>This worked for me</p>\n\n<pre><code>package trypdf;\n\nimport java.io.IOException;\n\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\n\npublic class PDF {\n\n    public static PDPage blankPage= new PDPage();\n    public  static float PAGE_MARGIN = 5;\n    public static  float newPagepositionY = blankPage.getMediaBox().getHeight() - \n          PAGE_MARGIN;\n    public static    float positionY = newPagepositionY;\n\n    public static void main(String[] args)throws IOException \n    {\n\n          PDDocument document = new PDDocument();    \n\n          // adding a new page to the document - the first page\n          document.addPage(blankPage);   \n\n          // creating the content that will appear on the previously added \n          //page \n          PDPageContentStream contentStream = new \n                      PDPageContentStream(document,blankPage); \n\n          //the begin of the text for the content\n          contentStream.beginText();\n\n          //formating the text   \n          contentStream.setFont( PDType1Font.TIMES_ROMAN, 12 );\n          contentStream.setLeading(14.5f);\n\n          //setting the coordinates from where the text will be displayed \n          //on the page (first one is the column, second is for row)\n          contentStream.newLineAtOffset(15, 750);\n\n          //depending on the text formats you can get more or less rows on a \n          //page, for my formats I gor 49 rows + the document margins and \n          //the spaces between the rows; this goes for the first for\n          for(int i=0; i&lt;48;i++) {  \n\n              //will display a text at the begining of every row in my case \n              //it will display the row number\n              contentStream. showText(Integer.toString(i));\n\n              //this for will display some text to each column of the page\n              //in my case it will display the letter \"a\"+ one space 64 \n              //times; depending on the text formats you can get more or \n              //less characters\n              for(int j=0;j&lt;63;j++) {\n                  contentStream. showText(\"a\"+\" \");\n              }\n\n              //I wanted to display a \"b\" at each end of a line so I coud \n              //see that the line fits to the page\n              contentStream. showText(\"b\");\n\n              //adds another line  \n              contentStream.newLine();\n          } \n\n          //marks the end of the text that will be displayed on the first \n          //page          \n          contentStream.endText();\n\n          //will close the content for the first page\n          contentStream.close();\n\n          //end of the first page\n\n          //adding other 3 pages with the same text\n          int j=0; //the counter for the pages that will be added\n\n          while(j&lt;3) {\n\n                //adding another blank page to the document with different \n                //text from the previous one\n                document.addPage(blankPage=new PDPage());\n\n                //taking a content for the new page\n                contentStream = new PDPageContentStream(document,blankPage);\n                contentStream.beginText(); \n                contentStream.setFont( PDType1Font.TIMES_ROMAN, 12 );\n                contentStream.setLeading(14.5f);\n                contentStream.newLineAtOffset(15, 720);\n\n                //display a number for every row on the page\n                for( int i=50; i&lt;98;i++) {\n                      contentStream. showText(Integer.toString(i));\n                      contentStream.newLine();\n                }\n\n                //closing the text and the content\n                contentStream.endText();\n                contentStream.close();\n\n                //increasing the counter for the page                  \n                j++;\n          }\n          System.out.println(\"Content added\");\n\n          //Saving the document\n          document.save(\"C:/PdfBox_Examples/docc1.pdf\");  \n          System.out.println(\"PDF created\");  \n          document.close();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18928040,"reputation":1,"user_id":13810716,"display_name":"mandeep Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695028995,"creation_date":1695028995,"answer_id":77125956,"question_id":32308964,"body_markdown":"\r\n\r\n    // Imports\r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.pdmodel.PDPage;\r\n    import org.apache.pdfbox.pdmodel.PDPageContentStream;\r\n    import org.apache.pdfbox.pdmodel.font.PDFont;\r\n    import org.apache.pdfbox.pdmodel.font.PDType1Font;\r\n    \r\n    // Method to add a paragraph to a PDF document\r\n    public static void addParagraph(PDDocument document, String text, PDFont font, float fontSize, float margin) throws IOException {\r\n      // Create a new page if the document is empty\r\n      if (document.getNumberOfPages() == 0) {\r\n        document.addPage(new PDPage());\r\n      }\r\n      \r\n      // Get the current page and its content stream\r\n      PDPage page = document.getPage(document.getNumberOfPages() - 1);\r\n      PDPageContentStream contentStream = new PDPageContentStream(document, page, PDPageContentStream.AppendMode.APPEND, true);\r\n      \r\n      // Set the text attributes\r\n      contentStream.setFont(font, fontSize);\r\n      contentStream.setLeading(fontSize * 1.2f); // Line spacing\r\n      \r\n      // Split the text into lines based on the page width and margin\r\n      float pageWidth = page.getMediaBox().getWidth();\r\n      float maxLineWidth = pageWidth - 2 * margin;\r\n      List&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n      int lastSpace = -1;\r\n      while (text.length() &gt; 0) {\r\n        int spaceIndex = text.indexOf(&#39; &#39;, lastSpace + 1);\r\n        if (spaceIndex &lt; 0) {\r\n          spaceIndex = text.length();\r\n        }\r\n        String subString = text.substring(0, spaceIndex);\r\n        float subStringWidth = font.getStringWidth(subString) / 1000 * fontSize;\r\n        if (subStringWidth &gt; maxLineWidth) {\r\n          if (lastSpace &lt; 0) { // The word is longer than the line\r\n            lastSpace = spaceIndex; // Break the word\r\n          }\r\n          subString = text.substring(0, lastSpace);\r\n          lines.add(subString);\r\n          text = text.substring(lastSpace).trim();\r\n          lastSpace = -1;\r\n        } else if (spaceIndex == text.length()) { // The last line\r\n          lines.add(text);\r\n          text = &quot;&quot;;\r\n        } else {\r\n          lastSpace = spaceIndex;\r\n        }\r\n      }\r\n      \r\n      // Write the lines to the content stream\r\n      contentStream.beginText();\r\n      float pageHeight = page.getMediaBox().getHeight();\r\n      float currentY = pageHeight - margin; // Start from the top margin\r\n      for (String line : lines) {\r\n        float lineWidth = font.getStringWidth(line) / 1000 * fontSize;\r\n        float currentX = margin + (maxLineWidth - lineWidth) / 2; // Center the text horizontally\r\n        if (currentY - fontSize &lt; margin) { // No more space in the current page\r\n          contentStream.endText();\r\n          contentStream.close();\r\n          page = new PDPage(); // Create a new page\r\n          document.addPage(page);\r\n          contentStream = new PDPageContentStream(document, page, PDPageContentStream.AppendMode.APPEND, true); // Get its content stream\r\n          contentStream.setFont(font, fontSize); // Set the text attributes again\r\n          contentStream.setLeading(fontSize * 1.2f);\r\n          contentStream.beginText();\r\n          currentY = pageHeight - margin; // Reset the current Y position\r\n        }\r\n        contentStream.newLineAtOffset(currentX, currentY); // Move to the next line position\r\n        contentStream.showText(line); // Show the line\r\n        contentStream.newLine(); // Advance to the next line\r\n        currentY -= fontSize * 1.2f; // Update the current Y position\r\n      }\r\n      \r\n      // Close the content stream and save the document\r\n      contentStream.endText();\r\n      contentStream.close();\r\n    }\r\n\r\n","title":"How to add multiple pages in PDFBox","body":"<pre><code>// Imports\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.font.PDFont;\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\n\n// Method to add a paragraph to a PDF document\npublic static void addParagraph(PDDocument document, String text, PDFont font, float fontSize, float margin) throws IOException {\n  // Create a new page if the document is empty\n  if (document.getNumberOfPages() == 0) {\n    document.addPage(new PDPage());\n  }\n  \n  // Get the current page and its content stream\n  PDPage page = document.getPage(document.getNumberOfPages() - 1);\n  PDPageContentStream contentStream = new PDPageContentStream(document, page, PDPageContentStream.AppendMode.APPEND, true);\n  \n  // Set the text attributes\n  contentStream.setFont(font, fontSize);\n  contentStream.setLeading(fontSize * 1.2f); // Line spacing\n  \n  // Split the text into lines based on the page width and margin\n  float pageWidth = page.getMediaBox().getWidth();\n  float maxLineWidth = pageWidth - 2 * margin;\n  List&lt;String&gt; lines = new ArrayList&lt;&gt;();\n  int lastSpace = -1;\n  while (text.length() &gt; 0) {\n    int spaceIndex = text.indexOf(' ', lastSpace + 1);\n    if (spaceIndex &lt; 0) {\n      spaceIndex = text.length();\n    }\n    String subString = text.substring(0, spaceIndex);\n    float subStringWidth = font.getStringWidth(subString) / 1000 * fontSize;\n    if (subStringWidth &gt; maxLineWidth) {\n      if (lastSpace &lt; 0) { // The word is longer than the line\n        lastSpace = spaceIndex; // Break the word\n      }\n      subString = text.substring(0, lastSpace);\n      lines.add(subString);\n      text = text.substring(lastSpace).trim();\n      lastSpace = -1;\n    } else if (spaceIndex == text.length()) { // The last line\n      lines.add(text);\n      text = &quot;&quot;;\n    } else {\n      lastSpace = spaceIndex;\n    }\n  }\n  \n  // Write the lines to the content stream\n  contentStream.beginText();\n  float pageHeight = page.getMediaBox().getHeight();\n  float currentY = pageHeight - margin; // Start from the top margin\n  for (String line : lines) {\n    float lineWidth = font.getStringWidth(line) / 1000 * fontSize;\n    float currentX = margin + (maxLineWidth - lineWidth) / 2; // Center the text horizontally\n    if (currentY - fontSize &lt; margin) { // No more space in the current page\n      contentStream.endText();\n      contentStream.close();\n      page = new PDPage(); // Create a new page\n      document.addPage(page);\n      contentStream = new PDPageContentStream(document, page, PDPageContentStream.AppendMode.APPEND, true); // Get its content stream\n      contentStream.setFont(font, fontSize); // Set the text attributes again\n      contentStream.setLeading(fontSize * 1.2f);\n      contentStream.beginText();\n      currentY = pageHeight - margin; // Reset the current Y position\n    }\n    contentStream.newLineAtOffset(currentX, currentY); // Move to the next line position\n    contentStream.showText(line); // Show the line\n    contentStream.newLine(); // Advance to the next line\n    currentY -= fontSize * 1.2f; // Update the current Y position\n  }\n  \n  // Close the content stream and save the document\n  contentStream.endText();\n  contentStream.close();\n}\n</code></pre>\n"}],"owner":{"account_id":6091194,"reputation":33,"user_id":4753403,"display_name":"nb23"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8846,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1695028995,"creation_date":1441016230,"question_id":32308964,"body_markdown":"I want to write some content in my PDF using PDFBox. Once the page height is less than the margin I need to create another page. I want to retain the cursor information. I s there a way through which i can get the cursor information like where the cursor is present so i can subtract the margin from cursor position and add another page to it. Right now I have done something like this\r\n\r\n    PDRectangle rect = page.getMediaBox();\r\n    float positionY = rect.getWidth();\r\n     positionY = positionY - pdfWriter.defaultBottomMargin;\r\n    if(positionY &lt; positionX) {\r\n                   positionY = rect.getWidth();\r\n                    PDPage page2 = page;\r\n                   rect = page2.getMediaBox();\r\n                   document.addPage(page2);\r\n                   PDPageContentStream contentStream = new PDPageContentStream(document, page2);\r\n                   contentStream.appendRawCommands(&quot;T*\\n&quot;);\r\n                   contentStream.beginText();\r\n                  // contentStream.setFont(font, 12);\r\n                   contentStream.moveTextPositionByAmount(positionX, positionY);\r\n                   contentStream.drawString(tmpText[k]);\r\n                   contentStream.endText();\r\n                   contentStream.close();\r\n                   }","title":"How to add multiple pages in PDFBox","body":"<p>I want to write some content in my PDF using PDFBox. Once the page height is less than the margin I need to create another page. I want to retain the cursor information. I s there a way through which i can get the cursor information like where the cursor is present so i can subtract the margin from cursor position and add another page to it. Right now I have done something like this</p>\n\n<pre><code>PDRectangle rect = page.getMediaBox();\nfloat positionY = rect.getWidth();\n positionY = positionY - pdfWriter.defaultBottomMargin;\nif(positionY &lt; positionX) {\n               positionY = rect.getWidth();\n                PDPage page2 = page;\n               rect = page2.getMediaBox();\n               document.addPage(page2);\n               PDPageContentStream contentStream = new PDPageContentStream(document, page2);\n               contentStream.appendRawCommands(\"T*\\n\");\n               contentStream.beginText();\n              // contentStream.setFont(font, 12);\n               contentStream.moveTextPositionByAmount(positionX, positionY);\n               contentStream.drawString(tmpText[k]);\n               contentStream.endText();\n               contentStream.close();\n               }\n</code></pre>\n"},{"tags":["java","android","firebase-analytics"],"comments":[{"owner":{"account_id":11938965,"reputation":779,"user_id":9512447,"display_name":"Max"},"score":1,"creation_date":1679314007,"post_id":71477354,"comment_id":133693581,"body_markdown":"I have the same problem, dont know how to fix it though i can see parameters in a debug mode","body":"I have the same problem, dont know how to fix it though i can see parameters in a debug mode"}],"answers":[{"tags":[],"owner":{"account_id":17108478,"reputation":107,"user_id":12379954,"display_name":"Gergő Csisz&#225;r"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683405705,"creation_date":1683405705,"answer_id":76191042,"question_id":71477354,"body_markdown":"This problem cause me a big headache, but I realized that the site was not visited by enough people. After some time, as more data arrived on my page, the parameters for my event appeared. \r\nYou can read about these thresholds here: https://support.google.com/firebase/answer/9268042?visit_id=638190021689212752-425852670&amp;rd=1\r\n\r\nI hope this solves your problem too!","title":"Firebase Analytics: Parameter name selection for event is empty even though I have setup custom definition","body":"<p>This problem cause me a big headache, but I realized that the site was not visited by enough people. After some time, as more data arrived on my page, the parameters for my event appeared.\nYou can read about these thresholds here: <a href=\"https://support.google.com/firebase/answer/9268042?visit_id=638190021689212752-425852670&amp;rd=1\" rel=\"nofollow noreferrer\">https://support.google.com/firebase/answer/9268042?visit_id=638190021689212752-425852670&amp;rd=1</a></p>\n<p>I hope this solves your problem too!</p>\n"}],"owner":{"account_id":27431,"reputation":46866,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1695028263,"creation_date":1647321195,"question_id":71477354,"body_markdown":"This is how I log firebase event in my app\r\n\r\n    public static void trackGAEvent(String name, String screenName) {\r\n        FirebaseAnalytics firebaseAnalytics = Utils.getFirebaseAnalytics();\r\n\r\n        if (firebaseAnalytics == null) {\r\n            return;\r\n        }\r\n\r\n        Bundle bundle = null;\r\n\r\n        if (screenName != null) {\r\n            bundle = new Bundle();\r\n            bundle.putString(FirebaseAnalytics.Param.SCREEN_NAME, screenName);\r\n        }\r\n\r\n        firebaseAnalytics.logEvent(name, bundle);\r\n    }\r\n\r\n    trackEvent(&quot;review_ok&quot;, &quot;screen_name_A&quot;);\r\n    trackEvent(&quot;review_ok&quot;, &quot;screen_name_B&quot;);\r\n\r\n\r\n----------\r\n\r\nBy using custom definition, I expect I can break down the event `review_ok` to `screen_name_A` and `screen_name_B`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHowever, when I look at the even of `review_ok`, the parameter name selection is empty.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nDo you know what else I have missed out?\r\n\r\n  [1]: https://i.stack.imgur.com/O6pOh.png\r\n  [2]: https://i.stack.imgur.com/FM0ye.png","title":"Firebase Analytics: Parameter name selection for event is empty even though I have setup custom definition","body":"<p>This is how I log firebase event in my app</p>\n<pre><code>public static void trackGAEvent(String name, String screenName) {\n    FirebaseAnalytics firebaseAnalytics = Utils.getFirebaseAnalytics();\n\n    if (firebaseAnalytics == null) {\n        return;\n    }\n\n    Bundle bundle = null;\n\n    if (screenName != null) {\n        bundle = new Bundle();\n        bundle.putString(FirebaseAnalytics.Param.SCREEN_NAME, screenName);\n    }\n\n    firebaseAnalytics.logEvent(name, bundle);\n}\n\ntrackEvent(&quot;review_ok&quot;, &quot;screen_name_A&quot;);\ntrackEvent(&quot;review_ok&quot;, &quot;screen_name_B&quot;);\n</code></pre>\n<hr />\n<p>By using custom definition, I expect I can break down the event <code>review_ok</code> to <code>screen_name_A</code> and <code>screen_name_B</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/O6pOh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O6pOh.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when I look at the even of <code>review_ok</code>, the parameter name selection is empty.</p>\n<p><a href=\"https://i.stack.imgur.com/FM0ye.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FM0ye.png\" alt=\"enter image description here\" /></a></p>\n<p>Do you know what else I have missed out?</p>\n"},{"tags":["java","android","asp.net-core","retrofit2"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1695039474,"post_id":77125873,"comment_id":135966514,"body_markdown":"I don&#39;t see any user authentication, just the easy to forge userId. Are you sure this is an open API where everybody without having an account can upload images?","body":"I don&#39;t see any user authentication, just the easy to forge userId. Are you sure this is an open API where everybody without having an account can upload images?"},{"owner":{"account_id":27625362,"reputation":11,"user_id":21085467,"display_name":"Владислав Мельник"},"score":0,"creation_date":1695067710,"post_id":77125873,"comment_id":135972121,"body_markdown":"@Robert Yes, this is an open API, tomorrow I can reset the controller code where this method is, if necessary","body":"@Robert Yes, this is an open API, tomorrow I can reset the controller code where this method is, if necessary"},{"owner":{"account_id":19892464,"reputation":11446,"user_id":14574199,"display_name":"Tiny Wang"},"score":0,"creation_date":1695092699,"post_id":77125873,"comment_id":135974581,"body_markdown":"for .net core api `public async Task&lt;IActionResult&gt; UploadPhotoAsync(UploadDTO upload)`, it requires the request to post `formdata`, you might have a test with postman to call the api seperately, and I&#39;m afraid that it would work because your code of the api looks good.","body":"for .net core api <code>public async Task&lt;IActionResult&gt; UploadPhotoAsync(UploadDTO upload)</code>, it requires the request to post <code>formdata</code>, you might have a test with postman to call the api seperately, and I&#39;m afraid that it would work because your code of the api looks good."}],"owner":{"account_id":27625362,"reputation":11,"user_id":21085467,"display_name":"Владислав Мельник"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695028250,"creation_date":1695028250,"question_id":77125873,"body_markdown":"Throws a 400 Bad Request error when sending a photo to the server. I am sending via retrofit 2 to the server. I download the photo from my phone in png format and try to upload it to the server. Please help who can. Below will be the code for Android and the server (AspNet Core 6.0):\r\nCode Android:\r\n\r\n```\r\nselectedImageUri = data.getData();\r\n\r\n            // Отримайте фактичний шлях до вибраної фотографії і використовуйте його\r\n            imagePath = getPathFromUri(selectedImageUri);\r\n\r\n\r\n            // Отримайте файл з фактичним шляхом\r\n            File imageFile = new File(imagePath);\r\n            RequestBody requestFile = RequestBody.create(MediaType.parse(&quot;multipart/form-data&quot;), imageFile);\r\n            MultipartBody.Part body = MultipartBody.Part.createFormData(&quot;imageFile&quot;, imageFile.getName(), requestFile);\r\n\r\n            UploadDTO uploadDTO = new UploadDTO();\r\n            uploadDTO.setImageFile(body);\r\n            uploadDTO.setUserId(correctUser.getId());\r\n\r\n            Log.d(&quot;user id:&quot;, uploadDTO.getUserId());\r\n            Log.d(&quot;image:&quot;, String.valueOf(uploadDTO.getImageFile().body()));\r\n\r\n            RequestBody userIdRequestBody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;), correctUser.getId());\r\n\r\n            apiService.uploadPhoto(uploadDTO).enqueue(new Callback&lt;User&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;User&gt; call, Response&lt;User&gt; response) {\r\n                    if(response.body() != null)\r\n                    {\r\n                        // Тут ви можете робити що завгодно з вибраною фотографією, наприклад, відображати її у віджеті ImageView\r\n                        avatarImg.setImageURI(selectedImageUri);\r\n                        urlAv = imagePath;\r\n                    }\r\n                    else\r\n                    {\r\n                        Log.d(&quot;Error: &quot;, String.valueOf(response.code() + &quot; &quot; + response.message()));\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call&lt;User&gt; call, Throwable t) {\r\n\r\n                }\r\n            });\r\n```\r\n\r\nUploadDTO:\r\n\r\n```\r\npackage com.example.uklon_android.DTOs;\r\n\r\nimport java.io.File;\r\n\r\nimport okhttp3.MultipartBody;\r\nimport retrofit2.http.Part;\r\n\r\npublic class UploadDTO {\r\n    String userId;\r\n    MultipartBody.Part imageFile;\r\n\r\n    public void setUserId(String userId)\r\n    {\r\n        this.userId = userId;\r\n    };\r\n\r\n    public String getUserId()\r\n    {\r\n        return userId;\r\n    }\r\n\r\n    public void setImageFile(MultipartBody.Part imageFile)\r\n    {\r\n        this.imageFile = imageFile;\r\n    };\r\n\r\n    public MultipartBody.Part getImageFile()\r\n    {\r\n        return imageFile;\r\n    }\r\n}\r\n```\r\n\r\nCode in server:\r\n\r\n```\r\n[HttpPost(&quot;upload-photo&quot;)]\r\n        public async Task&lt;IActionResult&gt; UploadPhotoAsync(UploadDTO upload)\r\n        {\r\n            if (upload.imageFile == null || upload.imageFile.Length == 0)\r\n            {\r\n                return BadRequest(&quot;No file uploaded.&quot;);\r\n            }\r\n\r\n            try\r\n            {\r\n                var fileName = Guid.NewGuid().ToString() + Path.GetExtension(upload.imageFile.FileName);\r\n\r\n                // Шлях для збереження файлу на сервері\r\n                var filePath = Path.Combine(&quot;uploads&quot;, fileName);\r\n\r\n                using (var stream = new FileStream(filePath, FileMode.Create))\r\n                {\r\n                    await upload.imageFile.CopyToAsync(stream);\r\n                }\r\n\r\n                // Ви можете зберігати шлях до файлу в базі даних або повертати його як відповідь\r\n                string imageUrl = &quot;/uploads/&quot; + fileName;\r\n\r\n                // Пошук моделі за ідентифікатором\r\n                var existingModel = await _context.Users.FindAsync(upload.userId);\r\n\r\n                if (existingModel == null)\r\n                    return NotFound();\r\n\r\n                // Оновлення полів моделі\r\n                existingModel.Url = imageUrl;\r\n\r\n                // Зберегти зміни\r\n                await _context.SaveChangesAsync();\r\n\r\n                return Ok(existingModel);\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                return BadRequest(new { error = ex.Message });\r\n            }\r\n        }\r\n```\r\n\r\nUploadDTO in server:\r\n\r\n```\r\n\r\nusing Microsoft.AspNetCore.Http;\r\nusing System;\r\nusing System.Collections.Generic;\r\nusing System.Linq;\r\nusing System.Text;\r\nusing System.Threading.Tasks;\r\n\r\nnamespace BissnesLogic.DTOs\r\n{\r\n    public class UploadDTO\r\n    {\r\n        public string userId { get; set; }\r\n        public IFormFile imageFile { get; set; }\r\n    }\r\n}\r\n```\r\n\r\nPlease tell me what could be the problem?\r\n\r\nI don&#39;t understand what could be wrong","title":"Error: com.example.uklon_android D 400 Bad Request when sending a photo to the server","body":"<p>Throws a 400 Bad Request error when sending a photo to the server. I am sending via retrofit 2 to the server. I download the photo from my phone in png format and try to upload it to the server. Please help who can. Below will be the code for Android and the server (AspNet Core 6.0):\nCode Android:</p>\n<pre><code>selectedImageUri = data.getData();\n\n            // Отримайте фактичний шлях до вибраної фотографії і використовуйте його\n            imagePath = getPathFromUri(selectedImageUri);\n\n\n            // Отримайте файл з фактичним шляхом\n            File imageFile = new File(imagePath);\n            RequestBody requestFile = RequestBody.create(MediaType.parse(&quot;multipart/form-data&quot;), imageFile);\n            MultipartBody.Part body = MultipartBody.Part.createFormData(&quot;imageFile&quot;, imageFile.getName(), requestFile);\n\n            UploadDTO uploadDTO = new UploadDTO();\n            uploadDTO.setImageFile(body);\n            uploadDTO.setUserId(correctUser.getId());\n\n            Log.d(&quot;user id:&quot;, uploadDTO.getUserId());\n            Log.d(&quot;image:&quot;, String.valueOf(uploadDTO.getImageFile().body()));\n\n            RequestBody userIdRequestBody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;), correctUser.getId());\n\n            apiService.uploadPhoto(uploadDTO).enqueue(new Callback&lt;User&gt;() {\n                @Override\n                public void onResponse(Call&lt;User&gt; call, Response&lt;User&gt; response) {\n                    if(response.body() != null)\n                    {\n                        // Тут ви можете робити що завгодно з вибраною фотографією, наприклад, відображати її у віджеті ImageView\n                        avatarImg.setImageURI(selectedImageUri);\n                        urlAv = imagePath;\n                    }\n                    else\n                    {\n                        Log.d(&quot;Error: &quot;, String.valueOf(response.code() + &quot; &quot; + response.message()));\n                    }\n                }\n\n                @Override\n                public void onFailure(Call&lt;User&gt; call, Throwable t) {\n\n                }\n            });\n</code></pre>\n<p>UploadDTO:</p>\n<pre><code>package com.example.uklon_android.DTOs;\n\nimport java.io.File;\n\nimport okhttp3.MultipartBody;\nimport retrofit2.http.Part;\n\npublic class UploadDTO {\n    String userId;\n    MultipartBody.Part imageFile;\n\n    public void setUserId(String userId)\n    {\n        this.userId = userId;\n    };\n\n    public String getUserId()\n    {\n        return userId;\n    }\n\n    public void setImageFile(MultipartBody.Part imageFile)\n    {\n        this.imageFile = imageFile;\n    };\n\n    public MultipartBody.Part getImageFile()\n    {\n        return imageFile;\n    }\n}\n</code></pre>\n<p>Code in server:</p>\n<pre><code>[HttpPost(&quot;upload-photo&quot;)]\n        public async Task&lt;IActionResult&gt; UploadPhotoAsync(UploadDTO upload)\n        {\n            if (upload.imageFile == null || upload.imageFile.Length == 0)\n            {\n                return BadRequest(&quot;No file uploaded.&quot;);\n            }\n\n            try\n            {\n                var fileName = Guid.NewGuid().ToString() + Path.GetExtension(upload.imageFile.FileName);\n\n                // Шлях для збереження файлу на сервері\n                var filePath = Path.Combine(&quot;uploads&quot;, fileName);\n\n                using (var stream = new FileStream(filePath, FileMode.Create))\n                {\n                    await upload.imageFile.CopyToAsync(stream);\n                }\n\n                // Ви можете зберігати шлях до файлу в базі даних або повертати його як відповідь\n                string imageUrl = &quot;/uploads/&quot; + fileName;\n\n                // Пошук моделі за ідентифікатором\n                var existingModel = await _context.Users.FindAsync(upload.userId);\n\n                if (existingModel == null)\n                    return NotFound();\n\n                // Оновлення полів моделі\n                existingModel.Url = imageUrl;\n\n                // Зберегти зміни\n                await _context.SaveChangesAsync();\n\n                return Ok(existingModel);\n            }\n            catch (Exception ex)\n            {\n                return BadRequest(new { error = ex.Message });\n            }\n        }\n</code></pre>\n<p>UploadDTO in server:</p>\n<pre><code>\nusing Microsoft.AspNetCore.Http;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace BissnesLogic.DTOs\n{\n    public class UploadDTO\n    {\n        public string userId { get; set; }\n        public IFormFile imageFile { get; set; }\n    }\n}\n</code></pre>\n<p>Please tell me what could be the problem?</p>\n<p>I don't understand what could be wrong</p>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":2019478,"reputation":4894,"user_id":1806005,"accept_rate":56,"display_name":"hi_my_name_is"},"score":1,"creation_date":1413458282,"post_id":26402875,"comment_id":41455197,"body_markdown":"how you call it, which url, parameters.. details man..","body":"how you call it, which url, parameters.. details man.."}],"answers":[{"comments":[{"owner":{"account_id":4418498,"reputation":108,"user_id":3599302,"accept_rate":50,"display_name":"user3599302"},"score":0,"creation_date":1413524640,"post_id":26403984,"comment_id":41483869,"body_markdown":"yes. thank you for response. and i resolved this issue. i used onclick in jsp. and now i have new issue http://stackoverflow.com/questions/26418560/how-to-get-id-based-on-login-user-when-i-click-link","body":"yes. thank you for response. and i resolved this issue. i used onclick in jsp. and now i have new issue <a href=\"http://stackoverflow.com/questions/26418560/how-to-get-id-based-on-login-user-when-i-click-link\" title=\"how to get id based on login user when i click link\">stackoverflow.com/questions/26418560/&hellip;</a>"}],"tags":[],"owner":{"account_id":5138561,"reputation":111,"user_id":4116602,"display_name":"traianus"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413461213,"creation_date":1413461213,"answer_id":26403984,"question_id":26402875,"body_markdown":"As I see, probably you call /addProfile.htm without the id parameter and parseInt throws the NPE in this line:\r\n\r\n`int id = Integer.parseInt(request.getParameter(&quot;id&quot;));`","title":"Request processing failed; nested exception is java.lang.NumberFormatException: null","body":"<p>As I see, probably you call /addProfile.htm without the id parameter and parseInt throws the NPE in this line:</p>\n\n<p><code>int id = Integer.parseInt(request.getParameter(\"id\"));</code></p>\n"}],"owner":{"account_id":4418498,"reputation":108,"user_id":3599302,"accept_rate":50,"display_name":"user3599302"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695027815,"creation_date":1413457721,"question_id":26402875,"body_markdown":"I&#39;m getting error as `Request processing failed; nested exception is java.lang.NumberFormatException: null`.\r\n\r\nHere is my code:\r\n\r\n     @Controller\r\n     @RequestMapping(&quot;/customerAdmin&quot;)\r\n     public class CustomerAdmincontroller {\r\n            @InitBinder\r\n            public void initBinder(WebDataBinder binder) {\r\n                binder.registerCustomEditor(Customer.class, &quot;customer&quot;, new PropertyEditorSupport() {@\r\n                    Override\r\n                    public void setAsText(String customer) {\r\n          setValue(new Customer(Integer.parseInt(customer)));\r\n                    }\r\n                });\r\n            }\r\n    \r\n            @RequestMapping(value = &quot;/addProfile.htm&quot;, method = RequestMethod.GET)\r\n            public ModelAndView addProfileForm(ModelMap model, HttpServletRequest request) {\r\n                int id = Integer.parseInt(request.getParameter(&quot;id&quot;));\r\n                System.out.println(id);\r\n                Profile profile = new Profile();\r\n                Customer customer = new Customer(id);\r\n                profile.setCustomer(customer);\r\n                model.addAttribute(&quot;profile&quot;, profile);\r\n                ModelAndView mav = new ModelAndView(&quot;addProfile&quot;);\r\n                return mav;\r\n            }\r\n    }\r\n\r\n\r\nAm getting error as\r\n\r\n\r\n\r\n&gt; Oct 16, 2014 4:31:47 PM  invoke\r\n&gt; \r\n&gt;  SEVERE: Servlet.service() for servlet [dispatcherServlet] in context\r\n&gt;  with path [/CustomerPortal] threw exception [Request processing\r\n&gt;  failed; nested exception is java.lang.NumberFormatException: null]\r\n&gt;  with root cause\r\n\r\nwhen i run the project this error already show and i see this error in this Here but still it&#39;s error for me. any one can help me ?\r\nMy controler :\r\n\r\n\r\n    @Autowired\r\n    \taddozv stdDAO;\r\n    \r\n    \tprivate ServletRequest request;\r\n        @SuppressWarnings({ &quot;null&quot;})  \r\n              @RequestMapping(value=&quot;/addadmins&quot; , method = RequestMethod.POST)\r\n               public void addadmins(ModelMap model, HttpServletRequest requ) {\r\n            \t   String username = requ.getParameter(&quot;username&quot;);\r\n            \t   String password = requ.getParameter(&quot;password&quot;);\r\n            \t   String nozv = requ.getParameter(&quot;nozv&quot;);\r\n            \t   String namefamily = requ.getParameter(&quot;namefamily&quot;);\r\n            \t   String codemely = requ.getParameter(&quot;codemely&quot;);\r\n            \t   String father = requ.getParameter(&quot;father&quot;);\r\n            \t   String adress = requ.getParameter(&quot;adress&quot;);\r\n            \t   String telephone = requ.getParameter(&quot;telephone&quot;);\r\n            \t   admins adm=new admins();\r\n            \t   adm.setUsername(username);\r\n            \t   adm.setPassword(password);\r\n            \t   adm.setNozv(Integer.parseInt(nozv));\r\n            \t   adm.setNamefamily(namefamily);\r\n            \t   adm.setCodemely(Integer.parseInt(codemely));\r\n            \t   adm.setFather(father);\r\n            \t   adm.setAdress(adress);\r\n            \t   adm.setTelephone(Integer.parseInt(telephone));  \r\n            \t   stdDAO.add(adm);\r\n\r\nJdbc :\r\n\r\n    @Override\r\n    \tpublic void add(admins adm) {\r\n    \t\tString sql = &quot;INSERT INTO admins &quot; +\r\n    \t\t\t\t&quot;username, password, nozv, namefamily, codemely, father, adress, telephone) VALUES (?, ?, ?, ?, ?, ?, ?, ?)&quot;;\r\n    \t\tConnection conn = null;\r\n    \t\ttry{\r\n    \t\t\tconn = dataSource.getConnection();\r\n    \t\t\tPreparedStatement ps=conn.prepareStatement(sql);\r\n    \t\t\tps.setString(1, adm.getUsername());\r\n    \t\t\tps.setString(2, adm.getPassword());\r\n    \t\t\tps.setInt(3, adm.getNozv());\r\n    \t\t\tps.setString(4, adm.getNamefamily());\r\n    \t\t\tps.setInt(5, adm.getCodemely());\r\n    \t\t\tps.setString(6, adm.getFather());\r\n    \t\t\tps.setString(7, adm.getAdress());\r\n    \t\t\tps.setInt(8, adm.getTelephone());\r\n    \t\t\tps.executeUpdate();\r\n    \t\t\tps.close();\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\tthrow new RuntimeException(e);\r\n    \t\t\r\n    \t\t\t} finally {\r\n    \t\t\t\tif (conn != null) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\tconn.close();\r\n    \t\t\t} catch (SQLException e) {}\r\n    \t\t}\t\t\r\n    }\r\n\r\nand in jsp page it&#39;s true i don&#39;t know why already it&#39;s Error in this page.\r\nbefore this code i&#39;m writing this code:\r\n \r\n\r\n    @SuppressWarnings(&quot;null&quot;)\r\n       @RequestMapping(value=&quot;/addozvv&quot; , method = RequestMethod.GET)\r\n       public String addozv(ModelMap model) {\r\n          model.addAttribute(&quot;title&quot;, &quot;ozv&quot;);\r\n          \r\n    \r\n          return &quot;addozvv&quot;;\r\n       }\r\n       \r\n       @SuppressWarnings(&quot;null&quot;)\r\n       @RequestMapping(value=&quot;/addozvv&quot; , method = RequestMethod.POST)\r\n       public void showPageSaveozv(ModelMap model, HttpServletRequest req) {\r\n    \t   String Id = req.getParameter(&quot;nozviat&quot;);\r\n    \t   String namefamily = req.getParameter(&quot;namefamily&quot;);\r\n    \t   String codemely = req.getParameter(&quot;codemely&quot;);\r\n    \t   String father = req.getParameter(&quot;father&quot;);\r\n    \t   String adress = req.getParameter(&quot;adress&quot;);\r\n    \t   String otelephone = req.getParameter(&quot;otelephone&quot;);\r\n    \t   String znamefamily = req.getParameter(&quot;znamefamily&quot;);\r\n    \t   String zcodemely = req.getParameter(&quot;zcodemely&quot;);\r\n    \t   String office = req.getParameter(&quot;office&quot;);\r\n    \t   String ztelephone = req.getParameter(&quot;ztelephone&quot;);\r\n    \t \r\n          /////////////\r\n          ozviat ozv = new ozviat();\r\n          \t\r\n          ozv.setId(Integer.parseInt(Id));   \r\n          ozv.setNamefamily(namefamily); \r\n         \r\n    \tozv.setCodemely(Integer.parseInt(codemely));  \r\n          ozv.setFather(father);   \r\n          ozv.setAdress(adress);  \r\n          ozv.setOtelephone(Integer.parseInt(otelephone));   \r\n          ozv.setZnamefamily(znamefamily);   \r\n          ozv.setZcodemely(Integer.parseInt(zcodemely));   \r\n          ozv.setOffice(office); \r\n          ozv.setZtelephone(Integer.parseInt(ztelephone)); \r\n          stdDAO.insert(ozv);\r\n          \r\n \r\n       }\r\n\r\n but when i Run the project it&#39;s ture but other one it&#39;s a error\t\r\n\t\r\n","title":"Request processing failed; nested exception is java.lang.NumberFormatException: null","body":"<p>I'm getting error as <code>Request processing failed; nested exception is java.lang.NumberFormatException: null</code>.</p>\n\n<p>Here is my code:</p>\n\n<pre><code> @Controller\n @RequestMapping(\"/customerAdmin\")\n public class CustomerAdmincontroller {\n        @InitBinder\n        public void initBinder(WebDataBinder binder) {\n            binder.registerCustomEditor(Customer.class, \"customer\", new PropertyEditorSupport() {@\n                Override\n                public void setAsText(String customer) {\n      setValue(new Customer(Integer.parseInt(customer)));\n                }\n            });\n        }\n\n        @RequestMapping(value = \"/addProfile.htm\", method = RequestMethod.GET)\n        public ModelAndView addProfileForm(ModelMap model, HttpServletRequest request) {\n            int id = Integer.parseInt(request.getParameter(\"id\"));\n            System.out.println(id);\n            Profile profile = new Profile();\n            Customer customer = new Customer(id);\n            profile.setCustomer(customer);\n            model.addAttribute(\"profile\", profile);\n            ModelAndView mav = new ModelAndView(\"addProfile\");\n            return mav;\n        }\n}\n</code></pre>\n\n<p>Am getting error as</p>\n\n<blockquote>\n  <p>Oct 16, 2014 4:31:47 PM  invoke</p>\n  \n  <p>SEVERE: Servlet.service() for servlet [dispatcherServlet] in context\n   with path [/CustomerPortal] threw exception [Request processing\n   failed; nested exception is java.lang.NumberFormatException: null]\n   with root cause</p>\n</blockquote>\n\n<p>when i run the project this error already show and i see this error in this Here but still it's error for me. any one can help me ?\nMy controler :</p>\n\n<pre><code>@Autowired\n    addozv stdDAO;\n\n    private ServletRequest request;\n    @SuppressWarnings({ \"null\"})  \n          @RequestMapping(value=\"/addadmins\" , method = RequestMethod.POST)\n           public void addadmins(ModelMap model, HttpServletRequest requ) {\n               String username = requ.getParameter(\"username\");\n               String password = requ.getParameter(\"password\");\n               String nozv = requ.getParameter(\"nozv\");\n               String namefamily = requ.getParameter(\"namefamily\");\n               String codemely = requ.getParameter(\"codemely\");\n               String father = requ.getParameter(\"father\");\n               String adress = requ.getParameter(\"adress\");\n               String telephone = requ.getParameter(\"telephone\");\n               admins adm=new admins();\n               adm.setUsername(username);\n               adm.setPassword(password);\n               adm.setNozv(Integer.parseInt(nozv));\n               adm.setNamefamily(namefamily);\n               adm.setCodemely(Integer.parseInt(codemely));\n               adm.setFather(father);\n               adm.setAdress(adress);\n               adm.setTelephone(Integer.parseInt(telephone));  \n               stdDAO.add(adm);\n</code></pre>\n\n<p>Jdbc :</p>\n\n<pre><code>@Override\n    public void add(admins adm) {\n        String sql = \"INSERT INTO admins \" +\n                \"username, password, nozv, namefamily, codemely, father, adress, telephone) VALUES (?, ?, ?, ?, ?, ?, ?, ?)\";\n        Connection conn = null;\n        try{\n            conn = dataSource.getConnection();\n            PreparedStatement ps=conn.prepareStatement(sql);\n            ps.setString(1, adm.getUsername());\n            ps.setString(2, adm.getPassword());\n            ps.setInt(3, adm.getNozv());\n            ps.setString(4, adm.getNamefamily());\n            ps.setInt(5, adm.getCodemely());\n            ps.setString(6, adm.getFather());\n            ps.setString(7, adm.getAdress());\n            ps.setInt(8, adm.getTelephone());\n            ps.executeUpdate();\n            ps.close();\n            } catch (SQLException e) {\n                throw new RuntimeException(e);\n\n            } finally {\n                if (conn != null) {\n                    try {\n                conn.close();\n            } catch (SQLException e) {}\n        }       \n}\n</code></pre>\n\n<p>and in jsp page it's true i don't know why already it's Error in this page.\nbefore this code i'm writing this code:</p>\n\n<pre><code>@SuppressWarnings(\"null\")\n   @RequestMapping(value=\"/addozvv\" , method = RequestMethod.GET)\n   public String addozv(ModelMap model) {\n      model.addAttribute(\"title\", \"ozv\");\n\n\n      return \"addozvv\";\n   }\n\n   @SuppressWarnings(\"null\")\n   @RequestMapping(value=\"/addozvv\" , method = RequestMethod.POST)\n   public void showPageSaveozv(ModelMap model, HttpServletRequest req) {\n       String Id = req.getParameter(\"nozviat\");\n       String namefamily = req.getParameter(\"namefamily\");\n       String codemely = req.getParameter(\"codemely\");\n       String father = req.getParameter(\"father\");\n       String adress = req.getParameter(\"adress\");\n       String otelephone = req.getParameter(\"otelephone\");\n       String znamefamily = req.getParameter(\"znamefamily\");\n       String zcodemely = req.getParameter(\"zcodemely\");\n       String office = req.getParameter(\"office\");\n       String ztelephone = req.getParameter(\"ztelephone\");\n\n      /////////////\n      ozviat ozv = new ozviat();\n\n      ozv.setId(Integer.parseInt(Id));   \n      ozv.setNamefamily(namefamily); \n\n    ozv.setCodemely(Integer.parseInt(codemely));  \n      ozv.setFather(father);   \n      ozv.setAdress(adress);  \n      ozv.setOtelephone(Integer.parseInt(otelephone));   \n      ozv.setZnamefamily(znamefamily);   \n      ozv.setZcodemely(Integer.parseInt(zcodemely));   \n      ozv.setOffice(office); \n      ozv.setZtelephone(Integer.parseInt(ztelephone)); \n      stdDAO.insert(ozv);\n\n\n   }\n</code></pre>\n\n<p>but when i Run the project it's ture but other one it's a error    </p>\n"},{"tags":["java","android","bluetooth","bluetooth-sco"],"owner":{"account_id":28894514,"reputation":1,"user_id":22130830,"display_name":"Ravi Beniwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695027659,"creation_date":1695027659,"question_id":77125796,"body_markdown":"Here&#39;s how I have configured Bluetooth connectivity in my Android app:\r\nJava Code for Bluetooth Connection:\r\n\r\nHere is the code to connect device\r\n```\r\nprivate void connectToDevice() {\r\n        // Establish Bluetooth connection\r\n        try {\r\n            UUID uuid = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\r\n            bluetoothSocket = targetDevice.createRfcommSocketToServiceRecord(uuid);\r\n            bluetoothSocket.connect();\r\n            inputStream = bluetoothSocket.getInputStream();\r\n            listenForData();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nHere with below code I am able to see my device\r\n\r\n```\r\n\r\n        AudioDeviceInfo[] audioDevices = new AudioDeviceInfo[0];\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n            audioDevices = audioManager.getDevices(AudioManager.GET_DEVICES_INPUTS);\r\n        }\r\n\r\n        microphoneList = new ArrayList&lt;&gt;();\r\n\r\n        for (AudioDeviceInfo deviceInfo : audioDevices) {\r\n            int deviceType = deviceInfo.getType();\r\n            if (deviceType == AudioDeviceInfo.TYPE_BUILTIN_MIC ||\r\n                    deviceType == AudioDeviceInfo.TYPE_BLUETOOTH_SCO ||\r\n                    deviceType == AudioDeviceInfo.TYPE_BLUETOOTH_A2DP) {\r\n                microphoneList.add(deviceInfo);\r\n            }\r\n        }\r\n\r\n        String[] microphoneNames = new String[microphoneList.size()];\r\n        for (int i = 0; i &lt; microphoneList.size(); i++) {\r\n            microphoneNames[i] = microphoneList.get(i).getProductName().toString();\r\n        }\r\n\r\n```\r\nHere is the recording code\r\n\r\n```\r\naudioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n                    int result = audioManager.requestAudioFocus(null, AudioManager.STREAM_VOICE_CALL, AudioManager.AUDIOFOCUS_GAIN_TRANSIENT);\r\n\r\n\r\n                    if (result == AudioManager.AUDIOFOCUS_REQUEST_GRANTED) {\r\n                        // Proceed with starting Bluetooth SCO and recording\r\n                        audioManager.setBluetoothScoOn(true);\r\n                        btnRecordPressed(null);\r\n                    }\r\n\r\n                    IntentFilter intentFilter = new IntentFilter(AudioManager.ACTION_SCO_AUDIO_STATE_UPDATED);\r\n                    VoskActivity.this.registerReceiver(mBluetoothScoReceiver, intentFilter);\r\n\r\n\r\n\r\n  private BroadcastReceiver mBluetoothScoReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            int state = intent.getIntExtra(AudioManager.EXTRA_SCO_AUDIO_STATE, -1);\r\n\r\n            if (state == AudioManager.SCO_AUDIO_STATE_CONNECTED) {\r\n                // Start recording audio\r\n                Log.d(&quot;audio connected&quot;,&quot;&quot;);\r\n\r\n            } else if(state == AudioManager.SCO_AUDIO_STATE_DISCONNECTED){\r\n                Log.d(&quot;audio disconnected&quot;,&quot;&quot;);\r\n            }\r\n        }\r\n    };\r\n```\r\n\r\n\r\n\r\n## Expected Behavior\r\nI expected that when I press the PTT button on my Inrico device, it would use its microphone to record my voice within the app.\r\n\r\n## Actual Behavior\r\nHowever, it seems that the recording is using the phone&#39;s built-in microphone instead of the Inrico PTT device microphone.\r\n","title":"Android Studio Java: Inrico PTT Bluetooth Device Not Recognizing Voice Input","body":"<p>Here's how I have configured Bluetooth connectivity in my Android app:\nJava Code for Bluetooth Connection:</p>\n<p>Here is the code to connect device</p>\n<pre><code>private void connectToDevice() {\n        // Establish Bluetooth connection\n        try {\n            UUID uuid = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\n            bluetoothSocket = targetDevice.createRfcommSocketToServiceRecord(uuid);\n            bluetoothSocket.connect();\n            inputStream = bluetoothSocket.getInputStream();\n            listenForData();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Here with below code I am able to see my device</p>\n<pre><code>\n        AudioDeviceInfo[] audioDevices = new AudioDeviceInfo[0];\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n            audioDevices = audioManager.getDevices(AudioManager.GET_DEVICES_INPUTS);\n        }\n\n        microphoneList = new ArrayList&lt;&gt;();\n\n        for (AudioDeviceInfo deviceInfo : audioDevices) {\n            int deviceType = deviceInfo.getType();\n            if (deviceType == AudioDeviceInfo.TYPE_BUILTIN_MIC ||\n                    deviceType == AudioDeviceInfo.TYPE_BLUETOOTH_SCO ||\n                    deviceType == AudioDeviceInfo.TYPE_BLUETOOTH_A2DP) {\n                microphoneList.add(deviceInfo);\n            }\n        }\n\n        String[] microphoneNames = new String[microphoneList.size()];\n        for (int i = 0; i &lt; microphoneList.size(); i++) {\n            microphoneNames[i] = microphoneList.get(i).getProductName().toString();\n        }\n\n</code></pre>\n<p>Here is the recording code</p>\n<pre><code>audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\n                    int result = audioManager.requestAudioFocus(null, AudioManager.STREAM_VOICE_CALL, AudioManager.AUDIOFOCUS_GAIN_TRANSIENT);\n\n\n                    if (result == AudioManager.AUDIOFOCUS_REQUEST_GRANTED) {\n                        // Proceed with starting Bluetooth SCO and recording\n                        audioManager.setBluetoothScoOn(true);\n                        btnRecordPressed(null);\n                    }\n\n                    IntentFilter intentFilter = new IntentFilter(AudioManager.ACTION_SCO_AUDIO_STATE_UPDATED);\n                    VoskActivity.this.registerReceiver(mBluetoothScoReceiver, intentFilter);\n\n\n\n  private BroadcastReceiver mBluetoothScoReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            int state = intent.getIntExtra(AudioManager.EXTRA_SCO_AUDIO_STATE, -1);\n\n            if (state == AudioManager.SCO_AUDIO_STATE_CONNECTED) {\n                // Start recording audio\n                Log.d(&quot;audio connected&quot;,&quot;&quot;);\n\n            } else if(state == AudioManager.SCO_AUDIO_STATE_DISCONNECTED){\n                Log.d(&quot;audio disconnected&quot;,&quot;&quot;);\n            }\n        }\n    };\n</code></pre>\n<h2>Expected Behavior</h2>\n<p>I expected that when I press the PTT button on my Inrico device, it would use its microphone to record my voice within the app.</p>\n<h2>Actual Behavior</h2>\n<p>However, it seems that the recording is using the phone's built-in microphone instead of the Inrico PTT device microphone.</p>\n"},{"tags":["java","maven","intellij-idea","connection-refused"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1694739865,"post_id":77109063,"comment_id":135934398,"body_markdown":"What’s in the `/Users/tyler/.m2/settings.xml` file? My guess would be that there is a mirror or proxy configured there. You might be able to get a more detailed error by running Maven on the command line with `-e`, such as `mvn -e clean install`","body":"What’s in the <code>&#47;Users&#47;tyler&#47;.m2&#47;settings.xml</code> file? My guess would be that there is a mirror or proxy configured there. You might be able to get a more detailed error by running Maven on the command line with <code>-e</code>, such as <code>mvn -e clean install</code>"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1694744517,"post_id":77109063,"comment_id":135934720,"body_markdown":"are there non-https mirrors/repositories configured?","body":"are there non-https mirrors/repositories configured?"},{"owner":{"account_id":16642332,"reputation":75,"user_id":12027515,"display_name":"tlhinman"},"score":0,"creation_date":1694812409,"post_id":77109063,"comment_id":135945471,"body_markdown":"The `settings.xml` file doesn&#39;t exist for me, but the same is true for my teammates, who are having no problems. Updated my question to include that, as well as noting that `mvn dependency:tree` works fine when running it in a terminal.","body":"The <code>settings.xml</code> file doesn&#39;t exist for me, but the same is true for my teammates, who are having no problems. Updated my question to include that, as well as noting that <code>mvn dependency:tree</code> works fine when running it in a terminal."}],"answers":[{"comments":[{"owner":{"account_id":16642332,"reputation":75,"user_id":12027515,"display_name":"tlhinman"},"score":0,"creation_date":1695055056,"post_id":77125764,"comment_id":135969902,"body_markdown":"Interesting. I made it that thanks to the previous bizarre problem I had with IDEA: https://stackoverflow.com/questions/76838153/cant-connect-to-local-postgres-in-intellij-idea/76838451#76838451","body":"Interesting. I made it that thanks to the previous bizarre problem I had with IDEA: <a href=\"https://stackoverflow.com/questions/76838153/cant-connect-to-local-postgres-in-intellij-idea/76838451#76838451\" title=\"cant connect to local postgres in intellij idea\">stackoverflow.com/questions/76838153/&hellip;</a>"},{"owner":{"account_id":16642332,"reputation":75,"user_id":12027515,"display_name":"tlhinman"},"score":0,"creation_date":1695085664,"post_id":77125764,"comment_id":135974030,"body_markdown":"Well look at that. I removed the two VM Options lines suggested in the above-linked answer and it works again. Of course, now it appears I have to choose between keeping Maven updated and running integration tests, but that&#39;s a different problem. Thanks!","body":"Well look at that. I removed the two VM Options lines suggested in the above-linked answer and it works again. Of course, now it appears I have to choose between keeping Maven updated and running integration tests, but that&#39;s a different problem. Thanks!"}],"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695027423,"creation_date":1695027423,"answer_id":77125764,"question_id":77109063,"body_markdown":"IDEA runs Maven Daemon as a separate process, which it communicates with using RMI/loopback.\r\nJudging from the error message you are getting, something is preventing IDEA from talking to Maven Daemon.\r\n\r\nThis is most often caused by firewalls and/or security solutions.\r\nSee also:\r\n\r\nhttps://intellij-support.jetbrains.com/hc/en-us/articles/360014262940-Unable-to-import-Maven-project-import-fails-with-error-Cannot-reconnect\r\n\r\nNote that your computer seems to be using IPv6, which may make this more complicated.\r\nFor instance, IPv6 may have a different set of firewall/routing rules. You can try switching to IPv4 to see if that helps.","title":"&quot;Connection refused to host ::1&quot; when reloading Maven in IDEA","body":"<p>IDEA runs Maven Daemon as a separate process, which it communicates with using RMI/loopback.\nJudging from the error message you are getting, something is preventing IDEA from talking to Maven Daemon.</p>\n<p>This is most often caused by firewalls and/or security solutions.\nSee also:</p>\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/360014262940-Unable-to-import-Maven-project-import-fails-with-error-Cannot-reconnect\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/articles/360014262940-Unable-to-import-Maven-project-import-fails-with-error-Cannot-reconnect</a></p>\n<p>Note that your computer seems to be using IPv6, which may make this more complicated.\nFor instance, IPv6 may have a different set of firewall/routing rules. You can try switching to IPv4 to see if that helps.</p>\n"}],"owner":{"account_id":16642332,"reputation":75,"user_id":12027515,"display_name":"tlhinman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77125764,"answer_count":1,"score":0,"last_activity_date":1695027423,"creation_date":1694738967,"question_id":77109063,"body_markdown":"This is IDEA 2023.2.2 Ultimate, though I just updated today and this was certainly a problem before. M1 Macbook on Ventura 13.5.2.\r\n\r\nWhenever I open IDEA, I&#39;m presented with this in the Sync tab, with no further trace:\r\n```\r\njava.util.concurrent.ExecutionException: java.rmi.ConnectException: Connection refused to host: ::1; nested exception is: \r\n\tjava.net.ConnectException: Connection refused\r\n```\r\nI more or less ignored this until today, when I needed to introduce a new Maven dependency and found myself completely unable to do so. I added a new `&lt;dependency&gt;` entry to `pom.xml`, but there is no way to get IDEA to accept it. Clicking Reload All Maven Projects immediately gives me the above error every time. The new dependency never appears in External Libraries and it&#39;s unavailable when developing.\r\n\r\nStrangely, running `mvn dependency:tree` in my terminal, whether outside or within IDEA, seems to work fine. I see the new one in the list. But in neither case does it have any effect in IDEA.\r\n\r\nMy teammate has the same Maven configuration (which I&#39;ve never touched) and he was able to get the new dependency just fine after checking out my branch, so I&#39;m kind of going nuts here. Being on or off VPN doesn&#39;t seem to have any effect.\r\n\r\n`/etc/hosts`, if that matters, is\r\n```\r\n127.0.0.1       localhost\r\n255.255.255.255 broadcasthost\r\n::1             localhost\r\n```\r\n\r\n`/Users/tyler/.m2/settings.xml` doesn&#39;t exist for me. The same is true for my teammates, though.\r\n\r\nHere are some relevant Maven settings:\r\n\r\n[![Screenshot of my IDEA Maven settings][1]][1]\r\n\r\n\r\n[![Screenshot of more IDEA Maven settings][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BZe5Y.png\r\n  [2]: https://i.stack.imgur.com/5wB6u.png","title":"&quot;Connection refused to host ::1&quot; when reloading Maven in IDEA","body":"<p>This is IDEA 2023.2.2 Ultimate, though I just updated today and this was certainly a problem before. M1 Macbook on Ventura 13.5.2.</p>\n<p>Whenever I open IDEA, I'm presented with this in the Sync tab, with no further trace:</p>\n<pre><code>java.util.concurrent.ExecutionException: java.rmi.ConnectException: Connection refused to host: ::1; nested exception is: \n    java.net.ConnectException: Connection refused\n</code></pre>\n<p>I more or less ignored this until today, when I needed to introduce a new Maven dependency and found myself completely unable to do so. I added a new <code>&lt;dependency&gt;</code> entry to <code>pom.xml</code>, but there is no way to get IDEA to accept it. Clicking Reload All Maven Projects immediately gives me the above error every time. The new dependency never appears in External Libraries and it's unavailable when developing.</p>\n<p>Strangely, running <code>mvn dependency:tree</code> in my terminal, whether outside or within IDEA, seems to work fine. I see the new one in the list. But in neither case does it have any effect in IDEA.</p>\n<p>My teammate has the same Maven configuration (which I've never touched) and he was able to get the new dependency just fine after checking out my branch, so I'm kind of going nuts here. Being on or off VPN doesn't seem to have any effect.</p>\n<p><code>/etc/hosts</code>, if that matters, is</p>\n<pre><code>127.0.0.1       localhost\n255.255.255.255 broadcasthost\n::1             localhost\n</code></pre>\n<p><code>/Users/tyler/.m2/settings.xml</code> doesn't exist for me. The same is true for my teammates, though.</p>\n<p>Here are some relevant Maven settings:</p>\n<p><a href=\"https://i.stack.imgur.com/BZe5Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BZe5Y.png\" alt=\"Screenshot of my IDEA Maven settings\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/5wB6u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5wB6u.png\" alt=\"Screenshot of more IDEA Maven settings\" /></a></p>\n"},{"tags":["java","sockets","timer","network-programming","serversocket"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1695017824,"post_id":77124825,"comment_id":135962515,"body_markdown":"Have a look at the methods on the `Timer` class.","body":"Have a look at the methods on the <code>Timer</code> class."}],"answers":[{"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695027324,"creation_date":1695027324,"answer_id":77125751,"question_id":77124825,"body_markdown":"`TimerTask` has a `cancel` method \r\n\r\n&gt; Cancels this timer task. If the task has been scheduled for one-time execution and has not yet run, or has not yet been scheduled, it will never run. If the task has been scheduled for repeated execution, it will never run again. (If the task is running when this call occurs, the task will run to completion, but will never run again.)\r\n\r\nso you can cancle the task when SocketTimeoutException  occurs.\r\n\r\n    catch (SocketTimeoutException e) {\r\n          System.err.println(&quot;Timeout waiting for a response from the server.&quot;);\r\n          cancel();\r\n    }\r\n\r\nThere is another way to implement scheduled tasks, can achieve more complex functions, for simple tasks,`Timer` is enough. \r\n\r\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\r\n        executor.scheduleAtFixedRate(() -&gt; {\r\n            try {\r\n            } catch (Exception e) {\r\n                executor.shutdown();\r\n            }\r\n        }, 0, 5, TimeUnit.SECONDS);","title":"How to stop scheduleAtFixedRate after the condition fails","body":"<p><code>TimerTask</code> has a <code>cancel</code> method</p>\n<blockquote>\n<p>Cancels this timer task. If the task has been scheduled for one-time execution and has not yet run, or has not yet been scheduled, it will never run. If the task has been scheduled for repeated execution, it will never run again. (If the task is running when this call occurs, the task will run to completion, but will never run again.)</p>\n</blockquote>\n<p>so you can cancle the task when SocketTimeoutException  occurs.</p>\n<pre><code>catch (SocketTimeoutException e) {\n      System.err.println(&quot;Timeout waiting for a response from the server.&quot;);\n      cancel();\n}\n</code></pre>\n<p>There is another way to implement scheduled tasks, can achieve more complex functions, for simple tasks,<code>Timer</code> is enough.</p>\n<pre><code>ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\n    executor.scheduleAtFixedRate(() -&gt; {\n        try {\n        } catch (Exception e) {\n            executor.shutdown();\n        }\n    }, 0, 5, TimeUnit.SECONDS);\n</code></pre>\n"}],"owner":{"account_id":29399168,"reputation":1,"user_id":22579953,"display_name":"wei jong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695027324,"creation_date":1695016662,"question_id":77124825,"body_markdown":"I have a problem - \r\n\r\nStatement: I will be sending data from the client to the server and the server would be responding back with some data to the client after it receives the message from the client. The data that will be sent to the server will be sent in the certain frequency, and if I don&#39;t get the reply from the server in certain timeout, I should be displaying the message in my client that the &quot;**server is stateless and is not working**&quot;.\r\n\r\nBelow is my code and questions:\r\n```\r\n\r\npackage com.soc;\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\n\r\npublic class LocalFaultDetector {\r\n    public static void main(String[] args) throws UnknownHostException, IOException {\r\n        Timer timer = new Timer();\r\n        int heartbeatFreq = 3000; // Configure your default frequency in milliseconds\r\n        String serverIP = &quot;localhost&quot;; // Replace with the IP address of your server\r\n        int serverPort = 8999; // Replace with the port your server is listening on\r\n        timer.scheduleAtFixedRate(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                try(Socket socket = new Socket(serverIP, serverPort)) {\r\n\r\n                    // Send the message to Server\r\n                    PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\r\n                    out.println(&quot;Message from client to the server&quot;);\r\n\r\n                    // Print sending message on LFD1 console\r\n                    System.out.println(&quot;Sent message to server with the message&quot;);\r\n\r\n                    // Set a timeout for reading the response\r\n                    socket.setSoTimeout(timeout);\r\n\t\t    //IF THE TIMEOUT IS CROSSED, HOW DO I EXIT THE scheduleAtFixedRate loop.\r\n                    // Read the response from the server\r\n                    BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n                    String serverResponse = in.readLine();\r\n                    if(serverResponse != null){\r\n                        System.out.println(&quot;Received response from server: &quot; + serverResponse);\r\n                    } else {\r\n                        System.err.println(&quot;No response received from the server within the timeout.&quot;);\r\n                    }\r\n                } catch (SocketTimeoutException e) {\r\n                    System.err.println(&quot;Timeout waiting for a response from the server.&quot;);\r\n                } catch (IOException e) {\r\n                    // Handle exceptions (e.g., server not responding)\r\n                    System.err.println(&quot;Error: &quot; + e.getMessage());\r\n                }\r\n            }\r\n        }, 0, heartbeatFreq);\r\n    }\r\n}\r\n```\r\n\r\nMy questions:\r\n\r\n1) If the timeout is crossed in `socket.setSoTimeout(timeout);`, how do I exit/break/close/cancel the `scheduleAtFixedRate `so that the client does not send the message to the server again?\r\n\r\n2) Is there any other optimal way to send the message from the client to the server in frequencies (ie. every 5 seconds) and wait for the reply from the server and check if I get the messages back from the server. Any suggestions would be helpful.\r\n\r\nI have tried my best and I am very new to the network programming. Above is the code that I have tried.","title":"How to stop scheduleAtFixedRate after the condition fails","body":"<p>I have a problem -</p>\n<p>Statement: I will be sending data from the client to the server and the server would be responding back with some data to the client after it receives the message from the client. The data that will be sent to the server will be sent in the certain frequency, and if I don't get the reply from the server in certain timeout, I should be displaying the message in my client that the &quot;<strong>server is stateless and is not working</strong>&quot;.</p>\n<p>Below is my code and questions:</p>\n<pre><code>\npackage com.soc;\nimport java.io.*;\nimport java.net.*;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class LocalFaultDetector {\n    public static void main(String[] args) throws UnknownHostException, IOException {\n        Timer timer = new Timer();\n        int heartbeatFreq = 3000; // Configure your default frequency in milliseconds\n        String serverIP = &quot;localhost&quot;; // Replace with the IP address of your server\n        int serverPort = 8999; // Replace with the port your server is listening on\n        timer.scheduleAtFixedRate(new TimerTask() {\n            @Override\n            public void run() {\n                try(Socket socket = new Socket(serverIP, serverPort)) {\n\n                    // Send the message to Server\n                    PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\n                    out.println(&quot;Message from client to the server&quot;);\n\n                    // Print sending message on LFD1 console\n                    System.out.println(&quot;Sent message to server with the message&quot;);\n\n                    // Set a timeout for reading the response\n                    socket.setSoTimeout(timeout);\n            //IF THE TIMEOUT IS CROSSED, HOW DO I EXIT THE scheduleAtFixedRate loop.\n                    // Read the response from the server\n                    BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n                    String serverResponse = in.readLine();\n                    if(serverResponse != null){\n                        System.out.println(&quot;Received response from server: &quot; + serverResponse);\n                    } else {\n                        System.err.println(&quot;No response received from the server within the timeout.&quot;);\n                    }\n                } catch (SocketTimeoutException e) {\n                    System.err.println(&quot;Timeout waiting for a response from the server.&quot;);\n                } catch (IOException e) {\n                    // Handle exceptions (e.g., server not responding)\n                    System.err.println(&quot;Error: &quot; + e.getMessage());\n                }\n            }\n        }, 0, heartbeatFreq);\n    }\n}\n</code></pre>\n<p>My questions:</p>\n<ol>\n<li><p>If the timeout is crossed in <code>socket.setSoTimeout(timeout);</code>, how do I exit/break/close/cancel the <code>scheduleAtFixedRate </code>so that the client does not send the message to the server again?</p>\n</li>\n<li><p>Is there any other optimal way to send the message from the client to the server in frequencies (ie. every 5 seconds) and wait for the reply from the server and check if I get the messages back from the server. Any suggestions would be helpful.</p>\n</li>\n</ol>\n<p>I have tried my best and I am very new to the network programming. Above is the code that I have tried.</p>\n"},{"tags":["java","jvm","java-11"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1694805550,"post_id":77114812,"comment_id":135944433,"body_markdown":"from the `java` tool [documentation](https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html#using-source-file-mode-to-launch-single-file-source-code-programs): &quot;If the class identifies an existing file that has a .java extension, or if the --source option is specified, then source-file mode is selected. The source file is then **compiled** and run. ... In source-file mode, the effect is as though the source file is **compiled into memory**,&quot; (my emphasis)","body":"from the <code>java</code> tool <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html#using-source-file-mode-to-launch-single-file-source-code-programs\" rel=\"nofollow noreferrer\">documentation</a>: &quot;If the class identifies an existing file that has a .java extension, or if the --source option is specified, then source-file mode is selected. The source file is then <b>compiled</b> and run. ... In source-file mode, the effect is as though the source file is <b>compiled into memory</b>,&quot; (my emphasis)"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1694825612,"post_id":77114812,"comment_id":135946543,"body_markdown":"Wrote [an article](https://medium.com/@nigamnaman/introduction-to-java-simplified-56c8b887a799) some time back over the attempt to try out JEP-330 and a brief of what it could possibly mean. Open to feedback to improve :)","body":"Wrote <a href=\"https://medium.com/@nigamnaman/introduction-to-java-simplified-56c8b887a799\" rel=\"nofollow noreferrer\">an article</a> some time back over the attempt to try out JEP-330 and a brief of what it could possibly mean. Open to feedback to improve :)"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694807720,"creation_date":1694805332,"answer_id":77114863,"question_id":77114812,"body_markdown":"## tl;dr\r\n\r\nIn modern Java, as a convenience to beginner Java students, the *java* app will graciously compile, and then run, a `.java` file.\r\n\r\nThink of it as *java* app detecting a source-code file, then sub-contracting the compilation work out to *javac* app, caching the compiled class in memory, and lastly continuing onwards to run the newly compiled class. \r\n\r\n## Details\r\n\r\nA [JDK][1] comes bundled with a [few dozen tools][2]. A couple of these are crucial:\r\n\r\n - [*javac*][3] —&#160;Compiles `.java` file of source code text into `.class` file of bytecode. \r\n - [*java*][4] — Execute that `.class` file by launching a [JVM][5].\r\n\r\nThe process steps are:\r\n\r\n 1. You write Java source code in a `.java` file, including a `main` method inside a `class` definition. \r\n 2. You submit that file to a compiler, such as the *javac* app bundled with every [JDK][1]. \r\n 3. The compiler outputs a `.class` file.\r\n 4. You execute (run) the `main` method by launching the *java* app bundled with every JDK.\r\n \r\nYou can skip some steps.\r\n\r\n - **Compile *and* run a single file:**&lt;br/&gt;As of Java 11, you can point the *java* app to a `.java` file. The *java* app will automatically compile first, as if *javac* were called on your behalf. Then the *java* app will go on to run the newly compiled class. \r\n   - No `.class` file is written to storage. The compiled class is cached in memory.\r\n   - See [*JEP 330: Launch Single-File Source-Code Programs*][6] for all the details.\r\n   - This behavior is what you noted: *However, `java HelloWorld.java` was executed properly without making HelloWorld.class.*\r\n - **Simplified `main`**&lt;br&gt;As a preview feature in Java 21, you can: \r\n   - Write your `java` file without declaring a class. Just write the `main` method alone, with nothing around it.\r\n   - Drop the `public static` from your `main` method declaration.\r\n   - See [*JEP 445: Unnamed Classes and Instance Main Methods (Preview)*][7] for details.\r\n\r\n### Motivation\r\n\r\nThe Java team is making concerted efforts to ease the way for beginning Java programmers, to smooth over the initial speed bumps.  They are trying to mask some of the elaborate ceremony, and make the tooling more friendly and accommodating. \r\n\r\nThe underlying structures and features of Java are still in place. This is not a “dumbing-down” of Java. These efforts are just attempts at making reasonable accommodations for beginners.\r\n\r\n### *Hello World*\r\n\r\nCombining these features, getting started with a *Hello World* app is a simple as writing the following in a `HelloWorld.java` file:\r\n\r\n```java\r\nvoid main() {\r\n    System.out.println(&quot;Hello, World!&quot;);\r\n}\r\n```\r\n\r\n… and then on the command-line calling:\r\n\r\n```bash\r\njava HelloWorld.java\r\n```\r\n\r\nResult on the console:\r\n\r\n&gt;Hello, World!\r\n\r\nThat is a vast reduction in labor and confusion for a brand-new student of Java.\r\n\r\n\r\n----------\r\n\r\n\r\n## *jshell*\r\n\r\nBy the way… Another piece of making Java easier to use is [*jshell*][8], a [REPL][9] for Java. \r\n\r\nBoth beginners and pros find *jshell* handy for running short bits of Java with immediate feedback.\r\n\r\n## *BlueJ*\r\n\r\nAnother useful tool for beginners is [*BlueJ*][10], an [IDE][11] designed for students. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Development_Kit\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/specs/man/index.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/specs/man/javac.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html\r\n  [5]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [6]: https://openjdk.org/jeps/330\r\n  [7]: https://openjdk.org/jeps/445\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/specs/man/jshell.html\r\n  [9]: https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop\r\n  [10]: https://en.wikipedia.org/wiki/BlueJ\r\n  [11]: https://en.wikipedia.org/wiki/Integrated_development_environment","title":"How do java.exe execute a java source code?","body":"<h2>tl;dr</h2>\n<p>In modern Java, as a convenience to beginner Java students, the <em>java</em> app will graciously compile, and then run, a <code>.java</code> file.</p>\n<p>Think of it as <em>java</em> app detecting a source-code file, then sub-contracting the compilation work out to <em>javac</em> app, caching the compiled class in memory, and lastly continuing onwards to run the newly compiled class.</p>\n<h2>Details</h2>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a> comes bundled with a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/index.html\" rel=\"nofollow noreferrer\">few dozen tools</a>. A couple of these are crucial:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/javac.html\" rel=\"nofollow noreferrer\"><em>javac</em></a> — Compiles <code>.java</code> file of source code text into <code>.class</code> file of bytecode.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html\" rel=\"nofollow noreferrer\"><em>java</em></a> — Execute that <code>.class</code> file by launching a <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a>.</li>\n</ul>\n<p>The process steps are:</p>\n<ol>\n<li>You write Java source code in a <code>.java</code> file, including a <code>main</code> method inside a <code>class</code> definition.</li>\n<li>You submit that file to a compiler, such as the <em>javac</em> app bundled with every <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a>.</li>\n<li>The compiler outputs a <code>.class</code> file.</li>\n<li>You execute (run) the <code>main</code> method by launching the <em>java</em> app bundled with every JDK.</li>\n</ol>\n<p>You can skip some steps.</p>\n<ul>\n<li><strong>Compile <em>and</em> run a single file:</strong><br/>As of Java 11, you can point the <em>java</em> app to a <code>.java</code> file. The <em>java</em> app will automatically compile first, as if <em>javac</em> were called on your behalf. Then the <em>java</em> app will go on to run the newly compiled class.\n<ul>\n<li>No <code>.class</code> file is written to storage. The compiled class is cached in memory.</li>\n<li>See <a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\"><em>JEP 330: Launch Single-File Source-Code Programs</em></a> for all the details.</li>\n<li>This behavior is what you noted: <em>However, <code>java HelloWorld.java</code> was executed properly without making HelloWorld.class.</em></li>\n</ul>\n</li>\n<li><strong>Simplified <code>main</code></strong><br>As a preview feature in Java 21, you can:\n<ul>\n<li>Write your <code>java</code> file without declaring a class. Just write the <code>main</code> method alone, with nothing around it.</li>\n<li>Drop the <code>public static</code> from your <code>main</code> method declaration.</li>\n<li>See <a href=\"https://openjdk.org/jeps/445\" rel=\"nofollow noreferrer\"><em>JEP 445: Unnamed Classes and Instance Main Methods (Preview)</em></a> for details.</li>\n</ul>\n</li>\n</ul>\n<h3>Motivation</h3>\n<p>The Java team is making concerted efforts to ease the way for beginning Java programmers, to smooth over the initial speed bumps.  They are trying to mask some of the elaborate ceremony, and make the tooling more friendly and accommodating.</p>\n<p>The underlying structures and features of Java are still in place. This is not a “dumbing-down” of Java. These efforts are just attempts at making reasonable accommodations for beginners.</p>\n<h3><em>Hello World</em></h3>\n<p>Combining these features, getting started with a <em>Hello World</em> app is a simple as writing the following in a <code>HelloWorld.java</code> file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void main() {\n    System.out.println(&quot;Hello, World!&quot;);\n}\n</code></pre>\n<p>… and then on the command-line calling:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java HelloWorld.java\n</code></pre>\n<p>Result on the console:</p>\n<blockquote>\n<p>Hello, World!</p>\n</blockquote>\n<p>That is a vast reduction in labor and confusion for a brand-new student of Java.</p>\n<hr />\n<h2><em>jshell</em></h2>\n<p>By the way… Another piece of making Java easier to use is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/jshell.html\" rel=\"nofollow noreferrer\"><em>jshell</em></a>, a <a href=\"https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop\" rel=\"nofollow noreferrer\">REPL</a> for Java.</p>\n<p>Both beginners and pros find <em>jshell</em> handy for running short bits of Java with immediate feedback.</p>\n<h2><em>BlueJ</em></h2>\n<p>Another useful tool for beginners is <a href=\"https://en.wikipedia.org/wiki/BlueJ\" rel=\"nofollow noreferrer\"><em>BlueJ</em></a>, an <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> designed for students.</p>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1694984765,"post_id":77115950,"comment_id":135960071,"body_markdown":"equivalent if `hello.World` is the name of the first class found in the `HelloWorld.java` file","body":"equivalent if <code>hello.World</code> is the name of the first class found in the <code>HelloWorld.java</code> file"}],"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694825521,"creation_date":1694825521,"answer_id":77115950,"question_id":77114812,"body_markdown":"As mentioned in the [JEP-330](https://openjdk.org/jeps/330), for your example\r\n\r\n    java HelloWorld.java\r\n\r\nis informally equivalent to\r\n\r\n    javac -d &lt;memory&gt; HelloWorld.java\r\n    java -cp &lt;memory&gt; hello.World\r\n\r\n","title":"How do java.exe execute a java source code?","body":"<p>As mentioned in the <a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\">JEP-330</a>, for your example</p>\n<pre><code>java HelloWorld.java\n</code></pre>\n<p>is informally equivalent to</p>\n<pre><code>javac -d &lt;memory&gt; HelloWorld.java\njava -cp &lt;memory&gt; hello.World\n</code></pre>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695027282,"creation_date":1695027282,"answer_id":77125744,"question_id":77114812,"body_markdown":"Since Java 9 we have `jshell` as a REPL tools for Java language (REPL as in Python), an interactive interpreter of Java code source.\r\n\r\nSince Java 11, you can either execute JVM bytecode or interpret java source code (source file mode) with the help of the `java` command (see https://openjdk.org/jeps/330). An excerpt of this document is:\r\n\r\n&gt; As of JDK 10, the java launcher operates in three modes: launching a\r\n&gt; class file, launching the main class of a JAR file, or launching the\r\n&gt; main class of a module. Here **we add a new, fourth mode: launching a\r\n&gt; class declared in a source file**.\r\n\r\nHow the interpreter works? That is (almost) of no interest, but highly probable that some compilation steps are made under the hood.","title":"How do java.exe execute a java source code?","body":"<p>Since Java 9 we have <code>jshell</code> as a REPL tools for Java language (REPL as in Python), an interactive interpreter of Java code source.</p>\n<p>Since Java 11, you can either execute JVM bytecode or interpret java source code (source file mode) with the help of the <code>java</code> command (see <a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/330</a>). An excerpt of this document is:</p>\n<blockquote>\n<p>As of JDK 10, the java launcher operates in three modes: launching a\nclass file, launching the main class of a JAR file, or launching the\nmain class of a module. Here <strong>we add a new, fourth mode: launching a\nclass declared in a source file</strong>.</p>\n</blockquote>\n<p>How the interpreter works? That is (almost) of no interest, but highly probable that some compilation steps are made under the hood.</p>\n"}],"owner":{"account_id":14322433,"reputation":23,"user_id":10345397,"display_name":"Jay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77114863,"answer_count":3,"score":2,"last_activity_date":1695027282,"creation_date":1694804675,"question_id":77114812,"body_markdown":"When I had only `HelloWorld.java` in the directory without `HelloWorld.class`, `java HelloWorld` in Windows cmd raised a class not found exception. However, `java HelloWorld.java` was executed properly without making `HelloWorld.class`.\r\n\r\nFrom what I understand, JVM reads the bytecodes of a file with .class extension, but fails to read .java file. I understand that java.exe is just a launcher to create JVM and run it, but am now confused how it can work properly with java code, not byte code.","title":"How do java.exe execute a java source code?","body":"<p>When I had only <code>HelloWorld.java</code> in the directory without <code>HelloWorld.class</code>, <code>java HelloWorld</code> in Windows cmd raised a class not found exception. However, <code>java HelloWorld.java</code> was executed properly without making <code>HelloWorld.class</code>.</p>\n<p>From what I understand, JVM reads the bytecodes of a file with .class extension, but fails to read .java file. I understand that java.exe is just a launcher to create JVM and run it, but am now confused how it can work properly with java code, not byte code.</p>\n"},{"tags":["java","arrays","private-constructor"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1695026207,"post_id":77125616,"comment_id":135963955,"body_markdown":"Are you sure you are passing the argument to the second class&#39; `main` correctly? If you don&#39;t the `args` will be empty and getting the first element `[0]` will throw that error.","body":"Are you sure you are passing the argument to the second class&#39; <code>main</code> correctly? If you don&#39;t the <code>args</code> will be empty and getting the first element <code>[0]</code> will throw that error."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695026327,"post_id":77125616,"comment_id":135963974,"body_markdown":"&quot;I&#39;m 95% sure that this error is because connections ...&quot;: If you want to be 100% sure, look at the stack trace. It&#39;ll tell you exactly on which line the error occurs. My guess would be it&#39;s the `main` function itself, not the `ConnectionManager`.","body":"&quot;I&#39;m 95% sure that this error is because connections ...&quot;: If you want to be 100% sure, look at the stack trace. It&#39;ll tell you exactly on which line the error occurs. My guess would be it&#39;s the <code>main</code> function itself, not the <code>ConnectionManager</code>."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1695026432,"post_id":77125616,"comment_id":135963993,"body_markdown":"Where does `size` come from in `new Connection[size]`? The size of your array seems not to be related to the one passed to the `ConnectionManager` constructor.","body":"Where does <code>size</code> come from in <code>new Connection[size]</code>? The size of your array seems not to be related to the one passed to the <code>ConnectionManager</code> constructor."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1695026656,"post_id":77125616,"comment_id":135964038,"body_markdown":"Your `Connection#getConnection` method is a little silly. Outside that, the idea of making the array elements null in order to retrieve sole access to a connection is a bit misplaced: this is not thread-safe code, and it&#39;s boilerplate for single-threaded.","body":"Your <code>Connection#getConnection</code> method is a little silly. Outside that, the idea of making the array elements null in order to retrieve sole access to a connection is a bit misplaced: this is not thread-safe code, and it&#39;s boilerplate for single-threaded."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695026666,"post_id":77125616,"comment_id":135964040,"body_markdown":"Is this an exercise you&#39;re doing or a real connection pool?","body":"Is this an exercise you&#39;re doing or a real connection pool?"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1695026698,"post_id":77125616,"comment_id":135964050,"body_markdown":"@Ivar `size` is a field of `ConnectionManager`. Do you want to tell space allocation for `connections` happens before calling the constructor? But then the compiler would have produced an error, wouldn&#39;t it?\n\n\n\n@Jorn I&#39;m sure, moreover, if I substitute `args[0]` for a literal, it also doesn&#39;t work.","body":"@Ivar <code>size</code> is a field of <code>ConnectionManager</code>. Do you want to tell space allocation for <code>connections</code> happens before calling the constructor? But then the compiler would have produced an error, wouldn&#39;t it?    @Jorn I&#39;m sure, moreover, if I substitute <code>args[0]</code> for a literal, it also doesn&#39;t work."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1695026778,"post_id":77125616,"comment_id":135964060,"body_markdown":"It is definitely **not** the same. In example 1 you&#39;re creating the `Test` array after you got the size input. In example 2 you&#39;re creating the array **before** you set the size via the constructor.","body":"It is definitely <b>not</b> the same. In example 1 you&#39;re creating the <code>Test</code> array after you got the size input. In example 2 you&#39;re creating the array <b>before</b> you set the size via the constructor."},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1695026809,"post_id":77125616,"comment_id":135964064,"body_markdown":"@g00se This is an exercise from TiJ4. \n\nHello, g00se, BTW. I remember you from different question.","body":"@g00se This is an exercise from TiJ4.   Hello, g00se, BTW. I remember you from different question."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1695026811,"post_id":77125616,"comment_id":135964065,"body_markdown":"Correct, your `connections` field is initialized before the constructor is called. So you have a zero-sized `connections` array, which then fails on `connections[0]` in the constructor.","body":"Correct, your <code>connections</code> field is initialized before the constructor is called. So you have a zero-sized <code>connections</code> array, which then fails on <code>connections[0]</code> in the constructor."},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1695026957,"post_id":77125616,"comment_id":135964087,"body_markdown":"@QBrute So I suggested right? Field initialization happens **before** the constructor? And that&#39;s the problem? \n\nOH, YES, MAN, YES!!! I just put array initialization in the constructor after assigning `size`. Now it works!\n\nOrder of initialization, yeah, one should know it. Sorry for an ignorant question...\n\nThank you guys!!!","body":"@QBrute So I suggested right? Field initialization happens <b>before</b> the constructor? And that&#39;s the problem?   OH, YES, MAN, YES!!! I just put array initialization in the constructor after assigning <code>size</code>. Now it works!  Order of initialization, yeah, one should know it. Sorry for an ignorant question...  Thank you guys!!!"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1695027042,"post_id":77125616,"comment_id":135964101,"body_markdown":"Somebody may post your comment as an answer. I&#39;ll accept, and you&#39;ll get some points.","body":"Somebody may post your comment as an answer. I&#39;ll accept, and you&#39;ll get some points."},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1695027291,"post_id":77125616,"comment_id":135964147,"body_markdown":"What I don&#39;t get now is why it is so. There&#39;s no object before the constructor. And how you can initialize a field of an object before it&#39;s created (via constructor call)?!","body":"What I don&#39;t get now is why it is so. There&#39;s no object before the constructor. And how you can initialize a field of an object before it&#39;s created (via constructor call)?!"},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1695027359,"post_id":77125616,"comment_id":135964156,"body_markdown":"@Нормальныйдневник No you are wrong: the object is created, it is just not fully initialized before finishing constructor","body":"@Нормальныйдневник No you are wrong: the object is created, it is just not fully initialized before finishing constructor"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1695027553,"post_id":77125616,"comment_id":135964185,"body_markdown":"@AdrianShum Maybe fields are implicitly initialized in the beginning of a constructor, before its first explicit line...","body":"@AdrianShum Maybe fields are implicitly initialized in the beginning of a constructor, before its first explicit line..."},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1695027721,"post_id":77125616,"comment_id":135964218,"body_markdown":"@Нормальныйдневник yup. There are other initialization works happens outside your explicitly-written constructor","body":"@Нормальныйдневник yup. There are other initialization works happens outside your explicitly-written constructor"}],"answers":[{"comments":[{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":1,"creation_date":1695027229,"post_id":77125684,"comment_id":135964137,"body_markdown":"a bit off topic: I suggest OP to pay more attention to coding style etc.  If these code are arranged in a more readable way as above, problem could be spotted earlier and easier.","body":"a bit off topic: I suggest OP to pay more attention to coding style etc.  If these code are arranged in a more readable way as above, problem could be spotted earlier and easier."}],"tags":[],"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695026741,"creation_date":1695026741,"answer_id":77125684,"question_id":77125616,"body_markdown":"It is simply because the array was created before your constructor:\r\n\r\n```\r\nclass ConnectionManager {\r\n    private int size;\r\n\r\n    // you tried to create array with size, for which is not initialised yet, \r\n    // which is 0 for int instance variable\r\n    private Connection[] connections = new Connection[size];  \r\n\r\n\r\n    public ConnectionManager(int size) {\r\n        this.size = size;  // this assignment happens after your array creation\r\n        for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);\r\n    }\r\n\r\n \r\n```\r\n(Rearranged the code slightly)\r\n\r\nThose initialisation statements (e.g. `private Connection[] connections = new Connection[size];`) are performed before your Constructor logic.  Which means, when it tried to create the `connections` array, `size` is still 0, hence the array is created with 0 size.\r\n\r\nThe proper way is\r\n```\r\nclass ConnectionManager {\r\n    private int size;\r\n    private Connection[] connections;\r\n\r\n\r\n    public ConnectionManager(int size) {\r\n        this.size = size;  // this is actually superfluous. \r\n                           // You can always get it directly from array&#39;s size\r\n        this.connections = new Connection[size];\r\n\r\n        for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);\r\n    }\r\n```\r\n","title":"Index 0 out of bounds for length 0 — why?","body":"<p>It is simply because the array was created before your constructor:</p>\n<pre><code>class ConnectionManager {\n    private int size;\n\n    // you tried to create array with size, for which is not initialised yet, \n    // which is 0 for int instance variable\n    private Connection[] connections = new Connection[size];  \n\n\n    public ConnectionManager(int size) {\n        this.size = size;  // this assignment happens after your array creation\n        for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);\n    }\n\n \n</code></pre>\n<p>(Rearranged the code slightly)</p>\n<p>Those initialisation statements (e.g. <code>private Connection[] connections = new Connection[size];</code>) are performed before your Constructor logic.  Which means, when it tried to create the <code>connections</code> array, <code>size</code> is still 0, hence the array is created with 0 size.</p>\n<p>The proper way is</p>\n<pre><code>class ConnectionManager {\n    private int size;\n    private Connection[] connections;\n\n\n    public ConnectionManager(int size) {\n        this.size = size;  // this is actually superfluous. \n                           // You can always get it directly from array's size\n        this.connections = new Connection[size];\n\n        for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3544434,"reputation":1492,"user_id":2960757,"display_name":"CodeTheorist"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695026963,"creation_date":1695026963,"answer_id":77125706,"question_id":77125616,"body_markdown":"This error is happening in the latter 2 classes because they have constructors but doesn&#39;t occur on `Test` because it doesn&#39;t have a constuctor.\r\n\r\nWhat this shows is that `arg[0]` is actually null or undefined, but it doesn&#39;t matter with `Test` as this value isn&#39;t actually being used in the constructor.  In the latter 2 classes, the constructors are trying to assign null or undefined to a primitive `int` rather than an `Integer`, which can&#39;t be null, thus producing the error.  As `arg[0]` is null or undefined, this shows that the app is actually being run without arguments.  The only other problem may be if `arg[0]` is a string which can&#39;t be parsed as a number, but I&#39;m pretty confident this would give you a parsing exception.\r\n\r\nPlease try running the app with an extra argument that can be parsed to an integer and see if the error still persists.  This will tell you for sure if this is the case.  Furthermore, you should add a constructor to `Test` to confirm this is the problem, as `Test` should throw the same exception if it has a constructor and this is indeed the correct error.\r\n\r\n","title":"Index 0 out of bounds for length 0 — why?","body":"<p>This error is happening in the latter 2 classes because they have constructors but doesn't occur on <code>Test</code> because it doesn't have a constuctor.</p>\n<p>What this shows is that <code>arg[0]</code> is actually null or undefined, but it doesn't matter with <code>Test</code> as this value isn't actually being used in the constructor.  In the latter 2 classes, the constructors are trying to assign null or undefined to a primitive <code>int</code> rather than an <code>Integer</code>, which can't be null, thus producing the error.  As <code>arg[0]</code> is null or undefined, this shows that the app is actually being run without arguments.  The only other problem may be if <code>arg[0]</code> is a string which can't be parsed as a number, but I'm pretty confident this would give you a parsing exception.</p>\n<p>Please try running the app with an extra argument that can be parsed to an integer and see if the error still persists.  This will tell you for sure if this is the case.  Furthermore, you should add a constructor to <code>Test</code> to confirm this is the problem, as <code>Test</code> should throw the same exception if it has a constructor and this is indeed the correct error.</p>\n"},{"tags":[],"owner":{"account_id":2552681,"reputation":2752,"user_id":2216148,"accept_rate":100,"display_name":"Rodney"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695026967,"creation_date":1695026967,"answer_id":77125707,"question_id":77125616,"body_markdown":"For a zero length array, no index value is valid.\r\n\r\nThis is no index 1, no index 0, no index *anything*.\r\n\r\n```java\r\nfor (int i = 0; i &lt; Test.size; i++) test[i] = new Test();\r\n```\r\n\r\nThis test doesn&#39;t throw because it iterates all the valid indecies of the test array, from zero to size-1. If size is zero the loop never runs.\r\n","title":"Index 0 out of bounds for length 0 — why?","body":"<p>For a zero length array, no index value is valid.</p>\n<p>This is no index 1, no index 0, no index <em>anything</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; Test.size; i++) test[i] = new Test();\n</code></pre>\n<p>This test doesn't throw because it iterates all the valid indecies of the test array, from zero to size-1. If size is zero the loop never runs.</p>\n"}],"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77125684,"answer_count":3,"score":-1,"last_activity_date":1695026967,"creation_date":1695026091,"question_id":77125616,"body_markdown":"This code works:\r\n\r\n```\r\nclass Test {\r\n    static int size;\r\n}\r\n\r\npublic class E08_ConnectionApp {\r\n    public static void main(String[] args) {\r\n        Test.size = Integer.parseInt(args[0]);\r\n        Test[] test = new Test[Test.size];\r\n        for (int i = 0; i &lt; Test.size; i++) test[i] = new Test();\r\n    }\r\n}\r\n```\r\n\r\nBut when I do **THE SAME** for other classes, I get the error from the title. I don&#39;t understand what&#39;s wrong. Please, tell me.\r\n\r\nThis code doesn&#39;t work:\r\n\r\n```\r\nclass Connection {\r\n    private int ID;\r\n\r\n    private Connection(int ID) {\r\n        this.ID = ID;\r\n\r\n        print(&quot;Connection number &quot; + ID + &quot; created.&quot;);\r\n    }\r\n\r\n    static Connection createNewConnection(int ID) { return new Connection(ID); }\r\n\r\n    Connection getConnection() { return this; }\r\n\r\n    public int getID() {\r\n        return ID;\r\n    }\r\n}\r\nclass ConnectionManager {\r\n    private int size;\r\n\r\n    public ConnectionManager(int size) {\r\n        this.size = size;\r\n\r\n        for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);\r\n    }\r\n\r\n    private Connection[] connections = new Connection[size];\r\n\r\n    public Connection getAvailableConnection() {\r\n        for (int i = 0; i &lt; size; i++)\r\n            if (connections[i] != null) {\r\n                Connection temp = connections[i].getConnection();\r\n                connections[i] = null;\r\n                print(&quot;Connection #&quot; + temp.getID() + &quot; fetched.&quot;);\r\n                return temp;\r\n            }\r\n\r\n        print(&quot;No connections available...&quot;);\r\n        return null;\r\n    }\r\n}\r\n\r\npublic class E08_ConnectionApp {\r\n    public static void main(String[] args) {\r\n        ConnectionManager connectionManager = new ConnectionManager(Integer.parseInt(args[0]));\r\n    }\r\n}\r\n```\r\nWhen debugging, I get an error from the title in this line:\r\n\r\n`for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);`\r\n\r\nI&#39;m 95% sure that this error is because `connections`, although has space allocated for it (an array of size 5, which is an argument of the program), contains `null` references to `Connection` objects. But what I&#39;m trying to do is actually initialize this array, to attach array references to actual objects. If I&#39;m doing it wrong, what is the right way?\r\n\r\nI&#39;m thinking about some bad settings in my project or maybe IntelliJ IDEA bug, but the latter is *highly unlikely*.\r\n\r\nThanks in advance for your answers.\r\n\r\nI tried google the error and thinking for myself, I tried various ways to reproduce the problem, but in `Test` everything works as expected...","title":"Index 0 out of bounds for length 0 — why?","body":"<p>This code works:</p>\n<pre><code>class Test {\n    static int size;\n}\n\npublic class E08_ConnectionApp {\n    public static void main(String[] args) {\n        Test.size = Integer.parseInt(args[0]);\n        Test[] test = new Test[Test.size];\n        for (int i = 0; i &lt; Test.size; i++) test[i] = new Test();\n    }\n}\n</code></pre>\n<p>But when I do <strong>THE SAME</strong> for other classes, I get the error from the title. I don't understand what's wrong. Please, tell me.</p>\n<p>This code doesn't work:</p>\n<pre><code>class Connection {\n    private int ID;\n\n    private Connection(int ID) {\n        this.ID = ID;\n\n        print(&quot;Connection number &quot; + ID + &quot; created.&quot;);\n    }\n\n    static Connection createNewConnection(int ID) { return new Connection(ID); }\n\n    Connection getConnection() { return this; }\n\n    public int getID() {\n        return ID;\n    }\n}\nclass ConnectionManager {\n    private int size;\n\n    public ConnectionManager(int size) {\n        this.size = size;\n\n        for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);\n    }\n\n    private Connection[] connections = new Connection[size];\n\n    public Connection getAvailableConnection() {\n        for (int i = 0; i &lt; size; i++)\n            if (connections[i] != null) {\n                Connection temp = connections[i].getConnection();\n                connections[i] = null;\n                print(&quot;Connection #&quot; + temp.getID() + &quot; fetched.&quot;);\n                return temp;\n            }\n\n        print(&quot;No connections available...&quot;);\n        return null;\n    }\n}\n\npublic class E08_ConnectionApp {\n    public static void main(String[] args) {\n        ConnectionManager connectionManager = new ConnectionManager(Integer.parseInt(args[0]));\n    }\n}\n</code></pre>\n<p>When debugging, I get an error from the title in this line:</p>\n<p><code>for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);</code></p>\n<p>I'm 95% sure that this error is because <code>connections</code>, although has space allocated for it (an array of size 5, which is an argument of the program), contains <code>null</code> references to <code>Connection</code> objects. But what I'm trying to do is actually initialize this array, to attach array references to actual objects. If I'm doing it wrong, what is the right way?</p>\n<p>I'm thinking about some bad settings in my project or maybe IntelliJ IDEA bug, but the latter is <em>highly unlikely</em>.</p>\n<p>Thanks in advance for your answers.</p>\n<p>I tried google the error and thinking for myself, I tried various ways to reproduce the problem, but in <code>Test</code> everything works as expected...</p>\n"},{"tags":["java","android","android-studio","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1695039912,"post_id":77125676,"comment_id":135966599,"body_markdown":"Latest Android Gradle tools require AFAIR Java 17. You can change JDK for Gradle in AS settings and user the built-in JDK. https://stackoverflow.com/a/76138830/150978","body":"Latest Android Gradle tools require AFAIR Java 17. You can change JDK for Gradle in AS settings and user the built-in JDK. <a href=\"https://stackoverflow.com/a/76138830/150978\">stackoverflow.com/a/76138830/150978</a>"},{"owner":{"account_id":20670469,"reputation":87,"user_id":15176346,"display_name":"Oseamiya"},"score":0,"creation_date":1695042808,"post_id":77125676,"comment_id":135967251,"body_markdown":"@Robert thankyou so much. It worked. How do i add your comment as solution.","body":"@Robert thankyou so much. It worked. How do i add your comment as solution."}],"owner":{"account_id":20670469,"reputation":87,"user_id":15176346,"display_name":"Oseamiya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":975,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695026660,"creation_date":1695026660,"question_id":77125676,"body_markdown":"I&#39;m running the most recent version of Android Studio (Giraffe). I created a new application and added a new module . Then I did nothing; I attempted to assemble the release but received this problem. \r\n\r\nI tried fixing the problem by changing Gradle JDK to JDK 11 but still I am getting this error. \r\n\r\n```\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;My Application&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:8.1.1.\r\n     Required by:\r\n         project : &gt; com.android.application:com.android.application.gradle.plugin:8.1.1\r\n         project : &gt; com.android.library:com.android.library.gradle.plugin:8.1.1\r\n      &gt; No matching variant of com.android.tools.build:gradle:8.1.1 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.0&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:8.1.1 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:8.1.1 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:8.1.1 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8      \r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:8.1.1 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n```\r\n\r\nI even tried by adding this to my build.gradle\r\n```\r\ncompileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n```\r\nBut this couldn&#39;t help too. Help needed.","title":"Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8","body":"<p>I'm running the most recent version of Android Studio (Giraffe). I created a new application and added a new module . Then I did nothing; I attempted to assemble the release but received this problem.</p>\n<p>I tried fixing the problem by changing Gradle JDK to JDK 11 but still I am getting this error.</p>\n<pre><code>* What went wrong:\nA problem occurred configuring root project 'My Application'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:8.1.1.\n     Required by:\n         project : &gt; com.android.application:com.android.application.gradle.plugin:8.1.1\n         project : &gt; com.android.library:com.android.library.gradle.plugin:8.1.1\n      &gt; No matching variant of com.android.tools.build:gradle:8.1.1 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.0' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:8.1.1 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:8.1.1 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:8.1.1 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8      \n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:8.1.1 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n</code></pre>\n<p>I even tried by adding this to my build.gradle</p>\n<pre><code>compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n</code></pre>\n<p>But this couldn't help too. Help needed.</p>\n"},{"tags":["java","oracle","spring-boot","macos","testcontainers"],"comments":[{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":3,"creation_date":1694987786,"post_id":77123724,"comment_id":135960363,"body_markdown":"Not sure about your specific client issues, but in general numeric values in Oracle `insert` statements should *not* be quoted.","body":"Not sure about your specific client issues, but in general numeric values in Oracle <code>insert</code> statements should <i>not</i> be quoted."},{"owner":{"account_id":12259286,"reputation":101,"user_id":8947492,"display_name":"Yusuf BESTAS"},"score":0,"creation_date":1694988490,"post_id":77123724,"comment_id":135960413,"body_markdown":"Yes I agree but I am still curious why it happens only in Mac PC&#39;s and BigDecimal","body":"Yes I agree but I am still curious why it happens only in Mac PC&#39;s and BigDecimal"},{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1694989621,"post_id":77123724,"comment_id":135960518,"body_markdown":"If you put quotes on numeric value, then an auto-conversion should happen somewhere between your app and oracle or oracle and macOS. So one thing it can be that oracle driver for mac is more explicit during conversion","body":"If you put quotes on numeric value, then an auto-conversion should happen somewhere between your app and oracle or oracle and macOS. So one thing it can be that oracle driver for mac is more explicit during conversion"},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":2,"creation_date":1694989781,"post_id":77123724,"comment_id":135960528,"body_markdown":"@SveKamenska It is internal to the database. The OP&#39;s query is passed to the database and parsed by the SQL engine and the implicit cast occurs there and relies on the session parameters of the user&#39;s database session to control the expected format of the number.","body":"@SveKamenska It is internal to the database. The OP&#39;s query is passed to the database and parsed by the SQL engine and the implicit cast occurs there and relies on the session parameters of the user&#39;s database session to control the expected format of the number."},{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1694994228,"post_id":77123724,"comment_id":135960838,"body_markdown":"@MT0, thanks for the detailed explanation - this is what I meant by the 2nd assumption - oracle &lt;-&gt; os interaction","body":"@MT0, thanks for the detailed explanation - this is what I meant by the 2nd assumption - oracle &lt;-&gt; os interaction"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695009530,"post_id":77123724,"comment_id":135961809,"body_markdown":"It isn&#39;t the OS per-se.  The OS has nothing to do with what is being sent over the database connection.  It will be the JDBC driver or the application itself.   And I expect that it is JDBC driver version specific behavior rather than special JDBC driver behavior for MacOS.  (The latter would be perverse ... IMO.)  The drivers are supplied by Oracle or a 3rd party, not by Apple.","body":"It isn&#39;t the OS per-se.  The OS has nothing to do with what is being sent over the database connection.  It will be the JDBC driver or the application itself.   And I expect that it is JDBC driver version specific behavior rather than special JDBC driver behavior for MacOS.  (The latter would be perverse ... IMO.)  The drivers are supplied by Oracle or a 3rd party, not by Apple."},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1695024797,"post_id":77123724,"comment_id":135963692,"body_markdown":"@StephenC The driver should just pass the query (and any bind parameters) to the SQL engine of the database and the database will parse the query and perform any implicit casts between data-types using its settings. What may have an impact is if the driver is being initialised with an `NLS_LANG` setting or if the `NLS_TERRITORY` or the `NLS_NUMERIC_CHARACTERS` session parameters are being set in the user&#39;s database session (otherwise the database defaults will be used); that is probably all that is going to have any impact here.","body":"@StephenC The driver should just pass the query (and any bind parameters) to the SQL engine of the database and the database will parse the query and perform any implicit casts between data-types using its settings. What may have an impact is if the driver is being initialised with an <code>NLS_LANG</code> setting or if the <code>NLS_TERRITORY</code> or the <code>NLS_NUMERIC_CHARACTERS</code> session parameters are being set in the user&#39;s database session (otherwise the database defaults will be used); that is probably all that is going to have any impact here."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695025759,"post_id":77123724,"comment_id":135963872,"body_markdown":"Good point.  But that&#39;s the application (or the application&#39;s config) setting those.  Not the OS.","body":"Good point.  But that&#39;s the application (or the application&#39;s config) setting those.  Not the OS."},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1695026522,"post_id":77123724,"comment_id":135964009,"body_markdown":"@StephenC I&#39;ve updated my answer with some options where a JDBC driver can derive the session parameters it uses in its connections. When the driver is loaded, it *may* take some settings from the OS to initialise the session parameters in the database session or those can be overridden by application settings or explicitly by directly setting the session parameters.","body":"@StephenC I&#39;ve updated my answer with some options where a JDBC driver can derive the session parameters it uses in its connections. When the driver is loaded, it <i>may</i> take some settings from the OS to initialise the session parameters in the database session or those can be overridden by application settings or explicitly by directly setting the session parameters."}],"answers":[{"comments":[{"owner":{"account_id":12259286,"reputation":101,"user_id":8947492,"display_name":"Yusuf BESTAS"},"score":0,"creation_date":1695625404,"post_id":77123823,"comment_id":136044067,"body_markdown":"@MTO I appreciate for details answers. The answer helped a lot to cover the subject.","body":"@MTO I appreciate for details answers. The answer helped a lot to cover the subject."}],"tags":[],"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695026321,"creation_date":1694989432,"answer_id":77123823,"question_id":77123724,"body_markdown":"Summary: **NEVER** rely on implicit string-to-number conversions. If you want to pass a numeric value then pass it as a number and **NOT** as a string.\r\n\r\n---\r\n\r\nWhen you insert a string into a `NUMBER` column then you are asking Oracle to perform an implicit string-to-number conversion and if the decimal separator is not `.` then `&#39;99.99000&#39;` will give the error:\r\n\r\n```lang-sql\r\nORA-01722: invalid number\r\n```\r\n\r\n(In Oracle 23, the error is more informative: `ORA-01722: unable to convert string value containing &#39;.&#39; to a number:`.)\r\n\r\nYou can see this if you change your session parameters:\r\n\r\n```lang-sql\r\nCREATE TABLE policy_restriction_bound(\r\n  id                     NUMBER(8,0),\r\n  policy_restriction_id  NUMBER(8,0),\r\n  minimum_approves_count NUMBER(8,0),\r\n  upper_bound            NUMBER(10,5),\r\n  currency               VARCHAR2(3)\r\n);\r\n```\r\n\r\nThen:\r\n\r\n```lang-sql\r\nALTER SESSION SET NLS_NUMERIC_CHARACTERS = &#39;,.&#39;;\r\nINSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\r\nVALUES (&#39;1&#39;, &#39;1&#39;, &#39;2&#39;, &#39;99.99000&#39;, &#39;USD&#39;);\r\n```\r\n\r\nOutputs:\r\n\r\n&gt; ```lang-none\r\n&gt; ORA-01722: invalid number\r\n&gt; ```\r\n\r\nand:\r\n\r\n```lang-sql\r\nALTER SESSION SET NLS_NUMERIC_CHARACTERS = &#39;.,&#39;;\r\nINSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\r\nVALUES (&#39;1&#39;, &#39;1&#39;, &#39;2&#39;, &#39;99.99000&#39;, &#39;USD&#39;);\r\n```\r\n\r\nWorks.\r\n\r\n---\r\n\r\nWhat you should do is **NEVER** rely on implicit string-to-number conversions. If you want to pass a numeric value then pass it as a number and **NOT** as a string.\r\n\r\nIf you must pass strings (don&#39;t) then make sure that all your test containers are using the same session parameters as the production database so that the behaviour is identical.\r\n\r\nDepending on the JDBC driver, this could be by:\r\n\r\n 1. The connection&#39;s default session parameters which may be derived from the [language of the OS](https://www.oracle.com/database/technologies/faq-nls-lang.html) or an `NLS_LANG` environment variable set in the OS.\r\n 2. Running the Java application and [explicitly specifying the language and locale](https://stackoverflow.com/a/4224705/1509264) when you start Java:\r\n\r\n    ```lang-console\r\n    -Duser.country=en -Duser.language=en\r\n    ```\r\n\r\n    Which may cause the JDBC driver to override any default database settings and set the `NLS_LANG` and `NLS_TERRITORY` session parameters (which will set a the default `NLS_NUMERIC_CHARACTERS` session parameter for that territory).\r\n\r\n 3. [Setting a locale in the Java application](https://stackoverflow.com/a/1306042/1509264):\r\n \r\n    ```lang-java\r\n    Locale.setDefault(Locale.&lt;your locale here&gt;);\r\n    ```\r\n\r\n    Which may cause the JDBC driver to override any default database settings and set the `NLS_TERRITORY` (and maybe `NLS_LANG`) session parameter (which will set a the default `NLS_NUMERIC_CHARACTERS` session parameter for that territory).\r\n\r\n 4. In SQL from the Java application, explicitly setting the `NLS_TERRITORY` setting in the database session (which will implicitly set the default `NLS_NUMERIC_CHARACTERS` for that territory) and override any default settings for the connection.\r\n\r\n    ```lang-sql\r\n    ALTER SESSION SET TERRITORY = &#39;United States&#39;\r\n    ```\r\n\r\n 5. In SQL from the Java application, explicitly setting the `NLS_NUMERIC_CHARACTERS` session parameter (again, overriding the defaults).\r\n\r\n    ```lang-sql\r\n    ALTER SESSION SET NLS_NUMERIC_CHARACTERS = &#39;.,&#39;\r\n    ```\r\n\r\nBut it is much better to **NEVER** rely on implicit conversions.\r\n\r\n[fiddle](https://dbfiddle.uk/v7kwFV7R)\r\n","title":"ORA-01722: invalid number (Only For MacOS PC)","body":"<p>Summary: <strong>NEVER</strong> rely on implicit string-to-number conversions. If you want to pass a numeric value then pass it as a number and <strong>NOT</strong> as a string.</p>\n<hr />\n<p>When you insert a string into a <code>NUMBER</code> column then you are asking Oracle to perform an implicit string-to-number conversion and if the decimal separator is not <code>.</code> then <code>'99.99000'</code> will give the error:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>ORA-01722: invalid number\n</code></pre>\n<p>(In Oracle 23, the error is more informative: <code>ORA-01722: unable to convert string value containing '.' to a number:</code>.)</p>\n<p>You can see this if you change your session parameters:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE policy_restriction_bound(\n  id                     NUMBER(8,0),\n  policy_restriction_id  NUMBER(8,0),\n  minimum_approves_count NUMBER(8,0),\n  upper_bound            NUMBER(10,5),\n  currency               VARCHAR2(3)\n);\n</code></pre>\n<p>Then:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER SESSION SET NLS_NUMERIC_CHARACTERS = ',.';\nINSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\nVALUES ('1', '1', '2', '99.99000', 'USD');\n</code></pre>\n<p>Outputs:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>ORA-01722: invalid number\n</code></pre>\n</blockquote>\n<p>and:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER SESSION SET NLS_NUMERIC_CHARACTERS = '.,';\nINSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\nVALUES ('1', '1', '2', '99.99000', 'USD');\n</code></pre>\n<p>Works.</p>\n<hr />\n<p>What you should do is <strong>NEVER</strong> rely on implicit string-to-number conversions. If you want to pass a numeric value then pass it as a number and <strong>NOT</strong> as a string.</p>\n<p>If you must pass strings (don't) then make sure that all your test containers are using the same session parameters as the production database so that the behaviour is identical.</p>\n<p>Depending on the JDBC driver, this could be by:</p>\n<ol>\n<li><p>The connection's default session parameters which may be derived from the <a href=\"https://www.oracle.com/database/technologies/faq-nls-lang.html\" rel=\"nofollow noreferrer\">language of the OS</a> or an <code>NLS_LANG</code> environment variable set in the OS.</p>\n</li>\n<li><p>Running the Java application and <a href=\"https://stackoverflow.com/a/4224705/1509264\">explicitly specifying the language and locale</a> when you start Java:</p>\n<pre class=\"lang-console prettyprint-override\"><code>-Duser.country=en -Duser.language=en\n</code></pre>\n<p>Which may cause the JDBC driver to override any default database settings and set the <code>NLS_LANG</code> and <code>NLS_TERRITORY</code> session parameters (which will set a the default <code>NLS_NUMERIC_CHARACTERS</code> session parameter for that territory).</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/1306042/1509264\">Setting a locale in the Java application</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Locale.setDefault(Locale.&lt;your locale here&gt;);\n</code></pre>\n<p>Which may cause the JDBC driver to override any default database settings and set the <code>NLS_TERRITORY</code> (and maybe <code>NLS_LANG</code>) session parameter (which will set a the default <code>NLS_NUMERIC_CHARACTERS</code> session parameter for that territory).</p>\n</li>\n<li><p>In SQL from the Java application, explicitly setting the <code>NLS_TERRITORY</code> setting in the database session (which will implicitly set the default <code>NLS_NUMERIC_CHARACTERS</code> for that territory) and override any default settings for the connection.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER SESSION SET TERRITORY = 'United States'\n</code></pre>\n</li>\n<li><p>In SQL from the Java application, explicitly setting the <code>NLS_NUMERIC_CHARACTERS</code> session parameter (again, overriding the defaults).</p>\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER SESSION SET NLS_NUMERIC_CHARACTERS = '.,'\n</code></pre>\n</li>\n</ol>\n<p>But it is much better to <strong>NEVER</strong> rely on implicit conversions.</p>\n<p><a href=\"https://dbfiddle.uk/v7kwFV7R\" rel=\"nofollow noreferrer\">fiddle</a></p>\n"}],"owner":{"account_id":12259286,"reputation":101,"user_id":8947492,"display_name":"Yusuf BESTAS"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77123823,"answer_count":1,"score":0,"last_activity_date":1695026321,"creation_date":1694987054,"question_id":77123724,"body_markdown":"The entity\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;policy_restriction_bound&quot;,\r\n    uniqueConstraints = @UniqueConstraint(columnNames = {&quot;policy_restriction_id&quot;, &quot;upperBound&quot;, &quot;currency&quot;},\r\n        name = &quot;uq_policy_restriction_bound_restr_id_bound_currency&quot;))\r\npublic class PolicyRestrictionBoundEntity {\r\n    public static final int UPPER_BOUND_SCALE = 5;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequence-generator&quot;)\r\n    @SequenceGenerator(name = &quot;sequence-generator&quot;, sequenceName = &quot;hibernate_sequence&quot;, allocationSize = 5)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;policy_restriction_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_policy_restr_bound2policy_restr&quot;))\r\n    private PolicyRestrictionEntity policyRestriction;\r\n\r\n    @NotNull\r\n    private Integer minimumApprovesCount;\r\n\r\n    @Positive\r\n    @Access(AccessType.PROPERTY)\r\n    private BigDecimal upperBound;\r\n\r\n    @Size(min = 1, max = 3)\r\n    private String currency;\r\n}\r\n```\r\n\r\nContainer\r\n \r\n```\r\nprivate static final OracleContainer DB_CONTAINER = new OracleContainer(&quot;gvenzl/oracle-xe:18.4.0-slim-faststart&quot;);\r\n```\r\nThe following is being inserted into Oracle db\r\n```\r\nprotected List&lt;String&gt; getInsertTestDataAfterMigrationCommands() {\r\n        return List.of(&quot;&quot;&quot;\r\n            &quot;&quot;&quot;\r\n                INSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\r\n                VALUES (&#39;1&#39;, &#39;1&#39;, &#39;2&#39;, &#39;99.99000&#39;, &#39;USD&#39;)&quot;&quot;&quot;\r\n        );\r\n    }\r\n```\r\n\r\nThe error \r\n```\r\njava.lang.RuntimeException: java.sql.SQLSyntaxErrorException: ORA-01722: invalid number\r\nCaused by: Error : 1722, Position : 134, Sql = INSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\r\nVALUES (&#39;1&#39;, &#39;1&#39;, &#39;2&#39;, &#39;99.99000&#39;, &#39;USD&#39;), OriginalSql = INSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\r\nVALUES (&#39;1&#39;, &#39;1&#39;, &#39;2&#39;, &#39;99.99000&#39;, &#39;USD&#39;), Error Msg = ORA-01722: invalid number\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:637)\r\n```\r\n\r\nHello, \r\n\r\nI am inserting the data via `getInsertTestDataAfterMigrationCommands()` method as above.\r\nBut I get `ORA-01722: invalid number` error.\r\nWhen I delete the single quotes in `&#39;`99.99000`&#39;` the error goes away.\r\nBut what I&#39;m wondering about is that we only get this error for all Macbook users in the team. This does not error occur on Linux and Windows PCs that also pass the Jenkins Pipeline.\r\n\r\nAlso when I delete Single quotes again pass the Jenkins Pipeline.\r\nIt is also interesting that we only receive single quotes issues with a `BigDecimal` value. No problem with other fields.\r\n\r\nI couldn&#39;t find the reason why we only get this error on Macbook PCs, do you have any ideas?\r\n\r\nAdditional: I noticed that smart quotes on the Macbook were turned on. I disabled it, but we continue to get the error. \r\n\r\n\r\n","title":"ORA-01722: invalid number (Only For MacOS PC)","body":"<p>The entity</p>\n<pre><code>@Entity\n@Table(name = &quot;policy_restriction_bound&quot;,\n    uniqueConstraints = @UniqueConstraint(columnNames = {&quot;policy_restriction_id&quot;, &quot;upperBound&quot;, &quot;currency&quot;},\n        name = &quot;uq_policy_restriction_bound_restr_id_bound_currency&quot;))\npublic class PolicyRestrictionBoundEntity {\n    public static final int UPPER_BOUND_SCALE = 5;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequence-generator&quot;)\n    @SequenceGenerator(name = &quot;sequence-generator&quot;, sequenceName = &quot;hibernate_sequence&quot;, allocationSize = 5)\n    private Long id;\n\n    @NotNull\n    @ManyToOne\n    @JoinColumn(name = &quot;policy_restriction_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_policy_restr_bound2policy_restr&quot;))\n    private PolicyRestrictionEntity policyRestriction;\n\n    @NotNull\n    private Integer minimumApprovesCount;\n\n    @Positive\n    @Access(AccessType.PROPERTY)\n    private BigDecimal upperBound;\n\n    @Size(min = 1, max = 3)\n    private String currency;\n}\n</code></pre>\n<p>Container</p>\n<pre><code>private static final OracleContainer DB_CONTAINER = new OracleContainer(&quot;gvenzl/oracle-xe:18.4.0-slim-faststart&quot;);\n</code></pre>\n<p>The following is being inserted into Oracle db</p>\n<pre><code>protected List&lt;String&gt; getInsertTestDataAfterMigrationCommands() {\n        return List.of(&quot;&quot;&quot;\n            &quot;&quot;&quot;\n                INSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\n                VALUES ('1', '1', '2', '99.99000', 'USD')&quot;&quot;&quot;\n        );\n    }\n</code></pre>\n<p>The error</p>\n<pre><code>java.lang.RuntimeException: java.sql.SQLSyntaxErrorException: ORA-01722: invalid number\nCaused by: Error : 1722, Position : 134, Sql = INSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\nVALUES ('1', '1', '2', '99.99000', 'USD'), OriginalSql = INSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\nVALUES ('1', '1', '2', '99.99000', 'USD'), Error Msg = ORA-01722: invalid number\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:637)\n</code></pre>\n<p>Hello,</p>\n<p>I am inserting the data via <code>getInsertTestDataAfterMigrationCommands()</code> method as above.\nBut I get <code>ORA-01722: invalid number</code> error.\nWhen I delete the single quotes in <code>'</code>99.99000<code>'</code> the error goes away.\nBut what I'm wondering about is that we only get this error for all Macbook users in the team. This does not error occur on Linux and Windows PCs that also pass the Jenkins Pipeline.</p>\n<p>Also when I delete Single quotes again pass the Jenkins Pipeline.\nIt is also interesting that we only receive single quotes issues with a <code>BigDecimal</code> value. No problem with other fields.</p>\n<p>I couldn't find the reason why we only get this error on Macbook PCs, do you have any ideas?</p>\n<p>Additional: I noticed that smart quotes on the Macbook were turned on. I disabled it, but we continue to get the error.</p>\n"},{"tags":["java","edirectory","netiq"],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695026123,"creation_date":1695026123,"question_id":77125622,"body_markdown":"I&#39;m experimenting the `nestedGroupAux` class of the eDirectory. It works fine to return all the members of a group as well as those of the nested groups, but is it possible to distinguish between direct members of the group and members obtained by inference, and that are actually members of some nested group?","title":"NetIQ eDirectory LDAP nested groups","body":"<p>I'm experimenting the <code>nestedGroupAux</code> class of the eDirectory. It works fine to return all the members of a group as well as those of the nested groups, but is it possible to distinguish between direct members of the group and members obtained by inference, and that are actually members of some nested group?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":11936,"reputation":13753,"user_id":23249,"accept_rate":85,"display_name":"Elie"},"score":5,"creation_date":1229373730,"post_id":369512,"comment_id":198561,"body_markdown":"why is this a cw? It&#39;s a perfectly valid programming question.","body":"why is this a cw? It&#39;s a perfectly valid programming question."},{"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":3,"creation_date":1229374057,"post_id":369512,"comment_id":198578,"body_markdown":"Are you aware that Comparable allows comparison by as many fields as you like?","body":"Are you aware that Comparable allows comparison by as many fields as you like?"},{"owner":{"account_id":441579,"reputation":810,"user_id":831750,"accept_rate":50,"display_name":"eugenevd"},"score":0,"creation_date":1393501915,"post_id":369512,"comment_id":33463083,"body_markdown":"possible duplicate of [Using Comparable for multiple dynamic fields of VO in java](http://stackoverflow.com/questions/16206629/using-comparable-for-multiple-dynamic-fields-of-vo-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/16206629/using-comparable-for-multiple-dynamic-fields-of-vo-in-java\">Using Comparable for multiple dynamic fields of VO in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":21,"reputation":106392,"user_id":29,"accept_rate":83,"display_name":"Michael Haren"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1229371221,"creation_date":1229371221,"answer_id":369518,"question_id":369512,"body_markdown":"I think it&#39;d be more confusing if your comparison algorithm were &quot;clever&quot;. I&#39;d go with the numerous comparison methods you suggested.\r\n\r\nThe only exception for me would be equality. For unit testing, it&#39;s been useful to me to override the .Equals (in .net) in order to determine if several fields are equal between two objects (and not that the references are equal).","title":"How to compare objects by multiple fields","body":"<p>I think it'd be more confusing if your comparison algorithm were \"clever\". I'd go with the numerous comparison methods you suggested.</p>\n\n<p>The only exception for me would be equality. For unit testing, it's been useful to me to override the .Equals (in .net) in order to determine if several fields are equal between two objects (and not that the references are equal).</p>\n"},{"tags":[],"owner":{"account_id":13446,"reputation":44828,"user_id":27020,"accept_rate":100,"display_name":"Marc Novakowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1229371291,"creation_date":1229371291,"answer_id":369521,"question_id":369512,"body_markdown":"Instead of comparison methods you may want to just define several types of &quot;Comparator&quot; subclasses inside the Person class.  That way you can pass them into standard Collections sorting methods.","title":"How to compare objects by multiple fields","body":"<p>Instead of comparison methods you may want to just define several types of \"Comparator\" subclasses inside the Person class.  That way you can pass them into standard Collections sorting methods.</p>\n"},{"tags":[],"owner":{"account_id":3393,"reputation":60796,"user_id":4893,"accept_rate":64,"display_name":"sblundy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1229371402,"creation_date":1229371402,"answer_id":369526,"question_id":369512,"body_markdown":"If there are multiple ways a user might order person, you could also have multiple [Comparator][1]s setup as constants somewhere. Most of the sort operations and sorted collections take a comparator as a parameter.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Comparator.html","title":"How to compare objects by multiple fields","body":"<p>If there are multiple ways a user might order person, you could also have multiple <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a>s setup as constants somewhere. Most of the sort operations and sorted collections take a comparator as a parameter.</p>\n"},{"comments":[{"owner":{"account_id":2018340,"reputation":915,"user_id":1805077,"accept_rate":89,"display_name":"Felipe Le&#227;o"},"score":6,"creation_date":1415880902,"post_id":369537,"comment_id":42367199,"body_markdown":"I Actually prefer the idea of using a single Comparator. I don&#39;t think this answer is wrong, but anyone reading it should definitely check Steve Kuo answer below.","body":"I Actually prefer the idea of using a single Comparator. I don&#39;t think this answer is wrong, but anyone reading it should definitely check Steve Kuo answer below."},{"owner":{"account_id":11936,"reputation":13753,"user_id":23249,"accept_rate":85,"display_name":"Elie"},"score":0,"creation_date":1415898819,"post_id":369537,"comment_id":42378053,"body_markdown":"The multiple comparators was only if you want different comparison methods that are not a function of the data itself - i.e. sometimes you want to compare by name, other times by age, etc. To compare by multiple fields at the same time, only one comparator would be necessary.","body":"The multiple comparators was only if you want different comparison methods that are not a function of the data itself - i.e. sometimes you want to compare by name, other times by age, etc. To compare by multiple fields at the same time, only one comparator would be necessary."}],"tags":[],"owner":{"account_id":11936,"reputation":13753,"user_id":23249,"accept_rate":85,"display_name":"Elie"},"comment_count":2,"down_vote_count":2,"up_vote_count":92,"is_accepted":true,"score":90,"last_activity_date":1537820867,"creation_date":1229371611,"answer_id":369537,"question_id":369512,"body_markdown":"You can implement a `Comparator` which compares two `Person` objects, and you can examine as many of the fields as you like. You can put in a variable in your comparator that tells it which field to compare to, although it would probably be simpler to just write multiple comparators.","title":"How to compare objects by multiple fields","body":"<p>You can implement a <code>Comparator</code> which compares two <code>Person</code> objects, and you can examine as many of the fields as you like. You can put in a variable in your comparator that tells it which field to compare to, although it would probably be simpler to just write multiple comparators.</p>\n"},{"tags":[],"owner":{"account_id":589,"reputation":30827,"user_id":758,"accept_rate":77,"display_name":"Mark Renouf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1229376800,"creation_date":1229376800,"answer_id":369785,"question_id":369512,"body_markdown":"If you implement the [Comparable][1] interface, you&#39;ll want to choose one simple property to order by. This is known as natural ordering. Think of it as the default. It&#39;s always used when no specific comparator is supplied. Usually this is name, but your use case may call for something different. You are free to use any number of other Comparators you can supply to various collections APIs to override the natural ordering.\r\n\r\nAlso note that typically if a.compareTo(b) == 0, then a.equals(b) == true. It&#39;s ok if not but there are side effects to be aware of. See the excellent javadocs on the Comparable interface and you&#39;ll find lots of great information on this.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Comparable.html","title":"How to compare objects by multiple fields","body":"<p>If you implement the <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a> interface, you'll want to choose one simple property to order by. This is known as natural ordering. Think of it as the default. It's always used when no specific comparator is supplied. Usually this is name, but your use case may call for something different. You are free to use any number of other Comparators you can supply to various collections APIs to override the natural ordering.</p>\n\n<p>Also note that typically if a.compareTo(b) == 0, then a.equals(b) == true. It's ok if not but there are side effects to be aware of. See the excellent javadocs on the Comparable interface and you'll find lots of great information on this.</p>\n"},{"comments":[{"owner":{"account_id":239991,"reputation":302,"user_id":509964,"accept_rate":100,"display_name":"Mike"},"score":10,"creation_date":1355489983,"post_id":369867,"comment_id":19116320,"body_markdown":"if you implement Comparable&lt;Person&gt; then the method is \n compareTo(Person p)..\nit seems that this answer was mixed up with Comparator&#39;s \n compare&lt;T o1, T o2&gt; method","body":"if you implement Comparable&lt;Person&gt; then the method is   compareTo(Person p).. it seems that this answer was mixed up with Comparator&#39;s   compare&lt;T o1, T o2&gt; method"},{"owner":{"account_id":2005001,"reputation":821,"user_id":1795145,"display_name":"indika"},"score":6,"creation_date":1397966980,"post_id":369867,"comment_id":35448596,"body_markdown":"This is not recommended. Use Comparator when you have multiple fields.","body":"This is not recommended. Use Comparator when you have multiple fields."},{"owner":{"account_id":304833,"reputation":1203,"user_id":2307890,"display_name":"Vasile Surdu"},"score":1,"creation_date":1402080080,"post_id":369867,"comment_id":37152007,"body_markdown":"that&#39;s the best solution at the moment, (better than more comparators)","body":"that&#39;s the best solution at the moment, (better than more comparators)"},{"owner":{"account_id":303126,"reputation":735,"user_id":611888,"accept_rate":67,"display_name":"ars-longa-vita-brevis"},"score":5,"creation_date":1411684262,"post_id":369867,"comment_id":40807848,"body_markdown":"@indika, I&#39;m curious: why is this not recommended? Comparing using more than one property seems perfectly fine to me.","body":"@indika, I&#39;m curious: why is this not recommended? Comparing using more than one property seems perfectly fine to me."},{"owner":{"account_id":2005001,"reputation":821,"user_id":1795145,"display_name":"indika"},"score":4,"creation_date":1411713520,"post_id":369867,"comment_id":40815359,"body_markdown":"@ars-longa-vita-brevis, If you are using Comparable then sorting logic must be in the same class whose objects are being sorted so this is called natural ordering of objects. With the use of Comparator you can write custom sorting logic outside the Person class. If you want to compare Person objects only by its first name or last name, you cant use this logic. You have to write it again,","body":"@ars-longa-vita-brevis, If you are using Comparable then sorting logic must be in the same class whose objects are being sorted so this is called natural ordering of objects. With the use of Comparator you can write custom sorting logic outside the Person class. If you want to compare Person objects only by its first name or last name, you cant use this logic. You have to write it again,"}],"tags":[],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"comment_count":5,"down_vote_count":2,"up_vote_count":185,"is_accepted":false,"score":183,"last_activity_date":1494715826,"creation_date":1229378860,"answer_id":369867,"question_id":369512,"body_markdown":"You should implement `Comparable &lt;Person&gt;`. Assuming all fields will not be null (for simplicity sake), that age is an int, and compare ranking is first, last, age, the `compareTo` method is quite simple:\r\n\r\n    public int compareTo(Person other) {\r\n        int i = firstName.compareTo(other.firstName);\r\n        if (i != 0) return i;\r\n\r\n        i = lastName.compareTo(other.lastName);\r\n        if (i != 0) return i;\r\n\r\n        return Integer.compare(age, other.age);\r\n    }\r\n\r\n","title":"How to compare objects by multiple fields","body":"<p>You should implement <code>Comparable &lt;Person&gt;</code>. Assuming all fields will not be null (for simplicity sake), that age is an int, and compare ranking is first, last, age, the <code>compareTo</code> method is quite simple:</p>\n\n<pre><code>public int compareTo(Person other) {\n    int i = firstName.compareTo(other.firstName);\n    if (i != 0) return i;\n\n    i = lastName.compareTo(other.lastName);\n    if (i != 0) return i;\n\n    return Integer.compare(age, other.age);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19498,"reputation":1063,"user_id":45757,"display_name":"Boune"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1511000286,"creation_date":1229384088,"answer_id":370068,"question_id":369512,"body_markdown":"You can also have a look at Enum that implements Comparator.\r\n\r\nhttp://tobega.blogspot.com/2008/05/beautiful-enums.html\r\n\r\ne.g.\r\n\r\n    Collections.sort(myChildren, Child.Order.ByAge.descending());\r\n\r\n","title":"How to compare objects by multiple fields","body":"<p>You can also have a look at Enum that implements Comparator.</p>\n\n<p><a href=\"http://tobega.blogspot.com/2008/05/beautiful-enums.html\" rel=\"nofollow noreferrer\">http://tobega.blogspot.com/2008/05/beautiful-enums.html</a></p>\n\n<p>e.g.</p>\n\n<pre><code>Collections.sort(myChildren, Child.Order.ByAge.descending());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":65190,"reputation":897,"user_id":192040,"accept_rate":89,"display_name":"Nigel_V_Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1427829557,"creation_date":1310323117,"answer_id":6643088,"question_id":369512,"body_markdown":"@Patrick To sort more than one field consecutively try [ComparatorChain][1]\n&gt; A ComparatorChain is a Comparator that wraps one or more Comparators in sequence. The ComparatorChain calls each Comparator in sequence until either 1) any single Comparator returns a non-zero result (and that result is then returned), or 2) the ComparatorChain is exhausted (and zero is returned). This type of sorting is very similar to multi-column sorting in SQL, and this class allows Java classes to emulate that kind of behaviour when sorting a List.\n&gt;\n&gt; To further facilitate SQL-like sorting, the order of any single Comparator in the list can &gt;be reversed.\n&gt;\n&gt; Calling a method that adds new Comparators or changes the ascend/descend sort after compare(Object, Object) has been called will result in an UnsupportedOperationException. However, take care to not alter the underlying List of Comparators or the BitSet that defines the sort order.\n&gt;\n&gt; Instances of ComparatorChain are not synchronized. The class is not thread-safe at construction time, but it is thread-safe to perform multiple comparisons after all the setup operations are complete.\n\n\n  [1]: https://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/comparators/ComparatorChain.html","title":"How to compare objects by multiple fields","body":"<p>@Patrick To sort more than one field consecutively try <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/comparators/ComparatorChain.html\" rel=\"noreferrer\">ComparatorChain</a></p>\n<blockquote>\n<p>A ComparatorChain is a Comparator that wraps one or more Comparators in sequence. The ComparatorChain calls each Comparator in sequence until either 1) any single Comparator returns a non-zero result (and that result is then returned), or 2) the ComparatorChain is exhausted (and zero is returned). This type of sorting is very similar to multi-column sorting in SQL, and this class allows Java classes to emulate that kind of behaviour when sorting a List.</p>\n<p>To further facilitate SQL-like sorting, the order of any single Comparator in the list can &gt;be reversed.</p>\n<p>Calling a method that adds new Comparators or changes the ascend/descend sort after compare(Object, Object) has been called will result in an UnsupportedOperationException. However, take care to not alter the underlying List of Comparators or the BitSet that defines the sort order.</p>\n<p>Instances of ComparatorChain are not synchronized. The class is not thread-safe at construction time, but it is thread-safe to perform multiple comparisons after all the setup operations are complete.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1044865,"reputation":5045,"user_id":1891566,"display_name":"Clint Eastwood"},"score":0,"creation_date":1581436499,"post_id":9842650,"comment_id":106428734,"body_markdown":"comparing things is different from performing equality check","body":"comparing things is different from performing equality check"}],"tags":[],"owner":{"account_id":1212298,"reputation":27085,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1332670696,"creation_date":1332519126,"answer_id":9842650,"question_id":369512,"body_markdown":"Its easy to do using [Google&#39;s Guava library][1].\r\n\r\ne.g. `Objects.equal(name, name2) &amp;&amp; Objects.equal(age, age2) &amp;&amp; ...`\r\n\r\nMore examples:\r\n\r\n- https://stackoverflow.com/a/5039178/1180621\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/wiki/CommonObjectUtilitiesExplained#equals","title":"How to compare objects by multiple fields","body":"<p>Its easy to do using <a href=\"http://code.google.com/p/guava-libraries/wiki/CommonObjectUtilitiesExplained#equals\" rel=\"nofollow noreferrer\">Google's Guava library</a>.</p>\n\n<p>e.g. <code>Objects.equal(name, name2) &amp;&amp; Objects.equal(age, age2) &amp;&amp; ...</code></p>\n\n<p>More examples:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/5039178/1180621\">https://stackoverflow.com/a/5039178/1180621</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":65284,"reputation":91165,"user_id":192247,"accept_rate":81,"display_name":"missingfaktor"},"comment_count":0,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1339104958,"creation_date":1339104958,"answer_id":10940234,"question_id":369512,"body_markdown":"Writing a `Comparator` manually for such an use case is a terrible solution IMO. Such ad hoc approaches have many drawbacks: \r\n\r\n- No code reuse. Violates DRY.\r\n- Boilerplate.\r\n- Increased possibility of errors.\r\n\r\n---\r\n\r\n**So what&#39;s the solution?**\r\n\r\nFirst some theory.\r\n\r\nLet us denote the proposition &quot;type `A` supports comparison&quot; by `Ord A`. (From program perspective, you can think of `Ord A` as an object containing logic for comparing two `A`s. Yes, just like `Comparator`.) \r\n\r\nNow, if `Ord A` and `Ord B`, then their composite `(A, B)` should also support comparison. i.e. `Ord (A, B)`. If `Ord A`, `Ord B`, and `Ord C`, then `Ord (A, B, C)`. \r\n\r\nWe can extend this argument to arbitrary arity, and say:\r\n\r\n`Ord A, Ord B, Ord C, ..., Ord Z` ⇒ `Ord (A, B, C, .., Z)`\r\n\r\nLet&#39;s call this statement 1.\r\n\r\nThe comparison of the composites will work just as you described in your question: the first comparison will be tried first, then the next one, then the next, and so on.\r\n\r\nThat&#39;s the first part of our solution. Now the second part.\r\n\r\nIf you know that `Ord A`, and know how to transform `B` to `A` (call that transformation function `f`), then you can also have `Ord B`.  How? Well, when the two `B` instances are to be compared,  you first transform them to `A` using `f` and then apply `Ord A`.\r\n\r\nHere, we are mapping the transformation `B → A` to `Ord A → Ord B`. This is known as contravariant mapping (or `comap` for short).\r\n\r\n`Ord A, (B → A)` ⇒&lt;sub&gt;comap&lt;/sub&gt; `Ord B`\r\n\r\nLet&#39;s call this statement 2.\r\n\r\n---\r\n\r\nNow let&#39;s apply this to your example. \r\n\r\nYou have a data type named `Person` that comprises three fields of type `String`. \r\n\r\n- We know that `Ord String`. By statement 1, `Ord (String, String, String)`. \r\n\r\n- We can easily write a function from `Person` to `(String, String, String)`. (Just return the three fields.)  Since we know `Ord (String, String, String)` and `Person → (String, String, String)`, by statement 2, we can use `comap` to get `Ord Person`. \r\n\r\nQED.\r\n\r\n---\r\n\r\n**How do I implement all these concepts?**\r\n\r\nThe good news is you don&#39;t have to. There already exists [a library][1] which implements all the ideas described in this post. (If you are curious how these are implemented, you can [look under the hood][2].)\r\n\r\nThis is how the code will look with it:\r\n\r\n    Ord&lt;Person&gt; personOrd = \r\n     p3Ord(stringOrd, stringOrd, stringOrd).comap(\r\n       new F&lt;Person, P3&lt;String, String, String&gt;&gt;() {\r\n         public P3&lt;String, String, String&gt; f(Person x) {\r\n           return p(x.getFirstName(), x.getLastname(), x.getAge());\r\n         }\r\n       }\r\n     );\r\n\r\n**Explanation:**\r\n\r\n- [`stringOrd`][3] is an object of type `Ord&lt;String&gt;`. This corresponds to our original &quot;supports comparison&quot; proposition.\r\n- [`p3Ord`][4] is a method that takes `Ord&lt;A&gt;`, `Ord&lt;B&gt;`, `Ord&lt;C&gt;`, and returns `Ord&lt;P3&lt;A, B, C&gt;&gt;`. This corresponds to statement 1. ([`P3`][5] stands for product with three elements. Product is an algebraic term for composites.)\r\n- [`comap`][6] corresponds to well, `comap`.\r\n- [`F&lt;A, B&gt;`][7] represents a transformation function `A → B`.\r\n- [`p`][8] is a factory method for creating products.\r\n- The whole expression corresponds to statement 2.\r\n\r\nHope that helps.\r\n\r\n  [1]: http://functionaljava.org/\r\n  [2]: https://github.com/functionaljava/functionaljava\r\n  [3]: http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/Ord.html#stringOrd\r\n  [4]: http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/Ord.html#p3Ord%28fj.Ord,%20fj.Ord,%20fj.Ord%29\r\n  [5]: http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/P3.html\r\n  [6]: http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/Ord.html#comap%28fj.F%29\r\n  [7]: http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/F.html\r\n  [8]: http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/P.html#p%28A,%20B,%20C%29","title":"How to compare objects by multiple fields","body":"<p>Writing a <code>Comparator</code> manually for such an use case is a terrible solution IMO. Such ad hoc approaches have many drawbacks: </p>\n\n<ul>\n<li>No code reuse. Violates DRY.</li>\n<li>Boilerplate.</li>\n<li>Increased possibility of errors.</li>\n</ul>\n\n<hr>\n\n<p><strong>So what's the solution?</strong></p>\n\n<p>First some theory.</p>\n\n<p>Let us denote the proposition \"type <code>A</code> supports comparison\" by <code>Ord A</code>. (From program perspective, you can think of <code>Ord A</code> as an object containing logic for comparing two <code>A</code>s. Yes, just like <code>Comparator</code>.) </p>\n\n<p>Now, if <code>Ord A</code> and <code>Ord B</code>, then their composite <code>(A, B)</code> should also support comparison. i.e. <code>Ord (A, B)</code>. If <code>Ord A</code>, <code>Ord B</code>, and <code>Ord C</code>, then <code>Ord (A, B, C)</code>. </p>\n\n<p>We can extend this argument to arbitrary arity, and say:</p>\n\n<p><code>Ord A, Ord B, Ord C, ..., Ord Z</code> ⇒ <code>Ord (A, B, C, .., Z)</code></p>\n\n<p>Let's call this statement 1.</p>\n\n<p>The comparison of the composites will work just as you described in your question: the first comparison will be tried first, then the next one, then the next, and so on.</p>\n\n<p>That's the first part of our solution. Now the second part.</p>\n\n<p>If you know that <code>Ord A</code>, and know how to transform <code>B</code> to <code>A</code> (call that transformation function <code>f</code>), then you can also have <code>Ord B</code>.  How? Well, when the two <code>B</code> instances are to be compared,  you first transform them to <code>A</code> using <code>f</code> and then apply <code>Ord A</code>.</p>\n\n<p>Here, we are mapping the transformation <code>B → A</code> to <code>Ord A → Ord B</code>. This is known as contravariant mapping (or <code>comap</code> for short).</p>\n\n<p><code>Ord A, (B → A)</code> ⇒<sub>comap</sub> <code>Ord B</code></p>\n\n<p>Let's call this statement 2.</p>\n\n<hr>\n\n<p>Now let's apply this to your example. </p>\n\n<p>You have a data type named <code>Person</code> that comprises three fields of type <code>String</code>. </p>\n\n<ul>\n<li><p>We know that <code>Ord String</code>. By statement 1, <code>Ord (String, String, String)</code>. </p></li>\n<li><p>We can easily write a function from <code>Person</code> to <code>(String, String, String)</code>. (Just return the three fields.)  Since we know <code>Ord (String, String, String)</code> and <code>Person → (String, String, String)</code>, by statement 2, we can use <code>comap</code> to get <code>Ord Person</code>. </p></li>\n</ul>\n\n<p>QED.</p>\n\n<hr>\n\n<p><strong>How do I implement all these concepts?</strong></p>\n\n<p>The good news is you don't have to. There already exists <a href=\"http://functionaljava.org/\" rel=\"noreferrer\">a library</a> which implements all the ideas described in this post. (If you are curious how these are implemented, you can <a href=\"https://github.com/functionaljava/functionaljava\" rel=\"noreferrer\">look under the hood</a>.)</p>\n\n<p>This is how the code will look with it:</p>\n\n<pre><code>Ord&lt;Person&gt; personOrd = \n p3Ord(stringOrd, stringOrd, stringOrd).comap(\n   new F&lt;Person, P3&lt;String, String, String&gt;&gt;() {\n     public P3&lt;String, String, String&gt; f(Person x) {\n       return p(x.getFirstName(), x.getLastname(), x.getAge());\n     }\n   }\n );\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n<li><a href=\"http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/Ord.html#stringOrd\" rel=\"noreferrer\"><code>stringOrd</code></a> is an object of type <code>Ord&lt;String&gt;</code>. This corresponds to our original \"supports comparison\" proposition.</li>\n<li><a href=\"http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/Ord.html#p3Ord%28fj.Ord,%20fj.Ord,%20fj.Ord%29\" rel=\"noreferrer\"><code>p3Ord</code></a> is a method that takes <code>Ord&lt;A&gt;</code>, <code>Ord&lt;B&gt;</code>, <code>Ord&lt;C&gt;</code>, and returns <code>Ord&lt;P3&lt;A, B, C&gt;&gt;</code>. This corresponds to statement 1. (<a href=\"http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/P3.html\" rel=\"noreferrer\"><code>P3</code></a> stands for product with three elements. Product is an algebraic term for composites.)</li>\n<li><a href=\"http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/Ord.html#comap%28fj.F%29\" rel=\"noreferrer\"><code>comap</code></a> corresponds to well, <code>comap</code>.</li>\n<li><a href=\"http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/F.html\" rel=\"noreferrer\"><code>F&lt;A, B&gt;</code></a> represents a transformation function <code>A → B</code>.</li>\n<li><a href=\"http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/P.html#p%28A,%20B,%20C%29\" rel=\"noreferrer\"><code>p</code></a> is a factory method for creating products.</li>\n<li>The whole expression corresponds to statement 2.</li>\n</ul>\n\n<p>Hope that helps.</p>\n"},{"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1524244227,"post_id":17321802,"comment_id":86909762,"body_markdown":"I like this strategy a lot. Thanks!","body":"I like this strategy a lot. Thanks!"},{"owner":{"account_id":2986718,"reputation":443,"user_id":2535334,"display_name":"Zakaria Bouazza"},"score":0,"creation_date":1586263160,"post_id":17321802,"comment_id":108059095,"body_markdown":"Most effective way! Thanks","body":"Most effective way! Thanks"}],"tags":[],"owner":{"account_id":2850233,"reputation":3615,"user_id":2447599,"display_name":"Ran Adler"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1524244296,"creation_date":1372254277,"answer_id":17321802,"question_id":369512,"body_markdown":"    import com.google.common.collect.ComparisonChain;\r\n    \r\n    /**\r\n     * @author radler\r\n     * Class Description ...\r\n     */\r\n    public class Attribute implements Comparable&lt;Attribute&gt; {\r\n\r\n    \tprivate String type;\r\n    \tprivate String value;\r\n\r\n    \tpublic String getType() { return type; }\r\n    \tpublic void setType(String type) { this.type = type; }\r\n\r\n    \tpublic String getValue() { return value; }\r\n    \tpublic void setValue(String value) { this.value = value; }\r\n\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Attribute [type=&quot; + type + &quot;, value=&quot; + value + &quot;]&quot;;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic int compareTo(Attribute that) {\r\n    \t\treturn ComparisonChain.start()\r\n            \t.compare(this.type, that.type)\r\n            \t.compare(this.value, that.value)\r\n            \t.result();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to compare objects by multiple fields","body":"<pre><code>import com.google.common.collect.ComparisonChain;\n\n/**\n * @author radler\n * Class Description ...\n */\npublic class Attribute implements Comparable&lt;Attribute&gt; {\n\n    private String type;\n    private String value;\n\n    public String getType() { return type; }\n    public void setType(String type) { this.type = type; }\n\n    public String getValue() { return value; }\n    public void setValue(String value) { this.value = value; }\n\n    @Override\n    public String toString() {\n        return \"Attribute [type=\" + type + \", value=\" + value + \"]\";\n    }\n\n    @Override\n    public int compareTo(Attribute that) {\n        return ComparisonChain.start()\n            .compare(this.type, that.type)\n            .compare(this.value, that.value)\n            .result();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":197528,"reputation":11240,"user_id":441662,"accept_rate":80,"display_name":"Benny Bottema"},"comment_count":0,"down_vote_count":2,"up_vote_count":132,"is_accepted":false,"score":130,"last_activity_date":1576224716,"creation_date":1384944068,"answer_id":20093642,"question_id":369512,"body_markdown":"(from [Ways to sort lists of objects in Java based on multiple fields](http://blog.bennybottema.com/2013/06/21/ways-to-sort-lists-of-objects-in-java-based-on-multiple-fields/))\r\n\r\nWorking code in [this gist](https://gist.github.com/bbottema/b891b25bf56e0ccb1f83)\r\n\r\nUsing Java 8 lambda&#39;s (added April 10, 2019)\r\n-------------------------------------\r\nJava 8 solves this nicely by lambda&#39;s (though Guava and Apache Commons might still offer more flexibility):\r\n\r\n    Collections.sort(reportList, Comparator.comparing(Report::getReportKey)\r\n                .thenComparing(Report::getStudentNumber)\r\n                .thenComparing(Report::getSchool));\r\n\r\nThanks to @gaoagong&#39;s [answer below](https://stackoverflow.com/a/36367245/441662).\r\n\r\n\r\nMessy and convoluted: Sorting by hand\r\n-------------------------------------\r\n\r\n    Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \r\n        @Override  \r\n        public int compare(Pizza p1, Pizza p2) {  \r\n            int sizeCmp = p1.size.compareTo(p2.size);  \r\n            if (sizeCmp != 0) {  \r\n                return sizeCmp;  \r\n            }  \r\n            int nrOfToppingsCmp = p1.nrOfToppings.compareTo(p2.nrOfToppings);  \r\n            if (nrOfToppingsCmp != 0) {  \r\n                return nrOfToppingsCmp;  \r\n            }  \r\n            return p1.name.compareTo(p2.name);  \r\n        }  \r\n    });  \r\nThis requires a lot of typing, maintenance and is error prone.\r\n\r\nThe reflective way: Sorting with BeanComparator\r\n-----------------------------------------------\r\n\r\n    ComparatorChain chain = new ComparatorChain(Arrays.asList(\r\n       new BeanComparator(&quot;size&quot;), \r\n       new BeanComparator(&quot;nrOfToppings&quot;), \r\n       new BeanComparator(&quot;name&quot;)));\r\n\r\n    Collections.sort(pizzas, chain);  \r\n\r\nObviously this is more concise, but even more error prone as you lose your direct reference to the fields by using Strings instead (no typesafety, auto-refactorings). Now if a field is renamed, the compiler won’t even report a problem. Moreover, because this solution uses reflection, the sorting is much slower.\r\n\r\nGetting there: Sorting with Google Guava’s ComparisonChain\r\n----------------------------------------------------------\r\n\r\n    Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \r\n        @Override  \r\n        public int compare(Pizza p1, Pizza p2) {  \r\n            return ComparisonChain.start().compare(p1.size, p2.size).compare(p1.nrOfToppings, p2.nrOfToppings).compare(p1.name, p2.name).result();  \r\n            // or in case the fields can be null:  \r\n            /* \r\n            return ComparisonChain.start() \r\n               .compare(p1.size, p2.size, Ordering.natural().nullsLast()) \r\n               .compare(p1.nrOfToppings, p2.nrOfToppings, Ordering.natural().nullsLast()) \r\n               .compare(p1.name, p2.name, Ordering.natural().nullsLast()) \r\n               .result(); \r\n            */  \r\n        }  \r\n    });  \r\nThis is much better, but requires some boiler plate code for the most common use case: null-values should be valued less by default. For null-fields, you have to provide an extra directive to Guava what to do in that case. This is a flexible mechanism if you want to do something specific, but often you want the default case (ie. 1, a, b, z, null).\r\n\r\nSorting with Apache Commons CompareToBuilder\r\n--------------------------------------------\r\n\r\n    Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \r\n        @Override  \r\n        public int compare(Pizza p1, Pizza p2) {  \r\n            return new CompareToBuilder().append(p1.size, p2.size).append(p1.nrOfToppings, p2.nrOfToppings).append(p1.name, p2.name).toComparison();  \r\n        }  \r\n    });  \r\nLike Guava’s ComparisonChain, this library class sorts easily on multiple fields, but also defines default behavior for null values (ie. 1, a, b, z, null). However, you can’t specify anything else either, unless you provide your own Comparator.\r\n\r\nThus\r\n----\r\nUltimately it comes down to flavor and the need for flexibility (Guava’s ComparisonChain) vs. concise code (Apache’s CompareToBuilder).\r\n\r\nBonus method\r\n----\r\nI found a nice solution that combines multiple comparators in order of priority [on CodeReview](https://codereview.stackexchange.com/a/74764/52676) in a `MultiComparator`:\r\n\r\n    class MultiComparator&lt;T&gt; implements Comparator&lt;T&gt; {\r\n        private final List&lt;Comparator&lt;T&gt;&gt; comparators;\r\n\r\n        public MultiComparator(List&lt;Comparator&lt;? super T&gt;&gt; comparators) {\r\n            this.comparators = comparators;\r\n        }\r\n\r\n        public MultiComparator(Comparator&lt;? super T&gt;... comparators) {\r\n            this(Arrays.asList(comparators));\r\n        }\r\n\r\n        public int compare(T o1, T o2) {\r\n            for (Comparator&lt;T&gt; c : comparators) {\r\n                int result = c.compare(o1, o2);\r\n                if (result != 0) {\r\n                    return result;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt;... comparators) {\r\n            Collections.sort(list, new MultiComparator&lt;T&gt;(comparators));\r\n        }\r\n    }\r\n\r\nOfcourse Apache Commons Collections has a util for this already:\r\n\r\n[ComparatorUtils.chainedComparator(comparatorCollection)](http://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/ComparatorUtils.html#chainedComparator(java.util.Collection))\r\n\r\n    Collections.sort(list, ComparatorUtils.chainedComparator(comparators));","title":"How to compare objects by multiple fields","body":"<p>(from <a href=\"http://blog.bennybottema.com/2013/06/21/ways-to-sort-lists-of-objects-in-java-based-on-multiple-fields/\" rel=\"noreferrer\">Ways to sort lists of objects in Java based on multiple fields</a>)</p>\n\n<p>Working code in <a href=\"https://gist.github.com/bbottema/b891b25bf56e0ccb1f83\" rel=\"noreferrer\">this gist</a></p>\n\n<h2>Using Java 8 lambda's (added April 10, 2019)</h2>\n\n<p>Java 8 solves this nicely by lambda's (though Guava and Apache Commons might still offer more flexibility):</p>\n\n<pre><code>Collections.sort(reportList, Comparator.comparing(Report::getReportKey)\n            .thenComparing(Report::getStudentNumber)\n            .thenComparing(Report::getSchool));\n</code></pre>\n\n<p>Thanks to @gaoagong's <a href=\"https://stackoverflow.com/a/36367245/441662\">answer below</a>.</p>\n\n<h2>Messy and convoluted: Sorting by hand</h2>\n\n<pre><code>Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \n    @Override  \n    public int compare(Pizza p1, Pizza p2) {  \n        int sizeCmp = p1.size.compareTo(p2.size);  \n        if (sizeCmp != 0) {  \n            return sizeCmp;  \n        }  \n        int nrOfToppingsCmp = p1.nrOfToppings.compareTo(p2.nrOfToppings);  \n        if (nrOfToppingsCmp != 0) {  \n            return nrOfToppingsCmp;  \n        }  \n        return p1.name.compareTo(p2.name);  \n    }  \n});  \n</code></pre>\n\n<p>This requires a lot of typing, maintenance and is error prone.</p>\n\n<h2>The reflective way: Sorting with BeanComparator</h2>\n\n<pre><code>ComparatorChain chain = new ComparatorChain(Arrays.asList(\n   new BeanComparator(\"size\"), \n   new BeanComparator(\"nrOfToppings\"), \n   new BeanComparator(\"name\")));\n\nCollections.sort(pizzas, chain);  \n</code></pre>\n\n<p>Obviously this is more concise, but even more error prone as you lose your direct reference to the fields by using Strings instead (no typesafety, auto-refactorings). Now if a field is renamed, the compiler won’t even report a problem. Moreover, because this solution uses reflection, the sorting is much slower.</p>\n\n<h2>Getting there: Sorting with Google Guava’s ComparisonChain</h2>\n\n<pre><code>Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \n    @Override  \n    public int compare(Pizza p1, Pizza p2) {  \n        return ComparisonChain.start().compare(p1.size, p2.size).compare(p1.nrOfToppings, p2.nrOfToppings).compare(p1.name, p2.name).result();  \n        // or in case the fields can be null:  \n        /* \n        return ComparisonChain.start() \n           .compare(p1.size, p2.size, Ordering.natural().nullsLast()) \n           .compare(p1.nrOfToppings, p2.nrOfToppings, Ordering.natural().nullsLast()) \n           .compare(p1.name, p2.name, Ordering.natural().nullsLast()) \n           .result(); \n        */  \n    }  \n});  \n</code></pre>\n\n<p>This is much better, but requires some boiler plate code for the most common use case: null-values should be valued less by default. For null-fields, you have to provide an extra directive to Guava what to do in that case. This is a flexible mechanism if you want to do something specific, but often you want the default case (ie. 1, a, b, z, null).</p>\n\n<h2>Sorting with Apache Commons CompareToBuilder</h2>\n\n<pre><code>Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \n    @Override  \n    public int compare(Pizza p1, Pizza p2) {  \n        return new CompareToBuilder().append(p1.size, p2.size).append(p1.nrOfToppings, p2.nrOfToppings).append(p1.name, p2.name).toComparison();  \n    }  \n});  \n</code></pre>\n\n<p>Like Guava’s ComparisonChain, this library class sorts easily on multiple fields, but also defines default behavior for null values (ie. 1, a, b, z, null). However, you can’t specify anything else either, unless you provide your own Comparator.</p>\n\n<h2>Thus</h2>\n\n<p>Ultimately it comes down to flavor and the need for flexibility (Guava’s ComparisonChain) vs. concise code (Apache’s CompareToBuilder).</p>\n\n<h2>Bonus method</h2>\n\n<p>I found a nice solution that combines multiple comparators in order of priority <a href=\"https://codereview.stackexchange.com/a/74764/52676\">on CodeReview</a> in a <code>MultiComparator</code>:</p>\n\n<pre><code>class MultiComparator&lt;T&gt; implements Comparator&lt;T&gt; {\n    private final List&lt;Comparator&lt;T&gt;&gt; comparators;\n\n    public MultiComparator(List&lt;Comparator&lt;? super T&gt;&gt; comparators) {\n        this.comparators = comparators;\n    }\n\n    public MultiComparator(Comparator&lt;? super T&gt;... comparators) {\n        this(Arrays.asList(comparators));\n    }\n\n    public int compare(T o1, T o2) {\n        for (Comparator&lt;T&gt; c : comparators) {\n            int result = c.compare(o1, o2);\n            if (result != 0) {\n                return result;\n            }\n        }\n        return 0;\n    }\n\n    public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt;... comparators) {\n        Collections.sort(list, new MultiComparator&lt;T&gt;(comparators));\n    }\n}\n</code></pre>\n\n<p>Ofcourse Apache Commons Collections has a util for this already:</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/ComparatorUtils.html#chainedComparator(java.util.Collection)\" rel=\"noreferrer\">ComparatorUtils.chainedComparator(comparatorCollection)</a></p>\n\n<pre><code>Collections.sort(list, ComparatorUtils.chainedComparator(comparators));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":241380,"reputation":14178,"user_id":512155,"accept_rate":100,"display_name":"Jan Groth"},"score":0,"creation_date":1420540573,"post_id":24386282,"comment_id":44002165,"body_markdown":"I came to this question because my code started to like your answer ;)","body":"I came to this question because my code started to like your answer ;)"}],"tags":[],"owner":{"account_id":4571351,"reputation":1,"user_id":3710964,"display_name":"Pradeep Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403611778,"creation_date":1403611778,"answer_id":24386282,"question_id":369512,"body_markdown":"\r\n    //here threshold,buyRange,targetPercentage are three keys on that i have sorted my arraylist \r\n    final Comparator&lt;BasicDBObject&gt; \r\n    \r\n        sortOrder = new Comparator&lt;BasicDBObject&gt;() {\r\n        \t\t\t\tpublic int compare(BasicDBObject e1, BasicDBObject e2) {\r\n        \t\t\t\t\tint threshold = new Double(e1.getDouble(&quot;threshold&quot;))\r\n        \t\t\t\t\t.compareTo(new Double(e2.getDouble(&quot;threshold&quot;)));\r\n        \t\t\t\t\tif (threshold != 0)\r\n        \t\t\t\t\t\treturn threshold;\r\n        \r\n        \t\t\t\t\tint buyRange = new Double(e1.getDouble(&quot;buyRange&quot;))\r\n        \t\t\t\t\t.compareTo(new Double(e2.getDouble(&quot;buyRange&quot;)));\r\n        \t\t\t\t\tif (buyRange != 0)\r\n        \t\t\t\t\t\treturn buyRange;\r\n        \r\n        \t\t\t\t\treturn (new Double(e1.getDouble(&quot;targetPercentage&quot;)) &lt; new Double(\r\n        \t\t\t\t\t\t\te2.getDouble(&quot;targetPercentage&quot;)) ? -1 : (new Double(\r\n        \t\t\t\t\t\t\t\t\te1.getDouble(&quot;targetPercentage&quot;)) == new Double(\r\n        \t\t\t\t\t\t\t\t\t\t\te2.getDouble(&quot;targetPercentage&quot;)) ? 0 : 1));\r\n        \t\t\t\t}\r\n        \t\t\t};\r\n        \t\t\tCollections.sort(objectList, sortOrder);","title":"How to compare objects by multiple fields","body":"<pre><code>//here threshold,buyRange,targetPercentage are three keys on that i have sorted my arraylist \nfinal Comparator&lt;BasicDBObject&gt; \n\n    sortOrder = new Comparator&lt;BasicDBObject&gt;() {\n                    public int compare(BasicDBObject e1, BasicDBObject e2) {\n                        int threshold = new Double(e1.getDouble(\"threshold\"))\n                        .compareTo(new Double(e2.getDouble(\"threshold\")));\n                        if (threshold != 0)\n                            return threshold;\n\n                        int buyRange = new Double(e1.getDouble(\"buyRange\"))\n                        .compareTo(new Double(e2.getDouble(\"buyRange\")));\n                        if (buyRange != 0)\n                            return buyRange;\n\n                        return (new Double(e1.getDouble(\"targetPercentage\")) &lt; new Double(\n                                e2.getDouble(\"targetPercentage\")) ? -1 : (new Double(\n                                        e1.getDouble(\"targetPercentage\")) == new Double(\n                                                e2.getDouble(\"targetPercentage\")) ? 0 : 1));\n                    }\n                };\n                Collections.sort(objectList, sortOrder);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":14,"creation_date":1507275742,"post_id":25501226,"comment_id":80153269,"body_markdown":"Especially the cast `(Person p)` is important for chained comparators.","body":"Especially the cast <code>(Person p)</code> is important for chained comparators."},{"owner":{"account_id":3788694,"reputation":501,"user_id":3145863,"display_name":"jjurm"},"score":8,"creation_date":1511217528,"post_id":25501226,"comment_id":81758376,"body_markdown":"How efficient it is when comparing a large number of objects, e.g. when sorting? Does it have to create new `Comparator` instances in every call?","body":"How efficient it is when comparing a large number of objects, e.g. when sorting? Does it have to create new <code>Comparator</code> instances in every call?"},{"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"score":5,"creation_date":1525468550,"post_id":25501226,"comment_id":87383751,"body_markdown":"I get a NullPointerException when one of the fields I am comparing is null, like a String. Is there anyway to keep this compare format but allow it to be null safe?","body":"I get a NullPointerException when one of the fields I am comparing is null, like a String. Is there anyway to keep this compare format but allow it to be null safe?"},{"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"score":6,"creation_date":1527690166,"post_id":25501226,"comment_id":88223845,"body_markdown":"@jjurm `.thenComparing(Person::getLastName, Comparator.nullsFirst(Comparator.naturalOrder()))` - first field selector, then comparator","body":"@jjurm <code>.thenComparing(Person::getLastName, Comparator.nullsFirst(Comparator.naturalOrder()))</code> - first field selector, then comparator"},{"owner":{"account_id":894953,"reputation":2348,"user_id":932440,"accept_rate":76,"display_name":"Gandalf"},"score":6,"creation_date":1540333528,"post_id":25501226,"comment_id":92824543,"body_markdown":"@jjurm when you use it in `compareTo` as shown above the `Comparator` is created each time the method is called. You could prevent this by storing the comparator in a private static final field.","body":"@jjurm when you use it in <code>compareTo</code> as shown above the <code>Comparator</code> is created each time the method is called. You could prevent this by storing the comparator in a private static final field."},{"owner":{"account_id":13560,"reputation":64070,"user_id":2658202,"accept_rate":92,"display_name":"Stefan Steinegger"},"score":4,"creation_date":1606920794,"post_id":25501226,"comment_id":115109638,"body_markdown":"@membersound: `(Person p)` is not a cast. It&#39;s the type declaration of the argument of the lambda expression.","body":"@membersound: <code>(Person p)</code> is not a cast. It&#39;s the type declaration of the argument of the lambda expression."}],"tags":[],"owner":{"account_id":4941567,"reputation":76,"user_id":3978127,"display_name":"Display Name"},"comment_count":6,"down_vote_count":0,"up_vote_count":538,"is_accepted":false,"score":538,"last_activity_date":1502206113,"creation_date":1409041550,"answer_id":25501226,"question_id":369512,"body_markdown":"With Java 8: \r\n\r\n    Comparator.comparing((Person p)-&gt;p.firstName)\r\n              .thenComparing(p-&gt;p.lastName)\r\n              .thenComparingInt(p-&gt;p.age);\r\n\r\nIf you have accessor methods:\r\n\r\n    Comparator.comparing(Person::getFirstName)\r\n              .thenComparing(Person::getLastName)\r\n              .thenComparingInt(Person::getAge);\r\n\r\nIf a class implements Comparable then such comparator may be used in compareTo method:\r\n\r\n    @Override\r\n    public int compareTo(Person o){\r\n        return Comparator.comparing(Person::getFirstName)\r\n                  .thenComparing(Person::getLastName)\r\n                  .thenComparingInt(Person::getAge)\r\n                  .compare(this, o);\r\n    }","title":"How to compare objects by multiple fields","body":"<p>With Java 8: </p>\n\n<pre><code>Comparator.comparing((Person p)-&gt;p.firstName)\n          .thenComparing(p-&gt;p.lastName)\n          .thenComparingInt(p-&gt;p.age);\n</code></pre>\n\n<p>If you have accessor methods:</p>\n\n<pre><code>Comparator.comparing(Person::getFirstName)\n          .thenComparing(Person::getLastName)\n          .thenComparingInt(Person::getAge);\n</code></pre>\n\n<p>If a class implements Comparable then such comparator may be used in compareTo method:</p>\n\n<pre><code>@Override\npublic int compareTo(Person o){\n    return Comparator.comparing(Person::getFirstName)\n              .thenComparing(Person::getLastName)\n              .thenComparingInt(Person::getAge)\n              .compare(this, o);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5112990,"reputation":1,"user_id":4099068,"display_name":"Xeroiris"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1511000259,"creation_date":1412171480,"answer_id":26143022,"question_id":369512,"body_markdown":"Another option you can always consider is Apache Commons. It provides a lot of options.\r\n\r\n    import org.apache.commons.lang3.builder.CompareToBuilder;\r\n\r\nEx:\r\n\r\n    public int compare(Person a, Person b){\r\n\r\n       return new CompareToBuilder()\r\n         .append(a.getName(), b.getName())\r\n         .append(a.getAddress(), b.getAddress())\r\n         .toComparison();\r\n    }\r\n\r\n","title":"How to compare objects by multiple fields","body":"<p>Another option you can always consider is Apache Commons. It provides a lot of options.</p>\n\n<pre><code>import org.apache.commons.lang3.builder.CompareToBuilder;\n</code></pre>\n\n<p>Ex:</p>\n\n<pre><code>public int compare(Person a, Person b){\n\n   return new CompareToBuilder()\n     .append(a.getName(), b.getName())\n     .append(a.getAddress(), b.getAddress())\n     .toComparison();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82472,"reputation":4033,"user_id":231860,"accept_rate":40,"display_name":"Luke Machowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1415709573,"creation_date":1415709573,"answer_id":26865152,"question_id":369512,"body_markdown":"For those able to use the Java 8 streaming API, there is a neater approach that is well documented here:\r\n[Lambdas and sorting][1]\r\n\r\nI was looking for the equivalent of the C# LINQ:\r\n\r\n    .ThenBy(...)\r\nI found the mechanism in Java 8 on the Comparator:\r\n\r\n    .thenComparing(...)\r\n\r\nSo here is the snippet that demonstrates the algorithm.\r\n\r\n        Comparator&lt;Person&gt; comparator = Comparator.comparing(person -&gt; person.name);\r\n        comparator = comparator.thenComparing(Comparator.comparing(person -&gt; person.age));\r\n\r\n\r\nCheck out the link above for a neater way and an explanation about how Java&#39;s type inference makes it a bit more clunky to define compared to LINQ.\r\n\r\nHere is the full unit test for reference:\r\n\r\n    @Test\r\n    public void testChainedSorting()\r\n    {\r\n        // Create the collection of people:\r\n        ArrayList&lt;Person&gt; people = new ArrayList&lt;&gt;();\r\n        people.add(new Person(&quot;Dan&quot;, 4));\r\n        people.add(new Person(&quot;Andi&quot;, 2));\r\n        people.add(new Person(&quot;Bob&quot;, 42));\r\n        people.add(new Person(&quot;Debby&quot;, 3));\r\n        people.add(new Person(&quot;Bob&quot;, 72));\r\n        people.add(new Person(&quot;Barry&quot;, 20));\r\n        people.add(new Person(&quot;Cathy&quot;, 40));\r\n        people.add(new Person(&quot;Bob&quot;, 40));\r\n        people.add(new Person(&quot;Barry&quot;, 50));\r\n\r\n        // Define chained comparators:\r\n        // Great article explaining this and how to make it even neater:\r\n        // http://blog.jooq.org/2014/01/31/java-8-friday-goodies-lambdas-and-sorting/\r\n        Comparator&lt;Person&gt; comparator = Comparator.comparing(person -&gt; person.name);\r\n        comparator = comparator.thenComparing(Comparator.comparing(person -&gt; person.age));\r\n\r\n        // Sort the stream:\r\n        Stream&lt;Person&gt; personStream = people.stream().sorted(comparator);\r\n\r\n        // Make sure that the output is as expected:\r\n        List&lt;Person&gt; sortedPeople = personStream.collect(Collectors.toList());\r\n        Assert.assertEquals(&quot;Andi&quot;,  sortedPeople.get(0).name); Assert.assertEquals(2,  sortedPeople.get(0).age);\r\n        Assert.assertEquals(&quot;Barry&quot;, sortedPeople.get(1).name); Assert.assertEquals(20, sortedPeople.get(1).age);\r\n        Assert.assertEquals(&quot;Barry&quot;, sortedPeople.get(2).name); Assert.assertEquals(50, sortedPeople.get(2).age);\r\n        Assert.assertEquals(&quot;Bob&quot;,   sortedPeople.get(3).name); Assert.assertEquals(40, sortedPeople.get(3).age);\r\n        Assert.assertEquals(&quot;Bob&quot;,   sortedPeople.get(4).name); Assert.assertEquals(42, sortedPeople.get(4).age);\r\n        Assert.assertEquals(&quot;Bob&quot;,   sortedPeople.get(5).name); Assert.assertEquals(72, sortedPeople.get(5).age);\r\n        Assert.assertEquals(&quot;Cathy&quot;, sortedPeople.get(6).name); Assert.assertEquals(40, sortedPeople.get(6).age);\r\n        Assert.assertEquals(&quot;Dan&quot;,   sortedPeople.get(7).name); Assert.assertEquals(4,  sortedPeople.get(7).age);\r\n        Assert.assertEquals(&quot;Debby&quot;, sortedPeople.get(8).name); Assert.assertEquals(3,  sortedPeople.get(8).age);\r\n        // Andi     : 2\r\n        // Barry    : 20\r\n        // Barry    : 50\r\n        // Bob      : 40\r\n        // Bob      : 42\r\n        // Bob      : 72\r\n        // Cathy    : 40\r\n        // Dan      : 4\r\n        // Debby    : 3\r\n    }\r\n\r\n    /**\r\n     * A person in our system.\r\n     */\r\n    public static class Person\r\n    {\r\n        /**\r\n         * Creates a new person.\r\n         * @param name The name of the person.\r\n         * @param age The age of the person.\r\n         */\r\n        public Person(String name, int age)\r\n        {\r\n            this.age = age;\r\n            this.name = name;\r\n        }\r\n\r\n        /**\r\n         * The name of the person.\r\n         */\r\n        public String name;\r\n\r\n        /**\r\n         * The age of the person.\r\n         */\r\n        public int age;\r\n\r\n        @Override\r\n        public String toString()\r\n        {\r\n            if (name == null) return super.toString();\r\n            else return String.format(&quot;%s : %d&quot;, this.name, this.age);\r\n        }\r\n    }\r\n\r\n  [1]: http://blog.jooq.org/2014/01/31/java-8-friday-goodies-lambdas-and-sorting/","title":"How to compare objects by multiple fields","body":"<p>For those able to use the Java 8 streaming API, there is a neater approach that is well documented here:\n<a href=\"http://blog.jooq.org/2014/01/31/java-8-friday-goodies-lambdas-and-sorting/\" rel=\"noreferrer\">Lambdas and sorting</a></p>\n\n<p>I was looking for the equivalent of the C# LINQ:</p>\n\n<pre><code>.ThenBy(...)\n</code></pre>\n\n<p>I found the mechanism in Java 8 on the Comparator:</p>\n\n<pre><code>.thenComparing(...)\n</code></pre>\n\n<p>So here is the snippet that demonstrates the algorithm.</p>\n\n<pre><code>    Comparator&lt;Person&gt; comparator = Comparator.comparing(person -&gt; person.name);\n    comparator = comparator.thenComparing(Comparator.comparing(person -&gt; person.age));\n</code></pre>\n\n<p>Check out the link above for a neater way and an explanation about how Java's type inference makes it a bit more clunky to define compared to LINQ.</p>\n\n<p>Here is the full unit test for reference:</p>\n\n<pre><code>@Test\npublic void testChainedSorting()\n{\n    // Create the collection of people:\n    ArrayList&lt;Person&gt; people = new ArrayList&lt;&gt;();\n    people.add(new Person(\"Dan\", 4));\n    people.add(new Person(\"Andi\", 2));\n    people.add(new Person(\"Bob\", 42));\n    people.add(new Person(\"Debby\", 3));\n    people.add(new Person(\"Bob\", 72));\n    people.add(new Person(\"Barry\", 20));\n    people.add(new Person(\"Cathy\", 40));\n    people.add(new Person(\"Bob\", 40));\n    people.add(new Person(\"Barry\", 50));\n\n    // Define chained comparators:\n    // Great article explaining this and how to make it even neater:\n    // http://blog.jooq.org/2014/01/31/java-8-friday-goodies-lambdas-and-sorting/\n    Comparator&lt;Person&gt; comparator = Comparator.comparing(person -&gt; person.name);\n    comparator = comparator.thenComparing(Comparator.comparing(person -&gt; person.age));\n\n    // Sort the stream:\n    Stream&lt;Person&gt; personStream = people.stream().sorted(comparator);\n\n    // Make sure that the output is as expected:\n    List&lt;Person&gt; sortedPeople = personStream.collect(Collectors.toList());\n    Assert.assertEquals(\"Andi\",  sortedPeople.get(0).name); Assert.assertEquals(2,  sortedPeople.get(0).age);\n    Assert.assertEquals(\"Barry\", sortedPeople.get(1).name); Assert.assertEquals(20, sortedPeople.get(1).age);\n    Assert.assertEquals(\"Barry\", sortedPeople.get(2).name); Assert.assertEquals(50, sortedPeople.get(2).age);\n    Assert.assertEquals(\"Bob\",   sortedPeople.get(3).name); Assert.assertEquals(40, sortedPeople.get(3).age);\n    Assert.assertEquals(\"Bob\",   sortedPeople.get(4).name); Assert.assertEquals(42, sortedPeople.get(4).age);\n    Assert.assertEquals(\"Bob\",   sortedPeople.get(5).name); Assert.assertEquals(72, sortedPeople.get(5).age);\n    Assert.assertEquals(\"Cathy\", sortedPeople.get(6).name); Assert.assertEquals(40, sortedPeople.get(6).age);\n    Assert.assertEquals(\"Dan\",   sortedPeople.get(7).name); Assert.assertEquals(4,  sortedPeople.get(7).age);\n    Assert.assertEquals(\"Debby\", sortedPeople.get(8).name); Assert.assertEquals(3,  sortedPeople.get(8).age);\n    // Andi     : 2\n    // Barry    : 20\n    // Barry    : 50\n    // Bob      : 40\n    // Bob      : 42\n    // Bob      : 72\n    // Cathy    : 40\n    // Dan      : 4\n    // Debby    : 3\n}\n\n/**\n * A person in our system.\n */\npublic static class Person\n{\n    /**\n     * Creates a new person.\n     * @param name The name of the person.\n     * @param age The age of the person.\n     */\n    public Person(String name, int age)\n    {\n        this.age = age;\n        this.name = name;\n    }\n\n    /**\n     * The name of the person.\n     */\n    public String name;\n\n    /**\n     * The age of the person.\n     */\n    public int age;\n\n    @Override\n    public String toString()\n    {\n        if (name == null) return super.toString();\n        else return String.format(\"%s : %d\", this.name, this.age);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449667319,"creation_date":1449667011,"answer_id":34179812,"question_id":369512,"body_markdown":"Following blog given good chained Comparator example \r\n\r\n \r\n\r\nhttp://www.codejava.net/java-core/collections/sorting-a-list-by-multiple-attributes-example\r\n\r\n\r\n\r\n\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n     \r\n    /**\r\n     * This is a chained comparator that is used to sort a list by multiple\r\n     * attributes by chaining a sequence of comparators of individual fields\r\n     * together.\r\n     *\r\n     */\r\n    public class EmployeeChainedComparator implements Comparator&lt;Employee&gt; {\r\n     \r\n        private List&lt;Comparator&lt;Employee&gt;&gt; listComparators;\r\n     \r\n        @SafeVarargs\r\n        public EmployeeChainedComparator(Comparator&lt;Employee&gt;... comparators) {\r\n            this.listComparators = Arrays.asList(comparators);\r\n        }\r\n     \r\n        @Override\r\n        public int compare(Employee emp1, Employee emp2) {\r\n            for (Comparator&lt;Employee&gt; comparator : listComparators) {\r\n                int result = comparator.compare(emp1, emp2);\r\n                if (result != 0) {\r\n                    return result;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\nCalling Comparator:\r\n\r\n    Collections.sort(listEmployees, new EmployeeChainedComparator(\r\n                    new EmployeeJobTitleComparator(),\r\n                    new EmployeeAgeComparator(),\r\n                    new EmployeeSalaryComparator())\r\n            );","title":"How to compare objects by multiple fields","body":"<p>Following blog given good chained Comparator example </p>\n\n<p><a href=\"http://www.codejava.net/java-core/collections/sorting-a-list-by-multiple-attributes-example\" rel=\"nofollow\">http://www.codejava.net/java-core/collections/sorting-a-list-by-multiple-attributes-example</a></p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.List;\n\n/**\n * This is a chained comparator that is used to sort a list by multiple\n * attributes by chaining a sequence of comparators of individual fields\n * together.\n *\n */\npublic class EmployeeChainedComparator implements Comparator&lt;Employee&gt; {\n\n    private List&lt;Comparator&lt;Employee&gt;&gt; listComparators;\n\n    @SafeVarargs\n    public EmployeeChainedComparator(Comparator&lt;Employee&gt;... comparators) {\n        this.listComparators = Arrays.asList(comparators);\n    }\n\n    @Override\n    public int compare(Employee emp1, Employee emp2) {\n        for (Comparator&lt;Employee&gt; comparator : listComparators) {\n            int result = comparator.compare(emp1, emp2);\n            if (result != 0) {\n                return result;\n            }\n        }\n        return 0;\n    }\n}\n</code></pre>\n\n<p>Calling Comparator:</p>\n\n<pre><code>Collections.sort(listEmployees, new EmployeeChainedComparator(\n                new EmployeeJobTitleComparator(),\n                new EmployeeAgeComparator(),\n                new EmployeeSalaryComparator())\n        );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490125073,"creation_date":1490125073,"answer_id":42936643,"question_id":369512,"body_markdown":"Starting from [Steve&#39;s answer][1] the ternary operator can be used:\r\n\r\n    public int compareTo(Person other) {\r\n        int f = firstName.compareTo(other.firstName);\r\n        int l = lastName.compareTo(other.lastName);\r\n        return f != 0 ? f : l != 0 ? l : Integer.compare(age, other.age);\r\n    }\r\n\r\n[1]: https://stackoverflow.com/a/369867/1744774","title":"How to compare objects by multiple fields","body":"<p>Starting from <a href=\"https://stackoverflow.com/a/369867/1744774\">Steve's answer</a> the ternary operator can be used:</p>\n\n<pre><code>public int compareTo(Person other) {\n    int f = firstName.compareTo(other.firstName);\n    int l = lastName.compareTo(other.lastName);\n    return f != 0 ? f : l != 0 ? l : Integer.compare(age, other.age);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2497454,"reputation":4494,"user_id":2173516,"accept_rate":94,"display_name":"Noel Widmer"},"score":1,"creation_date":1511357077,"post_id":47435442,"comment_id":81825898,"body_markdown":"**Please don&#39;t do that.** Hashcodes should not be used for equality comparisons but for hashtable indexing. Hash collisions may result in equality for two different objects. Even hashtables rely on *real equality* if hash collisions occur.","body":"<b>Please don&#39;t do that.</b> Hashcodes should not be used for equality comparisons but for hashtable indexing. Hash collisions may result in equality for two different objects. Even hashtables rely on <i>real equality</i> if hash collisions occur."}],"tags":[],"owner":{"account_id":12305114,"reputation":57,"user_id":8978420,"display_name":"Exodus"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1511355770,"creation_date":1511355770,"answer_id":47435442,"question_id":369512,"body_markdown":"It is easy to compare two objects with hashcode method in java`\r\n\r\n    public class Sample{\r\n    \t\r\n      String a=null;\r\n      String b=null;\r\n      \r\n      public Sample(){\r\n    \t  a=&quot;s&quot;;\r\n    \t  b=&quot;a&quot;;\r\n      }\r\n      public Sample(String a,String b){\r\n    \t  this.a=a;\r\n    \t  this.b=b;\r\n      }\r\n      public static void main(String args[]){\r\n    \t  Sample f=new Sample(&quot;b&quot;,&quot;12&quot;);\r\n    \t  Sample s=new Sample(&quot;b&quot;,&quot;12&quot;);\r\n          //will return true\r\n    \t  System.out.println((s.a.hashCode()+s.b.hashCode())==(f.a.hashCode()+f.b.hashCode()));\r\n\r\n          //will return false\r\n    \t  Sample f=new Sample(&quot;b&quot;,&quot;12&quot;);\r\n    \t  Sample s=new Sample(&quot;b&quot;,&quot;13&quot;);\r\n    \t  System.out.println((s.a.hashCode()+s.b.hashCode())==(f.a.hashCode()+f.b.hashCode()));\r\n   \r\n    }","title":"How to compare objects by multiple fields","body":"<p>It is easy to compare two objects with hashcode method in java`</p>\n\n<pre><code>public class Sample{\n\n  String a=null;\n  String b=null;\n\n  public Sample(){\n      a=\"s\";\n      b=\"a\";\n  }\n  public Sample(String a,String b){\n      this.a=a;\n      this.b=b;\n  }\n  public static void main(String args[]){\n      Sample f=new Sample(\"b\",\"12\");\n      Sample s=new Sample(\"b\",\"12\");\n      //will return true\n      System.out.println((s.a.hashCode()+s.b.hashCode())==(f.a.hashCode()+f.b.hashCode()));\n\n      //will return false\n      Sample f=new Sample(\"b\",\"12\");\n      Sample s=new Sample(\"b\",\"13\");\n      System.out.println((s.a.hashCode()+s.b.hashCode())==(f.a.hashCode()+f.b.hashCode()));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10464823,"reputation":1,"user_id":8380642,"display_name":"Pawan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1525558480,"creation_date":1525558480,"answer_id":50194468,"question_id":369512,"body_markdown":"    //Following is the example in jdk 1.8\r\n    package com;\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    \r\n    class User {\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;\r\n    \tprivate Integer age;\r\n    \r\n    \tpublic Integer getAge() {\r\n    \t\treturn age;\r\n    \t}\r\n    \r\n    \tpublic User setAge(Integer age) {\r\n    \t\tthis.age = age;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \r\n    \tpublic User setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \r\n    \tpublic User setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    public class MultiFieldsComparision {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;User&gt; users = new ArrayList&lt;User&gt;();\r\n    \r\n    \t\tUser u1 = new User().setFirstName(&quot;Pawan&quot;).setLastName(&quot;Singh&quot;).setAge(38);\r\n    \t\tUser u2 = new User().setFirstName(&quot;Pawan&quot;).setLastName(&quot;Payal&quot;).setAge(37);\r\n    \t\tUser u3 = new User().setFirstName(&quot;Anuj&quot;).setLastName(&quot;Kumar&quot;).setAge(60);\r\n    \t\tUser u4 = new User().setFirstName(&quot;Anuj&quot;).setLastName(&quot;Kumar&quot;).setAge(43);\r\n    \t\tUser u5 = new User().setFirstName(&quot;Pawan&quot;).setLastName(&quot;Chamoli&quot;).setAge(44);\r\n    \t\tUser u6 = new User().setFirstName(&quot;Pawan&quot;).setLastName(&quot;Singh&quot;).setAge(5);\r\n    \r\n    \t\tusers.add(u1);\r\n    \t\tusers.add(u2);\r\n    \t\tusers.add(u3);\r\n    \t\tusers.add(u4);\r\n    \t\tusers.add(u5);\r\n    \t\tusers.add(u6);\r\n    \r\n    \t\tSystem.out.println(&quot;****** Before Sorting ******&quot;);\r\n    \r\n    \t\tusers.forEach(user -&gt; {\r\n    \t\t\tSystem.out.println(user.getFirstName() + &quot; , &quot; + user.getLastName() + &quot; , &quot; + user.getAge());\r\n    \t\t});\r\n    \r\n    \t\tSystem.out.println(&quot;****** Aftre Sorting ******&quot;);\r\n    \r\n    \t\tusers.sort(\r\n    \t\t\t\tComparator.comparing(User::getFirstName).thenComparing(User::getLastName).thenComparing(User::getAge));\r\n    \r\n    \t\tusers.forEach(user -&gt; {\r\n    \t\t\tSystem.out.println(user.getFirstName() + &quot; , &quot; + user.getLastName() + &quot; , &quot; + user.getAge());\r\n    \t\t});\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to compare objects by multiple fields","body":"<pre><code>//Following is the example in jdk 1.8\npackage com;\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\n\nclass User {\n    private String firstName;\n    private String lastName;\n    private Integer age;\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public User setAge(Integer age) {\n        this.age = age;\n        return this;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public User setFirstName(String firstName) {\n        this.firstName = firstName;\n        return this;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public User setLastName(String lastName) {\n        this.lastName = lastName;\n        return this;\n    }\n\n}\n\npublic class MultiFieldsComparision {\n\n    public static void main(String[] args) {\n        List&lt;User&gt; users = new ArrayList&lt;User&gt;();\n\n        User u1 = new User().setFirstName(\"Pawan\").setLastName(\"Singh\").setAge(38);\n        User u2 = new User().setFirstName(\"Pawan\").setLastName(\"Payal\").setAge(37);\n        User u3 = new User().setFirstName(\"Anuj\").setLastName(\"Kumar\").setAge(60);\n        User u4 = new User().setFirstName(\"Anuj\").setLastName(\"Kumar\").setAge(43);\n        User u5 = new User().setFirstName(\"Pawan\").setLastName(\"Chamoli\").setAge(44);\n        User u6 = new User().setFirstName(\"Pawan\").setLastName(\"Singh\").setAge(5);\n\n        users.add(u1);\n        users.add(u2);\n        users.add(u3);\n        users.add(u4);\n        users.add(u5);\n        users.add(u6);\n\n        System.out.println(\"****** Before Sorting ******\");\n\n        users.forEach(user -&gt; {\n            System.out.println(user.getFirstName() + \" , \" + user.getLastName() + \" , \" + user.getAge());\n        });\n\n        System.out.println(\"****** Aftre Sorting ******\");\n\n        users.sort(\n                Comparator.comparing(User::getFirstName).thenComparing(User::getLastName).thenComparing(User::getAge));\n\n        users.forEach(user -&gt; {\n            System.out.println(user.getFirstName() + \" , \" + user.getLastName() + \" , \" + user.getAge());\n        });\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3429817,"reputation":486,"user_id":2874585,"display_name":"Sachchit Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578040348,"creation_date":1578039151,"answer_id":59575149,"question_id":369512,"body_markdown":"Code implementation of the same is here if we have to sort the Person object based on multiple fields.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n\r\n    public class Person {\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n    private int age;\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public Person(String firstName, String lastName, int age) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.age = age;\r\n    }\r\n\r\n\r\n    static class PersonSortingComparator implements Comparator&lt;Person&gt; {\r\n\r\n        @Override\r\n        public int compare(Person person1, Person person2) {\r\n\r\n            // for first name comparison\r\n            int firstNameCompare = person1.getFirstName().compareTo(person2.getFirstName());\r\n\r\n            // for last name comparison\r\n            int lastNameCompare = person1.getLastName().compareTo(person2.getLastName());\r\n\r\n            // for last name comparison\r\n            int ageCompare = person1.getAge() - person2.getAge();\r\n\r\n            // Now comparing\r\n            if (firstNameCompare == 0) {\r\n                if (lastNameCompare == 0) {\r\n                    return ageCompare;\r\n                }\r\n                return lastNameCompare;\r\n            }\r\n            return firstNameCompare;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Person person1 = new Person(&quot;Ajay&quot;, &quot;Kumar&quot;, 27);\r\n        Person person2 = new Person(&quot;Ajay&quot;,&quot;Gupta&quot;, 23);\r\n        Person person3 = new Person(&quot;Ajay&quot;,&quot;Kumar&quot;, 22);\r\n\r\n\r\n        ArrayList&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n        persons.add(person1);\r\n        persons.add(person2);\r\n        persons.add(person3);\r\n\r\n\r\n        System.out.println(&quot;Before Sorting:\\n&quot;);\r\n        for (Person person : persons) {\r\n            System.out.println(person.firstName + &quot; &quot; + person.lastName + &quot; &quot; + person.age);\r\n        }\r\n\r\n        Collections.sort(persons, new PersonSortingComparator());\r\n\r\n        System.out.println(&quot;After Sorting:\\n&quot;);\r\n        for (Person person : persons) {\r\n            System.out.println(person.firstName + &quot; &quot; + person.lastName + &quot; &quot; + person.age);\r\n        }\r\n    }\r\n\r\n    }\r\n","title":"How to compare objects by multiple fields","body":"<p>Code implementation of the same is here if we have to sort the Person object based on multiple fields.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\n\npublic class Person {\n\nprivate String firstName;\nprivate String lastName;\nprivate int age;\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\npublic int getAge() {\n    return age;\n}\n\npublic void setAge(int age) {\n    this.age = age;\n}\n\npublic Person(String firstName, String lastName, int age) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.age = age;\n}\n\n\nstatic class PersonSortingComparator implements Comparator&lt;Person&gt; {\n\n    @Override\n    public int compare(Person person1, Person person2) {\n\n        // for first name comparison\n        int firstNameCompare = person1.getFirstName().compareTo(person2.getFirstName());\n\n        // for last name comparison\n        int lastNameCompare = person1.getLastName().compareTo(person2.getLastName());\n\n        // for last name comparison\n        int ageCompare = person1.getAge() - person2.getAge();\n\n        // Now comparing\n        if (firstNameCompare == 0) {\n            if (lastNameCompare == 0) {\n                return ageCompare;\n            }\n            return lastNameCompare;\n        }\n        return firstNameCompare;\n    }\n}\n\npublic static void main(String[] args) {\n    Person person1 = new Person(\"Ajay\", \"Kumar\", 27);\n    Person person2 = new Person(\"Ajay\",\"Gupta\", 23);\n    Person person3 = new Person(\"Ajay\",\"Kumar\", 22);\n\n\n    ArrayList&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n    persons.add(person1);\n    persons.add(person2);\n    persons.add(person3);\n\n\n    System.out.println(\"Before Sorting:\\n\");\n    for (Person person : persons) {\n        System.out.println(person.firstName + \" \" + person.lastName + \" \" + person.age);\n    }\n\n    Collections.sort(persons, new PersonSortingComparator());\n\n    System.out.println(\"After Sorting:\\n\");\n    for (Person person : persons) {\n        System.out.println(person.firstName + \" \" + person.lastName + \" \" + person.age);\n    }\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16917807,"reputation":1246,"user_id":12235376,"display_name":"pallgeuer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608376494,"creation_date":1608376494,"answer_id":65369206,"question_id":369512,"body_markdown":"Better late than never - if you&#39;re looking for unnecessary clutter or overhead then it&#39;s hard to beat the following in terms of least code/fast execution at the same time.\r\n\r\n**Data class:**\r\n```\r\npublic class MyData {\r\n    int id;\r\n    boolean relevant;\r\n    String name;\r\n    float value;\r\n}\r\n```\r\n\r\n**Comparator:**\r\n```\r\npublic class MultiFieldComparator implements Comparator&lt;MyData&gt; {\r\n    @Override\r\n    public int compare(MyData dataA, MyData dataB) {\r\n        int result;\r\n        if((result = Integer.compare(dataA.id, dataB.id)) == 0 &amp;&amp;\r\n           (result = Boolean.compare(dataA.relevant, dataB.relevant)) == 0 &amp;&amp;\r\n           (result = dataA.name.compareTo(dataB.name)) == 0)\r\n            result = Float.compare(dataA.value, dataB.value);\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nIf you are just looking to sort a collection by a custom order then the following is even cleaner:\r\n```\r\nmyDataList.sort((dataA, dataB) -&gt; {\r\n    int result;\r\n    if((result = Integer.compare(dataA.id, dataB.id)) == 0 &amp;&amp;\r\n       (result = Boolean.compare(dataA.relevant, dataB.relevant)) == 0 &amp;&amp;\r\n       (result = dataA.name.compareTo(dataB.name)) == 0)\r\n        result = Float.compare(dataA.value, dataB.value);\r\n    return result;\r\n});\r\n```","title":"How to compare objects by multiple fields","body":"<p>Better late than never - if you're looking for unnecessary clutter or overhead then it's hard to beat the following in terms of least code/fast execution at the same time.</p>\n<p><strong>Data class:</strong></p>\n<pre><code>public class MyData {\n    int id;\n    boolean relevant;\n    String name;\n    float value;\n}\n</code></pre>\n<p><strong>Comparator:</strong></p>\n<pre><code>public class MultiFieldComparator implements Comparator&lt;MyData&gt; {\n    @Override\n    public int compare(MyData dataA, MyData dataB) {\n        int result;\n        if((result = Integer.compare(dataA.id, dataB.id)) == 0 &amp;&amp;\n           (result = Boolean.compare(dataA.relevant, dataB.relevant)) == 0 &amp;&amp;\n           (result = dataA.name.compareTo(dataB.name)) == 0)\n            result = Float.compare(dataA.value, dataB.value);\n        return result;\n    }\n}\n</code></pre>\n<p>If you are just looking to sort a collection by a custom order then the following is even cleaner:</p>\n<pre><code>myDataList.sort((dataA, dataB) -&gt; {\n    int result;\n    if((result = Integer.compare(dataA.id, dataB.id)) == 0 &amp;&amp;\n       (result = Boolean.compare(dataA.relevant, dataB.relevant)) == 0 &amp;&amp;\n       (result = dataA.name.compareTo(dataB.name)) == 0)\n        result = Float.compare(dataA.value, dataB.value);\n    return result;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1776813,"reputation":735,"user_id":1620446,"display_name":"Abhilash Ranjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642011851,"creation_date":1642011851,"answer_id":70686559,"question_id":369512,"body_markdown":"Java 8 through lambda way we can compare by method reference.\r\nStudent POJO  \r\n\r\n    public class Student {\r\n    int id;\r\n    String firstName;\r\n    String lastName;\r\n    String subject;\r\n\r\n    public Student(int id, String firstName, String lastName, String subject) {\r\n        this.id = id;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.subject = subject;\r\n    }\r\n    enter code here\r\n\r\nNow we can sort based on \r\n\r\n   ` 1. id-&gt;FirstName-&gt;LastName-&gt;Subject \r\n     2. Subject-&gt;id-&gt;FirstName-&gt;LastName`\r\n\r\n We will use Comparator in array Stream \r\n\r\n    public class TestComprator {\r\n    public static void main(String[] args) {\r\n        Student s1= new Student(108, &quot;James&quot;, &quot;Testo&quot;, &quot;Physics&quot;);\r\n        Student s2= new Student(101, &quot;Fundu&quot;, &quot;Barito&quot;, &quot;Chem&quot;);\r\n        Student s3= new Student(105, &quot;Sindhu&quot;, &quot;Sharan&quot;, &quot;Math&quot;);\r\n        Student s4= new Student(98, &quot;Rechel&quot;, &quot;Stephen&quot;, &quot;Physics&quot;);\r\n        System.out.printf(&quot;----------id-&gt;FirstName-&gt;LastName-&gt;Subject-------------&quot;);\r\n        Arrays.asList(s1,s2,s3,s4).stream()\r\n                .sorted(Comparator.comparing(Student::getId)\r\n                        .thenComparing(Student::getFirstName)\r\n                    .thenComparing(Student::getLastName)\r\n                    .thenComparing(Student::getSubject))\r\n                .forEach(System.out::println);\r\n\r\n        System.out.printf(&quot;----Subject-&gt;id-&gt;FirstName-&gt;LastName ------\\n&quot;);\r\n        Arrays.asList(s1,s2,s3,s4).stream()\r\n                .sorted(Comparator. comparing(Student::getSubject)\r\n                        .thenComparing(Student::getId)\r\n                        .thenComparing(Student::getFirstName)\r\n                        .thenComparing(Student::getLastName)\r\n                       )\r\n                .forEach(System.out::println);\r\n    }\r\n}\r\n\r\n\r\n\r\nOutput:- \r\n\r\n    `----------id-&gt;FirstName-&gt;LastName-&gt;Subject-------------\r\n    Student{id=98, firstName=&#39;Rechel&#39;, lastName=&#39;Stephen&#39;, subject=&#39;Physics&#39;}\r\n    Student{id=101, firstName=&#39;Fundu&#39;, lastName=&#39;Barito&#39;, subject=&#39;Chem&#39;}\r\n    Student{id=105, firstName=&#39;Sindhu&#39;, lastName=&#39;Sharan&#39;, subject=&#39;Math&#39;}\r\n    Student{id=108, firstName=&#39;James&#39;, lastName=&#39;Testo&#39;, subject=&#39;Physics&#39;}\r\n     ----Subject-&gt;id-&gt;FirstName-&gt;LastName ------\r\n    Student{id=101, firstName=&#39;Fundu&#39;, lastName=&#39;Barito&#39;, subject=&#39;Chem&#39;}\r\n    Student{id=105, firstName=&#39;Sindhu&#39;, lastName=&#39;Sharan&#39;, subject=&#39;Math&#39;}\r\n    Student{id=98, firstName=&#39;Rechel&#39;, lastName=&#39;Stephen&#39;, subject=&#39;Physics&#39;}\r\n    Student{id=108, firstName=&#39;James&#39;, lastName=&#39;Testo&#39;, subject=&#39;Physics&#39;}\r\n\r\n","title":"How to compare objects by multiple fields","body":"<p>Java 8 through lambda way we can compare by method reference.\nStudent POJO</p>\n<pre><code>public class Student {\nint id;\nString firstName;\nString lastName;\nString subject;\n\npublic Student(int id, String firstName, String lastName, String subject) {\n    this.id = id;\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.subject = subject;\n}\nenter code here\n</code></pre>\n<p>Now we can sort based on</p>\n<p><code> 1. id-&gt;FirstName-&gt;LastName-&gt;Subject  2. Subject-&gt;id-&gt;FirstName-&gt;LastName</code></p>\n<p>We will use Comparator in array Stream</p>\n<pre><code>public class TestComprator {\npublic static void main(String[] args) {\n    Student s1= new Student(108, &quot;James&quot;, &quot;Testo&quot;, &quot;Physics&quot;);\n    Student s2= new Student(101, &quot;Fundu&quot;, &quot;Barito&quot;, &quot;Chem&quot;);\n    Student s3= new Student(105, &quot;Sindhu&quot;, &quot;Sharan&quot;, &quot;Math&quot;);\n    Student s4= new Student(98, &quot;Rechel&quot;, &quot;Stephen&quot;, &quot;Physics&quot;);\n    System.out.printf(&quot;----------id-&gt;FirstName-&gt;LastName-&gt;Subject-------------&quot;);\n    Arrays.asList(s1,s2,s3,s4).stream()\n            .sorted(Comparator.comparing(Student::getId)\n                    .thenComparing(Student::getFirstName)\n                .thenComparing(Student::getLastName)\n                .thenComparing(Student::getSubject))\n            .forEach(System.out::println);\n\n    System.out.printf(&quot;----Subject-&gt;id-&gt;FirstName-&gt;LastName ------\\n&quot;);\n    Arrays.asList(s1,s2,s3,s4).stream()\n            .sorted(Comparator. comparing(Student::getSubject)\n                    .thenComparing(Student::getId)\n                    .thenComparing(Student::getFirstName)\n                    .thenComparing(Student::getLastName)\n                   )\n            .forEach(System.out::println);\n}\n</code></pre>\n<p>}</p>\n<p>Output:-</p>\n<pre><code>`----------id-&gt;FirstName-&gt;LastName-&gt;Subject-------------\nStudent{id=98, firstName='Rechel', lastName='Stephen', subject='Physics'}\nStudent{id=101, firstName='Fundu', lastName='Barito', subject='Chem'}\nStudent{id=105, firstName='Sindhu', lastName='Sharan', subject='Math'}\nStudent{id=108, firstName='James', lastName='Testo', subject='Physics'}\n ----Subject-&gt;id-&gt;FirstName-&gt;LastName ------\nStudent{id=101, firstName='Fundu', lastName='Barito', subject='Chem'}\nStudent{id=105, firstName='Sindhu', lastName='Sharan', subject='Math'}\nStudent{id=98, firstName='Rechel', lastName='Stephen', subject='Physics'}\nStudent{id=108, firstName='James', lastName='Testo', subject='Physics'}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7629544,"reputation":335,"user_id":5785058,"display_name":"Shiv Krishna Jaiswal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695026027,"creation_date":1695026027,"answer_id":77125609,"question_id":369512,"body_markdown":"I will suggest creating a `static final` attribute `CMP` and then use it in `compareTo` method,\r\n```\r\npublic class Person {\r\n    private static final Comparator&lt;Person&gt; CMP = Comparator.comparing(Person::getFirstName)\r\n                                                            .thenComparing(Person::getLastName)\r\n                                                            .thenComparingInt(Person::getAge);\r\n    private String firstName;\r\n    private String lastName;\r\n    private int age;\r\n\r\n    /* Constructors */\r\n\r\n    /* Methods */\r\n\r\n    @Override\r\n    public int compareTo(Person p) {\r\n        return CMP.compare(this, p);\r\n    }\r\n}\r\n```","title":"How to compare objects by multiple fields","body":"<p>I will suggest creating a <code>static final</code> attribute <code>CMP</code> and then use it in <code>compareTo</code> method,</p>\n<pre><code>public class Person {\n    private static final Comparator&lt;Person&gt; CMP = Comparator.comparing(Person::getFirstName)\n                                                            .thenComparing(Person::getLastName)\n                                                            .thenComparingInt(Person::getAge);\n    private String firstName;\n    private String lastName;\n    private int age;\n\n    /* Constructors */\n\n    /* Methods */\n\n    @Override\n    public int compareTo(Person p) {\n        return CMP.compare(this, p);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12462,"reputation":162446,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555607,"favorite_count":0,"down_vote_count":0,"up_vote_count":317,"accepted_answer_id":369537,"answer_count":24,"score":317,"last_activity_date":1695026027,"creation_date":1229371003,"question_id":369512,"body_markdown":"Assume you have some objects which have several fields they can be compared by:\r\n\r\n    public class Person {\r\n        \r\n        private String firstName;\r\n        private String lastName;\r\n        private String age;\r\n        \r\n        /* Constructors */\r\n\r\n        /* Methods */\r\n\r\n    }\r\n\r\nSo in this example, when you ask if:\r\n\r\n    a.compareTo(b) &gt; 0\r\n\r\nyou might be asking if a&#39;s last name comes before b&#39;s, or if a is older than b, etc...\r\n\r\nWhat is the cleanest way to enable multiple comparison between these kinds of objects without adding unnecessary clutter or overhead?\r\n\r\n  - `java.lang.Comparable` interface allows comparison by one field only\r\n  - Adding numerous compare methods (i.e. `compareByFirstName()`, `compareByAge()`, etc...) is cluttered in my opinion.\r\n\r\nSo what is the best way to go about this?","title":"How to compare objects by multiple fields","body":"<p>Assume you have some objects which have several fields they can be compared by:</p>\n\n<pre><code>public class Person {\n\n    private String firstName;\n    private String lastName;\n    private String age;\n\n    /* Constructors */\n\n    /* Methods */\n\n}\n</code></pre>\n\n<p>So in this example, when you ask if:</p>\n\n<pre><code>a.compareTo(b) &gt; 0\n</code></pre>\n\n<p>you might be asking if a's last name comes before b's, or if a is older than b, etc...</p>\n\n<p>What is the cleanest way to enable multiple comparison between these kinds of objects without adding unnecessary clutter or overhead?</p>\n\n<ul>\n<li><code>java.lang.Comparable</code> interface allows comparison by one field only</li>\n<li>Adding numerous compare methods (i.e. <code>compareByFirstName()</code>, <code>compareByAge()</code>, etc...) is cluttered in my opinion.</li>\n</ul>\n\n<p>So what is the best way to go about this?</p>\n"},{"tags":["java","javascript","minify","yui-compressor"],"comments":[{"owner":{"account_id":1796407,"reputation":7412,"user_id":1635726,"display_name":"closure"},"score":0,"creation_date":1356182846,"post_id":14003126,"comment_id":19331450,"body_markdown":"Is the code really generated? Why can&#39;t the generation logic create code that is minified (using short variable names).","body":"Is the code really generated? Why can&#39;t the generation logic create code that is minified (using short variable names)."},{"owner":{"account_id":1493926,"reputation":109,"user_id":1400330,"accept_rate":0,"display_name":"Dmitry B."},"score":0,"creation_date":1356183118,"post_id":14003126,"comment_id":19331494,"body_markdown":"This is the good point and I also thought about this. But not whole code is completely generated. It is built of some already created templates and produces some code as well. Your solution is a good way to think about but I just want to be sure there are no other solutions I can use.","body":"This is the good point and I also thought about this. But not whole code is completely generated. It is built of some already created templates and produces some code as well. Your solution is a good way to think about but I just want to be sure there are no other solutions I can use."},{"owner":{"account_id":1796407,"reputation":7412,"user_id":1635726,"display_name":"closure"},"score":0,"creation_date":1356183394,"post_id":14003126,"comment_id":19331554,"body_markdown":"My suggestion is to do a little read up on minification. I don&#39;t think minifier do much. Your minification will be superior as you are generating the code and you are in full control of the logic.","body":"My suggestion is to do a little read up on minification. I don&#39;t think minifier do much. Your minification will be superior as you are generating the code and you are in full control of the logic."},{"owner":{"account_id":262268,"reputation":15911,"user_id":547020,"accept_rate":93,"display_name":"Eliran Malka"},"score":0,"creation_date":1356184905,"post_id":14003126,"comment_id":19331884,"body_markdown":"see [this java library](http://ajaxian.com/archives/utility-javascript-obfuscator).","body":"see <a href=\"http://ajaxian.com/archives/utility-javascript-obfuscator\" rel=\"nofollow noreferrer\">this java library</a>."},{"owner":{"account_id":1023850,"reputation":37494,"user_id":1033581,"accept_rate":66,"display_name":"Cœur"},"score":0,"creation_date":1531068797,"post_id":14003126,"comment_id":89447322,"body_markdown":"@EliranMalka I removed the link to [What is the best free JavaScript obfuscator that is available as a Java library?](https://stackoverflow.com/questions/4050099/what-is-the-best-free-javascript-obfuscator-that-is-available-as-a-java-library) as the question is still opened.","body":"@EliranMalka I removed the link to <a href=\"https://stackoverflow.com/questions/4050099/what-is-the-best-free-javascript-obfuscator-that-is-available-as-a-java-library\">What is the best free JavaScript obfuscator that is available as a Java library?</a> as the question is still opened."},{"owner":{"account_id":262268,"reputation":15911,"user_id":547020,"accept_rate":93,"display_name":"Eliran Malka"},"score":0,"creation_date":1531146714,"post_id":14003126,"comment_id":89474761,"body_markdown":"Possible duplicate of [What is the best free JavaScript obfuscator that is available as a Java library?](https://stackoverflow.com/questions/4050099/what-is-the-best-free-javascript-obfuscator-that-is-available-as-a-java-library)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4050099/what-is-the-best-free-javascript-obfuscator-that-is-available-as-a-java-library\">What is the best free JavaScript obfuscator that is available as a Java library?</a>"}],"answers":[{"comments":[{"owner":{"account_id":369032,"reputation":2990,"user_id":716177,"display_name":"Henry"},"score":0,"creation_date":1698618207,"post_id":44814228,"comment_id":136425030,"body_markdown":"Looks like JavaScriptCompressor isn&#39;t up to date for ES6","body":"Looks like JavaScriptCompressor isn&#39;t up to date for ES6"}],"tags":[],"owner":{"account_id":7805313,"reputation":1804,"user_id":5903395,"display_name":"Gee Bee"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498693658,"creation_date":1498693658,"answer_id":44814228,"question_id":14003126,"body_markdown":"**Plan a)**\r\n\r\nUse the YUI not as a command line tool, but as a Java library and call it in your code.\r\n\r\nThe JavaScriptCompressor accepts a Reader descendant (e.g. InputFileReader).\r\n \r\n        JavaScriptCompressor compressor = new JavaScriptCompressor(in, new YuiCompressorErrorReporter());\r\n\r\nYou can actually get your raw JavaScript and convert it to a Stream, e.g. https://stackoverflow.com/questions/782178/how-do-i-convert-a-string-to-an-inputstream-in-java \r\n\r\nA full example of integration is here:\r\n\r\nhttp://blog.teamextension.com/yui-compressor-in-java-246\r\n\r\n**Plan b)**\r\n\r\nNote that you could simply save the generated javascript into the filesystem, and call the command line Yui from Java. Then read the minified file from the filesystem, and that&#39;s it, you have a minified JS.\r\n","title":"Minify and obfuscate JavaScript code in Java","body":"<p><strong>Plan a)</strong></p>\n\n<p>Use the YUI not as a command line tool, but as a Java library and call it in your code.</p>\n\n<p>The JavaScriptCompressor accepts a Reader descendant (e.g. InputFileReader).</p>\n\n<pre><code>    JavaScriptCompressor compressor = new JavaScriptCompressor(in, new YuiCompressorErrorReporter());\n</code></pre>\n\n<p>You can actually get your raw JavaScript and convert it to a Stream, e.g. <a href=\"https://stackoverflow.com/questions/782178/how-do-i-convert-a-string-to-an-inputstream-in-java\">How do I convert a String to an InputStream in Java?</a> </p>\n\n<p>A full example of integration is here:</p>\n\n<p><a href=\"http://blog.teamextension.com/yui-compressor-in-java-246\" rel=\"nofollow noreferrer\">http://blog.teamextension.com/yui-compressor-in-java-246</a></p>\n\n<p><strong>Plan b)</strong></p>\n\n<p>Note that you could simply save the generated javascript into the filesystem, and call the command line Yui from Java. Then read the minified file from the filesystem, and that's it, you have a minified JS.</p>\n"},{"tags":[],"owner":{"account_id":29471457,"reputation":1,"user_id":22583999,"display_name":"w2sfot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695025921,"creation_date":1695025921,"answer_id":77125598,"question_id":14003126,"body_markdown":"You can try JShaman JavaScript Obfuscator, it is a good JavaScript obfuscation tool. It has a Web API interface that can be called. You can invoke and obfuscate JavaScript code in Java.","title":"Minify and obfuscate JavaScript code in Java","body":"<p>You can try JShaman JavaScript Obfuscator, it is a good JavaScript obfuscation tool. It has a Web API interface that can be called. You can invoke and obfuscate JavaScript code in Java.</p>\n"}],"owner":{"account_id":1493926,"reputation":109,"user_id":1400330,"accept_rate":0,"display_name":"Dmitry B."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5091,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":2,"score":4,"last_activity_date":1695025921,"creation_date":1356182024,"question_id":14003126,"body_markdown":"I use YUI Compressor for years to minify and obfuscate JS files. But now I need to obfuscate and minify dynamically generated JavaScript code on the server. So the main difference here is that there will not be JS files that should be obfuscated but requests to the server (Java) which should generate portions of JS code and return them already minified and obfuscated.\r\n\r\nYUI Compressor does not give the possibility to do that. I watched in the sources and have already figured out what methods should be overridden to make it work. I would not like to do this (but will have to in case there is no other way).\r\n\r\nSo are there any other Java libraries allowing to minify and obfuscate JavaScript strings directly from Java code?\r\n","title":"Minify and obfuscate JavaScript code in Java","body":"<p>I use YUI Compressor for years to minify and obfuscate JS files. But now I need to obfuscate and minify dynamically generated JavaScript code on the server. So the main difference here is that there will not be JS files that should be obfuscated but requests to the server (Java) which should generate portions of JS code and return them already minified and obfuscated.</p>\n\n<p>YUI Compressor does not give the possibility to do that. I watched in the sources and have already figured out what methods should be overridden to make it work. I would not like to do this (but will have to in case there is no other way).</p>\n\n<p>So are there any other Java libraries allowing to minify and obfuscate JavaScript strings directly from Java code?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1694527146,"post_id":77089367,"comment_id":135900674,"body_markdown":"I&#39;m not sure I understand the question. &#39;When I try to update the EntityA and update the mappings&#39; - which mappings? You haven&#39;t shown any mappings from `EntityA` to `CourseTags`","body":"I&#39;m not sure I understand the question. &#39;When I try to update the EntityA and update the mappings&#39; - which mappings? You haven&#39;t shown any mappings from <code>EntityA</code> to <code>CourseTags</code>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1694528866,"post_id":77089367,"comment_id":135901095,"body_markdown":"This should be tagged Hibernate as it is not jpa. Except for a missing filter so you don&#39;t see the entities marked as deleted, what you&#39;ve shown looks correct.  Looking at the code here https://www.baeldung.com/spring-jpa-soft-delete which has a working, runable test case, how is your project different? Maybe run it and step through the differences, and turn on logging to compare as maybe something is preventing that annotation from being picked up, you have other errors or warnings you are missing etc.","body":"This should be tagged Hibernate as it is not jpa. Except for a missing filter so you don&#39;t see the entities marked as deleted, what you&#39;ve shown looks correct.  Looking at the code here <a href=\"https://www.baeldung.com/spring-jpa-soft-delete\" rel=\"nofollow noreferrer\">baeldung.com/spring-jpa-soft-delete</a> which has a working, runable test case, how is your project different? Maybe run it and step through the differences, and turn on logging to compare as maybe something is preventing that annotation from being picked up, you have other errors or warnings you are missing etc."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694533284,"creation_date":1694532454,"answer_id":77090590,"question_id":77089367,"body_markdown":"Issue here is that your expectations are wrong, as you&#39;ve double mapped the &quot;entity_b&quot; table. \r\n\r\nThe CourseTags entity and its @SQLDelete query apply when you remove CourseTags entity instances - via EntityManager.remove(courseTag) calls. If you try that, you should see it working.\r\n\r\nWhat you must be doing is trying to remove `List&lt;EntityC&gt; mappings` references. This is a ManyToMany relationship which is also set to use the &quot;entity_b&quot; table, but completely independently of the CourseTags entity. None of the settings on CourseTags apply to the ManyToMany; removing a reference will just immediately cause JPA to clean up (aka delete) the row in the join table. \r\n\r\nIf you want to have additional state in there (you have an ID and is_deleted in there), you should probably treat it as an entity - and only as an entity.\r\n\r\nIn EntityA, use:\r\n\r\n    @OneToMany(mappedBy = &quot;entityA&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;EntityB&gt; mappings;\r\n\r\nWhile in B:\r\n\r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;entity_b&quot;)\r\n    @SQLDelete(sql = &quot;UPDATE entity_b SET is_deleted = 1 WHERE id=?&quot;)\r\n    public class CourseTags extends BaseEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @JoinColumn(name = &quot;entity_a_id&quot;)\r\n        EntityA entityA;\r\n        @JoinColumn(name = &quot;entity_c_id&quot;)\r\n        EntityC entityC;\r\n        @Column(name = &quot;is_deleted&quot;)\r\n        Boolean isDeleted = false;\r\n    }\r\n\r\n","title":"Perform soft delete in Many to Many mapping - JPA - Spring Boot","body":"<p>Issue here is that your expectations are wrong, as you've double mapped the &quot;entity_b&quot; table.</p>\n<p>The CourseTags entity and its @SQLDelete query apply when you remove CourseTags entity instances - via EntityManager.remove(courseTag) calls. If you try that, you should see it working.</p>\n<p>What you must be doing is trying to remove <code>List&lt;EntityC&gt; mappings</code> references. This is a ManyToMany relationship which is also set to use the &quot;entity_b&quot; table, but completely independently of the CourseTags entity. None of the settings on CourseTags apply to the ManyToMany; removing a reference will just immediately cause JPA to clean up (aka delete) the row in the join table.</p>\n<p>If you want to have additional state in there (you have an ID and is_deleted in there), you should probably treat it as an entity - and only as an entity.</p>\n<p>In EntityA, use:</p>\n<pre><code>@OneToMany(mappedBy = &quot;entityA&quot;, fetch = FetchType.LAZY)\nprivate List&lt;EntityB&gt; mappings;\n</code></pre>\n<p>While in B:</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;entity_b&quot;)\n@SQLDelete(sql = &quot;UPDATE entity_b SET is_deleted = 1 WHERE id=?&quot;)\npublic class CourseTags extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @JoinColumn(name = &quot;entity_a_id&quot;)\n    EntityA entityA;\n    @JoinColumn(name = &quot;entity_c_id&quot;)\n    EntityC entityC;\n    @Column(name = &quot;is_deleted&quot;)\n    Boolean isDeleted = false;\n}\n</code></pre>\n"}],"owner":{"account_id":6325177,"reputation":1443,"user_id":4911868,"accept_rate":100,"display_name":"javaDeveloper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695025904,"creation_date":1694523669,"question_id":77089367,"body_markdown":"I have an entity\r\n\r\n    class EntityA {\r\n     @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    }\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(name = &quot;entity_b&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;entity_a_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;entity_c_id&quot;))\r\n        @JsonView(Views.ALL.class)\r\n        @JsonIgnore\r\n        private List&lt;EntityC&gt; mappings;\r\n      }\r\n\r\nI dont have delete permission on this database instead we use soft delete.\r\n\r\nI definded an entity_b\r\n\r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;entity_b&quot;)\r\n    @SQLDelete(sql = &quot;UPDATE entity_b SET is_deleted = 1 WHERE id=?&quot;)\r\n    public class EntityB extends BaseEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Column(name = &quot;entity_a_id&quot;)\r\n        Long entityAId;\r\n        @Column(name = &quot;entity_c_id&quot;)\r\n        Long entityCId;\r\n        @Column(name = &quot;is_deleted&quot;)\r\n        Boolean isDeleted = false;\r\n    }\r\n\r\nWhen I try to update the EntityA and update the mappings I expected this to call the @SQLDelete query for deleting but its executing the actual DELETE operation.\r\n\r\nIs it possible to override the DELETE operation. Across the whole project for all entities or individuial entities, both solution are okay.\r\n\r\nNote: I was able to solve with manually handling the deletion instead of letting jpa does it, but ius it possible that I could do it minimal code and I also have multiple such ManyToMany relationships. Looking for a generic solution that can apply across the project","title":"Perform soft delete in Many to Many mapping - JPA - Spring Boot","body":"<p>I have an entity</p>\n<pre><code>class EntityA {\n @Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n}\n@ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;entity_b&quot;,\n            joinColumns = @JoinColumn(name = &quot;entity_a_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;entity_c_id&quot;))\n    @JsonView(Views.ALL.class)\n    @JsonIgnore\n    private List&lt;EntityC&gt; mappings;\n  }\n</code></pre>\n<p>I dont have delete permission on this database instead we use soft delete.</p>\n<p>I definded an entity_b</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;entity_b&quot;)\n@SQLDelete(sql = &quot;UPDATE entity_b SET is_deleted = 1 WHERE id=?&quot;)\npublic class EntityB extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;entity_a_id&quot;)\n    Long entityAId;\n    @Column(name = &quot;entity_c_id&quot;)\n    Long entityCId;\n    @Column(name = &quot;is_deleted&quot;)\n    Boolean isDeleted = false;\n}\n</code></pre>\n<p>When I try to update the EntityA and update the mappings I expected this to call the @SQLDelete query for deleting but its executing the actual DELETE operation.</p>\n<p>Is it possible to override the DELETE operation. Across the whole project for all entities or individuial entities, both solution are okay.</p>\n<p>Note: I was able to solve with manually handling the deletion instead of letting jpa does it, but ius it possible that I could do it minimal code and I also have multiple such ManyToMany relationships. Looking for a generic solution that can apply across the project</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":1,"creation_date":1670180295,"post_id":74679907,"comment_id":131810254,"body_markdown":"What is your question or concern?","body":"What is your question or concern?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1670180421,"post_id":74679907,"comment_id":131810289,"body_markdown":"Why do you return `0` when your index `i` is `0` or `x`?","body":"Why do you return <code>0</code> when your index <code>i</code> is <code>0</code> or <code>x</code>?"},{"owner":{"account_id":27144540,"reputation":9,"user_id":20684983,"display_name":"anime weeb"},"score":0,"creation_date":1672220358,"post_id":74679907,"comment_id":132244005,"body_markdown":"Thanks guys the issue i resolved, I&#39;m a beginner at coding I hope to get better!","body":"Thanks guys the issue i resolved, I&#39;m a beginner at coding I hope to get better!"}],"answers":[{"comments":[{"owner":{"account_id":27144540,"reputation":9,"user_id":20684983,"display_name":"anime weeb"},"score":0,"creation_date":1672220413,"post_id":74679939,"comment_id":132244020,"body_markdown":"Thanks a lot, that is truly informative!","body":"Thanks a lot, that is truly informative!"}],"tags":[],"owner":{"account_id":27144591,"reputation":29,"user_id":20685029,"display_name":"Kaarssteun"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1670180911,"creation_date":1670180437,"answer_id":74679939,"question_id":74679907,"body_markdown":"The given code computes the sum of all elements in the array and then checks for each index if the sum of elements to the left of that index is equal to the sum of elements to the right of that index. If this is the case, it returns the index.\r\n\r\nThere are several issues with this approach:\r\n\r\nThe method sumA is not used, so it can be removed.\r\nThe method does not check if the pivot index is on the left or right edge of the array, so it can return incorrect results in these cases.\r\nThe method only checks for the first pivot index and returns it, but there can be multiple pivot indices in an array. It should return the leftmost pivot index.\r\nTo fix these issues, the following changes can be made to the code:\r\n\r\nInitialize a variable leftSum to 0 and a variable rightSum to the sum of all elements in the array.\r\nIterate over the elements in the array from left to right.\r\nFor each index, add the element at that index to leftSum and subtract it from rightSum.\r\nIf leftSum is equal to rightSum, return the index.\r\nIf the end of the array is reached without finding a pivot index, return -1.\r\nThe updated code would look like this:\r\n\r\n    class Solution {\r\n        public int pivotIndex(int[] nums) {\r\n            // Initialize leftSum to 0 and rightSum to the sum of all elements in the array\r\n            int leftSum = 0;\r\n            int rightSum = 0;\r\n            for (int num : nums) {\r\n                rightSum += num;\r\n            }\r\n    \r\n            // Iterate over the elements in the array from left to right\r\n            for (int i = 0; i &lt; nums.length; i++) {\r\n                // Add the element at the current index to leftSum and subtract it from rightSum\r\n                leftSum += nums[i];\r\n                rightSum -= nums[i];\r\n    \r\n                // If leftSum is equal to rightSum, return the index\r\n                if (leftSum == rightSum) {\r\n                    return i;\r\n                }\r\n            }\r\n    \r\n            // If the end of the array is reached without finding a pivot index, return -1\r\n            return -1;\r\n        }\r\n    }\r\n\r\n","title":"I tried the problem Leetcode-724 (Pivot index) - how can I correct my approach?","body":"<p>The given code computes the sum of all elements in the array and then checks for each index if the sum of elements to the left of that index is equal to the sum of elements to the right of that index. If this is the case, it returns the index.</p>\n<p>There are several issues with this approach:</p>\n<p>The method sumA is not used, so it can be removed.\nThe method does not check if the pivot index is on the left or right edge of the array, so it can return incorrect results in these cases.\nThe method only checks for the first pivot index and returns it, but there can be multiple pivot indices in an array. It should return the leftmost pivot index.\nTo fix these issues, the following changes can be made to the code:</p>\n<p>Initialize a variable leftSum to 0 and a variable rightSum to the sum of all elements in the array.\nIterate over the elements in the array from left to right.\nFor each index, add the element at that index to leftSum and subtract it from rightSum.\nIf leftSum is equal to rightSum, return the index.\nIf the end of the array is reached without finding a pivot index, return -1.\nThe updated code would look like this:</p>\n<pre><code>class Solution {\n    public int pivotIndex(int[] nums) {\n        // Initialize leftSum to 0 and rightSum to the sum of all elements in the array\n        int leftSum = 0;\n        int rightSum = 0;\n        for (int num : nums) {\n            rightSum += num;\n        }\n\n        // Iterate over the elements in the array from left to right\n        for (int i = 0; i &lt; nums.length; i++) {\n            // Add the element at the current index to leftSum and subtract it from rightSum\n            leftSum += nums[i];\n            rightSum -= nums[i];\n\n            // If leftSum is equal to rightSum, return the index\n            if (leftSum == rightSum) {\n                return i;\n            }\n        }\n\n        // If the end of the array is reached without finding a pivot index, return -1\n        return -1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29226848,"reputation":1,"user_id":22391347,"display_name":"Divith Raju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695025883,"creation_date":1695025883,"answer_id":77125595,"question_id":74679907,"body_markdown":"    class Solution {\r\n         public int pivotIndex(int[] nums) {\r\n               int leftSum = 0, sum = Arrays.stream(nums).sum();\r\n\r\n               for (int i = 0; i &lt; nums.length; i++) {\r\n                  if (i != 0) {\r\n                     leftSum += nums[i - 1];\r\n                  }\r\n                  if (leftSum == sum - leftSum - nums[i]) {\r\n                      return i;\r\n                  }\r\n                }\r\n                return -1;\r\n          }\r\n     }\r\nTry this code using Java format at Leetcode you will pass..","title":"I tried the problem Leetcode-724 (Pivot index) - how can I correct my approach?","body":"<pre><code>class Solution {\n     public int pivotIndex(int[] nums) {\n           int leftSum = 0, sum = Arrays.stream(nums).sum();\n\n           for (int i = 0; i &lt; nums.length; i++) {\n              if (i != 0) {\n                 leftSum += nums[i - 1];\n              }\n              if (leftSum == sum - leftSum - nums[i]) {\n                  return i;\n              }\n            }\n            return -1;\n      }\n }\n</code></pre>\n<p>Try this code using Java format at Leetcode you will pass..</p>\n"}],"owner":{"account_id":27144540,"reputation":9,"user_id":20684983,"display_name":"anime weeb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":854,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1695025883,"creation_date":1670180154,"question_id":74679907,"body_markdown":"Problem:\r\n\r\n&gt; Given an array of integers nums, calculate the pivot index of this array.\r\n&gt; \r\n&gt; The pivot index is the index where the sum of all the numbers strictly to the left of the index is equal to the sum of all the numbers strictly to the index&#39;s right.\r\n&gt;\r\n&gt; If the index is on the left edge of the array, then the left sum is 0 because there are no elements to the left. This also applies to the right edge of the array.\r\n&gt;\r\n&gt; Return the leftmost pivot index. If no such index exists, return -1.\r\n\r\nCode:\r\n\r\n```\r\nclass Solution {\r\n\r\n    public int sumA(int a, int b, int[] s){\r\n            int res=0;\r\n            for(int i = a; i&lt;b; i++){\r\n                res= res + s[i];\r\n            }\r\n            return res;\r\n        }\r\n\r\n\r\n    public int pivotIndex(int[] nums) {\r\n        int sum = 0;\r\n        int i=0;\r\n        int flag = 0;\r\n        int x = nums.length;\r\n\r\n        sum= sumA(0, x, nums);\r\n\r\n        for(i = 1; i &lt; nums.length; i++){\r\n            if((sum - nums[i] - sumA(0, i-1, nums)) \r\n            == (sumA(0, i-1, nums))){\r\n                flag=1;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(flag == 1) return i;\r\n        else if((i==0) ||(i==x)) return 0;\r\n        else return -1;\r\n        \r\n    }\r\n}\r\n```","title":"I tried the problem Leetcode-724 (Pivot index) - how can I correct my approach?","body":"<p>Problem:</p>\n<blockquote>\n<p>Given an array of integers nums, calculate the pivot index of this array.</p>\n<p>The pivot index is the index where the sum of all the numbers strictly to the left of the index is equal to the sum of all the numbers strictly to the index's right.</p>\n<p>If the index is on the left edge of the array, then the left sum is 0 because there are no elements to the left. This also applies to the right edge of the array.</p>\n<p>Return the leftmost pivot index. If no such index exists, return -1.</p>\n</blockquote>\n<p>Code:</p>\n<pre><code>class Solution {\n\n    public int sumA(int a, int b, int[] s){\n            int res=0;\n            for(int i = a; i&lt;b; i++){\n                res= res + s[i];\n            }\n            return res;\n        }\n\n\n    public int pivotIndex(int[] nums) {\n        int sum = 0;\n        int i=0;\n        int flag = 0;\n        int x = nums.length;\n\n        sum= sumA(0, x, nums);\n\n        for(i = 1; i &lt; nums.length; i++){\n            if((sum - nums[i] - sumA(0, i-1, nums)) \n            == (sumA(0, i-1, nums))){\n                flag=1;\n                break;\n            }\n        }\n\n        if(flag == 1) return i;\n        else if((i==0) ||(i==x)) return 0;\n        else return -1;\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","maven-3"],"comments":[{"owner":{"account_id":389422,"reputation":7780,"user_id":748883,"accept_rate":100,"display_name":"Alonso Dominguez"},"score":0,"creation_date":1342105855,"post_id":11454822,"comment_id":15118380,"body_markdown":"what do you mean by &quot;automatically&quot;? You must declare all your dependencies in your POM as with any normal Maven project. IntelliJ or other IDE will just download them if they are declared there...","body":"what do you mean by &quot;automatically&quot;? You must declare all your dependencies in your POM as with any normal Maven project. IntelliJ or other IDE will just download them if they are declared there..."},{"owner":{"account_id":1021496,"reputation":4264,"user_id":1031724,"accept_rate":56,"display_name":"Zaur Guliyev"},"score":9,"creation_date":1342166360,"post_id":11454822,"comment_id":15137368,"body_markdown":"It downloads all dependencies but it doesn&#39;t seem to add all of them to classpath...","body":"It downloads all dependencies but it doesn&#39;t seem to add all of them to classpath..."},{"owner":{"account_id":1021496,"reputation":4264,"user_id":1031724,"accept_rate":56,"display_name":"Zaur Guliyev"},"score":3,"creation_date":1342166401,"post_id":11454822,"comment_id":15137380,"body_markdown":"and another problem is that intelliJ shows me red underlined errors only when I open that java file...","body":"and another problem is that intelliJ shows me red underlined errors only when I open that java file..."},{"owner":{"account_id":489116,"reputation":4969,"user_id":1228560,"accept_rate":48,"display_name":"RCross"},"score":4,"creation_date":1353600779,"post_id":11454822,"comment_id":18502794,"body_markdown":"One instance where you get this red line is if you have a SNAPSHOT dependency with a classifier, where a newer version of the dependency without the classifier exists.  This is perfectly legal in Maven, but IntelliJ gets confused trying to work out the path to the physical file in your local Maven repository.","body":"One instance where you get this red line is if you have a SNAPSHOT dependency with a classifier, where a newer version of the dependency without the classifier exists.  This is perfectly legal in Maven, but IntelliJ gets confused trying to work out the path to the physical file in your local Maven repository."},{"owner":{"account_id":10254,"reputation":8707,"user_id":19269,"accept_rate":80,"display_name":"Kevin Pauli"},"score":4,"creation_date":1449768352,"post_id":11454822,"comment_id":56160525,"body_markdown":"FYI this can still happen in 15.0.2.  Just happened to me.  Had to blow away my .iml file and .idea folder and reimport.  Incredibly frustrating b/c I spent 2 hours fighting it, and ultimately lost all my carefully crafted run configs.","body":"FYI this can still happen in 15.0.2.  Just happened to me.  Had to blow away my .iml file and .idea folder and reimport.  Incredibly frustrating b/c I spent 2 hours fighting it, and ultimately lost all my carefully crafted run configs."},{"owner":{"account_id":1021496,"reputation":4264,"user_id":1031724,"accept_rate":56,"display_name":"Zaur Guliyev"},"score":3,"creation_date":1450879459,"post_id":11454822,"comment_id":56615576,"body_markdown":"@KevinPauli no need to remove IDEA project files for that, you could just &quot;Reimport All Maven Projects&quot; under &quot;Maven Projects&quot; tab for manual re-import.","body":"@KevinPauli no need to remove IDEA project files for that, you could just &quot;Reimport All Maven Projects&quot; under &quot;Maven Projects&quot; tab for manual re-import."},{"owner":{"account_id":444896,"reputation":1010,"user_id":837005,"accept_rate":50,"display_name":"DaddyMoe"},"score":1,"creation_date":1481377863,"post_id":11454822,"comment_id":69358836,"body_markdown":"Most times backup and blowing away your user **.m2 folder** or drill in offending packages and delete/rename and doing a `mvn clean install` does the trick.","body":"Most times backup and blowing away your user <b>.m2 folder</b> or drill in offending packages and delete/rename and doing a <code>mvn clean install</code> does the trick."},{"owner":{"account_id":53847,"reputation":1915,"user_id":161012,"accept_rate":29,"display_name":"Pierre Thibault"},"score":0,"creation_date":1494024278,"post_id":11454822,"comment_id":74668876,"body_markdown":"At the end it was an error in a parent pom.","body":"At the end it was an error in a parent pom."},{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":1,"creation_date":1535728603,"post_id":11454822,"comment_id":91187783,"body_markdown":"I love Eclipse way of downloading maven dependancies, right click on pom.xml and force update. I wonder why IDEA has made is difficult","body":"I love Eclipse way of downloading maven dependancies, right click on pom.xml and force update. I wonder why IDEA has made is difficult"},{"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"score":0,"creation_date":1572089365,"post_id":11454822,"comment_id":103457761,"body_markdown":"Had the same problem after cloning the deeplearning4j repo from github, my work around was to close intellij -&gt; delete the entire **`.idea`** folder -&gt; re-open the project -&gt; Build -&gt; Build Project","body":"Had the same problem after cloning the deeplearning4j repo from github, my work around was to close intellij -&gt; delete the entire <b><code>.idea</code></b> folder -&gt; re-open the project -&gt; Build -&gt; Build Project"},{"owner":{"account_id":7498629,"reputation":149,"user_id":5697889,"display_name":"Amandeep"},"score":0,"creation_date":1658378131,"post_id":11454822,"comment_id":129037640,"body_markdown":"**right click on the project/module &gt; Maven (at bottom) &gt; Reload Project**","body":"<b>right click on the project/module &gt; Maven (at bottom) &gt; Reload Project</b>"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1342106240,"creation_date":1342106240,"answer_id":11455049,"question_id":11454822,"body_markdown":"Try to Re-Import the project from the Maven Projects panel in IntelliJ IDEA. It should download and configure all the dependencies defined in your `pom.xml` automatically.\r\n\r\nIf download doesn&#39;t work from IDEA for some reason, try `mvn install` from the command line and see if the dependencies can be fetched.\r\n\r\nOf course all the required dependencies and any custom repositories must be defined directly in the `pom.xml` file.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Try to Re-Import the project from the Maven Projects panel in IntelliJ IDEA. It should download and configure all the dependencies defined in your <code>pom.xml</code> automatically.</p>\n\n<p>If download doesn't work from IDEA for some reason, try <code>mvn install</code> from the command line and see if the dependencies can be fetched.</p>\n\n<p>Of course all the required dependencies and any custom repositories must be defined directly in the <code>pom.xml</code> file.</p>\n"},{"comments":[{"owner":{"account_id":389422,"reputation":7780,"user_id":748883,"accept_rate":100,"display_name":"Alonso Dominguez"},"score":0,"creation_date":1342178659,"post_id":11467266,"comment_id":15142278,"body_markdown":"so your solution was to mark the dependencies as exported? that&#39;s weird! I use IntelliJ and Maven a lot and none of my projects (some of them are multi-projects) has the export feature enabled... is that Community Edition or Ultimate?","body":"so your solution was to mark the dependencies as exported? that&#39;s weird! I use IntelliJ and Maven a lot and none of my projects (some of them are multi-projects) has the export feature enabled... is that Community Edition or Ultimate?"},{"owner":{"account_id":1021496,"reputation":4264,"user_id":1031724,"accept_rate":56,"display_name":"Zaur Guliyev"},"score":1,"creation_date":1342179623,"post_id":11467266,"comment_id":15142667,"body_markdown":"Its an Ultimate Edition but the project that I have imported was built on Eclipse - so that .classpath was enabled there but IntelliJ uses .iml - So I think its logical to include these libs for the first time if this project did not have .iml file before.. ?!","body":"Its an Ultimate Edition but the project that I have imported was built on Eclipse - so that .classpath was enabled there but IntelliJ uses .iml - So I think its logical to include these libs for the first time if this project did not have .iml file before.. ?!"},{"owner":{"account_id":389422,"reputation":7780,"user_id":748883,"accept_rate":100,"display_name":"Alonso Dominguez"},"score":1,"creation_date":1342180688,"post_id":11467266,"comment_id":15143158,"body_markdown":"oh, ok - did you tried to import it as a Maven project rather than an Eclipse one? I&#39;m used to not check in IDE related files into my source repositories when working with Maven projects: if it&#39;s a Maven project, then Maven rules","body":"oh, ok - did you tried to import it as a Maven project rather than an Eclipse one? I&#39;m used to not check in IDE related files into my source repositories when working with Maven projects: if it&#39;s a Maven project, then Maven rules"},{"owner":{"account_id":1021496,"reputation":4264,"user_id":1031724,"accept_rate":56,"display_name":"Zaur Guliyev"},"score":0,"creation_date":1342184904,"post_id":11467266,"comment_id":15145002,"body_markdown":"Oh that made sense :) imported them as Maven.. Thanks Alonso!","body":"Oh that made sense :) imported them as Maven.. Thanks Alonso!"},{"owner":{"account_id":6469,"reputation":1801,"user_id":10889,"accept_rate":73,"display_name":"Martin Andersson"},"score":0,"creation_date":1359907470,"post_id":11467266,"comment_id":20513097,"body_markdown":"I already had this setting, but for some reason a couple of POM files were ignored under Ignored Files. Thank you for pointing me in the right direction!","body":"I already had this setting, but for some reason a couple of POM files were ignored under Ignored Files. Thank you for pointing me in the right direction!"},{"owner":{"account_id":4892265,"reputation":1439,"user_id":3943054,"accept_rate":73,"display_name":"artronics"},"score":2,"creation_date":1454120148,"post_id":11467266,"comment_id":57916115,"body_markdown":"You can enable Auto import in preferences/setting. Open preferences/setting and search for  &quot;Import maven projects automatically&quot;. it is under Build,Execution,Deployment&gt;Build Tools&gt;Maven&gt;Importing","body":"You can enable Auto import in preferences/setting. Open preferences/setting and search for  &quot;Import maven projects automatically&quot;. it is under Build,Execution,Deployment&gt;Build Tools&gt;Maven&gt;Importing"},{"owner":{"account_id":423234,"reputation":1778,"user_id":802500,"accept_rate":83,"display_name":"Justin Blank"},"score":0,"creation_date":1480122241,"post_id":11467266,"comment_id":68848118,"body_markdown":"As far as I can tell, none of the settings mentioned in this answer/comments are available in IntelliJ 2016 community edition.","body":"As far as I can tell, none of the settings mentioned in this answer/comments are available in IntelliJ 2016 community edition."},{"owner":{"account_id":389422,"reputation":7780,"user_id":748883,"accept_rate":100,"display_name":"Alonso Dominguez"},"score":3,"creation_date":1486118881,"post_id":11467266,"comment_id":71218854,"body_markdown":"@JustinBlank not surprised by that, given that this is an answer from 2012. The settings are still there, they just have been moved somewhere else (answer has been updated).","body":"@JustinBlank not surprised by that, given that this is an answer from 2012. The settings are still there, they just have been moved somewhere else (answer has been updated)."},{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1510232670,"post_id":11467266,"comment_id":81353442,"body_markdown":"Bug still remains in 11.2017, mvn clean install fixed the bug. Eclipse never had these straight forward bugs","body":"Bug still remains in 11.2017, mvn clean install fixed the bug. Eclipse never had these straight forward bugs"},{"owner":{"account_id":5717245,"reputation":141,"user_id":4517001,"display_name":"Kabeer Ahmed"},"score":0,"creation_date":1548336526,"post_id":11467266,"comment_id":95510920,"body_markdown":"For a windows based installation, in addition to mvn clean; I had to manually re-point maven plugin to the maven installation folder. This is achievable by selecting maven window in intellij and selecting options. After every new dependency entry into pom, I am required to do this.","body":"For a windows based installation, in addition to mvn clean; I had to manually re-point maven plugin to the maven installation folder. This is achievable by selecting maven window in intellij and selecting options. After every new dependency entry into pom, I am required to do this."},{"owner":{"account_id":4403145,"reputation":614,"user_id":3588217,"accept_rate":55,"display_name":"greenhorn"},"score":0,"creation_date":1598595357,"post_id":11467266,"comment_id":112515313,"body_markdown":"This was really helpful. Thanks a lot @AlonsoDominguez","body":"This was really helpful. Thanks a lot @AlonsoDominguez"},{"owner":{"account_id":14991897,"reputation":81,"user_id":10822670,"display_name":"norullah karimi"},"score":0,"creation_date":1693670173,"post_id":11467266,"comment_id":135792606,"body_markdown":"cleaning the *.iml and .idea and then run the command works for me, thank you.","body":"cleaning the *.iml and .idea and then run the command works for me, thank you."}],"tags":[],"owner":{"account_id":389422,"reputation":7780,"user_id":748883,"accept_rate":100,"display_name":"Alonso Dominguez"},"comment_count":12,"down_vote_count":5,"up_vote_count":326,"is_accepted":true,"score":321,"last_activity_date":1486118806,"creation_date":1342169956,"answer_id":11467266,"question_id":11454822,"body_markdown":"IntelliJ should download and add all your dependencies to the project&#39;s classpath automatically as long as your POM is compliant and all the dependencies are available.\r\n\r\nWhen importing Maven projects into IntelliJ an information box usually comes up asking you if you want to configure *Auto-Import* for Maven projects. That means that if you make any changes to your POM those changes will be loaded automatically.\r\n\r\nYou can enable such feature going to File &gt; Settings &gt; Maven &gt; Importing, there is a checkbox that says &quot;Import Maven projects automatically&quot;.\r\n\r\nIf that doesn&#39;t help, then I would suggest to make a full clean-up and start again:\r\n\r\n - Close your project window (and IntelliJ) and remove all `*.iml` files and all `.idea` folders (there should be one per module)\r\n - Run `mvn clean install` from the command line\r\n - Re-import the project into IntelliJ and pay attention when it asks you to enable auto-import\r\n\r\n**IntelliJ 2016 Update**:\r\n\r\nThe *Import Maven Projects automatically* setting has been moved to **Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Importing** in your IntelliJ preferences.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>IntelliJ should download and add all your dependencies to the project's classpath automatically as long as your POM is compliant and all the dependencies are available.</p>\n\n<p>When importing Maven projects into IntelliJ an information box usually comes up asking you if you want to configure <em>Auto-Import</em> for Maven projects. That means that if you make any changes to your POM those changes will be loaded automatically.</p>\n\n<p>You can enable such feature going to File > Settings > Maven > Importing, there is a checkbox that says \"Import Maven projects automatically\".</p>\n\n<p>If that doesn't help, then I would suggest to make a full clean-up and start again:</p>\n\n<ul>\n<li>Close your project window (and IntelliJ) and remove all <code>*.iml</code> files and all <code>.idea</code> folders (there should be one per module)</li>\n<li>Run <code>mvn clean install</code> from the command line</li>\n<li>Re-import the project into IntelliJ and pay attention when it asks you to enable auto-import</li>\n</ul>\n\n<p><strong>IntelliJ 2016 Update</strong>:</p>\n\n<p>The <em>Import Maven Projects automatically</em> setting has been moved to <strong>Build, Execution, Deployment > Build Tools > Maven > Importing</strong> in your IntelliJ preferences.</p>\n"},{"comments":[{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1360234306,"post_id":13349880,"comment_id":20640720,"body_markdown":"Agreed. It&#39;s almost certain the OP simply wrongly imported the project.","body":"Agreed. It&#39;s almost certain the OP simply wrongly imported the project."}],"tags":[],"owner":{"account_id":249197,"reputation":3414,"user_id":525096,"accept_rate":67,"display_name":"Markus Coetzee"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1352747203,"creation_date":1352747203,"answer_id":13349880,"question_id":11454822,"body_markdown":"When you create a new project you simply need to choose the option:\r\n\r\n...&lt;br&gt;\r\n**Import project from external model**&lt;br&gt;\r\n*Create IDEA project structure over existing external model (Eclipse, Maven...)*&lt;br&gt;\r\n...\r\n\r\nYou&#39;ll find it pretty straight forward from there.&lt;br&gt; \r\nAnd in your case you can close your project and simply create a new one. Choose your project&#39;s directory, which will override it, making it a Maven project.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>When you create a new project you simply need to choose the option:</p>\n\n<p>...<br>\n<strong>Import project from external model</strong><br>\n<em>Create IDEA project structure over existing external model (Eclipse, Maven...)</em><br>\n...</p>\n\n<p>You'll find it pretty straight forward from there.<br> \nAnd in your case you can close your project and simply create a new one. Choose your project's directory, which will override it, making it a Maven project.</p>\n"},{"tags":[],"owner":{"account_id":179927,"reputation":62995,"user_id":412916,"display_name":"Jano"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1361696303,"creation_date":1361696303,"answer_id":15050170,"question_id":11454822,"body_markdown":"Importing Maven dependencies may not work if you import the same path several times. This may happen automatically after importing an existing maven project. I can&#39;t figure out why this happens, so I&#39;m inclined to think it is a bug.\r\n\r\nFor example, if my project is\r\n\r\n    hibernate\r\n      src/main\r\n      src/test\r\n\r\nthe three paths may be imported as top nodes:\r\n\r\n    hibernate\r\n    src/main\r\n    src/test\r\n\r\nIf such is the case, the dependencies appear to be right, but they won&#39;t be used until you remove the superfluous paths (in this case, `src/main` and `src/test`). Once you do this, refresh and click Build &gt; Rebuild Project. IDEA will pick up the dependencies.\r\n\r\nA symptom of this problem is that IDEA warns you of a duplicated path when you manually check a library (second screenshot in the question).\r\n\r\nThere are several ways to re-read the dependencies in case you need it. If you go to the “Maven Projects” tab, there is a “Reimport All Maven Projects” icon at the top left of the tab. If you suspect IDEA became confused you can click on File &gt; Invalidate Caches.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Importing Maven dependencies may not work if you import the same path several times. This may happen automatically after importing an existing maven project. I can't figure out why this happens, so I'm inclined to think it is a bug.</p>\n\n<p>For example, if my project is</p>\n\n<pre><code>hibernate\n  src/main\n  src/test\n</code></pre>\n\n<p>the three paths may be imported as top nodes:</p>\n\n<pre><code>hibernate\nsrc/main\nsrc/test\n</code></pre>\n\n<p>If such is the case, the dependencies appear to be right, but they won't be used until you remove the superfluous paths (in this case, <code>src/main</code> and <code>src/test</code>). Once you do this, refresh and click Build > Rebuild Project. IDEA will pick up the dependencies.</p>\n\n<p>A symptom of this problem is that IDEA warns you of a duplicated path when you manually check a library (second screenshot in the question).</p>\n\n<p>There are several ways to re-read the dependencies in case you need it. If you go to the “Maven Projects” tab, there is a “Reimport All Maven Projects” icon at the top left of the tab. If you suspect IDEA became confused you can click on File > Invalidate Caches.</p>\n"},{"tags":[],"owner":{"account_id":4062869,"reputation":49,"user_id":3338903,"display_name":"Bud"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1393015718,"creation_date":1393015718,"answer_id":21944850,"question_id":11454822,"body_markdown":"Go into your project structure, under project Settings, Modules, select the dependencies table. For each dependency, change the scope from &#39;Test&#39; to &#39;Compile&#39;.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Go into your project structure, under project Settings, Modules, select the dependencies table. For each dependency, change the scope from 'Test' to 'Compile'.</p>\n"},{"comments":[{"owner":{"account_id":6550845,"reputation":1029,"user_id":5065316,"accept_rate":43,"display_name":"Leo"},"score":0,"creation_date":1666252565,"post_id":24281446,"comment_id":130893177,"body_markdown":"Faced with this during migration to IDEA 2022.2.3","body":"Faced with this during migration to IDEA 2022.2.3"}],"tags":[],"owner":{"account_id":369445,"reputation":2330,"user_id":716834,"accept_rate":75,"display_name":"Udo"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1403082444,"creation_date":1403082444,"answer_id":24281446,"question_id":11454822,"body_markdown":"If certain maven modules are not compiling check if their pom.xml is on the &quot;ignored files&quot; list. In IntelliJ goto \r\n\r\n&gt; preferences -&gt; project settings -&gt; maven -&gt; ignored files\r\n\r\nand check if the related pom.xml is ignored.\r\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>If certain maven modules are not compiling check if their pom.xml is on the \"ignored files\" list. In IntelliJ goto </p>\n\n<blockquote>\n  <p>preferences -> project settings -> maven -> ignored files</p>\n</blockquote>\n\n<p>and check if the related pom.xml is ignored.</p>\n"},{"comments":[{"owner":{"account_id":356606,"reputation":4953,"user_id":696216,"accept_rate":71,"display_name":"janhink"},"score":2,"creation_date":1417186295,"post_id":24892769,"comment_id":42868296,"body_markdown":"Strangely enough almost every other post advises to check the &quot;Use Maven3 to import project&quot; option to solve this issue while actually unchecking it solved the issue for me. Why? I don&#39;t know. Thanks!","body":"Strangely enough almost every other post advises to check the &quot;Use Maven3 to import project&quot; option to solve this issue while actually unchecking it solved the issue for me. Why? I don&#39;t know. Thanks!"},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":4,"creation_date":1428833528,"post_id":24892769,"comment_id":47323963,"body_markdown":"In v14 ultimate, I chose an external maven and everything got back to working.","body":"In v14 ultimate, I chose an external maven and everything got back to working."},{"owner":{"account_id":2546671,"reputation":191,"user_id":2211343,"accept_rate":75,"display_name":"JerseyGood"},"score":0,"creation_date":1435136317,"post_id":24892769,"comment_id":50069138,"body_markdown":"@AlikElzin-kilaka Changing the maven home directory to external maven home does help a lot .     After I updated IDEA to v14 ultimate, I could not launch my project in IDEA due to &quot;No tomcat6 plugin found&quot;, but I can launch project using mvn command, and changing maven home directory to external one solved it","body":"@AlikElzin-kilaka Changing the maven home directory to external maven home does help a lot .     After I updated IDEA to v14 ultimate, I could not launch my project in IDEA due to &quot;No tomcat6 plugin found&quot;, but I can launch project using mvn command, and changing maven home directory to external one solved it"},{"owner":{"account_id":1678841,"reputation":454,"user_id":1543646,"accept_rate":50,"display_name":"Wheeler"},"score":0,"creation_date":1470692478,"post_id":24892769,"comment_id":65043494,"body_markdown":"In IntelliJ 2016.2.1, disabling the auto-import changing the `Maven home directory` to the version our stack is using (3.3.9) fixed the problem for me.","body":"In IntelliJ 2016.2.1, disabling the auto-import changing the <code>Maven home directory</code> to the version our stack is using (3.3.9) fixed the problem for me."},{"owner":{"account_id":48928,"reputation":9763,"user_id":145499,"accept_rate":88,"display_name":"inanutshellus"},"score":0,"creation_date":1472562143,"post_id":24892769,"comment_id":65793593,"body_markdown":"@Wheeler Thanks! Your comment led me to my problem. IntelliJ keeps resetting to the bundled maven (3.0.5). Switching back to Maven 3.3.9 let me see the error tool tip in Roger&#39;s post.","body":"@Wheeler Thanks! Your comment led me to my problem. IntelliJ keeps resetting to the bundled maven (3.0.5). Switching back to Maven 3.3.9 let me see the error tool tip in Roger&#39;s post."},{"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"score":0,"creation_date":1475437601,"post_id":24892769,"comment_id":66932390,"body_markdown":"You can also download the jar manually and install it using mvn install:install-file then reimport to see if that fixes the could not find artifact descriptor problem","body":"You can also download the jar manually and install it using mvn install:install-file then reimport to see if that fixes the could not find artifact descriptor problem"},{"owner":{"account_id":7838492,"reputation":332,"user_id":5925582,"display_name":"Marcelo Xavier"},"score":1,"creation_date":1557153031,"post_id":24892769,"comment_id":98659962,"body_markdown":"Changing the `maven home directory` from `Bundle (Maven 3)` to the path where my maven is installed `.../maven/3.6.1/libexec` worked for me","body":"Changing the <code>maven home directory</code> from <code>Bundle (Maven 3)</code> to the path where my maven is installed <code>...&#47;maven&#47;3.6.1&#47;libexec</code> worked for me"}],"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"comment_count":7,"down_vote_count":0,"up_vote_count":77,"is_accepted":false,"score":77,"last_activity_date":1561145656,"creation_date":1406046320,"answer_id":24892769,"question_id":11454822,"body_markdown":"## Fix before IntelliJ 14\r\n\r\nFile [menu] -&gt; Settings -&gt; maven -&gt; importing and *uncheck* &quot;use maven3 to import project&quot; \r\n\r\nref: http://youtrack.jetbrains.com/issue/IDEA-98425 (which may have a few other ideas too)\r\n\r\n## Fix IntelliJ 15+\r\nRan into this again, with IntelliJ 15 this time, which has no &quot;use maven3 to import&quot; option available anymore.  The cause was that sometimes IntelliJ &quot;doesn&#39;t parse maven dependencies right&quot; and if it can&#39;t parse one of them right, it gives up on *all* of them, apparently.  You can tell if this is the case by opening the maven projects tool window (View menu -&gt; Tool Windows -&gt; Maven Projects).  Then expand one of your maven projects and its dependencies.  If the dependencies are all underlined in red, &quot;Houston, we have a problem&quot;. \r\n[![enter image description here][1]][1]\r\n\r\n\r\nYou can actually see the *real* failure by mousing over the project name itself. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn my instance it said &quot;Problems: No versions available for XXX&quot; or &quot;Failed to read descriptor for artifact org.xy.z&quot; ref: https://youtrack.jetbrains.com/issue/IDEA-128846\r\nand\r\nhttps://youtrack.jetbrains.com/issue/IDEA-152555\r\n\r\nIt seems in this case I was dealing with a jar that didn&#39;t have an associated pom file (in our maven nexus repo, and also my local repository).  If this is also your problem, &quot;urrent work around: if you do not actually need to use classes from that jar in your own code (for instance a transitive maven dependency only), you can actually get away with commenting it out from the pom (temporarily), maven project reload, and then uncomment it.  Somehow after that point IntelliJ &quot;remembers&quot; its old working dependencies.  Adding a maven transitive exclude temporarily might also do it, if you&#39;re running into it from transitive chain of dependencies.&quot;\r\n\r\n\r\nAnother thing that might help is to use a &quot;newer version&quot; of maven than the bundled 3.0.5.\r\nIn order to set it up to use this as the default, close all your intellij windows, then open preferences -&gt; build, execution and deployment -&gt; build tools -&gt; maven, and change the maven home directory, it should say &quot;For default project&quot; at the top when you adjust this, though you can adjust it for a particular project as well, as long as you &quot;re import&quot; after adjusting it.\r\n\r\n## Clear Caches\r\nDeleting your intellij cache folders (windows: HOMEPATH/.{IntellijIdea,IdeaC}XXX linux ~/.IdeaIC15) and/or uninstalling and reinstalling IntelliJ itself. This can also be done by going to File [menu] -&gt; `Invalidate Caches / Restart...`. Click `invalidate and restart`. This will reindex your whole project and solve many hard-to-trace issues with IntelliJ.\r\n\r\n  [1]: http://i.stack.imgur.com/AeswW.png\r\n  [2]: http://i.stack.imgur.com/Ne5jy.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<h2>Fix before IntelliJ 14</h2>\n\n<p>File [menu] -> Settings -> maven -> importing and <em>uncheck</em> \"use maven3 to import project\" </p>\n\n<p>ref: <a href=\"http://youtrack.jetbrains.com/issue/IDEA-98425\" rel=\"noreferrer\">http://youtrack.jetbrains.com/issue/IDEA-98425</a> (which may have a few other ideas too)</p>\n\n<h2>Fix IntelliJ 15+</h2>\n\n<p>Ran into this again, with IntelliJ 15 this time, which has no \"use maven3 to import\" option available anymore.  The cause was that sometimes IntelliJ \"doesn't parse maven dependencies right\" and if it can't parse one of them right, it gives up on <em>all</em> of them, apparently.  You can tell if this is the case by opening the maven projects tool window (View menu -> Tool Windows -> Maven Projects).  Then expand one of your maven projects and its dependencies.  If the dependencies are all underlined in red, \"Houston, we have a problem\". \n<a href=\"https://i.stack.imgur.com/AeswW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AeswW.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can actually see the <em>real</em> failure by mousing over the project name itself. </p>\n\n<p><a href=\"https://i.stack.imgur.com/Ne5jy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ne5jy.png\" alt=\"enter image description here\"></a></p>\n\n<p>In my instance it said \"Problems: No versions available for XXX\" or \"Failed to read descriptor for artifact org.xy.z\" ref: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-128846\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-128846</a>\nand\n<a href=\"https://youtrack.jetbrains.com/issue/IDEA-152555\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-152555</a></p>\n\n<p>It seems in this case I was dealing with a jar that didn't have an associated pom file (in our maven nexus repo, and also my local repository).  If this is also your problem, \"urrent work around: if you do not actually need to use classes from that jar in your own code (for instance a transitive maven dependency only), you can actually get away with commenting it out from the pom (temporarily), maven project reload, and then uncomment it.  Somehow after that point IntelliJ \"remembers\" its old working dependencies.  Adding a maven transitive exclude temporarily might also do it, if you're running into it from transitive chain of dependencies.\"</p>\n\n<p>Another thing that might help is to use a \"newer version\" of maven than the bundled 3.0.5.\nIn order to set it up to use this as the default, close all your intellij windows, then open preferences -> build, execution and deployment -> build tools -> maven, and change the maven home directory, it should say \"For default project\" at the top when you adjust this, though you can adjust it for a particular project as well, as long as you \"re import\" after adjusting it.</p>\n\n<h2>Clear Caches</h2>\n\n<p>Deleting your intellij cache folders (windows: HOMEPATH/.{IntellijIdea,IdeaC}XXX linux ~/.IdeaIC15) and/or uninstalling and reinstalling IntelliJ itself. This can also be done by going to File [menu] -> <code>Invalidate Caches / Restart...</code>. Click <code>invalidate and restart</code>. This will reindex your whole project and solve many hard-to-trace issues with IntelliJ.</p>\n"},{"tags":[],"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1409789040,"creation_date":1409789040,"answer_id":25655398,"question_id":11454822,"body_markdown":"If in the lower right corner it says &quot;2 processes running...&quot; or similar, you may just need to wait for that to finish, since it may take time to download all the jars.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>If in the lower right corner it says \"2 processes running...\" or similar, you may just need to wait for that to finish, since it may take time to download all the jars.</p>\n"},{"tags":[],"owner":{"account_id":1601823,"reputation":20166,"user_id":1482709,"accept_rate":74,"display_name":"Prashanth Sams"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1411747242,"creation_date":1411747242,"answer_id":26063676,"question_id":11454822,"body_markdown":"Open `IntelliJ Idea`, Go to\r\n   **File &gt; Other Settings &gt; Default Settings... &gt; Maven (Preferences) &gt; Importing**   or|\r\n `Preferences &gt; Maven &gt; Importing`\r\n\r\n\r\n![enter image description here][1]\r\n\r\nClick on **Enable Auto-import** in the console.\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/z4bwI.png\r\n  [2]: http://i.stack.imgur.com/dI5zE.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Open <code>IntelliJ Idea</code>, Go to\n   <strong>File > Other Settings > Default Settings... > Maven (Preferences) > Importing</strong>   or|\n <code>Preferences &gt; Maven &gt; Importing</code></p>\n\n<p><img src=\"https://i.stack.imgur.com/z4bwI.png\" alt=\"enter image description here\"></p>\n\n<p>Click on <strong>Enable Auto-import</strong> in the console.</p>\n\n<p><img src=\"https://i.stack.imgur.com/dI5zE.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":5101101,"reputation":11,"user_id":4336300,"display_name":"Abel Zhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418023135,"creation_date":1418023135,"answer_id":27353153,"question_id":11454822,"body_markdown":"I solved this issue by updating my settings.xml file with correct mirror config, seems that intellij will try to download meta-data from repository every time the maven module imported.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I solved this issue by updating my settings.xml file with correct mirror config, seems that intellij will try to download meta-data from repository every time the maven module imported.</p>\n"},{"tags":[],"owner":{"account_id":3015094,"reputation":56,"user_id":2557498,"display_name":"Sunspar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439562588,"creation_date":1439562588,"answer_id":32012487,"question_id":11454822,"body_markdown":"Hijacking a bit to add what ended up working for me:\r\n\r\nGo into the `Maven Projects` sidebar on the right edge of the IDE, and verify that your dependencies are listed correctly under your module there. Assuming they are, just ask IDEA to reimport then (the first button at the top, looks like two blue arrows forming a counter-clockwise circle).\r\n\r\nOnce I did that, and let IDEA reload the project for me, all my dependencies were magically understood.\r\n\r\nFor reference: this was with `IDEA 13.1.2`","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Hijacking a bit to add what ended up working for me:</p>\n\n<p>Go into the <code>Maven Projects</code> sidebar on the right edge of the IDE, and verify that your dependencies are listed correctly under your module there. Assuming they are, just ask IDEA to reimport then (the first button at the top, looks like two blue arrows forming a counter-clockwise circle).</p>\n\n<p>Once I did that, and let IDEA reload the project for me, all my dependencies were magically understood.</p>\n\n<p>For reference: this was with <code>IDEA 13.1.2</code></p>\n"},{"tags":[],"owner":{"account_id":393010,"reputation":4140,"user_id":754625,"accept_rate":44,"display_name":"Damith Ganegoda"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1445850790,"creation_date":1445850790,"answer_id":33342080,"question_id":11454822,"body_markdown":"Reimport the project. If you install maven plugin you can use this.\r\n\r\nRight click on the project -&gt; Maven -&gt; Reimport","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Reimport the project. If you install maven plugin you can use this.</p>\n\n<p>Right click on the project -> Maven -> Reimport</p>\n"},{"comments":[{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":1,"creation_date":1535728727,"post_id":33685968,"comment_id":91187837,"body_markdown":"sometime click on &quot;Reimport all maven projects&quot; option under Maven Projects window","body":"sometime click on &quot;Reimport all maven projects&quot; option under Maven Projects window"},{"owner":{"account_id":1636318,"reputation":14452,"user_id":1509695,"accept_rate":38,"display_name":"matanster"},"score":2,"creation_date":1557853293,"post_id":33685968,"comment_id":98901582,"body_markdown":"Perhaps this is the most elegant, clean, solution (and it&#39;s slightly awkward intellij doesn&#39;t help you in guessing that)","body":"Perhaps this is the most elegant, clean, solution (and it&#39;s slightly awkward intellij doesn&#39;t help you in guessing that)"},{"owner":{"account_id":9863541,"reputation":722,"user_id":7305715,"display_name":"asymmetryFan"},"score":0,"creation_date":1586192629,"post_id":33685968,"comment_id":108032604,"body_markdown":"Working for me as well, with IntelliJ Community Edition 2019.3.4. Thank you for such an easy solution. :)","body":"Working for me as well, with IntelliJ Community Edition 2019.3.4. Thank you for such an easy solution. :)"}],"tags":[],"owner":{"account_id":7291064,"reputation":421,"user_id":5557463,"display_name":"chichi"},"comment_count":3,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1447389049,"creation_date":1447389049,"answer_id":33685968,"question_id":11454822,"body_markdown":"When importing the project, select `pom.xml` instead of the project directory. It should work.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>When importing the project, select <code>pom.xml</code> instead of the project directory. It should work.</p>\n"},{"tags":[],"owner":{"account_id":385433,"reputation":2430,"user_id":2343179,"accept_rate":81,"display_name":"seahorse"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1487790687,"creation_date":1459158847,"answer_id":36259848,"question_id":11454822,"body_markdown":"In maven the dependencies got included for me when I removed the dependencyManagement xml section and just had dependencies directly under project section","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>In maven the dependencies got included for me when I removed the dependencyManagement xml section and just had dependencies directly under project section</p>\n"},{"tags":[],"owner":{"account_id":5960042,"reputation":2613,"user_id":4685486,"accept_rate":100,"display_name":"Anatolii Stepaniuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1459437044,"creation_date":1459437044,"answer_id":36337296,"question_id":11454822,"body_markdown":"What helped me:\r\n\r\nNavigage:\r\nSettings | Build, Execution, Deployment | Maven\r\n\r\nSpecify &quot;Maven home directory&quot; - the place you installed the maven","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>What helped me:</p>\n\n<p>Navigage:\nSettings | Build, Execution, Deployment | Maven</p>\n\n<p>Specify \"Maven home directory\" - the place you installed the maven</p>\n"},{"tags":[],"owner":{"account_id":6431558,"reputation":498,"user_id":4984475,"display_name":"sjaiswal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460493002,"creation_date":1460493002,"answer_id":36583472,"question_id":11454822,"body_markdown":"I faced the same problem and tried everything suggested which did not solve the issue, I was using Intellij version 13.1.3\r\n\r\nFinally after spending more than couple of hours trying to fix it, I decided to try an upgraded version and opened the project in version 14.1.4 which ultimately resolved the issue. I would think this as a probable bug in the previous version.\r\n\r\nI hope this helps!\r\n\r\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I faced the same problem and tried everything suggested which did not solve the issue, I was using Intellij version 13.1.3</p>\n\n<p>Finally after spending more than couple of hours trying to fix it, I decided to try an upgraded version and opened the project in version 14.1.4 which ultimately resolved the issue. I would think this as a probable bug in the previous version.</p>\n\n<p>I hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"score":1,"creation_date":1495533763,"post_id":40098236,"comment_id":75281744,"body_markdown":"picking the right JDK for importer helped me. I also had to run mvn idea:clean idea:idea to close the last issues.","body":"picking the right JDK for importer helped me. I also had to run mvn idea:clean idea:idea to close the last issues."},{"owner":{"account_id":3995817,"reputation":287,"user_id":3293408,"display_name":"chrishmorris"},"score":1,"creation_date":1693399044,"post_id":40098236,"comment_id":135755283,"body_markdown":"In that window, clicking first icon (tooltip &quot;Reload All Maven Projects&quot;) worked for me.","body":"In that window, clicking first icon (tooltip &quot;Reload All Maven Projects&quot;) worked for me."}],"tags":[],"owner":{"account_id":7513996,"reputation":1289,"user_id":5708054,"display_name":"Paul Back"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1476754999,"creation_date":1476754999,"answer_id":40098236,"question_id":11454822,"body_markdown":"For IntelliJ 2016-2.4 (and I believe other new-ish versions):\r\n\r\nView &gt; Tool Windows &gt; Maven Projects\r\n\r\nIn the newly revealed toolbar, select Maven settings (icon of a toolset).\r\n\r\nWhen this screen opens, expand the Maven menu and click &#39;Importing&#39;\r\n\r\nHere, click &quot;Import Maven projects automatically.&quot;  Also ensure that the &#39;JDK for Importer&#39; option matches the JDK version you mean to use.\r\n\r\nClick OK.  Now go to the red dependency in your pom.xml, select the red lightbulb, and click &#39;Update Maven indices&#39;.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>For IntelliJ 2016-2.4 (and I believe other new-ish versions):</p>\n\n<p>View > Tool Windows > Maven Projects</p>\n\n<p>In the newly revealed toolbar, select Maven settings (icon of a toolset).</p>\n\n<p>When this screen opens, expand the Maven menu and click 'Importing'</p>\n\n<p>Here, click \"Import Maven projects automatically.\"  Also ensure that the 'JDK for Importer' option matches the JDK version you mean to use.</p>\n\n<p>Click OK.  Now go to the red dependency in your pom.xml, select the red lightbulb, and click 'Update Maven indices'.</p>\n"},{"tags":[],"owner":{"account_id":2229031,"reputation":757,"user_id":1967127,"display_name":"Johannes Stadler"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1485266276,"creation_date":1485266276,"answer_id":41830108,"question_id":11454822,"body_markdown":"I ran into the problem that some subdependencies couldn&#39;t be resolved in IntelliJ 2016.3.X. This could be fixed by changing the `Maven home  directory` in Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven from `Bundled (Maven 3)` to `/usr/share/maven`.\r\n\r\nAfter that all subdependencies got resolved as in previous IntelliJ versions.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I ran into the problem that some subdependencies couldn't be resolved in IntelliJ 2016.3.X. This could be fixed by changing the <code>Maven home  directory</code> in Settings > Build, Execution, Deployment > Build Tools > Maven from <code>Bundled (Maven 3)</code> to <code>/usr/share/maven</code>.</p>\n\n<p>After that all subdependencies got resolved as in previous IntelliJ versions.</p>\n"},{"tags":[],"owner":{"account_id":3114394,"reputation":389,"user_id":2635503,"accept_rate":71,"display_name":"Markus Barthlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486850709,"creation_date":1486850709,"answer_id":42181769,"question_id":11454822,"body_markdown":"If everything else fails, check if the jar file in your local .m2 repository is indeed valid and not corrupted. In my case, the file had not been fully downloaded.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>If everything else fails, check if the jar file in your local .m2 repository is indeed valid and not corrupted. In my case, the file had not been fully downloaded.</p>\n"},{"tags":[],"owner":{"account_id":5534377,"reputation":284,"user_id":6078959,"accept_rate":80,"display_name":"Svitlana  Onish"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500068146,"creation_date":1500068146,"answer_id":45111906,"question_id":11454822,"body_markdown":"Maven - Reimport did not work for me.\r\nI have Spring project in STS(Eclipse) and my solution is to import project to IDEA like so:\r\n&lt;br/&gt;&lt;br/&gt;\r\n1) File - New - Project from Existing Sources... - select directory - choose Eclipse.&lt;br/&gt;\r\n2) Set Maven autoimport to true in settings.&lt;br/&gt;\r\n3) Then right click in pom.xml and choose Add as Maven Project.&lt;br/&gt;&lt;br/&gt;\r\nAfter this it has imported everything.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Maven - Reimport did not work for me.\nI have Spring project in STS(Eclipse) and my solution is to import project to IDEA like so:\n<br/><br/>\n1) File - New - Project from Existing Sources... - select directory - choose Eclipse.<br/>\n2) Set Maven autoimport to true in settings.<br/>\n3) Then right click in pom.xml and choose Add as Maven Project.<br/><br/>\nAfter this it has imported everything.</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507969931,"creation_date":1507969931,"answer_id":46742516,"question_id":11454822,"body_markdown":"The problem appears to be that despite listing your dependencies in the pom.xml,  IntelliJ IDEA does not rebuild those dependencies when you run your project.\r\n\r\nWhat worked for me is this:\r\n\r\nGo to &#39;Run&#39; -&gt; &#39;Edit Configurations...&#39;, find your application, make sure the &quot;Before launch:&quot; section is expanded, click the green plus sign, and select &quot;Build Project&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/QvqlB.png\r\n\r\n\r\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>The problem appears to be that despite listing your dependencies in the pom.xml,  IntelliJ IDEA does not rebuild those dependencies when you run your project.</p>\n\n<p>What worked for me is this:</p>\n\n<p>Go to 'Run' -> 'Edit Configurations...', find your application, make sure the \"Before launch:\" section is expanded, click the green plus sign, and select \"Build Project\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/QvqlB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QvqlB.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":4234133,"reputation":323,"user_id":3465795,"display_name":"Steve T"},"score":1,"creation_date":1580418280,"post_id":49974512,"comment_id":106101475,"body_markdown":"This worked for me, in the settings.xml file, the entry for the &lt;url&gt; tag nested in the &lt;mirror&gt; tag was outdated.  I conferred with my colleagues to get the updated entry value.  I made the change to ~/.m2/settings.xml, closed intelliJ and started it again.  Upon restart, doing nothing else, the red underscores showing up in the maven view were gone.  Strangely, most of the root dependencies that were highlighted were always present in the &quot;External Libraries&quot; entry of the Project view, both before and after I performed this fix.","body":"This worked for me, in the settings.xml file, the entry for the &lt;url&gt; tag nested in the &lt;mirror&gt; tag was outdated.  I conferred with my colleagues to get the updated entry value.  I made the change to ~/.m2/settings.xml, closed intelliJ and started it again.  Upon restart, doing nothing else, the red underscores showing up in the maven view were gone.  Strangely, most of the root dependencies that were highlighted were always present in the &quot;External Libraries&quot; entry of the Project view, both before and after I performed this fix."}],"tags":[],"owner":{"account_id":8621334,"reputation":362,"user_id":6456149,"display_name":"amol13"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524464150,"creation_date":1524464150,"answer_id":49974512,"question_id":11454822,"body_markdown":"First check path Specified for **User Settings file:** in **Settings -&gt; Build,Execution,Development -&gt; Build Tools -&gt; Maven** .\r\nThe field should have path of the **settings.xml** of your maven. Also the settings.xml should have correct path of remote repository.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>First check path Specified for <strong>User Settings file:</strong> in <strong>Settings -> Build,Execution,Development -> Build Tools -> Maven</strong> .\nThe field should have path of the <strong>settings.xml</strong> of your maven. Also the settings.xml should have correct path of remote repository.</p>\n"},{"tags":[],"owner":{"account_id":12854374,"reputation":57,"user_id":9298161,"display_name":"Amit Joshi"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1535782755,"creation_date":1535773335,"answer_id":52124679,"question_id":11454822,"body_markdown":"I had the similar issue with my macbook, just did a small change in `pom.xml` and it started downloading all dependencies:\r\n\r\nEarlier dependencies were written as below for my windows machine:\r\n\r\n    &lt;dependencies&gt;\r\n     &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nI just removed the `&lt;dependencies&gt;` and `&lt;/dependencies&gt;` tags and it started downloading all the dependencies:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI am not sure it will work for you or not.. but worked fine for me.\r\n\r\nThanks\r\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I had the similar issue with my macbook, just did a small change in <code>pom.xml</code> and it started downloading all dependencies:</p>\n\n<p>Earlier dependencies were written as below for my windows machine:</p>\n\n<pre><code>&lt;dependencies&gt;\n &lt;dependency&gt;\n  &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n  &lt;artifactId&gt;mail&lt;/artifactId&gt;\n  &lt;version&gt;1.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>I just removed the <code>&lt;dependencies&gt;</code> and <code>&lt;/dependencies&gt;</code> tags and it started downloading all the dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n  &lt;artifactId&gt;mail&lt;/artifactId&gt;\n  &lt;version&gt;1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I am not sure it will work for you or not.. but worked fine for me.</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":2119697,"reputation":998,"user_id":1883236,"display_name":"Elyor Murodov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536144191,"creation_date":1536144191,"answer_id":52183186,"question_id":11454822,"body_markdown":"I was able to resolve it by removing unnecessary modules from **Project Settings -&gt; Modules** list.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt turns out these additional modules were created automatically by IntelliJ IDEA when I created the IntelliJ project by importing from the project folder (instead of by opening pom.xml). Then, after declaring the project as Maven project, proper modules were created, and existing modules were conflicting with them. It is also possible to exclude those modules during project creation.\r\n\r\n  [1]: https://i.stack.imgur.com/HtqZc.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I was able to resolve it by removing unnecessary modules from <strong>Project Settings -> Modules</strong> list.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HtqZc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HtqZc.png\" alt=\"enter image description here\"></a></p>\n\n<p>It turns out these additional modules were created automatically by IntelliJ IDEA when I created the IntelliJ project by importing from the project folder (instead of by opening pom.xml). Then, after declaring the project as Maven project, proper modules were created, and existing modules were conflicting with them. It is also possible to exclude those modules during project creation.</p>\n"},{"tags":[],"owner":{"account_id":3351646,"reputation":508,"user_id":2815598,"display_name":"petre"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1536146475,"creation_date":1536146475,"answer_id":52183923,"question_id":11454822,"body_markdown":"I had a similar issue, in my case I am using a custom `settings.xml` which was not picked from IntelliJ. \r\n\r\n**Solution:**    \r\n`File &gt; Settings &gt; Build, Execution, Deployment &gt; Maven: User settings file` (chose here my custom settings.xml).\r\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I had a similar issue, in my case I am using a custom <code>settings.xml</code> which was not picked from IntelliJ. </p>\n\n<p><strong>Solution:</strong><br>\n<code>File &gt; Settings &gt; Build, Execution, Deployment &gt; Maven: User settings file</code> (chose here my custom settings.xml).</p>\n"},{"tags":[],"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540914439,"creation_date":1540914439,"answer_id":53068122,"question_id":11454822,"body_markdown":"Deleting the .idea folder from the project directory, and then re-importing the project as a Maven project is what worked for me.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Deleting the .idea folder from the project directory, and then re-importing the project as a Maven project is what worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1623665,"reputation":1963,"user_id":1499715,"accept_rate":100,"display_name":"elirandav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548680659,"creation_date":1548680659,"answer_id":54402655,"question_id":11454822,"body_markdown":"In my case, one of the modules was ignored for some reason.\r\nTo resolve that: Right click the problematic module and choose &quot;Unignore Projects&quot;. \r\n\r\n[![unignore project example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z4Ky2.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>In my case, one of the modules was ignored for some reason.\nTo resolve that: Right click the problematic module and choose \"Unignore Projects\". </p>\n\n<p><a href=\"https://i.stack.imgur.com/Z4Ky2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z4Ky2.png\" alt=\"unignore project example\"></a></p>\n"},{"comments":[{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1677234032,"post_id":56000991,"comment_id":133301714,"body_markdown":"This didn&#39;t work for me","body":"This didn&#39;t work for me"}],"tags":[],"owner":{"account_id":8085349,"reputation":913,"user_id":6093078,"display_name":"Yashaswi N P"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1557129292,"creation_date":1557129292,"answer_id":56000991,"question_id":11454822,"body_markdown":"I had the same issue and tried all the answers mentioned here, none worked. \r\n\r\nThe simple solution is go to your project folder and delete all the .idea and .iml files and restart the IntelliJ ide. It works. No need to do anything with the settings. ","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I had the same issue and tried all the answers mentioned here, none worked. </p>\n\n<p>The simple solution is go to your project folder and delete all the .idea and .iml files and restart the IntelliJ ide. It works. No need to do anything with the settings. </p>\n"},{"tags":[],"owner":{"account_id":16157456,"reputation":1,"user_id":11664393,"display_name":"ChibuezePaul ISoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561043194,"creation_date":1561043194,"answer_id":56688907,"question_id":11454822,"body_markdown":"i was able to fix mine by adding this lines of code after the build tag in the pom.xml file, i compared it from my running project and discovered that was the difference, now i&#39;m all good.\r\n\r\n    &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>i was able to fix mine by adding this lines of code after the build tag in the pom.xml file, i compared it from my running project and discovered that was the difference, now i'm all good.</p>\n\n<pre><code>&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4308867,"reputation":152,"user_id":3520544,"display_name":"learningIsFun"},"score":0,"creation_date":1644988931,"post_id":56751856,"comment_id":125748458,"body_markdown":"Yes. Same happened with me. I renamed the settings.xml file while doing personal project using same computer. But need to remember to rename settings.xml to original name for internal work related projects.","body":"Yes. Same happened with me. I renamed the settings.xml file while doing personal project using same computer. But need to remember to rename settings.xml to original name for internal work related projects."}],"tags":[],"owner":{"account_id":16081862,"reputation":33,"user_id":11607527,"display_name":"Nishchay Maurya"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561463328,"creation_date":1561458170,"answer_id":56751856,"question_id":11454822,"body_markdown":"You might be working under a company&#39;s internal network.\r\n\r\nIf so, to download or add external Maven dependencies your `settings.xml` file under `user/&lt;username&gt;/.m2` folder might need to be updated.\r\n\r\nContact your administrator to provide the right `settings.xml` file and then paste it into you `.m2` folder.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>You might be working under a company's internal network.</p>\n\n<p>If so, to download or add external Maven dependencies your <code>settings.xml</code> file under <code>user/&lt;username&gt;/.m2</code> folder might need to be updated.</p>\n\n<p>Contact your administrator to provide the right <code>settings.xml</code> file and then paste it into you <code>.m2</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":13195289,"reputation":81,"user_id":9530369,"display_name":"Akanksha Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561716715,"creation_date":1561716715,"answer_id":56805024,"question_id":11454822,"body_markdown":"In my case, path for JAVA used by MAVEN was not set as JAVA_HOME as configured on the machine. Hence, it was not even trying to download the dependencies.\nSteps I followed which solved this issue,\n\n1. Checked for JAVA path , **Settings &gt;&gt; Build &gt;&gt; Build Tools &gt;&gt; Importing &gt;&gt; JDK for importer**. Pointed it to JAVA_HOME.\n\n2. `mvn clean install -U`\n\n    Used above command to force the dependencies download.\n\n3. Re imported Maven Projects\n\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>In my case, path for JAVA used by MAVEN was not set as JAVA_HOME as configured on the machine. Hence, it was not even trying to download the dependencies.\nSteps I followed which solved this issue,</p>\n<ol>\n<li><p>Checked for JAVA path , <strong>Settings &gt;&gt; Build &gt;&gt; Build Tools &gt;&gt; Importing &gt;&gt; JDK for importer</strong>. Pointed it to JAVA_HOME.</p>\n</li>\n<li><p><code>mvn clean install -U</code></p>\n<p>Used above command to force the dependencies download.</p>\n</li>\n<li><p>Re imported Maven Projects</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":16089529,"reputation":1208,"user_id":11613316,"display_name":"techmagister"},"score":0,"creation_date":1683898279,"post_id":58570379,"comment_id":134441385,"body_markdown":"This is the easiest method if you have all other previously mentioned configs correct.","body":"This is the easiest method if you have all other previously mentioned configs correct."}],"tags":[],"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572099968,"creation_date":1572089648,"answer_id":58570379,"question_id":11454822,"body_markdown":"&gt; re-import-maven **-&gt;** close-intellij **-&gt;** delete-the-entire\r\n&gt; -**`.idea`**-folder **-&gt;** re-open-the-project **-&gt;** build **-&gt;** build-project/build-module-*&#39;your parent module&#39;* \r\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<blockquote>\n  <p>re-import-maven <strong>-></strong> close-intellij <strong>-></strong> delete-the-entire\n  -<strong><code>.idea</code></strong>-folder <strong>-></strong> re-open-the-project <strong>-></strong> build <strong>-></strong> build-project/build-module-<em>'your parent module'</em> </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9678231,"reputation":21,"user_id":7180905,"display_name":"Jaydeep Bhatia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575583321,"creation_date":1575583321,"answer_id":59203914,"question_id":11454822,"body_markdown":"1. From maven tab click + and choose pom.xml\r\n2. From maven tab click download sources and documentation\r\n3. On project structure(where you can view project files/directories) right click the project you&#39;re trying to build and choose Build Module Project Name.\r\n4. From tab Run- Edit Configurations with + add Application and fill the below fields: i. Main Class- Manually choose from Project tab select the main class ii. Use classpath of module - choose the application name iii. Shorten command line - classpath file\r\n5. Now simply run the app.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<ol>\n<li>From maven tab click + and choose pom.xml</li>\n<li>From maven tab click download sources and documentation</li>\n<li>On project structure(where you can view project files/directories) right click the project you're trying to build and choose Build Module Project Name.</li>\n<li>From tab Run- Edit Configurations with + add Application and fill the below fields: i. Main Class- Manually choose from Project tab select the main class ii. Use classpath of module - choose the application name iii. Shorten command line - classpath file</li>\n<li>Now simply run the app.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604435790,"creation_date":1604435790,"answer_id":64670261,"question_id":11454822,"body_markdown":"A possible pattern for this issue is that you dont have connection to Nexus and basically you want to build the project in offline mode. But when you import the project Idea tries to download Maven dependencies automatically.. and fails. You set Work Offline checkbox in Settings, but its too late: something was already broken during initial download attempt. Neither of the options listed here worked for me to resolve this. Instead I did the following:\r\n\r\n 1. first created empty Java (not Maven) project \r\n 2. checked Work Offline option in Maven settings\r\n 3. added my project as a Maven module to this new project\r\n\r\nThis way it worked.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>A possible pattern for this issue is that you dont have connection to Nexus and basically you want to build the project in offline mode. But when you import the project Idea tries to download Maven dependencies automatically.. and fails. You set Work Offline checkbox in Settings, but its too late: something was already broken during initial download attempt. Neither of the options listed here worked for me to resolve this. Instead I did the following:</p>\n<ol>\n<li>first created empty Java (not Maven) project</li>\n<li>checked Work Offline option in Maven settings</li>\n<li>added my project as a Maven module to this new project</li>\n</ol>\n<p>This way it worked.</p>\n"},{"comments":[{"owner":{"account_id":8312066,"reputation":352,"user_id":6246772,"accept_rate":80,"display_name":"Mosa"},"score":0,"creation_date":1642056250,"post_id":67276608,"comment_id":124971526,"body_markdown":"Invalidate Caches and restart is solved my problem thank you.","body":"Invalidate Caches and restart is solved my problem thank you."}],"tags":[],"owner":{"account_id":8997468,"reputation":1035,"user_id":8572205,"display_name":"nhaht"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619494153,"creation_date":1619494153,"answer_id":67276608,"question_id":11454822,"body_markdown":"**Invalidate Caches** worked for me:\r\n\r\n**File &gt; Invalidate Caches**  \r\n\r\nChecks:\r\n\r\nClear file system cache and Local History  \r\nClear downloaded shared indexes \r\n\r\nThen **Invalidate and Restart** ","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p><strong>Invalidate Caches</strong> worked for me:</p>\n<p><strong>File &gt; Invalidate Caches</strong></p>\n<p>Checks:</p>\n<p>Clear file system cache and Local History<br />\nClear downloaded shared indexes</p>\n<p>Then <strong>Invalidate and Restart</strong></p>\n"},{"comments":[{"owner":{"account_id":6247086,"reputation":79,"user_id":4858544,"display_name":"ankit deora"},"score":0,"creation_date":1620648536,"post_id":67470136,"comment_id":119254274,"body_markdown":"Worked like a charm, That is what I was looking for :)","body":"Worked like a charm, That is what I was looking for :)"}],"tags":[],"owner":{"account_id":18525892,"reputation":31,"user_id":13497807,"display_name":"antarin karmakar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620648729,"creation_date":1620648425,"answer_id":67470136,"question_id":11454822,"body_markdown":"So I was also facing this problem in lots of my organisation&#39;s codebase. On addition to the answers suggested above, we can tweak around with the allocation pool memory of the jvm. This is because, the volume of the dependencies brought in large codebases may be overwhelming for the jvm for IDE to build the project completely. Hence tried increasing XMX value and it worked! [Added -Xmx3072 to resolve the issue of &quot;not building&quot; my Java project in IntelliJ][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X2DSu.png\r\n  [2]: https://i.stack.imgur.com/xnoWj.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>So I was also facing this problem in lots of my organisation's codebase. On addition to the answers suggested above, we can tweak around with the allocation pool memory of the jvm. This is because, the volume of the dependencies brought in large codebases may be overwhelming for the jvm for IDE to build the project completely. Hence tried increasing XMX value and it worked! <a href=\"https://i.stack.imgur.com/X2DSu.png\" rel=\"nofollow noreferrer\">Added -Xmx3072 to resolve the issue of &quot;not building&quot; my Java project in IntelliJ</a></p>\n<p><a href=\"https://i.stack.imgur.com/xnoWj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xnoWj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":131520,"reputation":1759,"user_id":3702859,"accept_rate":75,"display_name":"xmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1624024651,"creation_date":1624024651,"answer_id":68036481,"question_id":11454822,"body_markdown":"**IntelliJ 2020.3.3**\r\n\r\nThis one did it for me.\r\n\r\nBuild, Execution, Deployment &gt; Build Tools.\r\n\r\nChange &quot;Reload project after changes in the build scripts&quot;:\r\n  - from default &quot;External Changes&quot; to &quot;Any Changes&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWith this, it took a while for the project to rebuild but now I can see Maven dependencies in IntelliJ:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ARJE9.png\r\n  [2]: https://i.stack.imgur.com/OGkK0.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p><strong>IntelliJ 2020.3.3</strong></p>\n<p>This one did it for me.</p>\n<p>Build, Execution, Deployment &gt; Build Tools.</p>\n<p>Change &quot;Reload project after changes in the build scripts&quot;:</p>\n<ul>\n<li>from default &quot;External Changes&quot; to &quot;Any Changes&quot;</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/ARJE9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ARJE9.png\" alt=\"enter image description here\" /></a></p>\n<p>With this, it took a while for the project to rebuild but now I can see Maven dependencies in IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/OGkK0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OGkK0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":23927989,"reputation":1,"user_id":17922877,"display_name":"nilesh nanaware"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642066484,"creation_date":1642066484,"answer_id":70694254,"question_id":11454822,"body_markdown":"The solution for this: - \r\n1) go to file -&gt; settings -&gt; maven -&gt; maven home path\r\n2) there you will find bundled (maven 3) something like that\r\nselect the appropriate home path of maven where the maven file is present in system\r\n(the path given in the environment variable)\r\n3) click on apply\r\n4) refresh the project.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>The solution for this: -</p>\n<ol>\n<li>go to file -&gt; settings -&gt; maven -&gt; maven home path</li>\n<li>there you will find bundled (maven 3) something like that\nselect the appropriate home path of maven where the maven file is present in system\n(the path given in the environment variable)</li>\n<li>click on apply</li>\n<li>refresh the project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25359995,"reputation":1,"user_id":19175439,"display_name":"HB FL3X"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680327938,"creation_date":1680327886,"answer_id":75904475,"question_id":11454822,"body_markdown":"I fixed the problem in intellij IDEA 2022 by adding &quot;requires package_name&quot; in module-info.java file in the project structure folder. For example requires AnimateFX;","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I fixed the problem in intellij IDEA 2022 by adding &quot;requires package_name&quot; in module-info.java file in the project structure folder. For example requires AnimateFX;</p>\n"},{"tags":[],"owner":{"account_id":29414966,"reputation":1,"user_id":22539523,"display_name":"Guiler "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694461221,"creation_date":1694454781,"answer_id":77083830,"question_id":11454822,"body_markdown":"I solved it by clicking on settings &gt; Build, Execution, Deployment &gt; Build tools &gt; Maven &gt; And finally, activating the &quot;Use plugin registry&quot; checkbox\r\n[Tutorial][1]\r\n\r\n[Checkbox photo][2]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=i0ACQF8yX9E\r\n  [2]: https://i.stack.imgur.com/oOCTq.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I solved it by clicking on settings &gt; Build, Execution, Deployment &gt; Build tools &gt; Maven &gt; And finally, activating the &quot;Use plugin registry&quot; checkbox\n<a href=\"https://www.youtube.com/watch?v=i0ACQF8yX9E\" rel=\"nofollow noreferrer\">Tutorial</a></p>\n<p><a href=\"https://i.stack.imgur.com/oOCTq.png\" rel=\"nofollow noreferrer\">Checkbox photo</a></p>\n"},{"tags":[],"owner":{"account_id":27772278,"reputation":1,"user_id":21202373,"display_name":"&#220;veys Sara&#231;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695025846,"creation_date":1695024619,"answer_id":77125479,"question_id":11454822,"body_markdown":"You should delete the .idea folder:\r\n\r\n![][1]\r\n\r\n[1]:https://i.stack.imgur.com/Eg0M2.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>You should delete the .idea folder:</p>\n<p><img src=\"https://i.stack.imgur.com/Eg0M2.png\" alt=\"\" /></p>\n"}],"owner":{"account_id":1021496,"reputation":4264,"user_id":1031724,"accept_rate":56,"display_name":"Zaur Guliyev"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649945,"favorite_count":0,"down_vote_count":0,"up_vote_count":235,"accepted_answer_id":11467266,"answer_count":41,"score":235,"last_activity_date":1695025846,"creation_date":1342105581,"question_id":11454822,"body_markdown":"I just imported a project from subversion to IntelliJ IDEA 11 - it&#39;s a maven project. But I have a problem in maven library dependencies so that I can&#39;t include all maven dependencies automatically - IDEA shows dependency errors only when I open that class/ Thats what I get here:\r\n\r\n![enter image description here][1]\r\n\r\n\r\nSo I want all dependencies to be added automatically - is that possible or do I have to go through all class files to identify and add maven dependencies?!\r\n\r\n\r\nUPDATE: After doing some modifications I found how to resolve my problem in some way. Thats what I did:\r\n![enter image description here][2]\r\n\r\n  [1]: http://i.stack.imgur.com/v5K5p.png\r\n  [2]: http://i.stack.imgur.com/KslcB.png\r\n\r\n\r\n\r\nbut I think logically it will not include and check new dependencies ahead?!... Is there any settings area for this in intelliJ - auto export dependencies to classpath?\r\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I just imported a project from subversion to IntelliJ IDEA 11 - it's a maven project. But I have a problem in maven library dependencies so that I can't include all maven dependencies automatically - IDEA shows dependency errors only when I open that class/ Thats what I get here:</p>\n<p><img src=\"https://i.stack.imgur.com/v5K5p.png\" alt=\"enter image description here\" /></p>\n<p>So I want all dependencies to be added automatically - is that possible or do I have to go through all class files to identify and add maven dependencies?!</p>\n<p>UPDATE: After doing some modifications I found how to resolve my problem in some way. Thats what I did:\n<img src=\"https://i.stack.imgur.com/KslcB.png\" alt=\"enter image description here\" /></p>\n<p>but I think logically it will not include and check new dependencies ahead?!... Is there any settings area for this in intelliJ - auto export dependencies to classpath?</p>\n"},{"tags":["java","swagger","openapi"],"owner":{"account_id":23456861,"reputation":301,"user_id":17512207,"display_name":"ildvzg68472"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695025508,"creation_date":1695025508,"question_id":77125562,"body_markdown":"I use springdoc-openapi v2.2.0 to generate the swagger document.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nCurrently there are 20 APIs in this swagger document, 18 of them have some common headers as below: \r\n\r\n```\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;name&quot;: &quot;channelId&quot;,\r\n\t\t\t\t\t\t&quot;in&quot;: &quot;header&quot;,\r\n\t\t\t\t\t\t&quot;description&quot;: &quot;Registered channel ID&quot;,\r\n\t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n\t\t\t\t\t\t&quot;required&quot;: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;name&quot;: &quot;uuid&quot;,\r\n\t\t\t\t\t\t&quot;in&quot;: &quot;header&quot;,\r\n\t\t\t\t\t\t&quot;description&quot;: &quot;128 bit random universally unique identifier (UUID)&quot;,\r\n\t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n\t\t\t\t\t\t&quot;required&quot;: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;name&quot;: &quot;businessCode&quot;,\r\n\t\t\t\t\t\t&quot;in&quot;: &quot;header&quot;,\r\n\t\t\t\t\t\t&quot;description&quot;: &quot;Business code&quot;,\r\n\t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n\t\t\t\t\t\t&quot;required&quot;: true\r\n\t\t\t\t\t},\r\n```\r\nBut 2 of them don&#39;t need the headers.\r\n\r\nAppreciate a lot if you can advise a solution using springdoc-openapi v2.2.0 to realize that the 18 APIs have the common headers but the 2 APIs don&#39;t have.\r\n","title":"How to add common headers using springdoc-openapi v2.2.0","body":"<p>I use springdoc-openapi v2.2.0 to generate the swagger document.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Currently there are 20 APIs in this swagger document, 18 of them have some common headers as below:</p>\n<pre><code>                    {\n                        &quot;name&quot;: &quot;channelId&quot;,\n                        &quot;in&quot;: &quot;header&quot;,\n                        &quot;description&quot;: &quot;Registered channel ID&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;required&quot;: true\n                    },\n                    {\n                        &quot;name&quot;: &quot;uuid&quot;,\n                        &quot;in&quot;: &quot;header&quot;,\n                        &quot;description&quot;: &quot;128 bit random universally unique identifier (UUID)&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;required&quot;: true\n                    },\n                    {\n                        &quot;name&quot;: &quot;businessCode&quot;,\n                        &quot;in&quot;: &quot;header&quot;,\n                        &quot;description&quot;: &quot;Business code&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;required&quot;: true\n                    },\n</code></pre>\n<p>But 2 of them don't need the headers.</p>\n<p>Appreciate a lot if you can advise a solution using springdoc-openapi v2.2.0 to realize that the 18 APIs have the common headers but the 2 APIs don't have.</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":5656054,"reputation":119,"user_id":4475215,"display_name":"Madoka Magica"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695025348,"creation_date":1695025348,"question_id":77125547,"body_markdown":"I&#39;m making an autoclicker on Android. I&#39;m making widgets for swipe. This is class 3 widget. WidgMiddleView draws a line between WidgStartView and WidgEndView everything works, only WidgMiddleView completely covers the screen and I can&#39;t click on anything. What to do, how to avoid this?\r\n```\r\nclass SwipeWidgView(var ctx: Context, var mainWidget: MainWidgetView, var key: String?): View(ctx) {\r\n\r\n    protected lateinit var paramsStartWidg: WindowManager.LayoutParams\r\n    protected lateinit var paramsEndWidg: WindowManager.LayoutParams\r\n    protected lateinit var paramsMiddleWidg: WindowManager.LayoutParams\r\n    protected lateinit var widgetWindowManager: WidgetWindowManager\r\n    protected lateinit var layoutInflater: LayoutInflater\r\n    private lateinit var widgStartView: WidgStartView\r\n    private lateinit var widgEndView: WidgEndView\r\n    private lateinit var widgMiddleView: WidgMiddleView\r\n    var scenarioClick: ScenarioClick? = null\r\n    val mainHandler = Handler(Looper.getMainLooper())\r\n    var lstInitMedium: MutableList&lt;Boolean&gt; = mutableListOf(false, false)\r\n\r\n    init {\r\n        layoutInflater = LayoutInflater.from(ctx)\r\n        widgetWindowManager = WidgetWindowManager.init(ctx)\r\n        paramsStartWidg = initParams()\r\n        paramsEndWidg = initParams()\r\n        paramsMiddleWidg = initParams()\r\n        paramsMiddleWidg.flags = paramsMiddleWidg.flags or WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL\r\n        widgStartView = WidgStartView(ctx)\r\n        widgEndView = WidgEndView(ctx)\r\n        widgMiddleView = WidgMiddleView(ctx)\r\n        setupData()\r\n    }\r\n\r\n    fun setupData() {\r\n        CoroutineScope(Dispatchers.IO).launch {\r\n            if (key.isNullOrEmpty()) {\r\n                var newKey = mainWidget.getRandomString()\r\n                var name = mainWidget.getName()\r\n                var date = Constants.getDateMilliNow()\r\n                var posQueue = mainWidget.getNextPos()\r\n                scenarioClick = ScenarioClick(\r\n                    null, widgStartView.posX, widgStartView.posY,\r\n                    widgEndView.posX, widgEndView.posY, Constants.TYPE_SWIPE, name,\r\n                    posQueue, newKey, date\r\n                )\r\n                mainWidget.addScenarioClick(scenarioClick!!)\r\n            } else {\r\n                //Request to db later\r\n            }\r\n            withContext(Dispatchers.Main) {\r\n                widgStartView.setWidgText(scenarioClick!!.posQueue.toString())\r\n                showWidgets()\r\n            }\r\n        }\r\n    }\r\n\r\n    fun drawLine(width: Int, height: Int) {\r\n        scenarioClick?.let { sc -&gt;\r\n            try {\r\n                var startX = sc.posX2!! + (width / 2)\r\n                var startY = sc.posY2!! + (height / 2)\r\n                var endX = sc.posX + (width / 2)\r\n                var endY = sc.posY + (height / 2)\r\n                widgMiddleView.binding.rootWidg.layoutParams.width = abs(startX - endX)\r\n                widgMiddleView.binding.rootWidg.layoutParams.height = abs(startY - endY)\r\n                widgMiddleView.binding.rootWidg.drawLine2(endX, endY, startX, startY)\r\n                mainHandler.postDelayed({\r\n                    widgMiddleView.invalidate()\r\n                }, 1000)\r\n\r\n            } catch (e: Exception) {\r\n                L.i(&quot;exception=&quot; + e.toString())\r\n            }\r\n        }\r\n    }\r\n\r\n    fun showWidgets() {\r\n        widgMiddleView.showWidget()\r\n        widgStartView.showWidget()\r\n        widgEndView.showWidget()\r\n        //while(true) {\r\n        /*mainHandler.postDelayed({\r\n            var left = scenarioClick!!.posX\r\n            var top = scenarioClick!!.posY\r\n            var right = scenarioClick!!.posX2\r\n            var bottom = scenarioClick!!.posY2\r\n            if(right != null &amp;&amp; bottom != null) {\r\n                widgMiddleView.changeRectCoords(left, top, right!!, bottom!!)\r\n            }\r\n        }, 300L)*/\r\n        //  }\r\n\r\n        //widgetWindowManager.addView(widgMiddleView, paramsMiddleWidg)\r\n    }\r\n\r\n    fun endInitMiddleWidgView() {\r\n        if (lstInitMedium[0] &amp;&amp; lstInitMedium[1]) {\r\n            drawLine(widgStartView.width2, widgStartView.height2)\r\n        }\r\n    }\r\n\r\n    fun initParams(): WindowManager.LayoutParams {\r\n        var typeApp = 0\r\n        typeApp = if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O) {\r\n            WindowManager.LayoutParams.TYPE_PHONE\r\n        } else {\r\n            WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY\r\n        }\r\n\r\n        var params: WindowManager.LayoutParams = WindowManager.LayoutParams(\r\n            WindowManager.LayoutParams.WRAP_CONTENT,\r\n            WindowManager.LayoutParams.WRAP_CONTENT,\r\n            typeApp,  //вот тут менять не проепать\r\n            WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\r\n            PixelFormat.TRANSLUCENT\r\n        )\r\n\r\n        params!!.gravity =\r\n            Gravity.TOP or Gravity.LEFT //Initially view will be added to top-left corner\r\n        return params\r\n    }\r\n\r\n    inner class WidgStartView(ctx: Context) : FrameLayout(ctx) {\r\n        lateinit var binding: WidgSwipeStartBinding\r\n        var width2: Int = -1\r\n        var height2: Int = -1\r\n        var xm = 0\r\n        var ym = 0\r\n        var modeNow = 0\r\n        var posX: Int = 0\r\n            set(value) {\r\n                field = value\r\n                paramsStartWidg?.let {\r\n                    it.x = value\r\n                }\r\n                scenarioClick?.let {\r\n                    it.posX = value\r\n                }\r\n            }\r\n            get() {\r\n                return field\r\n            }\r\n        var posY: Int = 0\r\n            set(value) {\r\n                field = value\r\n                paramsStartWidg?.let {\r\n                    it.y = value\r\n                }\r\n                scenarioClick?.let {\r\n                    it.posY = value\r\n                }\r\n            }\r\n            get() {\r\n                return field\r\n            }\r\n\r\n        init {\r\n            binding = WidgSwipeStartBinding.inflate(layoutInflater)\r\n\r\n\r\n            binding.root.viewTreeObserver.addOnGlobalLayoutListener(object :\r\n                ViewTreeObserver.OnGlobalLayoutListener {\r\n                override fun onGlobalLayout() {\r\n                    // Убираем слушателя, чтобы избежать лишних вызовов\r\n                    binding.root.viewTreeObserver.removeOnGlobalLayoutListener(this)\r\n                    // Теперь вы можете получить реальные значения width, height, x и y\r\n                    L.i(&quot;zvezda&quot;)\r\n                    var centerDisp = mainWidget.widgetWindowManager.getCenterDisplay()\r\n                    width2 = binding.root.width\r\n                    height2 = binding.root.height\r\n                    posX = centerDisp.first - (width2 / 2)\r\n                    posY = centerDisp.second - (height2 / 2)\r\n                    mainWidget.changePos(scenarioClick!!, posX, posY)\r\n                    widgetWindowManager.updateView(binding.rootWidg, paramsStartWidg)\r\n                    // Выводим значения в консоль\r\n                    /*L.i(\r\n                        &quot;widgetView.x=&quot; + binding.root.x + &quot;widgetView.y=&quot; + binding.root.y +\r\n                                &quot;widgetView.top=&quot; + binding.root.top + &quot;widgetView.left=&quot; + binding.root.left +\r\n                                &quot;widgetView.trX=&quot; + binding.root.translationX + &quot;widgetView.trY=&quot; + binding.root.translationY +\r\n                                &quot;widgWidth=&quot; + binding.root.width + &quot;widthL=&quot; + binding.root.layoutParams.width +\r\n                                &quot;ppp=&quot; + binding.root.top\r\n                    )*/\r\n                    lstInitMedium[0] = true\r\n                    endInitMiddleWidgView()\r\n                    //widgEndView.showWidget()\r\n                }\r\n            })\r\n\r\n            //Touch listener\r\n            binding.rootWidg.setOnTouchListener(object : OnTouchListener {\r\n                private var initialX = 0\r\n                private var initialY = 0\r\n                private var initialTouchX = 0f\r\n                private var initialTouchY = 0f\r\n                override fun onTouch(v: View?, event: MotionEvent?): Boolean {\r\n                    //L.i(&quot;This is it&quot;);\r\n                    var x = event!!.rawX\r\n                    var y = event.rawY\r\n                    L.i(&quot;control pizda xraw=&quot; + x + &quot;yraw=&quot; + y + &quot;x=&quot; + event.x + &quot;y=&quot; + event.y + &quot;|&quot;)\r\n                    when (event.action) {\r\n                        MotionEvent.ACTION_DOWN -&gt; {\r\n                            xm = v!!.width / 2\r\n                            ym = v.height / 2\r\n                            modeNow = MainWidgetView.MODE_MOVE\r\n                            initialX = paramsStartWidg.x\r\n                            initialY = paramsStartWidg.y\r\n                            //get the touch location\r\n                            initialTouchX = event.rawX\r\n                            initialTouchY = event.rawY\r\n                            return true\r\n                        }\r\n\r\n                        MotionEvent.ACTION_MOVE -&gt; {\r\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\r\n                                L.i(&quot;Pizda&quot;)\r\n                                posX = initialX + (event.rawX - initialTouchX).toInt()\r\n                                posY = initialY + (event.rawY - initialTouchY).toInt()\r\n                               /* paramsStartWidg.x = posX\r\n                                paramsStartWidg.y = posY*/\r\n                               // mainWidget.changePos(scenarioClick!!, posX, posY)\r\n                                //Update the layout with new X &amp; Y coordinate\r\n                                widgetWindowManager.updateView(binding.rootWidg, paramsStartWidg)\r\n                                drawLine(width2, height2)\r\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\r\n                                //resize2(event.x, event.y, v!!.width, v.height)\r\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\r\n                                //changeOpacity(event.x, event.y, v!!.width, v.height)\r\n                            }\r\n                            return true\r\n                        }\r\n\r\n                        MotionEvent.ACTION_UP -&gt; {\r\n                            //resize2(event.getX(), event.getY(),v.getWidth(), v.getHeight(), root_container, moveView);\r\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\r\n                                val Xdiff = (event.rawX - initialTouchX).toInt()\r\n                                val Ydiff = (event.rawY - initialTouchY).toInt()\r\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\r\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\r\n                            }\r\n                            modeNow = 0\r\n                            return true\r\n                        }\r\n                    }\r\n                    return false\r\n                }\r\n            })\r\n        }\r\n\r\n        fun setWidgText(text: String) {\r\n            binding.tvClickWidg.text = text\r\n        }\r\n\r\n        fun showWidget() {\r\n            widgetWindowManager.addView(binding.root, paramsStartWidg)\r\n        }\r\n    }\r\n\r\n    inner class WidgEndView(ctx: Context) : FrameLayout(ctx) {\r\n        var width2: Int = -1\r\n        var height2: Int = -1\r\n        var xm = 0\r\n        var ym = 0\r\n        var modeNow = 0\r\n        lateinit var binding: WidgSwipeEndBinding\r\n        var posX: Int = 0\r\n            set(value) {\r\n                field = value\r\n                paramsEndWidg?.let {\r\n                    it.x = value\r\n                }\r\n                scenarioClick?.let {\r\n                    it.posX2 = value\r\n                }\r\n            }\r\n            get() {\r\n                return field\r\n            }\r\n        var posY: Int = 0\r\n            set(value) {\r\n                field = value\r\n                paramsEndWidg?.let {\r\n                    it.y = value\r\n                }\r\n                scenarioClick?.let {\r\n                    it.posY2 = value\r\n                }\r\n            }\r\n            get() {\r\n                return field\r\n            }\r\n\r\n        init {\r\n            binding = WidgSwipeEndBinding.inflate(layoutInflater)\r\n            binding.root.viewTreeObserver.addOnGlobalLayoutListener(object :\r\n                ViewTreeObserver.OnGlobalLayoutListener {\r\n                override fun onGlobalLayout() {\r\n                    // Убираем слушателя, чтобы избежать лишних вызовов\r\n                    binding.root.viewTreeObserver.removeOnGlobalLayoutListener(this)\r\n                    width2 = binding.root.width\r\n                    height2 = binding.root.height\r\n                    var centerDisp = mainWidget.widgetWindowManager.getCenterDisplay()\r\n                    posX = centerDisp.first - (width2/2)\r\n                    posY = centerDisp.second - (height/2) - (centerDisp.second * 0.3).toInt()\r\n                    mainWidget.changePos2(scenarioClick!!, posX, posY)\r\n                    widgetWindowManager.updateView(binding.rootWidg, paramsEndWidg)\r\n                    // Выводим значения в консоль\r\n                    /*L.i(\r\n                        &quot;widgetView.x=&quot; + binding.root.x + &quot;widgetView.y=&quot; + binding.root.y +\r\n                                &quot;widgetView.top=&quot; + binding.root.top + &quot;widgetView.left=&quot; + binding.root.left +\r\n                                &quot;widgetView.trX=&quot; + binding.root.translationX + &quot;widgetView.trY=&quot; + binding.root.translationY +\r\n                                &quot;widgWidth=&quot; + binding.root.width + &quot;widthL=&quot; + binding.root.layoutParams.width +\r\n                                &quot;ppp=&quot; + binding.root.top\r\n                    )*/\r\n                    lstInitMedium[1] = true\r\n                    endInitMiddleWidgView()\r\n                    //widgMiddleView.showWidget()\r\n                }\r\n            })\r\n\r\n            //Touch listener\r\n            binding.rootWidg.setOnTouchListener(object : OnTouchListener {\r\n                private var initialX = 0\r\n                private var initialY = 0\r\n                private var initialTouchX = 0f\r\n                private var initialTouchY = 0f\r\n                override fun onTouch(v: View?, event: MotionEvent?): Boolean {\r\n                    //L.i(&quot;This is it&quot;);\r\n                    var x = event!!.rawX\r\n                    var y = event.rawY\r\n                    L.i(&quot;control pizda xraw=&quot; + x + &quot;yraw=&quot; + y + &quot;x=&quot; + event.x + &quot;y=&quot; + event.y + &quot;|&quot;)\r\n                    when (event.action) {\r\n                        MotionEvent.ACTION_DOWN -&gt; {\r\n                            xm = v!!.width / 2\r\n                            ym = v.height / 2\r\n                            modeNow = MainWidgetView.MODE_MOVE\r\n                            initialX = paramsEndWidg.x\r\n                            initialY = paramsEndWidg.y\r\n                            //get the touch location\r\n                            initialTouchX = event.rawX\r\n                            initialTouchY = event.rawY\r\n                            return true\r\n                        }\r\n\r\n                        MotionEvent.ACTION_MOVE -&gt; {\r\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\r\n                                L.i(&quot;Pizda&quot;)\r\n                                posX = initialX + (event.rawX - initialTouchX).toInt()\r\n                                posY = initialY + (event.rawY - initialTouchY).toInt()\r\n                                /*paramsEndWidg.x = posX\r\n                                paramsEndWidg.y = posY*/\r\n                                mainWidget.changePos2(scenarioClick!!, posX, posY)\r\n                                //Update the layout with new X &amp; Y coordinate\r\n                                widgetWindowManager.updateView(binding.rootWidg, paramsEndWidg)\r\n                                drawLine(width2, height2)\r\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\r\n                                //resize2(event.x, event.y, v!!.width, v.height)\r\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\r\n                                //changeOpacity(event.x, event.y, v!!.width, v.height)\r\n                            }\r\n                            return true\r\n                        }\r\n\r\n                        MotionEvent.ACTION_UP -&gt; {\r\n                            //resize2(event.getX(), event.getY(),v.getWidth(), v.getHeight(), root_container, moveView);\r\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\r\n                                val Xdiff = (event.rawX - initialTouchX).toInt()\r\n                                val Ydiff = (event.rawY - initialTouchY).toInt()\r\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\r\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\r\n                            }\r\n                            modeNow = 0\r\n                            return true\r\n                        }\r\n                    }\r\n                    return false\r\n                }\r\n            })\r\n        }\r\n\r\n        fun showWidget() {\r\n            widgetWindowManager.addView(binding.root, paramsEndWidg)\r\n        }\r\n    }\r\n\r\n    inner class WidgMiddleView(ctx: Context) : RectangleView(ctx) {\r\n        var width2: Int = -1\r\n        var height2: Int = -1\r\n        lateinit var binding: WidgSwipeMiddleBinding\r\n\r\n        init {\r\n            alpha = 0.8f\r\n            binding = WidgSwipeMiddleBinding.inflate(layoutInflater)\r\n            binding.root.viewTreeObserver.addOnGlobalLayoutListener(object :\r\n                ViewTreeObserver.OnGlobalLayoutListener {\r\n                override fun onGlobalLayout() {\r\n                    // Убираем слушателя, чтобы избежать лишних вызовов\r\n                    //binding.root.viewTreeObserver.removeOnGlobalLayoutListener(this)\r\n                    width2 = binding.root.width\r\n                    height2 = binding.root.height\r\n                    // Выводим значения в консоль\r\n                    L.i(\r\n                        &quot;widgetView.x=&quot; + binding.root.x + &quot;widgetView.y=&quot; + binding.root.y +\r\n                                &quot;widgetView.top=&quot; + binding.root.top + &quot;widgetView.left=&quot; + binding.root.left +\r\n                                &quot;widgetView.trX=&quot; + binding.root.translationX + &quot;widgetView.trY=&quot; + binding.root.translationY +\r\n                                &quot;widgWidth=&quot; + binding.root.width + &quot;widthL=&quot; + binding.root.layoutParams.width +\r\n                                &quot;ppp=&quot; + binding.root.top\r\n                    )\r\n                    lstInitMedium[1] = true\r\n                    endInitMiddleWidgView()\r\n                    //widgMiddleView.showWidget()\r\n                }\r\n            })\r\n        }\r\n\r\n       /* fun changeRectCoords(left: Int, top: Int, right: Int, bottom: Int) {\r\n            // if(scenarioClick!!.posX2 != null &amp;&amp; scenarioClick!!.posY2 != null)\r\n            binding.rootWidg.drawLine(left, top, right, bottom)\r\n        }*/\r\n\r\n        fun showWidget() {\r\n\r\n            //changeRectCoords(scenarioClick!!.posX, scenarioClick!!.posY, scenarioClick!!.posX2!!, scenarioClick!!.posY2!!)\r\n            widgetWindowManager.addView(binding.root, paramsMiddleWidg)\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\nRectangleView\r\n```\r\npublic class RectangleView extends View {\r\n\r\n    private Rect rect = new Rect();\r\n    private final Paint mPaint = new Paint();\r\n\r\n    public RectangleView(Context context) {\r\n        super(context);\r\n        init();\r\n    }\r\n\r\n    public RectangleView(Context context, @Nullable AttributeSet attrs) {\r\n        super(context, attrs);\r\n        init();\r\n    }\r\n\r\n    public RectangleView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n        init();\r\n    }\r\n\r\n    private void init() {\r\n        int color = Color.parseColor(&quot;#0CFFE5&quot;);\r\n        mPaint.setColor(color);\r\n        mPaint.setStrokeWidth(20);\r\n        mPaint.setStyle(Paint.Style.FILL_AND_STROKE);\r\n        mPaint.setAntiAlias(true);\r\n        setWillNotDraw(false);\r\n    }\r\n\r\n    @Override\r\n    protected void onSizeChanged(int width, int height, int oldWidth, int oldHeight) {\r\n        super.onSizeChanged(width, height, oldWidth, oldHeight);\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        if(rect != null) {\r\n            canvas.drawLine(rect.left, rect.top, rect.right, rect.bottom, mPaint);\r\n        }\r\n    }\r\n\r\n    public void drawLine2(int left, int top, int right, int bottom) {\r\n        rect.set(left, top, right, bottom);\r\n        postInvalidate();\r\n    }\r\n\r\n}\r\n```\r\nlayout of middle widget\r\n```\r\n&lt;net.mautoclicker.ui.views.RectangleView\r\n        android:id=&quot;@+id/rootWidg&quot;\r\n        android:layout_width=&quot;30dp&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:alpha=&quot;0.8&quot;/&gt;\r\n```\r\n\r\nI would like the problem to be solved","title":"The view widget overlaps the application workspace","body":"<p>I'm making an autoclicker on Android. I'm making widgets for swipe. This is class 3 widget. WidgMiddleView draws a line between WidgStartView and WidgEndView everything works, only WidgMiddleView completely covers the screen and I can't click on anything. What to do, how to avoid this?</p>\n<pre><code>class SwipeWidgView(var ctx: Context, var mainWidget: MainWidgetView, var key: String?): View(ctx) {\n\n    protected lateinit var paramsStartWidg: WindowManager.LayoutParams\n    protected lateinit var paramsEndWidg: WindowManager.LayoutParams\n    protected lateinit var paramsMiddleWidg: WindowManager.LayoutParams\n    protected lateinit var widgetWindowManager: WidgetWindowManager\n    protected lateinit var layoutInflater: LayoutInflater\n    private lateinit var widgStartView: WidgStartView\n    private lateinit var widgEndView: WidgEndView\n    private lateinit var widgMiddleView: WidgMiddleView\n    var scenarioClick: ScenarioClick? = null\n    val mainHandler = Handler(Looper.getMainLooper())\n    var lstInitMedium: MutableList&lt;Boolean&gt; = mutableListOf(false, false)\n\n    init {\n        layoutInflater = LayoutInflater.from(ctx)\n        widgetWindowManager = WidgetWindowManager.init(ctx)\n        paramsStartWidg = initParams()\n        paramsEndWidg = initParams()\n        paramsMiddleWidg = initParams()\n        paramsMiddleWidg.flags = paramsMiddleWidg.flags or WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL\n        widgStartView = WidgStartView(ctx)\n        widgEndView = WidgEndView(ctx)\n        widgMiddleView = WidgMiddleView(ctx)\n        setupData()\n    }\n\n    fun setupData() {\n        CoroutineScope(Dispatchers.IO).launch {\n            if (key.isNullOrEmpty()) {\n                var newKey = mainWidget.getRandomString()\n                var name = mainWidget.getName()\n                var date = Constants.getDateMilliNow()\n                var posQueue = mainWidget.getNextPos()\n                scenarioClick = ScenarioClick(\n                    null, widgStartView.posX, widgStartView.posY,\n                    widgEndView.posX, widgEndView.posY, Constants.TYPE_SWIPE, name,\n                    posQueue, newKey, date\n                )\n                mainWidget.addScenarioClick(scenarioClick!!)\n            } else {\n                //Request to db later\n            }\n            withContext(Dispatchers.Main) {\n                widgStartView.setWidgText(scenarioClick!!.posQueue.toString())\n                showWidgets()\n            }\n        }\n    }\n\n    fun drawLine(width: Int, height: Int) {\n        scenarioClick?.let { sc -&gt;\n            try {\n                var startX = sc.posX2!! + (width / 2)\n                var startY = sc.posY2!! + (height / 2)\n                var endX = sc.posX + (width / 2)\n                var endY = sc.posY + (height / 2)\n                widgMiddleView.binding.rootWidg.layoutParams.width = abs(startX - endX)\n                widgMiddleView.binding.rootWidg.layoutParams.height = abs(startY - endY)\n                widgMiddleView.binding.rootWidg.drawLine2(endX, endY, startX, startY)\n                mainHandler.postDelayed({\n                    widgMiddleView.invalidate()\n                }, 1000)\n\n            } catch (e: Exception) {\n                L.i(&quot;exception=&quot; + e.toString())\n            }\n        }\n    }\n\n    fun showWidgets() {\n        widgMiddleView.showWidget()\n        widgStartView.showWidget()\n        widgEndView.showWidget()\n        //while(true) {\n        /*mainHandler.postDelayed({\n            var left = scenarioClick!!.posX\n            var top = scenarioClick!!.posY\n            var right = scenarioClick!!.posX2\n            var bottom = scenarioClick!!.posY2\n            if(right != null &amp;&amp; bottom != null) {\n                widgMiddleView.changeRectCoords(left, top, right!!, bottom!!)\n            }\n        }, 300L)*/\n        //  }\n\n        //widgetWindowManager.addView(widgMiddleView, paramsMiddleWidg)\n    }\n\n    fun endInitMiddleWidgView() {\n        if (lstInitMedium[0] &amp;&amp; lstInitMedium[1]) {\n            drawLine(widgStartView.width2, widgStartView.height2)\n        }\n    }\n\n    fun initParams(): WindowManager.LayoutParams {\n        var typeApp = 0\n        typeApp = if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O) {\n            WindowManager.LayoutParams.TYPE_PHONE\n        } else {\n            WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY\n        }\n\n        var params: WindowManager.LayoutParams = WindowManager.LayoutParams(\n            WindowManager.LayoutParams.WRAP_CONTENT,\n            WindowManager.LayoutParams.WRAP_CONTENT,\n            typeApp,  //вот тут менять не проепать\n            WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\n            PixelFormat.TRANSLUCENT\n        )\n\n        params!!.gravity =\n            Gravity.TOP or Gravity.LEFT //Initially view will be added to top-left corner\n        return params\n    }\n\n    inner class WidgStartView(ctx: Context) : FrameLayout(ctx) {\n        lateinit var binding: WidgSwipeStartBinding\n        var width2: Int = -1\n        var height2: Int = -1\n        var xm = 0\n        var ym = 0\n        var modeNow = 0\n        var posX: Int = 0\n            set(value) {\n                field = value\n                paramsStartWidg?.let {\n                    it.x = value\n                }\n                scenarioClick?.let {\n                    it.posX = value\n                }\n            }\n            get() {\n                return field\n            }\n        var posY: Int = 0\n            set(value) {\n                field = value\n                paramsStartWidg?.let {\n                    it.y = value\n                }\n                scenarioClick?.let {\n                    it.posY = value\n                }\n            }\n            get() {\n                return field\n            }\n\n        init {\n            binding = WidgSwipeStartBinding.inflate(layoutInflater)\n\n\n            binding.root.viewTreeObserver.addOnGlobalLayoutListener(object :\n                ViewTreeObserver.OnGlobalLayoutListener {\n                override fun onGlobalLayout() {\n                    // Убираем слушателя, чтобы избежать лишних вызовов\n                    binding.root.viewTreeObserver.removeOnGlobalLayoutListener(this)\n                    // Теперь вы можете получить реальные значения width, height, x и y\n                    L.i(&quot;zvezda&quot;)\n                    var centerDisp = mainWidget.widgetWindowManager.getCenterDisplay()\n                    width2 = binding.root.width\n                    height2 = binding.root.height\n                    posX = centerDisp.first - (width2 / 2)\n                    posY = centerDisp.second - (height2 / 2)\n                    mainWidget.changePos(scenarioClick!!, posX, posY)\n                    widgetWindowManager.updateView(binding.rootWidg, paramsStartWidg)\n                    // Выводим значения в консоль\n                    /*L.i(\n                        &quot;widgetView.x=&quot; + binding.root.x + &quot;widgetView.y=&quot; + binding.root.y +\n                                &quot;widgetView.top=&quot; + binding.root.top + &quot;widgetView.left=&quot; + binding.root.left +\n                                &quot;widgetView.trX=&quot; + binding.root.translationX + &quot;widgetView.trY=&quot; + binding.root.translationY +\n                                &quot;widgWidth=&quot; + binding.root.width + &quot;widthL=&quot; + binding.root.layoutParams.width +\n                                &quot;ppp=&quot; + binding.root.top\n                    )*/\n                    lstInitMedium[0] = true\n                    endInitMiddleWidgView()\n                    //widgEndView.showWidget()\n                }\n            })\n\n            //Touch listener\n            binding.rootWidg.setOnTouchListener(object : OnTouchListener {\n                private var initialX = 0\n                private var initialY = 0\n                private var initialTouchX = 0f\n                private var initialTouchY = 0f\n                override fun onTouch(v: View?, event: MotionEvent?): Boolean {\n                    //L.i(&quot;This is it&quot;);\n                    var x = event!!.rawX\n                    var y = event.rawY\n                    L.i(&quot;control pizda xraw=&quot; + x + &quot;yraw=&quot; + y + &quot;x=&quot; + event.x + &quot;y=&quot; + event.y + &quot;|&quot;)\n                    when (event.action) {\n                        MotionEvent.ACTION_DOWN -&gt; {\n                            xm = v!!.width / 2\n                            ym = v.height / 2\n                            modeNow = MainWidgetView.MODE_MOVE\n                            initialX = paramsStartWidg.x\n                            initialY = paramsStartWidg.y\n                            //get the touch location\n                            initialTouchX = event.rawX\n                            initialTouchY = event.rawY\n                            return true\n                        }\n\n                        MotionEvent.ACTION_MOVE -&gt; {\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\n                                L.i(&quot;Pizda&quot;)\n                                posX = initialX + (event.rawX - initialTouchX).toInt()\n                                posY = initialY + (event.rawY - initialTouchY).toInt()\n                               /* paramsStartWidg.x = posX\n                                paramsStartWidg.y = posY*/\n                               // mainWidget.changePos(scenarioClick!!, posX, posY)\n                                //Update the layout with new X &amp; Y coordinate\n                                widgetWindowManager.updateView(binding.rootWidg, paramsStartWidg)\n                                drawLine(width2, height2)\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\n                                //resize2(event.x, event.y, v!!.width, v.height)\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\n                                //changeOpacity(event.x, event.y, v!!.width, v.height)\n                            }\n                            return true\n                        }\n\n                        MotionEvent.ACTION_UP -&gt; {\n                            //resize2(event.getX(), event.getY(),v.getWidth(), v.getHeight(), root_container, moveView);\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\n                                val Xdiff = (event.rawX - initialTouchX).toInt()\n                                val Ydiff = (event.rawY - initialTouchY).toInt()\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\n                            }\n                            modeNow = 0\n                            return true\n                        }\n                    }\n                    return false\n                }\n            })\n        }\n\n        fun setWidgText(text: String) {\n            binding.tvClickWidg.text = text\n        }\n\n        fun showWidget() {\n            widgetWindowManager.addView(binding.root, paramsStartWidg)\n        }\n    }\n\n    inner class WidgEndView(ctx: Context) : FrameLayout(ctx) {\n        var width2: Int = -1\n        var height2: Int = -1\n        var xm = 0\n        var ym = 0\n        var modeNow = 0\n        lateinit var binding: WidgSwipeEndBinding\n        var posX: Int = 0\n            set(value) {\n                field = value\n                paramsEndWidg?.let {\n                    it.x = value\n                }\n                scenarioClick?.let {\n                    it.posX2 = value\n                }\n            }\n            get() {\n                return field\n            }\n        var posY: Int = 0\n            set(value) {\n                field = value\n                paramsEndWidg?.let {\n                    it.y = value\n                }\n                scenarioClick?.let {\n                    it.posY2 = value\n                }\n            }\n            get() {\n                return field\n            }\n\n        init {\n            binding = WidgSwipeEndBinding.inflate(layoutInflater)\n            binding.root.viewTreeObserver.addOnGlobalLayoutListener(object :\n                ViewTreeObserver.OnGlobalLayoutListener {\n                override fun onGlobalLayout() {\n                    // Убираем слушателя, чтобы избежать лишних вызовов\n                    binding.root.viewTreeObserver.removeOnGlobalLayoutListener(this)\n                    width2 = binding.root.width\n                    height2 = binding.root.height\n                    var centerDisp = mainWidget.widgetWindowManager.getCenterDisplay()\n                    posX = centerDisp.first - (width2/2)\n                    posY = centerDisp.second - (height/2) - (centerDisp.second * 0.3).toInt()\n                    mainWidget.changePos2(scenarioClick!!, posX, posY)\n                    widgetWindowManager.updateView(binding.rootWidg, paramsEndWidg)\n                    // Выводим значения в консоль\n                    /*L.i(\n                        &quot;widgetView.x=&quot; + binding.root.x + &quot;widgetView.y=&quot; + binding.root.y +\n                                &quot;widgetView.top=&quot; + binding.root.top + &quot;widgetView.left=&quot; + binding.root.left +\n                                &quot;widgetView.trX=&quot; + binding.root.translationX + &quot;widgetView.trY=&quot; + binding.root.translationY +\n                                &quot;widgWidth=&quot; + binding.root.width + &quot;widthL=&quot; + binding.root.layoutParams.width +\n                                &quot;ppp=&quot; + binding.root.top\n                    )*/\n                    lstInitMedium[1] = true\n                    endInitMiddleWidgView()\n                    //widgMiddleView.showWidget()\n                }\n            })\n\n            //Touch listener\n            binding.rootWidg.setOnTouchListener(object : OnTouchListener {\n                private var initialX = 0\n                private var initialY = 0\n                private var initialTouchX = 0f\n                private var initialTouchY = 0f\n                override fun onTouch(v: View?, event: MotionEvent?): Boolean {\n                    //L.i(&quot;This is it&quot;);\n                    var x = event!!.rawX\n                    var y = event.rawY\n                    L.i(&quot;control pizda xraw=&quot; + x + &quot;yraw=&quot; + y + &quot;x=&quot; + event.x + &quot;y=&quot; + event.y + &quot;|&quot;)\n                    when (event.action) {\n                        MotionEvent.ACTION_DOWN -&gt; {\n                            xm = v!!.width / 2\n                            ym = v.height / 2\n                            modeNow = MainWidgetView.MODE_MOVE\n                            initialX = paramsEndWidg.x\n                            initialY = paramsEndWidg.y\n                            //get the touch location\n                            initialTouchX = event.rawX\n                            initialTouchY = event.rawY\n                            return true\n                        }\n\n                        MotionEvent.ACTION_MOVE -&gt; {\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\n                                L.i(&quot;Pizda&quot;)\n                                posX = initialX + (event.rawX - initialTouchX).toInt()\n                                posY = initialY + (event.rawY - initialTouchY).toInt()\n                                /*paramsEndWidg.x = posX\n                                paramsEndWidg.y = posY*/\n                                mainWidget.changePos2(scenarioClick!!, posX, posY)\n                                //Update the layout with new X &amp; Y coordinate\n                                widgetWindowManager.updateView(binding.rootWidg, paramsEndWidg)\n                                drawLine(width2, height2)\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\n                                //resize2(event.x, event.y, v!!.width, v.height)\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\n                                //changeOpacity(event.x, event.y, v!!.width, v.height)\n                            }\n                            return true\n                        }\n\n                        MotionEvent.ACTION_UP -&gt; {\n                            //resize2(event.getX(), event.getY(),v.getWidth(), v.getHeight(), root_container, moveView);\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\n                                val Xdiff = (event.rawX - initialTouchX).toInt()\n                                val Ydiff = (event.rawY - initialTouchY).toInt()\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\n                            }\n                            modeNow = 0\n                            return true\n                        }\n                    }\n                    return false\n                }\n            })\n        }\n\n        fun showWidget() {\n            widgetWindowManager.addView(binding.root, paramsEndWidg)\n        }\n    }\n\n    inner class WidgMiddleView(ctx: Context) : RectangleView(ctx) {\n        var width2: Int = -1\n        var height2: Int = -1\n        lateinit var binding: WidgSwipeMiddleBinding\n\n        init {\n            alpha = 0.8f\n            binding = WidgSwipeMiddleBinding.inflate(layoutInflater)\n            binding.root.viewTreeObserver.addOnGlobalLayoutListener(object :\n                ViewTreeObserver.OnGlobalLayoutListener {\n                override fun onGlobalLayout() {\n                    // Убираем слушателя, чтобы избежать лишних вызовов\n                    //binding.root.viewTreeObserver.removeOnGlobalLayoutListener(this)\n                    width2 = binding.root.width\n                    height2 = binding.root.height\n                    // Выводим значения в консоль\n                    L.i(\n                        &quot;widgetView.x=&quot; + binding.root.x + &quot;widgetView.y=&quot; + binding.root.y +\n                                &quot;widgetView.top=&quot; + binding.root.top + &quot;widgetView.left=&quot; + binding.root.left +\n                                &quot;widgetView.trX=&quot; + binding.root.translationX + &quot;widgetView.trY=&quot; + binding.root.translationY +\n                                &quot;widgWidth=&quot; + binding.root.width + &quot;widthL=&quot; + binding.root.layoutParams.width +\n                                &quot;ppp=&quot; + binding.root.top\n                    )\n                    lstInitMedium[1] = true\n                    endInitMiddleWidgView()\n                    //widgMiddleView.showWidget()\n                }\n            })\n        }\n\n       /* fun changeRectCoords(left: Int, top: Int, right: Int, bottom: Int) {\n            // if(scenarioClick!!.posX2 != null &amp;&amp; scenarioClick!!.posY2 != null)\n            binding.rootWidg.drawLine(left, top, right, bottom)\n        }*/\n\n        fun showWidget() {\n\n            //changeRectCoords(scenarioClick!!.posX, scenarioClick!!.posY, scenarioClick!!.posX2!!, scenarioClick!!.posY2!!)\n            widgetWindowManager.addView(binding.root, paramsMiddleWidg)\n        }\n    }\n\n\n}\n</code></pre>\n<p>RectangleView</p>\n<pre><code>public class RectangleView extends View {\n\n    private Rect rect = new Rect();\n    private final Paint mPaint = new Paint();\n\n    public RectangleView(Context context) {\n        super(context);\n        init();\n    }\n\n    public RectangleView(Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n        init();\n    }\n\n    public RectangleView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init();\n    }\n\n    private void init() {\n        int color = Color.parseColor(&quot;#0CFFE5&quot;);\n        mPaint.setColor(color);\n        mPaint.setStrokeWidth(20);\n        mPaint.setStyle(Paint.Style.FILL_AND_STROKE);\n        mPaint.setAntiAlias(true);\n        setWillNotDraw(false);\n    }\n\n    @Override\n    protected void onSizeChanged(int width, int height, int oldWidth, int oldHeight) {\n        super.onSizeChanged(width, height, oldWidth, oldHeight);\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        if(rect != null) {\n            canvas.drawLine(rect.left, rect.top, rect.right, rect.bottom, mPaint);\n        }\n    }\n\n    public void drawLine2(int left, int top, int right, int bottom) {\n        rect.set(left, top, right, bottom);\n        postInvalidate();\n    }\n\n}\n</code></pre>\n<p>layout of middle widget</p>\n<pre><code>&lt;net.mautoclicker.ui.views.RectangleView\n        android:id=&quot;@+id/rootWidg&quot;\n        android:layout_width=&quot;30dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:alpha=&quot;0.8&quot;/&gt;\n</code></pre>\n<p>I would like the problem to be solved</p>\n"},{"tags":["java","spring","classpath"],"answers":[{"comments":[{"owner":{"account_id":2812,"reputation":13739,"user_id":3973,"accept_rate":67,"display_name":"Binil Thomas"},"score":5,"creation_date":1272993527,"post_id":2767097,"comment_id":2800095,"body_markdown":"org.springframework.core.io.support.PathMatchingResourcePatternResolver.java seems to be the class doing the work. I cannot use Spring in my application, though. :(","body":"org.springframework.core.io.support.PathMatchingResourcePatt&zwnj;&#8203;ernResolver.java seems to be the class doing the work. I cannot use Spring in my application, though. :("}],"tags":[],"owner":{"account_id":19015,"reputation":16929,"user_id":44124,"accept_rate":84,"display_name":"Kannan Ekanath"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1272990579,"creation_date":1272990579,"answer_id":2767097,"question_id":2766933,"body_markdown":"Spring supports ant-style class path resource matching.\r\n\r\nhttp://static.springsource.org/spring/docs/2.5.x/reference/resources.html\r\n\r\nExamples like : `classpath:com/mycompany/**/applicationContext.xml, /WEB-INF/*-context.xml`\r\n\r\nSee if you can use spring for your project. If it is not possible then you can always pull down the source code to see what they are doing, and do that yourself :)","title":"Finding all CLASSPATH resources matching a pattern","body":"<p>Spring supports ant-style class path resource matching.</p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/2.5.x/reference/resources.html\" rel=\"noreferrer\">http://static.springsource.org/spring/docs/2.5.x/reference/resources.html</a></p>\n\n<p>Examples like : <code>classpath:com/mycompany/**/applicationContext.xml, /WEB-INF/*-context.xml</code></p>\n\n<p>See if you can use spring for your project. If it is not possible then you can always pull down the source code to see what they are doing, and do that yourself :)</p>\n"},{"tags":[],"owner":{"account_id":2789278,"reputation":232,"user_id":2399852,"display_name":"Serhat"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1369000557,"creation_date":1369000557,"answer_id":16639869,"question_id":2766933,"body_markdown":"You can try corn-cps\r\n\r\n     List&lt;URL&gt; resources = CPScanner.scanResources(new PackageNameFilter(&quot;net.sf.corn.cps.*&quot;), new ResourceNameFilter(&quot;*.xml&quot;));\r\n\r\n \r\n Use the dependecy below in your pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sf.corn&lt;/groupId&gt;\r\n        &lt;artifactId&gt;corn-cps&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Finding all CLASSPATH resources matching a pattern","body":"<p>You can try corn-cps</p>\n\n<pre><code> List&lt;URL&gt; resources = CPScanner.scanResources(new PackageNameFilter(\"net.sf.corn.cps.*\"), new ResourceNameFilter(\"*.xml\"));\n</code></pre>\n\n<p>Use the dependecy below in your pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.corn&lt;/groupId&gt;\n    &lt;artifactId&gt;corn-cps&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1920731,"reputation":686,"user_id":1732319,"accept_rate":67,"display_name":"Martin Cassidy"},"score":2,"creation_date":1428686359,"post_id":23074855,"comment_id":47283846,"body_markdown":"Perfect. Just what I needed.","body":"Perfect. Just what I needed."}],"tags":[],"owner":{"account_id":3867856,"reputation":451,"user_id":3203943,"display_name":"whitestryder"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1397537095,"creation_date":1397537095,"answer_id":23074855,"question_id":2766933,"body_markdown":"Comment from &quot;Binil Thomas&quot; was on the right track, I was looking for confirmation that Spring&#39;s PathMatchingResourcePatternResolver could be used from Java Config so that I could give the resulting &quot;Resource&quot; list to the Spring Hibernate SessionFactory.mappingLocations without having to update the list of Hibernate *.hbm.xml files every time a new mapping file was added.  I was able to achieve this with the PathMatchingResourcePatternResolver using the below code:\r\n\r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.core.io.support.PathMatchingResourcePatternResolver;\r\n    import org.springframework.core.io.support.ResourcePatternResolver;\r\n    import org.springframework.orm.hibernate4.LocalSessionFactoryBean;\r\n    ...\r\n    ResourcePatternResolver patternResolver = new PathMatchingResourcePatternResolver();   \r\n    Resource [] mappingLocations = patternResolver.getResources(&quot;classpath*:mappings/**/*.hbm.xml&quot;);\r\n    sessionFactory.setMappingLocations(mappingLocations);\r\n\r\nWorks like a charm.","title":"Finding all CLASSPATH resources matching a pattern","body":"<p>Comment from \"Binil Thomas\" was on the right track, I was looking for confirmation that Spring's PathMatchingResourcePatternResolver could be used from Java Config so that I could give the resulting \"Resource\" list to the Spring Hibernate SessionFactory.mappingLocations without having to update the list of Hibernate *.hbm.xml files every time a new mapping file was added.  I was able to achieve this with the PathMatchingResourcePatternResolver using the below code:</p>\n\n<pre><code>import org.hibernate.SessionFactory;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.support.PathMatchingResourcePatternResolver;\nimport org.springframework.core.io.support.ResourcePatternResolver;\nimport org.springframework.orm.hibernate4.LocalSessionFactoryBean;\n...\nResourcePatternResolver patternResolver = new PathMatchingResourcePatternResolver();   \nResource [] mappingLocations = patternResolver.getResources(\"classpath*:mappings/**/*.hbm.xml\");\nsessionFactory.setMappingLocations(mappingLocations);\n</code></pre>\n\n<p>Works like a charm.</p>\n"},{"comments":[{"owner":{"account_id":28705,"reputation":2619,"user_id":76924,"accept_rate":74,"display_name":"gbegley"},"score":0,"creation_date":1470151949,"post_id":32969661,"comment_id":64825437,"body_markdown":"I&#39;ve needed this three of four time in the past year, and this is by far the best solution I&#39;ve come across. OP nixed spring, but this trick sure makes it easy to get patterns of resources from the classpath, and works great for my situation.","body":"I&#39;ve needed this three of four time in the past year, and this is by far the best solution I&#39;ve come across. OP nixed spring, but this trick sure makes it easy to get patterns of resources from the classpath, and works great for my situation."},{"owner":{"account_id":1720411,"reputation":1802,"user_id":1576467,"accept_rate":62,"display_name":"GameSalutes"},"score":0,"creation_date":1592715815,"post_id":32969661,"comment_id":110521114,"body_markdown":"When I do this with List&lt;Resource&gt; in Spring 5, I get for example, `java.io.FileNotFoundException: class path resource [folder/*.xml] cannot be opened because it does not exist`. @whitestryder &#39;s solution below did however work.","body":"When I do this with List&lt;Resource&gt; in Spring 5, I get for example, <code>java.io.FileNotFoundException: class path resource [folder&#47;*.xml] cannot be opened because it does not exist</code>. @whitestryder &#39;s solution below did however work."}],"tags":[],"owner":{"account_id":6745630,"reputation":171,"user_id":5197313,"display_name":"Igor"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1444133546,"creation_date":1444133546,"answer_id":32969661,"question_id":2766933,"body_markdown":"Just use:\r\n\r\n    @Value(&quot;classpath:folder/*.xml&quot;)\r\n    Resource[] resources;","title":"Finding all CLASSPATH resources matching a pattern","body":"<p>Just use:</p>\n\n<pre><code>@Value(\"classpath:folder/*.xml\")\nResource[] resources;\n</code></pre>\n"}],"owner":{"account_id":2812,"reputation":13739,"user_id":3973,"accept_rate":67,"display_name":"Binil Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21512,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":2767097,"answer_count":4,"score":16,"last_activity_date":1695023599,"creation_date":1272989185,"question_id":2766933,"body_markdown":"I want to read a bunch of text files, by loading them as resources using the context classloader.\r\n\r\n    URL url = Thread.currentThread()\r\n                    .getContextClassLoader()\r\n                    .getResource(&quot;folder/foo.txt&quot;);\r\n\r\nIs there some way to get a list of resources whose names match a given pattern? For eg:\r\n   \r\n    URL[] matchingUrls = someLibrary.getMatchingResources(&quot;folder/*.txt&quot;);\r\n\r\nLibraries like Spring can scan the classpath to find classes with a given annotation, so I am wondering if there something similar to load a bunch of resources.","title":"Finding all CLASSPATH resources matching a pattern","body":"<p>I want to read a bunch of text files, by loading them as resources using the context classloader.</p>\n\n<pre><code>URL url = Thread.currentThread()\n                .getContextClassLoader()\n                .getResource(\"folder/foo.txt\");\n</code></pre>\n\n<p>Is there some way to get a list of resources whose names match a given pattern? For eg:</p>\n\n<pre><code>URL[] matchingUrls = someLibrary.getMatchingResources(\"folder/*.txt\");\n</code></pre>\n\n<p>Libraries like Spring can scan the classpath to find classes with a given annotation, so I am wondering if there something similar to load a bunch of resources.</p>\n"},{"tags":["java","spring-boot","swagger","openapi"],"comments":[{"owner":{"account_id":40784,"reputation":7745,"user_id":118268,"accept_rate":84,"display_name":"KevinS"},"score":0,"creation_date":1684970273,"post_id":76327460,"comment_id":134597000,"body_markdown":"Could you try removing the springfox dependency? You only need the sprindoc dependency and I think that springfox is probably pulling in a different version of the io.swagger dependency than the one springdoc needs.","body":"Could you try removing the springfox dependency? You only need the sprindoc dependency and I think that springfox is probably pulling in a different version of the io.swagger dependency than the one springdoc needs."},{"owner":{"account_id":28673800,"reputation":11,"user_id":21956276,"display_name":"Martin DiCe"},"score":0,"creation_date":1684972996,"post_id":76327460,"comment_id":134597282,"body_markdown":"If I remove springfox dependency,I get other error: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.NoSuchMethodError: &#39;boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()&#39;] with root cause\n\njava.lang.NoSuchMethodError: &#39;boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()&#39;\n\tat io.swagger.v3.core.jackson.SchemaSerializer.serialize(SchemaSerializer.java:35) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]","body":"If I remove springfox dependency,I get other error: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.NoSuchMethodError: &#39;boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()&#39;] with root cause  java.lang.NoSuchMethodError: &#39;boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()&#39; \tat io.swagger.v3.core.jackson.SchemaSerializer.serialize(Schema&zwnj;&#8203;Serializer.java:35) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]"},{"owner":{"account_id":28673800,"reputation":11,"user_id":21956276,"display_name":"Martin DiCe"},"score":0,"creation_date":1684973387,"post_id":76327460,"comment_id":134597330,"body_markdown":"I solved it, when I deleted springfox swagger started dependency 3.0 and agree             &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n                &lt;version&gt;2.9.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n                &lt;version&gt;2.9.2&lt;/version&gt;\n            &lt;/dependency&gt; // I think that openApi 2.0.3 is not compatible with swagger v3","body":"I solved it, when I deleted springfox swagger started dependency 3.0 and agree             &lt;dependency&gt;                 &lt;groupId&gt;io.springfox&lt;/groupId&gt;                 &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;                 &lt;version&gt;2.9.2&lt;/version&gt;             &lt;/dependency&gt;             &lt;dependency&gt;                 &lt;groupId&gt;io.springfox&lt;/groupId&gt;                 &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;                 &lt;version&gt;2.9.2&lt;/version&gt;             &lt;/dependency&gt; // I think that openApi 2.0.3 is not compatible with swagger v3"}],"owner":{"account_id":28673800,"reputation":11,"user_id":21956276,"display_name":"Martin DiCe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1686,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695023327,"creation_date":1684963106,"question_id":76327460,"body_markdown":"I am having a error in SpringBoot v 3.0.6 with swagger v3.0.0.\r\n\r\nhttp://localhost:8007/doc/swagger-ui/index.html\r\nError URL:\r\n\r\nFailed to load API definition.\r\nErrors\r\nHide\r\n \r\nFetch error\r\nresponse status is 500 /v3/api-docs\r\n \r\nLog:\r\n\r\n```none\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.NoSuchMethodError: &#39;boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()&#39;] with root cause\r\n\r\njava.lang.NoSuchMethodError: &#39;boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()&#39;\r\n\tat io.swagger.v3.core.jackson.SchemaSerializer.serialize(SchemaSerializer.java:35) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n\tat io.swagger.v3.core.jackson.SchemaSerializer.serialize(SchemaSerializer.java:13) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1572) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter._writeValueAndClose(ObjectWriter.java:1273) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter.writeValueAsString(ObjectWriter.java:1140) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat io.swagger.v3.core.util.Json.pretty(Json.java:24) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n\tat io.swagger.v3.core.jackson.ModelResolver.clone(ModelResolver.java:937) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n\tat io.swagger.v3.core.jackson.ModelResolver.resolve(ModelResolver.java:656) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n\tat org.springdoc.core.converters.AdditionalModelsConverter.resolve(AdditionalModelsConverter.java:155) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.converters.FileSupportConverter.resolve(FileSupportConverter.java:69) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.converters.ResponseSupportConverter.resolve(ResponseSupportConverter.java:79) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.converters.SchemaPropertyDeprecatingConverter.resolve(SchemaPropertyDeprecatingConverter.java:92) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.converters.PolymorphicModelConverter.resolve(PolymorphicModelConverter.java:77) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.converters.PageableOpenAPIConverter.resolve(PageableOpenAPIConverter.java:93) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.converters.SortOpenAPIConverter.resolve(SortOpenAPIConverter.java:83) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat io.swagger.v3.core.converter.ModelConverterContextImpl.resolve(ModelConverterContextImpl.java:97) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n\tat io.swagger.v3.core.converter.ModelConverters.resolveAsResolvedSchema(ModelConverters.java:110) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n\tat org.springdoc.core.utils.SpringDocAnnotationsUtils.extractSchema(SpringDocAnnotationsUtils.java:122) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.service.GenericParameterService.calculateSchema(GenericParameterService.java:373) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.service.RequestBodyService.buildRequestBody(RequestBodyService.java:281) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.service.RequestBodyService.calculateRequestBodyInfo(RequestBodyService.java:257) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.service.AbstractRequestService.build(AbstractRequestService.java:343) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:472) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:652) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:334) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:111) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nMy pom.xml\r\n```\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.diceprojects&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ApiExportExcelToEmail&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ApiExportExcelToEmail&lt;/name&gt;\r\n    &lt;description&gt;ApiExportExcelToEmail&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n```\r\n\r\nMy Properties:\r\n```\r\nserver.port=8007\r\nspring.jpa.generate-ddl=true\r\nlogging.level.org.hibernate.SQL=debug\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\nspring.mvc.pathmatch.matching-strategy=ant-path-matcher\r\n\r\n# SpringDoc configurations\r\nspringdoc.api-docs.enabled=true\r\nspringdoc.swagger-ui.enabled=true\r\n\r\nspringdoc.swagger-ui.path=/doc/swagger-ui.html\r\n```\r\n\r\nAnd My controller:\r\n```\r\n\r\n@CrossOrigin(&quot;*&quot;)\r\n@RestController\r\n@RequestMapping(&quot;/export&quot;)\r\npublic class ReportController {\r\n\r\n        private final GetReportService service;\r\n        private final EmailService emailService;\r\n\r\n\r\n    public  ReportController(GetReportService service, EmailService emailService) {\r\n\r\n        this.service = service;\r\n        this.emailService = emailService;\r\n\r\n    }\r\n\r\n    //@RequestMapping(value = &quot;/getReport&quot;, method = RequestMethod.GET)\r\n    @GetMapping(&quot;/getReport&quot;)\r\n    public ResponseEntity&lt;List&lt;ReportDTO&gt;&gt; getReport(@RequestParam(&quot;date&quot;) RequestDataDTO requestData) {\r\n        ParamFecha date = requestData.getDate();\r\n        List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(date.getDate());\r\n        return ResponseEntity.ok().body(fileContent);\r\n    }\r\n\r\n    //@RequestMapping(value = &quot;/downloadCSV&quot;, method = RequestMethod.GET)\r\n    @GetMapping(&quot;/downloadCSV&quot;)\r\n    public ResponseEntity&lt;Resource&gt; downloadCSV(@RequestParam(&quot;date&quot;) RequestDataDTO requestData) throws IOException {\r\n        ParamFecha date = requestData.getDate();\r\n        List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(date.getDate());\r\n        Resource fileResource = service.createCSVFile(fileContent);\r\n\r\n        // Leer el contenido del archivo en un arreglo de bytes\r\n        byte[] fileBytes = IOUtils.toByteArray(fileResource.getInputStream());\r\n\r\n        // Crear un objeto ByteArrayResource con el contenido del archivo\r\n        ByteArrayResource resource = new ByteArrayResource(fileBytes);\r\n\r\n        // Crear el encabezado de la respuesta\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n        headers.setContentDispositionFormData(&quot;attachment&quot;, &quot;reporte.csv&quot;);\r\n\r\n        // Devolver el ResponseEntity con el archivo descargable\r\n        return ResponseEntity.ok()\r\n                .headers(headers)\r\n                .contentLength(fileBytes.length)\r\n                .body(resource);\r\n    }\r\n\r\n    //@RequestMapping(value = &quot;/downloadExcel&quot;, method = RequestMethod.GET)\r\n    @GetMapping(&quot;/downloadExcel&quot;)\r\n    public ResponseEntity&lt;Resource&gt; downloadExcel(@RequestParam(&quot;date&quot;) RequestDataDTO requestData) throws IOException {\r\n        ParamFecha date = requestData.getDate();\r\n        List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(date.getDate());\r\n        Resource fileResource = service.createExcelFile(fileContent);\r\n\r\n        // Leer el contenido del archivo en un arreglo de bytes\r\n        byte[] fileBytes = IOUtils.toByteArray(fileResource.getInputStream());\r\n\r\n        // Crear un objeto ByteArrayResource con el contenido del archivo\r\n        ByteArrayResource resource = new ByteArrayResource(fileBytes);\r\n\r\n        // Crear el encabezado de la respuesta\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n        headers.setContentDispositionFormData(&quot;attachment&quot;, &quot;reporte.xlsx&quot;);\r\n\r\n        // Devolver el ResponseEntity con el archivo descargable\r\n        return ResponseEntity.ok()\r\n                .headers(headers)\r\n                .contentLength(fileBytes.length)\r\n                .body(resource);\r\n    }\r\n\r\n    //@RequestMapping(value = &quot;/sendReportByEmail&quot;, method = RequestMethod.POST)\r\n    @PostMapping(&quot;/downloadExcel&quot;)\r\n    public ResponseEntity&lt;String&gt; sendReportByEmail(@RequestBody(required = true) SendReportRequest request) {\r\n\r\n        try {\r\n            // Verificar si falta alg&#250;n par&#225;metro obligatorio\r\n            if (request.getRecipientEmail() == null) {\r\n                return ResponseEntity.badRequest().body(&quot;Error: &#39;recipientEmail&#39; parameter is missing&quot;);\r\n            }\r\n            if (request.getSubject() == null) {\r\n                return ResponseEntity.badRequest().body(&quot;Error: &#39;subject&#39; parameter is missing&quot;);\r\n            }\r\n            if (request.getBody() == null) {\r\n                return ResponseEntity.badRequest().body(&quot;Error: &#39;body&#39; parameter is missing&quot;);\r\n            }\r\n            if (request.getDate() == null || request.getDate().getDate() == null) {\r\n                return ResponseEntity.badRequest().body(&quot;Error: &#39;date&#39; parameter is missing&quot;);\r\n            }\r\n\r\n            // Obtener el contenido del archivo Excel\r\n            List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(request.getDate().getDate());\r\n            Resource excelFile = service.createExcelFile(fileContent);\r\n\r\n            // Enviar el archivo Excel por correo electr&#243;nico\r\n            try {\r\n                emailService.sendEmail(request.getRecipientEmail(), request.getSubject(), request.getBody(), excelFile);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error sending report&quot;);\r\n            }\r\n\r\n            return ResponseEntity.ok().body(&quot;Report sent successfully&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error sending report&quot;);\r\n        }\r\n    }\r\n\r\n    //Validador de resultados\r\n    private ResponseEntity&lt;Map&lt;String,String&gt;&gt; validate(BindingResult result) {\r\n\r\n        if (result.hasErrors()){\r\n\r\n            Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n            result.getFieldErrors().forEach(err -&gt; errors.put(err.getField(), err.getDefaultMessage()));\r\n\r\n            return ResponseEntity.badRequest().body(errors);\r\n\r\n        }\r\n\r\n        return null;\r\n\r\n    }\r\n```\r\n\r\n------------------------------------------------------------------------\r\nBut, I can&#39;t find the error :( help me please!!\r\n\r\n\r\nI wanted to see my API documentation ;(","title":"Error with Swagger v3 and Spring boot v3: Failed to load API definition","body":"<p>I am having a error in SpringBoot v 3.0.6 with swagger v3.0.0.</p>\n<p>http://localhost:8007/doc/swagger-ui/index.html\nError URL:</p>\n<p>Failed to load API definition.\nErrors\nHide</p>\n<p>Fetch error\nresponse status is 500 /v3/api-docs</p>\n<p>Log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.NoSuchMethodError: 'boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()'] with root cause\n\njava.lang.NoSuchMethodError: 'boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()'\n    at io.swagger.v3.core.jackson.SchemaSerializer.serialize(SchemaSerializer.java:35) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n    at io.swagger.v3.core.jackson.SchemaSerializer.serialize(SchemaSerializer.java:13) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1572) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ObjectWriter._writeValueAndClose(ObjectWriter.java:1273) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValueAsString(ObjectWriter.java:1140) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at io.swagger.v3.core.util.Json.pretty(Json.java:24) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n    at io.swagger.v3.core.jackson.ModelResolver.clone(ModelResolver.java:937) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n    at io.swagger.v3.core.jackson.ModelResolver.resolve(ModelResolver.java:656) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n    at org.springdoc.core.converters.AdditionalModelsConverter.resolve(AdditionalModelsConverter.java:155) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.converters.FileSupportConverter.resolve(FileSupportConverter.java:69) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.converters.ResponseSupportConverter.resolve(ResponseSupportConverter.java:79) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.converters.SchemaPropertyDeprecatingConverter.resolve(SchemaPropertyDeprecatingConverter.java:92) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.converters.PolymorphicModelConverter.resolve(PolymorphicModelConverter.java:77) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.converters.PageableOpenAPIConverter.resolve(PageableOpenAPIConverter.java:93) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.converters.SortOpenAPIConverter.resolve(SortOpenAPIConverter.java:83) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at io.swagger.v3.core.converter.ModelConverterContextImpl.resolve(ModelConverterContextImpl.java:97) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n    at io.swagger.v3.core.converter.ModelConverters.resolveAsResolvedSchema(ModelConverters.java:110) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n    at org.springdoc.core.utils.SpringDocAnnotationsUtils.extractSchema(SpringDocAnnotationsUtils.java:122) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.service.GenericParameterService.calculateSchema(GenericParameterService.java:373) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.service.RequestBodyService.buildRequestBody(RequestBodyService.java:281) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.service.RequestBodyService.calculateRequestBodyInfo(RequestBodyService.java:257) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.service.AbstractRequestService.build(AbstractRequestService.java:343) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:472) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:652) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\n    at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\n    at org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\n    at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\n    at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\n    at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\n    at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:334) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\n    at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:111) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>My pom.xml</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.diceprojects&lt;/groupId&gt;\n    &lt;artifactId&gt;ApiExportExcelToEmail&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ApiExportExcelToEmail&lt;/name&gt;\n    &lt;description&gt;ApiExportExcelToEmail&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;7.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n                &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n        &lt;dependencyManagement&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                    &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                    &lt;type&gt;pom&lt;/type&gt;\n                    &lt;scope&gt;import&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/dependencyManagement&gt;\n</code></pre>\n<p>My Properties:</p>\n<pre><code>server.port=8007\nspring.jpa.generate-ddl=true\nlogging.level.org.hibernate.SQL=debug\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nspring.mvc.pathmatch.matching-strategy=ant-path-matcher\n\n# SpringDoc configurations\nspringdoc.api-docs.enabled=true\nspringdoc.swagger-ui.enabled=true\n\nspringdoc.swagger-ui.path=/doc/swagger-ui.html\n</code></pre>\n<p>And My controller:</p>\n<pre><code>\n@CrossOrigin(&quot;*&quot;)\n@RestController\n@RequestMapping(&quot;/export&quot;)\npublic class ReportController {\n\n        private final GetReportService service;\n        private final EmailService emailService;\n\n\n    public  ReportController(GetReportService service, EmailService emailService) {\n\n        this.service = service;\n        this.emailService = emailService;\n\n    }\n\n    //@RequestMapping(value = &quot;/getReport&quot;, method = RequestMethod.GET)\n    @GetMapping(&quot;/getReport&quot;)\n    public ResponseEntity&lt;List&lt;ReportDTO&gt;&gt; getReport(@RequestParam(&quot;date&quot;) RequestDataDTO requestData) {\n        ParamFecha date = requestData.getDate();\n        List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(date.getDate());\n        return ResponseEntity.ok().body(fileContent);\n    }\n\n    //@RequestMapping(value = &quot;/downloadCSV&quot;, method = RequestMethod.GET)\n    @GetMapping(&quot;/downloadCSV&quot;)\n    public ResponseEntity&lt;Resource&gt; downloadCSV(@RequestParam(&quot;date&quot;) RequestDataDTO requestData) throws IOException {\n        ParamFecha date = requestData.getDate();\n        List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(date.getDate());\n        Resource fileResource = service.createCSVFile(fileContent);\n\n        // Leer el contenido del archivo en un arreglo de bytes\n        byte[] fileBytes = IOUtils.toByteArray(fileResource.getInputStream());\n\n        // Crear un objeto ByteArrayResource con el contenido del archivo\n        ByteArrayResource resource = new ByteArrayResource(fileBytes);\n\n        // Crear el encabezado de la respuesta\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n        headers.setContentDispositionFormData(&quot;attachment&quot;, &quot;reporte.csv&quot;);\n\n        // Devolver el ResponseEntity con el archivo descargable\n        return ResponseEntity.ok()\n                .headers(headers)\n                .contentLength(fileBytes.length)\n                .body(resource);\n    }\n\n    //@RequestMapping(value = &quot;/downloadExcel&quot;, method = RequestMethod.GET)\n    @GetMapping(&quot;/downloadExcel&quot;)\n    public ResponseEntity&lt;Resource&gt; downloadExcel(@RequestParam(&quot;date&quot;) RequestDataDTO requestData) throws IOException {\n        ParamFecha date = requestData.getDate();\n        List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(date.getDate());\n        Resource fileResource = service.createExcelFile(fileContent);\n\n        // Leer el contenido del archivo en un arreglo de bytes\n        byte[] fileBytes = IOUtils.toByteArray(fileResource.getInputStream());\n\n        // Crear un objeto ByteArrayResource con el contenido del archivo\n        ByteArrayResource resource = new ByteArrayResource(fileBytes);\n\n        // Crear el encabezado de la respuesta\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n        headers.setContentDispositionFormData(&quot;attachment&quot;, &quot;reporte.xlsx&quot;);\n\n        // Devolver el ResponseEntity con el archivo descargable\n        return ResponseEntity.ok()\n                .headers(headers)\n                .contentLength(fileBytes.length)\n                .body(resource);\n    }\n\n    //@RequestMapping(value = &quot;/sendReportByEmail&quot;, method = RequestMethod.POST)\n    @PostMapping(&quot;/downloadExcel&quot;)\n    public ResponseEntity&lt;String&gt; sendReportByEmail(@RequestBody(required = true) SendReportRequest request) {\n\n        try {\n            // Verificar si falta algún parámetro obligatorio\n            if (request.getRecipientEmail() == null) {\n                return ResponseEntity.badRequest().body(&quot;Error: 'recipientEmail' parameter is missing&quot;);\n            }\n            if (request.getSubject() == null) {\n                return ResponseEntity.badRequest().body(&quot;Error: 'subject' parameter is missing&quot;);\n            }\n            if (request.getBody() == null) {\n                return ResponseEntity.badRequest().body(&quot;Error: 'body' parameter is missing&quot;);\n            }\n            if (request.getDate() == null || request.getDate().getDate() == null) {\n                return ResponseEntity.badRequest().body(&quot;Error: 'date' parameter is missing&quot;);\n            }\n\n            // Obtener el contenido del archivo Excel\n            List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(request.getDate().getDate());\n            Resource excelFile = service.createExcelFile(fileContent);\n\n            // Enviar el archivo Excel por correo electrónico\n            try {\n                emailService.sendEmail(request.getRecipientEmail(), request.getSubject(), request.getBody(), excelFile);\n            } catch (Exception e) {\n                e.printStackTrace();\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error sending report&quot;);\n            }\n\n            return ResponseEntity.ok().body(&quot;Report sent successfully&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error sending report&quot;);\n        }\n    }\n\n    //Validador de resultados\n    private ResponseEntity&lt;Map&lt;String,String&gt;&gt; validate(BindingResult result) {\n\n        if (result.hasErrors()){\n\n            Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n            result.getFieldErrors().forEach(err -&gt; errors.put(err.getField(), err.getDefaultMessage()));\n\n            return ResponseEntity.badRequest().body(errors);\n\n        }\n\n        return null;\n\n    }\n</code></pre>\n<hr />\n<p>But, I can't find the error :( help me please!!</p>\n<p>I wanted to see my API documentation ;(</p>\n"},{"tags":["java","list","data-structures","collections","set"],"comments":[{"owner":{"account_id":4187,"reputation":53594,"user_id":6210,"accept_rate":50,"display_name":"MSN"},"score":1,"creation_date":1240256474,"post_id":769731,"comment_id":581275,"body_markdown":"Why would you get an element from a set by index? Are you trying to use a set as a sorted array?","body":"Why would you get an element from a set by index? Are you trying to use a set as a sorted array?"},{"owner":{"account_id":23524,"reputation":28912,"user_id":59015,"accept_rate":69,"display_name":"Marty Pitt"},"score":0,"creation_date":1240256935,"post_id":769731,"comment_id":581305,"body_markdown":"The particular instance here is a dbUnit test against a Set returned from a hibernate call.  In my test, it&#39;s reasonable to assume (because I assert it) that the object returned is in a specific order, because of my IDataSet I used to set it up.  It&#39;s a non-typical case, but lead to my curiousty about the API.","body":"The particular instance here is a dbUnit test against a Set returned from a hibernate call.  In my test, it&#39;s reasonable to assume (because I assert it) that the object returned is in a specific order, because of my IDataSet I used to set it up.  It&#39;s a non-typical case, but lead to my curiousty about the API."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":1,"creation_date":1240257354,"post_id":769731,"comment_id":581331,"body_markdown":"Adding things in a specific order doesn&#39;t mean they&#39;ll stay that way, unless you&#39;re using a custom Set implementation.","body":"Adding things in a specific order doesn&#39;t mean they&#39;ll stay that way, unless you&#39;re using a custom Set implementation."},{"owner":{"account_id":1079,"reputation":27949,"user_id":1432,"accept_rate":66,"display_name":"jsight"},"score":1,"creation_date":1240259147,"post_id":769731,"comment_id":581424,"body_markdown":"&quot;If I know I want the first item, I can use set.iterator().next()&quot; - This line doesn&#39;t actually make sense.  You are really saying &quot;If I know I want the first item, by the implementation&#39;s definition of the first item, then I can...&quot;.  Set itself is unordered, so indexed access doesn&#39;t make sense.  Now if there were an ArrayListSet, that would make more sense (just cast to &quot;List&quot; and be happy).  Perhaps you could give more context for the question?","body":"&quot;If I know I want the first item, I can use set.iterator().next()&quot; - This line doesn&#39;t actually make sense.  You are really saying &quot;If I know I want the first item, by the implementation&#39;s definition of the first item, then I can...&quot;.  Set itself is unordered, so indexed access doesn&#39;t make sense.  Now if there were an ArrayListSet, that would make more sense (just cast to &quot;List&quot; and be happy).  Perhaps you could give more context for the question?"},{"owner":{"account_id":9662,"reputation":8462,"user_id":17945,"accept_rate":36,"display_name":"reinierpost"},"score":0,"creation_date":1422896481,"post_id":769731,"comment_id":44919869,"body_markdown":"Set isn&#39;t unordered! Certain implementations of it are, but some implementations are explicitly ordered in a particular way.","body":"Set isn&#39;t unordered! Certain implementations of it are, but some implementations are explicitly ordered in a particular way."}],"answers":[{"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1240255674,"post_id":769732,"comment_id":581209,"body_markdown":"I&#39;d revise that last comment to &quot;you should use a list instead&quot;","body":"I&#39;d revise that last comment to &quot;you should use a list instead&quot;"},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":11,"creation_date":1240255707,"post_id":769732,"comment_id":581212,"body_markdown":"@matt b: No, I think he should consider it. Thinking is good. ;)","body":"@matt b: No, I think he should consider it. Thinking is good. ;)"},{"owner":{"account_id":19945,"reputation":6738,"user_id":47181,"display_name":"kenj0418"},"score":22,"creation_date":1240258809,"post_id":769732,"comment_id":581405,"body_markdown":"&quot;Consider&quot; is the correct phrasing.  There are two possible problems (a) He is using a set when he should be using something else, or (b) He is trying to do things with Sets that they don&#39;t support but that he could do a different way.   It is good to *consider* which of these is the case.","body":"&quot;Consider&quot; is the correct phrasing.  There are two possible problems (a) He is using a set when he should be using something else, or (b) He is trying to do things with Sets that they don&#39;t support but that he could do a different way.   It is good to <i>consider</i> which of these is the case."},{"owner":{"account_id":281184,"reputation":21762,"user_id":577334,"accept_rate":50,"display_name":"billygoat"},"score":6,"creation_date":1295430644,"post_id":769732,"comment_id":5231219,"body_markdown":"May be the simpler answer is to use a sorted set. ( I assume uniqueness played a part while choosing set). But I have a question tho, since SortedSet is ordered, why is that there is no get method in the api.","body":"May be the simpler answer is to use a sorted set. ( I assume uniqueness played a part while choosing set). But I have a question tho, since SortedSet is ordered, why is that there is no get method in the api."},{"owner":{"account_id":22376,"reputation":33015,"user_id":55094,"accept_rate":85,"display_name":"Elazar Leibovich"},"score":1,"creation_date":1315139378,"post_id":769732,"comment_id":8794253,"body_markdown":"@Michael, it&#39;s a bad reason. He don&#39;t want the first element from the set, he wants an arbitrary element from the set. It has nothing to do with the order of the set.","body":"@Michael, it&#39;s a bad reason. He don&#39;t want the first element from the set, he wants an arbitrary element from the set. It has nothing to do with the order of the set."},{"owner":{"account_id":347740,"reputation":435,"user_id":682051,"display_name":"Jay"},"score":0,"creation_date":1328892423,"post_id":769732,"comment_id":11625951,"body_markdown":"The problem with this answer is that it misses the underlying question. There are situations where you are building up a (for wont of a better term) bag of values and (a) want to only have unique values and (b) there is a semantic difference between the bag winding up with a single entry vs multiple entries. So you can check for the &#39;single entry&#39; condition but now you have to use an iterator or some other construct to get at the (now known to be) unique entry.","body":"The problem with this answer is that it misses the underlying question. There are situations where you are building up a (for wont of a better term) bag of values and (a) want to only have unique values and (b) there is a semantic difference between the bag winding up with a single entry vs multiple entries. So you can check for the &#39;single entry&#39; condition but now you have to use an iterator or some other construct to get at the (now known to be) unique entry."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1328893282,"post_id":769732,"comment_id":11626336,"body_markdown":"@Jay: That&#39;s right, and for that case you can use a SortedSet as Jonik suggested.","body":"@Jay: That&#39;s right, and for that case you can use a SortedSet as Jonik suggested."},{"owner":{"account_id":76076,"reputation":21604,"user_id":218028,"accept_rate":84,"display_name":"Dave"},"score":0,"creation_date":1343954524,"post_id":769732,"comment_id":15659714,"body_markdown":"There are three &quot;popular&quot; implementations of Set in Java: 1) HashSet, 2) TreeSet, and 3) LinkedHashSet.  Two of the three providing ordering capability, so I would say that ordering is a general property of sets.","body":"There are three &quot;popular&quot; implementations of Set in Java: 1) HashSet, 2) TreeSet, and 3) LinkedHashSet.  Two of the three providing ordering capability, so I would say that ordering is a general property of sets."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":6,"creation_date":1344140953,"post_id":769732,"comment_id":15702372,"body_markdown":"@HDave: No, the fact that multiple implementations of a data structure share a property does not make it a property of the data structure itself. Two of the three commonly used implementations of List (ArrayList and Vector) are random-access, but that does not make random access a property of Lists.","body":"@HDave: No, the fact that multiple implementations of a data structure share a property does not make it a property of the data structure itself. Two of the three commonly used implementations of List (ArrayList and Vector) are random-access, but that does not make random access a property of Lists."},{"owner":{"account_id":280794,"reputation":2726,"user_id":576699,"accept_rate":66,"display_name":"Mr Baloon"},"score":1,"creation_date":1387181986,"post_id":769732,"comment_id":30834450,"body_markdown":"I&#39;m in a situation where I use a `Set` because I want no duplicate elements in my collection. For this I cannot use a `List`. I still need to get &quot;any&quot; element out of this `Set`, in order to sample from it. Is the best option for me to simply copy all the `Set` elements over to a `List` before I use it?","body":"I&#39;m in a situation where I use a <code>Set</code> because I want no duplicate elements in my collection. For this I cannot use a <code>List</code>. I still need to get &quot;any&quot; element out of this <code>Set</code>, in order to sample from it. Is the best option for me to simply copy all the <code>Set</code> elements over to a <code>List</code> before I use it?"},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1387467550,"post_id":769732,"comment_id":30977421,"body_markdown":"@Roger: Yes, your options (if you don&#39;t want to iterate through the whole array each time) basically are converting to a List and converting to an array. If you want a single random element, then [this answer](http://stackoverflow.com/a/124693/13531) is better.","body":"@Roger: Yes, your options (if you don&#39;t want to iterate through the whole array each time) basically are converting to a List and converting to an array. If you want a single random element, then <a href=\"http://stackoverflow.com/a/124693/13531\">this answer</a> is better."},{"owner":{"account_id":2279339,"reputation":5596,"user_id":2004857,"accept_rate":43,"display_name":"Victor Basso"},"score":1,"creation_date":1395584195,"post_id":769732,"comment_id":34394693,"body_markdown":"&quot;you should consider using a list instead.&quot;\nNot that simple if I need something without duplicates.","body":"&quot;you should consider using a list instead.&quot; Not that simple if I need something without duplicates."},{"owner":{"account_id":1127449,"reputation":3696,"user_id":1114357,"accept_rate":50,"display_name":"Sarp Kaya"},"score":1,"creation_date":1436363528,"post_id":769732,"comment_id":50580138,"body_markdown":"I am so sorry but which implementation provides that? All I can see is `TreeSet` and `ConcurrentSkipListSet`; both of which doesn&#39;t have any `get` method.","body":"I am so sorry but which implementation provides that? All I can see is <code>TreeSet</code> and <code>ConcurrentSkipListSet</code>; both of which doesn&#39;t have any <code>get</code> method."},{"owner":{"account_id":1044891,"reputation":2477,"user_id":1050112,"accept_rate":55,"display_name":"MushyPeas"},"score":0,"creation_date":1455874598,"post_id":769732,"comment_id":58694970,"body_markdown":"why you required an order for an index-based access. This answer is no answer at all. E.g. Maps always return sets for their keySet and entrySet and still there is no explicit reason not to be able to access those by index.","body":"why you required an order for an index-based access. This answer is no answer at all. E.g. Maps always return sets for their keySet and entrySet and still there is no explicit reason not to be able to access those by index."},{"owner":{"account_id":51513,"reputation":1175,"user_id":153940,"accept_rate":58,"display_name":"Kumar Manish"},"score":0,"creation_date":1491324397,"post_id":769732,"comment_id":73497894,"body_markdown":"You are talking about get(index) by index. What about a get(Object) by equality?","body":"You are talking about get(index) by index. What about a get(Object) by equality?"},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1491328539,"post_id":769732,"comment_id":73500279,"body_markdown":"@KumarManish: I assume you&#39;re talking about objects whose .equals() method may return true even if the objects are not identical in every way (otherwise Set.contains() is all that you need). In that case, you may consider using a HashMap instead.","body":"@KumarManish: I assume you&#39;re talking about objects whose .equals() method may return true even if the objects are not identical in every way (otherwise Set.contains() is all that you need). In that case, you may consider using a HashMap instead."},{"owner":{"account_id":8254104,"reputation":314,"user_id":6207773,"accept_rate":0,"display_name":"Lucke"},"score":0,"creation_date":1560941845,"post_id":769732,"comment_id":99899955,"body_markdown":"&quot;Because sets have no ordering&quot; that does not respond to the question... Set avoid of duplicated so why it have to be not ordered ?","body":"&quot;Because sets have no ordering&quot; that does not respond to the question... Set avoid of duplicated so why it have to be not ordered ?"}],"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":17,"down_vote_count":2,"up_vote_count":186,"is_accepted":true,"score":184,"last_activity_date":1344141205,"creation_date":1240255233,"answer_id":769732,"question_id":769731,"body_markdown":"Because sets have no ordering. Some implementations do (particularly those implementing the `java.util.SortedSet` interface), but that is not a general property of sets.\r\n\r\nIf you&#39;re trying to use sets this way, you should consider using a list instead.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>Because sets have no ordering. Some implementations do (particularly those implementing the <code>java.util.SortedSet</code> interface), but that is not a general property of sets.</p>\n\n<p>If you're trying to use sets this way, you should consider using a list instead.</p>\n"},{"tags":[],"owner":{"account_id":1079,"reputation":27949,"user_id":1432,"accept_rate":66,"display_name":"jsight"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1240255343,"creation_date":1240255343,"answer_id":769744,"question_id":769731,"body_markdown":"That is because Set only guarantees uniqueness, but says nothing about the optimal access or usage patterns.  Ie, a Set can be a List or a Map, each of which have very different retrieval characteristics.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>That is because Set only guarantees uniqueness, but says nothing about the optimal access or usage patterns.  Ie, a Set can be a List or a Map, each of which have very different retrieval characteristics.</p>\n"},{"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1240256134,"post_id":769780,"comment_id":581247,"body_markdown":"I like LinkedHashSet myself. But yes, this is good to mention. +1","body":"I like LinkedHashSet myself. But yes, this is good to mention. +1"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1240258050,"post_id":769780,"comment_id":581376,"body_markdown":"Thanks, I tweaked the answer a little. (Seems I had some aspects of TreeSet confused with those of LinkedHashSet.)","body":"Thanks, I tweaked the answer a little. (Seems I had some aspects of TreeSet confused with those of LinkedHashSet.)"}],"tags":[],"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1352000344,"creation_date":1240255906,"answer_id":769780,"question_id":769731,"body_markdown":"Just adding one point that was not mentioned in [mmyers&#39; answer][1].\r\n\r\n&gt; If I know I want the first item, I can\r\n&gt; use set.iterator().next(), but\r\n&gt; otherwise it seems I have to cast to\r\n&gt; an Array to retrieve an item at a\r\n&gt; specific index?\r\n&gt; \r\n&gt; What are the appropriate ways of\r\n&gt; retrieving data from a set? (other\r\n&gt; than using an iterator)\r\n\r\nYou should also familiarise yourself with the [`SortedSet`][2] interface (whose most common implementation is [`TreeSet`][3]). \r\n\r\nA SortedSet is a Set (i.e. elements are unique) that is kept ordered by the *natural ordering* of the elements or using some `Comparator`. You can easily access the first and last items using `first()` and `last()` methods. A `SortedSet` comes in handy every once in a while, when you need to keep your collection both duplicate-free and ordered in a certain way.\r\n\r\n**Edit**: If you need a Set whose elements are kept in insertion-order (much like a List), take a look at [`LinkedHashSet`][4].\r\n\r\n  [1]: https://stackoverflow.com/questions/769731/why-doesnt-java-utils-set-have-getint-index/769732#769732\r\n  [2]: http://java.sun.com/javase/7/docs/api/java/util/SortedSet.html\r\n  [3]: http://java.sun.com/javase/7/docs/api/java/util/TreeSet.html\r\n  [4]: http://java.sun.com/javase/7/docs/api/java/util/LinkedHashSet.html","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>Just adding one point that was not mentioned in <a href=\"https://stackoverflow.com/questions/769731/why-doesnt-java-utils-set-have-getint-index/769732#769732\">mmyers' answer</a>.</p>\n\n<blockquote>\n  <p>If I know I want the first item, I can\n  use set.iterator().next(), but\n  otherwise it seems I have to cast to\n  an Array to retrieve an item at a\n  specific index?</p>\n  \n  <p>What are the appropriate ways of\n  retrieving data from a set? (other\n  than using an iterator)</p>\n</blockquote>\n\n<p>You should also familiarise yourself with the <a href=\"http://java.sun.com/javase/7/docs/api/java/util/SortedSet.html\" rel=\"nofollow noreferrer\"><code>SortedSet</code></a> interface (whose most common implementation is <a href=\"http://java.sun.com/javase/7/docs/api/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a>). </p>\n\n<p>A SortedSet is a Set (i.e. elements are unique) that is kept ordered by the <em>natural ordering</em> of the elements or using some <code>Comparator</code>. You can easily access the first and last items using <code>first()</code> and <code>last()</code> methods. A <code>SortedSet</code> comes in handy every once in a while, when you need to keep your collection both duplicate-free and ordered in a certain way.</p>\n\n<p><strong>Edit</strong>: If you need a Set whose elements are kept in insertion-order (much like a List), take a look at <a href=\"http://java.sun.com/javase/7/docs/api/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\"><code>LinkedHashSet</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":33573,"reputation":8153,"user_id":94102,"accept_rate":68,"display_name":"Jeremy Salwen"},"score":0,"creation_date":1251235819,"post_id":769935,"comment_id":1165410,"body_markdown":"Not true, what about accessing a random element?","body":"Not true, what about accessing a random element?"},{"owner":{"account_id":744,"reputation":4034,"user_id":972,"accept_rate":62,"display_name":"Hugo"},"score":0,"creation_date":1251380965,"post_id":769935,"comment_id":1175990,"body_markdown":"Ha, ha. good point :) but that would be highly prone to misuse, i&#39;m sure.","body":"Ha, ha. good point :) but that would be highly prone to misuse, i&#39;m sure."}],"tags":[],"owner":{"account_id":744,"reputation":4034,"user_id":972,"accept_rate":62,"display_name":"Hugo"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1240259123,"creation_date":1240259123,"answer_id":769935,"question_id":769731,"body_markdown":"The only reason I can think of for using a numerical index in a set would be for iteration. For that, use \r\n\r\n    for(A a : set) { \r\n       visit(a); \r\n    }\r\n\r\n","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>The only reason I can think of for using a numerical index in a set would be for iteration. For that, use </p>\n\n<pre><code>for(A a : set) { \n   visit(a); \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26625,"reputation":3060,"user_id":69471,"display_name":"TMN"},"score":0,"creation_date":1240274180,"post_id":770163,"comment_id":582105,"body_markdown":"Heh, and of course the ordering usually changes right after the code goes into production, when it&#39;s too slow, so they add an index to speed up the query.  Now the code runs fast, but gives the wrong answers.  And nobody notices for three or four days...if you&#39;re lucky.  If you&#39;re not lucky, nobody notices for a month...","body":"Heh, and of course the ordering usually changes right after the code goes into production, when it&#39;s too slow, so they add an index to speed up the query.  Now the code runs fast, but gives the wrong answers.  And nobody notices for three or four days...if you&#39;re lucky.  If you&#39;re not lucky, nobody notices for a month..."},{"owner":{"account_id":22376,"reputation":33015,"user_id":55094,"accept_rate":85,"display_name":"Elazar Leibovich"},"score":0,"creation_date":1315139472,"post_id":770163,"comment_id":8794270,"body_markdown":"I don&#39;t think he missed that (maybe he was sloppy with the notation). He don&#39;t want the first element from the set, he wants an arbitrary element from the set. You can give him an arbitrary element since `Set` is `Iterable`.","body":"I don&#39;t think he missed that (maybe he was sloppy with the notation). He don&#39;t want the first element from the set, he wants an arbitrary element from the set. You can give him an arbitrary element since <code>Set</code> is <code>Iterable</code>."},{"owner":{"account_id":51513,"reputation":1175,"user_id":153940,"accept_rate":58,"display_name":"Kumar Manish"},"score":0,"creation_date":1491324336,"post_id":770163,"comment_id":73497857,"body_markdown":"You are talking about get(index) by index. What about a get(Object) by equality?","body":"You are talking about get(index) by index. What about a get(Object) by equality?"}],"tags":[],"owner":{"account_id":9733,"reputation":98826,"user_id":18103,"accept_rate":68,"display_name":"skiphoppy"},"comment_count":3,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1240262720,"creation_date":1240262720,"answer_id":770163,"question_id":769731,"body_markdown":"I&#39;m not sure if anybody has spelled it out exactly this way, but you need to understand the following:\r\n\r\n**There is no &quot;first&quot; element in a set.**\r\n\r\nBecause, as others have said, sets have no ordering.  A set is a mathematical concept that specifically does not include ordering.\r\n\r\nOf course, your computer can&#39;t really keep a list of stuff that&#39;s not ordered in memory.  It has to have some ordering.  Internally it&#39;s an array or a linked list or something.  But you don&#39;t really know what it is, and it doesn&#39;t really have a first element; the element that comes out &quot;first&quot; comes out that way by chance, and might not be first next time.  Even if you took steps to &quot;guarantee&quot; a particular first element, it&#39;s still coming out by chance, because you just happened to get it right for one particular implementation of a Set; a different implementation might not work that way with what you did.  And, in fact, you may not know the implementation you&#39;re using as well as you think you do.\r\n\r\nPeople run into this ALL. THE. TIME. with RDBMS systems and don&#39;t understand.  An RDBMS query returns a set of records.  This is the same type of set from mathematics: an unordered collection of items, only in this case the items are records.  An RDBMS query result has no guaranteed order at all unless you use the ORDER BY clause, but all the time people assume it does and then trip themselves up some day when the shape of their data or code changes slightly and triggers the query optimizer to work a different way and suddenly the results don&#39;t come out in the order they expect.  These are typically the people who didn&#39;t pay attention in database class (or when reading the documentation or tutorials) when it was explained to them, up front, that query results do not have a guaranteed ordering.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>I'm not sure if anybody has spelled it out exactly this way, but you need to understand the following:</p>\n\n<p><strong>There is no \"first\" element in a set.</strong></p>\n\n<p>Because, as others have said, sets have no ordering.  A set is a mathematical concept that specifically does not include ordering.</p>\n\n<p>Of course, your computer can't really keep a list of stuff that's not ordered in memory.  It has to have some ordering.  Internally it's an array or a linked list or something.  But you don't really know what it is, and it doesn't really have a first element; the element that comes out \"first\" comes out that way by chance, and might not be first next time.  Even if you took steps to \"guarantee\" a particular first element, it's still coming out by chance, because you just happened to get it right for one particular implementation of a Set; a different implementation might not work that way with what you did.  And, in fact, you may not know the implementation you're using as well as you think you do.</p>\n\n<p>People run into this ALL. THE. TIME. with RDBMS systems and don't understand.  An RDBMS query returns a set of records.  This is the same type of set from mathematics: an unordered collection of items, only in this case the items are records.  An RDBMS query result has no guaranteed order at all unless you use the ORDER BY clause, but all the time people assume it does and then trip themselves up some day when the shape of their data or code changes slightly and triggers the query optimizer to work a different way and suddenly the results don't come out in the order they expect.  These are typically the people who didn't pay attention in database class (or when reading the documentation or tutorials) when it was explained to them, up front, that query results do not have a guaranteed ordering.</p>\n"},{"comments":[{"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"score":2,"creation_date":1240903881,"post_id":771850,"comment_id":606869,"body_markdown":"if you are unspecific, accept Collection&lt;T&gt; or even Iterable&lt;T&gt; and initialize as a List.","body":"if you are unspecific, accept Collection&lt;T&gt; or even Iterable&lt;T&gt; and initialize as a List."},{"owner":{"account_id":124682,"reputation":30003,"user_id":319931,"accept_rate":75,"display_name":"Mechanical snail"},"score":0,"creation_date":1309966298,"post_id":771850,"comment_id":7786019,"body_markdown":"This would be a bag or multiset. But Java doesn&#39;t support those; they say you should just use Collection&lt;T&gt; directly.","body":"This would be a bag or multiset. But Java doesn&#39;t support those; they say you should just use Collection&lt;T&gt; directly."},{"owner":{"account_id":4751496,"reputation":2596,"user_id":3841420,"accept_rate":75,"display_name":"Andrew G"},"score":1,"creation_date":1434020456,"post_id":771850,"comment_id":49607881,"body_markdown":"4. you need non-unique data, and don&#39;t care about order. You CANNOT use a set. A List, Bag or Multiset will work.","body":"4. you need non-unique data, and don&#39;t care about order. You CANNOT use a set. A List, Bag or Multiset will work."},{"owner":{"account_id":20847162,"reputation":894,"user_id":15312420,"display_name":"Mehdi Charife"},"score":0,"creation_date":1694785180,"post_id":771850,"comment_id":135940738,"body_markdown":"@AndrewG You can use a List, but isn&#39;t a list definitionally ordered?","body":"@AndrewG You can use a List, but isn&#39;t a list definitionally ordered?"},{"owner":{"account_id":4751496,"reputation":2596,"user_id":3841420,"accept_rate":75,"display_name":"Andrew G"},"score":0,"creation_date":1694787275,"post_id":771850,"comment_id":135941186,"body_markdown":"@MehdiCharife not sure what you mean, a List has the order it was constructed in and may contain duplicates. Its pretty close to manipulating data directly in an array, except size can change. A Set does not contain duplicates and if you iterate it it&#39;s probably in insertion order, if you want the data structure to always reconfigure itself to be in order you can use a SortedSet, known implementations are ConcurrentSkipListSet and TreeSet.","body":"@MehdiCharife not sure what you mean, a List has the order it was constructed in and may contain duplicates. Its pretty close to manipulating data directly in an array, except size can change. A Set does not contain duplicates and if you iterate it it&#39;s probably in insertion order, if you want the data structure to always reconfigure itself to be in order you can use a SortedSet, known implementations are ConcurrentSkipListSet and TreeSet."},{"owner":{"account_id":20847162,"reputation":894,"user_id":15312420,"display_name":"Mehdi Charife"},"score":0,"creation_date":1694787474,"post_id":771850,"comment_id":135941240,"body_markdown":"@AndrewG I mean you suggested using a List for cases when one doesn&#39;t care about order. If order doesn&#39;t matter, using a list seems to me like the wrong choice to make.","body":"@AndrewG I mean you suggested using a List for cases when one doesn&#39;t care about order. If order doesn&#39;t matter, using a list seems to me like the wrong choice to make."},{"owner":{"account_id":4751496,"reputation":2596,"user_id":3841420,"accept_rate":75,"display_name":"Andrew G"},"score":0,"creation_date":1695022470,"post_id":771850,"comment_id":135963274,"body_markdown":"order, as-in being ordered, e.g. an ordered list.","body":"order, as-in being ordered, e.g. an ordered list."}],"tags":[],"owner":{"account_id":32595,"reputation":18597,"user_id":90566,"accept_rate":84,"display_name":"waxwing"},"comment_count":7,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1465545856,"creation_date":1240306950,"answer_id":771850,"question_id":769731,"body_markdown":"This kind of leads to the question when you should use a set and when you should use a list. Usually, the advice goes:\r\n\r\n1. If you need ordered data, use a List\r\n2. If you need unique data, use a Set\r\n3. If you need both, use either: a SortedSet (for data ordered by comparator) or an OrderedSet/UniqueList (for data ordered by insertion). Unfortunately the Java API does not yet have OrderedSet/UniqueList.\r\n\r\nA fourth case that appears often is that you need neither. In this case you see some programmers go with lists and some with sets. Personally I find it very harmful to see set as a list without ordering - because it is really a whole other beast. Unless you need stuff like set uniqueness or set equality, always favor lists.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>This kind of leads to the question when you should use a set and when you should use a list. Usually, the advice goes:</p>\n\n<ol>\n<li>If you need ordered data, use a List</li>\n<li>If you need unique data, use a Set</li>\n<li>If you need both, use either: a SortedSet (for data ordered by comparator) or an OrderedSet/UniqueList (for data ordered by insertion). Unfortunately the Java API does not yet have OrderedSet/UniqueList.</li>\n</ol>\n\n<p>A fourth case that appears often is that you need neither. In this case you see some programmers go with lists and some with sets. Personally I find it very harmful to see set as a list without ordering - because it is really a whole other beast. Unless you need stuff like set uniqueness or set equality, always favor lists.</p>\n"},{"comments":[{"owner":{"account_id":199370,"reputation":19629,"user_id":444639,"accept_rate":84,"display_name":"Rylander"},"score":1,"creation_date":1386780515,"post_id":796631,"comment_id":30686605,"body_markdown":"Does Guva provide a &quot;UniqueList&quot;?","body":"Does Guva provide a &quot;UniqueList&quot;?"},{"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"score":0,"creation_date":1386802089,"post_id":796631,"comment_id":30699379,"body_markdown":"no, but you can have a java.util.LinkedHashSet that has similar properties.","body":"no, but you can have a java.util.LinkedHashSet that has similar properties."}],"tags":[],"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1240903763,"creation_date":1240903763,"answer_id":796631,"question_id":769731,"body_markdown":"some data structures are missing from the standard java collections. \r\n\r\nBag (like set but can contain elements multiple times)\r\n\r\nUniqueList (ordered list, can contain each element only once)\r\n\r\nseems you would need a uniquelist in this case\r\n\r\nif you need flexible data structures, you might be interested in [Google Collections][1]\r\n\r\n\r\n  [1]: http://code.google.com/p/google-collections/","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>some data structures are missing from the standard java collections. </p>\n\n<p>Bag (like set but can contain elements multiple times)</p>\n\n<p>UniqueList (ordered list, can contain each element only once)</p>\n\n<p>seems you would need a uniquelist in this case</p>\n\n<p>if you need flexible data structures, you might be interested in <a href=\"http://code.google.com/p/google-collections/\" rel=\"noreferrer\">Google Collections</a></p>\n"},{"tags":[],"owner":{"account_id":585336,"reputation":71,"user_id":253996,"display_name":"walls"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1263904644,"creation_date":1263904644,"answer_id":2093454,"question_id":769731,"body_markdown":"That&#39;s true, element in Set are not ordered, by definition of the Set Collection. So they can&#39;t be access by an index.\r\n\r\nBut why don&#39;t we have a get(object) method, not by providing the index as parameter, but an object that is equal to the one we are looking for? \r\nBy this way, we can access the data of the element inside the Set, just by knowing its attributes used by the equal method.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>That's true, element in Set are not ordered, by definition of the Set Collection. So they can't be access by an index.</p>\n\n<p>But why don't we have a get(object) method, not by providing the index as parameter, but an object that is equal to the one we are looking for? \nBy this way, we can access the data of the element inside the Set, just by knowing its attributes used by the equal method.</p>\n"},{"comments":[{"owner":{"account_id":76076,"reputation":21604,"user_id":218028,"accept_rate":84,"display_name":"Dave"},"score":3,"creation_date":1343954659,"post_id":2937137,"comment_id":15659745,"body_markdown":"Great answer as far as it goes, but what do we do in the meantime?","body":"Great answer as far as it goes, but what do we do in the meantime?"},{"owner":{"account_id":1258563,"reputation":375,"user_id":1217488,"display_name":"horaceman"},"score":0,"creation_date":1350828863,"post_id":2937137,"comment_id":17634903,"body_markdown":"sure it is. i used list as manytomany and onetomany ORM in hibernate before. i met a trouble(or defect) when a left join query involving more then 3 related entities, an exception was throwed. look here for more details (http://jroller.com/eyallupu/entry/hibernate_exception_simultaneously_fetch_multiple). to walk around this problem, using set as ORM mapping collection is necessary. but honestly to say, set is not convenient for accessing in programming, and also when you need an ordering collection. what we really need is &quot;indexedset&quot; like what Sorin Postelnicu said, SORT and UNIQUE","body":"sure it is. i used list as manytomany and onetomany ORM in hibernate before. i met a trouble(or defect) when a left join query involving more then 3 related entities, an exception was throwed. look here for more details (<a href=\"http://jroller.com/eyallupu/entry/hibernate_exception_simultaneously_fetch_multiple\" rel=\"nofollow noreferrer\">jroller.com/eyallupu/entry/&hellip;</a>). to walk around this problem, using set as ORM mapping collection is necessary. but honestly to say, set is not convenient for accessing in programming, and also when you need an ordering collection. what we really need is &quot;indexedset&quot; like what Sorin Postelnicu said, SORT and UNIQUE"},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":3,"creation_date":1465417896,"post_id":2937137,"comment_id":62898439,"body_markdown":"Apache Commons Collections has [`ListOrderedSet`](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/set/ListOrderedSet.html) which is what the OP needed 7 years ago (and I needed today).","body":"Apache Commons Collections has <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/set/ListOrderedSet.html\" rel=\"nofollow noreferrer\"><code>ListOrderedSet</code></a> which is what the OP needed 7 years ago (and I needed today)."},{"owner":{"account_id":100602,"reputation":1271,"user_id":271104,"accept_rate":33,"display_name":"Sorin Postelnicu"},"score":1,"creation_date":1465565271,"post_id":2937137,"comment_id":62968545,"body_markdown":"@Paul: That is indeed something which looks really good. Unfortunately it still has 3 drawbacks: 1) It is a class, not an interface. 2) It&#39;s not in the JDK. 3) It&#39;s not what Hibernate queries are returning.","body":"@Paul: That is indeed something which looks really good. Unfortunately it still has 3 drawbacks: 1) It is a class, not an interface. 2) It&#39;s not in the JDK. 3) It&#39;s not what Hibernate queries are returning."},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1465569917,"post_id":2937137,"comment_id":62971771,"body_markdown":"Yeah, but other than those 3 major drawbacks it&#39;s perfect!  :)  In retrospect I should have posted my comment to the question and not your answer - I keyed off `What is needed is an IndexedSet (or ListSet, or OrderedSet, or UniqueList)...` and ignored `...interface`.  Sorry about that!","body":"Yeah, but other than those 3 major drawbacks it&#39;s perfect!  :)  In retrospect I should have posted my comment to the question and not your answer - I keyed off <code>What is needed is an IndexedSet (or ListSet, or OrderedSet, or UniqueList)...</code> and ignored <code>...interface</code>.  Sorry about that!"}],"tags":[],"owner":{"account_id":100602,"reputation":1271,"user_id":271104,"accept_rate":33,"display_name":"Sorin Postelnicu"},"comment_count":5,"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1275182118,"creation_date":1275180909,"answer_id":2937137,"question_id":769731,"body_markdown":"Actually this is a recurring question when writing JavaEE applications which use Object-Relational Mapping (for example with Hibernate); and from all the people who replied here, Andreas Petersson is the only one who understood the real issue and offered the correct answer to it: Java is missing a UniqueList! (or you can also call it OrderedSet, or IndexedSet).\r\n\r\nMaxwing mentioned this use-case (in which you need ordered AND unique data) and he suggested the SortedSet, but this is not what Marty Pitt really needed.\r\n\r\nThis &quot;IndexedSet&quot; is NOT the same as a SortedSet - in a SortedSet the elements are sorted by using a Comparator (or using their &quot;natural&quot; ordering).\r\n\r\nBut instead it is closer to a LinkedHashSet (which others also suggested), or even more so to an (also inexistent) &quot;ArrayListSet&quot;, because it guarantees that the elements are returned in the same order as they were inserted.\r\n\r\nBut the LinkedHashSet is an implementation, not an interface! What is needed is an IndexedSet (or ListSet, or OrderedSet, or UniqueList) interface! This will allow the programmer to specify that he needs a collection of elements that have a specific order and without duplicates, and then instantiate it with any implementation (for example an implementation provided by Hibernate).\r\n\r\nSince JDK is open-source, maybe this interface will be finally included in Java 7...\r\n","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>Actually this is a recurring question when writing JavaEE applications which use Object-Relational Mapping (for example with Hibernate); and from all the people who replied here, Andreas Petersson is the only one who understood the real issue and offered the correct answer to it: Java is missing a UniqueList! (or you can also call it OrderedSet, or IndexedSet).</p>\n\n<p>Maxwing mentioned this use-case (in which you need ordered AND unique data) and he suggested the SortedSet, but this is not what Marty Pitt really needed.</p>\n\n<p>This \"IndexedSet\" is NOT the same as a SortedSet - in a SortedSet the elements are sorted by using a Comparator (or using their \"natural\" ordering).</p>\n\n<p>But instead it is closer to a LinkedHashSet (which others also suggested), or even more so to an (also inexistent) \"ArrayListSet\", because it guarantees that the elements are returned in the same order as they were inserted.</p>\n\n<p>But the LinkedHashSet is an implementation, not an interface! What is needed is an IndexedSet (or ListSet, or OrderedSet, or UniqueList) interface! This will allow the programmer to specify that he needs a collection of elements that have a specific order and without duplicates, and then instantiate it with any implementation (for example an implementation provided by Hibernate).</p>\n\n<p>Since JDK is open-source, maybe this interface will be finally included in Java 7...</p>\n"},{"comments":[{"owner":{"account_id":118444,"reputation":20516,"user_id":309483,"accept_rate":88,"display_name":"Janus Troelsen"},"score":0,"creation_date":1328223161,"post_id":3078876,"comment_id":11461684,"body_markdown":"the function isn&#39;t what the question asked for. we need the index, not the value. what is your function doing anyway? looks like it just returns the element if it was equal to a element within. what does this do that contains() doesn&#39;t?","body":"the function isn&#39;t what the question asked for. we need the index, not the value. what is your function doing anyway? looks like it just returns the element if it was equal to a element within. what does this do that contains() doesn&#39;t?"},{"owner":{"account_id":1097351,"reputation":3732,"user_id":1090657,"display_name":"quantum"},"score":0,"creation_date":1353101087,"post_id":3078876,"comment_id":18347578,"body_markdown":"Where is the `T` defined? Why `if (true)`?","body":"Where is the <code>T</code> defined? Why <code>if (true)</code>?"}],"tags":[],"owner":{"account_id":624263,"reputation":3,"user_id":371472,"display_name":"lala"},"comment_count":2,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1277029195,"creation_date":1277029195,"answer_id":3078876,"question_id":769731,"body_markdown":"To get element in a Set, i use to following one:\r\n\r\n    public T getElement(Set&lt;T&gt; set, T element) {\r\n\tT result = null;\r\n\tif (set instanceof TreeSet&lt;?&gt;) {\r\n\t    T floor = ((TreeSet&lt;T&gt;) set).floor(element);\r\n\t    if (floor != null &amp;&amp; floor.equals(element))\r\n\t\tresult = floor;\r\n\t} else {\r\n\t    boolean found = false;\r\n\t    for (Iterator&lt;T&gt; it = set.iterator(); !found &amp;&amp; it.hasNext();) {\r\n\t\tif (true) {\r\n\t\t    T current = it.next();\r\n\t\t    if (current.equals(element)) {\r\n\t\t\tresult = current;\r\n\t\t\tfound = true;\r\n\t\t    }\r\n\t\t}\r\n\t    }\r\n\t}\r\n\treturn result;\r\n    }","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>To get element in a Set, i use to following one:</p>\n\n<pre><code>public T getElement(Set&lt;T&gt; set, T element) {\nT result = null;\nif (set instanceof TreeSet&lt;?&gt;) {\n    T floor = ((TreeSet&lt;T&gt;) set).floor(element);\n    if (floor != null &amp;&amp; floor.equals(element))\n    result = floor;\n} else {\n    boolean found = false;\n    for (Iterator&lt;T&gt; it = set.iterator(); !found &amp;&amp; it.hasNext();) {\n    if (true) {\n        T current = it.next();\n        if (current.equals(element)) {\n        result = current;\n        found = true;\n        }\n    }\n    }\n}\nreturn result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":186564,"reputation":31,"user_id":424048,"display_name":"buchweizen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1282138423,"creation_date":1282138423,"answer_id":3512634,"question_id":769731,"body_markdown":"I ran into situations where I actually wanted a **Sorted**Set with access via index (I concur with other posters that accessing an unsorted Set with an index makes no sense). \r\nAn example would be a tree where I wanted the children to be sorted and duplicate children were not allowed. \r\n\r\nI needed the access via index to display them and the set attributes came in handy to efficiently eliminate duplicates.\r\n\r\nFinding no suitable collection in java.util or google collections, I found it straightforward to implement it myself. The basic idea is to wrap a SortedSet and create a List when access via index is required (and forget the list when the SortedSet is changed). This does of course only work efficiently when changing the wrapped SortedSet and accessing the list is separated in the lifetime of the Collection. Otherwise it behaves like a list which is sorted often, i.e. too slow.\r\n\r\nWith large numbers of children, this improved performance a lot over a list I kept sorted via Collections.sort.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>I ran into situations where I actually wanted a <strong>Sorted</strong>Set with access via index (I concur with other posters that accessing an unsorted Set with an index makes no sense). \nAn example would be a tree where I wanted the children to be sorted and duplicate children were not allowed. </p>\n\n<p>I needed the access via index to display them and the set attributes came in handy to efficiently eliminate duplicates.</p>\n\n<p>Finding no suitable collection in java.util or google collections, I found it straightforward to implement it myself. The basic idea is to wrap a SortedSet and create a List when access via index is required (and forget the list when the SortedSet is changed). This does of course only work efficiently when changing the wrapped SortedSet and accessing the list is separated in the lifetime of the Collection. Otherwise it behaves like a list which is sorted often, i.e. too slow.</p>\n\n<p>With large numbers of children, this improved performance a lot over a list I kept sorted via Collections.sort.</p>\n"},{"tags":[],"owner":{"account_id":37416,"reputation":74523,"user_id":106979,"accept_rate":82,"display_name":"fortran"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1294401258,"creation_date":1294401258,"answer_id":4625210,"question_id":769731,"body_markdown":"If you are going to do lots of random accesses by index in a set, you can get an array view of its elements:\r\n\r\n    Object[] arrayView = mySet.toArray();\r\n    //do whatever you need with arrayView[i]\r\n\r\nThere are two main drawbacks though:\r\n\r\n1. It&#39;s not memory efficient, as an array for the whole set needs to be created.\r\n1. If the set is modified, the view becomes obsolete.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>If you are going to do lots of random accesses by index in a set, you can get an array view of its elements:</p>\n\n<pre><code>Object[] arrayView = mySet.toArray();\n//do whatever you need with arrayView[i]\n</code></pre>\n\n<p>There are two main drawbacks though:</p>\n\n<ol>\n<li>It's not memory efficient, as an array for the whole set needs to be created.</li>\n<li>If the set is modified, the view becomes obsolete.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":106662,"reputation":4499,"user_id":284051,"accept_rate":90,"display_name":"Doug Moscrop"},"score":0,"creation_date":1334245684,"post_id":9121254,"comment_id":12979759,"body_markdown":"This returns a List of Sets and get(index) returns a Set.\n\nRather, I used:\n\n    `new ArrayList&lt;T&gt;(t).get(0)`\n\nI think there is valid opposition to the idea of getting a particular element from a Set by an index. But it would be nice if  Set had an only() member function that, for Sets of size 1, provided easy access to the only element in the Set. This would save the aforementioned `new ArrayList` or `for (Foo foo : foos) { return foo; }`","body":"This returns a List of Sets and get(index) returns a Set.  Rather, I used:      <code>new ArrayList&lt;T&gt;(t).get(0)</code>  I think there is valid opposition to the idea of getting a particular element from a Set by an index. But it would be nice if  Set had an only() member function that, for Sets of size 1, provided easy access to the only element in the Set. This would save the aforementioned <code>new ArrayList</code> or <code>for (Foo foo : foos) { return foo; }</code>"}],"tags":[],"owner":{"account_id":118444,"reputation":20516,"user_id":309483,"accept_rate":88,"display_name":"Janus Troelsen"},"comment_count":1,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1334759397,"creation_date":1328223312,"answer_id":9121254,"question_id":769731,"body_markdown":"You can do ``new ArrayList&lt;T&gt;(set).get(index)``","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>You can do <code>new ArrayList&lt;T&gt;(set).get(index)</code></p>\n"},{"tags":[],"owner":{"account_id":876674,"reputation":65,"user_id":77864,"accept_rate":50,"display_name":"Dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337624003,"creation_date":1337624003,"answer_id":10690385,"question_id":769731,"body_markdown":"The reason why the Set *interface* doesn&#39;t have a get index-type call or even something even more basic, such as first() or last(), is because it is an ambiguous operation, and therefore a potentially dangerous operation. If a method returns a Set, and you call, say first() method on it, what is the expected result, given that the a generic Set makes no guarantees on the ordering? The resultant object could very well vary between each call of the method, or it might not and lull you into a false sense of security, until the library you&#39;re using changes changes the implementation underneath and now you find that all your code breaks for no particular reason.\r\n\r\nThe suggestions about workarounds listed here are good. If you need indexed access, use a list. Be careful with using iterators or toArray with a generic Set, because a) there is no guarantee on the ordering and b) there is no guarantee that the ordering will not change with subsequent invocations or with different underlying implementations. If you need something in between, a SortedSet or a LinkedHashSet is what you want.\r\n\r\n//\r\nI do wish the Set interface had a get-random-element though. ","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>The reason why the Set <em>interface</em> doesn't have a get index-type call or even something even more basic, such as first() or last(), is because it is an ambiguous operation, and therefore a potentially dangerous operation. If a method returns a Set, and you call, say first() method on it, what is the expected result, given that the a generic Set makes no guarantees on the ordering? The resultant object could very well vary between each call of the method, or it might not and lull you into a false sense of security, until the library you're using changes changes the implementation underneath and now you find that all your code breaks for no particular reason.</p>\n\n<p>The suggestions about workarounds listed here are good. If you need indexed access, use a list. Be careful with using iterators or toArray with a generic Set, because a) there is no guarantee on the ordering and b) there is no guarantee that the ordering will not change with subsequent invocations or with different underlying implementations. If you need something in between, a SortedSet or a LinkedHashSet is what you want.</p>\n\n<p>//\nI do wish the Set interface had a get-random-element though. </p>\n"},{"tags":[],"owner":{"account_id":227148,"reputation":625,"user_id":488635,"display_name":"Vitaly Sazanovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621543132,"creation_date":1390831744,"answer_id":21382988,"question_id":769731,"body_markdown":"If you don&#39;t mind the set to be sorted then you may be interested to take a look at the [indexed-tree-map][1] project. \r\n\r\nThe enhanced TreeSet/[TreeMap][2] provides access to elements by index or getting the index of an element. And the implementation is based on updating node weights in the RB tree. So no iteration or backing up by a list here.\r\n\r\n\r\n  [1]: https://github.com/geniot/indexed-tree-map\r\n  [2]: https://github.com/geniot/indexed-tree-map/blob/master/src/main/java/com/dictiographer/collections/IndexedTreeMap.java","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>If you don't mind the set to be sorted then you may be interested to take a look at the <a href=\"https://github.com/geniot/indexed-tree-map\" rel=\"nofollow noreferrer\">indexed-tree-map</a> project.</p>\n<p>The enhanced TreeSet/<a href=\"https://github.com/geniot/indexed-tree-map/blob/master/src/main/java/com/dictiographer/collections/IndexedTreeMap.java\" rel=\"nofollow noreferrer\">TreeMap</a> provides access to elements by index or getting the index of an element. And the implementation is based on updating node weights in the RB tree. So no iteration or backing up by a list here.</p>\n"},{"comments":[{"owner":{"account_id":1640822,"reputation":2540,"user_id":1513295,"accept_rate":95,"display_name":"semicolon"},"score":0,"creation_date":1482136566,"post_id":29389809,"comment_id":69635504,"body_markdown":"Finger trees (See Haskell&#39;s `Data.Sequence.lookup` function) also allow accessing via index (`O(1)` near the ends `O(log n)` near the middle, more accurately `O(min(log(k), log(n-k)))`), also binary trees do as well (See Haskell&#39;s `Data.Set.lookupIndex` function). So your initial assertion that &quot;Please note only 2 basic data structure can be accessed via index&quot; is not correct.","body":"Finger trees (See Haskell&#39;s <code>Data.Sequence.lookup</code> function) also allow accessing via index (<code>O(1)</code> near the ends <code>O(log n)</code> near the middle, more accurately <code>O(min(log(k), log(n-k)))</code>), also binary trees do as well (See Haskell&#39;s <code>Data.Set.lookupIndex</code> function). So your initial assertion that &quot;Please note only 2 basic data structure can be accessed via index&quot; is not correct."}],"tags":[],"owner":{"account_id":3970425,"reputation":4907,"user_id":3275167,"accept_rate":82,"display_name":"coderz"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1427894459,"creation_date":1427888399,"answer_id":29389809,"question_id":769731,"body_markdown":"Please note only 2 basic data structure can be accessed via index.\r\n\r\n - **Array** data structure can be accessed via index with `O(1)` time complexity to achieve `get(int index)` operation.\r\n - **LinkedList** data structure can also be accessed via index, but with `O(n)` time complexity to achieve `get(int index)` operation.\r\n\r\nIn Java, `ArrayList` is implemented using **Array** data structure.\r\n\r\nWhile **Set** data structure usually can be implemented via **HashTable/HashMap** or **BalancedTree** data structure, for fast detecting whether an element exists and add non-existing element, usually a well implemented **Set** can achieve `O(1)` time complexity `contains` operation. In Java, `HashSet` is the most common used implementation of **Set**, it is implemented by calling `HashMap` API, and `HashMap` is implemented using **separate chaining with linked lists** (a combination of **Array** and **LinkedList**).\r\n\r\nSince **Set** can be implemented via different data structure, there is no `get(int index)` method for it.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>Please note only 2 basic data structure can be accessed via index.</p>\n\n<ul>\n<li><strong>Array</strong> data structure can be accessed via index with <code>O(1)</code> time complexity to achieve <code>get(int index)</code> operation.</li>\n<li><strong>LinkedList</strong> data structure can also be accessed via index, but with <code>O(n)</code> time complexity to achieve <code>get(int index)</code> operation.</li>\n</ul>\n\n<p>In Java, <code>ArrayList</code> is implemented using <strong>Array</strong> data structure.</p>\n\n<p>While <strong>Set</strong> data structure usually can be implemented via <strong>HashTable/HashMap</strong> or <strong>BalancedTree</strong> data structure, for fast detecting whether an element exists and add non-existing element, usually a well implemented <strong>Set</strong> can achieve <code>O(1)</code> time complexity <code>contains</code> operation. In Java, <code>HashSet</code> is the most common used implementation of <strong>Set</strong>, it is implemented by calling <code>HashMap</code> API, and <code>HashMap</code> is implemented using <strong>separate chaining with linked lists</strong> (a combination of <strong>Array</strong> and <strong>LinkedList</strong>).</p>\n\n<p>Since <strong>Set</strong> can be implemented via different data structure, there is no <code>get(int index)</code> method for it.</p>\n"},{"tags":[],"owner":{"account_id":5206598,"reputation":2016,"user_id":4164297,"accept_rate":89,"display_name":"Dil."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465548146,"creation_date":1465548146,"answer_id":37743750,"question_id":769731,"body_markdown":"`java.util.Set` is a collection of un-ordered items. It doesn&#39;t make any sense if the Set has a get(int index), because \r\nSet doesn&#39;t has an index and also you only can guess the value. \r\n\r\nIf you really want this, code a method to get random element from Set.\r\n","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p><code>java.util.Set</code> is a collection of un-ordered items. It doesn't make any sense if the Set has a get(int index), because \nSet doesn't has an index and also you only can guess the value. </p>\n\n<p>If you really want this, code a method to get random element from Set.</p>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1584768469,"post_id":60784531,"comment_id":107544041,"body_markdown":"*All `Set`s implementations are using `HashMap` under the hood to store values* can you substantiate that claim for `TreeSet`?","body":"<i>All <code>Set</code>s implementations are using <code>HashMap</code> under the hood to store values</i> can you substantiate that claim for <code>TreeSet</code>?"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1584768834,"post_id":60784531,"comment_id":107544091,"body_markdown":"`the keys in the HashMap will have the same constant value` *the keys in the `HashMap` will* map to *one and the same immutable `Object`*","body":"<code>the keys in the HashMap will have the same constant value</code> <i>the keys in the <code>HashMap</code> will</i> map to <i>one and the same immutable <code>Object</code></i>"},{"owner":{"account_id":18020746,"reputation":1,"user_id":13098024,"display_name":"magnonyms"},"score":0,"creation_date":1584769459,"post_id":60784531,"comment_id":107544189,"body_markdown":"@greybeard http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/8ed8e2b4b90e/src/share/classes/java/util/TreeSet.java#l254","body":"@greybeard <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/8ed8e2b4b90e/src/share/classes/java/util/TreeSet.java#l254\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk8/jdk8/jdk/file/8ed8e2b4b90e/src/shar&zwnj;&#8203;e/&hellip;</a>"}],"tags":[],"owner":{"account_id":18020746,"reputation":1,"user_id":13098024,"display_name":"magnonyms"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584804333,"creation_date":1584765627,"answer_id":60784531,"question_id":769731,"body_markdown":"Set is an interface and some of its implementation classes are HashSet, TreeSet and LinkedHashSet. It uses HashMap under the hood to store values. Because HashMap does not preserve the order, it is not possible to get value by index.\r\n\r\nYou now must be thinking how Set is using HashMap since HashMap stores a key, value pair but the Set does not. valid question. when you add an element in Set, internally, it maintains a HashMap where the key is the element you want to enter in Set and the value is the dummy constant. Below is an internal implementation of add function. Hence, all the keys in the HashMap will have the same constant value.\r\n    \r\n    // Dummy value to associate with an Object in the backing Map\r\n    private static final Object PRESENT = new Object();\r\n    \r\n    public boolean add(E e) {\r\n        return map.put(e, PRESENT)==null;\r\n    }\r\n    \r\n\r\n","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>Set is an interface and some of its implementation classes are HashSet, TreeSet and LinkedHashSet. It uses HashMap under the hood to store values. Because HashMap does not preserve the order, it is not possible to get value by index.</p>\n\n<p>You now must be thinking how Set is using HashMap since HashMap stores a key, value pair but the Set does not. valid question. when you add an element in Set, internally, it maintains a HashMap where the key is the element you want to enter in Set and the value is the dummy constant. Below is an internal implementation of add function. Hence, all the keys in the HashMap will have the same constant value.</p>\n\n<pre><code>// Dummy value to associate with an Object in the backing Map\nprivate static final Object PRESENT = new Object();\n\npublic boolean add(E e) {\n    return map.put(e, PRESENT)==null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18656920,"reputation":1,"user_id":13599103,"display_name":"Prabhat Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625429755,"creation_date":1625429755,"answer_id":68248495,"question_id":769731,"body_markdown":"Because the Set stores unique elements in random locations and Internally It uses multiple data structures. i.e. Array, linked list, a tree with hashing.\r\n    \r\nlink\r\nhttps://en.wikipedia.org/wiki/Set_(abstract_data_type)\r\n\r\n","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>Because the Set stores unique elements in random locations and Internally It uses multiple data structures. i.e. Array, linked list, a tree with hashing.</p>\n<p>link\n<a href=\"https://en.wikipedia.org/wiki/Set_(abstract_data_type)\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Set_(abstract_data_type)</a></p>\n"}],"owner":{"account_id":23524,"reputation":28912,"user_id":59015,"accept_rate":69,"display_name":"Marty Pitt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208905,"favorite_count":0,"down_vote_count":2,"up_vote_count":250,"accepted_answer_id":769732,"answer_count":19,"score":248,"last_activity_date":1695023293,"creation_date":1240255180,"question_id":769731,"body_markdown":"Why does the `java.util.Set` interface lack `get(int Index)`, or any similar `get()` method?\r\n\r\nIt seems that sets are great for putting things into, but I can&#39;t find an elegant way of retrieving a single item from them.\r\n\r\nIf I know I want the first item, I can use `set.iterator().next()`, but otherwise it seems I have to cast to an Array to retrieve an item at a specific index?\r\n\r\nWhat are the appropriate ways of retrieving data from a set? (other than using an iterator)\r\n\r\nI&#39;m asking this question because I had a dbUnit test, where I could reasonably assert that the returned set from a query had only 1 item, and I was trying to access that item.\r\n\r\nSo, what&#39;s the difference between `Set` and `List`?","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>Why does the <code>java.util.Set</code> interface lack <code>get(int Index)</code>, or any similar <code>get()</code> method?</p>\n<p>It seems that sets are great for putting things into, but I can't find an elegant way of retrieving a single item from them.</p>\n<p>If I know I want the first item, I can use <code>set.iterator().next()</code>, but otherwise it seems I have to cast to an Array to retrieve an item at a specific index?</p>\n<p>What are the appropriate ways of retrieving data from a set? (other than using an iterator)</p>\n<p>I'm asking this question because I had a dbUnit test, where I could reasonably assert that the returned set from a query had only 1 item, and I was trying to access that item.</p>\n<p>So, what's the difference between <code>Set</code> and <code>List</code>?</p>\n"},{"tags":["java","ip","ipv6","ipv4"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1695023090,"post_id":77125269,"comment_id":135963378,"body_markdown":"What makes you think that is even possible? IPv6 and IPv4 addresses are different things.","body":"What makes you think that is even possible? IPv6 and IPv4 addresses are different things."},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1695023365,"post_id":77125269,"comment_id":135963421,"body_markdown":"The fact, that it should be simple and I cannot find the solution.","body":"The fact, that it should be simple and I cannot find the solution."},{"owner":{"account_id":4663157,"reputation":15229,"user_id":3776927,"display_name":"derpirscher"},"score":2,"creation_date":1695023418,"post_id":77125269,"comment_id":135963429,"body_markdown":"Ipv6 and ipv4 are two totally different things. You cannot convert one into the other","body":"Ipv6 and ipv4 are two totally different things. You cannot convert one into the other"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":4,"creation_date":1695023512,"post_id":77125269,"comment_id":135963451,"body_markdown":"&quot;it should be simple&quot; - citation needed.","body":"&quot;it should be simple&quot; - citation needed."},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1695024357,"post_id":77125269,"comment_id":135963607,"body_markdown":"I didn&#39;t tell you, I guessed!","body":"I didn&#39;t tell you, I guessed!"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1695038545,"post_id":77125269,"comment_id":135966331,"body_markdown":"IPv4 and IPv6 are two separate, incompatible protocols. It would be like trying to convert IPv4 to IPX, or IPv6 to AppleTalk. They are simply different network protocols. You cannot mix them, and you cannot convert one to the other.","body":"IPv4 and IPv6 are two separate, incompatible protocols. It would be like trying to convert IPv4 to IPX, or IPv6 to AppleTalk. They are simply different network protocols. You cannot mix them, and you cannot convert one to the other."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695060738,"post_id":77125269,"comment_id":135970989,"body_markdown":"@JDev, have a look at the _[InetAddress](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/InetAddress.html)_ class.  The _[Inet6Address](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/Inet6Address.html)_ class offers a _[isIPv4CompatibleAddress](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/Inet6Address.html#isIPv4CompatibleAddress())_ method.  From there you&#39;re simply taking the last 4 bytes to compose an _IPv4_.","body":"@JDev, have a look at the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/InetAddress.html\" rel=\"nofollow noreferrer\">InetAddress</a></i> class.  The <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/Inet6Address.html\" rel=\"nofollow noreferrer\">Inet6Address</a></i> class offers a <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/Inet6Address.html#isIPv4CompatibleAddress()\" rel=\"nofollow noreferrer\">isIPv4CompatibleAddress</a></i> method.  From there you&#39;re simply taking the last 4 bytes to compose an <i>IPv4</i>."},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1695078906,"post_id":77125269,"comment_id":135973513,"body_markdown":"@Reilas, the IPv4-Compatible addresses have been deprecated for almost 20 years. See _[RFC 4291, IP Version 6 Addressing Architecture, 2.5.5.1. IPv4-Compatible IPv6 Address](https://datatracker.ietf.org/doc/html/rfc4291#section-2.5.5.1)_: &quot;_The &#39;IPv4-Compatible IPv6 address&#39; is now deprecated because the current IPv6 transition mechanisms no longer use these addresses._&quot;","body":"@Reilas, the IPv4-Compatible addresses have been deprecated for almost 20 years. See <i><a href=\"https://datatracker.ietf.org/doc/html/rfc4291#section-2.5.5.1\" rel=\"nofollow noreferrer\">RFC 4291, IP Version 6 Addressing Architecture, 2.5.5.1. IPv4-Compatible IPv6 Address</a></i>: &quot;<i>The &#39;IPv4-Compatible IPv6 address&#39; is now deprecated because the current IPv6 transition mechanisms no longer use these addresses.</i>&quot;"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695079666,"post_id":77125269,"comment_id":135973562,"body_markdown":"@RonMaupin, strange, take a look at the source as well, _https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/net/Inet6Address.java#L297_.","body":"@RonMaupin, strange, take a look at the source as well, <i><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/net/Inet6Address.java#L297\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/java.base/share/class&zwnj;&#8203;es/&hellip;</a></i>."},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":1,"creation_date":1695080518,"post_id":77125269,"comment_id":135973627,"body_markdown":"@Reilas, that library seems woefully out of date. It even includes Site-Local addresses that were deprecated in favor of ULA: &quot;_Site-local addresses are now deprecated as defined in [SLDEP]_,&quot; but there is nothing to check for ULA. It does include IPv4-Mapped addresses: &quot;_In InetAddress and Inet6Address, it is used for internal representation; it has no functional role. Java will never return an IPv4-mapped address. These classes can take an IPv4-mapped address as input, both in byte array and text representation. However, it will be converted into an IPv4 address._&quot;","body":"@Reilas, that library seems woefully out of date. It even includes Site-Local addresses that were deprecated in favor of ULA: &quot;<i>Site-local addresses are now deprecated as defined in [SLDEP]</i>,&quot; but there is nothing to check for ULA. It does include IPv4-Mapped addresses: &quot;<i>In InetAddress and Inet6Address, it is used for internal representation; it has no functional role. Java will never return an IPv4-mapped address. These classes can take an IPv4-mapped address as input, both in byte array and text representation. However, it will be converted into an IPv4 address.</i>&quot;"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695082684,"post_id":77125269,"comment_id":135973813,"body_markdown":"@RonMaupin, interesting.   I found the relevant _RFC_, [3879](https://www.rfc-editor.org/rfc/rfc3879).  It appears to just be a _&quot;proposed standard&quot;_ and advises to refer to _[STD 1](https://datatracker.ietf.org/doc/html/rfc7101#section-3)_ for the _&quot;state and status of [the] protocol&quot;_.  Here, _STD 1_ is defined as _&quot;... in an abnormal state since RFC 5000 was published.&quot;_.  This would explain the lack of action on _Java_&#39;s half; you can&#39;t amend the standard if it cannot define a state.  They should re-define it as a _notation_, and not a _syntax_.","body":"@RonMaupin, interesting.   I found the relevant <i>RFC</i>, <a href=\"https://www.rfc-editor.org/rfc/rfc3879\" rel=\"nofollow noreferrer\">3879</a>.  It appears to just be a <i>&quot;proposed standard&quot;</i> and advises to refer to <i><a href=\"https://datatracker.ietf.org/doc/html/rfc7101#section-3\" rel=\"nofollow noreferrer\">STD 1</a></i> for the <i>&quot;state and status of [the] protocol&quot;</i>.  Here, <i>STD 1</i> is defined as <i>&quot;... in an abnormal state since RFC 5000 was published.&quot;</i>.  This would explain the lack of action on <i>Java</i>&#39;s half; you can&#39;t amend the standard if it cannot define a state.  They should re-define it as a <i>notation</i>, and not a <i>syntax</i>."},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1695084575,"post_id":77125269,"comment_id":135973941,"body_markdown":"@Reilas, read [this answer](https://serverfault.com/a/755655/324849) about RFC status, and then look at the _[IANA IPv6 Special-Purpose Address Registry](https://www.iana.org/assignments/iana-ipv6-special-registry/iana-ipv6-special-registry.xhtml)_ where Site-Local addressing has been removed, although ULA is now included.","body":"@Reilas, read <a href=\"https://serverfault.com/a/755655/324849\">this answer</a> about RFC status, and then look at the <i><a href=\"https://www.iana.org/assignments/iana-ipv6-special-registry/iana-ipv6-special-registry.xhtml\" rel=\"nofollow noreferrer\">IANA IPv6 Special-Purpose Address Registry</a></i> where Site-Local addressing has been removed, although ULA is now included."},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1695085518,"post_id":77125269,"comment_id":135974009,"body_markdown":"@Reilas, you may find my [IP Calculator](https://github.com/rmaupin/IPvX) for both IPv4 and IPv6 interesting. There is all the source code, and you should read the PDF, including the last part that explains the methods. The IP library has some very good regular expressions for both IPs. The calculator also has some fields that provide information about the address, including the various multicast scopes and other address ranges and scopes.","body":"@Reilas, you may find my <a href=\"https://github.com/rmaupin/IPvX\" rel=\"nofollow noreferrer\">IP Calculator</a> for both IPv4 and IPv6 interesting. There is all the source code, and you should read the PDF, including the last part that explains the methods. The IP library has some very good regular expressions for both IPs. The calculator also has some fields that provide information about the address, including the various multicast scopes and other address ranges and scopes."},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1695103740,"post_id":77125269,"comment_id":135975526,"body_markdown":"@Ron Maupin - Thanks for comments and explanations. Understood. \nI&#39;ll use IPv6 and that&#39;s it.\nI&#39;m just behind Cloudflare Proxy. Earlier there was the possibility to switch Ipv6 to IPv4. And now the default is only Ipv6. So I thought to myself that I could somehow convert it, because IPv4 is more readable. )))\nYes, I don’t have a deep understanding of networks, that’s why I asked.","body":"@Ron Maupin - Thanks for comments and explanations. Understood.  I&#39;ll use IPv6 and that&#39;s it. I&#39;m just behind Cloudflare Proxy. Earlier there was the possibility to switch Ipv6 to IPv4. And now the default is only Ipv6. So I thought to myself that I could somehow convert it, because IPv4 is more readable. ))) Yes, I don’t have a deep understanding of networks, that’s why I asked."},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1695125881,"post_id":77125269,"comment_id":135979729,"body_markdown":"It was closed because you asked on the wrong SE site. You ask about network protocol theory on [networkengineering.se]. Also: &quot;_Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it._&quot;","body":"It was closed because you asked on the wrong SE site. You ask about network protocol theory on <a href=\"https://networkengineering.stackexchange.com\">Network Engineering</a>. Also: &quot;<i>Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.</i>&quot;"},{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":0,"creation_date":1697505005,"post_id":77125269,"comment_id":136285463,"body_markdown":"see this answer: https://stackoverflow.com/a/49516679/6801443","body":"see this answer: <a href=\"https://stackoverflow.com/a/49516679/6801443\">stackoverflow.com/a/49516679/6801443</a>"},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1697525581,"post_id":77125269,"comment_id":136287243,"body_markdown":"@SeanF Thanks for the Answer, I saw this snippet. It will not works with full IPv6 address.","body":"@SeanF Thanks for the Answer, I saw this snippet. It will not works with full IPv6 address."},{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":0,"creation_date":1697668885,"post_id":77125269,"comment_id":136310463,"body_markdown":"The IPv6 address must be in a format that corresponds to one of the translation/conversion protocols.  You cannot convert all IPv6 addresses, only those derived from IPv4 using a protocol of some sort.","body":"The IPv6 address must be in a format that corresponds to one of the translation/conversion protocols.  You cannot convert all IPv6 addresses, only those derived from IPv4 using a protocol of some sort."}],"answers":[{"comments":[{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1695023446,"post_id":77125378,"comment_id":135963438,"body_markdown":"Thanks for the answer, but from my small knowledge it should be convertable.","body":"Thanks for the answer, but from my small knowledge it should be convertable."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":4,"creation_date":1695023521,"post_id":77125378,"comment_id":135963452,"body_markdown":"Then I&#39;m sorry but your small knowledge is wrong ;-). If you can post some more details about why you think it&#39;s possible, we might be able to explain more.","body":"Then I&#39;m sorry but your small knowledge is wrong ;-). If you can post some more details about why you think it&#39;s possible, we might be able to explain more."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695023230,"creation_date":1695023230,"answer_id":77125378,"question_id":77125269,"body_markdown":"You can&#39;t convert IPv4 to IPv6, or the other way around. They are completely different things. It&#39;s like converting a telephone number to a street address: There *may* be come cases where there&#39;s a 1:1 mapping, or a 1:n mapping, but there&#39;s no guarantee.","title":"Convert Expanded(long form) IPv6 to IPv4 in java","body":"<p>You can't convert IPv4 to IPv6, or the other way around. They are completely different things. It's like converting a telephone number to a street address: There <em>may</em> be come cases where there's a 1:1 mapping, or a 1:n mapping, but there's no guarantee.</p>\n"}],"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"closed_date":1695038555,"answer_count":1,"score":-4,"last_activity_date":1695023230,"creation_date":1695022029,"question_id":77125269,"body_markdown":"I&#39;ve been trying for hours now to find a library or try to do it with java-core.\r\n\r\nI&#39;m trying to convert `Expanded IPv6` to `IPv4` but none of the googled methods does not work.\r\n\r\nAlso tried this library. https://github.com/seancfoley/IPAddress\r\n\r\nWithout much success.\r\n\r\nIs it even possible?\r\n\r\nTo understand what I mean. For example, if you Google `what is my ip`, then Google will show you your IP in the `Expanded IPv6` format.\r\n\r\nOr you can look at this site: https://whatismyipaddress.com\r\n\r\nHow can the string (IPv6 long format) be converted to IPv4 in java?","title":"Convert Expanded(long form) IPv6 to IPv4 in java","body":"<p>I've been trying for hours now to find a library or try to do it with java-core.</p>\n<p>I'm trying to convert <code>Expanded IPv6</code> to <code>IPv4</code> but none of the googled methods does not work.</p>\n<p>Also tried this library. <a href=\"https://github.com/seancfoley/IPAddress\" rel=\"nofollow noreferrer\">https://github.com/seancfoley/IPAddress</a></p>\n<p>Without much success.</p>\n<p>Is it even possible?</p>\n<p>To understand what I mean. For example, if you Google <code>what is my ip</code>, then Google will show you your IP in the <code>Expanded IPv6</code> format.</p>\n<p>Or you can look at this site: <a href=\"https://whatismyipaddress.com\" rel=\"nofollow noreferrer\">https://whatismyipaddress.com</a></p>\n<p>How can the string (IPv6 long format) be converted to IPv4 in java?</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":2,"creation_date":1694918873,"post_id":77120245,"comment_id":135953997,"body_markdown":"Yes, you have to install and start your Kafka instance aside. The `spring-kafka` artifact only has the API, not the whole Kafka itself.","body":"Yes, you have to install and start your Kafka instance aside. The <code>spring-kafka</code> artifact only has the API, not the whole Kafka itself."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694958641,"post_id":77120245,"comment_id":135957018,"body_markdown":"Was there missing documentation that says Kafka shouldn&#39;t be ran first? Are you following a specific tutorial? How can this be made clear for others assuming the same?","body":"Was there missing documentation that says Kafka shouldn&#39;t be ran first? Are you following a specific tutorial? How can this be made clear for others assuming the same?"},{"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"score":0,"creation_date":1694975325,"post_id":77120245,"comment_id":135959027,"body_markdown":"@OneCricketeer I am following the Baeldung&#39;s introduction https://www.baeldung.com/spring-kafka. In the section 3 there is a mention of a terminal command *Previously, we ran command-line tools to create topics in Kafka*, but I couldn&#39;t see any link to a previous lesson, so I got confused. This is the first link after searching for *spring add kafka*. I clicked on the 3rd as well https://spring.io/projects/spring-kafka#overview, but it also doesn&#39;t seem to mention that. Only in the 2nd link https://reflectoring.io/spring-boot-kafka/ I can find quickstart https://kafka.apache.org/quickstart.","body":"@OneCricketeer I am following the Baeldung&#39;s introduction <a href=\"https://www.baeldung.com/spring-kafka\" rel=\"nofollow noreferrer\">baeldung.com/spring-kafka</a>. In the section 3 there is a mention of a terminal command <i>Previously, we ran command-line tools to create topics in Kafka</i>, but I couldn&#39;t see any link to a previous lesson, so I got confused. This is the first link after searching for <i>spring add kafka</i>. I clicked on the 3rd as well <a href=\"https://spring.io/projects/spring-kafka#overview\" rel=\"nofollow noreferrer\">spring.io/projects/spring-kafka#overview</a>, but it also doesn&#39;t seem to mention that. Only in the 2nd link <a href=\"https://reflectoring.io/spring-boot-kafka/\" rel=\"nofollow noreferrer\">reflectoring.io/spring-boot-kafka</a> I can find quickstart <a href=\"https://kafka.apache.org/quickstart\" rel=\"nofollow noreferrer\">kafka.apache.org/quickstart</a>."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1695002853,"post_id":77120245,"comment_id":135961425,"body_markdown":"First sentence of section 2 talks about downloading and installing Kafka before doing anything with maven/Spring","body":"First sentence of section 2 talks about downloading and installing Kafka before doing anything with maven/Spring"}],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694958693,"post_id":77120459,"comment_id":135957022,"body_markdown":"Latest Kafka doesn&#39;t require Zookeeper and default listeners setting is fine. `log.dirs` should be changed to not use /tmp","body":"Latest Kafka doesn&#39;t require Zookeeper and default listeners setting is fine. <code>log.dirs</code> should be changed to not use /tmp"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1694964244,"post_id":77120459,"comment_id":135957685,"body_markdown":"@OneCricketeer Oh! Then why kafka still has those zookeeper script? Just wondering..","body":"@OneCricketeer Oh! Then why kafka still has those zookeeper script? Just wondering.."},{"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"score":2,"creation_date":1694989470,"post_id":77120459,"comment_id":135960502,"body_markdown":"@AnishB. It turns out that Kafka is in the ongoing process of migrating from Zookeeper to KRaft. KRaft is more scalable and faster than Zookeeper. I will edit the answer so that it shows the way to use KRaft as well, because we want to encourage people to use KRaft instead of legacy Zookeeper.","body":"@AnishB. It turns out that Kafka is in the ongoing process of migrating from Zookeeper to KRaft. KRaft is more scalable and faster than Zookeeper. I will edit the answer so that it shows the way to use KRaft as well, because we want to encourage people to use KRaft instead of legacy Zookeeper."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1695003364,"post_id":77120459,"comment_id":135961454,"body_markdown":"The scripts will be there until Kafka 4.0, when it&#39;s completely removed. There will be a migration period. Also, EmbeddedKafka is part of Spring-kafka, so technically is does come with Kafka binaries, at least for testing purposes, but could also try to be used as an embedded broker/durable message bus, I guess","body":"The scripts will be there until Kafka 4.0, when it&#39;s completely removed. There will be a migration period. Also, EmbeddedKafka is part of Spring-kafka, so technically is does come with Kafka binaries, at least for testing purposes, but could also try to be used as an embedded broker/durable message bus, I guess"}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695008377,"creation_date":1694924413,"answer_id":77120459,"question_id":77120245,"body_markdown":"Yes, you have to run Kafka manually on localhost port `9092`.\r\n\r\nThe `spring-kafka` module contains the Kafka APIs which is needed to do operations on Kafka topics, producers and consumers.\r\n\r\n**Note:** Spring-Kafka module does come with **Embedded Kafka** but that can only be used for **Spring Kafka based test classes** via the annotation [@EmbeddedKafka][1]. See [here][2] for example on how to write Kafka test classes with that annotation. \r\n\r\nThat&#39;s the reason why you need to setup/install a live running Kafka instance on your local for your application to connect and use it.\r\n\r\n**Now, it completely depends on your use case. See which use case suits you better.**\r\n\r\n----\r\nOn the other hand, you will need to download and setup Apache Kafka on your system.\r\n\r\nThere are 2 options to run a Kafka service: with legacy **Zookeeper** and newer **KRaft**.\r\n\r\n[KRaft mode is more scalable than ZooKeeper mode, allowing Kafka clusters to handle more traffic and data. KRaft mode is faster than ZooKeeper mode, resulting in lower latency and higher throughput.][3]\r\n\r\nInitial steps are the same.\r\n\r\n1. Download the latest version of Kafka from [here][4].\r\n2. Navigate to `bin/` in the kafka directory.\r\n\r\n# KRaft\r\n\r\nSteps continued:\r\n\r\n3. Build the project using `./gradlew jar -PscalaVersion=2.13.10`\r\n4. Generate a Cluster UUID\r\n   `KAFKA_CLUSTER_ID=&quot;$(./kafka-storage.sh random-uuid)&quot;`\r\n5. Format Log Directories\r\n   `./kafka-storage.sh format -t $KAFKA_CLUSTER_ID -c ../config/kraft/server.properties`\r\n6. Modify the `log.dirs` to point to some other valid directory instead of `/tmp/kraft-combined-logs`.\r\n7. Start the Kafka broker.\r\n   `./kafka-server-start.sh ../config/kraft/server.properties`\r\n\r\nFor Windows, there is a folder `windows` with batch scripts corresponding to Linux/Mac shell scripts.\r\n\r\n# Zookeeper\r\n\r\nSteps continued:\r\n\r\n3. Start the **Zookeeper**.\r\n   - Linux/Mac: `./zookeeper-server-start.sh ../config/zookeeper.properties`\r\n   - Windows: `windows\\zookeeper-server-start.bat ..\\..\\config\\zookeeper.properties`\r\n4. Edit the **server.properties**\r\n   - Uncomment this line of code : `listeners=PLAINTEXT://localhost:9092` to enable broker to be listened at this socket.\r\n   - Modify the `log.dirs` to point to some other valid directory instead of `/tmp/kafka-logs`.\r\n\r\n5. Start the Kafka broker.\r\n   - Linux/Mac: `./kafka-server-start.sh ../config/server.properties`\r\n   - Windows: `windows\\kafka-server-start.bat ..\\..\\config\\server.properties`\r\n\r\nThat&#39;s all for initial setup.\r\n\r\n***\r\n\r\nVisit [here][5] to read more info on topic creation and other things related to Kafka. \r\n\r\nNow, Spring application will be able to connect to Kafka.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/api/org/springframework/kafka/test/context/EmbeddedKafka.html\r\n  [2]: https://www.baeldung.com/spring-boot-kafka-testing\r\n  [3]: https://romanglushach.medium.com/the-evolution-of-kafka-architecture-from-zookeeper-to-kraft-f42d511ba242\r\n  [4]: https://kafka.apache.org/downloads\r\n  [5]: https://kafka.apache.org/quickstart","title":"Connection to node -1 (localhost/127.0.0.1:9092) could not be established in Spring Kafka","body":"<p>Yes, you have to run Kafka manually on localhost port <code>9092</code>.</p>\n<p>The <code>spring-kafka</code> module contains the Kafka APIs which is needed to do operations on Kafka topics, producers and consumers.</p>\n<p><strong>Note:</strong> Spring-Kafka module does come with <strong>Embedded Kafka</strong> but that can only be used for <strong>Spring Kafka based test classes</strong> via the annotation <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/test/context/EmbeddedKafka.html\" rel=\"nofollow noreferrer\">@EmbeddedKafka</a>. See <a href=\"https://www.baeldung.com/spring-boot-kafka-testing\" rel=\"nofollow noreferrer\">here</a> for example on how to write Kafka test classes with that annotation.</p>\n<p>That's the reason why you need to setup/install a live running Kafka instance on your local for your application to connect and use it.</p>\n<p><strong>Now, it completely depends on your use case. See which use case suits you better.</strong></p>\n<hr />\n<p>On the other hand, you will need to download and setup Apache Kafka on your system.</p>\n<p>There are 2 options to run a Kafka service: with legacy <strong>Zookeeper</strong> and newer <strong>KRaft</strong>.</p>\n<p><a href=\"https://romanglushach.medium.com/the-evolution-of-kafka-architecture-from-zookeeper-to-kraft-f42d511ba242\" rel=\"nofollow noreferrer\">KRaft mode is more scalable than ZooKeeper mode, allowing Kafka clusters to handle more traffic and data. KRaft mode is faster than ZooKeeper mode, resulting in lower latency and higher throughput.</a></p>\n<p>Initial steps are the same.</p>\n<ol>\n<li>Download the latest version of Kafka from <a href=\"https://kafka.apache.org/downloads\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>Navigate to <code>bin/</code> in the kafka directory.</li>\n</ol>\n<h1>KRaft</h1>\n<p>Steps continued:</p>\n<ol start=\"3\">\n<li>Build the project using <code>./gradlew jar -PscalaVersion=2.13.10</code></li>\n<li>Generate a Cluster UUID\n<code>KAFKA_CLUSTER_ID=&quot;$(./kafka-storage.sh random-uuid)&quot;</code></li>\n<li>Format Log Directories\n<code>./kafka-storage.sh format -t $KAFKA_CLUSTER_ID -c ../config/kraft/server.properties</code></li>\n<li>Modify the <code>log.dirs</code> to point to some other valid directory instead of <code>/tmp/kraft-combined-logs</code>.</li>\n<li>Start the Kafka broker.\n<code>./kafka-server-start.sh ../config/kraft/server.properties</code></li>\n</ol>\n<p>For Windows, there is a folder <code>windows</code> with batch scripts corresponding to Linux/Mac shell scripts.</p>\n<h1>Zookeeper</h1>\n<p>Steps continued:</p>\n<ol start=\"3\">\n<li><p>Start the <strong>Zookeeper</strong>.</p>\n<ul>\n<li>Linux/Mac: <code>./zookeeper-server-start.sh ../config/zookeeper.properties</code></li>\n<li>Windows: <code>windows\\zookeeper-server-start.bat ..\\..\\config\\zookeeper.properties</code></li>\n</ul>\n</li>\n<li><p>Edit the <strong>server.properties</strong></p>\n<ul>\n<li>Uncomment this line of code : <code>listeners=PLAINTEXT://localhost:9092</code> to enable broker to be listened at this socket.</li>\n<li>Modify the <code>log.dirs</code> to point to some other valid directory instead of <code>/tmp/kafka-logs</code>.</li>\n</ul>\n</li>\n<li><p>Start the Kafka broker.</p>\n<ul>\n<li>Linux/Mac: <code>./kafka-server-start.sh ../config/server.properties</code></li>\n<li>Windows: <code>windows\\kafka-server-start.bat ..\\..\\config\\server.properties</code></li>\n</ul>\n</li>\n</ol>\n<p>That's all for initial setup.</p>\n<hr />\n<p>Visit <a href=\"https://kafka.apache.org/quickstart\" rel=\"nofollow noreferrer\">here</a> to read more info on topic creation and other things related to Kafka.</p>\n<p>Now, Spring application will be able to connect to Kafka.</p>\n"}],"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77120459,"answer_count":1,"score":0,"last_activity_date":1695023136,"creation_date":1694916529,"question_id":77120245,"body_markdown":"I added Spring Kafka to my Spring application and expected it to work, but I got \r\n&lt;!-- language: less --&gt;\r\n\r\n    INFO     [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.4.1\r\n    INFO --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8a516edc2755df89\r\n    INFO --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1694915576434\r\n    INFO --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\r\n    WARN --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established.\r\n\r\nI added it to my `pom.xml`\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand configured it \r\n&lt;!-- language-all: java --&gt;\r\n\r\n    @Bean\r\n    public KafkaAdmin kafkaAdmin() {\r\n        Map&lt;String, Object&gt; configs = new HashMap&lt;&gt;();\r\n        configs.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        return new KafkaAdmin(configs);\r\n    }\r\n\r\n    @Bean\r\n    public NewTopic checkInTopic() {\r\n        return new NewTopic(checkInTopicName, 1, (short) 1);\r\n    }\r\n\r\nwhere `bootstrapAddress` is configured via `application.yml`:\r\n&lt;!-- language: yaml --&gt;\r\n\r\n    spring:  \r\n      kafka:\r\n        bootstrap-servers: localhost:9092\r\n\r\nand I also have a producer config:\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(Map.of(\r\n                ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress,\r\n                ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\r\n                ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class\r\n        ));\r\n    }\r\n\r\nWhat&#39;s wrong? Should I run Kafka somehow manually on localhost port `9092`? I assume it&#39;s done automatically by Spring framework just as I don&#39;t have to deploy it on tomcat because it&#39;s bundled. Does it start Kafka service or should I do it myself? ","title":"Connection to node -1 (localhost/127.0.0.1:9092) could not be established in Spring Kafka","body":"<p>I added Spring Kafka to my Spring application and expected it to work, but I got</p>\n<pre class=\"lang-less prettyprint-override\"><code>INFO     [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.4.1\nINFO --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8a516edc2755df89\nINFO --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1694915576434\nINFO --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\nWARN --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established.\n</code></pre>\n<p>I added it to my <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n    &lt;version&gt;3.0.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and configured it</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic KafkaAdmin kafkaAdmin() {\n    Map&lt;String, Object&gt; configs = new HashMap&lt;&gt;();\n    configs.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    return new KafkaAdmin(configs);\n}\n\n@Bean\npublic NewTopic checkInTopic() {\n    return new NewTopic(checkInTopicName, 1, (short) 1);\n}\n</code></pre>\n<p>where <code>bootstrapAddress</code> is configured via <code>application.yml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:  \n  kafka:\n    bootstrap-servers: localhost:9092\n</code></pre>\n<p>and I also have a producer config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n\n@Bean\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\n    return new DefaultKafkaProducerFactory&lt;&gt;(Map.of(\n            ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress,\n            ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\n            ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class\n    ));\n}\n</code></pre>\n<p>What's wrong? Should I run Kafka somehow manually on localhost port <code>9092</code>? I assume it's done automatically by Spring framework just as I don't have to deploy it on tomcat because it's bundled. Does it start Kafka service or should I do it myself?</p>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1535423308,"post_id":52049227,"comment_id":91049182,"body_markdown":"`list.stream().map(m -&gt; m.get(&quot;position&quot;).toString()).collect(Collectors.toList())`","body":"<code>list.stream().map(m -&gt; m.get(&quot;position&quot;).toString()).collect(Collectors.toList())</code>"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1535441761,"creation_date":1535441596,"answer_id":52052429,"question_id":52049227,"body_markdown":"As far as I understand your question, I suppose the `list` has the following structure:\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; listOfMap = new ArrayList&lt;&gt;();\r\n\r\nAnd any number these `Map`s in the `list` can possibly have a key `&quot;position&quot;` which you want to use to extract the value. Use:\r\n\r\n    List&lt;String&gt; positions = listOfMap.stream()                         // Stream\r\n\t    \t\t \t\t\t\t      .map(map -&gt; map.get(&quot;position&quot;))  // Get from map a value by key\r\n\t    \t\t \t\t\t\t\t  .collect(Collectors.toList());    // Collect to List\r\n\r\nI would like to add up that Stream-API is definitely not a substitution of `for-loops` like you have provided in the snippet. As its [documentation][1] states, it should be *non-infering* and *stateless*. So, replacing a `for-loop` adding an element elsewhere using Stream is not a good idea - you have to find another way. \r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html","title":"Retrieve values from a list of maps using streams","body":"<p>As far as I understand your question, I suppose the <code>list</code> has the following structure:</p>\n\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; listOfMap = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>And any number these <code>Map</code>s in the <code>list</code> can possibly have a key <code>\"position\"</code> which you want to use to extract the value. Use:</p>\n\n<pre><code>List&lt;String&gt; positions = listOfMap.stream()                         // Stream\n                                  .map(map -&gt; map.get(\"position\"))  // Get from map a value by key\n                                  .collect(Collectors.toList());    // Collect to List\n</code></pre>\n\n<p>I would like to add up that Stream-API is definitely not a substitution of <code>for-loops</code> like you have provided in the snippet. As its <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">documentation</a> states, it should be <em>non-infering</em> and <em>stateless</em>. So, replacing a <code>for-loop</code> adding an element elsewhere using Stream is not a good idea - you have to find another way. </p>\n"},{"tags":[],"owner":{"account_id":29471130,"reputation":1,"user_id":22583730,"display_name":"Aniket Kanade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695023132,"creation_date":1695023132,"answer_id":77125370,"question_id":52049227,"body_markdown":"This will give you a List of Strings.  if you take values directly it will give you Objects. \r\nList&lt;String&gt; positions = listOfMap.stream().map(map -&gt; **String.valueOf**(map.get(&quot;position&quot;))) .collect(Collectors.toList()); ","title":"Retrieve values from a list of maps using streams","body":"<p>This will give you a List of Strings.  if you take values directly it will give you Objects.\nList positions = listOfMap.stream().map(map -&gt; <strong>String.valueOf</strong>(map.get(&quot;position&quot;))) .collect(Collectors.toList());</p>\n"}],"owner":{"account_id":13343493,"reputation":443,"user_id":9631005,"display_name":"Rigo Sarmiento"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6906,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52052429,"answer_count":2,"score":2,"last_activity_date":1695023132,"creation_date":1535423160,"question_id":52049227,"body_markdown":"I have a list of maps:\r\n`List&lt;Map&lt;String, Object&gt;&gt;`\r\n\r\nThe maps consist of the keys `name` and `position`.\r\n\r\nI need to retrieve all values of the key `position` from all maps of the list.\r\n\r\nCurrently I have this:\r\n\r\n    public List&lt;String&gt; getPositions() {\r\n        List&lt;String&gt; positions = new ArrayList&lt;&gt;();\r\n        list.forEach( map -&gt; {\r\n            for ( Entry&lt;String, Object&gt; entry : map.entrySet() )\r\n                if ( entry.getKey().toString().equals( &quot;position&quot; ) )\r\n                    positions.add( entry.getValue().toString() );\r\n        } );\r\n        return positions;\r\n    }\r\n\r\nIs it possible to do this faster with Java `Stream`?","title":"Retrieve values from a list of maps using streams","body":"<p>I have a list of maps:\n<code>List&lt;Map&lt;String, Object&gt;&gt;</code></p>\n\n<p>The maps consist of the keys <code>name</code> and <code>position</code>.</p>\n\n<p>I need to retrieve all values of the key <code>position</code> from all maps of the list.</p>\n\n<p>Currently I have this:</p>\n\n<pre><code>public List&lt;String&gt; getPositions() {\n    List&lt;String&gt; positions = new ArrayList&lt;&gt;();\n    list.forEach( map -&gt; {\n        for ( Entry&lt;String, Object&gt; entry : map.entrySet() )\n            if ( entry.getKey().toString().equals( \"position\" ) )\n                positions.add( entry.getValue().toString() );\n    } );\n    return positions;\n}\n</code></pre>\n\n<p>Is it possible to do this faster with Java <code>Stream</code>?</p>\n"},{"tags":["java","spring","spring-bean"],"comments":[{"owner":{"account_id":6766059,"reputation":1299,"user_id":5211043,"accept_rate":100,"display_name":"The Bitman"},"score":0,"creation_date":1596639054,"post_id":63267695,"comment_id":111876806,"body_markdown":"The package defined in the xml is `com.beans` and the real one is `com.beans.run`","body":"The package defined in the xml is <code>com.beans</code> and the real one is <code>com.beans.run</code>"},{"owner":{"account_id":17433084,"reputation":19,"user_id":12636727,"display_name":"Aman Rawat"},"score":0,"creation_date":1596639463,"post_id":63267695,"comment_id":111877023,"body_markdown":"so I have to change package from `com.beans.hello` to `com.beans.run` ? or should I add a doctype ?","body":"so I have to change package from <code>com.beans.hello</code> to <code>com.beans.run</code> ? or should I add a doctype ?"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1596639572,"post_id":63267695,"comment_id":111877086,"body_markdown":"Is there a specific reason that you&#39;re using a 10-year-old setup for a new application?","body":"Is there a specific reason that you&#39;re using a 10-year-old setup for a new application?"},{"owner":{"account_id":17433084,"reputation":19,"user_id":12636727,"display_name":"Aman Rawat"},"score":0,"creation_date":1596639911,"post_id":63267695,"comment_id":111877264,"body_markdown":"yeah I am working on java-8 with beans due to a specific reason","body":"yeah I am working on java-8 with beans due to a specific reason"},{"owner":{"account_id":6766059,"reputation":1299,"user_id":5211043,"accept_rate":100,"display_name":"The Bitman"},"score":0,"creation_date":1596640996,"post_id":63267695,"comment_id":111877858,"body_markdown":"just change the right party of the xml file to `class=&quot;com.beans.run.hello&quot;` or the class package to `com.beans`","body":"just change the right party of the xml file to <code>class=&quot;com.beans.run.hello&quot;</code> or the class package to <code>com.beans</code>"}],"answers":[{"tags":[],"owner":{"account_id":29471065,"reputation":1,"user_id":22583676,"display_name":"Nikitha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695022842,"creation_date":1695022842,"answer_id":77125347,"question_id":63267695,"body_markdown":"```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\nhttp://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n&lt;bean id=&quot;s1&quot; class=&quot;com.project.Sim1&quot;&gt;&lt;/bean&gt;\r\n&lt;bean id=&quot;s2&quot; class=&quot;com.project.Sim2&quot;&gt;&lt;/bean&gt;\r\n&lt;/beans&gt;\r\n```\r\nSo this is my XML file. \r\nI was facing the same error too and I tried everything mentioned already but nothing worked. \r\n\r\nFirst of all, I had changed http to https which was causing the error for me.\r\nBut if i used http eclipse would show an error and it would vanish when i used https. But that would cause the error mentioned in your question or a different error that goes like \r\n&quot;Line 5 of XML...&quot;. \r\n\r\nSo, ignore the white cross mark and run it anyway. You&#39;ll then get the output.\r\nI spent one full day trying to fix this error and the next day I changed https to http and ignored the cross marks and ran it anyway and it worked lol.. funny ","title":"XML document from class path resource [beans.xml] is invalid","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n&lt;bean id=&quot;s1&quot; class=&quot;com.project.Sim1&quot;&gt;&lt;/bean&gt;\n&lt;bean id=&quot;s2&quot; class=&quot;com.project.Sim2&quot;&gt;&lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>So this is my XML file.\nI was facing the same error too and I tried everything mentioned already but nothing worked.</p>\n<p>First of all, I had changed http to https which was causing the error for me.\nBut if i used http eclipse would show an error and it would vanish when i used https. But that would cause the error mentioned in your question or a different error that goes like\n&quot;Line 5 of XML...&quot;.</p>\n<p>So, ignore the white cross mark and run it anyway. You'll then get the output.\nI spent one full day trying to fix this error and the next day I changed https to http and ignored the cross marks and ran it anyway and it worked lol.. funny</p>\n"}],"owner":{"account_id":17433084,"reputation":19,"user_id":12636727,"display_name":"Aman Rawat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695022842,"creation_date":1596638790,"question_id":63267695,"body_markdown":"Hi everyone I&#39;m learning this new thing in java and I got this code from some source but when I&#39;m trying to run this code on my system I&#39;m getting this error while running my code and here is the complete error that I am getting and as I&#39;m not able to resolve this error \r\n\r\n```\r\nAug 05, 2020 8:08:40 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\r\nINFO: Loading XML bean definitions from class path resource [beans.xml]\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Line 5 in XML document from class path resource [beans.xml] is invalid; nested exception is org.xml.sax.SAXParseException: Document root element &quot;beans&quot;, must match DOCTYPE root &quot;null&quot;.\r\norg.xml.sax.SAXParseException; lineNumber: 5; columnNumber: 75; Document root element &quot;beans&quot;, must match DOCTYPE root &quot;null&quot;.\r\n\tat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)\r\n\tat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:135)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)\r\n\tat com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.rootElementSpecified(XMLDTDValidator.java:1601)\r\n\tat com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.handleStartElement(XMLDTDValidator.java:1879)\r\n\tat com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.startElement(XMLDTDValidator.java:744)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1361)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$ContentDriver.scanRootElementHook(XMLDocumentScannerImpl.java:1329)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3134)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:867)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:507)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:867)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:796)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:142)\r\n\tat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:247)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)\r\n\tat javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:121)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:126)\r\n\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:125)\r\n\tat org.springframework.context.support.AbstractXmlApplicationContext.refreshBeanFactory(AbstractXmlApplicationContext.java:65)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:226)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:58)\r\n\tat com.beans.run.run.main(run.java:11)\r\n```\r\n\r\nI&#39;m using this java code in run.java file\r\n\r\n```\r\npackage com.beans.run;\r\n\r\n\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\npublic class run {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;[+] running [+]&quot;);\r\n        ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);\r\n        hello hw = (hello) ctx.getBean(&quot;helloWorld&quot;);\r\n        hw.getMessage();\r\n    }\r\n\r\n}\r\n```\r\n\r\nand this code in hello.java file\r\n\r\n```\r\npackage com.beans.run;\r\n\r\npublic class hello {\r\n\r\n        private String message;\r\n\r\n        public void setMessage(String message){\r\n            this.message  = message;\r\n        }\r\n        public void getMessage(){\r\n            System.out.println(&quot;Your Message : &quot; + message);\r\n        }\r\n}\r\n```\r\n\r\n\r\nhere is my beans.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n    &lt;bean id=&quot;helloWorld&quot; class=&quot;com.beans.hello&quot;&gt;\r\n        &lt;property name=&quot;message&quot; value=&quot;Hello World&quot;/&gt;\r\n    &lt;/bean&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nI&#39;ve tried all possible solution but it did&#39;nt work please help me to figure this out","title":"XML document from class path resource [beans.xml] is invalid","body":"<p>Hi everyone I'm learning this new thing in java and I got this code from some source but when I'm trying to run this code on my system I'm getting this error while running my code and here is the complete error that I am getting and as I'm not able to resolve this error</p>\n<pre><code>Aug 05, 2020 8:08:40 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\nINFO: Loading XML bean definitions from class path resource [beans.xml]\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Line 5 in XML document from class path resource [beans.xml] is invalid; nested exception is org.xml.sax.SAXParseException: Document root element &quot;beans&quot;, must match DOCTYPE root &quot;null&quot;.\norg.xml.sax.SAXParseException; lineNumber: 5; columnNumber: 75; Document root element &quot;beans&quot;, must match DOCTYPE root &quot;null&quot;.\n    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)\n    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:135)\n    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)\n    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)\n    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)\n    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.rootElementSpecified(XMLDTDValidator.java:1601)\n    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.handleStartElement(XMLDTDValidator.java:1879)\n    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.startElement(XMLDTDValidator.java:744)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1361)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$ContentDriver.scanRootElementHook(XMLDocumentScannerImpl.java:1329)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3134)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:867)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:507)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:867)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:796)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:142)\n    at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:247)\n    at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)\n    at javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:121)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:126)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:125)\n    at org.springframework.context.support.AbstractXmlApplicationContext.refreshBeanFactory(AbstractXmlApplicationContext.java:65)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:226)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:58)\n    at com.beans.run.run.main(run.java:11)\n</code></pre>\n<p>I'm using this java code in run.java file</p>\n<pre><code>package com.beans.run;\n\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class run {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;[+] running [+]&quot;);\n        ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);\n        hello hw = (hello) ctx.getBean(&quot;helloWorld&quot;);\n        hw.getMessage();\n    }\n\n}\n</code></pre>\n<p>and this code in hello.java file</p>\n<pre><code>package com.beans.run;\n\npublic class hello {\n\n        private String message;\n\n        public void setMessage(String message){\n            this.message  = message;\n        }\n        public void getMessage(){\n            System.out.println(&quot;Your Message : &quot; + message);\n        }\n}\n</code></pre>\n<p>here is my beans.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\n    &lt;bean id=&quot;helloWorld&quot; class=&quot;com.beans.hello&quot;&gt;\n        &lt;property name=&quot;message&quot; value=&quot;Hello World&quot;/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>I've tried all possible solution but it did'nt work please help me to figure this out</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":3058835,"reputation":2381,"user_id":4114323,"accept_rate":85,"display_name":"ryekayo"},"score":0,"creation_date":1470752344,"post_id":38853317,"comment_id":65070690,"body_markdown":"Can you show the stacktrace please?","body":"Can you show the stacktrace please?"}],"answers":[{"comments":[{"owner":{"account_id":2007817,"reputation":1508,"user_id":1797171,"accept_rate":39,"display_name":"sandris"},"score":1,"creation_date":1470811487,"post_id":38853704,"comment_id":65094991,"body_markdown":"this worked - @ManyToOne(cascade = {PERSIST, MERGE})","body":"this worked - @ManyToOne(cascade = {PERSIST, MERGE})"},{"owner":{"account_id":17067803,"reputation":453,"user_id":12743240,"display_name":"gcr"},"score":0,"creation_date":1639960646,"post_id":38853704,"comment_id":124474634,"body_markdown":"This worked for me but I don&#39;t understand it. I changed a @OneToMany(...cascade = CascadeType.ALL...) to ... CascadeType.MERGE. I thought my problem was in my controller class or elsewhere, where I ran blockRepository.save(new_block). How could there be multiple copies of the object when I just instantiated it a few lines prior and checked everything twice, and its PK is a timestamp, guaranteed to be unique? But your solution worked. I&#39;ve got to learn why","body":"This worked for me but I don&#39;t understand it. I changed a @OneToMany(...cascade = CascadeType.ALL...) to ... CascadeType.MERGE. I thought my problem was in my controller class or elsewhere, where I ran blockRepository.save(new_block). How could there be multiple copies of the object when I just instantiated it a few lines prior and checked everything twice, and its PK is a timestamp, guaranteed to be unique? But your solution worked. I&#39;ve got to learn why"}],"tags":[],"owner":{"account_id":8819086,"reputation":931,"user_id":6589559,"display_name":"Gokul"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1470753281,"creation_date":1470753281,"answer_id":38853704,"question_id":38853317,"body_markdown":"By seeing as much code you have provided this types of problem comes because the  objects are not referring to the same Java  object instance.This can happen when you have used same session object for read &amp; write Or if you are putting same object in single session. They are referring to the same row in the database (i.e. the same primary key) but they&#39;re different copies of it.So what is happening is that the session, which is managing the entities would be keeping track of which Java object corresponds to the row with the same primary key. \r\n\r\nI would recommend you to try below given code.\r\n\r\n    1- Just set cascade to MERGE, that should work for you.\r\n    \r\n           OR\r\n    \t   \r\n    2- @GeneratedValue(strategy = GenerationType.SEQUENCE)   OR Other GenerationType ","title":"spring jpa - a different object with the same identifier value was already associated with the session","body":"<p>By seeing as much code you have provided this types of problem comes because the  objects are not referring to the same Java  object instance.This can happen when you have used same session object for read &amp; write Or if you are putting same object in single session. They are referring to the same row in the database (i.e. the same primary key) but they're different copies of it.So what is happening is that the session, which is managing the entities would be keeping track of which Java object corresponds to the row with the same primary key. </p>\n\n<p>I would recommend you to try below given code.</p>\n\n<pre><code>1- Just set cascade to MERGE, that should work for you.\n\n       OR\n\n2- @GeneratedValue(strategy = GenerationType.SEQUENCE)   OR Other GenerationType \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14043898,"reputation":1,"user_id":10144666,"display_name":"user10144666"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695022659,"creation_date":1695021696,"answer_id":77125247,"question_id":38853317,"body_markdown":"You Should also check your Entity class &quot;Country&quot;, where there is field &quot;countryCode&quot;. In this field you only annotate @Id but I recommended that you should also add @GeneratedValue(strategy = GenerationType.IDENTITY) \r\n\r\n`public class Country {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;COUNTRY_CODE&quot;)\r\n    private String countryCode;\r\n\r\n    public boolean equals(Object o) {}\r\n\r\n    public int hashCode() { }\r\n\r\n}`\r\n","title":"spring jpa - a different object with the same identifier value was already associated with the session","body":"<p>You Should also check your Entity class &quot;Country&quot;, where there is field &quot;countryCode&quot;. In this field you only annotate @Id but I recommended that you should also add @GeneratedValue(strategy = GenerationType.IDENTITY)</p>\n<p>`public class Country {</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;COUNTRY_CODE&quot;)\nprivate String countryCode;\n\npublic boolean equals(Object o) {}\n\npublic int hashCode() { }\n</code></pre>\n<p>}`</p>\n"}],"owner":{"account_id":2007817,"reputation":1508,"user_id":1797171,"accept_rate":39,"display_name":"sandris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30394,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":38853704,"answer_count":2,"score":10,"last_activity_date":1695022659,"creation_date":1470752258,"question_id":38853317,"body_markdown":"Searched through SO but looks like there is no similar case to mine.\r\n\r\nThere is an entity Country, with a single field:\r\n\r\n    public class Country {\r\n    \r\n        @Id\r\n        @Column(name = &quot;COUNTRY_CODE&quot;)\r\n        private String countryCode;\r\n\r\n        public boolean equals(Object o) {}\r\n\r\n        public int hashCode() { }\r\n    }\r\n\r\nAnd another class which has a collection of these entries:\r\n\r\n    public class Product {\r\n    \r\n        @ManyToOne(fetch = EAGER, cascade = ALL)\r\n        @JoinColumn(name = &quot;COUNTRY_CODE&quot;)\r\n        private Country country;\r\n    }\r\n\r\nWhen setting country through:\r\n\r\n    product.setCountry(new Country(&quot;lv&quot;))\r\n\r\nI assume that it will just be saved, if it is present.\r\n\r\nBut instead I get an exception - a different object with the same identifier value was already associated with the session","title":"spring jpa - a different object with the same identifier value was already associated with the session","body":"<p>Searched through SO but looks like there is no similar case to mine.</p>\n\n<p>There is an entity Country, with a single field:</p>\n\n<pre><code>public class Country {\n\n    @Id\n    @Column(name = \"COUNTRY_CODE\")\n    private String countryCode;\n\n    public boolean equals(Object o) {}\n\n    public int hashCode() { }\n}\n</code></pre>\n\n<p>And another class which has a collection of these entries:</p>\n\n<pre><code>public class Product {\n\n    @ManyToOne(fetch = EAGER, cascade = ALL)\n    @JoinColumn(name = \"COUNTRY_CODE\")\n    private Country country;\n}\n</code></pre>\n\n<p>When setting country through:</p>\n\n<pre><code>product.setCountry(new Country(\"lv\"))\n</code></pre>\n\n<p>I assume that it will just be saved, if it is present.</p>\n\n<p>But instead I get an exception - a different object with the same identifier value was already associated with the session</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":5,"creation_date":1695022628,"post_id":77125310,"comment_id":135963302,"body_markdown":"`Arrays#asList` returns a fixed-size list, you cannot add nor remove from it. Note you can easily pass the contents of that into a mutable list though: `new ArrayList&lt;&gt;(Arrays.asList(...));`. Note that the `#put` call with the list is unnecessary: you can modify the list retrieved from the map, and the list held in the map will also &quot;update&quot; (in reality, they both reference the same object).","body":"<code>Arrays#asList</code> returns a fixed-size list, you cannot add nor remove from it. Note you can easily pass the contents of that into a mutable list though: <code>new ArrayList&lt;&gt;(Arrays.asList(...));</code>. Note that the <code>#put</code> call with the list is unnecessary: you can modify the list retrieved from the map, and the list held in the map will also &quot;update&quot; (in reality, they both reference the same object)."},{"owner":{"account_id":23244023,"reputation":1,"user_id":22302241,"display_name":"Wei Zhang"},"score":0,"creation_date":1695062216,"post_id":77125310,"comment_id":135971211,"body_markdown":"Thanks! This really solved the problem.","body":"Thanks! This really solved the problem."}],"owner":{"account_id":23244023,"reputation":1,"user_id":22302241,"display_name":"Wei Zhang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695022701,"answer_count":0,"score":0,"last_activity_date":1695022590,"creation_date":1695022485,"question_id":77125310,"body_markdown":"I am using Leetcode to practice algorithms. I came across Question 1218.  My code is the following\r\n\r\n```\r\nclass Solution {\r\n    public int longestSubsequence(int[] arr, int difference) {\r\n\r\n        // HashMap\r\n        Map&lt;Integer, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n        \r\n        for (int i=0;i&lt;arr.length;i++){\r\n            if (map.containsKey(arr[i])){\r\n\r\n                List&lt;Integer&gt; temp=map.get(arr[i]);\r\n                int num = arr[i];\r\n\r\n                temp.add(num);\r\n\r\n                map.remove(arr[i]);\r\n                map.put(arr[i]+difference,temp);\r\n            } else{\r\n                map.put(arr[i]+difference,Arrays.asList(arr[i]));\r\n            }\r\n\r\n        }\r\n        int res = 1;\r\n        for (List&lt;Integer&gt; i:map.values()){\r\n            res=Math.max(res,i.size());\r\n        }\r\n        return res;\r\n\r\n\r\n        \r\n    }\r\n}\r\n```\r\n\r\n\r\nThe error is\r\n\r\n```\r\njava.lang.UnsupportedOperationException\r\n  at line 153, java.base/java.util.AbstractList.add\r\n  at line 111, java.base/java.util.AbstractList.add\r\n  at line 13, Solution.longestSubsequence\r\n  at line 54, __DriverSolution__.__helper__\r\n  at line 87, __Driver__.main\r\n```\r\n\r\nP.S. Line 13 is the line `temp.add(num)`;\r\n\r\n\r\n\r\nI am really really confused. I am just adding an integer to an array List&lt;Integer&gt;. What I did was wrong?\r\n","title":"Java ArrayList returns error when I add element to it &quot;UnsupportedOperationException&quot;. How to resolve this?","body":"<p>I am using Leetcode to practice algorithms. I came across Question 1218.  My code is the following</p>\n<pre><code>class Solution {\n    public int longestSubsequence(int[] arr, int difference) {\n\n        // HashMap\n        Map&lt;Integer, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\n        \n        for (int i=0;i&lt;arr.length;i++){\n            if (map.containsKey(arr[i])){\n\n                List&lt;Integer&gt; temp=map.get(arr[i]);\n                int num = arr[i];\n\n                temp.add(num);\n\n                map.remove(arr[i]);\n                map.put(arr[i]+difference,temp);\n            } else{\n                map.put(arr[i]+difference,Arrays.asList(arr[i]));\n            }\n\n        }\n        int res = 1;\n        for (List&lt;Integer&gt; i:map.values()){\n            res=Math.max(res,i.size());\n        }\n        return res;\n\n\n        \n    }\n}\n</code></pre>\n<p>The error is</p>\n<pre><code>java.lang.UnsupportedOperationException\n  at line 153, java.base/java.util.AbstractList.add\n  at line 111, java.base/java.util.AbstractList.add\n  at line 13, Solution.longestSubsequence\n  at line 54, __DriverSolution__.__helper__\n  at line 87, __Driver__.main\n</code></pre>\n<p>P.S. Line 13 is the line <code>temp.add(num)</code>;</p>\n<p>I am really really confused. I am just adding an integer to an array List. What I did was wrong?</p>\n"},{"tags":["java","spring-boot","hashicorp-vault","spring-cloud-vault-config"],"answers":[{"tags":[],"owner":{"account_id":8280949,"reputation":69,"user_id":6225677,"display_name":"Viv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695022290,"creation_date":1695022290,"answer_id":77125293,"question_id":76835524,"body_markdown":"I have solved this problem by removing the bootstrap starter dependency, moving the bootstrap properties to application yaml, and including config for vault in application yaml\r\n\r\nconfig:\r\n    import: optional:vault://\r\n\r\nPlease refer to the documentation for this below,\r\n\r\nhttps://docs.spring.io/spring-cloud-vault/docs/current/reference/html/#vault.configdata.location.optional","title":"Spring Cloud Vault Config Databases Doesn&#39;t load the properties without bootstrap properties","body":"<p>I have solved this problem by removing the bootstrap starter dependency, moving the bootstrap properties to application yaml, and including config for vault in application yaml</p>\n<p>config:\nimport: optional:vault://</p>\n<p>Please refer to the documentation for this below,</p>\n<p><a href=\"https://docs.spring.io/spring-cloud-vault/docs/current/reference/html/#vault.configdata.location.optional\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-vault/docs/current/reference/html/#vault.configdata.location.optional</a></p>\n"}],"owner":{"account_id":8280949,"reputation":69,"user_id":6225677,"display_name":"Viv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77125293,"answer_count":1,"score":0,"last_activity_date":1695022290,"creation_date":1691149082,"question_id":76835524,"body_markdown":"Describe the bug\r\nWe are using database secret engine in hashicorp vault with dynamic role setup to get dynamic credentials. We are trying to fetch the same in Springboot application using spring-cloud-vault-config-databases, however the properties are not working until we enable and specify the bootstrap yaml properties. They should have working as is with application properties but they don&#39;t work.\r\n\r\nSample\r\npom.xml\r\n\r\n    4.0.0 org.springframework.boot spring-boot-starter-parent 2.7.8 com.fyndna vault-demo 0.0.1-SNAPSHOT vault-demo Demo project for integration with Hashicorp Vault 17 2021.0.2 org.springframework.cloud spring-cloud-dependencies ${spring-cloud.version} pom import org.springframework.boot spring-boot-starter-web org.springframework.cloud spring-cloud-starter-bootstrap org.springframework.boot spring-boot-starter-data-jpa org.springframework.cloud spring-cloud-vault-config-databases org.postgresql postgresql runtime org.springframework.boot spring-boot-starter-validation\r\n    \t&lt;!-- Dapr&#39;s core SDK with all features, except Actors. --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.dapr&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;dapr-sdk&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.7.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;!-- Dapr&#39;s SDK for Actors (optional). --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.dapr&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;dapr-sdk-actors&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.7.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;!-- Dapr&#39;s SDK integration with SpringBoot (optional). --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.dapr&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;dapr-sdk-springboot&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.7.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.9.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;tess4j&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.openpnp&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;opencv&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;[4.3.0,)&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    bootstrap yaml ---\r\n    spring:\r\n    application:\r\n    name: vault-demo\r\n    cloud:\r\n    vault:\r\n    authentication: TOKEN\r\n    token: 00000000-0000-0000-0000-000000000000\r\n    host: localhost\r\n    port: 8200\r\n    scheme: http\r\n    fail-fast: true\r\n    config:\r\n    lifecycle:\r\n    enabled: true\r\n    min-renewal: 5s\r\n    expiry-threshold: 1m\r\n    generic:\r\n    enabled: true\r\n    backend: secret\r\n    database:\r\n    enabled: true\r\n    role: dynamic-role\r\n    backend: database\r\n    datasource:\r\n    url: jdbc:postgresql://localhost:5433/yugabyte\r\n    platform: postgres\r\n    type: com.zaxxer.hikari.HikariDataSource\r\n    hikari:\r\n    transactionIsolation: TRANSACTION_SERIALIZABLE\r\n    schema: alert_manager\r\n    jpa:\r\n    show-sql: true\r\n    generate-ddl: true\r\n    hibernate:\r\n    ddl-auto: validate\r\n    \r\n    package com.mycomp.security.vault;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\n    import org.springframework.vault.authentication.SessionManager;\r\n    \r\n    @SpringBootApplication\r\n    @EnableJpaAuditing\r\n    public class VaultDemoApplication {\r\n    \r\n    private static final Logger logger = LoggerFactory.getLogger(VaultDemoApplication.class);\r\n    @Autowired\r\n    private SessionManager sessionManager;\r\n    \r\n    @Value(&quot;${spring.datasource.username}&quot;)\r\n    private String dbUser;\r\n    \r\n    @Value(&quot;${spring.datasource.password}&quot;)\r\n    private String dbPass;\r\n    \r\n    public static void main(String[] args) {\r\n    \tSpringApplication.run(VaultDemoApplication.class, args);\r\n    }\r\n    \r\n    @PostConstruct\r\n    public void initIt() throws Exception {\r\n    \tlogger.info(&quot;Got Vault Token: &quot; + sessionManager.getSessionToken().getToken());\r\n    \tlogger.info(&quot;Got DB User: &quot; + dbUser);\r\n    \tlogger.info(&quot;Got DB Pass: &quot; + dbPass);\r\n    }\r\n    }\r\n    \r\n    ---- Now if we disable the bootstrap and rename the bootstrap property with application yaml then it doesn&#39;t work and thorws errors and stacktraces for bootstrap properties ---- please see the below logs ----\r\n    \r\n    -------------------------------======================================================--------------------------\r\n    \r\n    . ____ _ __ _ _\r\n    /\\ / &#39; __ _ () __ __ _ \\ \\ \\\r\n    ( ( )__ | &#39;_ | &#39;| | &#39; / ` | \\ \\ \\\r\n    \\/ )| |)| | | | | || (| | ) ) ) )\r\n    &#39; || .__|| ||| |_, | / / / /\r\n    =========||==============|/=////\r\n    :: Spring Boot :: (v2.7.8)\r\n    \r\n    2023-08-02 11:14:05.806 WARN 83143 --- [ main] o.s.v.a.LifecycleAwareSessionManager : Cannot enhance VaultToken to a LoginToken: Token self-lookup failed; nested exception is org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;https://localhost:8200/v1/auth/token/lookup-self&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\r\n    2023-08-02 11:14:05.865 INFO 83143 --- [ main] b.c.PropertySourceBootstrapConfiguration : Located property source: [BootstrapPropertySource {name=&#39;bootstrapProperties-secret/application&#39;}]\r\n    2023-08-02 11:14:05.894 INFO 83143 --- [ main] c.f.security.vault.VaultDemoApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-08-02 11:14:05.974 WARN 83143 --- [ main] LeaseEventPublisher$LoggingErrorListener : [RequestedSecret [path=&#39;secret/application&#39;, mode=ROTATE]] Lease [leaseId=&#39;null&#39;, leaseDuration=PT0S, renewable=false] I/O error on GET request for &quot;https://localhost:8200/v1/secret/application&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\r\n    \r\n    org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;https://localhost:8200/v1/secret/application&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\r\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:340) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.vault.core.VaultTemplate.lambda$doRead$5(VaultTemplate.java:461) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.VaultTemplate.doWithSession(VaultTemplate.java:448) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.VaultTemplate.doRead(VaultTemplate.java:458) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.VaultTemplate.read(VaultTemplate.java:353) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.lease.SecretLeaseContainer.doGetSecrets(SecretLeaseContainer.java:645) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.lease.SecretLeaseContainer.doStart(SecretLeaseContainer.java:390) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.lease.SecretLeaseContainer.start(SecretLeaseContainer.java:380) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.lease.SecretLeaseContainer.addRequestedSecret(SecretLeaseContainer.java:343) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.env.LeaseAwareVaultPropertySource.loadProperties(LeaseAwareVaultPropertySource.java:176) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.env.LeaseAwareVaultPropertySource.(LeaseAwareVaultPropertySource.java:161) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.env.LeaseAwareVaultPropertySource.(LeaseAwareVaultPropertySource.java:119) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.cloud.vault.config.LeasingVaultPropertySourceLocator.createVaultPropertySource(LeasingVaultPropertySourceLocator.java:146) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\r\n    at org.springframework.cloud.vault.config.LeasingVaultPropertySourceLocator.createVaultPropertySource(LeasingVaultPropertySourceLocator.java:83) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\r\n    at org.springframework.cloud.vault.config.VaultPropertySourceLocatorSupport.doCreatePropertySources(VaultPropertySourceLocatorSupport.java:122) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\r\n    at org.springframework.cloud.vault.config.VaultPropertySourceLocatorSupport.createCompositePropertySource(VaultPropertySourceLocatorSupport.java:101) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\r\n    at org.springframework.cloud.vault.config.VaultPropertySourceLocatorSupport.locate(VaultPropertySourceLocatorSupport.java:76) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\r\n    at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:51) ~[spring-cloud-context-3.1.2.jar:3.1.2]\r\n    at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:47) ~[spring-cloud-context-3.1.2.jar:3.1.2]\r\n    at org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:95) ~[spring-cloud-context-3.1.2.jar:3.1.2]\r\n    at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:604) ~[spring-boot-2.7.8.jar:2.7.8]\r\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:373) ~[spring-boot-2.7.8.jar:2.7.8]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:306) ~[spring-boot-2.7.8.jar:2.7.8]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.8.jar:2.7.8]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.8.jar:2.7.8]\r\n    at com.mycomp.security.vault.VaultDemoApplication.main(VaultDemoApplication.java:29) ~[classes/:na]\r\n    Caused by: java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\r\n    at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154) ~[okhttp-4.9.0.jar:na]\r\n    at org.springframework.http.client.OkHttp3ClientHttpRequest.executeInternal(OkHttp3ClientHttpRequest.java:73) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:109) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.vault.core.VaultTemplate.lambda$getSessionInterceptor$1(VaultTemplate.java:255) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.vault.client.RestTemplateBuilder.lambda$createTemplate$4(RestTemplateBuilder.java:239) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.vault.client.VaultClients.lambda$createRestTemplate$0(VaultClients.java:122) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782) ~[spring-web-5.3.25.jar:5.3.25]\r\n    ... 27 common frames omitted\r\n    Suppressed: javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\r\n    at java.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451) ~[na:na]\r\n    at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:175) ~[na:na]\r\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111) ~[na:na]\r\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1500) ~[na:na]\r\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1415) ~[na:na]\r\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450) ~[na:na]\r\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:421) ~[na:na]\r\n    at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.kt:379) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.kt:337) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:209) ~[okhttp-4.9.0.jar:na]\r\n    ... 55 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused\r\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\r\n    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]\r\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549) ~[na:na]\r\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]\r\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\r\n    at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\r\n    at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:120) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295) ~[okhttp-4.9.0.jar:na]\r\n    ... 56 common frames omitted\r\n    \r\n    2023-08-02 11:14:05.977 INFO 83143 --- [ main] o.s.v.c.e.LeaseAwareVaultPropertySource : Vault location [secret/application] not resolvable: I/O error on GET request for &quot;https://localhost:8200/v1/secret/application&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\r\n    2023-08-02 11:14:06.845 INFO 83143 --- [ main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-08-02 11:14:06.965 INFO 83143 --- [ main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 114 ms. Found 1 JPA repository interfaces.\r\n    2023-08-02 11:14:07.165 INFO 83143 --- [ main] o.s.cloud.context.scope.GenericScope : BeanFactory id=e2ef9e1a-5270-34d9-869d-92664cf987c9\r\n    2023-08-02 11:14:07.647 INFO 83143 --- [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8080 (http)\r\n    2023-08-02 11:14:07.656 INFO 83143 --- [ main] o.apache.catalina.core.StandardService : Starting service [Tomcat]\r\n    2023-08-02 11:14:07.657 INFO 83143 --- [ main] org.apache.catalina.core.StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.71]\r\n    2023-08-02 11:14:07.811 INFO 83143 --- [ main] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext\r\n    2023-08-02 11:14:07.812 INFO 83143 --- [ main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1832 ms\r\n    2023-08-02 11:14:07.990 INFO 83143 --- [ main] o.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2023-08-02 11:14:08.026 INFO 83143 --- [ main] org.hibernate.Version : HHH000412: Hibernate ORM core version 5.6.14.Final\r\n    2023-08-02 11:14:08.230 INFO 83143 --- [ main] o.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2023-08-02 11:14:08.362 INFO 83143 --- [ main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...\r\n    2023-08-02 11:14:09.677 ERROR 83143 --- [ main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Exception during pool initialization.\r\n    \r\n    org.postgresql.util.PSQLException: FATAL: role &quot;vithakur&quot; does not exist\r\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2787) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at org.postgresql.core.v3.QueryExecutorImpl.(QueryExecutorImpl.java:173) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:290) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at org.postgresql.jdbc.PgConnection.(PgConnection.java:223) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-4.0.3.jar:na]\r\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\r\n\r\n","title":"Spring Cloud Vault Config Databases Doesn&#39;t load the properties without bootstrap properties","body":"<p>Describe the bug\nWe are using database secret engine in hashicorp vault with dynamic role setup to get dynamic credentials. We are trying to fetch the same in Springboot application using spring-cloud-vault-config-databases, however the properties are not working until we enable and specify the bootstrap yaml properties. They should have working as is with application properties but they don't work.</p>\n<p>Sample\npom.xml</p>\n<pre><code>4.0.0 org.springframework.boot spring-boot-starter-parent 2.7.8 com.fyndna vault-demo 0.0.1-SNAPSHOT vault-demo Demo project for integration with Hashicorp Vault 17 2021.0.2 org.springframework.cloud spring-cloud-dependencies ${spring-cloud.version} pom import org.springframework.boot spring-boot-starter-web org.springframework.cloud spring-cloud-starter-bootstrap org.springframework.boot spring-boot-starter-data-jpa org.springframework.cloud spring-cloud-vault-config-databases org.postgresql postgresql runtime org.springframework.boot spring-boot-starter-validation\n    &lt;!-- Dapr's core SDK with all features, except Actors. --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.dapr&lt;/groupId&gt;\n        &lt;artifactId&gt;dapr-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Dapr's SDK for Actors (optional). --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.dapr&lt;/groupId&gt;\n        &lt;artifactId&gt;dapr-sdk-actors&lt;/artifactId&gt;\n        &lt;version&gt;1.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Dapr's SDK integration with SpringBoot (optional). --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.dapr&lt;/groupId&gt;\n        &lt;artifactId&gt;dapr-sdk-springboot&lt;/artifactId&gt;\n        &lt;version&gt;1.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n        &lt;version&gt;4.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\n        &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openpnp&lt;/groupId&gt;\n        &lt;artifactId&gt;opencv&lt;/artifactId&gt;\n        &lt;version&gt;[4.3.0,)&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\nbootstrap yaml ---\nspring:\napplication:\nname: vault-demo\ncloud:\nvault:\nauthentication: TOKEN\ntoken: 00000000-0000-0000-0000-000000000000\nhost: localhost\nport: 8200\nscheme: http\nfail-fast: true\nconfig:\nlifecycle:\nenabled: true\nmin-renewal: 5s\nexpiry-threshold: 1m\ngeneric:\nenabled: true\nbackend: secret\ndatabase:\nenabled: true\nrole: dynamic-role\nbackend: database\ndatasource:\nurl: jdbc:postgresql://localhost:5433/yugabyte\nplatform: postgres\ntype: com.zaxxer.hikari.HikariDataSource\nhikari:\ntransactionIsolation: TRANSACTION_SERIALIZABLE\nschema: alert_manager\njpa:\nshow-sql: true\ngenerate-ddl: true\nhibernate:\nddl-auto: validate\n\npackage com.mycomp.security.vault;\n\nimport javax.annotation.PostConstruct;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\nimport org.springframework.vault.authentication.SessionManager;\n\n@SpringBootApplication\n@EnableJpaAuditing\npublic class VaultDemoApplication {\n\nprivate static final Logger logger = LoggerFactory.getLogger(VaultDemoApplication.class);\n@Autowired\nprivate SessionManager sessionManager;\n\n@Value(&quot;${spring.datasource.username}&quot;)\nprivate String dbUser;\n\n@Value(&quot;${spring.datasource.password}&quot;)\nprivate String dbPass;\n\npublic static void main(String[] args) {\n    SpringApplication.run(VaultDemoApplication.class, args);\n}\n\n@PostConstruct\npublic void initIt() throws Exception {\n    logger.info(&quot;Got Vault Token: &quot; + sessionManager.getSessionToken().getToken());\n    logger.info(&quot;Got DB User: &quot; + dbUser);\n    logger.info(&quot;Got DB Pass: &quot; + dbPass);\n}\n}\n\n---- Now if we disable the bootstrap and rename the bootstrap property with application yaml then it doesn't work and thorws errors and stacktraces for bootstrap properties ---- please see the below logs ----\n\n-------------------------------======================================================--------------------------\n\n. ____ _ __ _ _\n/\\ / ' __ _ () __ __ _ \\ \\ \\\n( ( )__ | '_ | '| | ' / ` | \\ \\ \\\n\\/ )| |)| | | | | || (| | ) ) ) )\n' || .__|| ||| |_, | / / / /\n=========||==============|/=////\n:: Spring Boot :: (v2.7.8)\n\n2023-08-02 11:14:05.806 WARN 83143 --- [ main] o.s.v.a.LifecycleAwareSessionManager : Cannot enhance VaultToken to a LoginToken: Token self-lookup failed; nested exception is org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;https://localhost:8200/v1/auth/token/lookup-self&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\n2023-08-02 11:14:05.865 INFO 83143 --- [ main] b.c.PropertySourceBootstrapConfiguration : Located property source: [BootstrapPropertySource {name='bootstrapProperties-secret/application'}]\n2023-08-02 11:14:05.894 INFO 83143 --- [ main] c.f.security.vault.VaultDemoApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-08-02 11:14:05.974 WARN 83143 --- [ main] LeaseEventPublisher$LoggingErrorListener : [RequestedSecret [path='secret/application', mode=ROTATE]] Lease [leaseId='null', leaseDuration=PT0S, renewable=false] I/O error on GET request for &quot;https://localhost:8200/v1/secret/application&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\n\norg.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;https://localhost:8200/v1/secret/application&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:340) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.vault.core.VaultTemplate.lambda$doRead$5(VaultTemplate.java:461) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.VaultTemplate.doWithSession(VaultTemplate.java:448) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.VaultTemplate.doRead(VaultTemplate.java:458) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.VaultTemplate.read(VaultTemplate.java:353) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.lease.SecretLeaseContainer.doGetSecrets(SecretLeaseContainer.java:645) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.lease.SecretLeaseContainer.doStart(SecretLeaseContainer.java:390) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.lease.SecretLeaseContainer.start(SecretLeaseContainer.java:380) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.lease.SecretLeaseContainer.addRequestedSecret(SecretLeaseContainer.java:343) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.env.LeaseAwareVaultPropertySource.loadProperties(LeaseAwareVaultPropertySource.java:176) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.env.LeaseAwareVaultPropertySource.(LeaseAwareVaultPropertySource.java:161) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.env.LeaseAwareVaultPropertySource.(LeaseAwareVaultPropertySource.java:119) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.cloud.vault.config.LeasingVaultPropertySourceLocator.createVaultPropertySource(LeasingVaultPropertySourceLocator.java:146) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\nat org.springframework.cloud.vault.config.LeasingVaultPropertySourceLocator.createVaultPropertySource(LeasingVaultPropertySourceLocator.java:83) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\nat org.springframework.cloud.vault.config.VaultPropertySourceLocatorSupport.doCreatePropertySources(VaultPropertySourceLocatorSupport.java:122) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\nat org.springframework.cloud.vault.config.VaultPropertySourceLocatorSupport.createCompositePropertySource(VaultPropertySourceLocatorSupport.java:101) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\nat org.springframework.cloud.vault.config.VaultPropertySourceLocatorSupport.locate(VaultPropertySourceLocatorSupport.java:76) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\nat org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:51) ~[spring-cloud-context-3.1.2.jar:3.1.2]\nat org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:47) ~[spring-cloud-context-3.1.2.jar:3.1.2]\nat org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:95) ~[spring-cloud-context-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:604) ~[spring-boot-2.7.8.jar:2.7.8]\nat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:373) ~[spring-boot-2.7.8.jar:2.7.8]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:306) ~[spring-boot-2.7.8.jar:2.7.8]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.8.jar:2.7.8]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.8.jar:2.7.8]\nat com.mycomp.security.vault.VaultDemoApplication.main(VaultDemoApplication.java:29) ~[classes/:na]\nCaused by: java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\nat okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.RealCall.execute(RealCall.kt:154) ~[okhttp-4.9.0.jar:na]\nat org.springframework.http.client.OkHttp3ClientHttpRequest.executeInternal(OkHttp3ClientHttpRequest.java:73) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:109) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.vault.core.VaultTemplate.lambda$getSessionInterceptor$1(VaultTemplate.java:255) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.vault.client.RestTemplateBuilder.lambda$createTemplate$4(RestTemplateBuilder.java:239) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.vault.client.VaultClients.lambda$createRestTemplate$0(VaultClients.java:122) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782) ~[spring-web-5.3.25.jar:5.3.25]\n... 27 common frames omitted\nSuppressed: javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\nat java.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:175) ~[na:na]\nat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1500) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1415) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:421) ~[na:na]\nat okhttp3.internal.connection.RealConnection.connectTls(RealConnection.kt:379) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.kt:337) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:209) ~[okhttp-4.9.0.jar:na]\n... 55 common frames omitted\nCaused by: java.net.ConnectException: Connection refused\nat java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\nat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]\nat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549) ~[na:na]\nat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]\nat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\nat java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\nat okhttp3.internal.platform.Platform.connectSocket(Platform.kt:120) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295) ~[okhttp-4.9.0.jar:na]\n... 56 common frames omitted\n\n2023-08-02 11:14:05.977 INFO 83143 --- [ main] o.s.v.c.e.LeaseAwareVaultPropertySource : Vault location [secret/application] not resolvable: I/O error on GET request for &quot;https://localhost:8200/v1/secret/application&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\n2023-08-02 11:14:06.845 INFO 83143 --- [ main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-08-02 11:14:06.965 INFO 83143 --- [ main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 114 ms. Found 1 JPA repository interfaces.\n2023-08-02 11:14:07.165 INFO 83143 --- [ main] o.s.cloud.context.scope.GenericScope : BeanFactory id=e2ef9e1a-5270-34d9-869d-92664cf987c9\n2023-08-02 11:14:07.647 INFO 83143 --- [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8080 (http)\n2023-08-02 11:14:07.656 INFO 83143 --- [ main] o.apache.catalina.core.StandardService : Starting service [Tomcat]\n2023-08-02 11:14:07.657 INFO 83143 --- [ main] org.apache.catalina.core.StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.71]\n2023-08-02 11:14:07.811 INFO 83143 --- [ main] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext\n2023-08-02 11:14:07.812 INFO 83143 --- [ main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1832 ms\n2023-08-02 11:14:07.990 INFO 83143 --- [ main] o.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-08-02 11:14:08.026 INFO 83143 --- [ main] org.hibernate.Version : HHH000412: Hibernate ORM core version 5.6.14.Final\n2023-08-02 11:14:08.230 INFO 83143 --- [ main] o.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2023-08-02 11:14:08.362 INFO 83143 --- [ main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...\n2023-08-02 11:14:09.677 ERROR 83143 --- [ main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: FATAL: role &quot;vithakur&quot; does not exist\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]\nat org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2787) ~[postgresql-42.3.8.jar:42.3.8]\nat org.postgresql.core.v3.QueryExecutorImpl.(QueryExecutorImpl.java:173) ~[postgresql-42.3.8.jar:42.3.8]\nat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:290) ~[postgresql-42.3.8.jar:42.3.8]\nat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.8.jar:42.3.8]\nat org.postgresql.jdbc.PgConnection.(PgConnection.java:223) ~[postgresql-42.3.8.jar:42.3.8]\nat org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.8.jar:42.3.8]\nat org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.3.8.jar:42.3.8]\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-4.0.3.jar:na]\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","netflix-eureka"],"comments":[{"owner":{"account_id":29428878,"reputation":1,"user_id":22548948,"display_name":"Atif Tirmizi"},"score":0,"creation_date":1695104812,"post_id":77125267,"comment_id":135975685,"body_markdown":"UDPATE - I&#39;m able to now see the API-gateway as a running instance after I changed the eureka.client.register-with-eureka to be &#39;true&#39;. However, I still don&#39;t see the CT-cryptography-core-lib service running in the instances of the server","body":"UDPATE - I&#39;m able to now see the API-gateway as a running instance after I changed the eureka.client.register-with-eureka to be &#39;true&#39;. However, I still don&#39;t see the CT-cryptography-core-lib service running in the instances of the server"}],"owner":{"account_id":29428878,"reputation":1,"user_id":22548948,"display_name":"Atif Tirmizi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695021986,"creation_date":1695021986,"question_id":77125267,"body_markdown":"Basically, I&#39;m building microservice(s) architecture, where I want to implement an API gateway that acts as a proxy to route API requests to other spring boot applications from the api-gateway. \r\nI created a new Spring Boot application called &#39;ct-api-gateway-proxy-service&#39; to be the API gateway and added the @EnableEurekaServer annotation to the running file. It is running on port 8888. However, when I run the localhost:8888, the server is up but I don&#39;t see the connected microservice as a running instance. I also added localhost:8888/eureka but I get a whitepage label error.\r\n\r\nThe connecting microservice client is called &#39;CT-cryptography-core-lib&#39;. This is an existing spring boot application that I&#39;m trying to connect to the API gateway. This application is annotated with &#39;@EnableEurekaClient&#39;. However, when I run this application, it runs successfully but I don&#39;t actually see it running on the Eureka server UI (localhost:8888) as an instance on the gateway server. I also don&#39;t see any Eureka information on the stack trace of this application.\r\nMy end goal is to link all microservices, including this one and route API calls to them. \r\n\r\nThis is my application.properties for &#39;ct-api-gateway-proxy-service&#39;:\r\n\r\n```\r\nserver.port=8888\r\neureka.instance.hostname=localhost\r\neureka.client.register-with-eureka=false\r\neureka.client.fetch-registry=false\r\neureka.client.service-url.defaultZone=http://localhost:8888/eureka\r\nspring.application.name=ct-api-gateway-proxy-service\r\n\r\nspring.cloud.gateway.routes[0].id=CT-cryptography-core-lib\r\nspring.cloud.gateway.routes[0].uri=lb://CT-cryptography-core-lib\r\nspring.cloud.gateway.routes[0].predicates[0]=Path=/rest/symmetric/block-cipher/encryption/\r\n```\r\n\r\nThis is my application file for &#39;ct-api-gateway-proxy-service&#39; code:\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableEurekaServer\r\npublic class CtApiGatewayProxyServiceApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CtApiGatewayProxyServiceApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nThis is my application.properties file for the &#39;CT-cryptography-core-lib&#39; microservice:\r\n\r\n```\r\nserver.port= 4000\r\neureka.client.service-url.defaultZone=http://localhost:8888/eureka\r\nspring.application.name=CT-cryptography-core-lib\r\n\r\n#---LOGGING---\r\n#FLAG FOR OUTPUTTING THE LOGS TO EXTERNAL SERVICE (S3) OR TO LOCAL FILE\r\nlog.output:local\r\n```\r\n\r\nMy main Application for &#39;CT-cryptography-core-lib&#39;:\r\n\r\n```\r\npackage com.ct.cryptography.api;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.netflix.eureka.EnableEurekaClient;\r\n\r\n@SpringBootApplication\r\n@EnableEurekaClient\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n","title":"API-Gateway proxy service (Netflix Eureka Server) not showing running instances (Spring Boot Microservices)","body":"<p>Basically, I'm building microservice(s) architecture, where I want to implement an API gateway that acts as a proxy to route API requests to other spring boot applications from the api-gateway.\nI created a new Spring Boot application called 'ct-api-gateway-proxy-service' to be the API gateway and added the @EnableEurekaServer annotation to the running file. It is running on port 8888. However, when I run the localhost:8888, the server is up but I don't see the connected microservice as a running instance. I also added localhost:8888/eureka but I get a whitepage label error.</p>\n<p>The connecting microservice client is called 'CT-cryptography-core-lib'. This is an existing spring boot application that I'm trying to connect to the API gateway. This application is annotated with '@EnableEurekaClient'. However, when I run this application, it runs successfully but I don't actually see it running on the Eureka server UI (localhost:8888) as an instance on the gateway server. I also don't see any Eureka information on the stack trace of this application.\nMy end goal is to link all microservices, including this one and route API calls to them.</p>\n<p>This is my application.properties for 'ct-api-gateway-proxy-service':</p>\n<pre><code>server.port=8888\neureka.instance.hostname=localhost\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\neureka.client.service-url.defaultZone=http://localhost:8888/eureka\nspring.application.name=ct-api-gateway-proxy-service\n\nspring.cloud.gateway.routes[0].id=CT-cryptography-core-lib\nspring.cloud.gateway.routes[0].uri=lb://CT-cryptography-core-lib\nspring.cloud.gateway.routes[0].predicates[0]=Path=/rest/symmetric/block-cipher/encryption/\n</code></pre>\n<p>This is my application file for 'ct-api-gateway-proxy-service' code:</p>\n<pre><code>@SpringBootApplication\n@EnableEurekaServer\npublic class CtApiGatewayProxyServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CtApiGatewayProxyServiceApplication.class, args);\n    }\n}\n</code></pre>\n<p>This is my application.properties file for the 'CT-cryptography-core-lib' microservice:</p>\n<pre><code>server.port= 4000\neureka.client.service-url.defaultZone=http://localhost:8888/eureka\nspring.application.name=CT-cryptography-core-lib\n\n#---LOGGING---\n#FLAG FOR OUTPUTTING THE LOGS TO EXTERNAL SERVICE (S3) OR TO LOCAL FILE\nlog.output:local\n</code></pre>\n<p>My main Application for 'CT-cryptography-core-lib':</p>\n<pre><code>package com.ct.cryptography.api;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.eureka.EnableEurekaClient;\n\n@SpringBootApplication\n@EnableEurekaClient\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","websphere","geronimo","jbatch"],"comments":[{"owner":{"account_id":1623729,"reputation":5200,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":1,"creation_date":1694782266,"post_id":77112338,"comment_id":135940112,"body_markdown":"At a high-level, the problem is that you need to configure BatchEE to run on managed threads, with constructs like the CDI BeanManager available.  How to make that happen?  I&#39;m not sure.  It might involve setting the property `BatchThreadPoolService = org.apache.batchee.container.services.executor.JNDIThreadPoolService`  whereever/however you are setting that property.     I&#39;m not sure if you would also need to set a separate property to integrate with the WebSphere transaction manager.  Hopefully that&#39;s a clue for searching until someone answers in more detail.","body":"At a high-level, the problem is that you need to configure BatchEE to run on managed threads, with constructs like the CDI BeanManager available.  How to make that happen?  I&#39;m not sure.  It might involve setting the property <code>BatchThreadPoolService = org.apache.batchee.container.services.executor.JNDIThreadPoo&zwnj;&#8203;lService</code>  whereever/however you are setting that property.     I&#39;m not sure if you would also need to set a separate property to integrate with the WebSphere transaction manager.  Hopefully that&#39;s a clue for searching until someone answers in more detail."}],"answers":[{"tags":[],"owner":{"account_id":20037117,"reputation":33,"user_id":14688588,"display_name":"Michael Neumair"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695021903,"creation_date":1695021903,"answer_id":77125263,"question_id":77112338,"body_markdown":"setting the Property `BatchThreadPoolService = org.apache.batchee.container.services.executor.JNDIThreadPoolService` as mentioned in the comment from Scott Kurz solved the problem for me! \r\n\r\nThanks!\r\nMichael","title":"How to run BatchEE jobs on managed threads within WebSphere Application Server?","body":"<p>setting the Property <code>BatchThreadPoolService = org.apache.batchee.container.services.executor.JNDIThreadPoolService</code> as mentioned in the comment from Scott Kurz solved the problem for me!</p>\n<p>Thanks!\nMichael</p>\n"}],"owner":{"account_id":20037117,"reputation":33,"user_id":14688588,"display_name":"Michael Neumair"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77125263,"answer_count":1,"score":1,"last_activity_date":1695021903,"creation_date":1694780592,"question_id":77112338,"body_markdown":"I have a web application, that uses batchee-jbatch to execute some batches within the web application on a IBM WAS.\r\n\r\nThe JobOperator seems to start properly, but the application fails when I try to execute the batch. The serve log file shows the following output:\r\n\r\n```\r\n[15.09.23 13:59:14:975 MESZ] 00000177 Init          I   \r\n ____        _       _     ______ ______ \r\n|  _ \\      | |     | |   |  ____|  ____|\r\n| |_) | __ _| |_ ___| |__ | |__  | |__   \r\n|  _ &lt; / _` | __/ __| &#39;_ \\|  __| |  __|  \r\n| |_) | (_| | || (__| | | | |____| |____ \r\n|____/ \\__,_|\\__\\___|_| |_|______|______|0.4-incubating\r\n[15.09.23 13:59:15:107 MESZ] 00000177 SystemOut     O 2023-09-15 13:59:15,107 WebContainer : 6 TRACE Log4jLoggerFactory.getContext() found anchor class com.example.core.impl.BatchJobObserver\r\n[15.09.23 13:59:15:109 MESZ] 00000177 SystemOut     O 2023-09-15 13:59:15,109 WebContainer : 6 TRACE Log4jLoggerFactory.getContext() found anchor class com.example.core.impl.BatchWatchdogTask\r\n[15.09.23 13:59:15:138 MESZ] 000002af BaseStepContr E   javax.batch.operations.BatchRuntimeException: unable to resolve BeanManager\r\n                                 java.lang.RuntimeException: javax.batch.operations.BatchRuntimeException: unable to resolve BeanManager\r\n\tat org.apache.batchee.container.proxy.ProxyFactory.loadArtifact(ProxyFactory.java:60)\r\n\tat org.apache.batchee.container.proxy.ProxyFactory.createItemReaderProxy(ProxyFactory.java:124)\r\n\tat org.apache.batchee.container.impl.controller.chunk.ChunkStepController.initializeChunkArtifacts(ChunkStepController.java:778)\r\n\tat org.apache.batchee.container.impl.controller.chunk.ChunkStepController.invokeCoreStep(ChunkStepController.java:728)\r\n\tat org.apache.batchee.container.impl.controller.BaseStepController.execute(BaseStepController.java:157)\r\n\tat org.apache.batchee.container.impl.controller.ExecutionTransitioner.doExecutionLoop(ExecutionTransitioner.java:106)\r\n\tat org.apache.batchee.container.impl.controller.JobThreadRootController.originateExecutionOnThread(JobThreadRootController.java:110)\r\n\tat org.apache.batchee.container.util.BatchWorkUnit.run(BatchWorkUnit.java:62)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat org.apache.batchee.container.util.ClassLoaderAwareHandler.invoke(ClassLoaderAwareHandler.java:39)\r\n\tat com.sun.proxy.$Proxy504.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.lang.Thread.run(Thread.java:820)\r\nCaused by: javax.batch.operations.BatchRuntimeException: unable to resolve BeanManager\r\n\tat org.apache.batchee.container.cdi.BatchCDIInjectionExtension.getBeanManager(BatchCDIInjectionExtension.java:113)\r\n\tat org.apache.batchee.container.services.factory.CDIBatchArtifactFactory.getBeanManager(CDIBatchArtifactFactory.java:68)\r\n\tat org.apache.batchee.container.services.factory.CDIBatchArtifactFactory.load(CDIBatchArtifactFactory.java:34)\r\n\tat org.apache.batchee.container.proxy.ProxyFactory.loadArtifact(ProxyFactory.java:50)\r\n\t... 16 more\r\n```\r\n\r\nI have no idea why the batch runtime exception `unable to resolve BeanManager` is fired and how to solve this issue. Does anybody has an idea what could be the problem?\r\n\r\nBest Regards\r\n","title":"How to run BatchEE jobs on managed threads within WebSphere Application Server?","body":"<p>I have a web application, that uses batchee-jbatch to execute some batches within the web application on a IBM WAS.</p>\n<p>The JobOperator seems to start properly, but the application fails when I try to execute the batch. The serve log file shows the following output:</p>\n<pre><code>[15.09.23 13:59:14:975 MESZ] 00000177 Init          I   \n ____        _       _     ______ ______ \n|  _ \\      | |     | |   |  ____|  ____|\n| |_) | __ _| |_ ___| |__ | |__  | |__   \n|  _ &lt; / _` | __/ __| '_ \\|  __| |  __|  \n| |_) | (_| | || (__| | | | |____| |____ \n|____/ \\__,_|\\__\\___|_| |_|______|______|0.4-incubating\n[15.09.23 13:59:15:107 MESZ] 00000177 SystemOut     O 2023-09-15 13:59:15,107 WebContainer : 6 TRACE Log4jLoggerFactory.getContext() found anchor class com.example.core.impl.BatchJobObserver\n[15.09.23 13:59:15:109 MESZ] 00000177 SystemOut     O 2023-09-15 13:59:15,109 WebContainer : 6 TRACE Log4jLoggerFactory.getContext() found anchor class com.example.core.impl.BatchWatchdogTask\n[15.09.23 13:59:15:138 MESZ] 000002af BaseStepContr E   javax.batch.operations.BatchRuntimeException: unable to resolve BeanManager\n                                 java.lang.RuntimeException: javax.batch.operations.BatchRuntimeException: unable to resolve BeanManager\n    at org.apache.batchee.container.proxy.ProxyFactory.loadArtifact(ProxyFactory.java:60)\n    at org.apache.batchee.container.proxy.ProxyFactory.createItemReaderProxy(ProxyFactory.java:124)\n    at org.apache.batchee.container.impl.controller.chunk.ChunkStepController.initializeChunkArtifacts(ChunkStepController.java:778)\n    at org.apache.batchee.container.impl.controller.chunk.ChunkStepController.invokeCoreStep(ChunkStepController.java:728)\n    at org.apache.batchee.container.impl.controller.BaseStepController.execute(BaseStepController.java:157)\n    at org.apache.batchee.container.impl.controller.ExecutionTransitioner.doExecutionLoop(ExecutionTransitioner.java:106)\n    at org.apache.batchee.container.impl.controller.JobThreadRootController.originateExecutionOnThread(JobThreadRootController.java:110)\n    at org.apache.batchee.container.util.BatchWorkUnit.run(BatchWorkUnit.java:62)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at org.apache.batchee.container.util.ClassLoaderAwareHandler.invoke(ClassLoaderAwareHandler.java:39)\n    at com.sun.proxy.$Proxy504.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.lang.Thread.run(Thread.java:820)\nCaused by: javax.batch.operations.BatchRuntimeException: unable to resolve BeanManager\n    at org.apache.batchee.container.cdi.BatchCDIInjectionExtension.getBeanManager(BatchCDIInjectionExtension.java:113)\n    at org.apache.batchee.container.services.factory.CDIBatchArtifactFactory.getBeanManager(CDIBatchArtifactFactory.java:68)\n    at org.apache.batchee.container.services.factory.CDIBatchArtifactFactory.load(CDIBatchArtifactFactory.java:34)\n    at org.apache.batchee.container.proxy.ProxyFactory.loadArtifact(ProxyFactory.java:50)\n    ... 16 more\n</code></pre>\n<p>I have no idea why the batch runtime exception <code>unable to resolve BeanManager</code> is fired and how to solve this issue. Does anybody has an idea what could be the problem?</p>\n<p>Best Regards</p>\n"},{"tags":["java","visual-studio-code","terminal","java.util.scanner"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1694870594,"post_id":77117922,"comment_id":135949812,"body_markdown":"what happens when you only enter the command &quot;java -version&quot; in that terminal?","body":"what happens when you only enter the command &quot;java -version&quot; in that terminal?"},{"owner":{"account_id":21867978,"reputation":1657,"user_id":16157878,"display_name":"soundflix"},"score":0,"creation_date":1694877521,"post_id":77117922,"comment_id":135950616,"body_markdown":"Welcome to StackOverflow! Please [edit] your question. Code and error messages should be written as text, not images. You can leave the images as a supporting info.","body":"Welcome to StackOverflow! Please <a href=\"https://stackoverflow.com/posts/77117922/edit\">edit</a> your question. Code and error messages should be written as text, not images. You can leave the images as a supporting info."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694949160,"post_id":77117922,"comment_id":135956141,"body_markdown":"Why do you use a mingw64 terminal? Because that is your problem in MingW the path `E:\\university work\\OOP Java\\practice1\\src` does not exist as you can see from the line above. The Paths has to be written as `/e/university/OOP Java/practice1/src`. You better should use a common cmd.exe or powershell terminal if you want to work with Windows paths.","body":"Why do you use a mingw64 terminal? Because that is your problem in MingW the path <code>E:\\university work\\OOP Java\\practice1\\src</code> does not exist as you can see from the line above. The Paths has to be written as <code>&#47;e&#47;university&#47;OOP Java&#47;practice1&#47;src</code>. You better should use a common cmd.exe or powershell terminal if you want to work with Windows paths."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1695023574,"post_id":77117922,"comment_id":135963464,"body_markdown":"Maybe this will help? [Integrating MINGW64 into Visual Studio Code](https://stackoverflow.com/questions/69341108/integrating-mingw64-into-visual-studio-code)","body":"Maybe this will help? <a href=\"https://stackoverflow.com/questions/69341108/integrating-mingw64-into-visual-studio-code\">Integrating MINGW64 into Visual Studio Code</a>"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1696469129,"post_id":77117922,"comment_id":136158179,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695021491,"creation_date":1695021491,"answer_id":77125230,"question_id":77117922,"body_markdown":"You are using **Code Runner** to run the program, which is not a best practice. You&#39;d better use the official Java extension package to execute the program.\r\n\r\nYou can click `Run` or `Debug` on the code editing page to run or debug the program.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can also select `Run Java` from the triangle button in the upper right corner.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IWbYO.png\r\n  [2]: https://i.stack.imgur.com/VtZhX.png","title":"Java code is running properly in output section but not runs in terminal section of vs code","body":"<p>You are using <strong>Code Runner</strong> to run the program, which is not a best practice. You'd better use the official Java extension package to execute the program.</p>\n<p>You can click <code>Run</code> or <code>Debug</code> on the code editing page to run or debug the program.</p>\n<p><a href=\"https://i.stack.imgur.com/IWbYO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IWbYO.png\" alt=\"enter image description here\" /></a></p>\n<p>You can also select <code>Run Java</code> from the triangle button in the upper right corner.</p>\n<p><a href=\"https://i.stack.imgur.com/VtZhX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VtZhX.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29459741,"reputation":1,"user_id":22574782,"display_name":"Raja Talha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695021491,"creation_date":1694870119,"question_id":77117922,"body_markdown":"Actually I am a beginner in coding and I am facing an issue  and I am unable to find the solution of this issue on google.\r\nThe problem is that if I run the code in output section of vs code then it runs properly but if I turn on the &quot;Run in terminal&quot; then it runs but does not gives an output.\r\n\r\n[![This is the Screen shot of output when I run the code in output section][1]][1]\r\n\r\n[![This is the screen shot of output when I run the code in vs code terminal][2]][2]\r\n\r\n\r\nI don&#39;t know what is the issue that it does not give output in terminal and I am running the code in terminal because we can&#39;t take the user input in the output section so we must have to run the code in terminal to take input from the user.\r\n\r\nI am trying to run the code in vs code terminal but it is not showing the output.\r\nit runs the code but does not give output.\r\nI want to run the code in terminal.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hVR9i.jpg\r\n  [2]: https://i.stack.imgur.com/Rq6CD.jpg","title":"Java code is running properly in output section but not runs in terminal section of vs code","body":"<p>Actually I am a beginner in coding and I am facing an issue  and I am unable to find the solution of this issue on google.\nThe problem is that if I run the code in output section of vs code then it runs properly but if I turn on the &quot;Run in terminal&quot; then it runs but does not gives an output.</p>\n<p><a href=\"https://i.stack.imgur.com/hVR9i.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hVR9i.jpg\" alt=\"This is the Screen shot of output when I run the code in output section\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Rq6CD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rq6CD.jpg\" alt=\"This is the screen shot of output when I run the code in vs code terminal\" /></a></p>\n<p>I don't know what is the issue that it does not give output in terminal and I am running the code in terminal because we can't take the user input in the output section so we must have to run the code in terminal to take input from the user.</p>\n<p>I am trying to run the code in vs code terminal but it is not showing the output.\nit runs the code but does not give output.\nI want to run the code in terminal.</p>\n"},{"tags":["java","browser","using"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1549789521,"post_id":29842930,"comment_id":96023074,"body_markdown":"Browser windows do not equal processes.","body":"Browser windows do not equal processes."},{"owner":{"account_id":955166,"reputation":885,"user_id":980615,"accept_rate":100,"display_name":"Jelle de Fries"},"score":0,"creation_date":1549792469,"post_id":29842930,"comment_id":96023668,"body_markdown":"@user207421 Where is it stated that a window is a process? It is only mentioned that you are able to close a window through a process, not that they are the same thing.","body":"@user207421 Where is it stated that a window is a process? It is only mentioned that you are able to close a window through a process, not that they are the same thing."}],"answers":[{"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1429866853,"post_id":29843152,"comment_id":47812792,"body_markdown":"Note that if the user opened additional windows while in that browser, all the windows will end up being destroyed, not just one.","body":"Note that if the user opened additional windows while in that browser, all the windows will end up being destroyed, not just one."},{"owner":{"account_id":6191116,"reputation":29,"user_id":4823801,"accept_rate":0,"display_name":"Pink Giraffe"},"score":0,"creation_date":1430204036,"post_id":29843152,"comment_id":47946636,"body_markdown":"@Jelle ..tx for your answer but using runtime its takes alot of time to open the browser so now i am using the belwo code to open browser. in this case what could be a appropriate way to close the opened browser other than finding the process and then closing it.Any suggestion ?     Desktop dt = Desktop.getDesktop();\n                         //dt.browse(  new URI(url) );","body":"@Jelle ..tx for your answer but using runtime its takes alot of time to open the browser so now i am using the belwo code to open browser. in this case what could be a appropriate way to close the opened browser other than finding the process and then closing it.Any suggestion ?     Desktop dt = Desktop.getDesktop();                          //dt.browse(  new URI(url) );"},{"owner":{"account_id":955166,"reputation":885,"user_id":980615,"accept_rate":100,"display_name":"Jelle de Fries"},"score":0,"creation_date":1430206595,"post_id":29843152,"comment_id":47948261,"body_markdown":"@PinkGiraffe Not that I know of. Maybe you should find out why your `Runtime` is acting slow.","body":"@PinkGiraffe Not that I know of. Maybe you should find out why your <code>Runtime</code> is acting slow."}],"tags":[],"owner":{"account_id":955166,"reputation":885,"user_id":980615,"accept_rate":100,"display_name":"Jelle de Fries"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1429868316,"creation_date":1429866304,"answer_id":29843152,"question_id":29842930,"body_markdown":"You can put it in a `Process` and kill that.\r\n\r\n    Runtime runtime = Runtime.getRuntime();\r\n    Process p = runtime.exec(&quot;/usr/bin/firefox -new-window &quot; + url);\r\n    p.destroy();\r\n\r\n-- update --\r\n\r\nYou should execute your command with a String array\r\n\r\n    Process p = Runtime.getRuntime().exec(new String[]{\r\n        &quot;/usr/bin/firefox&quot;,\r\n        &quot;-new-window&quot;, url\r\n    });\r\n\r\nThis is less prone to errors:\r\nhttps://stackoverflow.com/questions/4916918/java-execute-a-command-with-a-space-in-the-pathname\r\n\r\nOr use `ProcessBuilder`: [ProcessBuilder Documentation](http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html)","title":"Close browser window using java code","body":"<p>You can put it in a <code>Process</code> and kill that.</p>\n\n<pre><code>Runtime runtime = Runtime.getRuntime();\nProcess p = runtime.exec(\"/usr/bin/firefox -new-window \" + url);\np.destroy();\n</code></pre>\n\n<p>-- update --</p>\n\n<p>You should execute your command with a String array</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(new String[]{\n    \"/usr/bin/firefox\",\n    \"-new-window\", url\n});\n</code></pre>\n\n<p>This is less prone to errors:\n<a href=\"https://stackoverflow.com/questions/4916918/java-execute-a-command-with-a-space-in-the-pathname\">Java execute a command with a space in the pathname</a></p>\n\n<p>Or use <code>ProcessBuilder</code>: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":1131718,"reputation":1467,"user_id":1117650,"accept_rate":71,"display_name":"ynka"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1470149780,"creation_date":1470149780,"answer_id":38723904,"question_id":29842930,"body_markdown":"I was trying to achieve a similar thing, without caring too much which browser will open. I come accross a solution based on Java FX:\r\n\r\n    public class MyBrowser extends Application {\r\n\r\n    private String url = &quot;http://stackoverflow.com/questions/29842930/close-browser-window-using-java-code&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n\r\n        WebView webview = new WebView();\r\n        webview.getEngine().load(url);\r\n        webview.setPrefSize(1800, 1000);\r\n\r\n        stage.setScene(new Scene(webview));\r\n        stage.show();\r\n\r\n        //stage.close();\r\n\r\n    }\r\n}\r\n\r\nOf course if you call `close()` this way, you will not really see the embedded browser window. It should be called in another part of the code, e.g. in response to a button push. ","title":"Close browser window using java code","body":"<p>I was trying to achieve a similar thing, without caring too much which browser will open. I come accross a solution based on Java FX:</p>\n\n<pre><code>public class MyBrowser extends Application {\n\nprivate String url = \"http://stackoverflow.com/questions/29842930/close-browser-window-using-java-code\";\n\npublic static void main(String[] args) {\n    launch(args);\n}\n\n@Override\npublic void start(Stage stage) throws Exception {\n\n    WebView webview = new WebView();\n    webview.getEngine().load(url);\n    webview.setPrefSize(1800, 1000);\n\n    stage.setScene(new Scene(webview));\n    stage.show();\n\n    //stage.close();\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Of course if you call <code>close()</code> this way, you will not really see the embedded browser window. It should be called in another part of the code, e.g. in response to a button push. </p>\n"},{"tags":[],"owner":{"account_id":12153720,"reputation":1,"user_id":8873206,"display_name":"Priya Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608835477,"creation_date":1608816159,"answer_id":65438898,"question_id":29842930,"body_markdown":"Use the below code snippet\r\n\r\n    Runtime runtime = Runtime.getRuntime();\r\n    runtime.exec(&quot;killall -9  firefox&quot;);\r\n\r\nchange the name of the browser according to your needs.","title":"Close browser window using java code","body":"<p>Use the below code snippet</p>\n<pre><code>Runtime runtime = Runtime.getRuntime();\nruntime.exec(&quot;killall -9  firefox&quot;);\n</code></pre>\n<p>change the name of the browser according to your needs.</p>\n"}],"owner":{"account_id":6191116,"reputation":29,"user_id":4823801,"accept_rate":0,"display_name":"Pink Giraffe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12868,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1695020670,"creation_date":1429865726,"question_id":29842930,"body_markdown":"How should i close an opened browser window using java code. I have found a way to first find the process then end that process. Is there any better way? I have opened the browser initially using the below code. I am working in CentOS.\r\n\r\n    String url = &quot;http://192.168.40.174/test15.html&quot;;\r\n    Runtime runtime = Runtime.getRuntime();\r\n    runtime.exec(&quot;/usr/bin/firefox -new-window &quot; + url);","title":"Close browser window using java code","body":"<p>How should i close an opened browser window using java code. I have found a way to first find the process then end that process. Is there any better way? I have opened the browser initially using the below code. I am working in CentOS.</p>\n\n<pre><code>String url = \"http://192.168.40.174/test15.html\";\nRuntime runtime = Runtime.getRuntime();\nruntime.exec(\"/usr/bin/firefox -new-window \" + url);\n</code></pre>\n"},{"tags":["java","android","flutter","visual-studio-code"],"comments":[{"owner":{"account_id":14061061,"reputation":56950,"user_id":10157127,"display_name":"Md. Yeasin Sheikh"},"score":0,"creation_date":1694803920,"post_id":77113854,"comment_id":135944218,"body_markdown":"try `java` command, if fails try to set the [environment path](https://stackoverflow.com/q/64359564/10157127)","body":"try <code>java</code> command, if fails try to set the <a href=\"https://stackoverflow.com/q/64359564/10157127\">environment path</a>"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1696469033,"post_id":77113854,"comment_id":136158170,"body_markdown":"Any updates here?","body":"Any updates here?"}],"answers":[{"tags":[],"owner":{"account_id":19317033,"reputation":13,"user_id":14121580,"display_name":"Charleeoh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695004817,"creation_date":1695004817,"answer_id":77124308,"question_id":77113854,"body_markdown":"Check your environmental variables. You seem to have set the wrong path to your JAVA_HOME Variable. Try updating the path to your JDK root folder.\r\n\r\n 1. Search &#39;environmental variables&#39; on your start menu.\r\n 2. Select &#39;Edit the System Environmental Variables&#39;.\r\n 3. Under &#39;System variables&#39;, scroll to JAVA_HOME and edit the path to the path of your JDK e.g &quot;C:\\Program Files\\Java\\jdk-18&quot; (Install this if you haven&#39;t).\r\n 4. Under &#39;User variables&#39;, scroll to Path and edit the path to the path of your JDK (Including the bin folder) e.g &quot;C:\\Program Files\\Java\\jdk-18\\bin&quot;.\r\n\r\nThis should fix the issue","title":"The supplied javaHome seems to be invalid in VS Code","body":"<p>Check your environmental variables. You seem to have set the wrong path to your JAVA_HOME Variable. Try updating the path to your JDK root folder.</p>\n<ol>\n<li>Search 'environmental variables' on your start menu.</li>\n<li>Select 'Edit the System Environmental Variables'.</li>\n<li>Under 'System variables', scroll to JAVA_HOME and edit the path to the path of your JDK e.g &quot;C:\\Program Files\\Java\\jdk-18&quot; (Install this if you haven't).</li>\n<li>Under 'User variables', scroll to Path and edit the path to the path of your JDK (Including the bin folder) e.g &quot;C:\\Program Files\\Java\\jdk-18\\bin&quot;.</li>\n</ol>\n<p>This should fix the issue</p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695020296,"creation_date":1695020296,"answer_id":77125122,"question_id":77113854,"body_markdown":"Use the following settings in vscode to specify the jdk path.\r\n\r\n```json\r\n&quot;java.configuration.runtimes&quot;: [\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\r\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\r\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\r\n    &quot;default&quot;:  true\r\n   },\r\n   {\r\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\r\n   },\r\n   {\r\n    &quot;name&quot;: &quot;JavaSE-13&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-13&quot;\r\n   }\r\n]\r\n```\r\n\r\n - https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects","title":"The supplied javaHome seems to be invalid in VS Code","body":"<p>Use the following settings in vscode to specify the jdk path.</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.configuration.runtimes&quot;: [\n  {\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\n  },\n  {\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\n    &quot;default&quot;:  true\n   },\n   {\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\n   },\n   {\n    &quot;name&quot;: &quot;JavaSE-13&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-13&quot;\n   }\n]\n</code></pre>\n<ul>\n<li><a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects</a></li>\n</ul>\n"}],"owner":{"account_id":19484073,"reputation":5,"user_id":14253788,"display_name":"Aryayan Roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695020296,"creation_date":1694793955,"question_id":77113854,"body_markdown":"I have install Flutter and set up Android SDK. But know I am facing this issue.\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-20\\bin\\java.exe\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\nException: Gradle task assembleDebug failed with exit code 1\r\n```\r\nWhen I looked for the solutions online, all the videos gave the solution to delete jre folder in Android Studio. But I don&#39;t have it and I use only VS Code. Please help me out with a step by step solution.[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0IRg9.png","title":"The supplied javaHome seems to be invalid in VS Code","body":"<p>I have install Flutter and set up Android SDK. But know I am facing this issue.</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-20\\bin\\java.exe\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>When I looked for the solutions online, all the videos gave the solution to delete jre folder in Android Studio. But I don't have it and I use only VS Code. Please help me out with a step by step solution.<a href=\"https://i.stack.imgur.com/0IRg9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","tesseract","sikuli","tess4j","sikuli-x"],"owner":{"account_id":29356502,"reputation":9,"user_id":22492314,"display_name":"mbambosibu23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1695020192,"creation_date":1693819994,"question_id":77036595,"body_markdown":"\r\nThe challenge is I have to take a screenshot every second and the BufferedImage\r\nis slowing my program considerably and stopping it with “full memory exception”.\r\n\r\nI try to use the flush() method to flush the BufferedImage but I still get the same problem.\r\n\r\nI now use SikuliXapi Version-2.0.5 for Windows. I use these methods “region.text()” and or “region.textLine()” and the slowing down of the program has improved considerably and it almost gone to the point that I decided to use Sikuli alone. \r\n\r\nThe challenge now is that the results I get from Sikuli are about 70 % and based on my program I need the results to be 100 % all the time.\r\n\r\nNow my question is using Sikuli and looking at my below code, how can I add the &quot;CHANGE IMAGE BACKGROUND AND TEXT&quot; and &quot;REMOVING STRIPES ON AN IMAGE&quot; to my sikuli code so I can get the 100 % resuls? Is there a way to do this kind of modification in Sikuli?\r\n\r\nMY CODE:\r\n\r\n\r\n\r\n``` \r\n\r\n\r\n\r\n//METHOD START\r\nprivate static void readValue() throws IOException, AWTException, InterruptedException {\r\n\r\nTesseract tessEndValue = new Tesseract();\r\ntessEndValue.setDatapath(&quot;C:\\\\Tess4J\\\\tessdata&quot;);\r\ntessEndValue.setTessVariable(&quot;user_defined_dpi&quot;, &quot;300&quot;);\r\n\r\nRectangle regionEndValue = new Rectangle(150,180,200,300);\r\nBufferedImage readEndValueimage = robot.createScreenCapture(regionEndValue);\r\n\r\n```\r\n\r\n\r\n\r\nThank you!\r\n\r\n\r\n","title":"How can I modify the read() and or readLine() method in Sikuli?","body":"<p>The challenge is I have to take a screenshot every second and the BufferedImage\nis slowing my program considerably and stopping it with “full memory exception”.</p>\n<p>I try to use the flush() method to flush the BufferedImage but I still get the same problem.</p>\n<p>I now use SikuliXapi Version-2.0.5 for Windows. I use these methods “region.text()” and or “region.textLine()” and the slowing down of the program has improved considerably and it almost gone to the point that I decided to use Sikuli alone.</p>\n<p>The challenge now is that the results I get from Sikuli are about 70 % and based on my program I need the results to be 100 % all the time.</p>\n<p>Now my question is using Sikuli and looking at my below code, how can I add the &quot;CHANGE IMAGE BACKGROUND AND TEXT&quot; and &quot;REMOVING STRIPES ON AN IMAGE&quot; to my sikuli code so I can get the 100 % resuls? Is there a way to do this kind of modification in Sikuli?</p>\n<p>MY CODE:</p>\n<pre><code>\n\n\n//METHOD START\nprivate static void readValue() throws IOException, AWTException, InterruptedException {\n\nTesseract tessEndValue = new Tesseract();\ntessEndValue.setDatapath(&quot;C:\\\\Tess4J\\\\tessdata&quot;);\ntessEndValue.setTessVariable(&quot;user_defined_dpi&quot;, &quot;300&quot;);\n\nRectangle regionEndValue = new Rectangle(150,180,200,300);\nBufferedImage readEndValueimage = robot.createScreenCapture(regionEndValue);\n\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":1,"creation_date":1695019313,"post_id":77124983,"comment_id":135962714,"body_markdown":"Omit the `ID` that is autogenerated, so handled automatically.","body":"Omit the <code>ID</code> that is autogenerated, so handled automatically."},{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":1,"creation_date":1695019500,"post_id":77124983,"comment_id":135962743,"body_markdown":"maybe a stupid idea, but easy to try: what if you write your SQL in one line? I have a feeling that it doesn&#39;t recognise the second line as a part of the query.","body":"maybe a stupid idea, but easy to try: what if you write your SQL in one line? I have a feeling that it doesn&#39;t recognise the second line as a part of the query."},{"owner":{"account_id":9505356,"reputation":1019,"user_id":11225028,"display_name":"Luk"},"score":0,"creation_date":1695021497,"post_id":77124983,"comment_id":135963102,"body_markdown":"Allright, thx for your help, guys! @AndrejIstomin it&#39;s my formatter that puts the VALUES part of my query into the next line. The issue, however, seems to be a missing semicolon at the end of each statement. I am pretty sure I had tried this out before, but it is working now.","body":"Allright, thx for your help, guys! @AndrejIstomin it&#39;s my formatter that puts the VALUES part of my query into the next line. The issue, however, seems to be a missing semicolon at the end of each statement. I am pretty sure I had tried this out before, but it is working now."}],"answers":[{"tags":[],"owner":{"account_id":29214968,"reputation":186,"user_id":22381995,"display_name":"cant-code"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695019659,"creation_date":1695019659,"answer_id":77125062,"question_id":77124983,"body_markdown":"Add a ; to the end of the sql file. That should fix your issue.","title":"Initializing H2 database in a Spring Boot application fails","body":"<p>Add a ; to the end of the sql file. That should fix your issue.</p>\n"}],"owner":{"account_id":9505356,"reputation":1019,"user_id":11225028,"display_name":"Luk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77125062,"answer_count":1,"score":-1,"last_activity_date":1695019659,"creation_date":1695018734,"question_id":77124983,"body_markdown":"Consider the following JPA entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;addresses&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class AddressEntity {\r\n    \r\n      @Id\r\n      @GeneratedValue\r\n      private Long id;\r\n    \r\n      private String city;\r\n      private String postalCode;\r\n      private String street;\r\n      private String houseNumber;\r\n    \r\n    }\r\n\r\nI have created a Spring Boot application, which should create this table inside an H2 database and initialize it with some values. To achieve this, I have configured the application in the following way:\r\n\r\n    spring:\r\n      h2:\r\n        console:\r\n          enabled: true\r\n          path: /h2\r\n      datasource:\r\n        url: jdbc:h2:mem:/testdB\r\n        username: sa\r\n        password:\r\n        driverClassName: org.h2.Driver\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: none\r\n        generate-ddl: true\r\n        defer-datasource-initialization: true\r\n        database-platform: org.hibernate.dialect.H2Dialect\r\n      sql:\r\n        init:\r\n          data-locations:\r\n            - classpath:addresses.sql\r\n\r\nMy addresses.sql looks like this:\r\n\r\n    INSERT INTO ADDRESSES (ID, CITY, POSTAL_CODE, STREET, HOUSE_NUMBER)\r\n    VALUES (0, &#39;NYC&#39;, &#39;10020&#39;, &#39;Main Street&#39;, &#39;32 A&#39;)\r\n\r\nWhen starting my app, I run into a `org.h2.jdbc.JdbcSQLSyntaxErrorException`. It says \r\n\r\n`expected &quot;DIRECT, SORTED, DEFAULT, VALUES, SET, (, WITH, SELECT, TABLE, VALUES&quot;;`. \r\n\r\nI am at the end of my knowledge here. The syntax seems correct to me. When starting the app without initializing the tables, the tables are created. I can write data into my addresses table inside the H2 console using the exact same sql script I am using to initialize the table. Can anyone help me out? \r\n\r\n","title":"Initializing H2 database in a Spring Boot application fails","body":"<p>Consider the following JPA entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;addresses&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class AddressEntity {\n\n  @Id\n  @GeneratedValue\n  private Long id;\n\n  private String city;\n  private String postalCode;\n  private String street;\n  private String houseNumber;\n\n}\n</code></pre>\n<p>I have created a Spring Boot application, which should create this table inside an H2 database and initialize it with some values. To achieve this, I have configured the application in the following way:</p>\n<pre><code>spring:\n  h2:\n    console:\n      enabled: true\n      path: /h2\n  datasource:\n    url: jdbc:h2:mem:/testdB\n    username: sa\n    password:\n    driverClassName: org.h2.Driver\n  jpa:\n    hibernate:\n      ddl-auto: none\n    generate-ddl: true\n    defer-datasource-initialization: true\n    database-platform: org.hibernate.dialect.H2Dialect\n  sql:\n    init:\n      data-locations:\n        - classpath:addresses.sql\n</code></pre>\n<p>My addresses.sql looks like this:</p>\n<pre><code>INSERT INTO ADDRESSES (ID, CITY, POSTAL_CODE, STREET, HOUSE_NUMBER)\nVALUES (0, 'NYC', '10020', 'Main Street', '32 A')\n</code></pre>\n<p>When starting my app, I run into a <code>org.h2.jdbc.JdbcSQLSyntaxErrorException</code>. It says</p>\n<p><code>expected &quot;DIRECT, SORTED, DEFAULT, VALUES, SET, (, WITH, SELECT, TABLE, VALUES&quot;;</code>.</p>\n<p>I am at the end of my knowledge here. The syntax seems correct to me. When starting the app without initializing the tables, the tables are created. I can write data into my addresses table inside the H2 console using the exact same sql script I am using to initialize the table. Can anyone help me out?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":25315565,"reputation":1,"user_id":19137732,"display_name":"Bo0lean"},"score":0,"creation_date":1652814887,"post_id":72279442,"comment_id":127696356,"body_markdown":"Thank you for your reply. I changed the types of parameters, but I still only can get first result set. How can I get the third one? Thank you so much.","body":"Thank you for your reply. I changed the types of parameters, but I still only can get first result set. How can I get the third one? Thank you so much."}],"tags":[],"owner":{"account_id":20499100,"reputation":377,"user_id":15043397,"display_name":"yuri777"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652981515,"creation_date":1652814398,"answer_id":72279442,"question_id":72276929,"body_markdown":"Change the type of parameters\r\n\r\n            parameters = {\r\n                     @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;id&quot;, type = Integer.class),\r\n                     @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;firstName&quot;, type = String.class),\r\n                     @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;lastName&quot;, type = String.class)\r\n            }\r\n\r\nChange method getEntity\r\n\r\n    @Override\r\n    public Test getEntity(Integer id, String firstName, String lastName) {\r\n        List&lt;Test&gt; list = springTestRepository.getEntity(id, firstName, lastName);\r\n        for (Test test : list) {\r\n            System.out.println(test.getId()+&quot; &quot;+test.getFirstName()+&quot; &quot;+test.getLastName());\r\n        }\r\n        return list.get(2);//springTestRepository.getEntity(id, firstName, lastName);\r\n    }","title":"Spring Data JPA get multiple result set","body":"<p>Change the type of parameters</p>\n<pre><code>        parameters = {\n                 @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;id&quot;, type = Integer.class),\n                 @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;firstName&quot;, type = String.class),\n                 @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;lastName&quot;, type = String.class)\n        }\n</code></pre>\n<p>Change method getEntity</p>\n<pre><code>@Override\npublic Test getEntity(Integer id, String firstName, String lastName) {\n    List&lt;Test&gt; list = springTestRepository.getEntity(id, firstName, lastName);\n    for (Test test : list) {\n        System.out.println(test.getId()+&quot; &quot;+test.getFirstName()+&quot; &quot;+test.getLastName());\n    }\n    return list.get(2);//springTestRepository.getEntity(id, firstName, lastName);\n}\n</code></pre>\n"}],"owner":{"account_id":25315565,"reputation":1,"user_id":19137732,"display_name":"Bo0lean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1042,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695019299,"creation_date":1652801797,"question_id":72276929,"body_markdown":"I try to get the return value using JPA. \r\nBut my database Procedure returns multiple results, and JPA only gets the first return value. as the picture shows. \r\nThe result I want is the third one, but I only get the first one.\r\nHow to get the third one? Thanks.\r\n\r\n\r\n\r\n[Java Result][1]\r\n[Database Result][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nWfs6.png\r\n  [2]: https://i.stack.imgur.com/Nlubt.png\r\n\r\n**Entity.java**\r\n   \r\n\r\n    @Entity\r\n    @NamedStoredProcedureQueries(\r\n            {\r\n                    @NamedStoredProcedureQuery(\r\n                            name = &quot;SpringTestProcedure&quot;,\r\n                            procedureName = &quot;SpringTestProcedure&quot;,\r\n                            parameters = {\r\n                                    @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;id&quot;, type = Test.class),\r\n                                    @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;firstName&quot;, type = Test.class),\r\n                                    @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;lastName&quot;, type = Test.class)\r\n                            }\r\n                    )\r\n            }\r\n    )\r\n    \r\n    @Table(name = &quot;Users&quot;)\r\n    public class Test {\r\n\r\n    public Test() {\r\n    }\r\n\r\n    public Test(Integer id, String firstName, String lastName) {\r\n        this.id = id;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;firstName&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;lastName&quot;)\r\n    private String lastName;\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n}\r\n\r\n**Repository.java**\r\n\r\n   \r\n\r\n     @Repository\r\n    public interface SpringTestRepository extends JpaRepository&lt;Test, Integer&gt; {\r\n    \r\n        @Procedure(procedureName = &quot;SpringTestProcedure&quot;)\r\n        public List&lt;Object[]&gt; getEntity(@Param(&quot;id&quot;) Integer id,\r\n                                        @Param(&quot;firstName&quot;) String firstName,\r\n                                        @Param(&quot;lastName&quot;) String lastName);\r\n    \r\n    }\r\n\r\n**ServiceImpl.java**\r\n\r\n    @Service\r\n    public class SpringTestServiceImpl implements SpringTestService {\r\n    \r\n        @Autowired\r\n        private SpringTestRepository springTestRepository;\r\n    \r\n        @Override\r\n        public Test getEntity(Integer id, String firstName, String lastName) {\r\n            List&lt;Object[]&gt; list = springTestRepository.getEntity(id, firstName, lastName);\r\n            for (Object[] object : list) {\r\n                System.out.println(Arrays.toString(object));\r\n            }\r\n            return null;//springTestRepository.getEntity(id, firstName, lastName);\r\n        }\r\n    }","title":"Spring Data JPA get multiple result set","body":"<p>I try to get the return value using JPA.\nBut my database Procedure returns multiple results, and JPA only gets the first return value. as the picture shows.\nThe result I want is the third one, but I only get the first one.\nHow to get the third one? Thanks.</p>\n<p><a href=\"https://i.stack.imgur.com/nWfs6.png\" rel=\"nofollow noreferrer\">Java Result</a>\n<a href=\"https://i.stack.imgur.com/Nlubt.png\" rel=\"nofollow noreferrer\">Database Result</a></p>\n<p><strong>Entity.java</strong></p>\n<pre><code>@Entity\n@NamedStoredProcedureQueries(\n        {\n                @NamedStoredProcedureQuery(\n                        name = &quot;SpringTestProcedure&quot;,\n                        procedureName = &quot;SpringTestProcedure&quot;,\n                        parameters = {\n                                @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;id&quot;, type = Test.class),\n                                @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;firstName&quot;, type = Test.class),\n                                @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;lastName&quot;, type = Test.class)\n                        }\n                )\n        }\n)\n\n@Table(name = &quot;Users&quot;)\npublic class Test {\n\npublic Test() {\n}\n\npublic Test(Integer id, String firstName, String lastName) {\n    this.id = id;\n    this.firstName = firstName;\n    this.lastName = lastName;\n}\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate Integer id;\n\n@Column(name = &quot;firstName&quot;)\nprivate String firstName;\n\n@Column(name = &quot;lastName&quot;)\nprivate String lastName;\n\npublic Integer getId() {\n    return id;\n}\n\npublic void setId(Integer id) {\n    this.id = id;\n}\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n</code></pre>\n<p>}</p>\n<p><strong>Repository.java</strong></p>\n<pre><code> @Repository\npublic interface SpringTestRepository extends JpaRepository&lt;Test, Integer&gt; {\n\n    @Procedure(procedureName = &quot;SpringTestProcedure&quot;)\n    public List&lt;Object[]&gt; getEntity(@Param(&quot;id&quot;) Integer id,\n                                    @Param(&quot;firstName&quot;) String firstName,\n                                    @Param(&quot;lastName&quot;) String lastName);\n\n}\n</code></pre>\n<p><strong>ServiceImpl.java</strong></p>\n<pre><code>@Service\npublic class SpringTestServiceImpl implements SpringTestService {\n\n    @Autowired\n    private SpringTestRepository springTestRepository;\n\n    @Override\n    public Test getEntity(Integer id, String firstName, String lastName) {\n        List&lt;Object[]&gt; list = springTestRepository.getEntity(id, firstName, lastName);\n        for (Object[] object : list) {\n            System.out.println(Arrays.toString(object));\n        }\n        return null;//springTestRepository.getEntity(id, firstName, lastName);\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","angular","spring-boot","security"],"answers":[{"tags":[],"owner":{"account_id":1731741,"reputation":1982,"user_id":1585218,"accept_rate":83,"display_name":"Krenom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695019222,"creation_date":1695019222,"answer_id":77125017,"question_id":77117885,"body_markdown":"Simplest answer, but not necessarily the simplest implementation would be to implement your own kind of login wrapper.\r\n\r\nAssuming your user has logged in and you have a shiny token that passes all validation, you could use that as your apps own login credentials (stick with me).\r\n\r\nUsing JWT or cookies or sessions or &lt;insert any number of server/ui secure comms words you want&gt; you can set up your own system that doesn&#39;t actually use the 3rd party token at all.\r\n\r\nI personally use JWTs - that would work well for this; if you really wanted, you could include the 3rd party token as an extra claim in the JWT payload if you have need of using it in the future.\r\n\r\nTo be honest, though, once a 3rd party has said the user has successfully logged in, there&#39;s no reason to worry about using that token in the rest of your app unless you plan on using it to do other things with that 3rd party on the users behalf.\r\n\r\nThus, use the token - rather than the users direct credentials - as proof of login and go ahead and populate your own JWT (or something else) and use that.\r\n\r\n\r\nAlternatively, do it yourself and generate some signed value that you attach and check in your headers when communicating based on the token. If the claims have been altered, the signature won&#39;t pass validation and you know it&#39;s been tampered with. (This is, essentially, what JWT is/does - a data set that&#39;s been signed so you know if any of the values have been modified).","title":"Retrieving roles from back-end without jwt","body":"<p>Simplest answer, but not necessarily the simplest implementation would be to implement your own kind of login wrapper.</p>\n<p>Assuming your user has logged in and you have a shiny token that passes all validation, you could use that as your apps own login credentials (stick with me).</p>\n<p>Using JWT or cookies or sessions or &lt;insert any number of server/ui secure comms words you want&gt; you can set up your own system that doesn't actually use the 3rd party token at all.</p>\n<p>I personally use JWTs - that would work well for this; if you really wanted, you could include the 3rd party token as an extra claim in the JWT payload if you have need of using it in the future.</p>\n<p>To be honest, though, once a 3rd party has said the user has successfully logged in, there's no reason to worry about using that token in the rest of your app unless you plan on using it to do other things with that 3rd party on the users behalf.</p>\n<p>Thus, use the token - rather than the users direct credentials - as proof of login and go ahead and populate your own JWT (or something else) and use that.</p>\n<p>Alternatively, do it yourself and generate some signed value that you attach and check in your headers when communicating based on the token. If the claims have been altered, the signature won't pass validation and you know it's been tampered with. (This is, essentially, what JWT is/does - a data set that's been signed so you know if any of the values have been modified).</p>\n"}],"owner":{"account_id":28041596,"reputation":19,"user_id":21419073,"display_name":"ELMOURABIT OJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695019222,"creation_date":1694869443,"question_id":77117885,"body_markdown":"My goal is to provide the user roles from the backend ,for example if the user wants to see my ressources in my backend he can login with google and the angular app takes the access token retrieved from google authorization server and send it back to my ressource server and the backend checks the token but the problem is the access token of provided by google doesn&#39;t claims named roles so basically I should retrieve roles from the database and then send it back to the front end ,my problem is on the front side because even I secured the backend by modifying the security context authoroties I still have problem in the front because it&#39;s not secure if someone modified the reponse ha can change his roles what should I do\r\n\r\n    package com.example.ressource_server.config;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception{\r\n            httpSecurity.oauth2ResourceServer( r-&gt; r.jwt(jwtConfigurer -&gt; jwtConfigurer.jwkSetUri(&quot;https://www.googleapis.com/oauth2/v3/certs&quot;)));\r\n            httpSecurity.authorizeHttpRequests(auth -&gt; auth.anyRequest().authenticated());\r\n            return httpSecurity.build();\r\n        }\r\n    }\r\n\r\n","title":"Retrieving roles from back-end without jwt","body":"<p>My goal is to provide the user roles from the backend ,for example if the user wants to see my ressources in my backend he can login with google and the angular app takes the access token retrieved from google authorization server and send it back to my ressource server and the backend checks the token but the problem is the access token of provided by google doesn't claims named roles so basically I should retrieve roles from the database and then send it back to the front end ,my problem is on the front side because even I secured the backend by modifying the security context authoroties I still have problem in the front because it's not secure if someone modified the reponse ha can change his roles what should I do</p>\n<pre><code>package com.example.ressource_server.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception{\n        httpSecurity.oauth2ResourceServer( r-&gt; r.jwt(jwtConfigurer -&gt; jwtConfigurer.jwkSetUri(&quot;https://www.googleapis.com/oauth2/v3/certs&quot;)));\n        httpSecurity.authorizeHttpRequests(auth -&gt; auth.anyRequest().authenticated());\n        return httpSecurity.build();\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","enums","annotations","hibernate-mapping"],"comments":[{"owner":{"account_id":20707,"reputation":30842,"user_id":49746,"display_name":"Todd"},"score":12,"creation_date":1420566038,"post_id":27804069,"comment_id":44017146,"body_markdown":"This is a very well written question. I wish more questions would clearly state the problem, show relevant code, and show attempts at resolution. Well done.","body":"This is a very well written question. I wish more questions would clearly state the problem, show relevant code, and show attempts at resolution. Well done."},{"owner":{"account_id":5354120,"reputation":257,"user_id":4310259,"accept_rate":100,"display_name":"bretmattingly"},"score":0,"creation_date":1487095662,"post_id":27804069,"comment_id":71625996,"body_markdown":"As of 14 Feb 2017, @cslotty&#39;s link is dead.","body":"As of 14 Feb 2017, @cslotty&#39;s link is dead."},{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":1,"creation_date":1683201381,"post_id":27804069,"comment_id":134331981,"body_markdown":"I second Todd&#39;s comment and will also add a helpful link to medium where I got my solution from: https://prateek-ashtikar512.medium.com/how-to-map-java-enum-to-postgresql-enum-type-fcb3f81a7c42. There I didn&#39;t need to add Hypersistence Util, but only a `package-info.java`.","body":"I second Todd&#39;s comment and will also add a helpful link to medium where I got my solution from: <a href=\"https://prateek-ashtikar512.medium.com/how-to-map-java-enum-to-postgresql-enum-type-fcb3f81a7c42\" rel=\"nofollow noreferrer\">prateek-ashtikar512.medium.com/&hellip;</a>. There I didn&#39;t need to add Hypersistence Util, but only a <code>package-info.java</code>."}],"answers":[{"comments":[{"owner":{"account_id":3112777,"reputation":347,"user_id":2634207,"accept_rate":83,"display_name":"danissimo"},"score":0,"creation_date":1675122558,"post_id":27807765,"comment_id":132857240,"body_markdown":"So, what is the final code? I see a lot of excerpts but they don&#39;t gather in a solid solution in my mind. I need a solution instead of plenty of scattered improvements, a bunch of hyperlinks, that I don&#39;t want to follow, ideas and thoughts.","body":"So, what is the final code? I see a lot of excerpts but they don&#39;t gather in a solid solution in my mind. I need a solution instead of plenty of scattered improvements, a bunch of hyperlinks, that I don&#39;t want to follow, ideas and thoughts."}],"tags":[],"owner":{"account_id":1097106,"reputation":1744,"user_id":1090474,"accept_rate":100,"display_name":"Kenny Linsky"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1424808148,"creation_date":1420580951,"answer_id":27807765,"question_id":27804069,"body_markdown":"##HQL\r\nAliasing correctly and using the *qualified property name* was the first part of the solution.\r\n\r\n\t&lt;query name=&quot;getAllMoves&quot;&gt;\r\n   \t\t&lt;![CDATA[\r\n   \t\t\tfrom Move as move\r\n   \t\t\twhere move.directionToMove = :direction\r\n   \t\t]]&gt;\r\n\t&lt;/query&gt;\r\n\r\n##Hibernate mapping\r\n`@Enumerated(EnumType.STRING)` still didn&#39;t work, so a custom `UserType` was necessary. The key was to correctly override `nullSafeSet` like in this answer https://stackoverflow.com/a/7614642/1090474 and [similar](https://anismiles.wordpress.com/2010/08/04/postgres-enum-with-hibernate/) [implementations](https://github.com/JadiraOrg/jadira/issues/14) from the web.\r\n\r\n\t@Override\r\n    public void nullSafeSet(PreparedStatement st, Object value, int index, SessionImplementor session) throws HibernateException, SQLException {\r\n        if (value == null) {\r\n            st.setNull(index, Types.VARCHAR);\r\n        }\r\n        else {\r\n            st.setObject(index, ((Enum) value).name(), Types.OTHER);\r\n        }\r\n    }\r\n\r\n##Detour\r\n`implements ParameterizedType` wasn&#39;t cooperating:\r\n\r\n    org.hibernate.MappingException: type is not parameterized: full.path.to.PGEnumUserType\r\n    \r\nso I wasn&#39;t able to annotate the enum property like this:\r\n\r\n\t@Type(type = &quot;full.path.to.PGEnumUserType&quot;,\r\n\t\t\tparameters = {\r\n\t\t\t\t\t@Parameter(name = &quot;enumClass&quot;, value = &quot;full.path.to.Move$Direction&quot;)\r\n\t\t\t}\r\n\t)\r\n\r\nInstead, I declared the class like so:\r\n\r\n    public class PGEnumUserType&lt;E extends Enum&lt;E&gt;&gt; implements UserType\r\n\r\nwith a constructor:\r\n\r\n\tpublic PGEnumUserType(Class&lt;E&gt; enumClass) {\r\n    \tthis.enumClass = enumClass;\r\n    }\r\n    \r\nwhich, unfortunately, means any other enum property similarly mapped will need a class like this:\r\n\r\n\tpublic class HibernateDirectionUserType extends PGEnumUserType&lt;Direction&gt; {\r\n\t\tpublic HibernateDirectionUserType() {\r\n\t\t\tsuper(Direction.class);\r\n\t\t}\r\n\t}\r\n\r\n##Annotation\r\nAnnotate the property and you&#39;re done.\r\n\r\n\t@Column(name = &quot;directiontomove&quot;, nullable = false)\r\n\t@Type(type = &quot;full.path.to.HibernateDirectionUserType&quot;)\r\n    private Direction directionToMove;\r\n\r\n##Other notes\r\n* `EnhancedUserType` and the three methods it wants implemented\r\n\r\n\t\tpublic String objectToSQLString(Object value)\r\n\t\tpublic String toXMLString(Object value)\r\n\t\tpublic String objectToSQLString(Object value)\r\n\t\r\n\tdidn&#39;t make any difference I could see, so I stuck with `implements UserType`.\r\n* Depending on how you&#39;re using the class, it might not be strictly necessary to make it postgres-specific by overriding `nullSafeGet` in the way the two linked solutions did.\r\n* If you&#39;re willing to give up the postgres enum, you can make the column `text` and the original code will work without extra work.","title":"Hibernate mapping between PostgreSQL enum and Java enum","body":"<h2>HQL</h2>\n\n<p>Aliasing correctly and using the <em>qualified property name</em> was the first part of the solution.</p>\n\n<pre><code>&lt;query name=\"getAllMoves\"&gt;\n    &lt;![CDATA[\n        from Move as move\n        where move.directionToMove = :direction\n    ]]&gt;\n&lt;/query&gt;\n</code></pre>\n\n<h2>Hibernate mapping</h2>\n\n<p><code>@Enumerated(EnumType.STRING)</code> still didn't work, so a custom <code>UserType</code> was necessary. The key was to correctly override <code>nullSafeSet</code> like in this answer <a href=\"https://stackoverflow.com/a/7614642/1090474\">https://stackoverflow.com/a/7614642/1090474</a> and <a href=\"https://anismiles.wordpress.com/2010/08/04/postgres-enum-with-hibernate/\" rel=\"nofollow noreferrer\">similar</a> <a href=\"https://github.com/JadiraOrg/jadira/issues/14\" rel=\"nofollow noreferrer\">implementations</a> from the web.</p>\n\n<pre><code>@Override\npublic void nullSafeSet(PreparedStatement st, Object value, int index, SessionImplementor session) throws HibernateException, SQLException {\n    if (value == null) {\n        st.setNull(index, Types.VARCHAR);\n    }\n    else {\n        st.setObject(index, ((Enum) value).name(), Types.OTHER);\n    }\n}\n</code></pre>\n\n<h2>Detour</h2>\n\n<p><code>implements ParameterizedType</code> wasn't cooperating:</p>\n\n<pre><code>org.hibernate.MappingException: type is not parameterized: full.path.to.PGEnumUserType\n</code></pre>\n\n<p>so I wasn't able to annotate the enum property like this:</p>\n\n<pre><code>@Type(type = \"full.path.to.PGEnumUserType\",\n        parameters = {\n                @Parameter(name = \"enumClass\", value = \"full.path.to.Move$Direction\")\n        }\n)\n</code></pre>\n\n<p>Instead, I declared the class like so:</p>\n\n<pre><code>public class PGEnumUserType&lt;E extends Enum&lt;E&gt;&gt; implements UserType\n</code></pre>\n\n<p>with a constructor:</p>\n\n<pre><code>public PGEnumUserType(Class&lt;E&gt; enumClass) {\n    this.enumClass = enumClass;\n}\n</code></pre>\n\n<p>which, unfortunately, means any other enum property similarly mapped will need a class like this:</p>\n\n<pre><code>public class HibernateDirectionUserType extends PGEnumUserType&lt;Direction&gt; {\n    public HibernateDirectionUserType() {\n        super(Direction.class);\n    }\n}\n</code></pre>\n\n<h2>Annotation</h2>\n\n<p>Annotate the property and you're done.</p>\n\n<pre><code>@Column(name = \"directiontomove\", nullable = false)\n@Type(type = \"full.path.to.HibernateDirectionUserType\")\nprivate Direction directionToMove;\n</code></pre>\n\n<h2>Other notes</h2>\n\n<ul>\n<li><p><code>EnhancedUserType</code> and the three methods it wants implemented</p>\n\n<pre><code>public String objectToSQLString(Object value)\npublic String toXMLString(Object value)\npublic String objectToSQLString(Object value)\n</code></pre>\n\n<p>didn't make any difference I could see, so I stuck with <code>implements UserType</code>.</p></li>\n<li>Depending on how you're using the class, it might not be strictly necessary to make it postgres-specific by overriding <code>nullSafeGet</code> in the way the two linked solutions did.</li>\n<li>If you're willing to give up the postgres enum, you can make the column <code>text</code> and the original code will work without extra work.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":970256,"reputation":892,"user_id":992940,"accept_rate":67,"display_name":"Dmitrii Bocharov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422305002,"creation_date":1422305002,"answer_id":28158395,"question_id":27804069,"body_markdown":"As said in [8.7.3. Type Safety of Postgres Docs][1]:\r\n\r\n&gt; If you really need to do something like that, you can either write a custom operator or add explicit casts to your query:\r\n\r\nso if you want a quick and simple workaround, do like this:\r\n\r\n    &lt;query name=&quot;getAllMoves&quot;&gt;\r\n    &lt;![CDATA[\r\n        select move from Move move\r\n        where cast(directiontomove as text) = cast(:directionToMove as text)\r\n    ]]&gt;\r\n    &lt;/query&gt;\r\n\r\nUnfortunately, [you can&#39;t do it simply with two colons][2]: \r\n\r\n\r\n  [1]: http://www.postgresql.org/docs/9.2/static/datatype-enum.html\r\n  [2]: https://stackoverflow.com/questions/7475876/using-hibernate-query-colon-gets-treated-as-parameter-escaping-colon","title":"Hibernate mapping between PostgreSQL enum and Java enum","body":"<p>As said in <a href=\"http://www.postgresql.org/docs/9.2/static/datatype-enum.html\" rel=\"nofollow noreferrer\">8.7.3. Type Safety of Postgres Docs</a>:</p>\n\n<blockquote>\n  <p>If you really need to do something like that, you can either write a custom operator or add explicit casts to your query:</p>\n</blockquote>\n\n<p>so if you want a quick and simple workaround, do like this:</p>\n\n<pre><code>&lt;query name=\"getAllMoves\"&gt;\n&lt;![CDATA[\n    select move from Move move\n    where cast(directiontomove as text) = cast(:directionToMove as text)\n]]&gt;\n&lt;/query&gt;\n</code></pre>\n\n<p>Unfortunately, <a href=\"https://stackoverflow.com/questions/7475876/using-hibernate-query-colon-gets-treated-as-parameter-escaping-colon\">you can't do it simply with two colons</a>: </p>\n"},{"tags":[],"owner":{"account_id":3055283,"reputation":54,"user_id":2589062,"display_name":"lew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582702073,"creation_date":1430245714,"answer_id":29927156,"question_id":27804069,"body_markdown":"Let me start off saying I was able to do this using Hibernate 4.3.x and Postgres 9.x.\r\n\r\nI based my solution off something similar to what you did.  I believe if you combine\r\n\r\n    @Type(type = &quot;org.hibernate.type.EnumType&quot;,\r\n    parameters = {\r\n            @Parameter(name  = &quot;enumClass&quot;, value = &quot;full.path.to.Move$Direction&quot;),\r\n            @Parameter(name = &quot;type&quot;, value = &quot;12&quot;),\r\n            @Parameter(name = &quot;useNamed&quot;, value = &quot;true&quot;)\r\n    })\r\n\r\nand this\r\n\r\n    @Override\r\n    public void nullSafeSet(PreparedStatement st, Object value, int index, SessionImplementor session) throws HibernateException, SQLException {\r\n      if (value == null) {\r\n        st.setNull(index, Types.VARCHAR);\r\n      }\r\n      else {\r\n        st.setObject(index, ((Enum) value).name(), Types.OTHER);\r\n      }\r\n    }\r\n\r\nYou should be able to get something along the lines of this, without having to make either above change.\r\n\r\n    @Type(type = &quot;org.hibernate.type.EnumType&quot;,\r\n    parameters = {\r\n            @Parameter(name  = &quot;enumClass&quot;, value = &quot;full.path.to.Move$Direction&quot;),\r\n            @Parameter(name = &quot;type&quot;, value = &quot;1111&quot;),\r\n            @Parameter(name = &quot;useNamed&quot;, value = &quot;true&quot;)\r\n    })\r\n\r\nI believe that this works since you&#39;re essentially telling Hibernate to map the enum to a type of other (```Types.OTHER == 1111```).  It may be a slightly brittle solution since the value of ```Types.OTHER``` could change.  However, this would provide significantly less code overall.","title":"Hibernate mapping between PostgreSQL enum and Java enum","body":"<p>Let me start off saying I was able to do this using Hibernate 4.3.x and Postgres 9.x.</p>\n\n<p>I based my solution off something similar to what you did.  I believe if you combine</p>\n\n<pre><code>@Type(type = \"org.hibernate.type.EnumType\",\nparameters = {\n        @Parameter(name  = \"enumClass\", value = \"full.path.to.Move$Direction\"),\n        @Parameter(name = \"type\", value = \"12\"),\n        @Parameter(name = \"useNamed\", value = \"true\")\n})\n</code></pre>\n\n<p>and this</p>\n\n<pre><code>@Override\npublic void nullSafeSet(PreparedStatement st, Object value, int index, SessionImplementor session) throws HibernateException, SQLException {\n  if (value == null) {\n    st.setNull(index, Types.VARCHAR);\n  }\n  else {\n    st.setObject(index, ((Enum) value).name(), Types.OTHER);\n  }\n}\n</code></pre>\n\n<p>You should be able to get something along the lines of this, without having to make either above change.</p>\n\n<pre><code>@Type(type = \"org.hibernate.type.EnumType\",\nparameters = {\n        @Parameter(name  = \"enumClass\", value = \"full.path.to.Move$Direction\"),\n        @Parameter(name = \"type\", value = \"1111\"),\n        @Parameter(name = \"useNamed\", value = \"true\")\n})\n</code></pre>\n\n<p>I believe that this works since you're essentially telling Hibernate to map the enum to a type of other (<code>Types.OTHER == 1111</code>).  It may be a slightly brittle solution since the value of <code>Types.OTHER</code> could change.  However, this would provide significantly less code overall.</p>\n"},{"comments":[{"owner":{"account_id":135268,"reputation":3319,"user_id":6999882,"accept_rate":86,"display_name":"leventunver"},"score":3,"creation_date":1522600093,"post_id":46303099,"comment_id":86207351,"body_markdown":"As you&#39;ve said, works like a charm! Should have more upvotes.","body":"As you&#39;ve said, works like a charm! Should have more upvotes."},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1522600247,"post_id":46303099,"comment_id":86207394,"body_markdown":"That&#39;s the spirit!","body":"That&#39;s the spirit!"},{"owner":{"account_id":531978,"reputation":1012,"user_id":903185,"accept_rate":48,"display_name":"Kevin Orriss"},"score":1,"creation_date":1534371543,"post_id":46303099,"comment_id":90686373,"body_markdown":"Fantastic, should be accepted as best answer, works great! Upvoted","body":"Fantastic, should be accepted as best answer, works great! Upvoted"},{"owner":{"account_id":128202,"reputation":4382,"user_id":325868,"accept_rate":58,"display_name":"LeO"},"score":0,"creation_date":1575017502,"post_id":46303099,"comment_id":104435310,"body_markdown":"@VladMihalcea: I&#39;m little bit confused about your library. Because I&#39;m not really sure if your library now supports the Postgress enum types or not. So, IFFF I add the library to my project do I need the code or not? The reason for the confusion is that in your articles you explain how to set it up, but still leaves me doubts about functionality.","body":"@VladMihalcea: I&#39;m little bit confused about your library. Because I&#39;m not really sure if your library now supports the Postgress enum types or not. So, IFFF I add the library to my project do I need the code or not? The reason for the confusion is that in your articles you explain how to set it up, but still leaves me doubts about functionality."},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1575027221,"post_id":46303099,"comment_id":104439983,"body_markdown":"Yes, it does support it. This answer shows how to write a type that supports PostgreSQL Enum, and, it&#39;s exactly what the hibernate-types library dies in fact. Now, you can just use the type written by me or you can write it yourself. It&#39;s as simple as that.","body":"Yes, it does support it. This answer shows how to write a type that supports PostgreSQL Enum, and, it&#39;s exactly what the hibernate-types library dies in fact. Now, you can just use the type written by me or you can write it yourself. It&#39;s as simple as that."},{"owner":{"account_id":128202,"reputation":4382,"user_id":325868,"accept_rate":58,"display_name":"LeO"},"score":0,"creation_date":1575632665,"post_id":46303099,"comment_id":104641309,"body_markdown":"@VladMihalcea: Somehow I didn&#39;t figure out how to use it properly with your package :-/ The other problem I&#39;m facing is that for production we have Postgres but for testing we have h2. Is there a way to use them both for the same Java enum? Don&#39;t know if there is better place for a followup","body":"@VladMihalcea: Somehow I didn&#39;t figure out how to use it properly with your package :-/ The other problem I&#39;m facing is that for production we have Postgres but for testing we have h2. Is there a way to use them both for the same Java enum? Don&#39;t know if there is better place for a followup"},{"owner":{"account_id":3045936,"reputation":598,"user_id":2581587,"display_name":"Hans Wouters"},"score":0,"creation_date":1594367829,"post_id":46303099,"comment_id":111106707,"body_markdown":"I&#39;d just like to point everyone who it trying to do this in a native query to this article: https://vladmihalcea.com/how-do-solve-the-postgresql-cast-operator-issue-with-jpa-and-hibernate/. I was looking for the way to cast this properly everywhere. Thanks @VladMihalcea","body":"I&#39;d just like to point everyone who it trying to do this in a native query to this article: <a href=\"https://vladmihalcea.com/how-do-solve-the-postgresql-cast-operator-issue-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>. I was looking for the way to cast this properly everywhere. Thanks @VladMihalcea"},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1670690422,"post_id":46303099,"comment_id":131933732,"body_markdown":"Any way to support hbm2ddl?","body":"Any way to support hbm2ddl?"},{"owner":{"account_id":1485636,"reputation":634,"user_id":1414725,"accept_rate":52,"display_name":"Alex"},"score":0,"creation_date":1675124359,"post_id":46303099,"comment_id":132857537,"body_markdown":"how about Hibernate 6 ?","body":"how about Hibernate 6 ?"},{"owner":{"account_id":2428915,"reputation":411,"user_id":2120275,"accept_rate":20,"display_name":"Ian"},"score":0,"creation_date":1694858029,"post_id":46303099,"comment_id":135948535,"body_markdown":"org.hibernate.type.EnumType is deprecated and marked for removal.","body":"org.hibernate.type.EnumType is deprecated and marked for removal."},{"owner":{"account_id":241177,"reputation":10288,"user_id":511837,"accept_rate":78,"display_name":"igr"},"score":0,"creation_date":1699859756,"post_id":46303099,"comment_id":136579184,"body_markdown":"I am getting Hibernate validation errors reported, although it works.","body":"I am getting Hibernate validation errors reported, although it works."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":11,"down_vote_count":1,"up_vote_count":67,"is_accepted":false,"score":66,"last_activity_date":1695019218,"creation_date":1505831348,"answer_id":46303099,"question_id":27804069,"body_markdown":"You can simply get these types via Maven Central using the [Hypersistence Util](https://github.com/vladmihalcea/hypersistence-utils) dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hypersistence-utils-hibernate-55&lt;/artifactId&gt;\r\n        &lt;version&gt;${hibernate-types.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNext, you need to annotate the field with the Hibernate `@Type` annotation, as illustrated in the following examples.\r\n\r\nHibernate 6\r\n-----------\r\n\r\nIf you&#39;re using Hibernate 6, map it like this:\r\n\r\n    @Entity(name = &quot;Post&quot;)\r\n    @Table(name = &quot;post&quot;)\r\n    public static class Post {\r\n     \r\n        @Id\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(columnDefinition = &quot;post_status_info&quot;)\r\n        @Type(PostgreSQLEnumType.class)\r\n        private PostStatus status;\r\n     \r\n        //Getters and setters omitted for brevity\r\n    }\r\n\r\nHere&#39;s [an example on GitHub](https://github.com/vladmihalcea/hypersistence-utils/blob/9a397d939d3034c992e999a56eb8f893d1ce35e5/hypersistence-utils-hibernate-62/src/test/java/io/hypersistence/utils/hibernate/type/basic/PostgreSQLEnumTest.java#L36) that shows how it works with Hibernate 6.2.\r\n\r\nHibernate 5\r\n-----------\r\n\r\nIf you&#39;re using Hibernate 5, map it like this:\r\n\r\n    @Entity(name = &quot;Post&quot;)\r\n    @Table(name = &quot;post&quot;)\r\n    @TypeDef(\r\n        name = &quot;pgsql_enum&quot;,\r\n        typeClass = PostgreSQLEnumType.class\r\n    )\r\n    public static class Post {\r\n     \r\n        @Id\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(columnDefinition = &quot;post_status_info&quot;)\r\n        @Type(type = &quot;pgsql_enum&quot;)\r\n        private PostStatus status;\r\n     \r\n        //Getters and setters omitted for brevity\r\n    }\r\n\r\nHere&#39;s [an example on GitHub](https://github.com/vladmihalcea/hypersistence-utils/blob/9a397d939d3034c992e999a56eb8f893d1ce35e5/hypersistence-utils-hibernate-55/src/test/java/io/hypersistence/utils/hibernate/type/basic/PostgreSQLEnumTest.java#L121) that shows how it works with Hibernate 5.6.\r\n\r\nThis mapping assumes you have the `post_status_info` enum type in PostgreSQL:\r\n\r\n    CREATE TYPE post_status_info AS ENUM (\r\n        &#39;PENDING&#39;, \r\n        &#39;APPROVED&#39;, \r\n        &#39;SPAM&#39;\r\n    )\r\n\r\nThat&#39;s it.","title":"Hibernate mapping between PostgreSQL enum and Java enum","body":"<p>You can simply get these types via Maven Central using the <a href=\"https://github.com/vladmihalcea/hypersistence-utils\" rel=\"noreferrer\">Hypersistence Util</a> dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\n    &lt;artifactId&gt;hypersistence-utils-hibernate-55&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate-types.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Next, you need to annotate the field with the Hibernate <code>@Type</code> annotation, as illustrated in the following examples.</p>\n<h2>Hibernate 6</h2>\n<p>If you're using Hibernate 6, map it like this:</p>\n<pre><code>@Entity(name = &quot;Post&quot;)\n@Table(name = &quot;post&quot;)\npublic static class Post {\n \n    @Id\n    private Long id;\n \n    private String title;\n \n    @Enumerated(EnumType.STRING)\n    @Column(columnDefinition = &quot;post_status_info&quot;)\n    @Type(PostgreSQLEnumType.class)\n    private PostStatus status;\n \n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>Here's <a href=\"https://github.com/vladmihalcea/hypersistence-utils/blob/9a397d939d3034c992e999a56eb8f893d1ce35e5/hypersistence-utils-hibernate-62/src/test/java/io/hypersistence/utils/hibernate/type/basic/PostgreSQLEnumTest.java#L36\" rel=\"noreferrer\">an example on GitHub</a> that shows how it works with Hibernate 6.2.</p>\n<h2>Hibernate 5</h2>\n<p>If you're using Hibernate 5, map it like this:</p>\n<pre><code>@Entity(name = &quot;Post&quot;)\n@Table(name = &quot;post&quot;)\n@TypeDef(\n    name = &quot;pgsql_enum&quot;,\n    typeClass = PostgreSQLEnumType.class\n)\npublic static class Post {\n \n    @Id\n    private Long id;\n \n    private String title;\n \n    @Enumerated(EnumType.STRING)\n    @Column(columnDefinition = &quot;post_status_info&quot;)\n    @Type(type = &quot;pgsql_enum&quot;)\n    private PostStatus status;\n \n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>Here's <a href=\"https://github.com/vladmihalcea/hypersistence-utils/blob/9a397d939d3034c992e999a56eb8f893d1ce35e5/hypersistence-utils-hibernate-55/src/test/java/io/hypersistence/utils/hibernate/type/basic/PostgreSQLEnumTest.java#L121\" rel=\"noreferrer\">an example on GitHub</a> that shows how it works with Hibernate 5.6.</p>\n<p>This mapping assumes you have the <code>post_status_info</code> enum type in PostgreSQL:</p>\n<pre><code>CREATE TYPE post_status_info AS ENUM (\n    'PENDING', \n    'APPROVED', \n    'SPAM'\n)\n</code></pre>\n<p>That's it.</p>\n"},{"tags":[],"owner":{"account_id":981832,"reputation":480,"user_id":1635535,"accept_rate":67,"display_name":"Marko Novakovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635598060,"creation_date":1533223966,"answer_id":51657399,"question_id":27804069,"body_markdown":"I have another approach with a persistence converter:\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Convert;\r\n    \r\n    @Column(name = &quot;direction&quot;, nullable = false)\r\n    @Convert(converter = DirectionConverter.class)\r\n    private Direction directionToMove;\r\n\r\nThis is a converter definition:\r\n\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Converter;\r\n    \r\n    @Converter\r\n    public class DirectionConverter implements AttributeConverter&lt;Direction, String&gt; {\r\n        @Override\r\n        public String convertToDatabaseColumn(Direction direction) {\r\n            return direction.name();\r\n        }\r\n    \r\n        @Override\r\n        public Direction convertToEntityAttribute(String string) {\r\n            return Diretion.valueOf(string);\r\n        }\r\n    }\r\n\r\nIt does not resolve mapping to psql enum type, but it can simulate @Enumerated(EnumType.STRING) or @Enumerated(EnumType.ORDINAL) in a good way.\r\n\r\nFor ordinal use direction.ordinal() and Direction.values()[number].","title":"Hibernate mapping between PostgreSQL enum and Java enum","body":"<p>I have another approach with a persistence converter:</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Convert;\n\n@Column(name = &quot;direction&quot;, nullable = false)\n@Convert(converter = DirectionConverter.class)\nprivate Direction directionToMove;\n</code></pre>\n<p>This is a converter definition:</p>\n<pre><code>import javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\n@Converter\npublic class DirectionConverter implements AttributeConverter&lt;Direction, String&gt; {\n    @Override\n    public String convertToDatabaseColumn(Direction direction) {\n        return direction.name();\n    }\n\n    @Override\n    public Direction convertToEntityAttribute(String string) {\n        return Diretion.valueOf(string);\n    }\n}\n</code></pre>\n<p>It does not resolve mapping to psql enum type, but it can simulate @Enumerated(EnumType.STRING) or @Enumerated(EnumType.ORDINAL) in a good way.</p>\n<p>For ordinal use direction.ordinal() and Direction.values()[number].</p>\n"},{"tags":[],"owner":{"account_id":7714704,"reputation":11,"user_id":5842884,"display_name":"vvserdiuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694009494,"creation_date":1694009494,"answer_id":77052732,"question_id":27804069,"body_markdown":"**Hibernate &lt; 6.3 version**\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @ColumnTransformer(write = &quot;?::yours_enum_type&quot;)\r\n    private YoursEnumType enumType;\r\n\r\n**Hibernate 6.3**\r\n\r\nLooks like it&#39;s supported out of the box since 6.3.0.\r\nhttps://hibernate.atlassian.net/browse/HHH-16125","title":"Hibernate mapping between PostgreSQL enum and Java enum","body":"<p><strong>Hibernate &lt; 6.3 version</strong></p>\n<pre><code>@Enumerated(EnumType.STRING)\n@ColumnTransformer(write = &quot;?::yours_enum_type&quot;)\nprivate YoursEnumType enumType;\n</code></pre>\n<p><strong>Hibernate 6.3</strong></p>\n<p>Looks like it's supported out of the box since 6.3.0.\n<a href=\"https://hibernate.atlassian.net/browse/HHH-16125\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-16125</a></p>\n"}],"owner":{"account_id":1097106,"reputation":1744,"user_id":1090474,"accept_rate":100,"display_name":"Kenny Linsky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33733,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":27807765,"answer_count":6,"score":46,"last_activity_date":1695019218,"creation_date":1420565802,"question_id":27804069,"body_markdown":"##Background\r\n* Spring 3.x, JPA 2.0, Hibernate 4.x, Postgresql 9.x.\r\n* Working on a Hibernate mapped class with an enum property that I want to map to a Postgresql enum.\r\n\r\n##Problem\r\nQuerying with a where clause on the enum column throws an exception.\r\n\r\n    org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    ...\t\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: movedirection = bytea\r\n      Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\r\n\r\n##Code (heavily simplified)\r\n\r\nSQL:\r\n\r\n    create type movedirection as enum (\r\n    \t&#39;FORWARD&#39;, &#39;LEFT&#39;\r\n    );\r\n    \r\n    CREATE TABLE move\r\n    (\r\n    \tid serial NOT NULL PRIMARY KEY,\r\n    \tdirectiontomove movedirection NOT NULL\r\n    );\r\n\r\nHibernate mapped class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;move&quot;)\r\n    public class Move {\r\n\r\n        public enum Direction {\r\n    \t\tFORWARD, LEFT;\r\n    \t}\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id&quot;)\r\n    \t@GeneratedValue(generator = &quot;sequenceGenerator&quot;, strategy=GenerationType.SEQUENCE)\r\n    \t@SequenceGenerator(name = &quot;sequenceGenerator&quot;, sequenceName = &quot;move_id_seq&quot;)\r\n    \tprivate long id;\r\n    \r\n    \t@Column(name = &quot;directiontomove&quot;, nullable = false)\r\n        @Enumerated(EnumType.STRING)\r\n    \tprivate Direction directionToMove;\r\n        ...\r\n\t\t// getters and setters\r\n    }\r\n\r\nJava that calls the query:\r\n\r\n    public List&lt;Move&gt; getMoves(Direction directionToMove) {\r\n    \treturn (List&lt;Direction&gt;) sessionFactory.getCurrentSession()\r\n    \t\t\t.getNamedQuery(&quot;getAllMoves&quot;)\r\n    \t\t\t.setParameter(&quot;directionToMove&quot;, directionToMove)\r\n    \t\t\t.list();\r\n    }\r\n\r\nHibernate xml query:\r\n\r\n    &lt;query name=&quot;getAllMoves&quot;&gt;\r\n   \t\t&lt;![CDATA[\r\n   \t\t\tselect move from Move move\r\n   \t\t\twhere directiontomove = :directionToMove\r\n   \t\t]]&gt;\r\n\t&lt;/query&gt;\r\n\r\n##Troubleshooting\r\n* Querying by `id` instead of the enum works as expected.\r\n* Java without database interaction works fine:\r\n\r\n        public List&lt;Move&gt; getMoves(Direction directionToMove) {\r\n\t\t\tList&lt;Move&gt; moves = new ArrayList&lt;&gt;();\r\n\t\t\tMove move1 = new Move();\r\n\t\t\tmove1.setDirection(directionToMove);\r\n\t\t\tmoves.add(move1);\r\n\t\t\treturn moves;\r\n\t\t}\r\n* `createQuery` instead of having the query in XML, similar to the `findByRating` example in [Apache&#39;s JPA and Enums via @Enumerated documentation](http://tomee.apache.org/examples-trunk/jpa-enumerated/README.html) gave the same exception.\r\n* Querying in psql with `select * from move where direction = &#39;LEFT&#39;;` works as expected.\r\n* **Hardcoding `where direction = &#39;FORWARD&#39;` in the query in the XML works.**\r\n* `.setParameter(&quot;direction&quot;, direction.name())` does not, same with `.setString()` and `.setText()`, exception changes to:\r\n\r\n        Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: movedirection = character varying\r\n\r\n\r\n##Attempts at resolution\r\n* Custom `UserType` as suggested by this accepted answer https://stackoverflow.com/a/1594020/1090474 along with:\r\n    \r\n        @Column(name = &quot;direction&quot;, nullable = false)\r\n        @Enumerated(EnumType.STRING) // tried with and without this line\r\n        @Type(type = &quot;full.path.to.HibernateMoveDirectionUserType&quot;)\r\n        private Direction directionToMove;\r\n* Mapping with Hibernate&#39;s `EnumType` as suggested by a higher rated but not accepted answer https://stackoverflow.com/a/1604286/1090474 from the same question as above, along with:\r\n\r\n        @Type(type = &quot;org.hibernate.type.EnumType&quot;,\r\n\t\t\tparameters = {\r\n\t\t\t\t\t@Parameter(name  = &quot;enumClass&quot;, value = &quot;full.path.to.Move$Direction&quot;),\r\n\t\t\t\t\t@Parameter(name = &quot;type&quot;, value = &quot;12&quot;),\r\n\t\t\t\t\t@Parameter(name = &quot;useNamed&quot;, value = &quot;true&quot;)\r\n\t\t\t})\r\n    With and without the two second parameters, after seeing https://stackoverflow.com/a/13241410/1090474\r\n* Tried annotating the getter and setter like in this answer https://stackoverflow.com/a/20252215/1090474.\r\n* Haven&#39;t tried `EnumType.ORDINAL` because I want to stick with `EnumType.STRING`, which is less brittle and more flexible.\r\n\r\n##Other notes\r\nA JPA 2.1 Type Converter shouldn&#39;t be necessary, but isn&#39;t an option regardless, since I&#39;m on JPA 2.0 for now.","title":"Hibernate mapping between PostgreSQL enum and Java enum","body":"<h2>Background</h2>\n\n<ul>\n<li>Spring 3.x, JPA 2.0, Hibernate 4.x, Postgresql 9.x.</li>\n<li>Working on a Hibernate mapped class with an enum property that I want to map to a Postgresql enum.</li>\n</ul>\n\n<h2>Problem</h2>\n\n<p>Querying with a where clause on the enum column throws an exception.</p>\n\n<pre><code>org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n... \nCaused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: movedirection = bytea\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\n</code></pre>\n\n<h2>Code (heavily simplified)</h2>\n\n<p>SQL:</p>\n\n<pre><code>create type movedirection as enum (\n    'FORWARD', 'LEFT'\n);\n\nCREATE TABLE move\n(\n    id serial NOT NULL PRIMARY KEY,\n    directiontomove movedirection NOT NULL\n);\n</code></pre>\n\n<p>Hibernate mapped class:</p>\n\n<pre><code>@Entity\n@Table(name = \"move\")\npublic class Move {\n\n    public enum Direction {\n        FORWARD, LEFT;\n    }\n\n    @Id\n    @Column(name = \"id\")\n    @GeneratedValue(generator = \"sequenceGenerator\", strategy=GenerationType.SEQUENCE)\n    @SequenceGenerator(name = \"sequenceGenerator\", sequenceName = \"move_id_seq\")\n    private long id;\n\n    @Column(name = \"directiontomove\", nullable = false)\n    @Enumerated(EnumType.STRING)\n    private Direction directionToMove;\n    ...\n    // getters and setters\n}\n</code></pre>\n\n<p>Java that calls the query:</p>\n\n<pre><code>public List&lt;Move&gt; getMoves(Direction directionToMove) {\n    return (List&lt;Direction&gt;) sessionFactory.getCurrentSession()\n            .getNamedQuery(\"getAllMoves\")\n            .setParameter(\"directionToMove\", directionToMove)\n            .list();\n}\n</code></pre>\n\n<p>Hibernate xml query:</p>\n\n<pre><code>&lt;query name=\"getAllMoves\"&gt;\n    &lt;![CDATA[\n        select move from Move move\n        where directiontomove = :directionToMove\n    ]]&gt;\n&lt;/query&gt;\n</code></pre>\n\n<h2>Troubleshooting</h2>\n\n<ul>\n<li>Querying by <code>id</code> instead of the enum works as expected.</li>\n<li><p>Java without database interaction works fine:</p>\n\n<pre><code>public List&lt;Move&gt; getMoves(Direction directionToMove) {\n    List&lt;Move&gt; moves = new ArrayList&lt;&gt;();\n    Move move1 = new Move();\n    move1.setDirection(directionToMove);\n    moves.add(move1);\n    return moves;\n}\n</code></pre></li>\n<li><code>createQuery</code> instead of having the query in XML, similar to the <code>findByRating</code> example in <a href=\"http://tomee.apache.org/examples-trunk/jpa-enumerated/README.html\" rel=\"noreferrer\">Apache's JPA and Enums via @Enumerated documentation</a> gave the same exception.</li>\n<li>Querying in psql with <code>select * from move where direction = 'LEFT';</code> works as expected.</li>\n<li><strong>Hardcoding <code>where direction = 'FORWARD'</code> in the query in the XML works.</strong></li>\n<li><p><code>.setParameter(\"direction\", direction.name())</code> does not, same with <code>.setString()</code> and <code>.setText()</code>, exception changes to:</p>\n\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: movedirection = character varying\n</code></pre></li>\n</ul>\n\n<h2>Attempts at resolution</h2>\n\n<ul>\n<li><p>Custom <code>UserType</code> as suggested by this accepted answer <a href=\"https://stackoverflow.com/a/1594020/1090474\">https://stackoverflow.com/a/1594020/1090474</a> along with:</p>\n\n<pre><code>@Column(name = \"direction\", nullable = false)\n@Enumerated(EnumType.STRING) // tried with and without this line\n@Type(type = \"full.path.to.HibernateMoveDirectionUserType\")\nprivate Direction directionToMove;\n</code></pre></li>\n<li><p>Mapping with Hibernate's <code>EnumType</code> as suggested by a higher rated but not accepted answer <a href=\"https://stackoverflow.com/a/1604286/1090474\">https://stackoverflow.com/a/1604286/1090474</a> from the same question as above, along with:</p>\n\n<pre><code>@Type(type = \"org.hibernate.type.EnumType\",\n    parameters = {\n            @Parameter(name  = \"enumClass\", value = \"full.path.to.Move$Direction\"),\n            @Parameter(name = \"type\", value = \"12\"),\n            @Parameter(name = \"useNamed\", value = \"true\")\n    })\n</code></pre>\n\n<p>With and without the two second parameters, after seeing <a href=\"https://stackoverflow.com/a/13241410/1090474\">https://stackoverflow.com/a/13241410/1090474</a></p></li>\n<li>Tried annotating the getter and setter like in this answer <a href=\"https://stackoverflow.com/a/20252215/1090474\">https://stackoverflow.com/a/20252215/1090474</a>.</li>\n<li>Haven't tried <code>EnumType.ORDINAL</code> because I want to stick with <code>EnumType.STRING</code>, which is less brittle and more flexible.</li>\n</ul>\n\n<h2>Other notes</h2>\n\n<p>A JPA 2.1 Type Converter shouldn't be necessary, but isn't an option regardless, since I'm on JPA 2.0 for now.</p>\n"},{"tags":["java","spring-boot","spring-batch","batch-processing"],"comments":[{"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"score":0,"creation_date":1694809932,"post_id":77115002,"comment_id":135945090,"body_markdown":"You shoud use an ItemProcessorListener so you can create a class that implement the interface ItemProcessorListener  and after you can define your implementation ( beforeProcess &amp; afterProcess ). But in you code i see that you want to use beforeStep &amp; AfterStep in the class of your processor.","body":"You shoud use an ItemProcessorListener so you can create a class that implement the interface ItemProcessorListener  and after you can define your implementation ( beforeProcess &amp; afterProcess ). But in you code i see that you want to use beforeStep &amp; AfterStep in the class of your processor."},{"owner":{"account_id":9057139,"reputation":107,"user_id":6745028,"display_name":"Ramkumar S"},"score":0,"creation_date":1701998592,"post_id":77115002,"comment_id":136847082,"body_markdown":"I couldn&#39;t spring batch call the other &#39;processors&#39; before/after step. The above composite one it calls only the main processors and not the sub ones... So I re-wrote using single processor and delegated some of the work to other utility/processor helpers for now. Thanks for your response!","body":"I couldn&#39;t spring batch call the other &#39;processors&#39; before/after step. The above composite one it calls only the main processors and not the sub ones... So I re-wrote using single processor and delegated some of the work to other utility/processor helpers for now. Thanks for your response!"}],"answers":[{"comments":[{"owner":{"account_id":9057139,"reputation":107,"user_id":6745028,"display_name":"Ramkumar S"},"score":0,"creation_date":1701998848,"post_id":77125016,"comment_id":136847099,"body_markdown":"Thanks Ben! I am actually looking for the step execution here and hence was hoping my before / after step to be called... before / after process method of item processor I do not see them getting step execution input... But, I will provision time to check that later...","body":"Thanks Ben! I am actually looking for the step execution here and hence was hoping my before / after step to be called... before / after process method of item processor I do not see them getting step execution input... But, I will provision time to check that later..."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695019186,"creation_date":1695019186,"answer_id":77125016,"question_id":77115002,"body_markdown":"This is because you are using a composite processor. You can only register one item processor in a step. As you can see, those methods were called for the composite.\r\n\r\nSo you either need to make your composite call those methods for the delegate processors, or manually register the delegate processors as listeners in the step.","title":"Before / After steps not called in Item processors of ClassifierCompositeItemProcessor","body":"<p>This is because you are using a composite processor. You can only register one item processor in a step. As you can see, those methods were called for the composite.</p>\n<p>So you either need to make your composite call those methods for the delegate processors, or manually register the delegate processors as listeners in the step.</p>\n"}],"owner":{"account_id":9057139,"reputation":107,"user_id":6745028,"display_name":"Ramkumar S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695019186,"creation_date":1694807212,"question_id":77115002,"body_markdown":"Here is the sample code block (I remove our stuff and kept only the skeleton code)\r\n\r\n```\r\npublic class ItemProcessor1 implements ItemProcessor{\r\n\r\n    private StepExecution stepExecution;\r\n\t\t\r\n    @BeforeStep **// Not called.**\r\n    public void beforeStep(final StepExecution stepExecution) {\r\n        this.stepExecution = stepExecution;\r\n    }\r\n\r\n    @AfterStep  **// Not called.**\r\n    public ExitStatus afterStep() {\r\n       return ExitStatus.COMPLETED;\r\n    }\r\n\r\n    @Override\r\n    public Record process(Record rec) throws Exception {\r\n\t    return super.process(rec);\r\n    }\r\n}\r\n\r\npublic class ItemProcessor2 implements ItemProcessor{\r\n\r\n    private StepExecution stepExecution;\r\n\t\t\r\n    @BeforeStep  **// Not called**.\r\n    public void beforeStep(final StepExecution stepExecution) {\r\n\t    this.stepExecution = stepExecution;\r\n    }\r\n\r\n    @AfterStep  **// Not called.**\r\n    public ExitStatus afterStep() {\r\n\t    return ExitStatus.COMPLETED;\r\n    }\r\n\r\n    @Override\r\n    public Record process(Record rec) throws Exception {\r\n\t    return super.process(rec);\r\n    }\r\n}\r\n\r\n@RequiredArgsConstructor\r\npublic class ItemProcessorRecordClassifier\r\n                            implements Classifier {\r\n\r\n    private final ItemProcessor1 itemProcessor1;\r\n    private final ItemProcessor2 itemProcessor2;\r\n    public ItemProcessor classify(Record record) {\r\n\t    return (record.getRowNum()%2==0) ? itemProcessor1 : itemProcessor2\r\n    }\r\n\r\n}\r\n\r\npublic class RecordClassifierCompositeItemProcessor extends ClassifierCompositeItemProcessor {\r\n\r\n    private StepExecution stepExecution;\r\n\t\t\r\n    @BeforeStep  // Called.\r\n    public void beforeStep(final StepExecution stepExecution) {\r\n\t    this.stepExecution = stepExecution;\r\n    }\r\n\r\n    @AfterStep  // Called.\r\n    public ExitStatus afterStep() {\r\n        return ExitStatus.COMPLETED;\r\n    }\r\n\r\n    @Override\r\n    public Record process(Record rec) throws Exception {\r\n\t    return super.process(rec);\r\n    }\r\n}\r\n\r\n//Config\r\n\r\n@Bean\r\n// @StepScope\r\npublic ItemProcessor1 itemProcessor1() {\r\n\treturn new ItemProcessor1();\r\n}\r\n\r\n@Bean\r\n// @StepScope\r\npublic ItemProcessor2 itemProcessor2() {\r\n\treturn new ItemProcessor2();\r\n}\r\n\r\n@Bean\r\npublic ItemProcessorRecordClassifier itemProcessorRecordClassifier(\r\n\tfinal ItemProcessor1 itemProcessor1,\r\n\tfinal ItemProcessor2 itemProcessor2) {\r\n\treturn new ItemProcessorRecordClassifier(itemProcessor1, itemProcessor2);\r\n}\r\n\r\n@Bean\r\n@StepScope\r\npublic RecordClassifierCompositeItemProcessor processor(final ItemProcessorRecordClassifier itemProcessorRecordClassifier) {\r\n\tRecordClassifierCompositeItemProcessor compositeProcessor = new RecordClassifierCompositeItemProcessor();\r\n\t\tcompositeProcessor.setClassifier(itemProcessorRecordClassifier);\r\n\t\treturn compositeProcessor;\r\n}\r\n```\r\n\r\n\r\nI was expecting to do some before / after processing in each of the item processors specific to the record... But, Spring batch isn&#39;t calling the item processor&#39;s before / after step. I also tried with &#39;StepScope&#39; for the two item processors to no avail. Is it normal for spring batch to not called the before/after step of item processors of classifier composite ones?\r\n","title":"Before / After steps not called in Item processors of ClassifierCompositeItemProcessor","body":"<p>Here is the sample code block (I remove our stuff and kept only the skeleton code)</p>\n<pre><code>public class ItemProcessor1 implements ItemProcessor{\n\n    private StepExecution stepExecution;\n        \n    @BeforeStep **// Not called.**\n    public void beforeStep(final StepExecution stepExecution) {\n        this.stepExecution = stepExecution;\n    }\n\n    @AfterStep  **// Not called.**\n    public ExitStatus afterStep() {\n       return ExitStatus.COMPLETED;\n    }\n\n    @Override\n    public Record process(Record rec) throws Exception {\n        return super.process(rec);\n    }\n}\n\npublic class ItemProcessor2 implements ItemProcessor{\n\n    private StepExecution stepExecution;\n        \n    @BeforeStep  **// Not called**.\n    public void beforeStep(final StepExecution stepExecution) {\n        this.stepExecution = stepExecution;\n    }\n\n    @AfterStep  **// Not called.**\n    public ExitStatus afterStep() {\n        return ExitStatus.COMPLETED;\n    }\n\n    @Override\n    public Record process(Record rec) throws Exception {\n        return super.process(rec);\n    }\n}\n\n@RequiredArgsConstructor\npublic class ItemProcessorRecordClassifier\n                            implements Classifier {\n\n    private final ItemProcessor1 itemProcessor1;\n    private final ItemProcessor2 itemProcessor2;\n    public ItemProcessor classify(Record record) {\n        return (record.getRowNum()%2==0) ? itemProcessor1 : itemProcessor2\n    }\n\n}\n\npublic class RecordClassifierCompositeItemProcessor extends ClassifierCompositeItemProcessor {\n\n    private StepExecution stepExecution;\n        \n    @BeforeStep  // Called.\n    public void beforeStep(final StepExecution stepExecution) {\n        this.stepExecution = stepExecution;\n    }\n\n    @AfterStep  // Called.\n    public ExitStatus afterStep() {\n        return ExitStatus.COMPLETED;\n    }\n\n    @Override\n    public Record process(Record rec) throws Exception {\n        return super.process(rec);\n    }\n}\n\n//Config\n\n@Bean\n// @StepScope\npublic ItemProcessor1 itemProcessor1() {\n    return new ItemProcessor1();\n}\n\n@Bean\n// @StepScope\npublic ItemProcessor2 itemProcessor2() {\n    return new ItemProcessor2();\n}\n\n@Bean\npublic ItemProcessorRecordClassifier itemProcessorRecordClassifier(\n    final ItemProcessor1 itemProcessor1,\n    final ItemProcessor2 itemProcessor2) {\n    return new ItemProcessorRecordClassifier(itemProcessor1, itemProcessor2);\n}\n\n@Bean\n@StepScope\npublic RecordClassifierCompositeItemProcessor processor(final ItemProcessorRecordClassifier itemProcessorRecordClassifier) {\n    RecordClassifierCompositeItemProcessor compositeProcessor = new RecordClassifierCompositeItemProcessor();\n        compositeProcessor.setClassifier(itemProcessorRecordClassifier);\n        return compositeProcessor;\n}\n</code></pre>\n<p>I was expecting to do some before / after processing in each of the item processors specific to the record... But, Spring batch isn't calling the item processor's before / after step. I also tried with 'StepScope' for the two item processors to no avail. Is it normal for spring batch to not called the before/after step of item processors of classifier composite ones?</p>\n"},{"tags":["java","spring-boot","spring-batch","batch-processing"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695019022,"creation_date":1695019022,"answer_id":77125002,"question_id":77119953,"body_markdown":"With Spring Boot 3, if you use `@EnableBatchProcessing`, the batch auto-configuration (including the automatic job execution at startup) is disabled.\r\n\r\nIn your case, you should remove that annotation and it should work.","title":"First Spring Batch implementation, not executing Reader, Processor and Writer","body":"<p>With Spring Boot 3, if you use <code>@EnableBatchProcessing</code>, the batch auto-configuration (including the automatic job execution at startup) is disabled.</p>\n<p>In your case, you should remove that annotation and it should work.</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77125002,"answer_count":1,"score":0,"last_activity_date":1695019022,"creation_date":1694906528,"question_id":77119953,"body_markdown":"I&#39;m currently trying to learn spring batch, I did a first implementation, but the code inside Reader, Processor and Writer is not executed. Any advice?\r\n\r\n**JustBatchApplication :**\r\n\r\n    @SpringBootApplication\r\n    public class JustBatchApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(JustBatchApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n**BatchConfiguration :**\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    @RequiredArgsConstructor\r\n    public class BatchConfiguration {\r\n    \t\r\n    \tprivate final EmployeeReader employeeReader;\r\n    \t\r\n    \tprivate final EmployeeProcessor employeeProcessor;\r\n    \t\r\n    \tprivate final EmployeeWriter employeeWriter;\r\n    \t\r\n    \t@Bean\r\n    \tpublic Job employeeJob(JobRepository jobRepository, JobExecutionListener listener, Step step1) {\r\n    \t\treturn new JobBuilder(&quot;employeeJob&quot;, jobRepository)\r\n    \t\t\t\t.incrementer(new RunIdIncrementer())\r\n    \t\t\t\t.listener(listener)\r\n    \t\t\t\t.flow(step1)\r\n    \t\t\t\t.end()\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Step step1(JobRepository jobRepository, PlatformTransactionManager transactionManager) {\r\n    \t\treturn new StepBuilder(&quot;step1&quot;, jobRepository)\r\n    \t\t\t\t.&lt;Employee, Employee&gt;chunk(10, transactionManager)\r\n    \t\t\t\t.reader(employeeReader)\r\n    \t\t\t\t.processor(employeeProcessor)\r\n    \t\t\t\t.writer(employeeWriter)\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \r\n    }\r\n\r\n**EmployeeJobListener :**\r\n\r\n    @Slf4j\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class EmployeeJobListener implements JobExecutionListener {\r\n    \t\r\n    \tprivate final EmployeeReader employeeReader;\r\n    \t\r\n    \t@Override\r\n    \tpublic void beforeJob(JobExecution jobExecution) {\r\n    \t\tlog.info(&quot;############## JOB STARTING ############## &quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void afterJob(JobExecution jobExecution) {\r\n    \t\tif (jobExecution.getStatus() == BatchStatus.COMPLETED) {\r\n    \t\t\tlog.info(&quot;############## JOB COMPLETED ############## &quot;);\r\n    \t\t\temployeeReader.closeIterator();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n**EmployeeReader :**\r\nHere I use an already implemented CsvUtils to map each line of the CSV to the Employee class, I already checked and it is working perfectly fine. So there aren&#39;t issues with reading the file.\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class EmployeeReader implements ItemReader&lt;Employee&gt; {\r\n    \r\n    \tpublic EmployeeReader() {\r\n    \t\tCsvUtils&lt;Employee&gt; csvEmployee = new CsvUtils&lt;&gt;(Employee.class);\r\n    \t\ttry {\r\n    \t\t\titerator = csvEmployee.iterator(new FileInfo(DirectoryPath.SRC_MAIN_RESOURCES.value, &quot;employees&quot;));\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tthrow new RuntimeException(&quot;IOException while reading employees file!&quot;, e);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate MappingIterator&lt;Employee&gt; iterator;\r\n    \t\r\n    \t@Override\r\n    \tpublic Employee read() {\r\n    \t\t    \t\t\r\n    \t\tif (iterator.hasNext()) {\r\n    \t\t\t\r\n    \t\t\tEmployee employee = iterator.next();\r\n    \r\n    \t\t\tlog.info(&quot;Reading item: {}&quot;, employee);\r\n    \t\t\t\r\n    \t\t\treturn employee;\r\n    \t\t\t\r\n    \t\t} else {\r\n    \t\t\t\r\n    \t\t\treturn null;\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void closeIterator() {\r\n    \t\ttry {\r\n    \t\t\titerator.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tlog.warn(&quot;IOException while trying to close the iterator!&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n**EmployeeProcessor :**\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class EmployeeProcessor implements ItemProcessor&lt;Employee, Employee&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic Employee process(Employee employee) {\r\n    \t\tlog.info(&quot;Processing employee: {}&quot;, employee);\r\n    \t\treturn employee;\r\n    \t}\r\n    \r\n    }\r\n\r\n**EmployeeWriter :**\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class EmployeeWriter implements ItemWriter&lt;Employee&gt; {\r\n    \t\r\n    \t@Override\r\n    \tpublic void write(Chunk&lt;? extends Employee&gt; chunk) throws Exception {\r\n    \t\tfor ( Employee employee : chunk ) {\r\n    \t\t\tlog.info(&quot;Writing to console : &quot; + employee );\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**application.yaml :**\r\n\r\n    spring:\r\n      application:\r\n        name: batch\r\n        version: 1.0.0\r\n      banner:\r\n        location: classpath:banner.txt\r\n      datasource:\r\n        url: jdbc:postgresql://localhost:5432/BatchDB\r\n        driverClassName: org.postgresql.Driver\r\n        username: &quot;userbatch&quot;\r\n        password: &quot;passwordbatch&quot;\r\n      jpa:\r\n        properties:\r\n          hibernate:\r\n            dialect: org.hibernate.dialect.PostgreSQLDialect\r\n        database-platform: org.postgresql.Driver\r\n        show-sql: &#39;true&#39;\r\n        hibernate:\r\n          ddl-auto: update\r\n      batch:\r\n        job:\r\n          enabled: true\r\n    server:\r\n      port: &#39;9999&#39;\r\n\r\n**Console:**\r\n\r\n\r\n    ________       _____      ______  \r\n    ___  __ )_____ __  /_________  /_ \r\n    __  __  |  __ `/  __/  ___/_  __ \\\r\n    _  /_/ // /_/ // /_ / /__ _  / / /\r\n    /_____/ \\__,_/ \\__/ \\___/ /_/ /_/ \r\n                                      \r\n     \r\n    Powered by Spring Boot 3.1.2\r\n    \r\n    2023-09-17T01:09:40.442+02:00  INFO 44199 --- [           main] c.p.b.JustBatchApplication               : Starting JustBatchApplication using Java 17.0.5 with PID 44199 (/Users/xyz/Develop/Personal/projects/Training/batch/target/classes started by xyz in /Users/xyz/Develop/Personal/projects/Training/batch)\r\n    2023-09-17T01:09:40.443+02:00  INFO 44199 --- [           main] c.p.b.JustBatchApplication               : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-09-17T01:09:40.585+02:00  INFO 44199 --- [           main] o.s.b.c.c.a.BatchRegistrar               : Finished Spring Batch infrastructure beans configuration in 2 ms.\r\n    2023-09-17T01:09:40.632+02:00  INFO 44199 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n    2023-09-17T01:09:40.633+02:00  INFO 44199 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\r\n    2023-09-17T01:09:40.640+02:00  INFO 44199 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 JDBC repository interfaces.\r\n    2023-09-17T01:09:40.647+02:00  INFO 44199 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n    2023-09-17T01:09:40.648+02:00  INFO 44199 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-09-17T01:09:40.650+02:00  INFO 44199 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 JPA repository interfaces.\r\n    2023-09-17T01:09:40.772+02:00  INFO 44199 --- [           main] o.h.j.i.u.LogHelper                      : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2023-09-17T01:09:40.794+02:00  INFO 44199 --- [           main] o.h.Version                              : HHH000412: Hibernate ORM core version 6.2.6.Final\r\n    2023-09-17T01:09:40.796+02:00  INFO 44199 --- [           main] o.h.c.Environment                        : HHH000406: Using bytecode reflection optimizer\r\n    2023-09-17T01:09:40.851+02:00  INFO 44199 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n    2023-09-17T01:09:40.907+02:00  INFO 44199 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n    [main] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...\r\n    [main] INFO com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@204d9edf\r\n    [main] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.\r\n    2023-09-17T01:09:41.124+02:00  INFO 44199 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n    2023-09-17T01:09:41.361+02:00  INFO 44199 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2023-09-17T01:09:41.391+02:00  INFO 44199 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-09-17T01:09:41.436+02:00  INFO 44199 --- [           main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: POSTGRES\r\n    2023-09-17T01:09:41.453+02:00  INFO 44199 --- [           main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP\r\n    2023-09-17T01:09:41.457+02:00  INFO 44199 --- [           main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP\r\n    2023-09-17T01:09:41.459+02:00  INFO 44199 --- [           main] o.s.b.c.l.s.SimpleJobLauncher            : No TaskExecutor has been set, defaulting to synchronous executor.\r\n    2023-09-17T01:09:41.552+02:00  INFO 44199 --- [           main] c.p.b.JustBatchApplication               : Started JustBatchApplication in 1.286 seconds (process running for 1.637)\r\n    2023-09-17T01:09:41.554+02:00  INFO 44199 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...\r\n    [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.\r\n\r\n\r\nI have also checked the connection to PostgresSQL by saving an employee.\r\n\r\n","title":"First Spring Batch implementation, not executing Reader, Processor and Writer","body":"<p>I'm currently trying to learn spring batch, I did a first implementation, but the code inside Reader, Processor and Writer is not executed. Any advice?</p>\n<p><strong>JustBatchApplication :</strong></p>\n<pre><code>@SpringBootApplication\npublic class JustBatchApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(JustBatchApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>BatchConfiguration :</strong></p>\n<pre><code>@Slf4j\n@Configuration\n@EnableBatchProcessing\n@RequiredArgsConstructor\npublic class BatchConfiguration {\n    \n    private final EmployeeReader employeeReader;\n    \n    private final EmployeeProcessor employeeProcessor;\n    \n    private final EmployeeWriter employeeWriter;\n    \n    @Bean\n    public Job employeeJob(JobRepository jobRepository, JobExecutionListener listener, Step step1) {\n        return new JobBuilder(&quot;employeeJob&quot;, jobRepository)\n                .incrementer(new RunIdIncrementer())\n                .listener(listener)\n                .flow(step1)\n                .end()\n                .build();\n    }\n\n    @Bean\n    public Step step1(JobRepository jobRepository, PlatformTransactionManager transactionManager) {\n        return new StepBuilder(&quot;step1&quot;, jobRepository)\n                .&lt;Employee, Employee&gt;chunk(10, transactionManager)\n                .reader(employeeReader)\n                .processor(employeeProcessor)\n                .writer(employeeWriter)\n                .build();\n    }\n\n}\n</code></pre>\n<p><strong>EmployeeJobListener :</strong></p>\n<pre><code>@Slf4j\n@Component\n@RequiredArgsConstructor\npublic class EmployeeJobListener implements JobExecutionListener {\n    \n    private final EmployeeReader employeeReader;\n    \n    @Override\n    public void beforeJob(JobExecution jobExecution) {\n        log.info(&quot;############## JOB STARTING ############## &quot;);\n    }\n\n    @Override\n    public void afterJob(JobExecution jobExecution) {\n        if (jobExecution.getStatus() == BatchStatus.COMPLETED) {\n            log.info(&quot;############## JOB COMPLETED ############## &quot;);\n            employeeReader.closeIterator();\n        }\n    }\n\n}\n</code></pre>\n<p><strong>EmployeeReader :</strong>\nHere I use an already implemented CsvUtils to map each line of the CSV to the Employee class, I already checked and it is working perfectly fine. So there aren't issues with reading the file.</p>\n<pre><code>@Slf4j\n@Component\npublic class EmployeeReader implements ItemReader&lt;Employee&gt; {\n\n    public EmployeeReader() {\n        CsvUtils&lt;Employee&gt; csvEmployee = new CsvUtils&lt;&gt;(Employee.class);\n        try {\n            iterator = csvEmployee.iterator(new FileInfo(DirectoryPath.SRC_MAIN_RESOURCES.value, &quot;employees&quot;));\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;IOException while reading employees file!&quot;, e);\n        }\n    }\n    \n    private MappingIterator&lt;Employee&gt; iterator;\n    \n    @Override\n    public Employee read() {\n                    \n        if (iterator.hasNext()) {\n            \n            Employee employee = iterator.next();\n\n            log.info(&quot;Reading item: {}&quot;, employee);\n            \n            return employee;\n            \n        } else {\n            \n            return null;\n            \n        }\n        \n    }\n    \n    public void closeIterator() {\n        try {\n            iterator.close();\n        } catch (IOException e) {\n            log.warn(&quot;IOException while trying to close the iterator!&quot;);\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p><strong>EmployeeProcessor :</strong></p>\n<pre><code>@Slf4j\n@Component\npublic class EmployeeProcessor implements ItemProcessor&lt;Employee, Employee&gt; {\n\n    @Override\n    public Employee process(Employee employee) {\n        log.info(&quot;Processing employee: {}&quot;, employee);\n        return employee;\n    }\n\n}\n</code></pre>\n<p><strong>EmployeeWriter :</strong></p>\n<pre><code>@Slf4j\n@Component\npublic class EmployeeWriter implements ItemWriter&lt;Employee&gt; {\n    \n    @Override\n    public void write(Chunk&lt;? extends Employee&gt; chunk) throws Exception {\n        for ( Employee employee : chunk ) {\n            log.info(&quot;Writing to console : &quot; + employee );\n        }\n    }\n    \n}\n</code></pre>\n<p><strong>application.yaml :</strong></p>\n<pre><code>spring:\n  application:\n    name: batch\n    version: 1.0.0\n  banner:\n    location: classpath:banner.txt\n  datasource:\n    url: jdbc:postgresql://localhost:5432/BatchDB\n    driverClassName: org.postgresql.Driver\n    username: &quot;userbatch&quot;\n    password: &quot;passwordbatch&quot;\n  jpa:\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n    database-platform: org.postgresql.Driver\n    show-sql: 'true'\n    hibernate:\n      ddl-auto: update\n  batch:\n    job:\n      enabled: true\nserver:\n  port: '9999'\n</code></pre>\n<p><strong>Console:</strong></p>\n<pre><code>________       _____      ______  \n___  __ )_____ __  /_________  /_ \n__  __  |  __ `/  __/  ___/_  __ \\\n_  /_/ // /_/ // /_ / /__ _  / / /\n/_____/ \\__,_/ \\__/ \\___/ /_/ /_/ \n                                  \n \nPowered by Spring Boot 3.1.2\n\n2023-09-17T01:09:40.442+02:00  INFO 44199 --- [           main] c.p.b.JustBatchApplication               : Starting JustBatchApplication using Java 17.0.5 with PID 44199 (/Users/xyz/Develop/Personal/projects/Training/batch/target/classes started by xyz in /Users/xyz/Develop/Personal/projects/Training/batch)\n2023-09-17T01:09:40.443+02:00  INFO 44199 --- [           main] c.p.b.JustBatchApplication               : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-09-17T01:09:40.585+02:00  INFO 44199 --- [           main] o.s.b.c.c.a.BatchRegistrar               : Finished Spring Batch infrastructure beans configuration in 2 ms.\n2023-09-17T01:09:40.632+02:00  INFO 44199 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-09-17T01:09:40.633+02:00  INFO 44199 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\n2023-09-17T01:09:40.640+02:00  INFO 44199 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 JDBC repository interfaces.\n2023-09-17T01:09:40.647+02:00  INFO 44199 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-09-17T01:09:40.648+02:00  INFO 44199 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-09-17T01:09:40.650+02:00  INFO 44199 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 JPA repository interfaces.\n2023-09-17T01:09:40.772+02:00  INFO 44199 --- [           main] o.h.j.i.u.LogHelper                      : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-09-17T01:09:40.794+02:00  INFO 44199 --- [           main] o.h.Version                              : HHH000412: Hibernate ORM core version 6.2.6.Final\n2023-09-17T01:09:40.796+02:00  INFO 44199 --- [           main] o.h.c.Environment                        : HHH000406: Using bytecode reflection optimizer\n2023-09-17T01:09:40.851+02:00  INFO 44199 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-09-17T01:09:40.907+02:00  INFO 44199 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n[main] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...\n[main] INFO com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@204d9edf\n[main] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.\n2023-09-17T01:09:41.124+02:00  INFO 44199 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-09-17T01:09:41.361+02:00  INFO 44199 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-09-17T01:09:41.391+02:00  INFO 44199 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-09-17T01:09:41.436+02:00  INFO 44199 --- [           main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: POSTGRES\n2023-09-17T01:09:41.453+02:00  INFO 44199 --- [           main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP\n2023-09-17T01:09:41.457+02:00  INFO 44199 --- [           main] .c.a.BatchObservabilityBeanPostProcessor : No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP\n2023-09-17T01:09:41.459+02:00  INFO 44199 --- [           main] o.s.b.c.l.s.SimpleJobLauncher            : No TaskExecutor has been set, defaulting to synchronous executor.\n2023-09-17T01:09:41.552+02:00  INFO 44199 --- [           main] c.p.b.JustBatchApplication               : Started JustBatchApplication in 1.286 seconds (process running for 1.637)\n2023-09-17T01:09:41.554+02:00  INFO 44199 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n[SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...\n[SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.\n</code></pre>\n<p>I have also checked the connection to PostgresSQL by saving an employee.</p>\n"},{"tags":["java","json","constructor","gson"],"owner":{"account_id":6549439,"reputation":1624,"user_id":5064324,"display_name":"Eggcellentos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695018866,"creation_date":1451413984,"question_id":34516926,"body_markdown":"I am parsing a JSON file using `Gson.fromjson`\r\n\r\nThe Java Object which I am reading into is structured as follows:\r\n\r\n    int amount;\r\n    String name;\r\n    HashMap&lt;String,Integer&gt; someMap;\r\n    OtherDataObject[] data;\r\n\r\nThe json file however has only the int &amp; String values.\r\nThe result is that my HashMap and OtherDataObjects in the &#39;data&#39; array are not initialized. \r\n\r\nIs there a way to invoke the constructor during this process?\r\n\r\nIf I can invoke the constructor I can also initialize the array and HashMap.\r\n\r\nIs it conceptually wrong to initialize objects from a JSON file/string that contains only part of the members? Would it be better practice to parse into a Pojo made specifically for the JSON being read and use that to compose a larger object(with the Pojo as a member)? ","title":"How to invoke constructor when processing .json object","body":"<p>I am parsing a JSON file using <code>Gson.fromjson</code></p>\n\n<p>The Java Object which I am reading into is structured as follows:</p>\n\n<pre><code>int amount;\nString name;\nHashMap&lt;String,Integer&gt; someMap;\nOtherDataObject[] data;\n</code></pre>\n\n<p>The json file however has only the int &amp; String values.\nThe result is that my HashMap and OtherDataObjects in the 'data' array are not initialized. </p>\n\n<p>Is there a way to invoke the constructor during this process?</p>\n\n<p>If I can invoke the constructor I can also initialize the array and HashMap.</p>\n\n<p>Is it conceptually wrong to initialize objects from a JSON file/string that contains only part of the members? Would it be better practice to parse into a Pojo made specifically for the JSON being read and use that to compose a larger object(with the Pojo as a member)? </p>\n"},{"tags":["java","spring","spring-boot","microservices","spring-batch"],"answers":[{"comments":[{"owner":{"account_id":22894340,"reputation":17,"user_id":17034062,"display_name":"tarun singh"},"score":0,"creation_date":1695038571,"post_id":77124979,"comment_id":135966334,"body_markdown":"Hi Mahmoud, Thanks for the reply, i first tried with skipListener itself, as it is writing the same record 2 times in skiplistener, i tried in component  even the same is happening,  in google i found that when ever an error record occures in skip it will retry again","body":"Hi Mahmoud, Thanks for the reply, i first tried with skipListener itself, as it is writing the same record 2 times in skiplistener, i tried in component  even the same is happening,  in google i found that when ever an error record occures in skip it will retry again"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1695111460,"post_id":77124979,"comment_id":135976988,"body_markdown":"The skip listener will be called only when all retry attempts are exhausted, so it should be called only once at the end. If the record is written twice in the file, then the code that writes that record to the file is not in the skip listener, but elsewhere.","body":"The skip listener will be called only when all retry attempts are exhausted, so it should be called only once at the end. If the record is written twice in the file, then the code that writes that record to the file is not in the skip listener, but elsewhere."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695018662,"creation_date":1695018662,"answer_id":77124979,"question_id":77120679,"body_markdown":"You seem to be writing invalid records in a component other than a `SkipListener`. The behaviour you are describing should not happen if you use a `SkipListener` in which you write invalid records to a file.","title":"Sprint batch fault tolerance issue","body":"<p>You seem to be writing invalid records in a component other than a <code>SkipListener</code>. The behaviour you are describing should not happen if you use a <code>SkipListener</code> in which you write invalid records to a file.</p>\n"}],"owner":{"account_id":22894340,"reputation":17,"user_id":17034062,"display_name":"tarun singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695018662,"creation_date":1694930881,"question_id":77120679,"body_markdown":"I&#39;m using spring batch for my project, my requirement is to write the error record in a file.\r\nI used spring batch fault tolerant and skip policy like any exception can be skippable. What my issue is i have only 1 record in file and it is failing so i&#39;m expecting only 1 record to be written in error file but i&#39;m getting 2(same) records in error file. When i googled it is known that when you configure fault tolerant in spring batch when error occurs it will retry the error record again. How to stop this behaviour and to write only 1 record in error file.\r\n\r\nEx: Step configuration of spring batch(below is just the raw code)\r\n\r\n        public Step mainstep()\r\n        {\r\n         stepbuilder.get(&quot;step&quot;).&lt;Employee,Employee&gt;chunk(2)\r\n    .reader()\r\n    .processor()\r\n    .writer()\r\n    .faulttolerant()\r\n    .skippolicy(new AlwaysskipItemskippolicy())\r\n    .build;\r\n        }\r\n\r\ni&#39;m writting error file try catch block in reader class. Using file output stream i&#39;m writing. I have only 1 record to process in file, but when i see the error file i&#39;m getting the same records writing twice.\r\n","title":"Sprint batch fault tolerance issue","body":"<p>I'm using spring batch for my project, my requirement is to write the error record in a file.\nI used spring batch fault tolerant and skip policy like any exception can be skippable. What my issue is i have only 1 record in file and it is failing so i'm expecting only 1 record to be written in error file but i'm getting 2(same) records in error file. When i googled it is known that when you configure fault tolerant in spring batch when error occurs it will retry the error record again. How to stop this behaviour and to write only 1 record in error file.</p>\n<p>Ex: Step configuration of spring batch(below is just the raw code)</p>\n<pre><code>    public Step mainstep()\n    {\n     stepbuilder.get(&quot;step&quot;).&lt;Employee,Employee&gt;chunk(2)\n.reader()\n.processor()\n.writer()\n.faulttolerant()\n.skippolicy(new AlwaysskipItemskippolicy())\n.build;\n    }\n</code></pre>\n<p>i'm writting error file try catch block in reader class. Using file output stream i'm writing. I have only 1 record to process in file, but when i see the error file i'm getting the same records writing twice.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1695020260,"post_id":77124915,"comment_id":135962878,"body_markdown":"What&#39;s the full stack trace?","body":"What&#39;s the full stack trace?"},{"owner":{"account_id":17026188,"reputation":1142,"user_id":12317368,"display_name":"Ro.oT"},"score":0,"creation_date":1695397048,"post_id":77124915,"comment_id":136023563,"body_markdown":"Please include the complete error traceback.","body":"Please include the complete error traceback."}],"owner":{"account_id":21687948,"reputation":11,"user_id":16003067,"display_name":"Rochit Aggarwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1695018032,"creation_date":1695018032,"question_id":77124915,"body_markdown":"I&#39;m using spring boot 2.3.0 version and Java 11. I&#39;m using com.github.eirslett.frontend-maven-plugin.1.6 for my project for react stuff. But now from some time I&#39;m not able to build my project and getting some build errors which I&#39;ve mentioned below.\r\n\r\nError: \r\n\r\n```670020 [ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.6:yarn (yarn run build) on &lt;project&gt;: Failed to run task: &#39;yarn run build&#39; failed. org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.6:yarn (yarn run build) on &lt;project&gt;: Failed to run task\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n```\r\n\r\nMy pom.xml looks like this\r\n\r\n```\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;workingDirectory&gt;frontend&lt;/workingDirectory&gt;\r\n                    &lt;installDirectory&gt;target&lt;/installDirectory&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;install node and yarn&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;install-node-and-yarn&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n\t\t\t            \t&lt;nodeVersion&gt;v16.12.0&lt;/nodeVersion&gt;\r\n\t\t\t            \t&lt;yarnVersion&gt;v1.22.19&lt;/yarnVersion&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;yarn install&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;yarn&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;arguments&gt;install&lt;/arguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;yarn run build&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;yarn&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n&lt;!--\t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;--&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nI&#39;ve tried many ways but I&#39;m not able to fix this. Please provide me any soluition regarding this.","title":"spring boot project not build due to frontend-maven-plugin","body":"<p>I'm using spring boot 2.3.0 version and Java 11. I'm using com.github.eirslett.frontend-maven-plugin.1.6 for my project for react stuff. But now from some time I'm not able to build my project and getting some build errors which I've mentioned below.</p>\n<p>Error:</p>\n<pre><code>org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.6:yarn (yarn run build) on &lt;project&gt;: Failed to run task\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n</code></pre>\n<p>My pom.xml looks like this</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;workingDirectory&gt;frontend&lt;/workingDirectory&gt;\n                    &lt;installDirectory&gt;target&lt;/installDirectory&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;install node and yarn&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;install-node-and-yarn&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;nodeVersion&gt;v16.12.0&lt;/nodeVersion&gt;\n                            &lt;yarnVersion&gt;v1.22.19&lt;/yarnVersion&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;yarn install&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;yarn&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;install&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;yarn run build&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;yarn&lt;/goal&gt;\n                        &lt;/goals&gt;\n&lt;!--                        &lt;phase&gt;prepare-package&lt;/phase&gt;--&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>I've tried many ways but I'm not able to fix this. Please provide me any soluition regarding this.</p>\n"},{"tags":["java","flutter"],"comments":[{"owner":{"account_id":12649853,"reputation":862,"user_id":9248277,"display_name":"Lucas Aschenbach"},"score":0,"creation_date":1676665100,"post_id":51281702,"comment_id":133190346,"body_markdown":"This GitHub-issue response solved it for me: https://github.com/flutter/flutter/issues/118502#issuecomment-1383215722","body":"This GitHub-issue response solved it for me: <a href=\"https://github.com/flutter/flutter/issues/118502#issuecomment-1383215722\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/issues/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":968470,"reputation":5711,"user_id":991479,"display_name":"Ewald"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531316276,"creation_date":1531316276,"answer_id":51286951,"question_id":51281702,"body_markdown":"Please ensure Java is in your PATH and that JAVA_HOME is defined and pointing to the JDK.  I&#39;ve had Windows put the JRE in the path instead of the JDK, which leads to all kinds of issues.\r\n\r\nPlease take a look at your PATH environment variable and remove everything Java related that does not point to the JDK folder.\r\n\r\nOracle has some documentation on how to do this here : [Installing Java and setting JAVA_HOME][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E19182-01/821-0917/inst_jdk_javahome_t/index.html","title":"Unable to find bundled Java version on Flutter","body":"<p>Please ensure Java is in your PATH and that JAVA_HOME is defined and pointing to the JDK.  I've had Windows put the JRE in the path instead of the JDK, which leads to all kinds of issues.</p>\n\n<p>Please take a look at your PATH environment variable and remove everything Java related that does not point to the JDK folder.</p>\n\n<p>Oracle has some documentation on how to do this here : <a href=\"https://docs.oracle.com/cd/E19182-01/821-0917/inst_jdk_javahome_t/index.html\" rel=\"nofollow noreferrer\">Installing Java and setting JAVA_HOME</a></p>\n"},{"tags":[],"owner":{"account_id":18264213,"reputation":1,"user_id":13296344,"display_name":"Yash Doshi"},"comment_count":0,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1617978078,"creation_date":1594021224,"answer_id":62751373,"question_id":51281702,"body_markdown":"![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HJ1xu.png\r\n\r\nI was getting this error when I run `flutter doctor`.\r\n\r\nSolution: \r\n\r\n- Go to the file &quot;java&quot; following the path where Error is shown.\r\n- Then right click on the file and go to Properties.\r\n- Then Go to permissions and **Check** the box &quot;**Allow executing file as program**&quot;.\r\n- Finally, run `flutter doctor` to see `No issues found!`.","title":"Unable to find bundled Java version on Flutter","body":"<p><img src=\"https://i.stack.imgur.com/HJ1xu.png\" alt=\"enter image description here\" /></p>\n<p>I was getting this error when I run <code>flutter doctor</code>.</p>\n<p>Solution:</p>\n<ul>\n<li>Go to the file &quot;java&quot; following the path where Error is shown.</li>\n<li>Then right click on the file and go to Properties.</li>\n<li>Then Go to permissions and <strong>Check</strong> the box &quot;<strong>Allow executing file as program</strong>&quot;.</li>\n<li>Finally, run <code>flutter doctor</code> to see <code>No issues found!</code>.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":11176826,"reputation":2617,"user_id":8202132,"display_name":"Ananth"},"score":0,"creation_date":1624299310,"post_id":67845759,"comment_id":120315835,"body_markdown":"I have both the stable and the beta Android Studio installed, how did you change your Android Studio?","body":"I have both the stable and the beta Android Studio installed, how did you change your Android Studio?"},{"owner":{"account_id":2862531,"reputation":1705,"user_id":2457493,"accept_rate":0,"display_name":"samridhgupta"},"score":0,"creation_date":1624328633,"post_id":67845759,"comment_id":120322522,"body_markdown":"in Android Studio update your Preview channel to Stable.. https://developer.android.com/studio/preview/install-preview#change_your_update_channel","body":"in Android Studio update your Preview channel to Stable.. <a href=\"https://developer.android.com/studio/preview/install-preview#change_your_update_channel\" rel=\"nofollow noreferrer\">developer.android.com/studio/preview/&hellip;</a>"},{"owner":{"account_id":11176826,"reputation":2617,"user_id":8202132,"display_name":"Ananth"},"score":0,"creation_date":1624426327,"post_id":67845759,"comment_id":120352145,"body_markdown":"Thank you for the response but I need to use Beta for m1 mac support, will try once and see.","body":"Thank you for the response but I need to use Beta for m1 mac support, will try once and see."},{"owner":{"account_id":2862531,"reputation":1705,"user_id":2457493,"accept_rate":0,"display_name":"samridhgupta"},"score":0,"creation_date":1625139397,"post_id":67845759,"comment_id":120551058,"body_markdown":"Unknown to what could be different for M1 macs.","body":"Unknown to what could be different for M1 macs."},{"owner":{"account_id":12553182,"reputation":2099,"user_id":9133954,"display_name":"Jigar Fumakiya"},"score":1,"creation_date":1627551781,"post_id":67845759,"comment_id":121188514,"body_markdown":"Any fix for m1 mac?","body":"Any fix for m1 mac?"}],"tags":[],"owner":{"account_id":2862531,"reputation":1705,"user_id":2457493,"accept_rate":0,"display_name":"samridhgupta"},"comment_count":5,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1622860110,"creation_date":1622860110,"answer_id":67845759,"question_id":51281702,"body_markdown":"Had this issue of ```✗ Unable to find bundled Java version.```\r\nSeems like the issue was with **Android Studio (Beta Version)**\r\n\r\nChanged my **Android Studio (Stable Version)** to solve the issue\r\n\r\nHere are the ```flutter doctor -v``` details for each  **Android Studio**\r\n\r\n**Beta Android Studio**\r\n```\r\n[!] Android Studio\r\n    • Android Studio at /Applications/Android Studio Preview.app/Contents\r\n    • Flutter plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/9212-flutter\r\n    • Dart plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/6351-dart\r\n    ✗ Unable to find bundled Java version.\r\n    • Try updating or re-installing Android Studio.\r\n```\r\n\r\n**Stable Android Studio**\r\n```\r\n[✓] Android Studio (version 4.2)\r\n    • Android Studio at /Applications/Android Studio.app/Contents\r\n    • Flutter plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/9212-flutter\r\n    • Dart plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/6351-dart\r\n    • Java version OpenJDK Runtime Environment (build 11.0.8+10-b944.6916264)\r\n```\r\n\r\nEven after this issue persist then \r\n\r\n- Check for Java \r\n`java -version`\r\n`which java`\r\n\r\n- double-check that these are present in your .bashrc or .bash_profile or .zshrc \r\n```\r\nexport PATH=&quot;$PATH:/usr/bin/java&quot;\r\nexport JAVA_HOME=$(/usr/libexec/java_home)\r\n```\r\n","title":"Unable to find bundled Java version on Flutter","body":"<p>Had this issue of <code>✗ Unable to find bundled Java version.</code>\nSeems like the issue was with <strong>Android Studio (Beta Version)</strong></p>\n<p>Changed my <strong>Android Studio (Stable Version)</strong> to solve the issue</p>\n<p>Here are the <code>flutter doctor -v</code> details for each  <strong>Android Studio</strong></p>\n<p><strong>Beta Android Studio</strong></p>\n<pre><code>[!] Android Studio\n    • Android Studio at /Applications/Android Studio Preview.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    ✗ Unable to find bundled Java version.\n    • Try updating or re-installing Android Studio.\n</code></pre>\n<p><strong>Stable Android Studio</strong></p>\n<pre><code>[✓] Android Studio (version 4.2)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.8+10-b944.6916264)\n</code></pre>\n<p>Even after this issue persist then</p>\n<ul>\n<li><p>Check for Java\n<code>java -version</code>\n<code>which java</code></p>\n</li>\n<li><p>double-check that these are present in your .bashrc or .bash_profile or .zshrc</p>\n</li>\n</ul>\n<pre><code>export PATH=&quot;$PATH:/usr/bin/java&quot;\nexport JAVA_HOME=$(/usr/libexec/java_home)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15617631,"reputation":173,"user_id":11267417,"display_name":"kamasuPaul"},"score":0,"creation_date":1667560704,"post_id":67999421,"comment_id":131200611,"body_markdown":"The older one is one with only the JRE folder like @Neail pointed it out. The one with the smaller number","body":"The older one is one with only the JRE folder like @Neail pointed it out. The one with the smaller number"}],"tags":[],"owner":{"account_id":11800987,"reputation":886,"user_id":11534117,"display_name":"BabaVarma"},"comment_count":1,"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1651490102,"creation_date":1623833749,"answer_id":67999421,"question_id":51281702,"body_markdown":"**For Windows:**\r\nIf you are using windows go to this directory C:\\Program Files\\Android\\Android Studio and check older Android Studio folders are exist if exist  delete those. it will work. ","title":"Unable to find bundled Java version on Flutter","body":"<p><strong>For Windows:</strong>\nIf you are using windows go to this directory C:\\Program Files\\Android\\Android Studio and check older Android Studio folders are exist if exist  delete those. it will work.</p>\n"},{"comments":[{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":1,"creation_date":1684788220,"post_id":68293939,"comment_id":134565357,"body_markdown":"This answer would be much better if the text were expressed as text, not an image.  [Images are much harder to use than text, for many reasons](//meta.stackoverflow.com/a/285557/208273).","body":"This answer would be much better if the text were expressed as text, not an image.  <a href=\"//meta.stackoverflow.com/a/285557/208273\">Images are much harder to use than text, for many reasons</a>."}],"tags":[],"owner":{"account_id":18782460,"reputation":372,"user_id":13696786,"display_name":"Andre Sampaio"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1625700157,"creation_date":1625700157,"answer_id":68293939,"question_id":51281702,"body_markdown":"Double check the path, solved my problem wrapping the path with quotation marks...\r\n\r\n**Before**:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**After**:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WX8ds.png\r\n  [2]: https://i.stack.imgur.com/ODXSV.png","title":"Unable to find bundled Java version on Flutter","body":"<p>Double check the path, solved my problem wrapping the path with quotation marks...</p>\n<p><strong>Before</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/WX8ds.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WX8ds.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>After</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/ODXSV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ODXSV.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":1445900,"reputation":134,"user_id":1522194,"accept_rate":100,"display_name":"M. A."},"score":2,"creation_date":1627648040,"post_id":68572043,"comment_id":121218710,"body_markdown":"There are many versions out there. Which one did you go to?","body":"There are many versions out there. Which one did you go to?"}],"tags":[],"owner":{"account_id":22049649,"reputation":11,"user_id":16314131,"display_name":"Yerkebulan Gaziz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627544702,"creation_date":1627544702,"answer_id":68572043,"question_id":51281702,"body_markdown":"I get this error this morning, when updated ANDROID STUDIO to new version, so to solve this problem you need to find previous version from https://developer.android.com/studio/archive and setup, it works for me! (sorry, if exists grammatical errors)","title":"Unable to find bundled Java version on Flutter","body":"<p>I get this error this morning, when updated ANDROID STUDIO to new version, so to solve this problem you need to find previous version from <a href=\"https://developer.android.com/studio/archive\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/archive</a> and setup, it works for me! (sorry, if exists grammatical errors)</p>\n"},{"comments":[{"owner":{"account_id":11404798,"reputation":12530,"user_id":8360561,"accept_rate":58,"display_name":"Agung Laksana"},"score":0,"creation_date":1627698227,"post_id":68575967,"comment_id":121232574,"body_markdown":"just add a bit info. from that mkyong.com article, you only need to execute the command from 2.1 2.2 and 2.3 then continue to execute the command from Nalawala above. it works!","body":"just add a bit info. from that mkyong.com article, you only need to execute the command from 2.1 2.2 and 2.3 then continue to execute the command from Nalawala above. it works!"},{"owner":{"account_id":6161663,"reputation":315,"user_id":4803070,"display_name":"Indra As Lesmana"},"score":0,"creation_date":1629087037,"post_id":68575967,"comment_id":121584244,"body_markdown":"also work for me. just note. JRE folder you can find at cd /Applications/Android\\ Studio.app/Contents/jre","body":"also work for me. just note. JRE folder you can find at cd /Applications/Android\\ Studio.app/Contents/jre"},{"owner":{"account_id":2412901,"reputation":1759,"user_id":2107610,"display_name":"bbjay"},"score":0,"creation_date":1638897447,"post_id":68575967,"comment_id":124207728,"body_markdown":"creating sym-links (as suggested in this answer) will break it once again when you update Android Studio.\nBetter just follow steps 3 + 4 in the linked article from mkyong.com","body":"creating sym-links (as suggested in this answer) will break it once again when you update Android Studio. Better just follow steps 3 + 4 in the linked article from mkyong.com"},{"owner":{"account_id":14800631,"reputation":389,"user_id":10688970,"display_name":"Mijawel"},"score":0,"creation_date":1640301874,"post_id":68575967,"comment_id":124566998,"body_markdown":"Worked perfectly on Android Studio Preview, with slight change to command to account for beta version &quot;cd /Applications/Android\\ Studio\\ Preview.app/Contents/jre&quot;","body":"Worked perfectly on Android Studio Preview, with slight change to command to account for beta version &quot;cd /Applications/Android\\ Studio\\ Preview.app/Contents/jre&quot;"},{"owner":{"account_id":108641,"reputation":2855,"user_id":288258,"display_name":"Mbengue Assane"},"score":0,"creation_date":1654542065,"post_id":68575967,"comment_id":128110731,"body_markdown":"Did everything suggested here but was still having the error ! Uninstalling Android Studio Preview solved the problem for me.","body":"Did everything suggested here but was still having the error ! Uninstalling Android Studio Preview solved the problem for me."},{"owner":{"account_id":15019575,"reputation":1465,"user_id":10841432,"display_name":"Texv"},"score":1,"creation_date":1655454803,"post_id":68575967,"comment_id":128341243,"body_markdown":"I followed everything except that I couldn&#39;t find &quot;jre&quot; folder, it was &quot;jbr&quot; for me. issue was fixed when I renamed the folder to &quot;jre&quot;","body":"I followed everything except that I couldn&#39;t find &quot;jre&quot; folder, it was &quot;jbr&quot; for me. issue was fixed when I renamed the folder to &quot;jre&quot;"},{"owner":{"account_id":6210742,"reputation":3114,"user_id":4837103,"display_name":"Chandler"},"score":1,"creation_date":1669263243,"post_id":68575967,"comment_id":131606187,"body_markdown":"@Texv instead of rename, create a link by &quot;ln -s jbr jre&quot;, otherwise &quot;Android Studio Preview&quot; can not be launched.","body":"@Texv instead of rename, create a link by &quot;ln -s jbr jre&quot;, otherwise &quot;Android Studio Preview&quot; can not be launched."},{"owner":{"account_id":20732543,"reputation":146,"user_id":15224124,"display_name":"mselmany"},"score":0,"creation_date":1674231523,"post_id":68575967,"comment_id":132677331,"body_markdown":"An update for MAC users running Android Studio Electric Eel 2022.1.1, new location to set JAVA_HOME should be &#39;/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home&#39; \nreference: https://stackoverflow.com/a/43237101","body":"An update for MAC users running Android Studio Electric Eel 2022.1.1, new location to set JAVA_HOME should be &#39;/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home&#39;  reference: <a href=\"https://stackoverflow.com/a/43237101\">stackoverflow.com/a/43237101</a>"},{"owner":{"account_id":16065476,"reputation":320,"user_id":11595253,"display_name":"Teran Peterson"},"score":2,"creation_date":1675377102,"post_id":68575967,"comment_id":132921976,"body_markdown":"&#39;sudo ln -s jbr jre&#39; was giving me &#39;ln: jre: Operation not permitted&#39; so I just copied the jbr folder and renamed it jre","body":"&#39;sudo ln -s jbr jre&#39; was giving me &#39;ln: jre: Operation not permitted&#39; so I just copied the jbr folder and renamed it jre"},{"owner":{"account_id":7671050,"reputation":175,"user_id":5813279,"display_name":"Clode Morales Pampanga III"},"score":3,"creation_date":1676597603,"post_id":68575967,"comment_id":133174259,"body_markdown":"If your not permitted go here https://osxdaily.com/2018/10/09/fix-operation-not-permitted-terminal-error-macos/","body":"If your not permitted go here <a href=\"https://osxdaily.com/2018/10/09/fix-operation-not-permitted-terminal-error-macos/\" rel=\"nofollow noreferrer\">osxdaily.com/2018/10/09/&hellip;</a>"},{"owner":{"account_id":18411434,"reputation":2196,"user_id":13500457,"display_name":"Apoorv Pandey"},"score":0,"creation_date":1677413715,"post_id":68575967,"comment_id":133329142,"body_markdown":"Thank you so much it is working on MacBook Pro M1 Pro Android Studio Electric eel","body":"Thank you so much it is working on MacBook Pro M1 Pro Android Studio Electric eel"},{"owner":{"account_id":21661682,"reputation":161,"user_id":15980742,"display_name":"Finn"},"score":0,"creation_date":1682700431,"post_id":68575967,"comment_id":134262184,"body_markdown":"I pasted this in my zshenv file: export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home and then did all the steps under the &quot;For Mac Users&quot; section above. Installed Android Studio Flamingo 2022.2.1 with macOS Monterey. Works now, thanks.","body":"I pasted this in my zshenv file: export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home and then did all the steps under the &quot;For Mac Users&quot; section above. Installed Android Studio Flamingo 2022.2.1 with macOS Monterey. Works now, thanks."},{"owner":{"account_id":22879334,"reputation":157,"user_id":17021151,"display_name":"jcodes"},"score":1,"creation_date":1683412321,"post_id":68575967,"comment_id":134363525,"body_markdown":"God bless the internet... Attention for anyone using newer versions of Mac btw, even &#39;sudo ln -s jbr jre&#39; will fail because there is a new security setting where you actually have to go in and grant terminal permission to edit other applications.","body":"God bless the internet... Attention for anyone using newer versions of Mac btw, even &#39;sudo ln -s jbr jre&#39; will fail because there is a new security setting where you actually have to go in and grant terminal permission to edit other applications."}],"tags":[],"owner":{"account_id":7727516,"reputation":4695,"user_id":5851694,"accept_rate":0,"display_name":"Nalawala Murtaza"},"comment_count":13,"down_vote_count":6,"up_vote_count":416,"is_accepted":false,"score":410,"last_activity_date":1680796210,"creation_date":1627561796,"answer_id":68575967,"question_id":51281702,"body_markdown":"## For **Mac** Users:\r\n\r\nSet the `JAVA_HOME` path by following [this article][1] and then  apply the following commands:\r\n\r\n### For the JetBrains Runtime &quot;Android Studio Electric Eel&quot;\r\n\r\n    cd /Applications/Android\\ Studio.app/Contents/jbr\r\n    ln -s ../jbr jdk\r\n    ln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\r\n\r\nThen go to the *Finder* and search for *Android Studio*:\r\n1. Right click -&gt; *Show Package Contents*\r\n2. Open the *contents* folder, then create new folder called `jre`\r\n3. Copy the contents of the JetBrainsRuntime folder and paste it into the `jre` folder\r\n\r\n`flutter doctor -v` should work now!\r\n\r\n### Other versions\r\n\r\n    cd /Applications/Android\\ Studio.app/Contents/jre\r\n    ln -s ../jre jdk\r\n    ln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\r\n\r\nThen you can run `flutter doctor -v`\r\n\r\n\r\n----------\r\n\r\n## For Mac users who are using the `JetBrains Toolbox`:\r\n\r\nSet the `JAVA_HOME` path following [the article][1].\r\n\r\nAfter that, change `username` to your macOS username and run:\r\n\r\n    cd /Users/username/Library/Application Support/JetBrains/Toolbox/apps/AndroidStudio/ch-0/203.7583922/Android Studio.app/Contents/jre\r\n    ln -s ../jre jdk\r\n    ln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\r\n\r\n    flutter doctor -v\r\n\r\nIf you&#39;re still facing the issue, you can try this workaround:\r\n\r\n    cd /Applications/Android\\ Studio.app/Contents\r\n    ln -s jbr jre\r\n\r\n\r\n  [1]: https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/#what-is-usrlibexecjava-home","title":"Unable to find bundled Java version on Flutter","body":"<h2>For <strong>Mac</strong> Users:</h2>\n<p>Set the <code>JAVA_HOME</code> path by following <a href=\"https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/#what-is-usrlibexecjava-home\" rel=\"noreferrer\">this article</a> and then  apply the following commands:</p>\n<h3>For the JetBrains Runtime &quot;Android Studio Electric Eel&quot;</h3>\n<pre><code>cd /Applications/Android\\ Studio.app/Contents/jbr\nln -s ../jbr jdk\nln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\n</code></pre>\n<p>Then go to the <em>Finder</em> and search for <em>Android Studio</em>:</p>\n<ol>\n<li>Right click -&gt; <em>Show Package Contents</em></li>\n<li>Open the <em>contents</em> folder, then create new folder called <code>jre</code></li>\n<li>Copy the contents of the JetBrainsRuntime folder and paste it into the <code>jre</code> folder</li>\n</ol>\n<p><code>flutter doctor -v</code> should work now!</p>\n<h3>Other versions</h3>\n<pre><code>cd /Applications/Android\\ Studio.app/Contents/jre\nln -s ../jre jdk\nln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\n</code></pre>\n<p>Then you can run <code>flutter doctor -v</code></p>\n<hr />\n<h2>For Mac users who are using the <code>JetBrains Toolbox</code>:</h2>\n<p>Set the <code>JAVA_HOME</code> path following <a href=\"https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/#what-is-usrlibexecjava-home\" rel=\"noreferrer\">the article</a>.</p>\n<p>After that, change <code>username</code> to your macOS username and run:</p>\n<pre><code>cd /Users/username/Library/Application Support/JetBrains/Toolbox/apps/AndroidStudio/ch-0/203.7583922/Android Studio.app/Contents/jre\nln -s ../jre jdk\nln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\n\nflutter doctor -v\n</code></pre>\n<p>If you're still facing the issue, you can try this workaround:</p>\n<pre><code>cd /Applications/Android\\ Studio.app/Contents\nln -s jbr jre\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22184910,"reputation":11,"user_id":16427978,"display_name":"Hồ Duy Quốc Bảo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675699934,"creation_date":1627941947,"answer_id":68628394,"question_id":51281702,"body_markdown":"I use macos big sur 11.5.1 also have the above situation and have successfully fixed the error:\r\n&gt; Unable to find bundled Java version on Flutter &amp;&amp;\r\n! Some Android licenses are not accepted. To resolve this, run: flutter doctor --android-licenses\r\n\r\nCH-0 / 203.7678000 is the version you installed if you have to fix it\r\n\r\n```\r\ncd ~/Library/Application\\ Support/JetBrains/Toolbox/apps/AndroidStudio/ch-0/203.7678000/Android\\ Studio.app/Contents/jre \r\n\r\nsudo ln -s ../jre jdk\r\n\r\nsudo ln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\r\n\r\nflutter doctor --android-licenses\r\n\r\nflutter doctor -v\r\n```\r\n","title":"Unable to find bundled Java version on Flutter","body":"<p>I use macos big sur 11.5.1 also have the above situation and have successfully fixed the error:</p>\n<blockquote>\n<p>Unable to find bundled Java version on Flutter &amp;&amp;\n! Some Android licenses are not accepted. To resolve this, run: flutter doctor --android-licenses</p>\n</blockquote>\n<p>CH-0 / 203.7678000 is the version you installed if you have to fix it</p>\n<pre><code>cd ~/Library/Application\\ Support/JetBrains/Toolbox/apps/AndroidStudio/ch-0/203.7678000/Android\\ Studio.app/Contents/jre \n\nsudo ln -s ../jre jdk\n\nsudo ln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\n\nflutter doctor --android-licenses\n\nflutter doctor -v\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12060762,"reputation":355,"user_id":8819885,"display_name":"GroovinChip"},"score":0,"creation_date":1632168366,"post_id":68781084,"comment_id":122415986,"body_markdown":"I followed your instructions and nothing changed. I&#39;m on an m1 MBP.","body":"I followed your instructions and nothing changed. I&#39;m on an m1 MBP."},{"owner":{"account_id":12232695,"reputation":412,"user_id":8928149,"display_name":"BBK"},"score":0,"creation_date":1675359608,"post_id":68781084,"comment_id":132917251,"body_markdown":"I am using `Java 11`, and I needed to make one small change to make it work. Currently, it is working when I modify your code like the following:\n\n`ln -s /Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents Contents`","body":"I am using <code>Java 11</code>, and I needed to make one small change to make it work. Currently, it is working when I modify your code like the following:  <code>ln -s &#47;Library&#47;Java&#47;JavaVirtualMachines&#47;zulu-11.jdk&#47;Contents Contents</code>"}],"tags":[],"owner":{"account_id":18556826,"reputation":41,"user_id":13521698,"display_name":"Jake Woodruff"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1628927262,"creation_date":1628924594,"answer_id":68781084,"question_id":51281702,"body_markdown":"**Apple Silicon Users Problem Solved!**\r\n\r\nFirst do this: https://stackoverflow.com/questions/64708446/flutter-doctor-android-licenses-exception-in-thread-main-java-lang-noclass\r\n\r\nThen:\r\n1. Make Sure to set Java_Home path in .zshrc using same article already listed here. He explains using the .zshenv but we will edit .zshrc file. \r\n\r\nhttps://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/#what-is-usrlibexecjava-home\r\n\r\n2. Uninstall Java from your system \r\n3. Re-install the M1 Specific Version from Azul. Choose Java 16. Choose ARM 64 bit https://www.azul.com/downloads/?package=jdk\r\n\r\n  **Here&#39;s Where I Was Stuck But Finally Found The Fix** \r\n\r\nRun these commands:\r\n\r\n4. cd /Applications/Android\\ Studio.app/Contents/jre\r\n5. ln -s /Library/Java/JavaVirtualMachines/zulu-16.jdk jdk\r\n6. flutter doctor -v","title":"Unable to find bundled Java version on Flutter","body":"<p><strong>Apple Silicon Users Problem Solved!</strong></p>\n<p>First do this: <a href=\"https://stackoverflow.com/questions/64708446/flutter-doctor-android-licenses-exception-in-thread-main-java-lang-noclass\">Flutter Doctor --android-licenses : Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError</a></p>\n<p>Then:</p>\n<ol>\n<li>Make Sure to set Java_Home path in .zshrc using same article already listed here. He explains using the .zshenv but we will edit .zshrc file.</li>\n</ol>\n<p><a href=\"https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/#what-is-usrlibexecjava-home\" rel=\"nofollow noreferrer\">https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/#what-is-usrlibexecjava-home</a></p>\n<ol start=\"2\">\n<li>Uninstall Java from your system</li>\n<li>Re-install the M1 Specific Version from Azul. Choose Java 16. Choose ARM 64 bit <a href=\"https://www.azul.com/downloads/?package=jdk\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/?package=jdk</a></li>\n</ol>\n<p><strong>Here's Where I Was Stuck But Finally Found The Fix</strong></p>\n<p>Run these commands:</p>\n<ol start=\"4\">\n<li>cd /Applications/Android\\ Studio.app/Contents/jre</li>\n<li>ln -s /Library/Java/JavaVirtualMachines/zulu-16.jdk jdk</li>\n<li>flutter doctor -v</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2568291,"reputation":69680,"user_id":2227743,"accept_rate":100,"display_name":"Eric Aya"},"score":3,"creation_date":1629121670,"post_id":68800353,"comment_id":121596076,"body_markdown":"All of this has already been suggested in other answers.","body":"All of this has already been suggested in other answers."}],"tags":[],"owner":{"account_id":17949568,"reputation":1,"user_id":13042994,"display_name":"D M"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1629106115,"creation_date":1629106115,"answer_id":68800353,"question_id":51281702,"body_markdown":"1.Write the path in quotes i.e flutter config --android-studio-dir &quot;C:\\Program Files\\Android\\Android Studio&quot;.\r\n\r\n2.Please check the correct path of android Studio.\r\n\r\n3.Do the 1st step and run flutter doctor .","title":"Unable to find bundled Java version on Flutter","body":"<p>1.Write the path in quotes i.e flutter config --android-studio-dir &quot;C:\\Program Files\\Android\\Android Studio&quot;.</p>\n<p>2.Please check the correct path of android Studio.</p>\n<p>3.Do the 1st step and run flutter doctor .</p>\n"},{"comments":[{"owner":{"account_id":2412901,"reputation":1759,"user_id":2107610,"display_name":"bbjay"},"score":0,"creation_date":1638897358,"post_id":68992448,"comment_id":124207698,"body_markdown":"This will probably break other stuff. Also, it stops working when you update Android Studio","body":"This will probably break other stuff. Also, it stops working when you update Android Studio"}],"tags":[],"owner":{"account_id":13886006,"reputation":155,"user_id":10025125,"display_name":"Casareafer"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1630379888,"creation_date":1630379888,"answer_id":68992448,"question_id":51281702,"body_markdown":"In my case, I recently bought an M1 Macbook and then installed Android Studio with the Jetbrains Toolbox but \r\n\r\nThis folder doesn&#39;t exist \r\n\r\n    /Users/username/Library/Application Support/JetBrains/Toolbox/apps/AndroidStudio/ch-0/203.7583922/Android Studio.app/Contents/jre\r\n\r\n\r\nSo I follow what this comment say and now is working just fine\r\nhttps://github.com/flutter/flutter/issues/76215#issuecomment-893512809\r\n\r\n\r\n1.- Go to Applications folder then right click on your android studio app\r\n2.- click on Show package contents\r\n3.- open a terminal inside jre folder then create the new jdk folder\r\n\r\n    mkdir jdk\r\n\r\n4.- move the folder Contents into jdk\r\n\r\n    mv Contents jdk\r\n\r\n\r\nAfter refreshing my terminal, flutter doctor works just fine!\r\n","title":"Unable to find bundled Java version on Flutter","body":"<p>In my case, I recently bought an M1 Macbook and then installed Android Studio with the Jetbrains Toolbox but</p>\n<p>This folder doesn't exist</p>\n<pre><code>/Users/username/Library/Application Support/JetBrains/Toolbox/apps/AndroidStudio/ch-0/203.7583922/Android Studio.app/Contents/jre\n</code></pre>\n<p>So I follow what this comment say and now is working just fine\n<a href=\"https://github.com/flutter/flutter/issues/76215#issuecomment-893512809\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/76215#issuecomment-893512809</a></p>\n<p>1.- Go to Applications folder then right click on your android studio app\n2.- click on Show package contents\n3.- open a terminal inside jre folder then create the new jdk folder</p>\n<pre><code>mkdir jdk\n</code></pre>\n<p>4.- move the folder Contents into jdk</p>\n<pre><code>mv Contents jdk\n</code></pre>\n<p>After refreshing my terminal, flutter doctor works just fine!</p>\n"},{"comments":[{"owner":{"account_id":1857011,"reputation":2571,"user_id":1682353,"accept_rate":10,"display_name":"user123456"},"score":0,"creation_date":1643787331,"post_id":69140582,"comment_id":125428735,"body_markdown":"make sure no spaces in the path of the directory","body":"make sure no spaces in the path of the directory"},{"owner":{"account_id":11652357,"reputation":51,"user_id":8533259,"display_name":"Yash Tile"},"score":0,"creation_date":1696686153,"post_id":69140582,"comment_id":136186776,"body_markdown":"that worked for me, I am using windows os! Can anybody explain how it worked?","body":"that worked for me, I am using windows os! Can anybody explain how it worked?"}],"tags":[],"owner":{"account_id":4413716,"reputation":171,"user_id":4458597,"display_name":"Zain"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1631409759,"creation_date":1631341470,"answer_id":69140582,"question_id":51281702,"body_markdown":"I have recently encountered the same issue on Ubuntu 20.04 LTS.\r\n\r\nAfter searching a lot I have fixed this issue by removing the Android Studio path from the Flutter config by running below mention command.\r\n\r\n    flutter config --android-studio-dir=   \r\n\r\nSolution:\r\n\r\n![Solution ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DTOWP.png","title":"Unable to find bundled Java version on Flutter","body":"<p>I have recently encountered the same issue on Ubuntu 20.04 LTS.</p>\n<p>After searching a lot I have fixed this issue by removing the Android Studio path from the Flutter config by running below mention command.</p>\n<pre><code>flutter config --android-studio-dir=   \n</code></pre>\n<p>Solution:</p>\n<p><img src=\"https://i.stack.imgur.com/DTOWP.png\" alt=\"Solution \" /></p>\n"},{"tags":[],"owner":{"account_id":8805769,"reputation":692,"user_id":6580519,"display_name":"Mohammed Salim Al-Othman"},"comment_count":0,"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1684788013,"creation_date":1632036636,"answer_id":69241218,"question_id":51281702,"body_markdown":"In my case, I am using macOS, there was a copy of Android Studio Preview in my Downloads folder. I just deleted that Android Studio Preview file and the error was gone.","title":"Unable to find bundled Java version on Flutter","body":"<p>In my case, I am using macOS, there was a copy of Android Studio Preview in my Downloads folder. I just deleted that Android Studio Preview file and the error was gone.</p>\n"},{"comments":[{"owner":{"account_id":2814622,"reputation":81,"user_id":2420052,"display_name":"Jason Yeung"},"score":4,"creation_date":1663916208,"post_id":69852062,"comment_id":130355905,"body_markdown":"cd: no such file or directory: /Applications/Android Studio Preview.app/Contents/jre","body":"cd: no such file or directory: /Applications/Android Studio Preview.app/Contents/jre"},{"owner":{"account_id":14206364,"reputation":363,"user_id":10262757,"display_name":"Tina Lu"},"score":0,"creation_date":1671103777,"post_id":69852062,"comment_id":132028079,"body_markdown":"no jre folder in Android Studio Preview.app. I solved it and post my solution below for Android Studio Preview","body":"no jre folder in Android Studio Preview.app. I solved it and post my solution below for Android Studio Preview"}],"tags":[],"owner":{"account_id":14335940,"reputation":487,"user_id":16878175,"display_name":"Bonny James"},"comment_count":2,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1636109283,"creation_date":1636109283,"answer_id":69852062,"question_id":51281702,"body_markdown":"Those on the Beta Versions of MAC OS Beta, Xcode Beta, Android Studio Preview.\r\n\r\nJust ensure your path ways are correct to the Applications files for Flutter.\r\n\r\n\r\nTo fix JAVA Bundle for Android Studio Preview do this:\r\n\r\n    cd /Applications/Android\\ Studio\\ Preview.app/Contents/jre\r\n    \r\n    ln -s ../jre jdk\r\n    \r\n    ln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\r\n    \r\n    flutter doctor -v","title":"Unable to find bundled Java version on Flutter","body":"<p>Those on the Beta Versions of MAC OS Beta, Xcode Beta, Android Studio Preview.</p>\n<p>Just ensure your path ways are correct to the Applications files for Flutter.</p>\n<p>To fix JAVA Bundle for Android Studio Preview do this:</p>\n<pre><code>cd /Applications/Android\\ Studio\\ Preview.app/Contents/jre\n\nln -s ../jre jdk\n\nln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\n\nflutter doctor -v\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13996900,"reputation":161,"user_id":10109457,"display_name":"Yogesh Alai"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1643710578,"creation_date":1643710578,"answer_id":70938810,"question_id":51281702,"body_markdown":"Uninstall Android Studio...\r\n\r\nDelete folder $/Program Files/Android\r\n\r\nInstall Android studio...\r\n\r\n$flutter doctor","title":"Unable to find bundled Java version on Flutter","body":"<p>Uninstall Android Studio...</p>\n<p>Delete folder $/Program Files/Android</p>\n<p>Install Android studio...</p>\n<p>$flutter doctor</p>\n"},{"comments":[{"owner":{"account_id":6177245,"reputation":1199,"user_id":7630779,"display_name":"Bilaal Abdel Hassan"},"score":0,"creation_date":1687317540,"post_id":71042563,"comment_id":134918127,"body_markdown":"YOU ARE A LIFE SAVER! UPVOTED","body":"YOU ARE A LIFE SAVER! UPVOTED"}],"tags":[],"owner":{"account_id":20619305,"reputation":328,"user_id":15167772,"display_name":"Java Boss"},"comment_count":1,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1644366133,"creation_date":1644366133,"answer_id":71042563,"question_id":51281702,"body_markdown":"I was getting error as below,\r\n\r\n[![enter image description here][1]][1]\r\n\r\nExecute below steps to resolve this issue,\r\n\r\n 1. Visit Google folder in user directory\r\n[![enter image description here][2]][2]\r\n 2. Delete the AndroidStudio4.1 directory ( For which I was getting error )\r\n[![enter image description here][3]][3]\r\n\r\nRun &quot;flutter doctor&quot; again. My problem was fixed\r\n\r\n  [1]: https://i.stack.imgur.com/pVulg.png\r\n  [2]: https://i.stack.imgur.com/HJ2ZJ.png\r\n  [3]: https://i.stack.imgur.com/HWFhD.png","title":"Unable to find bundled Java version on Flutter","body":"<p>I was getting error as below,</p>\n<p><a href=\"https://i.stack.imgur.com/pVulg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pVulg.png\" alt=\"enter image description here\" /></a></p>\n<p>Execute below steps to resolve this issue,</p>\n<ol>\n<li>Visit Google folder in user directory\n<a href=\"https://i.stack.imgur.com/HJ2ZJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HJ2ZJ.png\" alt=\"enter image description here\" /></a></li>\n<li>Delete the AndroidStudio4.1 directory ( For which I was getting error )\n<a href=\"https://i.stack.imgur.com/HWFhD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HWFhD.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>Run &quot;flutter doctor&quot; again. My problem was fixed</p>\n"},{"tags":[],"owner":{"account_id":2011273,"reputation":102,"user_id":1799634,"display_name":"Abhi R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644941596,"creation_date":1644941596,"answer_id":71129776,"question_id":51281702,"body_markdown":"In my case, there were two &quot;Android Studio&quot; folders. One was &quot;Android Studio&quot; and another was &quot;Android Studio1&quot;, the &quot;Android Studio1&quot; had the actual app installed and the &quot;Android Studio&quot; folder was empty. Deleting the empty folder and renaming the &quot;Android Studio1&quot; to &quot;Android Studio&quot; fixed the issue. ","title":"Unable to find bundled Java version on Flutter","body":"<p>In my case, there were two &quot;Android Studio&quot; folders. One was &quot;Android Studio&quot; and another was &quot;Android Studio1&quot;, the &quot;Android Studio1&quot; had the actual app installed and the &quot;Android Studio&quot; folder was empty. Deleting the empty folder and renaming the &quot;Android Studio1&quot; to &quot;Android Studio&quot; fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":9816142,"reputation":111,"user_id":7272590,"display_name":"Abdulrahman Osama"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663565588,"creation_date":1663565588,"answer_id":73768876,"question_id":51281702,"body_markdown":"If it&#39;s not related to JAVA_HOME path, then try the following:\r\n- go to path: `C:\\Users\\Administrator\\AppData\\Local\\Google`\r\nand delete the old version of AndroidStudioXXX.X folder\r\n- now run `flutter doctor` again.\r\nit fixes mine.","title":"Unable to find bundled Java version on Flutter","body":"<p>If it's not related to JAVA_HOME path, then try the following:</p>\n<ul>\n<li>go to path: <code>C:\\Users\\Administrator\\AppData\\Local\\Google</code>\nand delete the old version of AndroidStudioXXX.X folder</li>\n<li>now run <code>flutter doctor</code> again.\nit fixes mine.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":14206364,"reputation":363,"user_id":10262757,"display_name":"Tina Lu"},"score":0,"creation_date":1671105452,"post_id":74411728,"comment_id":132028623,"body_markdown":"doesn&#39;t need to delete Android Studio Preview. You can check my solution","body":"doesn&#39;t need to delete Android Studio Preview. You can check my solution"}],"tags":[],"owner":{"account_id":3730822,"reputation":1034,"user_id":3165630,"accept_rate":50,"display_name":"kennytilton"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1668244827,"creation_date":1668244827,"answer_id":74411728,"question_id":51281702,"body_markdown":"FYI; This is on an M1 Mac.\r\n\r\n0. The summary error just says:\r\n```\r\n[!] Android Studio\r\n    ✗ Unable to find bundled Java version.\r\n```\r\n\r\n1. The summary also suggested `flutter doctor -v` to get more details. Now I see:\r\n```\r\n[!] Android Studio\r\n    • Android Studio at /Applications/Android Studio 4.2 Preview.app/Contents\r\n    • Flutter plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/9212-flutter\r\n    • Dart plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/6351-dart\r\n    ✗ Unable to find bundled Java version.\r\n    • Try updating or re-installing Android Studio.\r\n\r\n[✓] Android Studio (version 2021.3)\r\n    • Android Studio at /Applications/Android Studio.app/Contents\r\n    • Flutter plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/9212-flutter\r\n    • Dart plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/6351-dart\r\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\r\n```\r\n2. I used Finder to delete `Android Studio 4.2 Preview.app`.\r\n3. `flutter doctor` now happy.\r\n\r\nHCI suggestion to `flutter doctor` maintainers: default to &quot;full details&quot; when reporting errors.\r\n\r\n","title":"Unable to find bundled Java version on Flutter","body":"<p>FYI; This is on an M1 Mac.</p>\n<ol start=\"0\">\n<li>The summary error just says:</li>\n</ol>\n<pre><code>[!] Android Studio\n    ✗ Unable to find bundled Java version.\n</code></pre>\n<ol>\n<li>The summary also suggested <code>flutter doctor -v</code> to get more details. Now I see:</li>\n</ol>\n<pre><code>[!] Android Studio\n    • Android Studio at /Applications/Android Studio 4.2 Preview.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    ✗ Unable to find bundled Java version.\n    • Try updating or re-installing Android Studio.\n\n[✓] Android Studio (version 2021.3)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n</code></pre>\n<ol start=\"2\">\n<li>I used Finder to delete <code>Android Studio 4.2 Preview.app</code>.</li>\n<li><code>flutter doctor</code> now happy.</li>\n</ol>\n<p>HCI suggestion to <code>flutter doctor</code> maintainers: default to &quot;full details&quot; when reporting errors.</p>\n"},{"tags":[],"owner":{"account_id":14206364,"reputation":363,"user_id":10262757,"display_name":"Tina Lu"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1671105050,"creation_date":1671103450,"answer_id":74810760,"question_id":51281702,"body_markdown":"**For Android Studio Preview**\r\n\r\nI already install \r\n- Android Studio Preview\r\n- JDK via Android Studio Preview\r\n- Xcode v12 on MacOS 10.15\r\n\r\nHere is what I faced `[!] Android Studio: Unable to find bundled Java version.`\r\n\r\nSolution:\r\n1. Find out JDK PATH. Check [this](https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/#what-is-usrlibexecjava-home)\r\n```\r\n#check bash or zsh\r\n\r\n$ echo $SHELL\r\n/bin/bash\r\n\r\n#return the path of java_home \r\n$ /usr/libexec/java_home\r\n```\r\n2.Add JAVA_HOME in .bash_profile for bash or .zshenv for zsh\r\n```\r\n$ nano ~/.bash_profile\r\nexport JAVA_HOME=$(/usr/libexec/java_home)\r\n$ source ~/.bash_profile\r\n```\r\n\r\n3.Link JDK path to Android Studio Preview\r\n```\r\n$ cd /Applications/Android\\ Studio\\ Preview.app/Contents\r\n\r\n# flutter doctor check if Contents/jre exist, link jbr with jre\r\n$ ln -s jbr jre\r\n\r\n$ cd jbr\r\n$ ln -s ../jbr jdk\r\n$ ln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\r\n``` \r\n\r\n4.[Optional] if you have Android Studio at the same time, you could follow @Nalawala Murtuza solution. It is permitted for `Android Studio` and `Android Studio Preview` at the same time during check from flutter doctor. Doesn&#39;t need to delete Android Studio Preview.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n5.Use `flutter doctor -v` to check \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/93Kc4.png","title":"Unable to find bundled Java version on Flutter","body":"<p><strong>For Android Studio Preview</strong></p>\n<p>I already install</p>\n<ul>\n<li>Android Studio Preview</li>\n<li>JDK via Android Studio Preview</li>\n<li>Xcode v12 on MacOS 10.15</li>\n</ul>\n<p>Here is what I faced <code>[!] Android Studio: Unable to find bundled Java version.</code></p>\n<p>Solution:</p>\n<ol>\n<li>Find out JDK PATH. Check <a href=\"https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/#what-is-usrlibexecjava-home\" rel=\"noreferrer\">this</a></li>\n</ol>\n<pre><code>#check bash or zsh\n\n$ echo $SHELL\n/bin/bash\n\n#return the path of java_home \n$ /usr/libexec/java_home\n</code></pre>\n<p>2.Add JAVA_HOME in .bash_profile for bash or .zshenv for zsh</p>\n<pre><code>$ nano ~/.bash_profile\nexport JAVA_HOME=$(/usr/libexec/java_home)\n$ source ~/.bash_profile\n</code></pre>\n<p>3.Link JDK path to Android Studio Preview</p>\n<pre><code>$ cd /Applications/Android\\ Studio\\ Preview.app/Contents\n\n# flutter doctor check if Contents/jre exist, link jbr with jre\n$ ln -s jbr jre\n\n$ cd jbr\n$ ln -s ../jbr jdk\n$ ln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\n</code></pre>\n<p>4.[Optional] if you have Android Studio at the same time, you could follow @Nalawala Murtuza solution. It is permitted for <code>Android Studio</code> and <code>Android Studio Preview</code> at the same time during check from flutter doctor. Doesn't need to delete Android Studio Preview.</p>\n<p><a href=\"https://i.stack.imgur.com/93Kc4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/93Kc4.png\" alt=\"enter image description here\" /></a></p>\n<p>5.Use <code>flutter doctor -v</code> to check</p>\n"},{"comments":[{"owner":{"account_id":1278999,"reputation":347,"user_id":1233565,"accept_rate":67,"display_name":"Isaias"},"score":8,"creation_date":1673842748,"post_id":75119315,"comment_id":132580175,"body_markdown":"Is there any source or comment on the directory name change by the dev team?\nBeen pulling my hair for the last hour reinstalling and browsing the directories trying to figure it out what was wrong, thanks","body":"Is there any source or comment on the directory name change by the dev team? Been pulling my hair for the last hour reinstalling and browsing the directories trying to figure it out what was wrong, thanks"},{"owner":{"account_id":13279538,"reputation":110,"user_id":9587701,"display_name":"Vandit Shah"},"score":7,"creation_date":1673853863,"post_id":75119315,"comment_id":132581819,"body_markdown":"bro, operation not permitted on mac to create a symlink between jbr and jre, please help","body":"bro, operation not permitted on mac to create a symlink between jbr and jre, please help"},{"owner":{"account_id":15249697,"reputation":1418,"user_id":11003497,"display_name":"Paul"},"score":10,"creation_date":1673864673,"post_id":75119315,"comment_id":132584806,"body_markdown":"@VanditShah give the terminal full disk access at `settings&gt;privacy &amp; security&gt;full disk access&gt;terminal` and then call the command with `sudo`","body":"@VanditShah give the terminal full disk access at <code>settings&gt;privacy &amp; security&gt;full disk access&gt;terminal</code> and then call the command with <code>sudo</code>"},{"owner":{"account_id":110558,"reputation":10111,"user_id":292502,"accept_rate":83,"display_name":"Csaba Toth"},"score":1,"creation_date":1673905910,"post_id":75119315,"comment_id":132597544,"body_markdown":"On Linux if you are part of the beta / preview program of Android Studio, then the command is `cd ~/android-studio-preview/ &amp;&amp; ln -s jbr jre`. This startled me, because I have the regular directory and your command didn&#39;t fix it. Then I realized I&#39;m using a Preview version. You can add that.","body":"On Linux if you are part of the beta / preview program of Android Studio, then the command is <code>cd ~&#47;android-studio-preview&#47; &amp;&amp; ln -s jbr jre</code>. This startled me, because I have the regular directory and your command didn&#39;t fix it. Then I realized I&#39;m using a Preview version. You can add that."},{"owner":{"account_id":2935339,"reputation":1799,"user_id":2514402,"accept_rate":70,"display_name":"Sam"},"score":0,"creation_date":1673989337,"post_id":75119315,"comment_id":132618491,"body_markdown":"When I try to do this in AS Terminal it complains: ```PS C:\\Program Files\\android\\android studio&gt; mklink /D &quot;jre&quot; &quot;jbr&quot;\nmklink : The term &#39;mklink&#39; is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or \nif a path was included, verify that the path is correct and try again.\nAt line:1 char:1\n+ mklink /D &quot;jre&quot; &quot;jbr&quot;``` - help!","body":"When I try to do this in AS Terminal it complains: <code>PS C:\\Program Files\\android\\android studio&gt; mklink &#47;D &quot;jre&quot; &quot;jbr&quot; mklink : The term &#39;mklink&#39; is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or  if a path was included, verify that the path is correct and try again. At line:1 char:1 + mklink &#47;D &quot;jre&quot; &quot;jbr&quot;</code> - help!"},{"owner":{"account_id":1309929,"reputation":4821,"user_id":1258130,"accept_rate":60,"display_name":"eja"},"score":0,"creation_date":1674022826,"post_id":75119315,"comment_id":132623693,"body_markdown":"@Sam try `New-Item -ItemType...`, as the `mklink` is a command in CMD. If that doesn&#39;t work maybe just run the above in Power Shell or CMD :)","body":"@Sam try <code>New-Item -ItemType...</code>, as the <code>mklink</code> is a command in CMD. If that doesn&#39;t work maybe just run the above in Power Shell or CMD :)"},{"owner":{"account_id":14870166,"reputation":470,"user_id":10766511,"display_name":"Nikita Shadkov"},"score":0,"creation_date":1674150652,"post_id":75119315,"comment_id":132658782,"body_markdown":"works fine, but I&#39;d like to know more about what happens if you create link instead of common folder which Android Studio gives you from scratch, any hidden rocks?","body":"works fine, but I&#39;d like to know more about what happens if you create link instead of common folder which Android Studio gives you from scratch, any hidden rocks?"},{"owner":{"account_id":3063384,"reputation":550,"user_id":2595609,"display_name":"nirmalsingh"},"score":28,"creation_date":1674281559,"post_id":75119315,"comment_id":132685846,"body_markdown":"On Windows, flutter doctor was throwing this error with latest Android Studio i.e. Electric Eel | 2022.1.1.\n\nHowever for me, jre folder already existed under C:\\Program Files\\Android\\Android Studio which contained just one file \\jre\\bin\\.marker.\n\nI renamed the existing jre folder into jre_old and afterwards created the symbolic link through below command. problem fixed !\n\n\ncd C:\\Program Files\\Android\\Android Studio\n\nmklink /D &quot;jre&quot; &quot;jbr&quot;","body":"On Windows, flutter doctor was throwing this error with latest Android Studio i.e. Electric Eel | 2022.1.1.  However for me, jre folder already existed under C:\\Program Files\\Android\\Android Studio which contained just one file \\jre\\bin\\.marker.  I renamed the existing jre folder into jre_old and afterwards created the symbolic link through below command. problem fixed !   cd C:\\Program Files\\Android\\Android Studio  mklink /D &quot;jre&quot; &quot;jbr&quot;"},{"owner":{"account_id":5811106,"reputation":486,"user_id":4582142,"display_name":"mauriii"},"score":0,"creation_date":1674576871,"post_id":75119315,"comment_id":132741326,"body_markdown":"@VanditShah Another solution for those using a restricted company computer or getting &quot;operation not permitted,&quot; install [Android Studio Dolphin](https://developer.android.com/studio/archive), the previous version of Android Studio (accept the terms at the bottom of page). During installation, it&#39;ll ask if you want to uninstall new version during installation.","body":"@VanditShah Another solution for those using a restricted company computer or getting &quot;operation not permitted,&quot; install <a href=\"https://developer.android.com/studio/archive\" rel=\"nofollow noreferrer\">Android Studio Dolphin</a>, the previous version of Android Studio (accept the terms at the bottom of page). During installation, it&#39;ll ask if you want to uninstall new version during installation."},{"owner":{"account_id":7774050,"reputation":1347,"user_id":5882700,"display_name":"Lukenzo"},"score":0,"creation_date":1674732667,"post_id":75119315,"comment_id":132778652,"body_markdown":"Windows solution worked, but my Android Studio was installed with Jetbrains Toolbox and the location was different. To see the actual Android Studio path run `flutter doctor -v`","body":"Windows solution worked, but my Android Studio was installed with Jetbrains Toolbox and the location was different. To see the actual Android Studio path run <code>flutter doctor -v</code>"},{"owner":{"account_id":19432402,"reputation":967,"user_id":14212524,"display_name":"Kishan Dhankecha"},"score":3,"creation_date":1674748196,"post_id":75119315,"comment_id":132783935,"body_markdown":"This helped me a lot of time. PS. for those who are getting &quot;Access Denied&quot; error on windows by running `mklink /D &quot;jre&quot; &quot;jbr&quot;`, just run CMD as Administrator.","body":"This helped me a lot of time. PS. for those who are getting &quot;Access Denied&quot; error on windows by running <code>mklink &#47;D &quot;jre&quot; &quot;jbr&quot;</code>, just run CMD as Administrator."},{"owner":{"account_id":7029468,"reputation":105,"user_id":5385727,"display_name":"Colander"},"score":0,"creation_date":1674754215,"post_id":75119315,"comment_id":132786044,"body_markdown":"if you&#39;re on Linux and installed Android studio via the JetBrains Toolbox app, the path you&#39;re looking for will be something like `~/.local/share/JetBrains/Toolbox/apps/AndroidStudio/ch-0/221.6008.13.2211.9477386`. The last directory name could be different","body":"if you&#39;re on Linux and installed Android studio via the JetBrains Toolbox app, the path you&#39;re looking for will be something like <code>~&#47;.local&#47;share&#47;JetBrains&#47;Toolbox&#47;apps&#47;AndroidStudio&#47;ch-0&#47;221&zwnj;&#8203;.6008.13.2211.947738&zwnj;&#8203;6</code>. The last directory name could be different"},{"owner":{"account_id":17217322,"reputation":69,"user_id":12465000,"display_name":"Rohit Bhargava"},"score":0,"creation_date":1675434348,"post_id":75119315,"comment_id":132933991,"body_markdown":"@eja Before doing that, we should have to rename `jre` dir to another name, say, `jreOld`, otherwise, **CMD says that it cannot create symbolic link if the same (`jre`) dir is there**.\nthen, we can run command given in answer above (for Windows)!","body":"@eja Before doing that, we should have to rename <code>jre</code> dir to another name, say, <code>jreOld</code>, otherwise, <b>CMD says that it cannot create symbolic link if the same (<code>jre</code>) dir is there</b>. then, we can run command given in answer above (for Windows)!"},{"owner":{"account_id":3563143,"reputation":533,"user_id":2975475,"accept_rate":67,"display_name":"Pawan"},"score":0,"creation_date":1676270906,"post_id":75119315,"comment_id":133096283,"body_markdown":"ln: jre: Operation not permitted\n\nOn Mac","body":"ln: jre: Operation not permitted  On Mac"},{"owner":{"account_id":1309929,"reputation":4821,"user_id":1258130,"accept_rate":60,"display_name":"eja"},"score":1,"creation_date":1676277071,"post_id":75119315,"comment_id":133097523,"body_markdown":"Try giving the terminal the required permissions and run the same with `sudo`\nI suppose you the needed permissions are Disk Access in `Settings - Privacy &amp; Security - Full Disk Access - Terminal`","body":"Try giving the terminal the required permissions and run the same with <code>sudo</code> I suppose you the needed permissions are Disk Access in <code>Settings - Privacy &amp; Security - Full Disk Access - Terminal</code>"},{"owner":{"account_id":9593749,"reputation":2641,"user_id":7123641,"accept_rate":100,"display_name":"under"},"score":0,"creation_date":1676411422,"post_id":75119315,"comment_id":133131140,"body_markdown":"This breaks Android Studio patching. Is there a way to point flutter to jbr without making changes to jre folder?","body":"This breaks Android Studio patching. Is there a way to point flutter to jbr without making changes to jre folder?"},{"owner":{"account_id":3368898,"reputation":886,"user_id":2828685,"accept_rate":90,"display_name":"Almett"},"score":0,"creation_date":1677238481,"post_id":75119315,"comment_id":133302901,"body_markdown":"Thanks a lot. This issue bothered me for a couple of hours. Finally resolved.","body":"Thanks a lot. This issue bothered me for a couple of hours. Finally resolved."},{"owner":{"account_id":158106,"reputation":2201,"user_id":376497,"accept_rate":100,"display_name":"holocronweaver"},"score":0,"creation_date":1678502204,"post_id":75119315,"comment_id":133550377,"body_markdown":"Flutter 3.7.7 (and possibly earlier recent versions) look for the JRE under `jbr`, making workarounds like this unnecessary. Thus one solution is to upgrade to a more recent Flutter version.","body":"Flutter 3.7.7 (and possibly earlier recent versions) look for the JRE under <code>jbr</code>, making workarounds like this unnecessary. Thus one solution is to upgrade to a more recent Flutter version."},{"owner":{"account_id":5100167,"reputation":523,"user_id":4090017,"display_name":"YEG"},"score":1,"creation_date":1679950054,"post_id":75119315,"comment_id":133809849,"body_markdown":"This worked for me. Thanks! One very minor clarification, on a Mac, the **Disk Access Permissions** are in the **Mac Settings**, not the **Android Studio Settings**.","body":"This worked for me. Thanks! One very minor clarification, on a Mac, the <b>Disk Access Permissions</b> are in the <b>Mac Settings</b>, not the <b>Android Studio Settings</b>."},{"owner":{"account_id":22879334,"reputation":157,"user_id":17021151,"display_name":"jcodes"},"score":0,"creation_date":1683412346,"post_id":75119315,"comment_id":134363529,"body_markdown":"God bless the internet... Attention for anyone using newer versions of Mac btw, even &#39;sudo ln -s jbr jre&#39; will fail because there is a new security setting where you actually have to go in and grant terminal permission to edit other applications.","body":"God bless the internet... Attention for anyone using newer versions of Mac btw, even &#39;sudo ln -s jbr jre&#39; will fail because there is a new security setting where you actually have to go in and grant terminal permission to edit other applications."}],"tags":[],"owner":{"account_id":1309929,"reputation":4821,"user_id":1258130,"accept_rate":60,"display_name":"eja"},"comment_count":20,"down_vote_count":1,"up_vote_count":385,"is_accepted":false,"score":384,"last_activity_date":1695017973,"creation_date":1673712508,"answer_id":75119315,"question_id":51281702,"body_markdown":"**Right approach**\r\n\r\nIn short and simple, the best approach to fix this issue is by upgrading your Android Studio and Flutter to latest versions, in order to avoid any potential issues (e.g. patching) in future.\r\n\r\n**Original answer**\r\n\r\nFor those having these issues with the latest Android Studio - Electric Eel version, and other canaries and preview releases, note that the bundled `jre` directory in the Android Studio installation folder is now renamed to `jbr`\r\n\r\nTo resolve this, just create a sym link `jre` -&gt; `jbr` and Flutter won&#39;t complain.\r\n\r\nOn Linux\r\n```\r\ncd ~/android-studio/ &amp;&amp; ln -s jbr jre\r\n```\r\n\r\nWindows (check installation folder)\r\n```\r\ncd C:\\Program Files\\Android\\Android Studio\r\nmklink /D &quot;jre&quot; &quot;jbr&quot;\r\n```\r\n\r\nor \r\n```\r\nNew-Item -ItemType SymbolicLink -Path .\\jre -Target .\\jbr\r\n```\r\n\r\nMac OS\r\n```\r\ncd /Applications/Android\\ Studio.app/Contents\r\nln -s jbr jre\r\n```\r\n\r\n---\r\n\r\nNote that if you are running a preview release, and depending on your OS, the default installation directory might be different, e.g. on Linux it would be \r\n```\r\n~/android-studio-preview/\r\n```\r\n\r\nIn either case, you can check the installation directory by running\r\n```\r\nflutter doctor -v\r\n```\r\n\r\n---\r\n\r\nAlso, in case if you run with permissions issues, you can try running the command with admin privileges, depending on your OS.\r\n\r\nFor example on Mac/Linux, you can just run the same command with `sudo` and it should work, additionally on Mac, you&#39;ll have to configure the **Disk Access** permissions, depends on your version, but most probably can be found under:\r\n\r\n`Settings - Privacy &amp; Security - Full Disk Access - Terminal`\r\n","title":"Unable to find bundled Java version on Flutter","body":"<p><strong>Right approach</strong></p>\n<p>In short and simple, the best approach to fix this issue is by upgrading your Android Studio and Flutter to latest versions, in order to avoid any potential issues (e.g. patching) in future.</p>\n<p><strong>Original answer</strong></p>\n<p>For those having these issues with the latest Android Studio - Electric Eel version, and other canaries and preview releases, note that the bundled <code>jre</code> directory in the Android Studio installation folder is now renamed to <code>jbr</code></p>\n<p>To resolve this, just create a sym link <code>jre</code> -&gt; <code>jbr</code> and Flutter won't complain.</p>\n<p>On Linux</p>\n<pre><code>cd ~/android-studio/ &amp;&amp; ln -s jbr jre\n</code></pre>\n<p>Windows (check installation folder)</p>\n<pre><code>cd C:\\Program Files\\Android\\Android Studio\nmklink /D &quot;jre&quot; &quot;jbr&quot;\n</code></pre>\n<p>or</p>\n<pre><code>New-Item -ItemType SymbolicLink -Path .\\jre -Target .\\jbr\n</code></pre>\n<p>Mac OS</p>\n<pre><code>cd /Applications/Android\\ Studio.app/Contents\nln -s jbr jre\n</code></pre>\n<hr />\n<p>Note that if you are running a preview release, and depending on your OS, the default installation directory might be different, e.g. on Linux it would be</p>\n<pre><code>~/android-studio-preview/\n</code></pre>\n<p>In either case, you can check the installation directory by running</p>\n<pre><code>flutter doctor -v\n</code></pre>\n<hr />\n<p>Also, in case if you run with permissions issues, you can try running the command with admin privileges, depending on your OS.</p>\n<p>For example on Mac/Linux, you can just run the same command with <code>sudo</code> and it should work, additionally on Mac, you'll have to configure the <strong>Disk Access</strong> permissions, depends on your version, but most probably can be found under:</p>\n<p><code>Settings - Privacy &amp; Security - Full Disk Access - Terminal</code></p>\n"},{"tags":[],"owner":{"account_id":23477001,"reputation":121,"user_id":17529670,"display_name":"Bhavesh Gujar"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1675699951,"creation_date":1673804879,"answer_id":75127145,"question_id":51281702,"body_markdown":"**For Windows**\r\nGo To android studio directory (Default C:\\Program Files\\Android\\Android Studio)\r\nremove jre folder\r\nrun cmd as administrator\r\n\r\n    cd C:\\Program Files\\Android\\Android Studio\r\n\r\n    mklink /D &quot;jre&quot; &quot;jbr&quot;","title":"Unable to find bundled Java version on Flutter","body":"<p><strong>For Windows</strong>\nGo To android studio directory (Default C:\\Program Files\\Android\\Android Studio)\nremove jre folder\nrun cmd as administrator</p>\n<pre><code>cd C:\\Program Files\\Android\\Android Studio\n\nmklink /D &quot;jre&quot; &quot;jbr&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":110558,"reputation":10111,"user_id":292502,"accept_rate":83,"display_name":"Csaba Toth"},"score":3,"creation_date":1673905537,"post_id":75134478,"comment_id":132597445,"body_markdown":"Why this this happen with Electric Eel suddenly? Never had this problem before, just recently.","body":"Why this this happen with Electric Eel suddenly? Never had this problem before, just recently."},{"owner":{"account_id":14380790,"reputation":1309,"user_id":10388076,"display_name":"Boanerges"},"score":1,"creation_date":1673950588,"post_id":75134478,"comment_id":132605901,"body_markdown":"@CsabaToth well I think Android Studio was built on JetBrains IntelliJ IDEA software, which uses its own version of openjdk called Jetbrains runtime(jbr). So I think in the new version of android studio, maybe they might have switched to using Jetbrains jrb.","body":"@CsabaToth well I think Android Studio was built on JetBrains IntelliJ IDEA software, which uses its own version of openjdk called Jetbrains runtime(jbr). So I think in the new version of android studio, maybe they might have switched to using Jetbrains jrb."},{"owner":{"account_id":155220,"reputation":6787,"user_id":371720,"accept_rate":58,"display_name":"Shihab Uddin"},"score":1,"creation_date":1674034068,"post_id":75134478,"comment_id":132626485,"body_markdown":"here is the video link: https://www.youtube.com/watch?v=ry_Zyyq-ZDQ&amp;ab_channel=MdShihabUddin","body":"here is the video link: <a href=\"https://www.youtube.com/watch?v=ry_Zyyq-ZDQ&amp;ab_channel=MdShihabUddin\" rel=\"nofollow noreferrer\">youtube.com/watch?v=ry_Zyyq-ZDQ&amp;ab_channel=MdShihabUddin</a>"},{"owner":{"account_id":5752209,"reputation":6311,"user_id":4541492,"accept_rate":35,"display_name":"Vince Varga"},"score":2,"creation_date":1675873589,"post_id":75134478,"comment_id":133022787,"body_markdown":"I used brew to install Android Studio. `cd /Applications/Android\\ Studio.app/Contents/ &amp;&amp; ln -s jbr jre`","body":"I used brew to install Android Studio. <code>cd &#47;Applications&#47;Android\\ Studio.app&#47;Contents&#47; &amp;&amp; ln -s jbr jre</code>"},{"owner":{"account_id":6622177,"reputation":2187,"user_id":5113452,"accept_rate":100,"display_name":"Franci"},"score":3,"creation_date":1676110341,"post_id":75134478,"comment_id":133074531,"body_markdown":"For users who use `toolbox`, `flutter doctor -v` will show you the `Android Studio` app location. Then do the above.","body":"For users who use <code>toolbox</code>, <code>flutter doctor -v</code> will show you the <code>Android Studio</code> app location. Then do the above."},{"owner":{"account_id":4739048,"reputation":1299,"user_id":3832478,"accept_rate":67,"display_name":"Plugie"},"score":3,"creation_date":1676187370,"post_id":75134478,"comment_id":133084375,"body_markdown":"You have to add permission privacy setting for terminal to execute ln. https://osxdaily.com/2018/10/09/fix-operation-not-permitted-terminal-error-macos/","body":"You have to add permission privacy setting for terminal to execute ln. <a href=\"https://osxdaily.com/2018/10/09/fix-operation-not-permitted-terminal-error-macos/\" rel=\"nofollow noreferrer\">osxdaily.com/2018/10/09/&hellip;</a>"}],"tags":[],"owner":{"account_id":14380790,"reputation":1309,"user_id":10388076,"display_name":"Boanerges"},"comment_count":6,"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1676110541,"creation_date":1673873431,"answer_id":75134478,"question_id":51281702,"body_markdown":"**For Mac Users**\r\n\r\nMake sure you have installed java and set the java_home path, you can use homebrew for that.\r\n\r\n\r\nIf you installed **Android Studio Electric Eel** Follow the following step\r\n\r\n 1. Go to your Applications folder. \r\n 2. Search for Android Studio.app. (`flutter doctor -v` also has an `Android Studio` entry which will show you the app location)\r\n 3. Right click and select Show Package Content.\r\n 4. Navigate into the Content Folder that opens.\r\n 5. Use your terminal to cd into that folder and then enter the command below and everything should be solved\r\n\r\n```\r\nln -s jbr jre\r\n```\r\nThe command above creates a symbolic link\r\n\r\n\r\nThe symbolic link also works on Ubuntu.","title":"Unable to find bundled Java version on Flutter","body":"<p><strong>For Mac Users</strong></p>\n<p>Make sure you have installed java and set the java_home path, you can use homebrew for that.</p>\n<p>If you installed <strong>Android Studio Electric Eel</strong> Follow the following step</p>\n<ol>\n<li>Go to your Applications folder.</li>\n<li>Search for Android Studio.app. (<code>flutter doctor -v</code> also has an <code>Android Studio</code> entry which will show you the app location)</li>\n<li>Right click and select Show Package Content.</li>\n<li>Navigate into the Content Folder that opens.</li>\n<li>Use your terminal to cd into that folder and then enter the command below and everything should be solved</li>\n</ol>\n<pre><code>ln -s jbr jre\n</code></pre>\n<p>The command above creates a symbolic link</p>\n<p>The symbolic link also works on Ubuntu.</p>\n"},{"comments":[{"owner":{"account_id":2412014,"reputation":234,"user_id":2747060,"display_name":"Say OL"},"score":0,"creation_date":1674842724,"post_id":75146150,"comment_id":132806892,"body_markdown":"Delete the jre folder and change the environment variable to jbr. It works for me even the flutter doctor complains.","body":"Delete the jre folder and change the environment variable to jbr. It works for me even the flutter doctor complains."},{"owner":{"account_id":9493485,"reputation":119,"user_id":7057428,"accept_rate":33,"display_name":"Mak-Mak Basaya"},"score":0,"creation_date":1676092162,"post_id":75146150,"comment_id":133072680,"body_markdown":"im using android studio 2022.1.1 and this answer works for me.","body":"im using android studio 2022.1.1 and this answer works for me."},{"owner":{"account_id":9593749,"reputation":2641,"user_id":7123641,"accept_rate":100,"display_name":"under"},"score":0,"creation_date":1676411458,"post_id":75146150,"comment_id":133131143,"body_markdown":"This breaks Android Studio patching","body":"This breaks Android Studio patching"},{"owner":{"account_id":9593749,"reputation":2641,"user_id":7123641,"accept_rate":100,"display_name":"under"},"score":0,"creation_date":1676578271,"post_id":75146150,"comment_id":133170623,"body_markdown":"When I try to install the Android Studio patch I get a fatal error saying that jre/bin/.marker file was not found. To resolve, I removed the symbolic link, created the jre/bin/.marker folders and empty file. This allows installation to complete. Then I applied the symbolic link fix again to fix flutter. Not ideal... This is on Windows 10","body":"When I try to install the Android Studio patch I get a fatal error saying that jre/bin/.marker file was not found. To resolve, I removed the symbolic link, created the jre/bin/.marker folders and empty file. This allows installation to complete. Then I applied the symbolic link fix again to fix flutter. Not ideal... This is on Windows 10"}],"tags":[],"owner":{"account_id":6799242,"reputation":2362,"user_id":5233189,"display_name":"GAYTH BACCARI"},"comment_count":4,"down_vote_count":0,"up_vote_count":187,"is_accepted":false,"score":187,"last_activity_date":1684787200,"creation_date":1673957070,"answer_id":75146150,"question_id":51281702,"body_markdown":"For Windows users:\r\n\r\nGo to `C:\\Program Files\\Android\\Android Studio`, then copy the contents of **jbr** and paste the contents into the **jre** folder.\r\n\r\nRun `flutter doctor` again and it will solve the problem.\r\n\r\n(I&#39;m running Android studio 2022.1)","title":"Unable to find bundled Java version on Flutter","body":"<p>For Windows users:</p>\n<p>Go to <code>C:\\Program Files\\Android\\Android Studio</code>, then copy the contents of <strong>jbr</strong> and paste the contents into the <strong>jre</strong> folder.</p>\n<p>Run <code>flutter doctor</code> again and it will solve the problem.</p>\n<p>(I'm running Android studio 2022.1)</p>\n"},{"tags":[],"owner":{"account_id":21648085,"reputation":207,"user_id":15969113,"display_name":"Shahed Oali Noor"},"comment_count":0,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1684787868,"creation_date":1674049316,"answer_id":75160155,"question_id":51281702,"body_markdown":"Go to Finder &gt; Applications &gt; Android Studio:\r\n\r\n1. Right click and click &quot;Show package contents&quot;\r\n2. Create a new folder called `jre`\r\n3. Copy the contents of the `jbr` folder and paste them into the `jre` folder","title":"Unable to find bundled Java version on Flutter","body":"<p>Go to Finder &gt; Applications &gt; Android Studio:</p>\n<ol>\n<li>Right click and click &quot;Show package contents&quot;</li>\n<li>Create a new folder called <code>jre</code></li>\n<li>Copy the contents of the <code>jbr</code> folder and paste them into the <code>jre</code> folder</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19345709,"reputation":205,"user_id":14144329,"display_name":"K D"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1676838735,"creation_date":1674087378,"answer_id":75166586,"question_id":51281702,"body_markdown":"WINDOWS SOLVED (Android studio 2022.1.1)\r\n\r\nGo to &quot;C:\\Users\\user\\AppData\\Local\\JetBrains\\Toolbox\\apps\\AndroidStudio\\ch-0\\221.6008.13.2211.9477386\\&quot; then **copy** the content of jbr and paste the content into jre folder\r\n\r\nrun doctor again and problem solved\r\n\r\nAdd Path to enviroment variables if nessary \r\nC:\\Users\\user\\AppData\\Local\\JetBrains\\Toolbox\\apps\\AndroidStudio\\ch-0\\221.6008.13.2211.9477386\\jre\\bin\r\n\r\nAnswer based on GAYTH BACCARI post. Thanks\r\n\r\nCheck if path in the enviorment variables are added for JAVA\r\n","title":"Unable to find bundled Java version on Flutter","body":"<p>WINDOWS SOLVED (Android studio 2022.1.1)</p>\n<p>Go to &quot;C:\\Users\\user\\AppData\\Local\\JetBrains\\Toolbox\\apps\\AndroidStudio\\ch-0\\221.6008.13.2211.9477386&quot; then <strong>copy</strong> the content of jbr and paste the content into jre folder</p>\n<p>run doctor again and problem solved</p>\n<p>Add Path to enviroment variables if nessary\nC:\\Users\\user\\AppData\\Local\\JetBrains\\Toolbox\\apps\\AndroidStudio\\ch-0\\221.6008.13.2211.9477386\\jre\\bin</p>\n<p>Answer based on GAYTH BACCARI post. Thanks</p>\n<p>Check if path in the enviorment variables are added for JAVA</p>\n"},{"tags":[],"owner":{"account_id":1207503,"reputation":1577,"user_id":1176769,"display_name":"S Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1674256306,"creation_date":1674256306,"answer_id":75190139,"question_id":51281702,"body_markdown":"In latest version of Flutter for Mac, you won&#39;t find jre folder under `/Applications/Android Studio.app/Contents`\r\n\r\nTherefore, you can start Terminal and run following commands to fix the issue:\r\n\r\n`cd /Applications/Android Studio.app/Contents`\r\n\r\n`ln -s jbr jre` (creates a symbolic link (shortcut) named `jre` pointing to `jbr`)\r\n\r\nIf you&#39;re on latest version of Mac, you might see error while trying to make changes under Applications folder using Terminal, resolve it by adding `sudo`, like this:\r\n\r\n`sudo ln -s jbr jre` (runs the above command as admin, it will ask you for Mac password)\r\n\r\nYou might still see security alert, then you must go to `System Settings &gt; Privacy &amp; Security &gt; App Management` and `Terminal` as in the list of apps allowed to make changes under Applications folder.\r\n\r\n","title":"Unable to find bundled Java version on Flutter","body":"<p>In latest version of Flutter for Mac, you won't find jre folder under <code>/Applications/Android Studio.app/Contents</code></p>\n<p>Therefore, you can start Terminal and run following commands to fix the issue:</p>\n<p><code>cd /Applications/Android Studio.app/Contents</code></p>\n<p><code>ln -s jbr jre</code> (creates a symbolic link (shortcut) named <code>jre</code> pointing to <code>jbr</code>)</p>\n<p>If you're on latest version of Mac, you might see error while trying to make changes under Applications folder using Terminal, resolve it by adding <code>sudo</code>, like this:</p>\n<p><code>sudo ln -s jbr jre</code> (runs the above command as admin, it will ask you for Mac password)</p>\n<p>You might still see security alert, then you must go to <code>System Settings &gt; Privacy &amp; Security &gt; App Management</code> and <code>Terminal</code> as in the list of apps allowed to make changes under Applications folder.</p>\n"},{"tags":[],"owner":{"account_id":5445664,"reputation":4925,"user_id":4332316,"accept_rate":20,"display_name":"Ali Akram"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1675583219,"creation_date":1675583219,"answer_id":75350778,"question_id":51281702,"body_markdown":"**Solution for Mac**\r\n\r\n\r\nGo to finder and find Android studio:\r\n\r\n - right click and click show package contents \r\n - Create a new folder called jre  \r\n - copy the contents of the jbr folder and paste them into jre folder  \r\n - reload your terminal and type flutter doctor\r\n\r\nChill Pill :)","title":"Unable to find bundled Java version on Flutter","body":"<p><strong>Solution for Mac</strong></p>\n<p>Go to finder and find Android studio:</p>\n<ul>\n<li>right click and click show package contents</li>\n<li>Create a new folder called jre</li>\n<li>copy the contents of the jbr folder and paste them into jre folder</li>\n<li>reload your terminal and type flutter doctor</li>\n</ul>\n<p>Chill Pill :)</p>\n"},{"comments":[{"owner":{"account_id":10024312,"reputation":695,"user_id":7412939,"display_name":"Doug"},"score":0,"creation_date":1687247667,"post_id":75354431,"comment_id":134905923,"body_markdown":"I tried this and just get &quot;cp: cannot create directory &#39;jre&#39;: Read-only file system&quot;.  Tried as sudo too, but get the same thing.  Did you have that too?  How did you get around it?","body":"I tried this and just get &quot;cp: cannot create directory &#39;jre&#39;: Read-only file system&quot;.  Tried as sudo too, but get the same thing.  Did you have that too?  How did you get around it?"},{"owner":{"account_id":18643295,"reputation":91,"user_id":15523520,"display_name":"Mohamed Ali"},"score":0,"creation_date":1687448142,"post_id":75354431,"comment_id":134941400,"body_markdown":"my android installation is under `$HOME` directory because it is installed by Jetbrains toolbox app\nSo a manual installation or using the toolbox could resolve your permission problem","body":"my android installation is under <code>$HOME</code> directory because it is installed by Jetbrains toolbox app So a manual installation or using the toolbox could resolve your permission problem"},{"owner":{"account_id":10024312,"reputation":695,"user_id":7412939,"display_name":"Doug"},"score":0,"creation_date":1687492669,"post_id":75354431,"comment_id":134947491,"body_markdown":"Thanks.  I had installed Android Studio with snap and that was why the error was coming up.  Installing manually (download and extract etc) I was able to add a symlink no problem, but you could equally copy the folder per above too.","body":"Thanks.  I had installed Android Studio with snap and that was why the error was coming up.  Installing manually (download and extract etc) I was able to add a symlink no problem, but you could equally copy the folder per above too."}],"tags":[],"owner":{"account_id":18643295,"reputation":91,"user_id":15523520,"display_name":"Mohamed Ali"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1675620673,"creation_date":1675620673,"answer_id":75354431,"question_id":51281702,"body_markdown":"for Ubuntu 22.04 and android sturdio 2022.1.1 \r\n\r\n`cd path/to/android-studio`\r\n\r\nJust copy jbr directory to jre directory\r\n\r\n`cp -r jbr/ jre`\r\n\r\nand it will work \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xaiDb.png","title":"Unable to find bundled Java version on Flutter","body":"<p>for Ubuntu 22.04 and android sturdio 2022.1.1</p>\n<p><code>cd path/to/android-studio</code></p>\n<p>Just copy jbr directory to jre directory</p>\n<p><code>cp -r jbr/ jre</code></p>\n<p>and it will work</p>\n<p><a href=\"https://i.stack.imgur.com/xaiDb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xaiDb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6576070,"reputation":533,"user_id":5082063,"display_name":"Shahadat Hossain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681719004,"creation_date":1681719004,"answer_id":76032969,"question_id":51281702,"body_markdown":"If you are using Ubuntu and used JetBrains Toolbox then just do one thing: Go to the Android Studio directory `/home/shahadat/.local/share/JetBrains/Toolbox/apps/AndroidStudio/ch-0/222.4459.24.2221.9862592` address path will look like this.\r\n\r\nif you do not know how to find out the Android studio path from the JetBrains toolbox or anything else then type `flutter doctor -v` and then check Android Studio Section (Version 2022.2) - The version can vary. \r\n\r\nThen just copy the `jbr` directory and rename the directory/folder as `jre`.\r\n\r\nNow run `flutter doctor -v`\r\n\r\nThis works for me.","title":"Unable to find bundled Java version on Flutter","body":"<p>If you are using Ubuntu and used JetBrains Toolbox then just do one thing: Go to the Android Studio directory <code>/home/shahadat/.local/share/JetBrains/Toolbox/apps/AndroidStudio/ch-0/222.4459.24.2221.9862592</code> address path will look like this.</p>\n<p>if you do not know how to find out the Android studio path from the JetBrains toolbox or anything else then type <code>flutter doctor -v</code> and then check Android Studio Section (Version 2022.2) - The version can vary.</p>\n<p>Then just copy the <code>jbr</code> directory and rename the directory/folder as <code>jre</code>.</p>\n<p>Now run <code>flutter doctor -v</code></p>\n<p>This works for me.</p>\n"}],"owner":{"account_id":10414302,"reputation":3075,"user_id":7678862,"display_name":"shariful hasnine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326280,"favorite_count":0,"down_vote_count":0,"up_vote_count":308,"answer_count":30,"score":308,"last_activity_date":1695017973,"creation_date":1531300700,"question_id":51281702,"body_markdown":"I have `Android Studio version 3.0`. When I use the command `flutter doctor` it shows me the following: \r\n\r\n&gt; Unable to find bundled Java version\r\n\r\nMy current Java version is `(build 1.8.0_131-b11)` on Windows 10.\r\n\r\nI don&#39;t have any older versions of Android Studio on my computer. ","title":"Unable to find bundled Java version on Flutter","body":"<p>I have <code>Android Studio version 3.0</code>. When I use the command <code>flutter doctor</code> it shows me the following:</p>\n<blockquote>\n<p>Unable to find bundled Java version</p>\n</blockquote>\n<p>My current Java version is <code>(build 1.8.0_131-b11)</code> on Windows 10.</p>\n<p>I don't have any older versions of Android Studio on my computer.</p>\n"},{"tags":["java","android","intellij-idea","stripe-payments","androidx"],"comments":[{"owner":{"account_id":14752891,"reputation":2853,"user_id":10654456,"display_name":"hmunoz"},"score":0,"creation_date":1626296392,"post_id":68357851,"comment_id":120858350,"body_markdown":"what version of Stripe Terminal Android SDK are you using?","body":"what version of Stripe Terminal Android SDK are you using?"},{"owner":{"account_id":14752891,"reputation":2853,"user_id":10654456,"display_name":"hmunoz"},"score":0,"creation_date":1626296556,"post_id":68357851,"comment_id":120858397,"body_markdown":"ah looks like v2.0.0 ... any particular beta version of v2.0.0 you&#39;re on?","body":"ah looks like v2.0.0 ... any particular beta version of v2.0.0 you&#39;re on?"},{"owner":{"account_id":6984717,"reputation":2526,"user_id":6791222,"display_name":"Feroz Khan"},"score":0,"creation_date":1626325994,"post_id":68357851,"comment_id":120863843,"body_markdown":"It&#39;s `implementation &quot;com.stripe:stripeterminal:2.0.0&quot;`","body":"It&#39;s <code>implementation &quot;com.stripe:stripeterminal:2.0.0&quot;</code>"},{"owner":{"account_id":2253536,"reputation":2612,"user_id":1985257,"accept_rate":63,"display_name":"George B"},"score":0,"creation_date":1640026337,"post_id":68357851,"comment_id":124492873,"body_markdown":"I am having the same issue. Did you ever resolve this? I&#39;ve followed the stripe docs to a T.... or so I thought","body":"I am having the same issue. Did you ever resolve this? I&#39;ve followed the stripe docs to a T.... or so I thought"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694339662,"creation_date":1694339662,"answer_id":77075600,"question_id":68357851,"body_markdown":"I&#39;m posting this now since I&#39;ve just found myself in the same predicament with no answer to this post that keeps coming up.\r\n\r\nThe error `Usage of Kotlin internal declaration from different module` is actually an Intellij&#39;s inspection set with level `Error`. The code is fine; it&#39;s the inspection level that is preventing you from running the code.\r\n\r\nTo execute your application, you can either lower the severity of the inspection or disable it altogether.\r\n\r\nhttps://youtrack.jetbrains.com/issue/KTIJ-12493/Usage-of-Kotlin-internal-declaration-from-different-module-more...","title":"Usage of Kotlin internal declaration from different module while integrating Stripe in Android","body":"<p>I'm posting this now since I've just found myself in the same predicament with no answer to this post that keeps coming up.</p>\n<p>The error <code>Usage of Kotlin internal declaration from different module</code> is actually an Intellij's inspection set with level <code>Error</code>. The code is fine; it's the inspection level that is preventing you from running the code.</p>\n<p>To execute your application, you can either lower the severity of the inspection or disable it altogether.</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/KTIJ-12493/Usage-of-Kotlin-internal-declaration-from-different-module-more..\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KTIJ-12493/Usage-of-Kotlin-internal-declaration-from-different-module-more..</a>.</p>\n"}],"owner":{"account_id":6984717,"reputation":2526,"user_id":6791222,"display_name":"Feroz Khan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5478,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1695017204,"creation_date":1626159571,"question_id":68357851,"body_markdown":"Following the [guidline][1], I&#39;m integrating Stripe in Android. In the step 4 they use `TerminalLifecycleObserver` in Application class. I&#39;ve followed all the steps above and also tried more brief guidline from their GitHub [repository][2]. But after all still getting the error **Usage of Kotlin internal declaration from different module** on `TerminalLifecycleObserver` in my Application class. Here&#39;s the screenshot showing the error and exception logs.\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://stripe.com/docs/terminal/sdk/android\r\n  [2]: https://github.com/stripe/stripe-terminal-android\r\n  [3]: https://i.stack.imgur.com/TifgX.png","title":"Usage of Kotlin internal declaration from different module while integrating Stripe in Android","body":"<p>Following the <a href=\"https://stripe.com/docs/terminal/sdk/android\" rel=\"nofollow noreferrer\">guidline</a>, I'm integrating Stripe in Android. In the step 4 they use <code>TerminalLifecycleObserver</code> in Application class. I've followed all the steps above and also tried more brief guidline from their GitHub <a href=\"https://github.com/stripe/stripe-terminal-android\" rel=\"nofollow noreferrer\">repository</a>. But after all still getting the error <strong>Usage of Kotlin internal declaration from different module</strong> on <code>TerminalLifecycleObserver</code> in my Application class. Here's the screenshot showing the error and exception logs.\n<a href=\"https://i.stack.imgur.com/TifgX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TifgX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ubuntu","ant"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1695016751,"post_id":77124690,"comment_id":135962399,"body_markdown":"maybe share the steps of your installation for debugging purposes?","body":"maybe share the steps of your installation for debugging purposes?"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":2,"creation_date":1695016906,"post_id":77124690,"comment_id":135962409,"body_markdown":"What is the value of `JAVA_HOME`? `java -version` works, so that means, `PATH` is pointing to the correct directory. `JAVA_HOME` should point to the parent directory of the `bin/` directory in which the `java` binary exists. This path that it tries to run `java` from is really weird `/usr/lib/jvm/jdk-20/bin/java/bin/java`. If `/usr/lib/jvm/jdk-20/bin/java` is the java binary, then `JAVA_HOME` should be `/usr/lib/jvm/jdk-20`","body":"What is the value of <code>JAVA_HOME</code>? <code>java -version</code> works, so that means, <code>PATH</code> is pointing to the correct directory. <code>JAVA_HOME</code> should point to the parent directory of the <code>bin&#47;</code> directory in which the <code>java</code> binary exists. This path that it tries to run <code>java</code> from is really weird <code>&#47;usr&#47;lib&#47;jvm&#47;jdk-20&#47;bin&#47;java&#47;bin&#47;java</code>. If <code>&#47;usr&#47;lib&#47;jvm&#47;jdk-20&#47;bin&#47;java</code> is the java binary, then <code>JAVA_HOME</code> should be <code>&#47;usr&#47;lib&#47;jvm&#47;jdk-20</code>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695021182,"post_id":77124690,"comment_id":135963036,"body_markdown":"The error suggests that you have set `JAVA_HOME` to `/usr/lib/jvm/jdk-20/bin/java`, it should be `/usr/lib/jvm/jdk-20`.","body":"The error suggests that you have set <code>JAVA_HOME</code> to <code>&#47;usr&#47;lib&#47;jvm&#47;jdk-20&#47;bin&#47;java</code>, it should be <code>&#47;usr&#47;lib&#47;jvm&#47;jdk-20</code>."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1695026065,"post_id":77124690,"comment_id":135963928,"body_markdown":"Please, do not post multiple questions about the same problem.  You should merge this post and the one at https://stackoverflow.com/questions/77124545/installing-ant-is-overriding-java-installation that contains other useful info.","body":"Please, do not post multiple questions about the same problem.  You should merge this post and the one at <a href=\"https://stackoverflow.com/questions/77124545/installing-ant-is-overriding-java-installation\" title=\"installing ant is overriding java installation\">stackoverflow.com/questions/77124545/&hellip;</a> that contains other useful info."}],"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695013698,"creation_date":1695013698,"question_id":77124690,"body_markdown":"I have Java installed correctly. \r\n\r\n    pc19@-H110:~$  java -version\r\n    java version &quot;20.0.2&quot; 2023-07-18\r\n    Java(TM) SE Runtime Environment (build 20.0.2+9-78)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)\r\n\r\nbut when I run by ant script. I get the following error\r\n\r\n    pc19@-H110:~/Documents/workspace/DCS$ ant all\r\n    \r\n    We cannot run Java, please ensure you have Java installed.\r\n      We have tried to execute /usr/lib/jvm/jdk-20/bin/java/bin/java but failed.\r\n    If you have installed Java in a unusual place you can set JAVA_HOME\r\n    to the directory containing the Java installation.\r\n\r\n","title":"JAVA_HOME, JAVA and ANT inconsistency","body":"<p>I have Java installed correctly.</p>\n<pre><code>pc19@-H110:~$  java -version\njava version &quot;20.0.2&quot; 2023-07-18\nJava(TM) SE Runtime Environment (build 20.0.2+9-78)\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)\n</code></pre>\n<p>but when I run by ant script. I get the following error</p>\n<pre><code>pc19@-H110:~/Documents/workspace/DCS$ ant all\n\nWe cannot run Java, please ensure you have Java installed.\n  We have tried to execute /usr/lib/jvm/jdk-20/bin/java/bin/java but failed.\nIf you have installed Java in a unusual place you can set JAVA_HOME\nto the directory containing the Java installation.\n</code></pre>\n"},{"tags":["java","ant","sap-commerce-cloud"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1643979916,"post_id":70986256,"comment_id":125489191,"body_markdown":"the issue with the java version only please use answer given by @mkysoft","body":"the issue with the java version only please use answer given by @mkysoft"},{"owner":{"account_id":347033,"reputation":67162,"user_id":680920,"accept_rate":85,"display_name":"quickshiftin"},"score":0,"creation_date":1659647729,"post_id":70986256,"comment_id":129350703,"body_markdown":"FWIW - I&#39;m using `sapmachine:18` via Docker on `2205` (per link from @mkysoft) and still get a similar error message...","body":"FWIW - I&#39;m using <code>sapmachine:18</code> via Docker on <code>2205</code> (per link from @mkysoft) and still get a similar error message..."},{"owner":{"account_id":7959893,"reputation":427,"user_id":6008020,"accept_rate":14,"display_name":"Dmytro Lysak"},"score":0,"creation_date":1665489654,"post_id":70986256,"comment_id":130707921,"body_markdown":"Same, using sapmachine 2205 with recommended jdk17.0 and am getting same error.","body":"Same, using sapmachine 2205 with recommended jdk17.0 and am getting same error."},{"owner":{"account_id":7959893,"reputation":427,"user_id":6008020,"accept_rate":14,"display_name":"Dmytro Lysak"},"score":1,"creation_date":1665495830,"post_id":70986256,"comment_id":130710582,"body_markdown":"Managed to fix it I think, at least I can progress. Issue was with deperecation, moving from jdk 11 to jdk 17 probably caused some; adding in the option &quot;--add-opens &lt;thing&gt;&quot; into JDK_JAVA_OPTIONS environment variable fixed it, in my case it would be \n&quot;--add-opens java.xml/com.sun.org.apache.xpath.internal=ALL_UNNAMED&quot;\n\nGot it from:\nhttps://blogs.oracle.com/javamagazine/post/its-time-to-move-your-applications-to-java-17-heres-why-and-heres-how","body":"Managed to fix it I think, at least I can progress. Issue was with deperecation, moving from jdk 11 to jdk 17 probably caused some; adding in the option &quot;--add-opens &lt;thing&gt;&quot; into JDK_JAVA_OPTIONS environment variable fixed it, in my case it would be  &quot;--add-opens java.xml/com.sun.org.apache.xpath.internal=ALL_UNNAMED&quot;  Got it from: <a href=\"https://blogs.oracle.com/javamagazine/post/its-time-to-move-your-applications-to-java-17-heres-why-and-heres-how\" rel=\"nofollow noreferrer\">blogs.oracle.com/javamagazine/post/&hellip;</a>"},{"owner":{"account_id":2248300,"reputation":104,"user_id":2007077,"accept_rate":75,"display_name":"Alexey"},"score":0,"creation_date":1666622066,"post_id":70986256,"comment_id":130974666,"body_markdown":"For 2205 you have to run .setantenv before the build","body":"For 2205 you have to run .setantenv before the build"}],"answers":[{"tags":[],"owner":{"account_id":3392662,"reputation":5537,"user_id":2847159,"display_name":"mkysoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643978000,"creation_date":1643978000,"answer_id":70986457,"question_id":70986256,"body_markdown":"You need to use SAP Machine 11.0 as JDK for version 2105.\r\nFull system requirements by versions are [here](https://gunce.mkysoft.com/hybris-requirements/).","title":"java.lang.IllegalAccessError while ant build in SAP Hybris/Commerce version 2105","body":"<p>You need to use SAP Machine 11.0 as JDK for version 2105.\nFull system requirements by versions are <a href=\"https://gunce.mkysoft.com/hybris-requirements/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":6376478,"reputation":1021,"user_id":4947234,"display_name":"Timothy.Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649639835,"creation_date":1649639835,"answer_id":71821791,"question_id":70986256,"body_markdown":"SAP Machine JDK 17 is too **high** for SAP commerce cloud 2105. &lt;br&gt;\r\nPlease use SAP Machine JDK 11 instead.&lt;br&gt;\r\n[Here][1] is SAP official guide for SAP commerce cloud installation.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://help.sap.com/docs/SAP_COMMERCE/a74589c3a81a4a95bf51d87258c0ab15/8c71300f866910149b40c88dfc0de431.html\r\n  [2]: https://i.stack.imgur.com/dFyF6.png","title":"java.lang.IllegalAccessError while ant build in SAP Hybris/Commerce version 2105","body":"<p>SAP Machine JDK 17 is too <strong>high</strong> for SAP commerce cloud 2105. <br>\nPlease use SAP Machine JDK 11 instead.<br>\n<a href=\"https://help.sap.com/docs/SAP_COMMERCE/a74589c3a81a4a95bf51d87258c0ab15/8c71300f866910149b40c88dfc0de431.html\" rel=\"nofollow noreferrer\">Here</a> is SAP official guide for SAP commerce cloud installation.</p>\n<p><a href=\"https://i.stack.imgur.com/dFyF6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dFyF6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":347033,"reputation":67162,"user_id":680920,"accept_rate":85,"display_name":"quickshiftin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660147137,"creation_date":1660147137,"answer_id":73309364,"question_id":70986256,"body_markdown":"For Docker users make sure to use the appropriate [sapmachine image](https://hub.docker.com/_/sapmachine) based on your version of SAP Commerce, as mentioned by @mkysoft above.\r\n\r\nAlso note for newer versions (2205) you do need version 17.","title":"java.lang.IllegalAccessError while ant build in SAP Hybris/Commerce version 2105","body":"<p>For Docker users make sure to use the appropriate <a href=\"https://hub.docker.com/_/sapmachine\" rel=\"nofollow noreferrer\">sapmachine image</a> based on your version of SAP Commerce, as mentioned by @mkysoft above.</p>\n<p>Also note for newer versions (2205) you do need version 17.</p>\n"},{"tags":[],"owner":{"account_id":20975094,"reputation":21,"user_id":15411310,"display_name":"scrum"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666112684,"creation_date":1666112047,"answer_id":74114685,"question_id":70986256,"body_markdown":"Unable to add a comment to original question. The solution proposed by [@dmytrolysak][1] worked for me. I had to add the option `&quot;--add-opens java.xml/com.sun.org.apache.xpath.internal=ALL-UNNAMED&quot;` in my setantenv.sh for ANT_OPTS.\r\n\r\nThis is for hybris version 2205 and Java version is sapMachine 17.x.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/6008020/dmytro-lysak","title":"java.lang.IllegalAccessError while ant build in SAP Hybris/Commerce version 2105","body":"<p>Unable to add a comment to original question. The solution proposed by <a href=\"https://stackoverflow.com/users/6008020/dmytro-lysak\">@dmytrolysak</a> worked for me. I had to add the option <code>&quot;--add-opens java.xml/com.sun.org.apache.xpath.internal=ALL-UNNAMED&quot;</code> in my setantenv.sh for ANT_OPTS.</p>\n<p>This is for hybris version 2205 and Java version is sapMachine 17.x.</p>\n"},{"tags":[],"owner":{"account_id":4284001,"reputation":183,"user_id":3502456,"display_name":"Kashif Ibrahim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672870024,"creation_date":1672870024,"answer_id":75011860,"question_id":70986256,"body_markdown":"You should be using the correct Java version, better use the **SAPMachine** instead of Java for no-nonsense compatibility issues: https://github.com/SAP/SapMachine\r\n\r\n**2105 requires Version 11, and 2205 needs 17**\r\n\r\nAlso, add these exports to your **setantenv**:\r\n\r\n    export ANT_OPTS=&quot;-Xmx2g -Dfile.encoding=UTF-8 \\\r\n    --add-exports java.xml/com.sun.org.apache.xpath.internal=ALL-UNNAMED \\\r\n    --add-exports java.xml/com.sun.org.apache.xpath.internal.objects=ALL-UNNAMED&quot;\r\n\r\n","title":"java.lang.IllegalAccessError while ant build in SAP Hybris/Commerce version 2105","body":"<p>You should be using the correct Java version, better use the <strong>SAPMachine</strong> instead of Java for no-nonsense compatibility issues: <a href=\"https://github.com/SAP/SapMachine\" rel=\"nofollow noreferrer\">https://github.com/SAP/SapMachine</a></p>\n<p><strong>2105 requires Version 11, and 2205 needs 17</strong></p>\n<p>Also, add these exports to your <strong>setantenv</strong>:</p>\n<pre><code>export ANT_OPTS=&quot;-Xmx2g -Dfile.encoding=UTF-8 \\\n--add-exports java.xml/com.sun.org.apache.xpath.internal=ALL-UNNAMED \\\n--add-exports java.xml/com.sun.org.apache.xpath.internal.objects=ALL-UNNAMED&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2654765,"reputation":2027,"user_id":2295692,"display_name":"Stephen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686231936,"creation_date":1686153656,"answer_id":76425172,"question_id":70986256,"body_markdown":"I came across this error in my Azure pipeline build after upgrading from SAP Commerce 2105 to 2211:\r\n\r\n    java.lang.IllegalAccessError: class \r\n    com.oopsconsultancy.xmltask.jdk15.XPathAnalyser15 (in unnamed module \r\n    @0x4b5a078a) cannot access class com.sun.org.apache.xpath.internal.XPathAPI (in \r\n    module java.xml) \r\n    because module java.xml does not export com.sun.org.apache.xpath.internal to \r\n    unnamed module @0x4b5a078a\r\n\r\nThe pipeline build was getting that error when trying to run the following scriptlet from my azure-pipelines.yml file:\r\n\r\n    - task: Ant@1\r\n      inputs:\r\n        buildFile: &#39;$(workspace)/hybris/bin/platform&#39;\r\n        options: &#39;addoninstall -DaddonStorefront.yacceleratorstorefront=mystorefront -Daddonnames=&quot;b2bacceleratoraddon,commerceorgaddon,assistedservicestorefront,smarteditaddon,sapcoreaddon,b2bpunchoutaddon,myraddon,b2boccaddon&quot;&#39;\r\n        javaHomeOption: &#39;JDKVersion&#39;\r\n        jdkVersionOption: &#39;1.17&#39;\r\n        publishJUnitResults: false\r\n      displayName: ANT - install add-ons\r\n\r\nIn upgrading from 2105 to 2211, we upgraded java from 11 to 17. The first problem that I had to get past was using the correct the java version. I had to include the following scriptlet towards the beginning my azure-pipelines.yml file to make sure I was using java 17:\r\n\r\n    - task: JavaToolInstaller@0\r\n      inputs:\r\n        versionSpec: &#39;17&#39;\r\n        jdkArchitectureOption: &#39;x64&#39;\r\n        jdkSourceOption: &#39;PreInstalled&#39;\r\n      displayName: &#39;Installing Java 17&#39;\r\n\r\nBefore I did this, I found that azure pipelines was using the operating system installed version of java, which was version 11. After I added the above scriptlet, that took care of that problem, but I was still getting the IllegalAccessError. \r\n\r\nI played around with the ANT_OPTS variable with the &quot;--add-opens java.xml/com.sun.org.apache.xpath.internal=ALL-UNNAMED&quot; option, but that didn&#39;t fix anything for me. While working with the environment variables, I discovered that the version of ant being used was the operating system installed version and not the version included with SAP Commerce. I had been running the setantenv.sh command in a \r\nseparate scriptlet, thinking that this would properly set the ANT_HOME variable to point to the correct location, and I guess this was being lost once that scriptlet finished and the next one was being run.\r\n\r\nWhat fixed the problem for me was not using the &#39;ANT - install add-ons&#39; scriptlet mentioned above in lieu of replacing it with a &#39;script&#39; type scriptlet where I run the baseline configuration, addoninstall, and clean all commands in the same scriptlet:\r\n\r\n    - script: |\r\n        cd $(workspace)/hybris/bin/platform\r\n        . ./setantenv.sh\r\n\r\n        echo &quot;JAVA_HOME = $JAVA_HOME&quot;\r\n        echo &quot;ANT_HOME = $ANT_HOME&quot;\r\n        echo &quot;ANT_OPTS = $ANT_OPTS&quot;\r\n\r\n        $(ANT_HOME)/bin/ant clean all -Dinput.template=develop\r\n\r\n        /usr/bin/cp -r $(workspace)/hybris/bin/custom/core-customize/config/. $(workspace)/hybris/config\r\n        rc=$?\r\n        if [ x&quot;$rc&quot; != x&quot;0&quot; ]; then \r\n            exit -1\r\n        fi\r\n\r\n        $(ANT_HOME)/bin/ant addoninstall -DaddonStorefront.yacceleratorstorefront=graybarstorefront -Daddonnames=&quot;b2bacceleratoraddon,commerceorgaddon,assistedservicestorefront,smarteditaddon,sapcoreaddon,b2bpunchoutaddon,graybaraddon,b2boccaddon&quot;\r\n        rc=$?\r\n        if [ x&quot;$rc&quot; != x&quot;0&quot; ]; then \r\n            exit -1\r\n        fi\r\n\r\n        $(ANT_HOME)/bin/ant clean all\r\n        rc=$?\r\n        if [ x&quot;$rc&quot; != x&quot;0&quot; ]; then \r\n            exit -1\r\n        fi\r\n\r\n      displayName: Running the ANT commands\r\n  \r\nNow the azure pipeline build is working correctly for me.","title":"java.lang.IllegalAccessError while ant build in SAP Hybris/Commerce version 2105","body":"<p>I came across this error in my Azure pipeline build after upgrading from SAP Commerce 2105 to 2211:</p>\n<pre><code>java.lang.IllegalAccessError: class \ncom.oopsconsultancy.xmltask.jdk15.XPathAnalyser15 (in unnamed module \n@0x4b5a078a) cannot access class com.sun.org.apache.xpath.internal.XPathAPI (in \nmodule java.xml) \nbecause module java.xml does not export com.sun.org.apache.xpath.internal to \nunnamed module @0x4b5a078a\n</code></pre>\n<p>The pipeline build was getting that error when trying to run the following scriptlet from my azure-pipelines.yml file:</p>\n<pre><code>- task: Ant@1\n  inputs:\n    buildFile: '$(workspace)/hybris/bin/platform'\n    options: 'addoninstall -DaddonStorefront.yacceleratorstorefront=mystorefront -Daddonnames=&quot;b2bacceleratoraddon,commerceorgaddon,assistedservicestorefront,smarteditaddon,sapcoreaddon,b2bpunchoutaddon,myraddon,b2boccaddon&quot;'\n    javaHomeOption: 'JDKVersion'\n    jdkVersionOption: '1.17'\n    publishJUnitResults: false\n  displayName: ANT - install add-ons\n</code></pre>\n<p>In upgrading from 2105 to 2211, we upgraded java from 11 to 17. The first problem that I had to get past was using the correct the java version. I had to include the following scriptlet towards the beginning my azure-pipelines.yml file to make sure I was using java 17:</p>\n<pre><code>- task: JavaToolInstaller@0\n  inputs:\n    versionSpec: '17'\n    jdkArchitectureOption: 'x64'\n    jdkSourceOption: 'PreInstalled'\n  displayName: 'Installing Java 17'\n</code></pre>\n<p>Before I did this, I found that azure pipelines was using the operating system installed version of java, which was version 11. After I added the above scriptlet, that took care of that problem, but I was still getting the IllegalAccessError.</p>\n<p>I played around with the ANT_OPTS variable with the &quot;--add-opens java.xml/com.sun.org.apache.xpath.internal=ALL-UNNAMED&quot; option, but that didn't fix anything for me. While working with the environment variables, I discovered that the version of ant being used was the operating system installed version and not the version included with SAP Commerce. I had been running the setantenv.sh command in a\nseparate scriptlet, thinking that this would properly set the ANT_HOME variable to point to the correct location, and I guess this was being lost once that scriptlet finished and the next one was being run.</p>\n<p>What fixed the problem for me was not using the 'ANT - install add-ons' scriptlet mentioned above in lieu of replacing it with a 'script' type scriptlet where I run the baseline configuration, addoninstall, and clean all commands in the same scriptlet:</p>\n<pre><code>- script: |\n    cd $(workspace)/hybris/bin/platform\n    . ./setantenv.sh\n\n    echo &quot;JAVA_HOME = $JAVA_HOME&quot;\n    echo &quot;ANT_HOME = $ANT_HOME&quot;\n    echo &quot;ANT_OPTS = $ANT_OPTS&quot;\n\n    $(ANT_HOME)/bin/ant clean all -Dinput.template=develop\n\n    /usr/bin/cp -r $(workspace)/hybris/bin/custom/core-customize/config/. $(workspace)/hybris/config\n    rc=$?\n    if [ x&quot;$rc&quot; != x&quot;0&quot; ]; then \n        exit -1\n    fi\n\n    $(ANT_HOME)/bin/ant addoninstall -DaddonStorefront.yacceleratorstorefront=graybarstorefront -Daddonnames=&quot;b2bacceleratoraddon,commerceorgaddon,assistedservicestorefront,smarteditaddon,sapcoreaddon,b2bpunchoutaddon,graybaraddon,b2boccaddon&quot;\n    rc=$?\n    if [ x&quot;$rc&quot; != x&quot;0&quot; ]; then \n        exit -1\n    fi\n\n    $(ANT_HOME)/bin/ant clean all\n    rc=$?\n    if [ x&quot;$rc&quot; != x&quot;0&quot; ]; then \n        exit -1\n    fi\n\n  displayName: Running the ANT commands\n</code></pre>\n<p>Now the azure pipeline build is working correctly for me.</p>\n"},{"tags":[],"owner":{"account_id":11445284,"reputation":631,"user_id":8389388,"display_name":"Pines Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695013051,"creation_date":1695013051,"answer_id":77124645,"question_id":70986256,"body_markdown":"We can use any JDK (from Oracle or SAP). **This seems that the ANT was not set properly**.\r\nIn the platform folder, just executed: \r\n\r\n    \\hybris\\bin\\platform&gt; setantenv.bat","title":"java.lang.IllegalAccessError while ant build in SAP Hybris/Commerce version 2105","body":"<p>We can use any JDK (from Oracle or SAP). <strong>This seems that the ANT was not set properly</strong>.\nIn the platform folder, just executed:</p>\n<pre><code>\\hybris\\bin\\platform&gt; setantenv.bat\n</code></pre>\n"}],"owner":{"account_id":24108753,"reputation":33,"user_id":18079592,"display_name":"Swathi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8393,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":7,"score":3,"last_activity_date":1695013051,"creation_date":1643976986,"question_id":70986256,"body_markdown":"I am new to Hybris and trying to setup the Hybris latest version, I am trying to build it using ant clean all and getting the below error. I am using SAP Machine JDK 17 and also set it&#39;s path in Environment variables. Please help how to solve this!\r\n\r\n```\r\n** Java version **\r\nC:\\CXCOMM210500P_5-70005661\\hybris\\bin\\platform&gt;java -version\r\nPicked up JAVA_TOOL_OPTIONS: -Djava.vendor=&quot;Sun Microsystems Inc.&quot;\r\nopenjdk version &quot;17.0.1&quot; 2021-10-19 LTS\r\nOpenJDK Runtime Environment SapMachine (build 17.0.1+12-LTS)\r\nOpenJDK 64-Bit Server VM SapMachine (build 17.0.1+12-LTS, mixed mode, sharing)\r\n\r\n** Error logs **\r\n\r\nC:\\CXCOMM210500P_5-70005661\\hybris\\bin\\platform\\resources\\ant\\mavenTasks.xml:201: java.lang.IllegalAccessError: class com.oopsconsultancy.xmltask.jdk15.XPathAnalyser15 (in unnamed module @0x2f9f7dcf) cannot access class com.sun.org.apache.xpath.internal.XPathAPI (in module java.xml) because module java.xml does not export com.sun.org.apache.xpath.internal to unnamed module @0x2f9f7dcf\r\n        at com.oopsconsultancy.xmltask.jdk15.XPathAnalyser15.analyse(XPathAnalyser15.java:28)\r\n        at com.oopsconsultancy.xmltask.XmlReplace.apply(XmlReplace.java:72)\r\n        at com.oopsconsultancy.xmltask.XmlReplacement.apply(XmlReplacement.java:61)\r\n        at com.oopsconsultancy.xmltask.ant.XmlTask.processDoc(XmlTask.java:692)\r\n        at com.oopsconsultancy.xmltask.ant.XmlTask.execute(XmlTask.java:661)\r\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\r\n        at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     \r\n````","title":"java.lang.IllegalAccessError while ant build in SAP Hybris/Commerce version 2105","body":"<p>I am new to Hybris and trying to setup the Hybris latest version, I am trying to build it using ant clean all and getting the below error. I am using SAP Machine JDK 17 and also set it's path in Environment variables. Please help how to solve this!</p>\n<pre><code>** Java version **\nC:\\CXCOMM210500P_5-70005661\\hybris\\bin\\platform&gt;java -version\nPicked up JAVA_TOOL_OPTIONS: -Djava.vendor=&quot;Sun Microsystems Inc.&quot;\nopenjdk version &quot;17.0.1&quot; 2021-10-19 LTS\nOpenJDK Runtime Environment SapMachine (build 17.0.1+12-LTS)\nOpenJDK 64-Bit Server VM SapMachine (build 17.0.1+12-LTS, mixed mode, sharing)\n\n** Error logs **\n\nC:\\CXCOMM210500P_5-70005661\\hybris\\bin\\platform\\resources\\ant\\mavenTasks.xml:201: java.lang.IllegalAccessError: class com.oopsconsultancy.xmltask.jdk15.XPathAnalyser15 (in unnamed module @0x2f9f7dcf) cannot access class com.sun.org.apache.xpath.internal.XPathAPI (in module java.xml) because module java.xml does not export com.sun.org.apache.xpath.internal to unnamed module @0x2f9f7dcf\n        at com.oopsconsultancy.xmltask.jdk15.XPathAnalyser15.analyse(XPathAnalyser15.java:28)\n        at com.oopsconsultancy.xmltask.XmlReplace.apply(XmlReplace.java:72)\n        at com.oopsconsultancy.xmltask.XmlReplacement.apply(XmlReplacement.java:61)\n        at com.oopsconsultancy.xmltask.ant.XmlTask.processDoc(XmlTask.java:692)\n        at com.oopsconsultancy.xmltask.ant.XmlTask.execute(XmlTask.java:661)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\n        at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n     \n</code></pre>\n"},{"tags":["javascript","java","nashorn","transpiler"],"answers":[{"tags":[],"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497122638,"creation_date":1497122638,"answer_id":44477226,"question_id":43406743,"body_markdown":"What is the script engine you used ?\r\n\r\nAnyway that is because some javaScript engines does not recognize `const` keyword. (ex: Nashorn does not recognize it).\r\n\r\nIn this [book][1] it says something like,\r\n&quot;This option is available if a script uses the const keyword, which is not recognized by Nashorn.&quot;\r\n\r\nAnd it has some existing bugs filed,\r\n\r\n - https://netbeans.org/bugzilla/show_bug.cgi?id=226477\r\n - https://bugs.openjdk.java.net/browse/JDK-8024712\r\n\r\n  [1]: https://books.google.lk/books?id=qF8nCgAAQBAJ&amp;pg=PA296&amp;lpg=PA296&amp;dq=Nashorn%20does%20not%20recognize%20const%20keyword&amp;source=bl&amp;ots=bLHdlJGisW&amp;sig=Uib_oI5Qi5tfyFw9-FxBI1b9YZI&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwjHw8rQ_rPUAhWHPo8KHZiDCkoQ6AEIPjAE#v=onepage&amp;q=Nashorn%20does%20not%20recognize%20const%20keyword&amp;f=false","title":"Call javascript that contains &#39;const&#39; from java?","body":"<p>What is the script engine you used ?</p>\n\n<p>Anyway that is because some javaScript engines does not recognize <code>const</code> keyword. (ex: Nashorn does not recognize it).</p>\n\n<p>In this <a href=\"https://books.google.lk/books?id=qF8nCgAAQBAJ&amp;pg=PA296&amp;lpg=PA296&amp;dq=Nashorn%20does%20not%20recognize%20const%20keyword&amp;source=bl&amp;ots=bLHdlJGisW&amp;sig=Uib_oI5Qi5tfyFw9-FxBI1b9YZI&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwjHw8rQ_rPUAhWHPo8KHZiDCkoQ6AEIPjAE#v=onepage&amp;q=Nashorn%20does%20not%20recognize%20const%20keyword&amp;f=false\" rel=\"nofollow noreferrer\">book</a> it says something like,\n\"This option is available if a script uses the const keyword, which is not recognized by Nashorn.\"</p>\n\n<p>And it has some existing bugs filed,</p>\n\n<ul>\n<li><a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=226477\" rel=\"nofollow noreferrer\">https://netbeans.org/bugzilla/show_bug.cgi?id=226477</a></li>\n<li><a href=\"https://bugs.openjdk.java.net/browse/JDK-8024712\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8024712</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2345906,"reputation":2356,"user_id":2056178,"display_name":"Eugene"},"score":2,"creation_date":1684560921,"post_id":44480223,"comment_id":134538170,"body_markdown":"Thanks, it is also possible to pass the option to Nashorn directly: `ScriptEngine engine = new NashornScriptEngineFactory().getScriptEngine(&quot;--language=es6&quot;);`","body":"Thanks, it is also possible to pass the option to Nashorn directly: <code>ScriptEngine engine = new NashornScriptEngineFactory().getScriptEngine(&quot;--language=es6&zwnj;&#8203;&quot;);</code>"}],"tags":[],"owner":{"account_id":3848680,"reputation":4287,"user_id":3189360,"display_name":"A. Sundararajan"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1497153392,"creation_date":1497153392,"answer_id":44480223,"question_id":43406743,"body_markdown":"With --language=es6 option, nashorn supports &quot;const&quot; keyword.\r\n\r\n    $ jjs --language=es6 \r\n    jjs&gt; const x = 44\r\n\r\nIf you&#39;re programmatically creating Nashorn script engine, you can still pass options to Nashorn using &quot;nashorn.args&quot; System property. \r\n\r\nFile Main.java:\r\n\r\n    import javax.script.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws Exception {\r\n            ScriptEngineManager m = new ScriptEngineManager();\r\n            ScriptEngine e = m.getEngineByName(&quot;nashorn&quot;);\r\n            e.eval(&quot;const X = 44; print(X)&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    $ javac Main.java\r\n    \r\n    $ java Main\r\n\r\n    Exception in thread &quot;main&quot; javax.script.ScriptException: &lt;eval&gt;:1:0 Expected an operand but found const\r\n    const X = 44; print(X)\r\n    ^ in &lt;eval&gt; at line number 1 at column number 0\r\n    \tat jdk.nashorn.api.scripting.NashornScriptEngine.throwAsScriptException(NashornScriptEngine.java:470)\r\n    \tat jdk.nashorn.api.scripting.NashornScriptEngine.compileImpl(NashornScriptEngine.java:537)\r\n    \tat jdk.nashorn.api.scripting.NashornScriptEngine.compileImpl(NashornScriptEngine.java:524)\r\n    \tat jdk.nashorn.api.scripting.NashornScriptEngine.evalImpl(NashornScriptEngine.java:402)\r\n    \tat jdk.nashorn.api.scripting.NashornScriptEngine.eval(NashornScriptEngine.java:155)\r\n    \tat javax.script.AbstractScriptEngine.eval(AbstractScriptEngine.java:264)\r\n    \tat Main.main(Main.java:7)\r\n\r\n    $ java -Dnashorn.args=--language=es6 Main\r\n    44\r\n\r\nSee here -&gt; https://wiki.openjdk.java.net/display/Nashorn/Nashorn+jsr223+engine+notes\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Call javascript that contains &#39;const&#39; from java?","body":"<p>With --language=es6 option, nashorn supports \"const\" keyword.</p>\n\n<pre><code>$ jjs --language=es6 \njjs&gt; const x = 44\n</code></pre>\n\n<p>If you're programmatically creating Nashorn script engine, you can still pass options to Nashorn using \"nashorn.args\" System property. </p>\n\n<p>File Main.java:</p>\n\n<pre><code>import javax.script.*;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        ScriptEngineManager m = new ScriptEngineManager();\n        ScriptEngine e = m.getEngineByName(\"nashorn\");\n        e.eval(\"const X = 44; print(X)\");\n    }\n}\n\n\n$ javac Main.java\n\n$ java Main\n\nException in thread \"main\" javax.script.ScriptException: &lt;eval&gt;:1:0 Expected an operand but found const\nconst X = 44; print(X)\n^ in &lt;eval&gt; at line number 1 at column number 0\n    at jdk.nashorn.api.scripting.NashornScriptEngine.throwAsScriptException(NashornScriptEngine.java:470)\n    at jdk.nashorn.api.scripting.NashornScriptEngine.compileImpl(NashornScriptEngine.java:537)\n    at jdk.nashorn.api.scripting.NashornScriptEngine.compileImpl(NashornScriptEngine.java:524)\n    at jdk.nashorn.api.scripting.NashornScriptEngine.evalImpl(NashornScriptEngine.java:402)\n    at jdk.nashorn.api.scripting.NashornScriptEngine.eval(NashornScriptEngine.java:155)\n    at javax.script.AbstractScriptEngine.eval(AbstractScriptEngine.java:264)\n    at Main.main(Main.java:7)\n\n$ java -Dnashorn.args=--language=es6 Main\n44\n</code></pre>\n\n<p>See here -> <a href=\"https://wiki.openjdk.java.net/display/Nashorn/Nashorn+jsr223+engine+notes\" rel=\"noreferrer\">https://wiki.openjdk.java.net/display/Nashorn/Nashorn+jsr223+engine+notes</a></p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1695011246,"post_id":77100718,"comment_id":135961919,"body_markdown":"The original question was posted in 2017, before Java 9 was released (i.e. when Java 8 was the latest Java release). [Nashorn](https://en.wikipedia.org/wiki/Nashorn_(JavaScript_engine)) is no longer included in the JDK.","body":"The original question was posted in 2017, before Java 9 was released (i.e. when Java 8 was the latest Java release). <a href=\"https://en.wikipedia.org/wiki/Nashorn_(JavaScript_engine)\" rel=\"nofollow noreferrer\">Nashorn</a> is no longer included in the JDK."},{"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"score":0,"creation_date":1695240546,"post_id":77100718,"comment_id":135999775,"body_markdown":"@Abra\n\nnot in JDK but it still exist as standalone,, u can fetch it by maven central \n\nhttps://github.com/szegedi/nashorn/wiki/Using-Nashorn-with-different-Java-versions\n\nso the answer still useful. DO NOT RATE IT AS MINUS!","body":"@Abra  not in JDK but it still exist as standalone,, u can fetch it by maven central   <a href=\"https://github.com/szegedi/nashorn/wiki/Using-Nashorn-with-different-Java-versions\" rel=\"nofollow noreferrer\">github.com/szegedi/nashorn/wiki/&hellip;</a>  so the answer still useful. DO NOT RATE IT AS MINUS!"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1695261266,"post_id":77100718,"comment_id":136001862,"body_markdown":"_DO NOT RATE IT AS MINUS!_ I didn&#39;t.","body":"<i>DO NOT RATE IT AS MINUS!</i> I didn&#39;t."}],"tags":[],"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1695011269,"creation_date":1694642144,"answer_id":77100718,"question_id":43406743,"body_markdown":"Use this VM option\r\n```none\r\n-Dnashorn.args=--language=es6\r\n```","title":"Call javascript that contains &#39;const&#39; from java?","body":"<p>Use this VM option</p>\n<pre class=\"lang-none prettyprint-override\"><code>-Dnashorn.args=--language=es6\n</code></pre>\n"}],"owner":{"account_id":1074313,"reputation":69,"user_id":1072784,"display_name":"Saumitra Kamath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13317,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1695011269,"creation_date":1492153209,"question_id":43406743,"body_markdown":"I am trying to use a transpiling tool that has been developed in js and was available in GitHub. This transpiler is capable to convert the javascript code to java. \r\n\r\nI want to call the tool via java code so that I could read js files in java and process them using the transpiler developed in JS. The tool is using &#39;const&#39; as part of its code. While using ScriptEngine it gives me an exception. Please help!!\r\n\r\nSample Code:\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t\tScriptEngineManager manager = null;\r\n\t\tScriptEngine engine = null;\r\n\t\tFile folder = null;\r\n\r\n\t\ttry {\r\n\r\n\t\t\tmanager = new ScriptEngineManager();\r\n\t\t\tengine = manager.getEngineByName(&quot;nashorn&quot;);\r\n\t\t\tString testConst1 = (String) &quot;const pi = 3.14;&quot;;\r\n\t\t\tString testPrint1 = (String) &quot;function hello(name) {print (&#39;Hello, &#39; + name +&#39; = &#39;+ pi);}&quot;;\r\n\t\t\tengine.eval(testConst1);\r\n\t\t\tengine.eval(testPrint1);\r\n\r\n\t\t\tInvocable inv = (Invocable) engine;\r\n\t\t\tinv.invokeFunction(&quot;hello&quot;, &quot;pi&quot;);\r\n\t\t\t// System.out.println(); //This one works.\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nThis piece of code gives me below stack trace.\r\n\r\n    javax.script.ScriptException: &lt;eval&gt;:1:0 Expected an operand but found const\r\n    const pi = 3.14;\r\n    ^ in &lt;eval&gt; at line number 1 at column number 0\r\n    at jdk.nashorn.api.scripting.NashornScriptEngine.throwAsScriptException(NashornScriptEngine.java:455)\r\n    at jdk.nashorn.api.scripting.NashornScriptEngine.compileImpl(NashornScriptEngine.java:522)\r\n    at jdk.nashorn.api.scripting.NashornScriptEngine.compileImpl(NashornScriptEngine.java:509)\r\n    at jdk.nashorn.api.scripting.NashornScriptEngine.evalImpl(NashornScriptEngine.java:397)\r\n    at jdk.nashorn.api.scripting.NashornScriptEngine.eval(NashornScriptEngine.java:152)\r\n    at javax.script.AbstractScriptEngine.eval(Unknown Source)\r\n    \r\n\tCaused by: jdk.nashorn.internal.runtime.ParserException: &lt;eval&gt;:1:0 Expected an operand but found const\r\n    const pi = 3.14;\r\n    ^\r\n    at jdk.nashorn.internal.parser.AbstractParser.error(AbstractParser.java:292)\r\n    at jdk.nashorn.internal.parser.AbstractParser.error(AbstractParser.java:277)\r\n    at jdk.nashorn.internal.parser.Parser.unaryExpression(Parser.java:3175)\r\n    at jdk.nashorn.internal.parser.Parser.expression(Parser.java:3275)\r\n    at jdk.nashorn.internal.parser.Parser.expressionStatement(Parser.java:1152)\r\n    at jdk.nashorn.internal.parser.Parser.statement(Parser.java:969)\r\n    at jdk.nashorn.internal.parser.Parser.sourceElements(Parser.java:775)\r\n    at jdk.nashorn.internal.parser.Parser.program(Parser.java:711)\r\n    at jdk.nashorn.internal.parser.Parser.parse(Parser.java:284)\r\n    at jdk.nashorn.internal.parser.Parser.parse(Parser.java:250)\r\n    at jdk.nashorn.internal.runtime.Context.compile(Context.java:1207)\r\n    at jdk.nashorn.internal.runtime.Context.compileScript(Context.java:1179)\r\n    at jdk.nashorn.internal.runtime.Context.compileScript(Context.java:594)\r\n    at jdk.nashorn.api.scripting.NashornScriptEngine.compileImpl(NashornScriptEngine.java:520)\r\n    ... 5 more\r\n","title":"Call javascript that contains &#39;const&#39; from java?","body":"<p>I am trying to use a transpiling tool that has been developed in js and was available in GitHub. This transpiler is capable to convert the javascript code to java.</p>\n<p>I want to call the tool via java code so that I could read js files in java and process them using the transpiler developed in JS. The tool is using 'const' as part of its code. While using ScriptEngine it gives me an exception. Please help!!</p>\n<p>Sample Code:</p>\n<pre><code>public static void main(String[] args) {\n\n    ScriptEngineManager manager = null;\n    ScriptEngine engine = null;\n    File folder = null;\n\n    try {\n\n        manager = new ScriptEngineManager();\n        engine = manager.getEngineByName(&quot;nashorn&quot;);\n        String testConst1 = (String) &quot;const pi = 3.14;&quot;;\n        String testPrint1 = (String) &quot;function hello(name) {print ('Hello, ' + name +' = '+ pi);}&quot;;\n        engine.eval(testConst1);\n        engine.eval(testPrint1);\n\n        Invocable inv = (Invocable) engine;\n        inv.invokeFunction(&quot;hello&quot;, &quot;pi&quot;);\n        // System.out.println(); //This one works.\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>This piece of code gives me below stack trace.</p>\n<pre><code>javax.script.ScriptException: &lt;eval&gt;:1:0 Expected an operand but found const\nconst pi = 3.14;\n^ in &lt;eval&gt; at line number 1 at column number 0\nat jdk.nashorn.api.scripting.NashornScriptEngine.throwAsScriptException(NashornScriptEngine.java:455)\nat jdk.nashorn.api.scripting.NashornScriptEngine.compileImpl(NashornScriptEngine.java:522)\nat jdk.nashorn.api.scripting.NashornScriptEngine.compileImpl(NashornScriptEngine.java:509)\nat jdk.nashorn.api.scripting.NashornScriptEngine.evalImpl(NashornScriptEngine.java:397)\nat jdk.nashorn.api.scripting.NashornScriptEngine.eval(NashornScriptEngine.java:152)\nat javax.script.AbstractScriptEngine.eval(Unknown Source)\n\nCaused by: jdk.nashorn.internal.runtime.ParserException: &lt;eval&gt;:1:0 Expected an operand but found const\nconst pi = 3.14;\n^\nat jdk.nashorn.internal.parser.AbstractParser.error(AbstractParser.java:292)\nat jdk.nashorn.internal.parser.AbstractParser.error(AbstractParser.java:277)\nat jdk.nashorn.internal.parser.Parser.unaryExpression(Parser.java:3175)\nat jdk.nashorn.internal.parser.Parser.expression(Parser.java:3275)\nat jdk.nashorn.internal.parser.Parser.expressionStatement(Parser.java:1152)\nat jdk.nashorn.internal.parser.Parser.statement(Parser.java:969)\nat jdk.nashorn.internal.parser.Parser.sourceElements(Parser.java:775)\nat jdk.nashorn.internal.parser.Parser.program(Parser.java:711)\nat jdk.nashorn.internal.parser.Parser.parse(Parser.java:284)\nat jdk.nashorn.internal.parser.Parser.parse(Parser.java:250)\nat jdk.nashorn.internal.runtime.Context.compile(Context.java:1207)\nat jdk.nashorn.internal.runtime.Context.compileScript(Context.java:1179)\nat jdk.nashorn.internal.runtime.Context.compileScript(Context.java:594)\nat jdk.nashorn.api.scripting.NashornScriptEngine.compileImpl(NashornScriptEngine.java:520)\n... 5 more\n</code></pre>\n"},{"tags":["java","ubuntu","ant"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695024571,"post_id":77124545,"comment_id":135963650,"body_markdown":"*usr/lib/jvm/jdk-20/bin/java* You set JAVA_HOME wrong. Should finish with jdk-20","body":"<i>usr/lib/jvm/jdk-20/bin/java</i> You set JAVA_HOME wrong. Should finish with jdk-20"}],"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695010888,"creation_date":1695010888,"question_id":77124545,"body_markdown":"I am trying to install ANT after installing java. My java in Sun Java.\r\n\r\n    pc19@pc19-H110:~$  java -version\r\n    java version &quot;20.0.2&quot; 2023-07-18\r\n    Java(TM) SE Runtime Environment (build 20.0.2+9-78)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)\r\n-------------------------------------------------------------------------------------\r\n    pc19@-H110:~$ echo $JAVA_HOME\r\n    /usr/lib/jvm/jdk-20/bin/java\r\n-----------------------------------------------------------------\r\n\r\n    pc19@pc19-H110:~$ whereis java\r\n    java: /usr/bin/java /usr/share/java /usr/lib/jvm/jdk-20/bin/java\r\n------------------------------------------------------------------\r\n\r\n    pc19@-H110:~$ sudo apt-get install ant\r\n\r\n------------------------------------------------------------------\r\n\r\n    pc19@-H110:~$ java -version\r\n    openjdk version &quot;11.0.20.1&quot; 2023-08-24\r\n    OpenJDK Runtime Environment (build 11.0.20.1+1-post-Ubuntu-0ubuntu120.04)\r\n    OpenJDK 64-Bit Server VM (build 11.0.20.1+1-post-Ubuntu-0ubuntu120.04, mixed mode, sharing)\r\n\r\n\r\nWhen I install ANT using `sudo apt get install ant`, it is overring the Sun Java insallation with OpenJdk installation. Does anybody know the workaround for it? \r\n\r\nWhy is ant installation overriding java? How do I stop it?\r\n\r\n\r\n","title":"Installing Ant is overriding Java Installation","body":"<p>I am trying to install ANT after installing java. My java in Sun Java.</p>\n<pre><code>pc19@pc19-H110:~$  java -version\njava version &quot;20.0.2&quot; 2023-07-18\nJava(TM) SE Runtime Environment (build 20.0.2+9-78)\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)\n</code></pre>\n<hr />\n<pre><code>pc19@-H110:~$ echo $JAVA_HOME\n/usr/lib/jvm/jdk-20/bin/java\n</code></pre>\n<hr />\n<pre><code>pc19@pc19-H110:~$ whereis java\njava: /usr/bin/java /usr/share/java /usr/lib/jvm/jdk-20/bin/java\n</code></pre>\n<hr />\n<pre><code>pc19@-H110:~$ sudo apt-get install ant\n</code></pre>\n<hr />\n<pre><code>pc19@-H110:~$ java -version\nopenjdk version &quot;11.0.20.1&quot; 2023-08-24\nOpenJDK Runtime Environment (build 11.0.20.1+1-post-Ubuntu-0ubuntu120.04)\nOpenJDK 64-Bit Server VM (build 11.0.20.1+1-post-Ubuntu-0ubuntu120.04, mixed mode, sharing)\n</code></pre>\n<p>When I install ANT using <code>sudo apt get install ant</code>, it is overring the Sun Java insallation with OpenJdk installation. Does anybody know the workaround for it?</p>\n<p>Why is ant installation overriding java? How do I stop it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":2,"creation_date":1332187989,"post_id":9777184,"comment_id":12444324,"body_markdown":"I have no idea what this question is about.","body":"I have no idea what this question is about."},{"owner":{"account_id":368385,"reputation":13915,"user_id":715171,"accept_rate":95,"display_name":"talnicolas"},"score":0,"creation_date":1332188148,"post_id":9777184,"comment_id":12444396,"body_markdown":"how can you expect `1` when `teaParty(5, 9)`?","body":"how can you expect <code>1</code> when <code>teaParty(5, 9)</code>?"},{"owner":{"account_id":145725,"reputation":6069,"user_id":355724,"accept_rate":86,"display_name":"VeeArr"},"score":0,"creation_date":1332188397,"post_id":9777184,"comment_id":12444483,"body_markdown":"I&#39;m not sure exactly what you&#39;re asking, but I am suspect of your second `if` statement. Only calls where exactly one of the values is 5 (but not both) will ever get past that statement, which doesn&#39;t seem to be your intent.","body":"I&#39;m not sure exactly what you&#39;re asking, but I am suspect of your second <code>if</code> statement. Only calls where exactly one of the values is 5 (but not both) will ever get past that statement, which doesn&#39;t seem to be your intent."},{"owner":{"account_id":1095084,"reputation":2277,"user_id":1088846,"accept_rate":100,"display_name":"Jochen"},"score":0,"creation_date":1332188474,"post_id":9777184,"comment_id":12444510,"body_markdown":"You should actually ask a question. That includes clearly describing what you are trying to achieve.","body":"You should actually ask a question. That includes clearly describing what you are trying to achieve."},{"owner":{"account_id":1336920,"reputation":21,"user_id":1279448,"display_name":"Chilley8121"},"score":0,"creation_date":1332188739,"post_id":9777184,"comment_id":12444613,"body_markdown":"I have added the question to the updated post.","body":"I have added the question to the updated post."},{"owner":{"account_id":309779,"reputation":1227,"user_id":622412,"accept_rate":79,"display_name":"Trasvi"},"score":0,"creation_date":1367989666,"post_id":9777184,"comment_id":23567322,"body_markdown":"What does the teaParty method have to do with the InOrderEquals question? They seem very unrelated to each other.","body":"What does the teaParty method have to do with the InOrderEquals question? They seem very unrelated to each other."}],"answers":[{"tags":[],"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332188464,"creation_date":1332188464,"answer_id":9777330,"question_id":9777184,"body_markdown":"    teaParty(20, 6) → 2 1   X       \r\n    teaParty(12, 6) → 2 1   X  \r\n\r\nThese two are firing as 1 because neither equals 5. They are triggered by\r\n\r\n    if(tea != 5 &amp;&amp; candy != 5)\r\n         return 1;\r\n\r\nAs for\r\n\r\n    teaParty(5, 9) → 1  2   X   \r\n\r\nThat is firing because it passes the &quot;five checks&quot; that return 1, and candy * 2 (which is 10) is greater than tea (which is 9), so it hits\r\n\r\n     if(candy * 2 &gt;= tea)\r\n         return 2;\r\n\r\nHowever, you don&#39;t really have a question to ask here. What is your objective? Can you provide more context? Perhaps we can use that to find the true error, not just the symptoms.","title":"Java CodingBat Logic teaParty?","body":"<pre><code>teaParty(20, 6) → 2 1   X       \nteaParty(12, 6) → 2 1   X  \n</code></pre>\n\n<p>These two are firing as 1 because neither equals 5. They are triggered by</p>\n\n<pre><code>if(tea != 5 &amp;&amp; candy != 5)\n     return 1;\n</code></pre>\n\n<p>As for</p>\n\n<pre><code>teaParty(5, 9) → 1  2   X   \n</code></pre>\n\n<p>That is firing because it passes the \"five checks\" that return 1, and candy * 2 (which is 10) is greater than tea (which is 9), so it hits</p>\n\n<pre><code> if(candy * 2 &gt;= tea)\n     return 2;\n</code></pre>\n\n<p>However, you don't really have a question to ask here. What is your objective? Can you provide more context? Perhaps we can use that to find the true error, not just the symptoms.</p>\n"},{"tags":[],"owner":{"account_id":1273026,"reputation":5676,"user_id":1228887,"display_name":"twain249"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332188512,"creation_date":1332188512,"answer_id":9777344,"question_id":9777184,"body_markdown":"I can explain why you are getting the output you are but I don&#39;t know what you want it to be.\r\n\r\n    if(tea != 5 &amp;&amp; candy != 5)\r\n     return 1;\r\n\r\nThis if statement means that if both tea and candy are not 5 then return 1. This is the 3rd if statement you have so to get here you need to pass these 2\r\n \r\n    if(tea &lt; 5 || candy &lt; 5)\r\n         return 0;\r\n    \r\n      if(tea == 5 &amp;&amp; candy == 5)\r\n         return 1;\r\n\r\nSo if tea and candy are both greater than or equal to 5 it will fail the first one and if either tea or candy isn&#39;t 5 it will fail the second.\r\n\r\nin these cases\r\n\r\n    teaParty(20, 6) → 2 1   X       \r\n    teaParty(12, 6) → 2 1   X \r\n    teaParty(10, 20) → 2 1   X      \r\n\r\ntea = 20, 12, 10 all greater than 5 and not 5\r\ncandy = 6, 20 all greater than 5 and not 5\r\nso you get the 3rd if\r\n\r\nthis case\r\n\r\n    teaParty(5, 9) → 1  2   X  \r\n\r\ntea = 5\r\ncandy = 9\r\n\r\nso you get the 4th if \r\n\r\n      if(candy * 2 &gt;= tea) (9*2 &gt;= 5) true\r\n         return 2;\r\n\r\n\r\n","title":"Java CodingBat Logic teaParty?","body":"<p>I can explain why you are getting the output you are but I don't know what you want it to be.</p>\n\n<pre><code>if(tea != 5 &amp;&amp; candy != 5)\n return 1;\n</code></pre>\n\n<p>This if statement means that if both tea and candy are not 5 then return 1. This is the 3rd if statement you have so to get here you need to pass these 2</p>\n\n<pre><code>if(tea &lt; 5 || candy &lt; 5)\n     return 0;\n\n  if(tea == 5 &amp;&amp; candy == 5)\n     return 1;\n</code></pre>\n\n<p>So if tea and candy are both greater than or equal to 5 it will fail the first one and if either tea or candy isn't 5 it will fail the second.</p>\n\n<p>in these cases</p>\n\n<pre><code>teaParty(20, 6) → 2 1   X       \nteaParty(12, 6) → 2 1   X \nteaParty(10, 20) → 2 1   X      \n</code></pre>\n\n<p>tea = 20, 12, 10 all greater than 5 and not 5\ncandy = 6, 20 all greater than 5 and not 5\nso you get the 3rd if</p>\n\n<p>this case</p>\n\n<pre><code>teaParty(5, 9) → 1  2   X  \n</code></pre>\n\n<p>tea = 5\ncandy = 9</p>\n\n<p>so you get the 4th if </p>\n\n<pre><code>  if(candy * 2 &gt;= tea) (9*2 &gt;= 5) true\n     return 2;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1433328,"reputation":11556,"user_id":1355221,"accept_rate":100,"display_name":"dansalmo"},"score":0,"creation_date":1387410404,"post_id":9777365,"comment_id":30951627,"body_markdown":"You should try your solution [here](http://codingbat.com/prob/p177181) and submit one that works.","body":"You should try your solution <a href=\"http://codingbat.com/prob/p177181\" rel=\"nofollow noreferrer\">here</a> and submit one that works."}],"tags":[],"owner":{"account_id":368385,"reputation":13915,"user_id":715171,"accept_rate":95,"display_name":"talnicolas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332188586,"creation_date":1332188586,"answer_id":9777365,"question_id":9777184,"body_markdown":"`if(tea != 5 &amp;&amp; candy != 5)` is executed before all your tests to check if one is the double (at least) of the other. Either remove that `if` statement or move it so you can get your double checks to work. Something like :\r\n\r\n    if(tea &lt; 5 || candy &lt; 5)\r\n        return 0;\r\n\r\n    if(tea == 5 &amp;&amp; candy == 5)\r\n        return 1;\r\n\r\n    if(tea != 5 &amp;&amp; candy != 5)\r\n    {\r\n        if((candy * 2 &gt;= tea) || (tea * 2 &gt;= candy))\r\n             return 2;\r\n\r\n        return 1;\r\n    }\r\n","title":"Java CodingBat Logic teaParty?","body":"<p><code>if(tea != 5 &amp;&amp; candy != 5)</code> is executed before all your tests to check if one is the double (at least) of the other. Either remove that <code>if</code> statement or move it so you can get your double checks to work. Something like :</p>\n\n<pre><code>if(tea &lt; 5 || candy &lt; 5)\n    return 0;\n\nif(tea == 5 &amp;&amp; candy == 5)\n    return 1;\n\nif(tea != 5 &amp;&amp; candy != 5)\n{\n    if((candy * 2 &gt;= tea) || (tea * 2 &gt;= candy))\n         return 2;\n\n    return 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1433328,"reputation":11556,"user_id":1355221,"accept_rate":100,"display_name":"dansalmo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387410938,"creation_date":1387410012,"answer_id":20670800,"question_id":9777184,"body_markdown":"You have some redundant and incorrect cases.  Here is a simpler version:\r\n\r\n    public int teaParty(int tea, int candy) {\r\n      if(tea &lt; 5 || candy &lt; 5)  // your first case was correct\r\n         return 0;\r\n    \r\n      if(candy * 2 &lt;= tea || tea * 2 &lt;= candy)  // must be &lt;= not &gt;=\r\n         return 2;\r\n         \r\n      return 1;  // after you handle the first two cases, just return 1\r\n    }","title":"Java CodingBat Logic teaParty?","body":"<p>You have some redundant and incorrect cases.  Here is a simpler version:</p>\n\n<pre><code>public int teaParty(int tea, int candy) {\n  if(tea &lt; 5 || candy &lt; 5)  // your first case was correct\n     return 0;\n\n  if(candy * 2 &lt;= tea || tea * 2 &lt;= candy)  // must be &lt;= not &gt;=\n     return 2;\n\n  return 1;  // after you handle the first two cases, just return 1\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1452062,"reputation":2999,"user_id":1368690,"accept_rate":98,"display_name":"hamena314"},"score":1,"creation_date":1462265056,"post_id":26589283,"comment_id":61552020,"body_markdown":"To be fair, the conditional operator `?` is practically the same as `if ... else`, so you are using `ifs`. Besides that, simplest and shortest solution, should be accepted answer.","body":"To be fair, the conditional operator <code>?</code> is practically the same as <code>if ... else</code>, so you are using <code>ifs</code>. Besides that, simplest and shortest solution, should be accepted answer."}],"tags":[],"owner":{"account_id":3157727,"reputation":2306,"user_id":2669716,"accept_rate":97,"display_name":"Anirudh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414418488,"creation_date":1414418488,"answer_id":26589283,"question_id":9777184,"body_markdown":"Below is the code if you would like a simple compact one line solution without using Ifs and in your code some conditions checked are redundant which might be causing the errors\r\n\r\n     public int teaParty(int tea, int candy)\r\n     {\r\n        return (tea &lt; 5 || candy &lt; 5) ? 0: (tea &gt;= 2 * candy || candy &gt;= 2 * tea) ? 2 : 1;\r\n     }","title":"Java CodingBat Logic teaParty?","body":"<p>Below is the code if you would like a simple compact one line solution without using Ifs and in your code some conditions checked are redundant which might be causing the errors</p>\n\n<pre><code> public int teaParty(int tea, int candy)\n {\n    return (tea &lt; 5 || candy &lt; 5) ? 0: (tea &gt;= 2 * candy || candy &gt;= 2 * tea) ? 2 : 1;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4010024,"reputation":31,"user_id":3303700,"display_name":"Shogo Warrior"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414660991,"creation_date":1414660991,"answer_id":26649160,"question_id":9777184,"body_markdown":"    public int teaParty(int tea, int candy) {\r\n      \r\n      if (tea&gt;=5 &amp;&amp; candy&gt;=5) {\r\n        if (tea&gt;=candy*2 || candy&gt;=tea*2) { return 2; }\r\n        else { return 1; }\r\n      }\r\n      return 0;\r\n    }\r\n\r\nHope this helps. Clearer logic.","title":"Java CodingBat Logic teaParty?","body":"<pre><code>public int teaParty(int tea, int candy) {\n\n  if (tea&gt;=5 &amp;&amp; candy&gt;=5) {\n    if (tea&gt;=candy*2 || candy&gt;=tea*2) { return 2; }\n    else { return 1; }\n  }\n  return 0;\n}\n</code></pre>\n\n<p>Hope this helps. Clearer logic.</p>\n"},{"comments":[{"owner":{"account_id":1898322,"reputation":13010,"user_id":2061133,"accept_rate":93,"display_name":"Murray Foxcroft"},"score":1,"creation_date":1470139616,"post_id":38718456,"comment_id":64816029,"body_markdown":"Please add a description to your answer.","body":"Please add a description to your answer."}],"tags":[],"owner":{"account_id":8860724,"reputation":1,"user_id":6617011,"display_name":"HT. Viet"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470135205,"creation_date":1470135205,"answer_id":38718456,"question_id":9777184,"body_markdown":"    public int teaParty(int tea, int candy) {\r\n      if (tea &gt;= 5 &amp;&amp; candy &gt;=5) {\r\n        if (tea / candy &gt;= 2 || candy / tea &gt;= 2) {\r\n          return 2;\r\n        }\r\n        return 1;\r\n      }\r\n      return 0;\r\n    }\r\n","title":"Java CodingBat Logic teaParty?","body":"<pre><code>public int teaParty(int tea, int candy) {\n  if (tea &gt;= 5 &amp;&amp; candy &gt;=5) {\n    if (tea / candy &gt;= 2 || candy / tea &gt;= 2) {\n      return 2;\n    }\n    return 1;\n  }\n  return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29468868,"reputation":1,"user_id":22581849,"display_name":"Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695010399,"creation_date":1694995881,"answer_id":77124021,"question_id":9777184,"body_markdown":"    if ( tea &lt; 5 || candy &lt; 5 )\r\n        return 0;\r\n    if ( tea &gt;= candy * 2 || candy &gt;= tea * 2 )\r\n        return 2;\r\n    if ( tea &gt;= 5 &amp;&amp; candy &gt;= 5 )\r\n        return 1;\r\n    else return 0;","title":"Java CodingBat Logic teaParty?","body":"<pre><code>if ( tea &lt; 5 || candy &lt; 5 )\n    return 0;\nif ( tea &gt;= candy * 2 || candy &gt;= tea * 2 )\n    return 2;\nif ( tea &gt;= 5 &amp;&amp; candy &gt;= 5 )\n    return 1;\nelse return 0;\n</code></pre>\n"}],"owner":{"account_id":1336920,"reputation":21,"user_id":1279448,"display_name":"Chilley8121"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5091,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":8,"score":0,"last_activity_date":1695010399,"creation_date":1332187916,"question_id":9777184,"body_markdown":"I am obviously missing an &quot;if&quot; statement but I am not sure how to cover if tea or candy is not double of each other: \r\n\r\n[Java &gt; Logic-1 &gt; teaParty][1]\r\n\r\nWe are having a party with amounts of tea and candy. Return the int outcome of the party encoded as 0=bad, 1=good, or 2=great. A party is good (1) if both tea and candy are at least 5. However, if either tea or candy is at least double the amount of the other one, the party is great (2). However, in all cases, if either tea or candy is less than 5, the party is always bad (0). \r\n\r\n    teaParty(6, 8) → 1\r\n    teaParty(3, 8) → 0\r\n    teaParty(20, 6) → 2\r\n\r\nHere is the code I have so far:\r\n\r\n    public int teaParty(int tea, int candy) {\r\n    \r\n      if(tea &lt; 5 || candy &lt; 5)\r\n         return 0;\r\n      \r\n      if(tea == 5 &amp;&amp; candy == 5)\r\n         return 1;\r\n         \r\n      if(tea != 5 &amp;&amp; candy != 5)\r\n         return 1;\r\n         \r\n      if(candy * 2 &gt;= tea)\r\n         return 2;\r\n         \r\n      if(tea * 2 &gt;= candy)\r\n         return 2;\r\n        \r\n      \r\n    return 0;\r\n    }\r\n\r\nThese are the errors I am receiving:\r\n\r\n    Expected\tThis Run\t\t\r\n    teaParty(6, 8) → 1\t1\tOK\t    \r\n    teaParty(3, 8) → 0\t0\tOK\t    \r\n    teaParty(20, 6) → 2\t1\tX\t    \r\n    teaParty(12, 6) → 2\t1\tX\t    \r\n    teaParty(11, 6) → 1\t1\tOK\t    \r\n    teaParty(11, 4) → 0\t0\tOK\t    \r\n    teaParty(4, 5) → 0\t0\tOK\t    \r\n    teaParty(5, 5) → 1\t1\tOK\t    \r\n    teaParty(6, 6) → 1\t1\tOK\t    \r\n    teaParty(5, 10) → 2\t2\tOK\t    \r\n    teaParty(5, 9) → 1\t2\tX\t    \r\n    teaParty(10, 4) → 0\t0\tOK\t    \r\n    teaParty(10, 20) → 2\t1\tX\t    \r\n    other tests\r\n    X\t    \r\n\r\n\r\n  [1]: http://codingbat.com/prob/p177181","title":"Java CodingBat Logic teaParty?","body":"<p>I am obviously missing an \"if\" statement but I am not sure how to cover if tea or candy is not double of each other: </p>\n\n<p><a href=\"http://codingbat.com/prob/p177181\" rel=\"nofollow\">Java > Logic-1 > teaParty</a></p>\n\n<p>We are having a party with amounts of tea and candy. Return the int outcome of the party encoded as 0=bad, 1=good, or 2=great. A party is good (1) if both tea and candy are at least 5. However, if either tea or candy is at least double the amount of the other one, the party is great (2). However, in all cases, if either tea or candy is less than 5, the party is always bad (0). </p>\n\n<pre><code>teaParty(6, 8) → 1\nteaParty(3, 8) → 0\nteaParty(20, 6) → 2\n</code></pre>\n\n<p>Here is the code I have so far:</p>\n\n<pre><code>public int teaParty(int tea, int candy) {\n\n  if(tea &lt; 5 || candy &lt; 5)\n     return 0;\n\n  if(tea == 5 &amp;&amp; candy == 5)\n     return 1;\n\n  if(tea != 5 &amp;&amp; candy != 5)\n     return 1;\n\n  if(candy * 2 &gt;= tea)\n     return 2;\n\n  if(tea * 2 &gt;= candy)\n     return 2;\n\n\nreturn 0;\n}\n</code></pre>\n\n<p>These are the errors I am receiving:</p>\n\n<pre><code>Expected    This Run        \nteaParty(6, 8) → 1  1   OK      \nteaParty(3, 8) → 0  0   OK      \nteaParty(20, 6) → 2 1   X       \nteaParty(12, 6) → 2 1   X       \nteaParty(11, 6) → 1 1   OK      \nteaParty(11, 4) → 0 0   OK      \nteaParty(4, 5) → 0  0   OK      \nteaParty(5, 5) → 1  1   OK      \nteaParty(6, 6) → 1  1   OK      \nteaParty(5, 10) → 2 2   OK      \nteaParty(5, 9) → 1  2   X       \nteaParty(10, 4) → 0 0   OK      \nteaParty(10, 20) → 2    1   X       \nother tests\nX       \n</code></pre>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":1,"creation_date":1406512816,"post_id":24987535,"comment_id":38847046,"body_markdown":"Is your document using UTF-8?","body":"Is your document using UTF-8?"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":2,"creation_date":1406513116,"post_id":24987535,"comment_id":38847085,"body_markdown":"I&#39;m guessing there was a bad byte in a UTF8 sequence.","body":"I&#39;m guessing there was a bad byte in a UTF8 sequence."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1406513161,"post_id":24987535,"comment_id":38847094,"body_markdown":"(You can Google UTF8, you know.)","body":"(You can Google UTF8, you know.)"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1406515651,"post_id":24987535,"comment_id":38847518,"body_markdown":"do you check the return code to see if you could have gotten an error?","body":"do you check the return code to see if you could have gotten an error?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1621724990,"post_id":24987535,"comment_id":119582988,"body_markdown":"&quot;bad UTF8&quot; is also referred to as &quot;windows UTF8&quot; or &quot;UTF8+BOM&quot; ;)","body":"&quot;bad UTF8&quot; is also referred to as &quot;windows UTF8&quot; or &quot;UTF8+BOM&quot; ;)"}],"answers":[{"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1406520436,"post_id":24988048,"comment_id":38848485,"body_markdown":"if you download the feed link in the code, it does claim to be utf-8.","body":"if you download the feed link in the code, it does claim to be utf-8."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1406520600,"post_id":24988048,"comment_id":38848512,"body_markdown":"also, you can just specfy the encoding on the InputSource instead of doing the stream wrapping yourself.","body":"also, you can just specfy the encoding on the InputSource instead of doing the stream wrapping yourself."},{"owner":{"account_id":2662945,"reputation":43,"user_id":2302190,"accept_rate":75,"display_name":"Ufuk Garip"},"score":0,"creation_date":1406547872,"post_id":24988048,"comment_id":38859705,"body_markdown":"how can ı determine the encoding type of the xml document?","body":"how can ı determine the encoding type of the xml document?"},{"owner":{"account_id":2662945,"reputation":43,"user_id":2302190,"accept_rate":75,"display_name":"Ufuk Garip"},"score":0,"creation_date":1406579607,"post_id":24988048,"comment_id":38877522,"body_markdown":"Firstly,thanks for your interest,I searched about race condition and learned that is a problem with threads but ı use one thread which is the main thread for parsing,and ı dont understand &quot;You may have to file a bug with Oracle.&quot; how can ı do that? thanks already..","body":"Firstly,thanks for your interest,I searched about race condition and learned that is a problem with threads but ı use one thread which is the main thread for parsing,and ı dont understand &quot;You may have to file a bug with Oracle.&quot; how can ı do that? thanks already.."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1406579709,"post_id":24988048,"comment_id":38877570,"body_markdown":"Try http://bugs.java.com/ - Your code, with references to the `Item` class removed, should be sufficient for Oracle to reproduce the problem.","body":"Try <a href=\"http://bugs.java.com/\" rel=\"nofollow noreferrer\">bugs.java.com</a> - Your code, with references to the <code>Item</code> class removed, should be sufficient for Oracle to reproduce the problem."}],"tags":[],"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406564706,"creation_date":1406518039,"answer_id":24988048,"question_id":24987535,"body_markdown":"The most likely case is that you are attempting to parse, as UTF-8, a document that is encoded with some other character set such as ISO-8859-1.  The parser encountered an ISO-8859-1 character with a value that is not allowed to occur by itself in UTF-8.\r\n\r\nTo solve the problem you will need to determine the _actual_ encoding of the document and then create your own `InputStreamReader` from the return value of `connection.getInputStream()`, specifying the correct encoding. Then create an `InputSource` from the reader and pass _that_ to `docBuilder.parse()`.\r\n\r\nFurther Research:\r\n\r\nI ran your code in Eclipse (JDK 7) and was able to reproduce the error.  I then set Exception breakpoints in Eclipse on both `MalformedByteSequenceException` exceptions, and it DID NOT fail.  Tracing into the code, I was able to see, one time only, the invalid characters in the input buffer.  This indicates to me there&#39;s a race condition bug somewhere in the Xerces parser.\r\n\r\nYou may have to file a bug with Oracle.","title":"MalformedByteSequenceException Invalid byte 1 of 1-byte UTF-8 sequence","body":"<p>The most likely case is that you are attempting to parse, as UTF-8, a document that is encoded with some other character set such as ISO-8859-1.  The parser encountered an ISO-8859-1 character with a value that is not allowed to occur by itself in UTF-8.</p>\n\n<p>To solve the problem you will need to determine the <em>actual</em> encoding of the document and then create your own <code>InputStreamReader</code> from the return value of <code>connection.getInputStream()</code>, specifying the correct encoding. Then create an <code>InputSource</code> from the reader and pass <em>that</em> to <code>docBuilder.parse()</code>.</p>\n\n<p>Further Research:</p>\n\n<p>I ran your code in Eclipse (JDK 7) and was able to reproduce the error.  I then set Exception breakpoints in Eclipse on both <code>MalformedByteSequenceException</code> exceptions, and it DID NOT fail.  Tracing into the code, I was able to see, one time only, the invalid characters in the input buffer.  This indicates to me there's a race condition bug somewhere in the Xerces parser.</p>\n\n<p>You may have to file a bug with Oracle.</p>\n"}],"owner":{"account_id":2662945,"reputation":43,"user_id":2302190,"accept_rate":75,"display_name":"Ufuk Garip"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8190,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1695010036,"creation_date":1406512670,"question_id":24987535,"body_markdown":"I am coding an *XML* parser class and when I run it sometimes it works fine but another time it doesn&#39;t work and throws this exception:\r\n\r\n&gt; MalformedByteSequenceException Invalid byte 1 of 1-byte UTF-8 sequence\r\n\r\nCan anyone provide some information as to why?\r\n\r\nHere is my code:\r\n\r\n    package TRT;\r\n    \r\n    \r\n    \r\n    import java.math.BigInteger;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    \r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    \r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Element;\r\n    import org.w3c.dom.Node;\r\n    import org.w3c.dom.NodeList;\r\n    \r\n    public class Gundem {\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\tGundem gundem=new Gundem();\r\n    \t\ttry {\r\n    \t\t\tURL url=new URL(&quot;http://www.trt.net.tr/rss/gundem.rss&quot;);\r\n    \t\t\tURLConnection connection=url.openConnection();\r\n    \t\t\t\r\n    \t\t\tDocumentBuilderFactory builderFactory=DocumentBuilderFactory.newInstance();\r\n    \t\t\tDocumentBuilder docBuilder=builderFactory.newDocumentBuilder();\r\n    \t\t\tDocument document=docBuilder.parse(connection.getInputStream());\r\n    \t\t\t\r\n    \t\t\tElement element=document.getDocumentElement();\r\n    \t\t\t\r\n    \t\t\tNode node=(Node)element.getChildNodes();\r\n    \t\t\tSystem.out.println(node.getNodeName());\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tNodeList nodeList=node.getChildNodes();\r\n    \t\t\tNode channelNode=(Node)nodeList.item(0);\r\n    \t\t\tSystem.out.println(channelNode.getNodeName());\r\n    \t\t\t\r\n    \t\t\tNodeList childNodeListOfChannelNode=channelNode.getChildNodes();\r\n    \t\t\t\r\n    \t\t\tfor(int i=0;i&lt;childNodeListOfChannelNode.getLength();i++){\r\n    \t\t\t\tNode childNodesOfChannelNode=(Node)childNodeListOfChannelNode.item(i);\r\n    \t\t\t\tSystem.out.println(childNodesOfChannelNode.getNodeName());\r\n    \t\t\t\t\r\n    \t\t\t\tif(childNodesOfChannelNode.getNodeName().equals(Constants.ITEM)){\r\n    \t\t\t\t\tItem item=new Item();\r\n    \t\t\t\t\tNodeList itemList=childNodesOfChannelNode.getChildNodes();\r\n    \t\t\t\t\tfor(int j=0;j&lt;itemList.getLength();j++){\r\n    \t\t\t\t\t\tNode childNodeOfItem=itemList.item(j);\r\n    \t\t\t\t\t\tif(childNodeOfItem.getNodeName().equals(Constants.TITLE)){\r\n    \t\t\t\t\t\t\titem.setTitle(childNodeOfItem.getTextContent());\r\n    \t\t\t\t\t\t\tSystem.out.println(item.getTitle());\r\n    \t\t\t\t\t\t\tSystem.out.println(gundem.dumpingInputAsHex(item.getTitle()));\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\telse       if(childNodeOfItem.getNodeName().equals(Constants.DESCRIPTION)){\r\n    \t\t\t\t\t\t\titem.setDescription(childNodeOfItem.getTextContent());\r\n    \t\t\t\t\t\t\tSystem.out.println(item.getDescription());\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \r\n        \r\n    \t\tSystem.exit(0);  //\tthis line is for solving that problem; JDWP Unable to get JNI 1.2 environment, jvm-&gt;GetEnv() return code = -2\r\n    \r\n    \t\t\r\n    \t\t}\r\n    \t\r\n    \tpublic String dumpingInputAsHex(String input){\r\n    \t\treturn String.format(&quot;%40x&quot;,new BigInteger(1,input.getBytes()));\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"MalformedByteSequenceException Invalid byte 1 of 1-byte UTF-8 sequence","body":"<p>I am coding an <em>XML</em> parser class and when I run it sometimes it works fine but another time it doesn't work and throws this exception:</p>\n\n<blockquote>\n  <p>MalformedByteSequenceException Invalid byte 1 of 1-byte UTF-8 sequence</p>\n</blockquote>\n\n<p>Can anyone provide some information as to why?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>package TRT;\n\n\n\nimport java.math.BigInteger;\nimport java.net.URL;\nimport java.net.URLConnection;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\n\npublic class Gundem {\n\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        Gundem gundem=new Gundem();\n        try {\n            URL url=new URL(\"http://www.trt.net.tr/rss/gundem.rss\");\n            URLConnection connection=url.openConnection();\n\n            DocumentBuilderFactory builderFactory=DocumentBuilderFactory.newInstance();\n            DocumentBuilder docBuilder=builderFactory.newDocumentBuilder();\n            Document document=docBuilder.parse(connection.getInputStream());\n\n            Element element=document.getDocumentElement();\n\n            Node node=(Node)element.getChildNodes();\n            System.out.println(node.getNodeName());\n\n\n            NodeList nodeList=node.getChildNodes();\n            Node channelNode=(Node)nodeList.item(0);\n            System.out.println(channelNode.getNodeName());\n\n            NodeList childNodeListOfChannelNode=channelNode.getChildNodes();\n\n            for(int i=0;i&lt;childNodeListOfChannelNode.getLength();i++){\n                Node childNodesOfChannelNode=(Node)childNodeListOfChannelNode.item(i);\n                System.out.println(childNodesOfChannelNode.getNodeName());\n\n                if(childNodesOfChannelNode.getNodeName().equals(Constants.ITEM)){\n                    Item item=new Item();\n                    NodeList itemList=childNodesOfChannelNode.getChildNodes();\n                    for(int j=0;j&lt;itemList.getLength();j++){\n                        Node childNodeOfItem=itemList.item(j);\n                        if(childNodeOfItem.getNodeName().equals(Constants.TITLE)){\n                            item.setTitle(childNodeOfItem.getTextContent());\n                            System.out.println(item.getTitle());\n                            System.out.println(gundem.dumpingInputAsHex(item.getTitle()));\n                        }\n                        else       if(childNodeOfItem.getNodeName().equals(Constants.DESCRIPTION)){\n                            item.setDescription(childNodeOfItem.getTextContent());\n                            System.out.println(item.getDescription());\n                        }\n\n                    }\n\n                }\n\n            }\n\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n\n\n        System.exit(0);  // this line is for solving that problem; JDWP Unable to get JNI 1.2 environment, jvm-&gt;GetEnv() return code = -2\n\n\n        }\n\n    public String dumpingInputAsHex(String input){\n        return String.format(\"%40x\",new BigInteger(1,input.getBytes()));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","graalvm","graalvm-native-image","spring-native"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1694990308,"post_id":77123837,"comment_id":135960561,"body_markdown":"A quick search resulted in, for example [this file (`github.com`)](https://github.com/spring-projects/spring-framework/blob/HEAD/spring-core/src/main/java/org/springframework/aot/nativex/feature/PreComputeFieldFeature.java#L23) that uses `org.graalvm.nativeimage.hosted.Feature`.","body":"A quick search resulted in, for example <a href=\"https://github.com/spring-projects/spring-framework/blob/HEAD/spring-core/src/main/java/org/springframework/aot/nativex/feature/PreComputeFieldFeature.java#L23\" rel=\"nofollow noreferrer\">this file (<code>github.com</code>)</a> that uses <code>org.graalvm.nativeimage.hosted.Feature</code>."}],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695009774,"creation_date":1694989882,"question_id":77123837,"body_markdown":"When I search through Spring&#39;s entire repository, there are pretty much no references to [`ImageSingletons`](https://www.graalvm.org/sdk/javadoc/org/graalvm/nativeimage/ImageSingletons.html), [`Feature`](https://www.graalvm.org/sdk/javadoc/org/graalvm/nativeimage/hosted/Feature.html), \r\n[`@AutomaticFeature`](https://www.graalvm.org/sdk/javadoc/com/oracle/svm/core/annotate/AutomaticFeature.html), or anything else I&#39;d expect to see from something targeting GraalVM.\r\n\r\nSo how does Spring AOT actually work? Can I still add `Feature`s myself? Can I expect Graal&#39;s APIs like `ImageSingletons` to work?","title":"How is Spring AOT implemented?","body":"<p>When I search through Spring's entire repository, there are pretty much no references to <a href=\"https://www.graalvm.org/sdk/javadoc/org/graalvm/nativeimage/ImageSingletons.html\" rel=\"nofollow noreferrer\"><code>ImageSingletons</code></a>, <a href=\"https://www.graalvm.org/sdk/javadoc/org/graalvm/nativeimage/hosted/Feature.html\" rel=\"nofollow noreferrer\"><code>Feature</code></a>,\n<a href=\"https://www.graalvm.org/sdk/javadoc/com/oracle/svm/core/annotate/AutomaticFeature.html\" rel=\"nofollow noreferrer\"><code>@AutomaticFeature</code></a>, or anything else I'd expect to see from something targeting GraalVM.</p>\n<p>So how does Spring AOT actually work? Can I still add <code>Feature</code>s myself? Can I expect Graal's APIs like <code>ImageSingletons</code> to work?</p>\n"},{"tags":["java","groovy","spock"],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694671910,"creation_date":1694671910,"answer_id":77102200,"question_id":77102101,"body_markdown":"As usual, after some try and error (and googling and checking out github spock issues) I have found satisfying solution.\r\n\r\n\r\n    then: \r\n       1 * this.&quot;$handler&quot;.handle(_)\r\n       0 * _ //no other calls\r\n    where:\r\n    input | handler\r\n    &quot;A&quot; | &quot;ahandler&quot;\r\n    &quot;B&quot; | &quot;bhandler&quot;","title":"How to specify dynamic invocation target assertion in Spock","body":"<p>As usual, after some try and error (and googling and checking out github spock issues) I have found satisfying solution.</p>\n<pre><code>then: \n   1 * this.&quot;$handler&quot;.handle(_)\n   0 * _ //no other calls\nwhere:\ninput | handler\n&quot;A&quot; | &quot;ahandler&quot;\n&quot;B&quot; | &quot;bhandler&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1694758400,"post_id":77109068,"comment_id":135935828,"body_markdown":"hander-&gt;handle obvious typo, I was &quot;coding&quot; directly in SO question form.","body":"hander-&gt;handle obvious typo, I was &quot;coding&quot; directly in SO question form."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1694758570,"post_id":77109068,"comment_id":135935853,"body_markdown":"Allright, I can see what you did there - define map of handlers and cherrypick from that map by the key. Slick","body":"Allright, I can see what you did there - define map of handlers and cherrypick from that map by the key. Slick"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1694779117,"post_id":77109068,"comment_id":135939459,"body_markdown":"If it was a simple typo, why did the method names in the class under test and the test exactly correspond for both handler classes, before you edited the question a few hours ago? It looked as if it was on purpose, not coincidence. Anyway, programming in Stack Overflow is always a bad idea. Someone with your reputation should know better than to post questions with code untested locally. Back to the topic at hand: The question was in fact interesting, and I do hope that my answer sheds some light on possible alternatives to your approach. &#128578;","body":"If it was a simple typo, why did the method names in the class under test and the test exactly correspond for both handler classes, before you edited the question a few hours ago? It looked as if it was on purpose, not coincidence. Anyway, programming in Stack Overflow is always a bad idea. Someone with your reputation should know better than to post questions with code untested locally. Back to the topic at hand: The question was in fact interesting, and I do hope that my answer sheds some light on possible alternatives to your approach. 🙂"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1694779953,"post_id":77109068,"comment_id":135939610,"body_markdown":"As I said, it was a typo as it were supposed to have common interface. The point of the question was how to &quot;select&quot; the inocation target. And yep Iv corrected it since you have pointed out the mistake. Shouldnt I do it?","body":"As I said, it was a typo as it were supposed to have common interface. The point of the question was how to &quot;select&quot; the inocation target. And yep Iv corrected it since you have pointed out the mistake. Shouldnt I do it?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1694780146,"post_id":77109068,"comment_id":135939642,"body_markdown":"If you put it together with the solution I have came up with you will se that method name is constant - and such was my intetnion here.","body":"If you put it together with the solution I have came up with you will se that method name is constant - and such was my intetnion here."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1694780286,"post_id":77109068,"comment_id":135939674,"body_markdown":"Ofc typo is on me, sorry for the confusion that it caused.","body":"Ofc typo is on me, sorry for the confusion that it caused."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1695009274,"post_id":77109068,"comment_id":135961794,"body_markdown":"Please note my update with two cosmetic variations on my solution. It is mostly a not to myself for future use, but maybe it helps others, too.","body":"Please note my update with two cosmetic variations on my solution. It is mostly a not to myself for future use, but maybe it helps others, too."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695009588,"creation_date":1694739209,"answer_id":77109068,"question_id":77102101,"body_markdown":"While your own solution works after fixing your faulty and fragmentary sample code, I do not think that this over-engineered solution is very nice.\r\n\r\n## Antonio&#39;s solution\r\n\r\nFirst, your original code assumes that you have methods `AHandler.handle(String)`, but `BHandler.handler(String)` with an &quot;r&quot; at the end of the method name. The Spock spec assumes the same. Then, in your own answer you switched to a uniform `handle(String)` method for both handler classes, which probably makes more sense, but would have been impossible to solve like that, given your question.\r\n\r\nIt is also quite ugly that we need the explicit leading `this.` in `this.&quot;$handler&quot;.handle(_)`. This solution also breaks down, as soon as you move the mock definitions from fields to local variables in the feature method. Therefore, the solution is brittle. Anyway, here is an [MCVE](https://stackoverflow.com/help/mcve) reproducing both your problem and your solution:\r\n\r\n```java\r\nclass AHandler {\r\n  void handle(String s) {}\r\n}\r\n```\r\n\r\n```java\r\nclass BHandler {\r\n  void handle(String s) {}\r\n}\r\n```\r\n\r\n```java\r\nclass Foo {\r\n  private AHandler aHandler\r\n  private BHandler bHandler\r\n\r\n  Foo(AHandler aHandler, BHandler bHandler) {\r\n    this.aHandler = aHandler\r\n    this.bHandler = bHandler\r\n  }\r\n\r\n  void handle(String what) {\r\n    if (what.equals(&quot;A&quot;))\r\n      aHandler.handle(what)\r\n    else if (what.equals(&quot;B&quot;))\r\n      bHandler.handle(what)\r\n    else\r\n      throw new RuntimeException()\r\n  }\r\n}\r\n```\r\n\r\n```java\r\nimport spock.lang.Specification\r\n\r\nclass DynamicInvocationTargetTest extends Specification {\r\n  def aHandler = Mock(AHandler)\r\n  def bHandler = Mock(BHandler)\r\n  def service = new Foo(aHandler, bHandler)\r\n\r\n  def test() {\r\n    when:\r\n    service.handle(input)\r\n\r\n    then:\r\n    1 * this.&quot;$handler&quot;.handle(input)\r\n    0 * _  // no other calls\r\n\r\n    where:\r\n    input | handler\r\n    &#39;A&#39;   | &#39;aHandler&#39;\r\n    &#39;B&#39;   | &#39;bHandler&#39;\r\n  }\r\n}\r\n```\r\n\r\n## Somewhat more elegant solution\r\n\r\nInstead, you could do this and even use local variables for mocks:\r\n\r\n```java\r\nimport spock.lang.Specification\r\n\r\nclass DynamicInvocationTargetTest extends Specification {\r\n  def test() {\r\n    given:\r\n    def handlers = [ A: Mock(AHandler), B: Mock(BHandler)]\r\n    def service = new Foo(handlers[&#39;A&#39;], handlers[&#39;B&#39;])\r\n\r\n    when:\r\n    service.handle(input)\r\n\r\n    then:\r\n    1 * handlers[input].handle(input)\r\n    0 * _  // no other calls\r\n\r\n    where:\r\n    input &lt;&lt; [&#39;A&#39;, &#39;B&#39;]\r\n  }\r\n}\r\n```\r\n\r\nOr, assuming that both handler classes implement a common interface, we can devise a more type-safe solution:\r\n\r\n```java\r\ninterface MyHandler {\r\n  void handle(String s)\r\n}\r\n```\r\n\r\n```java\r\nclass AHandler implements MyHandler {\r\n  @Override\r\n  void handle(String s) {}\r\n}\r\n```\r\n\r\n```java\r\nclass BHandler {\r\n  @Override\r\n  void handle(String s) {}\r\n}\r\n```\r\n\r\nNow, my IDE automatically interprets `def handlers` as `Map&lt;String, MyHandler&gt; handlers`, and the warning for the unknown invocation target for `.handle(input)` call goes away.\r\n\r\nOf course, if the field definitions in `Foo` would have type `MyHandler` instead of `AHandler` and `BHandler`, some more warnings could be removed from the Spock spec, but that is out of scope, and maybe you need the exact types there anyway. I am aware of the fact that your code is just sample code. I just wanted to point out ways to solve this problem without parsing strings to resolve method names.\r\n\r\nTry it in the [Groovy Web Console](https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJytU01P4zAQvedXjLg0WUWh5YKEuohG7Go5VEjADVXIdSaphWMH201BqP99bSdOCt3lsNqb7ffefLwZN4Q-kwqhwExTta2faqINqkwbC8gWVcnlLns5P59Nz2bTWRSxupHKgG4kfc44EVV23yBlJaPEMCmiiHKiNVy_CVIzeiNa2QEPRFVoHlAbwFeDotDwQQjvEdgqSjCWEif-ClCxFsWFPzpsQ0TBUWn4Do-wuIClLSJe_OpekxTy_ikPTysvPT1dkmZ-bxQTVQrLtx69_Nd4rhSNqmUUrVLgDn5KGYdgj5PFZJXCeM0nqyTywt0mdNPLs44VM9FsTU8yA2kG38YwnrL6JHCsqWU9uSZBSJBWrYASzvWQUmEXzmtgPgdXYQquLvu-j_ZhaLYL73ujWEsMQnACSH84wIIlsA6YBZ0NR6L0mBvGazZMZ4FnrTzI04PrEVyP4N4layUrenvibra2WWJCbFZC7O4ZvmwJ1_HJ4iTpDIMhT3DT6zyGXOOxNB-l6y-lPclslNz5xbjbCsNq_PFKsXFrHifBcibsPyuJXaFhIX3lf2hLJ-OMBnvtR-RYozD6U4CrW_ttFSvwb8Hg_WDm-f-K9xvoeVw1).\r\n\r\n## Cosmetic variations on my solution\r\n\r\n**Update:** I revisited this code, because I was toying with another problem, wondering if we could do without the map and without repeating the `&#39;A&#39;` and `&#39;B&#39;` literals all over the place in a DRY way. This is one of them:\r\n\r\n```java\r\nclass DynamicInvocationTargetTest extends Specification {\r\n  def test() {\r\n    given:\r\n    def handlers = [Mock(AHandler), Mock(BHandler)]\r\n    def service = new Foo(*handlers)\r\n\r\n    when:\r\n    service.handle(input)\r\n\r\n    then:\r\n    1 * handlers[index].handle(input)\r\n    0 * _  // no other calls\r\n\r\n    where:\r\n    index | input\r\n    0     | &#39;A&#39;\r\n    1     | &#39;B&#39;\r\n  }\r\n}\r\n```\r\n\r\nSomewhat more esoteric, avoiding the `index` data variable and exploiting the Spock 2.0 `iterationIndex`. I am not recommending this variant, merely mentioning it for completeness&#39;s sake:\r\n\r\n```java\r\nclass DynamicInvocationTargetTest extends Specification {\r\n  def test() {\r\n    given:\r\n    def handlers = [Mock(AHandler), Mock(BHandler)]\r\n    def service = new Foo(*handlers)\r\n\r\n    when:\r\n    service.handle(input)\r\n\r\n    then:\r\n    1 * handlers[specificationContext.currentIteration.iterationIndex].handle(input)\r\n    0 * _  // no other calls\r\n\r\n    where:\r\n    input &lt;&lt; [&#39;A&#39;, &#39;B&#39;]\r\n  }\r\n}\r\n```\r\n\r\nPlease note how both solutions use the spread operator for calling the constructor `new Foo(*handlers)`. Now that we have an ordered list of mocks rather than an unordered map, using the spread operator is safe.","title":"How to specify dynamic invocation target assertion in Spock","body":"<p>While your own solution works after fixing your faulty and fragmentary sample code, I do not think that this over-engineered solution is very nice.</p>\n<h2>Antonio's solution</h2>\n<p>First, your original code assumes that you have methods <code>AHandler.handle(String)</code>, but <code>BHandler.handler(String)</code> with an &quot;r&quot; at the end of the method name. The Spock spec assumes the same. Then, in your own answer you switched to a uniform <code>handle(String)</code> method for both handler classes, which probably makes more sense, but would have been impossible to solve like that, given your question.</p>\n<p>It is also quite ugly that we need the explicit leading <code>this.</code> in <code>this.&quot;$handler&quot;.handle(_)</code>. This solution also breaks down, as soon as you move the mock definitions from fields to local variables in the feature method. Therefore, the solution is brittle. Anyway, here is an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> reproducing both your problem and your solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class AHandler {\n  void handle(String s) {}\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class BHandler {\n  void handle(String s) {}\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo {\n  private AHandler aHandler\n  private BHandler bHandler\n\n  Foo(AHandler aHandler, BHandler bHandler) {\n    this.aHandler = aHandler\n    this.bHandler = bHandler\n  }\n\n  void handle(String what) {\n    if (what.equals(&quot;A&quot;))\n      aHandler.handle(what)\n    else if (what.equals(&quot;B&quot;))\n      bHandler.handle(what)\n    else\n      throw new RuntimeException()\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import spock.lang.Specification\n\nclass DynamicInvocationTargetTest extends Specification {\n  def aHandler = Mock(AHandler)\n  def bHandler = Mock(BHandler)\n  def service = new Foo(aHandler, bHandler)\n\n  def test() {\n    when:\n    service.handle(input)\n\n    then:\n    1 * this.&quot;$handler&quot;.handle(input)\n    0 * _  // no other calls\n\n    where:\n    input | handler\n    'A'   | 'aHandler'\n    'B'   | 'bHandler'\n  }\n}\n</code></pre>\n<h2>Somewhat more elegant solution</h2>\n<p>Instead, you could do this and even use local variables for mocks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import spock.lang.Specification\n\nclass DynamicInvocationTargetTest extends Specification {\n  def test() {\n    given:\n    def handlers = [ A: Mock(AHandler), B: Mock(BHandler)]\n    def service = new Foo(handlers['A'], handlers['B'])\n\n    when:\n    service.handle(input)\n\n    then:\n    1 * handlers[input].handle(input)\n    0 * _  // no other calls\n\n    where:\n    input &lt;&lt; ['A', 'B']\n  }\n}\n</code></pre>\n<p>Or, assuming that both handler classes implement a common interface, we can devise a more type-safe solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface MyHandler {\n  void handle(String s)\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class AHandler implements MyHandler {\n  @Override\n  void handle(String s) {}\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class BHandler {\n  @Override\n  void handle(String s) {}\n}\n</code></pre>\n<p>Now, my IDE automatically interprets <code>def handlers</code> as <code>Map&lt;String, MyHandler&gt; handlers</code>, and the warning for the unknown invocation target for <code>.handle(input)</code> call goes away.</p>\n<p>Of course, if the field definitions in <code>Foo</code> would have type <code>MyHandler</code> instead of <code>AHandler</code> and <code>BHandler</code>, some more warnings could be removed from the Spock spec, but that is out of scope, and maybe you need the exact types there anyway. I am aware of the fact that your code is just sample code. I just wanted to point out ways to solve this problem without parsing strings to resolve method names.</p>\n<p>Try it in the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJytU01P4zAQvedXjLg0WUWh5YKEuohG7Go5VEjADVXIdSaphWMH201BqP99bSdOCt3lsNqb7ffefLwZN4Q-kwqhwExTta2faqINqkwbC8gWVcnlLns5P59Nz2bTWRSxupHKgG4kfc44EVV23yBlJaPEMCmiiHKiNVy_CVIzeiNa2QEPRFVoHlAbwFeDotDwQQjvEdgqSjCWEif-ClCxFsWFPzpsQ0TBUWn4Do-wuIClLSJe_OpekxTy_ikPTysvPT1dkmZ-bxQTVQrLtx69_Nd4rhSNqmUUrVLgDn5KGYdgj5PFZJXCeM0nqyTywt0mdNPLs44VM9FsTU8yA2kG38YwnrL6JHCsqWU9uSZBSJBWrYASzvWQUmEXzmtgPgdXYQquLvu-j_ZhaLYL73ujWEsMQnACSH84wIIlsA6YBZ0NR6L0mBvGazZMZ4FnrTzI04PrEVyP4N4layUrenvibra2WWJCbFZC7O4ZvmwJ1_HJ4iTpDIMhT3DT6zyGXOOxNB-l6y-lPclslNz5xbjbCsNq_PFKsXFrHifBcibsPyuJXaFhIX3lf2hLJ-OMBnvtR-RYozD6U4CrW_ttFSvwb8Hg_WDm-f-K9xvoeVw1\" rel=\"nofollow noreferrer\">Groovy Web Console</a>.</p>\n<h2>Cosmetic variations on my solution</h2>\n<p><strong>Update:</strong> I revisited this code, because I was toying with another problem, wondering if we could do without the map and without repeating the <code>'A'</code> and <code>'B'</code> literals all over the place in a DRY way. This is one of them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DynamicInvocationTargetTest extends Specification {\n  def test() {\n    given:\n    def handlers = [Mock(AHandler), Mock(BHandler)]\n    def service = new Foo(*handlers)\n\n    when:\n    service.handle(input)\n\n    then:\n    1 * handlers[index].handle(input)\n    0 * _  // no other calls\n\n    where:\n    index | input\n    0     | 'A'\n    1     | 'B'\n  }\n}\n</code></pre>\n<p>Somewhat more esoteric, avoiding the <code>index</code> data variable and exploiting the Spock 2.0 <code>iterationIndex</code>. I am not recommending this variant, merely mentioning it for completeness's sake:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DynamicInvocationTargetTest extends Specification {\n  def test() {\n    given:\n    def handlers = [Mock(AHandler), Mock(BHandler)]\n    def service = new Foo(*handlers)\n\n    when:\n    service.handle(input)\n\n    then:\n    1 * handlers[specificationContext.currentIteration.iterationIndex].handle(input)\n    0 * _  // no other calls\n\n    where:\n    input &lt;&lt; ['A', 'B']\n  }\n}\n</code></pre>\n<p>Please note how both solutions use the spread operator for calling the constructor <code>new Foo(*handlers)</code>. Now that we have an ordered list of mocks rather than an unordered map, using the spread operator is safe.</p>\n"}],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695009588,"creation_date":1694670670,"question_id":77102101,"body_markdown":"Consider this example\r\n\r\n\r\n    @AllArgsConstructor\r\n    class Foo{\r\n      private AHandler ahandler;\r\n      private BHandler bhandler;\r\n    \r\n    \r\n      public void handle(String what){\r\n    \r\n         if(what.equals(&quot;A&quot;)){\r\n              ahandler.handle(what);\r\n         }else if(what.equals(&quot;B&quot;){\r\n           bhandler.handle(what)\r\n         }else throw new RuntimeException();\r\n      }\r\n    }\r\n\r\n\r\nNow I try to test if-logic where given input proper handler must be called and nothing else, however I don&#39;t know how to specify assertion dynamically. Following does not work (but I think shows the intention)\r\n\r\n\r\n    def ahandler=Mock(AHandler);\r\n    def bhandler=Mock(BHandler);\r\n    def service=new Foo(ahandler,bhandler);\r\n    \r\n    when:\r\n       service.handle(input);\r\n    then: \r\n       1 * expectedCalls\r\n       0 * _ //no other calls\r\n    where:\r\n    input | expectedCalls\r\n    &quot;A&quot; | ahandler.handle(&quot;A&quot;)\r\n    &quot;B&quot; | bhandler.handle(&quot;B&quot;)\r\n\r\n\r\nIs it possible to do such thing with Spock? \r\n\r\n","title":"How to specify dynamic invocation target assertion in Spock","body":"<p>Consider this example</p>\n<pre><code>@AllArgsConstructor\nclass Foo{\n  private AHandler ahandler;\n  private BHandler bhandler;\n\n\n  public void handle(String what){\n\n     if(what.equals(&quot;A&quot;)){\n          ahandler.handle(what);\n     }else if(what.equals(&quot;B&quot;){\n       bhandler.handle(what)\n     }else throw new RuntimeException();\n  }\n}\n</code></pre>\n<p>Now I try to test if-logic where given input proper handler must be called and nothing else, however I don't know how to specify assertion dynamically. Following does not work (but I think shows the intention)</p>\n<pre><code>def ahandler=Mock(AHandler);\ndef bhandler=Mock(BHandler);\ndef service=new Foo(ahandler,bhandler);\n\nwhen:\n   service.handle(input);\nthen: \n   1 * expectedCalls\n   0 * _ //no other calls\nwhere:\ninput | expectedCalls\n&quot;A&quot; | ahandler.handle(&quot;A&quot;)\n&quot;B&quot; | bhandler.handle(&quot;B&quot;)\n</code></pre>\n<p>Is it possible to do such thing with Spock?</p>\n"},{"tags":["java","time-complexity","big-o"],"answers":[{"comments":[{"owner":{"account_id":18840627,"reputation":63,"user_id":13742194,"display_name":"bh13"},"score":0,"creation_date":1593636597,"post_id":62684925,"comment_id":110854152,"body_markdown":"I Appreciate the response. Did you write the code in your response?","body":"I Appreciate the response. Did you write the code in your response?"}],"tags":[],"owner":{"account_id":8764366,"reputation":27439,"user_id":6553328,"display_name":"Emma"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1595902524,"creation_date":1593635623,"answer_id":62684925,"question_id":62684771,"body_markdown":"I guess your time complexity would be `O(N ^ 2)`: \r\n\r\n- `O(N)` for the loop\r\n    - `O(N)` for the `Math.max()`\r\n\r\nI may be wrong though. \r\n\r\n------------\r\n\r\nWe can use `TreeMap`, which has an `O(Log N)` get method and reduce the time complexity to O(N Log N) and the memory complexity would be `O(N)`: \r\n\r\n```\r\nclass Solution {\r\n    public boolean carPooling(int[][] trips, int capacity) {\r\n        TreeMap&lt;Integer, Integer&gt; treemap = new TreeMap&lt;&gt;();\r\n\r\n        for (int[] trip : trips) {\r\n            treemap.put(trip[1], treemap.getOrDefault(trip[1], 0) + trip[0]);\r\n            treemap.put(trip[2], treemap.getOrDefault(trip[2], 0) - trip[0]);\r\n        }\r\n\r\n        for (int passenger : treemap.values()) {\r\n            capacity -= passenger;\r\n\r\n            if (capacity &lt; 0) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAsymptotically, it does not matter if you would loop through your array once or a billion times, both are order of N time complexity:\r\n\r\n```\r\nO(10 * e9 N) == O(N)\r\n```  \r\n\r\n-------------------\r\n\r\nYour code looks pretty good, not bad at all. Just make sure to: \r\n - Keep your spacing consistent \r\n - Write everything in a separate line\r\n - Always add `{}`, even if it is not required for single line `if` or `for`. \r\n\r\n```\r\nclass Solution {\r\n    public boolean carPooling(int[][] trips, int capacity) {\r\n        HashMap&lt;Integer, List&lt;Integer&gt;&gt; dropOff = new HashMap&lt;&gt;();\r\n        HashMap&lt;Integer, List&lt;Integer&gt;&gt; pickUp = new HashMap&lt;&gt;();\r\n\r\n        int endLocation = 0;\r\n\r\n        for (int i = 0; i &lt; trips.length; i++) {\r\n            int peopleToAdd = trips[i][0];\r\n\r\n            //get current values from map\r\n            List&lt;Integer&gt; peopleToGet = pickUp.getOrDefault(trips[i][1], new ArrayList&lt;&gt;());\r\n            List&lt;Integer&gt; peopleToDrop = dropOff.getOrDefault(trips[i][2], new ArrayList&lt;&gt;());\r\n\r\n            //add group to list of people being dropped/added at a stop\r\n            peopleToGet.add(peopleToAdd);\r\n            peopleToDrop.add(peopleToAdd);\r\n            pickUp.put(trips[i][1], peopleToGet);\r\n            dropOff.put(trips[i][2], peopleToDrop);\r\n            endLocation = Math.max(endLocation, trips[i][2]);\r\n        }\r\n\r\n        int currentCapacity = 0;\r\n\r\n        for (int i = 1; i &lt;= endLocation; i++) {\r\n            if (pickUp.containsKey(i)) {\r\n                List&lt;Integer&gt; key = pickUp.get(i);\r\n\r\n                for (int temp : key) {\r\n                    currentCapacity += temp;\r\n                }\r\n            }\r\n\r\n            if (dropOff.containsKey(i)) {\r\n                List&lt;Integer&gt; key = dropOff.get(i);\r\n\r\n                for (int temp : key) {\r\n                    currentCapacity -= temp;\r\n                }\r\n            }\r\n\r\n            if (currentCapacity &gt; capacity) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n\r\n    }\r\n}\r\n```\r\n\r\n### Good luck in your interviews!!\r\n\r\n-------------\r\n\r\n## References\r\n\r\n- For additional details, you can see the [Discussion Board](https://leetcode.com/problems/car-pooling/discuss/). There are plenty of accepted solutions, explanations, efficient algorithms with a variety of languages, and time/space complexity analysis in there.\r\n","title":"LeetCode 1094. Car Pooling. What is Time Complexity?","body":"<p>I guess your time complexity would be <code>O(N ^ 2)</code>:</p>\n<ul>\n<li><code>O(N)</code> for the loop\n<ul>\n<li><code>O(N)</code> for the <code>Math.max()</code></li>\n</ul>\n</li>\n</ul>\n<p>I may be wrong though.</p>\n<hr />\n<p>We can use <code>TreeMap</code>, which has an <code>O(Log N)</code> get method and reduce the time complexity to O(N Log N) and the memory complexity would be <code>O(N)</code>:</p>\n<pre><code>class Solution {\n    public boolean carPooling(int[][] trips, int capacity) {\n        TreeMap&lt;Integer, Integer&gt; treemap = new TreeMap&lt;&gt;();\n\n        for (int[] trip : trips) {\n            treemap.put(trip[1], treemap.getOrDefault(trip[1], 0) + trip[0]);\n            treemap.put(trip[2], treemap.getOrDefault(trip[2], 0) - trip[0]);\n        }\n\n        for (int passenger : treemap.values()) {\n            capacity -= passenger;\n\n            if (capacity &lt; 0) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n}\n\n</code></pre>\n<p>Asymptotically, it does not matter if you would loop through your array once or a billion times, both are order of N time complexity:</p>\n<pre><code>O(10 * e9 N) == O(N)\n</code></pre>\n<hr />\n<p>Your code looks pretty good, not bad at all. Just make sure to:</p>\n<ul>\n<li>Keep your spacing consistent</li>\n<li>Write everything in a separate line</li>\n<li>Always add <code>{}</code>, even if it is not required for single line <code>if</code> or <code>for</code>.</li>\n</ul>\n<pre><code>class Solution {\n    public boolean carPooling(int[][] trips, int capacity) {\n        HashMap&lt;Integer, List&lt;Integer&gt;&gt; dropOff = new HashMap&lt;&gt;();\n        HashMap&lt;Integer, List&lt;Integer&gt;&gt; pickUp = new HashMap&lt;&gt;();\n\n        int endLocation = 0;\n\n        for (int i = 0; i &lt; trips.length; i++) {\n            int peopleToAdd = trips[i][0];\n\n            //get current values from map\n            List&lt;Integer&gt; peopleToGet = pickUp.getOrDefault(trips[i][1], new ArrayList&lt;&gt;());\n            List&lt;Integer&gt; peopleToDrop = dropOff.getOrDefault(trips[i][2], new ArrayList&lt;&gt;());\n\n            //add group to list of people being dropped/added at a stop\n            peopleToGet.add(peopleToAdd);\n            peopleToDrop.add(peopleToAdd);\n            pickUp.put(trips[i][1], peopleToGet);\n            dropOff.put(trips[i][2], peopleToDrop);\n            endLocation = Math.max(endLocation, trips[i][2]);\n        }\n\n        int currentCapacity = 0;\n\n        for (int i = 1; i &lt;= endLocation; i++) {\n            if (pickUp.containsKey(i)) {\n                List&lt;Integer&gt; key = pickUp.get(i);\n\n                for (int temp : key) {\n                    currentCapacity += temp;\n                }\n            }\n\n            if (dropOff.containsKey(i)) {\n                List&lt;Integer&gt; key = dropOff.get(i);\n\n                for (int temp : key) {\n                    currentCapacity -= temp;\n                }\n            }\n\n            if (currentCapacity &gt; capacity) {\n                return false;\n            }\n        }\n\n        return true;\n\n    }\n}\n</code></pre>\n<h3>Good luck in your interviews!!</h3>\n<hr />\n<h2>References</h2>\n<ul>\n<li>For additional details, you can see the <a href=\"https://leetcode.com/problems/car-pooling/discuss/\" rel=\"nofollow noreferrer\">Discussion Board</a>. There are plenty of accepted solutions, explanations, efficient algorithms with a variety of languages, and time/space complexity analysis in there.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":29226848,"reputation":1,"user_id":22391347,"display_name":"Divith Raju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695009023,"creation_date":1695009023,"answer_id":77124467,"question_id":62684771,"body_markdown":"    class Solution {\r\n        public boolean carPooling(int[][] trips, int capacity) {\r\n             TreeMap&lt;Integer, Integer&gt; treemap = new TreeMap&lt;&gt;();\r\n\r\n             for (int[] trip : trips) {\r\n                 treemap.put(trip[1], treemap.getOrDefault(trip[1], 0) + trip[0]);\r\n                 treemap.put(trip[2], treemap.getOrDefault(trip[2], 0) - trip[0]);\r\n             }\r\n\r\n             for (int passenger : treemap.values()) {\r\n                 capacity -= passenger;\r\n\r\n                 if (capacity &lt; 0) {\r\n                     return false;\r\n                 }\r\n             }\r\n\r\n             return true;\r\n        }\r\n    }\r\nTry this code using Java format you will pass..","title":"LeetCode 1094. Car Pooling. What is Time Complexity?","body":"<pre><code>class Solution {\n    public boolean carPooling(int[][] trips, int capacity) {\n         TreeMap&lt;Integer, Integer&gt; treemap = new TreeMap&lt;&gt;();\n\n         for (int[] trip : trips) {\n             treemap.put(trip[1], treemap.getOrDefault(trip[1], 0) + trip[0]);\n             treemap.put(trip[2], treemap.getOrDefault(trip[2], 0) - trip[0]);\n         }\n\n         for (int passenger : treemap.values()) {\n             capacity -= passenger;\n\n             if (capacity &lt; 0) {\n                 return false;\n             }\n         }\n\n         return true;\n    }\n}\n</code></pre>\n<p>Try this code using Java format you will pass..</p>\n"}],"owner":{"account_id":18840627,"reputation":63,"user_id":13742194,"display_name":"bh13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62684925,"answer_count":2,"score":1,"last_activity_date":1695009023,"creation_date":1593634929,"question_id":62684771,"body_markdown":"I&#39;m in my interview prep cycle currently and have been ramping up lately. Here&#39;s the problem: \r\n\r\n[LeetCode 1094](https://leetcode.com/problems/car-pooling/)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kybqf.png\r\n\r\nI&#39;m having trouble understanding the time complexity of this question. here&#39;s my code:\r\n```\r\nclass Solution {\r\n    public boolean carPooling(int[][] trips, int capacity) {\r\n        HashMap&lt;Integer, List&lt;Integer&gt;&gt; dropOff = new HashMap&lt;&gt;();\r\n        HashMap&lt;Integer, List&lt;Integer&gt;&gt; pickUp = new HashMap&lt;&gt;();\r\n        \r\n        int endLocation = 0;\r\n        for (int i = 0; i &lt; trips.length; i++) {\r\n            int peopleToAdd = trips[i][0];\r\n            \r\n            //get current values from map\r\n            List&lt;Integer&gt; peopleToGet=pickUp.getOrDefault(trips[i][1], new ArrayList&lt;&gt;());\r\n            List&lt;Integer&gt; peopleToDrop=dropOff.getOrDefault(trips[i][2],new ArrayList&lt;&gt;());\r\n            \r\n            //add group to list of people being dropped/added at a stop\r\n            peopleToGet.add(peopleToAdd);\r\n            peopleToDrop.add(peopleToAdd)\r\n            ;\r\n            pickUp.put(trips[i][1], peopleToGet);\r\n            dropOff.put(trips[i][2], peopleToDrop);\r\n            endLocation = Math.max(endLocation, trips[i][2]);\r\n        }\r\n        \r\n        int currentCapacity = 0;\r\n        for (int i = 1; i &lt;= endLocation; i++) {\r\n            if (pickUp.containsKey(i)) {\r\n                List&lt;Integer&gt; key = pickUp.get(i);\r\n                for (int temp : key) {\r\n                    currentCapacity += temp;\r\n                }\r\n            }\r\n            if (dropOff.containsKey(i)) {\r\n                List&lt;Integer&gt; key = dropOff.get(i);\r\n                for (int temp : key) {\r\n                    currentCapacity -= temp;\r\n                }\r\n            }\r\n            \r\n            if (currentCapacity &gt; capacity) return false;\r\n        }\r\n        \r\n        return true;\r\n        \r\n        \r\n    }\r\n}\r\n```\r\nthe nested for-lop always makes me think n^2, but if you think about the question, each cohort has a pickup and a drop-off. so, You&#39;re really making 2N computations where N is the number of cohorts. You&#39;re also iterating through all potential stops.\r\n\r\nThanks.","title":"LeetCode 1094. Car Pooling. What is Time Complexity?","body":"<p>I'm in my interview prep cycle currently and have been ramping up lately. Here's the problem:</p>\n<p><a href=\"https://leetcode.com/problems/car-pooling/\" rel=\"nofollow noreferrer\">LeetCode 1094</a></p>\n<p><a href=\"https://i.stack.imgur.com/kybqf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kybqf.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm having trouble understanding the time complexity of this question. here's my code:</p>\n<pre><code>class Solution {\n    public boolean carPooling(int[][] trips, int capacity) {\n        HashMap&lt;Integer, List&lt;Integer&gt;&gt; dropOff = new HashMap&lt;&gt;();\n        HashMap&lt;Integer, List&lt;Integer&gt;&gt; pickUp = new HashMap&lt;&gt;();\n        \n        int endLocation = 0;\n        for (int i = 0; i &lt; trips.length; i++) {\n            int peopleToAdd = trips[i][0];\n            \n            //get current values from map\n            List&lt;Integer&gt; peopleToGet=pickUp.getOrDefault(trips[i][1], new ArrayList&lt;&gt;());\n            List&lt;Integer&gt; peopleToDrop=dropOff.getOrDefault(trips[i][2],new ArrayList&lt;&gt;());\n            \n            //add group to list of people being dropped/added at a stop\n            peopleToGet.add(peopleToAdd);\n            peopleToDrop.add(peopleToAdd)\n            ;\n            pickUp.put(trips[i][1], peopleToGet);\n            dropOff.put(trips[i][2], peopleToDrop);\n            endLocation = Math.max(endLocation, trips[i][2]);\n        }\n        \n        int currentCapacity = 0;\n        for (int i = 1; i &lt;= endLocation; i++) {\n            if (pickUp.containsKey(i)) {\n                List&lt;Integer&gt; key = pickUp.get(i);\n                for (int temp : key) {\n                    currentCapacity += temp;\n                }\n            }\n            if (dropOff.containsKey(i)) {\n                List&lt;Integer&gt; key = dropOff.get(i);\n                for (int temp : key) {\n                    currentCapacity -= temp;\n                }\n            }\n            \n            if (currentCapacity &gt; capacity) return false;\n        }\n        \n        return true;\n        \n        \n    }\n}\n</code></pre>\n<p>the nested for-lop always makes me think n^2, but if you think about the question, each cohort has a pickup and a drop-off. so, You're really making 2N computations where N is the number of cohorts. You're also iterating through all potential stops.</p>\n<p>Thanks.</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":1879420,"reputation":5451,"user_id":1699956,"accept_rate":83,"display_name":"Mangat Rai Modi"},"score":0,"creation_date":1455182096,"post_id":35333252,"comment_id":58377745,"body_markdown":"Could somebody tell what is wrong with the question? Why the close vote?","body":"Could somebody tell what is wrong with the question? Why the close vote?"}],"answers":[{"comments":[{"owner":{"account_id":1879420,"reputation":5451,"user_id":1699956,"accept_rate":83,"display_name":"Mangat Rai Modi"},"score":0,"creation_date":1455183580,"post_id":35335516,"comment_id":58378757,"body_markdown":"Thanks for the answer. Please see the update. I am now using objectFile call but there is another related problem!","body":"Thanks for the answer. Please see the update. I am now using objectFile call but there is another related problem!"},{"owner":{"account_id":7231036,"reputation":388,"user_id":5517872,"accept_rate":38,"display_name":"Jonathan"},"score":0,"creation_date":1455183970,"post_id":35335516,"comment_id":58379003,"body_markdown":"Your `obj` variable represents the data as it is distributed. That is the whole point of Spark. You can perform distributed operations on `obj` by calling transformations like `map` or actions like `reduce` on it. (`collect` is also an action but after calling it you are dealing with a non-distributed object)","body":"Your <code>obj</code> variable represents the data as it is distributed. That is the whole point of Spark. You can perform distributed operations on <code>obj</code> by calling transformations like <code>map</code> or actions like <code>reduce</code> on it. (<code>collect</code> is also an action but after calling it you are dealing with a non-distributed object)"},{"owner":{"account_id":1879420,"reputation":5451,"user_id":1699956,"accept_rate":83,"display_name":"Mangat Rai Modi"},"score":0,"creation_date":1455184128,"post_id":35335516,"comment_id":58379113,"body_markdown":"Obj will be distributed between nodes which I will collect at the driver using collect function (dat object), but I need the complete dat object present at every node. Its an HashMap to be used by all the nodes for processing.","body":"Obj will be distributed between nodes which I will collect at the driver using collect function (dat object), but I need the complete dat object present at every node. Its an HashMap to be used by all the nodes for processing."},{"owner":{"account_id":7231036,"reputation":388,"user_id":5517872,"accept_rate":38,"display_name":"Jonathan"},"score":0,"creation_date":1455184588,"post_id":35335516,"comment_id":58379458,"body_markdown":"A broadcast will do what you want, but the whole idea behind Spark is to work on distributed datasets. You might want to rethink your tool choice. Also you wouldn&#39;t read in the data using `SparkContext` when you intent to broadcast it afterwards.","body":"A broadcast will do what you want, but the whole idea behind Spark is to work on distributed datasets. You might want to rethink your tool choice. Also you wouldn&#39;t read in the data using <code>SparkContext</code> when you intent to broadcast it afterwards."}],"tags":[],"owner":{"account_id":7231036,"reputation":388,"user_id":5517872,"accept_rate":38,"display_name":"Jonathan"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455183437,"creation_date":1455183437,"answer_id":35335516,"question_id":35333252,"body_markdown":"In Spark the [`SparkContext`][1] is usually used to read in data in a distributed way and Spark should handle the deserialization for you. Particularly the method [`objectFile`][2] looks like it could be of help.\r\n\r\nWriting a file in HDFS is explained [here][3].\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/latest/api/java/org/apache/spark/SparkContext.html\r\n  [2]: https://spark.apache.org/docs/latest/api/java/org/apache/spark/SparkContext.html#objectFile(java.lang.String,%20int,%20scala.reflect.ClassTag)\r\n  [3]: https://stackoverflow.com/questions/16000840/write-a-file-in-hdfs-with-java","title":"Spark: How to serialize/deserialize java objects and distribute them in nodes","body":"<p>In Spark the <a href=\"https://spark.apache.org/docs/latest/api/java/org/apache/spark/SparkContext.html\" rel=\"nofollow noreferrer\"><code>SparkContext</code></a> is usually used to read in data in a distributed way and Spark should handle the deserialization for you. Particularly the method <a href=\"https://spark.apache.org/docs/latest/api/java/org/apache/spark/SparkContext.html#objectFile(java.lang.String,%20int,%20scala.reflect.ClassTag)\" rel=\"nofollow noreferrer\"><code>objectFile</code></a> looks like it could be of help.</p>\n\n<p>Writing a file in HDFS is explained <a href=\"https://stackoverflow.com/questions/16000840/write-a-file-in-hdfs-with-java\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":11488461,"reputation":11,"user_id":8420285,"display_name":"Fei YuanXing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695008194,"creation_date":1695008194,"answer_id":77124435,"question_id":35333252,"body_markdown":"in spark ,use deserializeobject  ,let text to clickhouse","title":"Spark: How to serialize/deserialize java objects and distribute them in nodes","body":"<p>in spark ,use deserializeobject  ,let text to clickhouse</p>\n"}],"owner":{"account_id":1879420,"reputation":5451,"user_id":1699956,"accept_rate":83,"display_name":"Mangat Rai Modi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2082,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1695008194,"creation_date":1455175982,"question_id":35333252,"body_markdown":"I have some java objects saved on HDFS to be used by various spark jobs. I know that for local filesystem we can deserialize using `ObjectInputStream` class. But till now I am unable to find any way to do it on remote file systems (HDFS?) using spark.\r\n\r\n**Update**: spark context has an api: `objectFile` to get an object. Object could be collected as:-\r\n\r\n    JavaRDD&lt;Map&lt;Long, BloomFilter&gt;&gt; obj = context.objectFile(&quot;/user/hdfs/path&quot;);\r\n    dat = obj.collect().get(0);\r\n\r\nBut now I ran into related problem. `dat` object will be populated only by the node to receive the RDD. But this data needs to be used by all the nodes in spark. I know there is a `Broadcast` function but that means shipping my data to all the nodes and data being very big in size will defeat the purpose of map reduce. Is there any better way to deserialize and distribute objects in a spark environment.","title":"Spark: How to serialize/deserialize java objects and distribute them in nodes","body":"<p>I have some java objects saved on HDFS to be used by various spark jobs. I know that for local filesystem we can deserialize using <code>ObjectInputStream</code> class. But till now I am unable to find any way to do it on remote file systems (HDFS?) using spark.</p>\n\n<p><strong>Update</strong>: spark context has an api: <code>objectFile</code> to get an object. Object could be collected as:-</p>\n\n<pre><code>JavaRDD&lt;Map&lt;Long, BloomFilter&gt;&gt; obj = context.objectFile(\"/user/hdfs/path\");\ndat = obj.collect().get(0);\n</code></pre>\n\n<p>But now I ran into related problem. <code>dat</code> object will be populated only by the node to receive the RDD. But this data needs to be used by all the nodes in spark. I know there is a <code>Broadcast</code> function but that means shipping my data to all the nodes and data being very big in size will defeat the purpose of map reduce. Is there any better way to deserialize and distribute objects in a spark environment.</p>\n"},{"tags":["java","weblogic-10.x","jrockit"],"comments":[{"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"score":0,"creation_date":1500570096,"post_id":45219464,"comment_id":77408222,"body_markdown":"A stuck thread does not always mean that the thread is waiting for something. It can simply takes a long time to execute the request. One thread dump is not enough to analyze the problem. Take several thread dumps to check what threads are doing.","body":"A stuck thread does not always mean that the thread is waiting for something. It can simply takes a long time to execute the request. One thread dump is not enough to analyze the problem. Take several thread dumps to check what threads are doing."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1500576938,"post_id":45219464,"comment_id":77412286,"body_markdown":"only you can tell that with a profiler.  you should also see which thread is consuming the most cpu: http://code.nomad-labs.com/2010/11/18/identifying-which-java-thread-is-consuming-most-cpu/","body":"only you can tell that with a profiler.  you should also see which thread is consuming the most cpu: <a href=\"http://code.nomad-labs.com/2010/11/18/identifying-which-java-thread-is-consuming-most-cpu/\" rel=\"nofollow noreferrer\">code.nomad-labs.com/2010/11/18/&hellip;</a>"},{"owner":{"account_id":11374656,"reputation":1,"user_id":8339342,"display_name":"Groo"},"score":0,"creation_date":1500578360,"post_id":45219464,"comment_id":77413142,"body_markdown":"Thanks, next time this happens I&#39;ll take a few dumps and see if get more information as to what they are doing. I didn&#39;t see any activity at the Oracle database level (no locks or active sessions). These threads were running for 24 hours before I finally restarted the system, I&#39;m pretty confident that they were never going to complete.\n\nExecute Thread 1 and 3 were consuming %100 CPU each, for a total of %200.\n\nThanks duffymo for that website, I think that will prove useful.","body":"Thanks, next time this happens I&#39;ll take a few dumps and see if get more information as to what they are doing. I didn&#39;t see any activity at the Oracle database level (no locks or active sessions). These threads were running for 24 hours before I finally restarted the system, I&#39;m pretty confident that they were never going to complete.  Execute Thread 1 and 3 were consuming %100 CPU each, for a total of %200.  Thanks duffymo for that website, I think that will prove useful."}],"owner":{"account_id":11374656,"reputation":1,"user_id":8339342,"display_name":"Groo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695007550,"creation_date":1500565455,"question_id":45219464,"body_markdown":"I have a J2EE application running in Weblogic 10.3.6  that seems to randomly get 2 stuck threads and I was wondering if anyone can point me in the right direction as to what the struck threads might be waiting on. Here is the thread dump:\r\n\r\n    &quot;Main Thread&quot; id=1 idx=0x4 tid=12639 prio=5 alive, waiting, native_blocked\r\n          \r\n                -- Waiting for notification on: weblogic/t3/srvr/T3Srvr@0x92af6588[fat lock]\r\n          \r\n                at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\r\n          \r\n                at java/lang/Object.wait(J)V(Native Method)\r\n          \r\n                at java/lang/Object.wait(Object.java:485)\r\n          \r\n                at weblogic/t3/srvr/T3Srvr.waitForDeath(T3Srvr.java:981)\r\n          \r\n                ^-- Lock released while waiting: weblogic/t3/srvr/T3Srvr@0x92af6588[fat lock]\r\n          \r\n                at weblogic/t3/srvr/T3Srvr.run(T3Srvr.java:490)\r\n          \r\n                at weblogic/Server.main(Server.java:71)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;(Signal Handler)&quot; id=2 idx=0x8 tid=12640 prio=5 alive, native_blocked, daemon\r\n          \r\n            &quot;(OC Main Thread)&quot; id=3 idx=0xc tid=12641 prio=5 alive, native_waiting, daemon\r\n          \r\n            &quot;(GC Worker Thread 1)&quot; id=? idx=0x10 tid=12642 prio=5 alive, daemon\r\n          \r\n            &quot;(GC Worker Thread 2)&quot; id=? idx=0x14 tid=12643 prio=5 alive, daemon\r\n          \r\n            &quot;(GC Worker Thread 3)&quot; id=? idx=0x18 tid=12644 prio=5 alive, daemon\r\n          \r\n\r\n          \r\n            &quot;(Code Generation Thread 1)&quot; id=4 idx=0x60 tid=12662 prio=5 alive, native_waiting, daemon\r\n          \r\n            &quot;(Code Optimization Thread 1)&quot; id=5 idx=0x64 tid=12663 prio=5 alive, native_waiting, daemon\r\n          \r\n            &quot;(VM Periodic Task)&quot; id=6 idx=0x68 tid=12664 prio=10 alive, native_blocked, daemon\r\n          \r\n            &quot;Finalizer&quot; id=7 idx=0x6c tid=12665 prio=8 alive, native_waiting, daemon\r\n          \r\n                at jrockit/memory/Finalizer.waitForFinalizees(J[Ljava/lang/Object;)I(Native Method)\r\n          \r\n                at jrockit/memory/Finalizer.access$700(Finalizer.java:12)\r\n          \r\n                at jrockit/memory/Finalizer$4.run(Finalizer.java:189)\r\n          \r\n                at java/lang/Thread.run(Thread.java:619)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;Reference Handler&quot; id=8 idx=0x70 tid=12666 prio=10 alive, native_waiting, daemon\r\n          \r\n                at java/lang/ref/Reference.waitForActivatedQueue(J)Ljava/lang/ref/Reference;(Native Method)\r\n          \r\n                at java/lang/ref/Reference.access$100(Reference.java:11)\r\n          \r\n                at java/lang/ref/Reference$ReferenceHandler.run(Reference.java:82)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;(Sensor Event Thread)&quot; id=9 idx=0x74 tid=12667 prio=5 alive, native_blocked, daemon\r\n          \r\n            &quot;VM JFR Buffer Thread&quot; id=10 idx=0x78 tid=12668 prio=5 alive, in native, daemon\r\n          \r\n            &quot;Timer-0&quot; id=14 idx=0x80 tid=12671 prio=5 alive, waiting, native_blocked, daemon\r\n          \r\n                -- Waiting for notification on: java/util/TaskQueue@0x92b0ad40[fat lock]\r\n          \r\n                at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\r\n          \r\n                at java/lang/Object.wait(J)V(Native Method)\r\n          \r\n                at java/util/TimerThread.mainLoop(Timer.java:509)\r\n          \r\n                ^-- Lock released while waiting: java/util/TaskQueue@0x92b0ad40[fat lock]\r\n          \r\n                at java/util/TimerThread.run(Timer.java:462)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;[STUCK] ExecuteThread: &#39;0&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&quot; id=15 idx=0x84 tid=12672 prio=1 alive, native_blocked, daemon\r\n          \r\n                at java/util/AbstractCollection.toArray(AbstractCollection.java:119)[optimized]\r\n          \r\n                at java/util/ArrayList.&lt;init&gt;(ArrayList.java:131)[inlined]\r\n          \r\n                at javax/faces/component/UIComponentBase$FacetsMap.keySetIterator(UIComponentBase.java:2228)[inlined]\r\n          \r\n                at javax/faces/component/UIComponentBase$FacetsMapValuesIterator.&lt;init&gt;(UIComponentBase.java:2583)[inlined]\r\n          \r\n                at javax/faces/component/UIComponentBase$FacetsMapValues.iterator(UIComponentBase.java:2567)[optimized]\r\n          \r\n                at org/ajax4jsf/component/UIDataAdaptorBase.restoreChildState(UIDataAdaptorBase.java:1006)[optimized]\r\n          \r\n                at org/ajax4jsf/component/UIDataAdaptorBase.restoreChildState(UIDataAdaptorBase.java:1004)[inlined]\r\n          \r\n     \r\n          \r\n                at org/apache/el/MethodExpressionImpl.invoke(MethodExpressionImpl.java:276)\r\n          \r\n                at com/sun/facelets/el/TagMethodExpression.invoke(TagMethodExpression.java:68)\r\n          \r\n                at javax/faces/component/MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)\r\n          \r\n                at com/sun/faces/application/ActionListenerImpl.processAction(ActionListenerImpl.java:102)\r\n          \r\n                at com/CompName/AppName/core/web/CustomActionListener.processAction(CustomActionListener.java:51)\r\n          \r\n                at javax/faces/component/UICommand.broadcast(UICommand.java:387)\r\n          \r\n                at org/ajax4jsf/component/AjaxActionComponent.broadcast(AjaxActionComponent.java:55)\r\n          \r\n                at org/ajax4jsf/component/AjaxViewRoot.processEvents(AjaxViewRoot.java:329)\r\n          \r\n                at org/ajax4jsf/component/AjaxViewRoot$$com_CompName_AppName_validation_web_ProxyViewRootInterceptor.CGLIB$processEvents$12(Ljavax/faces/context/FacesContext;Lorg/ajax4jsf/event/EventsQueue;Z)V(&lt;generated&gt;)[inlined]\r\n        \r\n                at weblogic/security/service/SecurityManager.runAs(SecurityManager.java:120)\r\n          \r\n                at weblogic/servlet/internal/WebAppServletContext.securedExecute(WebAppServletContext.java:2273)\r\n          \r\n                at weblogic/servlet/internal/WebAppServletContext.execute(WebAppServletContext.java:2179)\r\n          \r\n                at weblogic/servlet/internal/ServletRequestImpl.run(ServletRequestImpl.java:1490)\r\n          \r\n                at weblogic/work/ExecuteThread.execute(ExecuteThread.java:256)[optimized]\r\n          \r\n                at weblogic/work/ExecuteThread.run(ExecuteThread.java:221)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;JFR request timer&quot; id=16 idx=0x88 tid=12673 prio=5 alive, waiting, native_blocked, daemon\r\n          \r\n                -- Waiting for notification on: java/util/TaskQueue@0x92b0adc0[fat lock]\r\n          \r\n                at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\r\n          \r\n                at java/lang/Object.wait(J)V(Native Method)\r\n          \r\n                at java/lang/Object.wait(Object.java:485)\r\n          \r\n                at java/util/TimerThread.mainLoop(Timer.java:483)\r\n          \r\n                ^-- Lock released while waiting: java/util/TaskQueue@0x92b0adc0[fat lock]\r\n          \r\n                at java/util/TimerThread.run(Timer.java:462)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;weblogic.time.TimeEventGenerator&quot; id=18 idx=0x8c tid=12674 prio=9 alive, waiting, native_blocked, daemon\r\n          \r\n                -- Waiting for notification on: weblogic/time/common/internal/TimeTable@0x92b0c1d0[fat lock]\r\n          \r\n                at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\r\n          \r\n                at java/lang/Object.wait(J)V(Native Method)\r\n          \r\n                at weblogic/time/common/internal/TimeTable.snooze(TimeTable.java:286)\r\n          \r\n                ^-- Lock released while waiting: weblogic/time/common/internal/TimeTable@0x92b0c1d0[fat lock]\r\n          \r\n                at weblogic/time/common/internal/TimeEventGenerator.run(TimeEventGenerator.java:117)\r\n          \r\n                at java/lang/Thread.run(Thread.java:619)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;JMAPI event thread&quot; id=19 idx=0x90 tid=12675 prio=5 alive, in native, daemon\r\n          \r\n            &quot;weblogic.timers.TimerThread&quot; id=20 idx=0x94 tid=12676 prio=9 alive, waiting, native_blocked, daemon\r\n          \r\n                -- Waiting for notification on: weblogic/timers/internal/TimerThread@0x92b0aec8[fat lock]\r\n          \r\n                at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\r\n          \r\n                at java/lang/Object.wait(J)V(Native Method)\r\n          \r\n                at weblogic/timers/internal/TimerThread$Thread.run(TimerThread.java:262)\r\n          \r\n                ^-- Lock released while waiting: weblogic/timers/internal/TimerThread@0x92b0aec8[fat lock]\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;[STUCK] ExecuteThread: &#39;1&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&quot; id=21 idx=0x98 tid=12677 prio=1 alive, native_blocked, daemon\r\n          \r\n                at com/sun/faces/config/ConfigureListener.attributeRemoved(ConfigureListener.java:321)[optimized]\r\n          \r\n                at weblogic/servlet/internal/EventsManager.notifyRequestAttributeEvent(EventsManager.java:352)[inlined]\r\n          \r\n                at weblogic/servlet/internal/RequestEventsFilter$EventsRequestWrapper.removeAttribute(RequestEventsFilter.java:58)[optimized]\r\n          \r\n                at com/sun/faces/context/RequestMap.remove(ExternalContextImpl.java:1096)[optimized]\r\n          \r\n                at org/ajax4jsf/component/UIDataAdaptorBase.removeVariable(UIDataAdaptorBase.java:583)[inlined]\r\n          \r\n                at org/ajax4jsf/component/UIDataAdaptorBase.setupVariable(UIDataAdaptorBase.java:559)[inlined]\r\n          \r\n                at org/richfaces/component/UITree.setupVariable(UITree.java:360)[optimized]\r\n          \r\n                at org/ajax4jsf/component/UIDataAdaptorBase.setRowKey(UIDataAdaptorBase.java:357)[optimized]\r\n          \r\n                at org/ajax4jsf/component/UIDataAdaptorBase.setRowKey(UIDataAdaptorBase.java:324)[inlined]\r\n          \r\n                at org/richfaces/component/state/TreeState.expandNode(TreeState.java:233)[inlined]\r\n          \r\n                at com/CompName/AppName/application/group/tree/AppNameTree.expandNode(AppNameTree.java:311)[optimized]\r\n          \r\n          \r\n                at org/ajax4jsf/component/AjaxViewRoot$$com_CompName_AppName_validation_web_ProxyViewRootInterceptor.CGLIB$processPhase$9(Ljavax/faces/context/FacesContext;Ljavax/faces/event/PhaseId;Lorg/ajax4jsf/context/InvokerCallback;)V(&lt;generated&gt;)[inlined]\r\n          \r\n                at org/ajax4jsf/component/AjaxViewRoot$$com_CompName_AppName_validation_web_ProxyViewRootInterceptor$$FastClassByCGLIB$$b62d5b05.invoke(ILjava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;(&lt;generated&gt;)[optimized]\r\n          \r\n                at net/sf/cglib/proxy/MethodProxy.invokeSuper(MethodProxy.java:167)[inlined]\r\n          \r\n                at com/CompName/AppName/validation/web/ProxyViewRootInterceptor.intercept(ProxyViewRootInterceptor.java:172)[optimized]\r\n          \r\n      \r\n                at weblogic/servlet/internal/RequestDispatcherImpl.invokeServlet(RequestDispatcherImpl.java:527)\r\n          \r\n                at weblogic/servlet/internal/RequestDispatcherImpl.forward(RequestDispatcherImpl.java:253)\r\n          \r\n                at com/CompName/AppName/core/web/CustomFilter.processRequest(CustomFilter.java:281)[inlined]\r\n          \r\n                at com/CompName/AppName/core/web/conversation/ConversationFilter.doFilter(ConversationFilter.java:97)[optimized]\r\n          \r\n                at weblogic/servlet/internal/FilterChainImpl.doFilter(FilterChainImpl.java:56)[optimized]\r\n          \r\n                at com/CompName/AppName/application/AuthenticationFilter.doFilter(AuthenticationFilter.java:84)\r\n          \r\n                at weblogic/servlet/internal/FilterChainImpl.doFilter(FilterChainImpl.java:56)[optimized]\r\n          \r\n                at weblogic/servlet/internal/RequestEventsFilter.doFilter(RequestEventsFilter.java:27)\r\n          \r\n                at weblogic/servlet/internal/FilterChainImpl.doFilter(FilterChainImpl.java:56)[optimized]\r\n          \r\n                at weblogic/servlet/internal/WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3730)\r\n          \r\n                at weblogic/servlet/internal/WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3696)\r\n          \r\n                at weblogic/security/acl/internal/AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\r\n          \r\n                at weblogic/security/service/SecurityManager.runAs(SecurityManager.java:120)\r\n          \r\n                at weblogic/servlet/internal/WebAppServletContext.securedExecute(WebAppServletContext.java:2273)\r\n          \r\n                at weblogic/servlet/internal/WebAppServletContext.execute(WebAppServletContext.java:2179)\r\n          \r\n                at weblogic/servlet/internal/ServletRequestImpl.run(ServletRequestImpl.java:1490)\r\n          \r\n                at weblogic/work/ExecuteThread.execute(ExecuteThread.java:256)[optimized]\r\n          \r\n                at weblogic/work/ExecuteThread.run(ExecuteThread.java:221)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;ExecuteThread: &#39;0&#39; for queue: &#39;weblogic.socket.Muxer&#39;&quot; id=24 idx=0x9c tid=12678 prio=5 alive, blocked, native_blocked, daemon\r\n          \r\n                -- Blocked trying to get lock: java/lang/String@0x92a32e70[fat lock]\r\n          \r\n                at jrockit/vm/Threads.waitForUnblockSignal()V(Native Method)\r\n          \r\n                at jrockit/vm/Locks.fatLockBlockOrSpin(Locks.java:1402)[optimized]\r\n          \r\n                at jrockit/vm/Locks.lockFat(Locks.java:1503)[optimized]\r\n          \r\n                at jrockit/vm/Locks.monitorEnterSecondStageHard(Locks.java:1045)[optimized]\r\n          \r\n                at jrockit/vm/Locks.monitorEnterSecondStage(Locks.java:996)[optimized]\r\n          \r\n                at jrockit/vm/Locks.monitorEnter(Locks.java:2170)[optimized]\r\n          \r\n                at weblogic/socket/EPollSocketMuxer.processSockets(EPollSocketMuxer.java:153)\r\n          \r\n                at weblogic/socket/SocketReaderRequest.run(SocketReaderRequest.java:29)\r\n          \r\n                at weblogic/socket/SocketReaderRequest.execute(SocketReaderRequest.java:42)\r\n          \r\n                at weblogic/kernel/ExecuteThread.execute(ExecuteThread.java:145)\r\n          \r\n                at weblogic/kernel/ExecuteThread.run(ExecuteThread.java:117)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;ExecuteThread: &#39;1&#39; for queue: &#39;weblogic.socket.Muxer&#39;&quot; id=25 idx=0xa0 tid=12679 prio=5 alive, blocked, native_blocked, daemon\r\n          \r\n                -- Blocked trying to get lock: java/lang/String@0x92a32e70[fat lock]\r\n          \r\n                at jrockit/vm/Threads.waitForUnblockSignal()V(Native Method)\r\n          \r\n                at jrockit/vm/Locks.fatLockBlockOrSpin(Locks.java:1402)[optimized]\r\n          \r\n                at jrockit/vm/Locks.lockFat(Locks.java:1503)[optimized]\r\n          \r\n                at jrockit/vm/Locks.monitorEnterSecondStageHard(Locks.java:1045)[optimized]\r\n          \r\n                at jrockit/vm/Locks.monitorEnterSecondStage(Locks.java:996)[optimized]\r\n          \r\n                at jrockit/vm/Locks.monitorEnter(Locks.java:2170)[optimized]\r\n          \r\n                at weblogic/socket/EPollSocketMuxer.processSockets(EPollSocketMuxer.java:153)\r\n          \r\n                at weblogic/socket/SocketReaderRequest.run(SocketReaderRequest.java:29)\r\n          \r\n                at weblogic/socket/SocketReaderRequest.execute(SocketReaderRequest.java:42)\r\n          \r\n                at weblogic/kernel/ExecuteThread.execute(ExecuteThread.java:145)\r\n          \r\n                at weblogic/kernel/ExecuteThread.run(ExecuteThread.java:117)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;ExecuteThread: &#39;2&#39; for queue: &#39;weblogic.socket.Muxer&#39;&quot; id=26 idx=0xa4 tid=12680 prio=5 alive, in native, daemon\r\n          \r\n                at jrockit/ext/epoll/EPoll.epollWait0(ILjava/nio/ByteBuffer;II)I(Native Method)\r\n          \r\n                at jrockit/ext/epoll/EPoll.epollWait(EPoll.java:115)\r\n          \r\n                at weblogic/socket/EPollSocketMuxer.processSockets(EPollSocketMuxer.java:156)\r\n          \r\n                ^-- Holding lock: java/lang/String@0x92a32e70[fat lock]\r\n          \r\n                at weblogic/socket/SocketReaderRequest.run(SocketReaderRequest.java:29)\r\n          \r\n                at weblogic/socket/SocketReaderRequest.execute(SocketReaderRequest.java:42)\r\n          \r\n                at weblogic/kernel/ExecuteThread.execute(ExecuteThread.java:145)\r\n          \r\n                at weblogic/kernel/ExecuteThread.run(ExecuteThread.java:117)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;ExecuteThread: &#39;3&#39; for queue: &#39;weblogic.socket.Muxer&#39;&quot; id=27 idx=0xa8 tid=12681 prio=5 alive, blocked, native_blocked, daemon\r\n          \r\n                -- Blocked trying to get lock: java/lang/String@0x92a32e70[fat lock]\r\n          \r\n                at jrockit/vm/Threads.waitForUnblockSignal()V(Native Method)\r\n          \r\n                at jrockit/vm/Locks.fatLockBlockOrSpin(Locks.java:1402)[optimized]\r\n          \r\n                at jrockit/vm/Locks.lockFat(Locks.java:1503)[optimized]\r\n          \r\n                at jrockit/vm/Locks.monitorEnterSecondStageHard(Locks.java:1045)[optimized]\r\n          \r\n                at jrockit/vm/Locks.monitorEnterSecondStage(Locks.java:996)[optimized]\r\n          \r\n                at jrockit/vm/Locks.monitorEnter(Locks.java:2170)[optimized]\r\n          \r\n                at weblogic/socket/EPollSocketMuxer.processSockets(EPollSocketMuxer.java:153)\r\n          \r\n                at weblogic/socket/SocketReaderRequest.run(SocketReaderRequest.java:29)\r\n          \r\n                at weblogic/socket/SocketReaderRequest.execute(SocketReaderRequest.java:42)\r\n          \r\n                at weblogic/kernel/ExecuteThread.execute(ExecuteThread.java:145)\r\n          \r\n                at weblogic/kernel/ExecuteThread.run(ExecuteThread.java:117)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;Timer-1&quot; id=28 idx=0xac tid=12683 prio=5 alive, waiting, native_blocked, daemon\r\n          \r\n                -- Waiting for notification on: java/util/TaskQueue@0x92b0c9b0[fat lock]\r\n          \r\n                at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\r\n          \r\n                at java/lang/Object.wait(J)V(Native Method)\r\n          \r\n                at java/lang/Object.wait(Object.java:485)\r\n          \r\n                at java/util/TimerThread.mainLoop(Timer.java:483)\r\n          \r\n                ^-- Lock released while waiting: java/util/TaskQueue@0x92b0c9b0[fat lock]\r\n          \r\n                at java/util/TimerThread.run(Timer.java:462)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;VDE Transaction Processor Thread&quot; id=31 idx=0xb0 tid=12684 prio=2 alive, waiting, native_blocked, daemon\r\n          \r\n                -- Waiting for notification on: com/octetstring/vde/backend/standard/TransactionProcessor@0x92b0ba48[fat lock]\r\n          \r\n                at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\r\n          \r\n                at java/lang/Object.wait(J)V(Native Method)\r\n          \r\n                at java/lang/Object.wait(Object.java:485)\r\n          \r\n                at com/octetstring/vde/backend/standard/TransactionProcessor.waitChange(TransactionProcessor.java:367)\r\n          \r\n                ^-- Lock released while waiting: com/octetstring/vde/backend/standard/TransactionProcessor@0x92b0ba48[fat lock]\r\n          \r\n                at com/octetstring/vde/backend/standard/TransactionProcessor.run(TransactionProcessor.java:212)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;DoSManager&quot; id=34 idx=0xb8 tid=12686 prio=6 alive, sleeping, native_waiting, daemon\r\n          \r\n                at java/lang/Thread.sleep(J)V(Native Method)\r\n          \r\n                at com/octetstring/vde/DoSManager.run(DoSManager.java:433)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;Timer-2&quot; id=35 idx=0xbc tid=12687 prio=5 alive, waiting, native_blocked, daemon\r\n          \r\n                -- Waiting for notification on: java/util/TaskQueue@0x92b0ce80[fat lock]\r\n          \r\n                at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\r\n          \r\n                at java/lang/Object.wait(J)V(Native Method)\r\n          \r\n                at java/util/TimerThread.mainLoop(Timer.java:509)\r\n          \r\n                ^-- Lock released while waiting: java/util/TaskQueue@0x92b0ce80[fat lock]\r\n          \r\n                at java/util/TimerThread.run(Timer.java:462)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n         \r\n          \r\n            &quot;[STANDBY] ExecuteThread: &#39;2&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&quot; id=37 idx=0xc4 tid=13075 prio=5 alive, waiting, native_blocked, daemon\r\n          \r\n                -- Waiting for notification on: weblogic/work/ExecuteThread@0x872bbdf0[fat lock]\r\n          \r\n                at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\r\n          \r\n                at jrockit/vm/Locks.wait(Locks.java:1964)[inlined]\r\n          \r\n                at java/lang/Object.wait(Object.java:485)[inlined]\r\n          \r\n                at weblogic/work/ExecuteThread.waitForRequest(ExecuteThread.java:205)[optimized]\r\n          \r\n                ^-- Lock released while waiting: weblogic/work/ExecuteThread@0x872bbdf0[fat lock]\r\n          \r\n                at weblogic/work/ExecuteThread.run(ExecuteThread.java:226)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;[STANDBY] ExecuteThread: &#39;3&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&quot; id=38 idx=0xc8 tid=13076 prio=5 alive, waiting, native_blocked, daemon\r\n          \r\n                -- Waiting for notification on: weblogic/work/ExecuteThread@0x872e99f8[fat lock]\r\n          \r\n                at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\r\n          \r\n                at jrockit/vm/Locks.wait(Locks.java:1964)[inlined]\r\n          \r\n                at java/lang/Object.wait(Object.java:485)[inlined]\r\n          \r\n                at weblogic/work/ExecuteThread.waitForRequest(ExecuteThread.java:205)[optimized]\r\n          \r\n                ^-- Lock released while waiting: weblogic/work/ExecuteThread@0x872e99f8[fat lock]\r\n          \r\n                at weblogic/work/ExecuteThread.run(ExecuteThread.java:226)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;ConversationReaper&quot; id=44 idx=0xe0 tid=13104 prio=5 alive, sleeping, native_waiting, daemon\r\n          \r\n                at java/lang/Thread.sleep(J)V(Native Method)\r\n          \r\n                at com/CompName/AppName/core/web/conversation/ConversationManager$ConversationReaper.run(ConversationManager.java:405)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n                     \r\n          \r\n            &quot;DynamicListenThread[Default]&quot; id=47 idx=0xe8 tid=13106 prio=9 alive, in native, daemon\r\n          \r\n                at java/net/PlainSocketImpl.socketAccept(Ljava/net/SocketImpl;)V(Native Method)\r\n          \r\n                at java/net/PlainSocketImpl.accept(PlainSocketImpl.java:390)\r\n          \r\n                ^-- Holding lock: java/net/SocksSocketImpl@0x9224b198[biased lock]\r\n          \r\n                at java/net/ServerSocket.implAccept(ServerSocket.java:453)\r\n          \r\n                at java/net/ServerSocket.accept(ServerSocket.java:421)\r\n          \r\n                at weblogic/socket/WeblogicServerSocket.accept(WeblogicServerSocket.java:38)\r\n          \r\n                at weblogic/server/channels/DynamicListenThread$SocketAccepter.accept(DynamicListenThread.java:535)\r\n          \r\n                at weblogic/server/channels/DynamicListenThread$SocketAccepter.access$200(DynamicListenThread.java:417)\r\n          \r\n                at weblogic/server/channels/DynamicListenThread.run(DynamicListenThread.java:173)\r\n          \r\n                at java/lang/Thread.run(Thread.java:619)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n          \r\n            &quot;DynamicListenThread[Default[1]]&quot; id=48 idx=0xec tid=13107 prio=9 alive, in native, daemon\r\n          \r\n                at java/net/PlainSocketImpl.socketAccept(Ljava/net/SocketImpl;)V(Native Method)\r\n          \r\n                at java/net/PlainSocketImpl.accept(PlainSocketImpl.java:390)\r\n          \r\n                ^-- Holding lock: java/net/SocksSocketImpl@0x922a64b0[biased lock]\r\n          \r\n                at java/net/ServerSocket.implAccept(ServerSocket.java:453)\r\n          \r\n                at java/net/ServerSocket.accept(ServerSocket.java:421)\r\n          \r\n                at weblogic/socket/WeblogicServerSocket.accept(WeblogicServerSocket.java:38)\r\n          \r\n                at weblogic/server/channels/DynamicListenThread$SocketAccepter.accept(DynamicListenThread.java:535)\r\n          \r\n                at weblogic/server/channels/DynamicListenThread$SocketAccepter.access$200(DynamicListenThread.java:417)\r\n          \r\n                at weblogic/server/channels/DynamicListenThread.run(DynamicListenThread.java:173)\r\n          \r\n                at java/lang/Thread.run(Thread.java:619)\r\n          \r\n                at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\r\n          \r\n                -- end of trace\r\n              \r\n           \r\n          \r\n            Blocked lock chains\r\n          \r\n            ===================\r\n          \r\n            Chain 2:\r\n          \r\n            &quot;ExecuteThread: &#39;1&#39; for queue: &#39;weblogic.socket.Muxer&#39;&quot; id=25 idx=0xa0 tid=12679 waiting for java/lang/String@0x92a32e70 held by:\r\n          \r\n            &quot;ExecuteThread: &#39;2&#39; for queue: &#39;weblogic.socket.Muxer&#39;&quot; id=26 idx=0xa4 tid=12680 in chain 1\r\n          \r\n            Chain 3:\r\n          \r\n            &quot;ExecuteThread: &#39;3&#39; for queue: &#39;weblogic.socket.Muxer&#39;&quot; id=27 idx=0xa8 tid=12681 waiting for java/lang/String@0x92a32e70 held by:\r\n          \r\n            &quot;ExecuteThread: &#39;2&#39; for queue: &#39;weblogic.socket.Muxer&#39;&quot; id=26 idx=0xa4 tid=12680 in chain 1\r\n          \r\n            Open lock chains\r\n          \r\n            ================\r\n          \r\n            Chain 1:\r\n          \r\n            &quot;ExecuteThread: &#39;0&#39; for queue: &#39;weblogic.socket.Muxer&#39;&quot; id=24 idx=0x9c tid=12678 waiting for java/lang/String@0x92a32e70 held by:\r\n          \r\n            &quot;ExecuteThread: &#39;2&#39; for queue: &#39;weblogic.socket.Muxer&#39;&quot; id=26 idx=0xa4 tid=12680 (active)\r\n          \r\n\r\n          ","title":"Weblogic Java thread getting stuck","body":"<p>I have a J2EE application running in Weblogic 10.3.6  that seems to randomly get 2 stuck threads and I was wondering if anyone can point me in the right direction as to what the struck threads might be waiting on. Here is the thread dump:</p>\n\n<pre><code>\"Main Thread\" id=1 idx=0x4 tid=12639 prio=5 alive, waiting, native_blocked\n\n            -- Waiting for notification on: weblogic/t3/srvr/T3Srvr@0x92af6588[fat lock]\n\n            at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\n\n            at java/lang/Object.wait(J)V(Native Method)\n\n            at java/lang/Object.wait(Object.java:485)\n\n            at weblogic/t3/srvr/T3Srvr.waitForDeath(T3Srvr.java:981)\n\n            ^-- Lock released while waiting: weblogic/t3/srvr/T3Srvr@0x92af6588[fat lock]\n\n            at weblogic/t3/srvr/T3Srvr.run(T3Srvr.java:490)\n\n            at weblogic/Server.main(Server.java:71)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"(Signal Handler)\" id=2 idx=0x8 tid=12640 prio=5 alive, native_blocked, daemon\n\n        \"(OC Main Thread)\" id=3 idx=0xc tid=12641 prio=5 alive, native_waiting, daemon\n\n        \"(GC Worker Thread 1)\" id=? idx=0x10 tid=12642 prio=5 alive, daemon\n\n        \"(GC Worker Thread 2)\" id=? idx=0x14 tid=12643 prio=5 alive, daemon\n\n        \"(GC Worker Thread 3)\" id=? idx=0x18 tid=12644 prio=5 alive, daemon\n\n\n\n        \"(Code Generation Thread 1)\" id=4 idx=0x60 tid=12662 prio=5 alive, native_waiting, daemon\n\n        \"(Code Optimization Thread 1)\" id=5 idx=0x64 tid=12663 prio=5 alive, native_waiting, daemon\n\n        \"(VM Periodic Task)\" id=6 idx=0x68 tid=12664 prio=10 alive, native_blocked, daemon\n\n        \"Finalizer\" id=7 idx=0x6c tid=12665 prio=8 alive, native_waiting, daemon\n\n            at jrockit/memory/Finalizer.waitForFinalizees(J[Ljava/lang/Object;)I(Native Method)\n\n            at jrockit/memory/Finalizer.access$700(Finalizer.java:12)\n\n            at jrockit/memory/Finalizer$4.run(Finalizer.java:189)\n\n            at java/lang/Thread.run(Thread.java:619)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"Reference Handler\" id=8 idx=0x70 tid=12666 prio=10 alive, native_waiting, daemon\n\n            at java/lang/ref/Reference.waitForActivatedQueue(J)Ljava/lang/ref/Reference;(Native Method)\n\n            at java/lang/ref/Reference.access$100(Reference.java:11)\n\n            at java/lang/ref/Reference$ReferenceHandler.run(Reference.java:82)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"(Sensor Event Thread)\" id=9 idx=0x74 tid=12667 prio=5 alive, native_blocked, daemon\n\n        \"VM JFR Buffer Thread\" id=10 idx=0x78 tid=12668 prio=5 alive, in native, daemon\n\n        \"Timer-0\" id=14 idx=0x80 tid=12671 prio=5 alive, waiting, native_blocked, daemon\n\n            -- Waiting for notification on: java/util/TaskQueue@0x92b0ad40[fat lock]\n\n            at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\n\n            at java/lang/Object.wait(J)V(Native Method)\n\n            at java/util/TimerThread.mainLoop(Timer.java:509)\n\n            ^-- Lock released while waiting: java/util/TaskQueue@0x92b0ad40[fat lock]\n\n            at java/util/TimerThread.run(Timer.java:462)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"[STUCK] ExecuteThread: '0' for queue: 'weblogic.kernel.Default (self-tuning)'\" id=15 idx=0x84 tid=12672 prio=1 alive, native_blocked, daemon\n\n            at java/util/AbstractCollection.toArray(AbstractCollection.java:119)[optimized]\n\n            at java/util/ArrayList.&lt;init&gt;(ArrayList.java:131)[inlined]\n\n            at javax/faces/component/UIComponentBase$FacetsMap.keySetIterator(UIComponentBase.java:2228)[inlined]\n\n            at javax/faces/component/UIComponentBase$FacetsMapValuesIterator.&lt;init&gt;(UIComponentBase.java:2583)[inlined]\n\n            at javax/faces/component/UIComponentBase$FacetsMapValues.iterator(UIComponentBase.java:2567)[optimized]\n\n            at org/ajax4jsf/component/UIDataAdaptorBase.restoreChildState(UIDataAdaptorBase.java:1006)[optimized]\n\n            at org/ajax4jsf/component/UIDataAdaptorBase.restoreChildState(UIDataAdaptorBase.java:1004)[inlined]\n\n\n\n            at org/apache/el/MethodExpressionImpl.invoke(MethodExpressionImpl.java:276)\n\n            at com/sun/facelets/el/TagMethodExpression.invoke(TagMethodExpression.java:68)\n\n            at javax/faces/component/MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)\n\n            at com/sun/faces/application/ActionListenerImpl.processAction(ActionListenerImpl.java:102)\n\n            at com/CompName/AppName/core/web/CustomActionListener.processAction(CustomActionListener.java:51)\n\n            at javax/faces/component/UICommand.broadcast(UICommand.java:387)\n\n            at org/ajax4jsf/component/AjaxActionComponent.broadcast(AjaxActionComponent.java:55)\n\n            at org/ajax4jsf/component/AjaxViewRoot.processEvents(AjaxViewRoot.java:329)\n\n            at org/ajax4jsf/component/AjaxViewRoot$$com_CompName_AppName_validation_web_ProxyViewRootInterceptor.CGLIB$processEvents$12(Ljavax/faces/context/FacesContext;Lorg/ajax4jsf/event/EventsQueue;Z)V(&lt;generated&gt;)[inlined]\n\n            at weblogic/security/service/SecurityManager.runAs(SecurityManager.java:120)\n\n            at weblogic/servlet/internal/WebAppServletContext.securedExecute(WebAppServletContext.java:2273)\n\n            at weblogic/servlet/internal/WebAppServletContext.execute(WebAppServletContext.java:2179)\n\n            at weblogic/servlet/internal/ServletRequestImpl.run(ServletRequestImpl.java:1490)\n\n            at weblogic/work/ExecuteThread.execute(ExecuteThread.java:256)[optimized]\n\n            at weblogic/work/ExecuteThread.run(ExecuteThread.java:221)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"JFR request timer\" id=16 idx=0x88 tid=12673 prio=5 alive, waiting, native_blocked, daemon\n\n            -- Waiting for notification on: java/util/TaskQueue@0x92b0adc0[fat lock]\n\n            at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\n\n            at java/lang/Object.wait(J)V(Native Method)\n\n            at java/lang/Object.wait(Object.java:485)\n\n            at java/util/TimerThread.mainLoop(Timer.java:483)\n\n            ^-- Lock released while waiting: java/util/TaskQueue@0x92b0adc0[fat lock]\n\n            at java/util/TimerThread.run(Timer.java:462)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"weblogic.time.TimeEventGenerator\" id=18 idx=0x8c tid=12674 prio=9 alive, waiting, native_blocked, daemon\n\n            -- Waiting for notification on: weblogic/time/common/internal/TimeTable@0x92b0c1d0[fat lock]\n\n            at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\n\n            at java/lang/Object.wait(J)V(Native Method)\n\n            at weblogic/time/common/internal/TimeTable.snooze(TimeTable.java:286)\n\n            ^-- Lock released while waiting: weblogic/time/common/internal/TimeTable@0x92b0c1d0[fat lock]\n\n            at weblogic/time/common/internal/TimeEventGenerator.run(TimeEventGenerator.java:117)\n\n            at java/lang/Thread.run(Thread.java:619)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"JMAPI event thread\" id=19 idx=0x90 tid=12675 prio=5 alive, in native, daemon\n\n        \"weblogic.timers.TimerThread\" id=20 idx=0x94 tid=12676 prio=9 alive, waiting, native_blocked, daemon\n\n            -- Waiting for notification on: weblogic/timers/internal/TimerThread@0x92b0aec8[fat lock]\n\n            at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\n\n            at java/lang/Object.wait(J)V(Native Method)\n\n            at weblogic/timers/internal/TimerThread$Thread.run(TimerThread.java:262)\n\n            ^-- Lock released while waiting: weblogic/timers/internal/TimerThread@0x92b0aec8[fat lock]\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"[STUCK] ExecuteThread: '1' for queue: 'weblogic.kernel.Default (self-tuning)'\" id=21 idx=0x98 tid=12677 prio=1 alive, native_blocked, daemon\n\n            at com/sun/faces/config/ConfigureListener.attributeRemoved(ConfigureListener.java:321)[optimized]\n\n            at weblogic/servlet/internal/EventsManager.notifyRequestAttributeEvent(EventsManager.java:352)[inlined]\n\n            at weblogic/servlet/internal/RequestEventsFilter$EventsRequestWrapper.removeAttribute(RequestEventsFilter.java:58)[optimized]\n\n            at com/sun/faces/context/RequestMap.remove(ExternalContextImpl.java:1096)[optimized]\n\n            at org/ajax4jsf/component/UIDataAdaptorBase.removeVariable(UIDataAdaptorBase.java:583)[inlined]\n\n            at org/ajax4jsf/component/UIDataAdaptorBase.setupVariable(UIDataAdaptorBase.java:559)[inlined]\n\n            at org/richfaces/component/UITree.setupVariable(UITree.java:360)[optimized]\n\n            at org/ajax4jsf/component/UIDataAdaptorBase.setRowKey(UIDataAdaptorBase.java:357)[optimized]\n\n            at org/ajax4jsf/component/UIDataAdaptorBase.setRowKey(UIDataAdaptorBase.java:324)[inlined]\n\n            at org/richfaces/component/state/TreeState.expandNode(TreeState.java:233)[inlined]\n\n            at com/CompName/AppName/application/group/tree/AppNameTree.expandNode(AppNameTree.java:311)[optimized]\n\n\n            at org/ajax4jsf/component/AjaxViewRoot$$com_CompName_AppName_validation_web_ProxyViewRootInterceptor.CGLIB$processPhase$9(Ljavax/faces/context/FacesContext;Ljavax/faces/event/PhaseId;Lorg/ajax4jsf/context/InvokerCallback;)V(&lt;generated&gt;)[inlined]\n\n            at org/ajax4jsf/component/AjaxViewRoot$$com_CompName_AppName_validation_web_ProxyViewRootInterceptor$$FastClassByCGLIB$$b62d5b05.invoke(ILjava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;(&lt;generated&gt;)[optimized]\n\n            at net/sf/cglib/proxy/MethodProxy.invokeSuper(MethodProxy.java:167)[inlined]\n\n            at com/CompName/AppName/validation/web/ProxyViewRootInterceptor.intercept(ProxyViewRootInterceptor.java:172)[optimized]\n\n\n            at weblogic/servlet/internal/RequestDispatcherImpl.invokeServlet(RequestDispatcherImpl.java:527)\n\n            at weblogic/servlet/internal/RequestDispatcherImpl.forward(RequestDispatcherImpl.java:253)\n\n            at com/CompName/AppName/core/web/CustomFilter.processRequest(CustomFilter.java:281)[inlined]\n\n            at com/CompName/AppName/core/web/conversation/ConversationFilter.doFilter(ConversationFilter.java:97)[optimized]\n\n            at weblogic/servlet/internal/FilterChainImpl.doFilter(FilterChainImpl.java:56)[optimized]\n\n            at com/CompName/AppName/application/AuthenticationFilter.doFilter(AuthenticationFilter.java:84)\n\n            at weblogic/servlet/internal/FilterChainImpl.doFilter(FilterChainImpl.java:56)[optimized]\n\n            at weblogic/servlet/internal/RequestEventsFilter.doFilter(RequestEventsFilter.java:27)\n\n            at weblogic/servlet/internal/FilterChainImpl.doFilter(FilterChainImpl.java:56)[optimized]\n\n            at weblogic/servlet/internal/WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3730)\n\n            at weblogic/servlet/internal/WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3696)\n\n            at weblogic/security/acl/internal/AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n\n            at weblogic/security/service/SecurityManager.runAs(SecurityManager.java:120)\n\n            at weblogic/servlet/internal/WebAppServletContext.securedExecute(WebAppServletContext.java:2273)\n\n            at weblogic/servlet/internal/WebAppServletContext.execute(WebAppServletContext.java:2179)\n\n            at weblogic/servlet/internal/ServletRequestImpl.run(ServletRequestImpl.java:1490)\n\n            at weblogic/work/ExecuteThread.execute(ExecuteThread.java:256)[optimized]\n\n            at weblogic/work/ExecuteThread.run(ExecuteThread.java:221)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"ExecuteThread: '0' for queue: 'weblogic.socket.Muxer'\" id=24 idx=0x9c tid=12678 prio=5 alive, blocked, native_blocked, daemon\n\n            -- Blocked trying to get lock: java/lang/String@0x92a32e70[fat lock]\n\n            at jrockit/vm/Threads.waitForUnblockSignal()V(Native Method)\n\n            at jrockit/vm/Locks.fatLockBlockOrSpin(Locks.java:1402)[optimized]\n\n            at jrockit/vm/Locks.lockFat(Locks.java:1503)[optimized]\n\n            at jrockit/vm/Locks.monitorEnterSecondStageHard(Locks.java:1045)[optimized]\n\n            at jrockit/vm/Locks.monitorEnterSecondStage(Locks.java:996)[optimized]\n\n            at jrockit/vm/Locks.monitorEnter(Locks.java:2170)[optimized]\n\n            at weblogic/socket/EPollSocketMuxer.processSockets(EPollSocketMuxer.java:153)\n\n            at weblogic/socket/SocketReaderRequest.run(SocketReaderRequest.java:29)\n\n            at weblogic/socket/SocketReaderRequest.execute(SocketReaderRequest.java:42)\n\n            at weblogic/kernel/ExecuteThread.execute(ExecuteThread.java:145)\n\n            at weblogic/kernel/ExecuteThread.run(ExecuteThread.java:117)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"ExecuteThread: '1' for queue: 'weblogic.socket.Muxer'\" id=25 idx=0xa0 tid=12679 prio=5 alive, blocked, native_blocked, daemon\n\n            -- Blocked trying to get lock: java/lang/String@0x92a32e70[fat lock]\n\n            at jrockit/vm/Threads.waitForUnblockSignal()V(Native Method)\n\n            at jrockit/vm/Locks.fatLockBlockOrSpin(Locks.java:1402)[optimized]\n\n            at jrockit/vm/Locks.lockFat(Locks.java:1503)[optimized]\n\n            at jrockit/vm/Locks.monitorEnterSecondStageHard(Locks.java:1045)[optimized]\n\n            at jrockit/vm/Locks.monitorEnterSecondStage(Locks.java:996)[optimized]\n\n            at jrockit/vm/Locks.monitorEnter(Locks.java:2170)[optimized]\n\n            at weblogic/socket/EPollSocketMuxer.processSockets(EPollSocketMuxer.java:153)\n\n            at weblogic/socket/SocketReaderRequest.run(SocketReaderRequest.java:29)\n\n            at weblogic/socket/SocketReaderRequest.execute(SocketReaderRequest.java:42)\n\n            at weblogic/kernel/ExecuteThread.execute(ExecuteThread.java:145)\n\n            at weblogic/kernel/ExecuteThread.run(ExecuteThread.java:117)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"ExecuteThread: '2' for queue: 'weblogic.socket.Muxer'\" id=26 idx=0xa4 tid=12680 prio=5 alive, in native, daemon\n\n            at jrockit/ext/epoll/EPoll.epollWait0(ILjava/nio/ByteBuffer;II)I(Native Method)\n\n            at jrockit/ext/epoll/EPoll.epollWait(EPoll.java:115)\n\n            at weblogic/socket/EPollSocketMuxer.processSockets(EPollSocketMuxer.java:156)\n\n            ^-- Holding lock: java/lang/String@0x92a32e70[fat lock]\n\n            at weblogic/socket/SocketReaderRequest.run(SocketReaderRequest.java:29)\n\n            at weblogic/socket/SocketReaderRequest.execute(SocketReaderRequest.java:42)\n\n            at weblogic/kernel/ExecuteThread.execute(ExecuteThread.java:145)\n\n            at weblogic/kernel/ExecuteThread.run(ExecuteThread.java:117)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"ExecuteThread: '3' for queue: 'weblogic.socket.Muxer'\" id=27 idx=0xa8 tid=12681 prio=5 alive, blocked, native_blocked, daemon\n\n            -- Blocked trying to get lock: java/lang/String@0x92a32e70[fat lock]\n\n            at jrockit/vm/Threads.waitForUnblockSignal()V(Native Method)\n\n            at jrockit/vm/Locks.fatLockBlockOrSpin(Locks.java:1402)[optimized]\n\n            at jrockit/vm/Locks.lockFat(Locks.java:1503)[optimized]\n\n            at jrockit/vm/Locks.monitorEnterSecondStageHard(Locks.java:1045)[optimized]\n\n            at jrockit/vm/Locks.monitorEnterSecondStage(Locks.java:996)[optimized]\n\n            at jrockit/vm/Locks.monitorEnter(Locks.java:2170)[optimized]\n\n            at weblogic/socket/EPollSocketMuxer.processSockets(EPollSocketMuxer.java:153)\n\n            at weblogic/socket/SocketReaderRequest.run(SocketReaderRequest.java:29)\n\n            at weblogic/socket/SocketReaderRequest.execute(SocketReaderRequest.java:42)\n\n            at weblogic/kernel/ExecuteThread.execute(ExecuteThread.java:145)\n\n            at weblogic/kernel/ExecuteThread.run(ExecuteThread.java:117)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"Timer-1\" id=28 idx=0xac tid=12683 prio=5 alive, waiting, native_blocked, daemon\n\n            -- Waiting for notification on: java/util/TaskQueue@0x92b0c9b0[fat lock]\n\n            at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\n\n            at java/lang/Object.wait(J)V(Native Method)\n\n            at java/lang/Object.wait(Object.java:485)\n\n            at java/util/TimerThread.mainLoop(Timer.java:483)\n\n            ^-- Lock released while waiting: java/util/TaskQueue@0x92b0c9b0[fat lock]\n\n            at java/util/TimerThread.run(Timer.java:462)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"VDE Transaction Processor Thread\" id=31 idx=0xb0 tid=12684 prio=2 alive, waiting, native_blocked, daemon\n\n            -- Waiting for notification on: com/octetstring/vde/backend/standard/TransactionProcessor@0x92b0ba48[fat lock]\n\n            at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\n\n            at java/lang/Object.wait(J)V(Native Method)\n\n            at java/lang/Object.wait(Object.java:485)\n\n            at com/octetstring/vde/backend/standard/TransactionProcessor.waitChange(TransactionProcessor.java:367)\n\n            ^-- Lock released while waiting: com/octetstring/vde/backend/standard/TransactionProcessor@0x92b0ba48[fat lock]\n\n            at com/octetstring/vde/backend/standard/TransactionProcessor.run(TransactionProcessor.java:212)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"DoSManager\" id=34 idx=0xb8 tid=12686 prio=6 alive, sleeping, native_waiting, daemon\n\n            at java/lang/Thread.sleep(J)V(Native Method)\n\n            at com/octetstring/vde/DoSManager.run(DoSManager.java:433)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"Timer-2\" id=35 idx=0xbc tid=12687 prio=5 alive, waiting, native_blocked, daemon\n\n            -- Waiting for notification on: java/util/TaskQueue@0x92b0ce80[fat lock]\n\n            at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\n\n            at java/lang/Object.wait(J)V(Native Method)\n\n            at java/util/TimerThread.mainLoop(Timer.java:509)\n\n            ^-- Lock released while waiting: java/util/TaskQueue@0x92b0ce80[fat lock]\n\n            at java/util/TimerThread.run(Timer.java:462)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n\n        \"[STANDBY] ExecuteThread: '2' for queue: 'weblogic.kernel.Default (self-tuning)'\" id=37 idx=0xc4 tid=13075 prio=5 alive, waiting, native_blocked, daemon\n\n            -- Waiting for notification on: weblogic/work/ExecuteThread@0x872bbdf0[fat lock]\n\n            at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\n\n            at jrockit/vm/Locks.wait(Locks.java:1964)[inlined]\n\n            at java/lang/Object.wait(Object.java:485)[inlined]\n\n            at weblogic/work/ExecuteThread.waitForRequest(ExecuteThread.java:205)[optimized]\n\n            ^-- Lock released while waiting: weblogic/work/ExecuteThread@0x872bbdf0[fat lock]\n\n            at weblogic/work/ExecuteThread.run(ExecuteThread.java:226)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"[STANDBY] ExecuteThread: '3' for queue: 'weblogic.kernel.Default (self-tuning)'\" id=38 idx=0xc8 tid=13076 prio=5 alive, waiting, native_blocked, daemon\n\n            -- Waiting for notification on: weblogic/work/ExecuteThread@0x872e99f8[fat lock]\n\n            at jrockit/vm/Threads.waitForNotifySignal(JLjava/lang/Object;)Z(Native Method)\n\n            at jrockit/vm/Locks.wait(Locks.java:1964)[inlined]\n\n            at java/lang/Object.wait(Object.java:485)[inlined]\n\n            at weblogic/work/ExecuteThread.waitForRequest(ExecuteThread.java:205)[optimized]\n\n            ^-- Lock released while waiting: weblogic/work/ExecuteThread@0x872e99f8[fat lock]\n\n            at weblogic/work/ExecuteThread.run(ExecuteThread.java:226)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"ConversationReaper\" id=44 idx=0xe0 tid=13104 prio=5 alive, sleeping, native_waiting, daemon\n\n            at java/lang/Thread.sleep(J)V(Native Method)\n\n            at com/CompName/AppName/core/web/conversation/ConversationManager$ConversationReaper.run(ConversationManager.java:405)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n\n        \"DynamicListenThread[Default]\" id=47 idx=0xe8 tid=13106 prio=9 alive, in native, daemon\n\n            at java/net/PlainSocketImpl.socketAccept(Ljava/net/SocketImpl;)V(Native Method)\n\n            at java/net/PlainSocketImpl.accept(PlainSocketImpl.java:390)\n\n            ^-- Holding lock: java/net/SocksSocketImpl@0x9224b198[biased lock]\n\n            at java/net/ServerSocket.implAccept(ServerSocket.java:453)\n\n            at java/net/ServerSocket.accept(ServerSocket.java:421)\n\n            at weblogic/socket/WeblogicServerSocket.accept(WeblogicServerSocket.java:38)\n\n            at weblogic/server/channels/DynamicListenThread$SocketAccepter.accept(DynamicListenThread.java:535)\n\n            at weblogic/server/channels/DynamicListenThread$SocketAccepter.access$200(DynamicListenThread.java:417)\n\n            at weblogic/server/channels/DynamicListenThread.run(DynamicListenThread.java:173)\n\n            at java/lang/Thread.run(Thread.java:619)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n        \"DynamicListenThread[Default[1]]\" id=48 idx=0xec tid=13107 prio=9 alive, in native, daemon\n\n            at java/net/PlainSocketImpl.socketAccept(Ljava/net/SocketImpl;)V(Native Method)\n\n            at java/net/PlainSocketImpl.accept(PlainSocketImpl.java:390)\n\n            ^-- Holding lock: java/net/SocksSocketImpl@0x922a64b0[biased lock]\n\n            at java/net/ServerSocket.implAccept(ServerSocket.java:453)\n\n            at java/net/ServerSocket.accept(ServerSocket.java:421)\n\n            at weblogic/socket/WeblogicServerSocket.accept(WeblogicServerSocket.java:38)\n\n            at weblogic/server/channels/DynamicListenThread$SocketAccepter.accept(DynamicListenThread.java:535)\n\n            at weblogic/server/channels/DynamicListenThread$SocketAccepter.access$200(DynamicListenThread.java:417)\n\n            at weblogic/server/channels/DynamicListenThread.run(DynamicListenThread.java:173)\n\n            at java/lang/Thread.run(Thread.java:619)\n\n            at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)\n\n            -- end of trace\n\n\n\n        Blocked lock chains\n\n        ===================\n\n        Chain 2:\n\n        \"ExecuteThread: '1' for queue: 'weblogic.socket.Muxer'\" id=25 idx=0xa0 tid=12679 waiting for java/lang/String@0x92a32e70 held by:\n\n        \"ExecuteThread: '2' for queue: 'weblogic.socket.Muxer'\" id=26 idx=0xa4 tid=12680 in chain 1\n\n        Chain 3:\n\n        \"ExecuteThread: '3' for queue: 'weblogic.socket.Muxer'\" id=27 idx=0xa8 tid=12681 waiting for java/lang/String@0x92a32e70 held by:\n\n        \"ExecuteThread: '2' for queue: 'weblogic.socket.Muxer'\" id=26 idx=0xa4 tid=12680 in chain 1\n\n        Open lock chains\n\n        ================\n\n        Chain 1:\n\n        \"ExecuteThread: '0' for queue: 'weblogic.socket.Muxer'\" id=24 idx=0x9c tid=12678 waiting for java/lang/String@0x92a32e70 held by:\n\n        \"ExecuteThread: '2' for queue: 'weblogic.socket.Muxer'\" id=26 idx=0xa4 tid=12680 (active)\n</code></pre>\n"},{"tags":["java","scala","google-cloud-platform","google-cloud-pubsub"],"answers":[{"tags":[],"owner":{"account_id":1055293,"reputation":1513,"user_id":5115898,"display_name":"Tobi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695006735,"creation_date":1695006735,"answer_id":77124379,"question_id":44536853,"body_markdown":"The [Google Cloud Pub/Sub docs mention][1] that Java and C# client libraries do not automatically connect to the emulator host via `PUBSUB_EMULATOR_HOST`.\r\n\r\nInstead, you should do the following (extracted from the docs):\r\n\r\n```java\r\nString hostport = System.getenv(&quot;PUBSUB_EMULATOR_HOST&quot;);\r\nManagedChannel channel = ManagedChannelBuilder.forTarget(hostport).usePlaintext().build();\r\nCredentialsProvider credentialsProvider = NoCredentialsProvider.create();\r\n\r\n// Publisher that connects to the emulator\r\nTopicName topicName = TopicName.of(&quot;my-project-id&quot;, &quot;my-topic-id&quot;);\r\n\r\n// Set the channel and credentials provider when creating a `Publisher`.\r\n// Similarly for Subscriber\r\nPublisher publisher =\r\n    Publisher.newBuilder(topicName)\r\n        .setChannelProvider(channelProvider)\r\n        .setCredentialsProvider(credentialsProvider)\r\n        .build();\r\n``` \r\nYou may want to check if `PUBSUB_EMULATOR_HOST` is set and only then set `NoCredentialsProvider` and the custom `ManagedChannel` on the builder.\r\n\r\n  [1]: https://cloud.google.com/pubsub/docs/emulator#accessing_environment_variables","title":"Google Cloud Pub/Sub client library for Java not using local emulator","body":"<p>The <a href=\"https://cloud.google.com/pubsub/docs/emulator#accessing_environment_variables\" rel=\"nofollow noreferrer\">Google Cloud Pub/Sub docs mention</a> that Java and C# client libraries do not automatically connect to the emulator host via <code>PUBSUB_EMULATOR_HOST</code>.</p>\n<p>Instead, you should do the following (extracted from the docs):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String hostport = System.getenv(&quot;PUBSUB_EMULATOR_HOST&quot;);\nManagedChannel channel = ManagedChannelBuilder.forTarget(hostport).usePlaintext().build();\nCredentialsProvider credentialsProvider = NoCredentialsProvider.create();\n\n// Publisher that connects to the emulator\nTopicName topicName = TopicName.of(&quot;my-project-id&quot;, &quot;my-topic-id&quot;);\n\n// Set the channel and credentials provider when creating a `Publisher`.\n// Similarly for Subscriber\nPublisher publisher =\n    Publisher.newBuilder(topicName)\n        .setChannelProvider(channelProvider)\n        .setCredentialsProvider(credentialsProvider)\n        .build();\n</code></pre>\n<p>You may want to check if <code>PUBSUB_EMULATOR_HOST</code> is set and only then set <code>NoCredentialsProvider</code> and the custom <code>ManagedChannel</code> on the builder.</p>\n"}],"owner":{"account_id":4572694,"reputation":1461,"user_id":3711976,"accept_rate":54,"display_name":"Kakaji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1055,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1695006735,"creation_date":1497420909,"question_id":44536853,"body_markdown":"I am trying to use Google cloud Pub/Sub emulator for testing my scala app. [Documentation][1] states the following -\r\n\r\n&gt; Run the env-init command to determine and set the environment variables used by the emulator. Note that after following these instructions, the Google Cloud Pub/Sub client libraries in your code call the API running in the local instance instead of the production API.\r\n\r\nBut when I publish a message or create a topic it gets executed in the cloud and not on my local emulator. I have confirmed that the environment variable is set correctly using `println(s&quot;ENV: ${sys.env(&quot;PUBSUB_EMULATOR_HOST&quot;)}&quot;)` which prints `ENV: localhost:8085`. \r\n\r\nI tried forcing the library to use my local setup as follows \r\n\r\n    val settings = TopicAdminSettings.defaultBuilder()\r\n      .setChannelProvider(InstantiatingChannelProvider.newBuilder()\r\n        .setEndpoint(&quot;localhost:8085&quot;)\r\n          .setCredentialsProvider(TopicAdminSettings.defaultCredentialsProviderBuilder().build())\r\n        .build())\r\n      .build()\r\n\r\n    val topicAdminClient = TopicAdminClient.create(settings)\r\n    topicAdminClient.createTopic(topicName)\r\n\r\nThis way I succeed to send a request to my local setup but that results in the following error -\r\n\r\n    [pubsub] 6 14, 2017 2:49:11 午後 io.gapi.emulators.grpc.GrpcServer$3 operationComplete\r\n    [pubsub] INFO: Adding handler(s) to newly registered Channel.\r\n    [pubsub] 6 14, 2017 2:49:11 午後io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\n    [pubsub] INFO: Detected non-HTTP/2 connection.\r\n    [pubsub] 6 14, 2017 2:49:11 午後 io.gapi.emulators.netty.NotFoundHandler handleRequest\r\n    [pubsub] INFO: Unknown request URI: /bad-request\r\n    [pubsub] 6 14, 2017 2:49:35 午後 io.gapi.emulators.grpc.GrpcServer$3 operationComplete\r\n    [pubsub] INFO: Adding handler(s) to newly registered Channel.\r\n    [pubsub] 6 14, 2017 2:49:35 午後 io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\n    [pubsub] INFO: Detected non-HTTP/2 connection.\r\n    [pubsub] 6 14, 2017 2:49:35 午後 io.gapi.emulators.netty.NotFoundHandler handleRequest\r\n    [pubsub] INFO: Unknown request URI: /bad-request\r\n\r\nI started the emulator as follows -\r\n\r\n    PC-12041:random kakaji$ sudo gcloud beta emulators pubsub start\r\n    Password:\r\n    Executing: /usr/local/google-cloud-sdk/platform/pubsub-emulator/bin/cloud-pubsub-emulator --host=localhost --port=8085\r\n    [pubsub] This is the Google Pub/Sub fake.\r\n    [pubsub] Implementation may be incomplete or differ from the real system.\r\n    [pubsub] 6 14, 2017 2:59:21 午後 com.google.cloud.pubsub.testing.v1.Main main\r\n    [pubsub] INFO: IAM integration is disabled. IAM policy methods and ACL checks are not supported\r\n    [pubsub] 6 14, 2017 2:59:21 午後 io.grpc.internal.ManagedChannelImpl &lt;init&gt;\r\n    [pubsub] INFO: [ManagedChannelImpl@77b52d12] Created with target localhost:8085\r\n    [pubsub] 6 14, 2017 2:59:21 午後 io.gapi.emulators.netty.NettyUtil applyJava7LongHostnameWorkaround\r\n    [pubsub] INFO: Unable to apply Java 7 long hostname workaround.\r\n    [pubsub] 6 14, 2017 2:59:21 午後 com.google.cloud.pubsub.testing.v1.Main main\r\n    [pubsub] INFO: Server started, listening on 8085\r\n\r\n  [1]: https://cloud.google.com/pubsub/docs/emulator","title":"Google Cloud Pub/Sub client library for Java not using local emulator","body":"<p>I am trying to use Google cloud Pub/Sub emulator for testing my scala app. <a href=\"https://cloud.google.com/pubsub/docs/emulator\" rel=\"noreferrer\">Documentation</a> states the following -</p>\n\n<blockquote>\n  <p>Run the env-init command to determine and set the environment variables used by the emulator. Note that after following these instructions, the Google Cloud Pub/Sub client libraries in your code call the API running in the local instance instead of the production API.</p>\n</blockquote>\n\n<p>But when I publish a message or create a topic it gets executed in the cloud and not on my local emulator. I have confirmed that the environment variable is set correctly using <code>println(s\"ENV: ${sys.env(\"PUBSUB_EMULATOR_HOST\")}\")</code> which prints <code>ENV: localhost:8085</code>. </p>\n\n<p>I tried forcing the library to use my local setup as follows </p>\n\n<pre><code>val settings = TopicAdminSettings.defaultBuilder()\n  .setChannelProvider(InstantiatingChannelProvider.newBuilder()\n    .setEndpoint(\"localhost:8085\")\n      .setCredentialsProvider(TopicAdminSettings.defaultCredentialsProviderBuilder().build())\n    .build())\n  .build()\n\nval topicAdminClient = TopicAdminClient.create(settings)\ntopicAdminClient.createTopic(topicName)\n</code></pre>\n\n<p>This way I succeed to send a request to my local setup but that results in the following error -</p>\n\n<pre><code>[pubsub] 6 14, 2017 2:49:11 午後 io.gapi.emulators.grpc.GrpcServer$3 operationComplete\n[pubsub] INFO: Adding handler(s) to newly registered Channel.\n[pubsub] 6 14, 2017 2:49:11 午後io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\n[pubsub] INFO: Detected non-HTTP/2 connection.\n[pubsub] 6 14, 2017 2:49:11 午後 io.gapi.emulators.netty.NotFoundHandler handleRequest\n[pubsub] INFO: Unknown request URI: /bad-request\n[pubsub] 6 14, 2017 2:49:35 午後 io.gapi.emulators.grpc.GrpcServer$3 operationComplete\n[pubsub] INFO: Adding handler(s) to newly registered Channel.\n[pubsub] 6 14, 2017 2:49:35 午後 io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\n[pubsub] INFO: Detected non-HTTP/2 connection.\n[pubsub] 6 14, 2017 2:49:35 午後 io.gapi.emulators.netty.NotFoundHandler handleRequest\n[pubsub] INFO: Unknown request URI: /bad-request\n</code></pre>\n\n<p>I started the emulator as follows -</p>\n\n<pre><code>PC-12041:random kakaji$ sudo gcloud beta emulators pubsub start\nPassword:\nExecuting: /usr/local/google-cloud-sdk/platform/pubsub-emulator/bin/cloud-pubsub-emulator --host=localhost --port=8085\n[pubsub] This is the Google Pub/Sub fake.\n[pubsub] Implementation may be incomplete or differ from the real system.\n[pubsub] 6 14, 2017 2:59:21 午後 com.google.cloud.pubsub.testing.v1.Main main\n[pubsub] INFO: IAM integration is disabled. IAM policy methods and ACL checks are not supported\n[pubsub] 6 14, 2017 2:59:21 午後 io.grpc.internal.ManagedChannelImpl &lt;init&gt;\n[pubsub] INFO: [ManagedChannelImpl@77b52d12] Created with target localhost:8085\n[pubsub] 6 14, 2017 2:59:21 午後 io.gapi.emulators.netty.NettyUtil applyJava7LongHostnameWorkaround\n[pubsub] INFO: Unable to apply Java 7 long hostname workaround.\n[pubsub] 6 14, 2017 2:59:21 午後 com.google.cloud.pubsub.testing.v1.Main main\n[pubsub] INFO: Server started, listening on 8085\n</code></pre>\n"},{"tags":["java","serialization","spigot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1695006310,"post_id":77124331,"comment_id":135961633,"body_markdown":"Only the fields need to be serializable.","body":"Only the fields need to be serializable."}],"answers":[{"tags":[],"owner":{"account_id":14883843,"reputation":193,"user_id":12280406,"display_name":"solitude"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695006286,"creation_date":1695006286,"answer_id":77124359,"question_id":77124331,"body_markdown":"Yes you can. \r\n\r\nSerialize is only concerned with the state of an object, which is determined by the instance varibles and not by its methods.\r\n\r\nTo use non-serializable objects within the Serializable class without affecting serializabilty of the class itself like in your case; your `Player` obj will only used within the scope of the `addPlayer` method. Its not stored as an instance variable on your `Town` class so it does not really affect the serializabilty of your `Town` class. So yes you can use your `addPlayer(Player p)` method as is. The only thing that gets serialized are the fields of your Town class such as `(name, color, mayors, cabinet, citizens)`. So no need to worry about your `Player` not being serializable.","title":"Java can an object be serialized if it uses non-serializable data in a method?","body":"<p>Yes you can.</p>\n<p>Serialize is only concerned with the state of an object, which is determined by the instance varibles and not by its methods.</p>\n<p>To use non-serializable objects within the Serializable class without affecting serializabilty of the class itself like in your case; your <code>Player</code> obj will only used within the scope of the <code>addPlayer</code> method. Its not stored as an instance variable on your <code>Town</code> class so it does not really affect the serializabilty of your <code>Town</code> class. So yes you can use your <code>addPlayer(Player p)</code> method as is. The only thing that gets serialized are the fields of your Town class such as <code>(name, color, mayors, cabinet, citizens)</code>. So no need to worry about your <code>Player</code> not being serializable.</p>\n"}],"owner":{"account_id":13578540,"reputation":11,"user_id":10913812,"display_name":"Bionicle Kolacz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77124359,"answer_count":1,"score":-1,"last_activity_date":1695006286,"creation_date":1695005478,"question_id":77124331,"body_markdown":"I have the following class:\r\n\r\n```\r\npublic class Town implements Serializable {\r\n    public String name = &quot;Town&quot;;\r\n    public String color = &quot;White&quot;;\r\n    public ArrayList&lt;UUID&gt; mayors = new ArrayList&lt;&gt;();\r\n    public ArrayList&lt;UUID&gt; cabinet = new ArrayList&lt;&gt;();\r\n    public ArrayList&lt;UUID&gt; citizens = new ArrayList&lt;&gt;();\r\n\r\n}\r\n```\r\nI want to add an &quot;addPlayer&quot; void, that adds the UUID of a player, (working on a spigot/minecraft plugin) obtained from Player.getUniqueID()  (returns a UUID object), I&#39;m wondering if my method could look like this:\r\n\r\n```\r\npublic void addPlayer (Player p){\r\n    citizens.add(p.getUniqueID());\r\n}\r\n```\r\nor if since the Player object is not serializable if I would need to just have the method take a UUID instead of a player?\r\n\r\nSimply put, can non-serializable objects be used within the scope of functions since they aren&#39;t being used as field variables? \r\n\r\n\r\n\r\n\r\nI know it&#39;d be super easy to just put in a UUID instead of player object if necessary, but knowing whether or not I can do this will help me a lot with some other things I have planned for the project","title":"Java can an object be serialized if it uses non-serializable data in a method?","body":"<p>I have the following class:</p>\n<pre><code>public class Town implements Serializable {\n    public String name = &quot;Town&quot;;\n    public String color = &quot;White&quot;;\n    public ArrayList&lt;UUID&gt; mayors = new ArrayList&lt;&gt;();\n    public ArrayList&lt;UUID&gt; cabinet = new ArrayList&lt;&gt;();\n    public ArrayList&lt;UUID&gt; citizens = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p>I want to add an &quot;addPlayer&quot; void, that adds the UUID of a player, (working on a spigot/minecraft plugin) obtained from Player.getUniqueID()  (returns a UUID object), I'm wondering if my method could look like this:</p>\n<pre><code>public void addPlayer (Player p){\n    citizens.add(p.getUniqueID());\n}\n</code></pre>\n<p>or if since the Player object is not serializable if I would need to just have the method take a UUID instead of a player?</p>\n<p>Simply put, can non-serializable objects be used within the scope of functions since they aren't being used as field variables?</p>\n<p>I know it'd be super easy to just put in a UUID instead of player object if necessary, but knowing whether or not I can do this will help me a lot with some other things I have planned for the project</p>\n"},{"tags":["java","mocking","mockito","powermockito","java-sealed-type"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1626675556,"post_id":68435772,"comment_id":120946772,"body_markdown":"I assume you could add a MockImpl to the permits list","body":"I assume you could add a MockImpl to the permits list"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1626675942,"post_id":68435772,"comment_id":120946867,"body_markdown":"From what I know about sealed classes so far, your mocks would also have to be part of the same module and, as Stultuske said, they probably need to be part of the permits list. This might not be practical and I assume new approaches of dealing with sealed classes will emerge, e.g. sealing them after they&#39;ve been tested, e.g. in some production build.","body":"From what I know about sealed classes so far, your mocks would also have to be part of the same module and, as Stultuske said, they probably need to be part of the permits list. This might not be practical and I assume new approaches of dealing with sealed classes will emerge, e.g. sealing them after they&#39;ve been tested, e.g. in some production build."},{"owner":{"account_id":2649619,"reputation":61,"user_id":2291640,"display_name":"Curious"},"score":1,"creation_date":1626677176,"post_id":68435772,"comment_id":120947208,"body_markdown":"@Stultuske I thought about this, and thought it could be viable, but then I started to think about how that would affect the enhanced switch statements.  But more to the point, this would create another implementation and not a mock.","body":"@Stultuske I thought about this, and thought it could be viable, but then I started to think about how that would affect the enhanced switch statements.  But more to the point, this would create another implementation and not a mock."}],"answers":[{"comments":[{"owner":{"account_id":2649619,"reputation":61,"user_id":2291640,"display_name":"Curious"},"score":1,"creation_date":1626677302,"post_id":68435990,"comment_id":120947235,"body_markdown":"I&#39;m not sure this answers the question, &quot;Is there any way to mock a sealed interface?&quot;","body":"I&#39;m not sure this answers the question, &quot;Is there any way to mock a sealed interface?&quot;"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1626677892,"post_id":68435990,"comment_id":120947397,"body_markdown":"@Curious how does &quot;mock one of it&#39;s known implementations&quot; not provide an answer?","body":"@Curious how does &quot;mock one of it&#39;s known implementations&quot; not provide an answer?"},{"owner":{"account_id":2649619,"reputation":61,"user_id":2291640,"display_name":"Curious"},"score":0,"creation_date":1626679047,"post_id":68435990,"comment_id":120947780,"body_markdown":"Oh, you&#39;re right, this might work for my purposes.  I&#39;m going to try this quick.  This however doesn&#39;t answer the question of being able to mock the _interface_.","body":"Oh, you&#39;re right, this might work for my purposes.  I&#39;m going to try this quick.  This however doesn&#39;t answer the question of being able to mock the <i>interface</i>."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1626679296,"post_id":68435990,"comment_id":120947866,"body_markdown":"@Curious then you should try to understand the rest of his answer, this is one of those reasons why you might not want to use sealed interfaces. anyway, by mocking an implementation, you actually are mocking the interface","body":"@Curious then you should try to understand the rest of his answer, this is one of those reasons why you might not want to use sealed interfaces. anyway, by mocking an implementation, you actually are mocking the interface"},{"owner":{"account_id":2649619,"reputation":61,"user_id":2291640,"display_name":"Curious"},"score":0,"creation_date":1626679714,"post_id":68435990,"comment_id":120948014,"body_markdown":"@Stultuske This could be, but whether I want to mock a known implementation or not, this answer is a bit off topic.  The question is asking if it&#39;s possible to mock a sealed class, not a specific implementation of that class.","body":"@Stultuske This could be, but whether I want to mock a known implementation or not, this answer is a bit off topic.  The question is asking if it&#39;s possible to mock a sealed class, not a specific implementation of that class."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1626679931,"post_id":68435990,"comment_id":120948084,"body_markdown":"@Curious a mock is basically an anonymous implementation, which is not covered in your permits list, as the answer states, &quot;you found one of the variety reasons sealed classes are a thing you should probably never use without a Very Good Reason&quot;.  That line basically provides the answer you claim you didn&#39;t get.","body":"@Curious a mock is basically an anonymous implementation, which is not covered in your permits list, as the answer states, &quot;you found one of the variety reasons sealed classes are a thing you should probably never use without a Very Good Reason&quot;.  That line basically provides the answer you claim you didn&#39;t get."},{"owner":{"account_id":2649619,"reputation":61,"user_id":2291640,"display_name":"Curious"},"score":0,"creation_date":1626680093,"post_id":68435990,"comment_id":120948137,"body_markdown":"@Stultuske, does that mean that the answer, as written is, &quot;You cannot mock a sealed interface&quot;?  (Does the JVM instrumentation provide support for testing operations? Are there currently other ways a mock can be created?  Can I create native code to mock the interface? etc.)","body":"@Stultuske, does that mean that the answer, as written is, &quot;You cannot mock a sealed interface&quot;?  (Does the JVM instrumentation provide support for testing operations? Are there currently other ways a mock can be created?  Can I create native code to mock the interface? etc.)"},{"owner":{"account_id":2649619,"reputation":61,"user_id":2291640,"display_name":"Curious"},"score":0,"creation_date":1626680708,"post_id":68435990,"comment_id":120948362,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/235040/discussion-between-curious-and-stultuske).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/235040/discussion-between-curious-and-stultuske\">continue this discussion in chat</a>."},{"owner":{"account_id":13337992,"reputation":88,"user_id":9627206,"display_name":"belzebubele"},"score":0,"creation_date":1701257309,"post_id":68435990,"comment_id":136752505,"body_markdown":"TLDR: \nwrite your mock like: \n`MySealedInterface mySealedInterfaceMock = Mockito.mock(MyPermittedImpl.class);`\nA bit longer:\nwhat an unqualified advice, saying that you dont need to use Sealed.\n\nSealed interface is something that is needed most urgently in java and thats why they added it. (trying to keep up with various other languages that deliver on features like pattern matching, match expressions).\nMocking a sealed interface makes sense aswell. when your code under test interacts with an interface you shouldnt have to reach out for an impl just bc a language has a bad design.","body":"TLDR:  write your mock like:  <code>MySealedInterface mySealedInterfaceMock = Mockito.mock(MyPermittedImpl.class);</code> A bit longer: what an unqualified advice, saying that you dont need to use Sealed.  Sealed interface is something that is needed most urgently in java and thats why they added it. (trying to keep up with various other languages that deliver on features like pattern matching, match expressions). Mocking a sealed interface makes sense aswell. when your code under test interacts with an interface you shouldnt have to reach out for an impl just bc a language has a bad design."}],"tags":[],"owner":{"account_id":208696,"reputation":2360,"user_id":459347,"accept_rate":100,"display_name":"lscoughlin"},"comment_count":9,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1626764038,"creation_date":1626676071,"answer_id":68435990,"question_id":68435772,"body_markdown":"It is not possible to mock a sealed class.\r\n\r\nIf you find yourself in the position of having to do so, you should be question whether or not you should be using a sealed class at all.\r\n\r\nThe actual set of use cases for sealed classes is _really small_ and you probably don&#39;t need them.\r\n\r\n---- original answer ---- \r\n\r\nOh look, you found one of the various reasons that sealed classes are a thing that you should probably never use without a Very Good Reason (tm).\r\n\r\nSealed classes should _always_ be abstract.\r\n\r\nMock one of its known implementations, not the the sealed class.\r\n\r\nIf it&#39;s not your code, find a new library.","title":"Is there any way to mock a sealed interface?","body":"<p>It is not possible to mock a sealed class.</p>\n<p>If you find yourself in the position of having to do so, you should be question whether or not you should be using a sealed class at all.</p>\n<p>The actual set of use cases for sealed classes is <em>really small</em> and you probably don't need them.</p>\n<p>---- original answer ----</p>\n<p>Oh look, you found one of the various reasons that sealed classes are a thing that you should probably never use without a Very Good Reason (tm).</p>\n<p>Sealed classes should <em>always</em> be abstract.</p>\n<p>Mock one of its known implementations, not the the sealed class.</p>\n<p>If it's not your code, find a new library.</p>\n"},{"tags":[],"owner":{"account_id":119737,"reputation":29617,"user_id":311660,"accept_rate":92,"display_name":"ocodo"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1695006078,"creation_date":1695006078,"answer_id":77124353,"question_id":68435772,"body_markdown":"Since the answer with caveats was downvoted.  Here&#39;s the headline.\r\n\r\n# No\r\n\r\n\r\n","title":"Is there any way to mock a sealed interface?","body":"<p>Since the answer with caveats was downvoted.  Here's the headline.</p>\n<h1>No</h1>\n"}],"owner":{"account_id":2649619,"reputation":61,"user_id":2291640,"display_name":"Curious"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3913,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1695006078,"creation_date":1626674816,"question_id":68435772,"body_markdown":"Today I created a small test project for java 16 preview.  I created a sealed interface and a final implementation.\r\n\r\nI want to know if there is anyway to be able to mock the sealed interface so that I can test implementations that use the sealed interface.\r\n\r\n```\r\npackage gluestick;\r\n\r\npublic sealed interface Test permits TestImpl {\r\n    int doIt();\r\n}\r\n```\r\n```\r\npackage gluestick;\r\n\r\npublic final class TestImpl implements Test {\r\n    @Override\r\n    public int doIt() {\r\n        return 0;\r\n    }\r\n}\r\n```\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.Mockito;\r\n\r\npublic class MyTest {\r\n\r\n    @Test\r\n    public void test() {\r\n        Mockito.mock(gluestick.Test.class);\r\n    }\r\n}\r\n```\r\n\r\nThis all amounts however to creating a java.lang.IncompatibleClassChangeError since the sealed class cannot be implemented.\r\n\r\n```\r\norg.mockito.exceptions.base.MockitoException: \r\nMockito cannot mock this class: interface gluestick.Test.\r\n\r\nMockito can only mock non-private &amp; non-final classes.\r\nIf you&#39;re not sure why you&#39;re getting this error, please report to the mailing list.\r\n\r\n\r\nJava               : 16\r\nJVM vendor name    : Oracle Corporation\r\nJVM vendor version : 16.0.1+9-24\r\nJVM name           : OpenJDK 64-Bit Server VM\r\nJVM version        : 16.0.1+9-24\r\nJVM info           : mixed mode, sharing\r\nOS name            : Windows 10\r\nOS version         : 10.0\r\n\r\n\r\nUnderlying exception : java.lang.IllegalStateException: Error invoking (accessor)::defineClass\r\n\r\n\tat MyTest.test(MyTest.java:8)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: java.lang.IllegalStateException: Error invoking (accessor)::defineClass\r\n\tat net.bytebuddy.dynamic.loading.ClassInjector$UsingReflection$Dispatcher$UsingUnsafeInjection.defineClass(ClassInjector.java:1002)\r\n\tat net.bytebuddy.dynamic.loading.ClassInjector$UsingReflection.injectRaw(ClassInjector.java:254)\r\n\tat net.bytebuddy.dynamic.loading.ClassInjector$AbstractBase.inject(ClassInjector.java:113)\r\n\tat net.bytebuddy.dynamic.loading.ClassLoadingStrategy$Default$InjectionDispatcher.load(ClassLoadingStrategy.java:233)\r\n\tat net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:100)\r\n\tat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6147)\r\n\tat org.mockito.internal.creation.bytebuddy.SubclassBytecodeGenerator.mockClass(SubclassBytecodeGenerator.java:268)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.lambda$mockClass$0(TypeCachingBytecodeGenerator.java:47)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:153)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:366)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:175)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:377)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:40)\r\n\tat org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMockType(SubclassByteBuddyMockMaker.java:77)\r\n\tat org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMock(SubclassByteBuddyMockMaker.java:43)\r\n\tat org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:43)\r\n\tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:53)\r\n\tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:84)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1954)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1865)\r\n\t... 66 more\r\nCaused by: java.lang.IncompatibleClassChangeError: class gluestick.Test$MockitoMock$1535486471 cannot implement sealed interface gluestick.Test\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\r\n\tat java.base/java.lang.ClassLoader$ByteBuddyAccessor$teEoQ54g.defineClass(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat net.bytebuddy.dynamic.loading.ClassInjector$UsingReflection$Dispatcher$UsingUnsafeInjection.defineClass(ClassInjector.java:998)\r\n\t... 85 more\r\n\r\n\r\nProcess finished with exit code -1\r\n```\r\n\r\n**Is there any way to mock a sealed interface?**\r\n\r\n","title":"Is there any way to mock a sealed interface?","body":"<p>Today I created a small test project for java 16 preview.  I created a sealed interface and a final implementation.</p>\n<p>I want to know if there is anyway to be able to mock the sealed interface so that I can test implementations that use the sealed interface.</p>\n<pre><code>package gluestick;\n\npublic sealed interface Test permits TestImpl {\n    int doIt();\n}\n</code></pre>\n<pre><code>package gluestick;\n\npublic final class TestImpl implements Test {\n    @Override\n    public int doIt() {\n        return 0;\n    }\n}\n</code></pre>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.mockito.Mockito;\n\npublic class MyTest {\n\n    @Test\n    public void test() {\n        Mockito.mock(gluestick.Test.class);\n    }\n}\n</code></pre>\n<p>This all amounts however to creating a java.lang.IncompatibleClassChangeError since the sealed class cannot be implemented.</p>\n<pre><code>org.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: interface gluestick.Test.\n\nMockito can only mock non-private &amp; non-final classes.\nIf you're not sure why you're getting this error, please report to the mailing list.\n\n\nJava               : 16\nJVM vendor name    : Oracle Corporation\nJVM vendor version : 16.0.1+9-24\nJVM name           : OpenJDK 64-Bit Server VM\nJVM version        : 16.0.1+9-24\nJVM info           : mixed mode, sharing\nOS name            : Windows 10\nOS version         : 10.0\n\n\nUnderlying exception : java.lang.IllegalStateException: Error invoking (accessor)::defineClass\n\n    at MyTest.test(MyTest.java:8)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: java.lang.IllegalStateException: Error invoking (accessor)::defineClass\n    at net.bytebuddy.dynamic.loading.ClassInjector$UsingReflection$Dispatcher$UsingUnsafeInjection.defineClass(ClassInjector.java:1002)\n    at net.bytebuddy.dynamic.loading.ClassInjector$UsingReflection.injectRaw(ClassInjector.java:254)\n    at net.bytebuddy.dynamic.loading.ClassInjector$AbstractBase.inject(ClassInjector.java:113)\n    at net.bytebuddy.dynamic.loading.ClassLoadingStrategy$Default$InjectionDispatcher.load(ClassLoadingStrategy.java:233)\n    at net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:100)\n    at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6147)\n    at org.mockito.internal.creation.bytebuddy.SubclassBytecodeGenerator.mockClass(SubclassBytecodeGenerator.java:268)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.lambda$mockClass$0(TypeCachingBytecodeGenerator.java:47)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:153)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:366)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:175)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:377)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:40)\n    at org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMockType(SubclassByteBuddyMockMaker.java:77)\n    at org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMock(SubclassByteBuddyMockMaker.java:43)\n    at org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:43)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:53)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:84)\n    at org.mockito.Mockito.mock(Mockito.java:1954)\n    at org.mockito.Mockito.mock(Mockito.java:1865)\n    ... 66 more\nCaused by: java.lang.IncompatibleClassChangeError: class gluestick.Test$MockitoMock$1535486471 cannot implement sealed interface gluestick.Test\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\n    at java.base/java.lang.ClassLoader$ByteBuddyAccessor$teEoQ54g.defineClass(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at net.bytebuddy.dynamic.loading.ClassInjector$UsingReflection$Dispatcher$UsingUnsafeInjection.defineClass(ClassInjector.java:998)\n    ... 85 more\n\n\nProcess finished with exit code -1\n</code></pre>\n<p><strong>Is there any way to mock a sealed interface?</strong></p>\n"},{"tags":["java","if-statement","error-handling"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1694961248,"post_id":77122243,"comment_id":135957335,"body_markdown":"`if (! wordRandom.contains(choice1)) { /* The random word does not contain choice1 */ } else { /* It does. */ }`","body":"<code>if (! wordRandom.contains(choice1)) { &#47;* The random word does not contain choice1 *&#47; } else { &#47;* It does. *&#47; }</code>"},{"owner":{"account_id":29463452,"reputation":15,"user_id":22577682,"display_name":"Piolo Pascual Besinga"},"score":0,"creation_date":1694961371,"post_id":77122243,"comment_id":135957354,"body_markdown":"okay I&#39;ll try this","body":"okay I&#39;ll try this"},{"owner":{"account_id":29463452,"reputation":15,"user_id":22577682,"display_name":"Piolo Pascual Besinga"},"score":0,"creation_date":1694961688,"post_id":77122243,"comment_id":135957397,"body_markdown":"it was fixed but the miss counter didn&#39;t increment","body":"it was fixed but the miss counter didn&#39;t increment"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1694962365,"post_id":77122243,"comment_id":135957495,"body_markdown":"&quot;the miss counter&quot; only exists in the scope of `ErrorHandling`. Your code could use refactoring.","body":"&quot;the miss counter&quot; only exists in the scope of <code>ErrorHandling</code>. Your code could use refactoring."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695004756,"creation_date":1694964506,"answer_id":77122483,"question_id":77122243,"body_markdown":"I would *refactor* your code, reviewing what you have posted I would start by moving the call to `ErrorHandling` before `CharacterSearch` and I would make it return a `boolean` so I could count the `miss`(es) in one place. I would remove the methods that don&#39;t add aid clarity, and align the variable names to be consistent. I would also recommend you follow Java naming guidelines and make the method names indicate what they do. `CharacterSearch` *really* is for updating `muted`. And `ErrorHandling` checks if the `word` has the character (or has already been chosen). I would make it something like,\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString[] words = { &quot;giraffe&quot;, &quot;hippopotamus&quot;, &quot;gorilla&quot;, &quot;peacock&quot;, \r\n\t\t\t\t&quot;armadillo&quot;, &quot;rhinoceros&quot;, &quot;alligator&quot;,\r\n\t\t\t\t&quot;tamaraw&quot;, &quot;chinchilla&quot;, &quot;salamander&quot; };\r\n\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Welcome to Hangman&quot;);\r\n\t\tSystem.out.println(&quot;[1]START\\n[0]EXIT&quot;);\r\n\t\tSystem.out.print(&quot;Please input your choice: &quot;);\r\n\t\tint choice = input.nextInt();\r\n\t\tinput.nextLine();\r\n\t\tSystem.out.println();\r\n\t\tdo {\r\n\t\t\tint miss = 0;\r\n\t\t\tif (choice == 1) {\r\n\t\t\t\tString wordRandom = words[ThreadLocalRandom.current().nextInt(words.length)];\r\n\t\t\t\tString mute = &quot;*&quot;.repeat(wordRandom.length());\r\n\t\t\t\tSystem.out.println(wordRandom);\r\n\t\t\t\tSystem.out.println(&quot;Note: use only small character/s\\nHint: Animals&quot;);\r\n\r\n\t\t\t\twhile (!mute.equals(wordRandom)) {\r\n\t\t\t\t\tSystem.out.print(&quot;(Guess) Enter a letter in word &quot; + mute + &quot; &gt; &quot;);\r\n\t\t\t\t\tString choice1 = input.nextLine();\r\n\r\n\t\t\t\t\tif (!wordHasCharacter(wordRandom, mute, choice1)) {\r\n\t\t\t\t\t\tmiss++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmute = updateMuted(wordRandom, mute, choice1);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;The word is &quot; + wordRandom + &quot;.&quot; + &quot; You missed &quot; + miss + &quot; time.&quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println(&quot;Do you want to guess another word? Enter [1]Yes or [0]No&quot;);\r\n\t\t\tSystem.out.print(&quot;Please input your choice: &quot;);\r\n\t\t\tchoice = input.nextInt();\r\n\t\t\tinput.nextLine();\r\n\t\t\tSystem.out.println();\r\n\t\t} while (choice != 0);\r\n\t\tSystem.out.println(&quot;Thank you!!&quot;);\t\t\t}\r\n\r\n\tpublic static boolean wordHasCharacter(String word, String muted, String key) {\r\n\t\tif (word.indexOf(key.charAt(0)) &lt; 0) {\r\n\t\t\tSystem.out.println(key + &quot; is not in the word.&quot;);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (muted.indexOf(key.charAt(0)) &gt;= 0) {\r\n\t\t\tSystem.out.println(key + &quot; is already in the word.&quot;);\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic static String updateMuted(String word, String muted, String key) {\r\n\t\tStringBuilder update = new StringBuilder(muted);\r\n\t\tfor (int i = 0; i &lt; word.length(); i++) {\r\n\t\t\tif (word.charAt(i) == key.charAt(0)) {\r\n\t\t\t\tupdate.setCharAt(i, key.charAt(0));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn update.toString();\r\n\t}","title":"Knowing when the letter is in the word or not","body":"<p>I would <em>refactor</em> your code, reviewing what you have posted I would start by moving the call to <code>ErrorHandling</code> before <code>CharacterSearch</code> and I would make it return a <code>boolean</code> so I could count the <code>miss</code>(es) in one place. I would remove the methods that don't add aid clarity, and align the variable names to be consistent. I would also recommend you follow Java naming guidelines and make the method names indicate what they do. <code>CharacterSearch</code> <em>really</em> is for updating <code>muted</code>. And <code>ErrorHandling</code> checks if the <code>word</code> has the character (or has already been chosen). I would make it something like,</p>\n<pre><code>public static void main(String[] args) {\n    String[] words = { &quot;giraffe&quot;, &quot;hippopotamus&quot;, &quot;gorilla&quot;, &quot;peacock&quot;, \n            &quot;armadillo&quot;, &quot;rhinoceros&quot;, &quot;alligator&quot;,\n            &quot;tamaraw&quot;, &quot;chinchilla&quot;, &quot;salamander&quot; };\n\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Welcome to Hangman&quot;);\n    System.out.println(&quot;[1]START\\n[0]EXIT&quot;);\n    System.out.print(&quot;Please input your choice: &quot;);\n    int choice = input.nextInt();\n    input.nextLine();\n    System.out.println();\n    do {\n        int miss = 0;\n        if (choice == 1) {\n            String wordRandom = words[ThreadLocalRandom.current().nextInt(words.length)];\n            String mute = &quot;*&quot;.repeat(wordRandom.length());\n            System.out.println(wordRandom);\n            System.out.println(&quot;Note: use only small character/s\\nHint: Animals&quot;);\n\n            while (!mute.equals(wordRandom)) {\n                System.out.print(&quot;(Guess) Enter a letter in word &quot; + mute + &quot; &gt; &quot;);\n                String choice1 = input.nextLine();\n\n                if (!wordHasCharacter(wordRandom, mute, choice1)) {\n                    miss++;\n                }\n                mute = updateMuted(wordRandom, mute, choice1);\n            }\n            System.out.println(&quot;The word is &quot; + wordRandom + &quot;.&quot; + &quot; You missed &quot; + miss + &quot; time.&quot;);\n        }\n        System.out.println();\n        System.out.println(&quot;Do you want to guess another word? Enter [1]Yes or [0]No&quot;);\n        System.out.print(&quot;Please input your choice: &quot;);\n        choice = input.nextInt();\n        input.nextLine();\n        System.out.println();\n    } while (choice != 0);\n    System.out.println(&quot;Thank you!!&quot;);          }\n\npublic static boolean wordHasCharacter(String word, String muted, String key) {\n    if (word.indexOf(key.charAt(0)) &lt; 0) {\n        System.out.println(key + &quot; is not in the word.&quot;);\n        return false;\n    }\n    if (muted.indexOf(key.charAt(0)) &gt;= 0) {\n        System.out.println(key + &quot; is already in the word.&quot;);\n    }\n    return true;\n}\n\npublic static String updateMuted(String word, String muted, String key) {\n    StringBuilder update = new StringBuilder(muted);\n    for (int i = 0; i &lt; word.length(); i++) {\n        if (word.charAt(i) == key.charAt(0)) {\n            update.setCharAt(i, key.charAt(0));\n        }\n    }\n    return update.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":29463452,"reputation":15,"user_id":22577682,"display_name":"Piolo Pascual Besinga"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77122483,"answer_count":1,"score":0,"last_activity_date":1695004756,"creation_date":1694961022,"question_id":77122243,"body_markdown":"I want to know if the letter in my hangman game is in the word or not but I kept bumping into the wrong output. Anyways here is my code, this is the same one that I posted a question.\r\n\r\n\r\n```\r\npackage besingaPi_LE_3_2;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class GameHangman {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tint miss = 0; \r\n\t\tString choice1;\r\n\t\tString temp;\r\n\t\t\r\n\t\tString[] words = {&quot;giraffe&quot;, &quot;hippopotamus&quot;, &quot;gorilla&quot;, &quot;peacock&quot;, &quot;armadillo&quot;, &quot;rhinoceros&quot;, &quot;alligator&quot;, &quot;tamaraw&quot;, &quot;chinchilla&quot;, &quot;salamander&quot;};\r\n\r\n\t\tint choice;\r\n\t\tint choice2;\r\n\t\tmainMenu();\r\n\t\tchoice = input.nextInt();\r\n\t\tinput.nextLine();\r\n\t\tSystem.out.println();\r\n\t\tdo {\r\n\t\t\tif(choice == 1){\r\n\t\t\t\t\r\n\t\t\t\tString wordRandom = Randomizer(words);\r\n\t\t\t\tString mute  = secretWord(wordRandom);\r\n\t\t\t\ttemp = mute;\r\n\r\n\t\t\t\tSystem.out.println(wordRandom);\r\n\t\t\t\tSystem.out.println(&quot;Note: use only small character/s\\nHint: Animals&quot;);\r\n\t\t\t\t\r\n\t\t\t\twhile(!mute.equals(wordRandom)) {\r\n\t\t\t\t\tSystem.out.print(&quot;(Guess) Enter a letter in word &quot; + mute + &quot; &gt; &quot;); \t\t\r\n\t\t\t\t\tchoice1 = input.nextLine();\r\n\t\t\t\t\t\r\n\t\t\t\t\tmute = CharacterSearch(wordRandom, mute, choice1);\r\n\t\t\t\t\t\r\n\t\t\t\t\tErrorHandling(temp, mute, choice1);\r\n\t\t\r\n\t\t\t\t\ttemp = mute;\r\n\t\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;The word is &quot; + wordRandom + &quot;.&quot; + &quot; You missed &quot; + miss + &quot; time.&quot;);\r\n\t\t\t\tSystem.out.println(&quot;\\nDo you want to guess another word? Enter [1]Yes or [0]No&quot;);\r\n\t\t\t\tSystem.out.print(&quot;Please input your choice: &quot;);\r\n\t\t\t\tchoice2 = input.nextInt();\r\n\t\t\t\tinput.nextLine();\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tif(choice2 == 1) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\telse if(choice2 == 0) {\r\n\t\t\t\t\tSystem.out.println(&quot;Thank you!!&quot;);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\telse if (choice == 0) {\r\n\t\t\t\tSystem.out.println(&quot;Thank you!!&quot;);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}while(choice != 0);\r\n\r\n\t}\r\n\tpublic static void mainMenu() {\r\n\t\tSystem.out.println(&quot;Welcome to Hangman&quot;);  \r\n\t\tSystem.out.println(&quot;[1]START\\n[0]EXIT&quot;); \r\n\t\tSystem.out.print(&quot;Please input your choice: &quot;);\r\n\t\treturn;\t\r\n\t}\r\n\t\r\n\tpublic static void ErrorHandling(String first, String second, String choice1) {\r\n\t\tint miss = 0;\r\n\t\tif(first.equals(second)) {\r\n\t\t\tfor(int i = 0; i &lt; second.length(); i++) {\r\n\t\t\t\tif(choice1.charAt(0) == second.charAt(i)){\r\n\t\t\t\t\tSystem.out.println( choice1 + &quot; is already in the word.&quot;);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println( choice1 + &quot; is not in the word.&quot;);\r\n\t\t\tmiss++;\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static String CharacterSearch(String word, String muted, String key) {\r\n\t\tStringBuilder update = new StringBuilder(muted);\r\n\t\tint i;\r\n\t\tfor(i = 0; i &lt; word.length(); i++) {\r\n\t\t\tif(word.charAt(i)  == key.charAt(0)) {\r\n\t\t\t\tupdate.setCharAt(i,key.charAt(0));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tmuted = update.toString();\r\n\t\treturn muted;\r\n\t}\r\n\t\r\n\tpublic static String secretWord(String word) {\r\n\t\tString temp = &quot;&quot;;\r\n\t\tfor(int i = 0; i &lt; word.length(); i++) {\r\n\t\t\ttemp = temp + &quot;*&quot;;\r\n\t\t}\r\n\t\treturn temp;\r\n\t}\r\n\t\r\n\tpublic static String Randomizer(String[] words) {\r\n\t\tint rand = (int)(Math.random() * words.length);\r\n\t\tString word = words[rand];\r\n\t\treturn word;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nIf I output twice, let&#39;s say the word is &quot;alligator&quot;, first input: a, it&#39;s okay the second input says &quot;h is already in the word.&quot; &amp; &quot;h is not in the word.&quot; how to fix this? It is in the method ErrorHandling().","title":"Knowing when the letter is in the word or not","body":"<p>I want to know if the letter in my hangman game is in the word or not but I kept bumping into the wrong output. Anyways here is my code, this is the same one that I posted a question.</p>\n<pre><code>package besingaPi_LE_3_2;\n\nimport java.util.Scanner;\n\npublic class GameHangman {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int miss = 0; \n        String choice1;\n        String temp;\n        \n        String[] words = {&quot;giraffe&quot;, &quot;hippopotamus&quot;, &quot;gorilla&quot;, &quot;peacock&quot;, &quot;armadillo&quot;, &quot;rhinoceros&quot;, &quot;alligator&quot;, &quot;tamaraw&quot;, &quot;chinchilla&quot;, &quot;salamander&quot;};\n\n        int choice;\n        int choice2;\n        mainMenu();\n        choice = input.nextInt();\n        input.nextLine();\n        System.out.println();\n        do {\n            if(choice == 1){\n                \n                String wordRandom = Randomizer(words);\n                String mute  = secretWord(wordRandom);\n                temp = mute;\n\n                System.out.println(wordRandom);\n                System.out.println(&quot;Note: use only small character/s\\nHint: Animals&quot;);\n                \n                while(!mute.equals(wordRandom)) {\n                    System.out.print(&quot;(Guess) Enter a letter in word &quot; + mute + &quot; &gt; &quot;);         \n                    choice1 = input.nextLine();\n                    \n                    mute = CharacterSearch(wordRandom, mute, choice1);\n                    \n                    ErrorHandling(temp, mute, choice1);\n        \n                    temp = mute;\n    \n                }\n                System.out.println(&quot;The word is &quot; + wordRandom + &quot;.&quot; + &quot; You missed &quot; + miss + &quot; time.&quot;);\n                System.out.println(&quot;\\nDo you want to guess another word? Enter [1]Yes or [0]No&quot;);\n                System.out.print(&quot;Please input your choice: &quot;);\n                choice2 = input.nextInt();\n                input.nextLine();\n                System.out.println();\n                if(choice2 == 1) {\n                    continue;\n                }\n                else if(choice2 == 0) {\n                    System.out.println(&quot;Thank you!!&quot;);\n                    return;\n                }\n\n            }\n            else if (choice == 0) {\n                System.out.println(&quot;Thank you!!&quot;);\n                return;\n            }\n        }while(choice != 0);\n\n    }\n    public static void mainMenu() {\n        System.out.println(&quot;Welcome to Hangman&quot;);  \n        System.out.println(&quot;[1]START\\n[0]EXIT&quot;); \n        System.out.print(&quot;Please input your choice: &quot;);\n        return; \n    }\n    \n    public static void ErrorHandling(String first, String second, String choice1) {\n        int miss = 0;\n        if(first.equals(second)) {\n            for(int i = 0; i &lt; second.length(); i++) {\n                if(choice1.charAt(0) == second.charAt(i)){\n                    System.out.println( choice1 + &quot; is already in the word.&quot;);\n                    continue;\n                }\n            }\n            System.out.println( choice1 + &quot; is not in the word.&quot;);\n            miss++;\n        }\n\n        \n    }\n    \n    public static String CharacterSearch(String word, String muted, String key) {\n        StringBuilder update = new StringBuilder(muted);\n        int i;\n        for(i = 0; i &lt; word.length(); i++) {\n            if(word.charAt(i)  == key.charAt(0)) {\n                update.setCharAt(i,key.charAt(0));\n            }\n        }\n        \n        muted = update.toString();\n        return muted;\n    }\n    \n    public static String secretWord(String word) {\n        String temp = &quot;&quot;;\n        for(int i = 0; i &lt; word.length(); i++) {\n            temp = temp + &quot;*&quot;;\n        }\n        return temp;\n    }\n    \n    public static String Randomizer(String[] words) {\n        int rand = (int)(Math.random() * words.length);\n        String word = words[rand];\n        return word;\n    }\n}\n\n</code></pre>\n<p>If I output twice, let's say the word is &quot;alligator&quot;, first input: a, it's okay the second input says &quot;h is already in the word.&quot; &amp; &quot;h is not in the word.&quot; how to fix this? It is in the method ErrorHandling().</p>\n"},{"tags":["java","spring","rest","soap","dto"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695092533,"post_id":77122244,"comment_id":135974565,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10395976,"reputation":169,"user_id":7665726,"display_name":"Sann Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695004194,"creation_date":1695004194,"answer_id":77124282,"question_id":77122244,"body_markdown":"I&#39;m understanding that you have 2 DTO: RestDto for rest api and SoapDto for soap Api, and you want to convert from RestDto to SoapDto\r\n\r\nWhy not use the SoapDto for rest api? With this way, you don&#39;t have to create rest dto and don&#39;t have to map.\r\n\r\nIf you don&#39;t prefer it, you can choose some library that helps you map automatically, ex MapStruct or DozerBean mapper...","title":"Converting a DTO to a REST request in a SOAP stub","body":"<p>I'm understanding that you have 2 DTO: RestDto for rest api and SoapDto for soap Api, and you want to convert from RestDto to SoapDto</p>\n<p>Why not use the SoapDto for rest api? With this way, you don't have to create rest dto and don't have to map.</p>\n<p>If you don't prefer it, you can choose some library that helps you map automatically, ex MapStruct or DozerBean mapper...</p>\n"}],"owner":{"account_id":29466253,"reputation":1,"user_id":22579843,"display_name":"Gerardo Donnarumma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695004194,"creation_date":1694961031,"question_id":77122244,"body_markdown":"Realising an automatic mapping of DTO input to an API Rest a Stub XML to invoke a SOAP call in Spring Boot 2.5.\r\n\r\nIn Spring Boot, I am realising an &#39;Adapter&#39; microservice which interfaces with a REST microservice and a legacy SOAP service. From the WSDL I have generated any stubs to make the SOAP request. My microservice exposes a REST API that takes a DTO as input. I should create a mapper between the DTO it receives from the REST call in the XML stub. How could I do this? Is there a way to generate DTOs from the XML stub in order to have an automatic mapping? ","title":"Converting a DTO to a REST request in a SOAP stub","body":"<p>Realising an automatic mapping of DTO input to an API Rest a Stub XML to invoke a SOAP call in Spring Boot 2.5.</p>\n<p>In Spring Boot, I am realising an 'Adapter' microservice which interfaces with a REST microservice and a legacy SOAP service. From the WSDL I have generated any stubs to make the SOAP request. My microservice exposes a REST API that takes a DTO as input. I should create a mapper between the DTO it receives from the REST call in the XML stub. How could I do this? Is there a way to generate DTOs from the XML stub in order to have an automatic mapping?</p>\n"},{"tags":["java","kettle"],"comments":[{"owner":{"account_id":1149847,"reputation":3845,"user_id":1131789,"accept_rate":85,"display_name":"Rishu S"},"score":0,"creation_date":1694823518,"post_id":77110632,"comment_id":135946419,"body_markdown":"Which version of pentaho are you using? Also, is there a dependency between the two parallel jobs. It seems by your question, either one of the job is dependent on the other (hence working sequentially) and not in parallel. I would suggest debugging the code on step at a time.","body":"Which version of pentaho are you using? Also, is there a dependency between the two parallel jobs. It seems by your question, either one of the job is dependent on the other (hence working sequentially) and not in parallel. I would suggest debugging the code on step at a time."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694962356,"post_id":77110632,"comment_id":135957494,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":29264857,"reputation":11,"user_id":22420861,"display_name":"bigdou"},"score":0,"creation_date":1695002185,"post_id":77110632,"comment_id":135961390,"body_markdown":"pentaho-version：8.3.0.0-371，Multiple work nodes are parallelized after a conversion node. There is no dependency between each work node, but the variables in the conversion node will be obtained. Multiple work nodes are executed to the success node and end. The process can be viewed by clicking &quot;Click to view kettle job&quot;","body":"pentaho-version：8.3.0.0-371，Multiple work nodes are parallelized after a conversion node. There is no dependency between each work node, but the variables in the conversion node will be obtained. Multiple work nodes are executed to the success node and end. The process can be viewed by clicking &quot;Click to view kettle job&quot;"},{"owner":{"account_id":6514367,"reputation":1462,"user_id":5040684,"display_name":"Ana GH"},"score":0,"creation_date":1695137059,"post_id":77110632,"comment_id":135982297,"body_markdown":"It could be that you are running out of memory when you launch so many transformations at the same time, you could monitor resources in your server/machine when you launch the job, and if not enough memory is the answer, you can either give more memory to the machine executing the transformations, or break the job in two or three so you have enough memory. I have broken a job into fewer parallel executions executing transformations serially when I have run into this problem, even if all the transformations could be executed in parallel theorically.","body":"It could be that you are running out of memory when you launch so many transformations at the same time, you could monitor resources in your server/machine when you launch the job, and if not enough memory is the answer, you can either give more memory to the machine executing the transformations, or break the job in two or three so you have enough memory. I have broken a job into fewer parallel executions executing transformations serially when I have run into this problem, even if all the transformations could be executed in parallel theorically."}],"owner":{"account_id":29264857,"reputation":11,"user_id":22420861,"display_name":"bigdou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695003292,"creation_date":1694764874,"question_id":77110632,"body_markdown":"pentaho-version: 8.3.0.0-371\r\n\r\nThere is a probability of a null pointer problem during the parallel execution of jobs with Kettle, leading to process exit.\r\nThis problem occurs when kettle executes the job in parallel, but there is no problem when executing the job serially.\r\n\r\nJob description：Multiple work nodes are parallelized after a conversion node. There is no dependency between each work node, but the variables in the conversion node will be obtained. Multiple work nodes are executed to the success node and end. The process can be viewed by clicking &quot;Click to view kettle job&quot;\r\n\r\n[Click to view kettle job][1]\r\n\r\n```\r\nCaused by: org.pentaho.di.core.exception.KettleException: \r\nUnexpected error occurred while launching entry [成功.0]\r\n at java.lang.Thread.run (Thread.java:748)\r\n at org.pentaho.di.job.Job$1.run (Job.java:804)\r\n at org.pentaho.di.job.Job.access$000 (Job.java:121)\r\n at org.pentaho.di.job.Job.execute (Job.java:827)\r\n at org.pentaho.di.job.Job.execute (Job.java:632)\r\n at org.pentaho.di.base.AbstractMeta.disposeEmbeddedMetastoreProvider (AbstractMeta.java:2054)\r\n at org.pentaho.di.core.vfs.KettleVFS.closeEmbeddedFileSystem (KettleVFS.java:545)\r\n at org.pentaho.di.core.vfs.ConcurrentFileSystemManager.closeEmbeddedFileSystem (ConcurrentFileSystemManager.java:192)\r\n at org.pentaho.big.data.impl.vfs.hdfs.nc.NamedClusterProvider.closeFileSystem (NamedClusterProvider.java:196)\r\n at Proxyc5a58d92_3c85_4859_80e8_ab5b48556ae0.getExplicitMetastore (null:-1)\r\n at Proxyf7ed1ece_9270_4b74_90cb_3dc57fc39287.getExplicitMetastore (null:-1)\r\n at org.pentaho.osgi.metastore.locator.api.impl.MetastoreLocatorImpl.getExplicitMetastore (MetastoreLocatorImpl.java:39)\r\n at org.pentaho.osgi.blueprint.collection.utils.ServiceMap.getItem (ServiceMap.java:35)\r\n\tat org.pentaho.di.job.Job.execute(Job.java:830)\r\n\tat org.pentaho.di.job.Job.access$000(Job.java:121)\r\n\tat org.pentaho.di.job.Job$1.run(Job.java:804)\r\n\t... 1 more\r\nCaused by: java.lang.NullPointerException\r\n\tat org.pentaho.osgi.blueprint.collection.utils.ServiceMap.getItem(ServiceMap.java:35)\r\n\tat org.pentaho.osgi.metastore.locator.api.impl.MetastoreLocatorImpl.getExplicitMetastore(MetastoreLocatorImpl.java:39)\r\n\tat Proxyf7ed1ece_9270_4b74_90cb_3dc57fc39287.getExplicitMetastore(Unknown Source)\r\n\tat Proxyc5a58d92_3c85_4859_80e8_ab5b48556ae0.getExplicitMetastore(Unknown Source)\r\n\tat org.pentaho.big.data.impl.vfs.hdfs.nc.NamedClusterProvider.closeFileSystem(NamedClusterProvider.java:196)\r\n\tat org.pentaho.di.core.vfs.ConcurrentFileSystemManager.closeEmbeddedFileSystem(ConcurrentFileSystemManager.java:192)\r\n\tat org.pentaho.di.core.vfs.KettleVFS.closeEmbeddedFileSystem(KettleVFS.java:545)\r\n\tat org.pentaho.di.base.AbstractMeta.disposeEmbeddedMetastoreProvider(AbstractMeta.java:2054)\r\n\tat org.pentaho.di.job.Job.execute(Job.java:632)\r\n\tat org.pentaho.di.job.Job.execute(Job.java:827)\r\n\t... 3 more\r\n2023/09/10 14:03:29 - Kitchen - Finished!\r\n2023/09/10 14:03:29 - Kitchen - ERROR (version 8.3.0.0-371, build 8.3.0.0-371 from 2019-06-11 11.09.08 by buildguy) : Finished with errors\r\n2023/09/10 14:03:29 - Kitchen - Start=2023/08/31 09:55:14.915, Stop=2023/09/10 14:03:29.946\r\n2023/09/10 14:03:29 - Kitchen - Processing ended after 10 days, 4 hours, 8 minutes and 15 seconds (878895 seconds total).\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oeN2F.png","title":"Null pointer exception occasionally occurs when kettle executes jobs concurrently","body":"<p>pentaho-version: 8.3.0.0-371</p>\n<p>There is a probability of a null pointer problem during the parallel execution of jobs with Kettle, leading to process exit.\nThis problem occurs when kettle executes the job in parallel, but there is no problem when executing the job serially.</p>\n<p>Job description：Multiple work nodes are parallelized after a conversion node. There is no dependency between each work node, but the variables in the conversion node will be obtained. Multiple work nodes are executed to the success node and end. The process can be viewed by clicking &quot;Click to view kettle job&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/oeN2F.png\" rel=\"nofollow noreferrer\">Click to view kettle job</a></p>\n<pre><code>Caused by: org.pentaho.di.core.exception.KettleException: \nUnexpected error occurred while launching entry [成功.0]\n at java.lang.Thread.run (Thread.java:748)\n at org.pentaho.di.job.Job$1.run (Job.java:804)\n at org.pentaho.di.job.Job.access$000 (Job.java:121)\n at org.pentaho.di.job.Job.execute (Job.java:827)\n at org.pentaho.di.job.Job.execute (Job.java:632)\n at org.pentaho.di.base.AbstractMeta.disposeEmbeddedMetastoreProvider (AbstractMeta.java:2054)\n at org.pentaho.di.core.vfs.KettleVFS.closeEmbeddedFileSystem (KettleVFS.java:545)\n at org.pentaho.di.core.vfs.ConcurrentFileSystemManager.closeEmbeddedFileSystem (ConcurrentFileSystemManager.java:192)\n at org.pentaho.big.data.impl.vfs.hdfs.nc.NamedClusterProvider.closeFileSystem (NamedClusterProvider.java:196)\n at Proxyc5a58d92_3c85_4859_80e8_ab5b48556ae0.getExplicitMetastore (null:-1)\n at Proxyf7ed1ece_9270_4b74_90cb_3dc57fc39287.getExplicitMetastore (null:-1)\n at org.pentaho.osgi.metastore.locator.api.impl.MetastoreLocatorImpl.getExplicitMetastore (MetastoreLocatorImpl.java:39)\n at org.pentaho.osgi.blueprint.collection.utils.ServiceMap.getItem (ServiceMap.java:35)\n    at org.pentaho.di.job.Job.execute(Job.java:830)\n    at org.pentaho.di.job.Job.access$000(Job.java:121)\n    at org.pentaho.di.job.Job$1.run(Job.java:804)\n    ... 1 more\nCaused by: java.lang.NullPointerException\n    at org.pentaho.osgi.blueprint.collection.utils.ServiceMap.getItem(ServiceMap.java:35)\n    at org.pentaho.osgi.metastore.locator.api.impl.MetastoreLocatorImpl.getExplicitMetastore(MetastoreLocatorImpl.java:39)\n    at Proxyf7ed1ece_9270_4b74_90cb_3dc57fc39287.getExplicitMetastore(Unknown Source)\n    at Proxyc5a58d92_3c85_4859_80e8_ab5b48556ae0.getExplicitMetastore(Unknown Source)\n    at org.pentaho.big.data.impl.vfs.hdfs.nc.NamedClusterProvider.closeFileSystem(NamedClusterProvider.java:196)\n    at org.pentaho.di.core.vfs.ConcurrentFileSystemManager.closeEmbeddedFileSystem(ConcurrentFileSystemManager.java:192)\n    at org.pentaho.di.core.vfs.KettleVFS.closeEmbeddedFileSystem(KettleVFS.java:545)\n    at org.pentaho.di.base.AbstractMeta.disposeEmbeddedMetastoreProvider(AbstractMeta.java:2054)\n    at org.pentaho.di.job.Job.execute(Job.java:632)\n    at org.pentaho.di.job.Job.execute(Job.java:827)\n    ... 3 more\n2023/09/10 14:03:29 - Kitchen - Finished!\n2023/09/10 14:03:29 - Kitchen - ERROR (version 8.3.0.0-371, build 8.3.0.0-371 from 2019-06-11 11.09.08 by buildguy) : Finished with errors\n2023/09/10 14:03:29 - Kitchen - Start=2023/08/31 09:55:14.915, Stop=2023/09/10 14:03:29.946\n2023/09/10 14:03:29 - Kitchen - Processing ended after 10 days, 4 hours, 8 minutes and 15 seconds (878895 seconds total).\n</code></pre>\n"},{"tags":["java","spring-boot","stripe-payments","webhooks","payment"],"answers":[{"comments":[{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1694935039,"post_id":77120773,"comment_id":135954932,"body_markdown":"thanks for replying &#128591;  but I want to store subscription with incomplete in my database. If user make a payment and pay with card and stripe say insufficient balance that time stripe subscription is incomplete and after 23 hours change status to unpaid or canceled. That incomplete status is occurs in invoice.payment_failed event.","body":"thanks for replying 🙏  but I want to store subscription with incomplete in my database. If user make a payment and pay with card and stripe say insufficient balance that time stripe subscription is incomplete and after 23 hours change status to unpaid or canceled. That incomplete status is occurs in invoice.payment_failed event."},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1694935245,"post_id":77120773,"comment_id":135954949,"body_markdown":"Is save subscription with incomplete status in our database? What you think &#129300; or avoid that.","body":"Is save subscription with incomplete status in our database? What you think 🤔 or avoid that."},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1694935358,"post_id":77120773,"comment_id":135954955,"body_markdown":"Now I am thinking store only stripe subscription id when invoice.payment_succeded. After that when customer want  check their subscription details we can retrieve directly from stripe using STRIPE API. Is it best practices?","body":"Now I am thinking store only stripe subscription id when invoice.payment_succeded. After that when customer want  check their subscription details we can retrieve directly from stripe using STRIPE API. Is it best practices?"},{"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"score":0,"creation_date":1694935440,"post_id":77120773,"comment_id":135954958,"body_markdown":"It&#39;s up to you to decide if you should store incomplete Subscriptions in your db. Doing so definitely makes things more complicated with your issue. I&#39;ve edited my response, if you do want to capture incomplete Subs, I think your best bet would be to implement a buffer queue for events, which you feed to your DB in a timely manner so that it doesn&#39;t duplicate anything.","body":"It&#39;s up to you to decide if you should store incomplete Subscriptions in your db. Doing so definitely makes things more complicated with your issue. I&#39;ve edited my response, if you do want to capture incomplete Subs, I think your best bet would be to implement a buffer queue for events, which you feed to your DB in a timely manner so that it doesn&#39;t duplicate anything."},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1694935871,"post_id":77120773,"comment_id":135954990,"body_markdown":"Yeah you right ✅️ implement Kafka or othe msg service like Kafka. But read my third comment and share your thoughts","body":"Yeah you right ✅️ implement Kafka or othe msg service like Kafka. But read my third comment and share your thoughts"},{"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"score":0,"creation_date":1694936068,"post_id":77120773,"comment_id":135955007,"body_markdown":"It&#39;s again a matter of personal preference at this point. If in your app, it takes a customer a long time to pick their plan and checkout, then you should probably allow your customers to retry incomplete Subscriptions. For this, you could list Subscriptions per customer and confirm their downstream intent using its `client_secret`: \nhttps://stripe.com/docs/api/subscriptions/list#list_subscriptions-customer \nOtherwise, I would simplify, and make the customer proceed to checkout again with a brand new Sub. Stripe will expire incomplete Subs automatically, so you can forget about them.","body":"It&#39;s again a matter of personal preference at this point. If in your app, it takes a customer a long time to pick their plan and checkout, then you should probably allow your customers to retry incomplete Subscriptions. For this, you could list Subscriptions per customer and confirm their downstream intent using its <code>client_secret</code>:  <a href=\"https://stripe.com/docs/api/subscriptions/list#list_subscriptions-customer\" rel=\"nofollow noreferrer\">stripe.com/docs/api/subscriptions/&hellip;</a>  Otherwise, I would simplify, and make the customer proceed to checkout again with a brand new Sub. Stripe will expire incomplete Subs automatically, so you can forget about them."},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1694944772,"post_id":77120773,"comment_id":135955737,"body_markdown":"Ok now tell me one more thing on below flow        store only stripe subscription id in our database in succeed payment. Now customer want to see their sub details now we fetch the subscription from stripe and see details to customer. Currently we store subscription status and start date and end date. Is the best practices?","body":"Ok now tell me one more thing on below flow        store only stripe subscription id in our database in succeed payment. Now customer want to see their sub details now we fetch the subscription from stripe and see details to customer. Currently we store subscription status and start date and end date. Is the best practices?"},{"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"score":0,"creation_date":1694945805,"post_id":77120773,"comment_id":135955840,"body_markdown":"There really aren&#39;t any &#39;best practices&#39; for what Subscription information you show to your customers - you show whatever you want. What I like showing is the card brand and last4 that is charged for the Subscription - which you can do by retrieving the Payment Method object: https://stripe.com/docs/api/payment_methods/retrieve","body":"There really aren&#39;t any &#39;best practices&#39; for what Subscription information you show to your customers - you show whatever you want. What I like showing is the card brand and last4 that is charged for the Subscription - which you can do by retrieving the Payment Method object: <a href=\"https://stripe.com/docs/api/payment_methods/retrieve\" rel=\"nofollow noreferrer\">stripe.com/docs/api/payment_methods/retrieve</a>"},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1694947164,"post_id":77120773,"comment_id":135955970,"body_markdown":"No no, just show subscription status. I current flow we store subscription details like subscription status and start date and end date in our local database now store only stripe subscription id only and show subscription status to user using fetch details using stripe api. So I want to avoiding store subscription details in our db.","body":"No no, just show subscription status. I current flow we store subscription details like subscription status and start date and end date in our local database now store only stripe subscription id only and show subscription status to user using fetch details using stripe api. So I want to avoiding store subscription details in our db."},{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1694970409,"post_id":77120773,"comment_id":135958379,"body_markdown":"Luck2501 PLS ans above comments","body":"Luck2501 PLS ans above comments"}],"tags":[],"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694935209,"creation_date":1694933416,"answer_id":77120773,"question_id":77120578,"body_markdown":"I think the duplicate scenario you’re referring to is related to the quirk you reported here:  \r\nhttps://stackoverflow.com/questions/76894907/why-stripe-first-send-invoice-payment-failed-webhook/76934138?noredirect=1#comment135634061_76934138\r\n\r\nThe invoice.payment_failed event can trigger from a payment requiring actions, which might be completed automatically and result in a invoice.payment_succeeded instants later.\r\n\r\nThis quirk should only happen for the first invoice of a Subscription, when the customer is on session and can authenticate immediately after the requires action issue.\r\n\r\nGoing back to your db issue, what I would do is ignore the invoice.payment_failed event conditionally:  \r\n-ignore if invoice.billing_reason == subscription_create.  \r\nAfter all, if the Invoice payment fails at the start of the Subscription, I don’t see much point in storing the Subscription yet.\r\n\r\n-ignore if invoice.charge is null.  \r\nThis refers to the quirk outlined above, though it would also apply to an invoice payment that fails because the Customer has no default payment method to charge.\r\n\r\n-listen to payment_intent-level and charge-level events instead, as they don’t have the above quirk. But they won’t contain the Subscription, you’d need to retrieve and expand resources to get it.  \r\nhttps://stripe.com/docs/api/expanding_objects\r\n\r\n--EDIT--\r\nI think you might have changed this sentence of your post:  \r\n&gt;Stripe sends both webhook events *consecutively* during a single subscription payment.\r\n\r\nSo maybe it&#39;s not just the quirk above, but also cases like a customer failing a payment, then submitting it again successfully.  \r\nThe first solution (ignore invoice.payment_failed and invoice.billing_reason==subscription_create) would still work here I think.\r\n\r\nAlternatively, you can implement a queue on your handler that keeps events in the order they generate (as per their `created` timestamp), and submitting them to your db according to it&#39;s read limit.  \r\nThis is a good practice regardless, since Stripe can send the same event twice occasionally:  \r\nhttps://stripe.com/docs/webhooks#handle-duplicate-events","title":"Prevent save duplicate entry in our local database during stripe webhook","body":"<p>I think the duplicate scenario you’re referring to is related to the quirk you reported here:<br />\n<a href=\"https://stackoverflow.com/questions/76894907/why-stripe-first-send-invoice-payment-failed-webhook/76934138?noredirect=1#comment135634061_76934138\">Why stripe first send invoice.payment_failed webhook</a></p>\n<p>The invoice.payment_failed event can trigger from a payment requiring actions, which might be completed automatically and result in a invoice.payment_succeeded instants later.</p>\n<p>This quirk should only happen for the first invoice of a Subscription, when the customer is on session and can authenticate immediately after the requires action issue.</p>\n<p>Going back to your db issue, what I would do is ignore the invoice.payment_failed event conditionally:<br />\n-ignore if invoice.billing_reason == subscription_create.<br />\nAfter all, if the Invoice payment fails at the start of the Subscription, I don’t see much point in storing the Subscription yet.</p>\n<p>-ignore if invoice.charge is null.<br />\nThis refers to the quirk outlined above, though it would also apply to an invoice payment that fails because the Customer has no default payment method to charge.</p>\n<p>-listen to payment_intent-level and charge-level events instead, as they don’t have the above quirk. But they won’t contain the Subscription, you’d need to retrieve and expand resources to get it.<br />\n<a href=\"https://stripe.com/docs/api/expanding_objects\" rel=\"nofollow noreferrer\">https://stripe.com/docs/api/expanding_objects</a></p>\n<p>--EDIT--\nI think you might have changed this sentence of your post:</p>\n<blockquote>\n<p>Stripe sends both webhook events <em>consecutively</em> during a single subscription payment.</p>\n</blockquote>\n<p>So maybe it's not just the quirk above, but also cases like a customer failing a payment, then submitting it again successfully.<br />\nThe first solution (ignore invoice.payment_failed and invoice.billing_reason==subscription_create) would still work here I think.</p>\n<p>Alternatively, you can implement a queue on your handler that keeps events in the order they generate (as per their <code>created</code> timestamp), and submitting them to your db according to it's read limit.<br />\nThis is a good practice regardless, since Stripe can send the same event twice occasionally:<br />\n<a href=\"https://stripe.com/docs/webhooks#handle-duplicate-events\" rel=\"nofollow noreferrer\">https://stripe.com/docs/webhooks#handle-duplicate-events</a></p>\n"},{"comments":[{"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"score":0,"creation_date":1695014853,"post_id":77124230,"comment_id":135962211,"body_markdown":"Now you say update local store subscription details using subscribe subscription.update event so when I save the first subscription with incomplete status. According to you I follow approach like save subscription in subconscious.create event and update subscription details using subscription.update event. Now problem is when stripe send update event first and create event later or both event execute parallel and check if subscription details not found in local than save it. So add duplicate subscription entry with created status and updated status","body":"Now you say update local store subscription details using subscribe subscription.update event so when I save the first subscription with incomplete status. According to you I follow approach like save subscription in subconscious.create event and update subscription details using subscription.update event. Now problem is when stripe send update event first and create event later or both event execute parallel and check if subscription details not found in local than save it. So add duplicate subscription entry with created status and updated status"}],"tags":[],"owner":{"account_id":132746,"reputation":1266,"user_id":333638,"display_name":"qichuan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695002607,"creation_date":1695002607,"answer_id":77124230,"question_id":77120578,"body_markdown":"When a subscription payment fails, Stripe will perform smart retries to recover it. Therefore, it&#39;s totally possible to receive a `invoice.paid` followed by a `invoice.payment_failed` when the card finally has sufficient funds to pay the invoice when retried.\r\n\r\nPlease also note that the subscription status will only change when all retries failed, and the status that the subscription will transition to is determined by your [settings][1]. I don&#39;t have the details of your backend logic, but I&#39;d like to suggest reconsidering updating your internal subscription status based on `invoice.payment_failed` because this can be ephemeral. If you want to mirror the Stripe subscription status and update your DB when a Stripe subscription status changes, you can subscribe to `customer.subscription.updated`.\r\n\r\n\r\n  [1]: https://stripe.com/docs/billing/subscriptions/overview#settings","title":"Prevent save duplicate entry in our local database during stripe webhook","body":"<p>When a subscription payment fails, Stripe will perform smart retries to recover it. Therefore, it's totally possible to receive a <code>invoice.paid</code> followed by a <code>invoice.payment_failed</code> when the card finally has sufficient funds to pay the invoice when retried.</p>\n<p>Please also note that the subscription status will only change when all retries failed, and the status that the subscription will transition to is determined by your <a href=\"https://stripe.com/docs/billing/subscriptions/overview#settings\" rel=\"nofollow noreferrer\">settings</a>. I don't have the details of your backend logic, but I'd like to suggest reconsidering updating your internal subscription status based on <code>invoice.payment_failed</code> because this can be ephemeral. If you want to mirror the Stripe subscription status and update your DB when a Stripe subscription status changes, you can subscribe to <code>customer.subscription.updated</code>.</p>\n"}],"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1695002607,"creation_date":1694928142,"question_id":77120578,"body_markdown":"In my Spring Boot application, I&#39;m listening to webhook events from Stripe, specifically &quot;invoice.payment_failed&quot; and &quot;invoice.payment_succeeded.&quot; I&#39;ve implemented the following logic to manage subscription details in my local database:\r\n\r\nFor &quot;invoice.payment_failed&quot; events, I retrieve the subscription details from Stripe, check if it exists in my local database, and if it does, I update it with the latest Stripe subscription details. If not, I save the subscription in my local database.\r\n\r\nSimilarly, for &quot;invoice.payment_succeeded&quot; events, I follow the same logic of checking and updating or saving subscriptions in my local database.\r\n\r\nThe challenge arises when Stripe sends both webhook events consecutively during a single subscription payment. Each event is considered a new request, and Spring Boot handles them in a request pool. Occasionally, both requests execute simultaneously, and if the subscription is not found in my database, it can lead to duplicate entries.\r\n\r\nSo how to solve that problem. Pls guide me \r\n\r\nTry to guide and solve that type of scenarios during stripe webhook.\r\n\r\nFor that type of scenarios I have one approach\r\n\r\n1) lock database row\r\n\r\nBut that is not best practices for big level so provide some best practices to resolving that type of scenarios.\r\n\r\n\r\n\r\nHow to solving that type of scenarios Pls guide me","title":"Prevent save duplicate entry in our local database during stripe webhook","body":"<p>In my Spring Boot application, I'm listening to webhook events from Stripe, specifically &quot;invoice.payment_failed&quot; and &quot;invoice.payment_succeeded.&quot; I've implemented the following logic to manage subscription details in my local database:</p>\n<p>For &quot;invoice.payment_failed&quot; events, I retrieve the subscription details from Stripe, check if it exists in my local database, and if it does, I update it with the latest Stripe subscription details. If not, I save the subscription in my local database.</p>\n<p>Similarly, for &quot;invoice.payment_succeeded&quot; events, I follow the same logic of checking and updating or saving subscriptions in my local database.</p>\n<p>The challenge arises when Stripe sends both webhook events consecutively during a single subscription payment. Each event is considered a new request, and Spring Boot handles them in a request pool. Occasionally, both requests execute simultaneously, and if the subscription is not found in my database, it can lead to duplicate entries.</p>\n<p>So how to solve that problem. Pls guide me</p>\n<p>Try to guide and solve that type of scenarios during stripe webhook.</p>\n<p>For that type of scenarios I have one approach</p>\n<ol>\n<li>lock database row</li>\n</ol>\n<p>But that is not best practices for big level so provide some best practices to resolving that type of scenarios.</p>\n<p>How to solving that type of scenarios Pls guide me</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":4,"creation_date":1694995515,"post_id":77124003,"comment_id":135960916,"body_markdown":"Where exactly was this ```case String...``` part?  You mean the ```case character c``` part, right?  What is the compiler error?","body":"Where exactly was this <code>case String...</code> part?  You mean the <code>case character c</code> part, right?  What is the compiler error?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":6,"creation_date":1694995597,"post_id":77124003,"comment_id":135960919,"body_markdown":"Always post the full error message with your question. Always.","body":"Always post the full error message with your question. Always."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1694997085,"post_id":77124003,"comment_id":135960995,"body_markdown":"Falling through from one case to the next doesn&#39;t make sense once patters are used -- what would the value of `i` be? Why do you want to execute the `Integer` case every time the `Character` case matches?","body":"Falling through from one case to the next doesn&#39;t make sense once patters are used -- what would the value of <code>i</code> be? Why do you want to execute the <code>Integer</code> case every time the <code>Character</code> case matches?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1694998927,"post_id":77124003,"comment_id":135961111,"body_markdown":"To avoid more down-votes, edit your Question to include exact error message.","body":"To avoid more down-votes, edit your Question to include exact error message."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695001655,"creation_date":1694997746,"answer_id":77124074,"question_id":77124003,"body_markdown":"## tl;dr\r\n\r\nIn Java 21 and later:\r\n\r\n```java\r\n    switch ( obj )\r\n    {\r\n        case Character c -&gt; System.out.println ( &quot;Is Character: &quot; + c );\r\n        case Integer i -&gt; System.out.println ( &quot;Is Integer: &quot; + i );\r\n        default -&gt; System.out.println ( &quot;Some other class: &quot; + obj.getClass ( ).getCanonicalName ( ) );\r\n    }\r\n```\r\n\r\nIn earlier Java, add `break` statements.\r\n\r\n\r\n## `break` halts fall-through\r\n\r\nI am guessing the error you mention (but neglected to document) was &quot;Illegal fall-through to a pattern&quot;. Your `switch` is trying to continue on through all the cases. But given the different class types of each case, that makes no sense. Hence that error (or so I am guessing).\r\n\r\nThe immediate fix is to add `break;` statements to stop the case-fall-through.\r\n\r\n```java\r\nstatic void test ( Object obj )\r\n{\r\n    switch ( obj )\r\n    {\r\n        case Character c:\r\n            if ( c.charValue ( ) == 7 )\r\n            {\r\n                System.out.print ( &quot;Ding &quot; );\r\n            }\r\n            if ( c.charValue ( ) == 9 )\r\n            {\r\n                System.out.print ( &quot;Tab &quot; );\r\n            }\r\n            System.out.println ( &quot;character&quot; );\r\n            break;  // &lt;----------\r\n        case Integer i:  \r\n            System.out.println ( &quot;An integer &quot; + i );\r\n            break;  // &lt;----------\r\n        default:\r\n            System.out.println ( &quot;Neither character nor integer&quot; );\r\n    }\r\n}\r\n```\r\n\r\nTry it.\r\n\r\n```java\r\nApp.test ( &#39;x&#39; );\r\nApp.test ( 42 );\r\nApp.test ( &quot;whatever&quot; );\r\n```\r\n\r\nResults:\r\n\r\n```none\r\ncharacter\r\nAn integer 42\r\nNeither character nor integer\r\n```\r\n\r\n## Simplify your code\r\n\r\nYour IDE might suggest some improvements to your code.\r\n\r\nOne is replacing the unnecessary explicit unboxing of `.charValue`. Java will do that for you, auto-boxing.\r\n\r\n```java\r\n        if ( c == 7 )\r\n        {\r\n            System.out.print ( &quot;Ding &quot; );\r\n        }\r\n        if ( c == 9 )\r\n        {\r\n            System.out.print ( &quot;Tab &quot; );\r\n        }\r\n```\r\n\r\nAnd really, this code does not help your demonstration. So let&#39;s stick to simple `println`.\r\n\r\n```java\r\nstatic void test ( Object obj )\r\n{\r\n    switch ( obj )\r\n    {\r\n        case Character c:\r\n            System.out.println ( &quot;Is Character: &quot; + c );\r\n            break;\r\n        case Integer i:         \r\n            System.out.println ( &quot;Is Integer: &quot; + i );\r\n            break;\r\n        default:\r\n            System.out.println ( &quot;Some other class: &quot; + obj.getClass ( ).getCanonicalName ( ) );\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nIs Character: x\r\nIs Integer: 42\r\nSome other class: java.lang.String\r\n```\r\n\r\n## Java 21: Pattern Matching for `switch`\r\n\r\nJava 21 brings more pattern matching. See [*JEP 441: Pattern Matching for switch*](https://openjdk.org/jeps/441). \r\n\r\nWe can use the arrow operator `-&gt;` to execute code for that case. This syntax eliminates case-fall-through, so no `break` needed.\r\n\r\n\r\n```java\r\nstatic void test ( Object obj )\r\n{\r\n    switch ( obj )\r\n    {\r\n        case Character c -&gt; System.out.println ( &quot;Is Character: &quot; + c );\r\n        case Integer i -&gt; System.out.println ( &quot;Is Integer: &quot; + i );\r\n        default -&gt; System.out.println ( &quot;Some other class: &quot; + obj.getClass ( ).getCanonicalName ( ) );\r\n    }\r\n}\r\n```\r\n\r\nSimpler code, same results.\r\n\r\n```none\r\nIs Character: x\r\nIs Integer: 42\r\nSome other class: java.lang.String\r\n```\r\n\r\nFor more info on pattern matching, see some good talks on YouTube etc., and read the Java JEPs. \r\n\r\n----------\r\n\r\nBy the way… avoid using `char`/`Character`. That type has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, `char` is physically incapable of representing most characters. Instead, make a habit of using Unicode [code point][1] integer numbers to work with individual characters. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Code_point","title":"Why do this code have a compile error in switch","body":"<h2>tl;dr</h2>\n<p>In Java 21 and later:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    switch ( obj )\n    {\n        case Character c -&gt; System.out.println ( &quot;Is Character: &quot; + c );\n        case Integer i -&gt; System.out.println ( &quot;Is Integer: &quot; + i );\n        default -&gt; System.out.println ( &quot;Some other class: &quot; + obj.getClass ( ).getCanonicalName ( ) );\n    }\n</code></pre>\n<p>In earlier Java, add <code>break</code> statements.</p>\n<h2><code>break</code> halts fall-through</h2>\n<p>I am guessing the error you mention (but neglected to document) was &quot;Illegal fall-through to a pattern&quot;. Your <code>switch</code> is trying to continue on through all the cases. But given the different class types of each case, that makes no sense. Hence that error (or so I am guessing).</p>\n<p>The immediate fix is to add <code>break;</code> statements to stop the case-fall-through.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void test ( Object obj )\n{\n    switch ( obj )\n    {\n        case Character c:\n            if ( c.charValue ( ) == 7 )\n            {\n                System.out.print ( &quot;Ding &quot; );\n            }\n            if ( c.charValue ( ) == 9 )\n            {\n                System.out.print ( &quot;Tab &quot; );\n            }\n            System.out.println ( &quot;character&quot; );\n            break;  // &lt;----------\n        case Integer i:  \n            System.out.println ( &quot;An integer &quot; + i );\n            break;  // &lt;----------\n        default:\n            System.out.println ( &quot;Neither character nor integer&quot; );\n    }\n}\n</code></pre>\n<p>Try it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>App.test ( 'x' );\nApp.test ( 42 );\nApp.test ( &quot;whatever&quot; );\n</code></pre>\n<p>Results:</p>\n<pre class=\"lang-none prettyprint-override\"><code>character\nAn integer 42\nNeither character nor integer\n</code></pre>\n<h2>Simplify your code</h2>\n<p>Your IDE might suggest some improvements to your code.</p>\n<p>One is replacing the unnecessary explicit unboxing of <code>.charValue</code>. Java will do that for you, auto-boxing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        if ( c == 7 )\n        {\n            System.out.print ( &quot;Ding &quot; );\n        }\n        if ( c == 9 )\n        {\n            System.out.print ( &quot;Tab &quot; );\n        }\n</code></pre>\n<p>And really, this code does not help your demonstration. So let's stick to simple <code>println</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void test ( Object obj )\n{\n    switch ( obj )\n    {\n        case Character c:\n            System.out.println ( &quot;Is Character: &quot; + c );\n            break;\n        case Integer i:         \n            System.out.println ( &quot;Is Integer: &quot; + i );\n            break;\n        default:\n            System.out.println ( &quot;Some other class: &quot; + obj.getClass ( ).getCanonicalName ( ) );\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Is Character: x\nIs Integer: 42\nSome other class: java.lang.String\n</code></pre>\n<h2>Java 21: Pattern Matching for <code>switch</code></h2>\n<p>Java 21 brings more pattern matching. See <a href=\"https://openjdk.org/jeps/441\" rel=\"nofollow noreferrer\"><em>JEP 441: Pattern Matching for switch</em></a>.</p>\n<p>We can use the arrow operator <code>-&gt;</code> to execute code for that case. This syntax eliminates case-fall-through, so no <code>break</code> needed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void test ( Object obj )\n{\n    switch ( obj )\n    {\n        case Character c -&gt; System.out.println ( &quot;Is Character: &quot; + c );\n        case Integer i -&gt; System.out.println ( &quot;Is Integer: &quot; + i );\n        default -&gt; System.out.println ( &quot;Some other class: &quot; + obj.getClass ( ).getCanonicalName ( ) );\n    }\n}\n</code></pre>\n<p>Simpler code, same results.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Is Character: x\nIs Integer: 42\nSome other class: java.lang.String\n</code></pre>\n<p>For more info on pattern matching, see some good talks on YouTube etc., and read the Java JEPs.</p>\n<hr />\n<p>By the way… avoid using <code>char</code>/<code>Character</code>. That type has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, <code>char</code> is physically incapable of representing most characters. Instead, make a habit of using Unicode <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers to work with individual characters.</p>\n"}],"owner":{"account_id":23190679,"reputation":5,"user_id":17287096,"display_name":"kk k"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1695001655,"creation_date":1694995328,"question_id":77124003,"body_markdown":"I don&#39;t understand. that why have a error.\r\nI want to know why this code have a error.\r\n```\r\nstatic void test(Object obj) {\r\n        switch (obj) {\r\n            case Character c:\r\n                if (c.charValue() == 7) {\r\n                    System.out.print(&quot;Ding &quot;);\r\n                }\r\n                if (c.charValue() == 9) {\r\n                    System.out.print(&quot;Tab &quot;);\r\n                }\r\n                System.out.println(&quot;character&quot;);\r\n            case Integer i:                 // Compile-time error\r\n                System.out.println(&quot;An integer &quot; + i);\r\n            default:\r\n                System.out.println(&quot;Neither character nor integer&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nif I remove &quot;case String..&quot;. it does not have a error\r\n```\r\nstatic void test(Object obj) {\r\n        switch (obj) {\r\n            case Integer i:                 // Compile-time error\r\n                System.out.println(&quot;An integer &quot; + i);\r\n            default:\r\n                System.out.println(&quot;Neither character nor integer&quot;);\r\n        }\r\n    }\r\n```","title":"Why do this code have a compile error in switch","body":"<p>I don't understand. that why have a error.\nI want to know why this code have a error.</p>\n<pre><code>static void test(Object obj) {\n        switch (obj) {\n            case Character c:\n                if (c.charValue() == 7) {\n                    System.out.print(&quot;Ding &quot;);\n                }\n                if (c.charValue() == 9) {\n                    System.out.print(&quot;Tab &quot;);\n                }\n                System.out.println(&quot;character&quot;);\n            case Integer i:                 // Compile-time error\n                System.out.println(&quot;An integer &quot; + i);\n            default:\n                System.out.println(&quot;Neither character nor integer&quot;);\n        }\n    }\n</code></pre>\n<p>if I remove &quot;case String..&quot;. it does not have a error</p>\n<pre><code>static void test(Object obj) {\n        switch (obj) {\n            case Integer i:                 // Compile-time error\n                System.out.println(&quot;An integer &quot; + i);\n            default:\n                System.out.println(&quot;Neither character nor integer&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","ejb","weblogic"],"comments":[{"owner":{"account_id":2392858,"reputation":6207,"user_id":2092358,"display_name":"Display Name is missing"},"score":1,"creation_date":1398802896,"post_id":23357350,"comment_id":35805266,"body_markdown":"Are you using autodeploy like that link mentioned? If you&#39;re not - you need to open the weblogic admin console and removed your old deployment. See some info here: http://stackoverflow.com/questions/22049332/weblogic-new-deployment-reverting-to-old-code/22052585#22052585","body":"Are you using autodeploy like that link mentioned? If you&#39;re not - you need to open the weblogic admin console and removed your old deployment. See some info here: <a href=\"http://stackoverflow.com/questions/22049332/weblogic-new-deployment-reverting-to-old-code/22052585#22052585\" title=\"weblogic new deployment reverting to old code\">stackoverflow.com/questions/22049332/&hellip;</a>"},{"owner":{"account_id":4230332,"reputation":161,"user_id":3462765,"accept_rate":21,"display_name":"Developer"},"score":0,"creation_date":1398828072,"post_id":23357350,"comment_id":35813671,"body_markdown":"Yes I deleted all the previous Deployments and \nnow it&#39;s running fine; but I guess its not a solution because what if I want to run two programs concurrently.","body":"Yes I deleted all the previous Deployments and  now it&#39;s running fine; but I guess its not a solution because what if I want to run two programs concurrently."},{"owner":{"account_id":2392858,"reputation":6207,"user_id":2092358,"display_name":"Display Name is missing"},"score":1,"creation_date":1398872681,"post_id":23357350,"comment_id":35837914,"body_markdown":"You can&#39;t have them with the exact same name OR you can create 2 managed servers and run one program on each. There are many options there but naming them differently is probably the easiest","body":"You can&#39;t have them with the exact same name OR you can create 2 managed servers and run one program on each. There are many options there but naming them differently is probably the easiest"},{"owner":{"account_id":4230332,"reputation":161,"user_id":3462765,"accept_rate":21,"display_name":"Developer"},"score":0,"creation_date":1399001809,"post_id":23357350,"comment_id":35890528,"body_markdown":"Yes obviously sir; \nbut actually I did not give the same name to two or more programs; and that is why  I don&#39;t know what went wrong and the exception...;\nMay be I made some mistake..\nThank u so much JAZAKALLAH Khair! \nResponse was very helpful!","body":"Yes obviously sir;  but actually I did not give the same name to two or more programs; and that is why  I don&#39;t know what went wrong and the exception...; May be I made some mistake.. Thank u so much JAZAKALLAH Khair!  Response was very helpful!"}],"answers":[{"tags":[],"owner":{"account_id":2464549,"reputation":33,"user_id":2147947,"accept_rate":25,"display_name":"Gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692388813,"creation_date":1416926265,"answer_id":27129488,"question_id":23357350,"body_markdown":"`ModuleException` come due to improper Build.\r\nGo through step by step.\r\n\r\n - Update project\r\n - Restart your eclipse\r\n - Remove project from server\r\n - clean server and redeploy your project\r\n\r\n\r\nNow publish it, I hope now it will work.\r\n \r\n\r\n   ","title":"How to resolve exception &quot;weblogic.application.ModuleException: Context path &#39;&#39; is already in use by the module: / application&quot;?","body":"<p><code>ModuleException</code> come due to improper Build.\nGo through step by step.</p>\n<ul>\n<li>Update project</li>\n<li>Restart your eclipse</li>\n<li>Remove project from server</li>\n<li>clean server and redeploy your project</li>\n</ul>\n<p>Now publish it, I hope now it will work.</p>\n"},{"tags":[],"owner":{"account_id":57405,"reputation":3587,"user_id":171956,"accept_rate":19,"display_name":"99Sono"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454000072,"creation_date":1453999098,"answer_id":35067006,"question_id":23357350,"body_markdown":"Yup. Try to deploy from Netbeans.\r\n\r\nThe Weblogic eclipse plugin is, in my experience, the worst deployment plugin I&#39;ve ever seen. If you are using a patched weblogic - such as 12.1.2 with Patch Set Update 6 - your deployment from eclipse might miraculously not work with such an error.\r\n\r\nIf you are able to deploy the WAR file without IDE by going to the deploy view, I recommend that you try using Netbeans to deploy and see how it goes.\r\n\r\nNotice as well that the outcome of trying to deploy from eclipse as exploded war or as virtual application is not the same. Typically both do not work with different exceptions, depending on the patches you are using.\r\n\r\nIn my case, I have two local installations of weblogic 12.1.2. One with the patch set update and another one without. From eclipse, It is only possible to deploy to the one without. From Netbeans, deployment works regardless of the instance.\r\n","title":"How to resolve exception &quot;weblogic.application.ModuleException: Context path &#39;&#39; is already in use by the module: / application&quot;?","body":"<p>Yup. Try to deploy from Netbeans.</p>\n\n<p>The Weblogic eclipse plugin is, in my experience, the worst deployment plugin I've ever seen. If you are using a patched weblogic - such as 12.1.2 with Patch Set Update 6 - your deployment from eclipse might miraculously not work with such an error.</p>\n\n<p>If you are able to deploy the WAR file without IDE by going to the deploy view, I recommend that you try using Netbeans to deploy and see how it goes.</p>\n\n<p>Notice as well that the outcome of trying to deploy from eclipse as exploded war or as virtual application is not the same. Typically both do not work with different exceptions, depending on the patches you are using.</p>\n\n<p>In my case, I have two local installations of weblogic 12.1.2. One with the patch set update and another one without. From eclipse, It is only possible to deploy to the one without. From Netbeans, deployment works regardless of the instance.</p>\n"}],"owner":{"account_id":4230332,"reputation":161,"user_id":3462765,"accept_rate":21,"display_name":"Developer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18935,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694998855,"creation_date":1398753803,"question_id":23357350,"body_markdown":" I have gone through the Question:\r\n[https://stackoverflow.com/questions/16033609/weblogic-application-moduleexception-context-path-is-already-in-use-by-the-m][1]\r\nand followed as answer of the question says; but still getting the same exception:   \r\n\r\n    **&gt; Deployment failed. The message was:  \r\n&gt; weblogic.application.ModuleException: Context path\r\n&gt; &#39;/socketss-war&#39; is already in use by the module:\r\n&gt; /Socketss-war application: Socketss\r\n&gt; D:\\NetBeansProjects\\Socketss\\Socketss-war\\nbproject\\build-impl.xml:1056:\r\n&gt; The module has not been deployed. See the server log for details.**\r\n\r\nAny guidance or suggestion would be highly appreciable.&lt;br&gt;\r\nThank you!","title":"How to resolve exception &quot;weblogic.application.ModuleException: Context path &#39;&#39; is already in use by the module: / application&quot;?","body":"<p>I have gone through the Question:\n[<a href=\"https://stackoverflow.com/questions/16033609/weblogic-application-moduleexception-context-path-is-already-in-use-by-the-m][1]\">weblogic.application.ModuleException: Context path &#39;&#39; is already in use by the module: / application:</a>\nand followed as answer of the question says; but still getting the same exception:   </p>\n\n<pre><code>**&gt; Deployment failed. The message was:  \n</code></pre>\n\n<blockquote>\n  <p>weblogic.application.ModuleException: Context path\n  '/socketss-war' is already in use by the module:\n  /Socketss-war application: Socketss\n  D:\\NetBeansProjects\\Socketss\\Socketss-war\\nbproject\\build-impl.xml:1056:\n  The module has not been deployed. See the server log for details.**</p>\n</blockquote>\n\n<p>Any guidance or suggestion would be highly appreciable.<br>\nThank you!</p>\n"},{"tags":["java","eclipse","exception","java-3d","unsatisfiedlinkerror"],"comments":[{"owner":{"account_id":2197867,"reputation":4633,"user_id":1943093,"accept_rate":54,"display_name":"imrichardcole"},"score":0,"creation_date":1359925733,"post_id":14677079,"comment_id":20518485,"body_markdown":"Looks like a duplicate [post][1], came up as top result in google\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/4098161/problems-with-java3d-lib-configuration","body":"Looks like a duplicate [post][1], came up as top result in google        [1]: <a href=\"http://stackoverflow.com/questions/4098161/problems-with-java3d-lib-configuration\" title=\"problems with java3d lib configuration\">stackoverflow.com/questions/4098161/&hellip;</a>"},{"owner":{"account_id":1790270,"reputation":65,"user_id":1630850,"display_name":"user1630850"},"score":0,"creation_date":1359928159,"post_id":14677079,"comment_id":20519149,"body_markdown":"that one isnt mine but thank you, i actually did see this before","body":"that one isnt mine but thank you, i actually did see this before"},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1438884038,"post_id":14677079,"comment_id":51644597,"body_markdown":"Java3D 1.5.2 is obsolete, rather use Java3D 1.6.0. See my comment below.","body":"Java3D 1.5.2 is obsolete, rather use Java3D 1.6.0. See my comment below."}],"answers":[{"tags":[],"owner":{"account_id":18159848,"reputation":1,"user_id":13211375,"display_name":"Raphael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585919386,"creation_date":1585919386,"answer_id":61012653,"question_id":14677079,"body_markdown":"If I set \r\n    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib/jni \r\nit works.","title":"UnsatisfiedLinkError: no j3dcore-ogl in java.library.path","body":"<p>If I set \n    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib/jni \nit works.</p>\n"}],"owner":{"account_id":1790270,"reputation":65,"user_id":1630850,"display_name":"user1630850"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13075,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1694998855,"creation_date":1359924165,"question_id":14677079,"body_markdown":"I have a project in eclipse, runs perfectly fine in the ide when I click run, but I need to export it into a runnable jar file which also works fine. But when I try to run it it throws an exception:\r\n\r\n\tException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no j3dcore-ogl in java.library.path\r\n\t\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1856)\r\n\t\tat java.lang.Runtime.loadLibrary0(Runtime.java:845)\r\n\t\tat java.lang.System.loadLibrary(System.java:1084)\r\n\t\tat javax.media.j3d.NativePipeline$1.run(NativePipeline.java:231)\r\n\t\tat java.security.AccessController.doPrivileged(Native Method)\r\n\t\tat javax.media.j3d.NativePipeline.loadLibrary(NativePipeline.java:200)\r\n\t\tat javax.media.j3d.NativePipeline.loadLibraries(NativePipeline.java:157)\r\n\t\tat javax.media.j3d.MasterControl.loadLibraries(MasterControl.java:987)\r\n\t\tat javax.media.j3d.VirtualUniverse.&lt;clinit&gt;(VirtualUniverse.java:299)\r\n\t\tat javax.media.j3d.GraphicsConfigTemplate3D.getBestConfiguration(GraphicsConfigTemplate3D.java:321)\r\n\t\tat java.awt.GraphicsDevice.getBestConfiguration(GraphicsDevice.java:207)\r\n\t\tat com.sun.j3d.exp.swing.JCanvas3D.&lt;init&gt;(JCanvas3D.java:228)\r\n\t\tat com.sun.j3d.exp.swing.JCanvas3D.&lt;init&gt;(JCanvas3D.java:178)\r\n\t\tat mainproject.MainPanel.&lt;init&gt;(MainPanel.java:72)\r\n\t\tat mainproject.MainWindow.&lt;init&gt;(MainWindow.java:42)\r\n\t\tat mainproject.MainWindow.main(MainWindow.java:23)\r\n\r\nI have been googling it for 2 days now, tons of results, none helpful.\r\nI export it by going to `file-&gt;export-&gt;java-&gt;Runnable jar file-&gt;i bubble extract required libraries into generated jar`, choose the correct configuration, save the file in a specified folder, then it saves just fine. Or at least so I think. The `java.library.path` goes to the `jre lib folder`, but when i run it in eclipse it goes to the .so for j3d, i tried changing it using `System.setProperty` but to no success. I have a feeling that is the problem, but when I tried to fix it nothing happened. I&#39;m using the most up to date `java3d library (1.5.2 I believe)`. \r\n\r\nAny suggestions?","title":"UnsatisfiedLinkError: no j3dcore-ogl in java.library.path","body":"<p>I have a project in eclipse, runs perfectly fine in the ide when I click run, but I need to export it into a runnable jar file which also works fine. But when I try to run it it throws an exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no j3dcore-ogl in java.library.path\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1856)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:845)\n    at java.lang.System.loadLibrary(System.java:1084)\n    at javax.media.j3d.NativePipeline$1.run(NativePipeline.java:231)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.media.j3d.NativePipeline.loadLibrary(NativePipeline.java:200)\n    at javax.media.j3d.NativePipeline.loadLibraries(NativePipeline.java:157)\n    at javax.media.j3d.MasterControl.loadLibraries(MasterControl.java:987)\n    at javax.media.j3d.VirtualUniverse.&lt;clinit&gt;(VirtualUniverse.java:299)\n    at javax.media.j3d.GraphicsConfigTemplate3D.getBestConfiguration(GraphicsConfigTemplate3D.java:321)\n    at java.awt.GraphicsDevice.getBestConfiguration(GraphicsDevice.java:207)\n    at com.sun.j3d.exp.swing.JCanvas3D.&lt;init&gt;(JCanvas3D.java:228)\n    at com.sun.j3d.exp.swing.JCanvas3D.&lt;init&gt;(JCanvas3D.java:178)\n    at mainproject.MainPanel.&lt;init&gt;(MainPanel.java:72)\n    at mainproject.MainWindow.&lt;init&gt;(MainWindow.java:42)\n    at mainproject.MainWindow.main(MainWindow.java:23)\n</code></pre>\n\n<p>I have been googling it for 2 days now, tons of results, none helpful.\nI export it by going to <code>file-&gt;export-&gt;java-&gt;Runnable jar file-&gt;i bubble extract required libraries into generated jar</code>, choose the correct configuration, save the file in a specified folder, then it saves just fine. Or at least so I think. The <code>java.library.path</code> goes to the <code>jre lib folder</code>, but when i run it in eclipse it goes to the .so for j3d, i tried changing it using <code>System.setProperty</code> but to no success. I have a feeling that is the problem, but when I tried to fix it nothing happened. I'm using the most up to date <code>java3d library (1.5.2 I believe)</code>. </p>\n\n<p>Any suggestions?</p>\n"},{"tags":["java","xml","sockets","jaxb","bufferedreader"],"comments":[{"owner":{"account_id":2835128,"reputation":11494,"user_id":2435872,"accept_rate":83,"display_name":"jboi"},"score":0,"creation_date":1385623664,"post_id":20259849,"comment_id":30220771,"body_markdown":"What you say is merely true for HTTP POST requests. Plain sockets have a straight forward behavior.","body":"What you say is merely true for HTTP POST requests. Plain sockets have a straight forward behavior."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1695002641,"post_id":20259849,"comment_id":135961412,"body_markdown":"Your code suffers from the common misunderstanding that there are &#39;messages&#39; in TCP. There are not - there is just a stream of bytes. Thus there&#39;s no clear way for the recipient of your write-to-socket to know when it&#39;s received the last byte intended (unless it&#39;s parsing as it goes, so it can delay until it has got the `&lt;/estel&gt;` that matches the initial `&lt;estel&gt;`, but I doubt you&#39;re doing that). If you want messages, you have to invent a protocol to delimit them. Ending the output stream after the write (before awaiting the response) would be one way.","body":"Your code suffers from the common misunderstanding that there are &#39;messages&#39; in TCP. There are not - there is just a stream of bytes. Thus there&#39;s no clear way for the recipient of your write-to-socket to know when it&#39;s received the last byte intended (unless it&#39;s parsing as it goes, so it can delay until it has got the <code>&lt;&#47;estel&gt;</code> that matches the initial <code>&lt;estel&gt;</code>, but I doubt you&#39;re doing that). If you want messages, you have to invent a protocol to delimit them. Ending the output stream after the write (before awaiting the response) would be one way."}],"answers":[{"comments":[{"owner":{"account_id":1676276,"reputation":752,"user_id":1541771,"display_name":"Ayobami Opeyemi"},"score":0,"creation_date":1385626412,"post_id":20260325,"comment_id":30221917,"body_markdown":"is socket.shutDownOutput() compulsory for xml?&gt; i thought so because that kind of stabilizes the program but i cant seem to read what im writing from the response. still isnt resolved","body":"is socket.shutDownOutput() compulsory for xml?&gt; i thought so because that kind of stabilizes the program but i cant seem to read what im writing from the response. still isnt resolved"},{"owner":{"account_id":2835128,"reputation":11494,"user_id":2435872,"accept_rate":83,"display_name":"jboi"},"score":0,"creation_date":1385627067,"post_id":20260325,"comment_id":30222242,"body_markdown":"The way you transport the text (here via sockets) has nothing to do with what you transport (here a XML document). As I said, when the server is not responding to your XML, than the server hangs. Most likely because the server is still waiting for more input or did not recognize, that the XML ended. That&#39;s why I suggest to send an EOF over the ouput stream. BUT, as we have no information about the server, it might be any other issue. If you need more help you need to provide more information about the server.","body":"The way you transport the text (here via sockets) has nothing to do with what you transport (here a XML document). As I said, when the server is not responding to your XML, than the server hangs. Most likely because the server is still waiting for more input or did not recognize, that the XML ended. That&#39;s why I suggest to send an EOF over the ouput stream. BUT, as we have no information about the server, it might be any other issue. If you need more help you need to provide more information about the server."},{"owner":{"account_id":1676276,"reputation":752,"user_id":1541771,"display_name":"Ayobami Opeyemi"},"score":0,"creation_date":1385629123,"post_id":20260325,"comment_id":30223331,"body_markdown":"Say the response string is &lt;estel&gt;&lt;header&gt;&lt;request&gt;invalid request &lt;\\request&gt;&lt;\\header&gt;&lt;\\estel&gt; when I telnet, then using socket and unmarshalling with jaxb I also get this response , you get this response only when you dont send the proper xml format","body":"Say the response string is &lt;estel&gt;&lt;header&gt;&lt;request&gt;invalid request &lt;\\request&gt;&lt;\\header&gt;&lt;\\estel&gt; when I telnet, then using socket and unmarshalling with jaxb I also get this response , you get this response only when you dont send the proper xml format"},{"owner":{"account_id":2835128,"reputation":11494,"user_id":2435872,"accept_rate":83,"display_name":"jboi"},"score":0,"creation_date":1385639725,"post_id":20260325,"comment_id":30229748,"body_markdown":"You get this response simply because the XML parser throws an exception on the server. In your case, the same parser tries to read further as it did not receive an EOF. HAve you tried to send the EOF with `socket.shutdownOutput()`?","body":"You get this response simply because the XML parser throws an exception on the server. In your case, the same parser tries to read further as it did not receive an EOF. HAve you tried to send the EOF with <code>socket.shutdownOutput()</code>?"}],"tags":[],"owner":{"account_id":2835128,"reputation":11494,"user_id":2435872,"accept_rate":83,"display_name":"jboi"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385624399,"creation_date":1385624399,"answer_id":20260325,"question_id":20259849,"body_markdown":"You send the XML over the socket but the server side does not answer. To be 100% sure what happens, we would need the server code and server error messages. So far I see two things, you could do:\r\n\r\n  1. When writing and flushing the XML, you can call `socket.shutdownOutput()`. This sends an EOF to the server, indicating that there&#39;s nothing more to read. Latest than the server should know, that it has to work on the XML and produce the result.\r\n\r\n  2. You send a String of `char` over a Stream of `byte`. Hopefully the server understands that in the same way as the client sends it. As hope is not really helpful in programming, you should wrap the output stream like this: `Writer writer = new OutputStreamWriter(socket.shutdownOutput(), &quot;UTF-8&quot;);` and do the write and the flush with the writer. Notice that you need to do the same on the server side for the input stream (wrap as Reader with &quot;UTF-8&quot;)\r\n\r\n","title":"what is the best way to send xml string over java Sockets?","body":"<p>You send the XML over the socket but the server side does not answer. To be 100% sure what happens, we would need the server code and server error messages. So far I see two things, you could do:</p>\n\n<ol>\n<li><p>When writing and flushing the XML, you can call <code>socket.shutdownOutput()</code>. This sends an EOF to the server, indicating that there's nothing more to read. Latest than the server should know, that it has to work on the XML and produce the result.</p></li>\n<li><p>You send a String of <code>char</code> over a Stream of <code>byte</code>. Hopefully the server understands that in the same way as the client sends it. As hope is not really helpful in programming, you should wrap the output stream like this: <code>Writer writer = new OutputStreamWriter(socket.shutdownOutput(), \"UTF-8\");</code> and do the write and the flush with the writer. Notice that you need to do the same on the server side for the input stream (wrap as Reader with \"UTF-8\")</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1676276,"reputation":752,"user_id":1541771,"display_name":"Ayobami Opeyemi"},"score":0,"creation_date":1385626263,"post_id":20260355,"comment_id":30221861,"body_markdown":"@Matthiaas i actually tried your version but it hangs @ the point where writing to socket begins, the whole code is within a try block and a IOException catches it.","body":"@Matthiaas i actually tried your version but it hangs @ the point where writing to socket begins, the whole code is within a try block and a IOException catches it."},{"owner":{"account_id":1292873,"reputation":3582,"user_id":1244610,"display_name":"Matthias"},"score":0,"creation_date":1385626340,"post_id":20260355,"comment_id":30221886,"body_markdown":"At which point? You do it in two programs or at least in two threads, yes?","body":"At which point? You do it in two programs or at least in two threads, yes?"},{"owner":{"account_id":1676276,"reputation":752,"user_id":1541771,"display_name":"Ayobami Opeyemi"},"score":0,"creation_date":1385629345,"post_id":20260355,"comment_id":30223445,"body_markdown":"I&#39;m simply writing the code in one class with a main method and a try block encapsulates the reading outputstream and inputstream, it seems for xml strings u actualli nid to do socket.shutDownOutput().  For it to stop hanging ,seems the server is expecting more data .","body":"I&#39;m simply writing the code in one class with a main method and a try block encapsulates the reading outputstream and inputstream, it seems for xml strings u actualli nid to do socket.shutDownOutput().  For it to stop hanging ,seems the server is expecting more data ."}],"tags":[],"owner":{"account_id":1292873,"reputation":3582,"user_id":1244610,"display_name":"Matthias"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385624499,"creation_date":1385624499,"answer_id":20260355,"question_id":20259849,"body_markdown":"Please reduce your issue to a running piece of code that shows the error. Posting some code that does not even compile, does not really help in understanding the problem you have. Even after fitting this code in a method and importing java.io stuff, there is 4 (!) undeclared variables: `hd, rq, out and rd`.\r\n\r\nTo help with your problem and answer your questions:\r\n\r\n1. You do not need to use a buffered writer, you just have to make sure you write everything you want to write (and flush or close the stream afterwards). The client (receiver) of course has to read from that stream as long as bytes are available before he tries to interpret the data.\r\n\r\n2. If you want to implement a different protocol, you of course have to read / write until a certain marker or whatever indicates that your transmission is finished. For this question however I assume you only want to transmit one set of XML data.\r\n\r\nFor writing you can simply write the String in one go using a simple `OutputStream`.\r\nCode like this would do the job:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    //...\r\n    Socket socket = new Socket(&quot;41.206.23.21&quot;, 7101);\r\n    OutputStream os = socket.getOutputStream();\r\n    os.write(sb.toString().getBytes());\r\n    os.flush();\r\n\r\nReading that, you can also use a simple `InputStream`. To make sure you get everything, you should usually read the data and write it all to an intermediate byte array which you then can transform back into your String. A generic method for doing that, could be like this:\r\n\r\n      String read(InputStream in) throws IOException {\r\n        byte[] buffer = new byte[8192];\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        int got;\r\n        while ((got = in.read(buffer)) &gt; -1) {\r\n          out.write(buffer, 0, got);\r\n        }\r\n        byte[] data = out.toByteArray();\r\n        String result = new String(data);\r\n        return result;\r\n      }\r\n\r\nKeep in mind that this method neither closes the stream, nor handles exceptions.","title":"what is the best way to send xml string over java Sockets?","body":"<p>Please reduce your issue to a running piece of code that shows the error. Posting some code that does not even compile, does not really help in understanding the problem you have. Even after fitting this code in a method and importing java.io stuff, there is 4 (!) undeclared variables: <code>hd, rq, out and rd</code>.</p>\n\n<p>To help with your problem and answer your questions:</p>\n\n<ol>\n<li><p>You do not need to use a buffered writer, you just have to make sure you write everything you want to write (and flush or close the stream afterwards). The client (receiver) of course has to read from that stream as long as bytes are available before he tries to interpret the data.</p></li>\n<li><p>If you want to implement a different protocol, you of course have to read / write until a certain marker or whatever indicates that your transmission is finished. For this question however I assume you only want to transmit one set of XML data.</p></li>\n</ol>\n\n<p>For writing you can simply write the String in one go using a simple <code>OutputStream</code>.\nCode like this would do the job:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\n//...\nSocket socket = new Socket(\"41.206.23.21\", 7101);\nOutputStream os = socket.getOutputStream();\nos.write(sb.toString().getBytes());\nos.flush();\n</code></pre>\n\n<p>Reading that, you can also use a simple <code>InputStream</code>. To make sure you get everything, you should usually read the data and write it all to an intermediate byte array which you then can transform back into your String. A generic method for doing that, could be like this:</p>\n\n<pre><code>  String read(InputStream in) throws IOException {\n    byte[] buffer = new byte[8192];\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    int got;\n    while ((got = in.read(buffer)) &gt; -1) {\n      out.write(buffer, 0, got);\n    }\n    byte[] data = out.toByteArray();\n    String result = new String(data);\n    return result;\n  }\n</code></pre>\n\n<p>Keep in mind that this method neither closes the stream, nor handles exceptions.</p>\n"}],"owner":{"account_id":1676276,"reputation":752,"user_id":1541771,"display_name":"Ayobami Opeyemi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8771,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694995340,"creation_date":1385622698,"question_id":20259849,"body_markdown":"I tried this, but somewhere along the line I can&#39;t read the response from the server. (The response is in XML). \r\n\r\nI have read that writing over sockets requires buffering due to the string breakage. Somehow I discovered this is true when I used a jaxb unmarshaller and it reported a SAX EOF exception, meaning the xml been read was not complete. \r\n\r\nPlease how do I buffer write and buffer read properly?\r\n\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    sb.append(&quot;&lt;estel&gt;&quot;);\r\n    sb.append(&quot;&lt;header&gt;&lt;requesttype&gt;&quot;).append(hd.getRequestType()).append(&quot;&lt;/requesttype&gt;&lt;/header&gt;&quot;);\r\n    sb.append(&quot;&lt;request&gt;&quot;);\r\n    sb.append(&quot;&lt;agentcode&gt;&quot;).append(rq.getAgentCode()).append(&quot;&lt;/agentcode&gt;&quot;);\r\n    sb.append(&quot;&lt;pin&gt;&quot;).append(rq.getPin()).append(&quot;&lt;/pin&gt;&quot;);\r\n    sb.append(&quot;&lt;destination&gt;&quot;).append(rq.getDestination()).append(&quot;&lt;/destination&gt;&quot;);\r\n    sb.append(&quot;&lt;agenttransid&gt;&quot;).append(rq.getAgentTransId()).append(&quot;&lt;/agenttransid&gt;&quot;);\r\n    sb.append(&quot;&lt;vendorcode&gt;&quot;).append(rq.getVendorCode()).append(&quot;&lt;/vendorcode&gt;&quot;);\r\n    sb.append(&quot;&lt;amount&gt;&quot;).append(rq.getAmount()).append(&quot;&lt;/amount&gt;&quot;);\r\n        sb.append(&quot;&lt;productcode&gt;&quot;).append(rq.getProductCode()).append(&quot;&lt;/productcode&gt;&quot;);\r\n        sb.append(&quot;&lt;comments&gt;&quot;).append(rq.getComments()).append(&quot;&lt;/comments&gt;&quot;);\r\n        sb.append(&quot;&lt;clienttype&gt;&quot;).append(rq.getClientType()).append(&quot;&lt;/clienttype&gt;&quot;);\r\n    sb.append(&quot;&lt;/request&gt;&lt;/estel&gt;&quot;);\r\n\r\n\r\n        Socket socket = new Socket(&quot;41.206.23.21&quot;,7101);\r\n        OutputStream os = socket.getOutputStream();\r\n        InputStream in = socket.getInputStream();\r\n        \r\n        OutputStream buf = new BufferedOutputStream(os);    \r\n        out = new OutputStreamWriter(buf);\r\n        \r\n        System.out.printf(&quot;\\nxml is %s&quot;,sb.toString());   \r\n       System.out.print(&quot;\\n--------writing--to--socket-----&quot;);\r\n        out.write(sb.toString());\r\n        out.flush();\r\n\r\n        //read response\r\n        InputStream bui = new BufferedInputStream(in);\r\n      rd = new InputStreamReader(bui);\r\n       System.out.print(&quot;\\nxml response&quot;+rd.toString());\r\n\r\n       in.close();\r\n       out.close();\r\n       socket.close();\r\n","title":"what is the best way to send xml string over java Sockets?","body":"<p>I tried this, but somewhere along the line I can't read the response from the server. (The response is in XML). </p>\n\n<p>I have read that writing over sockets requires buffering due to the string breakage. Somehow I discovered this is true when I used a jaxb unmarshaller and it reported a SAX EOF exception, meaning the xml been read was not complete. </p>\n\n<p>Please how do I buffer write and buffer read properly?</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nsb.append(\"&lt;estel&gt;\");\nsb.append(\"&lt;header&gt;&lt;requesttype&gt;\").append(hd.getRequestType()).append(\"&lt;/requesttype&gt;&lt;/header&gt;\");\nsb.append(\"&lt;request&gt;\");\nsb.append(\"&lt;agentcode&gt;\").append(rq.getAgentCode()).append(\"&lt;/agentcode&gt;\");\nsb.append(\"&lt;pin&gt;\").append(rq.getPin()).append(\"&lt;/pin&gt;\");\nsb.append(\"&lt;destination&gt;\").append(rq.getDestination()).append(\"&lt;/destination&gt;\");\nsb.append(\"&lt;agenttransid&gt;\").append(rq.getAgentTransId()).append(\"&lt;/agenttransid&gt;\");\nsb.append(\"&lt;vendorcode&gt;\").append(rq.getVendorCode()).append(\"&lt;/vendorcode&gt;\");\nsb.append(\"&lt;amount&gt;\").append(rq.getAmount()).append(\"&lt;/amount&gt;\");\n    sb.append(\"&lt;productcode&gt;\").append(rq.getProductCode()).append(\"&lt;/productcode&gt;\");\n    sb.append(\"&lt;comments&gt;\").append(rq.getComments()).append(\"&lt;/comments&gt;\");\n    sb.append(\"&lt;clienttype&gt;\").append(rq.getClientType()).append(\"&lt;/clienttype&gt;\");\nsb.append(\"&lt;/request&gt;&lt;/estel&gt;\");\n\n\n    Socket socket = new Socket(\"41.206.23.21\",7101);\n    OutputStream os = socket.getOutputStream();\n    InputStream in = socket.getInputStream();\n\n    OutputStream buf = new BufferedOutputStream(os);    \n    out = new OutputStreamWriter(buf);\n\n    System.out.printf(\"\\nxml is %s\",sb.toString());   \n   System.out.print(\"\\n--------writing--to--socket-----\");\n    out.write(sb.toString());\n    out.flush();\n\n    //read response\n    InputStream bui = new BufferedInputStream(in);\n  rd = new InputStreamReader(bui);\n   System.out.print(\"\\nxml response\"+rd.toString());\n\n   in.close();\n   out.close();\n   socket.close();\n</code></pre>\n"},{"tags":["java","web-services","spring","jackson","resttemplate"],"comments":[{"owner":{"account_id":232642,"reputation":723,"user_id":497623,"accept_rate":78,"display_name":"hectorg87"},"score":1,"creation_date":1371564122,"post_id":14491309,"comment_id":24860900,"body_markdown":"you should answer your own question with the &quot;Update edit&quot; of the question.","body":"you should answer your own question with the &quot;Update edit&quot; of the question."},{"owner":{"account_id":268400,"reputation":624,"user_id":557143,"display_name":"Hemant Nagpal"},"score":1,"creation_date":1595955723,"post_id":14491309,"comment_id":111651113,"body_markdown":"You are awesome, your update resolved the issue.","body":"You are awesome, your update resolved the issue."}],"answers":[{"tags":[],"owner":{"account_id":1434521,"reputation":290,"user_id":1356208,"display_name":"Uttesh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387539524,"creation_date":1387539524,"answer_id":20702828,"question_id":14491309,"body_markdown":"Use the  @JsonSerialize(using = JsonDateSerializer.class) or  @JsonDeserialize(using = JsonDateDeSerializer.class) annotations of org.codehaus.jackson.map.JsonDeserializer; it will solve the issue or user ObjectMapper(org.codehaus.jackson.map.ObjectMapper) to convert to Json String.\r\n\r\nobjectMapper.writeValueAsString(Object); // this will give json string","title":"Deserializing Nested objects using RestTemplate","body":"<p>Use the  @JsonSerialize(using = JsonDateSerializer.class) or  @JsonDeserialize(using = JsonDateDeSerializer.class) annotations of org.codehaus.jackson.map.JsonDeserializer; it will solve the issue or user ObjectMapper(org.codehaus.jackson.map.ObjectMapper) to convert to Json String.</p>\n\n<p>objectMapper.writeValueAsString(Object); // this will give json string</p>\n"}],"owner":{"account_id":236361,"reputation":14191,"user_id":503804,"accept_rate":70,"display_name":"nilesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11627,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1694995340,"creation_date":1358983647,"question_id":14491309,"body_markdown":"I am using RestTemplate and having issues deserializing an object. Here is what I am doing. The JSON response looks like,\r\n\r\n```lang-java\r\n{\r\n    &quot;response&quot;: {\r\n        &quot;Time&quot;: &quot;Wed 2013.01.23 at 03:35:25 PM UTC&quot;,\r\n        &quot;Total_Input_Records&quot;: 5,\r\n    },-\r\n    &quot;message&quot;: &quot;Succeeded&quot;,\r\n    &quot;code&quot;: &quot;200&quot;\r\n}\r\n```\r\n\r\nConverted this Json payload into a POJO using [jsonschema2pojo][1]\r\n\r\n\r\n    public class MyClass {\r\n        @JsonProperty(&quot;response&quot;)\r\n        private Response response;\r\n        @JsonProperty(&quot;message&quot;)\r\n        private Object message;\r\n        @JsonProperty(&quot;code&quot;)\r\n        private Object code;\r\n        private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n        //bunch of getters and setters here\r\n    }\r\n    public class Response {\r\n        @JsonProperty(&quot;Time&quot;)\r\n        private Date Time;\r\n        @JsonProperty(&quot;Total_Input_Records&quot;)\r\n        private Object Total_Input_Records;\r\n        private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n    //bunch of getters and setters here\r\n    }\r\n\r\nHere is the request processing where I am getting the exception,\r\n\r\n    String url = &quot;http://example.com/someparams&quot;;\r\n    RestTemplate template = new RestTemplate(\r\n    \t\t\t\tnew HttpComponentsClientHttpRequestFactory());\r\n    FormHttpMessageConverter converter = new FormHttpMessageConverter();\r\n    List&lt;MediaType&gt; mediaTypes = new ArrayList&lt;MediaType&gt;();\r\n    mediaTypes.add(new MediaType(&quot;application&quot;, &quot;x-www-form-urlencoded&quot;));\r\n    converter.setSupportedMediaTypes(mediaTypes);\r\n    template.getMessageConverters().add(converter);\r\n    MyClass\tupload = template.postForObject(url, null, MyClass.class);\r\n\r\nHere is the frustrating part, exception (deliberately trimmed, not full). Anything I am missing?\r\n\r\n    org.springframework.http.converter.HttpMessageNotReadableException: Could not read JSON: Unrecognized field &quot;Time&quot; (Class com.temp.pointtests.Response), not marked as ignorable\r\n     at [Source: org.apache.http.conn.EofSensorInputStream@340ae1cf; line: 1, column: 22  (through reference chain: com.temp.pointtests.MyClass[&quot;response&quot;]-&gt;com.temp.pointtests.Response[&quot;Time&quot;]);] \r\n\r\n  [1]: http://code.google.com/p/jsonschema2pojo\r\n\r\n**+++++Update Solved++++++**\r\n\r\nI saw Spring added MappingJackson2HttpMessageConverter which uses Jackson 2. Because MappingJacksonHttpMessageConverter in my code above uses Jackson Pre2.0 versions and it doesn&#39;t work. It works for Jackson 2.0 however.  With MappingJackson2HttpMessageConverter available now, I can now add it to my RestTemplate and everything works fine :-). Here is the code for people who have the same issue,\r\n\r\n    String url = &quot;http://example.com/someparams&quot;;\r\n    RestTemplate template = new RestTemplate();\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\t\r\n    HttpEntity request = new HttpEntity(headers);\r\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\r\n    MappingJackson2HttpMessageConverter map = new MappingJackson2HttpMessageConverter();\r\n    messageConverters.add(map);\r\n    messageConverters.add(new FormHttpMessageConverter());\r\n    template.setMessageConverters(messageConverters);\r\n    MyClass msg = template.postForObject(url, request, MyClass.class);","title":"Deserializing Nested objects using RestTemplate","body":"<p>I am using RestTemplate and having issues deserializing an object. Here is what I am doing. The JSON response looks like,</p>\n<pre class=\"lang-java prettyprint-override\"><code>{\n    &quot;response&quot;: {\n        &quot;Time&quot;: &quot;Wed 2013.01.23 at 03:35:25 PM UTC&quot;,\n        &quot;Total_Input_Records&quot;: 5,\n    },-\n    &quot;message&quot;: &quot;Succeeded&quot;,\n    &quot;code&quot;: &quot;200&quot;\n}\n</code></pre>\n<p>Converted this Json payload into a POJO using <a href=\"http://code.google.com/p/jsonschema2pojo\" rel=\"nofollow noreferrer\">jsonschema2pojo</a></p>\n<pre><code>public class MyClass {\n    @JsonProperty(&quot;response&quot;)\n    private Response response;\n    @JsonProperty(&quot;message&quot;)\n    private Object message;\n    @JsonProperty(&quot;code&quot;)\n    private Object code;\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n    //bunch of getters and setters here\n}\npublic class Response {\n    @JsonProperty(&quot;Time&quot;)\n    private Date Time;\n    @JsonProperty(&quot;Total_Input_Records&quot;)\n    private Object Total_Input_Records;\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n//bunch of getters and setters here\n}\n</code></pre>\n<p>Here is the request processing where I am getting the exception,</p>\n<pre><code>String url = &quot;http://example.com/someparams&quot;;\nRestTemplate template = new RestTemplate(\n                new HttpComponentsClientHttpRequestFactory());\nFormHttpMessageConverter converter = new FormHttpMessageConverter();\nList&lt;MediaType&gt; mediaTypes = new ArrayList&lt;MediaType&gt;();\nmediaTypes.add(new MediaType(&quot;application&quot;, &quot;x-www-form-urlencoded&quot;));\nconverter.setSupportedMediaTypes(mediaTypes);\ntemplate.getMessageConverters().add(converter);\nMyClass upload = template.postForObject(url, null, MyClass.class);\n</code></pre>\n<p>Here is the frustrating part, exception (deliberately trimmed, not full). Anything I am missing?</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotReadableException: Could not read JSON: Unrecognized field &quot;Time&quot; (Class com.temp.pointtests.Response), not marked as ignorable\n at [Source: org.apache.http.conn.EofSensorInputStream@340ae1cf; line: 1, column: 22  (through reference chain: com.temp.pointtests.MyClass[&quot;response&quot;]-&gt;com.temp.pointtests.Response[&quot;Time&quot;]);] \n</code></pre>\n<p><strong>+++++Update Solved++++++</strong></p>\n<p>I saw Spring added MappingJackson2HttpMessageConverter which uses Jackson 2. Because MappingJacksonHttpMessageConverter in my code above uses Jackson Pre2.0 versions and it doesn't work. It works for Jackson 2.0 however.  With MappingJackson2HttpMessageConverter available now, I can now add it to my RestTemplate and everything works fine :-). Here is the code for people who have the same issue,</p>\n<pre><code>String url = &quot;http://example.com/someparams&quot;;\nRestTemplate template = new RestTemplate();\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);  \nHttpEntity request = new HttpEntity(headers);\nList&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\nMappingJackson2HttpMessageConverter map = new MappingJackson2HttpMessageConverter();\nmessageConverters.add(map);\nmessageConverters.add(new FormHttpMessageConverter());\ntemplate.setMessageConverters(messageConverters);\nMyClass msg = template.postForObject(url, request, MyClass.class);\n</code></pre>\n"},{"tags":["java","android","android-intent","sharedpreferences","onclicklistener"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1694993615,"post_id":77123962,"comment_id":135960794,"body_markdown":"&quot;App in Android Studio keeps crashing&quot; -- use Logcat to examine the stack trace associated with your crash: https://commonsware.com/Jetpack/pages/chap-debug-001.html","body":"&quot;App in Android Studio keeps crashing&quot; -- use Logcat to examine the stack trace associated with your crash: <a href=\"https://commonsware.com/Jetpack/pages/chap-debug-001.html\" rel=\"nofollow noreferrer\">commonsware.com/Jetpack/pages/chap-debug-001.html</a>"},{"owner":{"account_id":29462969,"reputation":1,"user_id":22577332,"display_name":"Megan "},"score":0,"creation_date":1694993938,"post_id":77123962,"comment_id":135960819,"body_markdown":"@CommonsWare I didn&#39;t include the Logcat code in the body because of length issues, but it says: Name :  + editTextText2\n2023-09-17 19:01:24.061  6128-6128  AndroidRuntime          com.example.personalprofile          E  FATAL EXCEPTION: main                                                                                                   java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.personalprofile/com.example.personalprofile.Screen2Activity}: android.content.res.Resources$NotFoundException: String resource ID #0x1","body":"@CommonsWare I didn&#39;t include the Logcat code in the body because of length issues, but it says: Name :  + editTextText2 2023-09-17 19:01:24.061  6128-6128  AndroidRuntime          com.example.personalprofile          E  FATAL EXCEPTION: main                                                                                                   java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.personalprofile/com.example.person&zwnj;&#8203;alprofile.Screen2Act&zwnj;&#8203;ivity}: android.content.res.Resources$NotFoundException: String resource ID #0x1"},{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1695219649,"post_id":77123962,"comment_id":135995476,"body_markdown":"Not sure what you are trying to do here. You need to give more information. Screenshots or a mockup or something. Why are you appending stuff to the `EditText` fields like that? That is going to be a real mess...","body":"Not sure what you are trying to do here. You need to give more information. Screenshots or a mockup or something. Why are you appending stuff to the <code>EditText</code> fields like that? That is going to be a real mess..."}],"answers":[{"comments":[{"owner":{"account_id":29462969,"reputation":1,"user_id":22577332,"display_name":"Megan "},"score":0,"creation_date":1694995878,"post_id":77123989,"comment_id":135960934,"body_markdown":"That fixed the submit issue, thank you! How do I get the store information to show up in a TextView? Whenever I try, the only thing that shows up are the phrases used to ID the strings.","body":"That fixed the submit issue, thank you! How do I get the store information to show up in a TextView? Whenever I try, the only thing that shows up are the phrases used to ID the strings."}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694994608,"creation_date":1694994608,"answer_id":77123989,"question_id":77123962,"body_markdown":"Start by replacing:\r\n\r\n```java\r\n            textName.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Name :  + editTextText2&quot;));\r\n            textAge.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Age :  + editTextText3&quot;));\r\n            textBirthplace.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Birthplace :  + editTextText4&quot;));\r\n            textHobbies.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Hobbies :  + selectedhobby&quot;));\r\n            textGender.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Gender :  + gendertext&quot;));\r\n```\r\n\r\nwith:\r\n\r\n```java\r\n            Log.d(&quot;Screen2Activity&quot;, &quot;Name :  + editTextText2&quot;);\r\n            Log.d(&quot;Screen2Activity&quot;, &quot;Age :  + editTextText3&quot;);\r\n            Log.d(&quot;Screen2Activity&quot;, &quot;Birthplace :  + editTextText4&quot;);\r\n            Log.d(&quot;Screen2Activity&quot;, &quot;Hobbies :  + selectedhobby&quot;);\r\n            Log.d(&quot;Screen2Activity&quot;, &quot;Gender :  + gendertext&quot;);\r\n```\r\n\r\nDo not attempt to use the output of `Log.d()`. Just look in Logcat to see what the `Log.d()` call emits in the logging.\r\n","title":"App in Android Studio keeps crashing upon clicking submit when trying to share data using Intent and onClickListener","body":"<p>Start by replacing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            textName.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Name :  + editTextText2&quot;));\n            textAge.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Age :  + editTextText3&quot;));\n            textBirthplace.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Birthplace :  + editTextText4&quot;));\n            textHobbies.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Hobbies :  + selectedhobby&quot;));\n            textGender.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Gender :  + gendertext&quot;));\n</code></pre>\n<p>with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            Log.d(&quot;Screen2Activity&quot;, &quot;Name :  + editTextText2&quot;);\n            Log.d(&quot;Screen2Activity&quot;, &quot;Age :  + editTextText3&quot;);\n            Log.d(&quot;Screen2Activity&quot;, &quot;Birthplace :  + editTextText4&quot;);\n            Log.d(&quot;Screen2Activity&quot;, &quot;Hobbies :  + selectedhobby&quot;);\n            Log.d(&quot;Screen2Activity&quot;, &quot;Gender :  + gendertext&quot;);\n</code></pre>\n<p>Do not attempt to use the output of <code>Log.d()</code>. Just look in Logcat to see what the <code>Log.d()</code> call emits in the logging.</p>\n"}],"owner":{"account_id":29462969,"reputation":1,"user_id":22577332,"display_name":"Megan "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694994608,"creation_date":1694993574,"question_id":77123962,"body_markdown":"The app is a general profile app to get familiar with the program since this is my first time using it and I don&#39;t have much experience with Java. The main activity has two radio buttons, a radio group, six checkboxes, five textviews (three labels and two to show results) and three edittexts. When you click apply the results from the radio buttons and the checkboxes will show a textview assigned to them. Clicking submit is supposed to move to the next screen that shows the information typed into the EditTexts and selected with the checkboxes and radiobuttons. \r\n\r\n**The Main activity java file:** \r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        applyButton.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (cookingbox.isChecked()) {\r\n                    selectedhobby.setText(selectedhobby.getText().toString() + &quot; &quot; + cookingbox.getText().toString());\r\n                }\r\n                if (sportsbox.isChecked()) {\r\n                    selectedhobby.setText(selectedhobby.getText().toString() + &quot; &quot; + sportsbox.getText().toString());\r\n                }\r\n                if (craftbox.isChecked()) {\r\n                    selectedhobby.setText(selectedhobby.getText().toString() + &quot; &quot; + craftbox.getText().toString());\r\n                }\r\n                if (gamebox.isChecked()) {\r\n                    selectedhobby.setText(selectedhobby.getText().toString() + &quot; &quot; + gamebox.getText().toString());\r\n                }\r\n                if (bookbox.isChecked()) {\r\n                    selectedhobby.setText(selectedhobby.getText().toString() + &quot; &quot; + bookbox.getText().toString());\r\n                }\r\n                if (otherbox.isChecked()) {\r\n                    selectedhobby.setText(selectedhobby.getText().toString() + &quot; &quot; + otherbox.getText().toString());\r\n                }\r\n                if (malebutton.isChecked()) {\r\n                    gendertext.setText(malebutton.getText().toString());\r\n                } else if (femalebutton.isChecked()) {\r\n                    gendertext.setText(femalebutton.getText().toString());\r\n                }\r\n            }\r\n        });\r\n        submitButton.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                Intent Intent;\r\n                Intent = new Intent(MainActivity.this, Screen2Activity.class);\r\n                Intent.putExtra(&quot;selectedhobby&quot;, &quot;&quot;);\r\n                Intent.putExtra(&quot;editTextText2&quot;, &quot;&quot;);\r\n                Intent.putExtra(&quot;editTextText4&quot;, &quot;&quot;);\r\n                Intent.putExtra(&quot;editTextText3&quot;, &quot;&quot;);\r\n                Intent.putExtra(&quot;gendertext&quot;, &quot;&quot;);\r\n                startActivity(Intent);\r\n                setContentView(R.layout.screen2);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n**Screen2 Java File:** \r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class Screen2Activity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.screen2);\r\n        ;\r\n        textName = findViewById(R.id.textName);\r\n        textAge = findViewById(R.id.textAge);\r\n        textBirthplace = findViewById(R.id.textBirthplace);\r\n        textHobbies = findViewById(R.id.textHobbies);\r\n        textGender = findViewById(R.id.textGender);\r\n\r\n        Intent Intent = getIntent();\r\n        if (Intent != null)\r\n        {\r\n            String editTextText2 = Intent.getStringExtra(&quot;editTextText2&quot;);\r\n            String editTextText4 = Intent.getStringExtra(&quot;editTextText4&quot;);\r\n            String selectedhobby = Intent.getStringExtra(&quot;selectedhobby&quot;);\r\n            String gendertext = Intent.getStringExtra(&quot;gendertext&quot;);\r\n            Integer editTextText3 = Intent.getIntExtra(&quot;editTextText3&quot;, -1);\r\n            textName.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Name :  + editTextText2&quot;));\r\n            textAge.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Age :  + editTextText3&quot;));\r\n            textBirthplace.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Birthplace :  + editTextText4&quot;));\r\n            textHobbies.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Hobbies :  + selectedhobby&quot;));\r\n            textGender.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Gender :  + gendertext&quot;));\r\n        }\r\n```\r\n\r\nI couldn&#39;t get the information from the EditText fields to move to the second activity screen. When I went back into the main activity java file to try to fix the intent errors, I guess I messed up the code for the submit button as well and now neither will work. ","title":"App in Android Studio keeps crashing upon clicking submit when trying to share data using Intent and onClickListener","body":"<p>The app is a general profile app to get familiar with the program since this is my first time using it and I don't have much experience with Java. The main activity has two radio buttons, a radio group, six checkboxes, five textviews (three labels and two to show results) and three edittexts. When you click apply the results from the radio buttons and the checkboxes will show a textview assigned to them. Clicking submit is supposed to move to the next screen that shows the information typed into the EditTexts and selected with the checkboxes and radiobuttons.</p>\n<p><strong>The Main activity java file:</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        applyButton.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View view) {\n                if (cookingbox.isChecked()) {\n                    selectedhobby.setText(selectedhobby.getText().toString() + &quot; &quot; + cookingbox.getText().toString());\n                }\n                if (sportsbox.isChecked()) {\n                    selectedhobby.setText(selectedhobby.getText().toString() + &quot; &quot; + sportsbox.getText().toString());\n                }\n                if (craftbox.isChecked()) {\n                    selectedhobby.setText(selectedhobby.getText().toString() + &quot; &quot; + craftbox.getText().toString());\n                }\n                if (gamebox.isChecked()) {\n                    selectedhobby.setText(selectedhobby.getText().toString() + &quot; &quot; + gamebox.getText().toString());\n                }\n                if (bookbox.isChecked()) {\n                    selectedhobby.setText(selectedhobby.getText().toString() + &quot; &quot; + bookbox.getText().toString());\n                }\n                if (otherbox.isChecked()) {\n                    selectedhobby.setText(selectedhobby.getText().toString() + &quot; &quot; + otherbox.getText().toString());\n                }\n                if (malebutton.isChecked()) {\n                    gendertext.setText(malebutton.getText().toString());\n                } else if (femalebutton.isChecked()) {\n                    gendertext.setText(femalebutton.getText().toString());\n                }\n            }\n        });\n        submitButton.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View view)\n            {\n                Intent Intent;\n                Intent = new Intent(MainActivity.this, Screen2Activity.class);\n                Intent.putExtra(&quot;selectedhobby&quot;, &quot;&quot;);\n                Intent.putExtra(&quot;editTextText2&quot;, &quot;&quot;);\n                Intent.putExtra(&quot;editTextText4&quot;, &quot;&quot;);\n                Intent.putExtra(&quot;editTextText3&quot;, &quot;&quot;);\n                Intent.putExtra(&quot;gendertext&quot;, &quot;&quot;);\n                startActivity(Intent);\n                setContentView(R.layout.screen2);\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>Screen2 Java File:</strong></p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\npublic class Screen2Activity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.screen2);\n        ;\n        textName = findViewById(R.id.textName);\n        textAge = findViewById(R.id.textAge);\n        textBirthplace = findViewById(R.id.textBirthplace);\n        textHobbies = findViewById(R.id.textHobbies);\n        textGender = findViewById(R.id.textGender);\n\n        Intent Intent = getIntent();\n        if (Intent != null)\n        {\n            String editTextText2 = Intent.getStringExtra(&quot;editTextText2&quot;);\n            String editTextText4 = Intent.getStringExtra(&quot;editTextText4&quot;);\n            String selectedhobby = Intent.getStringExtra(&quot;selectedhobby&quot;);\n            String gendertext = Intent.getStringExtra(&quot;gendertext&quot;);\n            Integer editTextText3 = Intent.getIntExtra(&quot;editTextText3&quot;, -1);\n            textName.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Name :  + editTextText2&quot;));\n            textAge.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Age :  + editTextText3&quot;));\n            textBirthplace.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Birthplace :  + editTextText4&quot;));\n            textHobbies.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Hobbies :  + selectedhobby&quot;));\n            textGender.setText(Log.d(&quot;Screen2Activity&quot;, &quot;Gender :  + gendertext&quot;));\n        }\n</code></pre>\n<p>I couldn't get the information from the EditText fields to move to the second activity screen. When I went back into the main activity java file to try to fix the intent errors, I guess I messed up the code for the submit button as well and now neither will work.</p>\n"},{"tags":["java","android","xml","material-design","materialbutton"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":2,"creation_date":1694984467,"post_id":77123580,"comment_id":135960042,"body_markdown":"&quot;MaterialButton&#39;s width is set to fill the entire screen&quot; - where?","body":"&quot;MaterialButton&#39;s width is set to fill the entire screen&quot; - where?"},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1694984653,"post_id":77123580,"comment_id":135960059,"body_markdown":"@TheLibrarian Thank you for your comment. My apologies for writing it incorrectly. What I meant was that I set `wrap_content`, which means the width will take its content&#39;s width.","body":"@TheLibrarian Thank you for your comment. My apologies for writing it incorrectly. What I meant was that I set <code>wrap_content</code>, which means the width will take its content&#39;s width."},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":1,"creation_date":1694984715,"post_id":77123580,"comment_id":135960065,"body_markdown":"Have you tried &quot;android:maxLines=&quot;1&quot;?","body":"Have you tried &quot;android:maxLines=&quot;1&quot;?"},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1694984793,"post_id":77123580,"comment_id":135960073,"body_markdown":"Yes, `android:maxLines=&quot;1&quot;` is cutting the word gallery","body":"Yes, <code>android:maxLines=&quot;1&quot;</code> is cutting the word gallery"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1694984930,"post_id":77123580,"comment_id":135960091,"body_markdown":"So wouldn&#39;t that mean that there is not enough space there for it? Also from UX standpoint - I think the word &quot;Open&quot; is sort of redundant, &quot;Galery&quot; in clickable widget already tells you what is going to happen when you click on it.","body":"So wouldn&#39;t that mean that there is not enough space there for it? Also from UX standpoint - I think the word &quot;Open&quot; is sort of redundant, &quot;Galery&quot; in clickable widget already tells you what is going to happen when you click on it."},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1694985135,"post_id":77123580,"comment_id":135960120,"body_markdown":"I don&#39;t have only that button; I have others. There&#39;s ample space for the button width to stretch. But still it&#39;s break the text and takes small width","body":"I don&#39;t have only that button; I have others. There&#39;s ample space for the button width to stretch. But still it&#39;s break the text and takes small width"},{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":1,"creation_date":1694985400,"post_id":77123580,"comment_id":135960147,"body_markdown":"fun side note about `maxLines`:  https://stackoverflow.com/a/45377396/413127 (`maxLines` is the answer btw). If the text is then cut, thats a different layout problem now that this is fixed.","body":"fun side note about <code>maxLines</code>:  <a href=\"https://stackoverflow.com/a/45377396/413127\">stackoverflow.com/a/45377396/413127</a> (<code>maxLines</code> is the answer btw). If the text is then cut, thats a different layout problem now that this is fixed."}],"answers":[{"comments":[{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1695032123,"post_id":77123951,"comment_id":135965102,"body_markdown":"Thank you for your comment, as I mentioned in the question, the button has a lot of space like the more than half of screen width are still free to use, and still it&#39;s break the text","body":"Thank you for your comment, as I mentioned in the question, the button has a lot of space like the more than half of screen width are still free to use, and still it&#39;s break the text"}],"tags":[],"owner":{"account_id":2182429,"reputation":1068,"user_id":1931595,"display_name":"Saty"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694993023,"creation_date":1694993023,"answer_id":77123951,"question_id":77123580,"body_markdown":"Your text is overflowing to the next line because you just don&#39;t have enough space. So the only option it got is either overflow to the next line or get truncated when maxLines is set to 1. It would be helpful if you could also paste the parent of this material button to give more insights.","title":"Why does the MaterialButton display text in two lines instead of one?","body":"<p>Your text is overflowing to the next line because you just don't have enough space. So the only option it got is either overflow to the next line or get truncated when maxLines is set to 1. It would be helpful if you could also paste the parent of this material button to give more insights.</p>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694993023,"creation_date":1694984179,"question_id":77123580,"body_markdown":"I&#39;m using `com.google.android.material.button.MaterialButton` as a button :\r\n\r\n\r\n     &lt;com.google.android.material.button.MaterialButton\r\n                android:id=&quot;@+id/openGallery&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/open_gallery&quot;\r\n                android:textAllCaps=&quot;true&quot;\r\n                android:textColor=&quot;@color/dark_pink&quot;\r\n                android:textSize=&quot;32sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:backgroundTint=&quot;@null&quot;\r\n                app:icon=&quot;@drawable/ic_gallery&quot;\r\n                app:iconSize=&quot;64sp&quot;\r\n                app:iconTint=&quot;@color/dark_pink&quot;\r\n                app:shapeAppearance=&quot;@style/CutTopLeftBottomRight&quot;\r\n                app:strokeColor=&quot;@color/dark_pink&quot;\r\n                app:strokeWidth=&quot;6dp&quot; /&gt;\r\n\r\nAs you can see, **OPEN GALLERY** is breaking into two lines instead of staying on a single line. The `MaterialButton&#39;s` width is set to fit the text content, but it doesn&#39;t seem to be considering this.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow to fix this issue without using `android:layout_width=&quot;match_parent&quot;`\r\n\r\nWhat I want : \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZhiI7.png\r\n  [2]: https://i.stack.imgur.com/8Gg85.png","title":"Why does the MaterialButton display text in two lines instead of one?","body":"<p>I'm using <code>com.google.android.material.button.MaterialButton</code> as a button :</p>\n<pre><code> &lt;com.google.android.material.button.MaterialButton\n            android:id=&quot;@+id/openGallery&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;@string/open_gallery&quot;\n            android:textAllCaps=&quot;true&quot;\n            android:textColor=&quot;@color/dark_pink&quot;\n            android:textSize=&quot;32sp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:backgroundTint=&quot;@null&quot;\n            app:icon=&quot;@drawable/ic_gallery&quot;\n            app:iconSize=&quot;64sp&quot;\n            app:iconTint=&quot;@color/dark_pink&quot;\n            app:shapeAppearance=&quot;@style/CutTopLeftBottomRight&quot;\n            app:strokeColor=&quot;@color/dark_pink&quot;\n            app:strokeWidth=&quot;6dp&quot; /&gt;\n</code></pre>\n<p>As you can see, <strong>OPEN GALLERY</strong> is breaking into two lines instead of staying on a single line. The <code>MaterialButton's</code> width is set to fit the text content, but it doesn't seem to be considering this.</p>\n<p><a href=\"https://i.stack.imgur.com/ZhiI7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZhiI7.png\" alt=\"enter image description here\" /></a></p>\n<p>How to fix this issue without using <code>android:layout_width=&quot;match_parent&quot;</code></p>\n<p>What I want :</p>\n<p><a href=\"https://i.stack.imgur.com/8Gg85.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Gg85.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","nullpointerexception"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694980237,"post_id":77123326,"comment_id":135959553,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":29467820,"reputation":1,"user_id":22581054,"display_name":"l1rik"},"score":0,"creation_date":1694980486,"post_id":77123326,"comment_id":135959586,"body_markdown":"Nope, this answer is not working for my qustion","body":"Nope, this answer is not working for my qustion"},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1694981966,"post_id":77123326,"comment_id":135959773,"body_markdown":"How is `UserPostController` created?","body":"How is <code>UserPostController</code> created?"},{"owner":{"account_id":29467820,"reputation":1,"user_id":22581054,"display_name":"l1rik"},"score":0,"creation_date":1694982454,"post_id":77123326,"comment_id":135959827,"body_markdown":"Right click on package in IDEA -&gt; Java Class -&gt; set name class","body":"Right click on package in IDEA -&gt; Java Class -&gt; set name class"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695027615,"post_id":77123326,"comment_id":135964196,"body_markdown":"rename the `repository` names from `public interface usersRepository` to `public interface UsersRepository` and also from `public interface postsRepository ` to `public interface PostsRepository ` it is going to fix the problem.","body":"rename the <code>repository</code> names from <code>public interface usersRepository</code> to <code>public interface UsersRepository</code> and also from <code>public interface postsRepository </code> to <code>public interface PostsRepository </code> it is going to fix the problem."},{"owner":{"account_id":29467820,"reputation":1,"user_id":22581054,"display_name":"l1rik"},"score":0,"creation_date":1695049985,"post_id":77123326,"comment_id":135968910,"body_markdown":"Rename names repositories didn&#39;t fix the problem","body":"Rename names repositories didn&#39;t fix the problem"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695062903,"post_id":77123326,"comment_id":135971330,"body_markdown":"please follow [Naming Convention](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) and all will work great and also [Bean Naming Convention](https://docs.spring.io/spring-framework/docs/5.2.3.RELEASE/spring-framework-reference/core.html#beans-beanname)","body":"please follow <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Naming Convention</a> and all will work great and also <a href=\"https://docs.spring.io/spring-framework/docs/5.2.3.RELEASE/spring-framework-reference/core.html#beans-beanname\" rel=\"nofollow noreferrer\">Bean Naming Convention</a>"}],"owner":{"account_id":29467820,"reputation":1,"user_id":22581054,"display_name":"l1rik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694991980,"creation_date":1694979259,"question_id":77123326,"body_markdown":"Its controller for CRUD-operation with Many-To-Many table, I have project where code look like this, but I change JPARepositories and Models for this controller, which he need.\r\n\r\nI try open this controller, which use JPARepositories usersRepository and postsRepository\r\n\r\n\r\n```\r\npackage com.example.lab3.controllers;\r\n\r\nimport com.example.lab3.models.posts;\r\nimport com.example.lab3.models.roleEnum;\r\nimport com.example.lab3.models.users;\r\nimport com.example.lab3.repositories.postsRepository;\r\nimport com.example.lab3.repositories.usersRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.access.prepost.PreAuthorize;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/admin/employee&quot;)\r\n@PreAuthorize(&quot;hasAnyAuthority(&#39;ADMIN&#39;, &#39;EMPLOYEE&#39;)&quot;)\r\npublic class UserPostController {\r\n    @Autowired\r\n    private final usersRepository repository;\r\n    @Autowired\r\n    private final postsRepository repositoryPosts;\r\n    @Autowired\r\n    public UserPostController(usersRepository repository, postsRepository repositoryPosts){\r\n        this.repository = repository;\r\n        this.repositoryPosts = repositoryPosts;\r\n    }\r\n\r\n    @GetMapping(&quot;/user/post/add&quot;)\r\n    private String Main(Model model){\r\n        List&lt;users&gt; usersCheck = repository.findAll();\r\n        List&lt;users&gt; employees  = new ArrayList&lt;users&gt;();\r\n\r\n        for (users item: usersCheck) {\r\n            if(item.getRoles().equals(Collections.singleton(roleEnum.EMPLOYEE))){\r\n                employees.add(item);\r\n            }\r\n        }\r\n\r\n        Iterable&lt;users&gt; users = employees;\r\n        model.addAttribute(&quot;users&quot;, users);\r\n        Iterable&lt;posts&gt; posts = repositoryPosts.findAll();\r\n        model.addAttribute(&quot;posts&quot;, posts);\r\n        return &quot;user_post_add&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/user/post/add&quot;)\r\n    public String blogPostAdd(@RequestParam Long user, @RequestParam Long post, Model model)\r\n    {\r\n        users user2 = repository.findById(user).orElseThrow();\r\n        posts posts2 = repositoryPosts.findById(post).orElseThrow();\r\n        user2.getPosts().add(posts2);\r\n        repository.save(user2);\r\n        List&lt;users&gt; usersCheck = repository.findAll();\r\n        List&lt;users&gt; employees  = new ArrayList&lt;users&gt;();\r\n\r\n        for (users item: usersCheck) {\r\n            if(item.getRoles().equals(Collections.singleton(roleEnum.EMPLOYEE))){\r\n                employees.add(item);\r\n            }\r\n        }\r\n\r\n        Iterable&lt;users&gt; users = employees;\r\n        model.addAttribute(&quot;users&quot;, users);\r\n        return &quot;redirect:/users&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/user/{id_user}/{id_post}/remove&quot;)\r\n    public  String employeeDelete(@PathVariable(value = &quot;id_user&quot;) long id_user, @PathVariable(value = &quot;id_post&quot;) Long id_post, Model model)\r\n    {\r\n        users user = repository.findById(id_user).orElseThrow();\r\n        posts post = repositoryPosts.findById(id_post).orElseThrow();\r\n        user.getPosts().remove(post);\r\n        repository.save(user);\r\n        model.addAttribute(&quot;users&quot;, repository.findAll());\r\n        return &quot;redirect:/users&quot;;\r\n    }\r\n}\r\n```\r\nHow you can see, I use annotaion @Autowired on class constructor, but I also get NULL-exception\r\n\r\n\r\n```\r\nCannot invoke &quot;com.example.lab3.repositories.usersRepository.findAll()&quot; because &quot;this.repository&quot; is null\r\n\tat com.example.lab3.controllers.UserPostController.Main(UserPostController.java:34) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.52.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.52.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n```\r\n\r\nusersRepository:\r\n\r\n\r\n```\r\npackage com.example.lab3.repositories;\r\n\r\nimport com.example.lab3.models.users;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface usersRepository extends JpaRepository&lt;users, Long&gt; {\r\n\r\n}\r\n\r\n```\r\npostsRepository:\r\n\r\n\r\n```\r\npackage com.example.lab3.repositories;\r\n\r\nimport com.example.lab3.models.posts;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface postsRepository extends JpaRepository&lt;posts, Long&gt; {\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI read some qustions with this problem on stackoverflow, but they didn&#39;t work for me, and I also see this exception. I try change @Autowired, from contstructor to parameters, try write @Autowired for all of them, try write @PostContstructor, but its didn&#39;t work.\r\n\r\nUPD: I also have any controllers for CRUD-operation on tables and I \r\ninitializing this repositories too (for UserController and PostController) and in this controllers repositories is working, i give them name same that I gave in this UserPostController, can was problem with this? But I trying rename thems and recreate Java-class and controller still don&#39;t working, this same exception","title":"Cannot invoke com.example.lab3.repositories.shops Repository.findAll() because this.repository is null","body":"<p>Its controller for CRUD-operation with Many-To-Many table, I have project where code look like this, but I change JPARepositories and Models for this controller, which he need.</p>\n<p>I try open this controller, which use JPARepositories usersRepository and postsRepository</p>\n<pre><code>package com.example.lab3.controllers;\n\nimport com.example.lab3.models.posts;\nimport com.example.lab3.models.roleEnum;\nimport com.example.lab3.models.users;\nimport com.example.lab3.repositories.postsRepository;\nimport com.example.lab3.repositories.usersRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\n@Controller\n@RequestMapping(&quot;/admin/employee&quot;)\n@PreAuthorize(&quot;hasAnyAuthority('ADMIN', 'EMPLOYEE')&quot;)\npublic class UserPostController {\n    @Autowired\n    private final usersRepository repository;\n    @Autowired\n    private final postsRepository repositoryPosts;\n    @Autowired\n    public UserPostController(usersRepository repository, postsRepository repositoryPosts){\n        this.repository = repository;\n        this.repositoryPosts = repositoryPosts;\n    }\n\n    @GetMapping(&quot;/user/post/add&quot;)\n    private String Main(Model model){\n        List&lt;users&gt; usersCheck = repository.findAll();\n        List&lt;users&gt; employees  = new ArrayList&lt;users&gt;();\n\n        for (users item: usersCheck) {\n            if(item.getRoles().equals(Collections.singleton(roleEnum.EMPLOYEE))){\n                employees.add(item);\n            }\n        }\n\n        Iterable&lt;users&gt; users = employees;\n        model.addAttribute(&quot;users&quot;, users);\n        Iterable&lt;posts&gt; posts = repositoryPosts.findAll();\n        model.addAttribute(&quot;posts&quot;, posts);\n        return &quot;user_post_add&quot;;\n    }\n\n    @PostMapping(&quot;/user/post/add&quot;)\n    public String blogPostAdd(@RequestParam Long user, @RequestParam Long post, Model model)\n    {\n        users user2 = repository.findById(user).orElseThrow();\n        posts posts2 = repositoryPosts.findById(post).orElseThrow();\n        user2.getPosts().add(posts2);\n        repository.save(user2);\n        List&lt;users&gt; usersCheck = repository.findAll();\n        List&lt;users&gt; employees  = new ArrayList&lt;users&gt;();\n\n        for (users item: usersCheck) {\n            if(item.getRoles().equals(Collections.singleton(roleEnum.EMPLOYEE))){\n                employees.add(item);\n            }\n        }\n\n        Iterable&lt;users&gt; users = employees;\n        model.addAttribute(&quot;users&quot;, users);\n        return &quot;redirect:/users&quot;;\n    }\n\n    @GetMapping(&quot;/user/{id_user}/{id_post}/remove&quot;)\n    public  String employeeDelete(@PathVariable(value = &quot;id_user&quot;) long id_user, @PathVariable(value = &quot;id_post&quot;) Long id_post, Model model)\n    {\n        users user = repository.findById(id_user).orElseThrow();\n        posts post = repositoryPosts.findById(id_post).orElseThrow();\n        user.getPosts().remove(post);\n        repository.save(user);\n        model.addAttribute(&quot;users&quot;, repository.findAll());\n        return &quot;redirect:/users&quot;;\n    }\n}\n</code></pre>\n<p>How you can see, I use annotaion @Autowired on class constructor, but I also get NULL-exception</p>\n<pre><code>Cannot invoke &quot;com.example.lab3.repositories.usersRepository.findAll()&quot; because &quot;this.repository&quot; is null\n    at com.example.lab3.controllers.UserPostController.Main(UserPostController.java:34) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.52.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.52.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n</code></pre>\n<p>usersRepository:</p>\n<pre><code>package com.example.lab3.repositories;\n\nimport com.example.lab3.models.users;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface usersRepository extends JpaRepository&lt;users, Long&gt; {\n\n}\n\n</code></pre>\n<p>postsRepository:</p>\n<pre><code>package com.example.lab3.repositories;\n\nimport com.example.lab3.models.posts;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface postsRepository extends JpaRepository&lt;posts, Long&gt; {\n}\n\n</code></pre>\n<p>I read some qustions with this problem on stackoverflow, but they didn't work for me, and I also see this exception. I try change @Autowired, from contstructor to parameters, try write @Autowired for all of them, try write @PostContstructor, but its didn't work.</p>\n<p>UPD: I also have any controllers for CRUD-operation on tables and I\ninitializing this repositories too (for UserController and PostController) and in this controllers repositories is working, i give them name same that I gave in this UserPostController, can was problem with this? But I trying rename thems and recreate Java-class and controller still don't working, this same exception</p>\n"},{"tags":["java","windows","path","tostring"],"answers":[{"comments":[{"owner":{"account_id":1145563,"reputation":1214,"user_id":1128413,"display_name":"alexdlaird"},"score":1,"creation_date":1694989519,"post_id":77123809,"comment_id":135960508,"body_markdown":"Ah, I hadn&#39;t considered the notion that the IDE and terminal could be hiding this from me, great observation!\n\n[It&#39;s a fairly simple application](https://github.com/alexdlaird/java-ngrok), so my guess is it&#39;s getting swallowed in the Gradle and/or JUnit flow somewhere ... I&#39;ll keep poking around and update if I find exactly what is swallowing it fro my display. Thanks!","body":"Ah, I hadn&#39;t considered the notion that the IDE and terminal could be hiding this from me, great observation!  <a href=\"https://github.com/alexdlaird/java-ngrok\" rel=\"nofollow noreferrer\">It&#39;s a fairly simple application</a>, so my guess is it&#39;s getting swallowed in the Gradle and/or JUnit flow somewhere ... I&#39;ll keep poking around and update if I find exactly what is swallowing it fro my display. Thanks!"},{"owner":{"account_id":1145563,"reputation":1214,"user_id":1128413,"display_name":"alexdlaird"},"score":0,"creation_date":1694994188,"post_id":77123809,"comment_id":135960835,"body_markdown":"I don&#39;t usually develop on Windows, I only recently noticed this in log output from my GitHub Actions for Windows builds, which is why I got curious about it. When I hopped on a Windows VM and ran `make tests` from the Command Prompt, I saw the same issue. From your suggestion though, I downloaded IntelliJ on the Windows VM and dropped a breakpoint. Sure enough, the `\\` is there, so all is well. I&#39;m very curious why GitHub Actions / Gradle and Windows Command Prompt are swallowing this character, but since it&#39;s only aesthetic, I&#39;m not worrying about it for now. Thanks for helping me confirm!","body":"I don&#39;t usually develop on Windows, I only recently noticed this in log output from my GitHub Actions for Windows builds, which is why I got curious about it. When I hopped on a Windows VM and ran <code>make tests</code> from the Command Prompt, I saw the same issue. From your suggestion though, I downloaded IntelliJ on the Windows VM and dropped a breakpoint. Sure enough, the `` is there, so all is well. I&#39;m very curious why GitHub Actions / Gradle and Windows Command Prompt are swallowing this character, but since it&#39;s only aesthetic, I&#39;m not worrying about it for now. Thanks for helping me confirm!"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695036097,"post_id":77123809,"comment_id":135965844,"body_markdown":"Lots of java programmers and even non-java programmers are habitually just using `/` as path separator in their scripts and the like. In java it&#39;s a long tradition because all path specs in code can have that (`Path.of(&quot;dir/subdir/file.txt&quot;)` works on windows, as does `new File(&quot;C:/Program Files/whatever&quot;)` and always has). That puts even less pressure on e.g. github to make backslash work properly.","body":"Lots of java programmers and even non-java programmers are habitually just using <code>&#47;</code> as path separator in their scripts and the like. In java it&#39;s a long tradition because all path specs in code can have that (<code>Path.of(&quot;dir&#47;subdir&#47;file.txt&quot;)</code> works on windows, as does <code>new File(&quot;C:&#47;Program Files&#47;whatever&quot;)</code> and always has). That puts even less pressure on e.g. github to make backslash work properly."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694989147,"creation_date":1694989147,"answer_id":77123809,"question_id":77123774,"body_markdown":"java __is__ emitting `build\\someFile.txt` as you&#39;d expect. To be specific, java emits a byte sequence to standard out which then goes on a trip. That goes into the OS, the OS sends it to whatever&#39;s hooked up to your java proces&#39;s standard out which at some point presumably takes those bytes, converts it back to a string, and then does something with that. Hopefully in this wild adventure eventually somewhere something turns it into a little picture of some characters and these, eventually, are rendered onto your screen, and from there, into your eyeballs.\r\n\r\nSomething in that wild adventure is applying backslash escaping. Terminals don&#39;t do it, so something else that you did not mention in your question is doing that. Java certainly doesn&#39;t do it. Something else is. If you just write this extremely basic:\r\n\r\n```\r\nclass Test {\r\n  public static void main(String[] args) throws Exception {\r\n    Path x = Path.of(&quot;foo/bar.txt&quot;);\r\n    System.out.println(x);\r\n  }\r\n}\r\n```\r\n\r\nand run that on a stock windows in a stock-standard windows `cmd.exe` terminal that prints `foo\\bar.txt` as you&#39;d expect.\r\n\r\nCheck the chain of apps that are in between the java process and your eyeballs. One of em is messing this up. If you need some help with this process, edit the question and explain in excruciating detail (because you probably don&#39;t know what&#39;s relevant, this mojibake / terminal stuff can be tricky like that) each and every app or thing that could possibly be in between. Are you running this within an IDE? Which one, and how. Are you running this on windows subsystem for linux? Mention that, how you&#39;re doing it, which commands you&#39;re typing in, and so on.\r\n","title":"String of java.nio.file.Path","body":"<p>java <strong>is</strong> emitting <code>build\\someFile.txt</code> as you'd expect. To be specific, java emits a byte sequence to standard out which then goes on a trip. That goes into the OS, the OS sends it to whatever's hooked up to your java proces's standard out which at some point presumably takes those bytes, converts it back to a string, and then does something with that. Hopefully in this wild adventure eventually somewhere something turns it into a little picture of some characters and these, eventually, are rendered onto your screen, and from there, into your eyeballs.</p>\n<p>Something in that wild adventure is applying backslash escaping. Terminals don't do it, so something else that you did not mention in your question is doing that. Java certainly doesn't do it. Something else is. If you just write this extremely basic:</p>\n<pre><code>class Test {\n  public static void main(String[] args) throws Exception {\n    Path x = Path.of(&quot;foo/bar.txt&quot;);\n    System.out.println(x);\n  }\n}\n</code></pre>\n<p>and run that on a stock windows in a stock-standard windows <code>cmd.exe</code> terminal that prints <code>foo\\bar.txt</code> as you'd expect.</p>\n<p>Check the chain of apps that are in between the java process and your eyeballs. One of em is messing this up. If you need some help with this process, edit the question and explain in excruciating detail (because you probably don't know what's relevant, this mojibake / terminal stuff can be tricky like that) each and every app or thing that could possibly be in between. Are you running this within an IDE? Which one, and how. Are you running this on windows subsystem for linux? Mention that, how you're doing it, which commands you're typing in, and so on.</p>\n"}],"owner":{"account_id":1145563,"reputation":1214,"user_id":1128413,"display_name":"alexdlaird"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77123809,"answer_count":1,"score":1,"last_activity_date":1694989147,"creation_date":1694988290,"question_id":77123774,"body_markdown":"Can explain what I&#39;m doing wrong and/or missing here. I have `java.nio.file.Path` objects that work fine in my Java application. The only issue is when I try to print them out in logs, and the issue is only present on Windows. When I stringify a `Path` object (or `File` object), I get some path like `build/somefile.txt` on Linux, Unix, Mac, but on Windows it prints as `buildsomefile.txt`. What I would expect to see is `build\\\\somefile.txt`, but instead, the slashes are ommitted on Windows.\r\n\r\nThis is the simple example code that I&#39;ve executed on Mac, Ubuntu, and Windows with Java 11 and Java 17:\r\n\r\n```java\r\nimport java.nio.file.Paths;\r\n\r\nSystem.out.println(Paths.get(&quot;build&quot;, &quot;somefile.txt&quot;));\r\nSystem.out.println(Paths.get(&quot;build&quot;, &quot;somefile.txt&quot;).toFile());\r\nSystem.out.println(Paths.get(&quot;build&quot;, &quot;somefile.txt&quot;).toFile().getPath());\r\n```\r\n\r\nSame behavior if I normalize the path, convert to an absolute path, etc. From [the docs of `Path`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html#toString--), it looks to me like `toString()` should use `File.separator` here, which is the behavior I do see on non-Windows systems. The docs also do specify that [the Windows `separatorChar`](https://docs.oracle.com/javase/8/docs/api/java/io/File.html#separatorChar) is `\\\\`. Can anyone help me understand what I&#39;m missing here? Thanks!\r\n\r\n**EDIT:**\r\n\r\nThese all also output empty strings:\r\n\r\n```\r\nimport java.nio.file.File;\r\nSystem.out.println(File.separator);\r\nSystem.out.println(File.separatorChar);\r\n```\r\n\r\nIt&#39;s worth noting I&#39;m seeing this in tests, if that is relevent.","title":"String of java.nio.file.Path","body":"<p>Can explain what I'm doing wrong and/or missing here. I have <code>java.nio.file.Path</code> objects that work fine in my Java application. The only issue is when I try to print them out in logs, and the issue is only present on Windows. When I stringify a <code>Path</code> object (or <code>File</code> object), I get some path like <code>build/somefile.txt</code> on Linux, Unix, Mac, but on Windows it prints as <code>buildsomefile.txt</code>. What I would expect to see is <code>build\\\\somefile.txt</code>, but instead, the slashes are ommitted on Windows.</p>\n<p>This is the simple example code that I've executed on Mac, Ubuntu, and Windows with Java 11 and Java 17:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.file.Paths;\n\nSystem.out.println(Paths.get(&quot;build&quot;, &quot;somefile.txt&quot;));\nSystem.out.println(Paths.get(&quot;build&quot;, &quot;somefile.txt&quot;).toFile());\nSystem.out.println(Paths.get(&quot;build&quot;, &quot;somefile.txt&quot;).toFile().getPath());\n</code></pre>\n<p>Same behavior if I normalize the path, convert to an absolute path, etc. From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html#toString--\" rel=\"nofollow noreferrer\">the docs of <code>Path</code></a>, it looks to me like <code>toString()</code> should use <code>File.separator</code> here, which is the behavior I do see on non-Windows systems. The docs also do specify that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html#separatorChar\" rel=\"nofollow noreferrer\">the Windows <code>separatorChar</code></a> is <code>\\\\</code>. Can anyone help me understand what I'm missing here? Thanks!</p>\n<p><strong>EDIT:</strong></p>\n<p>These all also output empty strings:</p>\n<pre><code>import java.nio.file.File;\nSystem.out.println(File.separator);\nSystem.out.println(File.separatorChar);\n</code></pre>\n<p>It's worth noting I'm seeing this in tests, if that is relevent.</p>\n"},{"tags":["java","python","unix","jython"],"comments":[{"owner":{"account_id":1051236,"reputation":18972,"user_id":1055118,"accept_rate":100,"display_name":"doctorlove"},"score":2,"creation_date":1391715322,"post_id":21612235,"comment_id":32654573,"body_markdown":"You may have `java` installed but that&#39;s not the same as a python module called `java` that you can import in python. What are you really trying to do?","body":"You may have <code>java</code> installed but that&#39;s not the same as a python module called <code>java</code> that you can import in python. What are you really trying to do?"},{"owner":{"account_id":2692215,"reputation":2595,"user_id":2325264,"accept_rate":56,"display_name":"eric chiang"},"score":2,"creation_date":1391715347,"post_id":21612235,"comment_id":32654589,"body_markdown":"You&#39;re attempting to call java from within a python script. So this question doesn&#39;t really make sense","body":"You&#39;re attempting to call java from within a python script. So this question doesn&#39;t really make sense"},{"owner":{"account_id":3977927,"reputation":55,"user_id":3280663,"accept_rate":45,"display_name":"Blogger11"},"score":0,"creation_date":1391715418,"post_id":21612235,"comment_id":32654623,"body_markdown":"Import the python module called java","body":"Import the python module called java"},{"owner":{"account_id":1530005,"reputation":244842,"user_id":1427416,"accept_rate":56,"display_name":"BrenBarn"},"score":0,"creation_date":1391715588,"post_id":21612235,"comment_id":32654750,"body_markdown":"Did you install a Python module called java?","body":"Did you install a Python module called java?"},{"owner":{"account_id":1051236,"reputation":18972,"user_id":1055118,"accept_rate":100,"display_name":"doctorlove"},"score":0,"creation_date":1391716455,"post_id":21612235,"comment_id":32655280,"body_markdown":"You&#39;ve changed the question now. Does `org.python.modules ` exist? Is it on your python path?","body":"You&#39;ve changed the question now. Does <code>org.python.modules </code> exist? Is it on your python path?"},{"owner":{"account_id":3977927,"reputation":55,"user_id":3280663,"accept_rate":45,"display_name":"Blogger11"},"score":1,"creation_date":1391716534,"post_id":21612235,"comment_id":32655341,"body_markdown":"@doctorlove I&#39;m not sure how to check that, how can i do that? The original problem was solved by running this as jython rather than python.","body":"@doctorlove I&#39;m not sure how to check that, how can i do that? The original problem was solved by running this as jython rather than python."},{"owner":{"account_id":3977927,"reputation":55,"user_id":3280663,"accept_rate":45,"display_name":"Blogger11"},"score":0,"creation_date":1391719608,"post_id":21612235,"comment_id":32657241,"body_markdown":"turns out i just needed to do import time rather than #from org.python.modules import time","body":"turns out i just needed to do import time rather than #from org.python.modules import time"}],"answers":[{"tags":[],"owner":{"account_id":3131294,"reputation":103,"user_id":2649009,"accept_rate":50,"display_name":"skymoose"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475140803,"creation_date":1475140803,"answer_id":39766317,"question_id":21612235,"body_markdown":"The error is misleading here. The problem is likely to be that you dont have permissions in directory /usr/lib/jython-25/cachedir/packages and possibly the parent directory cachedir too. If you look at the first line of the output when wsadmin.sh starts, it actually implies this.","title":"import java ImportError: No module named java","body":"<p>The error is misleading here. The problem is likely to be that you dont have permissions in directory /usr/lib/jython-25/cachedir/packages and possibly the parent directory cachedir too. If you look at the first line of the output when wsadmin.sh starts, it actually implies this.</p>\n"}],"owner":{"account_id":3977927,"reputation":55,"user_id":3280663,"accept_rate":45,"display_name":"Blogger11"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17054,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1694988105,"creation_date":1391715126,"question_id":21612235,"body_markdown":"I seemed to have hit a roadblock and can&#39;t figure this out at all, can anyone help me figure out why I am unable to import the java module?\r\n\r\nError:\r\n\r\n    Traceback (most recent call last):\r\n      File &quot;./datasource_config.py&quot;, line 3, in ?\r\n        import java\r\n    ImportError: No module named java\r\n\r\n\r\njava:\r\n\r\n    13:30:05 # which java\r\n    /usr/bin/java\r\n\r\n\r\nbeginning of script\r\n\r\n    #!/usr/bin/python\r\n    import sys\r\n    import java\r\n    from java.util import Properties\r\n    from java.io import FileInputStream\r\n    from org.python.modules import time\r\n    lineSep = java.lang.System.getProperty(&#39;line.separator&#39;)\r\n    \r\n    def datasource(cluster,user,password,url,env,jdbc_driver,timeOut,maxConn,minConn,reapTime,unusdTimeout,agedTimeout):\r\n    \r\n        #Declare global variables \r\n        global    AdminConfig \r\n        global    AdminControl\r\n\r\n\r\nCan someone help me determine what this means?\r\n\r\n    13:45:07 # ./jython -v /opt/websphere/datasource_config.py\r\n    *sys-package-mgr*: can&#39;t create package cache dir, &#39;/usr/lib/jython-25/cachedir/packages&#39;\r\n    import: &#39;exceptions&#39; as org.python.core.exceptions in builtin modules\r\n    import: &#39;site&#39; as /usr/lib/jython-25/Lib/site.py\r\n    import: &#39;sys&#39; as sys in builtin modules\r\n    import: &#39;os&#39; as /usr/lib/jython-25/Lib/os.py\r\n    import: &#39;errno&#39; as org.python.modules.errno in builtin modules\r\n    import: &#39;posix&#39; as org.python.modules.posix.PosixModule in builtin modules\r\n    import: &#39;posixpath&#39; as /usr/lib/jython-25/Lib/posixpath.py\r\n    import: &#39;stat&#39; as /usr/lib/jython-25/Lib/stat.py\r\n    import: &#39;Properties&#39; as java class\r\n    import: &#39;FileInputStream&#39; as java class\r\n    Traceback (most recent call last):\r\n      File &quot;/opt/websphere/datasource_config.py&quot;, line 5, in &lt;module&gt;\r\n        from org.python.modules import time\r\n    ImportError: cannot import name time","title":"import java ImportError: No module named java","body":"<p>I seemed to have hit a roadblock and can't figure this out at all, can anyone help me figure out why I am unable to import the java module?</p>\n\n<p>Error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./datasource_config.py\", line 3, in ?\n    import java\nImportError: No module named java\n</code></pre>\n\n<p>java:</p>\n\n<pre><code>13:30:05 # which java\n/usr/bin/java\n</code></pre>\n\n<p>beginning of script</p>\n\n<pre><code>#!/usr/bin/python\nimport sys\nimport java\nfrom java.util import Properties\nfrom java.io import FileInputStream\nfrom org.python.modules import time\nlineSep = java.lang.System.getProperty('line.separator')\n\ndef datasource(cluster,user,password,url,env,jdbc_driver,timeOut,maxConn,minConn,reapTime,unusdTimeout,agedTimeout):\n\n    #Declare global variables \n    global    AdminConfig \n    global    AdminControl\n</code></pre>\n\n<p>Can someone help me determine what this means?</p>\n\n<pre><code>13:45:07 # ./jython -v /opt/websphere/datasource_config.py\n*sys-package-mgr*: can't create package cache dir, '/usr/lib/jython-25/cachedir/packages'\nimport: 'exceptions' as org.python.core.exceptions in builtin modules\nimport: 'site' as /usr/lib/jython-25/Lib/site.py\nimport: 'sys' as sys in builtin modules\nimport: 'os' as /usr/lib/jython-25/Lib/os.py\nimport: 'errno' as org.python.modules.errno in builtin modules\nimport: 'posix' as org.python.modules.posix.PosixModule in builtin modules\nimport: 'posixpath' as /usr/lib/jython-25/Lib/posixpath.py\nimport: 'stat' as /usr/lib/jython-25/Lib/stat.py\nimport: 'Properties' as java class\nimport: 'FileInputStream' as java class\nTraceback (most recent call last):\n  File \"/opt/websphere/datasource_config.py\", line 5, in &lt;module&gt;\n    from org.python.modules import time\nImportError: cannot import name time\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9955,"page":179,"page_size":100}
