{"items":[{"tags":["java","hibernate","jpa","repository"],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683891056,"creation_date":1683891056,"answer_id":76235867,"question_id":76235313,"body_markdown":"You should not place restrictions on a `join fetch`ed collection in the `where` clause, and I&#39;m pretty sure Hibernate should not even have accepted that query. (I will open a bug report.)\r\n\r\nInstead you should use a regular `join`.","title":"JPA Fetch query with &#39;IS NOT NULL&#39; not working","body":"<p>You should not place restrictions on a <code>join fetch</code>ed collection in the <code>where</code> clause, and I'm pretty sure Hibernate should not even have accepted that query. (I will open a bug report.)</p>\n<p>Instead you should use a regular <code>join</code>.</p>\n"}],"owner":{"account_id":21023525,"reputation":13,"user_id":15449310,"display_name":"Ashish Pancholi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683891056,"creation_date":1683886727,"question_id":76235313,"body_markdown":"I need to filter only not null values using `JPA FETCH QUERY` but it&#39;s returning all records instead. I have a `Abc` entity mapped with `Xyz` enity. Xyz has one field called `latestId`. So in my requirement, we need to list all `Abc` with `Xyz` where `latestId` should not be null. Please suggest.   \r\n```java\r\npublic class Abc {\r\n    \r\n    @OneToMany(orphanRemoval = true, fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;abc&quot;)\r\n    private List&lt;Xyz&gt; xyzList;\r\n}\r\n```\r\n```java\r\npublic class Xyz{\r\n    \r\n    private String latestId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;abc_id&quot;)\r\n    @JsonIgnore\r\n    private Abc abc;\r\n    \r\n}\r\n```  \r\n```java\r\n@Repository\r\npublic interface AbcRepository extends PagingAndSortingRepository&lt;Abc, String&gt; {\r\n    @Query(&quot;select j from Abc j join fetch j.xyzList s where s.latestId IS NOT NULL&quot;)\r\n    List&lt;Abc&gt; findAll(Sort sort);\r\n}\r\n``` ","title":"JPA Fetch query with &#39;IS NOT NULL&#39; not working","body":"<p>I need to filter only not null values using <code>JPA FETCH QUERY</code> but it's returning all records instead. I have a <code>Abc</code> entity mapped with <code>Xyz</code> enity. Xyz has one field called <code>latestId</code>. So in my requirement, we need to list all <code>Abc</code> with <code>Xyz</code> where <code>latestId</code> should not be null. Please suggest.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Abc {\n    \n    @OneToMany(orphanRemoval = true, fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;abc&quot;)\n    private List&lt;Xyz&gt; xyzList;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Xyz{\n    \n    private String latestId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;abc_id&quot;)\n    @JsonIgnore\n    private Abc abc;\n    \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface AbcRepository extends PagingAndSortingRepository&lt;Abc, String&gt; {\n    @Query(&quot;select j from Abc j join fetch j.xyzList s where s.latestId IS NOT NULL&quot;)\n    List&lt;Abc&gt; findAll(Sort sort);\n}\n</code></pre>\n"},{"tags":["java","android-studio","debugging","intellij-idea"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683891124,"post_id":76235851,"comment_id":134439612,"body_markdown":"I think you have to [change the application id](https://developer.android.com/build/configure-app-module). It&#39;s what Android uses to identify an application to be &quot;the same one&quot; as an earlier version.","body":"I think you have to <a href=\"https://developer.android.com/build/configure-app-module\" rel=\"nofollow noreferrer\">change the application id</a>. It&#39;s what Android uses to identify an application to be &quot;the same one&quot; as an earlier version."},{"owner":{"account_id":22370443,"reputation":75,"user_id":16585604,"display_name":"Imran"},"score":0,"creation_date":1683891744,"post_id":76235851,"comment_id":134439747,"body_markdown":"@JoachimSauer Application ID isn&#39;t in the Manifest. Could it be anywhere else?","body":"@JoachimSauer Application ID isn&#39;t in the Manifest. Could it be anywhere else?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683892341,"post_id":76235851,"comment_id":134439879,"body_markdown":"It should be in your build configuration (Gradle by default). If you never set it at all (which isn&#39;t recommended), then it defaults to the namespace.","body":"It should be in your build configuration (Gradle by default). If you never set it at all (which isn&#39;t recommended), then it defaults to the namespace."},{"owner":{"account_id":22370443,"reputation":75,"user_id":16585604,"display_name":"Imran"},"score":0,"creation_date":1684312160,"post_id":76235851,"comment_id":134498346,"body_markdown":"Thank you so much. This worked, I have renamed the Application ID in the build config and now I can install and use it successfully on device. As a sidenote, I had not set the Application ID specifically, therefore it had defaulted to the namespace. What should the Application ID be? Any alpha-numerical identifier for my own identification, or something more specific?","body":"Thank you so much. This worked, I have renamed the Application ID in the build config and now I can install and use it successfully on device. As a sidenote, I had not set the Application ID specifically, therefore it had defaulted to the namespace. What should the Application ID be? Any alpha-numerical identifier for my own identification, or something more specific?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1684312413,"post_id":76235851,"comment_id":134498410,"body_markdown":"The link I provided above also tells you what structure the application id should have.","body":"The link I provided above also tells you what structure the application id should have."}],"owner":{"account_id":22370443,"reputation":75,"user_id":16585604,"display_name":"Imran"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683890891,"creation_date":1683890891,"question_id":76235851,"body_markdown":"I want to use an existing Android application as the foundation of a new project in Android Studio, then wish to make changes to the code and create a new application which is completely unrelated to the cloned one. However, I seem to be doing something incorrectly like renaming the project in Android Manifest, or perhaps dissociating the existing repository from the new project.\r\n\r\nThis is what I have done:\r\n1. Clone Github Repo into New Project\r\n2. Rename project in Android Studio\r\n3. Changed the Github remote location and pushed to a new repo\r\n\r\nI have then proceeded to make all my changes to the new application, but when launching on Android Studio via USB debug or via APK, it overwrites the originally copied application which I already have installed on the mobile device.\r\n\r\nWhat am I doing wrong so the new duplicated application won&#39;t overwrite the existing application?\r\n\r\nI have read a few answers on how to [correctly clone an Eclipse project][1], however I need to clone and duplicate a project in IntelliJ.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/5072874/16585604","title":"How to correctly duplicate an existing project in IntelliJ and launch on device","body":"<p>I want to use an existing Android application as the foundation of a new project in Android Studio, then wish to make changes to the code and create a new application which is completely unrelated to the cloned one. However, I seem to be doing something incorrectly like renaming the project in Android Manifest, or perhaps dissociating the existing repository from the new project.</p>\n<p>This is what I have done:</p>\n<ol>\n<li>Clone Github Repo into New Project</li>\n<li>Rename project in Android Studio</li>\n<li>Changed the Github remote location and pushed to a new repo</li>\n</ol>\n<p>I have then proceeded to make all my changes to the new application, but when launching on Android Studio via USB debug or via APK, it overwrites the originally copied application which I already have installed on the mobile device.</p>\n<p>What am I doing wrong so the new duplicated application won't overwrite the existing application?</p>\n<p>I have read a few answers on how to <a href=\"https://stackoverflow.com/q/5072874/16585604\">correctly clone an Eclipse project</a>, however I need to clone and duplicate a project in IntelliJ.</p>\n"},{"tags":["java","android","kotlin","retrofit2","okhttp"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1683886985,"post_id":76235290,"comment_id":134438672,"body_markdown":"can you share interface where you have mentioned api methods along with end points","body":"can you share interface where you have mentioned api methods along with end points"},{"owner":{"account_id":15702526,"reputation":71,"user_id":11330271,"display_name":"Questions100"},"score":0,"creation_date":1683887337,"post_id":76235290,"comment_id":134438749,"body_markdown":"sure, added the interface + endpoints","body":"sure, added the interface + endpoints"},{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1683888667,"post_id":76235290,"comment_id":134439027,"body_markdown":"have tried to replace ```addHeader``` method with ```header``` ?","body":"have tried to replace <code>addHeader</code> method with <code>header</code> ?"},{"owner":{"account_id":15702526,"reputation":71,"user_id":11330271,"display_name":"Questions100"},"score":0,"creation_date":1683888762,"post_id":76235290,"comment_id":134439046,"body_markdown":"yea, same results","body":"yea, same results"}],"answers":[{"comments":[{"owner":{"account_id":15702526,"reputation":71,"user_id":11330271,"display_name":"Questions100"},"score":0,"creation_date":1683889136,"post_id":76235590,"comment_id":134439140,"body_markdown":"added this: \n`.addNetworkInterceptor(Interceptor { chain -&gt;\n                val originalRequest = chain.request()\n                val modifiedRequest = originalRequest.newBuilder()\n                    .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;)\n                    .build()\n                chain.proceed(modifiedRequest)\n            })`\n\nto my okhttp client but it didn&#39;t help, in chucker UI I still don&#39;t see this header.\n\nalso I send string not RequestBody","body":"added this:  <code>.addNetworkInterceptor(Interceptor { chain -&gt;                 val originalRequest = chain.request()                 val modifiedRequest = originalRequest.newBuilder()                     .addHeader(&quot;Content-Type&quot;, &quot;application&#47;x-www-form-urlencoded; charset=UTF-8&quot;)                     .build()                 chain.proceed(modifiedRequest)             })</code>  to my okhttp client but it didn&#39;t help, in chucker UI I still don&#39;t see this header.  also I send string not RequestBody"},{"owner":{"account_id":15702526,"reputation":71,"user_id":11330271,"display_name":"Questions100"},"score":0,"creation_date":1683889913,"post_id":76235590,"comment_id":134439328,"body_markdown":"But I just tried the link u sent and it did work. thanks!\ncan you explain what you said about the header being removed, and why it happened even using String?","body":"But I just tried the link u sent and it did work. thanks! can you explain what you said about the header being removed, and why it happened even using String?"}],"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683888839,"creation_date":1683888839,"answer_id":76235590,"question_id":76235290,"body_markdown":"If your `RequestBody` class defines a content type, that’ll be used instead of any header you set on the `Request`. If you don’t like that, install your interceptor as a network interceptor and it’ll take precedence.\r\n\r\nhttps://github.com/square/okhttp/blob/master/okhttp/src/jvmMain/kotlin/okhttp3/internal/http/BridgeInterceptor.kt#L43","title":"Content-Type header being removed from request","body":"<p>If your <code>RequestBody</code> class defines a content type, that’ll be used instead of any header you set on the <code>Request</code>. If you don’t like that, install your interceptor as a network interceptor and it’ll take precedence.</p>\n<p><a href=\"https://github.com/square/okhttp/blob/master/okhttp/src/jvmMain/kotlin/okhttp3/internal/http/BridgeInterceptor.kt#L43\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/blob/master/okhttp/src/jvmMain/kotlin/okhttp3/internal/http/BridgeInterceptor.kt#L43</a></p>\n"}],"owner":{"account_id":15702526,"reputation":71,"user_id":11330271,"display_name":"Questions100"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76235590,"answer_count":1,"score":0,"last_activity_date":1683890640,"creation_date":1683886578,"question_id":76235290,"body_markdown":"I&#39;m using okhttp3 and retrofit2 to send requests and I have an interceptor that adds headers:\r\n\r\n    override fun intercept(chain: Interceptor.Chain): Response {\r\n        val request = chain.request().newBuilder()\r\n            .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;)\r\n            .addHeader(&quot;Content-Type2&quot;, &quot;*&quot;)\r\n            .addHeader(&quot;3Content-Type2&quot;, &quot;*&quot;)\r\n            .addHeader(&quot;Host&quot;, &quot;blabla.com&quot;)\r\n            .build()\r\n    \r\n        return chain.proceed(request)\r\n    }\r\n\r\nI added both chuckerInterceptor and HttpLoggingInterceptor to my okhttp client.\r\nin the HttpLoggingInterceptor I do see my header as I set it. in the chuckerInterceptor I do not and I recieve a response matching a request with that missing header (I do see the Content-Type2 and 3Content-Type2 headers). &lt;br&gt;\r\nI made that request in postman with and without the Content-Type header and with the header I get what I expect - some short plain text. without the header I get what I&#39;m getting from the okhttp client - some html code.\r\n\r\nMy question is what could be removing the header? I have no other interceptor other then the loggers.\r\n\r\nthis is my client:\r\n\r\n    val logging = HttpLoggingInterceptor()\r\n            logging.level = (HttpLoggingInterceptor.Level.BODY)\r\n            val cookieManager = CookieManager()\r\n            val chuckerCollector = ChuckerCollector(\r\n                context = MainActivity.context,\r\n                showNotification = true,\r\n                retentionPeriod = RetentionManager.Period.ONE_HOUR\r\n            )\r\n    \r\n            val chuckerInterceptor = ChuckerInterceptor.Builder(MainActivity.context)\r\n                .collector(chuckerCollector)\r\n                .maxContentLength(250_000L)\r\n                .redactHeaders(&quot;Auth-Token&quot;, &quot;Bearer&quot;)\r\n                .alwaysReadResponseBody(true)\r\n                .build()\r\n    \r\n            cookieManager.setCookiePolicy(CookiePolicy.ACCEPT_ALL)\r\n            val client: OkHttpClient = OkHttpClient\r\n                .Builder()\r\n                .addInterceptor(HeadersInterceptor())\r\n                .addInterceptor(chuckerInterceptor)\r\n                .build()\r\n            val retrofit = Retrofit.Builder()\r\n                .baseUrl(baseUrl)\r\n                .addConverterFactory(ScalarsConverterFactory.create())\r\n                .client(client)\r\n                .build()\r\n            interface = retrofit.create(interface::class.java)\r\n\r\nI also tried adding this \r\n\r\n        .addNetworkInterceptor(Interceptor { chain -&gt;\r\n            val originalRequest = chain.request()\r\n            val modifiedRequest = originalRequest.newBuilder()\r\n                .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;)\r\n                .build()\r\n            chain.proceed(modifiedRequest)\r\n        })\r\n\r\n\r\n","title":"Content-Type header being removed from request","body":"<p>I'm using okhttp3 and retrofit2 to send requests and I have an interceptor that adds headers:</p>\n<pre><code>override fun intercept(chain: Interceptor.Chain): Response {\n    val request = chain.request().newBuilder()\n        .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;)\n        .addHeader(&quot;Content-Type2&quot;, &quot;*&quot;)\n        .addHeader(&quot;3Content-Type2&quot;, &quot;*&quot;)\n        .addHeader(&quot;Host&quot;, &quot;blabla.com&quot;)\n        .build()\n\n    return chain.proceed(request)\n}\n</code></pre>\n<p>I added both chuckerInterceptor and HttpLoggingInterceptor to my okhttp client.\nin the HttpLoggingInterceptor I do see my header as I set it. in the chuckerInterceptor I do not and I recieve a response matching a request with that missing header (I do see the Content-Type2 and 3Content-Type2 headers). <br>\nI made that request in postman with and without the Content-Type header and with the header I get what I expect - some short plain text. without the header I get what I'm getting from the okhttp client - some html code.</p>\n<p>My question is what could be removing the header? I have no other interceptor other then the loggers.</p>\n<p>this is my client:</p>\n<pre><code>val logging = HttpLoggingInterceptor()\n        logging.level = (HttpLoggingInterceptor.Level.BODY)\n        val cookieManager = CookieManager()\n        val chuckerCollector = ChuckerCollector(\n            context = MainActivity.context,\n            showNotification = true,\n            retentionPeriod = RetentionManager.Period.ONE_HOUR\n        )\n\n        val chuckerInterceptor = ChuckerInterceptor.Builder(MainActivity.context)\n            .collector(chuckerCollector)\n            .maxContentLength(250_000L)\n            .redactHeaders(&quot;Auth-Token&quot;, &quot;Bearer&quot;)\n            .alwaysReadResponseBody(true)\n            .build()\n\n        cookieManager.setCookiePolicy(CookiePolicy.ACCEPT_ALL)\n        val client: OkHttpClient = OkHttpClient\n            .Builder()\n            .addInterceptor(HeadersInterceptor())\n            .addInterceptor(chuckerInterceptor)\n            .build()\n        val retrofit = Retrofit.Builder()\n            .baseUrl(baseUrl)\n            .addConverterFactory(ScalarsConverterFactory.create())\n            .client(client)\n            .build()\n        interface = retrofit.create(interface::class.java)\n</code></pre>\n<p>I also tried adding this</p>\n<pre><code>    .addNetworkInterceptor(Interceptor { chain -&gt;\n        val originalRequest = chain.request()\n        val modifiedRequest = originalRequest.newBuilder()\n            .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;)\n            .build()\n        chain.proceed(modifiedRequest)\n    })\n</code></pre>\n"},{"tags":["java","spring","hsqldb","sap-commerce-cloud","squirrel-sql"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1535933254,"post_id":52141848,"comment_id":91233593,"body_markdown":"Are you asking how to get the JDBC driver? Or how to specify the JDBC URL? Or how to configure those in Squirrel? Because all 3 of those should have lots of examples online, so all you need is to combine them.","body":"Are you asking how to get the JDBC driver? Or how to specify the JDBC URL? Or how to configure those in Squirrel? Because all 3 of those should have lots of examples online, so all you need is to combine them."}],"answers":[{"tags":[],"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683890447,"creation_date":1535949891,"answer_id":52143273,"question_id":52141848,"body_markdown":"I hope you know how to run the flexible &amp; sql query through HAC. Still, if you are looking for **GUI query tool**/**client** for HSQLDB then HSQL has built-in GUI query tool called `DatabaseManager`. You can explore the database with the default hsqldb DatabaseManager.\r\n\r\nYou have to run `java -cp ../lib/hsqldb.jar org.hsqldb.util.DatabaseManager `\r\n\r\nLike\r\n\r\n**UNIX/Mac**\r\n\r\n    cd $HYBRIS_HOME_DIR/hybris; java -cp ./bin/platform/lib/dbdriver/hsqldb*.jar org.hsqldb.util.DatabaseManager --url jdbc:hsqldb:file:./data/hsqldb/mydb &amp;\r\n\r\n**Windows**\r\n\r\n    cd %HYBRIS_HOME_DIR%\\hybris &amp; start /B java -cp .\\bin\\platform\\lib\\dbdriver\\* org.hsqldb.util.DatabaseManager --url jdbc:hsqldb:file:.\\data\\hsqldb\\mydb\r\n\r\n\r\n","title":"Squirrel Client with SAP Hybris","body":"<p>I hope you know how to run the flexible &amp; sql query through HAC. Still, if you are looking for <strong>GUI query tool</strong>/<strong>client</strong> for HSQLDB then HSQL has built-in GUI query tool called <code>DatabaseManager</code>. You can explore the database with the default hsqldb DatabaseManager.</p>\n<p>You have to run <code>java -cp ../lib/hsqldb.jar org.hsqldb.util.DatabaseManager </code></p>\n<p>Like</p>\n<p><strong>UNIX/Mac</strong></p>\n<pre><code>cd $HYBRIS_HOME_DIR/hybris; java -cp ./bin/platform/lib/dbdriver/hsqldb*.jar org.hsqldb.util.DatabaseManager --url jdbc:hsqldb:file:./data/hsqldb/mydb &amp;\n</code></pre>\n<p><strong>Windows</strong></p>\n<pre><code>cd %HYBRIS_HOME_DIR%\\hybris &amp; start /B java -cp .\\bin\\platform\\lib\\dbdriver\\* org.hsqldb.util.DatabaseManager --url jdbc:hsqldb:file:.\\data\\hsqldb\\mydb\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12871818,"reputation":175,"user_id":9309989,"display_name":"sagar"},"score":0,"creation_date":1536115969,"post_id":52169016,"comment_id":91303154,"body_markdown":"thank you, i&#39;m able to connect to HSQL Database Manager however on the left hand side i couldnt see any by default table for the recipes that i&#39;ve build, like in the screenshot that you have attached has so many tables. Its showing me only  one folder called Properties.","body":"thank you, i&#39;m able to connect to HSQL Database Manager however on the left hand side i couldnt see any by default table for the recipes that i&#39;ve build, like in the screenshot that you have attached has so many tables. Its showing me only  one folder called Properties."},{"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"score":0,"creation_date":1536129335,"post_id":52169016,"comment_id":91307120,"body_markdown":"If you have no table, then you probably put a wrong URL, or your database is not initialized yet.","body":"If you have no table, then you probably put a wrong URL, or your database is not initialized yet."},{"owner":{"account_id":12871818,"reputation":175,"user_id":9309989,"display_name":"sagar"},"score":0,"creation_date":1538449167,"post_id":52169016,"comment_id":92137170,"body_markdown":"So below is the screenshot, i&#39;ve inititalized the system and website is running. However i am not get the setting configured to show the HSQL tables","body":"So below is the screenshot, i&#39;ve inititalized the system and website is running. However i am not get the setting configured to show the HSQL tables"},{"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"score":0,"creation_date":1538464782,"post_id":52169016,"comment_id":92141390,"body_markdown":"You can&#39;t put a screenshot in the comment. Also you can&#39;t connect to the visualizer if the DB is already used by hybris in &quot;file&quot; mode. You have to shutdown hybris first.","body":"You can&#39;t put a screenshot in the comment. Also you can&#39;t connect to the visualizer if the DB is already used by hybris in &quot;file&quot; mode. You have to shutdown hybris first."}],"tags":[],"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536072800,"creation_date":1536072800,"answer_id":52169016,"question_id":52141848,"body_markdown":"You don&#39;t need any extra tools to inspect HSQLDB.\r\n\r\nIn the HSQLDB JAR in `platform/lib/dbdriver` you have a DB visualizer.\r\n\r\nYou just have to start it using `java -jar hsqldb-2.3.4.jar`.\r\n\r\nIt will open a GUI. [![enter image description here][1]][1]\r\n\r\nIn type set `HSQL Database Engine Standalone`.\r\n\r\nThen set your DB location in URL.\r\n`jdbc:hsqldb:file:&lt;hybris_data_dir&gt;/hsqldb/mydb` .\r\n\r\nOOTB hybris use SA user with no password.\r\n\r\nIf you have configured a &quot;in-memory&quot; DB then replace `:file:` by `:mem:`\r\n\r\n  [1]: https://i.stack.imgur.com/CHSH4.png","title":"Squirrel Client with SAP Hybris","body":"<p>You don't need any extra tools to inspect HSQLDB.</p>\n\n<p>In the HSQLDB JAR in <code>platform/lib/dbdriver</code> you have a DB visualizer.</p>\n\n<p>You just have to start it using <code>java -jar hsqldb-2.3.4.jar</code>.</p>\n\n<p>It will open a GUI. <a href=\"https://i.stack.imgur.com/CHSH4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CHSH4.png\" alt=\"enter image description here\"></a></p>\n\n<p>In type set <code>HSQL Database Engine Standalone</code>.</p>\n\n<p>Then set your DB location in URL.\n<code>jdbc:hsqldb:file:&lt;hybris_data_dir&gt;/hsqldb/mydb</code> .</p>\n\n<p>OOTB hybris use SA user with no password.</p>\n\n<p>If you have configured a \"in-memory\" DB then replace <code>:file:</code> by <code>:mem:</code></p>\n"}],"owner":{"account_id":12871818,"reputation":175,"user_id":9309989,"display_name":"sagar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683890447,"creation_date":1535932670,"question_id":52141848,"body_markdown":"I&#39;m new to SAP Hybris(6.2) and I need some help in looking up the Hsqldb tables (hybris\\data\\hsqldb). Someone told me to download Squirrel and connect the database driver to it, however, I&#39;m unable to find any tutorial or document on connecting the SAP Hybris HSQLDB in Squirrel Client.\r\n\r\nCan anyone please help me with the setup. Will appreciate a lot.\r\n\r\nThanks!","title":"Squirrel Client with SAP Hybris","body":"<p>I'm new to SAP Hybris(6.2) and I need some help in looking up the Hsqldb tables (hybris\\data\\hsqldb). Someone told me to download Squirrel and connect the database driver to it, however, I'm unable to find any tutorial or document on connecting the SAP Hybris HSQLDB in Squirrel Client.</p>\n\n<p>Can anyone please help me with the setup. Will appreciate a lot.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","performance","jmeter","automated-tests","load"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683889047,"creation_date":1683889047,"answer_id":76235626,"question_id":76235421,"body_markdown":"As far as I&#39;m able to read I can see 3 sample results in the HTML Reporting Dashboard:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI would rather be interested in the reason for the remaining 2 sample results not having a label. You might want to check [jmeter.log][2] (maybe with [debug level enabled][3]) file for any suspicious entries. \r\n\r\nAlso it might be the case you&#39;re looking at one of the previous results, try adding [`-f` key][4] to your command line so JMeter would replace [.jtl results file][5] and HTML Reporting Dashboard with the results of the latest execution. \r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UpfIc.png\r\n  [2]: https://jmeter.apache.org/usermanual/get-started.html#logging\r\n  [3]: https://www.blazemeter.com/blog/jmeter-logging\r\n  [4]: https://jmeter.apache.org/usermanual/get-started.html#options\r\n  [5]: https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=119548855","title":"Jmeter HTML reports from cmd but getting one request","body":"<p>As far as I'm able to read I can see 3 sample results in the HTML Reporting Dashboard:</p>\n<p><a href=\"https://i.stack.imgur.com/UpfIc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UpfIc.png\" alt=\"enter image description here\" /></a></p>\n<p>I would rather be interested in the reason for the remaining 2 sample results not having a label. You might want to check <a href=\"https://jmeter.apache.org/usermanual/get-started.html#logging\" rel=\"nofollow noreferrer\">jmeter.log</a> (maybe with <a href=\"https://www.blazemeter.com/blog/jmeter-logging\" rel=\"nofollow noreferrer\">debug level enabled</a>) file for any suspicious entries.</p>\n<p>Also it might be the case you're looking at one of the previous results, try adding <a href=\"https://jmeter.apache.org/usermanual/get-started.html#options\" rel=\"nofollow noreferrer\"><code>-f</code> key</a> to your command line so JMeter would replace <a href=\"https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=119548855\" rel=\"nofollow noreferrer\">.jtl results file</a> and HTML Reporting Dashboard with the results of the latest execution.</p>\n"}],"owner":{"account_id":22162473,"reputation":3,"user_id":16409240,"display_name":"Sunder Chanti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76235626,"answer_count":1,"score":0,"last_activity_date":1683890258,"creation_date":1683887597,"question_id":76235421,"body_markdown":"I have 3 http request, if I run these test in jmeter and run cmd commend for reports I only get one http request please help me, I need all three in my report.\r\n\r\nmy http requests\r\n\r\n[![first image][1]][1]\r\n\r\nresult\r\n\r\n[![second image][2]][2]\r\n\r\nAnd this is the cmd commend that I have used\r\n\r\n    jmeter -n -t &quot;C:\\Users\\Administrator\\Downloads\\apache-jmeter-5.5\\bin\\project\\softJmeterjson.jmx&quot; -l &quot;E:\\softreportsa\\r.csv&quot; -e -o &quot;E:\\softreports\\HtmlFolder\\report1&quot;\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lemqM.png\r\n  [2]: https://i.stack.imgur.com/yrND5.png","title":"Jmeter HTML reports from cmd but getting one request","body":"<p>I have 3 http request, if I run these test in jmeter and run cmd commend for reports I only get one http request please help me, I need all three in my report.</p>\n<p>my http requests</p>\n<p><a href=\"https://i.stack.imgur.com/lemqM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lemqM.png\" alt=\"first image\" /></a></p>\n<p>result</p>\n<p><a href=\"https://i.stack.imgur.com/yrND5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yrND5.png\" alt=\"second image\" /></a></p>\n<p>And this is the cmd commend that I have used</p>\n<pre><code>jmeter -n -t &quot;C:\\Users\\Administrator\\Downloads\\apache-jmeter-5.5\\bin\\project\\softJmeterjson.jmx&quot; -l &quot;E:\\softreportsa\\r.csv&quot; -e -o &quot;E:\\softreports\\HtmlFolder\\report1&quot;\n</code></pre>\n"},{"tags":["java","csv","object","null","readfile"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1683889603,"post_id":76235664,"comment_id":134439257,"body_markdown":"You&#39;re not assigning the `pLocation` parameter to anything in the `Project` header. Your IDE should have notified you of that fact.","body":"You&#39;re not assigning the <code>pLocation</code> parameter to anything in the <code>Project</code> header. Your IDE should have notified you of that fact."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1683889636,"post_id":76235664,"comment_id":134439274,"body_markdown":"You are getting the `Location` as a constructor argument of `Project`, but you are not assigning it to the `Location` inside the `Project`. You should do something like `this.location = pLocation;` inside the `Project` constructor.","body":"You are getting the <code>Location</code> as a constructor argument of <code>Project</code>, but you are not assigning it to the <code>Location</code> inside the <code>Project</code>. You should do something like <code>this.location = pLocation;</code> inside the <code>Project</code> constructor."},{"owner":{"account_id":28517486,"reputation":39,"user_id":21826658,"display_name":"Cindy_ l"},"score":0,"creation_date":1683890922,"post_id":76235664,"comment_id":134439560,"body_markdown":"Thank you I should have checked my constructors properly.","body":"Thank you I should have checked my constructors properly."}],"answers":[{"comments":[{"owner":{"account_id":28517486,"reputation":39,"user_id":21826658,"display_name":"Cindy_ l"},"score":0,"creation_date":1683890891,"post_id":76235707,"comment_id":134439553,"body_markdown":"Thanks a lot that helped, I tried to find the problem for hours :(","body":"Thanks a lot that helped, I tried to find the problem for hours :("}],"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683889647,"creation_date":1683889647,"answer_id":76235707,"question_id":76235664,"body_markdown":"Your `Project` constructor is missing the assignment for the parameter `pLocation`.\r\n\r\n    public Project(String pProvince, String pBeneficiary, String pBeneficiaryNum, String pAssetClass, String pName, String pStage, Location pLocation)\r\n    {\r\n        province = pProvince;\r\n        beneficiary = pBeneficiary;\r\n        beneficiaryNum = pBeneficiaryNum;\r\n        assetClass = pAssetClass;\r\n        name = pName;\r\n        stage = pStage;\r\n        location = pLocation; // was missing\r\n    }","title":"not returning the correct values while reading a file. &quot;null&quot; is returned instead","body":"<p>Your <code>Project</code> constructor is missing the assignment for the parameter <code>pLocation</code>.</p>\n<pre><code>public Project(String pProvince, String pBeneficiary, String pBeneficiaryNum, String pAssetClass, String pName, String pStage, Location pLocation)\n{\n    province = pProvince;\n    beneficiary = pBeneficiary;\n    beneficiaryNum = pBeneficiaryNum;\n    assetClass = pAssetClass;\n    name = pName;\n    stage = pStage;\n    location = pLocation; // was missing\n}\n</code></pre>\n"}],"owner":{"account_id":28517486,"reputation":39,"user_id":21826658,"display_name":"Cindy_ l"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683889647,"creation_date":1683889315,"question_id":76235664,"body_markdown":"I am reading from a csv file, and I have two objects. The first object is called Project, another one is called Location.\r\n\r\n\r\n```\r\npublic class Project\r\n{\r\n    private String province;\r\n    private String beneficiary;\r\n    private String beneficiaryNum;\r\n    private String assetClass;\r\n    private String name;\r\n    private String stage;\r\n    Location location;\r\n\r\npublic Project(String pProvince, String pBeneficiary, String pBeneficiaryNum, String pAssetClass, String pName, String pStage, Location pLocation)\r\n    {\r\n        province = pProvince;\r\n        beneficiary = pBeneficiary;\r\n        beneficiaryNum = pBeneficiaryNum;\r\n        assetClass = pAssetClass;\r\n        name = pName;\r\n        stage = pStage;\r\n    }\r\n\r\npublic String toString()\r\n    {\r\n        return province + &quot;\\n&quot; + beneficiary + &quot;\\n&quot; + beneficiaryNum + &quot;\\n&quot; + assetClass + &quot;\\n&quot; + name + &quot;\\n&quot; + stage + &quot;\\n&quot; + location;\r\n    }\r\n...\r\n```\r\n\r\n\r\n```\r\npublic class Location\r\n{\r\n    private double latitude;\r\n    private double longitude;\r\n    private String coordinateSystem;\r\n\r\npublic Location(double pLatitude, double pLongitude, String pCoordinateSystem)\r\n    {\r\n        latitude = pLatitude;\r\n        longitude = pLongitude;\r\n        coordinateSystem = pCoordinateSystem;\r\n    }\r\n\r\npublic String toString()\r\n    {\r\n        return latitude + &quot;\\n&quot; + longitude + &quot;\\n&quot; + coordinateSystem;\r\n    }\r\n...\r\n```\r\n\r\nthe issue is in the method processLine()\r\n\r\n```\r\npublic static Project processLine(String pLine)\r\n    {\r\n\r\n        String[] lineSplit;\r\n        lineSplit = pLine.split(&quot;,&quot;);\r\n        \r\n        //Converts the string in lineSplit[7] into a Double called &#39;lat&#39;\r\n        Double lat = Double.valueOf(lineSplit[7]);\r\n\r\n        //Converts the string in lineSplit[8] into a Double calle &#39;lon&#39;\r\n        Double lon = Double.valueOf(lineSplit[8]);\r\n\r\n        //Creates a new location object\r\n        Location pLocation = new Location(lat, lon, lineSplit[9]);\r\n        Project pProject = new Project(lineSplit[0],lineSplit[1],lineSplit[2],lineSplit[3],lineSplit[4],lineSplit[6],pLocation);\r\n\r\n        return pProject;\r\n        \r\n    }\r\n```\r\n\r\nwhen I return pProject and try to print it, it prints out\r\n\r\n```\r\n//below is lineSplit[0,1,2,3,4,6]\r\nSaskatchewan\r\nAll Nations Healing Hospital\r\n9999\r\nHealth\r\nDesign and construction of a new community health facility.\r\nCompleted\r\n//below is pLocation\r\nnull\r\n```\r\n\r\nI tried to isolate pLocation and print it, it returns\r\n```\r\n//pLocation\r\n50.761877 //lat\r\n-103.787043 //lon\r\nGCS_North_American_1983_CSRS //lineSplit[9]\r\n```\r\nbut when I try to print out pProject, with has pLocation as a field, it prints out null\r\n\r\nHow do I get it to print out pProject with pLocation in it?\r\n\r\nI&#39;m quite new to asking questions, so if I have stated anything in a wrong way, or haven&#39;t provided enough information please let me know, so I can provide info and improve :)\r\n\r\n","title":"not returning the correct values while reading a file. &quot;null&quot; is returned instead","body":"<p>I am reading from a csv file, and I have two objects. The first object is called Project, another one is called Location.</p>\n<pre><code>public class Project\n{\n    private String province;\n    private String beneficiary;\n    private String beneficiaryNum;\n    private String assetClass;\n    private String name;\n    private String stage;\n    Location location;\n\npublic Project(String pProvince, String pBeneficiary, String pBeneficiaryNum, String pAssetClass, String pName, String pStage, Location pLocation)\n    {\n        province = pProvince;\n        beneficiary = pBeneficiary;\n        beneficiaryNum = pBeneficiaryNum;\n        assetClass = pAssetClass;\n        name = pName;\n        stage = pStage;\n    }\n\npublic String toString()\n    {\n        return province + &quot;\\n&quot; + beneficiary + &quot;\\n&quot; + beneficiaryNum + &quot;\\n&quot; + assetClass + &quot;\\n&quot; + name + &quot;\\n&quot; + stage + &quot;\\n&quot; + location;\n    }\n...\n</code></pre>\n<pre><code>public class Location\n{\n    private double latitude;\n    private double longitude;\n    private String coordinateSystem;\n\npublic Location(double pLatitude, double pLongitude, String pCoordinateSystem)\n    {\n        latitude = pLatitude;\n        longitude = pLongitude;\n        coordinateSystem = pCoordinateSystem;\n    }\n\npublic String toString()\n    {\n        return latitude + &quot;\\n&quot; + longitude + &quot;\\n&quot; + coordinateSystem;\n    }\n...\n</code></pre>\n<p>the issue is in the method processLine()</p>\n<pre><code>public static Project processLine(String pLine)\n    {\n\n        String[] lineSplit;\n        lineSplit = pLine.split(&quot;,&quot;);\n        \n        //Converts the string in lineSplit[7] into a Double called 'lat'\n        Double lat = Double.valueOf(lineSplit[7]);\n\n        //Converts the string in lineSplit[8] into a Double calle 'lon'\n        Double lon = Double.valueOf(lineSplit[8]);\n\n        //Creates a new location object\n        Location pLocation = new Location(lat, lon, lineSplit[9]);\n        Project pProject = new Project(lineSplit[0],lineSplit[1],lineSplit[2],lineSplit[3],lineSplit[4],lineSplit[6],pLocation);\n\n        return pProject;\n        \n    }\n</code></pre>\n<p>when I return pProject and try to print it, it prints out</p>\n<pre><code>//below is lineSplit[0,1,2,3,4,6]\nSaskatchewan\nAll Nations Healing Hospital\n9999\nHealth\nDesign and construction of a new community health facility.\nCompleted\n//below is pLocation\nnull\n</code></pre>\n<p>I tried to isolate pLocation and print it, it returns</p>\n<pre><code>//pLocation\n50.761877 //lat\n-103.787043 //lon\nGCS_North_American_1983_CSRS //lineSplit[9]\n</code></pre>\n<p>but when I try to print out pProject, with has pLocation as a field, it prints out null</p>\n<p>How do I get it to print out pProject with pLocation in it?</p>\n<p>I'm quite new to asking questions, so if I have stated anything in a wrong way, or haven't provided enough information please let me know, so I can provide info and improve :)</p>\n"},{"tags":["java","utf-8"],"comments":[{"owner":{"account_id":1077525,"reputation":7289,"user_id":1075341,"accept_rate":96,"display_name":"Arnaud"},"score":2,"creation_date":1368000304,"post_id":16435525,"comment_id":23571459,"body_markdown":"Make sure the console you use to display the output is also encoded in UTF-8. In Eclipse, you need to go to Run Configuration to do this.","body":"Make sure the console you use to display the output is also encoded in UTF-8. In Eclipse, you need to go to Run Configuration to do this."},{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1368000328,"post_id":16435525,"comment_id":23571468,"body_markdown":"@Thihara Post an answer?","body":"@Thihara Post an answer?"},{"owner":{"account_id":882029,"reputation":6941,"user_id":272451,"accept_rate":100,"display_name":"Thihara"},"score":0,"creation_date":1368000543,"post_id":16435525,"comment_id":23571569,"body_markdown":"It seemed too small for an answer :-)","body":"It seemed too small for an answer :-)"}],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368000602,"creation_date":1368000602,"answer_id":16435665,"question_id":16435525,"body_markdown":"Code looks good. The problem should be in console output that cannot print Turkish. To be sure make a temp test in your program: take the string with Assal?τ????&#247;&#247;?? that you read from file and do this \r\n\r\n     System.out.println(str.charAt(6) == &#39;ğ&#39;);\r\n     \r\n\r\n","title":"How to read UTF 8 encoded file in java with turkish characters","body":"<p>Code looks good. The problem should be in console output that cannot print Turkish. To be sure make a temp test in your program: take the string with Assal?τ????÷÷?? that you read from file and do this </p>\n\n<pre><code> System.out.println(str.charAt(6) == 'ğ');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1077525,"reputation":7289,"user_id":1075341,"accept_rate":96,"display_name":"Arnaud"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1368000711,"creation_date":1368000711,"answer_id":16435695,"question_id":16435525,"body_markdown":"Make sure the console you use to display the output is also encoded in UTF-8. In Eclipse for example, you need to go to `Run Configuration` &gt; `Common` to do this.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/A6b1V.png","title":"How to read UTF 8 encoded file in java with turkish characters","body":"<p>Make sure the console you use to display the output is also encoded in UTF-8. In Eclipse for example, you need to go to <code>Run Configuration</code> > <code>Common</code> to do this.</p>\n\n<p><img src=\"https://i.stack.imgur.com/A6b1V.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1368002530,"creation_date":1368002530,"answer_id":16436195,"question_id":16435525,"body_markdown":"You appear to be correctly decoding the file data from UTF-8 to UTF-16 strings.\r\n\r\n`System.out` performs transcoding operations from UTF-16 strings to the [default JRE character encoding][1]. If this does not match the encoding used by the device receiving the character data is corrupted. So, the console should be set to the default character encoding or data corruption occurs. How this is done is device-dependent.\r\n\r\nIf you are using a terminal, [the Console][2] does a better job of determining the device encoding.\r\n\r\n*Note: it is better to use the [try-with-resources][3] or at least [try-finally][4] to close streams; use [the standard encoding constants][5] if available.*\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/charset/Charset.html#defaultCharset%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#console%28%29\r\n  [3]: http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [4]: https://stackoverflow.com/questions/194261/raii-in-java-is-resource-disposal-always-so-ugly\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/nio/charset/StandardCharsets.html","title":"How to read UTF 8 encoded file in java with turkish characters","body":"<p>You appear to be correctly decoding the file data from UTF-8 to UTF-16 strings.</p>\n\n<p><code>System.out</code> performs transcoding operations from UTF-16 strings to the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/charset/Charset.html#defaultCharset%28%29\" rel=\"nofollow noreferrer\">default JRE character encoding</a>. If this does not match the encoding used by the device receiving the character data is corrupted. So, the console should be set to the default character encoding or data corruption occurs. How this is done is device-dependent.</p>\n\n<p>If you are using a terminal, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#console%28%29\" rel=\"nofollow noreferrer\">the Console</a> does a better job of determining the device encoding.</p>\n\n<p><em>Note: it is better to use the <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> or at least <a href=\"https://stackoverflow.com/questions/194261/raii-in-java-is-resource-disposal-always-so-ugly\">try-finally</a> to close streams; use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/charset/StandardCharsets.html\" rel=\"nofollow noreferrer\">the standard encoding constants</a> if available.</em></p>\n"}],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12354,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":16436195,"answer_count":3,"score":2,"last_activity_date":1683889247,"creation_date":1368000073,"question_id":16435525,"body_markdown":"I am trying to read a UTF-8 encoded txt file, which has some turkish characters. Basically I am have written an axis based web service, which reads this file and send the output back as a string. Somehow I am not able to read the characters properly. The code is very simple as mentioned here:\r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.CharsetDecoder;\r\n    import java.nio.charset.CodingErrorAction;\r\n    \r\n    public class TurkishWebService {\r\n    \r\n    \tpublic String generateTurkishString() throws IOException {\r\n    \t\tInputStream isr = this.getClass().getResourceAsStream(\r\n    \t\t\t\t&quot;/&quot; + &quot;turkish.txt&quot;);\r\n    \r\n    \t\tBufferedReader in = new BufferedReader(new InputStreamReader(isr,\r\n    \t\t\t\t&quot;UTF8&quot;));\r\n    \t\tString str;\r\n    \r\n    \t\twhile ((str = in.readLine()) != null) {\r\n    \t\t\tSystem.out.println(str);\r\n    \t\t}\r\n    \r\n    \t\tin.close();\r\n    \t\treturn str;\r\n    \t}\r\n    \r\n    \tpublic String normalString() {\r\n    \t\tSystem.out.println(&quot;webService normal text&quot;);\r\n    \t\treturn &quot;webService normal text&quot;;\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) throws IOException {\r\n    \t\tnew TurkishWebService().generateTurkishString();\r\n    \t}\r\n    }\r\n\r\n\r\nHere are the contents of turkish.txt, just one line\r\n\r\n    Assalğ&#231;ğıİİ&#246;&#246;şş\r\n\r\nI am getting the stdout as \r\n\r\n    Assal?τ????&#247;&#247;??\r\n\r\nPlease suggest what am I doing wrong here.","title":"How to read UTF 8 encoded file in java with turkish characters","body":"<p>I am trying to read a UTF-8 encoded txt file, which has some turkish characters. Basically I am have written an axis based web service, which reads this file and send the output back as a string. Somehow I am not able to read the characters properly. The code is very simple as mentioned here:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.nio.charset.Charset;\nimport java.nio.charset.CharsetDecoder;\nimport java.nio.charset.CodingErrorAction;\n\npublic class TurkishWebService {\n\n    public String generateTurkishString() throws IOException {\n        InputStream isr = this.getClass().getResourceAsStream(\n                \"/\" + \"turkish.txt\");\n\n        BufferedReader in = new BufferedReader(new InputStreamReader(isr,\n                \"UTF8\"));\n        String str;\n\n        while ((str = in.readLine()) != null) {\n            System.out.println(str);\n        }\n\n        in.close();\n        return str;\n    }\n\n    public String normalString() {\n        System.out.println(\"webService normal text\");\n        return \"webService normal text\";\n    }\n\n    public static void main(String args[]) throws IOException {\n        new TurkishWebService().generateTurkishString();\n    }\n}\n</code></pre>\n\n<p>Here are the contents of turkish.txt, just one line</p>\n\n<pre><code>Assalğçğıİİööşş\n</code></pre>\n\n<p>I am getting the stdout as </p>\n\n<pre><code>Assal?τ????÷÷??\n</code></pre>\n\n<p>Please suggest what am I doing wrong here.</p>\n"},{"tags":["java","file","character-encoding"],"comments":[{"owner":{"display_name":"user784540"},"score":1,"creation_date":1461045080,"post_id":36709618,"comment_id":61006334,"body_markdown":"Side note: don&#39;t use `+=` for `String` objects. Strings are immutable and you are creating many and many new String objects. Use `StringBuilder` to concatenate strings in loops.","body":"Side note: don&#39;t use <code>+=</code> for <code>String</code> objects. Strings are immutable and you are creating many and many new String objects. Use <code>StringBuilder</code> to concatenate strings in loops."},{"owner":{"display_name":"user784540"},"score":5,"creation_date":1461045114,"post_id":36709618,"comment_id":61006343,"body_markdown":"is that possible that console you are using does not support unicode characters ?","body":"is that possible that console you are using does not support unicode characters ?"},{"owner":{"account_id":1991252,"reputation":895,"user_id":1785223,"display_name":"Pieter"},"score":0,"creation_date":1461045694,"post_id":36709618,"comment_id":61006596,"body_markdown":"Maybe this helps: http://stackoverflow.com/questions/16435525/how-to-read-utf-8-encoded-file-in-java-with-turkish-characters","body":"Maybe this helps: <a href=\"http://stackoverflow.com/questions/16435525/how-to-read-utf-8-encoded-file-in-java-with-turkish-characters\" title=\"how to read utf 8 encoded file in java with turkish characters\">stackoverflow.com/questions/16435525/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4264083,"reputation":6317,"user_id":3487617,"display_name":"Hank D"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461047042,"creation_date":1461047042,"answer_id":36710142,"question_id":36709618,"body_markdown":"The � or U+FFFD character is a special character defined by Unicode as a &quot;replacement character&quot;, a character to display when you encounter a character you don&#39;t recognize, or the byte data is malformed and a character cannot be read.\r\n\r\nThe `InputStreamReader` constructor you are using does not allow you to specify the behavior when there is malformed data or when a character is not recognized.  It assumes you want the default behavior of using the &quot;replacement character&quot; when there is an unrecognized character or when the byte data is malformed, so that may be what your seeing.\r\n\r\nIf you examine your output and find that your Turkish characters are not there but have been replaced by the &quot;replacement character&quot; U+FFFD, you can change the behavior to throw an exception instead of using the replacement character -- an actual exception will make it easier to detect when data is in the wrong character set.\r\n\r\nTo specify this different behavior, use this version of `InputStreamReader` \r\n\r\n    public InputStreamReader(InputStream in, CharsetDecoder dec)\r\n\r\nFor the `CharsetDecoder`, pass in \r\n\r\n    charset.newDecoder().onMalformedInput(CodingErrorAction.REPORT)\r\n            .onUnmappableCharacter(CodingErrorAction.REPORT)\r\n\r\nwhere `charset` is your character set of choice, e.g. `StandardCharsets.UTF_8`\r\n\r\nThat will cause an exception to be thrown rather than the replacement character inserted.\r\n\r\nIf you still see the replacement character and no exception is thrown, it&#39;s fairly clear that the problem is in how you are viewing the output.","title":"Java InputStreamReader Can not read Special(Turkish) Characters","body":"<p>The � or U+FFFD character is a special character defined by Unicode as a \"replacement character\", a character to display when you encounter a character you don't recognize, or the byte data is malformed and a character cannot be read.</p>\n\n<p>The <code>InputStreamReader</code> constructor you are using does not allow you to specify the behavior when there is malformed data or when a character is not recognized.  It assumes you want the default behavior of using the \"replacement character\" when there is an unrecognized character or when the byte data is malformed, so that may be what your seeing.</p>\n\n<p>If you examine your output and find that your Turkish characters are not there but have been replaced by the \"replacement character\" U+FFFD, you can change the behavior to throw an exception instead of using the replacement character -- an actual exception will make it easier to detect when data is in the wrong character set.</p>\n\n<p>To specify this different behavior, use this version of <code>InputStreamReader</code> </p>\n\n<pre><code>public InputStreamReader(InputStream in, CharsetDecoder dec)\n</code></pre>\n\n<p>For the <code>CharsetDecoder</code>, pass in </p>\n\n<pre><code>charset.newDecoder().onMalformedInput(CodingErrorAction.REPORT)\n        .onUnmappableCharacter(CodingErrorAction.REPORT)\n</code></pre>\n\n<p>where <code>charset</code> is your character set of choice, e.g. <code>StandardCharsets.UTF_8</code></p>\n\n<p>That will cause an exception to be thrown rather than the replacement character inserted.</p>\n\n<p>If you still see the replacement character and no exception is thrown, it's fairly clear that the problem is in how you are viewing the output.</p>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461047880,"creation_date":1461047880,"answer_id":36710381,"question_id":36709618,"body_markdown":"So what&#39;s the actual file encoding? Open up a hex editor and look at the byte values for `insan�n` (especially the broken character). Then when you have the byte value, you can find the actual encoding. Now you&#39;ve just tried two wrong encodings at random.","title":"Java InputStreamReader Can not read Special(Turkish) Characters","body":"<p>So what's the actual file encoding? Open up a hex editor and look at the byte values for <code>insan�n</code> (especially the broken character). Then when you have the byte value, you can find the actual encoding. Now you've just tried two wrong encodings at random.</p>\n"},{"tags":[],"owner":{"account_id":3893238,"reputation":1341,"user_id":3222918,"accept_rate":20,"display_name":"krezus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683889097,"creation_date":1683889097,"answer_id":76235632,"question_id":36709618,"body_markdown":"[Cp1254][1] encoding is what your are looking for to encode special Turkish characters.\r\n \r\n\r\n    final BufferedReader br = new BufferedReader(\r\n                    new InputStreamReader(new FileInputStream(f),&quot;Cp1254&quot;));\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Windows-1254","title":"Java InputStreamReader Can not read Special(Turkish) Characters","body":"<p><a href=\"https://en.wikipedia.org/wiki/Windows-1254\" rel=\"nofollow noreferrer\">Cp1254</a> encoding is what your are looking for to encode special Turkish characters.</p>\n<pre><code>final BufferedReader br = new BufferedReader(\n                new InputStreamReader(new FileInputStream(f),&quot;Cp1254&quot;));\n</code></pre>\n"}],"owner":{"account_id":2574048,"reputation":1215,"user_id":2232156,"accept_rate":51,"display_name":"Mert Serimer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":801,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1683889097,"creation_date":1461044938,"question_id":36709618,"body_markdown":"Below you can see my code;    \r\n    \r\n    final BufferedReader br = new BufferedReader(\r\n                    new InputStreamReader(new FileInputStream(f),&quot;UTF-8&quot;));// tried also &quot;iso-8859-9&quot;\r\n    String strLine;\r\n    while ((strLine = br.readLine()) != null) {\r\n        total += &quot;\\n&quot; + strLine;\r\n    }\r\n    br.close();\r\n\r\nHere below is the output.. what should i do?\r\n\r\n**`insan�n sec�ld�g� combobox`**","title":"Java InputStreamReader Can not read Special(Turkish) Characters","body":"<p>Below you can see my code;    </p>\n\n<pre><code>final BufferedReader br = new BufferedReader(\n                new InputStreamReader(new FileInputStream(f),\"UTF-8\"));// tried also \"iso-8859-9\"\nString strLine;\nwhile ((strLine = br.readLine()) != null) {\n    total += \"\\n\" + strLine;\n}\nbr.close();\n</code></pre>\n\n<p>Here below is the output.. what should i do?</p>\n\n<p><strong><code>insan�n sec�ld�g� combobox</code></strong></p>\n"},{"tags":["java","byte-buddy"],"answers":[{"comments":[{"owner":{"account_id":26290875,"reputation":21,"user_id":19957919,"display_name":"Marco Dabbene"},"score":1,"creation_date":1683736543,"post_id":76220266,"comment_id":134413687,"body_markdown":"Changing the NamingStrategy did not change the result, but changing \n\n`.load(MyEntityA.class.getClassLoader())` \n\nwith\n\n`.load(MyEntityA.class.getClassLoader(), ClassLoadingStrategy.UsingLookup.withFallback(() -&gt; MethodHandles.lookup()))`\n\nit works.\nBut in this case, if I change JDK with version 17, I get this error:\n\n`Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: it.mict.lab.bytebuddy.entity.MyEntityA$ByteBuddy$kpHeegtl must be defined in the same package as it.mict.lab.bytebuddy.App`","body":"Changing the NamingStrategy did not change the result, but changing   <code>.load(MyEntityA.class.getClassLoader())</code>   with  <code>.load(MyEntityA.class.getClassLoader(), ClassLoadingStrategy.UsingLookup.withFallback(() -&gt; MethodHandles.lookup()))</code>  it works. But in this case, if I change JDK with version 17, I get this error:  <code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: it.mict.lab.bytebuddy.entity.MyEntityA$ByteBuddy$kpHeegtl must be defined in the same package as it.mict.lab.bytebuddy.App</code>"}],"tags":[],"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683732766,"creation_date":1683732766,"answer_id":76220266,"question_id":76219120,"body_markdown":"According to [this](https://github.com/raphw/byte-buddy/issues/1087) (old) issue it&#39;s a bytebuddy bug, the workaround explained there is to use the same package for the Subclass, So:\r\n```\r\nUnloaded&lt;MyEntityA&gt; unloadedClass = new ByteBuddy()\r\n    .with(new NamingStrategy.SuffixingRandom(&quot;MyProxy&quot;))\r\n```\r\nbecomes\r\n```\r\nUnloaded&lt;MyEntityA&gt; unloadedClass = new ByteBuddy()\r\n    .with(new NamingStrategy.SuffixingRandom(&quot;it.mict.lab.bytebuddy.entity.MyProxy&quot;))\r\n```\r\n\r\nAlso make sure to load the class with the same Classloader as MyEntityA.","title":"Creating a proxy with ByteBuddy that should call a protected method, I get: java.lang.VerifyError: Bad access to protected data in invokevirtual","body":"<p>According to <a href=\"https://github.com/raphw/byte-buddy/issues/1087\" rel=\"nofollow noreferrer\">this</a> (old) issue it's a bytebuddy bug, the workaround explained there is to use the same package for the Subclass, So:</p>\n<pre><code>Unloaded&lt;MyEntityA&gt; unloadedClass = new ByteBuddy()\n    .with(new NamingStrategy.SuffixingRandom(&quot;MyProxy&quot;))\n</code></pre>\n<p>becomes</p>\n<pre><code>Unloaded&lt;MyEntityA&gt; unloadedClass = new ByteBuddy()\n    .with(new NamingStrategy.SuffixingRandom(&quot;it.mict.lab.bytebuddy.entity.MyProxy&quot;))\n</code></pre>\n<p>Also make sure to load the class with the same Classloader as MyEntityA.</p>\n"},{"tags":[],"owner":{"account_id":26290875,"reputation":21,"user_id":19957919,"display_name":"Marco Dabbene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683888631,"creation_date":1683888631,"answer_id":76235557,"question_id":76219120,"body_markdown":"Being sure the classloader is the same for both the original class and the proxy is not easy at is seems. In fact I found a way to force the same classloader in Java 8, but it did not work in Java 17.\r\nThen I found a wonderful 2018 article from the author of ByteBuddy [JDK 11 and proxies in a world past sun.misc.Unsafe][1] where he shows the correct way to specify class loading strategy and now my example works for both Java 8 and Java 17.\r\nI copy here the new version of the App class example that shows that solution:\r\n\r\n```\r\npackage it.mict.lab.bytebuddy;\r\n\r\nimport java.lang.reflect.Constructor;\r\nimport java.lang.reflect.Method;\r\n\r\nimport it.mict.lab.bytebuddy.entity.MyEntityA;\r\nimport it.mict.lab.bytebuddy.entity.MyEntityB;\r\nimport net.bytebuddy.ByteBuddy;\r\nimport net.bytebuddy.description.modifier.Visibility;\r\nimport net.bytebuddy.dynamic.DynamicType.Unloaded;\r\nimport net.bytebuddy.dynamic.loading.ClassInjector;\r\nimport net.bytebuddy.dynamic.loading.ClassLoadingStrategy;\r\nimport net.bytebuddy.implementation.FieldAccessor;\r\nimport net.bytebuddy.implementation.MethodCall;\r\nimport net.bytebuddy.implementation.MethodDelegation;\r\nimport net.bytebuddy.implementation.auxiliary.AuxiliaryType.NamingStrategy;\r\nimport net.bytebuddy.matcher.ElementMatchers;\r\n\r\npublic class App \r\n{\r\n\tprivate static Class&lt;? extends MyEntityA&gt; creteProxyClass() throws Exception {\r\n\r\n\t\tUnloaded&lt;MyEntityA&gt; unloadedClass = new ByteBuddy()\r\n\t\t\t\t.with(new NamingStrategy.SuffixingRandom(&quot;MyProxy&quot;))\r\n\t\t\t\t.subclass(MyEntityA.class)\r\n\t\t\t\t.defineField(&quot;_target&quot;, MyEntityA.class, Visibility.PRIVATE)\r\n\t\t\t\t.defineConstructor(Visibility.PUBLIC)\r\n\t\t\t\t.withParameter(MyEntityA.class)\r\n\t\t\t\t.intercept(\r\n\t\t\t\t\tMethodCall.invoke(getDefaultConstructor(MyEntityA.class))\r\n\t\t\t\t\t\t.andThen(FieldAccessor.ofField(&quot;_target&quot;).setsArgumentAt(0))\r\n\t\t\t\t)\r\n\t\t\t\t.method(ElementMatchers.nameStartsWith(&quot;getRaw&quot;)\r\n\t\t\t\t\t.or(ElementMatchers.nameStartsWith(&quot;setRaw&quot;)))\r\n\t\t\t\t\t.intercept(MethodDelegation.toField(&quot;_target&quot;))\r\n\t\t\t\t.make();\r\n\t\t\r\n\t\t// This is the strategy part shown in the Rafael blog\r\n\r\n\t\tClassLoadingStrategy&lt;ClassLoader&gt; strategy;\r\n\t\tif (ClassInjector.UsingLookup.isAvailable()) {\r\n\t\t\tClass&lt;?&gt; methodHandles = Class\r\n\t\t\t\t\t.forName(&quot;java.lang.invoke.MethodHandles&quot;);\r\n\t\t\tObject lookup = methodHandles.getMethod(&quot;lookup&quot;).invoke(null);\r\n\t\t\tMethod privateLookupIn = methodHandles.getMethod(&quot;privateLookupIn&quot;,\r\n\t\t\t\t\tClass.class,\r\n\t\t\t\t\tClass.forName(&quot;java.lang.invoke.MethodHandles$Lookup&quot;));\r\n\t\t\tObject privateLookup = privateLookupIn.invoke(null, MyEntityA.class,\r\n\t\t\t\t\tlookup);\r\n\t\t\tstrategy = ClassLoadingStrategy.UsingLookup.of(privateLookup);\r\n\t\t} else if (ClassInjector.UsingReflection.isAvailable()) {\r\n\t\t\tstrategy = ClassLoadingStrategy.Default.INJECTION;\r\n\t\t} else {\r\n\t\t\tthrow new IllegalStateException(\r\n\t\t\t\t\t&quot;No code generation strategy available&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tClass&lt;? extends MyEntityA&gt; proxyClass = unloadedClass\r\n\t\t\t.load(MyEntityA.class.getClassLoader(), strategy)\r\n\t\t\t.getLoaded();\r\n\t\t\r\n\t\treturn proxyClass;\r\n\t}\r\n\r\n\tprivate static Constructor&lt;?&gt; getDefaultConstructor(Class&lt;MyEntityA&gt; entityClass) {\r\n\t\t\r\n\t\tfor (Constructor&lt;?&gt; constructor : entityClass.getDeclaredConstructors()) {\r\n\t\t\tif (constructor.getParameterCount() == 0) {\r\n\t\t\t\treturn constructor;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthrow new IllegalStateException();\r\n\t}\r\n\t\r\n    public static void main( String[] args ) throws Exception\r\n    {\r\n    \tSystem.out.println(&quot;Java version: &quot; + System.getProperty(&quot;java.version&quot;));\r\n    \t\r\n    \tMyEntityB entityB = new MyEntityB(new MyEntityA(123));\r\n    \tentityB.hello();\r\n    \t\r\n    \tClass&lt;? extends MyEntityA&gt; proxyClass = creteProxyClass();\r\n    \tSystem.out.println(&quot;MyEntityA package : &quot; + MyEntityA.class.getPackage().getName());\r\n    \tSystem.out.println(&quot;Proxy package     : &quot; + proxyClass.getPackage().getName());\r\n\r\n    \tSystem.out.println(&quot;MyEntityA ClassLoader : &quot; + MyEntityA.class.getClassLoader());\r\n    \tSystem.out.println(&quot;Proxy ClassLoader     : &quot; + proxyClass.getClassLoader());\r\n\r\n    \tConstructor&lt;? extends MyEntityA&gt; proxyConstructor = proxyClass.getConstructor(new Class&lt;?&gt;[] { MyEntityA.class });\r\n    \tMyEntityA proxy = proxyConstructor.newInstance(new MyEntityA());\r\n    \tSystem.out.println(&quot;Proxy: &quot; + proxy);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: http://mydailyjava.blogspot.com/2018/04/jdk-11-and-proxies-in-world-past.html?m=1","title":"Creating a proxy with ByteBuddy that should call a protected method, I get: java.lang.VerifyError: Bad access to protected data in invokevirtual","body":"<p>Being sure the classloader is the same for both the original class and the proxy is not easy at is seems. In fact I found a way to force the same classloader in Java 8, but it did not work in Java 17.\nThen I found a wonderful 2018 article from the author of ByteBuddy <a href=\"http://mydailyjava.blogspot.com/2018/04/jdk-11-and-proxies-in-world-past.html?m=1\" rel=\"nofollow noreferrer\">JDK 11 and proxies in a world past sun.misc.Unsafe</a> where he shows the correct way to specify class loading strategy and now my example works for both Java 8 and Java 17.\nI copy here the new version of the App class example that shows that solution:</p>\n<pre><code>package it.mict.lab.bytebuddy;\n\nimport java.lang.reflect.Constructor;\nimport java.lang.reflect.Method;\n\nimport it.mict.lab.bytebuddy.entity.MyEntityA;\nimport it.mict.lab.bytebuddy.entity.MyEntityB;\nimport net.bytebuddy.ByteBuddy;\nimport net.bytebuddy.description.modifier.Visibility;\nimport net.bytebuddy.dynamic.DynamicType.Unloaded;\nimport net.bytebuddy.dynamic.loading.ClassInjector;\nimport net.bytebuddy.dynamic.loading.ClassLoadingStrategy;\nimport net.bytebuddy.implementation.FieldAccessor;\nimport net.bytebuddy.implementation.MethodCall;\nimport net.bytebuddy.implementation.MethodDelegation;\nimport net.bytebuddy.implementation.auxiliary.AuxiliaryType.NamingStrategy;\nimport net.bytebuddy.matcher.ElementMatchers;\n\npublic class App \n{\n    private static Class&lt;? extends MyEntityA&gt; creteProxyClass() throws Exception {\n\n        Unloaded&lt;MyEntityA&gt; unloadedClass = new ByteBuddy()\n                .with(new NamingStrategy.SuffixingRandom(&quot;MyProxy&quot;))\n                .subclass(MyEntityA.class)\n                .defineField(&quot;_target&quot;, MyEntityA.class, Visibility.PRIVATE)\n                .defineConstructor(Visibility.PUBLIC)\n                .withParameter(MyEntityA.class)\n                .intercept(\n                    MethodCall.invoke(getDefaultConstructor(MyEntityA.class))\n                        .andThen(FieldAccessor.ofField(&quot;_target&quot;).setsArgumentAt(0))\n                )\n                .method(ElementMatchers.nameStartsWith(&quot;getRaw&quot;)\n                    .or(ElementMatchers.nameStartsWith(&quot;setRaw&quot;)))\n                    .intercept(MethodDelegation.toField(&quot;_target&quot;))\n                .make();\n        \n        // This is the strategy part shown in the Rafael blog\n\n        ClassLoadingStrategy&lt;ClassLoader&gt; strategy;\n        if (ClassInjector.UsingLookup.isAvailable()) {\n            Class&lt;?&gt; methodHandles = Class\n                    .forName(&quot;java.lang.invoke.MethodHandles&quot;);\n            Object lookup = methodHandles.getMethod(&quot;lookup&quot;).invoke(null);\n            Method privateLookupIn = methodHandles.getMethod(&quot;privateLookupIn&quot;,\n                    Class.class,\n                    Class.forName(&quot;java.lang.invoke.MethodHandles$Lookup&quot;));\n            Object privateLookup = privateLookupIn.invoke(null, MyEntityA.class,\n                    lookup);\n            strategy = ClassLoadingStrategy.UsingLookup.of(privateLookup);\n        } else if (ClassInjector.UsingReflection.isAvailable()) {\n            strategy = ClassLoadingStrategy.Default.INJECTION;\n        } else {\n            throw new IllegalStateException(\n                    &quot;No code generation strategy available&quot;);\n        }\n        \n        Class&lt;? extends MyEntityA&gt; proxyClass = unloadedClass\n            .load(MyEntityA.class.getClassLoader(), strategy)\n            .getLoaded();\n        \n        return proxyClass;\n    }\n\n    private static Constructor&lt;?&gt; getDefaultConstructor(Class&lt;MyEntityA&gt; entityClass) {\n        \n        for (Constructor&lt;?&gt; constructor : entityClass.getDeclaredConstructors()) {\n            if (constructor.getParameterCount() == 0) {\n                return constructor;\n            }\n        }\n        \n        throw new IllegalStateException();\n    }\n    \n    public static void main( String[] args ) throws Exception\n    {\n        System.out.println(&quot;Java version: &quot; + System.getProperty(&quot;java.version&quot;));\n        \n        MyEntityB entityB = new MyEntityB(new MyEntityA(123));\n        entityB.hello();\n        \n        Class&lt;? extends MyEntityA&gt; proxyClass = creteProxyClass();\n        System.out.println(&quot;MyEntityA package : &quot; + MyEntityA.class.getPackage().getName());\n        System.out.println(&quot;Proxy package     : &quot; + proxyClass.getPackage().getName());\n\n        System.out.println(&quot;MyEntityA ClassLoader : &quot; + MyEntityA.class.getClassLoader());\n        System.out.println(&quot;Proxy ClassLoader     : &quot; + proxyClass.getClassLoader());\n\n        Constructor&lt;? extends MyEntityA&gt; proxyConstructor = proxyClass.getConstructor(new Class&lt;?&gt;[] { MyEntityA.class });\n        MyEntityA proxy = proxyConstructor.newInstance(new MyEntityA());\n        System.out.println(&quot;Proxy: &quot; + proxy);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26290875,"reputation":21,"user_id":19957919,"display_name":"Marco Dabbene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683888631,"creation_date":1683725837,"question_id":76219120,"body_markdown":"I&#39;m trying to create a proxy with ByteBuddy that can delegate calls of a protected method getRawId of a MyEntityA class to the same method of an object of the same class referenced in a target field.\r\n\r\n```\r\npackage it.mict.lab.bytebuddy.entity;\r\n\r\npublic class MyEntityA {\r\n\r\n\tprivate int id;\r\n\t\r\n\tpublic MyEntityA() {\r\n\t}\r\n\t\r\n\tpublic MyEntityA(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\t\r\n\tprotected int getRawId() {\r\n\t\treturn id;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe proxy should do something similar to this MyEntityB class:\r\n\r\n\r\n```\r\npackage it.mict.lab.bytebuddy.entity;\r\n\r\npublic class MyEntityB extends MyEntityA {\r\n\r\n\tprivate MyEntityA _target;\r\n\t\r\n\tpublic MyEntityB(MyEntityA _target) {\r\n\t\tthis._target = _target;\r\n\t}\r\n\t\r\n\tpublic void hello() {\r\n\t\tSystem.out.println(_target.getRawId());\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAnd this is an example of what I would achieve:\r\n\r\n```\r\npackage it.mict.lab.bytebuddy;\r\n\r\n\r\nimport java.lang.reflect.Constructor;\r\n\r\nimport it.mict.lab.bytebuddy.entity.MyEntityA;\r\nimport it.mict.lab.bytebuddy.entity.MyEntityB;\r\nimport net.bytebuddy.ByteBuddy;\r\nimport net.bytebuddy.description.modifier.Visibility;\r\nimport net.bytebuddy.dynamic.DynamicType.Unloaded;\r\nimport net.bytebuddy.implementation.FieldAccessor;\r\nimport net.bytebuddy.implementation.MethodCall;\r\nimport net.bytebuddy.implementation.MethodDelegation;\r\nimport net.bytebuddy.implementation.auxiliary.AuxiliaryType.NamingStrategy;\r\nimport net.bytebuddy.matcher.ElementMatchers;\r\n\r\npublic class App \r\n{\r\n\tprivate static Class&lt;? extends MyEntityA&gt; creteProxyClass() {\r\n\r\n\t\tUnloaded&lt;MyEntityA&gt; unloadedClass = new ByteBuddy()\r\n\t\t\t\t.with(new NamingStrategy.SuffixingRandom(&quot;MyProxy&quot;))\r\n\t\t\t\t.subclass(MyEntityA.class)\r\n\t\t\t\t.defineField(&quot;_target&quot;, MyEntityA.class, Visibility.PRIVATE)\r\n\t\t\t\t.defineConstructor(Visibility.PUBLIC)\r\n\t\t\t\t.withParameter(MyEntityA.class)\r\n\t\t\t\t.intercept(\r\n\t\t\t\t\tMethodCall.invoke(getDefaultConstructor(MyEntityA.class))\r\n\t\t\t\t\t\t.andThen(FieldAccessor.ofField(&quot;_target&quot;).setsArgumentAt(0))\r\n\t\t\t\t)\r\n\t\t\t\t.method(ElementMatchers.nameStartsWith(&quot;getRaw&quot;)\r\n\t\t\t\t\t.or(ElementMatchers.nameStartsWith(&quot;setRaw&quot;)))\r\n\t\t\t\t\t.intercept(MethodDelegation.toField(&quot;_target&quot;))\r\n\t\t\t\t.make();\r\n\t\t\r\n\t\tClass&lt;? extends MyEntityA&gt; proxyClass = unloadedClass\r\n\t\t\t.load(MyEntityA.class.getClassLoader())\r\n\t\t\t.getLoaded();\r\n\t\t\r\n\t\treturn proxyClass;\r\n\t}\r\n\r\n\tprivate static Constructor&lt;?&gt; getDefaultConstructor(Class&lt;MyEntityA&gt; entityClass) {\r\n\t\t\r\n\t\tfor (Constructor&lt;?&gt; constructor : entityClass.getDeclaredConstructors()) {\r\n\t\t\tif (constructor.getParameterCount() == 0) {\r\n\t\t\t\treturn constructor;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthrow new IllegalStateException();\r\n\t}\r\n\t\r\n    public static void main( String[] args ) throws Exception\r\n    {\r\n    \tMyEntityB entityB = new MyEntityB(new MyEntityA(123));\r\n    \tentityB.hello();\r\n    \t\r\n    \tClass&lt;? extends MyEntityA&gt; proxyClass = creteProxyClass();\r\n    \tSystem.out.println(&quot;MyEntityA package : &quot; + MyEntityA.class.getPackage().getName());\r\n    \tSystem.out.println(&quot;Proxy package     : &quot; + proxyClass.getPackage().getName());\r\n\r\n    \tConstructor&lt;? extends MyEntityA&gt; proxyConstructor = proxyClass.getConstructor(new Class&lt;?&gt;[] { MyEntityA.class });\r\n    \tMyEntityA proxy = proxyConstructor.newInstance(new MyEntityA());\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;m using:\r\n\r\nOpenJDK Runtime Environment (Temurin)(build 1.8.0_332-b09)\r\nOpenJDK 64-Bit Server VM (Temurin)(build 25.332-b09, mixed mode)\r\n\r\nand ByteBuddy version 1.14.4\r\n\r\nWhen I execute this App class, I expect no errors, while I get:\r\n\r\n\r\n```\r\n123\r\nMyEntityA package : it.mict.lab.bytebuddy.entity\r\nProxy package     : it.mict.lab.bytebuddy.entity\r\nException in thread &quot;main&quot; java.lang.VerifyError: Bad access to protected data in invokevirtual\r\nException Details:\r\n  Location:\r\n    it/mict/lab/bytebuddy/entity/MyEntityA$ByteBuddy$GZzebPWq.getRawId()I @4: invokevirtual\r\n  Reason:\r\n    Type &#39;it/mict/lab/bytebuddy/entity/MyEntityA&#39; (current frame, stack[0]) is not assignable to &#39;it/mict/lab/bytebuddy/entity/MyEntityA$ByteBuddy$GZzebPWq&#39;\r\n  Current Frame:\r\n    bci: @4\r\n    flags: { }\r\n    locals: { &#39;it/mict/lab/bytebuddy/entity/MyEntityA$ByteBuddy$GZzebPWq&#39; }\r\n    stack: { &#39;it/mict/lab/bytebuddy/entity/MyEntityA&#39; }\r\n  Bytecode:\r\n    0x0000000: 2ab4 000a b600 0cac                    \r\n\r\n\tat java.lang.Class.getDeclaredConstructors0(Native Method)\r\n\tat java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)\r\n\tat java.lang.Class.getConstructor0(Class.java:3075)\r\n\tat java.lang.Class.getConstructor(Class.java:1825)\r\n\tat it.mict.lab.bytebuddy.App.main(App.java:63)\r\n\r\n```\r\n\r\n123 is what is printed using the MyEntityB class, then the next two lines check that that MyEntityA class and the one created by ByteBuddy are in the same package, and then there is the exception encountered while creating the instance of the proxy.\r\n\r\nIf I change MyEntityA.getRawId() visibility from protected to public, everything works fine (but of course, I need it to be protected).","title":"Creating a proxy with ByteBuddy that should call a protected method, I get: java.lang.VerifyError: Bad access to protected data in invokevirtual","body":"<p>I'm trying to create a proxy with ByteBuddy that can delegate calls of a protected method getRawId of a MyEntityA class to the same method of an object of the same class referenced in a target field.</p>\n<pre><code>package it.mict.lab.bytebuddy.entity;\n\npublic class MyEntityA {\n\n    private int id;\n    \n    public MyEntityA() {\n    }\n    \n    public MyEntityA(int id) {\n        this.id = id;\n    }\n    \n    protected int getRawId() {\n        return id;\n    }\n}\n\n</code></pre>\n<p>The proxy should do something similar to this MyEntityB class:</p>\n<pre><code>package it.mict.lab.bytebuddy.entity;\n\npublic class MyEntityB extends MyEntityA {\n\n    private MyEntityA _target;\n    \n    public MyEntityB(MyEntityA _target) {\n        this._target = _target;\n    }\n    \n    public void hello() {\n        System.out.println(_target.getRawId());\n    }\n}\n\n</code></pre>\n<p>And this is an example of what I would achieve:</p>\n<pre><code>package it.mict.lab.bytebuddy;\n\n\nimport java.lang.reflect.Constructor;\n\nimport it.mict.lab.bytebuddy.entity.MyEntityA;\nimport it.mict.lab.bytebuddy.entity.MyEntityB;\nimport net.bytebuddy.ByteBuddy;\nimport net.bytebuddy.description.modifier.Visibility;\nimport net.bytebuddy.dynamic.DynamicType.Unloaded;\nimport net.bytebuddy.implementation.FieldAccessor;\nimport net.bytebuddy.implementation.MethodCall;\nimport net.bytebuddy.implementation.MethodDelegation;\nimport net.bytebuddy.implementation.auxiliary.AuxiliaryType.NamingStrategy;\nimport net.bytebuddy.matcher.ElementMatchers;\n\npublic class App \n{\n    private static Class&lt;? extends MyEntityA&gt; creteProxyClass() {\n\n        Unloaded&lt;MyEntityA&gt; unloadedClass = new ByteBuddy()\n                .with(new NamingStrategy.SuffixingRandom(&quot;MyProxy&quot;))\n                .subclass(MyEntityA.class)\n                .defineField(&quot;_target&quot;, MyEntityA.class, Visibility.PRIVATE)\n                .defineConstructor(Visibility.PUBLIC)\n                .withParameter(MyEntityA.class)\n                .intercept(\n                    MethodCall.invoke(getDefaultConstructor(MyEntityA.class))\n                        .andThen(FieldAccessor.ofField(&quot;_target&quot;).setsArgumentAt(0))\n                )\n                .method(ElementMatchers.nameStartsWith(&quot;getRaw&quot;)\n                    .or(ElementMatchers.nameStartsWith(&quot;setRaw&quot;)))\n                    .intercept(MethodDelegation.toField(&quot;_target&quot;))\n                .make();\n        \n        Class&lt;? extends MyEntityA&gt; proxyClass = unloadedClass\n            .load(MyEntityA.class.getClassLoader())\n            .getLoaded();\n        \n        return proxyClass;\n    }\n\n    private static Constructor&lt;?&gt; getDefaultConstructor(Class&lt;MyEntityA&gt; entityClass) {\n        \n        for (Constructor&lt;?&gt; constructor : entityClass.getDeclaredConstructors()) {\n            if (constructor.getParameterCount() == 0) {\n                return constructor;\n            }\n        }\n        \n        throw new IllegalStateException();\n    }\n    \n    public static void main( String[] args ) throws Exception\n    {\n        MyEntityB entityB = new MyEntityB(new MyEntityA(123));\n        entityB.hello();\n        \n        Class&lt;? extends MyEntityA&gt; proxyClass = creteProxyClass();\n        System.out.println(&quot;MyEntityA package : &quot; + MyEntityA.class.getPackage().getName());\n        System.out.println(&quot;Proxy package     : &quot; + proxyClass.getPackage().getName());\n\n        Constructor&lt;? extends MyEntityA&gt; proxyConstructor = proxyClass.getConstructor(new Class&lt;?&gt;[] { MyEntityA.class });\n        MyEntityA proxy = proxyConstructor.newInstance(new MyEntityA());\n    }\n}\n\n</code></pre>\n<p>I'm using:</p>\n<p>OpenJDK Runtime Environment (Temurin)(build 1.8.0_332-b09)\nOpenJDK 64-Bit Server VM (Temurin)(build 25.332-b09, mixed mode)</p>\n<p>and ByteBuddy version 1.14.4</p>\n<p>When I execute this App class, I expect no errors, while I get:</p>\n<pre><code>123\nMyEntityA package : it.mict.lab.bytebuddy.entity\nProxy package     : it.mict.lab.bytebuddy.entity\nException in thread &quot;main&quot; java.lang.VerifyError: Bad access to protected data in invokevirtual\nException Details:\n  Location:\n    it/mict/lab/bytebuddy/entity/MyEntityA$ByteBuddy$GZzebPWq.getRawId()I @4: invokevirtual\n  Reason:\n    Type 'it/mict/lab/bytebuddy/entity/MyEntityA' (current frame, stack[0]) is not assignable to 'it/mict/lab/bytebuddy/entity/MyEntityA$ByteBuddy$GZzebPWq'\n  Current Frame:\n    bci: @4\n    flags: { }\n    locals: { 'it/mict/lab/bytebuddy/entity/MyEntityA$ByteBuddy$GZzebPWq' }\n    stack: { 'it/mict/lab/bytebuddy/entity/MyEntityA' }\n  Bytecode:\n    0x0000000: 2ab4 000a b600 0cac                    \n\n    at java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)\n    at java.lang.Class.getConstructor0(Class.java:3075)\n    at java.lang.Class.getConstructor(Class.java:1825)\n    at it.mict.lab.bytebuddy.App.main(App.java:63)\n\n</code></pre>\n<p>123 is what is printed using the MyEntityB class, then the next two lines check that that MyEntityA class and the one created by ByteBuddy are in the same package, and then there is the exception encountered while creating the instance of the proxy.</p>\n<p>If I change MyEntityA.getRawId() visibility from protected to public, everything works fine (but of course, I need it to be protected).</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"score":0,"creation_date":1572944866,"post_id":58697625,"comment_id":103709909,"body_markdown":"after install [checkstyle](https://marketplace.visualstudio.com/items?itemName=shengchen.vscode-checkstyle),you should configurate some settings","body":"after install <a href=\"https://marketplace.visualstudio.com/items?itemName=shengchen.vscode-checkstyle\" rel=\"nofollow noreferrer\">checkstyle</a>,you should configurate some settings"},{"owner":{"account_id":17140,"reputation":58976,"user_id":38055,"accept_rate":77,"display_name":"Tomas Aschan"},"score":0,"creation_date":1575541463,"post_id":58697625,"comment_id":104604533,"body_markdown":"@Joe H did you get this working? I&#39;m looking though more or less the same resources, and although I do have a `google-java-format` on `PATH` that can (correctly) format a file, I haven&#39;t been able to make the `Format Document` action actually invoke that correctly.","body":"@Joe H did you get this working? I&#39;m looking though more or less the same resources, and although I do have a <code>google-java-format</code> on <code>PATH</code> that can (correctly) format a file, I haven&#39;t been able to make the <code>Format Document</code> action actually invoke that correctly."},{"owner":{"account_id":10775582,"reputation":1190,"user_id":7927748,"accept_rate":67,"display_name":"Torc"},"score":0,"creation_date":1575550582,"post_id":58697625,"comment_id":104609496,"body_markdown":"@TomasAschan not yet unfortunately. I have not been able to find a solid working example to follow, but I am suspecting that it has to do with conflicting formatting settings. Setting a format in Eclipse seems to be what pops up the most, but the steps recommended on github aren’t exactly clear to me / match with v2019.06","body":"@TomasAschan not yet unfortunately. I have not been able to find a solid working example to follow, but I am suspecting that it has to do with conflicting formatting settings. Setting a format in Eclipse seems to be what pops up the most, but the steps recommended on github aren’t exactly clear to me / match with v2019.06"}],"answers":[{"tags":[],"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572944922,"creation_date":1572944922,"answer_id":58707865,"question_id":58697625,"body_markdown":"try to configurate settings like:\r\n\r\n    &quot;java.configuration.updateBuildConfiguration&quot;: &quot;automatic&quot;,\r\n    &quot;checkstyle.enable&quot;: true,\r\n    &quot;checkstyle.configurationPath&quot;: &quot;config/checkstyle/checkstyle.xml&quot;,\r\n    &quot;checkstyle.checkstylePath&quot;: &quot;C:/dev/tools/checkstyle-8.8-all.jar&quot;","title":"Google Styleguide Java Format for VSCode","body":"<p>try to configurate settings like:</p>\n\n<pre><code>\"java.configuration.updateBuildConfiguration\": \"automatic\",\n\"checkstyle.enable\": true,\n\"checkstyle.configurationPath\": \"config/checkstyle/checkstyle.xml\",\n\"checkstyle.checkstylePath\": \"C:/dev/tools/checkstyle-8.8-all.jar\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":151696,"reputation":26829,"user_id":365738,"accept_rate":98,"display_name":"sethvargo"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1578923528,"creation_date":1578923528,"answer_id":59718005,"question_id":58697625,"body_markdown":"I spent some time working on this same problem yesterday. The best and most reliable solution I was able to come up with was to install `google-java-format` into my path and then use the RunOnSave extension to invoke the binary for files with the `.java` extension. \r\n\r\nInstall emeraldwalk/vscode-runonsave:\r\n\r\n```\r\n$ code --install-extension emeraldwalk.RunOnSave\r\n```\r\n\r\nInstall google-java-format for your system:\r\n\r\n```\r\n# Example using Homebrew on OS X\r\n$ brew install google-java-format\r\n```\r\n\r\nConfigure RunOnSave in Visual Studio Code settings:\r\n\r\n```\r\n{\r\n  &quot;emeraldwalk.runonsave&quot;: {\r\n    &quot;commands&quot;: [\r\n      {\r\n        &quot;match&quot;: &quot;\\\\.java$&quot;,\r\n        &quot;cmd&quot;: &quot;google-java-format --replace ${file}&quot;\r\n      },\r\n    ],\r\n  },\r\n}\r\n```\r\n\r\nI describe more of the methodology in [this blog post](https://www.sethvargo.com/using-google-java-format-with-vs-code/). ","title":"Google Styleguide Java Format for VSCode","body":"<p>I spent some time working on this same problem yesterday. The best and most reliable solution I was able to come up with was to install <code>google-java-format</code> into my path and then use the RunOnSave extension to invoke the binary for files with the <code>.java</code> extension. </p>\n\n<p>Install emeraldwalk/vscode-runonsave:</p>\n\n<pre><code>$ code --install-extension emeraldwalk.RunOnSave\n</code></pre>\n\n<p>Install google-java-format for your system:</p>\n\n<pre><code># Example using Homebrew on OS X\n$ brew install google-java-format\n</code></pre>\n\n<p>Configure RunOnSave in Visual Studio Code settings:</p>\n\n<pre><code>{\n  \"emeraldwalk.runonsave\": {\n    \"commands\": [\n      {\n        \"match\": \"\\\\.java$\",\n        \"cmd\": \"google-java-format --replace ${file}\"\n      },\n    ],\n  },\n}\n</code></pre>\n\n<p>I describe more of the methodology in <a href=\"https://www.sethvargo.com/using-google-java-format-with-vs-code/\" rel=\"noreferrer\">this blog post</a>. </p>\n"},{"comments":[{"owner":{"account_id":1235227,"reputation":2578,"user_id":1198938,"accept_rate":85,"display_name":"Undrium"},"score":0,"creation_date":1657189353,"post_id":68195119,"comment_id":128753692,"body_markdown":"This is a great solution for Windows-users, the xmls to refer to in the more official docs are over 5 years old and does not follow the more recent changes.","body":"This is a great solution for Windows-users, the xmls to refer to in the more official docs are over 5 years old and does not follow the more recent changes."}],"tags":[],"owner":{"account_id":8646680,"reputation":41,"user_id":6473677,"display_name":"Андрей Ефимов"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625096692,"creation_date":1625057401,"answer_id":68195119,"question_id":58697625,"body_markdown":"[google-java-format][1] requires Java 16.0.1 SDK. You have to install it first.\r\n\r\nThere is an extension [ilkka.google-java-format][2] on the Visual Studio Code marketplace, but it is incompatible with current version.\r\n\r\nI have to change it this way:\r\n\r\n 1. Open file : `C:\\Documents and Settings\\&lt;USERNAME&gt;\\.vscode\\extensions\\ilkka.google-java-format-1.0.2\\out\\extension.js`\r\n 2. Update function **provideDocumentRangeFormattingEdits** this way:\r\n\r\n        return new Promise((resolve, reject) =&gt; {\r\n            let stdout = &quot;&quot;;\r\n            let stderr = &quot;&quot;;\r\n            let child = cp.spawn(&quot;java.exe&quot;,\r\n                [\r\n                    &quot;--add-exports&quot;, &quot;jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED&quot;,\r\n                    &quot;--add-exports&quot;, &quot;jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&quot;,\r\n                    &quot;--add-exports&quot;, &quot;jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&quot;,\r\n                    &quot;--add-exports&quot;, &quot;jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&quot;,\r\n                    &quot;--add-exports&quot;, &quot;jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&quot;,\r\n                    &quot;-jar&quot;,\r\n                    executablePath,\r\n                    &quot;--lines&quot;,\r\n                    `${range.start.line}:${range.end.line}`,\r\n                    &quot;-&quot;,\r\n                ]);\r\n\r\n 3. In _Settings -&gt; Preferences_ set executablePath to path to jar archive (**google-java-format-1.10.0-all-deps.jar**) \r\n\r\nEnjoy\r\n\r\n  [1]: https://github.com/google/google-java-format\r\n  [2]: https://marketplace.visualstudio.com/items?itemName=ilkka.google-java-format","title":"Google Styleguide Java Format for VSCode","body":"<p><a href=\"https://github.com/google/google-java-format\" rel=\"nofollow noreferrer\">google-java-format</a> requires Java 16.0.1 SDK. You have to install it first.</p>\n<p>There is an extension <a href=\"https://marketplace.visualstudio.com/items?itemName=ilkka.google-java-format\" rel=\"nofollow noreferrer\">ilkka.google-java-format</a> on the Visual Studio Code marketplace, but it is incompatible with current version.</p>\n<p>I have to change it this way:</p>\n<ol>\n<li><p>Open file : <code>C:\\Documents and Settings\\&lt;USERNAME&gt;\\.vscode\\extensions\\ilkka.google-java-format-1.0.2\\out\\extension.js</code></p>\n</li>\n<li><p>Update function <strong>provideDocumentRangeFormattingEdits</strong> this way:</p>\n<pre><code>return new Promise((resolve, reject) =&gt; {\n    let stdout = &quot;&quot;;\n    let stderr = &quot;&quot;;\n    let child = cp.spawn(&quot;java.exe&quot;,\n        [\n            &quot;--add-exports&quot;, &quot;jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED&quot;,\n            &quot;--add-exports&quot;, &quot;jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&quot;,\n            &quot;--add-exports&quot;, &quot;jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&quot;,\n            &quot;--add-exports&quot;, &quot;jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&quot;,\n            &quot;--add-exports&quot;, &quot;jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&quot;,\n            &quot;-jar&quot;,\n            executablePath,\n            &quot;--lines&quot;,\n            `${range.start.line}:${range.end.line}`,\n            &quot;-&quot;,\n        ]);\n</code></pre>\n</li>\n<li><p>In <em>Settings -&gt; Preferences</em> set executablePath to path to jar archive (<strong>google-java-format-1.10.0-all-deps.jar</strong>)</p>\n</li>\n</ol>\n<p>Enjoy</p>\n"},{"tags":[],"owner":{"account_id":1439570,"reputation":614,"user_id":2730667,"display_name":"Frederik Claus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676900938,"creation_date":1676900938,"answer_id":75510069,"question_id":58697625,"body_markdown":"I downloaded the `all-deps` JAR from the [releases page](https://github.com/google/google-java-format/releases) of the google/google-java-format repo and used the [External formatters](https://marketplace.visualstudio.com/items?itemName=SteefH.external-formatters) plugin with the following configuration:\r\n\r\n```json\r\n\t\t&quot;externalFormatters.languages&quot;: {\r\n\t\t\t&quot;java&quot;: {\r\n\t\t\t\t&quot;command&quot;: &quot;java&quot;,\r\n\t\t\t\t&quot;arguments&quot;: [\r\n\t\t\t\t\t&quot;-jar&quot;,\r\n\t\t\t\t\t&quot;&lt;path&gt;/google-java-format-1.15.0-all-deps.jar&quot;,\r\n\t\t\t\t\t&quot;-&quot;\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\t&quot;[java]&quot;: {\r\n\t\t\t&quot;editor.formatOnSave&quot;: true,\r\n\t\t\t&quot;editor.defaultFormatter&quot;: &quot;SteefH.external-formatters&quot;\r\n\t\t},","title":"Google Styleguide Java Format for VSCode","body":"<p>I downloaded the <code>all-deps</code> JAR from the <a href=\"https://github.com/google/google-java-format/releases\" rel=\"nofollow noreferrer\">releases page</a> of the google/google-java-format repo and used the <a href=\"https://marketplace.visualstudio.com/items?itemName=SteefH.external-formatters\" rel=\"nofollow noreferrer\">External formatters</a> plugin with the following configuration:</p>\n<pre class=\"lang-json prettyprint-override\"><code>        &quot;externalFormatters.languages&quot;: {\n            &quot;java&quot;: {\n                &quot;command&quot;: &quot;java&quot;,\n                &quot;arguments&quot;: [\n                    &quot;-jar&quot;,\n                    &quot;&lt;path&gt;/google-java-format-1.15.0-all-deps.jar&quot;,\n                    &quot;-&quot;\n                ]\n            }\n        },\n        &quot;[java]&quot;: {\n            &quot;editor.formatOnSave&quot;: true,\n            &quot;editor.defaultFormatter&quot;: &quot;SteefH.external-formatters&quot;\n        },\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15027133,"reputation":1075,"user_id":10846570,"display_name":"Vittore Marcas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683888477,"creation_date":1683888477,"answer_id":76235534,"question_id":58697625,"body_markdown":"To Config &quot;`Google Java Style`&quot; as the default format of Java Program on `VSCode`, please:\r\n\r\n1.Install &quot;`Extension Pack for Java`&quot;. \r\n\r\ne.g: I revert &quot;`Extension Pack for Java`&quot; to &quot;`Version v0.9.1`&quot; for my &quot;`Java 1.8`&quot;, and revert &quot;`Language Support for Java(TM) by Red Hat`&quot; to &quot;`v0.64.1`&quot; for &quot;`Java1.8`&quot;.\r\n\r\nYou need to make sure that compiling, running and debugging are successful before enter &quot;`Next Step`&quot;.\r\n\r\n2.Set the default formatter of `Java` into &quot;`RedHatJavaStyle`&quot;.\r\n\r\nUsing hotKeyMap to open the `Settings` of `VSCode`, e.g: `Cmd` + `,` in macOS, or just click the logo of `VSCode` &quot;`Code`&quot; button and choose &quot;`Preference`&quot; menu and then click &quot;`Setting`&quot;,\r\n\r\nType &quot;`javahome`&quot; in the &quot;`Search settings`&quot; space, then click &quot;`Edit in settings.json`&quot;, input the below code into your &quot;`settings.json`&quot;, e.g: macOS&#39;s &quot;`settings.json`&quot; is under &quot;`/Users/user_name/Library/Application Support/Code/User/settings.json`&quot;.\r\n\r\n    &quot;java.format.settings.url&quot;: &quot;https://raw.githubusercontent.com/google/styleguide/gh-pages/intellij-java-google-style.xml&quot;,\r\n    &quot;java.format.settings.profile&quot;: &quot;GoogleStyle&quot;,\r\n    &quot;java.format.settings.imports.onDemand&quot;: false,\r\n    &quot;java.format.settings.imports.regexp&quot;: &quot;^[a-z.]*&quot;,\r\n    &quot;[java]&quot;: {\r\n        &quot;editor.formatOnSave&quot;: true,\r\n        &quot;editor.defaultFormatter&quot;: &quot;redhat.java&quot;,\r\n        &quot;editor.tabSize&quot;: 2\r\n    }\r\n\r\nThen restart the &quot;`VSCode`&quot;, and then reopen, Using &quot;`shift`&quot; + &quot;`alt/option`&quot; + &quot;`f`&quot; to automatic the format style of Java Program into &quot;`Google Java Style`&quot;.\r\n\r\nEND!","title":"Google Styleguide Java Format for VSCode","body":"<p>To Config &quot;<code>Google Java Style</code>&quot; as the default format of Java Program on <code>VSCode</code>, please:</p>\n<p>1.Install &quot;<code>Extension Pack for Java</code>&quot;.</p>\n<p>e.g: I revert &quot;<code>Extension Pack for Java</code>&quot; to &quot;<code>Version v0.9.1</code>&quot; for my &quot;<code>Java 1.8</code>&quot;, and revert &quot;<code>Language Support for Java(TM) by Red Hat</code>&quot; to &quot;<code>v0.64.1</code>&quot; for &quot;<code>Java1.8</code>&quot;.</p>\n<p>You need to make sure that compiling, running and debugging are successful before enter &quot;<code>Next Step</code>&quot;.</p>\n<p>2.Set the default formatter of <code>Java</code> into &quot;<code>RedHatJavaStyle</code>&quot;.</p>\n<p>Using hotKeyMap to open the <code>Settings</code> of <code>VSCode</code>, e.g: <code>Cmd</code> + <code>,</code> in macOS, or just click the logo of <code>VSCode</code> &quot;<code>Code</code>&quot; button and choose &quot;<code>Preference</code>&quot; menu and then click &quot;<code>Setting</code>&quot;,</p>\n<p>Type &quot;<code>javahome</code>&quot; in the &quot;<code>Search settings</code>&quot; space, then click &quot;<code>Edit in settings.json</code>&quot;, input the below code into your &quot;<code>settings.json</code>&quot;, e.g: macOS's &quot;<code>settings.json</code>&quot; is under &quot;<code>/Users/user_name/Library/Application Support/Code/User/settings.json</code>&quot;.</p>\n<pre><code>&quot;java.format.settings.url&quot;: &quot;https://raw.githubusercontent.com/google/styleguide/gh-pages/intellij-java-google-style.xml&quot;,\n&quot;java.format.settings.profile&quot;: &quot;GoogleStyle&quot;,\n&quot;java.format.settings.imports.onDemand&quot;: false,\n&quot;java.format.settings.imports.regexp&quot;: &quot;^[a-z.]*&quot;,\n&quot;[java]&quot;: {\n    &quot;editor.formatOnSave&quot;: true,\n    &quot;editor.defaultFormatter&quot;: &quot;redhat.java&quot;,\n    &quot;editor.tabSize&quot;: 2\n}\n</code></pre>\n<p>Then restart the &quot;<code>VSCode</code>&quot;, and then reopen, Using &quot;<code>shift</code>&quot; + &quot;<code>alt/option</code>&quot; + &quot;<code>f</code>&quot; to automatic the format style of Java Program into &quot;<code>Google Java Style</code>&quot;.</p>\n<p>END!</p>\n"}],"owner":{"account_id":10775582,"reputation":1190,"user_id":7927748,"accept_rate":67,"display_name":"Torc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13772,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":59718005,"answer_count":5,"score":6,"last_activity_date":1683888477,"creation_date":1572885528,"question_id":58697625,"body_markdown":"Is there a good extension or proven methodology to automatically format Java code in VSCode to adhere to Google&#39;s Java Styleguide? Nothing from the list of links below seems to work for my set-up. I get a soft-fail and nothing changes about formatting. \r\n```\r\nVersion: 1.39.2 (user setup)\r\nCommit: 6ab598523be7a800d7f3eb4d92d7ab9a66069390\r\nDate: 2019-10-15T15:35:18.241Z\r\nElectron: 4.2.10\r\nChrome: 69.0.3497.128\r\nNode.js: 10.11.0\r\nV8: 6.9.427.31-electron.0\r\nOS: Windows_NT x64 10.0.16299\r\n```\r\n[google-java-format](https://github.com/google/google-java-format)  \r\n[GitHub - Formatting VSCode : 419](https://github.com/redhat-developer/vscode-java/issues/419)  \r\n[GitHub - Formatting VSCode : 450](https://github.com/redhat-developer/vscode-java/issues/450)  \r\n[GitHub - Formatting VSCode : 663](https://github.com/redhat-developer/vscode-java/issues/663)  \r\n[Formatter Settings](https://github.com/redhat-developer/vscode-java/wiki/Formatter-settings)  \r\n[Eclipse Java Google Style XML](https://raw.githubusercontent.com/google/styleguide/gh-pages/eclipse-java-google-style.xml)  \r\n[VS Java Editing - Main Page](https://code.visualstudio.com/docs/java/java-editing#_formatting)  \r\n[VSCode Extension - Checkstyle](https://marketplace.visualstudio.com/items?itemName=shengchen.vscode-checkstyle)","title":"Google Styleguide Java Format for VSCode","body":"<p>Is there a good extension or proven methodology to automatically format Java code in VSCode to adhere to Google's Java Styleguide? Nothing from the list of links below seems to work for my set-up. I get a soft-fail and nothing changes about formatting. </p>\n\n<pre><code>Version: 1.39.2 (user setup)\nCommit: 6ab598523be7a800d7f3eb4d92d7ab9a66069390\nDate: 2019-10-15T15:35:18.241Z\nElectron: 4.2.10\nChrome: 69.0.3497.128\nNode.js: 10.11.0\nV8: 6.9.427.31-electron.0\nOS: Windows_NT x64 10.0.16299\n</code></pre>\n\n<p><a href=\"https://github.com/google/google-java-format\" rel=\"noreferrer\">google-java-format</a><br>\n<a href=\"https://github.com/redhat-developer/vscode-java/issues/419\" rel=\"noreferrer\">GitHub - Formatting VSCode : 419</a><br>\n<a href=\"https://github.com/redhat-developer/vscode-java/issues/450\" rel=\"noreferrer\">GitHub - Formatting VSCode : 450</a><br>\n<a href=\"https://github.com/redhat-developer/vscode-java/issues/663\" rel=\"noreferrer\">GitHub - Formatting VSCode : 663</a><br>\n<a href=\"https://github.com/redhat-developer/vscode-java/wiki/Formatter-settings\" rel=\"noreferrer\">Formatter Settings</a><br>\n<a href=\"https://raw.githubusercontent.com/google/styleguide/gh-pages/eclipse-java-google-style.xml\" rel=\"noreferrer\">Eclipse Java Google Style XML</a><br>\n<a href=\"https://code.visualstudio.com/docs/java/java-editing#_formatting\" rel=\"noreferrer\">VS Java Editing - Main Page</a><br>\n<a href=\"https://marketplace.visualstudio.com/items?itemName=shengchen.vscode-checkstyle\" rel=\"noreferrer\">VSCode Extension - Checkstyle</a></p>\n"},{"tags":["java","redis"],"answers":[{"tags":[],"owner":{"account_id":1806113,"reputation":625,"user_id":1643179,"display_name":"gebi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683888475,"creation_date":1683888475,"answer_id":76235533,"question_id":70013909,"body_markdown":"From the [official redis download page](https://redis.io/download/) you can download executables for macOS x64, macOS arm64, Linux x64 and Linux arm64.\r\n\r\nFor other architectures, there are no _official_ builds, but you can still find some inofficial builds. They are usually not up-to-date with the latest redis release though. E.g. [github.com/signalapp/embedded-redis](https://github.com/signalapp/embedded-redis/tree/2aee2439c3314dba5d03a09dda1897d891f774b3/src/main/resources) contains a redis build for Linux x86. And [github.com/tporadowski/redis](https://github.com/tporadowski/redis) is a Windows port of redis.\r\n\r\n---------------\r\n\r\nBy the way, [github.com/ozimov/embedded-redis](https://github.com/ozimov/embedded-redis) has not been updated since 2020. But there are more up-to-date forks of this library. Especially [github.com/codemonstur/embedded-redis](https://github.com/codemonstur/embedded-redis) contains relatively new redis binaries for all mentioned architectures.","title":"embedded-redis providing own executables","body":"<p>From the <a href=\"https://redis.io/download/\" rel=\"nofollow noreferrer\">official redis download page</a> you can download executables for macOS x64, macOS arm64, Linux x64 and Linux arm64.</p>\n<p>For other architectures, there are no <em>official</em> builds, but you can still find some inofficial builds. They are usually not up-to-date with the latest redis release though. E.g. <a href=\"https://github.com/signalapp/embedded-redis/tree/2aee2439c3314dba5d03a09dda1897d891f774b3/src/main/resources\" rel=\"nofollow noreferrer\">github.com/signalapp/embedded-redis</a> contains a redis build for Linux x86. And <a href=\"https://github.com/tporadowski/redis\" rel=\"nofollow noreferrer\">github.com/tporadowski/redis</a> is a Windows port of redis.</p>\n<hr />\n<p>By the way, <a href=\"https://github.com/ozimov/embedded-redis\" rel=\"nofollow noreferrer\">github.com/ozimov/embedded-redis</a> has not been updated since 2020. But there are more up-to-date forks of this library. Especially <a href=\"https://github.com/codemonstur/embedded-redis\" rel=\"nofollow noreferrer\">github.com/codemonstur/embedded-redis</a> contains relatively new redis binaries for all mentioned architectures.</p>\n"}],"owner":{"account_id":4058395,"reputation":863,"user_id":3335579,"accept_rate":44,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683888475,"creation_date":1637202961,"question_id":70013909,"body_markdown":"I need to use the latest version of Redis, using the library https://github.com/ozimov/embedded-redis. I can provide my own executable but is there a place where I can download executables for different architectures. I have a mac when I run make after downloading Redis it builds a mac version only and not the unix version. ","title":"embedded-redis providing own executables","body":"<p>I need to use the latest version of Redis, using the library <a href=\"https://github.com/ozimov/embedded-redis\" rel=\"nofollow noreferrer\">https://github.com/ozimov/embedded-redis</a>. I can provide my own executable but is there a place where I can download executables for different architectures. I have a mac when I run make after downloading Redis it builds a mac version only and not the unix version.</p>\n"},{"tags":["java","itext"],"answers":[{"comments":[{"owner":{"account_id":86417,"reputation":38255,"user_id":240337,"accept_rate":78,"display_name":"Thang Pham"},"score":0,"creation_date":1303342346,"post_id":5736880,"comment_id":6564377,"body_markdown":"Stefan actually put up the link with the exact content. So I will accept his answer. +1","body":"Stefan actually put up the link with the exact content. So I will accept his answer. +1"},{"owner":{"account_id":19050,"reputation":29594,"user_id":44286,"accept_rate":77,"display_name":"Omnipresent"},"score":3,"creation_date":1371754787,"post_id":5736880,"comment_id":24949062,"body_markdown":"Is there a way to do this in the memory so that actual files aren&#39;t made? I would like to loop over all pages and send each one to a OCR for reading text.","body":"Is there a way to do this in the memory so that actual files aren&#39;t made? I would like to loop over all pages and send each one to a OCR for reading text."},{"owner":{"account_id":34170,"reputation":5366,"user_id":96313,"accept_rate":40,"display_name":"Viktor Brešan"},"score":0,"creation_date":1483644767,"post_id":5736880,"comment_id":70192380,"body_markdown":"@Omnipresent Yes, there is. Use ByteArrayOutputStream instead of FileOutputStream in PdfCopy constructor.","body":"@Omnipresent Yes, there is. Use ByteArrayOutputStream instead of FileOutputStream in PdfCopy constructor."}],"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1683165348,"creation_date":1303335028,"answer_id":5736880,"question_id":5736675,"body_markdown":"\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import com.lowagie.text.Document;\r\n    import com.lowagie.text.pdf.PdfCopy;\r\n    import com.lowagie.text.pdf.PdfImportedPage;\r\n    import com.lowagie.text.pdf.PdfReader;\r\n    \r\n    public class SplitPDFFile {\r\n    \r\n        /**\r\n         * @param args\r\n         */\r\n        public static void main(String[] args) {\r\n    \r\n            try {\r\n                String inFile = args[0].toLowerCase();\r\n                System.out.println (&quot;Reading &quot; + inFile);\r\n                PdfReader reader = new PdfReader(inFile);\r\n                int n = reader.getNumberOfPages();\r\n                System.out.println (&quot;Number of pages : &quot; + n);\r\n                int i = 0;            \r\n                while ( i &lt; n ) {\r\n                    String outFile = inFile.substring(0, inFile.indexOf(&quot;.pdf&quot;)) \r\n                        + &quot;-&quot; + String.format(&quot;%03d&quot;, i + 1) + &quot;.pdf&quot;; \r\n                    System.out.println (&quot;Writing &quot; + outFile);\r\n                    Document document = new Document(reader.getPageSizeWithRotation(1));\r\n                    PdfCopy writer = new PdfCopy(document, new FileOutputStream(outFile));\r\n                    document.open();\r\n                    PdfImportedPage page = writer.getImportedPage(reader, ++i);\r\n                    writer.addPage(page);\r\n                    document.close();\r\n                    writer.close();\r\n                }\r\n            } \r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n            /* example : \r\n                java SplitPDFFile d:\\temp\\x\\tx.pdf\r\n                \r\n                Reading d:\\temp\\x\\tx.pdf\r\n                Number of pages : 3\r\n                Writing d:\\temp\\x\\tx-001.pdf\r\n                Writing d:\\temp\\x\\tx-002.pdf\r\n                Writing d:\\temp\\x\\tx-003.pdf\r\n             */\r\n            \r\n        }\r\n    }","title":"iText: split a PDF into several PDF (1 per page)","body":"<pre><code>import java.io.FileOutputStream;\n\nimport com.lowagie.text.Document;\nimport com.lowagie.text.pdf.PdfCopy;\nimport com.lowagie.text.pdf.PdfImportedPage;\nimport com.lowagie.text.pdf.PdfReader;\n\npublic class SplitPDFFile {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n\n        try {\n            String inFile = args[0].toLowerCase();\n            System.out.println (&quot;Reading &quot; + inFile);\n            PdfReader reader = new PdfReader(inFile);\n            int n = reader.getNumberOfPages();\n            System.out.println (&quot;Number of pages : &quot; + n);\n            int i = 0;            \n            while ( i &lt; n ) {\n                String outFile = inFile.substring(0, inFile.indexOf(&quot;.pdf&quot;)) \n                    + &quot;-&quot; + String.format(&quot;%03d&quot;, i + 1) + &quot;.pdf&quot;; \n                System.out.println (&quot;Writing &quot; + outFile);\n                Document document = new Document(reader.getPageSizeWithRotation(1));\n                PdfCopy writer = new PdfCopy(document, new FileOutputStream(outFile));\n                document.open();\n                PdfImportedPage page = writer.getImportedPage(reader, ++i);\n                writer.addPage(page);\n                document.close();\n                writer.close();\n            }\n        } \n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        /* example : \n            java SplitPDFFile d:\\temp\\x\\tx.pdf\n            \n            Reading d:\\temp\\x\\tx.pdf\n            Number of pages : 3\n            Writing d:\\temp\\x\\tx-001.pdf\n            Writing d:\\temp\\x\\tx-002.pdf\n            Writing d:\\temp\\x\\tx-003.pdf\n         */\n        \n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1525201066,"post_id":50115109,"comment_id":87262315,"body_markdown":"The question is about solutions using iText. If you really want to add a solution using a different pdf library, you should at least mention that. Furthermore, this answer essentially duplicates your other answer to this question.","body":"The question is about solutions using iText. If you really want to add a solution using a different pdf library, you should at least mention that. Furthermore, this answer essentially duplicates your other answer to this question."},{"owner":{"account_id":12688227,"reputation":65,"user_id":9219273,"display_name":"Bittu Choudhary"},"score":0,"creation_date":1525321958,"post_id":50115109,"comment_id":87312127,"body_markdown":"Yes I mentioned already if you want to look at . I had already mentioned that things can be implemented using PDDocument. I don&#39;t understand what you are trying to say. And about duplicate answer I tried to correct previous one.","body":"Yes I mentioned already if you want to look at . I had already mentioned that things can be implemented using PDDocument. I don&#39;t understand what you are trying to say. And about duplicate answer I tried to correct previous one."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1525323388,"post_id":50115109,"comment_id":87312551,"body_markdown":"*&quot;I had already mentioned that things can be implemented using PDDocument&quot;* - yes. But not everyone knows that that class is part of a different library, PDFBox, and search for that class in itext (as the questionis about itext).","body":"<i>&quot;I had already mentioned that things can be implemented using PDDocument&quot;</i> - yes. But not everyone knows that that class is part of a different library, PDFBox, and search for that class in itext (as the questionis about itext)."}],"tags":[],"owner":{"account_id":12688227,"reputation":65,"user_id":9219273,"display_name":"Bittu Choudhary"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525181723,"creation_date":1525171362,"answer_id":50115109,"question_id":5736675,"body_markdown":"With `PDDocument` you can do so very easily. \r\n\r\nYou just have to use a Java List of `PDDocumen`t type and `Splitter` function to split a document.\r\n\r\n    List&lt;PDDocument&gt; Pages=new ArrayList&lt;PDDocument&gt;();\r\n    PDDocument.load(filePath);\r\n    try {\r\n        Splitter splitter = new Splitter(); \r\n        Pages = splitter.split(document);\r\n    }\r\n    catch(Exception e) {\r\n        e.printStackTrace(); // print reason and line number where error exist\r\n    }","title":"iText: split a PDF into several PDF (1 per page)","body":"<p>With <code>PDDocument</code> you can do so very easily. </p>\n\n<p>You just have to use a Java List of <code>PDDocumen</code>t type and <code>Splitter</code> function to split a document.</p>\n\n<pre><code>List&lt;PDDocument&gt; Pages=new ArrayList&lt;PDDocument&gt;();\nPDDocument.load(filePath);\ntry {\n    Splitter splitter = new Splitter(); \n    Pages = splitter.split(document);\n}\ncatch(Exception e) {\n    e.printStackTrace(); // print reason and line number where error exist\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5932321,"reputation":46,"user_id":7968292,"display_name":"Jvo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565274340,"creation_date":1565274340,"answer_id":57414885,"question_id":5736675,"body_markdown":"I can&#39;t comment, but this line in the most voted answer\r\n \r\n    Document document = new Document(reader.getPageSizeWithRotation(1));\r\nshould be\r\n\r\n    Document document = new Document(reader.getPageSizeWithRotation(i+1));\r\nto get the correct pdf size if other pages have different page size (it know it&#39;s rare)","title":"iText: split a PDF into several PDF (1 per page)","body":"<p>I can't comment, but this line in the most voted answer</p>\n\n<pre><code>Document document = new Document(reader.getPageSizeWithRotation(1));\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>Document document = new Document(reader.getPageSizeWithRotation(i+1));\n</code></pre>\n\n<p>to get the correct pdf size if other pages have different page size (it know it's rare)</p>\n"},{"tags":[],"owner":{"account_id":3995853,"reputation":540,"user_id":3293436,"display_name":"MauroB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683887408,"creation_date":1683887408,"answer_id":76235397,"question_id":5736675,"body_markdown":"I created this method to work with byte[].\r\nIt receives a byte array (obtained from a file in the filesystem or a decoded base64 string) and produces a list of byte[] for other operations.\r\n\r\n    private static List&lt;byte[]&gt; splitPdf(final byte[] pdf) throws IOException, DocumentException {\r\n    \tfinal var pdfList = new ArrayList&lt;byte[]&gt;();\r\n    \tfinal var pdfReader = new PdfReader(pdf);\r\n    \tfinal var numberOfPages = pdfReader.getNumberOfPages();\r\n    \tfor (int currentPage = 1; currentPage &lt;= numberOfPages; currentPage++) {\r\n    \t\ttry (var byteArrayOutputStream = new ByteArrayOutputStream();) {\r\n    \t\t\tvar document = new Document(pdfReader.getPageSizeWithRotation(currentPage));\r\n    \t\t\tvar pdfCopy = new PdfCopy(document, byteArrayOutputStream);\r\n    \t\t\tdocument.open();\r\n    \t\t\tpdfCopy.addPage(pdfCopy.getImportedPage(pdfReader, currentPage));\r\n    \t\t\tdocument.close();\r\n    \t\t\tpdfCopy.close();\r\n    \t\t\tpdfList.add(byteArrayOutputStream.toByteArray());\r\n    \t\t}\r\n    \t}\r\n    \treturn pdfList;\r\n    }","title":"iText: split a PDF into several PDF (1 per page)","body":"<p>I created this method to work with byte[].\nIt receives a byte array (obtained from a file in the filesystem or a decoded base64 string) and produces a list of byte[] for other operations.</p>\n<pre><code>private static List&lt;byte[]&gt; splitPdf(final byte[] pdf) throws IOException, DocumentException {\n    final var pdfList = new ArrayList&lt;byte[]&gt;();\n    final var pdfReader = new PdfReader(pdf);\n    final var numberOfPages = pdfReader.getNumberOfPages();\n    for (int currentPage = 1; currentPage &lt;= numberOfPages; currentPage++) {\n        try (var byteArrayOutputStream = new ByteArrayOutputStream();) {\n            var document = new Document(pdfReader.getPageSizeWithRotation(currentPage));\n            var pdfCopy = new PdfCopy(document, byteArrayOutputStream);\n            document.open();\n            pdfCopy.addPage(pdfCopy.getImportedPage(pdfReader, currentPage));\n            document.close();\n            pdfCopy.close();\n            pdfList.add(byteArrayOutputStream.toByteArray());\n        }\n    }\n    return pdfList;\n}\n</code></pre>\n"}],"owner":{"account_id":86417,"reputation":38255,"user_id":240337,"accept_rate":78,"display_name":"Thang Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33211,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1683887408,"creation_date":1303333829,"question_id":5736675,"body_markdown":"What I want is that: given a 10-pages-pdf-file, I want to display each page of that pdf inside a table on the web. What is the best way to achieve this? I guess one way is to split this 10-pages-pdf-file into 10 1-pages pdf, and programmatically display each pdf onto a row of a table. Can I do this with iText? Is there a better way to accomplish this?","title":"iText: split a PDF into several PDF (1 per page)","body":"<p>What I want is that: given a 10-pages-pdf-file, I want to display each page of that pdf inside a table on the web. What is the best way to achieve this? I guess one way is to split this 10-pages-pdf-file into 10 1-pages pdf, and programmatically display each pdf onto a row of a table. Can I do this with iText? Is there a better way to accomplish this?</p>\n"},{"tags":["java","spring","spring-boot","scheduled-tasks","quartz-scheduler"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":0,"creation_date":1683889044,"post_id":76235375,"comment_id":134439116,"body_markdown":"There is nothing to wait in your `run` method because you execute your tasks in another threads, so `runJob` finishes immediately","body":"There is nothing to wait in your <code>run</code> method because you execute your tasks in another threads, so <code>runJob</code> finishes immediately"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1683889225,"post_id":76235375,"comment_id":134439155,"body_markdown":"perhaps you wanted to wait for completion instead of just calling [`shutdown`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdown()) in `runJob()`? &quot;This method does not wait for previously submitted tasks to complete execution. Use [`awaitTermination`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html#awaitTermination(long,java.util.concurrent.TimeUnit)) to do that.&quot;","body":"perhaps you wanted to wait for completion instead of just calling <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdown()\" rel=\"nofollow noreferrer\"><code>shutdown</code></a> in <code>runJob()</code>? &quot;This method does not wait for previously submitted tasks to complete execution. Use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html#awaitTermination(long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>awaitTermination</code></a> to do that.&quot;"}],"owner":{"account_id":6115119,"reputation":618,"user_id":4770397,"accept_rate":26,"display_name":"mayank bisht"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683887242,"creation_date":1683887242,"question_id":76235375,"body_markdown":"I am trying to run a scheduler &amp; process 2 records in parallel at a time.&lt;br/&gt;\r\n\r\n**Code:**\r\n\r\n````\r\n@Scheduled(fixedDelay = 3000)\r\npublic void run() {\r\n  System.out.println(&quot;Run&quot;);\r\n  runJob();\r\n}\r\n````\r\n\r\n````\r\npublic void runJob() {\r\n ForkJoinPool pool = new ForkJoinPool(2);\r\n List&lt;String&gt; list = Arrays.asList(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;);\r\n pool.submit(() -&gt; list.parallelStream().forEach(this::execute));\r\n\r\n pool.shutdown();\r\n}\r\n````\r\n\r\n**Issue:**\r\n&lt;br/&gt;\r\nThis issue is ``fixedDelay`` parameter is supposed to wait for the entire processing to be completed before scheduling next task, but in my case it&#39;s not waiting and keep on scheduling new tasks after every 3 seconds. &lt;br/&gt;\r\n\r\nMy requirement is to wait for the processing to complete before scheduling a new task.&lt;br/&gt;\r\nCould you please help?","title":"Use fixedDelay with @Scheduled parallelStream and ForkJoinPool","body":"<p>I am trying to run a scheduler &amp; process 2 records in parallel at a time.<br/></p>\n<p><strong>Code:</strong></p>\n<pre><code>@Scheduled(fixedDelay = 3000)\npublic void run() {\n  System.out.println(&quot;Run&quot;);\n  runJob();\n}\n</code></pre>\n<pre><code>public void runJob() {\n ForkJoinPool pool = new ForkJoinPool(2);\n List&lt;String&gt; list = Arrays.asList(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;);\n pool.submit(() -&gt; list.parallelStream().forEach(this::execute));\n\n pool.shutdown();\n}\n</code></pre>\n<p><strong>Issue:</strong>\n<br/>\nThis issue is <code>fixedDelay</code> parameter is supposed to wait for the entire processing to be completed before scheduling next task, but in my case it's not waiting and keep on scheduling new tasks after every 3 seconds. <br/></p>\n<p>My requirement is to wait for the processing to complete before scheduling a new task.<br/>\nCould you please help?</p>\n"},{"tags":["java","bitset","roaring-bitset"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1656426261,"post_id":72786976,"comment_id":128566143,"body_markdown":"The [api docs](https://www.javadoc.io/static/org.roaringbitmap/RoaringBitmap/0.9.30/org/roaringbitmap/RoaringBitmap.html#getLongSizeInBytes()) actually describe the memory footprint","body":"The <a href=\"https://www.javadoc.io/static/org.roaringbitmap/RoaringBitmap/0.9.30/org/roaringbitmap/RoaringBitmap.html#getLongSizeInBytes()\" rel=\"nofollow noreferrer\">api docs</a> actually describe the memory footprint"},{"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1656426950,"post_id":72786976,"comment_id":128566434,"body_markdown":"i did read that, but if you think about it, you can limit your worst case to bitset plus some metadata overhead. Why would we go so much above bitset is my question.","body":"i did read that, but if you think about it, you can limit your worst case to bitset plus some metadata overhead. Why would we go so much above bitset is my question."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1656429118,"post_id":72786976,"comment_id":128567452,"body_markdown":"Not sure what `add` is really doing. It *could* be doing something like a call to `StringBuilder.append`, whereby storage allocation is jumping by a factor other than one. There seems to be no `RoaringBitmap` which creates a bitmap for a finite number of bytes. As for the `String` thing, fyi the visualization of every bit of the `BitSet` gzips to 69 bytes for me","body":"Not sure what <code>add</code> is really doing. It <i>could</i> be doing something like a call to <code>StringBuilder.append</code>, whereby storage allocation is jumping by a factor other than one. There seems to be no <code>RoaringBitmap</code> which creates a bitmap for a finite number of bytes. As for the <code>String</code> thing, fyi the visualization of every bit of the <code>BitSet</code> gzips to 69 bytes for me"}],"answers":[{"comments":[{"owner":{"account_id":1260426,"reputation":851,"user_id":1238896,"accept_rate":18,"display_name":"user179156"},"score":0,"creation_date":1663665332,"post_id":72789586,"comment_id":130287786,"body_markdown":"This is expected . Once you have enough density of data the roaring bitmap fallsback to bitmap and so your overall memory usage would only be marginally larger than bitmap.","body":"This is expected . Once you have enough density of data the roaring bitmap fallsback to bitmap and so your overall memory usage would only be marginally larger than bitmap."}],"tags":[],"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656483726,"creation_date":1656431319,"answer_id":72789586,"question_id":72786976,"body_markdown":"this seems to be the case when number of entries are small, But as we increase the number of entries, the different becomes less visible. Although it is not confirmed by the lib author ( i asked [here][1] and followed up [here][2])\r\n\r\n\r\n| prob |  number of entries | bitset bits | RoaringBitmap bits | saving % |\r\n|---------------------|------------------| -- | -- | - | \r\n| 0.001 |50000| 50048 | 928 | 98 |\r\n| 0.01 | 50000|50048 | 7744 | 84|\r\n| 0.1 | 50000|50048 | 65616 | -31|\r\n| 0.999 |50000| 50048 | 65616 &lt;- NOTE it does not increase| -31|\r\n| 0.001 |500000| 500032 | 8704 |98|\r\n| 0.01 | 500000|500032 | 80720 |83|\r\n| 0.1 | 500000|500032 | 524480 |-4|\r\n| 0.999 |500000| 500032 | 524480 &lt;- NOTE it does not increase|-4|\r\n| 0.001 |50000000| 50000000 | 835232 |98|\r\n| 0.01 | 50000000|50000000 | 8036368 |83|\r\n| 0.1 | 50000000|50000000 | 50016240 |-0.03|\r\n| 0.999 |50000000| 50000000 | 50016240 &lt;- NOTE it does not increase| -0.03|\r\n\r\nlooking at this it seems like as number of entries grows they might be using bitmap only behind the scene. The take away is that don&#39;t blindly use the library, test for your use case.\r\n\r\n\r\n  [1]: https://github.com/RoaringBitmap/RoaringBitmap/issues/566\r\n  [2]: https://github.com/RoaringBitmap/RoaringBitmap/pull/567","title":"Roaring bitmap using more storage than normal bitset","body":"<p>this seems to be the case when number of entries are small, But as we increase the number of entries, the different becomes less visible. Although it is not confirmed by the lib author ( i asked <a href=\"https://github.com/RoaringBitmap/RoaringBitmap/issues/566\" rel=\"nofollow noreferrer\">here</a> and followed up <a href=\"https://github.com/RoaringBitmap/RoaringBitmap/pull/567\" rel=\"nofollow noreferrer\">here</a>)</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>prob</th>\n<th>number of entries</th>\n<th>bitset bits</th>\n<th>RoaringBitmap bits</th>\n<th>saving %</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0.001</td>\n<td>50000</td>\n<td>50048</td>\n<td>928</td>\n<td>98</td>\n</tr>\n<tr>\n<td>0.01</td>\n<td>50000</td>\n<td>50048</td>\n<td>7744</td>\n<td>84</td>\n</tr>\n<tr>\n<td>0.1</td>\n<td>50000</td>\n<td>50048</td>\n<td>65616</td>\n<td>-31</td>\n</tr>\n<tr>\n<td>0.999</td>\n<td>50000</td>\n<td>50048</td>\n<td>65616 &lt;- NOTE it does not increase</td>\n<td>-31</td>\n</tr>\n<tr>\n<td>0.001</td>\n<td>500000</td>\n<td>500032</td>\n<td>8704</td>\n<td>98</td>\n</tr>\n<tr>\n<td>0.01</td>\n<td>500000</td>\n<td>500032</td>\n<td>80720</td>\n<td>83</td>\n</tr>\n<tr>\n<td>0.1</td>\n<td>500000</td>\n<td>500032</td>\n<td>524480</td>\n<td>-4</td>\n</tr>\n<tr>\n<td>0.999</td>\n<td>500000</td>\n<td>500032</td>\n<td>524480 &lt;- NOTE it does not increase</td>\n<td>-4</td>\n</tr>\n<tr>\n<td>0.001</td>\n<td>50000000</td>\n<td>50000000</td>\n<td>835232</td>\n<td>98</td>\n</tr>\n<tr>\n<td>0.01</td>\n<td>50000000</td>\n<td>50000000</td>\n<td>8036368</td>\n<td>83</td>\n</tr>\n<tr>\n<td>0.1</td>\n<td>50000000</td>\n<td>50000000</td>\n<td>50016240</td>\n<td>-0.03</td>\n</tr>\n<tr>\n<td>0.999</td>\n<td>50000000</td>\n<td>50000000</td>\n<td>50016240 &lt;- NOTE it does not increase</td>\n<td>-0.03</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>looking at this it seems like as number of entries grows they might be using bitmap only behind the scene. The take away is that don't blindly use the library, test for your use case.</p>\n"},{"tags":[],"owner":{"account_id":27607,"reputation":3480,"user_id":73007,"display_name":"Daniel Lemire"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675983851,"creation_date":1675983851,"answer_id":75405368,"question_id":72786976,"body_markdown":"The Roaring Bitmap format has a public specification: \r\n\r\nhttps://github.com/RoaringBitmap/RoaringFormatSpec\r\n\r\nThe memory usage is only one factor in an application&#39;s performance. Roaring bitmaps seek to provide economical storage, while also providing high performance in real-world applications.\r\n\r\nGiven N integers in [0,x), then the serialized size in bytes of a Roaring bitmap should never exceed this bound:\r\n\r\n8 + 9 * ((long)x+65535)/65536 + 2 * N\r\n\r\nThat is, given a fixed overhead for the universe size (x), Roaring bitmaps never use more than 2 bytes per integer. \r\n\r\nThere is no such thing as a data structure that is always ideal. You should make sure that Roaring bitmaps fit your application profile. There are at least two cases where Roaring bitmaps can be easily replaced by superior alternatives compression-wise:\r\n\r\nYou have few random values spanning in a large interval (i.e., you have a very sparse set). For example, take the set 0, 65536, 131072, 196608, 262144 ... If this is typical of your application, you might consider using a hash set or a simple sorted array.\r\n\r\nYou have dense set of random values that never form runs of continuous values. For example, consider the set 0,2,4,...,10000. If this is typical of your application, you might be better served with a conventional bitset.\r\n\r\n\r\n*Relevant references about Roaring*\r\n\r\n- Daniel Lemire, Owen Kaser, Nathan Kurz, Luca Deri, Chris O&#39;Hara, Fran&#231;ois Saint-Jacques, Gregory Ssi-Yan-Kai, [Roaring Bitmaps: Implementation of an Optimized Software Library][1], Software: Practice and Experience Volume 48, Issue 4 April 2018 Pages 867-895 \r\n-  Samy Chambi, Daniel Lemire, Owen Kaser, Robert Godin,\r\n[Better bitmap performance with Roaring bitmaps][2],\r\nSoftware: Practice and Experience Volume 46, Issue 5, pages 709–719, May 2016\r\n- Daniel Lemire, Gregory Ssi-Yan-Kai, Owen Kaser, [Consistently faster and smaller compressed bitmaps with Roaring][3], Software: Practice and Experience Volume 46, Issue 11, pages 1547-1569, November 2016 \r\n- Samy Chambi, Daniel Lemire, Robert Godin, Kamel Boukhalfa, Charles Allen, Fangjin Yang, [Optimizing Druid with Roaring bitmaps][4], IDEAS 2016, 2016. \r\n\r\n\r\n  [1]: https://arxiv.org/abs/1709.07821\r\n  [2]: http://arxiv.org/abs/1402.6407\r\n  [3]: http://arxiv.org/abs/1603.06549\r\n  [4]: http://r-libre.teluq.ca/950/","title":"Roaring bitmap using more storage than normal bitset","body":"<p>The Roaring Bitmap format has a public specification:</p>\n<p><a href=\"https://github.com/RoaringBitmap/RoaringFormatSpec\" rel=\"nofollow noreferrer\">https://github.com/RoaringBitmap/RoaringFormatSpec</a></p>\n<p>The memory usage is only one factor in an application's performance. Roaring bitmaps seek to provide economical storage, while also providing high performance in real-world applications.</p>\n<p>Given N integers in [0,x), then the serialized size in bytes of a Roaring bitmap should never exceed this bound:</p>\n<p>8 + 9 * ((long)x+65535)/65536 + 2 * N</p>\n<p>That is, given a fixed overhead for the universe size (x), Roaring bitmaps never use more than 2 bytes per integer.</p>\n<p>There is no such thing as a data structure that is always ideal. You should make sure that Roaring bitmaps fit your application profile. There are at least two cases where Roaring bitmaps can be easily replaced by superior alternatives compression-wise:</p>\n<p>You have few random values spanning in a large interval (i.e., you have a very sparse set). For example, take the set 0, 65536, 131072, 196608, 262144 ... If this is typical of your application, you might consider using a hash set or a simple sorted array.</p>\n<p>You have dense set of random values that never form runs of continuous values. For example, consider the set 0,2,4,...,10000. If this is typical of your application, you might be better served with a conventional bitset.</p>\n<p><em>Relevant references about Roaring</em></p>\n<ul>\n<li>Daniel Lemire, Owen Kaser, Nathan Kurz, Luca Deri, Chris O'Hara, François Saint-Jacques, Gregory Ssi-Yan-Kai, <a href=\"https://arxiv.org/abs/1709.07821\" rel=\"nofollow noreferrer\">Roaring Bitmaps: Implementation of an Optimized Software Library</a>, Software: Practice and Experience Volume 48, Issue 4 April 2018 Pages 867-895</li>\n<li>Samy Chambi, Daniel Lemire, Owen Kaser, Robert Godin,\n<a href=\"http://arxiv.org/abs/1402.6407\" rel=\"nofollow noreferrer\">Better bitmap performance with Roaring bitmaps</a>,\nSoftware: Practice and Experience Volume 46, Issue 5, pages 709–719, May 2016</li>\n<li>Daniel Lemire, Gregory Ssi-Yan-Kai, Owen Kaser, <a href=\"http://arxiv.org/abs/1603.06549\" rel=\"nofollow noreferrer\">Consistently faster and smaller compressed bitmaps with Roaring</a>, Software: Practice and Experience Volume 46, Issue 11, pages 1547-1569, November 2016</li>\n<li>Samy Chambi, Daniel Lemire, Robert Godin, Kamel Boukhalfa, Charles Allen, Fangjin Yang, <a href=\"http://r-libre.teluq.ca/950/\" rel=\"nofollow noreferrer\">Optimizing Druid with Roaring bitmaps</a>, IDEAS 2016, 2016.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28566381,"reputation":1,"user_id":21869209,"display_name":"xq glow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683886953,"creation_date":1683856459,"answer_id":76232665,"question_id":72786976,"body_markdown":"`RoaringBitmap` has three types of containers, and in our scenarios, we mostly use `BitmapContainer`. Each `BitmapContainer` can store 65535 elements, occupying 8k of memory. However, the storage is split according to the high and low 16 bits. The corresponding bucket is selected based on the high 16 bits. If the corresponding bucket does not exist (the element range difference is 65535), it will be stored in a new bucket. In the case of overly sparse data, this can lead to many buckets that are not filled up, resulting in some redundant memory. This can cause `RoaringBitmap` to use more memory than a regular bitmap in some scenarios. If the range difference of sparse data is 65535 or the number of elements is small, it will use less memory than Bitmap. Its biggest advantage is that it does not need to allocate space according to the maximum offset.","title":"Roaring bitmap using more storage than normal bitset","body":"<p><code>RoaringBitmap</code> has three types of containers, and in our scenarios, we mostly use <code>BitmapContainer</code>. Each <code>BitmapContainer</code> can store 65535 elements, occupying 8k of memory. However, the storage is split according to the high and low 16 bits. The corresponding bucket is selected based on the high 16 bits. If the corresponding bucket does not exist (the element range difference is 65535), it will be stored in a new bucket. In the case of overly sparse data, this can lead to many buckets that are not filled up, resulting in some redundant memory. This can cause <code>RoaringBitmap</code> to use more memory than a regular bitmap in some scenarios. If the range difference of sparse data is 65535 or the number of elements is small, it will use less memory than Bitmap. Its biggest advantage is that it does not need to allocate space according to the maximum offset.</p>\n"}],"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72789586,"answer_count":3,"score":4,"last_activity_date":1683886953,"creation_date":1656421503,"question_id":72786976,"body_markdown":"I have a bitset which i am using to track whether an item is present or not example\r\n\r\nb = 01100110000\r\n\r\nit represents that 2nd and 3rd items are present and 1st and 4th item are not present.\r\n\r\nWhile searching for library which can optimise this bitset array. I came across [Roaring bitmaps][1]  which sounded very exciting. \r\n\r\nI did a quick test with it, \r\n\r\n```\r\n    public static void main(String[] args) throws IOException {\r\n        RoaringBitmap roaringBitMap = new RoaringBitmap();\r\n        BitSet bitSet = new BitSet(5000);\r\n        double prob = 0.001;\r\n        Random random = new Random();\r\n        for (int i = 0; i &lt; 5000; i++) {\r\n            if (random.nextDouble() &lt; prob) {\r\n                bitSet.set(i);\r\n                roaringBitMap.add(i);\r\n            }\r\n        }\r\n        System.out.println(bitSet.cardinality());\r\n        System.out.println(&quot;bitset bytes: &quot;+ bitSet.size());\r\n        System.out.println(&quot;RoaringBitmap bytes: &quot; + roaringBitMap.getSizeInBytes() * 8);\r\n    }\r\n```\r\nBasically we are setting some values and check overall size of data structure.\r\n\r\nwhen we run this with multiple prob values. I got \r\n\r\n\r\n\r\n| prob byte |  bitset bytes | RoaringBitmap bytes |\r\n|---------------------|------------------| -- |\r\n| 0.001 | 5056 | 288 |\r\n| 0.01 | 5056 | 944 |\r\n| 0.1 | 5056 | 7872 |\r\n| 0.999 | 5056 | 65616 |\r\n\r\n\r\nIf you see as we insert more and more numbers, the memory footprint of RoaringBitmap increases. \r\n\r\n1. Is this expected? \r\n2. In the worst case should it not just fall back to bitset based implementaiton? \r\n3. can&#39;t 0.999 be treated as inverse of 0.001 and we would be able to store it in 288 bytes?\r\n4. What is the most optimal way to represent these bitset as String when we are making inter service calls and using jackson library (but not byte based serialisation libraries)\r\n\r\n  [1]: https://roaringbitmap.org/","title":"Roaring bitmap using more storage than normal bitset","body":"<p>I have a bitset which i am using to track whether an item is present or not example</p>\n<p>b = 01100110000</p>\n<p>it represents that 2nd and 3rd items are present and 1st and 4th item are not present.</p>\n<p>While searching for library which can optimise this bitset array. I came across <a href=\"https://roaringbitmap.org/\" rel=\"nofollow noreferrer\">Roaring bitmaps</a>  which sounded very exciting.</p>\n<p>I did a quick test with it,</p>\n<pre><code>    public static void main(String[] args) throws IOException {\n        RoaringBitmap roaringBitMap = new RoaringBitmap();\n        BitSet bitSet = new BitSet(5000);\n        double prob = 0.001;\n        Random random = new Random();\n        for (int i = 0; i &lt; 5000; i++) {\n            if (random.nextDouble() &lt; prob) {\n                bitSet.set(i);\n                roaringBitMap.add(i);\n            }\n        }\n        System.out.println(bitSet.cardinality());\n        System.out.println(&quot;bitset bytes: &quot;+ bitSet.size());\n        System.out.println(&quot;RoaringBitmap bytes: &quot; + roaringBitMap.getSizeInBytes() * 8);\n    }\n</code></pre>\n<p>Basically we are setting some values and check overall size of data structure.</p>\n<p>when we run this with multiple prob values. I got</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>prob byte</th>\n<th>bitset bytes</th>\n<th>RoaringBitmap bytes</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0.001</td>\n<td>5056</td>\n<td>288</td>\n</tr>\n<tr>\n<td>0.01</td>\n<td>5056</td>\n<td>944</td>\n</tr>\n<tr>\n<td>0.1</td>\n<td>5056</td>\n<td>7872</td>\n</tr>\n<tr>\n<td>0.999</td>\n<td>5056</td>\n<td>65616</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>If you see as we insert more and more numbers, the memory footprint of RoaringBitmap increases.</p>\n<ol>\n<li>Is this expected?</li>\n<li>In the worst case should it not just fall back to bitset based implementaiton?</li>\n<li>can't 0.999 be treated as inverse of 0.001 and we would be able to store it in 288 bytes?</li>\n<li>What is the most optimal way to represent these bitset as String when we are making inter service calls and using jackson library (but not byte based serialisation libraries)</li>\n</ol>\n"},{"tags":["java","adfs","spnego","waffle"],"answers":[{"comments":[{"owner":{"account_id":26938430,"reputation":1,"user_id":20509695,"display_name":"Andreas"},"score":0,"creation_date":1683887075,"post_id":76235337,"comment_id":134438694,"body_markdown":"You can see how CBT works if you look into sun.net.www.protocol.http.spnego.NegotiatorImpl:71","body":"You can see how CBT works if you look into sun.net.www.protocol.http.spnego.NegotiatorImpl:71"}],"tags":[],"owner":{"account_id":26938430,"reputation":1,"user_id":20509695,"display_name":"Andreas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683886941,"creation_date":1683886941,"answer_id":76235337,"question_id":74445040,"body_markdown":"The reason why this does not work is &quot;Extended Protection&quot; by Windows Integrated Authentication, or in other words: ChannelBinding.\r\n\r\nIt can be activated in java with &quot;jdk.https.negotiate.cbt&quot; (never, domain, always).\r\n\r\nHowever, right now I am not able to activate channelbinding and Java native (&quot;sun.security.jgss.native&quot;) at the same time. \r\n\r\nAnother solution would be to set extended protection to none which simple disables this feature. It is another security mechanism against MITM attacks by binding the kerberos token to the certificate of the receiving server.\r\n\r\n","title":"Waffle SSPI not possible against Windows Integrated Authentication (ADFS/STS)","body":"<p>The reason why this does not work is &quot;Extended Protection&quot; by Windows Integrated Authentication, or in other words: ChannelBinding.</p>\n<p>It can be activated in java with &quot;jdk.https.negotiate.cbt&quot; (never, domain, always).</p>\n<p>However, right now I am not able to activate channelbinding and Java native (&quot;sun.security.jgss.native&quot;) at the same time.</p>\n<p>Another solution would be to set extended protection to none which simple disables this feature. It is another security mechanism against MITM attacks by binding the kerberos token to the certificate of the receiving server.</p>\n"}],"owner":{"account_id":26938430,"reputation":1,"user_id":20509695,"display_name":"Andreas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683886941,"creation_date":1668512523,"question_id":74445040,"body_markdown":"I try to do real SSO on a windows-client with a java-rich-client to an STS (Secure Token Service).\r\n\r\nGSSAPI works but I need to at least do a java kinit in front of the call to aquire a TGT.\r\n\r\nI tried a lot of different approaches until now and I&#39;m still failing with my usecase:\r\nReal SSO with a Windows-only Java-Client.\r\n\r\nThings I tried and work:\r\n- Browser (Firefox, Chrome, IE..) everyone is working with Negotiate authorization header\r\n- GSS-API if I manually do the java kinit before (allowtgt-registry entry isn&#39;t possible anymore because of active windows credential security)\r\n\r\nThings I tried that don&#39;t work:\r\n- Apache WinHttpClient\r\n- Waffle\r\n\r\nI think the flow is not important. The important part is the following:\r\n\r\n1. Request: GET /adfs/ls/wia?client-request-id=UUID\r\n2. Response: 401 WWW-Authenticate: Negotiate and NTLM\r\n3. Request: GET /adfs/ls/wia?client-request-id=UUID with header Authorization: Negotiate YIIMWw...\r\n4. Response: 401 WWW-Authenticate: Negotiate and NTLM\r\n\r\n\r\nThe code I use for waffle (Apache WinHttpClient does nearly the same) only differs from the working GSSAPI solution in these lines:\r\n\r\n\r\n```\r\nString SECURITY_PACKAGE = &quot;Negotiate&quot;;\r\n\r\nbyte[] token = WindowsSecurityContextImpl.getCurrent(SECURITY_PACKAGE, &quot;HTTP/mystsserver.my.domain&quot;).getToken();\r\n\r\nString ticket = Base64.getEncoder().encodeToString(token);\r\nString header = SECURITY_PACKAGE + &quot; &quot; + ticket;\r\n\r\n```\r\n\r\nThe GSS-API ticket and the SSPI ticket are looking very similar with the same start and the same length but IIS rejects the second one.\r\n\r\nMy questions now are:\r\n1. How can I debug this special case on STS?\r\n2. How can I aquire a token via GSSAPI without calling kinit manually\r\n3. What am I doing wrong with waffle or WinHTTPClient?\r\n\r\nThanks a lot","title":"Waffle SSPI not possible against Windows Integrated Authentication (ADFS/STS)","body":"<p>I try to do real SSO on a windows-client with a java-rich-client to an STS (Secure Token Service).</p>\n<p>GSSAPI works but I need to at least do a java kinit in front of the call to aquire a TGT.</p>\n<p>I tried a lot of different approaches until now and I'm still failing with my usecase:\nReal SSO with a Windows-only Java-Client.</p>\n<p>Things I tried and work:</p>\n<ul>\n<li>Browser (Firefox, Chrome, IE..) everyone is working with Negotiate authorization header</li>\n<li>GSS-API if I manually do the java kinit before (allowtgt-registry entry isn't possible anymore because of active windows credential security)</li>\n</ul>\n<p>Things I tried that don't work:</p>\n<ul>\n<li>Apache WinHttpClient</li>\n<li>Waffle</li>\n</ul>\n<p>I think the flow is not important. The important part is the following:</p>\n<ol>\n<li>Request: GET /adfs/ls/wia?client-request-id=UUID</li>\n<li>Response: 401 WWW-Authenticate: Negotiate and NTLM</li>\n<li>Request: GET /adfs/ls/wia?client-request-id=UUID with header Authorization: Negotiate YIIMWw...</li>\n<li>Response: 401 WWW-Authenticate: Negotiate and NTLM</li>\n</ol>\n<p>The code I use for waffle (Apache WinHttpClient does nearly the same) only differs from the working GSSAPI solution in these lines:</p>\n<pre><code>String SECURITY_PACKAGE = &quot;Negotiate&quot;;\n\nbyte[] token = WindowsSecurityContextImpl.getCurrent(SECURITY_PACKAGE, &quot;HTTP/mystsserver.my.domain&quot;).getToken();\n\nString ticket = Base64.getEncoder().encodeToString(token);\nString header = SECURITY_PACKAGE + &quot; &quot; + ticket;\n\n</code></pre>\n<p>The GSS-API ticket and the SSPI ticket are looking very similar with the same start and the same length but IIS rejects the second one.</p>\n<p>My questions now are:</p>\n<ol>\n<li>How can I debug this special case on STS?</li>\n<li>How can I aquire a token via GSSAPI without calling kinit manually</li>\n<li>What am I doing wrong with waffle or WinHTTPClient?</li>\n</ol>\n<p>Thanks a lot</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":0,"creation_date":1570640922,"post_id":58308921,"comment_id":102979638,"body_markdown":"What do you intend to do with this enum? Can you give an example? We can surely make the compilation error go, but it depends on what you want to achieve :)","body":"What do you intend to do with this enum? Can you give an example? We can surely make the compilation error go, but it depends on what you want to achieve :)"},{"owner":{"account_id":7312824,"reputation":1824,"user_id":5571441,"display_name":"Eduard Streltsov"},"score":0,"creation_date":1570641539,"post_id":58308921,"comment_id":102979920,"body_markdown":"Sorry for duplicated question. Didn&#39;t find the answer by my requests. Just solved it. public enum TimeSlotEnum {\n\n    MORNING, NOON, EVENING;\n    private TimeSlotEnum next;\n    private LocalTime from;\n    private LocalTime till;\n\n    static {\n        MORNING.next = NOON;\n        MORNING.from = LocalTime.of(9,0);\n        MORNING.till = LocalTime.of(12,0);\n\n        NOON.next = EVENING;\n        NOON.from = ... ...\n}","body":"Sorry for duplicated question. Didn&#39;t find the answer by my requests. Just solved it. public enum TimeSlotEnum {      MORNING, NOON, EVENING;     private TimeSlotEnum next;     private LocalTime from;     private LocalTime till;      static {         MORNING.next = NOON;         MORNING.from = LocalTime.of(9,0);         MORNING.till = LocalTime.of(12,0);          NOON.next = EVENING;         NOON.from = ... ... }"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1683887234,"post_id":58308921,"comment_id":134438726,"body_markdown":"@EduardStreltsov: if you found the answer yourself, it&#39;s perfectly acceptable and in fact encouraged to just post an answer to your own question. Here in the comments it&#39;s likely to be missed by anyone else looking for the same thing in the future.","body":"@EduardStreltsov: if you found the answer yourself, it&#39;s perfectly acceptable and in fact encouraged to just post an answer to your own question. Here in the comments it&#39;s likely to be missed by anyone else looking for the same thing in the future."}],"owner":{"account_id":7312824,"reputation":1824,"user_id":5571441,"display_name":"Eduard Streltsov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1570640486,"answer_count":0,"score":0,"last_activity_date":1683886878,"creation_date":1570640185,"question_id":58308921,"body_markdown":"I want to loop through enum values continuously. I can solve it outside the enum but I curious is there a way to solve it inside. Error occurs as NOON and EVENING not initialized yet.\r\n\r\n    @Getter\r\n    public enum TimeSlotEnum {\r\n    \r\n        MORNING(NOON, LocalTime.of(9, 0), LocalTime.of(12, 0)),//compile error\r\n        NOON(EVENING, LocalTime.of(12, 0), LocalTime.of(15, 0)),//compile error\r\n        EVENING(MORNING, LocalTime.of(15, 0), LocalTime.of(18, 30));\r\n    \r\n        private final TimeSlotEnum next;\r\n        private final LocalTime start;\r\n        private final LocalTime end;\r\n    \r\n        TimeSlotEnum(TimeSlotEnum next, LocalTime start, LocalTime end) {\r\n            this.next = next;\r\n            this.start = start;\r\n            this.end = end;\r\n        }\r\n    }","title":"Is there a way to reuse own values inside enum in Java","body":"<p>I want to loop through enum values continuously. I can solve it outside the enum but I curious is there a way to solve it inside. Error occurs as NOON and EVENING not initialized yet.</p>\n\n<pre><code>@Getter\npublic enum TimeSlotEnum {\n\n    MORNING(NOON, LocalTime.of(9, 0), LocalTime.of(12, 0)),//compile error\n    NOON(EVENING, LocalTime.of(12, 0), LocalTime.of(15, 0)),//compile error\n    EVENING(MORNING, LocalTime.of(15, 0), LocalTime.of(18, 30));\n\n    private final TimeSlotEnum next;\n    private final LocalTime start;\n    private final LocalTime end;\n\n    TimeSlotEnum(TimeSlotEnum next, LocalTime start, LocalTime end) {\n        this.next = next;\n        this.start = start;\n        this.end = end;\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","viewmodel"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1683883409,"post_id":76233408,"comment_id":134437913,"body_markdown":"You haven&#39;t shown the `from` method. How are we supposed to know?","body":"You haven&#39;t shown the <code>from</code> method. How are we supposed to know?"},{"owner":{"account_id":2403408,"reputation":1317,"user_id":2100558,"accept_rate":51,"display_name":"Sk1X1"},"score":0,"creation_date":1684224394,"post_id":76233408,"comment_id":134482403,"body_markdown":"`from` is standard method of `ViewModelProvider.Factory` class ([ViewModelProvider.Factory](https://developer.android.com/reference/androidx/lifecycle/ViewModelProvider.Factory))","body":"<code>from</code> is standard method of <code>ViewModelProvider.Factory</code> class (<a href=\"https://developer.android.com/reference/androidx/lifecycle/ViewModelProvider.Factory\" rel=\"nofollow noreferrer\">ViewModelProvider.Factory</a>)"}],"answers":[{"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683886347,"creation_date":1683886347,"answer_id":76235258,"question_id":76233408,"body_markdown":"Because ```from``` method requires ```ViewModelInitializer``` not ```ViewModelProvider.Factory``` as you can see source code mentioned below\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tI1nP.png\r\n\r\n\r\nSo you need to change kotlin code as mentioned below\r\n\r\n```\r\nclass QueueViewModel : ViewModel() {\r\n    companion object {\r\n        var initializer: ViewModelInitializer&lt;QueueViewModel&gt; = ViewModelInitializer(\r\n            QueueViewModel::class.java\r\n        ) {\r\n            QueueViewModel()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOn java side you can do like this \r\n\r\n```\r\nprivate QueueViewModel viewModel = new ViewModelProvider(\r\n            this,\r\n            ViewModelProvider.Factory.from(QueueViewModel.Companion.getInitializer())\r\n    ).get(QueueViewModel.class);\r\n```","title":"Initialize kotlin ViewModel from Java activity","body":"<p>Because <code>from</code> method requires <code>ViewModelInitializer</code> not <code>ViewModelProvider.Factory</code> as you can see source code mentioned below</p>\n<p><a href=\"https://i.stack.imgur.com/tI1nP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tI1nP.png\" alt=\"enter image description here\" /></a></p>\n<p>So you need to change kotlin code as mentioned below</p>\n<pre><code>class QueueViewModel : ViewModel() {\n    companion object {\n        var initializer: ViewModelInitializer&lt;QueueViewModel&gt; = ViewModelInitializer(\n            QueueViewModel::class.java\n        ) {\n            QueueViewModel()\n        }\n    }\n}\n</code></pre>\n<p>On java side you can do like this</p>\n<pre><code>private QueueViewModel viewModel = new ViewModelProvider(\n            this,\n            ViewModelProvider.Factory.from(QueueViewModel.Companion.getInitializer())\n    ).get(QueueViewModel.class);\n</code></pre>\n"}],"owner":{"account_id":2403408,"reputation":1317,"user_id":2100558,"accept_rate":51,"display_name":"Sk1X1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76235258,"answer_count":1,"score":0,"last_activity_date":1683886347,"creation_date":1683869852,"question_id":76233408,"body_markdown":"I would like to initialize kotlin ViewModel from java activity class, but I am not able to figure out what to use as paramater for `ViewModelProvider.Factory.from`.\r\n\r\nKotlin ViewModel\r\n\r\n    class QueueViewModel : ViewModel() {   \r\n        companion object {\r\n            val Factory: ViewModelProvider.Factory = object : ViewModelProvider.Factory {\r\n                override fun &lt;T : ViewModel&gt; create(\r\n                    modelClass: Class&lt;T&gt;,\r\n                    extras: CreationExtras\r\n                ): T {\r\n                    return super.create(modelClass, extras)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nJava Activity\r\n\r\n    public abstract class BaseQueueActivity extends BaseScreenActivity implements IModule {\r\n    \r\n        private QueueViewModel viewModel = new ViewModelProvider(\r\n                this,\r\n                ViewModelProvider.Factory.from(QueueViewModel.Companion.getFactory())\r\n        ).get(QueueViewModel.class);\r\n     }\r\n\r\nWhen I use this, I get `Cannot resolve method &#39;from(Factory)&#39;` error message. What should I use as the correct input parameter?","title":"Initialize kotlin ViewModel from Java activity","body":"<p>I would like to initialize kotlin ViewModel from java activity class, but I am not able to figure out what to use as paramater for <code>ViewModelProvider.Factory.from</code>.</p>\n<p>Kotlin ViewModel</p>\n<pre><code>class QueueViewModel : ViewModel() {   \n    companion object {\n        val Factory: ViewModelProvider.Factory = object : ViewModelProvider.Factory {\n            override fun &lt;T : ViewModel&gt; create(\n                modelClass: Class&lt;T&gt;,\n                extras: CreationExtras\n            ): T {\n                return super.create(modelClass, extras)\n            }\n        }\n    }\n}\n</code></pre>\n<p>Java Activity</p>\n<pre><code>public abstract class BaseQueueActivity extends BaseScreenActivity implements IModule {\n\n    private QueueViewModel viewModel = new ViewModelProvider(\n            this,\n            ViewModelProvider.Factory.from(QueueViewModel.Companion.getFactory())\n    ).get(QueueViewModel.class);\n }\n</code></pre>\n<p>When I use this, I get <code>Cannot resolve method 'from(Factory)'</code> error message. What should I use as the correct input parameter?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1683480205,"post_id":76192980,"comment_id":134369885,"body_markdown":"It owuld help to have a minimal example that reproduces the issue. I.e. a set of class definitions (no Lombok or any other dependencies other than Jackson), and some code that can be run.","body":"It owuld help to have a minimal example that reproduces the issue. I.e. a set of class definitions (no Lombok or any other dependencies other than Jackson), and some code that can be run."},{"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"score":0,"creation_date":1683481455,"post_id":76192980,"comment_id":134370098,"body_markdown":"@jon-hanson Removed the lombok dependency and added a single file code.","body":"@jon-hanson Removed the lombok dependency and added a single file code."},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1683481922,"post_id":76192980,"comment_id":134370167,"body_markdown":"The code doesn&#39;t seem to match your JSON files. E.g. how would one construct a DomainJobCallback, which has inheirted fields id, stid and ctid, from your JSON, which has none of those fields?","body":"The code doesn&#39;t seem to match your JSON files. E.g. how would one construct a DomainJobCallback, which has inheirted fields id, stid and ctid, from your JSON, which has none of those fields?"},{"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"score":0,"creation_date":1683482381,"post_id":76192980,"comment_id":134370229,"body_markdown":"@jon-hanson My apologies. Please check now.","body":"@jon-hanson My apologies. Please check now."}],"answers":[{"comments":[{"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"score":0,"creation_date":1683550041,"post_id":76195882,"comment_id":134379217,"body_markdown":"I was using lombok for getters and setter, and that should not be an issue. I used your code without the setVisibility method calls and it still works. I am not sure if registering modules like these over the annotation makes any difference.","body":"I was using lombok for getters and setter, and that should not be an issue. I used your code without the setVisibility method calls and it still works. I am not sure if registering modules like these over the annotation makes any difference."},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1683554803,"post_id":76195882,"comment_id":134380332,"body_markdown":"Ok, but does using the Module approach fix your problem?","body":"Ok, but does using the Module approach fix your problem?"},{"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"score":0,"creation_date":1683880351,"post_id":76195882,"comment_id":134437248,"body_markdown":"Oh yes, it does.","body":"Oh yes, it does."}],"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683487577,"creation_date":1683487577,"answer_id":76195882,"question_id":76192980,"body_markdown":"I think you need to configure the `ObjectMapper` to use field-based serialization (it defaults to bean-based - i.e. it looks for getter/setters). I also find Modules easier to get working than annotations. E.g.:\r\n\r\n        final SimpleModule module = new SimpleModule();\r\n        module.addDeserializer(Callback.class, new CallbackDeserializer());\r\n        objectMapper.registerModule(module);\r\n        objectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n        objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n\r\n        Callback callback = objectMapper.readValue(jsonPayload, Callback.class);\r\n\r\n        // Check the results.\r\n        System.out.println(&quot;callback = &quot; + objectMapper.writeValueAsString(callback));\r\n\r\nIf I run this then I get the following, which suggests it has mapped the JSON successfully:\r\n\r\n    callback = {&quot;object&quot;:{&quot;type&quot;:&quot;Domain&quot;},&quot;job&quot;:&quot;example-job&quot;}","title":"Deserializing JSON based on the presence of fields and based on the value of another field","body":"<p>I think you need to configure the <code>ObjectMapper</code> to use field-based serialization (it defaults to bean-based - i.e. it looks for getter/setters). I also find Modules easier to get working than annotations. E.g.:</p>\n<pre><code>    final SimpleModule module = new SimpleModule();\n    module.addDeserializer(Callback.class, new CallbackDeserializer());\n    objectMapper.registerModule(module);\n    objectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n    objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n\n    Callback callback = objectMapper.readValue(jsonPayload, Callback.class);\n\n    // Check the results.\n    System.out.println(&quot;callback = &quot; + objectMapper.writeValueAsString(callback));\n</code></pre>\n<p>If I run this then I get the following, which suggests it has mapped the JSON successfully:</p>\n<pre><code>callback = {&quot;object&quot;:{&quot;type&quot;:&quot;Domain&quot;},&quot;job&quot;:&quot;example-job&quot;}\n</code></pre>\n"}],"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76195882,"answer_count":1,"score":1,"last_activity_date":1683886340,"creation_date":1683449911,"question_id":76192980,"body_markdown":"How can I deserialize JSON payloads into specific concrete types based on a hierarchy of types that includes four end concrete types, each with two abstract sub-types? \r\n\r\nThe sub-type can be determined by checking for the presence of either &quot;.job&quot; for JobCallback or &quot;.notify&quot; for NotificationCallback. \r\n\r\nOnce the sub-type is known, we can determine the concrete type by looking at the value of the field &quot;object.type&quot;. \r\n\r\nThe hierarchy includes a root abstract class, Callback, with two abstract sub-classes, JobCallback and NotificationCallback, and four concrete classes: DomainJobCallback, TransferJobCallback, DomainNotificationCallback, and TransferNotificationCallback.\r\n\r\n                                                                                     +-------------------------+                                                                                  \r\n                                                                                     |  Callback (abstract)    |                                                                                  \r\n                                                                                     +-------------------------+                                                                                  \r\n                                                                                                  /-\\                                                                                             \r\n                                                                                                /-   -\\                                                                                           \r\n                                                                                             /--       --\\                                                                                        \r\n                                                                                           /-             -\\                                                                                      \r\n                                                                                        /--                 --\\                                                                                   \r\n                                                                                      /-                       -\\     &lt;ROOT&gt;.notify != null                                                       \r\n                                                             &lt;ROOT&gt;.job != null    /--                           --\\                                                                              \r\n                                                                                /--                                 -\\                                                                            \r\n                                                                              /-                                      --\\                                                                         \r\n                                                                           /--                                           -\\                                                                       \r\n                                                                         /-                                                --\\                                                                    \r\n                                                                      /--                                                     -\\                                                                  \r\n                                                                    /-                                                          --                                                                \r\n                                                    +------------------------+                                 +-----------------------------------+                                              \r\n                                                    | JobCallback (abstract) |                                 | NotificationCallback (abstract)   |                                              \r\n                                                    +------------------------+                                 +-----------------------------------+                                              \r\n                                                               /-                                                                   /  --                                                         \r\n                                                             /-  \\-                                 &lt;ROOT&gt;.object.type == &quot;Domain&quot;/-     \\-                                                       \r\n                                                           /-      \\                                                             /         \\--                                                    \r\n                                                         /-         \\-                                                         /-             \\--                                                 \r\n                     &lt;ROOT&gt;.object.type == &quot;Domain&quot;    /-             \\ &lt;ROOT&gt;.object.type == &quot;Transfer&quot;                     /-                  \\-   &lt;ROOT&gt;.object.type = &quot;Transfer&quot;             \r\n                                                     /-                \\-                                                   /                      \\--                                            \r\n                                                   /-                    \\                                                /-                          \\--                                         \r\n                                                 /-                       \\-                                             /                               \\-                                       \r\n                                               /-                           \\                                          /-                                  \\--                                    \r\n                                             /-                              \\-                                       -                                       \\-                                  \r\n                     +-------------------------------+        +--------------------------------+   +--------------------------------------+        +----------------------------------------+     \r\n                     |DomainJobCallback (concrete)   |        | TransferJobCallback (concrete) |   |DomainNotificationCallback (concrete) |        | TransferNotificationCallback (concrete)|     \r\n                     +-------------------------------+        +--------------------------------+   +--------------------------------------+        +----------------------------------------+     \r\n\r\n\r\n**Sample JSON:**\r\n\r\n*DomainJobCallback*\r\n```json\r\n{\r\n  &quot;job&quot;: &quot;example-job&quot;,\r\n  &quot;object&quot;: {\r\n    &quot;type&quot;: &quot;Domain&quot;\r\n  }\r\n}\r\n```\r\n*TransferJobCallback*\r\n```json\r\n{\r\n  &quot;job&quot;: &quot;example-job&quot;,\r\n  &quot;object&quot;: {\r\n    &quot;type&quot;: &quot;Transfer&quot;\r\n  }\r\n}\r\n```\r\n\r\n*DomainNotificationCallback*\r\n```json\r\n{\r\n  &quot;notify&quot;: &quot;example-notify&quot;,\r\n  &quot;object&quot;: {\r\n    &quot;type&quot;: &quot;Domain&quot;\r\n  }\r\n}\r\n```\r\n\r\n*TransferNotificationCallback*\r\n```json\r\n{\r\n  &quot;notify&quot;: &quot;example-notify&quot;,\r\n  &quot;object&quot;: {\r\n    &quot;type&quot;: &quot;Transfer&quot;\r\n  }\r\n}\r\n```\r\n\r\n\r\n**Approach 1:**\r\nInitially I thought of using com.fasterxml.jackson.annotation.JsonTypeInfo.Id#DEDUCTION on Callback and com.fasterxml.jackson.annotation.JsonTypeInfo.Id#NAME on JobCallback and NotificationCallback. However, I got to know that overriding @JsonTypeInfo is not possible (https://github.com/FasterXML/jackson-databind/issues/3358).\r\n\r\n**Approach 2:**\r\nThen I wrote a custom deserializer that checks the presence of the field .job and .notify and accordingly delegates the work to parser of each sub-type. I am assumingly it should be easy from here to reuse the default parsing as now I have determined the sub-type and I can look at the value of .object.type to get to the concrete type, for this I added @JsonTypeInfo and @JsonSubTypes to the subtype classes (JobCallback and NotificationCallback), and returned mapper.treeToValue(node, Callback.JobCallback.class); and mapper.treeToValue(node, Callback.NotificationCallback.class); from parseJobCallback and parseNotificationCallback.\r\nThis approach can be found commented-out.\r\n\r\nI got the following exception:\r\n```\r\ncom.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class com.example.abc.ex.dm.sm.cf.xyz.schema.Callback$JobCallback]: missing type id property &#39;object.type&#39;\r\n at [Source: UNKNOWN; line: -1, column: -1]\r\n    at com.fasterxml.jackson.databind.exc.InvalidTypeIdException.from(InvalidTypeIdException.java:43)\r\n    at com.fasterxml.jackson.databind.DeserializationContext.missingTypeIdException(DeserializationContext.java:1943)\r\n    at com.fasterxml.jackson.databind.DeserializationContext.handleMissingTypeId(DeserializationContext.java:1456)\r\n    at com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._handleMissingTypeId(TypeDeserializerBase.java:307)\r\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedUsingDefaultImpl(AsPropertyTypeDeserializer.java:180)\r\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:115)\r\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:208)\r\n    at com.fasterxml.jackson.databind.JsonDeserializer.deserializeWithType(JsonDeserializer.java:152)\r\n    at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)\r\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\r\n    at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4569)\r\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2798)\r\n    at com.fasterxml.jackson.databind.ObjectMapper.treeToValue(ObjectMapper.java:3261)\r\n    at com.example.abc.ex.dm.sm.cf.xyz.schema.CallbackDeserializer.parseJobCallback(CallbackDeserializer.java:36)\r\n    at com.example.abc.ex.dm.sm.cf.xyz.schema.CallbackDeserializer.deserialize(CallbackDeserializer.java:23)\r\n    at com.example.abc.ex.dm.sm.cf.xyz.schema.CallbackDeserializer.deserialize(CallbackDeserializer.java:10)\r\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\r\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4593)\r\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3548)\r\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3516)\r\n    at com.example.abc.ex.dm.sm.cf.xyz.MyJsonParsingTest.name(MyJsonParsingTest.java:87)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n\r\n```\r\n\r\n\r\n**Approach 3:**\r\nParse the value of .object.type after sub-type is known.\r\n\r\nI went further with parsing and even extracted out the value of the concrete type once the sub-types were known. However, this resulted in a StackOverflowError. I am assuming this is getting into an infinite loop cause I am calling mapper.treeToValue(node, Callback.JobCallback.DomainJobCallback.class) and that too is using the same deserializer.\r\nI know if I parse each of the fields and then construct the concrete objects, it would solve the problem. But I don&#39;t want to parse it manually to that depth.\r\n\r\n\r\n\r\nI am also not sure if I should be initializing a object mapper within CallbackDeserializer as I am currently doing.\r\n\r\n\r\nHere&#39;s the code to replicate this:\r\n```java\r\npackage com.example.r.e.d.s.c.q;\r\n\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.*;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\nimport com.fasterxml.jackson.databind.exc.InvalidDefinitionException;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.io.IOException;\r\n\r\nclass MyJsonParsingTest {\r\n\r\n    private final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    @Test\r\n    void test1() throws JsonProcessingException {\r\n\r\n        String jsonPayload = &quot;{\\n&quot; +\r\n                &quot;  \\&quot;job\\&quot;: \\&quot;example-job\\&quot;,\\n&quot; +\r\n                &quot;  \\&quot;object\\&quot;: {\\n&quot; +\r\n                &quot;    \\&quot;type\\&quot;: \\&quot;Domain\\&quot;\\n&quot; +\r\n                &quot;  }\\n&quot; +\r\n                &quot;}\\n&quot;;\r\n\r\n        Callback callback = objectMapper.readValue(jsonPayload, Callback.class);\r\n\r\n        System.out.println(&quot;callback = &quot; + callback);\r\n    }\r\n\r\n    public static class CallbackDeserializer extends JsonDeserializer&lt;Callback&gt; {\r\n\r\n        private final ObjectMapper mapper = new ObjectMapper();\r\n\r\n        @Override\r\n        public Callback deserialize(final JsonParser jsonParser,\r\n                                    final DeserializationContext deserializationContext) throws IOException {\r\n\r\n            final JsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n\r\n            final JsonNode jobCallbackNode = node.get(&quot;job&quot;);\r\n            final JsonNode notificationCallbackNode = node.get(&quot;notify&quot;);\r\n\r\n            if (jobCallbackNode != null) {\r\n                return parseJobCallback(node, jsonParser);\r\n            }\r\n            else if (notificationCallbackNode != null) {\r\n                return parseNotificationCallback(node, jsonParser);\r\n            }\r\n            else {\r\n                throw InvalidDefinitionException.from(jsonParser, &quot;Invalid callback type&quot;, (JavaType) null);\r\n            }\r\n        }\r\n\r\n        private Callback parseJobCallback(final JsonNode node,\r\n                                          final JsonParser jsonParser) throws IOException {\r\n\r\n//                    return mapper.treeToValue(node, Callback.JobCallback.class);\r\n\r\n            final String type = node.get(&quot;object&quot;).get(&quot;type&quot;).asText();\r\n\r\n            if (type.equals(&quot;Domain&quot;)) {\r\n                return mapper.treeToValue(node, Callback.JobCallback.DomainJobCallback.class);\r\n            }\r\n            else if (type.equals(&quot;Transfer&quot;)) {\r\n                return mapper.treeToValue(node, Callback.JobCallback.TransferJobCallback.class);\r\n            }\r\n            throw InvalidDefinitionException.from(jsonParser, &quot;Invalid job callback type&quot;, (JavaType) null);\r\n        }\r\n\r\n        private Callback parseNotificationCallback(final JsonNode node,\r\n                                                   final JsonParser jsonParser) throws JsonProcessingException {\r\n\r\n//                    return mapper.treeToValue(node, Callback.NotificationCallback.class);\r\n\r\n            final String type = node.get(&quot;object&quot;).get(&quot;type&quot;).asText();\r\n            if (type.equals(&quot;Domain&quot;)) {\r\n                return mapper.treeToValue(node, Callback.NotificationCallback.DomainNotificationCallback.class);\r\n            }\r\n            else if (type.equals(&quot;Transfer&quot;)) {\r\n                return mapper.treeToValue(node, Callback.NotificationCallback.TransferNotificationCallback.class);\r\n            }\r\n            throw InvalidDefinitionException.from(jsonParser, &quot;Invalid job callback type&quot;, (JavaType) null);\r\n        }\r\n    }\r\n\r\n    @JsonDeserialize(using = CallbackDeserializer.class)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public abstract static class Callback {\r\n\r\n        private Obj object;\r\n\r\n        //        @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;object.type&quot;)\r\n//        @JsonSubTypes({\r\n//                @JsonSubTypes.Type(value = JobCallback.DomainJobCallback.class, name = &quot;Domain&quot;),\r\n//                @JsonSubTypes.Type(value = JobCallback.TransferJobCallback.class, name = &quot;Transfer&quot;),\r\n//        })\r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        public abstract static class JobCallback extends Callback {\r\n\r\n            private String job;\r\n        }\r\n\r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        public static class DomainJobCallback extends Callback.JobCallback {\r\n\r\n        }\r\n\r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        public static class TransferJobCallback extends Callback.JobCallback {\r\n\r\n        }\r\n\r\n        //        @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;object.type&quot;)\r\n//        @JsonSubTypes({\r\n//                @JsonSubTypes.Type(value = NotificationCallback.DomainNotificationCallback.class, name = &quot;Domain&quot;),\r\n//                @JsonSubTypes.Type(value = NotificationCallback.TransferNotificationCallback.class, name = &quot;Contact&quot;)\r\n//        })\r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        public static class NotificationCallback extends Callback {\r\n\r\n            private String notify;\r\n\r\n        }\r\n\r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        public static class DomainNotificationCallback extends NotificationCallback {\r\n\r\n        }\r\n\r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        public static class TransferNotificationCallback extends NotificationCallback {\r\n\r\n        }\r\n\r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        public static class Obj {\r\n\r\n            private String type;\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Deserializing JSON based on the presence of fields and based on the value of another field","body":"<p>How can I deserialize JSON payloads into specific concrete types based on a hierarchy of types that includes four end concrete types, each with two abstract sub-types?</p>\n<p>The sub-type can be determined by checking for the presence of either &quot;.job&quot; for JobCallback or &quot;.notify&quot; for NotificationCallback.</p>\n<p>Once the sub-type is known, we can determine the concrete type by looking at the value of the field &quot;object.type&quot;.</p>\n<p>The hierarchy includes a root abstract class, Callback, with two abstract sub-classes, JobCallback and NotificationCallback, and four concrete classes: DomainJobCallback, TransferJobCallback, DomainNotificationCallback, and TransferNotificationCallback.</p>\n<pre><code>                                                                                 +-------------------------+                                                                                  \n                                                                                 |  Callback (abstract)    |                                                                                  \n                                                                                 +-------------------------+                                                                                  \n                                                                                              /-\\                                                                                             \n                                                                                            /-   -\\                                                                                           \n                                                                                         /--       --\\                                                                                        \n                                                                                       /-             -\\                                                                                      \n                                                                                    /--                 --\\                                                                                   \n                                                                                  /-                       -\\     &lt;ROOT&gt;.notify != null                                                       \n                                                         &lt;ROOT&gt;.job != null    /--                           --\\                                                                              \n                                                                            /--                                 -\\                                                                            \n                                                                          /-                                      --\\                                                                         \n                                                                       /--                                           -\\                                                                       \n                                                                     /-                                                --\\                                                                    \n                                                                  /--                                                     -\\                                                                  \n                                                                /-                                                          --                                                                \n                                                +------------------------+                                 +-----------------------------------+                                              \n                                                | JobCallback (abstract) |                                 | NotificationCallback (abstract)   |                                              \n                                                +------------------------+                                 +-----------------------------------+                                              \n                                                           /-                                                                   /  --                                                         \n                                                         /-  \\-                                 &lt;ROOT&gt;.object.type == &quot;Domain&quot;/-     \\-                                                       \n                                                       /-      \\                                                             /         \\--                                                    \n                                                     /-         \\-                                                         /-             \\--                                                 \n                 &lt;ROOT&gt;.object.type == &quot;Domain&quot;    /-             \\ &lt;ROOT&gt;.object.type == &quot;Transfer&quot;                     /-                  \\-   &lt;ROOT&gt;.object.type = &quot;Transfer&quot;             \n                                                 /-                \\-                                                   /                      \\--                                            \n                                               /-                    \\                                                /-                          \\--                                         \n                                             /-                       \\-                                             /                               \\-                                       \n                                           /-                           \\                                          /-                                  \\--                                    \n                                         /-                              \\-                                       -                                       \\-                                  \n                 +-------------------------------+        +--------------------------------+   +--------------------------------------+        +----------------------------------------+     \n                 |DomainJobCallback (concrete)   |        | TransferJobCallback (concrete) |   |DomainNotificationCallback (concrete) |        | TransferNotificationCallback (concrete)|     \n                 +-------------------------------+        +--------------------------------+   +--------------------------------------+        +----------------------------------------+     \n</code></pre>\n<p><strong>Sample JSON:</strong></p>\n<p><em>DomainJobCallback</em></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;job&quot;: &quot;example-job&quot;,\n  &quot;object&quot;: {\n    &quot;type&quot;: &quot;Domain&quot;\n  }\n}\n</code></pre>\n<p><em>TransferJobCallback</em></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;job&quot;: &quot;example-job&quot;,\n  &quot;object&quot;: {\n    &quot;type&quot;: &quot;Transfer&quot;\n  }\n}\n</code></pre>\n<p><em>DomainNotificationCallback</em></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;notify&quot;: &quot;example-notify&quot;,\n  &quot;object&quot;: {\n    &quot;type&quot;: &quot;Domain&quot;\n  }\n}\n</code></pre>\n<p><em>TransferNotificationCallback</em></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;notify&quot;: &quot;example-notify&quot;,\n  &quot;object&quot;: {\n    &quot;type&quot;: &quot;Transfer&quot;\n  }\n}\n</code></pre>\n<p><strong>Approach 1:</strong>\nInitially I thought of using com.fasterxml.jackson.annotation.JsonTypeInfo.Id#DEDUCTION on Callback and com.fasterxml.jackson.annotation.JsonTypeInfo.Id#NAME on JobCallback and NotificationCallback. However, I got to know that overriding @JsonTypeInfo is not possible (<a href=\"https://github.com/FasterXML/jackson-databind/issues/3358\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/3358</a>).</p>\n<p><strong>Approach 2:</strong>\nThen I wrote a custom deserializer that checks the presence of the field .job and .notify and accordingly delegates the work to parser of each sub-type. I am assumingly it should be easy from here to reuse the default parsing as now I have determined the sub-type and I can look at the value of .object.type to get to the concrete type, for this I added @JsonTypeInfo and @JsonSubTypes to the subtype classes (JobCallback and NotificationCallback), and returned mapper.treeToValue(node, Callback.JobCallback.class); and mapper.treeToValue(node, Callback.NotificationCallback.class); from parseJobCallback and parseNotificationCallback.\nThis approach can be found commented-out.</p>\n<p>I got the following exception:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class com.example.abc.ex.dm.sm.cf.xyz.schema.Callback$JobCallback]: missing type id property 'object.type'\n at [Source: UNKNOWN; line: -1, column: -1]\n    at com.fasterxml.jackson.databind.exc.InvalidTypeIdException.from(InvalidTypeIdException.java:43)\n    at com.fasterxml.jackson.databind.DeserializationContext.missingTypeIdException(DeserializationContext.java:1943)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleMissingTypeId(DeserializationContext.java:1456)\n    at com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._handleMissingTypeId(TypeDeserializerBase.java:307)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedUsingDefaultImpl(AsPropertyTypeDeserializer.java:180)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:115)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:208)\n    at com.fasterxml.jackson.databind.JsonDeserializer.deserializeWithType(JsonDeserializer.java:152)\n    at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\n    at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4569)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2798)\n    at com.fasterxml.jackson.databind.ObjectMapper.treeToValue(ObjectMapper.java:3261)\n    at com.example.abc.ex.dm.sm.cf.xyz.schema.CallbackDeserializer.parseJobCallback(CallbackDeserializer.java:36)\n    at com.example.abc.ex.dm.sm.cf.xyz.schema.CallbackDeserializer.deserialize(CallbackDeserializer.java:23)\n    at com.example.abc.ex.dm.sm.cf.xyz.schema.CallbackDeserializer.deserialize(CallbackDeserializer.java:10)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4593)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3548)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3516)\n    at com.example.abc.ex.dm.sm.cf.xyz.MyJsonParsingTest.name(MyJsonParsingTest.java:87)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n\n</code></pre>\n<p><strong>Approach 3:</strong>\nParse the value of .object.type after sub-type is known.</p>\n<p>I went further with parsing and even extracted out the value of the concrete type once the sub-types were known. However, this resulted in a StackOverflowError. I am assuming this is getting into an infinite loop cause I am calling mapper.treeToValue(node, Callback.JobCallback.DomainJobCallback.class) and that too is using the same deserializer.\nI know if I parse each of the fields and then construct the concrete objects, it would solve the problem. But I don't want to parse it manually to that depth.</p>\n<p>I am also not sure if I should be initializing a object mapper within CallbackDeserializer as I am currently doing.</p>\n<p>Here's the code to replicate this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.r.e.d.s.c.q;\n\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.*;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.exc.InvalidDefinitionException;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.IOException;\n\nclass MyJsonParsingTest {\n\n    private final ObjectMapper objectMapper = new ObjectMapper();\n\n    @Test\n    void test1() throws JsonProcessingException {\n\n        String jsonPayload = &quot;{\\n&quot; +\n                &quot;  \\&quot;job\\&quot;: \\&quot;example-job\\&quot;,\\n&quot; +\n                &quot;  \\&quot;object\\&quot;: {\\n&quot; +\n                &quot;    \\&quot;type\\&quot;: \\&quot;Domain\\&quot;\\n&quot; +\n                &quot;  }\\n&quot; +\n                &quot;}\\n&quot;;\n\n        Callback callback = objectMapper.readValue(jsonPayload, Callback.class);\n\n        System.out.println(&quot;callback = &quot; + callback);\n    }\n\n    public static class CallbackDeserializer extends JsonDeserializer&lt;Callback&gt; {\n\n        private final ObjectMapper mapper = new ObjectMapper();\n\n        @Override\n        public Callback deserialize(final JsonParser jsonParser,\n                                    final DeserializationContext deserializationContext) throws IOException {\n\n            final JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n\n            final JsonNode jobCallbackNode = node.get(&quot;job&quot;);\n            final JsonNode notificationCallbackNode = node.get(&quot;notify&quot;);\n\n            if (jobCallbackNode != null) {\n                return parseJobCallback(node, jsonParser);\n            }\n            else if (notificationCallbackNode != null) {\n                return parseNotificationCallback(node, jsonParser);\n            }\n            else {\n                throw InvalidDefinitionException.from(jsonParser, &quot;Invalid callback type&quot;, (JavaType) null);\n            }\n        }\n\n        private Callback parseJobCallback(final JsonNode node,\n                                          final JsonParser jsonParser) throws IOException {\n\n//                    return mapper.treeToValue(node, Callback.JobCallback.class);\n\n            final String type = node.get(&quot;object&quot;).get(&quot;type&quot;).asText();\n\n            if (type.equals(&quot;Domain&quot;)) {\n                return mapper.treeToValue(node, Callback.JobCallback.DomainJobCallback.class);\n            }\n            else if (type.equals(&quot;Transfer&quot;)) {\n                return mapper.treeToValue(node, Callback.JobCallback.TransferJobCallback.class);\n            }\n            throw InvalidDefinitionException.from(jsonParser, &quot;Invalid job callback type&quot;, (JavaType) null);\n        }\n\n        private Callback parseNotificationCallback(final JsonNode node,\n                                                   final JsonParser jsonParser) throws JsonProcessingException {\n\n//                    return mapper.treeToValue(node, Callback.NotificationCallback.class);\n\n            final String type = node.get(&quot;object&quot;).get(&quot;type&quot;).asText();\n            if (type.equals(&quot;Domain&quot;)) {\n                return mapper.treeToValue(node, Callback.NotificationCallback.DomainNotificationCallback.class);\n            }\n            else if (type.equals(&quot;Transfer&quot;)) {\n                return mapper.treeToValue(node, Callback.NotificationCallback.TransferNotificationCallback.class);\n            }\n            throw InvalidDefinitionException.from(jsonParser, &quot;Invalid job callback type&quot;, (JavaType) null);\n        }\n    }\n\n    @JsonDeserialize(using = CallbackDeserializer.class)\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public abstract static class Callback {\n\n        private Obj object;\n\n        //        @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;object.type&quot;)\n//        @JsonSubTypes({\n//                @JsonSubTypes.Type(value = JobCallback.DomainJobCallback.class, name = &quot;Domain&quot;),\n//                @JsonSubTypes.Type(value = JobCallback.TransferJobCallback.class, name = &quot;Transfer&quot;),\n//        })\n        @JsonIgnoreProperties(ignoreUnknown = true)\n        public abstract static class JobCallback extends Callback {\n\n            private String job;\n        }\n\n        @JsonIgnoreProperties(ignoreUnknown = true)\n        public static class DomainJobCallback extends Callback.JobCallback {\n\n        }\n\n        @JsonIgnoreProperties(ignoreUnknown = true)\n        public static class TransferJobCallback extends Callback.JobCallback {\n\n        }\n\n        //        @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;object.type&quot;)\n//        @JsonSubTypes({\n//                @JsonSubTypes.Type(value = NotificationCallback.DomainNotificationCallback.class, name = &quot;Domain&quot;),\n//                @JsonSubTypes.Type(value = NotificationCallback.TransferNotificationCallback.class, name = &quot;Contact&quot;)\n//        })\n        @JsonIgnoreProperties(ignoreUnknown = true)\n        public static class NotificationCallback extends Callback {\n\n            private String notify;\n\n        }\n\n        @JsonIgnoreProperties(ignoreUnknown = true)\n        public static class DomainNotificationCallback extends NotificationCallback {\n\n        }\n\n        @JsonIgnoreProperties(ignoreUnknown = true)\n        public static class TransferNotificationCallback extends NotificationCallback {\n\n        }\n\n        @JsonIgnoreProperties(ignoreUnknown = true)\n        public static class Obj {\n\n            private String type;\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1683617752,"post_id":76206869,"comment_id":134389915,"body_markdown":"*Which* part of the file do you want to read? Please show example contents of the file you want to read by [edit]ing your question.","body":"<i>Which</i> part of the file do you want to read? Please show example contents of the file you want to read by <a href=\"https://stackoverflow.com/posts/76206869/edit\">edit</a>ing your question."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1683621367,"post_id":76206869,"comment_id":134390688,"body_markdown":"It seams like this won&#39;t work and you would be getting a `List&lt;Stream&lt;String&gt;&gt;` out.","body":"It seams like this won&#39;t work and you would be getting a <code>List&lt;Stream&lt;String&gt;&gt;</code> out."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683623680,"post_id":76206869,"comment_id":134391219,"body_markdown":"_I want to write only names to the list_ what did you try to achieve that?","body":"<i>I want to write only names to the list</i> what did you try to achieve that?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1683624242,"post_id":76206869,"comment_id":134391359,"body_markdown":"just replace your `.map` with something like this: `.map(line -&gt; {String arr = line.split(&quot; &quot;); return &quot;%s %s&quot;.formatted(arr[1], arr[2]); })`","body":"just replace your <code>.map</code> with something like this: <code>.map(line -&gt; {String arr = line.split(&quot; &quot;); return &quot;%s %s&quot;.formatted(arr[1], arr[2]); })</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683632353,"post_id":76206869,"comment_id":134393277,"body_markdown":"@EmanuelTrandafir `&quot;%s %s&quot;.formatted(arr[1], arr[2])` is an obfuscated and expensive way to get the same as a straight-forward `arr[1] + &quot; &quot; +arr[2]`","body":"@EmanuelTrandafir <code>&quot;%s %s&quot;.formatted(arr[1], arr[2])</code> is an obfuscated and expensive way to get the same as a straight-forward <code>arr[1] + &quot; &quot; +arr[2]</code>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683706677,"post_id":76206869,"comment_id":134406103,"body_markdown":"Re your edit, this question is already closed, so nobody will see it, and in any case a question here should not contain two more more sub-questions.","body":"Re your edit, this question is already closed, so nobody will see it, and in any case a question here should not contain two more more sub-questions."},{"owner":{"account_id":28547169,"reputation":29,"user_id":21852473,"display_name":"R Zav"},"score":0,"creation_date":1683707169,"post_id":76206869,"comment_id":134406213,"body_markdown":"I corrected my question. deleted the question that was before. is that okay?","body":"I corrected my question. deleted the question that was before. is that okay?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1683707392,"post_id":76206869,"comment_id":134406261,"body_markdown":"@RZav if you have a new question then you can make a new question. It still needs to be a good question otherwise it will get closed. It&#39;s a bit confusing because you posted the same code.","body":"@RZav if you have a new question then you can make a new question. It still needs to be a good question otherwise it will get closed. It&#39;s a bit confusing because you posted the same code."},{"owner":{"account_id":28547169,"reputation":29,"user_id":21852473,"display_name":"R Zav"},"score":0,"creation_date":1683708090,"post_id":76206869,"comment_id":134406425,"body_markdown":"good. I will create a new question.","body":"good. I will create a new question."}],"answers":[{"comments":[{"owner":{"account_id":28547169,"reputation":29,"user_id":21852473,"display_name":"R Zav"},"score":0,"creation_date":1683622730,"post_id":76207418,"comment_id":134391005,"body_markdown":"and if not a list is given, but a file. how to read from a file?","body":"and if not a list is given, but a file. how to read from a file?"},{"owner":{"account_id":28547169,"reputation":29,"user_id":21852473,"display_name":"R Zav"},"score":0,"creation_date":1683622927,"post_id":76207418,"comment_id":134391042,"body_markdown":"fileLine = stream\n                    .filter(line -&gt; !line.startsWith(&quot;#&quot;))\n                    .map(l -&gt; l.split(&quot; &quot;)[1])\n                    .collect(Collectors.toList());","body":"fileLine = stream                     .filter(line -&gt; !line.startsWith(&quot;#&quot;))                     .map(l -&gt; l.split(&quot; &quot;)[1])                     .collect(Collectors.toList());"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1683626789,"post_id":76207418,"comment_id":134391962,"body_markdown":"Why would you replace the `.filter` call with a `.skip(1)` seems to be a bit of a downgrade.","body":"Why would you replace the <code>.filter</code> call with a <code>.skip(1)</code> seems to be a bit of a downgrade."}],"tags":[],"owner":{"account_id":28555159,"reputation":9,"user_id":21859476,"display_name":"fengyadong"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683622045,"creation_date":1683622015,"answer_id":76207418,"question_id":76206869,"body_markdown":"  this may help you.  \r\n\r\n  \r\n\r\n    public class Lesson_Stream6  {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            List&lt;String&gt; fileLine = new ArrayList&lt;&gt;();\r\n            fileLine.add(&quot;# Name Surname Marks&quot;);\r\n            fileLine.add(&quot;1 Mike Scott [4,5,5]&quot;);\r\n            fileLine.add(&quot;2 Joe Jones [1,2,3]&quot;);\r\n            fileLine.add(&quot;3 Ann Fleming [3,3,3]&quot;);\r\n    \r\n            List&lt;String&gt; nameLine = fileLine.stream()\r\n                    .skip(1) // ignore the first element\r\n                    .map(l -&gt; l.split(&quot; &quot;)[1]) // extract target String\r\n                    .collect(Collectors.toList()); // collect\r\n    \r\n            nameLine.forEach(System.out::println);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"read part of the file using stream","body":"<p>this may help you.</p>\n<pre><code>public class Lesson_Stream6  {\n\n    public static void main(String[] args) {\n\n        List&lt;String&gt; fileLine = new ArrayList&lt;&gt;();\n        fileLine.add(&quot;# Name Surname Marks&quot;);\n        fileLine.add(&quot;1 Mike Scott [4,5,5]&quot;);\n        fileLine.add(&quot;2 Joe Jones [1,2,3]&quot;);\n        fileLine.add(&quot;3 Ann Fleming [3,3,3]&quot;);\n\n        List&lt;String&gt; nameLine = fileLine.stream()\n                .skip(1) // ignore the first element\n                .map(l -&gt; l.split(&quot; &quot;)[1]) // extract target String\n                .collect(Collectors.toList()); // collect\n\n        nameLine.forEach(System.out::println);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28547169,"reputation":29,"user_id":21852473,"display_name":"R Zav"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1683886301,"creation_date":1683617585,"question_id":76206869,"body_markdown":"How can an array be read from a file? I have a `Student` class and I need to fill in its fields where the `marks` field is an array. I&#39;m trying to fill it in. I need to do it using the stream API. Maybe there is an easier way to make it using the stream API? How do I fix my code?\r\n```java\r\nclass Lesson_Stream6 {\r\n//        # Name Surname Marks\r\n//        1 Mike Scott [4,5,5]\r\n//        2 Joe Jones [1,2,3]\r\n//        3 Ann Fleming [3,3,3]\r\n    public static void main(String[] args) {\r\n        String path1 = &quot;C:\\\\Users\\\\Professional\\\\IdeaProjects\\\\Lesson\\\\src\\\\StreamAPI\\\\FileStream&quot;;\r\n        List&lt;String&gt; stream1 = Files.lines(Paths.get(path1)).toList();\r\n        String[] arr =  new String[stream1.size()];\r\n        for (int i = 0; i &lt; stream1.size(); i++) {\r\n            arr[i] = stream1.get(i);\r\n        }        \r\n        List&lt;Student6&gt;student4s = Stream.of(arr)\r\n                                        .filter(line -&gt; !line.startsWith(&quot;#&quot;))\r\n                                        .map( l -&gt; {\r\n                                                    String s = l.split(&quot; &quot;)[3];\r\n                                                    String[] chars = s.split(&quot;&quot;);\r\n                                                    Integer[] integers = new Integer[3];\r\n                                                    for (int i = 0; i &lt; chars.length; i++) {\r\n                                                        if (chars[i].matches(&quot;[0-9]&quot;)) {\r\n                                                            int c = 0;\r\n                                                            integers[c++] = Integer.parseInt(chars[i]);\r\n                                                        }\r\n                                                    }\r\n                                                    out.println(Arrays.toString(integers));\r\n                                                    return new Student6(Integer.parseInt(l.split(&quot; &quot;)[0]),\r\n                                                                        l.split(&quot; &quot;)[1],\r\n                                                                        l.split(&quot; &quot;)[2],\r\n                                                                        new Integer[]{1, 1, 1});\r\n                                         })\r\n                                        .collect(Collectors.toList());\r\n        out.println(student4s.get(1).Name);\r\n    }\r\n}\r\n\r\nclass Student6 {\r\n    int ID;\r\n    String Name;\r\n    String Surname;\r\n    Integer [] marks;\r\n\r\n    public Student6(int ID, String name, String surname, Integer[] marks) {\r\n        this.ID = ID;\r\n        Name = name;\r\n        Surname = surname;\r\n        this.marks = marks;\r\n    }\r\n}\r\n```\r\n","title":"read part of the file using stream","body":"<p>How can an array be read from a file? I have a <code>Student</code> class and I need to fill in its fields where the <code>marks</code> field is an array. I'm trying to fill it in. I need to do it using the stream API. Maybe there is an easier way to make it using the stream API? How do I fix my code?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Lesson_Stream6 {\n//        # Name Surname Marks\n//        1 Mike Scott [4,5,5]\n//        2 Joe Jones [1,2,3]\n//        3 Ann Fleming [3,3,3]\n    public static void main(String[] args) {\n        String path1 = &quot;C:\\\\Users\\\\Professional\\\\IdeaProjects\\\\Lesson\\\\src\\\\StreamAPI\\\\FileStream&quot;;\n        List&lt;String&gt; stream1 = Files.lines(Paths.get(path1)).toList();\n        String[] arr =  new String[stream1.size()];\n        for (int i = 0; i &lt; stream1.size(); i++) {\n            arr[i] = stream1.get(i);\n        }        \n        List&lt;Student6&gt;student4s = Stream.of(arr)\n                                        .filter(line -&gt; !line.startsWith(&quot;#&quot;))\n                                        .map( l -&gt; {\n                                                    String s = l.split(&quot; &quot;)[3];\n                                                    String[] chars = s.split(&quot;&quot;);\n                                                    Integer[] integers = new Integer[3];\n                                                    for (int i = 0; i &lt; chars.length; i++) {\n                                                        if (chars[i].matches(&quot;[0-9]&quot;)) {\n                                                            int c = 0;\n                                                            integers[c++] = Integer.parseInt(chars[i]);\n                                                        }\n                                                    }\n                                                    out.println(Arrays.toString(integers));\n                                                    return new Student6(Integer.parseInt(l.split(&quot; &quot;)[0]),\n                                                                        l.split(&quot; &quot;)[1],\n                                                                        l.split(&quot; &quot;)[2],\n                                                                        new Integer[]{1, 1, 1});\n                                         })\n                                        .collect(Collectors.toList());\n        out.println(student4s.get(1).Name);\n    }\n}\n\nclass Student6 {\n    int ID;\n    String Name;\n    String Surname;\n    Integer [] marks;\n\n    public Student6(int ID, String name, String surname, Integer[] marks) {\n        this.ID = ID;\n        Name = name;\n        Surname = surname;\n        this.marks = marks;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","azure"],"comments":[{"owner":{"account_id":17644704,"reputation":464,"user_id":12806370,"display_name":"sagar"},"score":0,"creation_date":1684133865,"post_id":76235214,"comment_id":134466364,"body_markdown":"can someone please help on this issue?","body":"can someone please help on this issue?"}],"owner":{"account_id":17644704,"reputation":464,"user_id":12806370,"display_name":"sagar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683886286,"creation_date":1683885920,"question_id":76235214,"body_markdown":"I am new to spring boot(Java technology). I have referred both manual refresh and auto refresh described on https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app#use-automated-refresh However, it still cannot get the updated values in the app config when I hit the API from postman. I even set the refresh interval to 1s. This is the bootstrap.properties file.\r\n\r\n    spring.cloud.azure.appconfiguration.stores[0].connection-string=${APP_CONFIGURATION_CONNECTION_STRING}\r\n    spring.cloud.azure.appconfiguration.stores[0].monitoring.enabled=true\r\n    spring.cloud.azure.appconfiguration.stores[0].monitoring.triggers[0].key=sentinel\r\n    spring.cloud.azure.appconfiguration.stores[0].monitoring.refresh-interval=1s\r\n    spring.cloud.azure.appconfiguration.stores[0].feature-flags.enabled=true\r\n    spring.cloud.azure.appconfiguration.stores[0].monitoring.feature-flag-refresh-interval=1s\r\n    spring.cloud.azure.appconfiguration.stores[0].monitoring.watch-interval=1s\r\n\r\n\r\nMy App configuration contains multiple feature flags(key&#39;s) but as I mentioned above bootstrap file added key as **&quot;sentinel&quot;** able to get the latest value for that key. \r\n\r\nAny idea how I can configure all keys which present in app configuration and if any of the key value gets updated in app config it should return that updated value. Currently if I add spring.cloud.azure.appconfiguration.stores[0].monitoring.triggers[0].key=*  its returning all keys with old values and if I provide any specific key name then only that specific key getting refreshed value along with all key old value.\r\n\r\nCan anyone please suggest how I can configure all keys for refresh monitoring triggers.\r\n\r\nThanks in advance!","title":"Azure app config not returning latest updated/refreshed ALL values using spring boot","body":"<p>I am new to spring boot(Java technology). I have referred both manual refresh and auto refresh described on <a href=\"https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app#use-automated-refresh\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app#use-automated-refresh</a> However, it still cannot get the updated values in the app config when I hit the API from postman. I even set the refresh interval to 1s. This is the bootstrap.properties file.</p>\n<pre><code>spring.cloud.azure.appconfiguration.stores[0].connection-string=${APP_CONFIGURATION_CONNECTION_STRING}\nspring.cloud.azure.appconfiguration.stores[0].monitoring.enabled=true\nspring.cloud.azure.appconfiguration.stores[0].monitoring.triggers[0].key=sentinel\nspring.cloud.azure.appconfiguration.stores[0].monitoring.refresh-interval=1s\nspring.cloud.azure.appconfiguration.stores[0].feature-flags.enabled=true\nspring.cloud.azure.appconfiguration.stores[0].monitoring.feature-flag-refresh-interval=1s\nspring.cloud.azure.appconfiguration.stores[0].monitoring.watch-interval=1s\n</code></pre>\n<p>My App configuration contains multiple feature flags(key's) but as I mentioned above bootstrap file added key as <strong>&quot;sentinel&quot;</strong> able to get the latest value for that key.</p>\n<p>Any idea how I can configure all keys which present in app configuration and if any of the key value gets updated in app config it should return that updated value. Currently if I add spring.cloud.azure.appconfiguration.stores[0].monitoring.triggers[0].key=*  its returning all keys with old values and if I provide any specific key name then only that specific key getting refreshed value along with all key old value.</p>\n<p>Can anyone please suggest how I can configure all keys for refresh monitoring triggers.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","maven","intellij-idea","logback","slf4j"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1683886504,"post_id":76235132,"comment_id":134438567,"body_markdown":"Is the built Jar file a shadow/fat jar (does it only contain your classes or all classes of all used libraries)? If not does it include the necessary class path elements and are the JAR on the configured classpath accessible on the path mentioned in the manifest?","body":"Is the built Jar file a shadow/fat jar (does it only contain your classes or all classes of all used libraries)? If not does it include the necessary class path elements and are the JAR on the configured classpath accessible on the path mentioned in the manifest?"},{"owner":{"account_id":20213545,"reputation":1,"user_id":14825089,"display_name":"Vakaris"},"score":0,"creation_date":1683887373,"post_id":76235132,"comment_id":134438759,"body_markdown":"Creating a fat jar solved the issue. Thank you so much! :) I followed the tutorial here https://javahelps.com/how-to-create-a-fat-jar-using-maven.","body":"Creating a fat jar solved the issue. Thank you so much! :) I followed the tutorial here <a href=\"https://javahelps.com/how-to-create-a-fat-jar-using-maven\" rel=\"nofollow noreferrer\">javahelps.com/how-to-create-a-fat-jar-using-maven</a>."}],"owner":{"account_id":20213545,"reputation":1,"user_id":14825089,"display_name":"Vakaris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683886003,"creation_date":1683885360,"question_id":76235132,"body_markdown":"I am trying to manually build Maven project from the console. mvn clean package builds the project successfully, but once I try to java -jar target/App-1.0.jar I get the error:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\r\n        at services.Executor.&lt;clinit&gt;(Executor.java:23)\r\n        at uk.landbay.Main.main(Main.java:26)\r\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n```\r\n\r\nThe dependency tree includes the org.slf4j.LoggerFactory and looks like this:\r\n\r\n[Dependency tree][1]\r\n\r\n\r\nThe pom.xml looks like this:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;uk.app&lt;/groupId&gt;\r\n    &lt;artifactId&gt;App&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!--   For work with CSV files   --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--   Logging dependencies   --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--   Testing dependencies   --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;uk.app.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nNote that the project runs normally and brings no exception when run using the IntelliJ IDE. What could be the problem? I am using Java 11.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d6ZUP.png","title":"ClassNotFoundException: org.slf4j.LoggerFactory exception although org.slf4j is on the class path","body":"<p>I am trying to manually build Maven project from the console. mvn clean package builds the project successfully, but once I try to java -jar target/App-1.0.jar I get the error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\n        at services.Executor.&lt;clinit&gt;(Executor.java:23)\n        at uk.landbay.Main.main(Main.java:26)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\n</code></pre>\n<p>The dependency tree includes the org.slf4j.LoggerFactory and looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/d6ZUP.png\" rel=\"nofollow noreferrer\">Dependency tree</a></p>\n<p>The pom.xml looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;uk.app&lt;/groupId&gt;\n    &lt;artifactId&gt;App&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;!--   For work with CSV files   --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--   Logging dependencies   --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.4.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n            &lt;version&gt;1.4.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--   Testing dependencies   --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.9.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.9.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;uk.app.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Note that the project runs normally and brings no exception when run using the IntelliJ IDE. What could be the problem? I am using Java 11.</p>\n"},{"tags":["java","pdf","pdf-generation","pdfbox"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1516117824,"post_id":48284888,"comment_id":83554282,"body_markdown":"Have you tried `codePointAt`?","body":"Have you tried <code>codePointAt</code>?"},{"owner":{"account_id":12499112,"reputation":295,"user_id":9098126,"display_name":"Mina Gerges"},"score":0,"creation_date":1516118140,"post_id":48284888,"comment_id":83554514,"body_markdown":"@M.Prokhorov It is the same of output of charAt (644) and fee0 should be the expected output according to character position and form","body":"@M.Prokhorov It is the same of output of charAt (644) and fee0 should be the expected output according to character position and form"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1516120304,"post_id":48284888,"comment_id":83556031,"body_markdown":"[Here&#39;s something](https://github.com/w3c/alreq/wiki/Should-I-use-the-Arabic-Presentation-Forms-provided-in-Unicode%3F) to be said about char presentation forms. Apart from that, the only thing I could suggest then is to try using ICU library. Maybe that could help.","body":"<a href=\"https://github.com/w3c/alreq/wiki/Should-I-use-the-Arabic-Presentation-Forms-provided-in-Unicode%3F\" rel=\"nofollow noreferrer\">Here&#39;s something</a> to be said about char presentation forms. Apart from that, the only thing I could suggest then is to try using ICU library. Maybe that could help."},{"owner":{"account_id":12499112,"reputation":295,"user_id":9098126,"display_name":"Mina Gerges"},"score":0,"creation_date":1516121845,"post_id":48284888,"comment_id":83556997,"body_markdown":"Thanks for your help .Have a new Day !","body":"Thanks for your help .Have a new Day !"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1516181014,"post_id":48284888,"comment_id":83579602,"body_markdown":"There was a mention on the pdfbox user mailing list (I think november or december 2017) of a person who had managed to do it.","body":"There was a mention on the pdfbox user mailing list (I think november or december 2017) of a person who had managed to do it."},{"owner":{"account_id":12499112,"reputation":295,"user_id":9098126,"display_name":"Mina Gerges"},"score":0,"creation_date":1516197747,"post_id":48284888,"comment_id":83590468,"body_markdown":"@TilmanHausherr Any chance to put hands on what that person did ?","body":"@TilmanHausherr Any chance to put hands on what that person did ?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1516198066,"post_id":48284888,"comment_id":83590699,"body_markdown":"It is here https://mail-archives.apache.org/mod_mbox/pdfbox-users/201712.mbox/browser in the thread &quot;Disconnected arabic characters&quot;.","body":"It is here <a href=\"https://mail-archives.apache.org/mod_mbox/pdfbox-users/201712.mbox/browser\" rel=\"nofollow noreferrer\">mail-archives.apache.org/mod_mbox/pdfbox-users/201712.mbox/&hellip;</a> in the thread &quot;Disconnected arabic characters&quot;."},{"owner":{"account_id":12499112,"reputation":295,"user_id":9098126,"display_name":"Mina Gerges"},"score":0,"creation_date":1516208467,"post_id":48284888,"comment_id":83597732,"body_markdown":"It Worked ! Much Thanks. Can you put a detailed Answer or you want me to take care of that ? Here is the Line                                                                               Writer.showText(newStringBuilder(newArabicShaping(ArabicShaping.LETTERS_SHAPE).shape(target)).reverse().toString());                                                                                                                          .\\n                                                                                                                   target is the String and Writer is PDPageContentStream","body":"It Worked ! Much Thanks. Can you put a detailed Answer or you want me to take care of that ? Here is the Line                                                                               Writer.showText(newStringBuilder(newArabicShaping(ArabicShap&zwnj;&#8203;ing.LETTERS_SHAPE).s&zwnj;&#8203;hape(target)).revers&zwnj;&#8203;e().toString());                                                                                                                          .\\n                                                                                                                   target is the String and Writer is PDPageContentStream"},{"owner":{"account_id":12499112,"reputation":295,"user_id":9098126,"display_name":"Mina Gerges"},"score":0,"creation_date":1516209363,"post_id":48284888,"comment_id":83598291,"body_markdown":"Thanks @M.Prokhorov for you too at first i thought that ICU library was for C++","body":"Thanks @M.Prokhorov for you too at first i thought that ICU library was for C++"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1516354867,"post_id":48284888,"comment_id":83661206,"body_markdown":"@MinaGerges please do it.","body":"@MinaGerges please do it."},{"owner":{"account_id":12499112,"reputation":295,"user_id":9098126,"display_name":"Mina Gerges"},"score":0,"creation_date":1516402778,"post_id":48284888,"comment_id":83688114,"body_markdown":"@TilmanHausherr It&#39;s Done","body":"@TilmanHausherr It&#39;s Done"},{"owner":{"account_id":12499112,"reputation":295,"user_id":9098126,"display_name":"Mina Gerges"},"score":0,"creation_date":1517940835,"post_id":48284888,"comment_id":84296473,"body_markdown":"@TilmanHausherr Can you tell me how to make PDPageContentStream object text flow direction right to left instead of LTR","body":"@TilmanHausherr Can you tell me how to make PDPageContentStream object text flow direction right to left instead of LTR"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1517941094,"post_id":48284888,"comment_id":84296621,"body_markdown":"There isn&#39;t AFAIK. I thought that the solution I pointed to made this all appear nicely?","body":"There isn&#39;t AFAIK. I thought that the solution I pointed to made this all appear nicely?"},{"owner":{"account_id":12499112,"reputation":295,"user_id":9098126,"display_name":"Mina Gerges"},"score":0,"creation_date":1517942358,"post_id":48284888,"comment_id":84297168,"body_markdown":"yea solution was perfect but i want when i call showtext method text flows from right to left because i having hard time trying make Arabic lines start at the same vertical line","body":"yea solution was perfect but i want when i call showtext method text flows from right to left because i having hard time trying make Arabic lines start at the same vertical line"},{"owner":{"account_id":12499112,"reputation":295,"user_id":9098126,"display_name":"Mina Gerges"},"score":0,"creation_date":1517954704,"post_id":48284888,"comment_id":84303509,"body_markdown":"@TilmanHausherr is there any accurate way to measure string width ?","body":"@TilmanHausherr is there any accurate way to measure string width ?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1582026325,"post_id":48284888,"comment_id":106626972,"body_markdown":"@MinaGerges *&quot;The bounty expires in 6 days. Answers to this question are eligible for a +100 reputation bounty. Mina Gerges wants to reward an existing answer.&quot;* - I don&#39;t understand this bounty. The only answer is by yourself after all...","body":"@MinaGerges <i>&quot;The bounty expires in 6 days. Answers to this question are eligible for a +100 reputation bounty. Mina Gerges wants to reward an existing answer.&quot;</i> - I don&#39;t understand this bounty. The only answer is by yourself after all..."},{"owner":{"account_id":12499112,"reputation":295,"user_id":9098126,"display_name":"Mina Gerges"},"score":0,"creation_date":1582031138,"post_id":48284888,"comment_id":106629672,"body_markdown":"I was playing around the bounty system to understand how it works. so when i pressed the final button i expected a modal to appear saying &quot;are you sure ?&quot;\nAnd Here We Are ..","body":"I was playing around the bounty system to understand how it works. so when i pressed the final button i expected a modal to appear saying &quot;are you sure ?&quot; And Here We Are .."}],"answers":[{"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1516429202,"post_id":48346903,"comment_id":83693064,"body_markdown":"for those who build with maven... the segment in the pom.xml would be `&lt;dependency&gt;\n        &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\n        &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\n        &lt;version&gt;60.2&lt;/version&gt;\n    &lt;/dependency&gt;`, to see the formatting see here http://mvnrepository.com/artifact/com.ibm.icu/icu4j/60.2 .","body":"for those who build with maven... the segment in the pom.xml would be <code>&lt;dependency&gt;         &lt;groupId&gt;com.ibm.icu&lt;&#47;groupId&gt;         &lt;artifactId&gt;icu4j&lt;&#47;artifactId&gt;         &lt;version&gt;60.2&lt;&#47;version&gt;     &lt;&#47;dependency&gt;</code>, to see the formatting see here <a href=\"http://mvnrepository.com/artifact/com.ibm.icu/icu4j/60.2\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.ibm.icu/icu4j/60.2</a> ."},{"owner":{"account_id":12499112,"reputation":295,"user_id":9098126,"display_name":"Mina Gerges"},"score":0,"creation_date":1516434668,"post_id":48346903,"comment_id":83694197,"body_markdown":"And here is some explanation about maven and why you should use it           https://stackoverflow.com/questions/13335351/what-does-maven-do-in-theory-and-in-practice-when-is-it-worth-to-use-it","body":"And here is some explanation about maven and why you should use it           <a href=\"https://stackoverflow.com/questions/13335351/what-does-maven-do-in-theory-and-in-practice-when-is-it-worth-to-use-it\" title=\"what does maven do in theory and in practice when is it worth to use it\">stackoverflow.com/questions/13335351/&hellip;</a>"},{"owner":{"account_id":8718999,"reputation":519,"user_id":6522707,"display_name":"Daniel F"},"score":1,"creation_date":1522335062,"post_id":48346903,"comment_id":86126134,"body_markdown":"If you want a library that does all this for you(bidi, shaping,reversing,etc) try OpenHTMLtoPDF. https://github.com/danfickle/openhtmltopdf","body":"If you want a library that does all this for you(bidi, shaping,reversing,etc) try OpenHTMLtoPDF. <a href=\"https://github.com/danfickle/openhtmltopdf\" rel=\"nofollow noreferrer\">github.com/danfickle/openhtmltopdf</a>"},{"owner":{"account_id":1274782,"reputation":12266,"user_id":1230257,"accept_rate":35,"display_name":"Danyal Sandeelo"},"score":0,"creation_date":1554123902,"post_id":48346903,"comment_id":97624846,"body_markdown":"Works fine in case of new pdfs, when I am trying to update the pdf, it doesn&#39;t work. Here is an example https://stackoverflow.com/questions/55451551/unable-ot-save-arabic-words-in-a- pdf-pdfbox-java","body":"Works fine in case of new pdfs, when I am trying to update the pdf, it doesn&#39;t work. Here is an example <a href=\"https://stackoverflow.com/questions/55451551/unable-ot-save-arabic-words-in-a-\" title=\"unable ot save arabic words in a \">stackoverflow.com/questions/55451551/&hellip;</a> pdf-pdfbox-java"},{"owner":{"account_id":12499112,"reputation":295,"user_id":9098126,"display_name":"Mina Gerges"},"score":0,"creation_date":1554208468,"post_id":48346903,"comment_id":97660303,"body_markdown":"i am still novice with library but what about using the content writer in the append mode ?","body":"i am still novice with library but what about using the content writer in the append mode ?"}],"tags":[],"owner":{"account_id":12499112,"reputation":295,"user_id":9098126,"display_name":"Mina Gerges"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1586558562,"creation_date":1516384558,"answer_id":48346903,"question_id":48284888,"body_markdown":"### Notice: ###\r\nThe sample code in this answer might be outdated please refer to [h q&#39;s answer][1] for the working sample code\r\n&lt;hr&gt;\r\nAt First I will thank [Tilman Hausherr][2] and [M.Prokhorov][3] for showing me the library that made writing Arabic possible using PDFBox Apache.   \r\n&lt;hr&gt;\r\nThis Answer will be divided into two Sections:\r\n\r\n 1. Downloading the library and installing it\r\n 2. How to use the library\r\n&lt;hr&gt;\r\n\r\n## Downloading the library and installing it ##\r\nWe are going to use [ICU][4] Library.  \r\nICU stands for International Components for Unicode and it is a mature, widely used set of C/C++ and Java libraries providing Unicode and Globalization support for software applications. ICU is widely portable and gives applications the same results on all platforms and between C/C++ and Java software.  \r\n  \r\nTo download the Library go to the downloads page from [here][5].  \r\nChoose the latest version of **ICU4J** as shown in the following image.  \r\n[![Downloads Page][6]][6]   \r\nYou will be transferred to another page and you will find a box with direct links of the needed components .Go ahead and download three Files you will find the highlighted in next image.  \r\n\r\n 1. icu4j-docs.jar  \r\n 2. icu4j-src.jar  \r\n 3. icu4j.jar\r\n\r\n\r\n[![Files][7]][7]\r\n  \r\nThe following explanation for creating and adding a library in **Netbeans IDE**  \r\n\r\n 1. Navigate to the Toolbar and Click tools  \r\n 2. Choose Libraries  \r\n 3. At the bottom left you will find new Library button Create yours  \r\n 4. Navigate to the library that you created in libraries list  \r\n 5. Click it and add jar folders like that  \r\n 6. Add icu4j.jar in class path   \r\n 7. Add icu4j-src.jar in Sources  \r\n 8. Add icu4j-docs.jar in Javadoc  \r\n 9. View your opened projects from the very right  \r\n 10. Expand the project that you want to use the library in  \r\n 11. Right Click on the libraries folder and choose add library  \r\n 12. Finally choose the library that you had just created.  \r\n  \r\nNow you are ready to use the library just import what you want like that\r\n\r\n    import com.ibm.icu.What_You_Want_To_Import;\r\n\r\n&lt;hr&gt;\r\n## How to use the library ##\r\nWith ArabicShaping Class and reversing the String  we can write a correct attached Arabic ***LINE***  \r\nHere is the Code **Notice the comments in the following code**  \r\n\r\n    import com.ibm.icu.text.ArabicShaping;\r\n    import com.ibm.icu.text.ArabicShapingException;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.pdmodel.PDPage;\r\n    import org.apache.pdfbox.pdmodel.PDPageContentStream;\r\n    import org.apache.pdfbox.pdmodel.font.*;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) throws IOException , ArabicShapingException\r\n    {\r\n            File f = new File(&quot;Arabic Font File of format.ttf&quot;);\r\n            PDDocument doc = new PDDocument();\r\n            PDPage Page = new PDPage();\r\n            doc.addPage(Page);\r\n            PDPageContentStream Writer = new PDPageContentStream(doc, Page);\r\n            Writer.beginText();\r\n            Writer.setFont(PDType0Font.load(doc, f), 20);\r\n            Writer.newLineAtOffset(0, 700);\r\n            //The Trick in the next Line of Code But Here is some few Notes first  \r\n            //We have to reverse the string because PDFBox is Writting from the left but Arabic is RTL Language  \r\n            //The output will be perfect except every line will be justified to the left &quot;It&#39;s not hard to resolve this&quot;\r\n            // So we have to write arabic string to pdf line by line..It will be like this\r\n            String s =&quot;جملة بالعربي لتجربة الكلاس اللذي يساعد علي وصل الحروف بشكل صحيح&quot;;\r\n            Writer.showText(new StringBuilder(new ArabicShaping(reverseNumbersInString(ArabicShaping.LETTERS_SHAPE).shape(s))).reverse().toString());\r\n            // Note the previous line of code throws ArabicShapingExcpetion \r\n            Writer.endText();\r\n            Writer.close();\r\n            doc.save(new File(&quot;File_Test.pdf&quot;));\r\n            doc.close();\r\n        }\r\n    }\r\n\r\nHere is the output  \r\n  \r\n[![Output][8]][8]\r\n\r\nI hope that I had gone over everything.\r\n\r\n**Update** : After reversing make sure to reverse the numbers again in order to get the same proper number  \r\nHere is a couple of functions that could help\r\n  \r\n\r\n    public static boolean isInt(String Input)\r\n    {\r\n        try{Integer.parseInt(Input);return true;}\r\n        catch(NumberFormatException e){return false;}\r\n    }\r\n    public static String reverseNumbersInString(String Input)\r\n    {\r\n        char[] Separated = Input.toCharArray();int i = 0;\r\n        String Result = &quot;&quot;,Hold = &quot;&quot;;\r\n        for(;i&lt;Separated.length;i++ )\r\n        {\r\n            if(isInt(Separated[i]+&quot;&quot;) == true)\r\n            {\r\n                while(i &lt; Separated.length &amp;&amp; (isInt(Separated[i]+&quot;&quot;) == true ||  Separated[i] == &#39;.&#39; ||  Separated[i] == &#39;-&#39;))\r\n                {\r\n                    Hold += Separated[i];\r\n                    i++;\r\n                }\r\n                Result+=reverse(Hold);\r\n                Hold=&quot;&quot;;\r\n            }\r\n            else{Result+=Separated[i];}\r\n        }\r\n        return Result;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/61147393/9098126\r\n  [2]: https://stackoverflow.com/users/535646/tilman-hausherr\r\n  [3]: https://stackoverflow.com/users/7470253/m-prokhorov\r\n  [4]: http://site.icu-project.org/\r\n  [5]: http://site.icu-project.org/download\r\n  [6]: https://i.stack.imgur.com/IZIVl.jpg\r\n  [7]: https://i.stack.imgur.com/96Q05.jpg\r\n  [8]: https://i.stack.imgur.com/Kkbvp.jpg","title":"Writing Arabic with PDFBOX with correct characters presentation form without being separated","body":"<h3>Notice:</h3>\n\n<p>The sample code in this answer might be outdated please refer to <a href=\"https://stackoverflow.com/a/61147393/9098126\">h q's answer</a> for the working sample code\n<hr>\nAt First I will thank <a href=\"https://stackoverflow.com/users/535646/tilman-hausherr\">Tilman Hausherr</a> and <a href=\"https://stackoverflow.com/users/7470253/m-prokhorov\">M.Prokhorov</a> for showing me the library that made writing Arabic possible using PDFBox Apache.<br>\n<hr>\nThis Answer will be divided into two Sections:</p>\n\n<ol>\n<li>Downloading the library and installing it</li>\n<li>How to use the library</li>\n</ol>\n\n<hr>\n\n<h2>Downloading the library and installing it</h2>\n\n<p>We are going to use <a href=\"http://site.icu-project.org/\" rel=\"nofollow noreferrer\">ICU</a> Library.<br>\nICU stands for International Components for Unicode and it is a mature, widely used set of C/C++ and Java libraries providing Unicode and Globalization support for software applications. ICU is widely portable and gives applications the same results on all platforms and between C/C++ and Java software.  </p>\n\n<p>To download the Library go to the downloads page from <a href=\"http://site.icu-project.org/download\" rel=\"nofollow noreferrer\">here</a>.<br>\nChoose the latest version of <strong>ICU4J</strong> as shown in the following image.<br>\n<a href=\"https://i.stack.imgur.com/IZIVl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IZIVl.jpg\" alt=\"Downloads Page\"></a><br>\nYou will be transferred to another page and you will find a box with direct links of the needed components .Go ahead and download three Files you will find the highlighted in next image.  </p>\n\n<ol>\n<li>icu4j-docs.jar  </li>\n<li>icu4j-src.jar  </li>\n<li>icu4j.jar</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/96Q05.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/96Q05.jpg\" alt=\"Files\"></a></p>\n\n<p>The following explanation for creating and adding a library in <strong>Netbeans IDE</strong>  </p>\n\n<ol>\n<li>Navigate to the Toolbar and Click tools  </li>\n<li>Choose Libraries  </li>\n<li>At the bottom left you will find new Library button Create yours  </li>\n<li>Navigate to the library that you created in libraries list  </li>\n<li>Click it and add jar folders like that  </li>\n<li>Add icu4j.jar in class path   </li>\n<li>Add icu4j-src.jar in Sources  </li>\n<li>Add icu4j-docs.jar in Javadoc  </li>\n<li>View your opened projects from the very right  </li>\n<li>Expand the project that you want to use the library in  </li>\n<li>Right Click on the libraries folder and choose add library  </li>\n<li>Finally choose the library that you had just created.  </li>\n</ol>\n\n<p>Now you are ready to use the library just import what you want like that</p>\n\n<pre><code>import com.ibm.icu.What_You_Want_To_Import;\n</code></pre>\n\n<p><hr></p>\n\n<h2>How to use the library</h2>\n\n<p>With ArabicShaping Class and reversing the String  we can write a correct attached Arabic <strong><em>LINE</em></strong><br>\nHere is the Code <strong>Notice the comments in the following code</strong>  </p>\n\n<pre><code>import com.ibm.icu.text.ArabicShaping;\nimport com.ibm.icu.text.ArabicShapingException;\nimport java.io.File;\nimport java.io.IOException;\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.font.*;\n\npublic class Main {\n    public static void main(String[] args) throws IOException , ArabicShapingException\n{\n        File f = new File(\"Arabic Font File of format.ttf\");\n        PDDocument doc = new PDDocument();\n        PDPage Page = new PDPage();\n        doc.addPage(Page);\n        PDPageContentStream Writer = new PDPageContentStream(doc, Page);\n        Writer.beginText();\n        Writer.setFont(PDType0Font.load(doc, f), 20);\n        Writer.newLineAtOffset(0, 700);\n        //The Trick in the next Line of Code But Here is some few Notes first  \n        //We have to reverse the string because PDFBox is Writting from the left but Arabic is RTL Language  \n        //The output will be perfect except every line will be justified to the left \"It's not hard to resolve this\"\n        // So we have to write arabic string to pdf line by line..It will be like this\n        String s =\"جملة بالعربي لتجربة الكلاس اللذي يساعد علي وصل الحروف بشكل صحيح\";\n        Writer.showText(new StringBuilder(new ArabicShaping(reverseNumbersInString(ArabicShaping.LETTERS_SHAPE).shape(s))).reverse().toString());\n        // Note the previous line of code throws ArabicShapingExcpetion \n        Writer.endText();\n        Writer.close();\n        doc.save(new File(\"File_Test.pdf\"));\n        doc.close();\n    }\n}\n</code></pre>\n\n<p>Here is the output  </p>\n\n<p><a href=\"https://i.stack.imgur.com/Kkbvp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kkbvp.jpg\" alt=\"Output\"></a></p>\n\n<p>I hope that I had gone over everything.</p>\n\n<p><strong>Update</strong> : After reversing make sure to reverse the numbers again in order to get the same proper number<br>\nHere is a couple of functions that could help</p>\n\n<pre><code>public static boolean isInt(String Input)\n{\n    try{Integer.parseInt(Input);return true;}\n    catch(NumberFormatException e){return false;}\n}\npublic static String reverseNumbersInString(String Input)\n{\n    char[] Separated = Input.toCharArray();int i = 0;\n    String Result = \"\",Hold = \"\";\n    for(;i&lt;Separated.length;i++ )\n    {\n        if(isInt(Separated[i]+\"\") == true)\n        {\n            while(i &lt; Separated.length &amp;&amp; (isInt(Separated[i]+\"\") == true ||  Separated[i] == '.' ||  Separated[i] == '-'))\n            {\n                Hold += Separated[i];\n                i++;\n            }\n            Result+=reverse(Hold);\n            Hold=\"\";\n        }\n        else{Result+=Separated[i];}\n    }\n    return Result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2318840,"reputation":1326,"user_id":2035207,"accept_rate":71,"display_name":"h q"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1683885313,"creation_date":1586547126,"answer_id":61147393,"question_id":48284888,"body_markdown":"Here is a code that works. Download a sample font, e.g. [trado.ttf][1]\r\n\r\nEDIT: I have since been using the [Amiri](https://www.amirifont.org/) font, which can be downloaded from the [`aliftype/amiri` Github](https://github.com/aliftype/amiri/releases/tag/1.000) repository.\r\n\r\nMake sure the `pdfbox-app` and `icu4j` jar files are in your classpath.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import com.ibm.icu.text.ArabicShaping;\r\n    import com.ibm.icu.text.ArabicShapingException;\r\n    import com.ibm.icu.text.Bidi;\r\n    \r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.pdmodel.PDPage;\r\n    import org.apache.pdfbox.pdmodel.PDPageContentStream;\r\n    import org.apache.pdfbox.pdmodel.font.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException , ArabicShapingException\r\n        {\r\n    \tFile f = new File(&quot;Amiri-Regular.ttf&quot;);\r\n            PDDocument doc = new PDDocument();\r\n            PDPage Page = new PDPage();\r\n            doc.addPage(Page);\r\n            PDPageContentStream Writer = new PDPageContentStream(doc, Page);\r\n            Writer.beginText();\r\n            Writer.setFont(PDType0Font.load(doc, f), 20);\r\n            Writer.newLineAtOffset(0, 700);\r\n            String s =&quot;جملة بالعربي لتجربة الكلاس اللذي يساعد علي وصل الحروف بشكل صحيح&quot;;\r\n            Writer.showText(bidiReorder(s));\r\n            Writer.endText();\r\n            Writer.close();\r\n            doc.save(new File(&quot;File_Test.pdf&quot;));\r\n            doc.close();\r\n        }\r\n    \r\n        private static String bidiReorder(String text)\r\n        {\r\n            try {\r\n    \t    Bidi bidi = new Bidi((new ArabicShaping(ArabicShaping.LETTERS_SHAPE)).shape(text), 127);\r\n                bidi.setReorderingMode(0);\r\n                return bidi.writeReordered(2);\r\n            }\r\n            catch (ArabicShapingException ase3) {\r\n    \t    return text;\r\n    \t}\r\n        }\r\n        \r\n    }\r\n    \r\n\r\n\r\n  [1]: http://www.fontsaddict.com/font/traditional-arabic.html","title":"Writing Arabic with PDFBOX with correct characters presentation form without being separated","body":"<p>Here is a code that works. Download a sample font, e.g. <a href=\"http://www.fontsaddict.com/font/traditional-arabic.html\" rel=\"nofollow noreferrer\">trado.ttf</a></p>\n<p>EDIT: I have since been using the <a href=\"https://www.amirifont.org/\" rel=\"nofollow noreferrer\">Amiri</a> font, which can be downloaded from the <a href=\"https://github.com/aliftype/amiri/releases/tag/1.000\" rel=\"nofollow noreferrer\"><code>aliftype/amiri</code> Github</a> repository.</p>\n<p>Make sure the <code>pdfbox-app</code> and <code>icu4j</code> jar files are in your classpath.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.IOException;\n\nimport com.ibm.icu.text.ArabicShaping;\nimport com.ibm.icu.text.ArabicShapingException;\nimport com.ibm.icu.text.Bidi;\n\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.font.*;\n\npublic class Main {\n    public static void main(String[] args) throws IOException , ArabicShapingException\n    {\n    File f = new File(&quot;Amiri-Regular.ttf&quot;);\n        PDDocument doc = new PDDocument();\n        PDPage Page = new PDPage();\n        doc.addPage(Page);\n        PDPageContentStream Writer = new PDPageContentStream(doc, Page);\n        Writer.beginText();\n        Writer.setFont(PDType0Font.load(doc, f), 20);\n        Writer.newLineAtOffset(0, 700);\n        String s =&quot;جملة بالعربي لتجربة الكلاس اللذي يساعد علي وصل الحروف بشكل صحيح&quot;;\n        Writer.showText(bidiReorder(s));\n        Writer.endText();\n        Writer.close();\n        doc.save(new File(&quot;File_Test.pdf&quot;));\n        doc.close();\n    }\n\n    private static String bidiReorder(String text)\n    {\n        try {\n        Bidi bidi = new Bidi((new ArabicShaping(ArabicShaping.LETTERS_SHAPE)).shape(text), 127);\n            bidi.setReorderingMode(0);\n            return bidi.writeReordered(2);\n        }\n        catch (ArabicShapingException ase3) {\n        return text;\n    }\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":12499112,"reputation":295,"user_id":9098126,"display_name":"Mina Gerges"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4383,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":61147393,"answer_count":2,"score":10,"last_activity_date":1683885313,"creation_date":1516117156,"question_id":48284888,"body_markdown":"I&#39;m trying to generate a PDF that contains Arabic text using PDFBox Apache but the text is generated as separated characters because Apache parses given Arabic string to a sequence of general &#39;official&#39; Unicode characters that is equivalent to the isolated form of Arabic characters.\r\n      \r\nHere is an example:  \r\nTarget text to Write in PDF &quot;Should be expected output in PDF File&quot; -&gt; جملة بالعربي  \r\nWhat I get in PDF File -&gt; \r\n\r\n[![incorrect text][1]][1]  \r\n  \r\nI tried some methods but it&#39;s no use here are some of them:  \r\n1. Converting String to Stream of bits and trying to extract right values  \r\n2. Treating String a sequence of bytes with UTF-8 &amp;&amp; UTF-16 and extracting values from them\r\n\r\nThere is some approach seems very promising to get the value &quot;Unicode&quot; of each character But it generate general &quot;official Unicode&quot; Here is what I mean\r\n\r\n    System.out.println( Integer.toHexString( (int)(new String(&quot;كلمة&quot;).charAt(1))) );  \r\n\r\n**output is 644 but fee0 was the expected output because this character is in middle from then I should get the middle Unicode fee0**\r\n\r\n\r\n\r\n so what I want is some method that generates the correct Unicode not the just the official one\r\n\r\nThe very Left column in the first table in the following link represents the general Unicode  \r\n[Arabic Unicode Tables Wikipedia][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bY4dV.jpg\r\n  [2]: https://en.wikipedia.org/wiki/Arabic_script_in_Unicode","title":"Writing Arabic with PDFBOX with correct characters presentation form without being separated","body":"<p>I'm trying to generate a PDF that contains Arabic text using PDFBox Apache but the text is generated as separated characters because Apache parses given Arabic string to a sequence of general 'official' Unicode characters that is equivalent to the isolated form of Arabic characters.</p>\n\n<p>Here is an example:<br>\nTarget text to Write in PDF \"Should be expected output in PDF File\" -> جملة بالعربي<br>\nWhat I get in PDF File -> </p>\n\n<p><a href=\"https://i.stack.imgur.com/bY4dV.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bY4dV.jpg\" alt=\"incorrect text\"></a>  </p>\n\n<p>I tried some methods but it's no use here are some of them:<br>\n1. Converting String to Stream of bits and trying to extract right values<br>\n2. Treating String a sequence of bytes with UTF-8 &amp;&amp; UTF-16 and extracting values from them</p>\n\n<p>There is some approach seems very promising to get the value \"Unicode\" of each character But it generate general \"official Unicode\" Here is what I mean</p>\n\n<pre><code>System.out.println( Integer.toHexString( (int)(new String(\"كلمة\").charAt(1))) );  \n</code></pre>\n\n<p><strong>output is 644 but fee0 was the expected output because this character is in middle from then I should get the middle Unicode fee0</strong></p>\n\n<p>so what I want is some method that generates the correct Unicode not the just the official one</p>\n\n<p>The very Left column in the first table in the following link represents the general Unicode<br>\n<a href=\"https://en.wikipedia.org/wiki/Arabic_script_in_Unicode\" rel=\"noreferrer\">Arabic Unicode Tables Wikipedia</a></p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1578394821,"post_id":59626796,"comment_id":105416240,"body_markdown":"Not sure how much more anyone here will be able to answer given the amount of information. If the error is &quot;*cannot find symbol*&quot; then the compiler can&#39;t even see the annotation. This is a dependency issue rather than anything to do with Lombok.","body":"Not sure how much more anyone here will be able to answer given the amount of information. If the error is &quot;<i>cannot find symbol</i>&quot; then the compiler can&#39;t even see the annotation. This is a dependency issue rather than anything to do with Lombok."},{"owner":{"account_id":8027185,"reputation":389,"user_id":9028488,"display_name":"Fajeczny"},"score":0,"creation_date":1578395272,"post_id":59626796,"comment_id":105416431,"body_markdown":"But how would you explain the ability to access the decompiled SuperBuilder.class file? It all seem to be there","body":"But how would you explain the ability to access the decompiled SuperBuilder.class file? It all seem to be there"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1578396013,"post_id":59626796,"comment_id":105416805,"body_markdown":"That means IntelliJ is able to locate the dependency, but it doesn&#39;t work via the same mechanism as Maven.","body":"That means IntelliJ is able to locate the dependency, but it doesn&#39;t work via the same mechanism as Maven."},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1578397713,"post_id":59626796,"comment_id":105417687,"body_markdown":"There is probably something wrong in your pom. Could you add the relevant part (the dependency to Lombok)?","body":"There is probably something wrong in your pom. Could you add the relevant part (the dependency to Lombok)?"},{"owner":{"account_id":8027185,"reputation":389,"user_id":9028488,"display_name":"Fajeczny"},"score":0,"creation_date":1578399038,"post_id":59626796,"comment_id":105418305,"body_markdown":"I cannot format it properly here, but it looks exactly like here:\nhttps://mvnrepository.com/artifact/org.projectlombok/lombok/1.18.10","body":"I cannot format it properly here, but it looks exactly like here: <a href=\"https://mvnrepository.com/artifact/org.projectlombok/lombok/1.18.10\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.projectlombok/lombok/1.18.10</a>"},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":1,"creation_date":1578400190,"post_id":59626796,"comment_id":105418870,"body_markdown":"That looks correct. Is there anything more to that compiler error? Only because it is in the line of `@SuperBuilder` does not mean that it can&#39;t find the annotation. It may as well be another symbol in the generated code.","body":"That looks correct. Is there anything more to that compiler error? Only because it is in the line of <code>@SuperBuilder</code> does not mean that it can&#39;t find the annotation. It may as well be another symbol in the generated code."}],"answers":[{"tags":[],"owner":{"account_id":8027185,"reputation":389,"user_id":9028488,"display_name":"Fajeczny"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1683885220,"creation_date":1578469956,"answer_id":59641544,"question_id":59626796,"body_markdown":"Ok, I found it. I missed that the User class was extending a basic class every entity in our application extends. It seemed so obvious and yet I didn&#39;t notice...\r\n\r\nAnyway, I found out only by running the *mvn clean install* in terminal - the output was much more verbose than the one in IntelliJ and it pointed out this class. After adding **@SuperBuilder** annotation on top of it compilation was successful.\r\n\r\nBut **@SuperBuilder(toBuilder=true)** is the right way of using it.","title":"Lombok&#39;s @SuperBuilder - Error java: cannot find symbol","body":"<p>Ok, I found it. I missed that the User class was extending a basic class every entity in our application extends. It seemed so obvious and yet I didn't notice...</p>\n<p>Anyway, I found out only by running the <em>mvn clean install</em> in terminal - the output was much more verbose than the one in IntelliJ and it pointed out this class. After adding <strong>@SuperBuilder</strong> annotation on top of it compilation was successful.</p>\n<p>But <strong>@SuperBuilder(toBuilder=true)</strong> is the right way of using it.</p>\n"},{"comments":[{"owner":{"account_id":1795069,"reputation":85,"user_id":1634641,"display_name":"MrA"},"score":0,"creation_date":1586203648,"post_id":60043378,"comment_id":108037923,"body_markdown":"Thanks! Fixed it. can you also explain why?","body":"Thanks! Fixed it. can you also explain why?"}],"tags":[],"owner":{"account_id":5789010,"reputation":3745,"user_id":4567218,"display_name":"Leonid Dashko"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1580747429,"creation_date":1580747429,"answer_id":60043378,"question_id":59626796,"body_markdown":"I&#39;ve faced same issue and **adding** `@SuperBuilder` **to the all &quot;base&quot; classes** solved the issue.\r\n\r\nBefore:\r\n```\r\nabstract class Parent {\r\n   ...\r\n}\r\n\r\n@SuperBuilder\r\nclass Child extends Parent {\r\n   ...\r\n}\r\n```\r\n\r\nAfter:\r\n```\r\n@SuperBuilder              // &lt;- addded\r\nabstract class Parent {\r\n   ...\r\n}\r\n\r\n@SuperBuilder\r\nclass Child extends Parent {\r\n   ...\r\n}\r\n```","title":"Lombok&#39;s @SuperBuilder - Error java: cannot find symbol","body":"<p>I've faced same issue and <strong>adding</strong> <code>@SuperBuilder</code> <strong>to the all \"base\" classes</strong> solved the issue.</p>\n\n<p>Before:</p>\n\n<pre><code>abstract class Parent {\n   ...\n}\n\n@SuperBuilder\nclass Child extends Parent {\n   ...\n}\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>@SuperBuilder              // &lt;- addded\nabstract class Parent {\n   ...\n}\n\n@SuperBuilder\nclass Child extends Parent {\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":8027185,"reputation":389,"user_id":9028488,"display_name":"Fajeczny"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16153,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":59641544,"answer_count":2,"score":18,"last_activity_date":1683885220,"creation_date":1578393683,"question_id":59626796,"body_markdown":"I&#39;ve been using Lombok with IntelliJ for a while now. I have installed newest (v. 0.28) Lombok plugin, enabled annotation processing and added a Lombok dependency (v. 1.18.10) in pom.xml. It all worked well until today, when I wanted to implement the experimental **@SuperBuilder**.\r\n\r\nI have a simple hierarchy:\r\n```\r\n@SuperBuilder\r\npublic class User {\r\n   private String a;\r\n}\r\n\r\n@SuperBuilder\r\npublic class Employee extends User {\r\n   private int b;\r\n}\r\n\r\n@SuperBuilder\r\npublic class Employer extends User {\r\n   private double c;\r\n}\r\n```\r\n\r\nI wanted to set the fields from parent&#39;s class in child&#39;s builder, e.g.:\r\n```\r\nEmployee.builder().a(&quot;Positive&quot;).b(1).build();\r\n\r\nEmployer.builder().a(&quot;Negative&quot;).c(-2.1).build();\r\n```\r\n\r\nAt the first glance it all seems to work - there are no errors displayed when the file is open and the builder is fine. However after *mvn clean compile* I get the following result on every @SuperBuilder line (i.e. in each of those 3 classes):\r\n```Error:(20) java: cannot find symbol```\r\n\r\nWhat am I missing here? I tried updating Lombok plugin version and reinstalling it, but without any success.","title":"Lombok&#39;s @SuperBuilder - Error java: cannot find symbol","body":"<p>I've been using Lombok with IntelliJ for a while now. I have installed newest (v. 0.28) Lombok plugin, enabled annotation processing and added a Lombok dependency (v. 1.18.10) in pom.xml. It all worked well until today, when I wanted to implement the experimental <strong>@SuperBuilder</strong>.</p>\n\n<p>I have a simple hierarchy:</p>\n\n<pre><code>@SuperBuilder\npublic class User {\n   private String a;\n}\n\n@SuperBuilder\npublic class Employee extends User {\n   private int b;\n}\n\n@SuperBuilder\npublic class Employer extends User {\n   private double c;\n}\n</code></pre>\n\n<p>I wanted to set the fields from parent's class in child's builder, e.g.:</p>\n\n<pre><code>Employee.builder().a(\"Positive\").b(1).build();\n\nEmployer.builder().a(\"Negative\").c(-2.1).build();\n</code></pre>\n\n<p>At the first glance it all seems to work - there are no errors displayed when the file is open and the builder is fine. However after <em>mvn clean compile</em> I get the following result on every @SuperBuilder line (i.e. in each of those 3 classes):\n<code>Error:(20) java: cannot find symbol</code></p>\n\n<p>What am I missing here? I tried updating Lombok plugin version and reinstalling it, but without any success.</p>\n"},{"tags":["java","docker","kubernetes","monitor","cadvisor"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1683886726,"post_id":76235108,"comment_id":134438617,"body_markdown":"A container runs a single process, and a process doesn&#39;t have a load average.  Kubernetes does keep track of the CPU utilization of the process and that can be used in resource limits and via the HorizontalPodAutoscaler.","body":"A container runs a single process, and a process doesn&#39;t have a load average.  Kubernetes does keep track of the CPU utilization of the process and that can be used in resource limits and via the HorizontalPodAutoscaler."}],"owner":{"account_id":27070006,"reputation":1,"user_id":20620767,"display_name":"dongwang 123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683885114,"creation_date":1683885114,"question_id":76235108,"body_markdown":"Is there any way to monitor the loadaverage inside the container on k8s use java，I need to do this inside the container，I know that what I get through /proc/loadaverage is the loadaverage of the host machine。\r\n\r\nCan it only be calculated by the formula for calculating load in linux?\r\n\r\nloadn = load(n-1) * e + active * (1 - e)\r\n\r\nbut it is inconvenient to obtain all processes and threads in the container\r\n\r\n\r\nMonitor loadaverage of docker container inside the container","title":"Monitor Docker container loadaverage","body":"<p>Is there any way to monitor the loadaverage inside the container on k8s use java，I need to do this inside the container，I know that what I get through /proc/loadaverage is the loadaverage of the host machine。</p>\n<p>Can it only be calculated by the formula for calculating load in linux?</p>\n<p>loadn = load(n-1) * e + active * (1 - e)</p>\n<p>but it is inconvenient to obtain all processes and threads in the container</p>\n<p>Monitor loadaverage of docker container inside the container</p>\n"},{"tags":["java","tomcat","java-8","tomcat9"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1683880438,"post_id":76233929,"comment_id":134437271,"body_markdown":"Are you expecting it to execute the AspectJ compiler in this project?","body":"Are you expecting it to execute the AspectJ compiler in this project?"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683883421,"post_id":76233929,"comment_id":134437919,"body_markdown":"yes it to execute the AspectJ compiler","body":"yes it to execute the AspectJ compiler"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1683884432,"post_id":76233929,"comment_id":134438138,"body_markdown":"Then it sounds like it is a problem. This part sounds wrong: “the project is not a Java classpath-capable package”","body":"Then it sounds like it is a problem. This part sounds wrong: “the project is not a Java classpath-capable package”"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1683884460,"post_id":76233929,"comment_id":134438143,"body_markdown":"What is the packaging type of the project. Maybe include the pom.xml in the question.","body":"What is the packaging type of the project. Maybe include the pom.xml in the question."},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683884476,"post_id":76233929,"comment_id":134438148,"body_markdown":"any suggestion how it can be resolved i&#39;m using jdk8, aspectj-maven-plugin v1.7 and maven-compiler-plugin v3.11.0","body":"any suggestion how it can be resolved i&#39;m using jdk8, aspectj-maven-plugin v1.7 and maven-compiler-plugin v3.11.0"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683884567,"post_id":76233929,"comment_id":134438165,"body_markdown":"i&#39;m warning you my pom.xml is a mess:) i will upload that if you want.","body":"i&#39;m warning you my pom.xml is a mess:) i will upload that if you want."},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683884993,"post_id":76233929,"comment_id":134438264,"body_markdown":"really appreciate the help if my pom can be sorted out.....","body":"really appreciate the help if my pom can be sorted out....."}],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683884943,"creation_date":1683875507,"question_id":76233929,"body_markdown":"warnings: -\r\nThe build was a success but i&#39;m not sure should i resolve this warnings or let it be\r\n\r\n    aspectj-maven-plugin:1.7:compile\r\n    [WARNING] Not executing aspectJ compiler as the project is not a Java classpath-capable package\r\n    aspectj-maven-plugin:1.7:test-compile(default) myb-backend\r\n    [WARNING] No sources found skipping aspectJ compile\r\n\r\nadding the pom.xml. hope to update any versions to resolve this. Also, Open for any changes in the dependency versions. i can update any required or suggested changes. i&#39;m using jdk8, tomcat 9.0.74 and mysql 8.0.31          \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.myweb&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;myweb&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;name&gt;myweb&lt;/name&gt;\r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;myweb-backend&lt;/module&gt;\r\n    \t\t&lt;module&gt;myweb-services&lt;/module&gt;\r\n    \t\t&lt;module&gt;myweb-web&lt;/module&gt;\r\n    \t&lt;/modules&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.myweb&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;myweb-backend&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.myweb&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;myweb-services&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.myweb&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;myweb-web&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;5.3.27&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;spring.version&gt;5.3.27&lt;/spring.version&gt;\r\n    \t\t&lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\r\n    \t\t&lt;slf4j.version&gt;1.6.1&lt;/slf4j.version&gt;\r\n    \t\t&lt;ehcache-core.version&gt;2.4.2&lt;/ehcache-core.version&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;spring-security.version&gt;3.0.5.RELEASE&lt;/spring-security.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;Springframework milestone&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-maven-release&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Maven Release Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://maven.springframework.org/release&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-maven-milestone&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Maven Milestone Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-roo-repository&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Roo Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://spring-roo-repository.springsource.org/release&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;JBoss Repo&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://repository.jboss.org/nexus/content/repositories/releases&lt;/url&gt;\r\n    \t\t\t&lt;name&gt;JBoss Repo&lt;/name&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-maven-release&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Maven Release Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://maven.springframework.org/release&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-maven-milestone&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Maven Milestone Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-roo-repository&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Roo Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://spring-roo-repository.springsource.org/release&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-acl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.8.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.8.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.16&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sf.flexjson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flexjson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Spring dependencies --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0.M2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-search&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.4.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.3.Final&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;cglib&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.0.Final&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;cglib&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.0&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;commons-pool&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;xerces&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;xerces&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;xerces&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;ehcache-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${ehcache-core.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.0.31&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;bouncycastle&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;bcprov-jdk16&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;140&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.11.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t\t&lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;!-- NB: You must use Maven 2.0.9 or above or these are ignored (see \r\n    \t\t\t\t\t\tMNG-2972) --&gt;\r\n    \t\t\t\t\t&lt;!--&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;--&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;outxml&gt;true&lt;/outxml&gt;\r\n    \t\t\t\t\t&lt;aspectLibraries&gt;\r\n    \t\t\t\t\t\t&lt;aspectLibrary&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/aspectLibrary&gt;\r\n    \t\t\t\t\t&lt;/aspectLibraries&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t\t&lt;complianceLevel&gt;1.8&lt;/complianceLevel&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;printSummary&gt;false&lt;/printSummary&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;descriptorRefs&gt;\r\n    \t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    \t\t\t\t\t&lt;/descriptorRefs&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;!-- IDE --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.7&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n    \t\t\t\t\t&lt;downloadJavadocs&gt;false&lt;/downloadJavadocs&gt;\r\n    \t\t\t\t\t&lt;wtpversion&gt;2.0&lt;/wtpversion&gt;\r\n    \t\t\t\t\t&lt;additionalBuildcommands&gt;\r\n    \t\t\t\t\t\t&lt;buildCommand&gt;\r\n    \t\t\t\t\t\t\t&lt;name&gt;org.eclipse.ajdt.core.ajbuilder&lt;/name&gt;\r\n    \t\t\t\t\t\t\t&lt;arguments&gt;\r\n    \t\t\t\t\t\t\t\t&lt;aspectPath&gt;org.springframework.aspects&lt;/aspectPath&gt;\r\n    \t\t\t\t\t\t\t&lt;/arguments&gt;\r\n    \t\t\t\t\t\t&lt;/buildCommand&gt;\r\n    \t\t\t\t\t\t&lt;buildCommand&gt;\r\n    \t\t\t\t\t\t\t&lt;name&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/name&gt;\r\n    \t\t\t\t\t\t&lt;/buildCommand&gt;\r\n    \t\t\t\t\t&lt;/additionalBuildcommands&gt;\r\n    \t\t\t\t\t&lt;additionalProjectnatures&gt;\r\n    \t\t\t\t\t\t&lt;projectnature&gt;org.eclipse.ajdt.ui.ajnature&lt;/projectnature&gt;\r\n    \t\t\t\t\t\t&lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\r\n    \t\t\t\t\t&lt;/additionalProjectnatures&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;","title":"could below warning can cause issue while running the application","body":"<p>warnings: -\nThe build was a success but i'm not sure should i resolve this warnings or let it be</p>\n<pre><code>aspectj-maven-plugin:1.7:compile\n[WARNING] Not executing aspectJ compiler as the project is not a Java classpath-capable package\naspectj-maven-plugin:1.7:test-compile(default) myb-backend\n[WARNING] No sources found skipping aspectJ compile\n</code></pre>\n<p>adding the pom.xml. hope to update any versions to resolve this. Also, Open for any changes in the dependency versions. i can update any required or suggested changes. i'm using jdk8, tomcat 9.0.74 and mysql 8.0.31</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.myweb&lt;/groupId&gt;\n    &lt;artifactId&gt;myweb&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;myweb&lt;/name&gt;\n    &lt;modules&gt;\n        &lt;module&gt;myweb-backend&lt;/module&gt;\n        &lt;module&gt;myweb-services&lt;/module&gt;\n        &lt;module&gt;myweb-web&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.myweb&lt;/groupId&gt;\n                &lt;artifactId&gt;myweb-backend&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.myweb&lt;/groupId&gt;\n                &lt;artifactId&gt;myweb-services&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.myweb&lt;/groupId&gt;\n                &lt;artifactId&gt;myweb-web&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n                &lt;version&gt;5.3.27&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;properties&gt;\n        &lt;spring.version&gt;5.3.27&lt;/spring.version&gt;\n        &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\n        &lt;slf4j.version&gt;1.6.1&lt;/slf4j.version&gt;\n        &lt;ehcache-core.version&gt;2.4.2&lt;/ehcache-core.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;spring-security.version&gt;3.0.5.RELEASE&lt;/spring-security.version&gt;\n    &lt;/properties&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Springframework milestone&lt;/id&gt;\n            &lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-maven-release&lt;/id&gt;\n            &lt;name&gt;Spring Maven Release Repository&lt;/name&gt;\n            &lt;url&gt;http://maven.springframework.org/release&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-maven-milestone&lt;/id&gt;\n            &lt;name&gt;Spring Maven Milestone Repository&lt;/name&gt;\n            &lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-roo-repository&lt;/id&gt;\n            &lt;name&gt;Spring Roo Repository&lt;/name&gt;\n            &lt;url&gt;http://spring-roo-repository.springsource.org/release&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;JBoss Repo&lt;/id&gt;\n            &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/releases&lt;/url&gt;\n            &lt;name&gt;JBoss Repo&lt;/name&gt;\n            &lt;snapshots&gt;\n                &lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-maven-release&lt;/id&gt;\n            &lt;name&gt;Spring Maven Release Repository&lt;/name&gt;\n            &lt;url&gt;http://maven.springframework.org/release&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-maven-milestone&lt;/id&gt;\n            &lt;name&gt;Spring Maven Milestone Repository&lt;/name&gt;\n            &lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-roo-repository&lt;/id&gt;\n            &lt;name&gt;Spring Roo Repository&lt;/name&gt;\n            &lt;url&gt;http://spring-roo-repository.springsource.org/release&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring-security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;${spring-security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-acl&lt;/artifactId&gt;\n            &lt;version&gt;${spring-security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring-security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n            &lt;version&gt;${spring-security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n            &lt;version&gt;1.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.flexjson&lt;/groupId&gt;\n            &lt;artifactId&gt;flexjson&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.M2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-search&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3.Final&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;cglib&lt;/groupId&gt;\n                    &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;dom4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0.Final&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n                    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n                    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;cglib&lt;/groupId&gt;\n            &lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n            &lt;artifactId&gt;jta&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-pool&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;xerces&lt;/groupId&gt;\n                    &lt;artifactId&gt;xerces&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;xerces&lt;/groupId&gt;\n                    &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n                    &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n            &lt;artifactId&gt;ehcache-core&lt;/artifactId&gt;\n            &lt;version&gt;${ehcache-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.31&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk16&lt;/artifactId&gt;\n            &lt;version&gt;140&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.7&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;!-- NB: You must use Maven 2.0.9 or above or these are ignored (see \n                        MNG-2972) --&gt;\n                    &lt;!--&lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;--&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;outxml&gt;true&lt;/outxml&gt;\n                    &lt;aspectLibraries&gt;\n                        &lt;aspectLibrary&gt;\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n                        &lt;/aspectLibrary&gt;\n                    &lt;/aspectLibraries&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;complianceLevel&gt;1.8&lt;/complianceLevel&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;printSummary&gt;false&lt;/printSummary&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!-- IDE --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                    &lt;downloadJavadocs&gt;false&lt;/downloadJavadocs&gt;\n                    &lt;wtpversion&gt;2.0&lt;/wtpversion&gt;\n                    &lt;additionalBuildcommands&gt;\n                        &lt;buildCommand&gt;\n                            &lt;name&gt;org.eclipse.ajdt.core.ajbuilder&lt;/name&gt;\n                            &lt;arguments&gt;\n                                &lt;aspectPath&gt;org.springframework.aspects&lt;/aspectPath&gt;\n                            &lt;/arguments&gt;\n                        &lt;/buildCommand&gt;\n                        &lt;buildCommand&gt;\n                            &lt;name&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/name&gt;\n                        &lt;/buildCommand&gt;\n                    &lt;/additionalBuildcommands&gt;\n                    &lt;additionalProjectnatures&gt;\n                        &lt;projectnature&gt;org.eclipse.ajdt.ui.ajnature&lt;/projectnature&gt;\n                        &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\n                    &lt;/additionalProjectnatures&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":979189,"reputation":725,"user_id":1866010,"accept_rate":67,"display_name":"Calabacin"},"score":0,"creation_date":1681310483,"post_id":33038595,"comment_id":134036270,"body_markdown":"It seems that this may be possible nowadays, according to the documentation:\nhttps://openjpa.apache.org/builds/3.2.2/apache-openjpa/docs/#jpa_langref_subqueries","body":"It seems that this may be possible nowadays, according to the documentation: <a href=\"https://openjpa.apache.org/builds/3.2.2/apache-openjpa/docs/#jpa_langref_subqueries\" rel=\"nofollow noreferrer\">openjpa.apache.org/builds/3.2.2/apache-openjpa/docs/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":979189,"reputation":725,"user_id":1866010,"accept_rate":67,"display_name":"Calabacin"},"score":0,"creation_date":1444397907,"post_id":33039243,"comment_id":53900237,"body_markdown":"I can see it in your link:  _Subqueries are restricted to the WHERE and HAVING clauses in this release. Support for subqueries in the FROM clause will be considered in a later release of the specification._","body":"I can see it in your link:  <i>Subqueries are restricted to the WHERE and HAVING clauses in this release. Support for subqueries in the FROM clause will be considered in a later release of the specification.</i>"},{"owner":{"account_id":979189,"reputation":725,"user_id":1866010,"accept_rate":67,"display_name":"Calabacin"},"score":0,"creation_date":1681310504,"post_id":33039243,"comment_id":134036278,"body_markdown":"It seems that this may be possible nowadays, according to the documentation:\nhttps://openjpa.apache.org/builds/3.2.2/apache-openjpa/docs/#jpa_langref_subqueries","body":"It seems that this may be possible nowadays, according to the documentation: <a href=\"https://openjpa.apache.org/builds/3.2.2/apache-openjpa/docs/#jpa_langref_subqueries\" rel=\"nofollow noreferrer\">openjpa.apache.org/builds/3.2.2/apache-openjpa/docs/&hellip;</a>"}],"tags":[],"owner":{"account_id":6959842,"reputation":4042,"user_id":5339680,"display_name":"Ish"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1444396393,"creation_date":1444396393,"answer_id":33039243,"question_id":33038595,"body_markdown":"Selecting from derived tables (or having subqueries in the FROM clause) is not currently supported by [JPA][1].\r\n\r\n  [1]: http://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/jpa_langref.html#jpa_langref_subqueries","title":"Can I use select from derived tables with JPA?","body":"<p>Selecting from derived tables (or having subqueries in the FROM clause) is not currently supported by <a href=\"http://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/jpa_langref.html#jpa_langref_subqueries\" rel=\"nofollow\">JPA</a>.</p>\n"}],"owner":{"account_id":979189,"reputation":725,"user_id":1866010,"accept_rate":67,"display_name":"Calabacin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2095,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":33039243,"answer_count":1,"score":5,"last_activity_date":1683884060,"creation_date":1444394502,"question_id":33038595,"body_markdown":"I have a table &#39;asset&#39; that has a 1 to n relation with a table called &#39;asset_properties&#39; that contains a list of properties of that asset, and a many to many (using an intermediate table &#39;asset_has_tag&#39;) relation with table &#39;tags&#39; that contains a list of tags.\r\n\r\nI need to get a list of assets that have BOTH some specific tags AND some property values.\r\n\r\nIf I needed assets that have EITHER some tags OR some properties I could simply add both results of the following jpa queries to a java.util.Set.\r\n\r\nI can get what I want with native SQL using the following query.\r\n\r\n---\r\nThe Native SQL Query:\r\n-\r\n\r\n    SELECT a.*\r\n    FROM (SELECT ap.* \r\n    \tFROM asset ap JOIN asset_property p\r\n    \tWHERE p.value LIKE &quot;%asd%&quot; OR ap.name LIKE &quot;%asd%&quot; OR ap.description LIKE &quot;%asd%&quot;\r\n    ) a\r\n    JOIN asset_has_tag r, tag h\r\n    WHERE a.uuid = r.asset_id AND h.uuid=r.tag_id AND h.category IN (&quot;asd&quot;, &quot;qwe&quot;, &quot;zxc&quot;)\r\n    GROUP BY a.uuid\r\n\r\n\r\n---\r\nThe JPA Queries:\r\n-\r\n\r\n    String findByAssetAndTagValues =\r\n    &quot;select distinct(a) from Asset a join a.Tags h where a.name like :assetname or a.description like :assetdescription and h.name in :tagnames and h.category in :tagcategories and h.uuid=:taguuids&quot;\r\n\r\n    String findAssetsWithPropertyByValue =\r\n    &quot;select distinct(a) from Asset a join a.assetProperties p where p.value like :value&quot;\r\n\r\n---\r\nThe Entities (empty constructors, getters and setters removed)\r\n-\r\n\r\n    @Entity\r\n    public class Asset implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(generator = &quot;myUUID&quot;)\r\n    \t@GenericGenerator(name=&quot;myUUID&quot;, strategy=&quot;uuid2&quot;)\r\n    \t@Column(unique = true, nullable = false, length = 16)\r\n    \tprivate UUID uuid;\r\n    \r\n    \tprivate String description;\r\n    \r\n    \t// bi-directional many-to-one association to assetProperty\r\n    \t@OneToMany(mappedBy = &quot;asset&quot;, fetch = FetchType.LAZY)\r\n    \tprivate List&lt;AssetProperty&gt; assetProperties;\r\n    \r\n    \t// bi-directional many-to-many association to tag\r\n    \t@ManyToMany(mappedBy = &quot;assets&quot;, fetch = FetchType.LAZY)\r\n    \tprivate Set&lt;tag&gt; tags;\r\n\r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n\t    \treturn (obj != null &amp;&amp; obj instanceof Asset &amp;&amp; ((Asset)obj).getUuid().equals(uuid));\r\n    \t}\r\n    }\r\n    \r\n    @Entity\r\n    public class AssetProperty implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(unique=true, nullable=false)\r\n    \tprivate int id;\r\n    \r\n    \t@Column(nullable=false, length=255)\r\n    \tprivate String name;\r\n    \r\n    \t@Column(length=512)\r\n    \tprivate String value;\r\n    \r\n    \t//bi-directional many-to-one association to Asset\r\n    \t@ManyToOne(fetch=FetchType.LAZY)\r\n    \t@JoinColumn(name=&quot;asset_id&quot;, nullable=false)\r\n    \tprivate Asset asset;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;hardtag&quot;)\r\n    public class Hardtag implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(generator = &quot;uuid&quot;)\r\n    \t@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    \t@Column(unique = true, nullable = false)\r\n    \tprivate UUID uuid;\r\n    \r\n    \t@Column(length = 255)\r\n    \tprivate String category;\r\n    \r\n    \t@Column(nullable = false, length = 255)\r\n    \tprivate String name;\r\n    \r\n    \t// bi-directional many-to-many association to Asset\r\n    \t@ManyToMany(fetch = FetchType.LAZY)\r\n    \t@JoinTable(name = &quot;asset_has_tag&quot;, joinColumns = { @JoinColumn(name = &quot;tag_id&quot;, nullable = false) }, inverseJoinColumns = { @JoinColumn(name = &quot;asset_id&quot;, nullable = false) })\r\n    \tprivate Set&lt;Asset&gt; assets;\r\n\r\n    \t@Override\r\n\t    public boolean equals(Object obj) {\r\n\t\t    return obj instanceof Hardtag &amp;&amp; ((Hardtag) obj).getUuid().equals(uuid);\r\n    \t}\r\n    }\r\n\r\n\r\nEDIT: Any alternatives since JPA doesn&#39;t support it yet?\r\n\r\nEDIT2 (2023): It seems this may now be possible, although I have not tested it: https://openjpa.apache.org/builds/3.2.2/apache-openjpa/docs/#jpa_langref_subqueries","title":"Can I use select from derived tables with JPA?","body":"<p>I have a table 'asset' that has a 1 to n relation with a table called 'asset_properties' that contains a list of properties of that asset, and a many to many (using an intermediate table 'asset_has_tag') relation with table 'tags' that contains a list of tags.</p>\n<p>I need to get a list of assets that have BOTH some specific tags AND some property values.</p>\n<p>If I needed assets that have EITHER some tags OR some properties I could simply add both results of the following jpa queries to a java.util.Set.</p>\n<p>I can get what I want with native SQL using the following query.</p>\n<hr />\n<h2>The Native SQL Query:</h2>\n<pre><code>SELECT a.*\nFROM (SELECT ap.* \n    FROM asset ap JOIN asset_property p\n    WHERE p.value LIKE &quot;%asd%&quot; OR ap.name LIKE &quot;%asd%&quot; OR ap.description LIKE &quot;%asd%&quot;\n) a\nJOIN asset_has_tag r, tag h\nWHERE a.uuid = r.asset_id AND h.uuid=r.tag_id AND h.category IN (&quot;asd&quot;, &quot;qwe&quot;, &quot;zxc&quot;)\nGROUP BY a.uuid\n</code></pre>\n<hr />\n<h2>The JPA Queries:</h2>\n<pre><code>String findByAssetAndTagValues =\n&quot;select distinct(a) from Asset a join a.Tags h where a.name like :assetname or a.description like :assetdescription and h.name in :tagnames and h.category in :tagcategories and h.uuid=:taguuids&quot;\n\nString findAssetsWithPropertyByValue =\n&quot;select distinct(a) from Asset a join a.assetProperties p where p.value like :value&quot;\n</code></pre>\n<hr />\n<h2>The Entities (empty constructors, getters and setters removed)</h2>\n<pre><code>@Entity\npublic class Asset implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(generator = &quot;myUUID&quot;)\n    @GenericGenerator(name=&quot;myUUID&quot;, strategy=&quot;uuid2&quot;)\n    @Column(unique = true, nullable = false, length = 16)\n    private UUID uuid;\n\n    private String description;\n\n    // bi-directional many-to-one association to assetProperty\n    @OneToMany(mappedBy = &quot;asset&quot;, fetch = FetchType.LAZY)\n    private List&lt;AssetProperty&gt; assetProperties;\n\n    // bi-directional many-to-many association to tag\n    @ManyToMany(mappedBy = &quot;assets&quot;, fetch = FetchType.LAZY)\n    private Set&lt;tag&gt; tags;\n\n    @Override\n    public boolean equals(Object obj) {\n        return (obj != null &amp;&amp; obj instanceof Asset &amp;&amp; ((Asset)obj).getUuid().equals(uuid));\n    }\n}\n\n@Entity\npublic class AssetProperty implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(unique=true, nullable=false)\n    private int id;\n\n    @Column(nullable=false, length=255)\n    private String name;\n\n    @Column(length=512)\n    private String value;\n\n    //bi-directional many-to-one association to Asset\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;asset_id&quot;, nullable=false)\n    private Asset asset;\n}\n\n@Entity\n@Table(name = &quot;hardtag&quot;)\npublic class Hardtag implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\n    @Column(unique = true, nullable = false)\n    private UUID uuid;\n\n    @Column(length = 255)\n    private String category;\n\n    @Column(nullable = false, length = 255)\n    private String name;\n\n    // bi-directional many-to-many association to Asset\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;asset_has_tag&quot;, joinColumns = { @JoinColumn(name = &quot;tag_id&quot;, nullable = false) }, inverseJoinColumns = { @JoinColumn(name = &quot;asset_id&quot;, nullable = false) })\n    private Set&lt;Asset&gt; assets;\n\n    @Override\n    public boolean equals(Object obj) {\n        return obj instanceof Hardtag &amp;&amp; ((Hardtag) obj).getUuid().equals(uuid);\n    }\n}\n</code></pre>\n<p>EDIT: Any alternatives since JPA doesn't support it yet?</p>\n<p>EDIT2 (2023): It seems this may now be possible, although I have not tested it: <a href=\"https://openjpa.apache.org/builds/3.2.2/apache-openjpa/docs/#jpa_langref_subqueries\" rel=\"nofollow noreferrer\">https://openjpa.apache.org/builds/3.2.2/apache-openjpa/docs/#jpa_langref_subqueries</a></p>\n"},{"tags":["java","cassandra","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":13576130,"reputation":31,"user_id":9793440,"display_name":"Anurag Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667559332,"creation_date":1667559332,"answer_id":74315916,"question_id":72289593,"body_markdown":"I faced the same issue. I am using Datastax driver 4.15.0. Annotation processing is enabled in Intellijl. Looks like there is an issue with Lombok and datastax. Intellij can be one of the reasons. I removed the following\r\n`@Getter`\r\n`@Setter`\r\n`@NoArgsConstructor`\r\n`@AllArgsConstructor`\r\n\r\nGenerated vanilla getters,setters and constructors and it worked!","title":"Cassandra datastax @Entity-annotated class must have at least one property defined","body":"<p>I faced the same issue. I am using Datastax driver 4.15.0. Annotation processing is enabled in Intellijl. Looks like there is an issue with Lombok and datastax. Intellij can be one of the reasons. I removed the following\n<code>@Getter</code>\n<code>@Setter</code>\n<code>@NoArgsConstructor</code>\n<code>@AllArgsConstructor</code></p>\n<p>Generated vanilla getters,setters and constructors and it worked!</p>\n"},{"tags":[],"owner":{"account_id":7405841,"reputation":897,"user_id":5634808,"display_name":"Amos Kosgei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681504192,"creation_date":1681503835,"answer_id":76018692,"question_id":72289593,"body_markdown":"The solution that worked for me is to include the below config in my pom:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                        &lt;annotationProcessorPaths&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;com.datastax.oss&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;java-driver-mapper-processor&lt;/artifactId&gt;\r\n                                &lt;version&gt;${cassandra-java-driver-core.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                        &lt;/annotationProcessorPaths&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIt may be better to use @Data for mutable objects or @Value for immutable types.\r\nWith the addition of the above in my pom, this worked for me:\r\nYou can find more about this in the datastax documentation:\r\nhttps://docs.datastax.com/en/developer/java-driver/4.10/manual/mapper/config/lombok/\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Entity(defaultKeyspace = &quot;mykeyspace&quot;)\r\n    @CqlName(&quot;tableName&quot;)\r\n    @Data\r\n    public final class SomeEntity {\r\n\r\n        @PartitionKey\r\n        @CqlName(&quot;theid&quot;)\r\n        private String someId;\r\n\r\n        @CqlName(&quot;someUdtTableColumn&quot;)\r\n        private tableColumn thetableProperty;\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Cassandra datastax @Entity-annotated class must have at least one property defined","body":"<p>The solution that worked for me is to include the below config in my pom:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;com.datastax.oss&lt;/groupId&gt;\n                            &lt;artifactId&gt;java-driver-mapper-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${cassandra-java-driver-core.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>It may be better to use @Data for mutable objects or @Value for immutable types.\nWith the addition of the above in my pom, this worked for me:\nYou can find more about this in the datastax documentation:\n<a href=\"https://docs.datastax.com/en/developer/java-driver/4.10/manual/mapper/config/lombok/\" rel=\"nofollow noreferrer\">https://docs.datastax.com/en/developer/java-driver/4.10/manual/mapper/config/lombok/</a></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Entity(defaultKeyspace = \"mykeyspace\")\n@CqlName(\"tableName\")\n@Data\npublic final class SomeEntity {\n\n    @PartitionKey\n    @CqlName(\"theid\")\n    private String someId;\n\n    @CqlName(\"someUdtTableColumn\")\n    private tableColumn thetableProperty;\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":16750600,"reputation":11,"user_id":12107833,"display_name":"Chirag Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683883424,"creation_date":1683883424,"answer_id":76234890,"question_id":72289593,"body_markdown":"In gradle, it seems like the annotation processors are processed in sequence.  I defined the lombok annotation processor before the scylla annotation processor and it worked.\r\n\r\nWorks:\r\n```\r\n//lombok\r\nannotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\r\n\r\n//Scylla\r\nannotationProcessor &quot;com.scylladb:java-driver-mapper-processor:$scyllaDriverVersion&quot;\r\n```\r\nDoesn&#39;t work:\r\n```\r\n//Scylla\r\nannotationProcessor &quot;com.scylladb:java-driver-mapper-processor:$scyllaDriverVersion&quot;\r\n\r\n//lombok\r\nannotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\r\n```","title":"Cassandra datastax @Entity-annotated class must have at least one property defined","body":"<p>In gradle, it seems like the annotation processors are processed in sequence.  I defined the lombok annotation processor before the scylla annotation processor and it worked.</p>\n<p>Works:</p>\n<pre><code>//lombok\nannotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\n\n//Scylla\nannotationProcessor &quot;com.scylladb:java-driver-mapper-processor:$scyllaDriverVersion&quot;\n</code></pre>\n<p>Doesn't work:</p>\n<pre><code>//Scylla\nannotationProcessor &quot;com.scylladb:java-driver-mapper-processor:$scyllaDriverVersion&quot;\n\n//lombok\nannotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\n</code></pre>\n"}],"owner":{"account_id":16676711,"reputation":21,"user_id":12052944,"display_name":"Bidyadhar Pal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1683883424,"creation_date":1652878408,"question_id":72289593,"body_markdown":"I have below Entity class used Datastax java driver 4.1.x\r\n\r\n\r\n    package com.xyz;\r\n\r\n    import com.datastax.oss.driver.api.mapper.annotations.CqlName;\r\n    import com.datastax.oss.driver.api.mapper.annotations.Entity;\r\n    import com.datastax.oss.driver.api.mapper.annotations.PartitionKey;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Xyz {\r\n    \r\n        @PartitionKey\r\n        @CqlName(&quot;id&quot;)\r\n        private Integer id;\r\n    \r\n    \t@CqlName(&quot;name&quot;)\r\n    \tprivate String name;\r\n    \r\n    \t@CqlName(&quot;description&quot;)\r\n    \tprivate String description;\r\n    }\r\n\r\nWhile doing mvn clean package/mvn clean install, getting below error (not compiled Entity class)\r\n\r\n**[Xyz] @Entity-annotated class must have at least one property defined.**","title":"Cassandra datastax @Entity-annotated class must have at least one property defined","body":"<p>I have below Entity class used Datastax java driver 4.1.x</p>\n<pre><code>package com.xyz;\n\nimport com.datastax.oss.driver.api.mapper.annotations.CqlName;\nimport com.datastax.oss.driver.api.mapper.annotations.Entity;\nimport com.datastax.oss.driver.api.mapper.annotations.PartitionKey;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Xyz {\n\n    @PartitionKey\n    @CqlName(&quot;id&quot;)\n    private Integer id;\n\n    @CqlName(&quot;name&quot;)\n    private String name;\n\n    @CqlName(&quot;description&quot;)\n    private String description;\n}\n</code></pre>\n<p>While doing mvn clean package/mvn clean install, getting below error (not compiled Entity class)</p>\n<p><strong>[Xyz] @Entity-annotated class must have at least one property defined.</strong></p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1683877196,"post_id":76234024,"comment_id":134436661,"body_markdown":"Not related to your problem, but it is likely more efficient to use `writeValue(bw, objectB)` (or one of the other `writeValue` methods), than first creating a string with the JSON value, and the writing that string to the writer.","body":"Not related to your problem, but it is likely more efficient to use <code>writeValue(bw, objectB)</code> (or one of the other <code>writeValue</code> methods), than first creating a string with the JSON value, and the writing that string to the writer."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1683877225,"post_id":76234024,"comment_id":134436667,"body_markdown":"In any case, please provide an [mre] that demonstrates the problem.","body":"In any case, please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem."},{"owner":{"account_id":21424142,"reputation":191,"user_id":15781733,"display_name":"waffledood"},"score":0,"creation_date":1683878883,"post_id":76234024,"comment_id":134436975,"body_markdown":"@MarkRotteveel thanks for your prompt response Mark, I appreciate your help, will update the answer shortly","body":"@MarkRotteveel thanks for your prompt response Mark, I appreciate your help, will update the answer shortly"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683883728,"post_id":76234024,"comment_id":134437983,"body_markdown":"Which `ArrayList` have you imported for `ArrayList&lt;A&gt; list = Arrays.asList(a);` to compile? Also, the code as shown will produces the error _&quot;java: unreported exception com.fasterxml.jackson.core.JsonProcessingException; must be caught or declared to be thrown&quot;_, and running the code (after fixing this) results in _&quot;com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class nl.lawinegevaar.so.jackson.extrafields.B and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)&quot;_","body":"Which <code>ArrayList</code> have you imported for <code>ArrayList&lt;A&gt; list = Arrays.asList(a);</code> to compile? Also, the code as shown will produces the error <i>&quot;java: unreported exception com.fasterxml.jackson.core.JsonProcessingException; must be caught or declared to be thrown&quot;</i>, and running the code (after fixing this) results in <i>&quot;com.fasterxml.jackson.databind.exc.InvalidDefinitionExcepti&zwnj;&#8203;on: No serializer found for class nl.lawinegevaar.so.jackson.extrafields.B and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)&quot;</i>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1683886894,"post_id":76234024,"comment_id":134438656,"body_markdown":"The `_class` field is not generated by Jackson but by the Mongo serializer. See also duplicate of https://stackoverflow.com/q/6810488/150978","body":"The <code>_class</code> field is not generated by Jackson but by the Mongo serializer. See also duplicate of <a href=\"https://stackoverflow.com/q/6810488/150978\">stackoverflow.com/q/6810488/150978</a>"},{"owner":{"account_id":21424142,"reputation":191,"user_id":15781733,"display_name":"waffledood"},"score":0,"creation_date":1683888631,"post_id":76234024,"comment_id":134439020,"body_markdown":"@Robert thanks, that&#39;s it! you can send an answer with that &amp; i&#39;ll accept it","body":"@Robert thanks, that&#39;s it! you can send an answer with that &amp; i&#39;ll accept it"}],"owner":{"account_id":21424142,"reputation":191,"user_id":15781733,"display_name":"waffledood"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683883268,"creation_date":1683876271,"question_id":76234024,"body_markdown":"# Context \r\n\r\nIn one of my team&#39;s internal tools, we use the Jackson library to serialize Java objects (Class `A`) to JSON, so that we can eventually store the JSON in MongoDB.\r\n\r\nWe notice in the JSON file that there are these 2 extra variables `_id` &amp; `_class` for the Java object Class `A`. \r\n\r\nThe following is the Java definition of Class `A`: \r\n\r\n```java\r\npublic class A {\r\n  @JsonIgnore\r\n  private int id;\r\n  // ... other variables\r\n}\r\n```\r\n\r\nWe&#39;re trying to find out where the `_class` variable is getting inserted into the JSON file, because this variable is not defined in the Java class. So we suspected it might be the Jackson serializer.\r\n\r\nThe following is how Class `A` is serialized. Java Class `B` stores a list of Class `A`. Class `B` is the one getting serialized by the Jackson serializer. There is no implementation of a custom serializer for Class `A` or `B`. \r\n\r\nJava definition of Class `B`:\r\n\r\n```java\r\npublic class B {\r\n  List&lt;A&gt; dataList;\r\n  // ... other variables \r\n}\r\n```\r\n\r\nHow Class `B` is getting serialized:\r\n\r\n```\r\npublic class FileWriterService {\r\n\r\n  public void writeToFile(B objectB) {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n  \r\n    bw = new BufferedWriter(fr);\r\n\r\n    ...\r\n\r\n    bw.write(mapper.writeValueAsString(objectB));\r\n  }\r\n}\r\n```\r\n\r\nThe sample `JSON` output of Class `A` is as follows:\r\n```json\r\n{\r\n  &quot;_id&quot;: ObjectId(&quot;...&quot;),\r\n  &quot;anotherVariableOfClassA&quot;: ...,\r\n  &quot;_class&quot;: &quot;com.companyName.internalTool.ClassA&quot;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI don&#39;t see anywhere else in the code where Class `A` is getting serialized. The Jackson serializer serializes Class `B` directly.\r\n\r\nIs there a way I can remove the `_class` variable in the JSON file?\r\n\r\n\r\n_______________________________________________________________________\r\n\r\n# Reproducing the Code\r\n\r\n```java\r\npublic class A implements Serializable {\r\n  private static final long serialVersionUID = 1L;\r\n\r\n  @JsonIgnore\r\n  private int id;\r\n  private String tableName;\r\n  private String sql;\r\n\r\n  public A(int id, String tableName, String sql) {\r\n    this.id = id;\r\n    this.tableName = tableName;\r\n    this.sql = sql;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npublic class B {\r\n  private String name;\r\n  private List&lt;A&gt; data;\r\n\r\n  public B(String name, List&lt;A&gt; data) {\r\n    this.name = name;\r\n    this.data = data;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npublic class Driver {\r\n  public static void main(String[] args) {\r\n    // initializing A &amp; B\r\n    A a = new A(1, &quot;tableName&quot;, &quot;SQL&quot;);\r\n    ArrayList&lt;A&gt; list = Arrays.asList(a);\r\n    B b = new B(&quot;name&quot;, list);\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    String jsonOutput = mapper.writeValueAsString(b);\r\n    System.out.println(jsonOutput);\r\n  }\r\n}\r\n```\r\n\r\n\r\n","title":"Jackson Serializer - Java to JSON","body":"<h1>Context</h1>\n<p>In one of my team's internal tools, we use the Jackson library to serialize Java objects (Class <code>A</code>) to JSON, so that we can eventually store the JSON in MongoDB.</p>\n<p>We notice in the JSON file that there are these 2 extra variables <code>_id</code> &amp; <code>_class</code> for the Java object Class <code>A</code>.</p>\n<p>The following is the Java definition of Class <code>A</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n  @JsonIgnore\n  private int id;\n  // ... other variables\n}\n</code></pre>\n<p>We're trying to find out where the <code>_class</code> variable is getting inserted into the JSON file, because this variable is not defined in the Java class. So we suspected it might be the Jackson serializer.</p>\n<p>The following is how Class <code>A</code> is serialized. Java Class <code>B</code> stores a list of Class <code>A</code>. Class <code>B</code> is the one getting serialized by the Jackson serializer. There is no implementation of a custom serializer for Class <code>A</code> or <code>B</code>.</p>\n<p>Java definition of Class <code>B</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class B {\n  List&lt;A&gt; dataList;\n  // ... other variables \n}\n</code></pre>\n<p>How Class <code>B</code> is getting serialized:</p>\n<pre><code>public class FileWriterService {\n\n  public void writeToFile(B objectB) {\n    ObjectMapper mapper = new ObjectMapper();\n  \n    bw = new BufferedWriter(fr);\n\n    ...\n\n    bw.write(mapper.writeValueAsString(objectB));\n  }\n}\n</code></pre>\n<p>The sample <code>JSON</code> output of Class <code>A</code> is as follows:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;_id&quot;: ObjectId(&quot;...&quot;),\n  &quot;anotherVariableOfClassA&quot;: ...,\n  &quot;_class&quot;: &quot;com.companyName.internalTool.ClassA&quot;\n}\n</code></pre>\n<p>I don't see anywhere else in the code where Class <code>A</code> is getting serialized. The Jackson serializer serializes Class <code>B</code> directly.</p>\n<p>Is there a way I can remove the <code>_class</code> variable in the JSON file?</p>\n<hr />\n<h1>Reproducing the Code</h1>\n<pre class=\"lang-java prettyprint-override\"><code>public class A implements Serializable {\n  private static final long serialVersionUID = 1L;\n\n  @JsonIgnore\n  private int id;\n  private String tableName;\n  private String sql;\n\n  public A(int id, String tableName, String sql) {\n    this.id = id;\n    this.tableName = tableName;\n    this.sql = sql;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class B {\n  private String name;\n  private List&lt;A&gt; data;\n\n  public B(String name, List&lt;A&gt; data) {\n    this.name = name;\n    this.data = data;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Driver {\n  public static void main(String[] args) {\n    // initializing A &amp; B\n    A a = new A(1, &quot;tableName&quot;, &quot;SQL&quot;);\n    ArrayList&lt;A&gt; list = Arrays.asList(a);\n    B b = new B(&quot;name&quot;, list);\n\n    ObjectMapper mapper = new ObjectMapper();\n    String jsonOutput = mapper.writeValueAsString(b);\n    System.out.println(jsonOutput);\n  }\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1683840499,"post_id":76231553,"comment_id":134432499,"body_markdown":"Your `if else` can be replaced by just `moreThanTwoCars.put(entry.getKey(), entry.getValue() &gt; 1);`","body":"Your <code>if else</code> can be replaced by just <code>moreThanTwoCars.put(entry.getKey(), entry.getValue() &gt; 1);</code>"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683883545,"post_id":76231673,"comment_id":134437948,"body_markdown":"[There is a better approach](https://stackoverflow.com/a/76234866/2711488). The question is a variation of the xy problem, but less problematic as the actual goal still is recognizable…","body":"<a href=\"https://stackoverflow.com/a/76234866/2711488\">There is a better approach</a>. The question is a variation of the xy problem, but less problematic as the actual goal still is recognizable…"}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683839908,"creation_date":1683839908,"answer_id":76231673,"question_id":76231553,"body_markdown":"There probably isn&#39;t a better approach than\r\n\r\n```\r\nMap&lt;String, Long&gt; carsOccurences = Stream.of(cars).collect(Collectors.groupingBy(\r\n  Function.identity(), Collectors.counting()));\r\nMap&lt;String, Boolean&gt; carsMoreThanTwo = carsOccurrences.entrySet()\r\n    .stream()\r\n    .collect(Collectors.toMap(\r\n       Entry::getKey,\r\n       entry -&gt; entry.getValue() &gt; 1));","title":"Map&lt;String, Long&gt; to Map&lt;String, Boolean&gt; if long is &gt; X with Stream","body":"<p>There probably isn't a better approach than</p>\n<pre><code>Map&lt;String, Long&gt; carsOccurences = Stream.of(cars).collect(Collectors.groupingBy(\n  Function.identity(), Collectors.counting()));\nMap&lt;String, Boolean&gt; carsMoreThanTwo = carsOccurrences.entrySet()\n    .stream()\n    .collect(Collectors.toMap(\n       Entry::getKey,\n       entry -&gt; entry.getValue() &gt; 1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683840572,"creation_date":1683840220,"answer_id":76231701,"question_id":76231553,"body_markdown":"You can use a stream, but it won&#39;t be much cleaner. I&#39;d just simplify the loop a little:\r\n\r\n    carsOccurences.forEach((key, value) -&gt; moreThanTwoCars.put(key, value &gt; 1));\r\n\r\nAlternatively, if you have Guava you can use `Maps.transformValues()`:\r\n\r\n    Map&lt;String, Boolean&gt; moreThanTwoCars = Maps.transformValues(carsOccurences, v -&gt; v &gt; 1);\r\n\r\nNote that the latter doesn&#39;t reconstruct the full map. It&#39;s just a view that delegates to the original map and converts values on the fly. But you can always pass it into a `new HashMap&lt;&gt;(...)` if you need them separated.","title":"Map&lt;String, Long&gt; to Map&lt;String, Boolean&gt; if long is &gt; X with Stream","body":"<p>You can use a stream, but it won't be much cleaner. I'd just simplify the loop a little:</p>\n<pre><code>carsOccurences.forEach((key, value) -&gt; moreThanTwoCars.put(key, value &gt; 1));\n</code></pre>\n<p>Alternatively, if you have Guava you can use <code>Maps.transformValues()</code>:</p>\n<pre><code>Map&lt;String, Boolean&gt; moreThanTwoCars = Maps.transformValues(carsOccurences, v -&gt; v &gt; 1);\n</code></pre>\n<p>Note that the latter doesn't reconstruct the full map. It's just a view that delegates to the original map and converts values on the fly. But you can always pass it into a <code>new HashMap&lt;&gt;(...)</code> if you need them separated.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683883256,"creation_date":1683883256,"answer_id":76234866,"question_id":76231553,"body_markdown":"You don’t need to count the identical cars when you only want to know whether there’s more than one. You can collect the intended map in the first place:\r\n\r\n```java\r\nMap&lt;String, Boolean&gt; moreThanTwoCars = Stream.of(cars).collect(\r\n    Collectors.toMap(Function.identity(), car -&gt; false, (car1, car2) -&gt; true));\r\n```\r\n\r\nThis utilizes the fact that the `valueMapper` function is evaluated when a key is encountered the first time and the `mergeFunction` is evaluated when encountering a key more than once.","title":"Map&lt;String, Long&gt; to Map&lt;String, Boolean&gt; if long is &gt; X with Stream","body":"<p>You don’t need to count the identical cars when you only want to know whether there’s more than one. You can collect the intended map in the first place:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Boolean&gt; moreThanTwoCars = Stream.of(cars).collect(\n    Collectors.toMap(Function.identity(), car -&gt; false, (car1, car2) -&gt; true));\n</code></pre>\n<p>This utilizes the fact that the <code>valueMapper</code> function is evaluated when a key is encountered the first time and the <code>mergeFunction</code> is evaluated when encountering a key more than once.</p>\n"}],"owner":{"account_id":28584131,"reputation":13,"user_id":21884731,"display_name":"tna22"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76231701,"answer_count":3,"score":1,"last_activity_date":1683883256,"creation_date":1683838648,"question_id":76231553,"body_markdown":"I am looking for a Stream Function to get a Map&lt;String, Boolean&gt; from Map&lt;String, Long&gt;. if the Long is greater than value X, it should be true, otherwise false. Long acts as counter in this case.\r\n\r\nWithout stream, I figured out this works:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n\r\n    public class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tString[] cars = {&quot;Audi A4&quot;, &quot;VW Golf&quot;, &quot;Nissan GTR&quot;, &quot;Audi A4&quot;, &quot;Mercedes Benz C63 AMG&quot;, &quot;Skoda Octavia&quot;, &quot;Mercedes Benz C63 AMG&quot;, &quot;Nissan GTR&quot;, &quot;VW Polo&quot;, &quot;Nissan GTR&quot;};\r\n\t\t\r\n\t\t// count the occurences of a string in the array to a map\r\n\t\tMap&lt;String, Long&gt; carsOccurences = Stream.of(cars).collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\t\t\r\n\t\tMap&lt;String, Boolean&gt; moreThanTwoCars = new HashMap&lt;&gt;();\r\n\t\t\r\n\t\t//if a string occures more than 1 time, put true else put false\r\n\t\tfor(Map.Entry&lt;String, Long&gt; entry : carsOccurences.entrySet()) {\r\n\t\t\tif(entry.getValue() &gt; 1)\r\n\t\t\tmoreThanTwoCars.put(entry.getKey(), true);\r\n\t\t\telse\r\n\t\t\tmoreThanTwoCars.put(entry.getKey(), false);\r\n\t\t}\r\n\r\nIs there any way to do the for-loop with a Stream? Maybe even without the Map&lt;String, Integer&gt; but directly from the String-Array. Thanks in advance.","title":"Map&lt;String, Long&gt; to Map&lt;String, Boolean&gt; if long is &gt; X with Stream","body":"<p>I am looking for a Stream Function to get a Map&lt;String, Boolean&gt; from Map&lt;String, Long&gt;. if the Long is greater than value X, it should be true, otherwise false. Long acts as counter in this case.</p>\n<p>Without stream, I figured out this works:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class Main {\npublic static void main(String[] args) {\n    String[] cars = {&quot;Audi A4&quot;, &quot;VW Golf&quot;, &quot;Nissan GTR&quot;, &quot;Audi A4&quot;, &quot;Mercedes Benz C63 AMG&quot;, &quot;Skoda Octavia&quot;, &quot;Mercedes Benz C63 AMG&quot;, &quot;Nissan GTR&quot;, &quot;VW Polo&quot;, &quot;Nissan GTR&quot;};\n    \n    // count the occurences of a string in the array to a map\n    Map&lt;String, Long&gt; carsOccurences = Stream.of(cars).collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n    \n    Map&lt;String, Boolean&gt; moreThanTwoCars = new HashMap&lt;&gt;();\n    \n    //if a string occures more than 1 time, put true else put false\n    for(Map.Entry&lt;String, Long&gt; entry : carsOccurences.entrySet()) {\n        if(entry.getValue() &gt; 1)\n        moreThanTwoCars.put(entry.getKey(), true);\n        else\n        moreThanTwoCars.put(entry.getKey(), false);\n    }\n</code></pre>\n<p>Is there any way to do the for-loop with a Stream? Maybe even without the Map&lt;String, Integer&gt; but directly from the String-Array. Thanks in advance.</p>\n"},{"tags":["java","google-chrome","java-web-start"],"answers":[{"tags":[],"owner":{"account_id":6172549,"reputation":21,"user_id":4810448,"display_name":"Stefan Hagstr&#246;m"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1683882949,"creation_date":1683882084,"answer_id":76234723,"question_id":76234365,"body_markdown":"I hate to say it, but ChatGPT helped me! I got it to work, but I still would like to understand what was causing the Runtime-problem.\r\n\r\nThe first solution ChatGPT suggested was\r\n\r\n```\r\nDesktop.getDesktop().browse(URI.create(chromePath + &quot; &quot; + appModeUrl));\r\n```\r\nBut that couldn&#39;t handle the space in &quot;Program Files&quot; and in &quot;chrome.exe --app&quot; so when I clarified that in my question I got the answed below.\r\n\r\n```\r\nimport java.io.IOException;\r\n\r\npublic class LaunchChromeInAppMode {\r\n\r\n  public static void main(String[] args) {\r\n    String url = &quot;https://stackoverflow.com/&quot;;\r\n    String chromePath = &quot;C:/Program Files/Google/Chrome/Application/chrome.exe&quot;;\r\n    String appModeFlag = &quot;--app=&quot;;\r\n    String appModeUrl = appModeFlag + url;\r\n\r\n    try {\r\n      ProcessBuilder processBuilder = new ProcessBuilder(chromePath, appModeUrl);\r\n      Process process = processBuilder.start();\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```","title":"Open Chrome in app-mode from Java Web Start not working","body":"<p>I hate to say it, but ChatGPT helped me! I got it to work, but I still would like to understand what was causing the Runtime-problem.</p>\n<p>The first solution ChatGPT suggested was</p>\n<pre><code>Desktop.getDesktop().browse(URI.create(chromePath + &quot; &quot; + appModeUrl));\n</code></pre>\n<p>But that couldn't handle the space in &quot;Program Files&quot; and in &quot;chrome.exe --app&quot; so when I clarified that in my question I got the answed below.</p>\n<pre><code>import java.io.IOException;\n\npublic class LaunchChromeInAppMode {\n\n  public static void main(String[] args) {\n    String url = &quot;https://stackoverflow.com/&quot;;\n    String chromePath = &quot;C:/Program Files/Google/Chrome/Application/chrome.exe&quot;;\n    String appModeFlag = &quot;--app=&quot;;\n    String appModeUrl = appModeFlag + url;\n\n    try {\n      ProcessBuilder processBuilder = new ProcessBuilder(chromePath, appModeUrl);\n      Process process = processBuilder.start();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":6172549,"reputation":21,"user_id":4810448,"display_name":"Stefan Hagstr&#246;m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76234723,"answer_count":1,"score":0,"last_activity_date":1683882949,"creation_date":1683879143,"question_id":76234365,"body_markdown":"I&#39;m trying to open a HTML page in Chrome using the --app cli option but I can&#39;t get it to work when I start my Java Swing application with Java Web Start.\r\n\r\nWhen I run the command using CLI from CMD it works fine. I get a window without url, shortcuts and any other crap.\r\n\r\n```\r\nC:\\Program Files\\Google\\Chrome\\Application&gt;Chrome.exe --app=&quot;http://www.google.com&quot;\r\n```\r\n\r\nWhen I run my application from Eclipse it also works fine.\r\n```\r\nString url = &quot;http://www.google.com&quot;;\r\nProcess p = Runtime.getRuntime().exec(&quot;\\&quot;C:/Program Files/Google/Chrome/Application/chrome.exe\\&quot; --app=\\&quot;&quot; + url + &quot;\\&quot;&quot;);\r\n```\r\n\r\nBut when I build my .jar-files and sign them and deploy them using Java Web Start the page is opened in a Chrome-tab instead of a new window.\r\n\r\nDoes anyone have any idea why this is?\r\n\r\nI thought it might have been related to the fact that I was starting my application using Chrome, so that my Chrome application became a parent in some way. But I&#39;ve started my application from both Chrome and Edge and the result is the same, a new &quot;tab&quot; is opened in Chrome instead of a new window.","title":"Open Chrome in app-mode from Java Web Start not working","body":"<p>I'm trying to open a HTML page in Chrome using the --app cli option but I can't get it to work when I start my Java Swing application with Java Web Start.</p>\n<p>When I run the command using CLI from CMD it works fine. I get a window without url, shortcuts and any other crap.</p>\n<pre><code>C:\\Program Files\\Google\\Chrome\\Application&gt;Chrome.exe --app=&quot;http://www.google.com&quot;\n</code></pre>\n<p>When I run my application from Eclipse it also works fine.</p>\n<pre><code>String url = &quot;http://www.google.com&quot;;\nProcess p = Runtime.getRuntime().exec(&quot;\\&quot;C:/Program Files/Google/Chrome/Application/chrome.exe\\&quot; --app=\\&quot;&quot; + url + &quot;\\&quot;&quot;);\n</code></pre>\n<p>But when I build my .jar-files and sign them and deploy them using Java Web Start the page is opened in a Chrome-tab instead of a new window.</p>\n<p>Does anyone have any idea why this is?</p>\n<p>I thought it might have been related to the fact that I was starting my application using Chrome, so that my Chrome application became a parent in some way. But I've started my application from both Chrome and Edge and the result is the same, a new &quot;tab&quot; is opened in Chrome instead of a new window.</p>\n"},{"tags":["java","firebase","firebase-cloud-messaging","xmpp"],"comments":[{"owner":{"account_id":66439,"reputation":23650,"user_id":194894,"accept_rate":94,"display_name":"Flow"},"score":0,"creation_date":1683878867,"post_id":76233807,"comment_id":134436967,"body_markdown":"I think that is maybe caused by the missing smack-java dependency.","body":"I think that is maybe caused by the missing smack-java dependency."}],"answers":[{"tags":[],"owner":{"account_id":24122116,"reputation":11,"user_id":18091119,"display_name":"Dominik Kerestes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683882770,"creation_date":1683882770,"answer_id":76234806,"question_id":76233807,"body_markdown":"As Flow said in comments i missed this dependency:\r\n\r\n    implementation &#39;org.igniterealtime.smack:smack-resolver-dnsjava:4.4.6&#39;","title":"NullPointerException in Smack XMPP client when trying to connect to FCM endpoint","body":"<p>As Flow said in comments i missed this dependency:</p>\n<pre><code>implementation 'org.igniterealtime.smack:smack-resolver-dnsjava:4.4.6'\n</code></pre>\n"}],"owner":{"account_id":24122116,"reputation":11,"user_id":18091119,"display_name":"Dominik Kerestes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683882770,"creation_date":1683874419,"question_id":76233807,"body_markdown":"Im trying to connect to Firebase XMPP endpoint to receive upstream messages. Im using Java Openfire Smack library. But I dont know what to put into server domain. Im always receiving this error. I tried to find some example of using this library and firebase, but i wasnt able to find some.\r\n\r\nSource that I used for endpoint: \r\nhttps://firebase.google.com/docs/cloud-messaging/xmpp-server-ref\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.jivesoftware.smack.util.dns.DNSResolver.lookupHostAddress(org.minidns.dnsname.DnsName, java.util.List, org.jivesoftware.smack.ConnectionConfiguration$DnssecMode)&quot; because the return value of &quot;org.jivesoftware.smack.util.DNSUtil.getDNSResolver()&quot; is null\r\n\tat org.jivesoftware.smack.tcp.rce.RemoteXmppTcpConnectionEndpoints.lookup(RemoteXmppTcpConnectionEndpoints.java:71)\r\n\tat org.jivesoftware.smack.tcp.XMPPTCPConnection.connectUsingConfiguration(XMPPTCPConnection.java:591)\r\n\tat org.jivesoftware.smack.tcp.XMPPTCPConnection.connectInternal(XMPPTCPConnection.java:849)\r\n\tat org.jivesoftware.smack.AbstractXMPPConnection.connect(AbstractXMPPConnection.java:526)\r\n\tat XmppClientModule.run(XmppClientModule.java:38)\r\n\tat Main.main(Main.java:8)\r\n```\r\n\r\n\r\nThis is my connection config.\r\n\r\n\r\n```\r\n    private static final String fcmServer = &quot;fcm-xmpp.googleapis.com&quot;;\r\n    private static final int fcmPort = 5236;\r\n    private static final String fcmSenderId = &quot;101010101010@fcm-xmpp.googleapis.com&quot;;\r\n    private static final String fcmApiKey = &quot;XXX&quot;;\r\n    private XMPPTCPConnectionConfiguration configuration;\r\n    private XMPPTCPConnection connection;\r\n\r\n    public XmppClientModule() {\r\n        try {\r\n            configuration = XMPPTCPConnectionConfiguration.builder()\r\n                    .setUsernameAndPassword(fcmSenderId, fcmApiKey)\r\n                    .setXmppDomain(&quot;fcm-xmpp.googleapis.com&quot;)\r\n                    .setHost(fcmServer)\r\n                    .setPort(fcmPort)\r\n                    .setSecurityMode(ConnectionConfiguration.SecurityMode.required)\r\n                    .build();\r\n\r\n        }catch (Exception e){\r\n            System.out.println(&quot;Error handling&quot;);\r\n        }\r\n\r\n        connection = new XMPPTCPConnection(configuration);\r\n\r\n    }\r\n```\r\n\r\nMy dependencies\r\n\r\n```\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.9.2&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.9.2&#39;\r\n\r\n    implementation &#39;org.igniterealtime.smack:smack-core:4.4.6&#39;\r\n    implementation &#39;org.igniterealtime.smack:smack-tcp:4.4.6&#39;\r\n    implementation &#39;org.igniterealtime.smack:smack-extensions:4.4.6&#39;\r\n    implementation &#39;org.igniterealtime.smack:smack-xmlparser-xpp3:4.4.6&#39;\r\n}\r\n```","title":"NullPointerException in Smack XMPP client when trying to connect to FCM endpoint","body":"<p>Im trying to connect to Firebase XMPP endpoint to receive upstream messages. Im using Java Openfire Smack library. But I dont know what to put into server domain. Im always receiving this error. I tried to find some example of using this library and firebase, but i wasnt able to find some.</p>\n<p>Source that I used for endpoint:\n<a href=\"https://firebase.google.com/docs/cloud-messaging/xmpp-server-ref\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/cloud-messaging/xmpp-server-ref</a></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.jivesoftware.smack.util.dns.DNSResolver.lookupHostAddress(org.minidns.dnsname.DnsName, java.util.List, org.jivesoftware.smack.ConnectionConfiguration$DnssecMode)&quot; because the return value of &quot;org.jivesoftware.smack.util.DNSUtil.getDNSResolver()&quot; is null\n    at org.jivesoftware.smack.tcp.rce.RemoteXmppTcpConnectionEndpoints.lookup(RemoteXmppTcpConnectionEndpoints.java:71)\n    at org.jivesoftware.smack.tcp.XMPPTCPConnection.connectUsingConfiguration(XMPPTCPConnection.java:591)\n    at org.jivesoftware.smack.tcp.XMPPTCPConnection.connectInternal(XMPPTCPConnection.java:849)\n    at org.jivesoftware.smack.AbstractXMPPConnection.connect(AbstractXMPPConnection.java:526)\n    at XmppClientModule.run(XmppClientModule.java:38)\n    at Main.main(Main.java:8)\n</code></pre>\n<p>This is my connection config.</p>\n<pre><code>    private static final String fcmServer = &quot;fcm-xmpp.googleapis.com&quot;;\n    private static final int fcmPort = 5236;\n    private static final String fcmSenderId = &quot;101010101010@fcm-xmpp.googleapis.com&quot;;\n    private static final String fcmApiKey = &quot;XXX&quot;;\n    private XMPPTCPConnectionConfiguration configuration;\n    private XMPPTCPConnection connection;\n\n    public XmppClientModule() {\n        try {\n            configuration = XMPPTCPConnectionConfiguration.builder()\n                    .setUsernameAndPassword(fcmSenderId, fcmApiKey)\n                    .setXmppDomain(&quot;fcm-xmpp.googleapis.com&quot;)\n                    .setHost(fcmServer)\n                    .setPort(fcmPort)\n                    .setSecurityMode(ConnectionConfiguration.SecurityMode.required)\n                    .build();\n\n        }catch (Exception e){\n            System.out.println(&quot;Error handling&quot;);\n        }\n\n        connection = new XMPPTCPConnection(configuration);\n\n    }\n</code></pre>\n<p>My dependencies</p>\n<pre><code>dependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.9.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.9.2'\n\n    implementation 'org.igniterealtime.smack:smack-core:4.4.6'\n    implementation 'org.igniterealtime.smack:smack-tcp:4.4.6'\n    implementation 'org.igniterealtime.smack:smack-extensions:4.4.6'\n    implementation 'org.igniterealtime.smack:smack-xmlparser-xpp3:4.4.6'\n}\n</code></pre>\n"},{"tags":["java","regex","string","currency"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1683842789,"post_id":76231873,"comment_id":134432848,"body_markdown":"So you write a regex for the price, but then you replace the thing that you found with an empty String?","body":"So you write a regex for the price, but then you replace the thing that you found with an empty String?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1683842941,"post_id":76231873,"comment_id":134432874,"body_markdown":"`price.replace(&quot;Orange: &quot;, &quot;&quot;)`","body":"<code>price.replace(&quot;Orange: &quot;, &quot;&quot;)</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683844572,"post_id":76231873,"comment_id":134433051,"body_markdown":"`String price = product.replaceAll(&quot;.*?(\\\\d+(?:\\\\.\\\\d{1,2})?)&quot;, &quot;$1&quot;);` but you shouldn&#39;t be bundling the two items together. It should be `JComboBox&lt;Product&gt;`, allowing you to extract the floating point price separately from the instance in the model","body":"<code>String price = product.replaceAll(&quot;.*?(\\\\d+(?:\\\\.\\\\d{1,2})?)&quot;, &quot;$1&quot;);</code> but you shouldn&#39;t be bundling the two items together. It should be <code>JComboBox&lt;Product&gt;</code>, allowing you to extract the floating point price separately from the instance in the model"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1683876926,"post_id":76231873,"comment_id":134436603,"body_markdown":"Do not remove, *extract*.","body":"Do not remove, <i>extract</i>."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1683869522,"post_id":76232934,"comment_id":134435441,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76232934/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":2332175,"reputation":11,"user_id":2045296,"display_name":"DT.rw"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683882462,"creation_date":1683862134,"answer_id":76232934,"question_id":76231873,"body_markdown":"**note: Use regex to capture the prices**\r\n\r\n[Java Regex Pattern][1]\r\n\r\n\r\n```\r\nimport java.util.regex.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String priceString = &quot;Orange: 2.00&quot;;\r\n        Pattern pattern = Pattern.compile(&quot;\\\\d+\\\\.\\\\d+&quot;);\r\n        Matcher m = pattern.matcher(priceString);\r\n        if (m.find()) {\r\n            System.out.println(m.group(0));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html","title":"Problem with extracting price in a string","body":"<p><strong>note: Use regex to capture the prices</strong></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Java Regex Pattern</a></p>\n<pre><code>import java.util.regex.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        String priceString = &quot;Orange: 2.00&quot;;\n        Pattern pattern = Pattern.compile(&quot;\\\\d+\\\\.\\\\d+&quot;);\n        Matcher m = pattern.matcher(priceString);\n        if (m.find()) {\n            System.out.println(m.group(0));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28584515,"reputation":7,"user_id":21885033,"display_name":"David Stantsits"},"comment_count":4,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1683876915,"answer_count":1,"score":-1,"last_activity_date":1683882462,"creation_date":1683842524,"question_id":76231873,"body_markdown":"    String quantity = cboAmount.getSelectedItem().toString();\r\n    String product = cboProduct.getSelectedItem().toString();\r\n    \r\n    String price = product.replaceAll(&quot;(\\\\d+(?:\\\\.\\\\d{1,2})?)&quot;, &quot;&quot;);\r\n    \r\n    textareaOrder.setText(price);\r\n\r\nI want to extract the price from some text in a combobox, I&#39;ve googled people&#39;s solutions but they all didn&#39;t work, the one in the example displays everything but the price. I don&#39;t know if I&#39;m missing something here. The text in the combobox is written like this &quot;Orange: 2.00&quot; if that matters.\r\n\r\n\r\n\r\n\r\nTried to extract price from a string but didn&#39;t get it","title":"Problem with extracting price in a string","body":"<pre><code>String quantity = cboAmount.getSelectedItem().toString();\nString product = cboProduct.getSelectedItem().toString();\n\nString price = product.replaceAll(&quot;(\\\\d+(?:\\\\.\\\\d{1,2})?)&quot;, &quot;&quot;);\n\ntextareaOrder.setText(price);\n</code></pre>\n<p>I want to extract the price from some text in a combobox, I've googled people's solutions but they all didn't work, the one in the example displays everything but the price. I don't know if I'm missing something here. The text in the combobox is written like this &quot;Orange: 2.00&quot; if that matters.</p>\n<p>Tried to extract price from a string but didn't get it</p>\n"},{"tags":["java","postgresql","hibernate","many-to-many","quarkus-panache"],"answers":[{"tags":[],"owner":{"account_id":10083487,"reputation":109,"user_id":7452937,"display_name":"abhishek narayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683882424,"creation_date":1683882424,"answer_id":76234758,"question_id":76233927,"body_markdown":"I was able to resolve the issue and fetch all messages for a user using the below query:\r\n\r\n    List&lt;MessageEntity&gt; messagesList = messageRepository.find(&quot;Select m from MessageEntity m Join m.personEntity p where p.id=?1&quot;, userId).list();","title":"How to fetch list using @ManyToMany relationship between the tables in Java + hibernate + panache repository","body":"<p>I was able to resolve the issue and fetch all messages for a user using the below query:</p>\n<pre><code>List&lt;MessageEntity&gt; messagesList = messageRepository.find(&quot;Select m from MessageEntity m Join m.personEntity p where p.id=?1&quot;, userId).list();\n</code></pre>\n"}],"owner":{"account_id":10083487,"reputation":109,"user_id":7452937,"display_name":"abhishek narayan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683882424,"creation_date":1683875477,"question_id":76233927,"body_markdown":"I have two entities created i.e., Person and Message and there is a @ManyToMany relationship between the tables. I am using Quarkus framework which supports PanacheRepository and Postgres DB.\r\nMy requirement is to fetch all the messages corresponds to a Person but I am getting below error :\r\n\r\n**java.lang.IllegalArgumentException: Parameter value [Person{...}] did not match expected type [java.util.Collection (n/a)]**\r\n\r\n2023-05-12 11:19:21,285 ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-0) HTTP Request to /persons/1/messages failed, error id: 59165c88-d7d9-470b-99f4-8ca3509f2960-1: java.lang.IllegalArgumentException: Parameter value [Person{id=1, name=&#39;abhishek&#39;, age=28}] did not match expected type [java.util.Collection (n/a)]\r\n\tat org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:54)\r\n\r\nAny suggestion/comments would be very helpful.\r\n\r\nThese are the entities:\r\n\r\n```\r\n@Entity\r\npublic class Message {\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;message_id&quot;)\r\n    Long id;\r\n\r\n    @Column\r\n    String messageBody;\r\n\r\n    @JsonManagedReference\r\n    @ManyToMany\r\n    private List&lt;Person&gt; person;\r\n    ..................\r\n    ..................\r\n\r\n}\r\n\r\n@Entity\r\npublic class Person {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;person_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name=&quot;person_name&quot;)\r\n    private String name;\r\n\r\n    @Column\r\n    private int age;\r\n\r\n    @JsonBackReference\r\n    @ManyToMany(mappedBy = &quot;person&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;Message&gt; messageList;\r\n    .............................\r\n    .............................\r\n}\r\n```\r\n\r\nRepositories classes:\r\n\r\n```\r\n@ApplicationScoped\r\npublic class MessageRepository implements PanacheRepository&lt;Message&gt; {\r\n}\r\n\r\n@ApplicationScoped\r\npublic class PersonRepository implements PanacheRepository&lt;Person&gt; {\r\n}\r\n```\r\n\r\nResource class:\r\n\r\n```\r\n@Path(&quot;/persons&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\npublic class PersonResource {\r\n    @Inject\r\n    PersonRepository personRepository;\r\n\r\n    @Inject\r\n    MessageRepository messageRepository;\r\n\r\n    @GET\r\n    @Path(&quot;/{userId}/messages&quot;)\r\n    public Response listAllMessagesOfAUser(Long userId) {\r\n        Person person = personRepository.findById(userId);\r\n        \r\n        List&lt;Message&gt; messagesList = messageRepository.find(&quot;person&quot;, person).list();\r\n        \r\n        return Response.ok(messagesList).build();\r\n    }\r\n.............................................\r\n}\r\n```\r\n\r\nI am first fetching the person using the userId and passing the obtained person object to fetch the list of message corresponding to that person.","title":"How to fetch list using @ManyToMany relationship between the tables in Java + hibernate + panache repository","body":"<p>I have two entities created i.e., Person and Message and there is a @ManyToMany relationship between the tables. I am using Quarkus framework which supports PanacheRepository and Postgres DB.\nMy requirement is to fetch all the messages corresponds to a Person but I am getting below error :</p>\n<p><strong>java.lang.IllegalArgumentException: Parameter value [Person{...}] did not match expected type [java.util.Collection (n/a)]</strong></p>\n<p>2023-05-12 11:19:21,285 ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-0) HTTP Request to /persons/1/messages failed, error id: 59165c88-d7d9-470b-99f4-8ca3509f2960-1: java.lang.IllegalArgumentException: Parameter value [Person{id=1, name='abhishek', age=28}] did not match expected type [java.util.Collection (n/a)]\nat org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:54)</p>\n<p>Any suggestion/comments would be very helpful.</p>\n<p>These are the entities:</p>\n<pre><code>@Entity\npublic class Message {\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;message_id&quot;)\n    Long id;\n\n    @Column\n    String messageBody;\n\n    @JsonManagedReference\n    @ManyToMany\n    private List&lt;Person&gt; person;\n    ..................\n    ..................\n\n}\n\n@Entity\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;person_id&quot;)\n    private Long id;\n\n    @Column(name=&quot;person_name&quot;)\n    private String name;\n\n    @Column\n    private int age;\n\n    @JsonBackReference\n    @ManyToMany(mappedBy = &quot;person&quot;, fetch = FetchType.LAZY)\n    private List&lt;Message&gt; messageList;\n    .............................\n    .............................\n}\n</code></pre>\n<p>Repositories classes:</p>\n<pre><code>@ApplicationScoped\npublic class MessageRepository implements PanacheRepository&lt;Message&gt; {\n}\n\n@ApplicationScoped\npublic class PersonRepository implements PanacheRepository&lt;Person&gt; {\n}\n</code></pre>\n<p>Resource class:</p>\n<pre><code>@Path(&quot;/persons&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\npublic class PersonResource {\n    @Inject\n    PersonRepository personRepository;\n\n    @Inject\n    MessageRepository messageRepository;\n\n    @GET\n    @Path(&quot;/{userId}/messages&quot;)\n    public Response listAllMessagesOfAUser(Long userId) {\n        Person person = personRepository.findById(userId);\n        \n        List&lt;Message&gt; messagesList = messageRepository.find(&quot;person&quot;, person).list();\n        \n        return Response.ok(messagesList).build();\n    }\n.............................................\n}\n</code></pre>\n<p>I am first fetching the person using the userId and passing the obtained person object to fetch the list of message corresponding to that person.</p>\n"},{"tags":["java","datetime","serialization","avro"],"comments":[{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":3,"creation_date":1352220585,"post_id":13255589,"comment_id":18063660,"body_markdown":"I know I&#39;m not answering your question, but I *wouldn&#39;t* use a static SimpleDateFormat. It&#39;s not a thread-safe class and consequently will give you unreliable results in a threaded environment","body":"I know I&#39;m not answering your question, but I <i>wouldn&#39;t</i> use a static SimpleDateFormat. It&#39;s not a thread-safe class and consequently will give you unreliable results in a threaded environment"},{"owner":{"account_id":1072653,"reputation":718,"user_id":1071556,"display_name":"Miguel L."},"score":0,"creation_date":1352235443,"post_id":13255589,"comment_id":18069976,"body_markdown":"Thank you for the comment, this is actually not a production code, but only a test class I developed in order to expose my problem. Anyway you&#39;re right, so I removed the static modifier ;)","body":"Thank you for the comment, this is actually not a production code, but only a test class I developed in order to expose my problem. Anyway you&#39;re right, so I removed the static modifier ;)"}],"answers":[{"comments":[{"owner":{"account_id":1072653,"reputation":718,"user_id":1071556,"display_name":"Miguel L."},"score":0,"creation_date":1355324888,"post_id":13464901,"comment_id":19053589,"body_markdown":"Thank you amas, it looks like Date are actually not supported as stated in your answer, and that the Date is actually initialized with the current System time.","body":"Thank you amas, it looks like Date are actually not supported as stated in your answer, and that the Date is actually initialized with the current System time."}],"tags":[],"owner":{"account_id":1325571,"reputation":604,"user_id":1270457,"display_name":"amas"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1353372568,"creation_date":1353371856,"answer_id":13464901,"question_id":13255589,"body_markdown":"I think AVRO doesn&#39;t serialize date at this point.\r\nWhat I would do is to wrap it in another class and store at as a long (date.gettime()) while avro folks \r\nadd [this feature](https://issues.apache.org/jira/browse/AVRO-739).\r\nAnd the reason that you see different Date values is that every time that you (and avro) create\r\na Date object, it initializes the Date with the current System time. ","title":"How to serialize a Date using AVRO in Java","body":"<p>I think AVRO doesn't serialize date at this point.\nWhat I would do is to wrap it in another class and store at as a long (date.gettime()) while avro folks \nadd <a href=\"https://issues.apache.org/jira/browse/AVRO-739\" rel=\"noreferrer\">this feature</a>.\nAnd the reason that you see different Date values is that every time that you (and avro) create\na Date object, it initializes the Date with the current System time. </p>\n"},{"comments":[{"owner":{"account_id":126503,"reputation":2554,"user_id":323044,"accept_rate":26,"display_name":"Alessandro Dionisi"},"score":1,"creation_date":1561037201,"post_id":39964229,"comment_id":99939552,"body_markdown":"Why int and not long?","body":"Why int and not long?"},{"owner":{"account_id":5427,"reputation":3278,"user_id":8724,"accept_rate":77,"display_name":"Joe Zack"},"score":3,"creation_date":1565709970,"post_id":39964229,"comment_id":101433388,"body_markdown":"@AlessandroDionisi the spec calls for date because this particular type is the number of DAYS since the epoch. There is another logicalType &quot;timestamp-millis&quot; for the more common number of milliseconds and it is a long.","body":"@AlessandroDionisi the spec calls for date because this particular type is the number of DAYS since the epoch. There is another logicalType &quot;timestamp-millis&quot; for the more common number of milliseconds and it is a long."},{"owner":{"account_id":8362057,"reputation":117,"user_id":6279996,"display_name":"Sankalp Kotewar"},"score":0,"creation_date":1602577407,"post_id":39964229,"comment_id":113756980,"body_markdown":"That&#39;s a con of AVRO, because after deserialisation, if you have your date in the JSON, it would appear as-\n{\n   date: 2020-08-10\n}\n\nwhereas it is illegal in JSON to store date with hyphens without quotes.\n\nExpected value would be - {date: &quot;2020-08-10&quot;} which means the type should be string,not int.","body":"That&#39;s a con of AVRO, because after deserialisation, if you have your date in the JSON, it would appear as- {    date: 2020-08-10 }  whereas it is illegal in JSON to store date with hyphens without quotes.  Expected value would be - {date: &quot;2020-08-10&quot;} which means the type should be string,not int."},{"owner":{"account_id":2110622,"reputation":1535,"user_id":1875976,"accept_rate":86,"display_name":"ama"},"score":1,"creation_date":1626185429,"post_id":39964229,"comment_id":120821992,"body_markdown":"Who uses number of days after unix epoch? Why not millis as default?","body":"Who uses number of days after unix epoch? Why not millis as default?"},{"owner":{"account_id":1820608,"reputation":637,"user_id":1654766,"accept_rate":50,"display_name":"Harry Braviner"},"score":0,"creation_date":1647782767,"post_id":39964229,"comment_id":126452777,"body_markdown":"@ama Because you&#39;re storing a _date_, not a datetime. If you use number of millis from epoch, you have 86,400,000 values that lie within each day. i.e. your representation of the date is not unique. It&#39;s also wasteful - if you record the number of millis, you can hold a far smaller date range before you have to use longs for storage.","body":"@ama Because you&#39;re storing a <i>date</i>, not a datetime. If you use number of millis from epoch, you have 86,400,000 values that lie within each day. i.e. your representation of the date is not unique. It&#39;s also wasteful - if you record the number of millis, you can hold a far smaller date range before you have to use longs for storage."}],"tags":[],"owner":{"account_id":380062,"reputation":829,"user_id":733840,"display_name":"teu"},"comment_count":5,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1683882297,"creation_date":1476122878,"answer_id":39964229,"question_id":13255589,"body_markdown":"Avro 1.8 now has a date &quot;logicalType&quot;, which annotates int. For example:\r\n\r\n    {&quot;name&quot;: &quot;date&quot;, &quot;type&quot;: &quot;int&quot;, &quot;logicalType&quot;: &quot;date&quot;}\r\n\r\nQuoting the spec: \r\n\r\n&gt; A date logical type annotates an Avro int, where the int stores the\r\n&gt; number of days from the unix epoch, 1 January 1970 (ISO calendar).\r\n\r\n","title":"How to serialize a Date using AVRO in Java","body":"<p>Avro 1.8 now has a date &quot;logicalType&quot;, which annotates int. For example:</p>\n<pre><code>{&quot;name&quot;: &quot;date&quot;, &quot;type&quot;: &quot;int&quot;, &quot;logicalType&quot;: &quot;date&quot;}\n</code></pre>\n<p>Quoting the spec:</p>\n<blockquote>\n<p>A date logical type annotates an Avro int, where the int stores the\nnumber of days from the unix epoch, 1 January 1970 (ISO calendar).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1043913,"reputation":197,"user_id":1049297,"display_name":"Raghubir Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657789116,"creation_date":1657787123,"answer_id":72977463,"question_id":13255589,"body_markdown":"Issue Resolved at my end. I was also facing the same issue with serialisation of date field. Though Avro takes Date type as int. However once you declare it in this way \r\n\r\n`{ &quot;name&quot;: &quot;DateEffective&quot;, &quot;type&quot;: [ &quot;null&quot;, { &quot;type&quot;: &quot;int&quot;, &quot;logicalType&quot;: &quot;date&quot; } ],` \r\n\r\nand **run avrogen -s** command than it makes C#/Java model class with date field. ","title":"How to serialize a Date using AVRO in Java","body":"<p>Issue Resolved at my end. I was also facing the same issue with serialisation of date field. Though Avro takes Date type as int. However once you declare it in this way</p>\n<p><code>{ &quot;name&quot;: &quot;DateEffective&quot;, &quot;type&quot;: [ &quot;null&quot;, { &quot;type&quot;: &quot;int&quot;, &quot;logicalType&quot;: &quot;date&quot; } ],</code></p>\n<p>and <strong>run avrogen -s</strong> command than it makes C#/Java model class with date field.</p>\n"}],"owner":{"account_id":1072653,"reputation":718,"user_id":1071556,"display_name":"Miguel L."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53865,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":13464901,"answer_count":3,"score":18,"last_activity_date":1683882297,"creation_date":1352220443,"question_id":13255589,"body_markdown":"I&#39;m actually trying to serialize objects containing dates with Avro, and the deserialized date doesn&#39;t match the expected value (tested with avro 1.7.2 and 1.7.1). Here&#39;s the class I&#39;m serializing :\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n\r\n    public class Dummy {\r\n    \tprivate Date date;\r\n    \tprivate SimpleDateFormat df = new SimpleDateFormat(&quot;dd/MM/yyyy hh:mm:ss.SSS&quot;);\r\n\r\n        public Dummy() {\r\n        }\r\n\r\n        public void setDate(Date date) {\r\n            this.date = date;\r\n        }\r\n\r\n        public Date getDate() {\r\n            return date;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return df.format(date);\r\n        }\r\n    }\r\n\r\nThe code used to serialize / deserialize : \r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.Date;\r\n\r\n    import org.apache.avro.Schema;\r\n    import org.apache.avro.io.DatumReader;\r\n    import org.apache.avro.io.DatumWriter;\r\n    import org.apache.avro.io.Decoder;\r\n    import org.apache.avro.io.DecoderFactory;\r\n    import org.apache.avro.io.Encoder;\r\n    import org.apache.avro.io.EncoderFactory;\r\n    import org.apache.avro.reflect.ReflectData;\r\n    import org.apache.avro.reflect.ReflectDatumReader;\r\n    import org.apache.avro.reflect.ReflectDatumWriter;\r\n\r\n    public class AvroSerialization {\r\n\r\n        public static void main(String[] args) {\r\n            Dummy expected = new Dummy();\r\n            expected.setDate(new Date());\r\n            System.out.println(&quot;EXPECTED: &quot; + expected);\r\n            Schema schema = ReflectData.get().getSchema(Dummy.class);\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            Encoder encoder = EncoderFactory.get().binaryEncoder(baos, null);\r\n            DatumWriter&lt;Dummy&gt; writer = new ReflectDatumWriter&lt;Dummy&gt;(schema);\r\n            try {\r\n                writer.write(expected, encoder);\r\n                encoder.flush();\r\n                Decoder decoder = DecoderFactory.get().binaryDecoder(baos.toByteArray(), null);\r\n                DatumReader&lt;Dummy&gt; reader = new ReflectDatumReader&lt;Dummy&gt;(schema);\r\n                Dummy actual = reader.read(null, decoder);\r\n                System.out.println(&quot;ACTUAL: &quot; + actual);\r\n            } catch (IOException e) {\r\n                System.err.println(&quot;IOException: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nAnd the output :\r\n\r\n    EXPECTED: 06/11/2012 05:43:29.188\r\n    ACTUAL: 06/11/2012 05:43:29.387\r\n\r\nIs it related to a known bug, or is it related to the way I&#39;m serializing the object ?","title":"How to serialize a Date using AVRO in Java","body":"<p>I'm actually trying to serialize objects containing dates with Avro, and the deserialized date doesn't match the expected value (tested with avro 1.7.2 and 1.7.1). Here's the class I'm serializing :</p>\n\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class Dummy {\n    private Date date;\n    private SimpleDateFormat df = new SimpleDateFormat(\"dd/MM/yyyy hh:mm:ss.SSS\");\n\n    public Dummy() {\n    }\n\n    public void setDate(Date date) {\n        this.date = date;\n    }\n\n    public Date getDate() {\n        return date;\n    }\n\n    @Override\n    public String toString() {\n        return df.format(date);\n    }\n}\n</code></pre>\n\n<p>The code used to serialize / deserialize : </p>\n\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.util.Date;\n\nimport org.apache.avro.Schema;\nimport org.apache.avro.io.DatumReader;\nimport org.apache.avro.io.DatumWriter;\nimport org.apache.avro.io.Decoder;\nimport org.apache.avro.io.DecoderFactory;\nimport org.apache.avro.io.Encoder;\nimport org.apache.avro.io.EncoderFactory;\nimport org.apache.avro.reflect.ReflectData;\nimport org.apache.avro.reflect.ReflectDatumReader;\nimport org.apache.avro.reflect.ReflectDatumWriter;\n\npublic class AvroSerialization {\n\n    public static void main(String[] args) {\n        Dummy expected = new Dummy();\n        expected.setDate(new Date());\n        System.out.println(\"EXPECTED: \" + expected);\n        Schema schema = ReflectData.get().getSchema(Dummy.class);\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        Encoder encoder = EncoderFactory.get().binaryEncoder(baos, null);\n        DatumWriter&lt;Dummy&gt; writer = new ReflectDatumWriter&lt;Dummy&gt;(schema);\n        try {\n            writer.write(expected, encoder);\n            encoder.flush();\n            Decoder decoder = DecoderFactory.get().binaryDecoder(baos.toByteArray(), null);\n            DatumReader&lt;Dummy&gt; reader = new ReflectDatumReader&lt;Dummy&gt;(schema);\n            Dummy actual = reader.read(null, decoder);\n            System.out.println(\"ACTUAL: \" + actual);\n        } catch (IOException e) {\n            System.err.println(\"IOException: \" + e.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>And the output :</p>\n\n<pre><code>EXPECTED: 06/11/2012 05:43:29.188\nACTUAL: 06/11/2012 05:43:29.387\n</code></pre>\n\n<p>Is it related to a known bug, or is it related to the way I'm serializing the object ?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"owner":{"account_id":12937317,"reputation":77,"user_id":9354242,"display_name":"Meini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683882010,"creation_date":1683796488,"question_id":76225979,"body_markdown":"Invoking EntityManager.persist() on an instance of A is cascaded to the value of the Map as expected, in this case one or many instances of B. But its also cascaded to the key of the map, which i would like to avoid. Is there a way to cascade em.persist(A) explicitly to Entity B and not to Entity C? \r\n\r\n    \tclass A {\r\n          ...\r\n          @Id\r\n\t      @Column(name = &quot;A_ID&quot;)\r\n\t      private Long id;\r\n\r\n          @OneToMany(mappedBy = &quot;a&quot;, fetch = FetchType.EAGER, cascade = CascadeType.PERSIST\r\n\t      @MapKey(name = &quot;c&quot;)\r\n\t      private Map&lt;C, B&gt; vertices = new LinkedHashMap&lt;&gt;();\r\n        }\r\n\r\n        class B {\r\n          ...\r\n\r\n          @Id\r\n\t      @ManyToOne(targetEntity = NetzEntity.class)\r\n\t      @JoinColumn(name = &quot;A_ID&quot;, referencedColumnName = &quot;A_ID&quot;)\r\n\t      private A a;\r\n   \r\n          @Id\r\n\t      @ManyToOne(targetEntity = NetzEntity.class)\r\n\t      @JoinColumn(name = &quot;C_ID&quot;, referencedColumnName = &quot;C_ID&quot;)\r\n\t      private C c;\r\n        }\r\n\r\n        class C {\r\n          ...\r\n          @Id\r\n\t      @Column(name = &quot;C_ID&quot;)\r\n\t      private Long id;\r\n        }","title":"CascadeType.PERSIST with @OneToMany and Map&lt;Entity, Entity&gt;","body":"<p>Invoking EntityManager.persist() on an instance of A is cascaded to the value of the Map as expected, in this case one or many instances of B. But its also cascaded to the key of the map, which i would like to avoid. Is there a way to cascade em.persist(A) explicitly to Entity B and not to Entity C?</p>\n<pre><code>    class A {\n      ...\n      @Id\n      @Column(name = &quot;A_ID&quot;)\n      private Long id;\n\n      @OneToMany(mappedBy = &quot;a&quot;, fetch = FetchType.EAGER, cascade = CascadeType.PERSIST\n      @MapKey(name = &quot;c&quot;)\n      private Map&lt;C, B&gt; vertices = new LinkedHashMap&lt;&gt;();\n    }\n\n    class B {\n      ...\n\n      @Id\n      @ManyToOne(targetEntity = NetzEntity.class)\n      @JoinColumn(name = &quot;A_ID&quot;, referencedColumnName = &quot;A_ID&quot;)\n      private A a;\n\n      @Id\n      @ManyToOne(targetEntity = NetzEntity.class)\n      @JoinColumn(name = &quot;C_ID&quot;, referencedColumnName = &quot;C_ID&quot;)\n      private C c;\n    }\n\n    class C {\n      ...\n      @Id\n      @Column(name = &quot;C_ID&quot;)\n      private Long id;\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4637453,"reputation":1139,"user_id":3758289,"accept_rate":40,"display_name":"Val Bonn"},"score":0,"creation_date":1565302560,"post_id":57420819,"comment_id":101321740,"body_markdown":"The external link is a 404. ANd it&#39;s better to include code directly in the question.","body":"The external link is a 404. ANd it&#39;s better to include code directly in the question."},{"owner":{"account_id":11208145,"reputation":4181,"user_id":8223070,"display_name":"Cat"},"score":1,"creation_date":1565306799,"post_id":57420819,"comment_id":101322743,"body_markdown":"Is the question related to JavaScript, or is it just tagged that way because &quot;JavaScript&quot; sounds like &quot;Java&quot;?","body":"Is the question related to JavaScript, or is it just tagged that way because &quot;JavaScript&quot; sounds like &quot;Java&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":4637453,"reputation":1139,"user_id":3758289,"accept_rate":40,"display_name":"Val Bonn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565330131,"creation_date":1565330131,"answer_id":57424158,"question_id":57420819,"body_markdown":"Can you try to fix the first line, by removing the `()` ?\r\n\r\n    AlertDialog.Builder alertDialogueBuilder = new  AlertDialog.Builder.Builder(MainActivity.this);","title":"error: no suitable constructor found for Builder(no arguments) constructor Builder.Builder(Context) is not applicable","body":"<p>Can you try to fix the first line, by removing the <code>()</code> ?</p>\n\n<pre><code>AlertDialog.Builder alertDialogueBuilder = new  AlertDialog.Builder.Builder(MainActivity.this);\n</code></pre>\n"}],"owner":{"account_id":16476649,"reputation":1,"user_id":11904440,"display_name":"Dobre Cristian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1080,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683881990,"creation_date":1565299604,"question_id":57420819,"body_markdown":"I&#39;m working on an app and I managed to get rid of all the bugs except one:\r\n\r\n&gt;no suitable constructor found for builder\r\n\r\nchanging to &quot;Intent&quot;\r\n\r\nhttps://file.io/OqhPX8 -&gt; link to the code\r\n  \r\n    private void GameOver()\r\n    {\r\n        AlertDialog.Builder alertDialogueBuilder = new  AlertDialog.Builder().Builder(MainActivity.this);\r\n        alertDialogueBuilder\r\n                .setMessage(&quot;Ai Pierdut! Scorul tau este:&quot; +mScor + &quot;Puncte/3&quot;)\r\n                .setPositiveButton(&quot;JOC NOU&quot;,\r\n                        new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                startActivity(new Intent(getApplicationContext(), MainActivity.class));\r\n                            }\r\n                        });\r\n    }\r\n\r\nI expect it to work. I am pretty sure everything else is working. The maximum score should be 3/3 if one question would be wrong it the &quot;GameOver&quot; Screen will appear.","title":"error: no suitable constructor found for Builder(no arguments) constructor Builder.Builder(Context) is not applicable","body":"<p>I'm working on an app and I managed to get rid of all the bugs except one:</p>\n\n<blockquote>\n  <p>no suitable constructor found for builder</p>\n</blockquote>\n\n<p>changing to \"Intent\"</p>\n\n<p><a href=\"https://file.io/OqhPX8\" rel=\"nofollow noreferrer\">https://file.io/OqhPX8</a> -> link to the code</p>\n\n<pre><code>private void GameOver()\n{\n    AlertDialog.Builder alertDialogueBuilder = new  AlertDialog.Builder().Builder(MainActivity.this);\n    alertDialogueBuilder\n            .setMessage(\"Ai Pierdut! Scorul tau este:\" +mScor + \"Puncte/3\")\n            .setPositiveButton(\"JOC NOU\",\n                    new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                            startActivity(new Intent(getApplicationContext(), MainActivity.class));\n                        }\n                    });\n}\n</code></pre>\n\n<p>I expect it to work. I am pretty sure everything else is working. The maximum score should be 3/3 if one question would be wrong it the \"GameOver\" Screen will appear.</p>\n"},{"tags":["java","android","xml","android-studio","android-studio-3.0"],"comments":[{"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"score":0,"creation_date":1683732562,"post_id":76217438,"comment_id":134412722,"body_markdown":"can you be a bit more clearer on your requirement?","body":"can you be a bit more clearer on your requirement?"},{"owner":{"account_id":27131842,"reputation":11,"user_id":20673937,"display_name":"yondel"},"score":0,"creation_date":1683734791,"post_id":76217438,"comment_id":134413330,"body_markdown":"i want the ImageViews to be linear and have a button appear when you reach the last one, that button then goes to another activity when clicked","body":"i want the ImageViews to be linear and have a button appear when you reach the last one, that button then goes to another activity when clicked"},{"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"score":0,"creation_date":1683738647,"post_id":76217438,"comment_id":134414212,"body_markdown":"That button (goes to ??? OR )TAKES YOU TO another activity? Could you clarify","body":"That button (goes to ??? OR )TAKES YOU TO another activity? Could you clarify"}],"answers":[{"tags":[],"owner":{"account_id":27064186,"reputation":216,"user_id":20615799,"display_name":"DawoleQ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683881740,"creation_date":1683880784,"answer_id":76234563,"question_id":76217438,"body_markdown":"First, make a button that takes you to the next activity and put it where you want it to appear in the XML file then set visibility to gone.\r\n\r\nThen, you could do something like this in your button&#39;s onClick (assuming btn_done is the button to show):\r\n\r\n```\r\nView.OnClickListener btn_gt4_nextChangeImageListener = new View.OnClickListener() {\r\n\r\n        public void onClick(View view) {\r\n            //increase counter to move to next img\r\n            currentImage++;\r\n            currentImage = currentImage % images.length;\r\n\r\n            Sample1.setImageResource(images[currentImage]);\r\n            \r\n            if(currentImage == 5) {\r\n                //set btn_done to visible and btn_gt4_back to gone\r\n            }\r\n        }\r\n    };\r\n```\r\n\r\nIf I understood your question right, this should help to get what you want\r\n\r\n(*Sorry for not including the exact methods to do this, I don&#39;t remember them and I can&#39;t check right now, I&#39;ll edit my answer when I get the chance to check*)","title":"how to go to another activity after an imageview","body":"<p>First, make a button that takes you to the next activity and put it where you want it to appear in the XML file then set visibility to gone.</p>\n<p>Then, you could do something like this in your button's onClick (assuming btn_done is the button to show):</p>\n<pre><code>View.OnClickListener btn_gt4_nextChangeImageListener = new View.OnClickListener() {\n\n        public void onClick(View view) {\n            //increase counter to move to next img\n            currentImage++;\n            currentImage = currentImage % images.length;\n\n            Sample1.setImageResource(images[currentImage]);\n            \n            if(currentImage == 5) {\n                //set btn_done to visible and btn_gt4_back to gone\n            }\n        }\n    };\n</code></pre>\n<p>If I understood your question right, this should help to get what you want</p>\n<p>(<em>Sorry for not including the exact methods to do this, I don't remember them and I can't check right now, I'll edit my answer when I get the chance to check</em>)</p>\n"}],"owner":{"account_id":27131842,"reputation":11,"user_id":20673937,"display_name":"yondel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683881740,"creation_date":1683715324,"question_id":76217438,"body_markdown":"after going through 5 pictures changing in an activity i want a button to appear once you reach the last image\r\n\r\n```\r\npackage com.example.test;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.VideoView;\r\n\r\nimport com.google.android.material.badge.BadgeUtils;\r\n\r\npublic class gt4 extends AppCompatActivity {\r\n\r\n    ImageView Sample1;\r\n    Button btn_gt4_back, btn_gt4_next, btn_settingsLSN, btn_done;\r\n\r\n    private int currentImage = 0;\r\n    int[] images = {R.drawable.gtnframe1, R.drawable.gtnframe2, R.drawable.gtnframe3, R.drawable.gtnframe4, R.drawable.gtnframe5};\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        getSupportActionBar().hide();\r\n        setContentView(R.layout.gt4);\r\n\r\n        Sample1 = (ImageView) findViewById(R.id.Sample1);\r\n        btn_gt4_back = (Button) findViewById(R.id.btn_gt4_back);\r\n        btn_gt4_next = (Button) findViewById(R.id.btn_gt4_next);\r\n\r\n        //set one click listener for image\r\n\r\n        btn_gt4_back.setOnClickListener(btn_gt4_backChangeImageListener);\r\n        btn_gt4_next.setOnClickListener(btn_gt4_nextChangeImageListener);\r\n\r\n    }\r\n    View.OnClickListener btn_gt4_nextChangeImageListener = new View.OnClickListener() {\r\n\r\n        public void onClick(View view) {\r\n            //increase counter to move to next img\r\n            currentImage++;\r\n            currentImage = currentImage % images.length;\r\n\r\n            Sample1.setImageResource(images[currentImage]);\r\n\r\n        }\r\n    };\r\n\r\n    View.OnClickListener btn_gt4_backChangeImageListener = new View.OnClickListener() {\r\n\r\n        public void onClick(View view) {\r\n\r\n            currentImage--;\r\n            currentImage = (currentImage + images.length) % images.length;\r\n\r\n            Sample1.setImageResource(images[currentImage]);\r\n        }\r\n    };\r\n}\r\n```\r\ncurrently it&#39;s continuous and after the last image it goes back to the first one, i also want the back button to dissapear after the new button for the new activity appears \r\n\r\nidk how to do so and i already tried having a button that goes to another activity but it always appear in the screen","title":"how to go to another activity after an imageview","body":"<p>after going through 5 pictures changing in an activity i want a button to appear once you reach the last image</p>\n<pre><code>package com.example.test;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.VideoView;\n\nimport com.google.android.material.badge.BadgeUtils;\n\npublic class gt4 extends AppCompatActivity {\n\n    ImageView Sample1;\n    Button btn_gt4_back, btn_gt4_next, btn_settingsLSN, btn_done;\n\n    private int currentImage = 0;\n    int[] images = {R.drawable.gtnframe1, R.drawable.gtnframe2, R.drawable.gtnframe3, R.drawable.gtnframe4, R.drawable.gtnframe5};\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        getSupportActionBar().hide();\n        setContentView(R.layout.gt4);\n\n        Sample1 = (ImageView) findViewById(R.id.Sample1);\n        btn_gt4_back = (Button) findViewById(R.id.btn_gt4_back);\n        btn_gt4_next = (Button) findViewById(R.id.btn_gt4_next);\n\n        //set one click listener for image\n\n        btn_gt4_back.setOnClickListener(btn_gt4_backChangeImageListener);\n        btn_gt4_next.setOnClickListener(btn_gt4_nextChangeImageListener);\n\n    }\n    View.OnClickListener btn_gt4_nextChangeImageListener = new View.OnClickListener() {\n\n        public void onClick(View view) {\n            //increase counter to move to next img\n            currentImage++;\n            currentImage = currentImage % images.length;\n\n            Sample1.setImageResource(images[currentImage]);\n\n        }\n    };\n\n    View.OnClickListener btn_gt4_backChangeImageListener = new View.OnClickListener() {\n\n        public void onClick(View view) {\n\n            currentImage--;\n            currentImage = (currentImage + images.length) % images.length;\n\n            Sample1.setImageResource(images[currentImage]);\n        }\n    };\n}\n</code></pre>\n<p>currently it's continuous and after the last image it goes back to the first one, i also want the back button to dissapear after the new button for the new activity appears</p>\n<p>idk how to do so and i already tried having a button that goes to another activity but it always appear in the screen</p>\n"},{"tags":["java","spring-boot","jersey-2.0","spring-boot-actuator"],"comments":[{"owner":{"account_id":1471892,"reputation":9718,"user_id":1383240,"accept_rate":38,"display_name":"NiVeR"},"score":0,"creation_date":1533064478,"post_id":51620437,"comment_id":90206491,"body_markdown":"`/actuator/info` ?","body":"<code>&#47;actuator&#47;info</code> ?"},{"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"score":0,"creation_date":1558958039,"post_id":51620437,"comment_id":99258641,"body_markdown":"I was able to get this working, please check https://stackoverflow.com/a/56325410/320087","body":"I was able to get this working, please check <a href=\"https://stackoverflow.com/a/56325410/320087\">stackoverflow.com/a/56325410/320087</a>"}],"answers":[{"comments":[{"owner":{"account_id":390553,"reputation":87,"user_id":750698,"display_name":"Tim"},"score":0,"creation_date":1533124075,"post_id":51620928,"comment_id":90229097,"body_markdown":"Thanks, adding that worked. Is there a reason that prior to upgrading to SB 2/Finchley I was able to access actuator without the need for the filter and forwarding property?","body":"Thanks, adding that worked. Is there a reason that prior to upgrading to SB 2/Finchley I was able to access actuator without the need for the filter and forwarding property?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1533129822,"post_id":51620928,"comment_id":90233135,"body_markdown":"I don&#39;t know. This has always been a problem, even prior to 2.0. Were you using a different base URI?","body":"I don&#39;t know. This has always been a problem, even prior to 2.0. Were you using a different base URI?"},{"owner":{"account_id":390553,"reputation":87,"user_id":750698,"display_name":"Tim"},"score":0,"creation_date":1533139219,"post_id":51620928,"comment_id":90239736,"body_markdown":"This was setup before my time, so not sure how they managed to get it working without this. But everything was under /&lt;service&gt;/v&lt;version&gt;/* and /&lt;service&gt;/v&lt;version&gt;/management/* for actuator. Which is the same setup I&#39;m using now, just with updated versions of everything, so I don&#39;t see how it worked previously. Thanks for the help","body":"This was setup before my time, so not sure how they managed to get it working without this. But everything was under /&lt;service&gt;/v&lt;version&gt;/* and /&lt;service&gt;/v&lt;version&gt;/management/* for actuator. Which is the same setup I&#39;m using now, just with updated versions of everything, so I don&#39;t see how it worked previously. Thanks for the help"}],"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1539319657,"creation_date":1533066135,"answer_id":51620928,"question_id":51620437,"body_markdown":"It&#39;s because by default Jersey will use the url mapping `/*`, which will hog up all requests, including those to the actuator endpoints, which it will not find. There are two solutions; you can either change the base URL for Jersey to something else, e.g. `/api/*` or you can configure Jersey as a filter (instead of the default servlet) and set a property to make Jersey forward all requests it doesn&#39;t know down to the servlet container. Both examples can be found in [this post][1].\r\n\r\n\r\n[1]: https://stackoverflow.com/a/29670751/2587435","title":"Spring Boot 2 Actuator endpoints inaccessible with Jersey","body":"<p>It's because by default Jersey will use the url mapping <code>/*</code>, which will hog up all requests, including those to the actuator endpoints, which it will not find. There are two solutions; you can either change the base URL for Jersey to something else, e.g. <code>/api/*</code> or you can configure Jersey as a filter (instead of the default servlet) and set a property to make Jersey forward all requests it doesn't know down to the servlet container. Both examples can be found in <a href=\"https://stackoverflow.com/a/29670751/2587435\">this post</a>.</p>\n"}],"owner":{"account_id":390553,"reputation":87,"user_id":750698,"display_name":"Tim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2552,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":51620928,"answer_count":1,"score":5,"last_activity_date":1683881526,"creation_date":1533064159,"question_id":51620437,"body_markdown":"I have a very simple demo application using the Spring Boot 2.0.x.RELEASE\r\n\r\nIn my POM I have:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;Finchley.RELEASE&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;!-- We&#39;re using undertow as our embedded web container instead of tomcat --&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Embedded web container- serves Jersey resources --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Support for Spring Actuator &amp; Health Check Endpoints --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\nMy main application just looks like:\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tResourceConfig getJerseyConfig() {\r\n    \t\tfinal HashMap&lt;String, Object&gt; jerseyProperties = new HashMap&lt;&gt;();\r\n    \t\tjerseyProperties.put(ServerProperties.MEDIA_TYPE_MAPPINGS, &quot;json : application/json&quot;);\r\n    \t\tResourceConfig resourceConfig = new ResourceConfig()\r\n    \t\t\t\t.register(TestEndpoints.class);\r\n    \t\tresourceConfig = resourceConfig.setProperties(jerseyProperties);\r\n    \r\n    \t\treturn resourceConfig;\r\n    \t}\r\n    }\r\n\r\nWhen I then try and hit an actuator endpoint such as `/actuator` I receive a 404, but I can hit the endpoints in `TestEndpoints.java` with no problem. I had this working with Spring Boot 1.5.x, but now it seems that Jersey is not allowing the actuator endpoints through. If I remove the ResourceConfig bean completely, then I can hit the actuator endpoints. Is there some configuration I have to add to allow the actuator endpoints through jersey?\r\n","title":"Spring Boot 2 Actuator endpoints inaccessible with Jersey","body":"<p>I have a very simple demo application using the Spring Boot 2.0.x.RELEASE</p>\n\n<p>In my POM I have:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;Finchley.RELEASE&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;!-- We're using undertow as our embedded web container instead of tomcat --&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Embedded web container- serves Jersey resources --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Support for Spring Actuator &amp; Health Check Endpoints --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>My main application just looks like:</p>\n\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Bean\n    ResourceConfig getJerseyConfig() {\n        final HashMap&lt;String, Object&gt; jerseyProperties = new HashMap&lt;&gt;();\n        jerseyProperties.put(ServerProperties.MEDIA_TYPE_MAPPINGS, \"json : application/json\");\n        ResourceConfig resourceConfig = new ResourceConfig()\n                .register(TestEndpoints.class);\n        resourceConfig = resourceConfig.setProperties(jerseyProperties);\n\n        return resourceConfig;\n    }\n}\n</code></pre>\n\n<p>When I then try and hit an actuator endpoint such as <code>/actuator</code> I receive a 404, but I can hit the endpoints in <code>TestEndpoints.java</code> with no problem. I had this working with Spring Boot 1.5.x, but now it seems that Jersey is not allowing the actuator endpoints through. If I remove the ResourceConfig bean completely, then I can hit the actuator endpoints. Is there some configuration I have to add to allow the actuator endpoints through jersey?</p>\n"},{"tags":["java","windows","windows-7","locale","java-7"],"comments":[{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":2,"creation_date":1313673296,"post_id":7107972,"comment_id":8513785,"body_markdown":"There must be some error. Did you try a simple test app? I&#39;d reinstall it.","body":"There must be some error. Did you try a simple test app? I&#39;d reinstall it."},{"owner":{"account_id":443046,"reputation":1337,"user_id":834035,"accept_rate":63,"display_name":"Neo"},"score":0,"creation_date":1313684405,"post_id":7107972,"comment_id":8517812,"body_markdown":"I set a breakpoint just after having started the app and the default locale is en_US. For all persons in my company is the same","body":"I set a breakpoint just after having started the app and the default locale is en_US. For all persons in my company is the same"}],"answers":[{"tags":[],"owner":{"account_id":450642,"reputation":3399,"user_id":846076,"display_name":"merryprankster"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1313783348,"creation_date":1313756653,"answer_id":7121502,"question_id":7107972,"body_markdown":"There seems to be some changes regarding Locale in Java 7, namely differentiation between UI and &#39;user&#39; locale. See [this][1]. There is [now][2] `setDefault(Locale.Category, Locale)`. However, this does not really explain what you are experiencing - I&#39;m merely pointing out the fact that there has been changes in Java 7 regarding locale handling.\r\n\r\n  [1]: http://openjdk.java.net/projects/jdk7/features/#fa538265\r\n  [2]: http://download.oracle.com/javase/7/docs/api/java/util/Locale.html#setDefault%28java.util.Locale.Category,%20java.util.Locale%29","title":"Java 7 default locale","body":"<p>There seems to be some changes regarding Locale in Java 7, namely differentiation between UI and 'user' locale. See <a href=\"http://openjdk.java.net/projects/jdk7/features/#fa538265\" rel=\"nofollow\">this</a>. There is <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/Locale.html#setDefault%28java.util.Locale.Category,%20java.util.Locale%29\" rel=\"nofollow\">now</a> <code>setDefault(Locale.Category, Locale)</code>. However, this does not really explain what you are experiencing - I'm merely pointing out the fact that there has been changes in Java 7 regarding locale handling.</p>\n"},{"tags":[],"owner":{"account_id":400259,"reputation":1872,"user_id":766149,"accept_rate":73,"display_name":"stracktracer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318497682,"creation_date":1318497682,"answer_id":7751954,"question_id":7107972,"body_markdown":"Check the setting &quot;Location&quot; in Windows control panel Regional and language options (German: &quot;Region und Sprache&quot;, &quot;Aufenthaltsort&quot;).","title":"Java 7 default locale","body":"<p>Check the setting \"Location\" in Windows control panel Regional and language options (German: \"Region und Sprache\", \"Aufenthaltsort\").</p>\n"},{"comments":[{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":2,"creation_date":1403237507,"post_id":8053896,"comment_id":37590114,"body_markdown":"What about Locale.getDefault(Locale.Category.DISPLAY) and Locale.getDefault(Locale.Category.FORMAT) ? Just curious.","body":"What about Locale.getDefault(Locale.Category.DISPLAY) and Locale.getDefault(Locale.Category.FORMAT) ? Just curious."}],"tags":[],"owner":{"account_id":1026916,"reputation":21,"user_id":1036031,"display_name":"Johan Compagner"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1320770264,"creation_date":1320770264,"answer_id":8053896,"question_id":7107972,"body_markdown":"This really looks like a bug to me:\r\n\r\n\tpublic static void main(String[] args) throws FileNotFoundException, IOException {\r\n\t\r\n\tSystem.err.println(Locale.getDefault());\r\n\t}\r\n\r\nrunning this with java 5 or java 6 prints: &#39;nl_NL&#39;\r\njava7: &#39;en_US&#39;","title":"Java 7 default locale","body":"<p>This really looks like a bug to me:</p>\n\n<pre><code>public static void main(String[] args) throws FileNotFoundException, IOException {\n\nSystem.err.println(Locale.getDefault());\n}\n</code></pre>\n\n<p>running this with java 5 or java 6 prints: 'nl_NL'\njava7: 'en_US'</p>\n"},{"comments":[{"owner":{"account_id":3320383,"reputation":1548,"user_id":2791703,"display_name":"dARKpRINCE"},"score":6,"creation_date":1391686179,"post_id":8319889,"comment_id":32635625,"body_markdown":"According to the bug report, this &quot;Feature&quot; was fixed in Java 8 build 04. So in Java 8, we can expect the correct behavior.","body":"According to the bug report, this &quot;Feature&quot; was fixed in Java 8 build 04. So in Java 8, we can expect the correct behavior."},{"owner":{"account_id":2821163,"reputation":5714,"user_id":2424896,"display_name":"ntoskrnl"},"score":2,"creation_date":1392321762,"post_id":8319889,"comment_id":32923420,"body_markdown":"@dARKpRINCE [The fix](https://bugs.openjdk.java.net/browse/JDK-7073906) was actually also backported to 7u4: https://bugs.openjdk.java.net/browse/JDK-2217027","body":"@dARKpRINCE <a href=\"https://bugs.openjdk.java.net/browse/JDK-7073906\" rel=\"nofollow noreferrer\">The fix</a> was actually also backported to 7u4: <a href=\"https://bugs.openjdk.java.net/browse/JDK-2217027\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-2217027</a>"},{"owner":{"account_id":230732,"reputation":1123,"user_id":593808,"accept_rate":67,"display_name":"eagerMoose"},"score":1,"creation_date":1393615042,"post_id":8319889,"comment_id":33529413,"body_markdown":"I&#39;m not sure what the fix is, I&#39;ve tried Locale.getDefault() on both the latest release of JDK 7 and latest JDK 8 beta and both return a different result than JDK &lt;= 6","body":"I&#39;m not sure what the fix is, I&#39;ve tried Locale.getDefault() on both the latest release of JDK 7 and latest JDK 8 beta and both return a different result than JDK &lt;= 6"},{"owner":{"account_id":3062937,"reputation":3674,"user_id":2641361,"accept_rate":83,"display_name":"OddDev"},"score":0,"creation_date":1482228222,"post_id":8319889,"comment_id":69678785,"body_markdown":"Is this still a valid answer? I guess they&#39;ve reverted the feature with Java 8.","body":"Is this still a valid answer? I guess they&#39;ve reverted the feature with Java 8."},{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":0,"creation_date":1609191048,"post_id":8319889,"comment_id":115773748,"body_markdown":"Should&#39;t it work correctly with Locale.getDefault(Category.FORMAT)?","body":"Should&#39;t it work correctly with Locale.getDefault(Category.FORMAT)?"}],"tags":[],"owner":{"account_id":348296,"reputation":511,"user_id":682919,"accept_rate":25,"display_name":"dream_team"},"comment_count":5,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1683881236,"creation_date":1322614871,"answer_id":8319889,"question_id":7107972,"body_markdown":"This is as designed.  Java 7 has changed the way `Locale.getDefault()` works.  A defect has been entered with Oracle, but they basically said this is As Designed.\r\n\r\nTo sum up, you must modify the Display Language of the OS.  Modifying the Region Format only is no longer sufficient.\r\n\r\nRead the bug report here: [Locale.getDefault() returns wrong Locale for Java SE 7][1]\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=7073906","title":"Java 7 default locale","body":"<p>This is as designed.  Java 7 has changed the way <code>Locale.getDefault()</code> works.  A defect has been entered with Oracle, but they basically said this is As Designed.</p>\n<p>To sum up, you must modify the Display Language of the OS.  Modifying the Region Format only is no longer sufficient.</p>\n<p>Read the bug report here: <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=7073906\" rel=\"nofollow noreferrer\">Locale.getDefault() returns wrong Locale for Java SE 7</a></p>\n"},{"comments":[{"owner":{"account_id":216166,"reputation":3239,"user_id":471232,"accept_rate":75,"display_name":"Massimo"},"score":0,"creation_date":1575710512,"post_id":11010758,"comment_id":104663679,"body_markdown":"blog... The Wayback Machine has not archived that URL","body":"blog... The Wayback Machine has not archived that URL"}],"tags":[],"owner":{"account_id":71958,"reputation":753,"user_id":207935,"display_name":"Jens Borgland"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1479408172,"creation_date":1339575374,"answer_id":11010758,"question_id":7107972,"body_markdown":"The change is described quite well in this [blog post][1] and on the [compatibility page][2].\r\n\r\nNote that you can revert to the old behavior by setting the `sun.locale.formatasdefault` system property to `true`.\r\n\r\n\r\n  [1]: http://wayback.archive.org/web/20141015235927/http://blog.ej-technologies.com/2011/12/default-locale-changes-in-java-7.html\r\n  [2]: http://www.oracle.com/technetwork/java/javase/compatibility-417013.html","title":"Java 7 default locale","body":"<p>The change is described quite well in this <a href=\"http://wayback.archive.org/web/20141015235927/http://blog.ej-technologies.com/2011/12/default-locale-changes-in-java-7.html\" rel=\"nofollow noreferrer\">blog post</a> and on the <a href=\"http://www.oracle.com/technetwork/java/javase/compatibility-417013.html\" rel=\"nofollow noreferrer\">compatibility page</a>.</p>\n\n<p>Note that you can revert to the old behavior by setting the <code>sun.locale.formatasdefault</code> system property to <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":1994975,"reputation":173,"user_id":1788119,"accept_rate":25,"display_name":"maryoush"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357300267,"creation_date":1357300267,"answer_id":14156667,"question_id":7107972,"body_markdown":"If you are brave enough you can call the :\r\n\r\n    Locale.setDefault(Locale.getDefault());\r\n\r\n\r\nThis sets the default Locale for both of those categories\r\n\r\n    public static synchronized void setDefault(Locale newLocale) {\r\n       setDefault(Category.DISPLAY, newLocale);\r\n       setDefault(Category.FORMAT, newLocale);\r\n       defaultLocale = newLocale;\r\n    }\r\n\r\nBut this of course could cause side effects.","title":"Java 7 default locale","body":"<p>If you are brave enough you can call the :</p>\n\n<pre><code>Locale.setDefault(Locale.getDefault());\n</code></pre>\n\n<p>This sets the default Locale for both of those categories</p>\n\n<pre><code>public static synchronized void setDefault(Locale newLocale) {\n   setDefault(Category.DISPLAY, newLocale);\n   setDefault(Category.FORMAT, newLocale);\n   defaultLocale = newLocale;\n}\n</code></pre>\n\n<p>But this of course could cause side effects.</p>\n"},{"tags":[],"owner":{"account_id":2583329,"reputation":1846,"user_id":2239537,"accept_rate":100,"display_name":"Alex Kartishev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366978261,"creation_date":1366978261,"answer_id":16236131,"question_id":7107972,"body_markdown":"What about setting your Locale at the start of the program in the following way, depending on java version:\r\n\r\n    public class LocaleFormatter {\r\n\r\n    private static Locale locale;\r\n\r\n    private LocaleFormatter() {\r\n\r\n    }\r\n\r\n    public static Locale setDefaultLocale() {\r\n        if (locale == null) {\r\n            if (!System.getProperty(&quot;java.version&quot;).startsWith(&quot;1.7.&quot;)) {\r\n                locale = Locale.getDefault();\r\n            } else {\r\n                try {\r\n                    Class localeClass = Class.forName(&quot;java.util.Locale&quot;);\r\n                    Class categoryClass = Class.forName(&quot;java.util.Locale$Category&quot;);\r\n                    Object format = null;\r\n                    for (Object constant : categoryClass.getEnumConstants()) {\r\n                        if (constant.toString().equals(&quot;FORMAT&quot;)) {\r\n                            format = constant;\r\n                        }\r\n                    }\r\n                    Method method = localeClass.getMethod(&quot;getDefault&quot;, categoryClass);\r\n\r\n                    locale = (Locale) method.invoke(Locale.getDefault(), format);\r\n                    Locale.setDefault(locale);\r\n                } catch (ClassNotFoundException e) {\r\n                    e.printStackTrace();\r\n                } catch (NoSuchMethodException e) {\r\n                    e.printStackTrace();\r\n                } catch (InvocationTargetException e) {\r\n                    e.printStackTrace();\r\n                } catch (IllegalAccessException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        return locale;\r\n    }\r\n}\r\n","title":"Java 7 default locale","body":"<p>What about setting your Locale at the start of the program in the following way, depending on java version:</p>\n\n<pre><code>public class LocaleFormatter {\n\nprivate static Locale locale;\n\nprivate LocaleFormatter() {\n\n}\n\npublic static Locale setDefaultLocale() {\n    if (locale == null) {\n        if (!System.getProperty(\"java.version\").startsWith(\"1.7.\")) {\n            locale = Locale.getDefault();\n        } else {\n            try {\n                Class localeClass = Class.forName(\"java.util.Locale\");\n                Class categoryClass = Class.forName(\"java.util.Locale$Category\");\n                Object format = null;\n                for (Object constant : categoryClass.getEnumConstants()) {\n                    if (constant.toString().equals(\"FORMAT\")) {\n                        format = constant;\n                    }\n                }\n                Method method = localeClass.getMethod(\"getDefault\", categoryClass);\n\n                locale = (Locale) method.invoke(Locale.getDefault(), format);\n                Locale.setDefault(locale);\n            } catch (ClassNotFoundException e) {\n                e.printStackTrace();\n            } catch (NoSuchMethodException e) {\n                e.printStackTrace();\n            } catch (InvocationTargetException e) {\n                e.printStackTrace();\n            } catch (IllegalAccessException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    return locale;\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":443046,"reputation":1337,"user_id":834035,"accept_rate":63,"display_name":"Neo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28633,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":8319889,"answer_count":7,"score":28,"last_activity_date":1683881236,"creation_date":1313673207,"question_id":7107972,"body_markdown":"I have just installed jre7 and I&#39;m surprised to see that my default locale is now en_US. With jre6 it was de_CH.\r\n\r\nWhat is different with jre7? Is the default locale no more the one of the Operating System? (btw, I&#39;m using Windows7)\r\n\r\nThx for your answer. \r\n\r\nEdit:\r\nI have seen the Locale for **Category.FORMAT** is the &quot;old&quot; one (de_CH). The Locale for **Category.DISPLAY** takes the language from the language of the OS (in Windows this is done in Control Panel &gt; Region and Language &gt; Keyboard and Languages &gt; Display Language) and the contry from...?\r\n\r\nWhat seems to be different is the property &quot;**user.country**&quot;. With Java6 I get &quot;CH&quot; and with Java7 I get &quot;US&quot;.","title":"Java 7 default locale","body":"<p>I have just installed jre7 and I'm surprised to see that my default locale is now en_US. With jre6 it was de_CH.</p>\n\n<p>What is different with jre7? Is the default locale no more the one of the Operating System? (btw, I'm using Windows7)</p>\n\n<p>Thx for your answer. </p>\n\n<p>Edit:\nI have seen the Locale for <strong>Category.FORMAT</strong> is the \"old\" one (de_CH). The Locale for <strong>Category.DISPLAY</strong> takes the language from the language of the OS (in Windows this is done in Control Panel > Region and Language > Keyboard and Languages > Display Language) and the contry from...?</p>\n\n<p>What seems to be different is the property \"<strong>user.country</strong>\". With Java6 I get \"CH\" and with Java7 I get \"US\".</p>\n"},{"tags":["java","mysql","spring","hibernate"],"owner":{"account_id":28586902,"reputation":1,"user_id":21886949,"display_name":"Faskot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683881152,"creation_date":1683881152,"question_id":76234609,"body_markdown":"I have a web application in which I have a registration form, and when I try to add a user, I get the following error. [error text ](https://i.stack.imgur.com/22OEi.png)\r\nMy user entity\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;t_user&quot;)\r\npublic class User implements UserDetails {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    @Size(min=2, message = &quot;At least 5 characters&quot;)\r\n    private String username;\r\n    @Size(min=2, message = &quot;At least 5 characters&quot;)\r\n    private String password;\r\n    @Transient\r\n    private String passwordConfirm;\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    private Set&lt;Role&gt; roles;\r\n\r\n    public User() {\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return getRoles();\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getPasswordConfirm() {\r\n        return passwordConfirm;\r\n    }\r\n\r\n    public void setPasswordConfirm(String passwordConfirm) {\r\n        this.passwordConfirm = passwordConfirm;\r\n    }\r\n\r\n    public Set&lt;Role&gt; getRoles() {\r\n        return roles;\r\n    }\r\n\r\n    public void setRoles(Set&lt;Role&gt; roles) {\r\n        this.roles = roles;\r\n    }\r\n}\r\n```\r\nRole entity \r\n\r\n```\r\n@Entity\r\n@Data\r\n@Table(name = &quot;t_role&quot;)\r\npublic class Role implements GrantedAuthority {\r\n    @Id\r\n    private Long id;\r\n    private String name;\r\n    @Transient\r\n    @ManyToMany(mappedBy = &quot;roles&quot;)\r\n    private Set&lt;User&gt; users;\r\n    public Role() {\r\n\r\n    }\r\n    public Role(Long id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return getName();\r\n    }\r\n}\r\n```\r\nController\r\n\r\n```\r\n@Controller\r\npublic class RegistrationComtroller {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n\r\n    @GetMapping(&quot;/registration&quot;)\r\n    public String registration(Model model) {\r\n        model.addAttribute(&quot;userForm&quot;, new User());\r\n        return &quot;registration&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/registration&quot;)\r\n    public String addUser(@ModelAttribute(&quot;userForm&quot;) @Valid User userForm, BindingResult bindingResult, Model model) {\r\n\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;registration&quot;;\r\n        }\r\n        if (!userForm.getPassword().equals(userForm.getPasswordConfirm())){\r\n            model.addAttribute(&quot;passwordError&quot;, &quot;Паролі не співпадають&quot;);\r\n            return &quot;registration&quot;;\r\n        }\r\n        if (!userService.saveUser(userForm)){\r\n            model.addAttribute(&quot;usernameError&quot;, &quot;Користувач з таким іменем вже існує&quot;);\r\n            return &quot;registration&quot;;\r\n        }\r\n\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n}\r\n```\r\nUserService\r\n\r\n```\r\n@Service\r\npublic class UserService implements UserDetailsService {\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n    @Autowired\r\n    UserRepository userRepository;\r\n    @Autowired\r\n    RoleRepository roleRepository;\r\n\r\n    @Autowired\r\n    BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userRepository.findByUsername(username);\r\n\r\n        if (user == null) {\r\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n        }\r\n        return user;\r\n    }\r\n\r\n    public List&lt;User&gt; allUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    public boolean saveUser(User user) {\r\n        User userFromDB = userRepository.findByUsername(user.getUsername());\r\n\r\n        if (userFromDB != null) {\r\n            return false;\r\n        }\r\n\r\n        user.setRoles(Collections.singleton(new Role(1L, &quot;ROLE_USER&quot;)));\r\n        user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\r\n        userRepository.save(user);\r\n        return true;\r\n    }\r\n\r\n\r\n    public boolean deleteUser(Long userId) {\r\n        if (userRepository.findById(userId).isPresent()) {\r\n            userRepository.deleteById(userId);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public List&lt;User&gt; usergtList(Long idMin) {\r\n        return em.createQuery(&quot;SELECT u FROM User u WHERE u.id &gt; :paramId&quot;, User.class)\r\n                .setParameter(&quot;paramId&quot;, idMin).getResultList();\r\n    }\r\n}\r\n```\r\nand html page\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:th=&quot;http://thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    &lt;title&gt;registrat&lt;/title&gt;\r\n    &lt;link th:href=&quot;@{/resources/css/style.css}&quot; rel=&quot;stylesheet&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div class =&quot;regblock&quot;&gt;\r\n&lt;h2&gt;Реєстрація&lt;/h2&gt;\r\n&lt;form action=&quot;/registration&quot; th:action=&quot;@{/registration}&quot; th:object=&quot;${userForm}&quot; method=&quot;post&quot;&gt;\r\n    &lt;div&gt;\r\n        &lt;input type=&quot;text&quot; th:field=&quot;*{username}&quot; placeholder=&quot;Username&quot;\r\n                    autofocus=&quot;true&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;input type=&quot;password&quot; th:field=&quot;*{password}&quot; placeholder=&quot;Password&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;input type=&quot;password&quot; th:field=&quot;*{passwordConfirm}&quot;\r\n                    placeholder=&quot;Confirm your password&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div th:if=&quot;${passwordError}&quot;&gt;\r\n        &lt;p th:text=&quot;${passwordError}&quot;&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;div th:if=&quot;${usernameError}&quot;&gt;\r\n        &lt;p th:text=&quot;${usernameError}&quot;&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;button class=&quot;regbtn&quot; type=&quot;submit&quot;&gt;Зареєструватися&lt;/button&gt;\r\n    &lt;button class=&quot;regbtn&quot; onclick=&quot; window.location.href = &#39;/index&#39;&quot;&gt;Головна&lt;/button&gt;\r\n&lt;/form&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n\r\nBefore that, the code using JSP worked fine, but when I decided to migrate the project to Thymeleaf and finish it, the following happened. ","title":"Cannot add or update a child row: a foreign key constraint fails in web app with Thymeleaf","body":"<p>I have a web application in which I have a registration form, and when I try to add a user, I get the following error. <a href=\"https://i.stack.imgur.com/22OEi.png\" rel=\"nofollow noreferrer\">error text </a>\nMy user entity</p>\n<pre><code>@Entity\n@Table(name = &quot;t_user&quot;)\npublic class User implements UserDetails {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    @Size(min=2, message = &quot;At least 5 characters&quot;)\n    private String username;\n    @Size(min=2, message = &quot;At least 5 characters&quot;)\n    private String password;\n    @Transient\n    private String passwordConfirm;\n    @ManyToMany(fetch = FetchType.EAGER)\n    private Set&lt;Role&gt; roles;\n\n    public User() {\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return getRoles();\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getPasswordConfirm() {\n        return passwordConfirm;\n    }\n\n    public void setPasswordConfirm(String passwordConfirm) {\n        this.passwordConfirm = passwordConfirm;\n    }\n\n    public Set&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Set&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n}\n</code></pre>\n<p>Role entity</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;t_role&quot;)\npublic class Role implements GrantedAuthority {\n    @Id\n    private Long id;\n    private String name;\n    @Transient\n    @ManyToMany(mappedBy = &quot;roles&quot;)\n    private Set&lt;User&gt; users;\n    public Role() {\n\n    }\n    public Role(Long id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    @Override\n    public String getAuthority() {\n        return getName();\n    }\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@Controller\npublic class RegistrationComtroller {\n\n    @Autowired\n    private UserService userService;\n\n\n    @GetMapping(&quot;/registration&quot;)\n    public String registration(Model model) {\n        model.addAttribute(&quot;userForm&quot;, new User());\n        return &quot;registration&quot;;\n    }\n\n    @PostMapping(&quot;/registration&quot;)\n    public String addUser(@ModelAttribute(&quot;userForm&quot;) @Valid User userForm, BindingResult bindingResult, Model model) {\n\n        if (bindingResult.hasErrors()) {\n            return &quot;registration&quot;;\n        }\n        if (!userForm.getPassword().equals(userForm.getPasswordConfirm())){\n            model.addAttribute(&quot;passwordError&quot;, &quot;Паролі не співпадають&quot;);\n            return &quot;registration&quot;;\n        }\n        if (!userService.saveUser(userForm)){\n            model.addAttribute(&quot;usernameError&quot;, &quot;Користувач з таким іменем вже існує&quot;);\n            return &quot;registration&quot;;\n        }\n\n        return &quot;redirect:/&quot;;\n    }\n}\n</code></pre>\n<p>UserService</p>\n<pre><code>@Service\npublic class UserService implements UserDetailsService {\n    @PersistenceContext\n    private EntityManager em;\n    @Autowired\n    UserRepository userRepository;\n    @Autowired\n    RoleRepository roleRepository;\n\n    @Autowired\n    BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username);\n\n        if (user == null) {\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n        }\n        return user;\n    }\n\n    public List&lt;User&gt; allUsers() {\n        return userRepository.findAll();\n    }\n\n    public boolean saveUser(User user) {\n        User userFromDB = userRepository.findByUsername(user.getUsername());\n\n        if (userFromDB != null) {\n            return false;\n        }\n\n        user.setRoles(Collections.singleton(new Role(1L, &quot;ROLE_USER&quot;)));\n        user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\n        userRepository.save(user);\n        return true;\n    }\n\n\n    public boolean deleteUser(Long userId) {\n        if (userRepository.findById(userId).isPresent()) {\n            userRepository.deleteById(userId);\n            return true;\n        }\n        return false;\n    }\n\n    public List&lt;User&gt; usergtList(Long idMin) {\n        return em.createQuery(&quot;SELECT u FROM User u WHERE u.id &gt; :paramId&quot;, User.class)\n                .setParameter(&quot;paramId&quot;, idMin).getResultList();\n    }\n}\n</code></pre>\n<p>and html page</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;title&gt;registrat&lt;/title&gt;\n    &lt;link th:href=&quot;@{/resources/css/style.css}&quot; rel=&quot;stylesheet&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class =&quot;regblock&quot;&gt;\n&lt;h2&gt;Реєстрація&lt;/h2&gt;\n&lt;form action=&quot;/registration&quot; th:action=&quot;@{/registration}&quot; th:object=&quot;${userForm}&quot; method=&quot;post&quot;&gt;\n    &lt;div&gt;\n        &lt;input type=&quot;text&quot; th:field=&quot;*{username}&quot; placeholder=&quot;Username&quot;\n                    autofocus=&quot;true&quot;&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;input type=&quot;password&quot; th:field=&quot;*{password}&quot; placeholder=&quot;Password&quot;&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;input type=&quot;password&quot; th:field=&quot;*{passwordConfirm}&quot;\n                    placeholder=&quot;Confirm your password&quot;&gt;\n    &lt;/div&gt;\n    &lt;div th:if=&quot;${passwordError}&quot;&gt;\n        &lt;p th:text=&quot;${passwordError}&quot;&gt;&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div th:if=&quot;${usernameError}&quot;&gt;\n        &lt;p th:text=&quot;${usernameError}&quot;&gt;&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;button class=&quot;regbtn&quot; type=&quot;submit&quot;&gt;Зареєструватися&lt;/button&gt;\n    &lt;button class=&quot;regbtn&quot; onclick=&quot; window.location.href = '/index'&quot;&gt;Головна&lt;/button&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Before that, the code using JSP worked fine, but when I decided to migrate the project to Thymeleaf and finish it, the following happened.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"Zod"},"score":0,"creation_date":1683864938,"post_id":76233335,"comment_id":134435348,"body_markdown":"Please know I need the code in springboot","body":"Please know I need the code in springboot"},{"owner":{"display_name":"Zod"},"score":0,"creation_date":1683866053,"post_id":76233335,"comment_id":134435350,"body_markdown":"My code uses DecimalFormat formatter = new DecimalFormat(pattern:#,###.##)\nand I use formatter.format(value)\nIt gives 1,000 for 1000.00 but I need 1,000.00","body":"My code uses DecimalFormat formatter = new DecimalFormat(pattern:#,###.##) and I use formatter.format(value) It gives 1,000 for 1000.00 but I need 1,000.00"},{"owner":{"account_id":96198,"reputation":2593,"user_id":261581,"accept_rate":100,"display_name":"Security Hound"},"score":0,"creation_date":1683868371,"post_id":76233335,"comment_id":134435351,"body_markdown":"Programming questions are out of scope.However, you should, either change your systems locale or specify the locale that should be used.","body":"Programming questions are out of scope.However, you should, either change your systems locale or specify the locale that should be used."},{"owner":{"account_id":1205141,"reputation":5974,"user_id":1174966,"display_name":"jdaz"},"score":2,"creation_date":1683869168,"post_id":76233335,"comment_id":134435398,"body_markdown":"I don&#39;t think what you want to do is possible, since the input to `DecimalFormat` is not a string, it is a number that will not distinguish between `1000` and `1000.00`. If you always want two decimals to show up, use the pattern `#,###.00`.","body":"I don&#39;t think what you want to do is possible, since the input to <code>DecimalFormat</code> is not a string, it is a number that will not distinguish between <code>1000</code> and <code>1000.00</code>. If you always want two decimals to show up, use the pattern <code>#,###.00</code>."},{"owner":{"account_id":7111333,"reputation":211,"user_id":5439097,"display_name":"Tom Yan"},"score":0,"creation_date":1683869478,"post_id":76233335,"comment_id":134435434,"body_markdown":"`but if there are no decimals then it should not return any decimals: Ex: 1000 -&gt; 1,000 1000.00 -&gt; 1,000.00` yeah, in that case you would probably need to stick with String (and some ugly pattern matching and manipulation) if you insist. Or maybe &quot;manually&quot; pad the zeroes back based on the original String after the &quot;normal&quot; formation, meh.","body":"<code>but if there are no decimals then it should not return any decimals: Ex: 1000 -&gt; 1,000 1000.00 -&gt; 1,000.00</code> yeah, in that case you would probably need to stick with String (and some ugly pattern matching and manipulation) if you insist. Or maybe &quot;manually&quot; pad the zeroes back based on the original String after the &quot;normal&quot; formation, meh."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683873117,"post_id":76233335,"comment_id":134435936,"body_markdown":"Are the incoming decimals always zero? If you get 1000.015, do you want it rounded, and if so, up or down?","body":"Are the incoming decimals always zero? If you get 1000.015, do you want it rounded, and if so, up or down?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683873654,"post_id":76233335,"comment_id":134436012,"body_markdown":"Elaborating on what @TomYan has said I would parse into a `BigDecimal` since it keeps track of how many decimals were in the input. Then use some logic to distinguish the cases where the scale is 0 or greater, it is -1 (meaning there was exactly one decimal) and the case where it is -2 or less to choose the format to use for formatting.","body":"Elaborating on what @TomYan has said I would parse into a <code>BigDecimal</code> since it keeps track of how many decimals were in the input. Then use some logic to distinguish the cases where the scale is 0 or greater, it is -1 (meaning there was exactly one decimal) and the case where it is -2 or less to choose the format to use for formatting."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683987690,"post_id":76234596,"comment_id":134452336,"body_markdown":"You can.I frankly tend to find polymorphism unsuited or at least not needed for the use case.","body":"You can.I frankly tend to find polymorphism unsuited or at least not needed for the use case."},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1683988475,"post_id":76234596,"comment_id":134452448,"body_markdown":"it depends on the context and if this logic of choosing the appropriate format keeps repeating. Ayways, I would avoid putting it into a utility class/function and I would rather encapsulate it inside the `Amount` class itself (regardless if it&#39;s done with polymorphism or a smile if)","body":"it depends on the context and if this logic of choosing the appropriate format keeps repeating. Ayways, I would avoid putting it into a utility class/function and I would rather encapsulate it inside the <code>Amount</code> class itself (regardless if it&#39;s done with polymorphism or a smile if)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1684002272,"post_id":76234596,"comment_id":134454197,"body_markdown":"The way I read the question, 1000.0 with one decimal is also possible. Does your class hierarchy handle that correctly?","body":"The way I read the question, 1000.0 with one decimal is also possible. Does your class hierarchy handle that correctly?"}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683881072,"creation_date":1683881072,"answer_id":76234596,"question_id":76233335,"body_markdown":"You can use polymorphism for this: you can have an *Amount* base class and then two derivatives for showing the value with or without the commas. This is  very basic example, you can make it better and find better names:\r\n\r\n``` java\r\n@RequiredArgsConstructor\r\npublic abstract class Amount {\r\n\tprotected final BigDecimal value;\r\n\r\n    // very lite &quot;factory&quot; pattern\r\n\tpublic static Amount of(String value) {\r\n\t\tif (value.contains(&quot;,&quot;)) {\r\n\t\t\treturn new AmountWithComma(value);\r\n            //ps: find better names here\r\n\t\t}\r\n\t\treturn new AmountWithoutComma(value);\r\n\t}\r\n\r\n\tpublic BigDecimal value() {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic abstract String display();\r\n}\r\n```\r\n\r\nAnd now, the derivatives - you can keep them as inner classes (or just package protected classes) and &quot;hide&quot; them from the rest of the project:\r\n\r\n```java\r\nstatic class AmountWithComma extends Amount {\r\n\tAmountWithComma(String value) {\r\n\t\tsuper(new BigDecimal(value.replaceAll(&quot;,&quot;, &quot;&quot;)));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String display() {\r\n\t\treturn value.setScale(2).toString();\r\n\t}\r\n}\r\n\r\n\r\nstatic class AmountWithoutComma extends Amount {\r\n\r\n\tprivate final DecimalFormat decimalFormat = new DecimalFormat(&quot;#,##0.00&quot;);\r\n\r\n\tAmountWithoutComma(String value) {\r\n\t\tsuper(new BigDecimal(value));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String display() {\r\n\t\treturn decimalFormat.format(value.doubleValue());\r\n\t}\r\n}\r\n```\r\nNow, you can use it like this:\r\n\r\n```java\r\n@Test\r\nvoid test() {\r\n\tassertThat(Amount.of(&quot;1,000&quot;).display())\r\n\t\t\t.isEqualTo(&quot;1,000.00&quot;);\r\n\t\r\n\tassertThat(Amount.of(&quot;1000&quot;).display())\r\n\t\t\t.isEqualTo(&quot;1000.00&quot;);\r\n}\r\n```\r\n\r\nFurthermore, you can always use the `amount.value()` accessor to get back the value as a *BigDecimal* so you can potentially pass this object around instead of passing a String and always parse or format it.\r\n","title":"Format string number","body":"<p>You can use polymorphism for this: you can have an <em>Amount</em> base class and then two derivatives for showing the value with or without the commas. This is  very basic example, you can make it better and find better names:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic abstract class Amount {\n    protected final BigDecimal value;\n\n    // very lite &quot;factory&quot; pattern\n    public static Amount of(String value) {\n        if (value.contains(&quot;,&quot;)) {\n            return new AmountWithComma(value);\n            //ps: find better names here\n        }\n        return new AmountWithoutComma(value);\n    }\n\n    public BigDecimal value() {\n        return value;\n    }\n\n    public abstract String display();\n}\n</code></pre>\n<p>And now, the derivatives - you can keep them as inner classes (or just package protected classes) and &quot;hide&quot; them from the rest of the project:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class AmountWithComma extends Amount {\n    AmountWithComma(String value) {\n        super(new BigDecimal(value.replaceAll(&quot;,&quot;, &quot;&quot;)));\n    }\n\n    @Override\n    public String display() {\n        return value.setScale(2).toString();\n    }\n}\n\n\nstatic class AmountWithoutComma extends Amount {\n\n    private final DecimalFormat decimalFormat = new DecimalFormat(&quot;#,##0.00&quot;);\n\n    AmountWithoutComma(String value) {\n        super(new BigDecimal(value));\n    }\n\n    @Override\n    public String display() {\n        return decimalFormat.format(value.doubleValue());\n    }\n}\n</code></pre>\n<p>Now, you can use it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid test() {\n    assertThat(Amount.of(&quot;1,000&quot;).display())\n            .isEqualTo(&quot;1,000.00&quot;);\n    \n    assertThat(Amount.of(&quot;1000&quot;).display())\n            .isEqualTo(&quot;1000.00&quot;);\n}\n</code></pre>\n<p>Furthermore, you can always use the <code>amount.value()</code> accessor to get back the value as a <em>BigDecimal</em> so you can potentially pass this object around instead of passing a String and always parse or format it.</p>\n"}],"owner":{"display_name":"Zod"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683881072,"creation_date":1683864920,"question_id":76233335,"body_markdown":"I have a string number which is an amount variable I want to format it with commas such that 1000 returns 1,000 and 1000.00 returns exactly 1,000.00 and 1000.000 also returns 1,000.00 at max 2 decimals but if there are no decimals then it should not return any decimals:\r\nEx: 1000 -&gt; 1,000\r\n1000.00 -&gt; 1,000.00","title":"Format string number","body":"<p>I have a string number which is an amount variable I want to format it with commas such that 1000 returns 1,000 and 1000.00 returns exactly 1,000.00 and 1000.000 also returns 1,000.00 at max 2 decimals but if there are no decimals then it should not return any decimals:\nEx: 1000 -&gt; 1,000\n1000.00 -&gt; 1,000.00</p>\n"},{"tags":["java","android","androidx","classnotfoundexception","android-preferences"],"answers":[{"tags":[],"owner":{"account_id":2883716,"reputation":765,"user_id":2474036,"accept_rate":64,"display_name":"Trancer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683880424,"creation_date":1683880424,"answer_id":76234516,"question_id":76228114,"body_markdown":"Well, a little more time has been spent and a solution has been found. This happened because of the old version of GRADLE. Who would have thought. Upgrading to version 7.4.2 solved this problem.","title":"Custom androidx preference render problem - java.lang.ClassNotFoundException","body":"<p>Well, a little more time has been spent and a solution has been found. This happened because of the old version of GRADLE. Who would have thought. Upgrading to version 7.4.2 solved this problem.</p>\n"}],"owner":{"account_id":2883716,"reputation":765,"user_id":2474036,"accept_rate":64,"display_name":"Trancer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683880424,"creation_date":1683811228,"question_id":76228114,"body_markdown":"When I try to preview my *settings.xml* in Android Studio - Design it shows me errors:\r\n**com.mypackage.preferences.SwitchPreferenceCompatFix not found.**\r\nBut it is exists there.\r\n\r\nMore detailed error:\r\n\r\n    java.lang.ClassNotFoundException: com.mypackage.preferences.SwitchPreferenceCompatFix not found.\r\n\tat com.android.tools.idea.rendering.LayoutlibCallbackImpl.findClass(LayoutlibCallbackImpl.java:836)\r\n\tat com.android.layoutlib.bridge.android.BridgeContext$1.findClass(BridgeContext.java:642)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:467)\r\n\tat androidx.preference.PreferenceInflater.createItem(PreferenceInflater.java:218)\r\n\tat androidx.preference.PreferenceInflater.createItemFromTag(PreferenceInflater.java:281)\r\n\tat androidx.preference.PreferenceInflater.rInflate(PreferenceInflater.java:349)\r\n\tat androidx.preference.PreferenceInflater.rInflate(PreferenceInflater.java:351)\r\n\tat androidx.preference.PreferenceInflater.inflate(PreferenceInflater.java:161)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.android.layoutlib.common.util.ReflectionUtils.invoke(ReflectionUtils.java:80)\r\n\tat com.android.layoutlib.bridge.android.support.SupportPreferencesUtil.createInflatedPreference(SupportPreferencesUtil.java:106)\r\n\tat com.android.layoutlib.bridge.android.support.SupportPreferencesUtil.inflatePreference(SupportPreferencesUtil.java:285)\r\n\tat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:351)\r\n\tat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:450)\r\n\tat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:122)\r\n\tat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:701)\r\n\tat com.android.tools.idea.rendering.RenderTask.lambda$inflate$8(RenderTask.java:848)\r\n\tat com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$3.run(RenderExecutor.kt:200)\r\n\tat com.android.tools.idea.rendering.RenderExecutor$PriorityRunnable.run(RenderExecutor.kt:298)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\n*settings.xml*:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.preference.PreferenceScreen\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:key=&quot;root&quot;&gt;\r\n\r\n    &lt;PreferenceCategory\r\n        android:key=&quot;cat_main&quot;\r\n        android:title=&quot;@string/pref_settings&quot;&gt;\r\n\r\n        &lt;com.mypackage.preferences.SwitchPreferenceCompatFix\r\n            android:icon=&quot;@drawable/ic_pref&quot;\r\n            android:key=&quot;prefKey&quot;\r\n            android:title=&quot;@string/pref_title&quot;\r\n            android:defaultValue=&quot;true&quot;\r\n            android:summary=&quot;@string/pref_sum&quot;/&gt;\r\n\r\n    &lt;/PreferenceCategory&gt;\r\n\r\n    &lt;/androidx.preference.PreferenceScreen&gt;\r\n\r\n*SwitchPreferenceCompatFix.java*:\r\n\r\n    package com.mypackage.preferences;\r\n    \r\n    import android.content.Context; \r\n    import androidx.preference.PreferenceViewHolder;\r\n    import androidx.preference.SwitchPreferenceCompat;\r\n    import android.util.AttributeSet;\r\n    \r\n    import com.mypackage.R;\r\n    \r\n    public class SwitchPreferenceCompatFix extends SwitchPreferenceCompat {\r\n    \r\n        private final Context context;\r\n    \r\n        public SwitchPreferenceCompatFix(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {\r\n            super(context, attrs, defStyleAttr, defStyleRes);\r\n            this.context = context;\r\n        }\r\n    \r\n        public SwitchPreferenceCompatFix(Context context, AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n            this.context = context;\r\n        }\r\n    \r\n        public SwitchPreferenceCompatFix(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n            this.context = context;\r\n        }\r\n    \r\n        public SwitchPreferenceCompatFix(Context context) {\r\n            super(context);\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(PreferenceViewHolder holder) {\r\n            holder.itemView.setPadding((int) context.getResources().getDimension(R.dimen.preference_side_padding), 0,\r\n                    (int) context.getResources().getDimension(R.dimen.preference_side_padding), 0);\r\n            super.onBindViewHolder(holder);\r\n        } \r\n      }\r\n\r\n\r\n\r\n&gt; **Android Studio version:**\r\n&gt; \r\n&gt; Android Studio Giraffe | 2022.3.1 Beta 2 Build\r\n&gt; #AI-223.8836.35.2231.10023527, built on April 27, 2023 Runtime version: 17.0.6+0-b2043.56-9884540 amd64 VM: OpenJDK 64-Bit Server VM\r\n&gt; by JetBrains s.r.o.\r\n\r\nWhat I doing wrong?\r\nLooks like it&#39;s a Android Studio problems but I&#39;m not sure","title":"Custom androidx preference render problem - java.lang.ClassNotFoundException","body":"<p>When I try to preview my <em>settings.xml</em> in Android Studio - Design it shows me errors:\n<strong>com.mypackage.preferences.SwitchPreferenceCompatFix not found.</strong>\nBut it is exists there.</p>\n<p>More detailed error:</p>\n<pre><code>java.lang.ClassNotFoundException: com.mypackage.preferences.SwitchPreferenceCompatFix not found.\nat com.android.tools.idea.rendering.LayoutlibCallbackImpl.findClass(LayoutlibCallbackImpl.java:836)\nat com.android.layoutlib.bridge.android.BridgeContext$1.findClass(BridgeContext.java:642)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:467)\nat androidx.preference.PreferenceInflater.createItem(PreferenceInflater.java:218)\nat androidx.preference.PreferenceInflater.createItemFromTag(PreferenceInflater.java:281)\nat androidx.preference.PreferenceInflater.rInflate(PreferenceInflater.java:349)\nat androidx.preference.PreferenceInflater.rInflate(PreferenceInflater.java:351)\nat androidx.preference.PreferenceInflater.inflate(PreferenceInflater.java:161)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat com.android.layoutlib.common.util.ReflectionUtils.invoke(ReflectionUtils.java:80)\nat com.android.layoutlib.bridge.android.support.SupportPreferencesUtil.createInflatedPreference(SupportPreferencesUtil.java:106)\nat com.android.layoutlib.bridge.android.support.SupportPreferencesUtil.inflatePreference(SupportPreferencesUtil.java:285)\nat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:351)\nat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:450)\nat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:122)\nat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:701)\nat com.android.tools.idea.rendering.RenderTask.lambda$inflate$8(RenderTask.java:848)\nat com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$3.run(RenderExecutor.kt:200)\nat com.android.tools.idea.rendering.RenderExecutor$PriorityRunnable.run(RenderExecutor.kt:298)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p><em>settings.xml</em>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.preference.PreferenceScreen\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:key=&quot;root&quot;&gt;\n\n&lt;PreferenceCategory\n    android:key=&quot;cat_main&quot;\n    android:title=&quot;@string/pref_settings&quot;&gt;\n\n    &lt;com.mypackage.preferences.SwitchPreferenceCompatFix\n        android:icon=&quot;@drawable/ic_pref&quot;\n        android:key=&quot;prefKey&quot;\n        android:title=&quot;@string/pref_title&quot;\n        android:defaultValue=&quot;true&quot;\n        android:summary=&quot;@string/pref_sum&quot;/&gt;\n\n&lt;/PreferenceCategory&gt;\n\n&lt;/androidx.preference.PreferenceScreen&gt;\n</code></pre>\n<p><em>SwitchPreferenceCompatFix.java</em>:</p>\n<pre><code>package com.mypackage.preferences;\n\nimport android.content.Context; \nimport androidx.preference.PreferenceViewHolder;\nimport androidx.preference.SwitchPreferenceCompat;\nimport android.util.AttributeSet;\n\nimport com.mypackage.R;\n\npublic class SwitchPreferenceCompatFix extends SwitchPreferenceCompat {\n\n    private final Context context;\n\n    public SwitchPreferenceCompatFix(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {\n        super(context, attrs, defStyleAttr, defStyleRes);\n        this.context = context;\n    }\n\n    public SwitchPreferenceCompatFix(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        this.context = context;\n    }\n\n    public SwitchPreferenceCompatFix(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        this.context = context;\n    }\n\n    public SwitchPreferenceCompatFix(Context context) {\n        super(context);\n        this.context = context;\n    }\n\n    @Override\n    public void onBindViewHolder(PreferenceViewHolder holder) {\n        holder.itemView.setPadding((int) context.getResources().getDimension(R.dimen.preference_side_padding), 0,\n                (int) context.getResources().getDimension(R.dimen.preference_side_padding), 0);\n        super.onBindViewHolder(holder);\n    } \n  }\n</code></pre>\n<blockquote>\n<p><strong>Android Studio version:</strong></p>\n<p>Android Studio Giraffe | 2022.3.1 Beta 2 Build\n#AI-223.8836.35.2231.10023527, built on April 27, 2023 Runtime version: 17.0.6+0-b2043.56-9884540 amd64 VM: OpenJDK 64-Bit Server VM\nby JetBrains s.r.o.</p>\n</blockquote>\n<p>What I doing wrong?\nLooks like it's a Android Studio problems but I'm not sure</p>\n"},{"tags":["java","linux","api","ubuntu","nginx"],"owner":{"account_id":17536393,"reputation":63,"user_id":12719428,"display_name":"hritz220"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683880406,"creation_date":1683880406,"question_id":76234512,"body_markdown":"I&#39;ve following java api endpoint, I&#39;m trying to hit with postman:\r\n\r\n    curl --location --request POST &#39;https://demo-api.xxx.in/bsa/external/uploadbankstatement&#39; \\\r\n    --header &#39;cache-control: no-cache&#39; \\\r\n    --form &#39;file=@&quot;/home/anuj/Downloads/Config (1).json&quot;&#39; \\\r\n    --form &#39;data=&quot;{\r\n     \\&quot;entityName\\&quot;: \\&quot;Allied Agencies\\&quot;,\r\n     \\&quot;pan\\&quot;: \\&quot;ABCDE1234F\\&quot;,\r\n     \\&quot;monthlyDrawingPowerLimit\\&quot;: [\r\n     {\r\n     \\&quot;month\\&quot;: \\&quot;06\\&quot;,\r\n     \\&quot;year\\&quot;: \\&quot;2021\\&quot;,\r\n     \\&quot;amount\\&quot;: \\&quot;20000\\&quot;\r\n     }\r\n     ],\r\n     \\&quot;sanctionLimit\\&quot;: \\&quot;245000\\&quot;,\r\n     \\&quot;entityType\\&quot;: \\&quot;company\\&quot;,\r\n     \\&quot;bankCode\\&quot;: \\&quot;FI00002\\&quot;,\r\n     \\&quot;accountType\\&quot;: \\&quot;over_draft\\&quot;,\r\n     \\&quot;accountNumber\\&quot;: \\&quot;123456789\\&quot;,\r\n     \\&quot;relatedPartyKeywords\\&quot;: \\&quot;ARMAN FINANCIAL SERVICES LIMITED\\&quot;,\r\n     \\&quot;userapplicationid\\&quot;: \\&quot;Shub01\\&quot;,\r\n     \\&quot;filePassword\\&quot;: {\r\n     \\&quot;OpTransactionHistory20-10-2021 (4) (1).pdf\\&quot;: \\&quot;1234\\&quot;\r\n     }\r\n    }&quot;&#39;\r\n\r\nI&#39;ve following nginx server location  block where the java backend api running:\r\n\r\n    location /bsa/external/uploadbankstatement{\r\n        \r\n            # Pass the request to the upstream server\r\n         \r\n                        proxy_pass http://localhost:5000;  \r\n      location /bsa/external/uploadbankstatement/ {\r\n        upload_pass /bsa/external/uploadbankstatement;\r\n           if ($request_filename !~* ^.*\\.pdf$) {\r\n                    return 403;\r\n                }\r\n           # proxy_pass http://localhost:5000;\r\n            client_body_temp_path /temp;\r\n            client_body_in_file_only on;\r\n            client_body_buffer_size 128k;\r\n          \r\n        }\r\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n            proxy_set_header X-Forwarded-Proto $scheme;\r\n            proxy_set_header X-Forwarded-Port $server_port;\r\n            proxy_set_header Host $host;\r\n    }\r\n\r\n\r\nI need to configure above location block such that only pdf are allowed to be uploaded, but in above configuration, it is not blocking files other than pdf, all files are accepted in above.\r\nPlease help me out.\r\n","title":"how allow only pdf,xlsx files to upload in java upload api running behind nginx server?","body":"<p>I've following java api endpoint, I'm trying to hit with postman:</p>\n<pre><code>curl --location --request POST 'https://demo-api.xxx.in/bsa/external/uploadbankstatement' \\\n--header 'cache-control: no-cache' \\\n--form 'file=@&quot;/home/anuj/Downloads/Config (1).json&quot;' \\\n--form 'data=&quot;{\n \\&quot;entityName\\&quot;: \\&quot;Allied Agencies\\&quot;,\n \\&quot;pan\\&quot;: \\&quot;ABCDE1234F\\&quot;,\n \\&quot;monthlyDrawingPowerLimit\\&quot;: [\n {\n \\&quot;month\\&quot;: \\&quot;06\\&quot;,\n \\&quot;year\\&quot;: \\&quot;2021\\&quot;,\n \\&quot;amount\\&quot;: \\&quot;20000\\&quot;\n }\n ],\n \\&quot;sanctionLimit\\&quot;: \\&quot;245000\\&quot;,\n \\&quot;entityType\\&quot;: \\&quot;company\\&quot;,\n \\&quot;bankCode\\&quot;: \\&quot;FI00002\\&quot;,\n \\&quot;accountType\\&quot;: \\&quot;over_draft\\&quot;,\n \\&quot;accountNumber\\&quot;: \\&quot;123456789\\&quot;,\n \\&quot;relatedPartyKeywords\\&quot;: \\&quot;ARMAN FINANCIAL SERVICES LIMITED\\&quot;,\n \\&quot;userapplicationid\\&quot;: \\&quot;Shub01\\&quot;,\n \\&quot;filePassword\\&quot;: {\n \\&quot;OpTransactionHistory20-10-2021 (4) (1).pdf\\&quot;: \\&quot;1234\\&quot;\n }\n}&quot;'\n</code></pre>\n<p>I've following nginx server location  block where the java backend api running:</p>\n<pre><code>location /bsa/external/uploadbankstatement{\n    \n        # Pass the request to the upstream server\n     \n                    proxy_pass http://localhost:5000;  \n  location /bsa/external/uploadbankstatement/ {\n    upload_pass /bsa/external/uploadbankstatement;\n       if ($request_filename !~* ^.*\\.pdf$) {\n                return 403;\n            }\n       # proxy_pass http://localhost:5000;\n        client_body_temp_path /temp;\n        client_body_in_file_only on;\n        client_body_buffer_size 128k;\n      \n    }\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_set_header X-Forwarded-Port $server_port;\n        proxy_set_header Host $host;\n}\n</code></pre>\n<p>I need to configure above location block such that only pdf are allowed to be uploaded, but in above configuration, it is not blocking files other than pdf, all files are accepted in above.\nPlease help me out.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683743240,"creation_date":1683741745,"answer_id":76221390,"question_id":76221321,"body_markdown":"Have an `EntryPointActivity` that you set as your launcher activity instead of `MainActivity` in the manifest. It can delegate to one of the others. You can save the state in a `SharedPreference`.\r\n\r\n```java\r\npublic class EntryPointActivity extends Activity {\r\n    public static final String KEY_USE_AUTO_ACTIVITY = &quot;KEY_USE_AUTO_ACTIVITY&quot;;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super(savedInstanceState);\r\n        boolean useAutoActivity = PreferenceManager.getDefaultSharedPreferences(this)\r\n            .getBoolean(KEY_USE_AUTO_ACTIVITY, false);\r\n        Class&lt;?&gt; nextActivity = userAutoActivity ? AutoActivity.class : MainActivity.class;\r\n        startActivity(Intent(this, nextActivity));\r\n        finish();\r\n    }\r\n}\r\n```\r\nAnd in your button click listener in the `MainActivity`:\r\n\r\n```java\r\n// in onClickListener:\r\nPreferenceManager.getDefaultSharedPreferences(MainActivity.this).edit()\r\n    .putBoolean(EntryPointActivity.KEY_USE_AUTO_ACTIVITY, true)\r\n    .apply();\r\nstartActivity(Intent(this, AutoActivity.class));\r\n```","title":"How can I change the startup order of the home screen in Android Studio?","body":"<p>Have an <code>EntryPointActivity</code> that you set as your launcher activity instead of <code>MainActivity</code> in the manifest. It can delegate to one of the others. You can save the state in a <code>SharedPreference</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EntryPointActivity extends Activity {\n    public static final String KEY_USE_AUTO_ACTIVITY = &quot;KEY_USE_AUTO_ACTIVITY&quot;;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super(savedInstanceState);\n        boolean useAutoActivity = PreferenceManager.getDefaultSharedPreferences(this)\n            .getBoolean(KEY_USE_AUTO_ACTIVITY, false);\n        Class&lt;?&gt; nextActivity = userAutoActivity ? AutoActivity.class : MainActivity.class;\n        startActivity(Intent(this, nextActivity));\n        finish();\n    }\n}\n</code></pre>\n<p>And in your button click listener in the <code>MainActivity</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// in onClickListener:\nPreferenceManager.getDefaultSharedPreferences(MainActivity.this).edit()\n    .putBoolean(EntryPointActivity.KEY_USE_AUTO_ACTIVITY, true)\n    .apply();\nstartActivity(Intent(this, AutoActivity.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23544266,"reputation":1,"user_id":17587967,"display_name":"Reza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683880104,"creation_date":1683880104,"answer_id":76234469,"question_id":76221321,"body_markdown":"You can store a flag in `SharedPreferences`. Whenever the app runs, you can check the flag in the `onCreate()` method of the `MainActivity`. If the flag is `true`, the `AutoActivity` will be opened, and the `MainActivity` will be closed.\r\n\r\nhere is the code when clicking on the `button`:\r\n\r\n    Button switchButton = findViewById(R.id.switchButton);\r\n        switchButton.setOnClickListener(v -&gt; {\r\n            SharedPreferences.Editor editor = sharedPref.edit();\r\n            editor.putBoolean(KEY_AUTO_ACTIVITY_AS_HOME, true);\r\n            editor.apply();\r\n\r\n            startActivity(new Intent(this, AutoActivity.class));\r\n            finish();\r\n        });\r\n\r\nhere the code in `onCreate()` of `MainActivity`:\r\n\r\n    sharedPref = getPreferences(Context.MODE_PRIVATE);\r\n\r\n        boolean autoActivityAsHome =\r\n                sharedPref.getBoolean(KEY_AUTO_ACTIVITY_AS_HOME, false);\r\n        if (autoActivityAsHome) {\r\n            startActivity(new Intent(this, AutoActivity.class));\r\n            finish();\r\n        }\r\n\r\nhere is the complete code:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private SharedPreferences sharedPref;\r\n    static final String KEY_AUTO_ACTIVITY_AS_HOME = &quot;AUTO_ACTIVITY_AS_HOME&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        sharedPref = getPreferences(Context.MODE_PRIVATE);\r\n\r\n        boolean autoActivityAsHome =\r\n                sharedPref.getBoolean(KEY_AUTO_ACTIVITY_AS_HOME, false);\r\n        if (autoActivityAsHome) {\r\n            startActivity(new Intent(this, AutoActivity.class));\r\n            finish();\r\n        }\r\n\r\n        Button switchButton = findViewById(R.id.switchButton);\r\n        switchButton.setOnClickListener(v -&gt; {\r\n            SharedPreferences.Editor editor = sharedPref.edit();\r\n            editor.putBoolean(KEY_AUTO_ACTIVITY_AS_HOME, true);\r\n            editor.apply();\r\n\r\n            startActivity(new Intent(this, AutoActivity.class));\r\n            finish();\r\n        });\r\n    }\r\n}\r\n\r\n\r\nif you want get back to the previous state, you can just delete the flag in `AutoActivity()` like this:\r\n\r\n    SharedPreferences sharedPref = getPreferences(Context.MODE_PRIVATE);\r\n        boolean autoActivityAsHome = sharedPref.getBoolean(KEY_AUTO_ACTIVITY_AS_HOME, false);\r\n        if (autoActivityAsHome) {\r\n            // Clear the flag\r\n            SharedPreferences.Editor editor = sharedPref.edit();\r\n            editor.remove(KEY_AUTO_ACTIVITY_AS_HOME);\r\n            editor.apply();\r\n        }\r\n\r\n","title":"How can I change the startup order of the home screen in Android Studio?","body":"<p>You can store a flag in <code>SharedPreferences</code>. Whenever the app runs, you can check the flag in the <code>onCreate()</code> method of the <code>MainActivity</code>. If the flag is <code>true</code>, the <code>AutoActivity</code> will be opened, and the <code>MainActivity</code> will be closed.</p>\n<p>here is the code when clicking on the <code>button</code>:</p>\n<pre><code>Button switchButton = findViewById(R.id.switchButton);\n    switchButton.setOnClickListener(v -&gt; {\n        SharedPreferences.Editor editor = sharedPref.edit();\n        editor.putBoolean(KEY_AUTO_ACTIVITY_AS_HOME, true);\n        editor.apply();\n\n        startActivity(new Intent(this, AutoActivity.class));\n        finish();\n    });\n</code></pre>\n<p>here the code in <code>onCreate()</code> of <code>MainActivity</code>:</p>\n<pre><code>sharedPref = getPreferences(Context.MODE_PRIVATE);\n\n    boolean autoActivityAsHome =\n            sharedPref.getBoolean(KEY_AUTO_ACTIVITY_AS_HOME, false);\n    if (autoActivityAsHome) {\n        startActivity(new Intent(this, AutoActivity.class));\n        finish();\n    }\n</code></pre>\n<p>here is the complete code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate SharedPreferences sharedPref;\nstatic final String KEY_AUTO_ACTIVITY_AS_HOME = &quot;AUTO_ACTIVITY_AS_HOME&quot;;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    sharedPref = getPreferences(Context.MODE_PRIVATE);\n\n    boolean autoActivityAsHome =\n            sharedPref.getBoolean(KEY_AUTO_ACTIVITY_AS_HOME, false);\n    if (autoActivityAsHome) {\n        startActivity(new Intent(this, AutoActivity.class));\n        finish();\n    }\n\n    Button switchButton = findViewById(R.id.switchButton);\n    switchButton.setOnClickListener(v -&gt; {\n        SharedPreferences.Editor editor = sharedPref.edit();\n        editor.putBoolean(KEY_AUTO_ACTIVITY_AS_HOME, true);\n        editor.apply();\n\n        startActivity(new Intent(this, AutoActivity.class));\n        finish();\n    });\n}\n</code></pre>\n<p>}</p>\n<p>if you want get back to the previous state, you can just delete the flag in <code>AutoActivity()</code> like this:</p>\n<pre><code>SharedPreferences sharedPref = getPreferences(Context.MODE_PRIVATE);\n    boolean autoActivityAsHome = sharedPref.getBoolean(KEY_AUTO_ACTIVITY_AS_HOME, false);\n    if (autoActivityAsHome) {\n        // Clear the flag\n        SharedPreferences.Editor editor = sharedPref.edit();\n        editor.remove(KEY_AUTO_ACTIVITY_AS_HOME);\n        editor.apply();\n    }\n</code></pre>\n"}],"owner":{"account_id":28571227,"reputation":1,"user_id":21873414,"display_name":"dacha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683880104,"creation_date":1683741130,"question_id":76221321,"body_markdown":"I have `AutoActivity` and `MainActivity`. In Manifest, `MainActivity` is the start screen.\r\n\r\nBy clicking on the button in `MainActivity`, you switch to `AutoActivity`, and it becomes the home screen. \r\n\r\nWhen restarting the application, `AutoActivity` will open immediately instead of `MainActivity`. \r\n\r\nHow can this be implemented?\r\n\r\n\r\n\r\n","title":"How can I change the startup order of the home screen in Android Studio?","body":"<p>I have <code>AutoActivity</code> and <code>MainActivity</code>. In Manifest, <code>MainActivity</code> is the start screen.</p>\n<p>By clicking on the button in <code>MainActivity</code>, you switch to <code>AutoActivity</code>, and it becomes the home screen.</p>\n<p>When restarting the application, <code>AutoActivity</code> will open immediately instead of <code>MainActivity</code>.</p>\n<p>How can this be implemented?</p>\n"},{"tags":["java","spring","hibernate","multi-tenant"],"comments":[{"owner":{"account_id":7219924,"reputation":910,"user_id":5955376,"accept_rate":100,"display_name":"nllsdfx"},"score":0,"creation_date":1560352067,"post_id":56563538,"comment_id":99710018,"body_markdown":"Why do you need to have it in single application? Can&#39;t you have multiple applications configured each for its own database? And just choose needed one. Create repository and reuse it across all your apps.","body":"Why do you need to have it in single application? Can&#39;t you have multiple applications configured each for its own database? And just choose needed one. Create repository and reuse it across all your apps."},{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":0,"creation_date":1560503294,"post_id":56563538,"comment_id":99766320,"body_markdown":"**route datasources by web request** , do these web requests have different urls ? What I mean to say is - does service implementation classes different for different customers or you wish to initialize a single service service class with different data sources  ?","body":"<b>route datasources by web request</b> , do these web requests have different urls ? What I mean to say is - does service implementation classes different for different customers or you wish to initialize a single service service class with different data sources  ?"}],"answers":[{"comments":[{"owner":{"account_id":6937666,"reputation":949,"user_id":5325086,"accept_rate":75,"display_name":"lenach87"},"score":1,"creation_date":1609883683,"post_id":56743206,"comment_id":115960401,"body_markdown":"Great solution and explanation, thanks a lot!","body":"Great solution and explanation, thanks a lot!"}],"tags":[],"owner":{"account_id":6539693,"reputation":1278,"user_id":5057758,"accept_rate":50,"display_name":"Kadzhaev Marat"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683880085,"creation_date":1561406444,"answer_id":56743206,"question_id":56563538,"body_markdown":"I found a solution. You can explicitly tell Hibernate which dialect to choose using `hibernate.dialect` property. So you can implement your own dialect extends `org.hibernate.dialect.Dialect` class, override all public methods and delegate calls to specific dialects. The good thing is Hibernate calls this (`Dialect`&#39;s) methods before performing any database requests. In my specific case I&#39;ve implemented a custom dialect with map of dialects I need for my project and now I can use the same repositories and  freely choose Postgresql, Oracle or MySQL depending on logged in user","title":"Spring multi tenancy","body":"<p>I found a solution. You can explicitly tell Hibernate which dialect to choose using <code>hibernate.dialect</code> property. So you can implement your own dialect extends <code>org.hibernate.dialect.Dialect</code> class, override all public methods and delegate calls to specific dialects. The good thing is Hibernate calls this (<code>Dialect</code>'s) methods before performing any database requests. In my specific case I've implemented a custom dialect with map of dialects I need for my project and now I can use the same repositories and  freely choose Postgresql, Oracle or MySQL depending on logged in user</p>\n"}],"owner":{"account_id":6539693,"reputation":1278,"user_id":5057758,"accept_rate":50,"display_name":"Kadzhaev Marat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":56743206,"answer_count":1,"score":3,"last_activity_date":1683880085,"creation_date":1560346473,"question_id":56563538,"body_markdown":"I have two databases: `Oracle` and `PostgreSQL` where I have multiple schemas - one per each customer. I need to have an opportunity to route datasources by web request. I tried to use Spring&#39;s `AbstractRoutingDatasource` but it works only with single dialect. Are there any other solutions for this task?","title":"Spring multi tenancy","body":"<p>I have two databases: <code>Oracle</code> and <code>PostgreSQL</code> where I have multiple schemas - one per each customer. I need to have an opportunity to route datasources by web request. I tried to use Spring's <code>AbstractRoutingDatasource</code> but it works only with single dialect. Are there any other solutions for this task?</p>\n"},{"tags":["java","multithreading","java-8","concurrency","java.util.concurrent"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1683878532,"post_id":76234152,"comment_id":134436914,"body_markdown":"You need replace body of ops with all in one operation such as `map.computeIfAbsent(KEY, k -&gt; new AtomicInteger()). incrementAndGet()`.","body":"You need replace body of ops with all in one operation such as <code>map.computeIfAbsent(KEY, k -&gt; new AtomicInteger()). incrementAndGet()</code>."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1683882234,"post_id":76234384,"comment_id":134437659,"body_markdown":"The original code did not have “a race condition” but multiple race conditions. Nitpicking: in the second section, the scenario of `map.get(KEY)` returning the same value is not the problem, as that’s actually the intended thing (the value returned by `map.get(KEY)` is the `AtomicInteger`). Letting aside that this is not guaranteed due to the problem described in the first section, the actual second problem is that `intValue()` may return the same value. It’s even possible that multiple updates happen while a thread is executing `intValue() + 1` and eventually reverting all of them.","body":"The original code did not have “a race condition” but multiple race conditions. Nitpicking: in the second section, the scenario of <code>map.get(KEY)</code> returning the same value is not the problem, as that’s actually the intended thing (the value returned by <code>map.get(KEY)</code> is the <code>AtomicInteger</code>). Letting aside that this is not guaranteed due to the problem described in the first section, the actual second problem is that <code>intValue()</code> may return the same value. It’s even possible that multiple updates happen while a thread is executing <code>intValue() + 1</code> and eventually reverting all of them."}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1683879948,"creation_date":1683879312,"answer_id":76234384,"question_id":76234152,"body_markdown":"Your code has a race condition. Two threads can decide at same time that `!map.containsKey(KEY)` is false and assign different `new AtomicInteger(1)` to the map.\r\n\r\nTwo threads can decide at same time that `!map.containsKey(KEY)` is true and they both could evaluate `map.get(KEY)` as the same value, so store same new value with `.set(map.get(KEY).intValue() + 1)`. \r\n\r\nAn atomic operation for update can be achieved by use of `Map.computeIfAbsent()` with `AtomicInteger.incrementAndGet()` to ensure consistent counter incrementing without the value being updated by another thread:\r\n\r\n    private static void ops(Map&lt;String, AtomicInteger&gt; map) { \r\n        map.computeIfAbsent(KEY, k -&gt; new AtomicInteger()).incrementAndGet();\r\n    }","title":"How to maintain atomicity with ConcurrentHashMap get and put methods?","body":"<p>Your code has a race condition. Two threads can decide at same time that <code>!map.containsKey(KEY)</code> is false and assign different <code>new AtomicInteger(1)</code> to the map.</p>\n<p>Two threads can decide at same time that <code>!map.containsKey(KEY)</code> is true and they both could evaluate <code>map.get(KEY)</code> as the same value, so store same new value with <code>.set(map.get(KEY).intValue() + 1)</code>.</p>\n<p>An atomic operation for update can be achieved by use of <code>Map.computeIfAbsent()</code> with <code>AtomicInteger.incrementAndGet()</code> to ensure consistent counter incrementing without the value being updated by another thread:</p>\n<pre><code>private static void ops(Map&lt;String, AtomicInteger&gt; map) { \n    map.computeIfAbsent(KEY, k -&gt; new AtomicInteger()).incrementAndGet();\n}\n</code></pre>\n"}],"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76234384,"answer_count":1,"score":1,"last_activity_date":1683879948,"creation_date":1683877411,"question_id":76234152,"body_markdown":"In a multi-threaded environment, I am performing get and put operations on a ConcurrentHashMap implementation. However, the results are un-expected. Please find below code and output.\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.UUID;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class Test {\r\n\r\n    private static final List&lt;String&gt; bars = Arrays.asList(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;);\r\n    private static final String KEY = UUID.randomUUID().toString();\r\n    private static ExecutorService executorService = null;\r\n\r\n    public static void main(String[] args) {\r\n        for (int i = 1; i &lt;= 20; i++) {\r\n            executorService = Executors.newFixedThreadPool(2);\r\n            Map&lt;String, AtomicInteger&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n            performMapOps(map);\r\n            executorService.shutdown();\r\n            try {\r\n                while (!executorService.awaitTermination(1, TimeUnit.SECONDS));\r\n                System.out.println(map.get(KEY));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void performMapOps(Map&lt;String, AtomicInteger&gt; map) {\r\n        for (int i = 1; i &lt;= bars.size(); i++) {\r\n            executorService.execute(() -&gt; ops(map));\r\n        }\r\n    }\r\n\r\n    private static void ops(Map&lt;String, AtomicInteger&gt; map) {\r\n       if (!map.containsKey(KEY)) {\r\n            AtomicInteger atomicInteger = new AtomicInteger(1);\r\n            map.put(KEY, atomicInteger);\r\n        } else {\r\n            map.get(KEY).set(map.get(KEY).intValue() + 1);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nOUTPUT - It should be 10 always, However it is not true for the above code. Please find below output.\r\n```\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n9\r\n10\r\n10\r\n```\r\nSometimes, it gives me value other than 10.\r\nPlease help to understand, why this un-expected behaviour and how to fix this?","title":"How to maintain atomicity with ConcurrentHashMap get and put methods?","body":"<p>In a multi-threaded environment, I am performing get and put operations on a ConcurrentHashMap implementation. However, the results are un-expected. Please find below code and output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.UUID;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class Test {\n\n    private static final List&lt;String&gt; bars = Arrays.asList(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;);\n    private static final String KEY = UUID.randomUUID().toString();\n    private static ExecutorService executorService = null;\n\n    public static void main(String[] args) {\n        for (int i = 1; i &lt;= 20; i++) {\n            executorService = Executors.newFixedThreadPool(2);\n            Map&lt;String, AtomicInteger&gt; map = new ConcurrentHashMap&lt;&gt;();\n            performMapOps(map);\n            executorService.shutdown();\n            try {\n                while (!executorService.awaitTermination(1, TimeUnit.SECONDS));\n                System.out.println(map.get(KEY));\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private static void performMapOps(Map&lt;String, AtomicInteger&gt; map) {\n        for (int i = 1; i &lt;= bars.size(); i++) {\n            executorService.execute(() -&gt; ops(map));\n        }\n    }\n\n    private static void ops(Map&lt;String, AtomicInteger&gt; map) {\n       if (!map.containsKey(KEY)) {\n            AtomicInteger atomicInteger = new AtomicInteger(1);\n            map.put(KEY, atomicInteger);\n        } else {\n            map.get(KEY).set(map.get(KEY).intValue() + 1);\n        }\n    }\n}\n\n</code></pre>\n<p>OUTPUT - It should be 10 always, However it is not true for the above code. Please find below output.</p>\n<pre><code>10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n9\n10\n10\n</code></pre>\n<p>Sometimes, it gives me value other than 10.\nPlease help to understand, why this un-expected behaviour and how to fix this?</p>\n"},{"tags":["java","report","jacoco","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"score":0,"creation_date":1444645492,"post_id":33078745,"comment_id":53974197,"body_markdown":"Did you look for the reports at `target/site/jacoco-ut/index.html` ?","body":"Did you look for the reports at <code>target&#47;site&#47;jacoco-ut&#47;index.html</code> ?"},{"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"score":0,"creation_date":1444645626,"post_id":33078745,"comment_id":53974274,"body_markdown":"@SaifAsif, yes. I can see only `jacoco.exec` file and no other folder being created under `target`","body":"@SaifAsif, yes. I can see only <code>jacoco.exec</code> file and no other folder being created under <code>target</code>"},{"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"score":0,"creation_date":1444645855,"post_id":33078745,"comment_id":53974402,"body_markdown":"Pase the logs of `mvn clean install` here from the part when jacoco plugin kicks in","body":"Pase the logs of <code>mvn clean install</code> here from the part when jacoco plugin kicks in"},{"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"score":0,"creation_date":1444646899,"post_id":33078745,"comment_id":53975000,"body_markdown":"@SaifAsif, please check the updated post. How do i generate consolidated report?","body":"@SaifAsif, please check the updated post. How do i generate consolidated report?"}],"answers":[{"comments":[{"owner":{"account_id":1014342,"reputation":2352,"user_id":3300205,"display_name":"avojak"},"score":2,"creation_date":1489124001,"post_id":33133873,"comment_id":72542988,"body_markdown":"Support for multi-module projects has been added as of version 0.7.7. To anyone looking for a bit of detail about usage with a Tycho build, I found this blog post by Lorenzo Bettini to be extremely helpful: [JaCoCo Code Coverage and Report of multiple Eclipse plug-in projects](http://www.lorenzobettini.it/2017/02/jacoco-code-coverage-and-report-of-multiple-eclipse-plug-in-projects/#comment-13287)","body":"Support for multi-module projects has been added as of version 0.7.7. To anyone looking for a bit of detail about usage with a Tycho build, I found this blog post by Lorenzo Bettini to be extremely helpful: <a href=\"http://www.lorenzobettini.it/2017/02/jacoco-code-coverage-and-report-of-multiple-eclipse-plug-in-projects/#comment-13287\" rel=\"nofollow noreferrer\">JaCoCo Code Coverage and Report of multiple Eclipse plug-in projects</a>"},{"owner":{"account_id":1092127,"reputation":10061,"user_id":1086540,"accept_rate":86,"display_name":"Hilikus"},"score":1,"creation_date":1517934196,"post_id":33133873,"comment_id":84292316,"body_markdown":"Summary: create a submodule exclusively for the aggregated report and make this submodule declare dependencies to the sibling submodules that it needs to aggregate","body":"Summary: create a submodule exclusively for the aggregated report and make this submodule declare dependencies to the sibling submodules that it needs to aggregate"},{"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1645004749,"post_id":33133873,"comment_id":125752887,"body_markdown":"agree, for detailed steps: https://giri-tech.blogspot.com/2021/08/maven-multi-module-java-project-code.html","body":"agree, for detailed steps: <a href=\"https://giri-tech.blogspot.com/2021/08/maven-multi-module-java-project-code.html\" rel=\"nofollow noreferrer\">giri-tech.blogspot.com/2021/08/&hellip;</a>"},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1675785024,"post_id":33133873,"comment_id":133001236,"body_markdown":"@Rogerio can you help me on this https://stackoverflow.com/questions/75375132/jacoco-configuration-for-multi-module-is-not-working ?","body":"@Rogerio can you help me on this <a href=\"https://stackoverflow.com/questions/75375132/jacoco-configuration-for-multi-module-is-not-working\" title=\"jacoco configuration for multi module is not working\">stackoverflow.com/questions/75375132/&hellip;</a> ?"}],"tags":[],"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"comment_count":4,"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1513202550,"creation_date":1444850547,"answer_id":33133873,"question_id":33078745,"body_markdown":"JaCoCo version 0.7.7 can [generate an aggregate coverage report][1] from multiple Maven modules through a new goal `jacoco:report-aggregate`.\r\n\r\n\r\n  [1]: https://github.com/jacoco/jacoco/wiki/MavenMultiModule","title":"Jacoco Maven multi module project coverage","body":"<p>JaCoCo version 0.7.7 can <a href=\"https://github.com/jacoco/jacoco/wiki/MavenMultiModule\" rel=\"noreferrer\">generate an aggregate coverage report</a> from multiple Maven modules through a new goal <code>jacoco:report-aggregate</code>.</p>\n"},{"tags":[],"owner":{"account_id":1906384,"reputation":51,"user_id":1721171,"display_name":"Michael Remme"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484833668,"creation_date":1484833668,"answer_id":41743375,"question_id":33078745,"body_markdown":"One problem in multimodule projects is caused, if the aggregator pom is used as parent pom for the modules either, like it is the case in the above example:\r\n\r\n    - parentAggregator pom\r\n    ---sub module A pom.xml -&gt; parentAggregator pom\r\n    ---sub module B pom.xml -&gt; parentAggregator pom\r\n    ---sub module C pom.xml -&gt; parentAggregator pom\r\n\r\nIn this case, the build order is:\r\n\r\n    - parentAggregator\r\n    - sub module A\r\n    - sub module B\r\n    - sub module C\r\n\r\nwhich means, that the parent aggregator can not collect complete information. In my case a transfer of data into sonarQube by mvn sonar:sonar resulted in unexpected and uncomplete results.\r\n\r\nChanging the module structure to:\r\n\r\n    - aggregator pom\r\n    -- parent pom\r\n    ---sub module A pom.xml -&gt; parent pom\r\n    ---sub module B pom.xml -&gt; parent pom\r\n    ---sub module C pom.xml -&gt; parent pom\r\n\r\nwill change the build order to:\r\n\r\n    - parent\r\n    - sub module A\r\n    - sub module B\r\n    - sub module C\r\n    - aggregator\r\n\r\nIn this case aggregator will be the last one and work with the results of the modules. In my case the results in SonarQube were like expected.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Jacoco Maven multi module project coverage","body":"<p>One problem in multimodule projects is caused, if the aggregator pom is used as parent pom for the modules either, like it is the case in the above example:</p>\n\n<pre><code>- parentAggregator pom\n---sub module A pom.xml -&gt; parentAggregator pom\n---sub module B pom.xml -&gt; parentAggregator pom\n---sub module C pom.xml -&gt; parentAggregator pom\n</code></pre>\n\n<p>In this case, the build order is:</p>\n\n<pre><code>- parentAggregator\n- sub module A\n- sub module B\n- sub module C\n</code></pre>\n\n<p>which means, that the parent aggregator can not collect complete information. In my case a transfer of data into sonarQube by mvn sonar:sonar resulted in unexpected and uncomplete results.</p>\n\n<p>Changing the module structure to:</p>\n\n<pre><code>- aggregator pom\n-- parent pom\n---sub module A pom.xml -&gt; parent pom\n---sub module B pom.xml -&gt; parent pom\n---sub module C pom.xml -&gt; parent pom\n</code></pre>\n\n<p>will change the build order to:</p>\n\n<pre><code>- parent\n- sub module A\n- sub module B\n- sub module C\n- aggregator\n</code></pre>\n\n<p>In this case aggregator will be the last one and work with the results of the modules. In my case the results in SonarQube were like expected.</p>\n"},{"comments":[{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":1,"creation_date":1639599652,"post_id":50656152,"comment_id":124392996,"body_markdown":"I think it would help the answer to include some salient parts of the demo in the text of the answer here.","body":"I think it would help the answer to include some salient parts of the demo in the text of the answer here."},{"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"score":0,"creation_date":1639636105,"post_id":50656152,"comment_id":124400725,"body_markdown":"Tx. I have added an example output and a hint where you easily can find info.","body":"Tx. I have added an example output and a hint where you easily can find info."},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1675785046,"post_id":50656152,"comment_id":133001248,"body_markdown":"@tm1701 can you help me on this https://stackoverflow.com/questions/75375132/jacoco-configuration-for-multi-module-is-not-working ?","body":"@tm1701 can you help me on this <a href=\"https://stackoverflow.com/questions/75375132/jacoco-configuration-for-multi-module-is-not-working\" title=\"jacoco configuration for multi module is not working\">stackoverflow.com/questions/75375132/&hellip;</a> ?"},{"owner":{"account_id":15483344,"reputation":87,"user_id":11170011,"display_name":"KronosOne"},"score":1,"creation_date":1685553764,"post_id":50656152,"comment_id":134677779,"body_markdown":"@tm1701 , I replied your github project on my project but any jacoco.exec file is created for any module . Maybe it depends because I use JUNIT 5 (jupiter engine and api ) ? Also I had to live JUNIT 4.1 dependency cause old Tests already present .","body":"@tm1701 , I replied your github project on my project but any jacoco.exec file is created for any module . Maybe it depends because I use JUNIT 5 (jupiter engine and api ) ? Also I had to live JUNIT 4.1 dependency cause old Tests already present ."},{"owner":{"account_id":15483344,"reputation":87,"user_id":11170011,"display_name":"KronosOne"},"score":0,"creation_date":1685554371,"post_id":50656152,"comment_id":134677886,"body_markdown":"Here is the situation , for testing module i see the command to create exec file  : `argLine set to -javaagent:/home/devuser/.m2/repository/org/jacoco/org.jacoco.agent/0.7.9/org.jacoco.agent-0.7.9-runtime.jar=destfile=/home/devuser/work/SRPF/branches/S-RPF_3e4/testing/target/jacoco.exec`   but any exec was created","body":"Here is the situation , for testing module i see the command to create exec file  : <code>argLine set to -javaagent:&#47;home&#47;devuser&#47;.m2&#47;repository&#47;org&#47;jacoco&#47;org.jacoc&zwnj;&#8203;o.agent&#47;0.7.9&#47;org.ja&zwnj;&#8203;coco.agent-0.7.9-run&zwnj;&#8203;time.jar=destfile=&#47;h&zwnj;&#8203;ome&#47;devuser&#47;work&#47;SRP&zwnj;&#8203;F&#47;branches&#47;S-RPF_3e4&zwnj;&#8203;&#47;testing&#47;target&#47;jaco&zwnj;&#8203;co.exec</code>   but any exec was created"}],"tags":[],"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"comment_count":5,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1639636055,"creation_date":1527936781,"answer_id":50656152,"question_id":33078745,"body_markdown":"After scanning many solutions I created a simple but complete **Jacoco** demo project showing: \r\n\r\n - Multi module project\r\n - Unit test (via `mvn clean install`)\r\n - Integration test (via `mvn clean install -P integration-test`)\r\n - Jacoco - test coverage ( both aggregate data file and aggregate reporting)\r\n - FindBugs - code quality\r\n\r\nEnjoy the [simple demo project][1]. In this simple project the README.md file contains information you are looking for. An example is: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe simple demo project contains 3 branches: \r\n\r\n 1. Master branch - containing the above functionality\r\n 2. Multi-module-only-unit-tests - contains modules with only unit tests\r\n 3. Multi-module-unit-tests-try2 - contains modules with unit tests, differently. \r\n\r\n\r\n  [1]: https://github.com/johan974/maven-multi-module-unittest-integrationtest-jacoco.git\r\n  [2]: https://i.stack.imgur.com/sEMXm.png","title":"Jacoco Maven multi module project coverage","body":"<p>After scanning many solutions I created a simple but complete <strong>Jacoco</strong> demo project showing:</p>\n<ul>\n<li>Multi module project</li>\n<li>Unit test (via <code>mvn clean install</code>)</li>\n<li>Integration test (via <code>mvn clean install -P integration-test</code>)</li>\n<li>Jacoco - test coverage ( both aggregate data file and aggregate reporting)</li>\n<li>FindBugs - code quality</li>\n</ul>\n<p>Enjoy the <a href=\"https://github.com/johan974/maven-multi-module-unittest-integrationtest-jacoco.git\" rel=\"noreferrer\">simple demo project</a>. In this simple project the README.md file contains information you are looking for. An example is:</p>\n<p><a href=\"https://i.stack.imgur.com/sEMXm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sEMXm.png\" alt=\"enter image description here\" /></a></p>\n<p>The simple demo project contains 3 branches:</p>\n<ol>\n<li>Master branch - containing the above functionality</li>\n<li>Multi-module-only-unit-tests - contains modules with only unit tests</li>\n<li>Multi-module-unit-tests-try2 - contains modules with unit tests, differently.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1686882,"reputation":1183,"user_id":1549977,"accept_rate":86,"display_name":"Benjamin Marwell"},"score":2,"creation_date":1659072795,"post_id":65225130,"comment_id":129212724,"body_markdown":"Do not run install, run verify only. Don&#39;t pollute your repo with snapshot versions.","body":"Do not run install, run verify only. Don&#39;t pollute your repo with snapshot versions."},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1675785093,"post_id":65225130,"comment_id":133001274,"body_markdown":"@BenjaminMarwell can you help me on this https://stackoverflow.com/questions/75375132/jacoco-configuration-for-multi-module-is-not-working ?","body":"@BenjaminMarwell can you help me on this <a href=\"https://stackoverflow.com/questions/75375132/jacoco-configuration-for-multi-module-is-not-working\" title=\"jacoco configuration for multi module is not working\">stackoverflow.com/questions/75375132/&hellip;</a> ?"},{"owner":{"account_id":15483344,"reputation":87,"user_id":11170011,"display_name":"KronosOne"},"score":0,"creation_date":1685553552,"post_id":65225130,"comment_id":134677737,"body_markdown":"@Sarang why you wrote a reply a little bit different from tm1701 ? I can see differences since I download the whole project from github .For example the goal prepare-agent was originally put on pom  (parent) project and you putted it in aggregator pom . why ?","body":"@Sarang why you wrote a reply a little bit different from tm1701 ? I can see differences since I download the whole project from github .For example the goal prepare-agent was originally put on pom  (parent) project and you putted it in aggregator pom . why ?"},{"owner":{"account_id":5748671,"reputation":347,"user_id":4539129,"accept_rate":44,"display_name":"Mehul Parmar"},"score":0,"creation_date":1689060557,"post_id":65225130,"comment_id":135155763,"body_markdown":"Is there a way to pass multi module incl/excl classes in jacoco Java agent? Agent only takes a list of classes.","body":"Is there a way to pass multi module incl/excl classes in jacoco Java agent? Agent only takes a list of classes."}],"tags":[],"owner":{"account_id":1704646,"reputation":442,"user_id":1563969,"display_name":"Sarang"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1657720256,"creation_date":1607549055,"answer_id":65225130,"question_id":33078745,"body_markdown":"Follow below-mentioned instructions\r\n\r\n1. Create a new sub-project (usually called maven module). This will be used as report aggregator.  \r\nparent pom will be like:\r\n\r\n\r\n```xml\r\n   &lt;modules&gt;\r\n        &lt;module&gt;A&lt;/module&gt;\r\n        &lt;module&gt;B&lt;/module&gt;\r\n        &lt;module&gt;C&lt;/module&gt;\r\n        &lt;module&gt;ReportAggregator&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n```\r\n\r\n2. In aggregator module pom- add other subprojects dependencies.\r\n\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;xyz&lt;/groupId&gt;\r\n    &lt;artifactId&gt;A&lt;/artifactId&gt;\r\n    &lt;version&gt;${project.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n3. In aggregator module pom- configure jacoco plugin\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.8.6&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;report-aggregate&lt;/id&gt;\r\n            &lt;phase&gt;verify&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;dataFileIncludes&gt;\r\n                    &lt;dataFileInclude&gt;**/jacoco.exec&lt;/dataFileInclude&gt;\r\n                &lt;/dataFileIncludes&gt;\r\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-aggregate&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n4. In aggregator module pom- configure surefire plugin as\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;systemPropertyVariables&gt;\r\n            &lt;jacoco-agent.destfile&gt;**/jacoco.exec&lt;/jacoco-agent.destfile&gt;\r\n        &lt;/systemPropertyVariables&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n5. (optional step) If anybody face warning/error like:\r\n**Classes in bundle &#39;***&#39; do no match with execution data. For report generation, the same class files must be used as at runtime.**\r\n\r\nThen add below mentioned lines in aggregator module pom\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.8.6&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;instrument-ut&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;instrument&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;restore-ut&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;report-aggregate&lt;/id&gt;\r\n            &lt;phase&gt;verify&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;dataFileIncludes&gt;\r\n                    &lt;dataFileInclude&gt;**/jacoco.exec&lt;/dataFileInclude&gt;\r\n                &lt;/dataFileIncludes&gt;\r\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-aggregate&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n6. run `mvn clean install`","title":"Jacoco Maven multi module project coverage","body":"<p>Follow below-mentioned instructions</p>\n<ol>\n<li>Create a new sub-project (usually called maven module). This will be used as report aggregator.<br />\nparent pom will be like:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;modules&gt;\n        &lt;module&gt;A&lt;/module&gt;\n        &lt;module&gt;B&lt;/module&gt;\n        &lt;module&gt;C&lt;/module&gt;\n        &lt;module&gt;ReportAggregator&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<ol start=\"2\">\n<li>In aggregator module pom- add other subprojects dependencies.</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;xyz&lt;/groupId&gt;\n    &lt;artifactId&gt;A&lt;/artifactId&gt;\n    &lt;version&gt;${project.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"3\">\n<li>In aggregator module pom- configure jacoco plugin</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.6&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report-aggregate&lt;/id&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;dataFileIncludes&gt;\n                    &lt;dataFileInclude&gt;**/jacoco.exec&lt;/dataFileInclude&gt;\n                &lt;/dataFileIncludes&gt;\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-aggregate&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ol start=\"4\">\n<li>In aggregator module pom- configure surefire plugin as</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;systemPropertyVariables&gt;\n            &lt;jacoco-agent.destfile&gt;**/jacoco.exec&lt;/jacoco-agent.destfile&gt;\n        &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ol start=\"5\">\n<li>(optional step) If anybody face warning/error like:\n<strong>Classes in bundle '</strong>*' do no match with execution data. For report generation, the same class files must be used as at runtime.**</li>\n</ol>\n<p>Then add below mentioned lines in aggregator module pom</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.6&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;instrument-ut&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;instrument&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;restore-ut&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report-aggregate&lt;/id&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;dataFileIncludes&gt;\n                    &lt;dataFileInclude&gt;**/jacoco.exec&lt;/dataFileInclude&gt;\n                &lt;/dataFileIncludes&gt;\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-aggregate&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ol start=\"6\">\n<li>run <code>mvn clean install</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19414861,"reputation":443,"user_id":14198583,"display_name":"Christopher"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610030847,"creation_date":1610030847,"answer_id":65614547,"question_id":33078745,"body_markdown":"Run Coverage as... Junit for each module separately. Then create a launch group and add each of the run configurations. There is a popup &quot;Launch Mode&quot; with options Inherit, Profile, Coverage, Debug or Run. Choose Coverage for all of them. You probably also want to select &quot;Wait until terminated&quot;.\r\n\r\nYou can now run all the coverage tests in one click. After they complete you need to go into the Coverage View and select merge sessions (double red/green bar) and merge them all into one report.","title":"Jacoco Maven multi module project coverage","body":"<p>Run Coverage as... Junit for each module separately. Then create a launch group and add each of the run configurations. There is a popup &quot;Launch Mode&quot; with options Inherit, Profile, Coverage, Debug or Run. Choose Coverage for all of them. You probably also want to select &quot;Wait until terminated&quot;.</p>\n<p>You can now run all the coverage tests in one click. After they complete you need to go into the Coverage View and select merge sessions (double red/green bar) and merge them all into one report.</p>\n"},{"tags":[],"owner":{"account_id":9814791,"reputation":73,"user_id":7271622,"display_name":"duhocsinhlienxo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683879077,"creation_date":1683879077,"answer_id":76234358,"question_id":33078745,"body_markdown":"For anyone want to find simple solution for merge Unit test and UI test in one report: \r\n\r\n    task jacocoUiTestReportAllModules(type: JacocoReport, dependsOn: [&#39;testDebugUnitTest&#39;, &#39;createDebugCoverageReport&#39;]) {\r\n    group &quot;Reports&quot;\r\n    description &quot;Generate Jacoco Instrumented Tests coverage reports for all modules&quot;\r\n    reports {\r\n        xml.enabled = true\r\n        html.enabled = true\r\n        html.destination file(&quot;${rootProject.buildDir}/coverage-report&quot;)\r\n    }\r\n    def javaClasses = []\r\n    def kotlinClasses = []\r\n    def javaSrc = []\r\n    def kotlinSrc = []\r\n    def execution = []\r\n    def fileFilter = [&#39;**/R.class&#39;, &#39;**/R$*.class&#39;, &#39;**/BuildConfig.*&#39;, &#39;**/Manifest*.*&#39;, &#39;**/*Test*.*&#39;, &#39;android/**/*.*&#39;]\r\n    rootProject.subprojects.each { proj -&gt;\r\n        javaClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/intermediates/javac/debug&quot;, excludes: fileFilter)\r\n        kotlinClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/tmp/kotlin-classes/debug&quot;, excludes: fileFilter)\r\n        javaSrc &lt;&lt; &quot;$proj.projectDir/src/main/java&quot;\r\n        kotlinSrc &lt;&lt; &quot;$proj.projectDir/src/main/kotlin&quot;\r\n        execution &lt;&lt; fileTree(dir: proj.buildDir, includes: [    &#39;jacoco/testDebugUnitTest.exec&#39;,\r\n                &#39;outputs/code_coverage/debugAndroidTest/connected/**/*.ec&#39;])\r\n    }\r\n    getSourceDirectories().setFrom(files([javaSrc, kotlinSrc]))\r\n    getClassDirectories().setFrom(files([javaClasses, kotlinClasses]))\r\n    getExecutionData().setFrom(execution)\r\n\r\n    doLast() {\r\n        print &quot;file://${reports.html.destination}/index.html&quot;\r\n\r\n    }\r\n}\r\n\r\nImportant: Apply plugin jacoco for module you want to coverage ","title":"Jacoco Maven multi module project coverage","body":"<p>For anyone want to find simple solution for merge Unit test and UI test in one report:</p>\n<pre><code>task jacocoUiTestReportAllModules(type: JacocoReport, dependsOn: ['testDebugUnitTest', 'createDebugCoverageReport']) {\ngroup &quot;Reports&quot;\ndescription &quot;Generate Jacoco Instrumented Tests coverage reports for all modules&quot;\nreports {\n    xml.enabled = true\n    html.enabled = true\n    html.destination file(&quot;${rootProject.buildDir}/coverage-report&quot;)\n}\ndef javaClasses = []\ndef kotlinClasses = []\ndef javaSrc = []\ndef kotlinSrc = []\ndef execution = []\ndef fileFilter = ['**/R.class', '**/R$*.class', '**/BuildConfig.*', '**/Manifest*.*', '**/*Test*.*', 'android/**/*.*']\nrootProject.subprojects.each { proj -&gt;\n    javaClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/intermediates/javac/debug&quot;, excludes: fileFilter)\n    kotlinClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/tmp/kotlin-classes/debug&quot;, excludes: fileFilter)\n    javaSrc &lt;&lt; &quot;$proj.projectDir/src/main/java&quot;\n    kotlinSrc &lt;&lt; &quot;$proj.projectDir/src/main/kotlin&quot;\n    execution &lt;&lt; fileTree(dir: proj.buildDir, includes: [    'jacoco/testDebugUnitTest.exec',\n            'outputs/code_coverage/debugAndroidTest/connected/**/*.ec'])\n}\ngetSourceDirectories().setFrom(files([javaSrc, kotlinSrc]))\ngetClassDirectories().setFrom(files([javaClasses, kotlinClasses]))\ngetExecutionData().setFrom(execution)\n\ndoLast() {\n    print &quot;file://${reports.html.destination}/index.html&quot;\n\n}\n</code></pre>\n<p>}</p>\n<p>Important: Apply plugin jacoco for module you want to coverage</p>\n"}],"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71509,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":33133873,"answer_count":6,"score":38,"last_activity_date":1683879077,"creation_date":1444645296,"question_id":33078745,"body_markdown":"Seems like there are couple of questions, which are quite old and things changed from Java 8 support of Jacoco.\r\n\r\nMy Project contains following structure\r\n\r\n    pom.xml\r\n    |\r\n    |\r\n    -----sub module A pom.xml\r\n    |\r\n    |\r\n    -----sub module B pom.xml\r\n    |\r\n    |\r\n    -----sub module C pom.xml\r\n\r\nI have configured the `main pom` like this\r\n\r\nMain POM.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jacoco-multi&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;projectA&lt;/module&gt;\r\n    \t\t&lt;module&gt;projectB&lt;/module&gt;\r\n    \t&lt;/modules&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;jacoco.version&gt;0.5.7.201204190339&lt;/jacoco.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-dep&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.10&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.RC2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.RC2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.7.5.201505241946&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;destFile&gt;${project.basedir}/../target/jacoco.exec&lt;/destFile&gt;\r\n    \t\t\t\t\t&lt;append&gt;true&lt;/append&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;jacoco-site&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.16&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;default-integration-test&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.16&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nA Pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;artifactId&gt;jacoco-multi&lt;/artifactId&gt;\r\n    \t\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n    \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;relativePath&gt;..&lt;/relativePath&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;artifactId&gt;projectA&lt;/artifactId&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.12&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nB pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;jacoco-multi&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;relativePath&gt;..&lt;/relativePath&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;projectB&lt;/artifactId&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n            &lt;artifactId&gt;projectA&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.12&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nI am executing this command `mvn clean package`. I can see jacoco.exec is getting generated, however I am not able to see any HTML reports are being to verify the data.\r\n\r\nPlease help me with this.\r\nAnother point is, my configuration is correct for `Multi-Module` projects?\r\n\r\n**Update**\r\n\r\nIdentified issue.\r\n `&lt;destFile&gt;${project.basedir}/../target/jacoco.exec&lt;/destFile&gt;`\r\nchanged to \r\n`&lt;destFile&gt;${project.basedir}/target/jacoco.exec&lt;/destFile&gt;`\r\n\r\nNow it&#39;s generating reports for individual modules.\r\n**Any idea how to generate consolidated report**","title":"Jacoco Maven multi module project coverage","body":"<p>Seems like there are couple of questions, which are quite old and things changed from Java 8 support of Jacoco.</p>\n\n<p>My Project contains following structure</p>\n\n<pre><code>pom.xml\n|\n|\n-----sub module A pom.xml\n|\n|\n-----sub module B pom.xml\n|\n|\n-----sub module C pom.xml\n</code></pre>\n\n<p>I have configured the <code>main pom</code> like this</p>\n\n<p>Main POM.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-multi&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;modules&gt;\n        &lt;module&gt;projectA&lt;/module&gt;\n        &lt;module&gt;projectB&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;jacoco.version&gt;0.5.7.201204190339&lt;/jacoco.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-dep&lt;/artifactId&gt;\n            &lt;version&gt;4.10&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n            &lt;version&gt;1.3.RC2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n            &lt;version&gt;1.3.RC2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.7.5.201505241946&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;destFile&gt;${project.basedir}/../target/jacoco.exec&lt;/destFile&gt;\n                    &lt;append&gt;true&lt;/append&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-initialize&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-site&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.16&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-integration-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.16&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>A Pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;jacoco-multi&lt;/artifactId&gt;\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath&gt;..&lt;/relativePath&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;projectA&lt;/artifactId&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.12&lt;/version&gt;\n                &lt;/plugin&gt;\n\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>B pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;artifactId&gt;jacoco-multi&lt;/artifactId&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath&gt;..&lt;/relativePath&gt;\n&lt;/parent&gt;\n&lt;artifactId&gt;projectB&lt;/artifactId&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\n        &lt;artifactId&gt;projectA&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.12&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>I am executing this command <code>mvn clean package</code>. I can see jacoco.exec is getting generated, however I am not able to see any HTML reports are being to verify the data.</p>\n\n<p>Please help me with this.\nAnother point is, my configuration is correct for <code>Multi-Module</code> projects?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Identified issue.\n <code>&lt;destFile&gt;${project.basedir}/../target/jacoco.exec&lt;/destFile&gt;</code>\nchanged to \n<code>&lt;destFile&gt;${project.basedir}/target/jacoco.exec&lt;/destFile&gt;</code></p>\n\n<p>Now it's generating reports for individual modules.\n<strong>Any idea how to generate consolidated report</strong></p>\n"},{"tags":["java","xml","spring-boot"],"comments":[{"owner":{"account_id":2098229,"reputation":425,"user_id":1866530,"display_name":"prembhaskal"},"score":1,"creation_date":1683797156,"post_id":76225981,"comment_id":134422678,"body_markdown":"checkout related question https://stackoverflow.com/a/18694055/1866530","body":"checkout related question <a href=\"https://stackoverflow.com/a/18694055/1866530\">stackoverflow.com/a/18694055/1866530</a>"},{"owner":{"account_id":17769558,"reputation":23,"user_id":12903528,"display_name":"Simo"},"score":1,"creation_date":1683805064,"post_id":76225981,"comment_id":134424417,"body_markdown":"@prembhaskal that helped me solve the problem. Thanks:)","body":"@prembhaskal that helped me solve the problem. Thanks:)"},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":1,"creation_date":1683851568,"post_id":76225981,"comment_id":134433815,"body_markdown":"Please remove `json` tag, as it has nothing to do with JSON.","body":"Please remove <code>json</code> tag, as it has nothing to do with JSON."},{"owner":{"account_id":17769558,"reputation":23,"user_id":12903528,"display_name":"Simo"},"score":0,"creation_date":1683878641,"post_id":76225981,"comment_id":134436933,"body_markdown":"Sure xd. @LHCHIN","body":"Sure xd. @LHCHIN"}],"answers":[{"tags":[],"owner":{"account_id":17769558,"reputation":23,"user_id":12903528,"display_name":"Simo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683805297,"creation_date":1683805297,"answer_id":76227257,"question_id":76225981,"body_markdown":"I solved the problem buy adding .replace(&quot;&amp;#xd;&quot;, System.lineSeparator()) method.\r\n\r\nThis is the code\r\n\r\n    xml = xmlMapper.writeValueAsString(inputJsonObject).replace(&quot;&amp;#xd;&quot;, System.lineSeparator()); \r\n\r\nThank you all for help.","title":"How to remove extra added text &amp;#xd; from xml in Springboot application","body":"<p>I solved the problem buy adding .replace(&quot;\r&quot;, System.lineSeparator()) method.</p>\n<p>This is the code</p>\n<pre><code>xml = xmlMapper.writeValueAsString(inputJsonObject).replace(&quot;&amp;#xd;&quot;, System.lineSeparator()); \n</code></pre>\n<p>Thank you all for help.</p>\n"}],"owner":{"account_id":17769558,"reputation":23,"user_id":12903528,"display_name":"Simo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76227257,"answer_count":1,"score":1,"last_activity_date":1683878505,"creation_date":1683796494,"question_id":76225981,"body_markdown":"I am trying to convert JSON object into XML with method:\r\n\r\n    xmlMapper.writeValueAsString()\r\n\r\nThis is the code: \r\n\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        String xml = &quot;&quot;;\r\n\r\n        xmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        xmlMapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\r\n\r\n        try {\r\n            xml = xmlMapper.writeValueAsString(inputJsonObject);\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n            throw new Exception(&quot;Error!&quot;);\r\n        }\r\n\r\n\r\nThis is the JSON input (inputJsonObject)\r\n  \r\n\r\n     {\r\n         &quot;Atribut&quot;: [\r\n                {\r\n                    &quot;RnatrId&quot;: 71945793,\r\n                    &quot;TxtValue&quot;: &quot;AssetId: 545654, Aktiviran: \r\n                      DA\\r\\nCustomerName: John Wick\\r\\n\r\n                      DSLAM Pozicija: Dawa_daslkads 342&quot;,\r\n                    &quot;NumValue&quot;: 0,\r\n                    &quot;DateValue&quot;: &quot;&quot;,\r\n                    &quot;MultiselectId&quot;: &quot;&quot;,\r\n                    &quot;MultiselectTxt&quot;: &quot;&quot;\r\n                },\r\n               ]\r\n         }\r\n      }\r\n\r\nThis is what I get \r\n\r\n    &lt;Atribut&gt;\r\n       &lt;RnatrId&gt;71945793&lt;/RnatrId&gt;\r\n       &lt;TxtValue&gt;\r\n            AssetId: 545654, Aktiviran: DA&amp;#xd;\r\n            CustomerName: John Wick&amp;#xd;\r\n            DSLAM Pozicija: Dawa_daslkads 342&amp;#xd;\r\n       &lt;/TxtValue&gt;\r\n        &lt;NumValue&gt;0&lt;/NumValue&gt;\r\n        &lt;DateValue&gt;&lt;/DateValue&gt;\r\n        &lt;MultiselectId&gt;&lt;/MultiselectId&gt;\r\n        &lt;MultiselectTxt&gt;&lt;/MultiselectTxt&gt;\r\n    &lt;/Atribut&gt;\r\n\r\nThis is what I am trying to get:\r\n\r\n    &lt;Atribut&gt;\r\n           &lt;RnatrId&gt;71945793&lt;/RnatrId&gt;\r\n           &lt;TxtValue&gt;\r\n                AssetId: 545654, Aktiviran: DA\r\n                CustomerName: John Wick\r\n                DSLAM Pozicija: Dawa_daslkads 342\r\n           &lt;/TxtValue&gt;\r\n            &lt;NumValue&gt;0&lt;/NumValue&gt;\r\n            &lt;DateValue&gt;&lt;/DateValue&gt;\r\n            &lt;MultiselectId&gt;&lt;/MultiselectId&gt;\r\n            &lt;MultiselectTxt&gt;&lt;/MultiselectTxt&gt;\r\n        &lt;/Atribut&gt;\r\n\r\n  With out this extra text **&amp;#xd** for each new line.\r\n\r\n  Any help please?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AF7sD.png\r\n  [2]: https://i.stack.imgur.com/3E1wE.png\r\n","title":"How to remove extra added text &amp;#xd; from xml in Springboot application","body":"<p>I am trying to convert JSON object into XML with method:</p>\n<pre><code>xmlMapper.writeValueAsString()\n</code></pre>\n<p>This is the code:</p>\n<pre><code>    XmlMapper xmlMapper = new XmlMapper();\n    String xml = &quot;&quot;;\n\n    xmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    xmlMapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n\n    try {\n        xml = xmlMapper.writeValueAsString(inputJsonObject);\n    }catch (Exception e){\n        e.printStackTrace();\n        throw new Exception(&quot;Error!&quot;);\n    }\n</code></pre>\n<p>This is the JSON input (inputJsonObject)</p>\n<pre><code> {\n     &quot;Atribut&quot;: [\n            {\n                &quot;RnatrId&quot;: 71945793,\n                &quot;TxtValue&quot;: &quot;AssetId: 545654, Aktiviran: \n                  DA\\r\\nCustomerName: John Wick\\r\\n\n                  DSLAM Pozicija: Dawa_daslkads 342&quot;,\n                &quot;NumValue&quot;: 0,\n                &quot;DateValue&quot;: &quot;&quot;,\n                &quot;MultiselectId&quot;: &quot;&quot;,\n                &quot;MultiselectTxt&quot;: &quot;&quot;\n            },\n           ]\n     }\n  }\n</code></pre>\n<p>This is what I get</p>\n<pre><code>&lt;Atribut&gt;\n   &lt;RnatrId&gt;71945793&lt;/RnatrId&gt;\n   &lt;TxtValue&gt;\n        AssetId: 545654, Aktiviran: DA&amp;#xd;\n        CustomerName: John Wick&amp;#xd;\n        DSLAM Pozicija: Dawa_daslkads 342&amp;#xd;\n   &lt;/TxtValue&gt;\n    &lt;NumValue&gt;0&lt;/NumValue&gt;\n    &lt;DateValue&gt;&lt;/DateValue&gt;\n    &lt;MultiselectId&gt;&lt;/MultiselectId&gt;\n    &lt;MultiselectTxt&gt;&lt;/MultiselectTxt&gt;\n&lt;/Atribut&gt;\n</code></pre>\n<p>This is what I am trying to get:</p>\n<pre><code>&lt;Atribut&gt;\n       &lt;RnatrId&gt;71945793&lt;/RnatrId&gt;\n       &lt;TxtValue&gt;\n            AssetId: 545654, Aktiviran: DA\n            CustomerName: John Wick\n            DSLAM Pozicija: Dawa_daslkads 342\n       &lt;/TxtValue&gt;\n        &lt;NumValue&gt;0&lt;/NumValue&gt;\n        &lt;DateValue&gt;&lt;/DateValue&gt;\n        &lt;MultiselectId&gt;&lt;/MultiselectId&gt;\n        &lt;MultiselectTxt&gt;&lt;/MultiselectTxt&gt;\n    &lt;/Atribut&gt;\n</code></pre>\n<p>With out this extra text <strong>&amp;#xd</strong> for each new line.</p>\n<p>Any help please?</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":2119809,"reputation":50994,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1683873331,"post_id":76233626,"comment_id":134435968,"body_markdown":"How is WHAT possible?  I can&#39;t tell what you are questioning.","body":"How is WHAT possible?  I can&#39;t tell what you are questioning."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1683874844,"post_id":76233626,"comment_id":134436197,"body_markdown":"@Hulk: therefore, my question could be &quot;_Why could some keys could be removed from my Map_, then. As I&#39;m not doing any remove or putting null value into (if this would have a removal effect).","body":"@Hulk: therefore, my question could be &quot;<i>Why could some keys could be removed from my Map</i>, then. As I&#39;m not doing any remove or putting null value into (if this would have a removal effect)."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1683876753,"post_id":76233626,"comment_id":134436557,"body_markdown":"Related: https://stackoverflow.com/questions/25782057/can-we-have-a-nested-map-as-key-within-other-map","body":"Related: <a href=\"https://stackoverflow.com/questions/25782057/can-we-have-a-nested-map-as-key-within-other-map\" title=\"can we have a nested map as key within other map\">stackoverflow.com/questions/25782057/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683877305,"creation_date":1683877305,"answer_id":76234147,"question_id":76233626,"body_markdown":"You are misunderstanding the information displayed in the debugger - it is not a &quot;pointer&quot;. Instead, it is the output of [`Object.toString()`][1] - the part after the `@` is simply the hashcode. For collections, this depends on the data they contain.\r\n\r\n`LinkedHashMap` and `HashMap` are documented to use the implementation in [`AbstractMap.hashCode()`][1], which is documented to use [`Map.Entry.hashCode()`][2]. It uses both key and value. The hashcode of a `Map` changes when its contents (keys and/or values) change.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/AbstractMap.html#hashCode()\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.Entry.html#hashCode()","title":"A supposed unique instance of an object is changing all the time. [Solution found: use Spark Accumulator to avoid concurrency behavior with threads]","body":"<p>You are misunderstanding the information displayed in the debugger - it is not a &quot;pointer&quot;. Instead, it is the output of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/AbstractMap.html#hashCode()\" rel=\"nofollow noreferrer\"><code>Object.toString()</code></a> - the part after the <code>@</code> is simply the hashcode. For collections, this depends on the data they contain.</p>\n<p><code>LinkedHashMap</code> and <code>HashMap</code> are documented to use the implementation in <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/AbstractMap.html#hashCode()\" rel=\"nofollow noreferrer\"><code>AbstractMap.hashCode()</code></a>, which is documented to use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.Entry.html#hashCode()\" rel=\"nofollow noreferrer\"><code>Map.Entry.hashCode()</code></a>. It uses both key and value. The hashcode of a <code>Map</code> changes when its contents (keys and/or values) change.</p>\n"},{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683878067,"creation_date":1683877723,"answer_id":76234186,"question_id":76233626,"body_markdown":"__Epilog:__ You are right, I&#39;m misleading often with that hashcode...\r\n\r\nBut if I not able to understand clearly the spark behavior, I&#39;ve detected that I was inside a story of threads.\r\n\r\nUsing a Map, how I&#39;ve done, was very dangerous and unsafe.\r\n\r\nI had to change to `LongAccumulator` instead.\r\n\r\n```java\r\n/**\r\n * Renvoyer le taux de champs null par nom de champ.\r\n * @param candidat Dataset &#224; analyser.\r\n * @param ignorerNonNullables true pour ignorer ceux qui sont d&#233;j&#224; marqu&#233;s comme non nullables dans le sch&#233;ma.\r\n * @return Map de champs avec leur taux\r\n */\r\npublic Map&lt;String, Double&gt; tauxNullsParChamp(Dataset&lt;Row&gt; candidat, boolean ignorerNonNullables) {\r\n   long count = candidat.count();\r\n   Map&lt;String, Double&gt; tauxDeChampsNulls = new LinkedHashMap&lt;&gt;();\r\n\r\n   if (count == 0L) {\r\n      LOGGER.warn(&quot;Le dataset soumis pour comptage de champs nuls n&#39;a aucun enregistrement : le comptage ne peut avoir lieu.&quot;);\r\n      return tauxDeChampsNulls;\r\n   }\r\n\r\n   LOGGER.info(&quot;Il y a {} enregistrements dans ce Dataset.&quot;, count);\r\n   StructField[] fields = candidat.schema().fields();\r\n\r\n   SparkContext ctx = candidat.sparkSession().sparkContext();\r\n   Map&lt;String, LongAccumulator&gt; accumulateurs = new HashMap&lt;&gt;();\r\n\r\n   for(StructField field : fields) {\r\n      accumulateurs.put(field.name(), ctx.longAccumulator(field.name()));\r\n   }\r\n\r\n   candidat.foreach((ForeachFunction&lt;Row&gt;)row -&gt; {\r\n      for(int index = 0; index &lt; fields.length; index ++) {\r\n         StructField field = fields[index];\r\n\r\n         // Si le champ est nullable d&#39;apr&#232;s le sch&#233;ma et qu&#39;on nous demande de l&#39;ignorer, passer au suivant.\r\n         if (ignorerNonNullables &amp;&amp; field.nullable()) {\r\n            continue;\r\n         }\r\n\r\n         // D&#233;tecter un champ null et le compter.\r\n         if (row.isNullAt(index)) {\r\n            accumulateurs.get(field.name()).add(1L);\r\n         }\r\n      }\r\n   });\r\n\r\n   // Convertir les nombres de champs nulls en pourcentages\r\n   for(StructField champ : fields) {\r\n      Long nombreDeNulsPourLeChamp = accumulateurs.get(champ.name()).value();\r\n         tauxDeChampsNulls.put(champ.name(), (double)nombreDeNulsPourLeChamp / count);\r\n   }\r\n\r\n   // Trier par taux de nullit&#233; et ordre alphab&#233;tique\r\n    tauxDeChampsNulls = tauxDeChampsNulls.entrySet().stream().sorted((a, b) -&gt; {\r\n      if (Objects.equals(a.getValue(), b.getValue()) == false) {\r\n         return Double.compare(a.getValue(), b.getValue());\r\n      }\r\n      else {\r\n         return a.getKey().compareTo(b.getKey());\r\n      }\r\n   }\r\n\r\n   ).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (x, y) -&gt; y, LinkedHashMap::new));\r\n\r\n   tauxDeChampsNulls.forEach((key, value) -&gt; LOGGER.info(&quot;{} : {}&quot;, key, value));\r\n   return tauxDeChampsNulls;\r\n}\r\n```\r\n\r\nends, correctly with this content:\r\n\r\n```log\r\nIl y a 345935 enregistrements dans ce Dataset.\r\ndate_creation_ressource : 0.0\r\ndate_modification_ressource : 0.0\r\nfiletype_ressource : 0.0\r\nid_catalogue : 0.0\r\nid_ressource : 0.0\r\nnombre_downloads_ressource : 0.0\r\nprive_catalogue : 0.0\r\nslug_catalogue : 0.0\r\ntitre_catalogue : 0.0\r\nurl_catalogue : 0.0\r\nurl_ressource : 0.0\r\ntitre_ressource : 0.0036654284764478877\r\nid_organisation_catalogue : 0.02501336956364635\r\norganisation_catalogue : 0.02501336956364635\r\nlicence_catalogue : 0.04796854900487086\r\nformat_ressource : 0.07015479786665126\r\narchive_catalogue : 0.2990417274921589\r\ndescription_ressource : 0.45873646783355254\r\nmime_ressource : 0.4728287105959212\r\nfilesize_ressource : 0.843233555436715\r\nchecksum_type_ressource : 0.8453553413213465\r\nchecksum_valeur_ressource : 0.8453553413213465\r\nmoissonneur_date_modification_ressource : 0.880619191466605\r\nmoissonneur_date_creation_ressource : 0.9292959660051744\r\n```\r\n\r\nWhich allow me to think that I can declare ten fields not nullable, filter one for few pathological values (`titre_ressource` that is exceptionally empty), and the others: nullable.","title":"A supposed unique instance of an object is changing all the time. [Solution found: use Spark Accumulator to avoid concurrency behavior with threads]","body":"<p><strong>Epilog:</strong> You are right, I'm misleading often with that hashcode...</p>\n<p>But if I not able to understand clearly the spark behavior, I've detected that I was inside a story of threads.</p>\n<p>Using a Map, how I've done, was very dangerous and unsafe.</p>\n<p>I had to change to <code>LongAccumulator</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Renvoyer le taux de champs null par nom de champ.\n * @param candidat Dataset à analyser.\n * @param ignorerNonNullables true pour ignorer ceux qui sont déjà marqués comme non nullables dans le schéma.\n * @return Map de champs avec leur taux\n */\npublic Map&lt;String, Double&gt; tauxNullsParChamp(Dataset&lt;Row&gt; candidat, boolean ignorerNonNullables) {\n   long count = candidat.count();\n   Map&lt;String, Double&gt; tauxDeChampsNulls = new LinkedHashMap&lt;&gt;();\n\n   if (count == 0L) {\n      LOGGER.warn(&quot;Le dataset soumis pour comptage de champs nuls n'a aucun enregistrement : le comptage ne peut avoir lieu.&quot;);\n      return tauxDeChampsNulls;\n   }\n\n   LOGGER.info(&quot;Il y a {} enregistrements dans ce Dataset.&quot;, count);\n   StructField[] fields = candidat.schema().fields();\n\n   SparkContext ctx = candidat.sparkSession().sparkContext();\n   Map&lt;String, LongAccumulator&gt; accumulateurs = new HashMap&lt;&gt;();\n\n   for(StructField field : fields) {\n      accumulateurs.put(field.name(), ctx.longAccumulator(field.name()));\n   }\n\n   candidat.foreach((ForeachFunction&lt;Row&gt;)row -&gt; {\n      for(int index = 0; index &lt; fields.length; index ++) {\n         StructField field = fields[index];\n\n         // Si le champ est nullable d'après le schéma et qu'on nous demande de l'ignorer, passer au suivant.\n         if (ignorerNonNullables &amp;&amp; field.nullable()) {\n            continue;\n         }\n\n         // Détecter un champ null et le compter.\n         if (row.isNullAt(index)) {\n            accumulateurs.get(field.name()).add(1L);\n         }\n      }\n   });\n\n   // Convertir les nombres de champs nulls en pourcentages\n   for(StructField champ : fields) {\n      Long nombreDeNulsPourLeChamp = accumulateurs.get(champ.name()).value();\n         tauxDeChampsNulls.put(champ.name(), (double)nombreDeNulsPourLeChamp / count);\n   }\n\n   // Trier par taux de nullité et ordre alphabétique\n    tauxDeChampsNulls = tauxDeChampsNulls.entrySet().stream().sorted((a, b) -&gt; {\n      if (Objects.equals(a.getValue(), b.getValue()) == false) {\n         return Double.compare(a.getValue(), b.getValue());\n      }\n      else {\n         return a.getKey().compareTo(b.getKey());\n      }\n   }\n\n   ).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (x, y) -&gt; y, LinkedHashMap::new));\n\n   tauxDeChampsNulls.forEach((key, value) -&gt; LOGGER.info(&quot;{} : {}&quot;, key, value));\n   return tauxDeChampsNulls;\n}\n</code></pre>\n<p>ends, correctly with this content:</p>\n<pre><code>Il y a 345935 enregistrements dans ce Dataset.\ndate_creation_ressource : 0.0\ndate_modification_ressource : 0.0\nfiletype_ressource : 0.0\nid_catalogue : 0.0\nid_ressource : 0.0\nnombre_downloads_ressource : 0.0\nprive_catalogue : 0.0\nslug_catalogue : 0.0\ntitre_catalogue : 0.0\nurl_catalogue : 0.0\nurl_ressource : 0.0\ntitre_ressource : 0.0036654284764478877\nid_organisation_catalogue : 0.02501336956364635\norganisation_catalogue : 0.02501336956364635\nlicence_catalogue : 0.04796854900487086\nformat_ressource : 0.07015479786665126\narchive_catalogue : 0.2990417274921589\ndescription_ressource : 0.45873646783355254\nmime_ressource : 0.4728287105959212\nfilesize_ressource : 0.843233555436715\nchecksum_type_ressource : 0.8453553413213465\nchecksum_valeur_ressource : 0.8453553413213465\nmoissonneur_date_modification_ressource : 0.880619191466605\nmoissonneur_date_creation_ressource : 0.9292959660051744\n</code></pre>\n<p>Which allow me to think that I can declare ten fields not nullable, filter one for few pathological values (<code>titre_ressource</code> that is exceptionally empty), and the others: nullable.</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683878215,"creation_date":1683872649,"question_id":76233626,"body_markdown":"I am running a test that is willing to see how many records of a dataset have null values for each field, in order to ensure I am declaring my schema with the correct nullable indicators.\r\n\r\n```java\r\n@Test\r\n@DisplayName(&quot;Tester la nullit&#233; des champs&quot;)\r\nvoid nullite() {\r\n   DatasetChecker checker = new DatasetChecker();\r\n   Map&lt;String, Double&gt; champs = checker.tauxNullsParChamp(this.ressourceJeuDeDonneesDataset.rowCatalogueRessources((Verification[]) null), false);\r\n}\r\n```\r\n\r\nI have a `Dataset&lt;Row&gt; candidat` with a schema having fields.\r\n\r\n```java\r\npublic Map&lt;String, Double&gt; tauxNullsParChamp(Dataset&lt;Row&gt; candidat, boolean ignorerNonNullables) {\r\n   long count = candidat.count();\r\n   Map&lt;String, Double&gt; tauxDeChampsNulls = new LinkedHashMap&lt;&gt;();\r\n\r\n   if (count == 0L) {\r\n      LOGGER.warn(&quot;Le dataset soumis pour comptage de champs nuls n&#39;a aucun enregistrement : le comptage ne peut avoir lieu.&quot;);\r\n      return tauxDeChampsNulls;\r\n   }\r\n\r\n   LOGGER.info(&quot;Il y a {} enregistrements dans ce Dataset.&quot;, count);\r\n\r\n   StructField[] fields = candidat.schema().fields();\r\n\r\n   final Map&lt;String, Long&gt; nombreDeChampsNulls = new HashMap&lt;&gt;();\r\n   candidat.foreach((ForeachFunction&lt;Row&gt;)row -&gt; compteNulls(nombreDeChampsNulls, row,  fields, ignorerNonNullables));\r\n\r\n   if (nombreDeChampsNulls.isEmpty()) {\r\n      LOGGER.error(&quot;Le dataset n&#39;a aucun champ&quot;);\r\n   }\r\n[...]\r\n```\r\n\r\nand this method is called for each row:\r\n\r\n```java\r\nprivate void compteNulls(Map&lt;String, Long&gt; nombreDeChampsNulls, Row row, StructField[] fields, boolean ignorerNonNullables) {\r\n   for(int index = 0; index &lt; fields.length; index ++) {\r\n      StructField field = fields[index];\r\n       // Si le champ est nullable d&#39;apr&#232;s le sch&#233;ma et qu&#39;on nous demande de l&#39;ignorer, passer au suivant.\r\n      if (ignorerNonNullables &amp;&amp; field.nullable()) {\r\n         continue;\r\n      }\r\n\r\n      Long nombreDeNulls = nombreDeChampsNulls.computeIfAbsent(field.name(), k -&gt; 0L);\r\n\r\n      // D&#233;tecter un champ null et le compter.\r\n      if (row.isNullAt(index)) {\r\n         nombreDeChampsNulls.put(field.name(), nombreDeNulls + 1L);\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nDebugging it, it executes only one  \r\n `final Map&lt;String, Long&gt; nombreDeChampsNulls = new HashMap&lt;&gt;();`\r\nand one  \r\n`DatasetChecker checker = new DatasetChecker();`  \r\nas expected.\r\n\r\nBut putting a breakpoint on `if (ignorerNonNullables &amp;&amp; field.nullable())` shows me a `nombreDeChampsNulls` changing pointer all the time.\r\n\r\nFor example, this will come during the debug session:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd then, later, in the same debug running:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThat, because my `this` object, the `DatasetChecker checker` instance, has changed between each sub method `compteNulls`: from `Datachecker@28199` to `Datachecker@28280`, in example.\r\n\r\nAnd at the end, the test fails on:  \r\n`LOGGER.error(&quot;Le dataset n&#39;a aucun champ&quot;);`\r\n\r\nIf I change the two `DatasetChecker` methods to static, I have an equivalent behavior, targeting `nombreDeChampsNulls` that still change for each row iteration.\r\n\r\nBut how is that possible that the `checker` instance (or the `nombreDeChampsNulls` instance in the second case, with static) change, if they are only instantiated once? One unique time, by a specific `new` for each, alone, and not in a loop.\r\n\r\n  [1]: https://i.stack.imgur.com/AFqmC.png\r\n  [2]: https://i.stack.imgur.com/ZWLS9.png","title":"A supposed unique instance of an object is changing all the time. [Solution found: use Spark Accumulator to avoid concurrency behavior with threads]","body":"<p>I am running a test that is willing to see how many records of a dataset have null values for each field, in order to ensure I am declaring my schema with the correct nullable indicators.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@DisplayName(&quot;Tester la nullité des champs&quot;)\nvoid nullite() {\n   DatasetChecker checker = new DatasetChecker();\n   Map&lt;String, Double&gt; champs = checker.tauxNullsParChamp(this.ressourceJeuDeDonneesDataset.rowCatalogueRessources((Verification[]) null), false);\n}\n</code></pre>\n<p>I have a <code>Dataset&lt;Row&gt; candidat</code> with a schema having fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Map&lt;String, Double&gt; tauxNullsParChamp(Dataset&lt;Row&gt; candidat, boolean ignorerNonNullables) {\n   long count = candidat.count();\n   Map&lt;String, Double&gt; tauxDeChampsNulls = new LinkedHashMap&lt;&gt;();\n\n   if (count == 0L) {\n      LOGGER.warn(&quot;Le dataset soumis pour comptage de champs nuls n'a aucun enregistrement : le comptage ne peut avoir lieu.&quot;);\n      return tauxDeChampsNulls;\n   }\n\n   LOGGER.info(&quot;Il y a {} enregistrements dans ce Dataset.&quot;, count);\n\n   StructField[] fields = candidat.schema().fields();\n\n   final Map&lt;String, Long&gt; nombreDeChampsNulls = new HashMap&lt;&gt;();\n   candidat.foreach((ForeachFunction&lt;Row&gt;)row -&gt; compteNulls(nombreDeChampsNulls, row,  fields, ignorerNonNullables));\n\n   if (nombreDeChampsNulls.isEmpty()) {\n      LOGGER.error(&quot;Le dataset n'a aucun champ&quot;);\n   }\n[...]\n</code></pre>\n<p>and this method is called for each row:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void compteNulls(Map&lt;String, Long&gt; nombreDeChampsNulls, Row row, StructField[] fields, boolean ignorerNonNullables) {\n   for(int index = 0; index &lt; fields.length; index ++) {\n      StructField field = fields[index];\n       // Si le champ est nullable d'après le schéma et qu'on nous demande de l'ignorer, passer au suivant.\n      if (ignorerNonNullables &amp;&amp; field.nullable()) {\n         continue;\n      }\n\n      Long nombreDeNulls = nombreDeChampsNulls.computeIfAbsent(field.name(), k -&gt; 0L);\n\n      // Détecter un champ null et le compter.\n      if (row.isNullAt(index)) {\n         nombreDeChampsNulls.put(field.name(), nombreDeNulls + 1L);\n      }\n   }\n}\n</code></pre>\n<p>Debugging it, it executes only one<br />\n<code>final Map&lt;String, Long&gt; nombreDeChampsNulls = new HashMap&lt;&gt;();</code>\nand one<br />\n<code>DatasetChecker checker = new DatasetChecker();</code><br />\nas expected.</p>\n<p>But putting a breakpoint on <code>if (ignorerNonNullables &amp;&amp; field.nullable())</code> shows me a <code>nombreDeChampsNulls</code> changing pointer all the time.</p>\n<p>For example, this will come during the debug session:</p>\n<p><a href=\"https://i.stack.imgur.com/AFqmC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AFqmC.png\" alt=\"enter image description here\" /></a></p>\n<p>And then, later, in the same debug running:</p>\n<p><a href=\"https://i.stack.imgur.com/ZWLS9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZWLS9.png\" alt=\"enter image description here\" /></a></p>\n<p>That, because my <code>this</code> object, the <code>DatasetChecker checker</code> instance, has changed between each sub method <code>compteNulls</code>: from <code>Datachecker@28199</code> to <code>Datachecker@28280</code>, in example.</p>\n<p>And at the end, the test fails on:<br />\n<code>LOGGER.error(&quot;Le dataset n'a aucun champ&quot;);</code></p>\n<p>If I change the two <code>DatasetChecker</code> methods to static, I have an equivalent behavior, targeting <code>nombreDeChampsNulls</code> that still change for each row iteration.</p>\n<p>But how is that possible that the <code>checker</code> instance (or the <code>nombreDeChampsNulls</code> instance in the second case, with static) change, if they are only instantiated once? One unique time, by a specific <code>new</code> for each, alone, and not in a loop.</p>\n"},{"tags":["java","spring-boot","spring-security","authorization"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1683839131,"post_id":76225316,"comment_id":134432278,"body_markdown":"Does this answer your question? [Spring security default configuration always throws 401](https://stackoverflow.com/questions/55812923/spring-security-default-configuration-always-throws-401)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55812923/spring-security-default-configuration-always-throws-401\">Spring security default configuration always throws 401</a>"}],"answers":[{"comments":[{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":1,"creation_date":1683808409,"post_id":76225317,"comment_id":134425168,"body_markdown":"It was probably related to CSRF. Take a look at https://docs.spring.io/spring-security/reference/servlet/exploits/csrf.html","body":"It was probably related to CSRF. Take a look at <a href=\"https://docs.spring.io/spring-security/reference/servlet/exploits/csrf.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/exploits/&hellip;</a>"}],"tags":[],"owner":{"account_id":11907781,"reputation":605,"user_id":8713892,"display_name":"Nemgathos"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683792663,"creation_date":1683791906,"answer_id":76225317,"question_id":76225316,"body_markdown":"I finally found out what the problem was. `Spring Security` was not configured properly. When I added the following package and class, everything started to work just fine:\r\n\r\n    package com.pokemonreview.api.security;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\t\r\n    \t@Bean\r\n    \tpublic SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\t\t\r\n    \t\thttpSecurity.csrf()\r\n    \t\t\t\t\t.disable()\r\n    \t\t\t\t\t.authorizeHttpRequests()\r\n    \t\t\t\t\t.requestMatchers(&quot;/api/pokemon/**&quot;)\r\n    \t\t\t\t\t.permitAll();\r\n    \t\treturn httpSecurity.build();\r\n    \t}\r\n    }","title":"Spring Boot: Only Postman “GET” requests allowed when using Spring Boot but not “POST”, “PUT” or “DELETE”; they yield an “401 Unauthorized” error","body":"<p>I finally found out what the problem was. <code>Spring Security</code> was not configured properly. When I added the following package and class, everything started to work just fine:</p>\n<pre><code>package com.pokemonreview.api.security;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {   \n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {        \n        httpSecurity.csrf()\n                    .disable()\n                    .authorizeHttpRequests()\n                    .requestMatchers(&quot;/api/pokemon/**&quot;)\n                    .permitAll();\n        return httpSecurity.build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11907781,"reputation":605,"user_id":8713892,"display_name":"Nemgathos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1683877948,"creation_date":1683791906,"question_id":76225316,"body_markdown":"I am new to `Spring Boot` and right now, I am building an application according to [this tutorial][1]. My code looks as follows.\r\n\r\n---\r\n\r\n# Code snippets #\r\n\r\n## `pom.xml` file: ##\r\n\r\n    &lt;?xml version=&quot;1.0&quot;\r\n    \t  encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.pokemonreview&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;api&lt;/name&gt;\r\n    \t&lt;description&gt;Pokemon Review API Course 2022&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.rungroop&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n---\r\n\r\n## `application.properties` file (the simple passwords are no secret and just used for testing purposes): ##\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/pokemonApiCourse\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=postgres\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.security.user.name=test\r\n    spring.security.user.password=test\r\n    spring.jpa.show-sql=true\r\n\r\n---\r\n\r\n## Model: ##\r\n\r\n    package com.pokemonreview.api.models;\r\n    \r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class PokemonEntity {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \tprivate String name;\r\n    \tprivate String type;\r\n    }\r\n\r\n---\r\n\r\n## Controller: ##\r\n\r\n    package com.pokemonreview.api.controllers;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.DeleteMapping;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.PutMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.pokemonreview.api.models.PokemonEntity;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/&quot;)\r\n    public class PokemonController {\r\n    \t@GetMapping(&quot;pokemon&quot;)\r\n    \tpublic ResponseEntity&lt;List&lt;PokemonEntity&gt;&gt; getPokemons() {\r\n    \t\tList&lt;PokemonEntity&gt; pokemonEntities = new ArrayList&lt;PokemonEntity&gt;();\r\n    \t\tpokemonEntities.add(new PokemonEntity(1L, &quot;Squirtle&quot;, &quot;Water&quot;));\r\n    \t\tpokemonEntities.add(new PokemonEntity(2L, &quot;Pikachu&quot;, &quot;Electric&quot;));\r\n    \t\tpokemonEntities.add(new PokemonEntity(3L, &quot;Charmander&quot;, &quot;Fire&quot;));\r\n    \t\treturn ResponseEntity.ok(pokemonEntities);\r\n    \t}\r\n    \t\r\n    \t@GetMapping(&quot;pokemon/{id}&quot;)\r\n    \tpublic PokemonEntity pokemonDetail(@PathVariable Long id) {\r\n    \t\treturn new PokemonEntity(id, &quot;Squirtle&quot;, &quot;Water&quot;);\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;pokemon/create&quot;)\r\n    \t@ResponseStatus(HttpStatus.CREATED)\r\n    \tpublic ResponseEntity&lt;PokemonEntity&gt; createPokemon(@RequestBody PokemonEntity pokemonEntity) {\r\n    \t\tSystem.out.println(pokemonEntity.getName());\r\n    \t\tSystem.out.println(pokemonEntity.getType());\r\n    \t\treturn new ResponseEntity&lt;PokemonEntity&gt;(pokemonEntity, HttpStatus.CREATED);\r\n    \t}\r\n    \t\r\n    \t@PutMapping(&quot;pokemon/{id}/update&quot;)\r\n    \tpublic ResponseEntity&lt;PokemonEntity&gt; updatePokemon(@RequestBody PokemonEntity pokemonEntity,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t   @PathVariable(&quot;id&quot;) Long id) {\r\n    \t\tSystem.out.println(pokemonEntity.getName());\r\n    \t\tSystem.out.println(pokemonEntity.getType());\r\n    \t\treturn ResponseEntity.ok(pokemonEntity);\r\n    \t}\r\n    \t\r\n    \t@DeleteMapping(&quot;pokemon/{id}/delete&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; deletePokemon(@PathVariable(&quot;id&quot;) Long id) {\r\n    \t\tSystem.out.println(id);\r\n    \t\treturn ResponseEntity.ok(&quot;Pokemon deleted successfully&quot;);\r\n    \t}\r\n    }\r\n\r\n---\r\n\r\n## Modifications I have made ##\r\n\r\nPlease note that …\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n… was added by me to the `pom.xml` file but it does *not* make a difference if it is there or not. An authentication is *always* required – *no matter* if the `Spring Security` dependency is added or not! (Why is that? In the tutorial, *no* authorisation is required!) – and if I do not add the two lines …\r\n\r\n    spring.security.user.name=test\r\n    spring.security.user.password=test\r\n\r\n… to the `application.properties` file, a password for the user `user` is generated every time I start up the `Spring Boot` application.\r\n\r\nAlso, my `id` variable is not an `int`, as demonstrated in the tutorial, but a `Long`.\r\n\r\nFurthermore, please note that `javax.persistence` packages are used in the tutorial. The only packages that are suggested to me are `jakarta.persistence` packages.\r\n\r\n---\r\n\r\n# `Postman` problems: Only `GET` requests are allowed #\r\n\r\nI am using `Postman` in order to test `GET`, `POST`, `PUT` and `DELETE` requests but only `GET` requests work. *Every time*, the options in my `Authorization` tab are set as follows:\r\n\r\n- **`Type:`** `Basic Auth`\r\n  - **`Username:`** `test`\r\n  - **`Password:`** `test`\r\n\r\n## Working `GET` requests ##\r\n\r\nThe first `GET` request on `http://localhost:8080/api/pokemon` yields the following result:\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Squirtle&quot;,\r\n            &quot;type&quot;: &quot;Water&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;name&quot;: &quot;Pikachu&quot;,\r\n            &quot;type&quot;: &quot;Electric&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 3,\r\n            &quot;name&quot;: &quot;Charmander&quot;,\r\n            &quot;type&quot;: &quot;Fire&quot;\r\n        }\r\n    ]\r\n\r\nThe result of the second `GET` request on `http://localhost:8080/api/pokemon/5` is as follows:\r\n\r\n    {\r\n        &quot;id&quot;: 5,\r\n        &quot;name&quot;: &quot;Squirtle&quot;,\r\n        &quot;type&quot;: &quot;Water&quot;\r\n    }\r\n\r\n## Failing `POST`, `PUT` and `DELETE` requests ##\r\n\r\nThe `POST` request is conducted on `http://localhost:8080/api/pokemon/create` and in the `Body` tab, `raw` and `JSON` are selected and the following is inserted:\r\n\r\n    {\r\n        &quot;name&quot;: &quot;Pidgey&quot;,\r\n        &quot;type&quot;: &quot;Earth&quot;\r\n    }\r\n\r\nIf I now click on &lt;kbd&gt;`Send`&lt;/kbd&gt;, nothing is returned and the status `401 Unauthorized` is displayed.\r\n\r\nThe `PUT` (`http://localhost:8080/api/pokemon/5/update`) and `DELETE` (`http://localhost:8080/api/pokemon/5/delete`) requests yield the same results.\r\n\r\nWhat is wrong? In the tutorial, everything works just fine and I already tried tweaking the `pom.xml` and `application.properties` files in many ways according to the solutions I found on the internet but all of this has not solved my problem.\r\n\r\n  [1]: https://www.youtube.com/watch?v=3idkW2fkXKA&amp;t=9m38s","title":"Spring Boot: Only Postman “GET” requests allowed when using Spring Boot but not “POST”, “PUT” or “DELETE”; they yield an “401 Unauthorized” error","body":"<p>I am new to <code>Spring Boot</code> and right now, I am building an application according to <a href=\"https://www.youtube.com/watch?v=3idkW2fkXKA&amp;t=9m38s\" rel=\"nofollow noreferrer\">this tutorial</a>. My code looks as follows.</p>\n<hr />\n<h1>Code snippets</h1>\n<h2><code>pom.xml</code> file:</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot;\n      encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.pokemonreview&lt;/groupId&gt;\n    &lt;artifactId&gt;api&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;api&lt;/name&gt;\n    &lt;description&gt;Pokemon Review API Course 2022&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.rungroop&lt;/groupId&gt;\n            &lt;artifactId&gt;web&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<hr />\n<h2><code>application.properties</code> file (the simple passwords are no secret and just used for testing purposes):</h2>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/pokemonApiCourse\nspring.datasource.username=postgres\nspring.datasource.password=postgres\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.security.user.name=test\nspring.security.user.password=test\nspring.jpa.show-sql=true\n</code></pre>\n<hr />\n<h2>Model:</h2>\n<pre><code>package com.pokemonreview.api.models;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class PokemonEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String type;\n}\n</code></pre>\n<hr />\n<h2>Controller:</h2>\n<pre><code>package com.pokemonreview.api.controllers;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.pokemonreview.api.models.PokemonEntity;\n\n@RestController\n@RequestMapping(&quot;/api/&quot;)\npublic class PokemonController {\n    @GetMapping(&quot;pokemon&quot;)\n    public ResponseEntity&lt;List&lt;PokemonEntity&gt;&gt; getPokemons() {\n        List&lt;PokemonEntity&gt; pokemonEntities = new ArrayList&lt;PokemonEntity&gt;();\n        pokemonEntities.add(new PokemonEntity(1L, &quot;Squirtle&quot;, &quot;Water&quot;));\n        pokemonEntities.add(new PokemonEntity(2L, &quot;Pikachu&quot;, &quot;Electric&quot;));\n        pokemonEntities.add(new PokemonEntity(3L, &quot;Charmander&quot;, &quot;Fire&quot;));\n        return ResponseEntity.ok(pokemonEntities);\n    }\n    \n    @GetMapping(&quot;pokemon/{id}&quot;)\n    public PokemonEntity pokemonDetail(@PathVariable Long id) {\n        return new PokemonEntity(id, &quot;Squirtle&quot;, &quot;Water&quot;);\n    }\n    \n    @PostMapping(&quot;pokemon/create&quot;)\n    @ResponseStatus(HttpStatus.CREATED)\n    public ResponseEntity&lt;PokemonEntity&gt; createPokemon(@RequestBody PokemonEntity pokemonEntity) {\n        System.out.println(pokemonEntity.getName());\n        System.out.println(pokemonEntity.getType());\n        return new ResponseEntity&lt;PokemonEntity&gt;(pokemonEntity, HttpStatus.CREATED);\n    }\n    \n    @PutMapping(&quot;pokemon/{id}/update&quot;)\n    public ResponseEntity&lt;PokemonEntity&gt; updatePokemon(@RequestBody PokemonEntity pokemonEntity,\n                                                       @PathVariable(&quot;id&quot;) Long id) {\n        System.out.println(pokemonEntity.getName());\n        System.out.println(pokemonEntity.getType());\n        return ResponseEntity.ok(pokemonEntity);\n    }\n    \n    @DeleteMapping(&quot;pokemon/{id}/delete&quot;)\n    public ResponseEntity&lt;String&gt; deletePokemon(@PathVariable(&quot;id&quot;) Long id) {\n        System.out.println(id);\n        return ResponseEntity.ok(&quot;Pokemon deleted successfully&quot;);\n    }\n}\n</code></pre>\n<hr />\n<h2>Modifications I have made</h2>\n<p>Please note that …</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;version&gt;3.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>… was added by me to the <code>pom.xml</code> file but it does <em>not</em> make a difference if it is there or not. An authentication is <em>always</em> required – <em>no matter</em> if the <code>Spring Security</code> dependency is added or not! (Why is that? In the tutorial, <em>no</em> authorisation is required!) – and if I do not add the two lines …</p>\n<pre><code>spring.security.user.name=test\nspring.security.user.password=test\n</code></pre>\n<p>… to the <code>application.properties</code> file, a password for the user <code>user</code> is generated every time I start up the <code>Spring Boot</code> application.</p>\n<p>Also, my <code>id</code> variable is not an <code>int</code>, as demonstrated in the tutorial, but a <code>Long</code>.</p>\n<p>Furthermore, please note that <code>javax.persistence</code> packages are used in the tutorial. The only packages that are suggested to me are <code>jakarta.persistence</code> packages.</p>\n<hr />\n<h1><code>Postman</code> problems: Only <code>GET</code> requests are allowed</h1>\n<p>I am using <code>Postman</code> in order to test <code>GET</code>, <code>POST</code>, <code>PUT</code> and <code>DELETE</code> requests but only <code>GET</code> requests work. <em>Every time</em>, the options in my <code>Authorization</code> tab are set as follows:</p>\n<ul>\n<li><strong><code>Type:</code></strong> <code>Basic Auth</code>\n<ul>\n<li><strong><code>Username:</code></strong> <code>test</code></li>\n<li><strong><code>Password:</code></strong> <code>test</code></li>\n</ul>\n</li>\n</ul>\n<h2>Working <code>GET</code> requests</h2>\n<p>The first <code>GET</code> request on <code>http://localhost:8080/api/pokemon</code> yields the following result:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Squirtle&quot;,\n        &quot;type&quot;: &quot;Water&quot;\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;name&quot;: &quot;Pikachu&quot;,\n        &quot;type&quot;: &quot;Electric&quot;\n    },\n    {\n        &quot;id&quot;: 3,\n        &quot;name&quot;: &quot;Charmander&quot;,\n        &quot;type&quot;: &quot;Fire&quot;\n    }\n]\n</code></pre>\n<p>The result of the second <code>GET</code> request on <code>http://localhost:8080/api/pokemon/5</code> is as follows:</p>\n<pre><code>{\n    &quot;id&quot;: 5,\n    &quot;name&quot;: &quot;Squirtle&quot;,\n    &quot;type&quot;: &quot;Water&quot;\n}\n</code></pre>\n<h2>Failing <code>POST</code>, <code>PUT</code> and <code>DELETE</code> requests</h2>\n<p>The <code>POST</code> request is conducted on <code>http://localhost:8080/api/pokemon/create</code> and in the <code>Body</code> tab, <code>raw</code> and <code>JSON</code> are selected and the following is inserted:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;Pidgey&quot;,\n    &quot;type&quot;: &quot;Earth&quot;\n}\n</code></pre>\n<p>If I now click on <kbd><code>Send</code></kbd>, nothing is returned and the status <code>401 Unauthorized</code> is displayed.</p>\n<p>The <code>PUT</code> (<code>http://localhost:8080/api/pokemon/5/update</code>) and <code>DELETE</code> (<code>http://localhost:8080/api/pokemon/5/delete</code>) requests yield the same results.</p>\n<p>What is wrong? In the tutorial, everything works just fine and I already tried tweaking the <code>pom.xml</code> and <code>application.properties</code> files in many ways according to the solutions I found on the internet but all of this has not solved my problem.</p>\n"},{"tags":["java","garbage-collection"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683877759,"creation_date":1683877759,"answer_id":76234192,"question_id":76233361,"body_markdown":"From [the documentation]\r\n\r\n&gt; This is a convenience method for local management use and is equivalent to calling:  \r\n&gt; &lt;code&gt;[getThreadAllocatedBytes][1](Thread.currentThread().getId());&lt;/code&gt;\r\n\r\nThe [linked method `getThreadAllocatedBytes​(long id)`][1] does already exists in Java&#160;8. Since `com.sun.management.ThreadMXBean` is a non-standard extension to `java.lang.management.ThreadMXBean` you may invoke the method dynamically, to avoid a hard-coded dependency:\r\n\r\n```java\r\ntry {\r\n  long bytes = (Long)ManagementFactory.getPlatformMBeanServer()\r\n     .invoke(new ObjectName(&quot;java.lang:type=Threading&quot;), &quot;getThreadAllocatedBytes&quot;,\r\n         new Object[] { Thread.currentThread().getId() }, new String[] { &quot;long&quot; });\r\n  System.out.println(bytes);\r\n} catch(JMException ex) {\r\n  ex.printStackTrace();\r\n}\r\n```\r\n\r\nBut if you use a build tool that doesn’t enforce restrictions, to use the official API only, the following would also work with Java&#160;8 and the reference implementation:\r\n\r\n```java\r\nimport java.lang.management.ManagementFactory;\r\nimport com.sun.management.ThreadMXBean;\r\n\r\npublic class MxTest {\r\n  public static void main(String[] args) {\r\n    ThreadMXBean tmxb = (ThreadMXBean)ManagementFactory.getThreadMXBean();\r\n    long bytes = tmxb.getThreadAllocatedBytes(Thread.currentThread().getId());\r\n    System.out.println(bytes);\r\n  }\r\n}\r\n```\r\n\r\nNote that there is a small possibility of failure due to the fact that `getId()` is not `final` and hence, a subclass of `Thread` could override it and return whatever it wants. That’s why JDK&#160;19 has deprecated it and added a new `final` method `threadId()`. But in Java&#160;8, you have to go with `getId()`. Just be aware of this possibility which hopefully never occurs.\r\n\r\n[the documentation]: https://docs.oracle.com/en/java/javase/14/docs/api/jdk.management/com/sun/management/ThreadMXBean.html#getCurrentThreadAllocatedBytes()\r\n[1]: https://docs.oracle.com/en/java/javase/14/docs/api/jdk.management/com/sun/management/ThreadMXBean.html#getThreadAllocatedBytes(long)","title":"ThreadMXBean.getCurrentThreadAllocatedBytes Java 8 alternative?","body":"<p>From <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/jdk.management/com/sun/management/ThreadMXBean.html#getCurrentThreadAllocatedBytes()\" rel=\"nofollow noreferrer\">the documentation</a></p>\n<blockquote>\n<p>This is a convenience method for local management use and is equivalent to calling:<br />\n<code><a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/jdk.management/com/sun/management/ThreadMXBean.html#getThreadAllocatedBytes(long)\" rel=\"nofollow noreferrer\">getThreadAllocatedBytes</a>(Thread.currentThread().getId());</code></p>\n</blockquote>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/jdk.management/com/sun/management/ThreadMXBean.html#getThreadAllocatedBytes(long)\" rel=\"nofollow noreferrer\">linked method <code>getThreadAllocatedBytes​(long id)</code></a> does already exists in Java 8. Since <code>com.sun.management.ThreadMXBean</code> is a non-standard extension to <code>java.lang.management.ThreadMXBean</code> you may invoke the method dynamically, to avoid a hard-coded dependency:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  long bytes = (Long)ManagementFactory.getPlatformMBeanServer()\n     .invoke(new ObjectName(&quot;java.lang:type=Threading&quot;), &quot;getThreadAllocatedBytes&quot;,\n         new Object[] { Thread.currentThread().getId() }, new String[] { &quot;long&quot; });\n  System.out.println(bytes);\n} catch(JMException ex) {\n  ex.printStackTrace();\n}\n</code></pre>\n<p>But if you use a build tool that doesn’t enforce restrictions, to use the official API only, the following would also work with Java 8 and the reference implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.management.ManagementFactory;\nimport com.sun.management.ThreadMXBean;\n\npublic class MxTest {\n  public static void main(String[] args) {\n    ThreadMXBean tmxb = (ThreadMXBean)ManagementFactory.getThreadMXBean();\n    long bytes = tmxb.getThreadAllocatedBytes(Thread.currentThread().getId());\n    System.out.println(bytes);\n  }\n}\n</code></pre>\n<p>Note that there is a small possibility of failure due to the fact that <code>getId()</code> is not <code>final</code> and hence, a subclass of <code>Thread</code> could override it and return whatever it wants. That’s why JDK 19 has deprecated it and added a new <code>final</code> method <code>threadId()</code>. But in Java 8, you have to go with <code>getId()</code>. Just be aware of this possibility which hopefully never occurs.</p>\n"}],"owner":{"account_id":400169,"reputation":6286,"user_id":766006,"accept_rate":74,"display_name":"sternr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76234192,"answer_count":1,"score":0,"last_activity_date":1683877759,"creation_date":1683869164,"question_id":76233361,"body_markdown":"In java 11 and up there&#39;s MXBeans.getCurrentThreadAllocatedBytes to get allocation information per thread, but this API isn&#39;t available in Java 8.\r\n\r\nIs there any other way (without triggering a heap dump) I can get the allocation statistics per thread in Java 8?","title":"ThreadMXBean.getCurrentThreadAllocatedBytes Java 8 alternative?","body":"<p>In java 11 and up there's MXBeans.getCurrentThreadAllocatedBytes to get allocation information per thread, but this API isn't available in Java 8.</p>\n<p>Is there any other way (without triggering a heap dump) I can get the allocation statistics per thread in Java 8?</p>\n"},{"tags":["java","maven","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683877700,"creation_date":1683877700,"answer_id":76234183,"question_id":76233381,"body_markdown":"So, first of all, one should try to make the local builds faster, i.e.\r\n\r\n- check if some tests are overly complicated\r\n- move integration tests from the `test` phase to the `integration-test` phase\r\n- Use parallel builds\r\n\r\nWhen the long running tests are only part of `integration-test`, you can avoid running them locally, you just run them on the build server.\r\n\r\nOn the build server, you can try to construct a pattern as you described. How you exactly do this depends of course on the build server you use.\r\n\r\nThe general approach could be:\r\n\r\n1. Find out which modules changed by looking at changed directories in git. This could e.g. be done via a shell script and maybe some perl.\r\n2. Run something `mvn clean deploy -pl module1,module2 -amd`. This will automatically figure out the dependant modules.\r\n\r\n","title":"Is there a maven plugin to analyze the project dependencies before running unit tests?","body":"<p>So, first of all, one should try to make the local builds faster, i.e.</p>\n<ul>\n<li>check if some tests are overly complicated</li>\n<li>move integration tests from the <code>test</code> phase to the <code>integration-test</code> phase</li>\n<li>Use parallel builds</li>\n</ul>\n<p>When the long running tests are only part of <code>integration-test</code>, you can avoid running them locally, you just run them on the build server.</p>\n<p>On the build server, you can try to construct a pattern as you described. How you exactly do this depends of course on the build server you use.</p>\n<p>The general approach could be:</p>\n<ol>\n<li>Find out which modules changed by looking at changed directories in git. This could e.g. be done via a shell script and maybe some perl.</li>\n<li>Run something <code>mvn clean deploy -pl module1,module2 -amd</code>. This will automatically figure out the dependant modules.</li>\n</ol>\n"}],"owner":{"account_id":198567,"reputation":706,"user_id":443309,"accept_rate":25,"display_name":"gkns"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683877700,"creation_date":1683869429,"question_id":76233381,"body_markdown":"I have a maven-built java project where the `test` phase takes approximately 1 hour.\r\n\r\nHowever, after moving to `mvnd` (https://github.com/apache/maven-mvnd), tests now take ~32 minutes. (Further, I also tried graalVM with a `native` Profile in POM. However, no noticeable difference is seen.)\r\n\r\nIt is a multi-module project and I have a feeling the test phase can still run within a fraction of 32 minutes If there was a mechanism to analyse the tests needed to be run based on something like the below:\r\n\r\n1. List the changed source files in the current build and the modules containing them. (I understand maven builds entire project and no notion of &#39;changed&#39; files which is best left to git/version control)\r\n2. List the projects that use these modules i.e. those having this module as a dependency)\r\n3. Compile the entire project; however, run the tests only on the set of modules in [1] and [2] \r\n\r\nQuestions:\r\n----------\r\n1. Is this assumption correct?\r\n2. If so, is there already a plugin that can help with such optimization?","title":"Is there a maven plugin to analyze the project dependencies before running unit tests?","body":"<p>I have a maven-built java project where the <code>test</code> phase takes approximately 1 hour.</p>\n<p>However, after moving to <code>mvnd</code> (<a href=\"https://github.com/apache/maven-mvnd\" rel=\"nofollow noreferrer\">https://github.com/apache/maven-mvnd</a>), tests now take ~32 minutes. (Further, I also tried graalVM with a <code>native</code> Profile in POM. However, no noticeable difference is seen.)</p>\n<p>It is a multi-module project and I have a feeling the test phase can still run within a fraction of 32 minutes If there was a mechanism to analyse the tests needed to be run based on something like the below:</p>\n<ol>\n<li>List the changed source files in the current build and the modules containing them. (I understand maven builds entire project and no notion of 'changed' files which is best left to git/version control)</li>\n<li>List the projects that use these modules i.e. those having this module as a dependency)</li>\n<li>Compile the entire project; however, run the tests only on the set of modules in [1] and [2]</li>\n</ol>\n<h2>Questions:</h2>\n<ol>\n<li>Is this assumption correct?</li>\n<li>If so, is there already a plugin that can help with such optimization?</li>\n</ol>\n"},{"tags":["java","web-services","jakarta-ee","wsdl2java"],"comments":[{"owner":{"account_id":354993,"reputation":1344,"user_id":693671,"accept_rate":90,"display_name":"Tim"},"score":0,"creation_date":1422888453,"post_id":28279811,"comment_id":44914585,"body_markdown":"Is this two way SSL or one way?","body":"Is this two way SSL or one way?"},{"owner":{"account_id":354993,"reputation":1344,"user_id":693671,"accept_rate":90,"display_name":"Tim"},"score":0,"creation_date":1422888902,"post_id":28279811,"comment_id":44914865,"body_markdown":"Try adding: -Djavax.net.debug=ssl to your java args, and see if that produces more pertinent logs.","body":"Try adding: -Djavax.net.debug=ssl to your java args, and see if that produces more pertinent logs."},{"owner":{"account_id":5722174,"reputation":11,"user_id":4520299,"display_name":"Subhankar Das"},"score":0,"creation_date":1422953990,"post_id":28279811,"comment_id":44942271,"body_markdown":"No.. It is not generating more logs..I am trying to access http wsdl end points. I can not understand why it is throwing SSLKeyException.","body":"No.. It is not generating more logs..I am trying to access http wsdl end points. I can not understand why it is throwing SSLKeyException."},{"owner":{"account_id":5722174,"reputation":11,"user_id":4520299,"display_name":"Subhankar Das"},"score":0,"creation_date":1422965515,"post_id":28279811,"comment_id":44948970,"body_markdown":"is that I need to have server certificate? If yes then how can I get this?","body":"is that I need to have server certificate? If yes then how can I get this?"},{"owner":{"account_id":16650,"reputation":6289,"user_id":36510,"accept_rate":57,"display_name":"nevster"},"score":0,"creation_date":1432267597,"post_id":28279811,"comment_id":48883417,"body_markdown":"Try turning on Environment &gt; Servers &gt; [my server] &gt; SSL &gt; Advanced &gt; Use JSSE SSL as per http://stackoverflow.com/questions/27928157/cannot-access-https-from-weblogic","body":"Try turning on Environment &gt; Servers &gt; [my server] &gt; SSL &gt; Advanced &gt; Use JSSE SSL as per <a href=\"http://stackoverflow.com/questions/27928157/cannot-access-https-from-weblogic\" title=\"cannot access https from weblogic\">stackoverflow.com/questions/27928157/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7107334,"reputation":1,"user_id":5436561,"display_name":"Ashutosh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1444658478,"creation_date":1444651153,"answer_id":33080570,"question_id":28279811,"body_markdown":"Add this in startup params\r\n\r\n    -DUseSunHttpHandler=true \r\n    -Dssl.SocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl \r\n    -Dssl.ServerSocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl","title":"javax.net.ssl.SSLKeyException: FATAL Alert:BAD_CERTIFICATE - A corrupt or unuseable certificate was received","body":"<p>Add this in startup params</p>\n\n<pre><code>-DUseSunHttpHandler=true \n-Dssl.SocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl \n-Dssl.ServerSocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5290004,"reputation":577,"user_id":4222875,"display_name":"Yusuf Kapasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502270002,"creation_date":1502270002,"answer_id":45586370,"question_id":28279811,"body_markdown":"I was able to get resolve the exception by updating \\Oracle\\Middleware\\user_projects\\domains\\my_domain\\bin\\setDomainEnv.cmd with below commands\r\n\r\n    set JAVA_OPTIONS=%JAVA_OPTIONS% -DUseSunHttpHandler=true -Dssl.SocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl -Dssl.ServerSocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl\r\n","title":"javax.net.ssl.SSLKeyException: FATAL Alert:BAD_CERTIFICATE - A corrupt or unuseable certificate was received","body":"<p>I was able to get resolve the exception by updating \\Oracle\\Middleware\\user_projects\\domains\\my_domain\\bin\\setDomainEnv.cmd with below commands</p>\n\n<pre><code>set JAVA_OPTIONS=%JAVA_OPTIONS% -DUseSunHttpHandler=true -Dssl.SocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl -Dssl.ServerSocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11573339,"reputation":11,"user_id":8479478,"display_name":"shailesh shinde"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502990374,"creation_date":1502988364,"answer_id":45740834,"question_id":28279811,"body_markdown":"Fixed this issue by adding following lines in JVM arguments.\r\n\r\n    -Dweblogic.security.SSL.nojce=true \r\n    -Dweblogic.ssl.JSSEEnabled=true \r\n    -Dweblogic.security.SSL.enableJSSE=true\r\n   \r\nDon&#39;t forget to recycle JVM. :)","title":"javax.net.ssl.SSLKeyException: FATAL Alert:BAD_CERTIFICATE - A corrupt or unuseable certificate was received","body":"<p>Fixed this issue by adding following lines in JVM arguments.</p>\n\n<pre><code>-Dweblogic.security.SSL.nojce=true \n-Dweblogic.ssl.JSSEEnabled=true \n-Dweblogic.security.SSL.enableJSSE=true\n</code></pre>\n\n<p>Don't forget to recycle JVM. :)</p>\n"},{"tags":[],"owner":{"account_id":9533638,"reputation":11,"user_id":7084464,"display_name":"anim8r"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683877550,"creation_date":1645768363,"answer_id":71261612,"question_id":28279811,"body_markdown":"I was getting a similar when trying to upload a file to an S3 Bucket on AWS from a WebLogic application.  I added the following lines\r\n\r\n    JAVA_OPTIONS=&quot;${JAVA_OPTIONS} -DUseSunHttpHandler=true -Dssl.SocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl -Dssl.ServerSocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl&quot; \r\n    \r\n    just before this command\r\n    \r\n    JAVA_OPTIONS=&quot;${JAVA_OPTIONS}&quot;\r\n    export JAVA_OPTIONS\r\n\r\nin \r\n\r\n    \\Oracle\\Middleware\\user_projects\\domains\\my_domain\\bin\\setDomainEnv.cmd \r\n\r\nand my issue was resolved.  Just make sure to restart WebLogic after the amendment.\r\n","title":"javax.net.ssl.SSLKeyException: FATAL Alert:BAD_CERTIFICATE - A corrupt or unuseable certificate was received","body":"<p>I was getting a similar when trying to upload a file to an S3 Bucket on AWS from a WebLogic application.  I added the following lines</p>\n<pre><code>JAVA_OPTIONS=&quot;${JAVA_OPTIONS} -DUseSunHttpHandler=true -Dssl.SocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl -Dssl.ServerSocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl&quot; \n\njust before this command\n\nJAVA_OPTIONS=&quot;${JAVA_OPTIONS}&quot;\nexport JAVA_OPTIONS\n</code></pre>\n<p>in</p>\n<pre><code>\\Oracle\\Middleware\\user_projects\\domains\\my_domain\\bin\\setDomainEnv.cmd \n</code></pre>\n<p>and my issue was resolved.  Just make sure to restart WebLogic after the amendment.</p>\n"}],"owner":{"account_id":5722174,"reputation":11,"user_id":4520299,"display_name":"Subhankar Das"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15225,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1683877550,"creation_date":1422886887,"question_id":28279811,"body_markdown":"I am getting this below error when trying to access an WSDL endpoint.\r\n\r\nFirst I have created the client jar using cliengen ant task and then created a simple java class to test the wsdl end point and I am getting below error-\r\n\r\n    javax.net.ssl.SSLKeyException: FATAL Alert:BAD_CERTIFICATE - A corrupt or unuseable certificate was received.\r\n    \tat com.certicom.tls.interfaceimpl.TLSConnectionImpl.fireException(Unknown Source)\r\n    \tat com.certicom.tls.interfaceimpl.TLSConnectionImpl.fireAlertSent(Unknown Source)\r\n    \tat com.certicom.tls.record.handshake.HandshakeHandler.fireAlert(Unknown Source)\r\n    \tat com.certicom.tls.record.handshake.HandshakeHandler.handleHandshakeMessages(Unknown Source)\r\n    \tat com.certicom.tls.record.MessageInterpreter.interpretContent(Unknown Source)\r\n    \tat com.certicom.tls.record.MessageInterpreter.decryptMessage(Unknown Source)\r\n    \tat com.certicom.tls.record.ReadHandler.processRecord(Unknown Source)\r\n    \tat com.certicom.tls.record.ReadHandler.readRecord(Unknown Source)\r\n    \tat com.certicom.tls.record.ReadHandler.readUntilHandshakeComplete(Unknown Source)\r\n    \tat com.certicom.tls.interfaceimpl.TLSConnectionImpl.completeHandshake(Unknown Source)\r\n    \tat com.certicom.tls.record.WriteHandler.write(Unknown Source)\r\n    \tat com.certicom.io.OutputSSLIOStreamWrapper.write(Unknown Source)\r\n    \tat java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:66)\r\n    \tat java.io.BufferedOutputStream.write(BufferedOutputStream.java:105)\r\n    \tat java.io.FilterOutputStream.write(FilterOutputStream.java:80)\r\n    \tat weblogic.webservice.binding.soap.HttpClientBinding.writeToStream(HttpClientBinding.java:430)\r\n    \tat weblogic.webservice.binding.soap.HttpClientBinding.send(HttpClientBinding.java:219)\r\n    \tat weblogic.webservice.core.handler.ClientHandler.handleRequest(ClientHandler.java:37)\r\n    \tat weblogic.webservice.core.HandlerChainImpl.handleRequest(HandlerChainImpl.java:143)\r\n    \tat weblogic.webservice.core.ClientDispatcher.send(ClientDispatcher.java:231)\r\n    \tat weblogic.webservice.core.ClientDispatcher.dispatch(ClientDispatcher.java:143)\r\n    \tat weblogic.webservice.core.DefaultOperation.invoke(DefaultOperation.java:471)\r\n    \tat weblogic.webservice.core.DefaultOperation.invoke(DefaultOperation.java:457)\r\n    \tat weblogic.webservice.core.rpc.StubImpl._invoke(StubImpl.java:303)\r\n\r\n\r\nCan anyone help?","title":"javax.net.ssl.SSLKeyException: FATAL Alert:BAD_CERTIFICATE - A corrupt or unuseable certificate was received","body":"<p>I am getting this below error when trying to access an WSDL endpoint.</p>\n\n<p>First I have created the client jar using cliengen ant task and then created a simple java class to test the wsdl end point and I am getting below error-</p>\n\n<pre><code>javax.net.ssl.SSLKeyException: FATAL Alert:BAD_CERTIFICATE - A corrupt or unuseable certificate was received.\n    at com.certicom.tls.interfaceimpl.TLSConnectionImpl.fireException(Unknown Source)\n    at com.certicom.tls.interfaceimpl.TLSConnectionImpl.fireAlertSent(Unknown Source)\n    at com.certicom.tls.record.handshake.HandshakeHandler.fireAlert(Unknown Source)\n    at com.certicom.tls.record.handshake.HandshakeHandler.handleHandshakeMessages(Unknown Source)\n    at com.certicom.tls.record.MessageInterpreter.interpretContent(Unknown Source)\n    at com.certicom.tls.record.MessageInterpreter.decryptMessage(Unknown Source)\n    at com.certicom.tls.record.ReadHandler.processRecord(Unknown Source)\n    at com.certicom.tls.record.ReadHandler.readRecord(Unknown Source)\n    at com.certicom.tls.record.ReadHandler.readUntilHandshakeComplete(Unknown Source)\n    at com.certicom.tls.interfaceimpl.TLSConnectionImpl.completeHandshake(Unknown Source)\n    at com.certicom.tls.record.WriteHandler.write(Unknown Source)\n    at com.certicom.io.OutputSSLIOStreamWrapper.write(Unknown Source)\n    at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:66)\n    at java.io.BufferedOutputStream.write(BufferedOutputStream.java:105)\n    at java.io.FilterOutputStream.write(FilterOutputStream.java:80)\n    at weblogic.webservice.binding.soap.HttpClientBinding.writeToStream(HttpClientBinding.java:430)\n    at weblogic.webservice.binding.soap.HttpClientBinding.send(HttpClientBinding.java:219)\n    at weblogic.webservice.core.handler.ClientHandler.handleRequest(ClientHandler.java:37)\n    at weblogic.webservice.core.HandlerChainImpl.handleRequest(HandlerChainImpl.java:143)\n    at weblogic.webservice.core.ClientDispatcher.send(ClientDispatcher.java:231)\n    at weblogic.webservice.core.ClientDispatcher.dispatch(ClientDispatcher.java:143)\n    at weblogic.webservice.core.DefaultOperation.invoke(DefaultOperation.java:471)\n    at weblogic.webservice.core.DefaultOperation.invoke(DefaultOperation.java:457)\n    at weblogic.webservice.core.rpc.StubImpl._invoke(StubImpl.java:303)\n</code></pre>\n\n<p>Can anyone help?</p>\n"},{"tags":["java","spring-boot","authentication","backend"],"answers":[{"comments":[{"owner":{"account_id":27559452,"reputation":13,"user_id":21032796,"display_name":"Programmer-G"},"score":0,"creation_date":1683844373,"post_id":76227874,"comment_id":134433033,"body_markdown":"continues to fail, postman throws the same error.","body":"continues to fail, postman throws the same error."},{"owner":{"account_id":28301735,"reputation":61,"user_id":21640328,"display_name":"dannyRouge"},"score":0,"creation_date":1683873529,"post_id":76227874,"comment_id":134435992,"body_markdown":"try to see some of this answer: https://stackoverflow.com/questions/73400220/cannot-invoke-org-springframework-security-crypto-bcrypt-bcryptpasswordencoder\n\nhttps://stackoverflow.com/questions/73205915/i-have-a-problem-with-testing-adding-user-with-password-encoder","body":"try to see some of this answer: <a href=\"https://stackoverflow.com/questions/73400220/cannot-invoke-org-springframework-security-crypto-bcrypt-bcryptpasswordencoder\" title=\"cannot invoke org springframework security crypto bcrypt bcryptpasswordencoder\">stackoverflow.com/questions/73400220/&hellip;</a>  <a href=\"https://stackoverflow.com/questions/73205915/i-have-a-problem-with-testing-adding-user-with-password-encoder\" title=\"i have a problem with testing adding user with password encoder\">stackoverflow.com/questions/73205915/&hellip;</a>"}],"tags":[],"owner":{"account_id":28301735,"reputation":61,"user_id":21640328,"display_name":"dannyRouge"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683809684,"creation_date":1683809684,"answer_id":76227874,"question_id":76227575,"body_markdown":"Try this \r\n```\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n...\r\n\r\nprivate final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n...\r\n\r\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\nauth.userDetailsService(userDetailsServiceImpl).passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n```","title":"problems adding user with password encoder","body":"<p>Try this</p>\n<pre><code>import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n...\n\nprivate final BCryptPasswordEncoder bCryptPasswordEncoder;\n...\n\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\nauth.userDetailsService(userDetailsServiceImpl).passwordEncoder(bCryptPasswordEncoder);\n    }\n</code></pre>\n"}],"owner":{"account_id":27559452,"reputation":13,"user_id":21032796,"display_name":"Programmer-G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683877513,"creation_date":1683807518,"question_id":76227575,"body_markdown":"This is the error that appears when I try to create a new user\r\n`&quot;message&quot;: &quot;Cannot invoke \\&quot;org.springframework.security.crypto.password.PasswordEncoder.encode(java.lang.CharSequence)\\&quot; because \\&quot;this.passwordEncoder\\&quot; is null&quot;,     &quot;path&quot;: &quot;/auth/nuevo&quot;`\r\n\r\nthis is my code MainSecurity:\r\n\r\n\\`\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class MainSecurity {\r\n\r\n    @Autowired\r\n    UserDetailsImpl userDetailsServiceImpl;\r\n\r\n    @Autowired\r\n    JwtEntryPoint jwtEntryPoint;\r\n\r\n    @Bean\r\n    public JwtTokenFilter jwtTokenFilter() {\r\n        return new JwtTokenFilter();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsServiceImpl).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\r\n            throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(jwtEntryPoint).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n            http\r\n.addFilterBefore(jwtTokenFilter()\r\n, UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\\`\r\n\r\nI can&#39;t find how to solve the error.I am using spring-boot version 3.0.6, if you need more information, please let me know.","title":"problems adding user with password encoder","body":"<p>This is the error that appears when I try to create a new user\n<code>&quot;message&quot;: &quot;Cannot invoke \\&quot;org.springframework.security.crypto.password.PasswordEncoder.encode(java.lang.CharSequence)\\&quot; because \\&quot;this.passwordEncoder\\&quot; is null&quot;,     &quot;path&quot;: &quot;/auth/nuevo&quot;</code></p>\n<p>this is my code MainSecurity:</p>\n<p>`</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class MainSecurity {\n\n    @Autowired\n    UserDetailsImpl userDetailsServiceImpl;\n\n    @Autowired\n    JwtEntryPoint jwtEntryPoint;\n\n    @Bean\n    public JwtTokenFilter jwtTokenFilter() {\n        return new JwtTokenFilter();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsServiceImpl).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\n            throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(jwtEntryPoint).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/**&quot;).permitAll()\n                .anyRequest().authenticated();\n            http\n.addFilterBefore(jwtTokenFilter()\n, UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>`</p>\n<p>I can't find how to solve the error.I am using spring-boot version 3.0.6, if you need more information, please let me know.</p>\n"},{"tags":["java","json","spring-boot","inheritance","json-deserialization"],"owner":{"account_id":18515353,"reputation":1,"user_id":13489609,"display_name":"Mayank Vashishtha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683876594,"creation_date":1683876594,"question_id":76234062,"body_markdown":"Considering a Multi level inheritance scenario among ParentInterface -&gt; ParentClass -&gt; ChildClass POJOs. I need to use return type as Interface in my `ResponseEntity&lt;ParentInterface&gt;` Controller&#39;s `GET` call. Now, as per some logic, I need to either set the object of ParentClass or ChildClass in the Interface variable. But the response always contains the `parentClassProperty`. \r\n\r\n\r\n**Parent Interface**\r\n```\r\ninterface ParentInterface {\r\n  String parentClassProperty;\r\n}\r\n```\r\n\r\n**Parent Class**\r\n```\r\n@Data\r\n@Builder(toBuilder = true)\r\n@JsonInclude\r\n@JsonDeserialize(builder = ParentClass.ParentClassBuilder.class)\r\nclass ParentClass implements ParentInterface {\r\nString parentClassProperty;\r\n\r\n  @JsonPOJOBuilder(withPrefix = &quot;&quot;)\r\n  @JsonIgnoreProperties(ignoreUnknown = true)\r\n  public static class ParentClassBuilder {\r\n    String parentClassProperty;\r\n\r\n    public ParentClassBuilder() {}\r\n\r\n    @Override\r\n    public ParentClassBuilder parentClassProperty(String parentClassProperty) {\r\n      this.parentClassProperty = parentClassProperty;\r\n      return this;\r\n    }\r\n\r\n    public ParentClass build() {\r\n      return new ParentClass(parentClassProperty);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n**Child Class**\r\n\r\n```\r\n@Builder(toBuilder = true)\r\n@JsonInclude\r\n@JsonDeserialize(builder = ChildClass.ChildClassBuilder.class)\r\nclass ChildClass extends ParentClass {\r\nString childClassProperty;\r\n\r\n    @JsonPOJOBuilder(withPrefix = &quot;&quot;)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public static class ChildClassBuilder extends ParentClassBuilder {\r\n      String childClassProperty;\r\n\r\n      public ChildClassBuilder() {}\r\n\r\n      public ChildClassBuilder childClassProperty(String childClassProperty) {\r\n        this.childClassProperty = childClassProperty;\r\n        return this;\r\n      }\r\n\r\n      @Override\r\n      public ChildClassBuilder parentClassProperty(String parentClassProperty) {\r\n       this.parentClassProperty = parentClassProperty;\r\n       return this;\r\n      }\r\n\r\n      public ChildClass build() {\r\n        return new ChildClass(parentClassProperty, childClassProperty);\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nController\r\n\r\n```\r\npublic ResponseEntity&lt;ParentInterface&gt; getValues() {\r\n  ParentInterface parentInterface;\r\n  ParentClass parentClass = getParentClassValuesFromSomeMethod();  \r\n  if (some_boolean == true) {\r\n    parentInterface = parentClass;\r\n  }\r\n  else {\r\n    ChildClass childClass = getChildClassValuesFromSomeMethod();  \r\n    parentInterface = childClass;\r\n  }\r\n  return parentInterface;\r\n}\r\n```\r\n\r\nNow, above method always returns `parentClassProperty` but what I need is to have both `childClassProperty` and `parentClassProperty`. I know that problem is somewhere in the JSONDeserialization but unable to figure it out as where I am making the mistake.","title":"Send child class&#39;s property with parent class&#39;s property in ResponseEntity in Spring Boot","body":"<p>Considering a Multi level inheritance scenario among ParentInterface -&gt; ParentClass -&gt; ChildClass POJOs. I need to use return type as Interface in my <code>ResponseEntity&lt;ParentInterface&gt;</code> Controller's <code>GET</code> call. Now, as per some logic, I need to either set the object of ParentClass or ChildClass in the Interface variable. But the response always contains the <code>parentClassProperty</code>.</p>\n<p><strong>Parent Interface</strong></p>\n<pre><code>interface ParentInterface {\n  String parentClassProperty;\n}\n</code></pre>\n<p><strong>Parent Class</strong></p>\n<pre><code>@Data\n@Builder(toBuilder = true)\n@JsonInclude\n@JsonDeserialize(builder = ParentClass.ParentClassBuilder.class)\nclass ParentClass implements ParentInterface {\nString parentClassProperty;\n\n  @JsonPOJOBuilder(withPrefix = &quot;&quot;)\n  @JsonIgnoreProperties(ignoreUnknown = true)\n  public static class ParentClassBuilder {\n    String parentClassProperty;\n\n    public ParentClassBuilder() {}\n\n    @Override\n    public ParentClassBuilder parentClassProperty(String parentClassProperty) {\n      this.parentClassProperty = parentClassProperty;\n      return this;\n    }\n\n    public ParentClass build() {\n      return new ParentClass(parentClassProperty);\n    }\n  }\n}\n</code></pre>\n<p><strong>Child Class</strong></p>\n<pre><code>@Builder(toBuilder = true)\n@JsonInclude\n@JsonDeserialize(builder = ChildClass.ChildClassBuilder.class)\nclass ChildClass extends ParentClass {\nString childClassProperty;\n\n    @JsonPOJOBuilder(withPrefix = &quot;&quot;)\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public static class ChildClassBuilder extends ParentClassBuilder {\n      String childClassProperty;\n\n      public ChildClassBuilder() {}\n\n      public ChildClassBuilder childClassProperty(String childClassProperty) {\n        this.childClassProperty = childClassProperty;\n        return this;\n      }\n\n      @Override\n      public ChildClassBuilder parentClassProperty(String parentClassProperty) {\n       this.parentClassProperty = parentClassProperty;\n       return this;\n      }\n\n      public ChildClass build() {\n        return new ChildClass(parentClassProperty, childClassProperty);\n      }\n    }\n  }\n</code></pre>\n<p>Controller</p>\n<pre><code>public ResponseEntity&lt;ParentInterface&gt; getValues() {\n  ParentInterface parentInterface;\n  ParentClass parentClass = getParentClassValuesFromSomeMethod();  \n  if (some_boolean == true) {\n    parentInterface = parentClass;\n  }\n  else {\n    ChildClass childClass = getChildClassValuesFromSomeMethod();  \n    parentInterface = childClass;\n  }\n  return parentInterface;\n}\n</code></pre>\n<p>Now, above method always returns <code>parentClassProperty</code> but what I need is to have both <code>childClassProperty</code> and <code>parentClassProperty</code>. I know that problem is somewhere in the JSONDeserialization but unable to figure it out as where I am making the mistake.</p>\n"},{"tags":["java","android","translation"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683874812,"post_id":76233816,"comment_id":134436192,"body_markdown":"You need to provide German translations of these strings as well. Did you expect the system to automagically translate all text to German for you? [This is a good overview](https://developer.android.com/guide/topics/resources/localization).","body":"You need to provide German translations of these strings as well. Did you expect the system to automagically translate all text to German for you? <a href=\"https://developer.android.com/guide/topics/resources/localization\" rel=\"nofollow noreferrer\">This is a good overview</a>."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683874960,"post_id":76233816,"comment_id":134436216,"body_markdown":"Also: due to difference is languages it&#39;s a bad idea to construct messages like you did: You should have a resource for the string &quot;see news&quot; and any other string, not for individual parts. The primary reason is because grammar is different  between languages. In some languages the verb might not come first and if you hard-code that order, then the translation *can&#39;t* be done correctly via resources.","body":"Also: due to difference is languages it&#39;s a bad idea to construct messages like you did: You should have a resource for the string &quot;see news&quot; and any other string, not for individual parts. The primary reason is because grammar is different  between languages. In some languages the verb might not come first and if you hard-code that order, then the translation <i>can&#39;t</i> be done correctly via resources."},{"owner":{"account_id":28131984,"reputation":1,"user_id":21496359,"display_name":"Gu Ro"},"score":0,"creation_date":1683874962,"post_id":76233816,"comment_id":134436220,"body_markdown":"@JoachimSauer Could you write a method for providing German translation and how to translate German?","body":"@JoachimSauer Could you write a method for providing German translation and how to translate German?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683875042,"post_id":76233816,"comment_id":134436230,"body_markdown":"No, if you want German text in your application, someone will have to translate your text. There might be automated tools, but since localization needs a lot of context that isn&#39;t generally available in just the resources, those tools are far from perfect (i.e. they might be a good start to seed your resources, but if that&#39;s all you use, then your app will definitely look wrong in anything but the language you wrote).","body":"No, if you want German text in your application, someone will have to translate your text. There might be automated tools, but since localization needs a lot of context that isn&#39;t generally available in just the resources, those tools are far from perfect (i.e. they might be a good start to seed your resources, but if that&#39;s all you use, then your app will definitely look wrong in anything but the language you wrote)."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683875126,"post_id":76233816,"comment_id":134436241,"body_markdown":"As an example: &quot;see&quot; could be translated as &quot;sehen&quot; and &quot;news&quot; as &quot;Nachrichten&quot;, but &quot;sehen Nachrichten&quot; is  at best gramatically wrong and pretty much garbage. The appropriate term (assuming this is meant as a menu item to see news, for example) would be &quot;Nachrichten ansehen&quot; or something like that.","body":"As an example: &quot;see&quot; could be translated as &quot;sehen&quot; and &quot;news&quot; as &quot;Nachrichten&quot;, but &quot;sehen Nachrichten&quot; is  at best gramatically wrong and pretty much garbage. The appropriate term (assuming this is meant as a menu item to see news, for example) would be &quot;Nachrichten ansehen&quot; or something like that."},{"owner":{"account_id":28131984,"reputation":1,"user_id":21496359,"display_name":"Gu Ro"},"score":0,"creation_date":1683875348,"post_id":76233816,"comment_id":134436287,"body_markdown":"@JoachimSauer I can handle that, but I need the method to translate manually or automatically. If you know how I can fix the code I provided, please help.","body":"@JoachimSauer I can handle that, but I need the method to translate manually or automatically. If you know how I can fix the code I provided, please help."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683875665,"post_id":76233816,"comment_id":134436341,"body_markdown":"Did you read the link in my first comment? It explains in *lots* of detail how to bring translated strings into your code. Besides the concatenating-messages issue, your code isn&#39;t wrong, it&#39;s just that you need additional files to provide the content for the other languages.","body":"Did you read the link in my first comment? It explains in <i>lots</i> of detail how to bring translated strings into your code. Besides the concatenating-messages issue, your code isn&#39;t wrong, it&#39;s just that you need additional files to provide the content for the other languages."}],"answers":[{"tags":[],"owner":{"account_id":10468782,"reputation":1,"user_id":7717357,"display_name":"kico77"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683876395,"creation_date":1683876343,"answer_id":76234031,"question_id":76233816,"body_markdown":"For each new language, you have to create new specific values folder. So, if I take german for example, you need to create new folder &quot;values-de&quot; and create new file &quot;strings.xml&quot; inside &quot;values-de&quot; folder. New strings.xml file will look like this:\r\n\r\n    &lt;resources&gt;\r\n        &lt;string name=&quot;app_name&quot;&gt;Newsapp&lt;/string&gt;\r\n        &lt;!-- notification strings --&gt;\r\n        &lt;string name=&quot;see&quot; translatable=&quot;true&quot;&gt;sehen&lt;/string&gt;\r\n        &lt;string name=&quot;news&quot; translatable=&quot;true&quot;&gt;Nachricht&lt;/string&gt;\r\n    &lt;/resources&gt;\r\n\r\nThen, if German language is currently selected on your phone, values-de/strings.xml will be used.","title":"String is not translating to a different language in Android Studio Java?","body":"<p>For each new language, you have to create new specific values folder. So, if I take german for example, you need to create new folder &quot;values-de&quot; and create new file &quot;strings.xml&quot; inside &quot;values-de&quot; folder. New strings.xml file will look like this:</p>\n<pre><code>&lt;resources&gt;\n    &lt;string name=&quot;app_name&quot;&gt;Newsapp&lt;/string&gt;\n    &lt;!-- notification strings --&gt;\n    &lt;string name=&quot;see&quot; translatable=&quot;true&quot;&gt;sehen&lt;/string&gt;\n    &lt;string name=&quot;news&quot; translatable=&quot;true&quot;&gt;Nachricht&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>Then, if German language is currently selected on your phone, values-de/strings.xml will be used.</p>\n"}],"owner":{"account_id":28131984,"reputation":1,"user_id":21496359,"display_name":"Gu Ro"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683876395,"creation_date":1683874459,"question_id":76233816,"body_markdown":"I need to translate the string that is showing using &#39;Toast&#39; in the Android application to the default language of the device.\r\nI defined string resources in the res/string.xml file in English and added the attribute translatable=&quot;true&quot; to the &lt;string&gt; tag.\r\n\r\nLet&#39;s say an app is installed on a device whose default language is German. The app should show toast messages in German.\r\n\r\n**Code in res/string.xml:**\r\n\r\n```\r\n&lt;resources&gt;\r\n    &lt;string name=&quot;app_name&quot;&gt;Newsapp&lt;/string&gt;\r\n    &lt;!-- notification strings --&gt;\r\n    &lt;string name=&quot;see&quot; translatable=&quot;true&quot;&gt;see&lt;/string&gt;\r\n    &lt;string name=&quot;news&quot; translatable=&quot;true&quot;&gt;news&lt;/string&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\n**Code in Activity:**\r\n\r\n```\r\nString see = context.getString(R.string.see).toLowerCase(Locale.ROOT);\r\nString news = context.getString(R.string.news).toLowerCase(Locale.ROOT);\r\n\r\nString str = see + &quot; &quot; + news;\r\n\r\nToast.makeText(context, str, Toast.LENGTH_SHORT).show();\r\n```\r\n\r\n","title":"String is not translating to a different language in Android Studio Java?","body":"<p>I need to translate the string that is showing using 'Toast' in the Android application to the default language of the device.\nI defined string resources in the res/string.xml file in English and added the attribute translatable=&quot;true&quot; to the  tag.</p>\n<p>Let's say an app is installed on a device whose default language is German. The app should show toast messages in German.</p>\n<p><strong>Code in res/string.xml:</strong></p>\n<pre><code>&lt;resources&gt;\n    &lt;string name=&quot;app_name&quot;&gt;Newsapp&lt;/string&gt;\n    &lt;!-- notification strings --&gt;\n    &lt;string name=&quot;see&quot; translatable=&quot;true&quot;&gt;see&lt;/string&gt;\n    &lt;string name=&quot;news&quot; translatable=&quot;true&quot;&gt;news&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n<p><strong>Code in Activity:</strong></p>\n<pre><code>String see = context.getString(R.string.see).toLowerCase(Locale.ROOT);\nString news = context.getString(R.string.news).toLowerCase(Locale.ROOT);\n\nString str = see + &quot; &quot; + news;\n\nToast.makeText(context, str, Toast.LENGTH_SHORT).show();\n</code></pre>\n"},{"tags":["java","flutter","android-studio","gradle"],"answers":[{"comments":[{"owner":{"account_id":28581120,"reputation":1,"user_id":21882054,"display_name":"S R"},"score":0,"creation_date":1683820049,"post_id":76229355,"comment_id":134428333,"body_markdown":"Hi yes this shows distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-all.zip","body":"Hi yes this shows distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-7.6.1-all.zip"}],"tags":[],"owner":{"account_id":10271083,"reputation":61,"user_id":7579433,"display_name":"Kirill Levitskiy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683819386,"creation_date":1683819386,"answer_id":76229355,"question_id":76229338,"body_markdown":"Could you share your `build.gradle` content?\r\n\r\nThe error states that you have: `Illegal character in path at index 62`","title":"updated my gradle properties but now this java error pops up","body":"<p>Could you share your <code>build.gradle</code> content?</p>\n<p>The error states that you have: <code>Illegal character in path at index 62</code></p>\n"},{"comments":[{"owner":{"account_id":28581120,"reputation":1,"user_id":21882054,"display_name":"S R"},"score":1,"creation_date":1687260951,"post_id":76233957,"comment_id":134908886,"body_markdown":"I was able to replace the gradle -wrapper properties thank you","body":"I was able to replace the gradle -wrapper properties thank you"}],"tags":[],"owner":{"account_id":10271083,"reputation":61,"user_id":7579433,"display_name":"Kirill Levitskiy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683875729,"creation_date":1683875729,"answer_id":76233957,"question_id":76229338,"body_markdown":"Could you replace your `gradle-wrapper.properties` with the config below?\r\n\r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-all.zip\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\n```","title":"updated my gradle properties but now this java error pops up","body":"<p>Could you replace your <code>gradle-wrapper.properties</code> with the config below?</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-all.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n"}],"owner":{"account_id":28581120,"reputation":1,"user_id":21882054,"display_name":"S R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683875729,"creation_date":1683819235,"question_id":76229338,"body_markdown":"Exception in thread &quot;main&quot; java.lang.RuntimeException: Could not load wrapper properties from \r\n    \r\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:60)Caused by: java.net.URISyntaxException: Illegal character in path at index 62: \r\n        at java.base/java.net.URI$Parser.fail(Unknown Source)        at java.base/java.net.URI$Parser.checkChars(Unknown Source)\r\n        at java.base/java.net.URI$Parser.parseHierarchical(Unknown Source)        at java.base/java.net.URI$Parser.parse(Unknown Source)\r\n        at java.base/java.net.URI.&lt;init&gt;(Unknown So        at org.gradle.wrapper.WrapperExecutor.readDistroUrl(WrapperExecutor.java:81)        at org.gradle.wrapper.WrapperExecutor.prepareDistributionUri(WrapperExecutor.java:70)        at org.gradle.wrapper.WrapperExecutor.&lt;init&gt;(WrapperExecutor.java:57)        ... 2 more\r\n\r\n\r\n\r\n\r\nRunning Gradle task &#39;assembleDebug&#39;...                           2,141ms\r\nException: Gradle task assembleDebug failed with exit code 1\r\n Any thoughts or insight to fix please let me know\r\n\r\n\r\n\r\n\r\n\r\nI updated the gradle properties and this pops up now. I am new to flutter and I getting the packages from GitHub and try to make the app work","title":"updated my gradle properties but now this java error pops up","body":"<p>Exception in thread &quot;main&quot; java.lang.RuntimeException: Could not load wrapper properties from</p>\n<pre><code>    at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:60)Caused by: java.net.URISyntaxException: Illegal character in path at index 62: \n    at java.base/java.net.URI$Parser.fail(Unknown Source)        at java.base/java.net.URI$Parser.checkChars(Unknown Source)\n    at java.base/java.net.URI$Parser.parseHierarchical(Unknown Source)        at java.base/java.net.URI$Parser.parse(Unknown Source)\n    at java.base/java.net.URI.&lt;init&gt;(Unknown So        at org.gradle.wrapper.WrapperExecutor.readDistroUrl(WrapperExecutor.java:81)        at org.gradle.wrapper.WrapperExecutor.prepareDistributionUri(WrapperExecutor.java:70)        at org.gradle.wrapper.WrapperExecutor.&lt;init&gt;(WrapperExecutor.java:57)        ... 2 more\n</code></pre>\n<p>Running Gradle task 'assembleDebug'...                           2,141ms\nException: Gradle task assembleDebug failed with exit code 1\nAny thoughts or insight to fix please let me know</p>\n<p>I updated the gradle properties and this pops up now. I am new to flutter and I getting the packages from GitHub and try to make the app work</p>\n"},{"tags":["java","hibernate","caching","ehcache"],"comments":[{"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":2,"creation_date":1355871864,"post_id":13942814,"comment_id":19226532,"body_markdown":"It&#39;s not possible directly. What about using an external CRON trigger ([tag:quartz-scheduler]?) to clear that cache manually?","body":"It&#39;s not possible directly. What about using an external CRON trigger (<a href=\"https://stackoverflow.com/questions/tagged/quartz-scheduler\">quartz-scheduler</a>?) to clear that cache manually?"}],"answers":[{"tags":[],"owner":{"account_id":1745175,"reputation":7808,"user_id":1595578,"display_name":"jcern"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1355872513,"creation_date":1355872513,"answer_id":13943086,"question_id":13942814,"body_markdown":"EHCache only supports eviction after a certain period of time (either being in the cache or due to inactivity). However, you should be able to accomplish that fairly easily by scheduling the removal with something like this:\r\n\r\n        Timer t = new Timer(true);\r\n        Integer interval = 24 * 60 * 60 * 1000; //24 hours\r\n        Calendar c = Calendar.getInstance();\r\n        c.set(Calendar.HOUR, 0);\r\n        c.set(Calendar.MINUTE, 0);\r\n        c.set(Calendar.SECOND, 0);\r\n\r\n\r\n        t.scheduleAtFixedRate( new TimerTask() {\r\n                public void run() {\r\n                    Cache c = //retrieve cache                  \r\n                    c.removeAll();                                            \r\n                }\r\n            }, c.getTime(), interval);\r\n\r\n\r\nThis basic example uses the Java Timer class to illustrate, but any scheduler could be utilized. Every 24 hours, starting from midnight - this would run and remove all the elements from the specified cache. The actual `run` method could be modified to remove elements matching a certain criteria as well. \r\n\r\nYou&#39;d just need to make sure you start it when the application is started.","title":"ehcache based on date","body":"<p>EHCache only supports eviction after a certain period of time (either being in the cache or due to inactivity). However, you should be able to accomplish that fairly easily by scheduling the removal with something like this:</p>\n\n<pre><code>    Timer t = new Timer(true);\n    Integer interval = 24 * 60 * 60 * 1000; //24 hours\n    Calendar c = Calendar.getInstance();\n    c.set(Calendar.HOUR, 0);\n    c.set(Calendar.MINUTE, 0);\n    c.set(Calendar.SECOND, 0);\n\n\n    t.scheduleAtFixedRate( new TimerTask() {\n            public void run() {\n                Cache c = //retrieve cache                  \n                c.removeAll();                                            \n            }\n        }, c.getTime(), interval);\n</code></pre>\n\n<p>This basic example uses the Java Timer class to illustrate, but any scheduler could be utilized. Every 24 hours, starting from midnight - this would run and remove all the elements from the specified cache. The actual <code>run</code> method could be modified to remove elements matching a certain criteria as well. </p>\n\n<p>You'd just need to make sure you start it when the application is started.</p>\n"},{"comments":[{"owner":{"account_id":1469094,"reputation":11033,"user_id":1381093,"accept_rate":52,"display_name":"JackDev"},"score":0,"creation_date":1356074773,"post_id":13952527,"comment_id":19301190,"body_markdown":"That seems a really neat way of doing it. Can I do it with annotation? Or do I need to manually create the CacheManager. I&#39;m using it with Spring and Hibernate.","body":"That seems a really neat way of doing it. Can I do it with annotation? Or do I need to manually create the CacheManager. I&#39;m using it with Spring and Hibernate."},{"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"score":0,"creation_date":1356082595,"post_id":13952527,"comment_id":19303700,"body_markdown":"`Element` is a very basic concept of Ehcache, and has no direct relationships to `CacheManager`. Regarding annotations - I have no idea as I don&#39;t use annotations... If you&#39;d want to set expiration in annotation that&#39;s unlikely to be supported but you can always roll out your own extension which works the way you want.","body":"<code>Element</code> is a very basic concept of Ehcache, and has no direct relationships to <code>CacheManager</code>. Regarding annotations - I have no idea as I don&#39;t use annotations... If you&#39;d want to set expiration in annotation that&#39;s unlikely to be supported but you can always roll out your own extension which works the way you want."},{"owner":{"account_id":7749923,"reputation":563,"user_id":5866166,"accept_rate":60,"display_name":"Pavan"},"score":0,"creation_date":1637297626,"post_id":13952527,"comment_id":123794158,"body_markdown":"why can&#39;t we use *setTimeToLive()* while inserting the *Element* to cache. What is the need of creating *EvictOnGivenTimestampElement* class again?","body":"why can&#39;t we use <i>setTimeToLive()</i> while inserting the <i>Element</i> to cache. What is the need of creating <i>EvictOnGivenTimestampElement</i> class again?"}],"tags":[],"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1355920240,"creation_date":1355920240,"answer_id":13952527,"question_id":13942814,"body_markdown":"I&#39;ve done this by extending Ehcache&#39;s `Element` class like so:\r\n\r\n    class EvictOnGivenTimestampElement extends Element {\r\n\r\n        private static final long serialVersionUID = ...;\r\n        private final long evictOn;\r\n\r\n        EvictOnGivenTimestampElement(final Serializable key, final Serializable value, final long evictOn) {\r\n            super(key, value);\r\n            this.evictOn = evictOn;\r\n        }\r\n\r\n        @Override\r\n        public boolean isExpired() {\r\n            return System.currentTimeMillis() &gt; evictOn;\r\n        }\r\n    }\r\n\r\nThe rest is as easy as putting new instance of `EvictOnGivenTimestampElement` object into the cache instead of `Element`.\r\n\r\nAdvantage of this approach is that you don&#39;t have to worry about external cronjobs, etc. \r\nAnd the obvious disadvantage is the attachment to Ehcache API which I hope won&#39;t change too often.","title":"ehcache based on date","body":"<p>I've done this by extending Ehcache's <code>Element</code> class like so:</p>\n\n<pre><code>class EvictOnGivenTimestampElement extends Element {\n\n    private static final long serialVersionUID = ...;\n    private final long evictOn;\n\n    EvictOnGivenTimestampElement(final Serializable key, final Serializable value, final long evictOn) {\n        super(key, value);\n        this.evictOn = evictOn;\n    }\n\n    @Override\n    public boolean isExpired() {\n        return System.currentTimeMillis() &gt; evictOn;\n    }\n}\n</code></pre>\n\n<p>The rest is as easy as putting new instance of <code>EvictOnGivenTimestampElement</code> object into the cache instead of <code>Element</code>.</p>\n\n<p>Advantage of this approach is that you don't have to worry about external cronjobs, etc. \nAnd the obvious disadvantage is the attachment to Ehcache API which I hope won't change too often.</p>\n"},{"tags":[],"owner":{"account_id":1730590,"reputation":1263,"user_id":1584292,"display_name":"VeenarM"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1482021822,"creation_date":1482021822,"answer_id":41204472,"question_id":13942814,"body_markdown":"With Ehcache 3.2 I implemented an Expiry extension.\r\n\r\n        \r\n    public class EvictAtMidnightExpiry implements Expiry {\r\n        \r\n        @Override\r\n        public Duration getExpiryForCreation(Object key, Object value) {\r\n            DateTime now = new DateTime();\r\n            DateTime resetAt = now.plusDays(1).withTimeAtStartOfDay();\r\n            long difference = resetAt.toDateTime().getMillis() - now.getMillis();\r\n            return Duration.of(difference, TimeUnit.MILLISECONDS);\r\n        }\r\n    \r\n        @Override\r\n        public Duration getExpiryForAccess(Object key, ValueSupplier value) {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public Duration getExpiryForUpdate(Object key, ValueSupplier oldValue, Object newValue) {\r\n            return null;\r\n        }\r\n    }\r\n\r\nNow, I have logging etc as well but I minimalized my code for cleanness.\r\n\r\nThen you just need to configure it in your configuration builder.\r\n\r\n    CacheConfigurationBuilder.newCacheConfigurationBuilder(String.class, String.class, ResourcePoolsBuilder.heap(1000)).withExpiry(new EvictAtMidnightExpiry()).build()\r\n\r\nClearly Ehcache improved on there API&#39;s somewhat from 2.5 to 3.2 as you don&#39;t need to create your own &#39;element&#39; and ensure it&#39;s usage to initiate expiry or eviction policies. The policies are now cache bound.","title":"ehcache based on date","body":"<p>With Ehcache 3.2 I implemented an Expiry extension.</p>\n\n<pre><code>public class EvictAtMidnightExpiry implements Expiry {\n\n    @Override\n    public Duration getExpiryForCreation(Object key, Object value) {\n        DateTime now = new DateTime();\n        DateTime resetAt = now.plusDays(1).withTimeAtStartOfDay();\n        long difference = resetAt.toDateTime().getMillis() - now.getMillis();\n        return Duration.of(difference, TimeUnit.MILLISECONDS);\n    }\n\n    @Override\n    public Duration getExpiryForAccess(Object key, ValueSupplier value) {\n        return null;\n    }\n\n    @Override\n    public Duration getExpiryForUpdate(Object key, ValueSupplier oldValue, Object newValue) {\n        return null;\n    }\n}\n</code></pre>\n\n<p>Now, I have logging etc as well but I minimalized my code for cleanness.</p>\n\n<p>Then you just need to configure it in your configuration builder.</p>\n\n<pre><code>CacheConfigurationBuilder.newCacheConfigurationBuilder(String.class, String.class, ResourcePoolsBuilder.heap(1000)).withExpiry(new EvictAtMidnightExpiry()).build()\n</code></pre>\n\n<p>Clearly Ehcache improved on there API's somewhat from 2.5 to 3.2 as you don't need to create your own 'element' and ensure it's usage to initiate expiry or eviction policies. The policies are now cache bound.</p>\n"},{"tags":[],"owner":{"account_id":10012878,"reputation":327,"user_id":7405193,"display_name":"radicarl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683875474,"creation_date":1683875474,"answer_id":76233925,"question_id":13942814,"body_markdown":"Implementation for ehcache 3.8 without additional libraries using LocalTime:\r\n\r\n    import java.time.Duration;\r\n    import java.time.LocalTime;\r\n    import java.util.function.Supplier;\r\n    import org.ehcache.expiry.ExpiryPolicy;\r\n    \r\n    /**\r\n     * XML configuration example:\r\n     * &lt;pre&gt;\r\n     *   {@code\r\n     *   &lt;cache alias=&quot;...\r\n     *     &lt;expiry&gt;\r\n     *       &lt;class&gt;org.example.MidnightExpiry&lt;/class&gt;\r\n     *     &lt;/expiry&gt;\r\n     *   &lt;/cache&gt;\r\n     *   }\r\n     * &lt;/pre&gt;\r\n     */\r\n    public class MidnightExpiry implements ExpiryPolicy&lt;Object, Object&gt; {\r\n    \r\n      private static final LocalTime MIDNIGHT = LocalTime.of(23, 59, 59, 999999999);\r\n    \r\n      @Override\r\n      public Duration getExpiryForCreation(Object key, Object value) {\r\n        return Duration.between(LocalTime.now(), MIDNIGHT);\r\n      }\r\n      \r\n      @Override\r\n      public Duration getExpiryForAccess(Object key, Supplier value) {\r\n        // do not change expiry on access\r\n        return null;\r\n      }\r\n    \r\n      @Override\r\n      public Duration getExpiryForUpdate(Object key, Supplier oldValue, Object newValue) {\r\n        // do not change expiry on update\r\n        return null;\r\n      }\r\n    }","title":"ehcache based on date","body":"<p>Implementation for ehcache 3.8 without additional libraries using LocalTime:</p>\n<pre><code>import java.time.Duration;\nimport java.time.LocalTime;\nimport java.util.function.Supplier;\nimport org.ehcache.expiry.ExpiryPolicy;\n\n/**\n * XML configuration example:\n * &lt;pre&gt;\n *   {@code\n *   &lt;cache alias=&quot;...\n *     &lt;expiry&gt;\n *       &lt;class&gt;org.example.MidnightExpiry&lt;/class&gt;\n *     &lt;/expiry&gt;\n *   &lt;/cache&gt;\n *   }\n * &lt;/pre&gt;\n */\npublic class MidnightExpiry implements ExpiryPolicy&lt;Object, Object&gt; {\n\n  private static final LocalTime MIDNIGHT = LocalTime.of(23, 59, 59, 999999999);\n\n  @Override\n  public Duration getExpiryForCreation(Object key, Object value) {\n    return Duration.between(LocalTime.now(), MIDNIGHT);\n  }\n  \n  @Override\n  public Duration getExpiryForAccess(Object key, Supplier value) {\n    // do not change expiry on access\n    return null;\n  }\n\n  @Override\n  public Duration getExpiryForUpdate(Object key, Supplier oldValue, Object newValue) {\n    // do not change expiry on update\n    return null;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1469094,"reputation":11033,"user_id":1381093,"accept_rate":52,"display_name":"JackDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7028,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":13952527,"answer_count":4,"score":11,"last_activity_date":1683875474,"creation_date":1355871180,"question_id":13942814,"body_markdown":"I&#39;m working with ehcache 2.5.4.\r\n\r\nI have an object that needs to be cached through out the day and refreshed with a new value at 00:00am every day.\r\n\r\nCurrently with ehcache configurations I can only set the time to live and time to idle, but that will depend on the time I created the object or when it&#39;s used. ie:\r\n\r\n    \t&lt;cache\r\n\t\tname=&quot;cache.expiry.application.date_status&quot;\r\n\t\tmaxElementsInMemory=&quot;10&quot;\r\n\t\teternal=&quot;false&quot;\r\n\t\ttimeToIdleSeconds=&quot;60&quot;\r\n\t\ttimeToLiveSeconds=&quot;50&quot; /&gt;\r\n\r\nIs there a way to get ehcache to expire specific caches based on specific times.\r\n","title":"ehcache based on date","body":"<p>I'm working with ehcache 2.5.4.</p>\n\n<p>I have an object that needs to be cached through out the day and refreshed with a new value at 00:00am every day.</p>\n\n<p>Currently with ehcache configurations I can only set the time to live and time to idle, but that will depend on the time I created the object or when it's used. ie:</p>\n\n<pre><code>    &lt;cache\n    name=\"cache.expiry.application.date_status\"\n    maxElementsInMemory=\"10\"\n    eternal=\"false\"\n    timeToIdleSeconds=\"60\"\n    timeToLiveSeconds=\"50\" /&gt;\n</code></pre>\n\n<p>Is there a way to get ehcache to expire specific caches based on specific times.</p>\n"},{"tags":["java","spring-boot","multipartform-data","file-rename"],"comments":[{"owner":{"account_id":1540148,"reputation":1578,"user_id":1435014,"display_name":"Abhishek"},"score":0,"creation_date":1547544063,"post_id":54192937,"comment_id":95218505,"body_markdown":"What exception are getting while calling upload API, can you share that as well ?","body":"What exception are getting while calling upload API, can you share that as well ?"}],"answers":[{"comments":[{"owner":{"account_id":10189139,"reputation":471,"user_id":7523143,"display_name":"trumanblack1025"},"score":0,"creation_date":1547620098,"post_id":54195979,"comment_id":95248898,"body_markdown":"Does this mean that I don&#39;t have to use the store function anymore?","body":"Does this mean that I don&#39;t have to use the store function anymore?"}],"tags":[],"owner":{"account_id":1540148,"reputation":1578,"user_id":1435014,"display_name":"Abhishek"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1547544456,"creation_date":1547544456,"answer_id":54195979,"question_id":54192937,"body_markdown":"Below is working snippet with little modification here and there :\r\n\r\n    @PostMapping(value = &quot;/api/file/upload&quot;, headers = {&quot;content-type=multipart/*&quot;})\r\n    public @ResponseBody String uploadMultipartFile(@RequestParam(&quot;uploadfile&quot;) MultipartFile file) {\r\n        Path TO = Paths.get(&quot;/Users/myusername/Desktop/newfileName&quot;);\r\n        try {\r\n            try {\r\n                Files.copy(file.getInputStream(), TO);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;FAIL2! -&gt; message2 = &quot; + e.getMessage());\r\n            }\r\n            return &quot;File uploaded successfully! -&gt; filename = &quot; + file.getOriginalFilename();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;Error -&gt; message = &quot; + e.getMessage();\r\n        }\r\n    }\r\n**OutputScreen:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kNkoW.png","title":"Renaming the original file name of a Multipart file","body":"<p>Below is working snippet with little modification here and there :</p>\n\n<pre><code>@PostMapping(value = \"/api/file/upload\", headers = {\"content-type=multipart/*\"})\npublic @ResponseBody String uploadMultipartFile(@RequestParam(\"uploadfile\") MultipartFile file) {\n    Path TO = Paths.get(\"/Users/myusername/Desktop/newfileName\");\n    try {\n        try {\n            Files.copy(file.getInputStream(), TO);\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new RuntimeException(\"FAIL2! -&gt; message2 = \" + e.getMessage());\n        }\n        return \"File uploaded successfully! -&gt; filename = \" + file.getOriginalFilename();\n    } catch (Exception e) {\n        e.printStackTrace();\n        return \"Error -&gt; message = \" + e.getMessage();\n    }\n}\n</code></pre>\n\n<p><strong>OutputScreen:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/kNkoW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kNkoW.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4403145,"reputation":614,"user_id":3588217,"accept_rate":55,"display_name":"greenhorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683875212,"creation_date":1683875212,"answer_id":76233901,"question_id":54192937,"body_markdown":"Hope below code finds you well.\r\n\r\n    \r\n\r\n&gt; import java.nio.file.Path; \r\n\r\n&gt; import java.nio.file.Files;\r\n\r\n&gt; import org.springframework.web.multipart.MultipartFile;\r\n\r\n     MultipartFile file;//file which you get from the API Request\r\n     String newFileName = &quot;new_file_name&quot;\r\n     String targetDir = &quot;file_path&quot;\r\n     Path path = Paths.get(targetDir, newFileName);\r\n     Files.copy(file.getInputStream(), path);\r\n\r\n\r\n","title":"Renaming the original file name of a Multipart file","body":"<p>Hope below code finds you well.</p>\n<blockquote>\n<p>import java.nio.file.Path;</p>\n</blockquote>\n<blockquote>\n<p>import java.nio.file.Files;</p>\n</blockquote>\n<blockquote>\n<p>import org.springframework.web.multipart.MultipartFile;</p>\n</blockquote>\n<pre><code> MultipartFile file;//file which you get from the API Request\n String newFileName = &quot;new_file_name&quot;\n String targetDir = &quot;file_path&quot;\n Path path = Paths.get(targetDir, newFileName);\n Files.copy(file.getInputStream(), path);\n</code></pre>\n"}],"owner":{"account_id":10189139,"reputation":471,"user_id":7523143,"display_name":"trumanblack1025"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54195979,"answer_count":2,"score":1,"last_activity_date":1683875212,"creation_date":1547528648,"question_id":54192937,"body_markdown":"I have this code where I wanted to rename the before saving it to the file system. I tried other questions here in stack overflow but it doesn&#39;t apply for me. Hoping you could help me this is my code.\r\n\r\n    @PostMapping(&quot;/api/file/upload&quot;)\r\n    public @ResponseBody String uploadMultipartFile(@RequestParam(&quot;uploadfile&quot;) MultipartFile file) {\r\n            try {\r\n        \t\tfileStorage.store(file);\r\n    \t    \treturn &quot;File uploaded successfully! -&gt; filename = &quot; + file.getOriginalFilename();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\treturn &quot;Error -&gt; message = &quot; + e.getMessage();\r\n    \t\t}    \r\n    }\r\n\r\nThis is my store function:\r\n\r\n    @Override\r\n\tpublic void store(MultipartFile file){\r\n\t\ttry {\r\n            Files.copy(file.getInputStream(), this.rootLocation.resolve(file.getOriginalFilename()));\r\n        } catch (Exception e) {\r\n        \tthrow new RuntimeException(&quot;FAIL2! -&gt; message2 = &quot; + e.getMessage());\r\n        }\r\n\t}\r\n\r\n\r\n\r\n\r\nI tried renaming the original file but it doesn&#39;t work.\r\n\r\nHoping you could help me. Thank you so much!!!","title":"Renaming the original file name of a Multipart file","body":"<p>I have this code where I wanted to rename the before saving it to the file system. I tried other questions here in stack overflow but it doesn't apply for me. Hoping you could help me this is my code.</p>\n\n<pre><code>@PostMapping(\"/api/file/upload\")\npublic @ResponseBody String uploadMultipartFile(@RequestParam(\"uploadfile\") MultipartFile file) {\n        try {\n            fileStorage.store(file);\n            return \"File uploaded successfully! -&gt; filename = \" + file.getOriginalFilename();\n        } catch (Exception e) {\n            return \"Error -&gt; message = \" + e.getMessage();\n        }    \n}\n</code></pre>\n\n<p>This is my store function:</p>\n\n<pre><code>@Override\npublic void store(MultipartFile file){\n    try {\n        Files.copy(file.getInputStream(), this.rootLocation.resolve(file.getOriginalFilename()));\n    } catch (Exception e) {\n        throw new RuntimeException(\"FAIL2! -&gt; message2 = \" + e.getMessage());\n    }\n}\n</code></pre>\n\n<p>I tried renaming the original file but it doesn't work.</p>\n\n<p>Hoping you could help me. Thank you so much!!!</p>\n"},{"tags":["java","android","themes"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1611772300,"post_id":65925090,"comment_id":116560674,"body_markdown":"&quot;it is getting recreated&quot; -- change in dark mode is a configuration change, as is rotating the screen, changing the locale in Settings, entering or exiting split-screen mode, etc. Your app needs to be able to handle configuration changes. See [the documentation](https://developer.android.com/guide/topics/resources/runtime-changes).","body":"&quot;it is getting recreated&quot; -- change in dark mode is a configuration change, as is rotating the screen, changing the locale in Settings, entering or exiting split-screen mode, etc. Your app needs to be able to handle configuration changes. See <a href=\"https://developer.android.com/guide/topics/resources/runtime-changes\" rel=\"nofollow noreferrer\">the documentation</a>."},{"owner":{"account_id":17504146,"reputation":179,"user_id":12693743,"display_name":"prsnlme"},"score":0,"creation_date":1611773161,"post_id":65925090,"comment_id":116561087,"body_markdown":"I have implemented onConfigurationChanged method as is shown in the documentation. But, it doesn&#39;t handle the theme configuration change(Tested on MI 8).","body":"I have implemented onConfigurationChanged method as is shown in the documentation. But, it doesn&#39;t handle the theme configuration change(Tested on MI 8)."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1611773585,"post_id":65925090,"comment_id":116561274,"body_markdown":"Note that `onConfigurationChanged()` is only called if you have `android:configChanges` in the manifest entry and that the particular type of configuration change that you try is in the `android:configChanges` list. It is also possible that Xiaomi is doing something different than what we see in standard Android.","body":"Note that <code>onConfigurationChanged()</code> is only called if you have <code>android:configChanges</code> in the manifest entry and that the particular type of configuration change that you try is in the <code>android:configChanges</code> list. It is also possible that Xiaomi is doing something different than what we see in standard Android."}],"answers":[{"comments":[{"owner":{"account_id":17504146,"reputation":179,"user_id":12693743,"display_name":"prsnlme"},"score":1,"creation_date":1611772655,"post_id":65925194,"comment_id":116560838,"body_markdown":"However, I have several fragments inside my main activity. I shouldn&#39;t let dark theme recreate it, not only fragments and DialogFragments too.","body":"However, I have several fragments inside my main activity. I shouldn&#39;t let dark theme recreate it, not only fragments and DialogFragments too."}],"tags":[],"owner":{"account_id":20094764,"reputation":2497,"user_id":14734532,"display_name":"DrHowdyDoo"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1611772111,"creation_date":1611772111,"answer_id":65925194,"question_id":65925090,"body_markdown":"Don&#39;t stop the theme change instead store your data in viewModels. \r\n\r\nThe ViewModel class is designed to store and manage UI-related data in a lifecycle conscious way. The ViewModel class allows data to survive configuration changes such as screen rotations or theme change.\r\n\r\nHave a look : [viewModel][1]\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/viewmodel","title":"Avoid recreating activity when Dark theme was changed outside of app","body":"<p>Don't stop the theme change instead store your data in viewModels.</p>\n<p>The ViewModel class is designed to store and manage UI-related data in a lifecycle conscious way. The ViewModel class allows data to survive configuration changes such as screen rotations or theme change.</p>\n<p>Have a look : <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">viewModel</a></p>\n"},{"comments":[{"owner":{"account_id":309680,"reputation":4046,"user_id":622266,"accept_rate":60,"display_name":"Pawel Veselov"},"score":1,"creation_date":1668621723,"post_id":74413552,"comment_id":131452319,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/33166343)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/33166343\">From Review</a>"}],"tags":[],"owner":{"account_id":26068435,"reputation":21,"user_id":19768533,"display_name":"Tom"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681904644,"creation_date":1668261535,"answer_id":74413552,"question_id":65925090,"body_markdown":"Try the code below in Manifest file\r\n\r\n    &lt;application\r\n    android:allowBackup=&quot;true&quot;\r\n    android:icon=&quot;@mipmap/ic_launcher&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n    android:supportsRtl=&quot;true&quot;\r\n    android:theme=&quot;@style/AppTheme&quot;&gt;\r\n    &lt;activity android:name=&quot;.MainActivity&quot;\r\n        android:configChanges=&quot;uiMode&quot;&gt; //★★★★add this line★★★★\r\n\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n&lt;/application&gt;\r\n\r\n\r\nSources:\r\nhttps://proandroiddev.com/daynight-applying-dark-mode-without-recreating-your-app-c8a62d51092d ","title":"Avoid recreating activity when Dark theme was changed outside of app","body":"<p>Try the code below in Manifest file</p>\n<pre><code>&lt;application\nandroid:allowBackup=&quot;true&quot;\nandroid:icon=&quot;@mipmap/ic_launcher&quot;\nandroid:label=&quot;@string/app_name&quot;\nandroid:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\nandroid:supportsRtl=&quot;true&quot;\nandroid:theme=&quot;@style/AppTheme&quot;&gt;\n&lt;activity android:name=&quot;.MainActivity&quot;\n    android:configChanges=&quot;uiMode&quot;&gt; //★★★★add this line★★★★\n\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>Sources:\n<a href=\"https://proandroiddev.com/daynight-applying-dark-mode-without-recreating-your-app-c8a62d51092d\" rel=\"nofollow noreferrer\">https://proandroiddev.com/daynight-applying-dark-mode-without-recreating-your-app-c8a62d51092d</a></p>\n"}],"owner":{"account_id":17504146,"reputation":179,"user_id":12693743,"display_name":"prsnlme"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2010,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65925194,"answer_count":2,"score":3,"last_activity_date":1683875112,"creation_date":1611771740,"question_id":65925090,"body_markdown":"When the user changes the system theme from the notification menu, my activity getting recreated and data is loaded again, which is not my app&#39;s requirement. \r\n\r\nIs it possible to prevent a system theme change from affecting my application in this way?","title":"Avoid recreating activity when Dark theme was changed outside of app","body":"<p>When the user changes the system theme from the notification menu, my activity getting recreated and data is loaded again, which is not my app's requirement.</p>\n<p>Is it possible to prevent a system theme change from affecting my application in this way?</p>\n"},{"tags":["java","apache-flink","flink-streaming","flink-table-api"],"comments":[{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1683828744,"post_id":76228335,"comment_id":134430207,"body_markdown":"Do you have a fixed set of keys in advance, or is the key space dynamic? How many distinct keys might there be?","body":"Do you have a fixed set of keys in advance, or is the key space dynamic? How many distinct keys might there be?"},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1683828803,"post_id":76228335,"comment_id":134430222,"body_markdown":"Can you explain why you need separate, per-key tables? Perhaps there&#39;s a better way to achieve the ultimate goal.","body":"Can you explain why you need separate, per-key tables? Perhaps there&#39;s a better way to achieve the ultimate goal."},{"owner":{"account_id":23460519,"reputation":65,"user_id":17515437,"display_name":"Vinay Cheguri"},"score":0,"creation_date":1683856728,"post_id":76228335,"comment_id":134434262,"body_markdown":"key space is dynamic and it can be around a hundred. The use case is I&#39;m doing some ETL processing by doing keyBy using the tenant. So, I need a separate table for each tenant.","body":"key space is dynamic and it can be around a hundred. The use case is I&#39;m doing some ETL processing by doing keyBy using the tenant. So, I need a separate table for each tenant."},{"owner":{"account_id":23460519,"reputation":65,"user_id":17515437,"display_name":"Vinay Cheguri"},"score":0,"creation_date":1683871844,"post_id":76228335,"comment_id":134435772,"body_markdown":"Any suggestions on how to handle multi-tenancy in Flink while doing ETL processing? Which is suggested, running a separate job for each tenant or doing keyBy operation?","body":"Any suggestions on how to handle multi-tenancy in Flink while doing ETL processing? Which is suggested, running a separate job for each tenant or doing keyBy operation?"},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1684091010,"post_id":76228335,"comment_id":134462458,"body_markdown":"I don’t think there is one best answer to this question. There are lots of factors to consider.","body":"I don’t think there is one best answer to this question. There are lots of factors to consider."}],"owner":{"account_id":23460519,"reputation":65,"user_id":17515437,"display_name":"Vinay Cheguri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683874554,"creation_date":1683812762,"question_id":76228335,"body_markdown":"My requirement is to create separate tables for each key in two different data streams and then join them. I have successfully created two separate tables from the data streams in Flink and performed the join using table api. However, I am facing difficulty in creating separate tables for each key.\r\n\r\nIs there a way to create individual tables for each key in the data stream?\r\n\r\nI have followed [tutorial][1] to create tables from data streams, but I&#39;m not sure how to proceed with creating separate tables for each key. Any guidance or suggestions would be greatly appreciated.\r\n\r\nEdit: I am also interested in receiving suggestions and learning about best practices for managing multi-tenancy in Flink.\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/table/data_stream_api/","title":"Create separate Table for each key in Data Stream after doing keyBy operation in Flink","body":"<p>My requirement is to create separate tables for each key in two different data streams and then join them. I have successfully created two separate tables from the data streams in Flink and performed the join using table api. However, I am facing difficulty in creating separate tables for each key.</p>\n<p>Is there a way to create individual tables for each key in the data stream?</p>\n<p>I have followed <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/table/data_stream_api/\" rel=\"nofollow noreferrer\">tutorial</a> to create tables from data streams, but I'm not sure how to proceed with creating separate tables for each key. Any guidance or suggestions would be greatly appreciated.</p>\n<p>Edit: I am also interested in receiving suggestions and learning about best practices for managing multi-tenancy in Flink.</p>\n"},{"tags":["java","spring","spring-boot","properties-file","spring-context"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683782902,"post_id":76223453,"comment_id":134419949,"body_markdown":"Overridding works perfectly well, it doesn&#39;t work in this case due to `@ConfigurationProperties`. Which are processed very early in the startup process, before `@PropertySource` has been processed. If you want to load additional property files use the `spring.config.additional-location` property (command line property) to specify this and not `@PropertySource`.","body":"Overridding works perfectly well, it doesn&#39;t work in this case due to <code>@ConfigurationProperties</code>. Which are processed very early in the startup process, before <code>@PropertySource</code> has been processed. If you want to load additional property files use the <code>spring.config.additional-location</code> property (command line property) to specify this and not <code>@PropertySource</code>."},{"owner":{"account_id":9781391,"reputation":358,"user_id":7249306,"display_name":"Denis Abakumov"},"score":0,"creation_date":1683820692,"post_id":76223453,"comment_id":134428515,"body_markdown":"@M.Deinum, thanks for your comment. I created a separate branch to test your hypothesis. It appears, the @ConfigurationProperties has nothing to do with the early processing of `application.properties`. Even without this annotation, the same issue takes place: https://github.com/denisab85/spring-property-overriding/tree/NoConfigurationProperties","body":"@M.Deinum, thanks for your comment. I created a separate branch to test your hypothesis. It appears, the @ConfigurationProperties has nothing to do with the early processing of <code>application.properties</code>. Even without this annotation, the same issue takes place: <a href=\"https://github.com/denisab85/spring-property-overriding/tree/NoConfigurationProperties\" rel=\"nofollow noreferrer\">github.com/denisab85/spring-property-overriding/tree/&hellip;</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1683836634,"post_id":76223453,"comment_id":134431820,"body_markdown":"`application.properties` (+profiled) has &quot;slightly higher&quot; precedence than `@PropertySource` (3rd lowest vs. 2nd lowest precedence) due to https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config ..which makes it not a bug but rather a feature","body":"<code>application.properties</code> (+profiled) has &quot;slightly higher&quot; precedence than <code>@PropertySource</code> (3rd lowest vs. 2nd lowest precedence) due to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> ..which makes it not a bug but rather a feature"}],"answers":[{"comments":[{"owner":{"account_id":9781391,"reputation":358,"user_id":7249306,"display_name":"Denis Abakumov"},"score":0,"creation_date":1683907646,"post_id":76231245,"comment_id":134443649,"body_markdown":"Both proposed solutions work as described. One of them (using AdditionalConfigurationFilesAdder) I implemented in my demo: https://github.com/denisab85/spring-property-overriding/tree/With-AdditionalConfigurationFilesAdder\nThanks, M.Deinum","body":"Both proposed solutions work as described. One of them (using AdditionalConfigurationFilesAdder) I implemented in my demo: <a href=\"https://github.com/denisab85/spring-property-overriding/tree/With-AdditionalConfigurationFilesAdder\" rel=\"nofollow noreferrer\">github.com/denisab85/spring-property-overriding/tree/&hellip;</a> Thanks, M.Deinum"}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683874367,"creation_date":1683835278,"answer_id":76231245,"question_id":76223453,"body_markdown":"The problem is that you are using Spring Boot and not plain Spring. Which has certain, opinionated views. As I mentioned in my comment you shouldn&#39;t be using `@PropertySource` but specify the additional configuration files through `--spring.config.additional-locations` or (which I didn&#39;t mention) add them through an `EnvironmentPostProcessor`. \r\n\r\nIf you would inject the `Environment` into your test and obtain the `PropertySources` from it you can print them out to the console. You will then see the following. \r\n\r\n```\r\nConfigurationPropertySourcesPropertySource {name=&#39;configurationProperties&#39;}\r\nMapPropertySource {name=&#39;test&#39;}\r\nMapPropertySource {name=&#39;Inlined Test Properties&#39;}\r\nPropertiesPropertySource {name=&#39;systemProperties&#39;}\r\nOriginAwareSystemEnvironmentPropertySource {name=&#39;systemEnvironment&#39;}\r\nRandomValuePropertySource {name=&#39;random&#39;}\r\nOriginTrackedMapPropertySource {name=&#39;Config resource &#39;class path resource [application.properties]&#39; via location &#39;optional:classpath:/&#39;&#39;}\r\nResourcePropertySource {name=&#39;class path resource [override.properties]&#39;}\r\nResourcePropertySource {name=&#39;class path resource [app.properties]&#39;}\r\nResourcePropertySource {name=&#39;class path resource [application.properties]&#39;}\r\n```\r\n\r\nThis is, regardless of using `@ConfigurationProperties`. Spring Boot will always load the `application.properties` before anything else, so before the `@PropertySource`s in some `@Configuration` files (or where ever you choose to place them). So this file **always** takes precedence, due to Spring Boot. \r\n\r\nNow as I stated you can circumvent this by either specifying configuration locations at startup by adding `--spring.config.additional-location=classpath:app.properties,classpath:override.properties` if you do that the output will change to the following:\r\n\r\n```\r\nConfigurationPropertySourcesPropertySource {name=&#39;configurationProperties&#39;}\r\nMapPropertySource {name=&#39;test&#39;}\r\nMapPropertySource {name=&#39;Inlined Test Properties&#39;}\r\nSimpleCommandLinePropertySource {name=&#39;commandLineArgs&#39;}\r\nPropertiesPropertySource {name=&#39;systemProperties&#39;}\r\nOriginAwareSystemEnvironmentPropertySource {name=&#39;systemEnvironment&#39;}\r\nRandomValuePropertySource {name=&#39;random&#39;}\r\nOriginTrackedMapPropertySource {name=&#39;Config resource &#39;class path resource [override.properties]&#39; via location &#39;classpath:override.properties&#39;&#39;}\r\nOriginTrackedMapPropertySource {name=&#39;Config resource &#39;class path resource [app.properties]&#39; via location &#39;classpath:app.properties&#39;&#39;}\r\nOriginTrackedMapPropertySource {name=&#39;Config resource &#39;class path resource [application.properties]&#39; via location &#39;optional:classpath:/&#39;&#39;}\r\n```\r\n\r\nAnd now your tests will pass (and you will see the overrides will work). \r\n\r\nFinally you could also use an `EnvironmentPostProcessor` to add these files as property sources and have them load automatically by specifying it in a `spring.factories` file. \r\n\r\n```java\r\npackage com.example.springpropertyoverriding;\r\n\r\nimport java.io.IOException;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.env.EnvironmentPostProcessor;\r\nimport org.springframework.core.env.ConfigurableEnvironment;\r\nimport org.springframework.core.env.MutablePropertySources;\r\nimport org.springframework.core.io.support.ResourcePropertySource;\r\n\r\npublic class AdditionalConfigurationFilesAdder implements EnvironmentPostProcessor {\r\n\r\n\tprivate static final String[] locations =\r\n\t\t\tnew String[] { &quot;classpath:app.properties&quot;, &quot;classpath:override.properties&quot;};\r\n\r\n\t@Override\r\n\tpublic void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\r\n\t\tMutablePropertySources propertySources = environment.getPropertySources();\r\n\t\tfor (String location : locations) {\r\n\t\t\ttry {\r\n\t\t\t\tResourcePropertySource source = new ResourcePropertySource(location);\r\n\t\t\t\tpropertySources.addAfter(&quot;random&quot;, source);\r\n\t\t\t} catch (IOException ex) {\r\n\t\t\t\tthrow new IllegalStateException(ex);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nNow you can reference this in a `META-INF/spring.factories` file so that it will add the resources. \r\n\r\n```\r\norg.springframework.boot.env.EnvironmentPostProcessor=com.example.springpropertyoverriding.AdditionalConfigurationFilesAdder\r\n```\r\n\r\nAnd now again when running the tests the output will be (more or less) the same as with specifying `--spring.config.additional-location` and the tests will pass. \r\n\r\nYou have to realize the fact that you are using Spring Boot and that comes with some opinionated views on what to load when. The order is actually also explained in the [Spring Boot Documentation][1]. Which clearly shows that `application.properties` always takes precedence over `@PropertySource`. \r\n\r\n&gt; Spring Boot uses a very particular PropertySource order that is designed to allow sensible overriding of values. Later property sources can override the values defined in earlier ones. Sources are considered in the following order:\r\n&gt;\r\n&gt;1. Default properties (specified by setting `SpringApplication.setDefaultProperties`).\r\n&gt;2. `@PropertySource` annotations on your `@Configuration` classes. Please note that such property sources are not added to the `Environment` until the application context is being refreshed. This is too late to configure certain properties such as `logging.*` and `spring.main.*` which are read before refresh begins.\r\n&gt;3. Config data (such as application.properties files).\r\n&gt;4. A `RandomValuePropertySource` that has properties only in `random.*.`\r\n&gt;5. OS environment variables.\r\n&gt;6. Java System properties (System.getProperties()).\r\n&gt;7. JNDI attributes from `java:comp/env`.\r\n&gt;8. `ServletContext` init parameters.\r\n&gt;9. `ServletConfig` init parameters.\r\n&gt;10. Properties from `SPRING_APPLICATION_JSON` (inline JSON embedded in an environment variable or system property).\r\n&gt;11. Command line arguments.\r\n&gt;12.properties attribute on your tests. Available on `@SpringBootTest` and the test annotations for testing a particular slice of your application.\r\n&gt;13. `@TestPropertySource` annotations on your tests.\r\n&gt;14. Devtools global settings properties in the `$HOME/.config/spring-boot` directory when devtools is active.\r\n&gt;Config data files are considered in the following order:\r\n\r\n&gt;1. Application properties packaged inside your jar (`application.properties` and YAML variants).\r\n&gt;2. Profile-specific application properties packaged inside your jar (`application-{profile}.properties` and YAML variants).\r\n&gt;3. Application properties outside of your packaged jar (`application.properties` and YAML variants).\r\n&gt;4. Profile-specific application properties outside of your packaged jar (`application-{profile}.properties` and YAML variants).\r\n\r\nSo in short no it is not a bug it is described and intended behavior you are seeing when using Spring Boot. \r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config ","title":"@PropertySource doesn&#39;t override properties defined in application.properties","body":"<p>The problem is that you are using Spring Boot and not plain Spring. Which has certain, opinionated views. As I mentioned in my comment you shouldn't be using <code>@PropertySource</code> but specify the additional configuration files through <code>--spring.config.additional-locations</code> or (which I didn't mention) add them through an <code>EnvironmentPostProcessor</code>.</p>\n<p>If you would inject the <code>Environment</code> into your test and obtain the <code>PropertySources</code> from it you can print them out to the console. You will then see the following.</p>\n<pre><code>ConfigurationPropertySourcesPropertySource {name='configurationProperties'}\nMapPropertySource {name='test'}\nMapPropertySource {name='Inlined Test Properties'}\nPropertiesPropertySource {name='systemProperties'}\nOriginAwareSystemEnvironmentPropertySource {name='systemEnvironment'}\nRandomValuePropertySource {name='random'}\nOriginTrackedMapPropertySource {name='Config resource 'class path resource [application.properties]' via location 'optional:classpath:/''}\nResourcePropertySource {name='class path resource [override.properties]'}\nResourcePropertySource {name='class path resource [app.properties]'}\nResourcePropertySource {name='class path resource [application.properties]'}\n</code></pre>\n<p>This is, regardless of using <code>@ConfigurationProperties</code>. Spring Boot will always load the <code>application.properties</code> before anything else, so before the <code>@PropertySource</code>s in some <code>@Configuration</code> files (or where ever you choose to place them). So this file <strong>always</strong> takes precedence, due to Spring Boot.</p>\n<p>Now as I stated you can circumvent this by either specifying configuration locations at startup by adding <code>--spring.config.additional-location=classpath:app.properties,classpath:override.properties</code> if you do that the output will change to the following:</p>\n<pre><code>ConfigurationPropertySourcesPropertySource {name='configurationProperties'}\nMapPropertySource {name='test'}\nMapPropertySource {name='Inlined Test Properties'}\nSimpleCommandLinePropertySource {name='commandLineArgs'}\nPropertiesPropertySource {name='systemProperties'}\nOriginAwareSystemEnvironmentPropertySource {name='systemEnvironment'}\nRandomValuePropertySource {name='random'}\nOriginTrackedMapPropertySource {name='Config resource 'class path resource [override.properties]' via location 'classpath:override.properties''}\nOriginTrackedMapPropertySource {name='Config resource 'class path resource [app.properties]' via location 'classpath:app.properties''}\nOriginTrackedMapPropertySource {name='Config resource 'class path resource [application.properties]' via location 'optional:classpath:/''}\n</code></pre>\n<p>And now your tests will pass (and you will see the overrides will work).</p>\n<p>Finally you could also use an <code>EnvironmentPostProcessor</code> to add these files as property sources and have them load automatically by specifying it in a <code>spring.factories</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.springpropertyoverriding;\n\nimport java.io.IOException;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.env.EnvironmentPostProcessor;\nimport org.springframework.core.env.ConfigurableEnvironment;\nimport org.springframework.core.env.MutablePropertySources;\nimport org.springframework.core.io.support.ResourcePropertySource;\n\npublic class AdditionalConfigurationFilesAdder implements EnvironmentPostProcessor {\n\n    private static final String[] locations =\n            new String[] { &quot;classpath:app.properties&quot;, &quot;classpath:override.properties&quot;};\n\n    @Override\n    public void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\n        MutablePropertySources propertySources = environment.getPropertySources();\n        for (String location : locations) {\n            try {\n                ResourcePropertySource source = new ResourcePropertySource(location);\n                propertySources.addAfter(&quot;random&quot;, source);\n            } catch (IOException ex) {\n                throw new IllegalStateException(ex);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Now you can reference this in a <code>META-INF/spring.factories</code> file so that it will add the resources.</p>\n<pre><code>org.springframework.boot.env.EnvironmentPostProcessor=com.example.springpropertyoverriding.AdditionalConfigurationFilesAdder\n</code></pre>\n<p>And now again when running the tests the output will be (more or less) the same as with specifying <code>--spring.config.additional-location</code> and the tests will pass.</p>\n<p>You have to realize the fact that you are using Spring Boot and that comes with some opinionated views on what to load when. The order is actually also explained in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">Spring Boot Documentation</a>. Which clearly shows that <code>application.properties</code> always takes precedence over <code>@PropertySource</code>.</p>\n<blockquote>\n<p>Spring Boot uses a very particular PropertySource order that is designed to allow sensible overriding of values. Later property sources can override the values defined in earlier ones. Sources are considered in the following order:</p>\n<ol>\n<li>Default properties (specified by setting <code>SpringApplication.setDefaultProperties</code>).</li>\n<li><code>@PropertySource</code> annotations on your <code>@Configuration</code> classes. Please note that such property sources are not added to the <code>Environment</code> until the application context is being refreshed. This is too late to configure certain properties such as <code>logging.*</code> and <code>spring.main.*</code> which are read before refresh begins.</li>\n<li>Config data (such as application.properties files).</li>\n<li>A <code>RandomValuePropertySource</code> that has properties only in <code>random.*.</code></li>\n<li>OS environment variables.</li>\n<li>Java System properties (System.getProperties()).</li>\n<li>JNDI attributes from <code>java:comp/env</code>.</li>\n<li><code>ServletContext</code> init parameters.</li>\n<li><code>ServletConfig</code> init parameters.</li>\n<li>Properties from <code>SPRING_APPLICATION_JSON</code> (inline JSON embedded in an environment variable or system property).</li>\n<li>Command line arguments.\n12.properties attribute on your tests. Available on <code>@SpringBootTest</code> and the test annotations for testing a particular slice of your application.</li>\n<li><code>@TestPropertySource</code> annotations on your tests.</li>\n<li>Devtools global settings properties in the <code>$HOME/.config/spring-boot</code> directory when devtools is active.\nConfig data files are considered in the following order:</li>\n</ol>\n</blockquote>\n<blockquote>\n<ol>\n<li>Application properties packaged inside your jar (<code>application.properties</code> and YAML variants).</li>\n<li>Profile-specific application properties packaged inside your jar (<code>application-{profile}.properties</code> and YAML variants).</li>\n<li>Application properties outside of your packaged jar (<code>application.properties</code> and YAML variants).</li>\n<li>Profile-specific application properties outside of your packaged jar (<code>application-{profile}.properties</code> and YAML variants).</li>\n</ol>\n</blockquote>\n<p>So in short no it is not a bug it is described and intended behavior you are seeing when using Spring Boot.</p>\n"}],"owner":{"account_id":9781391,"reputation":358,"user_id":7249306,"display_name":"Denis Abakumov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":964,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76231245,"answer_count":1,"score":1,"last_activity_date":1683874367,"creation_date":1683766286,"question_id":76223453,"body_markdown":"If any property is defined in `application.properties`, it cannot be overridden by re-defining it in other `.properties` files using the `@PropertySource` annotation. This bug is only valid if the original value is present in `application.properties`. Any other file (e.g. `app.properties`) will allow to successfully override its values.\r\n\r\nE.g.:\r\n\r\n`application.properties`:\r\n\r\n```\r\ntest.application=original\r\n```\r\n\r\n`app.properties`:\r\n\r\n```\r\ntest.app=original\r\n```\r\n\r\n`override.properties`:\r\n\r\n```\r\ntest.application=overridden\r\ntest.app=overridden\r\n```\r\n\r\n`ApplicationPropertiesConfig.java`:\r\n\r\n```\r\nimport lombok.Data;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.PropertySource;\r\n\r\n@Configuration\r\n@Data\r\n@PropertySource(value = {\r\n        &quot;classpath:application.properties&quot;,\r\n        &quot;classpath:app.properties&quot;,\r\n        &quot;classpath:override.properties&quot;\r\n})\r\n@ConfigurationProperties(prefix = &quot;test&quot;)\r\npublic class ApplicationPropertiesConfig {\r\n\r\n    private String application;  // == &quot;original&quot;   (BAD)\r\n\r\n    private String app;          // == &quot;overridden&quot; (GOOD)\r\n\r\n}\r\n```\r\n\r\nIn the configuration above, the field `application` won&#39;t be overridden upon bean creation and will keep its original value defined in `application.properties`.\r\n\r\nThis was confirmed with the most recent Spring Boot versions: 2.7.11 and 3.0.6.\r\n\r\nThe same behavior is observed even if `application.properties` is not listed under `@PropertySource` or if the `@PropertySources` annotation is used.\r\n\r\nCode reproducing the issue is here: https://github.com/denisab85/spring-property-overriding\r\n\r\n&gt;! A known workaround is renaming `application.properties` to something else (e.g. `app.properties`). Overriding works normally then. But this will not work in my case due to the size of the project where many classes already rely on the default `application.properties`.\r\n&gt;!\r\n&gt;! Source: a comment by Maksim Muruev (mmuruev) in [@PropertySource not overriding in order \\[SPR-13500\\]](https://github.com/spring-projects/spring-framework/issues/18078#issuecomment-711850211).","title":"@PropertySource doesn&#39;t override properties defined in application.properties","body":"<p>If any property is defined in <code>application.properties</code>, it cannot be overridden by re-defining it in other <code>.properties</code> files using the <code>@PropertySource</code> annotation. This bug is only valid if the original value is present in <code>application.properties</code>. Any other file (e.g. <code>app.properties</code>) will allow to successfully override its values.</p>\n<p>E.g.:</p>\n<p><code>application.properties</code>:</p>\n<pre><code>test.application=original\n</code></pre>\n<p><code>app.properties</code>:</p>\n<pre><code>test.app=original\n</code></pre>\n<p><code>override.properties</code>:</p>\n<pre><code>test.application=overridden\ntest.app=overridden\n</code></pre>\n<p><code>ApplicationPropertiesConfig.java</code>:</p>\n<pre><code>import lombok.Data;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\n\n@Configuration\n@Data\n@PropertySource(value = {\n        &quot;classpath:application.properties&quot;,\n        &quot;classpath:app.properties&quot;,\n        &quot;classpath:override.properties&quot;\n})\n@ConfigurationProperties(prefix = &quot;test&quot;)\npublic class ApplicationPropertiesConfig {\n\n    private String application;  // == &quot;original&quot;   (BAD)\n\n    private String app;          // == &quot;overridden&quot; (GOOD)\n\n}\n</code></pre>\n<p>In the configuration above, the field <code>application</code> won't be overridden upon bean creation and will keep its original value defined in <code>application.properties</code>.</p>\n<p>This was confirmed with the most recent Spring Boot versions: 2.7.11 and 3.0.6.</p>\n<p>The same behavior is observed even if <code>application.properties</code> is not listed under <code>@PropertySource</code> or if the <code>@PropertySources</code> annotation is used.</p>\n<p>Code reproducing the issue is here: <a href=\"https://github.com/denisab85/spring-property-overriding\" rel=\"nofollow noreferrer\">https://github.com/denisab85/spring-property-overriding</a></p>\n<blockquote class=\"spoiler\">\n<p> A known workaround is renaming <code>application.properties</code> to something else (e.g. <code>app.properties</code>). Overriding works normally then. But this will not work in my case due to the size of the project where many classes already rely on the default <code>application.properties</code>.\n\n Source: a comment by Maksim Muruev (mmuruev) in <a href=\"https://github.com/spring-projects/spring-framework/issues/18078#issuecomment-711850211\" rel=\"nofollow noreferrer\">@PropertySource not overriding in order [SPR-13500]</a>.</p>\n</blockquote>\n"},{"tags":["c#","java","android"],"answers":[{"tags":[],"owner":{"account_id":91548,"reputation":251025,"user_id":251311,"accept_rate":97,"display_name":"zerkms"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1345881455,"creation_date":1345881455,"answer_id":12120235,"question_id":12120222,"body_markdown":"    class Panel : View\r\n    {\r\n        public Panel(Context context) : base(context)\r\n        {\r\n        }\r\n    }\r\n\r\n[MSDN: Using Constructors (C# Programming Guide)][1]\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/ms173115%28v=vs.100%29.aspx","title":"C# equivalent on java constructor","body":"<pre><code>class Panel : View\n{\n    public Panel(Context context) : base(context)\n    {\n    }\n}\n</code></pre>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/ms173115%28v=vs.100%29.aspx\" rel=\"noreferrer\">MSDN: Using Constructors (C# Programming Guide)</a></p>\n"},{"tags":[],"owner":{"account_id":220462,"reputation":177861,"user_id":477878,"display_name":"Joachim Isaksson"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1345881637,"creation_date":1345881637,"answer_id":12120257,"question_id":12120222,"body_markdown":"In C#, calling the base constructor is a bit more explicit (or rather explicitly separate)  \r\n\r\nWhile in Java it would look like just any statement that could be reordered with the other statements in the body, it&#39;s moved outside the normal constructor body in C#.\r\n\r\n    class Panel : View\r\n    {\r\n        public Panel(Context context) : base(context) { }\r\n    }","title":"C# equivalent on java constructor","body":"<p>In C#, calling the base constructor is a bit more explicit (or rather explicitly separate)  </p>\n\n<p>While in Java it would look like just any statement that could be reordered with the other statements in the body, it's moved outside the normal constructor body in C#.</p>\n\n<pre><code>class Panel : View\n{\n    public Panel(Context context) : base(context) { }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28355973,"reputation":11,"user_id":21686723,"display_name":"Sathasivam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683874132,"creation_date":1682578431,"answer_id":76117528,"question_id":12120222,"body_markdown":"The syntax for calling base class constructor in java is similar in c sharp. The main difference is the keyword `super` in Java, `base` in C# (with a colon).\r\n\r\nThese will call base class constructor to execute first then derived class\r\n\r\n    class Panel : View\r\n    {\r\n         public Panel(Context context) : base(context)\r\n         {\r\n             // ...\r\n         }\r\n    }","title":"C# equivalent on java constructor","body":"<p>The syntax for calling base class constructor in java is similar in c sharp. The main difference is the keyword <code>super</code> in Java, <code>base</code> in C# (with a colon).</p>\n<p>These will call base class constructor to execute first then derived class</p>\n<pre><code>class Panel : View\n{\n     public Panel(Context context) : base(context)\n     {\n         // ...\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":1750378,"reputation":1586,"user_id":1599611,"accept_rate":86,"display_name":"CodeAndWave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1760,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12120235,"answer_count":3,"score":3,"last_activity_date":1683874184,"creation_date":1345881306,"question_id":12120222,"body_markdown":"Not sure if my title is correct. Forgot what it is code. But here I will explain it through code.\r\n\r\nYou see in Java, you can declare a class like this:\r\n\r\n    class Panel extends View {\r\n    \r\n    \t\tpublic Bitmap mBitmap;\r\n    \r\n    \t\tpublic Panel(Context context) {\r\n    \t\t\tsuper(context);\r\n    \t\t}\r\n    }\r\n\r\nIn C#:\r\n\r\n    class Panel : View\r\n    {\r\n         public Panel(Context context)\r\n         {\r\n             base(context);\r\n         }\r\n    }\r\n\r\nit throws an error.\r\n\r\nHow do you declare a class constructor like that in C# ? ","title":"C# equivalent on java constructor","body":"<p>Not sure if my title is correct. Forgot what it is code. But here I will explain it through code.</p>\n<p>You see in Java, you can declare a class like this:</p>\n<pre><code>class Panel extends View {\n\n        public Bitmap mBitmap;\n\n        public Panel(Context context) {\n            super(context);\n        }\n}\n</code></pre>\n<p>In C#:</p>\n<pre><code>class Panel : View\n{\n     public Panel(Context context)\n     {\n         base(context);\n     }\n}\n</code></pre>\n<p>it throws an error.</p>\n<p>How do you declare a class constructor like that in C# ?</p>\n"},{"tags":["java","json","jackson","immutability"],"answers":[{"tags":[],"owner":{"account_id":2131065,"reputation":639,"user_id":1891891,"display_name":"Sylvain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1459265824,"creation_date":1459265824,"answer_id":36288822,"question_id":35461831,"body_markdown":"Ok so I respond to myself :)\r\n\r\nIt seems that it is not possible to do that using only Jackson. \r\n\r\nBecause I want immutability, I&#39;ve turned myself to the &#39;**immutables**&#39; framework: http://immutables.github.io/ \r\n\r\nWith a little configuration, it will deal with extra parameters as stated in the following report: https://github.com/immutables/immutables/issues/185.\r\n\r\nIn my situation, I&#39;ve got the following code:\r\n\r\n    @Value.Immutable\r\n    @JsonSerialize(as = ImmutableOperation.class)\r\n    @JsonDeserialize(as = ImmutableOperation.class)\r\n    public abstract class Operation {    \r\n\r\n      @JsonAnyGetter\r\n      @Value.Parameter\r\n      public abstract Map&lt;String, String&gt; extra();\r\n    }\r\n\r\nRefer to the documentation of immutables for the details.","title":"Serialize/deserialize immutable objects that carry extra informations with Jackson","body":"<p>Ok so I respond to myself :)</p>\n\n<p>It seems that it is not possible to do that using only Jackson. </p>\n\n<p>Because I want immutability, I've turned myself to the '<strong>immutables</strong>' framework: <a href=\"http://immutables.github.io/\" rel=\"nofollow\">http://immutables.github.io/</a> </p>\n\n<p>With a little configuration, it will deal with extra parameters as stated in the following report: <a href=\"https://github.com/immutables/immutables/issues/185\" rel=\"nofollow\">https://github.com/immutables/immutables/issues/185</a>.</p>\n\n<p>In my situation, I've got the following code:</p>\n\n<pre><code>@Value.Immutable\n@JsonSerialize(as = ImmutableOperation.class)\n@JsonDeserialize(as = ImmutableOperation.class)\npublic abstract class Operation {    \n\n  @JsonAnyGetter\n  @Value.Parameter\n  public abstract Map&lt;String, String&gt; extra();\n}\n</code></pre>\n\n<p>Refer to the documentation of immutables for the details.</p>\n"},{"tags":[],"owner":{"account_id":6402126,"reputation":1833,"user_id":4978865,"accept_rate":87,"display_name":"Praytic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657679653,"creation_date":1657679653,"answer_id":72960295,"question_id":35461831,"body_markdown":"If you want to deserialize immutable entity with extra arguments you can utilize builder pattern:\r\n\r\n    @JsonPOJOBuilder\r\n    public class OperationBuilder {\r\n        \r\n        private String _id;\r\n        \r\n        private String _state;\r\n        \r\n        private Map&lt;String, Object&gt; extra = new HashMap&lt;&gt;();\r\n        \r\n        @JsonAnySetter\r\n        public OperationBuilder addExtra(String key, Object value) {\r\n            this.extra.put(key,value);\r\n            return this;\r\n        }\r\n        \r\n        // setters....\r\n        \r\n        public Operation build() {\r\n            return new Operation(...arguments...)\r\n    }\r\n    \r\nAnd your original class should have this annotation on a class level:\r\n\r\n    @JsonDeserializer(builder = OperationBuilder.class)\r\n\r\nThis way all your known and unknown (extra) fields will be populated inside the builder and then Jackson will call `build()` method at the end of the deserialization.","title":"Serialize/deserialize immutable objects that carry extra informations with Jackson","body":"<p>If you want to deserialize immutable entity with extra arguments you can utilize builder pattern:</p>\n<pre><code>@JsonPOJOBuilder\npublic class OperationBuilder {\n    \n    private String _id;\n    \n    private String _state;\n    \n    private Map&lt;String, Object&gt; extra = new HashMap&lt;&gt;();\n    \n    @JsonAnySetter\n    public OperationBuilder addExtra(String key, Object value) {\n        this.extra.put(key,value);\n        return this;\n    }\n    \n    // setters....\n    \n    public Operation build() {\n        return new Operation(...arguments...)\n}\n</code></pre>\n<p>And your original class should have this annotation on a class level:</p>\n<pre><code>@JsonDeserializer(builder = OperationBuilder.class)\n</code></pre>\n<p>This way all your known and unknown (extra) fields will be populated inside the builder and then Jackson will call <code>build()</code> method at the end of the deserialization.</p>\n"},{"tags":[],"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683873472,"creation_date":1683873472,"answer_id":76233707,"question_id":35461831,"body_markdown":"Yes it is possible. An example is below. The key tricks are that\r\n* you can make the `@JsonAnySetter` method private\r\n* you can use any `Map` classes you like (choose an immutable one if you like)\r\n\r\nIt would be slightly prettier if the map could be marked as `@JsonSetter` in the creator constructor but this feature is not available yet. Discussed https://github.com/FasterXML/jackson-databind/issues/562.\r\n\r\n```java\r\n@JsonInclude(Include.NON_NULL)\r\n@JsonAutoDetect(fieldVisibility = Visibility.ANY, creatorVisibility = Visibility.ANY, setterVisibility = Visibility.ANY)\r\npublic static final class WithMap {\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    private String name;\r\n\r\n    @JsonAnyGetter\r\n    private Map&lt;String, String&gt; map;\r\n\r\n    @JsonCreator\r\n    public WithMap(@JsonProperty(&quot;name&quot;) String name) {\r\n        this.name = name;\r\n        this.map = new HashMap&lt;&gt;();\r\n    }\r\n    \r\n    public WithMap(String name, Map&lt;String, String&gt; map) {\r\n        this.name = name;\r\n        this.map = map;\r\n    }\r\n    \r\n    @JsonAnySetter\r\n    private void put(String key, String value) {\r\n        map.put(key, value);\r\n    }\r\n\r\n    public String name() {\r\n        return name;\r\n    }\r\n\r\n    public Map&lt;String, String&gt; map() {\r\n        return Collections.unmodifiableMap(map);\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s a junit test:\r\n```java\r\n@Test\r\npublic void testWithMap() throws JsonProcessingException {\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;nickname&quot;, &quot;fred&quot;);\r\n    map.put(&quot;suburb&quot;, &quot;crace&quot;);\r\n    WithMap a = new WithMap(&quot;alf&quot;, map);\r\n    String json = m.writeValueAsString(a);\r\n    JsonNode tree = m.readTree(json);\r\n\r\n    // ensure that map entries are top-level properties\r\n    assertEquals(&quot;alf&quot;, tree.get(&quot;name&quot;).asText());\r\n    assertEquals(&quot;fred&quot;, tree.get(&quot;nickname&quot;).asText());\r\n\r\n    WithMap b = m.readValue(json, WithMap.class);\r\n    assertEquals(&quot;alf&quot;, b.name);\r\n    assertEquals(&quot;fred&quot;, b.map.get(&quot;nickname&quot;));\r\n    assertEquals(&quot;crace&quot;, b.map.get(&quot;suburb&quot;));\r\n}\r\n```","title":"Serialize/deserialize immutable objects that carry extra informations with Jackson","body":"<p>Yes it is possible. An example is below. The key tricks are that</p>\n<ul>\n<li>you can make the <code>@JsonAnySetter</code> method private</li>\n<li>you can use any <code>Map</code> classes you like (choose an immutable one if you like)</li>\n</ul>\n<p>It would be slightly prettier if the map could be marked as <code>@JsonSetter</code> in the creator constructor but this feature is not available yet. Discussed <a href=\"https://github.com/FasterXML/jackson-databind/issues/562\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/562</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(Include.NON_NULL)\n@JsonAutoDetect(fieldVisibility = Visibility.ANY, creatorVisibility = Visibility.ANY, setterVisibility = Visibility.ANY)\npublic static final class WithMap {\n\n    @JsonProperty(&quot;name&quot;)\n    private String name;\n\n    @JsonAnyGetter\n    private Map&lt;String, String&gt; map;\n\n    @JsonCreator\n    public WithMap(@JsonProperty(&quot;name&quot;) String name) {\n        this.name = name;\n        this.map = new HashMap&lt;&gt;();\n    }\n    \n    public WithMap(String name, Map&lt;String, String&gt; map) {\n        this.name = name;\n        this.map = map;\n    }\n    \n    @JsonAnySetter\n    private void put(String key, String value) {\n        map.put(key, value);\n    }\n\n    public String name() {\n        return name;\n    }\n\n    public Map&lt;String, String&gt; map() {\n        return Collections.unmodifiableMap(map);\n    }\n}\n</code></pre>\n<p>Here's a junit test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testWithMap() throws JsonProcessingException {\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;nickname&quot;, &quot;fred&quot;);\n    map.put(&quot;suburb&quot;, &quot;crace&quot;);\n    WithMap a = new WithMap(&quot;alf&quot;, map);\n    String json = m.writeValueAsString(a);\n    JsonNode tree = m.readTree(json);\n\n    // ensure that map entries are top-level properties\n    assertEquals(&quot;alf&quot;, tree.get(&quot;name&quot;).asText());\n    assertEquals(&quot;fred&quot;, tree.get(&quot;nickname&quot;).asText());\n\n    WithMap b = m.readValue(json, WithMap.class);\n    assertEquals(&quot;alf&quot;, b.name);\n    assertEquals(&quot;fred&quot;, b.map.get(&quot;nickname&quot;));\n    assertEquals(&quot;crace&quot;, b.map.get(&quot;suburb&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":2131065,"reputation":639,"user_id":1891891,"display_name":"Sylvain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1560,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36288822,"answer_count":3,"score":2,"last_activity_date":1683873472,"creation_date":1455725097,"question_id":35461831,"body_markdown":"I try to use only immutables objects in my application. I&#39;ve got a REST service that will take arbitrary JSon objects as input. \r\n\r\nI&#39;ve a Java class that map theses objects, and I want to make them immutable + able to deal with extra parameters (just like using `@JsonAnySetter`).\r\n\r\nHere is my java class:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Operation {\r\n\r\n    private final String _id;\r\n\r\n    private final String state;\r\n\r\n    private final Map&lt;String, Object&gt; extra;\r\n\r\n    public Operation(String _id, String state, Map&lt;String,Object&gt; extra) {\r\n        this._id = _id;\r\n        this.state = state;\r\n        this.extra = extra;\r\n    }\r\n\r\n    // getters....\r\n    }\r\n\r\nUsing `@JsonAnySetter` I would have:\r\n\r\n    public class Operation {\r\n\r\n    private final String _id;\r\n\r\n    private final String state;\r\n\r\n    private Map&lt;String, Object&gt; extra = new HashMap&lt;&gt;();\r\n\r\n    public Operation(String _id, String state) {\r\n        this._id = _id;\r\n        this.state = state;\r\n    }\r\n\r\n    @JsonAnySetter\r\n    public void addExtra(String key, Object value) {\r\n        this.extra.put(key,value);\r\n    }\r\n\r\n    // getters....\r\n    }\r\n\r\nBut this is not immutable anymore !\r\n\r\nThis will not work because Jackson do not find any &quot;extra&quot; json attribute to read. I would like that everything that cannot be mapped be added to my map.\r\n\r\nAny idea of how to do this ? (or is it just possible :)\r\n\r\nNote: I use javac with -parameters option and the `ParameterNameModule` from jackson so that I don&#39;t need `@JsonCreator` option.\r\n","title":"Serialize/deserialize immutable objects that carry extra informations with Jackson","body":"<p>I try to use only immutables objects in my application. I've got a REST service that will take arbitrary JSon objects as input. </p>\n\n<p>I've a Java class that map theses objects, and I want to make them immutable + able to deal with extra parameters (just like using <code>@JsonAnySetter</code>).</p>\n\n<p>Here is my java class:\n</p>\n\n<pre><code>public class Operation {\n\nprivate final String _id;\n\nprivate final String state;\n\nprivate final Map&lt;String, Object&gt; extra;\n\npublic Operation(String _id, String state, Map&lt;String,Object&gt; extra) {\n    this._id = _id;\n    this.state = state;\n    this.extra = extra;\n}\n\n// getters....\n}\n</code></pre>\n\n<p>Using <code>@JsonAnySetter</code> I would have:</p>\n\n<pre><code>public class Operation {\n\nprivate final String _id;\n\nprivate final String state;\n\nprivate Map&lt;String, Object&gt; extra = new HashMap&lt;&gt;();\n\npublic Operation(String _id, String state) {\n    this._id = _id;\n    this.state = state;\n}\n\n@JsonAnySetter\npublic void addExtra(String key, Object value) {\n    this.extra.put(key,value);\n}\n\n// getters....\n}\n</code></pre>\n\n<p>But this is not immutable anymore !</p>\n\n<p>This will not work because Jackson do not find any \"extra\" json attribute to read. I would like that everything that cannot be mapped be added to my map.</p>\n\n<p>Any idea of how to do this ? (or is it just possible :)</p>\n\n<p>Note: I use javac with -parameters option and the <code>ParameterNameModule</code> from jackson so that I don't need <code>@JsonCreator</code> option.</p>\n"},{"tags":["java","arrays","return","arrayindexoutofboundsexception"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":5,"creation_date":1683802492,"post_id":76226815,"comment_id":134423854,"body_markdown":"return; will always end the method. But it must be reached first. and, indeed, there is no need to have return; as last statement. The only use case for which to add return statements in a void method, is to prevent the following statements to be executed","body":"return; will always end the method. But it must be reached first. and, indeed, there is no need to have return; as last statement. The only use case for which to add return statements in a void method, is to prevent the following statements to be executed"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1683803173,"post_id":76226815,"comment_id":134424005,"body_markdown":"When you say: &quot;Return values after the arrays don&#39;t work&quot; - this does not make sense. This is a `void` method. It __cannot__ return a value. Your question is unclear; it is likely that you are confused about a few concepts, which naturally means a bunch of things you state in your own terms in this question aren&#39;t understandable. I suggest you edit this question: Show some code (preferably, that compiles on its own), then show the error (exception, or compiler error - whatever the problem is). If no error, show what it outputs and show what you wanted it to output.","body":"When you say: &quot;Return values after the arrays don&#39;t work&quot; - this does not make sense. This is a <code>void</code> method. It <b>cannot</b> return a value. Your question is unclear; it is likely that you are confused about a few concepts, which naturally means a bunch of things you state in your own terms in this question aren&#39;t understandable. I suggest you edit this question: Show some code (preferably, that compiles on its own), then show the error (exception, or compiler error - whatever the problem is). If no error, show what it outputs and show what you wanted it to output."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1683805826,"post_id":76226815,"comment_id":134424588,"body_markdown":"Please use text instead of images. See https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question for more details on the reason.","body":"Please use text instead of images. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> for more details on the reason."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1683805946,"post_id":76226815,"comment_id":134424615,"body_markdown":"Unless this is an exercise to learn to program data validation, you should use Java library classes from package java.time https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html to work with dates and time.","body":"Unless this is an exercise to learn to program data validation, you should use Java library classes from package java.time <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a> to work with dates and time."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1683813656,"post_id":76226815,"comment_id":134426576,"body_markdown":"Note that _&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method_ is a warning from IntelliJ IDEA. It doesn&#39;t mean that your code is invalid - it just means that you can safely remove that specific return statement without changing the behaviour of the method. If the method is already complete then I would suggest to do so (because that means less code to read). If however the method is not completely implemented then ignore that warning for the moment - maybe you will later add some code that will let the warning disappear.","body":"Note that <i>&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method</i> is a warning from IntelliJ IDEA. It doesn&#39;t mean that your code is invalid - it just means that you can safely remove that specific return statement without changing the behaviour of the method. If the method is already complete then I would suggest to do so (because that means less code to read). If however the method is not completely implemented then ignore that warning for the moment - maybe you will later add some code that will let the warning disappear."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1683816382,"post_id":76226815,"comment_id":134427330,"body_markdown":"The message that you quote, *&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method.* usually is not an error, it’s a hint that you *may* leave out the `retun;` is you desire to. Some IDEs can be set up to flag this as an error and refuse to compile, but it’s unlikely that your IDE is, and if it is, you can search for its settings and change this particular one.","body":"The message that you quote, <i>&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method.</i> usually is not an error, it’s a hint that you <i>may</i> leave out the <code>retun;</code> is you desire to. Some IDEs can be set up to flag this as an error and refuse to compile, but it’s unlikely that your IDE is, and if it is, you can search for its settings and change this particular one."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1683821518,"post_id":76226815,"comment_id":134428726,"body_markdown":"You do not need to repeat the same comment 3 times. `return;` is how you do it. Which you are - that&#39;s not the problem. You&#39;re not going to get more useful answers unless you do what we ask you to do. Help us help you.","body":"You do not need to repeat the same comment 3 times. <code>return;</code> is how you do it. Which you are - that&#39;s not the problem. You&#39;re not going to get more useful answers unless you do what we ask you to do. Help us help you."},{"owner":{"account_id":23553613,"reputation":1,"user_id":17703968,"display_name":"DBG"},"score":0,"creation_date":1683821820,"post_id":76226815,"comment_id":134428805,"body_markdown":"@Stultuske to prevent executing them it&#39;s exactly what I want after a specific condition is true. I have to create some arrays so that I can check more conditions. If I create the queries just after the method declaration, ArrayhIndexOutOfBounds pops up as the array is empty at that time. If I create them after the first checkers, the compiler pops up a message that those return are unnecessary...","body":"@Stultuske to prevent executing them it&#39;s exactly what I want after a specific condition is true. I have to create some arrays so that I can check more conditions. If I create the queries just after the method declaration, ArrayhIndexOutOfBounds pops up as the array is empty at that time. If I create them after the first checkers, the compiler pops up a message that those return are unnecessary..."},{"owner":{"account_id":23553613,"reputation":1,"user_id":17703968,"display_name":"DBG"},"score":0,"creation_date":1683822182,"post_id":76226815,"comment_id":134428872,"body_markdown":"@ThomasKl&#228;ger I use the return statement for preventing more code to be executed and then printed on the console","body":"@ThomasKl&#228;ger I use the return statement for preventing more code to be executed and then printed on the console"},{"owner":{"account_id":23553613,"reputation":1,"user_id":17703968,"display_name":"DBG"},"score":1,"creation_date":1683822245,"post_id":76226815,"comment_id":134428887,"body_markdown":"@OleV.V.return in a void method just jumps up so that it prevents other code to be executed","body":"@OleV.V.return in a void method just jumps up so that it prevents other code to be executed"},{"owner":{"account_id":23553613,"reputation":1,"user_id":17703968,"display_name":"DBG"},"score":0,"creation_date":1683822361,"post_id":76226815,"comment_id":134428906,"body_markdown":"@rzwitserloot I want to jump out when a certain condition evaluates to true so that&#39;s why I use return. I know that a void method does not return anything but it jumps out as shown in the compiler.","body":"@rzwitserloot I want to jump out when a certain condition evaluates to true so that&#39;s why I use return. I know that a void method does not return anything but it jumps out as shown in the compiler."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1683824643,"post_id":76226815,"comment_id":134429420,"body_markdown":"I explained what is needed for us to answer you. Repeating yourself isn&#39;t getting us anywhere. I think you&#39;re beyond my didactic skills to help at this point, I&#39;m afraid.","body":"I explained what is needed for us to answer you. Repeating yourself isn&#39;t getting us anywhere. I think you&#39;re beyond my didactic skills to help at this point, I&#39;m afraid."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":1,"creation_date":1683828037,"post_id":76226815,"comment_id":134430081,"body_markdown":"The warning &quot; &#39;return&#39; is unnecessary&quot; is likely because of a `return` statement that you think is in an `if` branch, is not in reality. That could happen when you misplaced a curly brace somewhere, for example.","body":"The warning &quot; &#39;return&#39; is unnecessary&quot; is likely because of a <code>return</code> statement that you think is in an <code>if</code> branch, is not in reality. That could happen when you misplaced a curly brace somewhere, for example."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683838507,"post_id":76226815,"comment_id":134432170,"body_markdown":"Are you saying that your IDE is marking a `return` statement that is **not** at the end of the method with the message *&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method*?? That would be very weird.","body":"Are you saying that your IDE is marking a <code>return</code> statement that is <b>not</b> at the end of the method with the message <i>&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method</i>?? That would be very weird."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683838777,"post_id":76226815,"comment_id":134432206,"body_markdown":"BTW you also need to put the check `if (arrDiaHora.length != 2)` before `String diamesany = arrDiaHora[0];` to guard against `ArrayIndexOutOfBoundsException`.","body":"BTW you also need to put the check <code>if (arrDiaHora.length != 2)</code> before <code>String diamesany = arrDiaHora[0];</code> to guard against <code>ArrayIndexOutOfBoundsException</code>."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1683876281,"post_id":76226815,"comment_id":134436452,"body_markdown":"@DBG either they do prevent it, or your condition doesn&#39;t evaluate to true, meaning the return statement isn&#39;t reached. About your ArrayIndexOutOfBoundsException, this is a good read: https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it","body":"@DBG either they do prevent it, or your condition doesn&#39;t evaluate to true, meaning the return statement isn&#39;t reached. About your ArrayIndexOutOfBoundsException, this is a good read: <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\" title=\"what causes a java lang arrayindexoutofboundsexception and how do i prevent it\">stackoverflow.com/questions/5554734/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683838022,"post_id":76230311,"comment_id":134432087,"body_markdown":"Please, please don’t teach the young ones to use the long outdated and notoriously troublesome `SimpleDateFormat` class. At least not as the first option. And not without any reservation. We have so much better in [`java.time`, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/) and its `DateTimeFormatter`. I agree not to reinvent the wheel (except if as an exercise). Also your code will not give the validation that the OP’s code will, so is missing the point.","body":"Please, please don’t teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. At least not as the first option. And not without any reservation. We have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API,</a> and its <code>DateTimeFormatter</code>. I agree not to reinvent the wheel (except if as an exercise). Also your code will not give the validation that the OP’s code will, so is missing the point."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683838916,"post_id":76230311,"comment_id":134432237,"body_markdown":"The correct way to validate the string in a real-world program would be like `LocalDateTime.parse(data, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;))`.","body":"The correct way to validate the string in a real-world program would be like <code>LocalDateTime.parse(data, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;))</code>."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1683839534,"post_id":76230311,"comment_id":134432345,"body_markdown":"While I agree that `DateTimeFormatter` is better in some cases, it throws runtime exceptions when it fails to parse and introduces extra dependencies that may or may not be needed.  Since I don&#39;t know the purpose of the date he&#39;s handing over, I opted to use the formatter that forces the checked exception.  I&#39;ll update my answer in a bit to address these concerns and provide alternative solutions.","body":"While I agree that <code>DateTimeFormatter</code> is better in some cases, it throws runtime exceptions when it fails to parse and introduces extra dependencies that may or may not be needed.  Since I don&#39;t know the purpose of the date he&#39;s handing over, I opted to use the formatter that forces the checked exception.  I&#39;ll update my answer in a bit to address these concerns and provide alternative solutions."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683839923,"post_id":76230311,"comment_id":134432398,"body_markdown":"Sorry, I can’t make sense of your objections -- or maybe they were not meant as objections? You must handle the `DateTimeParseException` from `LocalDateTime.parse()`in exactly the same way as you handle `ParseException` in your code. What difference does it make that it’s a subclass of `RuntimeException`? And since Java 8 java.time is built in and carries no extra dependencies with it.","body":"Sorry, I can’t make sense of your objections -- or maybe they were not meant as objections? You must handle the <code>DateTimeParseException</code> from <code>LocalDateTime.parse()</code>in exactly the same way as you handle <code>ParseException</code> in your code. What difference does it make that it’s a subclass of <code>RuntimeException</code>? And since Java 8 java.time is built in and carries no extra dependencies with it."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1683841499,"post_id":76230311,"comment_id":134432657,"body_markdown":"I was not making objections.  Your points were valid.  I simply stated that we don&#39;t know the use case for this.  I had provided one alternative, and now I&#39;ve provided several.  Hopefully this is enough to get @DBG moving in the right direction.","body":"I was not making objections.  Your points were valid.  I simply stated that we don&#39;t know the use case for this.  I had provided one alternative, and now I&#39;ve provided several.  Hopefully this is enough to get @DBG moving in the right direction."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683858522,"post_id":76230311,"comment_id":134434396,"body_markdown":"Fine. Option 1 is still very strongly discouraged unless the OP is forced to use Java 1.5 or earlier (extremely unlikely). I don’t see the point in including it and would at the very leat put it last. Option 5 can produce the `ArrayIndexOutOfBoundsException` that the OP has already observed and said that they don’t want. I still consider option 3 the best unless this is for an exercise where the requirements forbid it. Also without knowing more about the use case. I have retracted my downvote.","body":"Fine. Option 1 is still very strongly discouraged unless the OP is forced to use Java 1.5 or earlier (extremely unlikely). I don’t see the point in including it and would at the very leat put it last. Option 5 can produce the <code>ArrayIndexOutOfBoundsException</code> that the OP has already observed and said that they don’t want. I still consider option 3 the best unless this is for an exercise where the requirements forbid it. Also without knowing more about the use case. I have retracted my downvote."}],"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683858156,"creation_date":1683826894,"answer_id":76230311,"question_id":76226815,"body_markdown":"It looks like you are trying to split a string that contains a date.  Possibly something like this.  `2023-05-11 12:25:32`.\r\n\r\nRather than trying to reinvent the wheel, check out some of these other options.\r\n\r\n# Option 1: SimpleDateFormat\r\n\r\nWhy not use `SimpleDateFormat` to do the job for you?  This method has been around since the beginning and does the job pretty well. \r\n `SimpleDateFormat` will attempt to parse the date based on a pattern you define.  If it fails to parse, it will throw a checked exception.\r\n\r\n```java\r\npublic static void validar(String data)\r\n{\r\n  DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd h:mm:ss&quot;);\r\n  try \r\n  {\r\n    format.parse(data);\r\n  } \r\n  catch (ParseException e) \r\n  {\r\n    System.out.println(e.getMessage());\r\n    System.out.println(&quot;El format de la data &#233;s incorrecte. Comproveu que la data coincideixi amb el format correcte &quot; +\r\n      &quot;de \\&quot;AAAA-MM-DD hh:mm:ss\\&quot;&quot;);\r\n  }\r\n}\r\n```\r\nThis way you don&#39;t need to worry about all of the complicated logic.  Instead, you try to parse the date, and if your parse fails, then the date fails validation.\r\n\r\n# Option 2: Simple Regex\r\n\r\nIf you aren&#39;t concerned with the numbers actually corresponding to a valid date, and just that they match the format you expect, than you can accomplish this via simple pattern matching.\r\n```java\r\n  public static void validarRegex(String data)\r\n  {\r\n    Pattern pattern = Pattern.compile(&quot;^\\\\d{4}\\\\-\\\\d{2}\\\\-\\\\d{2} \\\\d{2}:\\\\d{2}:\\\\d{2}$&quot;);\r\n    if (!data.matches(pattern.pattern())) {\r\n      System.out.println(data);\r\n      System.out.println(&quot;El format de la data &#233;s incorrecte. Comproveu que la data coincideixi amb el format &quot; +\r\n        &quot;correcte &quot; + &quot;de \\&quot;AAAA-MM-DD hh:mm:ss\\&quot;&quot;);\r\n    }\r\n  }\r\n```\r\n\r\n# Option 3: DateTimeFormatter\r\n\r\nAs user Ole V.V. pointed out, you can also use the updated `DateTimeFormatter` to parse the string as well.  A word of warning here.  The `DateTimeFormatter` throws an unchecked exception, so you should be prepared for this behavior.  My example below does not catch the exception.  You can catch it here, or higher up the chain if you choose.\r\n\r\n```java\r\n  public static void validar(String data)\r\n  {\r\n    System.out.println(data);\r\n    LocalDateTime.parse(data, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;));\r\n  }\r\n```\r\n\r\n# Option 4:  Complex Regex\r\n\r\nI don&#39;t recommend this, because it&#39;s nearly impossible to get a good check due to things like leap years.  However, if you want to give it a go, there are [plenty of examples floating around](https://stackoverflow.com/a/15504877/6860078).\r\n\r\n# Option 5:  String parsing\r\n\r\nThis is essentially what you are already doing, but a bit more concise.\r\n\r\n```java\r\npublic static void validate(String data)\r\n{\r\n  System.out.println(data);\r\n\r\n  if (isValidDate(data)) {\r\n    String[] arrDiaHora = data.split(&quot; &quot;);\r\n    String diamesany = arrDiaHora[0];\r\n    String horaminutsegon = arrDiaHora[1];\r\n\r\n    String[] arrDiaMesAny = diamesany.split(&quot;-&quot;);\r\n    String strany = arrDiaMesAny[0];\r\n    String strmes = arrDiaMesAny[1];\r\n    String strdia = arrDiaMesAny[2];\r\n\r\n    String[] arrHoraMinutSegon = horaminutsegon.split(&quot;:&quot;);\r\n    String strhora = arrHoraMinutSegon[0];\r\n    String strminut = arrHoraMinutSegon[1];\r\n    String strsegon = arrHoraMinutSegon[2];\r\n\r\n    if (arrDiaHora.length != 2) {\r\n      System.out.println(&quot;No hi ha dos blocs formats per data i temps&quot;);\r\n      System.out.println(&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n    }\r\n  }\r\n}\r\n\r\npublic static boolean isValidDate(String data)\r\n{\r\n  boolean valid = true;\r\n  if (!data.contains(&quot; &quot;)) {\r\n    invalidData(&quot;No hi ha separaci&#243; entre data i temps&quot;);\r\n    valid = false;\r\n  }\r\n  else if (!data.contains(&quot;-&quot;)) {\r\n    invalidData(&quot;La data no cont&#233; un guions&quot;);\r\n    valid = false;\r\n  }\r\n  else if (!data.contains(&quot;:&quot;)) {\r\n    invalidData(&quot;El temps de la data no cont&#233; :&#39;s&quot;);\r\n    valid = false;\r\n  }\r\n  return valid;\r\n}\r\n\r\npublic static void invalidData(String message)\r\n{\r\n  System.out.println(message);\r\n  System.out.println(&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n}\r\n```","title":"Return keyword in void method not always working JAVA","body":"<p>It looks like you are trying to split a string that contains a date.  Possibly something like this.  <code>2023-05-11 12:25:32</code>.</p>\n<p>Rather than trying to reinvent the wheel, check out some of these other options.</p>\n<h1>Option 1: SimpleDateFormat</h1>\n<p>Why not use <code>SimpleDateFormat</code> to do the job for you?  This method has been around since the beginning and does the job pretty well.\n<code>SimpleDateFormat</code> will attempt to parse the date based on a pattern you define.  If it fails to parse, it will throw a checked exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void validar(String data)\n{\n  DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd h:mm:ss&quot;);\n  try \n  {\n    format.parse(data);\n  } \n  catch (ParseException e) \n  {\n    System.out.println(e.getMessage());\n    System.out.println(&quot;El format de la data és incorrecte. Comproveu que la data coincideixi amb el format correcte &quot; +\n      &quot;de \\&quot;AAAA-MM-DD hh:mm:ss\\&quot;&quot;);\n  }\n}\n</code></pre>\n<p>This way you don't need to worry about all of the complicated logic.  Instead, you try to parse the date, and if your parse fails, then the date fails validation.</p>\n<h1>Option 2: Simple Regex</h1>\n<p>If you aren't concerned with the numbers actually corresponding to a valid date, and just that they match the format you expect, than you can accomplish this via simple pattern matching.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void validarRegex(String data)\n  {\n    Pattern pattern = Pattern.compile(&quot;^\\\\d{4}\\\\-\\\\d{2}\\\\-\\\\d{2} \\\\d{2}:\\\\d{2}:\\\\d{2}$&quot;);\n    if (!data.matches(pattern.pattern())) {\n      System.out.println(data);\n      System.out.println(&quot;El format de la data és incorrecte. Comproveu que la data coincideixi amb el format &quot; +\n        &quot;correcte &quot; + &quot;de \\&quot;AAAA-MM-DD hh:mm:ss\\&quot;&quot;);\n    }\n  }\n</code></pre>\n<h1>Option 3: DateTimeFormatter</h1>\n<p>As user Ole V.V. pointed out, you can also use the updated <code>DateTimeFormatter</code> to parse the string as well.  A word of warning here.  The <code>DateTimeFormatter</code> throws an unchecked exception, so you should be prepared for this behavior.  My example below does not catch the exception.  You can catch it here, or higher up the chain if you choose.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void validar(String data)\n  {\n    System.out.println(data);\n    LocalDateTime.parse(data, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;));\n  }\n</code></pre>\n<h1>Option 4:  Complex Regex</h1>\n<p>I don't recommend this, because it's nearly impossible to get a good check due to things like leap years.  However, if you want to give it a go, there are <a href=\"https://stackoverflow.com/a/15504877/6860078\">plenty of examples floating around</a>.</p>\n<h1>Option 5:  String parsing</h1>\n<p>This is essentially what you are already doing, but a bit more concise.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void validate(String data)\n{\n  System.out.println(data);\n\n  if (isValidDate(data)) {\n    String[] arrDiaHora = data.split(&quot; &quot;);\n    String diamesany = arrDiaHora[0];\n    String horaminutsegon = arrDiaHora[1];\n\n    String[] arrDiaMesAny = diamesany.split(&quot;-&quot;);\n    String strany = arrDiaMesAny[0];\n    String strmes = arrDiaMesAny[1];\n    String strdia = arrDiaMesAny[2];\n\n    String[] arrHoraMinutSegon = horaminutsegon.split(&quot;:&quot;);\n    String strhora = arrHoraMinutSegon[0];\n    String strminut = arrHoraMinutSegon[1];\n    String strsegon = arrHoraMinutSegon[2];\n\n    if (arrDiaHora.length != 2) {\n      System.out.println(&quot;No hi ha dos blocs formats per data i temps&quot;);\n      System.out.println(&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n    }\n  }\n}\n\npublic static boolean isValidDate(String data)\n{\n  boolean valid = true;\n  if (!data.contains(&quot; &quot;)) {\n    invalidData(&quot;No hi ha separació entre data i temps&quot;);\n    valid = false;\n  }\n  else if (!data.contains(&quot;-&quot;)) {\n    invalidData(&quot;La data no conté un guions&quot;);\n    valid = false;\n  }\n  else if (!data.contains(&quot;:&quot;)) {\n    invalidData(&quot;El temps de la data no conté :'s&quot;);\n    valid = false;\n  }\n  return valid;\n}\n\npublic static void invalidData(String message)\n{\n  System.out.println(message);\n  System.out.println(&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683873408,"creation_date":1683873408,"answer_id":76233702,"question_id":76226815,"body_markdown":"The other answer nicely describes better ways to validate dates.\r\n\r\nIMHO it fails to address your concern: why does IntelliJ IDEA report &quot;**&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method.**&quot; on some of your return statements?\r\n\r\nTo explain that, I simplified your example to this:\r\n\r\n    public static void validar(int n) {\r\n        System.out.println(n);\r\n\r\n        if (n == 3) {\r\n            System.out.println(&quot;a&quot;);\r\n            return;  // Note 1\r\n        } else if (n == 5) {\r\n            System.out.println(&quot;b&quot;);\r\n            return;  // Note 1\r\n        }\r\n\r\n        int x = n * n;\r\n\r\n        if (x == 4) {\r\n            System.out.println(&quot;c&quot;);\r\n            return;  // Note 2\r\n        } else if (x == 16) {\r\n            System.out.println(&quot;c&quot;);\r\n            return;  // Note 2\r\n        }\r\n   }\r\n\r\nI&#39;ve added two notices to the return statements:\r\n\r\nNote 1: the `return;` statements at these places is needed to exit early from the method. Without these `return;` statements the rest of the method would also execute. Accordingly there is no report from IntelliJ IDEA at these\r\n\r\nNote 2: there are no more statements that could possibly be executed after these `return;` statements. They are therefore unnecessary. They are the last statements in the branches of an `if` - `else if` chain and there are no more statements after that chain. That means that execution of the method ends after executing the preceding statement anyway. For these `return;` statements IntelliJ IDEA reports &quot;**&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method.**&quot;.\r\n\r\nPlease note that this is an informational message: its intention is to help you write better (cleaner) code. It doesn&#39;t mean that your code is faulty (i.e. it doesn&#39;t mean your code will not compile or will have bugs in it.)\r\n\r\nYou can change that simplified code (without changing its observable behaviour) to\r\n\r\n    public static void validar(int n) {\r\n        System.out.println(n);\r\n\r\n        if (n == 3) {\r\n            System.out.println(&quot;a&quot;);\r\n            return;  // Note 1\r\n        } else if (n == 5) {\r\n            System.out.println(&quot;b&quot;);\r\n            return;  // Note 1\r\n        }\r\n\r\n        int x = n * n;\r\n\r\n        if (x == 4) {\r\n            System.out.println(&quot;c&quot;);\r\n        } else if (x == 16) {\r\n            System.out.println(&quot;c&quot;);\r\n        }\r\n   }\r\n","title":"Return keyword in void method not always working JAVA","body":"<p>The other answer nicely describes better ways to validate dates.</p>\n<p>IMHO it fails to address your concern: why does IntelliJ IDEA report &quot;<strong>'return' is unnecessary as the last statement in a 'void' method.</strong>&quot; on some of your return statements?</p>\n<p>To explain that, I simplified your example to this:</p>\n<pre><code>public static void validar(int n) {\n    System.out.println(n);\n\n    if (n == 3) {\n        System.out.println(&quot;a&quot;);\n        return;  // Note 1\n    } else if (n == 5) {\n        System.out.println(&quot;b&quot;);\n        return;  // Note 1\n    }\n\n    int x = n * n;\n\n    if (x == 4) {\n        System.out.println(&quot;c&quot;);\n        return;  // Note 2\n    } else if (x == 16) {\n        System.out.println(&quot;c&quot;);\n        return;  // Note 2\n    }\n</code></pre>\n<p>}</p>\n<p>I've added two notices to the return statements:</p>\n<p>Note 1: the <code>return;</code> statements at these places is needed to exit early from the method. Without these <code>return;</code> statements the rest of the method would also execute. Accordingly there is no report from IntelliJ IDEA at these</p>\n<p>Note 2: there are no more statements that could possibly be executed after these <code>return;</code> statements. They are therefore unnecessary. They are the last statements in the branches of an <code>if</code> - <code>else if</code> chain and there are no more statements after that chain. That means that execution of the method ends after executing the preceding statement anyway. For these <code>return;</code> statements IntelliJ IDEA reports &quot;<strong>'return' is unnecessary as the last statement in a 'void' method.</strong>&quot;.</p>\n<p>Please note that this is an informational message: its intention is to help you write better (cleaner) code. It doesn't mean that your code is faulty (i.e. it doesn't mean your code will not compile or will have bugs in it.)</p>\n<p>You can change that simplified code (without changing its observable behaviour) to</p>\n<pre><code>public static void validar(int n) {\n    System.out.println(n);\n\n    if (n == 3) {\n        System.out.println(&quot;a&quot;);\n        return;  // Note 1\n    } else if (n == 5) {\n        System.out.println(&quot;b&quot;);\n        return;  // Note 1\n    }\n\n    int x = n * n;\n\n    if (x == 4) {\n        System.out.println(&quot;c&quot;);\n    } else if (x == 16) {\n        System.out.println(&quot;c&quot;);\n    }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":23553613,"reputation":1,"user_id":17703968,"display_name":"DBG"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1683873408,"creation_date":1683802230,"question_id":76226815,"body_markdown":"I am coding with Java a function that checks if a date it&#39;s ok or not and want to jump up of the method if some condition is executed. \r\nI&#39;ve read a similar question but hasn&#39;t the same trouble as it occurs in general and that&#39;s not what I want to ask.\r\n\r\n```\r\npublic static void validar(String data) {\r\n\r\n        System.out.println (data);\r\n\r\n        if (data.indexOf(&quot; &quot;) == -1) {\r\n            System.out.println (&quot;No hi ha separaci&#243; entre data i temps&quot;);\r\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n            return;\r\n        }\r\n        else if (data.indexOf(&quot;-&quot;) == -1) {\r\n            System.out.println (&quot;La data no cont&#233; un guions&quot;);\r\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n            return;\r\n        }\r\n        else if (data.indexOf(&quot;:&quot;) == -1) {\r\n            System.out.println (&quot;El temps de la data no cont&#233; :&#39;s&quot;);\r\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n            return;\r\n        }\r\n\r\n        ...\r\n```\r\nIt all works when done like this it:\r\n```\r\n2023-01-17 17:05:26\r\nData correcta\r\n\r\n2023-01-1717:05:26\r\nNo hi ha separaci&#243; entre data i temps\r\nData incorrecta\r\n\r\n2023/01-17 17.05.26\r\nEl temps de la data no cont&#233; :&#39;s\r\nData incorrecta\r\n\r\n2023-01-17 17.05.26\r\nEl temps de la data no cont&#233; :&#39;s\r\nData incorrecta\r\n```\r\n\r\nHave other conditions to check related to the date (if the date&#39;s length is 3 and the same for the time and much more) so I&#39;ve created some array.\r\n\r\nIf I create them in the middle of the conditions like:\r\n```\r\nif (data.indexOf(&quot; &quot;) == -1) {\r\n            System.out.println (&quot;No hi ha separaci&#243; entre data i temps&quot;);\r\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n            return;\r\n        }\r\n        else if (data.indexOf(&quot;-&quot;) == -1) {\r\n            System.out.println (&quot;La data no cont&#233; un guions&quot;);\r\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n            return;\r\n        }\r\n        else if (data.indexOf(&quot;:&quot;) == -1) {\r\n            System.out.println (&quot;El temps de la data no cont&#233; :&#39;s&quot;);\r\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n            return;\r\n        }\r\n\r\n        String[] arrDiaHora = data.split(&quot; &quot;);\r\n        String diamesany = arrDiaHora[0];\r\n        String horaminutsegon = arrDiaHora[1];\r\n\r\n        String[] arrDiaMesAny = diamesany.split(&quot;-&quot;);\r\n        String strany = arrDiaMesAny[0];\r\n        String strmes = arrDiaMesAny[1];\r\n        String strdia = arrDiaMesAny[2];\r\n\r\n        String[] arrHoraMinutSegon = horaminutsegon.split(&quot;:&quot;);\r\n        String strhora = arrHoraMinutSegon[0];\r\n        String strminut = arrHoraMinutSegon[1];\r\n        String strsegon = arrHoraMinutSegon[2];\r\n\r\n        if (arrDiaHora.length != 2) {\r\n            System.out.println (&quot;No hi ha dos blocs formats per data i temps&quot;);\r\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n            return;\r\n        }\r\n        \r\n        ...\r\n```\r\n\r\nReturn values after the arrays don&#39;t work and get **&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method**.\r\n\r\nIf I create the arrays before checking the conditions, I got an **ArrayIndexOutOfBoundsException** \r\n\r\nAny help ?\r\n\r\nThanks in advance !!\r\n","title":"Return keyword in void method not always working JAVA","body":"<p>I am coding with Java a function that checks if a date it's ok or not and want to jump up of the method if some condition is executed.\nI've read a similar question but hasn't the same trouble as it occurs in general and that's not what I want to ask.</p>\n<pre><code>public static void validar(String data) {\n\n        System.out.println (data);\n\n        if (data.indexOf(&quot; &quot;) == -1) {\n            System.out.println (&quot;No hi ha separació entre data i temps&quot;);\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n            return;\n        }\n        else if (data.indexOf(&quot;-&quot;) == -1) {\n            System.out.println (&quot;La data no conté un guions&quot;);\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n            return;\n        }\n        else if (data.indexOf(&quot;:&quot;) == -1) {\n            System.out.println (&quot;El temps de la data no conté :'s&quot;);\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n            return;\n        }\n\n        ...\n</code></pre>\n<p>It all works when done like this it:</p>\n<pre><code>2023-01-17 17:05:26\nData correcta\n\n2023-01-1717:05:26\nNo hi ha separació entre data i temps\nData incorrecta\n\n2023/01-17 17.05.26\nEl temps de la data no conté :'s\nData incorrecta\n\n2023-01-17 17.05.26\nEl temps de la data no conté :'s\nData incorrecta\n</code></pre>\n<p>Have other conditions to check related to the date (if the date's length is 3 and the same for the time and much more) so I've created some array.</p>\n<p>If I create them in the middle of the conditions like:</p>\n<pre><code>if (data.indexOf(&quot; &quot;) == -1) {\n            System.out.println (&quot;No hi ha separació entre data i temps&quot;);\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n            return;\n        }\n        else if (data.indexOf(&quot;-&quot;) == -1) {\n            System.out.println (&quot;La data no conté un guions&quot;);\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n            return;\n        }\n        else if (data.indexOf(&quot;:&quot;) == -1) {\n            System.out.println (&quot;El temps de la data no conté :'s&quot;);\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n            return;\n        }\n\n        String[] arrDiaHora = data.split(&quot; &quot;);\n        String diamesany = arrDiaHora[0];\n        String horaminutsegon = arrDiaHora[1];\n\n        String[] arrDiaMesAny = diamesany.split(&quot;-&quot;);\n        String strany = arrDiaMesAny[0];\n        String strmes = arrDiaMesAny[1];\n        String strdia = arrDiaMesAny[2];\n\n        String[] arrHoraMinutSegon = horaminutsegon.split(&quot;:&quot;);\n        String strhora = arrHoraMinutSegon[0];\n        String strminut = arrHoraMinutSegon[1];\n        String strsegon = arrHoraMinutSegon[2];\n\n        if (arrDiaHora.length != 2) {\n            System.out.println (&quot;No hi ha dos blocs formats per data i temps&quot;);\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n            return;\n        }\n        \n        ...\n</code></pre>\n<p>Return values after the arrays don't work and get <strong>'return' is unnecessary as the last statement in a 'void' method</strong>.</p>\n<p>If I create the arrays before checking the conditions, I got an <strong>ArrayIndexOutOfBoundsException</strong></p>\n<p>Any help ?</p>\n<p>Thanks in advance !!</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":16801226,"reputation":1,"user_id":12146422,"display_name":"Pinty222"},"score":0,"creation_date":1569941996,"post_id":58178227,"comment_id":102754869,"body_markdown":"It still doesn&#39;t let me use the arrays that I wrote to within the method, since it only seems to exist within that method.","body":"It still doesn&#39;t let me use the arrays that I wrote to within the method, since it only seems to exist within that method."},{"owner":{"account_id":12900922,"reputation":1,"user_id":9329792,"display_name":"Daniel McGrath"},"score":0,"creation_date":1570043574,"post_id":58178227,"comment_id":102793810,"body_markdown":"Consider passing the arrays as arguments. Then you should be able to access them in the main method","body":"Consider passing the arrays as arguments. Then you should be able to access them in the main method"}],"tags":[],"owner":{"account_id":12900922,"reputation":1,"user_id":9329792,"display_name":"Daniel McGrath"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569905600,"creation_date":1569905600,"answer_id":58178227,"question_id":58178136,"body_markdown":"In my personal opinion, a method isn&#39;t a bad idea, even if you are only going to use it once. A method would allow you to move all your code outside your main method and reduce it to one line of code, collapse it outside of the main method, and make your code more maintainable in the future. Editors like Eclipse (I don&#39;t know about Netbeans or InteliJ) do not allow you to collapse your code in the way that you want.","title":"Is there a way to categorize code so that I can minimize something and use a comment to write what it does for organization?","body":"<p>In my personal opinion, a method isn't a bad idea, even if you are only going to use it once. A method would allow you to move all your code outside your main method and reduce it to one line of code, collapse it outside of the main method, and make your code more maintainable in the future. Editors like Eclipse (I don't know about Netbeans or InteliJ) do not allow you to collapse your code in the way that you want.</p>\n"},{"tags":[],"owner":{"account_id":16801226,"reputation":1,"user_id":12146422,"display_name":"Pinty222"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683873193,"creation_date":1683873193,"answer_id":76233675,"question_id":58178136,"body_markdown":"Saw this looking through my stack overflow profile&#39;s history (now intermediate programmer not absolute beginner) and thought I would answer:\r\n\r\nyes you should probably just use a function outside of your main function, even if you only invoke it once. You can pass in any parameters you want the function to see. You can pass in parameters you want it to modify and modify those parameters in the function, IF the parameters are references to objects and not primitives (lists do meet the criteria for this in Java I am pretty sure). However I think its better practice generally to not modify anything you get passed in and instead return a copy of the parameter that is modified, and set the original variable to = that when you call the function. If you want to return multiple variables there are ways to do that depending on the language.\r\nI think doing this is pretty standard.\r\n\r\n\r\nAnother concept I&#39;ve heard of though for you to look into is called an IIFE (immediately invoked function expression). \r\nAnother thing you can do is wrap code with {} as long as you don&#39;t use any variables you declare in that scope outside of that scope. I mention this below.\r\n\r\na guy on youtube I saw doesn&#39;t think you should extract into methods, he talks about what he would do instead at in [this video](https://youtu.be/QM1iUe6IofM?t=2235) at the timestamp linked. \r\nHe mentions how you can put { } around code in many languages including java, which answers my question I think. He also proposes a non-existing syntax use(var name) {}. It goes to show beginner me wasn&#39;t the only one thinking about this kind of stuff.\r\nBut yeah at this moment both ways seem fine to me.\r\n\r\nAlso if you indent something you can collapse it in VSCode but I&#39;m not sure anybody does this or would think it looks good.","title":"Is there a way to categorize code so that I can minimize something and use a comment to write what it does for organization?","body":"<p>Saw this looking through my stack overflow profile's history (now intermediate programmer not absolute beginner) and thought I would answer:</p>\n<p>yes you should probably just use a function outside of your main function, even if you only invoke it once. You can pass in any parameters you want the function to see. You can pass in parameters you want it to modify and modify those parameters in the function, IF the parameters are references to objects and not primitives (lists do meet the criteria for this in Java I am pretty sure). However I think its better practice generally to not modify anything you get passed in and instead return a copy of the parameter that is modified, and set the original variable to = that when you call the function. If you want to return multiple variables there are ways to do that depending on the language.\nI think doing this is pretty standard.</p>\n<p>Another concept I've heard of though for you to look into is called an IIFE (immediately invoked function expression).\nAnother thing you can do is wrap code with {} as long as you don't use any variables you declare in that scope outside of that scope. I mention this below.</p>\n<p>a guy on youtube I saw doesn't think you should extract into methods, he talks about what he would do instead at in <a href=\"https://youtu.be/QM1iUe6IofM?t=2235\" rel=\"nofollow noreferrer\">this video</a> at the timestamp linked.\nHe mentions how you can put { } around code in many languages including java, which answers my question I think. He also proposes a non-existing syntax use(var name) {}. It goes to show beginner me wasn't the only one thinking about this kind of stuff.\nBut yeah at this moment both ways seem fine to me.</p>\n<p>Also if you indent something you can collapse it in VSCode but I'm not sure anybody does this or would think it looks good.</p>\n"}],"owner":{"account_id":16801226,"reputation":1,"user_id":12146422,"display_name":"Pinty222"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683873193,"creation_date":1569904827,"question_id":58178136,"body_markdown":"This is a bit unorthodox and also I am relatively new to coding but here is what I want to do:\r\n\r\nI am trying to make a flashcard simulator (like quizlet) to practice coding, and I have so far successfully made a program that takes a text file with terms and definitions and converts it into two arrays (terms and definitions).\r\nNow this is taking up a lot of space for me looking at it, and I notice you can minimize certain loops and things so it just shows the top line, to reduce clutter. So I want to minimize the whole function for looking at and just write a comment next to it saying what it does, so its like a line of code.\r\n\r\nThe problem is any redundant loops (like a for loop that executes once) make the arrays unusable outside of that loop. So any ideas if I want to do this? \r\n\r\nMy best idea is a method but since I am a beginner I don&#39;t entirely know how to do that yet and my impression is that it would be outside of the main method and separate from the code which is not what I want cause I only use it once.\r\n\r\nThanks,\r\n\r\nThis is my code if you want it:\r\n```java\r\nBufferedReader reader = new BufferedReader(new FileReader(&quot;Flashcards.txt&quot;));\r\n\r\n        String[] terms = new String[128];\r\n        String[] defs = new String[128];\r\n\r\n        String term;\r\n        String def;\r\n        String line;\r\n        byte c = 0;\r\n        while((line = reader.readLine()) != null) {\r\n            boolean after = false;\r\n            def = &quot;&quot;;\r\n            term = &quot;&quot;;\r\n            for (short i = 0; i &lt; line.length(); i++) {\r\n                if (line.charAt(i) == &#39;:&#39;)\r\n                    after = true;\r\n                else if (!after)\r\n                    term = term + line.charAt(i);\r\n                else\r\n                    def = def + line.charAt(i);\r\n            }\r\n            terms[c] = term;\r\n            defs[c]= def.strip();\r\n            c++;\r\n```","title":"Is there a way to categorize code so that I can minimize something and use a comment to write what it does for organization?","body":"<p>This is a bit unorthodox and also I am relatively new to coding but here is what I want to do:</p>\n\n<p>I am trying to make a flashcard simulator (like quizlet) to practice coding, and I have so far successfully made a program that takes a text file with terms and definitions and converts it into two arrays (terms and definitions).\nNow this is taking up a lot of space for me looking at it, and I notice you can minimize certain loops and things so it just shows the top line, to reduce clutter. So I want to minimize the whole function for looking at and just write a comment next to it saying what it does, so its like a line of code.</p>\n\n<p>The problem is any redundant loops (like a for loop that executes once) make the arrays unusable outside of that loop. So any ideas if I want to do this? </p>\n\n<p>My best idea is a method but since I am a beginner I don't entirely know how to do that yet and my impression is that it would be outside of the main method and separate from the code which is not what I want cause I only use it once.</p>\n\n<p>Thanks,</p>\n\n<p>This is my code if you want it:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>BufferedReader reader = new BufferedReader(new FileReader(\"Flashcards.txt\"));\n\n        String[] terms = new String[128];\n        String[] defs = new String[128];\n\n        String term;\n        String def;\n        String line;\n        byte c = 0;\n        while((line = reader.readLine()) != null) {\n            boolean after = false;\n            def = \"\";\n            term = \"\";\n            for (short i = 0; i &lt; line.length(); i++) {\n                if (line.charAt(i) == ':')\n                    after = true;\n                else if (!after)\n                    term = term + line.charAt(i);\n                else\n                    def = def + line.charAt(i);\n            }\n            terms[c] = term;\n            defs[c]= def.strip();\n            c++;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683869572,"post_id":76233387,"comment_id":134435448,"body_markdown":"What&#39;s astonishing about mentioning JavaScript?","body":"What&#39;s astonishing about mentioning JavaScript?"},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":2,"creation_date":1683869650,"post_id":76233387,"comment_id":134435456,"body_markdown":"It says &quot;in scripting environments&quot;. Javascript is an example of such.","body":"It says &quot;in scripting environments&quot;. Javascript is an example of such."},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1683870027,"post_id":76233387,"comment_id":134435514,"body_markdown":"But it is about Java beans. Well, let it be illustrated by a scripting environment rather than Java. What is contrasted here? That they can assign something to a variable? In Java we also can do that. That they don&#39;t use getters and setters? Well, they do use them.\n\nWhy mingling JavaScript here at all?","body":"But it is about Java beans. Well, let it be illustrated by a scripting environment rather than Java. What is contrasted here? That they can assign something to a variable? In Java we also can do that. That they don&#39;t use getters and setters? Well, they do use them.  Why mingling JavaScript here at all?"},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1683870265,"post_id":76233387,"comment_id":134435548,"body_markdown":"I&#39;m bad at JavaScript. Is it here just because JavaScript doesn&#39;t ensure encapsulation?","body":"I&#39;m bad at JavaScript. Is it here just because JavaScript doesn&#39;t ensure encapsulation?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683870896,"post_id":76233387,"comment_id":134435624,"body_markdown":"&quot;*tell me why it is mentioned here?*&quot; - that can be (better) answered by the authors - we can only guess why they did it. Also worth remembering that both Java and Javascript are of similar age.","body":"&quot;<i>tell me why it is mentioned here?</i>&quot; - that can be (better) answered by the authors - we can only guess why they did it. Also worth remembering that both Java and Javascript are of similar age."},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1683870928,"post_id":76233387,"comment_id":134435628,"body_markdown":"Well, how can I understand that specification. Can I understand that JavaScript was just a good example of violation of encapsulation principle back in 1996?","body":"Well, how can I understand that specification. Can I understand that JavaScript was just a good example of violation of encapsulation principle back in 1996?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1683871000,"post_id":76233387,"comment_id":134435644,"body_markdown":"Please don&#39;t post texts as images","body":"Please don&#39;t post texts as images"},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1683871703,"post_id":76233387,"comment_id":134435749,"body_markdown":"The point is not about violating encapsulation, the point is about interoperability between Java and scripting environments such as Javascript. There are various situations where you want to expose an API to a scripting language wherein an object&#39;s properties can be accessed through the scripting language. Using a standardised form for designing classes in Java (i.e. beans) allows the interop code to be generated automatically instead of having to be written by hand.","body":"The point is not about violating encapsulation, the point is about interoperability between Java and scripting environments such as Javascript. There are various situations where you want to expose an API to a scripting language wherein an object&#39;s properties can be accessed through the scripting language. Using a standardised form for designing classes in Java (i.e. beans) allows the interop code to be generated automatically instead of having to be written by hand."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1683871797,"post_id":76233387,"comment_id":134435763,"body_markdown":"Originally, Java was intended to run as applets inside a web browser, and JavaScript was intended to provide integration between Java applets and the browser DOM. JavaBeans was intended to provide a mechanism for tools to manipulate Java objects dynamically, without knowing anything about their compile time type. I’m oversimplifying a bit, but this is how they were marketed.","body":"Originally, Java was intended to run as applets inside a web browser, and JavaScript was intended to provide integration between Java applets and the browser DOM. JavaBeans was intended to provide a mechanism for tools to manipulate Java objects dynamically, without knowing anything about their compile time type. I’m oversimplifying a bit, but this is how they were marketed."},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1683873474,"post_id":76233387,"comment_id":134435983,"body_markdown":"@Kifsif and still is","body":"@Kifsif and still is"}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683873011,"creation_date":1683871651,"answer_id":76233542,"question_id":76233387,"body_markdown":"Java does not support (buit-in, transparent) properties (as opposed to python, for example). The concept of properties is added by the JavaBeans specification. Beans were originally intended to be used in visual application builders (see the introduction section of the document you linked to).\r\n\r\nThese were much like the core concept still in use by game engines - you define entities with properties, usually in a 2-column table with name and value. And you define the behavior of these entities, usually in a scripting language.\r\n\r\nThe examples are written with such a system in mind, and make sense from that perspective.\r\n\r\nIn the script code, a &#39;property&#39; is accessed as if it were a public field. In the Java code implementing the bean, the setters and getters would still be invoked automatically. The precise names of the getters and setters wouldn&#39;t matter, for this use case - the user never uses them directly. The specification still recommends conventions for naming, and specifies expectations on exception behavior etc.","title":"Javascript as illustration of Java beans","body":"<p>Java does not support (buit-in, transparent) properties (as opposed to python, for example). The concept of properties is added by the JavaBeans specification. Beans were originally intended to be used in visual application builders (see the introduction section of the document you linked to).</p>\n<p>These were much like the core concept still in use by game engines - you define entities with properties, usually in a 2-column table with name and value. And you define the behavior of these entities, usually in a scripting language.</p>\n<p>The examples are written with such a system in mind, and make sense from that perspective.</p>\n<p>In the script code, a 'property' is accessed as if it were a public field. In the Java code implementing the bean, the setters and getters would still be invoked automatically. The precise names of the getters and setters wouldn't matter, for this use case - the user never uses them directly. The specification still recommends conventions for naming, and specifies expectations on exception behavior etc.</p>\n"}],"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76233542,"answer_count":1,"score":0,"last_activity_date":1683873011,"creation_date":1683869511,"question_id":76233387,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\t\r\nThis is from the JavaBeans Specification (https://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/).\r\n\r\nWhat astonishes me is that it mentions JavaScript. By the way, even Javascript (which is even more strange). \r\n\r\nAnyway, could you tell me why it is mentioned here? And how it illustrates beans?\r\n\r\n  [1]: https://i.stack.imgur.com/FXiWp.png","title":"Javascript as illustration of Java beans","body":"<p><a href=\"https://i.stack.imgur.com/FXiWp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FXiWp.png\" alt=\"enter image description here\" /></a></p>\n<p>This is from the JavaBeans Specification (<a href=\"https://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/\" rel=\"nofollow noreferrer\">https://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/</a>).</p>\n<p>What astonishes me is that it mentions JavaScript. By the way, even Javascript (which is even more strange).</p>\n<p>Anyway, could you tell me why it is mentioned here? And how it illustrates beans?</p>\n"},{"tags":["java","spring-boot","hashicorp-vault"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1683859148,"post_id":76232190,"comment_id":134434438,"body_markdown":"Would you add the JSON payload of an access token (not the token string, just its payload, use a tool like https://jwt.io)? It&#39;s likely that your authorization server puts roles in a different claim than scope, in which case you&#39;ll have to configure an authorities converter.","body":"Would you add the JSON payload of an access token (not the token string, just its payload, use a tool like <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">jwt.io</a>)? It&#39;s likely that your authorization server puts roles in a different claim than scope, in which case you&#39;ll have to configure an authorities converter."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1683874490,"post_id":76232190,"comment_id":134436146,"body_markdown":"If the access token is not a JWT, then you must configure your resource-server with introspection (&quot;opaque token&quot;). Look at OpenID configuration (or documentation) for introspection endpoint. If you can&#39;t find one, you could build a custom Introspector using user-info endpoint.","body":"If the access token is not a JWT, then you must configure your resource-server with introspection (&quot;opaque token&quot;). Look at OpenID configuration (or documentation) for introspection endpoint. If you can&#39;t find one, you could build a custom Introspector using user-info endpoint."}],"owner":{"account_id":1118598,"reputation":556,"user_id":2462719,"accept_rate":83,"display_name":"AcidHawk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683872757,"creation_date":1683847163,"question_id":76232190,"body_markdown":"I am trying to use Hashicorp Vault as an OIDC Provider.  My app is a simple spring boot rest app and I am trying to test it with Postman. I want to use Oauth2 authorization.  This is a learning exercise and not something that needs to go into production, however, I still want to follow &quot;Production Best Practices&quot; as far as possible.\r\n\r\n## Spring Boot ##\r\nMy Spring Boot APP running on https://dev.home.my.net:9780/ has the following configured in the  POM.xml file.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe application.yml file includes this:\r\n\r\n```yaml\r\nspring:\r\n   security:\r\n        oauth2:\r\n            resourceserver:\r\n                jwt:\r\n                    issuer-uri: https://utils.home.my.net:9790/v1/identity/oidc/provider/dummyapi-provider\r\n```\r\n\r\nMy SecurityFilterChain Bean looks like this:\r\n```java\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        http.cors().and().csrf().disable();\r\n\r\n        http.authorizeHttpRequests((authz) -&gt; authz\r\n                .requestMatchers(ELEVATED_WHITELIST).hasAnyAuthority(&quot;SCOPE_MYADMIN&quot;, &quot;SCOPE_MYELEVATED&quot;)\r\n                .requestMatchers(WHITELIST).hasAnyAuthority(&quot;SCOPE_MYADMIN&quot;, &quot;SCOPE_MYELEVATED&quot;, &quot;SCOPE_MYUSER&quot;)\r\n                .requestMatchers(OPEN_ACCESS).permitAll()\r\n                .requestMatchers(&quot;/**&quot;).authenticated()\r\n            );\r\n            http.oauth2ResourceServer().jwt();\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\n - ELEVATED_WHITELIST = is a list of GET or POST mappings that I want to grant access only to MYADMIN and MYELEVATED\r\n - WHITELIST = is a list of GET or POST mappings that I want to grant access only to MYADMIN, MYELEVATED and also MYUSER\r\n - OPEN_ACCESS = All access to any endpoints not in the above lists\r\n\r\n## Hashicorp Vault ##\r\nMy Vault configuration - *and this is where I believe I have less that the little understanding I have elsewhere* - has been configured as follows:  \r\n\r\n 1. I have enabled a *userpass* Auth method.\r\n 2. Inside that userpass I have just one user *my_admin_user*\r\n 3. I have an entity (Still under the access tab) also called *my_admin_user* with a reference to the user I created in the userpass Auth Method point earlier.\r\n 4. I created a Group called MYADMIN still under Access.\r\n 5. I have made *my_admin_user* a member of that group.\r\n 6. Under OIDC Provider I have an Application called *dummyapi* where I get the Client ID and the Client Secret from.  I also use a *dummyapi-key* that I set up while following a tutorial somewhere.\r\n 7. I created an Assignment called MYADMIN (the same name as the group and the scope I wish to use in the dummy app). Inside this Assignment I select my *my_admin_user* user as well as my MYADMIN group\r\n 8. I jumped to Scopes and created a MYADMIN scope which simple has the following JSON in it\r\n```json\r\n{\r\n  &quot;username&quot;: {{identity.entity.name}},\r\n  &quot;groups&quot;: {{identity.entity.groups.names}}\r\n}\r\n```\r\n 9. I created a Provider *dummyapi-provider* and selected the Scope that I had just created under the Supported scopes search field.\r\n 10. I don&#39;t think there is anything else that I need to configure here for now.\r\n\r\n## Postman ##\r\n\r\nI am trying 2 requests.  1 works and the other one does not!  This is actually the issue and I think it has to do with scopes.\r\n\r\nMy configuration for both requests is the same\r\n\r\n```\r\nAuthorization Type: Oauth 2.0\r\nCallback URL: https://dev.home.my.net:9780/\r\nAuth Url: https://utils.home.my.net:9790/ui/vault/identity/oidc/provider/dummyapi-provider/authorize\r\nAccess Token Url: https://utils.home.my.net:9790/v1/identity/oidc/provider/dummyapi-provider/token\r\nClient ID: Copied from the Vault Applications-&gt;dummyapi\r\nClient Secret: Copied from the Vault Applications-&gt;dummyapi\r\nScope: **openid**  I read that I have to use openid here however when testing againse Azure I could put other scopes in this place and they were honored in the SecurityFilterChain by the .hasAnyAuthority lines.\r\n```\r\n\r\n### 1st Get ###\r\nhttps://dev.home.my.net:9780/dummyapi/listItems is part of WHITELIST\r\n\r\nOnce I have authenticated and received a token in the response.  I use the ID token part of what was returned in postman and I am able to see the expected results.  In otherwords I receive a Status: 200 OK\r\n\r\n### 2nd Get ###\r\nhttps://dev.home.my.net:9780/dummyapi/listPrivateItems is part of ELEVATED_WHITELIST.\r\n\r\nI can authenticate successfully here.  However I receive a Status: 403 Forbidden message returned and when inspecting the headers I came across this in the response:\r\n\r\n```\r\nWWW-Authenticate: Bearer error=&quot;insufficient_scope&quot;, error_description=&quot;The request requires higher privileges than provided by the access token.&quot;, error_uri=&quot;https://tools.ietf.org/html/rfc6750#section-3.1&quot;\r\n```\r\n\r\nI thought that I had configured the scope in Vault to be MYADMIN which would correspond to what the SecurityFilterChain is configured to allow.  However because of how it is behaving I don&#39;t think this scope is behaving as I expect.  So after I have authenticated with the scope of openid, where does the scope get set for authorization with the app.  If I look in the token I don&#39;t see anything speaking about scopes for either request.\r\n\r\nSo after all that I am wanting to know how and where do I set the scope in postman, the vault or dummyapi&#39;s SecurityFilterChain so that I can have different users access different resources?  If you got this far I owe you a drink!\r\n\r\nHere are some of the links I have been pouring over - there are a few more but these have mostly helped me get this far.\r\n - [Vault as an OIDC Provider][1]\r\n - [How to set up OIDC on Vault][2]\r\n - [Vault ACL Policies][3]\r\n - [Vaults OIDC Provider][4]\r\n\r\n## EDIT #1 - Added the Token JSON Payload ##\r\nAdding the Id Token (which I said I was using above) to [jwt.io][5] and I see that jwt.io tells me that there is an invalid signature.\r\n\r\n### ID Token ###\r\n```json\r\n{\r\n  &quot;at_hash&quot;: &quot;3Rz7cznliUSLrB2St7RS5g&quot;,\r\n  &quot;aud&quot;: &quot;6Am2NXPeM8J6DaV4sX0JMPUZBsH32L78&quot;,\r\n  &quot;c_hash&quot;: &quot;Tc9d3_evG3diE2YGXtCGSg&quot;,\r\n  &quot;exp&quot;: 1683955132,\r\n  &quot;iat&quot;: 1683868732,\r\n  &quot;iss&quot;: &quot;https://utils.home.my.net:9790/v1/identity/oidc/provider/dummyapi-provider&quot;,\r\n  &quot;namespace&quot;: &quot;root&quot;,\r\n  &quot;sub&quot;: &quot;25328fea-cc19-f517-83f8-5eee3bbaf5e0&quot;\r\n}\r\n```\r\n\r\n### Access Token ###\r\n[jwt.io][5] also tells me that the signature is invalid and this payload cannot be read.  It looks like all binary characters.\r\n\r\n### Edit #2 ###\r\nIt seems as though the request I was making in the first case (1st Get) - that I assumed was in the WHITELIST is not actually part of the WHITELIST and is being allowed by the .requestMatchers(&quot;/**&quot;).authenticated() part of the SecurityFilterChain.\r\n\r\nThis means that my token does not contain any scopes, which is what it looks like.  So how then to I add a scope to my token?\r\n\r\n  [1]: https://developer.hashicorp.com/vault/tutorials/auth-methods/oidc-identity-provider\r\n  [2]: https://devops-fu.org/vault/2022/05/26/set-up-oidc-on-vault.html\r\n  [3]: https://github.com/jeffsanicola/vault-policy-guide\r\n  [4]: https://developer.hashicorp.com/vault/docs/concepts/oidc-provider\r\n  [5]: https://jwt.io/","title":"Hashicorp Vault returns Bearer error=&quot;insufficient_scope&quot; description=&quot;The request requires higher privileges than provided by the access token.&quot;","body":"<p>I am trying to use Hashicorp Vault as an OIDC Provider.  My app is a simple spring boot rest app and I am trying to test it with Postman. I want to use Oauth2 authorization.  This is a learning exercise and not something that needs to go into production, however, I still want to follow &quot;Production Best Practices&quot; as far as possible.</p>\n<h2>Spring Boot</h2>\n<p>My Spring Boot APP running on <a href=\"https://dev.home.my.net:9780/\" rel=\"nofollow noreferrer\">https://dev.home.my.net:9780/</a> has the following configured in the  POM.xml file.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The application.yml file includes this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n   security:\n        oauth2:\n            resourceserver:\n                jwt:\n                    issuer-uri: https://utils.home.my.net:9790/v1/identity/oidc/provider/dummyapi-provider\n</code></pre>\n<p>My SecurityFilterChain Bean looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.cors().and().csrf().disable();\n\n        http.authorizeHttpRequests((authz) -&gt; authz\n                .requestMatchers(ELEVATED_WHITELIST).hasAnyAuthority(&quot;SCOPE_MYADMIN&quot;, &quot;SCOPE_MYELEVATED&quot;)\n                .requestMatchers(WHITELIST).hasAnyAuthority(&quot;SCOPE_MYADMIN&quot;, &quot;SCOPE_MYELEVATED&quot;, &quot;SCOPE_MYUSER&quot;)\n                .requestMatchers(OPEN_ACCESS).permitAll()\n                .requestMatchers(&quot;/**&quot;).authenticated()\n            );\n            http.oauth2ResourceServer().jwt();\n\n        return http.build();\n    }\n</code></pre>\n<ul>\n<li>ELEVATED_WHITELIST = is a list of GET or POST mappings that I want to grant access only to MYADMIN and MYELEVATED</li>\n<li>WHITELIST = is a list of GET or POST mappings that I want to grant access only to MYADMIN, MYELEVATED and also MYUSER</li>\n<li>OPEN_ACCESS = All access to any endpoints not in the above lists</li>\n</ul>\n<h2>Hashicorp Vault</h2>\n<p>My Vault configuration - <em>and this is where I believe I have less that the little understanding I have elsewhere</em> - has been configured as follows:</p>\n<ol>\n<li>I have enabled a <em>userpass</em> Auth method.</li>\n<li>Inside that userpass I have just one user <em>my_admin_user</em></li>\n<li>I have an entity (Still under the access tab) also called <em>my_admin_user</em> with a reference to the user I created in the userpass Auth Method point earlier.</li>\n<li>I created a Group called MYADMIN still under Access.</li>\n<li>I have made <em>my_admin_user</em> a member of that group.</li>\n<li>Under OIDC Provider I have an Application called <em>dummyapi</em> where I get the Client ID and the Client Secret from.  I also use a <em>dummyapi-key</em> that I set up while following a tutorial somewhere.</li>\n<li>I created an Assignment called MYADMIN (the same name as the group and the scope I wish to use in the dummy app). Inside this Assignment I select my <em>my_admin_user</em> user as well as my MYADMIN group</li>\n<li>I jumped to Scopes and created a MYADMIN scope which simple has the following JSON in it</li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;username&quot;: {{identity.entity.name}},\n  &quot;groups&quot;: {{identity.entity.groups.names}}\n}\n</code></pre>\n<ol start=\"9\">\n<li>I created a Provider <em>dummyapi-provider</em> and selected the Scope that I had just created under the Supported scopes search field.</li>\n<li>I don't think there is anything else that I need to configure here for now.</li>\n</ol>\n<h2>Postman</h2>\n<p>I am trying 2 requests.  1 works and the other one does not!  This is actually the issue and I think it has to do with scopes.</p>\n<p>My configuration for both requests is the same</p>\n<pre><code>Authorization Type: Oauth 2.0\nCallback URL: https://dev.home.my.net:9780/\nAuth Url: https://utils.home.my.net:9790/ui/vault/identity/oidc/provider/dummyapi-provider/authorize\nAccess Token Url: https://utils.home.my.net:9790/v1/identity/oidc/provider/dummyapi-provider/token\nClient ID: Copied from the Vault Applications-&gt;dummyapi\nClient Secret: Copied from the Vault Applications-&gt;dummyapi\nScope: **openid**  I read that I have to use openid here however when testing againse Azure I could put other scopes in this place and they were honored in the SecurityFilterChain by the .hasAnyAuthority lines.\n</code></pre>\n<h3>1st Get</h3>\n<p><a href=\"https://dev.home.my.net:9780/dummyapi/listItems\" rel=\"nofollow noreferrer\">https://dev.home.my.net:9780/dummyapi/listItems</a> is part of WHITELIST</p>\n<p>Once I have authenticated and received a token in the response.  I use the ID token part of what was returned in postman and I am able to see the expected results.  In otherwords I receive a Status: 200 OK</p>\n<h3>2nd Get</h3>\n<p><a href=\"https://dev.home.my.net:9780/dummyapi/listPrivateItems\" rel=\"nofollow noreferrer\">https://dev.home.my.net:9780/dummyapi/listPrivateItems</a> is part of ELEVATED_WHITELIST.</p>\n<p>I can authenticate successfully here.  However I receive a Status: 403 Forbidden message returned and when inspecting the headers I came across this in the response:</p>\n<pre><code>WWW-Authenticate: Bearer error=&quot;insufficient_scope&quot;, error_description=&quot;The request requires higher privileges than provided by the access token.&quot;, error_uri=&quot;https://tools.ietf.org/html/rfc6750#section-3.1&quot;\n</code></pre>\n<p>I thought that I had configured the scope in Vault to be MYADMIN which would correspond to what the SecurityFilterChain is configured to allow.  However because of how it is behaving I don't think this scope is behaving as I expect.  So after I have authenticated with the scope of openid, where does the scope get set for authorization with the app.  If I look in the token I don't see anything speaking about scopes for either request.</p>\n<p>So after all that I am wanting to know how and where do I set the scope in postman, the vault or dummyapi's SecurityFilterChain so that I can have different users access different resources?  If you got this far I owe you a drink!</p>\n<p>Here are some of the links I have been pouring over - there are a few more but these have mostly helped me get this far.</p>\n<ul>\n<li><a href=\"https://developer.hashicorp.com/vault/tutorials/auth-methods/oidc-identity-provider\" rel=\"nofollow noreferrer\">Vault as an OIDC Provider</a></li>\n<li><a href=\"https://devops-fu.org/vault/2022/05/26/set-up-oidc-on-vault.html\" rel=\"nofollow noreferrer\">How to set up OIDC on Vault</a></li>\n<li><a href=\"https://github.com/jeffsanicola/vault-policy-guide\" rel=\"nofollow noreferrer\">Vault ACL Policies</a></li>\n<li><a href=\"https://developer.hashicorp.com/vault/docs/concepts/oidc-provider\" rel=\"nofollow noreferrer\">Vaults OIDC Provider</a></li>\n</ul>\n<h2>EDIT #1 - Added the Token JSON Payload</h2>\n<p>Adding the Id Token (which I said I was using above) to <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a> and I see that jwt.io tells me that there is an invalid signature.</p>\n<h3>ID Token</h3>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;at_hash&quot;: &quot;3Rz7cznliUSLrB2St7RS5g&quot;,\n  &quot;aud&quot;: &quot;6Am2NXPeM8J6DaV4sX0JMPUZBsH32L78&quot;,\n  &quot;c_hash&quot;: &quot;Tc9d3_evG3diE2YGXtCGSg&quot;,\n  &quot;exp&quot;: 1683955132,\n  &quot;iat&quot;: 1683868732,\n  &quot;iss&quot;: &quot;https://utils.home.my.net:9790/v1/identity/oidc/provider/dummyapi-provider&quot;,\n  &quot;namespace&quot;: &quot;root&quot;,\n  &quot;sub&quot;: &quot;25328fea-cc19-f517-83f8-5eee3bbaf5e0&quot;\n}\n</code></pre>\n<h3>Access Token</h3>\n<p><a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a> also tells me that the signature is invalid and this payload cannot be read.  It looks like all binary characters.</p>\n<h3>Edit #2</h3>\n<p>It seems as though the request I was making in the first case (1st Get) - that I assumed was in the WHITELIST is not actually part of the WHITELIST and is being allowed by the .requestMatchers(&quot;/**&quot;).authenticated() part of the SecurityFilterChain.</p>\n<p>This means that my token does not contain any scopes, which is what it looks like.  So how then to I add a scope to my token?</p>\n"},{"tags":["java","minecraft","spigot"],"owner":{"account_id":27453035,"reputation":23,"user_id":20944949,"display_name":"Andrearoma2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683875834,"answer_count":0,"score":0,"last_activity_date":1683872591,"creation_date":1683812201,"question_id":76228248,"body_markdown":"I&#39;m creating a Minecraft Java plugin and to make it work I need to import a few packages, but when I put the ; in the end the string becomes gray (In the source code they are indicated with * after the string) and therefore it doesn&#39;t detect the packets, how can I fix it? A thousand thanks\r\n\r\nP.S: Below you will find all the source code if you need it to help me\r\n\r\n[Download](https://wetransfer.com/downloads/3d01098c59ca445a85299c3c815975f420230502160343/4ceb9a681f0216deed3c3a1e343698e520230502160359/1153f7?trk=TRN_TDL_01&amp;utm_campaign=TRN_TDL_01&amp;utm_medium=email&amp;utm_source=sendgrid)\r\n\r\nHere the code of the program: \r\n\r\n```java\r\npackage com.bizarrealex.aether;\r\nimport com.bizarrealex.aether.event.BoardCreateEvent;\r\nimport com.bizarrealex.aether.scoreboard.Board;\r\nimport com.bizarrealex.aether.scoreboard.BoardAdapter;\r\nimport com.bizarrealex.aether.scoreboard.BoardEntry;\r\nimport lombok.Getter; *\r\nimport org.bukkit.Bukkit; *\r\nimport org.bukkit.ChatColor; *\r\nimport org.bukkit.entity.Player; *\r\nimport org.bukkit.event.EventHandler; *\r\nimport org.bukkit.event.EventPriority; *\r\nimport org.bukkit.event.Listener; *\r\nimport org.bukkit.event.player.PlayerJoinEvent; *\r\nimport org.bukkit.event.player.PlayerQuitEvent; *\r\nimport org.bukkit.plugin.java.JavaPlugin; *\r\nimport org.bukkit.scheduler.BukkitRunnable; *\r\nimport org.bukkit.scoreboard.DisplaySlot; *\r\nimport org.bukkit.scoreboard.Objective; *\r\nimport org.bukkit.scoreboard.Score; *\r\nimport org.bukkit.scoreboard.Scoreboard; *\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport static com.bizarrealex.aether.AetherOptions.defaultOptions;\r\n/**\r\n * TODO: Add documentation to methods, etc\r\n * TODO: Fix inconsistent cooldown scores\r\n * TODO: Finish other board formats\r\n */\r\npublic class Aether implements Listener {\r\n\r\n    @Getter\r\n    BoardAdapter adapter;\r\n    @Getter\r\n    private JavaPlugin plugin;\r\n    @Getter\r\n    private AetherOptions options;\r\n\r\n    public Aether(JavaPlugin plugin, BoardAdapter adapter, AetherOptions options) {\r\n        this.options = options;\r\n        this.plugin = plugin;\r\n\r\n        Bukkit.getPluginManager().registerEvents(this, plugin);\r\n\r\n        setAdapter(adapter);\r\n        run();\r\n    }\r\n\r\n    public Aether(JavaPlugin plugin, BoardAdapter adapter) {\r\n        this(plugin, adapter, defaultOptions());\r\n    }\r\n\r\n    public Aether(JavaPlugin plugin) {\r\n        this(plugin, null, defaultOptions());\r\n    }\r\n\r\n    private void run() {\r\n        new BukkitRunnable() {\r\n            @Override\r\n            public void run() {\r\n                if (adapter == null) return;\r\n\r\n                for (Player player : Bukkit.getOnlinePlayers()) {\r\n                    Board board = Board.getByPlayer(player);\r\n                    if (board != null) {\r\n                        List&lt;String&gt; scores = adapter.getScoreboard(player, board, board.getCooldowns());\r\n                        List&lt;String&gt; translatedScores = new ArrayList&lt;&gt;();\r\n\r\n                        if (scores == null) {\r\n\r\n                            if (!board.getEntries().isEmpty()) {\r\n\r\n                                for (BoardEntry boardEntry : board.getEntries()) {\r\n                                    boardEntry.remove();\r\n                                }\r\n\r\n                                board.getEntries().clear();\r\n                            }\r\n\r\n                            continue;\r\n                        }\r\n\r\n                        for (String line : scores) {\r\n                            translatedScores.add(ChatColor.translateAlternateColorCodes(&#39;&amp;&#39;, line));\r\n                        }\r\n\r\n                        if (!options.scoreDirectionDown()) {\r\n                            Collections.reverse(scores);\r\n                        }\r\n\r\n                        Scoreboard scoreboard = board.getScoreboard();\r\n                        Objective objective = board.getObjective();\r\n\r\n                        if (!(objective.getDisplayName().equals(adapter.getTitle(player)))) {\r\n                            objective.setDisplayName(ChatColor.translateAlternateColorCodes(&#39;&amp;&#39;, adapter.getTitle(player)));\r\n                        }\r\n\r\n                        outer:\r\n                        for (int i = 0; i &lt; scores.size(); i++) {\r\n                            String text = scores.get(i);\r\n                            int position;\r\n                            if (options.scoreDirectionDown()) {\r\n                                position = 15 - i;\r\n                            } else {\r\n                                position = i + 1;\r\n                            }\r\n\r\n                            Iterator&lt;BoardEntry&gt; iterator = new ArrayList&lt;&gt;(board.getEntries()).iterator();\r\n                            while (iterator.hasNext()) {\r\n                                BoardEntry boardEntry = iterator.next();\r\n                                Score score = objective.getScore(boardEntry.getKey());\r\n\r\n                                if (score != null &amp;&amp; boardEntry.getText().equals(ChatColor.translateAlternateColorCodes(&#39;&amp;&#39;, text))) {\r\n                                    if (score.getScore() == position) {\r\n                                        continue outer;\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            int positionToSearch = options.scoreDirectionDown() ? 15 - position : position - 1;\r\n\r\n                            iterator = board.getEntries().iterator();\r\n                            while (iterator.hasNext()) {\r\n                                BoardEntry boardEntry = iterator.next();\r\n                                int entryPosition = scoreboard.getObjective(DisplaySlot.SIDEBAR).getScore(boardEntry.getKey()).getScore();\r\n\r\n                                if (!options.scoreDirectionDown()) {\r\n                                    if (entryPosition &gt; scores.size()) {\r\n                                        iterator.remove();\r\n                                        boardEntry.remove();\r\n                                    }\r\n                                }\r\n\r\n                            }\r\n\r\n                            BoardEntry entry = board.getByPosition(positionToSearch);\r\n\r\n                            if (entry == null) {\r\n                                new BoardEntry(board, text).send(position);\r\n                            } else {\r\n                                entry.setText(text).setup().send(position);\r\n                            }\r\n\r\n                            if (board.getEntries().size() &gt; scores.size()) {\r\n                                iterator = board.getEntries().iterator();\r\n                                while (iterator.hasNext()) {\r\n                                    BoardEntry boardEntry = iterator.next();\r\n                                    if ((!translatedScores.contains(boardEntry.getText())) || Collections.frequency(board.getBoardEntriesFormatted(), boardEntry.getText()) &gt; 1) {\r\n                                        iterator.remove();\r\n                                        boardEntry.remove();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        adapter.onScoreboardCreate(player, scoreboard);\r\n\r\n                        player.setScoreboard(scoreboard);\r\n                    }\r\n                }\r\n            }\r\n        }.runTaskTimerAsynchronously(plugin, 20L, 2L);\r\n    }\r\n\r\n    public void setAdapter(BoardAdapter adapter) {\r\n        this.adapter = adapter;\r\n        for (Player player : Bukkit.getOnlinePlayers()) {\r\n            Board board = Board.getByPlayer(player);\r\n\r\n            if (board != null) {\r\n                Board.getBoards().remove(board);\r\n            }\r\n\r\n            Bukkit.getPluginManager().callEvent(new BoardCreateEvent(new Board(player, this, options), player));\r\n        }\r\n    }\r\n\r\n    @EventHandler\r\n    public void onPlayerJoinEvent(PlayerJoinEvent event) {\r\n        if (Board.getByPlayer(event.getPlayer()) == null) {\r\n            Bukkit.getPluginManager().callEvent(new BoardCreateEvent(new Board(event.getPlayer(), this, options), event.getPlayer()));\r\n        }\r\n    }\r\n\r\n    @EventHandler(priority = EventPriority.HIGHEST)\r\n    public void onPlayerQuitEvent(PlayerQuitEvent event) {\r\n        Board board = Board.getByPlayer(event.getPlayer());\r\n        if (board != null) {\r\n            Board.getBoards().remove(board);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nThe output of the program if I build it:\r\n\r\n```\r\n7: java: package lombok does not exist\r\n8: java: package org.bukkit does not exist\r\n9: java: package org.bukkit does not exist\r\n10: java: package org.bukkit.entity does not exist\r\n11: java: package org.bukkit.event does not exist\r\n12: java: package org.bukkit.event does not exist\r\n13: java: package org.bukkit.event does not exist\r\n14: java: package org.bukkit.event.player does not exist\r\n15: java: package org.bukkit.event.player does not exist\r\n16: java: package org.bukkit.plugin.java does not exist\r\n17: java: package org.bukkit.scheduler does not exist\r\n18: java: package org.bukkit.scoreboard does not exist\r\n19: java: package org.bukkit.scoreboard does not exist\r\n20: java: package org.bukkit.scoreboard does not exist\r\n21: java: package org.bukkit.scoreboard does not exist\r\n35: java: cannot find symbol\r\n  symbol: class Listener\r\n40: java: cannot find symbol\r\n  symbol:   class JavaPlugin\r\n  location: class com.bizarrealex.aether.Aether\r\n44: java: cannot find symbol\r\n  symbol:   class JavaPlugin\r\n  location: class com.bizarrealex.aether.Aether\r\n54: java: cannot find symbol\r\n  symbol:   class JavaPlugin\r\n  location: class com.bizarrealex.aether.Aether\r\n58: java: cannot find symbol\r\n  symbol:   class JavaPlugin\r\n  location: class com.bizarrealex.aether.Aether\r\n183: java: cannot find symbol\r\n  symbol:   class PlayerJoinEvent\r\n  location: class com.bizarrealex.aether.Aether\r\n190: java: cannot find symbol\r\n  symbol:   class PlayerQuitEvent\r\n  location: class com.bizarrealex.aether.Aether\r\n\r\n```\r\n\r\nI searched if the package was wrong but couldn&#39;t find anything and, after a guy told me to do this, i pointed the package in the pom.xml file like this\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n             &lt;groupId&gt;org.bukkit&lt;/groupId&gt;\r\n             &lt;artifactId&gt;bukkit&lt;/artifactId&gt;\r\n             &lt;version&gt;VERSION&lt;/version&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nthe complete code is this:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n     &lt;groupId&gt;us.zonix.practice&lt;/groupId&gt;\r\n     &lt;artifactId&gt;Practice&lt;/artifactId&gt;\r\n     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n     &lt;properties&gt;\r\n         &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n     &lt;/properties&gt;\r\n\r\n     &lt;repositories&gt;\r\n         &lt;repository&gt;\r\n             &lt;id&gt;sk89q-repo&lt;/id&gt;\r\n             &lt;url&gt;http://maven.sk89q.com/repo/&lt;/url&gt;\r\n         &lt;/repository&gt;\r\n\r\n         &lt;repository&gt;\r\n             &lt;id&gt;fawe-repo&lt;/id&gt;\r\n             &lt;url&gt;http://ci.athion.net/job/FastAsyncWorldEdit/ws/mvn/&lt;/url&gt;\r\n         &lt;/repository&gt;\r\n\r\n     &lt;/repositories&gt;\r\n\r\n    \r\n\r\n     &lt;dependencies&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;org.bukkit&lt;/groupId&gt;\r\n             &lt;artifactId&gt;bukkit&lt;/artifactId&gt;\r\n             &lt;version&gt;VERSION&lt;/version&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n             &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n             &lt;version&gt;LATEST&lt;/version&gt;\r\n             &lt;scope&gt;compile&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;com.sk89q&lt;/groupId&gt;\r\n             &lt;artifactId&gt;worldedit&lt;/artifactId&gt;\r\n             &lt;version&gt;6.0.0-SNAPSHOT&lt;/version&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;com.boydti&lt;/groupId&gt;\r\n             &lt;artifactId&gt;fawe-api&lt;/artifactId&gt;\r\n             &lt;version&gt;latest&lt;/version&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n             &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n             &lt;version&gt;1.14.8&lt;/version&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n             &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n             &lt;version&gt;2.9.0&lt;/version&gt;\r\n             &lt;scope&gt;compile&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n             &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n             &lt;version&gt;LATEST&lt;/version&gt;\r\n             &lt;scope&gt;compile&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;pt.foxspigot.jar&lt;/groupId&gt;\r\n             &lt;artifactId&gt;FoxSpigot&lt;/artifactId&gt;\r\n             &lt;version&gt;1.8.8-R0.1-SNAPSHOT&lt;/version&gt;\r\n             &lt;scope&gt;system&lt;/scope&gt;\r\n             &lt;systemPath&gt;${project.basedir}/libs/foxspigot-server.jar&lt;/systemPath&gt;\r\n         &lt;/dependency&gt;\r\n\r\n     &lt;/dependencies&gt;\r\n\r\n     &lt;build&gt;\r\n         &lt;plugins&gt;\r\n             &lt;plugins&gt;\r\n                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                 &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                 &lt;configuration&gt;\r\n                     &lt;source&gt;1.8&lt;/source&gt;\r\n                     &lt;target&gt;1.8&lt;/target&gt;\r\n                 &lt;/configuration&gt;\r\n             &lt;/plugins&gt;\r\n             &lt;plugins&gt;\r\n                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                 &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                 &lt;version&gt;2.1&lt;/version&gt;\r\n                 &lt;executions&gt;\r\n                     &lt;execution&gt;\r\n                         &lt;phase&gt;package&lt;/phase&gt;\r\n                         &lt;goals&gt;\r\n                             &lt;goal&gt;shade&lt;/goal&gt;\r\n                         &lt;/goals&gt;\r\n                     &lt;/execution&gt;\r\n                 &lt;/executions&gt;\r\n             &lt;/plugins&gt;\r\n         &lt;/plugins&gt;\r\n     &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"I can&#39;t import minecraft package in my java project","body":"<p>I'm creating a Minecraft Java plugin and to make it work I need to import a few packages, but when I put the ; in the end the string becomes gray (In the source code they are indicated with * after the string) and therefore it doesn't detect the packets, how can I fix it? A thousand thanks</p>\n<p>P.S: Below you will find all the source code if you need it to help me</p>\n<p><a href=\"https://wetransfer.com/downloads/3d01098c59ca445a85299c3c815975f420230502160343/4ceb9a681f0216deed3c3a1e343698e520230502160359/1153f7?trk=TRN_TDL_01&amp;utm_campaign=TRN_TDL_01&amp;utm_medium=email&amp;utm_source=sendgrid\" rel=\"nofollow noreferrer\">Download</a></p>\n<p>Here the code of the program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.bizarrealex.aether;\nimport com.bizarrealex.aether.event.BoardCreateEvent;\nimport com.bizarrealex.aether.scoreboard.Board;\nimport com.bizarrealex.aether.scoreboard.BoardAdapter;\nimport com.bizarrealex.aether.scoreboard.BoardEntry;\nimport lombok.Getter; *\nimport org.bukkit.Bukkit; *\nimport org.bukkit.ChatColor; *\nimport org.bukkit.entity.Player; *\nimport org.bukkit.event.EventHandler; *\nimport org.bukkit.event.EventPriority; *\nimport org.bukkit.event.Listener; *\nimport org.bukkit.event.player.PlayerJoinEvent; *\nimport org.bukkit.event.player.PlayerQuitEvent; *\nimport org.bukkit.plugin.java.JavaPlugin; *\nimport org.bukkit.scheduler.BukkitRunnable; *\nimport org.bukkit.scoreboard.DisplaySlot; *\nimport org.bukkit.scoreboard.Objective; *\nimport org.bukkit.scoreboard.Score; *\nimport org.bukkit.scoreboard.Scoreboard; *\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Iterator;\nimport java.util.List;\nimport static com.bizarrealex.aether.AetherOptions.defaultOptions;\n/**\n * TODO: Add documentation to methods, etc\n * TODO: Fix inconsistent cooldown scores\n * TODO: Finish other board formats\n */\npublic class Aether implements Listener {\n\n    @Getter\n    BoardAdapter adapter;\n    @Getter\n    private JavaPlugin plugin;\n    @Getter\n    private AetherOptions options;\n\n    public Aether(JavaPlugin plugin, BoardAdapter adapter, AetherOptions options) {\n        this.options = options;\n        this.plugin = plugin;\n\n        Bukkit.getPluginManager().registerEvents(this, plugin);\n\n        setAdapter(adapter);\n        run();\n    }\n\n    public Aether(JavaPlugin plugin, BoardAdapter adapter) {\n        this(plugin, adapter, defaultOptions());\n    }\n\n    public Aether(JavaPlugin plugin) {\n        this(plugin, null, defaultOptions());\n    }\n\n    private void run() {\n        new BukkitRunnable() {\n            @Override\n            public void run() {\n                if (adapter == null) return;\n\n                for (Player player : Bukkit.getOnlinePlayers()) {\n                    Board board = Board.getByPlayer(player);\n                    if (board != null) {\n                        List&lt;String&gt; scores = adapter.getScoreboard(player, board, board.getCooldowns());\n                        List&lt;String&gt; translatedScores = new ArrayList&lt;&gt;();\n\n                        if (scores == null) {\n\n                            if (!board.getEntries().isEmpty()) {\n\n                                for (BoardEntry boardEntry : board.getEntries()) {\n                                    boardEntry.remove();\n                                }\n\n                                board.getEntries().clear();\n                            }\n\n                            continue;\n                        }\n\n                        for (String line : scores) {\n                            translatedScores.add(ChatColor.translateAlternateColorCodes('&amp;', line));\n                        }\n\n                        if (!options.scoreDirectionDown()) {\n                            Collections.reverse(scores);\n                        }\n\n                        Scoreboard scoreboard = board.getScoreboard();\n                        Objective objective = board.getObjective();\n\n                        if (!(objective.getDisplayName().equals(adapter.getTitle(player)))) {\n                            objective.setDisplayName(ChatColor.translateAlternateColorCodes('&amp;', adapter.getTitle(player)));\n                        }\n\n                        outer:\n                        for (int i = 0; i &lt; scores.size(); i++) {\n                            String text = scores.get(i);\n                            int position;\n                            if (options.scoreDirectionDown()) {\n                                position = 15 - i;\n                            } else {\n                                position = i + 1;\n                            }\n\n                            Iterator&lt;BoardEntry&gt; iterator = new ArrayList&lt;&gt;(board.getEntries()).iterator();\n                            while (iterator.hasNext()) {\n                                BoardEntry boardEntry = iterator.next();\n                                Score score = objective.getScore(boardEntry.getKey());\n\n                                if (score != null &amp;&amp; boardEntry.getText().equals(ChatColor.translateAlternateColorCodes('&amp;', text))) {\n                                    if (score.getScore() == position) {\n                                        continue outer;\n                                    }\n                                }\n                            }\n\n                            int positionToSearch = options.scoreDirectionDown() ? 15 - position : position - 1;\n\n                            iterator = board.getEntries().iterator();\n                            while (iterator.hasNext()) {\n                                BoardEntry boardEntry = iterator.next();\n                                int entryPosition = scoreboard.getObjective(DisplaySlot.SIDEBAR).getScore(boardEntry.getKey()).getScore();\n\n                                if (!options.scoreDirectionDown()) {\n                                    if (entryPosition &gt; scores.size()) {\n                                        iterator.remove();\n                                        boardEntry.remove();\n                                    }\n                                }\n\n                            }\n\n                            BoardEntry entry = board.getByPosition(positionToSearch);\n\n                            if (entry == null) {\n                                new BoardEntry(board, text).send(position);\n                            } else {\n                                entry.setText(text).setup().send(position);\n                            }\n\n                            if (board.getEntries().size() &gt; scores.size()) {\n                                iterator = board.getEntries().iterator();\n                                while (iterator.hasNext()) {\n                                    BoardEntry boardEntry = iterator.next();\n                                    if ((!translatedScores.contains(boardEntry.getText())) || Collections.frequency(board.getBoardEntriesFormatted(), boardEntry.getText()) &gt; 1) {\n                                        iterator.remove();\n                                        boardEntry.remove();\n                                    }\n                                }\n                            }\n                        }\n                        adapter.onScoreboardCreate(player, scoreboard);\n\n                        player.setScoreboard(scoreboard);\n                    }\n                }\n            }\n        }.runTaskTimerAsynchronously(plugin, 20L, 2L);\n    }\n\n    public void setAdapter(BoardAdapter adapter) {\n        this.adapter = adapter;\n        for (Player player : Bukkit.getOnlinePlayers()) {\n            Board board = Board.getByPlayer(player);\n\n            if (board != null) {\n                Board.getBoards().remove(board);\n            }\n\n            Bukkit.getPluginManager().callEvent(new BoardCreateEvent(new Board(player, this, options), player));\n        }\n    }\n\n    @EventHandler\n    public void onPlayerJoinEvent(PlayerJoinEvent event) {\n        if (Board.getByPlayer(event.getPlayer()) == null) {\n            Bukkit.getPluginManager().callEvent(new BoardCreateEvent(new Board(event.getPlayer(), this, options), event.getPlayer()));\n        }\n    }\n\n    @EventHandler(priority = EventPriority.HIGHEST)\n    public void onPlayerQuitEvent(PlayerQuitEvent event) {\n        Board board = Board.getByPlayer(event.getPlayer());\n        if (board != null) {\n            Board.getBoards().remove(board);\n        }\n    }\n\n}\n\n</code></pre>\n<p>The output of the program if I build it:</p>\n<pre><code>7: java: package lombok does not exist\n8: java: package org.bukkit does not exist\n9: java: package org.bukkit does not exist\n10: java: package org.bukkit.entity does not exist\n11: java: package org.bukkit.event does not exist\n12: java: package org.bukkit.event does not exist\n13: java: package org.bukkit.event does not exist\n14: java: package org.bukkit.event.player does not exist\n15: java: package org.bukkit.event.player does not exist\n16: java: package org.bukkit.plugin.java does not exist\n17: java: package org.bukkit.scheduler does not exist\n18: java: package org.bukkit.scoreboard does not exist\n19: java: package org.bukkit.scoreboard does not exist\n20: java: package org.bukkit.scoreboard does not exist\n21: java: package org.bukkit.scoreboard does not exist\n35: java: cannot find symbol\n  symbol: class Listener\n40: java: cannot find symbol\n  symbol:   class JavaPlugin\n  location: class com.bizarrealex.aether.Aether\n44: java: cannot find symbol\n  symbol:   class JavaPlugin\n  location: class com.bizarrealex.aether.Aether\n54: java: cannot find symbol\n  symbol:   class JavaPlugin\n  location: class com.bizarrealex.aether.Aether\n58: java: cannot find symbol\n  symbol:   class JavaPlugin\n  location: class com.bizarrealex.aether.Aether\n183: java: cannot find symbol\n  symbol:   class PlayerJoinEvent\n  location: class com.bizarrealex.aether.Aether\n190: java: cannot find symbol\n  symbol:   class PlayerQuitEvent\n  location: class com.bizarrealex.aether.Aether\n\n</code></pre>\n<p>I searched if the package was wrong but couldn't find anything and, after a guy told me to do this, i pointed the package in the pom.xml file like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n             &lt;groupId&gt;org.bukkit&lt;/groupId&gt;\n             &lt;artifactId&gt;bukkit&lt;/artifactId&gt;\n             &lt;version&gt;VERSION&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>the complete code is this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n     &lt;groupId&gt;us.zonix.practice&lt;/groupId&gt;\n     &lt;artifactId&gt;Practice&lt;/artifactId&gt;\n     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n     &lt;properties&gt;\n         &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n     &lt;/properties&gt;\n\n     &lt;repositories&gt;\n         &lt;repository&gt;\n             &lt;id&gt;sk89q-repo&lt;/id&gt;\n             &lt;url&gt;http://maven.sk89q.com/repo/&lt;/url&gt;\n         &lt;/repository&gt;\n\n         &lt;repository&gt;\n             &lt;id&gt;fawe-repo&lt;/id&gt;\n             &lt;url&gt;http://ci.athion.net/job/FastAsyncWorldEdit/ws/mvn/&lt;/url&gt;\n         &lt;/repository&gt;\n\n     &lt;/repositories&gt;\n\n    \n\n     &lt;dependencies&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;org.bukkit&lt;/groupId&gt;\n             &lt;artifactId&gt;bukkit&lt;/artifactId&gt;\n             &lt;version&gt;VERSION&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n             &lt;artifactId&gt;gson&lt;/artifactId&gt;\n             &lt;version&gt;LATEST&lt;/version&gt;\n             &lt;scope&gt;compile&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;com.sk89q&lt;/groupId&gt;\n             &lt;artifactId&gt;worldedit&lt;/artifactId&gt;\n             &lt;version&gt;6.0.0-SNAPSHOT&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;com.boydti&lt;/groupId&gt;\n             &lt;artifactId&gt;fawe-api&lt;/artifactId&gt;\n             &lt;version&gt;latest&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n             &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n             &lt;version&gt;1.14.8&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n             &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n             &lt;version&gt;2.9.0&lt;/version&gt;\n             &lt;scope&gt;compile&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n             &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n             &lt;version&gt;LATEST&lt;/version&gt;\n             &lt;scope&gt;compile&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;pt.foxspigot.jar&lt;/groupId&gt;\n             &lt;artifactId&gt;FoxSpigot&lt;/artifactId&gt;\n             &lt;version&gt;1.8.8-R0.1-SNAPSHOT&lt;/version&gt;\n             &lt;scope&gt;system&lt;/scope&gt;\n             &lt;systemPath&gt;${project.basedir}/libs/foxspigot-server.jar&lt;/systemPath&gt;\n         &lt;/dependency&gt;\n\n     &lt;/dependencies&gt;\n\n     &lt;build&gt;\n         &lt;plugins&gt;\n             &lt;plugins&gt;\n                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                 &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                 &lt;configuration&gt;\n                     &lt;source&gt;1.8&lt;/source&gt;\n                     &lt;target&gt;1.8&lt;/target&gt;\n                 &lt;/configuration&gt;\n             &lt;/plugins&gt;\n             &lt;plugins&gt;\n                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                 &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                 &lt;version&gt;2.1&lt;/version&gt;\n                 &lt;executions&gt;\n                     &lt;execution&gt;\n                         &lt;phase&gt;package&lt;/phase&gt;\n                         &lt;goals&gt;\n                             &lt;goal&gt;shade&lt;/goal&gt;\n                         &lt;/goals&gt;\n                     &lt;/execution&gt;\n                 &lt;/executions&gt;\n             &lt;/plugins&gt;\n         &lt;/plugins&gt;\n     &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","properties","configuration"],"owner":{"account_id":3020730,"reputation":179,"user_id":2561849,"accept_rate":33,"display_name":"Jens-Konrad Preem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683872459,"creation_date":1683872459,"question_id":76233610,"body_markdown":"I was following the instructions for such case as er question and answers in this post.\r\nhttps://stackoverflow.com/questions/31045955/using-configurationproperties-to-fill-map-in-generic-way\r\n\r\nNo Dice. The goal of me was to fill a map of countrycodes and names from a separate properties file.\r\n\r\n**countrycodes.properties**\r\n```\r\nIM=Man\r\nJE=Jersey\r\n```\r\nWhen I wired the following bean to a service and called the methods. Then the map was always returned as emtpty. For curiosity I created two field for IM and JE keys and those map finely.\r\n\r\n```\r\n@ConfigurationProperties\r\n@Component\r\n@PropertySource(&quot;classpath:countrycodes.properties&quot;)\r\npublic class CountryProperties {\r\n\r\n    private Map&lt;String, String&gt; namespace = new HashMap&lt;&gt;();\r\n\r\n    private String IM;\r\n    private String JE;\r\n\r\n//getters and setters\r\n\r\n```\r\n\r\n**random service.**\r\n\r\n```        \r\n//empty map\r\nvar map = countryProperties.getNamespace();\r\n//&quot;jersey&quot;\r\nvar jersey = countryProperties.getJE();\r\n//&quot;man&quot;\r\nvar man = countryProperties.getIM();\r\n\r\n```\r\n\r\nThe bean generated was exactly as posted in answer I linked but its behaviour did not correspond to the one described. There is no problem with property source location or soemthing like that as the other properties when added to bean map finely. Any ideas how i could get it to work","title":"Using configurationProperties to fill a map of all properties","body":"<p>I was following the instructions for such case as er question and answers in this post.\n<a href=\"https://stackoverflow.com/questions/31045955/using-configurationproperties-to-fill-map-in-generic-way\">Using ConfigurationProperties to fill Map in generic way</a></p>\n<p>No Dice. The goal of me was to fill a map of countrycodes and names from a separate properties file.</p>\n<p><strong>countrycodes.properties</strong></p>\n<pre><code>IM=Man\nJE=Jersey\n</code></pre>\n<p>When I wired the following bean to a service and called the methods. Then the map was always returned as emtpty. For curiosity I created two field for IM and JE keys and those map finely.</p>\n<pre><code>@ConfigurationProperties\n@Component\n@PropertySource(&quot;classpath:countrycodes.properties&quot;)\npublic class CountryProperties {\n\n    private Map&lt;String, String&gt; namespace = new HashMap&lt;&gt;();\n\n    private String IM;\n    private String JE;\n\n//getters and setters\n\n</code></pre>\n<p><strong>random service.</strong></p>\n<pre><code>//empty map\nvar map = countryProperties.getNamespace();\n//&quot;jersey&quot;\nvar jersey = countryProperties.getJE();\n//&quot;man&quot;\nvar man = countryProperties.getIM();\n\n</code></pre>\n<p>The bean generated was exactly as posted in answer I linked but its behaviour did not correspond to the one described. There is no problem with property source location or soemthing like that as the other properties when added to bean map finely. Any ideas how i could get it to work</p>\n"},{"tags":["java","gradle"],"answers":[{"comments":[{"owner":{"account_id":17325887,"reputation":1370,"user_id":12550134,"display_name":"Apollo"},"score":0,"creation_date":1683739967,"post_id":76220967,"comment_id":134414504,"body_markdown":"You&#39;re right, I mixed up the error in the terminal. VS Code has highlighting, but it is unable to find the dependencies and thus showing a different error. I&#39;ll check that. Thanks","body":"You&#39;re right, I mixed up the error in the terminal. VS Code has highlighting, but it is unable to find the dependencies and thus showing a different error. I&#39;ll check that. Thanks"},{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1683880495,"post_id":76220967,"comment_id":134437281,"body_markdown":"When you updated your project configuration (build.gradle), you need to right click the build.gradle file and select &#39;Reload Project&#39;. Or set the setting `java.configuration.updateBuildConfiguration` to `automatic`","body":"When you updated your project configuration (build.gradle), you need to right click the build.gradle file and select &#39;Reload Project&#39;. Or set the setting <code>java.configuration.updateBuildConfiguration</code> to <code>automatic</code>"}],"tags":[],"owner":{"account_id":8350435,"reputation":36,"user_id":6306344,"display_name":"Jeremie"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683738232,"creation_date":1683738232,"answer_id":76220967,"question_id":76220372,"body_markdown":"It&#39;s because the return type of `getGreeting()` is `String`, and return type of `StringUtils.isBlank(&quot;  &quot;)` is a `boolean`. \r\nSo you should change the return type like below\r\n\r\n    public boolean getGreeting() {\r\n        return StringUtils.isBlank(&quot;  &quot;);\r\n    }\r\n\r\n\r\nBeside, you should write java code using IDE like Intelij or Eclipse. It will highlight and report this kind of error for you\r\n","title":"Gradle init project not able to add dependencies to &quot;app&quot; subproject","body":"<p>It's because the return type of <code>getGreeting()</code> is <code>String</code>, and return type of <code>StringUtils.isBlank(&quot;  &quot;)</code> is a <code>boolean</code>.\nSo you should change the return type like below</p>\n<pre><code>public boolean getGreeting() {\n    return StringUtils.isBlank(&quot;  &quot;);\n}\n</code></pre>\n<p>Beside, you should write java code using IDE like Intelij or Eclipse. It will highlight and report this kind of error for you</p>\n"},{"tags":[],"owner":{"account_id":17325887,"reputation":1370,"user_id":12550134,"display_name":"Apollo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683870723,"creation_date":1683870723,"answer_id":76233471,"question_id":76220372,"body_markdown":"To clarify the issue: in VS Code the imports were marked red and not find, regardless of the error I did mentioned by Jeremie.\r\n\r\nI tried it on a different computer on which it worked. I tried it again on my working machine in a new profile with a clean checkout and it worked again. It seems that the Java or Gradle VSCode plugin had an issue, I guess?","title":"Gradle init project not able to add dependencies to &quot;app&quot; subproject","body":"<p>To clarify the issue: in VS Code the imports were marked red and not find, regardless of the error I did mentioned by Jeremie.</p>\n<p>I tried it on a different computer on which it worked. I tried it again on my working machine in a new profile with a clean checkout and it worked again. It seems that the Java or Gradle VSCode plugin had an issue, I guess?</p>\n"}],"owner":{"account_id":17325887,"reputation":1370,"user_id":12550134,"display_name":"Apollo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76233471,"answer_count":2,"score":0,"last_activity_date":1683870723,"creation_date":1683733448,"question_id":76220372,"body_markdown":"I created a new Gradle 8.1.1 project with `gradle init` chosing the options application (2), Java (3), no multiple subprojects, Groovy DSL, JUnit 5,the same project and source package name and Java 11.\r\n\r\nI added Apache Commons to app/build.gradle and wanted called StringUtils in App.java but it failed. I first thought VS Code had an issue, but running `./gradlew build` fails also with:\r\n\r\n```\r\ngradle-basic-structure-dep-error\\app\\src\\main\\java\\gradle\\basic\\structure\\dep\\error\\App.java:10: error: incompatible types: boolean cannot be converted to String\r\n        return StringUtils.isBlank(&quot;  &quot;);\r\n                                  ^\r\n1 error\r\n\r\nFAILURE: Build failed with an exception.\r\n```\r\n\r\nHere is the full example: https://github.com/cwansart/gradle-basic-structure-dep-error\r\n\r\nWhy is it failing? Might this be an error in the generated code?","title":"Gradle init project not able to add dependencies to &quot;app&quot; subproject","body":"<p>I created a new Gradle 8.1.1 project with <code>gradle init</code> chosing the options application (2), Java (3), no multiple subprojects, Groovy DSL, JUnit 5,the same project and source package name and Java 11.</p>\n<p>I added Apache Commons to app/build.gradle and wanted called StringUtils in App.java but it failed. I first thought VS Code had an issue, but running <code>./gradlew build</code> fails also with:</p>\n<pre><code>gradle-basic-structure-dep-error\\app\\src\\main\\java\\gradle\\basic\\structure\\dep\\error\\App.java:10: error: incompatible types: boolean cannot be converted to String\n        return StringUtils.isBlank(&quot;  &quot;);\n                                  ^\n1 error\n\nFAILURE: Build failed with an exception.\n</code></pre>\n<p>Here is the full example: <a href=\"https://github.com/cwansart/gradle-basic-structure-dep-error\" rel=\"nofollow noreferrer\">https://github.com/cwansart/gradle-basic-structure-dep-error</a></p>\n<p>Why is it failing? Might this be an error in the generated code?</p>\n"},{"tags":["java","xml","jaxp"],"comments":[{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1291980953,"post_id":4408299,"comment_id":4807201,"body_markdown":"What&#39;s DSL? what does it stand for?","body":"What&#39;s DSL? what does it stand for?"},{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1291981020,"post_id":4408299,"comment_id":4807219,"body_markdown":"@Elite: Domain-Specific Language","body":"@Elite: Domain-Specific Language"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1291981751,"post_id":4408299,"comment_id":4807333,"body_markdown":"What is your performance requirement? Even if its a bit slower, it is likely to be fast enough.  Performance isn&#39;t the only criteria which chosing a solution.","body":"What is your performance requirement? Even if its a bit slower, it is likely to be fast enough.  Performance isn&#39;t the only criteria which chosing a solution."},{"owner":{"account_id":661761,"reputation":2664,"user_id":474786,"display_name":"Anon"},"score":2,"creation_date":1291987738,"post_id":4408299,"comment_id":4808205,"body_markdown":"More important, your solution using a StringBuilder (StringBuffer is so 1990s) is almost guaranteed to be **broken**. In other words, it will occasionally produce output that a conforming XML parser will reject. There&#39;s more to building XML than &quot;escape handling.&quot;","body":"More important, your solution using a StringBuilder (StringBuffer is so 1990s) is almost guaranteed to be <b>broken</b>. In other words, it will occasionally produce output that a conforming XML parser will reject. There&#39;s more to building XML than &quot;escape handling.&quot;"},{"owner":{"account_id":109471,"reputation":4792,"user_id":290050,"accept_rate":87,"display_name":"Vladimir"},"score":0,"creation_date":1291995900,"post_id":4408299,"comment_id":4809700,"body_markdown":"@Peter Lawrey, Good question about performance requirement. I posted Update to explain. In short words my performance requirement is that code should do as many things as required to generate simple XML and not more.","body":"@Peter Lawrey, Good question about performance requirement. I posted Update to explain. In short words my performance requirement is that code should do as many things as required to generate simple XML and not more."},{"owner":{"account_id":109471,"reputation":4792,"user_id":290050,"accept_rate":87,"display_name":"Vladimir"},"score":0,"creation_date":1291996072,"post_id":4408299,"comment_id":4809737,"body_markdown":"@Anon, What do you think is needed more to build XML than simple espace handling and maintaing correct structure?","body":"@Anon, What do you think is needed more to build XML than simple espace handling and maintaing correct structure?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":4,"creation_date":1291998247,"post_id":4408299,"comment_id":4810176,"body_markdown":"@Vladimir, for your approach to be highly performant, you must be able to begin streaming out the result before you are finished generating the XML.  Also note that if you keep the whole result in memory, it might scale badly.","body":"@Vladimir, for your approach to be highly performant, you must be able to begin streaming out the result before you are finished generating the XML.  Also note that if you keep the whole result in memory, it might scale badly."},{"owner":{"account_id":661761,"reputation":2664,"user_id":474786,"display_name":"Anon"},"score":3,"creation_date":1291999168,"post_id":4408299,"comment_id":4810379,"body_markdown":"Well, let&#39;s start with encoding. You&#39;re generating output as a string, so how will you deal with converting that string to bytes? There are dozens of such seemingly minor points that are buried in the XML spec. But looking at your comments, you seem determined to go your own way, so I suppose that in a few weeks we&#39;ll get to hear from someone who is trying and failing to parse your XML with a standard parser, and wants to know how to parse with regexes.","body":"Well, let&#39;s start with encoding. You&#39;re generating output as a string, so how will you deal with converting that string to bytes? There are dozens of such seemingly minor points that are buried in the XML spec. But looking at your comments, you seem determined to go your own way, so I suppose that in a few weeks we&#39;ll get to hear from someone who is trying and failing to parse your XML with a standard parser, and wants to know how to parse with regexes."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1291999390,"post_id":4408299,"comment_id":4810426,"body_markdown":"@Vladmir, So your aim is for the simplest solution?  The simplest is likely to be the best, though it is the more complex solutions which tend to be more performant.","body":"@Vladmir, So your aim is for the simplest solution?  The simplest is likely to be the best, though it is the more complex solutions which tend to be more performant."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1291999639,"post_id":4408299,"comment_id":4810476,"body_markdown":"To limit your code to do not more than required you need to have a good understanding of what assumptions you can make. e.g. do you need characters at all, can you use just bytes? I suggest you test your output using a standard parser to so that your output can be read by a generic parser.","body":"To limit your code to do not more than required you need to have a good understanding of what assumptions you can make. e.g. do you need characters at all, can you use just bytes? I suggest you test your output using a standard parser to so that your output can be read by a generic parser."},{"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"score":0,"creation_date":1292002435,"post_id":4408299,"comment_id":4811044,"body_markdown":"Regarding update 3, check out:  http://bdoughan.blogspot.com/2010/10/how-does-jaxb-compare-to-xstream.html","body":"Regarding update 3, check out:  <a href=\"http://bdoughan.blogspot.com/2010/10/how-does-jaxb-compare-to-xstream.html\" rel=\"nofollow noreferrer\">bdoughan.blogspot.com/2010/10/&hellip;</a>"},{"owner":{"account_id":109471,"reputation":4792,"user_id":290050,"accept_rate":87,"display_name":"Vladimir"},"score":0,"creation_date":1292004278,"post_id":4408299,"comment_id":4811361,"body_markdown":"@Blaise Doughan, Thank you. I&#39;ve sent you a question by email.","body":"@Blaise Doughan, Thank you. I&#39;ve sent you a question by email."}],"answers":[{"comments":[{"owner":{"account_id":109471,"reputation":4792,"user_id":290050,"accept_rate":87,"display_name":"Vladimir"},"score":0,"creation_date":1291996193,"post_id":4408500,"comment_id":4809765,"body_markdown":"I agree with you, but as you mentioned I don&#39;t have time for that. I should choose solution based on existent experience. Once I pick right way I will not go for other ways even if they will be slightly better.","body":"I agree with you, but as you mentioned I don&#39;t have time for that. I should choose solution based on existent experience. Once I pick right way I will not go for other ways even if they will be slightly better."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":4,"creation_date":1291998312,"post_id":4408500,"comment_id":4810189,"body_markdown":"@Vladimir, if you do not have time for analyzing, you do not have time for coding either.  Go for a solution where you generate SAX-events to a Transformer generating your result.","body":"@Vladimir, if you do not have time for analyzing, you do not have time for coding either.  Go for a solution where you generate SAX-events to a Transformer generating your result."},{"owner":{"account_id":102129,"reputation":7632,"user_id":274344,"accept_rate":82,"display_name":"Simeon"},"score":2,"creation_date":1291999755,"post_id":4408500,"comment_id":4810511,"body_markdown":"@Vladimir you might end up loosing time if you don&#39;t test them. You might not be able to choose on existing experience if you don&#39;t have it, which is currently the case with these 2 libraries. If I can make an analogy, it would be that you currently have options A, B and C. You are going for option C without knowing what options A and B are. Which might end up hurting you. If you don&#39;t have time to check then go with either since there is now way to know if that is the right choice.","body":"@Vladimir you might end up loosing time if you don&#39;t test them. You might not be able to choose on existing experience if you don&#39;t have it, which is currently the case with these 2 libraries. If I can make an analogy, it would be that you currently have options A, B and C. You are going for option C without knowing what options A and B are. Which might end up hurting you. If you don&#39;t have time to check then go with either since there is now way to know if that is the right choice."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":1,"creation_date":1292973934,"post_id":4408500,"comment_id":4930774,"body_markdown":"I can only say that I agree with previous comments -- if you do not know current performance, or what you want, it is likely you will spend time writing code that either does not work well, or is no faster, or quite possibly, both. Testing need not take very long; if you have done performance testing before it really is quite easy to try out.","body":"I can only say that I agree with previous comments -- if you do not know current performance, or what you want, it is likely you will spend time writing code that either does not work well, or is no faster, or quite possibly, both. Testing need not take very long; if you have done performance testing before it really is quite easy to try out."}],"tags":[],"owner":{"account_id":102129,"reputation":7632,"user_id":274344,"accept_rate":82,"display_name":"Simeon"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1296146285,"creation_date":1291981538,"answer_id":4408500,"question_id":4408299,"body_markdown":"I will suggest something very controversial but still ...\r\n\r\n**Make profiling and performance tests** with both libraries.\r\n\r\nIf you don&#39;t have time for that, assuming something is slow would be the wrong choice in my opinion.\r\nBecause if it turns out that it actually is not slow, it would save you a lot of time to use an already built and supported library/framework.\r\n\r\nAnother thought.\r\nYou will need to test your completed high performance solution against the solutions already available anyway, to check if it is really high performance. So I would strongly suggest measuring the performance of the libraries available before starting your own.","title":"Custom Java XMLBuilder vs Standard classes-based","body":"<p>I will suggest something very controversial but still ...</p>\n\n<p><strong>Make profiling and performance tests</strong> with both libraries.</p>\n\n<p>If you don't have time for that, assuming something is slow would be the wrong choice in my opinion.\nBecause if it turns out that it actually is not slow, it would save you a lot of time to use an already built and supported library/framework.</p>\n\n<p>Another thought.\nYou will need to test your completed high performance solution against the solutions already available anyway, to check if it is really high performance. So I would strongly suggest measuring the performance of the libraries available before starting your own.</p>\n"},{"comments":[{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1292973987,"post_id":4408593,"comment_id":4930783,"body_markdown":"It looks, though, like it would build a DOM tree equivalent in memory, and only then write out. This means performance of DOM-based output as well as memory limitations.","body":"It looks, though, like it would build a DOM tree equivalent in memory, and only then write out. This means performance of DOM-based output as well as memory limitations."}],"tags":[],"owner":{"account_id":210884,"reputation":332,"user_id":462735,"display_name":"Dmitry"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291982183,"creation_date":1291982183,"answer_id":4408593,"question_id":4408299,"body_markdown":"There is powerful and flexible Groovy&#39;s NodeBuilder ([http://groovy.codehaus.org/GroovyMarkup][1]).\r\n\r\n    def root = new NodeBuilder()\r\n      .people(kind:&#39;folks&#39;, groovy:true) {\r\n        person(x:123,  name:&#39;James&#39;, cheese:&#39;edam&#39;) {\r\n          project(name:&#39;groovy&#39;)\r\n          project(name:&#39;geronimo&#39;)\r\n        }\r\n        person(x:234,  name:&#39;bob&#39;, cheese:&#39;cheddar&#39;) {\r\n          project(name:&#39;groovy&#39;)\r\n          project(name:&#39;drools&#39;)\r\n        }\r\n      }\r\n    XmlUtil.serialize(root, System.out)\r\n\r\nThis results with an XML document:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;people kind=&quot;folks&quot; groovy=&quot;true&quot;&gt;\r\n      &lt;person x=&quot;123&quot; name=&quot;James&quot; cheese=&quot;edam&quot;&gt;\r\n        &lt;project name=&quot;groovy&quot;/&gt;\r\n        &lt;project name=&quot;geronimo&quot;/&gt;\r\n      &lt;/person&gt;\r\n      &lt;person x=&quot;234&quot; name=&quot;bob&quot; cheese=&quot;cheddar&quot;&gt;\r\n        &lt;project name=&quot;groovy&quot;/&gt;\r\n        &lt;project name=&quot;drools&quot;/&gt;\r\n      &lt;/person&gt;\r\n    &lt;/people&gt;\r\n\r\n\r\n  [1]: http://groovy.codehaus.org/GroovyMarkup","title":"Custom Java XMLBuilder vs Standard classes-based","body":"<p>There is powerful and flexible Groovy's NodeBuilder (<a href=\"http://groovy.codehaus.org/GroovyMarkup\" rel=\"nofollow\">http://groovy.codehaus.org/GroovyMarkup</a>).</p>\n\n<pre><code>def root = new NodeBuilder()\n  .people(kind:'folks', groovy:true) {\n    person(x:123,  name:'James', cheese:'edam') {\n      project(name:'groovy')\n      project(name:'geronimo')\n    }\n    person(x:234,  name:'bob', cheese:'cheddar') {\n      project(name:'groovy')\n      project(name:'drools')\n    }\n  }\nXmlUtil.serialize(root, System.out)\n</code></pre>\n\n<p>This results with an XML document:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;people kind=\"folks\" groovy=\"true\"&gt;\n  &lt;person x=\"123\" name=\"James\" cheese=\"edam\"&gt;\n    &lt;project name=\"groovy\"/&gt;\n    &lt;project name=\"geronimo\"/&gt;\n  &lt;/person&gt;\n  &lt;person x=\"234\" name=\"bob\" cheese=\"cheddar\"&gt;\n    &lt;project name=\"groovy\"/&gt;\n    &lt;project name=\"drools\"/&gt;\n  &lt;/person&gt;\n&lt;/people&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":109471,"reputation":4792,"user_id":290050,"accept_rate":87,"display_name":"Vladimir"},"score":0,"creation_date":1292002004,"post_id":4411321,"comment_id":4810985,"body_markdown":"thank you for this answer quite appreciate. I slightly rethought my goal into direction of more simple and convenient solution rather than more performant.","body":"thank you for this answer quite appreciate. I slightly rethought my goal into direction of more simple and convenient solution rather than more performant."},{"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"score":0,"creation_date":1292002310,"post_id":4411321,"comment_id":4811026,"body_markdown":"No problem.  I&#39;ll admit my bias upfront that I lead the EclipseLink JAXB (MOXy) implementation.  But JAXB is the standard for object to XML mapping (several implementations:  Metro, MOXy, JaxMe, etc).  In your question you made a big point about performance, and XStream (like all XML serializers) have a performance hit because there is no upfront initialization time.  Google and check out my blog for more info:  http://bdoughan.blogspot.com/2010/10/how-does-jaxb-compare-to-xstream.html","body":"No problem.  I&#39;ll admit my bias upfront that I lead the EclipseLink JAXB (MOXy) implementation.  But JAXB is the standard for object to XML mapping (several implementations:  Metro, MOXy, JaxMe, etc).  In your question you made a big point about performance, and XStream (like all XML serializers) have a performance hit because there is no upfront initialization time.  Google and check out my blog for more info:  <a href=\"http://bdoughan.blogspot.com/2010/10/how-does-jaxb-compare-to-xstream.html\" rel=\"nofollow noreferrer\">bdoughan.blogspot.com/2010/10/&hellip;</a>"},{"owner":{"account_id":109471,"reputation":4792,"user_id":290050,"accept_rate":87,"display_name":"Vladimir"},"score":0,"creation_date":1292002636,"post_id":4411321,"comment_id":4811088,"body_markdown":"great to hear from you. I am checking your blog know. By the way I was using TopLink 5 years later - nice API comparing to Hibernate :-)","body":"great to hear from you. I am checking your blog know. By the way I was using TopLink 5 years later - nice API comparing to Hibernate :-)"}],"tags":[],"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1292000232,"creation_date":1292000232,"answer_id":4411321,"question_id":4408299,"body_markdown":"Regarding:\r\n\r\n&gt; Standard XML builders uses Document\r\n&gt; Builder Factory and works with classes\r\n&gt; behind the scenes. Also these classes\r\n&gt; optimized to fit all users. For\r\n&gt; example I don&#39;t need namespace support\r\n&gt; etc.\r\n\r\nAn alternative to DOM is StAX ([JSR-173][1]).  It is a Streaming API for XML that is quite fast.  There are several implementations, I have found [Woodstox][2] to be quite performant.\r\n\r\n\r\n  [1]: http://jcp.org/en/jsr/detail?id=173\r\n  [2]: http://woodstox.codehaus.org/","title":"Custom Java XMLBuilder vs Standard classes-based","body":"<p>Regarding:</p>\n\n<blockquote>\n  <p>Standard XML builders uses Document\n  Builder Factory and works with classes\n  behind the scenes. Also these classes\n  optimized to fit all users. For\n  example I don't need namespace support\n  etc.</p>\n</blockquote>\n\n<p>An alternative to DOM is StAX (<a href=\"http://jcp.org/en/jsr/detail?id=173\" rel=\"nofollow\">JSR-173</a>).  It is a Streaming API for XML that is quite fast.  There are several implementations, I have found <a href=\"http://woodstox.codehaus.org/\" rel=\"nofollow\">Woodstox</a> to be quite performant.</p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292974073,"creation_date":1292973711,"answer_id":4504896,"question_id":4408299,"body_markdown":"One more high-performance suggestion: use [StaxMate][1] -- it is as fast as underlying Stax-based XML writer, which is rather fast (40 - 80 megabytes per second, sustained). Just make sure you do NOT use default JDK 6 Stax implementation (Sun sjsxp) but something faster like Woodstox or Aalto.\r\n\r\nI would strongly recommend against writing your own XML writer; it is typically risky (good chance you will forget some part of escaping) as others have mentioned, and not all that likely to be faster than existing **efficient** solutions (not all existing solutions are efficient; you do need to find ones that are). And in the end... unless you really want to write these things, why not work on something more interesting and meaningful?\r\n\r\nBut if you do want to do something above and beyond existing writers you could consider using a simple writer and augmenting it with additional functionality that you need. For example, if you just use Stax XMLStreamWriter as base, it is quite easy to add simple but efficient abstractions. Or if you like existing packages, see if you can suggest improvements to their authors (or even code contributions).\r\n\r\n  [1]: http://staxmate.codehaus.org","title":"Custom Java XMLBuilder vs Standard classes-based","body":"<p>One more high-performance suggestion: use <a href=\"http://staxmate.codehaus.org\" rel=\"nofollow\">StaxMate</a> -- it is as fast as underlying Stax-based XML writer, which is rather fast (40 - 80 megabytes per second, sustained). Just make sure you do NOT use default JDK 6 Stax implementation (Sun sjsxp) but something faster like Woodstox or Aalto.</p>\n\n<p>I would strongly recommend against writing your own XML writer; it is typically risky (good chance you will forget some part of escaping) as others have mentioned, and not all that likely to be faster than existing <strong>efficient</strong> solutions (not all existing solutions are efficient; you do need to find ones that are). And in the end... unless you really want to write these things, why not work on something more interesting and meaningful?</p>\n\n<p>But if you do want to do something above and beyond existing writers you could consider using a simple writer and augmenting it with additional functionality that you need. For example, if you just use Stax XMLStreamWriter as base, it is quite easy to add simple but efficient abstractions. Or if you like existing packages, see if you can suggest improvements to their authors (or even code contributions).</p>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683869787,"creation_date":1682935298,"answer_id":76146074,"question_id":4408299,"body_markdown":"There is powerful [XmlBuilder][1]\r\n\r\n```java\r\nimport com.github.underscore.XmlBuilder;\r\n\r\nvar xmlBuilder =\r\n    XmlBuilder.create(&quot;people&quot;)\r\n        .a(&quot;kind&quot;, &quot;folks&quot;)\r\n        .a(&quot;groovy&quot;, &quot;true&quot;)\r\n        .e(&quot;person&quot;)\r\n        .a(&quot;x&quot;, &quot;123&quot;)\r\n        .a(&quot;name&quot;, &quot;James&quot;)\r\n        .a(&quot;cheese&quot;, &quot;edam&quot;)\r\n        .e(&quot;project&quot;)\r\n        .a(&quot;name&quot;, &quot;groovy&quot;)\r\n        .a(&quot;self-closing&quot;, &quot;true&quot;)\r\n        .up()\r\n        .e(&quot;project&quot;)\r\n        .a(&quot;name&quot;, &quot;geronimo&quot;)\r\n        .a(&quot;self-closing&quot;, &quot;true&quot;)\r\n        .up()\r\n        .up()\r\n        .e(&quot;person&quot;)\r\n        .a(&quot;x&quot;, &quot;234&quot;)\r\n        .a(&quot;name&quot;, &quot;bob&quot;)\r\n        .a(&quot;cheese&quot;, &quot;cheddar&quot;)\r\n        .e(&quot;project&quot;)\r\n        .a(&quot;name&quot;, &quot;groovy&quot;)\r\n        .a(&quot;self-closing&quot;, &quot;true&quot;)\r\n        .up()\r\n        .e(&quot;project&quot;)\r\n        .a(&quot;name&quot;, &quot;drools&quot;)\r\n        .a(&quot;self-closing&quot;, &quot;true&quot;);\r\nSystem.out.println(xmlBuilder.toXml(Xml.XmlStringBuilder.Step.FOUR_SPACES));\r\n```\r\nThis results with an XML document:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;people kind=&quot;folks&quot; groovy=&quot;true&quot;&gt;\r\n    &lt;person x=&quot;123&quot; name=&quot;James&quot; cheese=&quot;edam&quot;&gt;\r\n        &lt;project name=&quot;groovy&quot;/&gt;\r\n        &lt;project name=&quot;geronimo&quot;/&gt;\r\n    &lt;/person&gt;\r\n    &lt;person x=&quot;234&quot; name=&quot;bob&quot; cheese=&quot;cheddar&quot;&gt;\r\n        &lt;project name=&quot;groovy&quot;/&gt;\r\n        &lt;project name=&quot;drools&quot;/&gt;\r\n    &lt;/person&gt;\r\n&lt;/people&gt;\r\n```\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"Custom Java XMLBuilder vs Standard classes-based","body":"<p>There is powerful <a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">XmlBuilder</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.github.underscore.XmlBuilder;\n\nvar xmlBuilder =\n    XmlBuilder.create(&quot;people&quot;)\n        .a(&quot;kind&quot;, &quot;folks&quot;)\n        .a(&quot;groovy&quot;, &quot;true&quot;)\n        .e(&quot;person&quot;)\n        .a(&quot;x&quot;, &quot;123&quot;)\n        .a(&quot;name&quot;, &quot;James&quot;)\n        .a(&quot;cheese&quot;, &quot;edam&quot;)\n        .e(&quot;project&quot;)\n        .a(&quot;name&quot;, &quot;groovy&quot;)\n        .a(&quot;self-closing&quot;, &quot;true&quot;)\n        .up()\n        .e(&quot;project&quot;)\n        .a(&quot;name&quot;, &quot;geronimo&quot;)\n        .a(&quot;self-closing&quot;, &quot;true&quot;)\n        .up()\n        .up()\n        .e(&quot;person&quot;)\n        .a(&quot;x&quot;, &quot;234&quot;)\n        .a(&quot;name&quot;, &quot;bob&quot;)\n        .a(&quot;cheese&quot;, &quot;cheddar&quot;)\n        .e(&quot;project&quot;)\n        .a(&quot;name&quot;, &quot;groovy&quot;)\n        .a(&quot;self-closing&quot;, &quot;true&quot;)\n        .up()\n        .e(&quot;project&quot;)\n        .a(&quot;name&quot;, &quot;drools&quot;)\n        .a(&quot;self-closing&quot;, &quot;true&quot;);\nSystem.out.println(xmlBuilder.toXml(Xml.XmlStringBuilder.Step.FOUR_SPACES));\n</code></pre>\n<p>This results with an XML document:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;people kind=&quot;folks&quot; groovy=&quot;true&quot;&gt;\n    &lt;person x=&quot;123&quot; name=&quot;James&quot; cheese=&quot;edam&quot;&gt;\n        &lt;project name=&quot;groovy&quot;/&gt;\n        &lt;project name=&quot;geronimo&quot;/&gt;\n    &lt;/person&gt;\n    &lt;person x=&quot;234&quot; name=&quot;bob&quot; cheese=&quot;cheddar&quot;&gt;\n        &lt;project name=&quot;groovy&quot;/&gt;\n        &lt;project name=&quot;drools&quot;/&gt;\n    &lt;/person&gt;\n&lt;/people&gt;\n</code></pre>\n"}],"owner":{"account_id":109471,"reputation":4792,"user_id":290050,"accept_rate":87,"display_name":"Vladimir"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1629,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":4408500,"answer_count":5,"score":5,"last_activity_date":1683869787,"creation_date":1291980145,"question_id":4408299,"body_markdown":"What is the best performance solution for XML generation.\r\n\r\nMy goal is to build a few simple XMLs from code. I am going to implement simple custom StringBuffer based implementation of XML Builder. From other side there are several libraries like http://code.google.com/p/java-xmlbuilder/ and http://code.google.com/p/xmltool/ which has nice DSL but I guess lack on performance.\r\n\r\nSince my goal is build simple enough XMLBuilder with great performance I think I will build custom solution. It will featuring:\r\n\r\n- Nice Java-based DSL for XML constructs (adding tags basically)\r\n- Great StringBuffer based performance.\r\n- String data escape handling when adding XML tags.\r\n- Auto-indent\r\n\r\nPlease suggest if I am wrong on performance expectations and its probably better to use ready-made libraries.\r\n\r\n\r\n**UPDATE.** Why I think the performance of standard xml builders is not very good.\r\n\r\nStandard XML builders uses Document Builder Factory and works with classes behind the scenes. Also these classes optimized to fit all users. For example I don&#39;t need namespace support etc.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;&gt;\r\n    &lt;root&gt;\r\n     &lt;testdata&gt;value&lt;/testdata&gt;\r\n    &lt;/root&gt;\r\n    &lt;/xml&gt;\r\n\r\nConsider very simple XML code above. If you build with standard tools it will involve so many work just to make this simple XML. I consider that it&#39;s better to just generate it by myself using String.\r\n\r\n**UPDATE 2**. Performance requirement is that code should do as many things as required to generate simple XML and not more. \r\n\r\n**UPDATE 3. Thanks** everyone for great comments! Now I understand better what I need and that my initial goal was not set very correctly with word &quot;performance&quot;. My true goal is to use simple enough solution with convenient DSL to describe the XML structure and generate the XML output.\r\n\r\nI will use plain Java objects as DSL for XML and generate XML using XStream library which is pretty straightforward solution.\r\n\r\n**UPDATE 4. JAXB.** I discussed XStream vs JAXB and found that JAXB is faster than XStream. Plus I already use JAXB in my project and I like its standard annotations. I change my mind and will go with JAXB for now because XStream was originally heavily developed at the time when JAXB was not so good as today.","title":"Custom Java XMLBuilder vs Standard classes-based","body":"<p>What is the best performance solution for XML generation.</p>\n\n<p>My goal is to build a few simple XMLs from code. I am going to implement simple custom StringBuffer based implementation of XML Builder. From other side there are several libraries like <a href=\"http://code.google.com/p/java-xmlbuilder/\" rel=\"nofollow\">http://code.google.com/p/java-xmlbuilder/</a> and <a href=\"http://code.google.com/p/xmltool/\" rel=\"nofollow\">http://code.google.com/p/xmltool/</a> which has nice DSL but I guess lack on performance.</p>\n\n<p>Since my goal is build simple enough XMLBuilder with great performance I think I will build custom solution. It will featuring:</p>\n\n<ul>\n<li>Nice Java-based DSL for XML constructs (adding tags basically)</li>\n<li>Great StringBuffer based performance.</li>\n<li>String data escape handling when adding XML tags.</li>\n<li>Auto-indent</li>\n</ul>\n\n<p>Please suggest if I am wrong on performance expectations and its probably better to use ready-made libraries.</p>\n\n<p><strong>UPDATE.</strong> Why I think the performance of standard xml builders is not very good.</p>\n\n<p>Standard XML builders uses Document Builder Factory and works with classes behind the scenes. Also these classes optimized to fit all users. For example I don't need namespace support etc.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"&gt;\n&lt;root&gt;\n &lt;testdata&gt;value&lt;/testdata&gt;\n&lt;/root&gt;\n&lt;/xml&gt;\n</code></pre>\n\n<p>Consider very simple XML code above. If you build with standard tools it will involve so many work just to make this simple XML. I consider that it's better to just generate it by myself using String.</p>\n\n<p><strong>UPDATE 2</strong>. Performance requirement is that code should do as many things as required to generate simple XML and not more. </p>\n\n<p><strong>UPDATE 3. Thanks</strong> everyone for great comments! Now I understand better what I need and that my initial goal was not set very correctly with word \"performance\". My true goal is to use simple enough solution with convenient DSL to describe the XML structure and generate the XML output.</p>\n\n<p>I will use plain Java objects as DSL for XML and generate XML using XStream library which is pretty straightforward solution.</p>\n\n<p><strong>UPDATE 4. JAXB.</strong> I discussed XStream vs JAXB and found that JAXB is faster than XStream. Plus I already use JAXB in my project and I like its standard annotations. I change my mind and will go with JAXB for now because XStream was originally heavily developed at the time when JAXB was not so good as today.</p>\n"},{"tags":["java","spring","jar","war","manifest"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1653577813,"post_id":72393920,"comment_id":127889858,"body_markdown":"Are you asking how to read the manifest of a .war file from a class which resides in one of the .war file’s WEB-INF/lib/*.jar files?","body":"Are you asking how to read the manifest of a .war file from a class which resides in one of the .war file’s WEB-INF/lib/*.jar files?"},{"owner":{"account_id":3362570,"reputation":421,"user_id":2824059,"accept_rate":79,"display_name":"slider"},"score":0,"creation_date":1653577979,"post_id":72393920,"comment_id":127889935,"body_markdown":"@VGR\nYes, that&#39;s right.","body":"@VGR Yes, that&#39;s right."}],"answers":[{"comments":[{"owner":{"account_id":3362570,"reputation":421,"user_id":2824059,"accept_rate":79,"display_name":"slider"},"score":0,"creation_date":1653580024,"post_id":72394290,"comment_id":127890733,"body_markdown":"Thanx for reply. But servlets are not used here. I am trying to get a manifest in the initialization code of spring-bean (starting spring-context). Updated the question.","body":"Thanx for reply. But servlets are not used here. I am trying to get a manifest in the initialization code of spring-bean (starting spring-context). Updated the question."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1653580971,"post_id":72394290,"comment_id":127891114,"body_markdown":"@slider Updated answer.  I haven’t tried this approach, though.","body":"@slider Updated answer.  I haven’t tried this approach, though."},{"owner":{"account_id":3362570,"reputation":421,"user_id":2824059,"accept_rate":79,"display_name":"slider"},"score":0,"creation_date":1653662605,"post_id":72394290,"comment_id":127912442,"body_markdown":"It works correctly. This is what was required. Thanks!","body":"It works correctly. This is what was required. Thanks!"}],"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653580943,"creation_date":1653578929,"answer_id":72394290,"question_id":72393920,"body_markdown":"Since a .war file’s purpose is to handle servlets, I assume all of your code is called from servlets, or from a technology built on servlets, like JSP, JSF, or even Spring.\r\n\r\nCall the current request’s [getServletContext() method](https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getServletContext--), and use the [getResource](https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletContext.html#getResource-java.lang.String-) or [getResourceAsStream](https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletContext.html#getResourceAsStream-java.lang.String-) method of ServletContext.  Those methods work just like the same methods of java.lang.Class, only they look in the .war file itself before searching the web application’s classpath for a matching path.\r\n\r\nFor example:\r\n\r\n    public Optional&lt;Manifest&gt; getWarManifest(ServletRequest request)\r\n    throws IOException {\r\n\r\n        InputStream manifest =\r\n            request.getServletContext().getResourceAsStream(\r\n                &quot;/META-INF/MANIFEST.MF&quot;);\r\n\r\n        if (manifest == null) {\r\n            return Optional.empty();\r\n        }\r\n\r\n        try (InputStream stream = new BufferedInputStream(manifest)) {\r\n            return Optional.of(new Manifest(stream));\r\n        }\r\n    }\r\n\r\n**Update:**\r\n\r\nSince you want to read the manifest when preparing a Spring bean, it appears [you can autowire a ServletContext object](https://stackoverflow.com/questions/47269496/spring-get-servletcontext-and-provide-it-as-a-bean):\r\n\r\n    @Configuration\r\n    public class MyAppConfig {\r\n        @Bean\r\n        public MyBean createMyBean(@Autowired ServletContext context)\r\n        throws IOException {\r\n\r\n            Optional&lt;Manifest&gt; manifest;\r\n\r\n            InputStream source =\r\n                context.getResourceAsStream(&quot;/META-INF/MANIFEST.MF&quot;);\r\n\r\n            if (source == null) {\r\n                manifest = Optional.empty();\r\n            } else {\r\n                try (InputStream stream = new BufferedInputStream(source)) {\r\n                    manifest = Optional.of(new Manifest(stream));\r\n                }\r\n            }\r\n\r\n            return new MyBean(manifest);\r\n        }\r\n    }\r\n","title":"How to read war-file manifest in its jar-dependency?","body":"<p>Since a .war file’s purpose is to handle servlets, I assume all of your code is called from servlets, or from a technology built on servlets, like JSP, JSF, or even Spring.</p>\n<p>Call the current request’s <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getServletContext--\" rel=\"nofollow noreferrer\">getServletContext() method</a>, and use the <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletContext.html#getResource-java.lang.String-\" rel=\"nofollow noreferrer\">getResource</a> or <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletContext.html#getResourceAsStream-java.lang.String-\" rel=\"nofollow noreferrer\">getResourceAsStream</a> method of ServletContext.  Those methods work just like the same methods of java.lang.Class, only they look in the .war file itself before searching the web application’s classpath for a matching path.</p>\n<p>For example:</p>\n<pre><code>public Optional&lt;Manifest&gt; getWarManifest(ServletRequest request)\nthrows IOException {\n\n    InputStream manifest =\n        request.getServletContext().getResourceAsStream(\n            &quot;/META-INF/MANIFEST.MF&quot;);\n\n    if (manifest == null) {\n        return Optional.empty();\n    }\n\n    try (InputStream stream = new BufferedInputStream(manifest)) {\n        return Optional.of(new Manifest(stream));\n    }\n}\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>Since you want to read the manifest when preparing a Spring bean, it appears <a href=\"https://stackoverflow.com/questions/47269496/spring-get-servletcontext-and-provide-it-as-a-bean\">you can autowire a ServletContext object</a>:</p>\n<pre><code>@Configuration\npublic class MyAppConfig {\n    @Bean\n    public MyBean createMyBean(@Autowired ServletContext context)\n    throws IOException {\n\n        Optional&lt;Manifest&gt; manifest;\n\n        InputStream source =\n            context.getResourceAsStream(&quot;/META-INF/MANIFEST.MF&quot;);\n\n        if (source == null) {\n            manifest = Optional.empty();\n        } else {\n            try (InputStream stream = new BufferedInputStream(source)) {\n                manifest = Optional.of(new Manifest(stream));\n            }\n        }\n\n        return new MyBean(manifest);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7917905,"reputation":186,"user_id":5979787,"display_name":"Maxim Karavaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683869473,"creation_date":1683869473,"answer_id":76233385,"question_id":72393920,"body_markdown":"There could be an alternative approach... If you can change the build configuration of your WAR file, then you can simply add all build properties into a different file in an accessible location. For example:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;write-project-properties&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputFile&gt;${project.build.directory}/classes/maven.properties&lt;/outputFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\nAfter that, you can access all needed information from it without bothering with the Manifest file.","title":"How to read war-file manifest in its jar-dependency?","body":"<p>There could be an alternative approach... If you can change the build configuration of your WAR file, then you can simply add all build properties into a different file in an accessible location. For example:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;write-project-properties&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputFile&gt;${project.build.directory}/classes/maven.properties&lt;/outputFile&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>After that, you can access all needed information from it without bothering with the Manifest file.</p>\n"}],"owner":{"account_id":3362570,"reputation":421,"user_id":2824059,"accept_rate":79,"display_name":"slider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72394290,"answer_count":2,"score":0,"last_activity_date":1683869473,"creation_date":1653577331,"question_id":72393920,"body_markdown":"How do I read the `war`-file manifest property in its `jar`-dependency?\r\n\r\nUPD: servlets are not used here (it&#39;s spring-bean initialization code).\r\n","title":"How to read war-file manifest in its jar-dependency?","body":"<p>How do I read the <code>war</code>-file manifest property in its <code>jar</code>-dependency?</p>\n<p>UPD: servlets are not used here (it's spring-bean initialization code).</p>\n"},{"tags":["java","mysql","tomcat","java-8","tomcat9"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683865990,"post_id":76233109,"comment_id":134435031,"body_markdown":"The classname (com.mysql.jdbc.Driver) is incorrect for that version of the Connector-J driver.","body":"The classname (com.mysql.jdbc.Driver) is incorrect for that version of the Connector-J driver."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683866121,"post_id":76233109,"comment_id":134435042,"body_markdown":"See https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-driver-name.html","body":"See <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-driver-name.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/&hellip;</a>"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683866736,"post_id":76233109,"comment_id":134435111,"body_markdown":"getting this error now &quot;Unable to load class: com.mysql.cj.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:ParallelWebappClassLoader\n&quot;","body":"getting this error now &quot;Unable to load class: com.mysql.cj.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:Par&zwnj;&#8203;allelWebappClassLoad&zwnj;&#8203;er &quot;"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683866862,"post_id":76233109,"comment_id":134435127,"body_markdown":"Is the JAR for the driver in your WAR file?   Check.","body":"Is the JAR for the driver in your WAR file?   Check."},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683866914,"post_id":76233109,"comment_id":134435132,"body_markdown":"&quot;org.apache.catalina.loader.WebappClassLoaderBase checkStateForResourceLoading\nINFO: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\njava.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n&quot;at the endoferrorlog","body":"&quot;org.apache.catalina.loader.WebappClassLoaderBase checkStateForResourceLoading INFO: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access. java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access. &quot;at the endoferrorlog"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683867028,"post_id":76233109,"comment_id":134435148,"body_markdown":"by this &quot;Is the JAR for the driver in your WAR file&quot; do you mean in my repository default one that starts with .m2/....","body":"by this &quot;Is the JAR for the driver in your WAR file&quot; do you mean in my repository default one that starts with .m2/...."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683867440,"post_id":76233109,"comment_id":134435200,"body_markdown":"No.  I mean the WAR file that Maven is building and that you are deploying to your Tomcat.","body":"No.  I mean the WAR file that Maven is building and that you are deploying to your Tomcat."},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683867710,"post_id":76233109,"comment_id":134435227,"body_markdown":"yes in my abc/web-inf/lib folder &quot;mysql-connector-j-8.0.31.jar&quot; is present","body":"yes in my abc/web-inf/lib folder &quot;mysql-connector-j-8.0.31.jar&quot; is present"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683868979,"post_id":76233109,"comment_id":134435372,"body_markdown":"You need to show the `Context.xml` in which this resource is defined to Tomcat, but your question is really off topic here.","body":"You need to show the <code>Context.xml</code> in which this resource is defined to Tomcat, but your question is really off topic here."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1683869219,"post_id":76233109,"comment_id":134435399,"body_markdown":"I suspect you may need to copy that JAR to the tomcat shared library folder.  I&#39;m not sure whether the Tomcat DataSource config is going to search your webapp&#39;s classpath.","body":"I suspect you may need to copy that JAR to the tomcat shared library folder.  I&#39;m not sure whether the Tomcat DataSource config is going to search your webapp&#39;s classpath."},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683869743,"post_id":76233109,"comment_id":134435468,"body_markdown":"added the context.xml file","body":"added the context.xml file"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683870500,"post_id":76233109,"comment_id":134435581,"body_markdown":"@StephenC is correct. If that is the Tomcat Context.xml rather than the application&#39;s, and it appears to be, the driver JAR file needs to be in the Tomcat lib directory. However, contrary to another comment, both `com.mysql.jdbc.Driver` and `com.mysql.cj.jdbc.Driver` are present in the JAR, and I think they have gone back to preferring the former.","body":"@StephenC is correct. If that is the Tomcat Context.xml rather than the application&#39;s, and it appears to be, the driver JAR file needs to be in the Tomcat lib directory. However, contrary to another comment, both <code>com.mysql.jdbc.Driver</code> and <code>com.mysql.cj.jdbc.Driver</code> are present in the JAR, and I think they have gone back to preferring the former."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683874961,"post_id":76233109,"comment_id":134436217,"body_markdown":"Ah.  OK.  So we suspect that &gt;neither&lt; version of the driver JAR was in the shared lib folder.","body":"Ah.  OK.  So we suspect that &gt;neither&lt; version of the driver JAR was in the shared lib folder."}],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683869325,"creation_date":1683865419,"question_id":76233109,"body_markdown":"Getting the below error log while running the tomcat:-\r\n```\r\nMay 12, 2023 9:45:04 AM org.apache.naming.NamingContext lookup\r\nWARNING: Unexpected exception resolving reference\r\njava.sql.SQLException: Unable to load class: com.mysql.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:ParallelWebappClassLoader\r\n  context: Image-Text\r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@34c45dca\r\n\r\n\tat org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:315)\r\n\tat org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:227)\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:768)\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:696)\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:495)\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:153)\r\n\tat org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118)\r\n\tat org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107)\r\n\tat org.apache.tomcat.jdbc.pool.DataSourceFactory.createDataSource(DataSourceFactory.java:560)\r\n\tat org.apache.tomcat.jdbc.pool.DataSourceFactory.getObjectInstance(DataSourceFactory.java:244)\r\n\tat org.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:96)\r\n\tat javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:332)\r\n\tat org.apache.naming.NamingContext.lookup(NamingContext.java:864)\r\n\tat org.apache.naming.NamingContext.lookup(NamingContext.java:158)\r\n\tat org.apache.naming.NamingContext.lookup(NamingContext.java:850)\r\n\tat org.apache.naming.NamingContext.lookup(NamingContext.java:172)\r\n\tat org.apache.catalina.core.NamingContextListener.addResource(NamingContextListener.java:986)\r\n\tat org.apache.catalina.core.NamingContextListener.createNamingContext(NamingContextListener.java:536)\r\n\tat org.apache.catalina.core.NamingContextListener.lifecycleEvent(NamingContextListener.java:243)\r\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4852)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\r\n\tat org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1184)\r\n\tat org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1932)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\n\tat org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:1094)\r\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:476)\r\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1617)\r\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:318)\r\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\nCaused by: java.lang.ClassNotFoundException: Unable to load class: com.mysql.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:ParallelWebappClassLoader\r\n  context: Image-Text\r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@34c45dca\r\n\r\n\tat org.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:56)\r\n\tat org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:304)\r\n\t... 59 more\r\nCaused by: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat org.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:38)\r\n\t... 60 more\r\n\r\nMay 12, 2023 9:45:04 AM org.apache.catalina.core.NamingContextListener addResource\r\nWARNING: Failed to register in JMX: [javax.naming.NamingException: Unexpected exception resolving reference [Root exception is java.sql.SQLException: Unable to load class: com.mysql.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:ParallelWebappClassLoader\r\n  context: Image-Text\r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@34c45dca\r\n]]\r\nMay 12, 2023 9:45:04 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: Marking servlet [Faces Servlet] as unavailable\r\nMay 12, 2023 9:45:04 AM org.apache.catalina.core.StandardContext loadOnStartup\r\nSEVERE: Servlet [Faces Servlet] in web application [/Image-Text] threw load() exception\r\njava.lang.ClassNotFoundException: javax.faces.webapp.FacesServlet\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:487)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:469)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:141)\r\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1020)\r\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:960)\r\n\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4673)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4980)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\n```\r\nmysql dependency used :-\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.31&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\ni&#39;m using tomcat 9.0.74 and mysql 8.0.31 and jdk8, i&#39;m currentely upgrading my project from jdk7 to 8 and tomcat 7 to 9 and mysql 5 to 8. there&#39;s been many issue and most of them resolved by changing the dependency versions but this i&#39;m not able to resolve. \r\ni tried changing the mysql versions but didn&#39;t work\r\n\r\nAdding some more error logs these logs are the starting logs they were missing because of some eclipse settings: -\r\n\r\n    May 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext listenerStart\r\n    SEVERE: Error configuring application listener of class [org.springframework.web.util.Log4jConfigListener]\r\n    java.lang.ClassNotFoundException: org.springframework.web.util.Log4jConfigListener\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:487)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:469)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:141)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4421)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4946)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\r\n    \tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:689)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1888)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\n    \tat org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:582)\r\n    \tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:472)\r\n    \tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1617)\r\n    \tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:318)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n    \tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n    \tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\n    \r\n    May 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext listenerStart\r\n    SEVERE: Skipped installing application listeners due to previous error(s)\r\n    May 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext startInternal\r\n    SEVERE: One or more listeners failed to start. Full details will be found in the appropriate container log file\r\n    May 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext startInternal\r\n    SEVERE: Context [] startup failed due to previous errors\r\n    May 12, 2023 10:34:44 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesJdbc\r\n    WARNING: The web application [ROOT] registered the JDBC driver [com.mysql.cj.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\r\n    May 12, 2023 10:34:44 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\r\n    WARNING: The web application [ROOT] appears to have started a thread named [mysql-cj-abandoned-connection-cleanup] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     java.lang.Object.wait(Native Method)\r\n     java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\r\n     com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:91)\r\n     java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n     java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n     java.lang.Thread.run(Thread.java:748)\r\n    May 12, 2023 10:34:44 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\r\n    WARNING: The web application [ROOT] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     java.lang.Object.wait(Native Method)\r\n     java.lang.Object.wait(Object.java:502)\r\n     java.util.TimerThread.mainLoop(Timer.java:526)\r\n     java.util.TimerThread.run(Timer.java:505)\r\n    May 12, 2023 10:34:44 AM org.apache.catalina.startup.HostConfig deployDescriptor\r\n    INFO: Deployment of deployment descriptor [D:\\apache-tomcat-9.0.74\\apache-tomcat-9.0.74\\conf\\Catalina\\localhost\\ROOT.xml] has finished in [13,985] ms\r\n    May 12, 2023 10:34:44 AM org.apache.catalina.startup.HostConfig deployWAR\r\n    INFO: Deploying web application archive [D:\\apache-tomcat-9.0.74\\apache-tomcat-9.0.74\\webapps\\abc.war]\r\n    May 12, 2023 10:34:46 AM org.apache.catalina.loader.WebappClassLoaderBase checkStateForResourceLoading\r\n    INFO: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n    java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1432)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.getResource(WebappClassLoaderBase.java:1057)\r\n    \tat com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.checkThreadContextClassLoader(AbandonedConnectionCleanupThread.java:123)\r\n    \tat com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:90)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nAdding context.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!--\r\n      Licensed to the Apache Software Foundation (ASF) under one or more\r\n      contributor license agreements.  See the NOTICE file distributed with\r\n      this work for additional information regarding copyright ownership.\r\n      The ASF licenses this file to You under the Apache License, Version 2.0\r\n      (the &quot;License&quot;); you may not use this file except in compliance with\r\n      the License.  You may obtain a copy of the License at\r\n    \r\n          http://www.apache.org/licenses/LICENSE-2.0\r\n    \r\n      Unless required by applicable law or agreed to in writing, software\r\n      distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n      See the License for the specific language governing permissions and\r\n      limitations under the License.\r\n    --&gt;&lt;!-- The contents of this file will be loaded for each web application --&gt;&lt;Context&gt;\r\n    \r\n        &lt;!-- Default set of monitored resources. If one of these changes, the    --&gt;\r\n        &lt;!-- web application will be reloaded.                                   --&gt;\r\n        &lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;\r\n        &lt;!--&lt;WatchedResource&gt;WEB-INF/tomcat-web.xml&lt;/WatchedResource&gt;\r\n        &lt;WatchedResource&gt;${catalina.base}/conf/web.xml&lt;/WatchedResource&gt;--&gt;\r\n    \r\n    \t\r\n     &lt;Resource auth=&quot;Container&quot; defaultAutoCommit=&quot;false&quot; \r\n    defaultTransactionIsolation=&quot;2&quot; driverClassName=&quot;com.mysql.cj.jdbc.Driver&quot; \r\n    factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot; maxIdle=&quot;30&quot; \r\n    name=&quot;jdbc/myDS&quot; password=&quot;1234&quot; type=&quot;javax.sql.DataSource&quot; \r\n    url=&quot;jdbc:mysql://127.0.0.1:3307/latest?characterEncoding=UTF-8&quot; \r\n    username=&quot;root&quot; validationQuery=&quot;SELECT 1 from dual&quot;/&gt;\r\n    \r\n        &lt;!-- Uncomment this to disable session persistence across Tomcat restarts --&gt;\r\n        &lt;!--\r\n        &lt;Manager pathname=&quot;&quot; /&gt;\r\n        --&gt;\r\n    &lt;/Context&gt;","title":"unable to run mysql v8.0.31 on tomcat 9.0.74","body":"<p>Getting the below error log while running the tomcat:-</p>\n<pre><code>May 12, 2023 9:45:04 AM org.apache.naming.NamingContext lookup\nWARNING: Unexpected exception resolving reference\njava.sql.SQLException: Unable to load class: com.mysql.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:ParallelWebappClassLoader\n  context: Image-Text\n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@34c45dca\n\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:315)\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:227)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:768)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:696)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:495)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:153)\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118)\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107)\n    at org.apache.tomcat.jdbc.pool.DataSourceFactory.createDataSource(DataSourceFactory.java:560)\n    at org.apache.tomcat.jdbc.pool.DataSourceFactory.getObjectInstance(DataSourceFactory.java:244)\n    at org.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:96)\n    at javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:332)\n    at org.apache.naming.NamingContext.lookup(NamingContext.java:864)\n    at org.apache.naming.NamingContext.lookup(NamingContext.java:158)\n    at org.apache.naming.NamingContext.lookup(NamingContext.java:850)\n    at org.apache.naming.NamingContext.lookup(NamingContext.java:172)\n    at org.apache.catalina.core.NamingContextListener.addResource(NamingContextListener.java:986)\n    at org.apache.catalina.core.NamingContextListener.createNamingContext(NamingContextListener.java:536)\n    at org.apache.catalina.core.NamingContextListener.lifecycleEvent(NamingContextListener.java:243)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4852)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\n    at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1184)\n    at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1932)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\n    at org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:1094)\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:476)\n    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1617)\n    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:318)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\nCaused by: java.lang.ClassNotFoundException: Unable to load class: com.mysql.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:ParallelWebappClassLoader\n  context: Image-Text\n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@34c45dca\n\n    at org.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:56)\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:304)\n    ... 59 more\nCaused by: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at org.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:38)\n    ... 60 more\n\nMay 12, 2023 9:45:04 AM org.apache.catalina.core.NamingContextListener addResource\nWARNING: Failed to register in JMX: [javax.naming.NamingException: Unexpected exception resolving reference [Root exception is java.sql.SQLException: Unable to load class: com.mysql.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:ParallelWebappClassLoader\n  context: Image-Text\n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@34c45dca\n]]\nMay 12, 2023 9:45:04 AM org.apache.catalina.core.ApplicationContext log\nINFO: Marking servlet [Faces Servlet] as unavailable\nMay 12, 2023 9:45:04 AM org.apache.catalina.core.StandardContext loadOnStartup\nSEVERE: Servlet [Faces Servlet] in web application [/Image-Text] threw load() exception\njava.lang.ClassNotFoundException: javax.faces.webapp.FacesServlet\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:487)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:469)\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:141)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1020)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:960)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4673)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4980)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n</code></pre>\n<p>mysql dependency used :-</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.31&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>i'm using tomcat 9.0.74 and mysql 8.0.31 and jdk8, i'm currentely upgrading my project from jdk7 to 8 and tomcat 7 to 9 and mysql 5 to 8. there's been many issue and most of them resolved by changing the dependency versions but this i'm not able to resolve.\ni tried changing the mysql versions but didn't work</p>\n<p>Adding some more error logs these logs are the starting logs they were missing because of some eclipse settings: -</p>\n<pre><code>May 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Error configuring application listener of class [org.springframework.web.util.Log4jConfigListener]\njava.lang.ClassNotFoundException: org.springframework.web.util.Log4jConfigListener\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:487)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:469)\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:141)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4421)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4946)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:689)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1888)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\n    at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:582)\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:472)\n    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1617)\n    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:318)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\n\nMay 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Skipped installing application listeners due to previous error(s)\nMay 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext startInternal\nSEVERE: One or more listeners failed to start. Full details will be found in the appropriate container log file\nMay 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Context [] startup failed due to previous errors\nMay 12, 2023 10:34:44 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesJdbc\nWARNING: The web application [ROOT] registered the JDBC driver [com.mysql.cj.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\nMay 12, 2023 10:34:44 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\nWARNING: The web application [ROOT] appears to have started a thread named [mysql-cj-abandoned-connection-cleanup] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.lang.Object.wait(Native Method)\n java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\n com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:91)\n java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n java.lang.Thread.run(Thread.java:748)\nMay 12, 2023 10:34:44 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\nWARNING: The web application [ROOT] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.lang.Object.wait(Native Method)\n java.lang.Object.wait(Object.java:502)\n java.util.TimerThread.mainLoop(Timer.java:526)\n java.util.TimerThread.run(Timer.java:505)\nMay 12, 2023 10:34:44 AM org.apache.catalina.startup.HostConfig deployDescriptor\nINFO: Deployment of deployment descriptor [D:\\apache-tomcat-9.0.74\\apache-tomcat-9.0.74\\conf\\Catalina\\localhost\\ROOT.xml] has finished in [13,985] ms\nMay 12, 2023 10:34:44 AM org.apache.catalina.startup.HostConfig deployWAR\nINFO: Deploying web application archive [D:\\apache-tomcat-9.0.74\\apache-tomcat-9.0.74\\webapps\\abc.war]\nMay 12, 2023 10:34:46 AM org.apache.catalina.loader.WebappClassLoaderBase checkStateForResourceLoading\nINFO: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\njava.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n    at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1432)\n    at org.apache.catalina.loader.WebappClassLoaderBase.getResource(WebappClassLoaderBase.java:1057)\n    at com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.checkThreadContextClassLoader(AbandonedConnectionCleanupThread.java:123)\n    at com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:90)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Adding context.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the &quot;License&quot;); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n--&gt;&lt;!-- The contents of this file will be loaded for each web application --&gt;&lt;Context&gt;\n\n    &lt;!-- Default set of monitored resources. If one of these changes, the    --&gt;\n    &lt;!-- web application will be reloaded.                                   --&gt;\n    &lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;\n    &lt;!--&lt;WatchedResource&gt;WEB-INF/tomcat-web.xml&lt;/WatchedResource&gt;\n    &lt;WatchedResource&gt;${catalina.base}/conf/web.xml&lt;/WatchedResource&gt;--&gt;\n\n    \n &lt;Resource auth=&quot;Container&quot; defaultAutoCommit=&quot;false&quot; \ndefaultTransactionIsolation=&quot;2&quot; driverClassName=&quot;com.mysql.cj.jdbc.Driver&quot; \nfactory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot; maxIdle=&quot;30&quot; \nname=&quot;jdbc/myDS&quot; password=&quot;1234&quot; type=&quot;javax.sql.DataSource&quot; \nurl=&quot;jdbc:mysql://127.0.0.1:3307/latest?characterEncoding=UTF-8&quot; \nusername=&quot;root&quot; validationQuery=&quot;SELECT 1 from dual&quot;/&gt;\n\n    &lt;!-- Uncomment this to disable session persistence across Tomcat restarts --&gt;\n    &lt;!--\n    &lt;Manager pathname=&quot;&quot; /&gt;\n    --&gt;\n&lt;/Context&gt;\n</code></pre>\n"},{"tags":["java","batch-file","cmd","hide"],"comments":[{"owner":{"account_id":2611382,"reputation":6389,"user_id":2261424,"accept_rate":100,"display_name":"AntonH"},"score":1,"creation_date":1407888207,"post_id":25276014,"comment_id":39387176,"body_markdown":"If you&#39;re on Windows, just use `javaw` and not `java`. If this isn&#39;t applicable, give more information on your situation.","body":"If you&#39;re on Windows, just use <code>javaw</code> and not <code>java</code>. If this isn&#39;t applicable, give more information on your situation."}],"answers":[{"tags":[],"owner":{"account_id":4494392,"reputation":6935,"user_id":3654605,"accept_rate":60,"display_name":"lowcrawler"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1407888554,"creation_date":1407888554,"answer_id":25276077,"question_id":25276014,"body_markdown":"*javaw* seems to be what you are looking for: http://docs.oracle.com/javase/6/docs/technotes/tools/windows/java.html\r\n\r\n&gt; The javaw command is identical to java, except that with javaw there\r\n&gt; is no associated console window. Use javaw when you don&#39;t want a\r\n&gt; command prompt window to appear. The javaw launcher will, however,\r\n&gt; display a dialog box with error information if a launch fails for some\r\n&gt; reason.\r\n\r\nIf you are looking to hide the windows .bat console, you can use vbs -- take a look at this page for various options for doing this: https://superuser.com/questions/62525/run-a-completly-hidden-batch-file .","title":"How do I hide a console window that is running a java program?","body":"<p><em>javaw</em> seems to be what you are looking for: <a href=\"http://docs.oracle.com/javase/6/docs/technotes/tools/windows/java.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/6/docs/technotes/tools/windows/java.html</a></p>\n\n<blockquote>\n  <p>The javaw command is identical to java, except that with javaw there\n  is no associated console window. Use javaw when you don't want a\n  command prompt window to appear. The javaw launcher will, however,\n  display a dialog box with error information if a launch fails for some\n  reason.</p>\n</blockquote>\n\n<p>If you are looking to hide the windows .bat console, you can use vbs -- take a look at this page for various options for doing this: <a href=\"https://superuser.com/questions/62525/run-a-completly-hidden-batch-file\">https://superuser.com/questions/62525/run-a-completly-hidden-batch-file</a> .</p>\n"}],"owner":{"account_id":3871044,"reputation":193,"user_id":3206319,"display_name":"Synchronous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5069,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25276077,"answer_count":1,"score":1,"last_activity_date":1683868853,"creation_date":1407888150,"question_id":25276014,"body_markdown":"I have a program that creates a batch file which in turn runs the program on startup. I want to hide the batch file so that all the user sees is the java program open, not the console window in the background.\r\n\r\nEDIT: It seems that I&#39;m not being clear. Here is the code in the batch file:\r\n\r\n    cd C:\\Java\\jre8\r\n    javaw -jar C:/Users/Me/Desktop/MyProgram.jar\r\nI only need to hide the batch file.","title":"How do I hide a console window that is running a java program?","body":"<p>I have a program that creates a batch file which in turn runs the program on startup. I want to hide the batch file so that all the user sees is the java program open, not the console window in the background.</p>\n\n<p>EDIT: It seems that I'm not being clear. Here is the code in the batch file:</p>\n\n<pre><code>cd C:\\Java\\jre8\njavaw -jar C:/Users/Me/Desktop/MyProgram.jar\n</code></pre>\n\n<p>I only need to hide the batch file.</p>\n"},{"tags":["java","spring","spring-boot","jackson","spring-web"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":5,"creation_date":1531950795,"post_id":51411458,"comment_id":89794591,"body_markdown":"When asking about an exception, always post the exact and complete stack trace of the exception.","body":"When asking about an exception, always post the exact and complete stack trace of the exception."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1531951000,"post_id":51411458,"comment_id":89794673,"body_markdown":"I don&#39;t see your code returning `LinkedHashMap` anywhere, so why does the error message say *&quot;return value of type: `class java.util.LinkedHashMap`&quot;*? I think you&#39;re confused about which methods it&#39;s complaining about.","body":"I don&#39;t see your code returning <code>LinkedHashMap</code> anywhere, so why does the error message say <i>&quot;return value of type: <code>class java.util.LinkedHashMap</code>&quot;</i>? I think you&#39;re confused about which methods it&#39;s complaining about."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":1,"creation_date":1531951044,"post_id":51411458,"comment_id":89794688,"body_markdown":"Not related with your request but your Getters/Setters are useless since the scope of your class attribute is ``public`. And Why?","body":"Not related with your request but your Getters/Setters are useless since the scope of your class attribute is ``public`. And Why?"},{"owner":{"account_id":13987333,"reputation":123,"user_id":10102117,"display_name":"mac"},"score":0,"creation_date":1531951193,"post_id":51411458,"comment_id":89794741,"body_markdown":"@JBNizet in the intellij Run console, no stack trace is being produced, only the one error line. I&#39;ll try to run it from the terminal and see if a larger stack trace is produced.","body":"@JBNizet in the intellij Run console, no stack trace is being produced, only the one error line. I&#39;ll try to run it from the terminal and see if a larger stack trace is produced."},{"owner":{"account_id":10891141,"reputation":1976,"user_id":8006882,"accept_rate":79,"display_name":"Anna Klein"},"score":0,"creation_date":1531951264,"post_id":51411458,"comment_id":89794769,"body_markdown":"Interesting. Found this question by google. Have the same issue open like you right now, but with a different program. I think there is another bigger issue.","body":"Interesting. Found this question by google. Have the same issue open like you right now, but with a different program. I think there is another bigger issue."},{"owner":{"account_id":13987333,"reputation":123,"user_id":10102117,"display_name":"mac"},"score":0,"creation_date":1531951329,"post_id":51411458,"comment_id":89794787,"body_markdown":"@Andreas the underlying implementation of a Jackson deserialization is a LinkedHashMap, I think that&#39;s why it&#39;s complaining about that type of object. I don&#39;t know which method it&#39;s complaining about, but it only happens when that post call is made.","body":"@Andreas the underlying implementation of a Jackson deserialization is a LinkedHashMap, I think that&#39;s why it&#39;s complaining about that type of object. I don&#39;t know which method it&#39;s complaining about, but it only happens when that post call is made."},{"owner":{"account_id":13987333,"reputation":123,"user_id":10102117,"display_name":"mac"},"score":0,"creation_date":1531951387,"post_id":51411458,"comment_id":89794818,"body_markdown":"@akuma8 I switched the fields to public to see if that would fix the problem, which it didn&#39;t. I forgot to switch them back.","body":"@akuma8 I switched the fields to public to see if that would fix the problem, which it didn&#39;t. I forgot to switch them back."},{"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"score":0,"creation_date":1531951605,"post_id":51411458,"comment_id":89794885,"body_markdown":"Could you share your pom.xml?","body":"Could you share your pom.xml?"},{"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"score":0,"creation_date":1531952793,"post_id":51411458,"comment_id":89795260,"body_markdown":"Your code is working correctly for me. Can you show the cURL of your request?","body":"Your code is working correctly for me. Can you show the cURL of your request?"},{"owner":{"account_id":13987333,"reputation":123,"user_id":10102117,"display_name":"mac"},"score":0,"creation_date":1531953157,"post_id":51411458,"comment_id":89795330,"body_markdown":"@Pedro I was using the Postman, but with the curl request `curl -H &quot;Content-Type: application/json&quot; -X POST -d &#39;{&quot;url&quot;: &quot;http://google.com&quot; }&#39; http://localhost:8080/poster` I get the same issue","body":"@Pedro I was using the Postman, but with the curl request <code>curl -H &quot;Content-Type: application&#47;json&quot; -X POST -d &#39;{&quot;url&quot;: &quot;http:&#47;&#47;google.com&quot; }&#39; http:&#47;&#47;localhost:8080&#47;poster</code> I get the same issue"},{"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"score":0,"creation_date":1531953318,"post_id":51411458,"comment_id":89795376,"body_markdown":"Works like a charm for me. Are you sure this is all of your code?","body":"Works like a charm for me. Are you sure this is all of your code?"},{"owner":{"account_id":13987333,"reputation":123,"user_id":10102117,"display_name":"mac"},"score":0,"creation_date":1531954406,"post_id":51411458,"comment_id":89795669,"body_markdown":"@Pedro this is all my code, I&#39;ll try it on a different machine","body":"@Pedro this is all my code, I&#39;ll try it on a different machine"}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531974291,"creation_date":1531974291,"answer_id":51414337,"question_id":51411458,"body_markdown":"Ideally this code should work but give a try by adding below dependency in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n       &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Spring tries to deserialize to LinkedHashMap instead of POJO","body":"<p>Ideally this code should work but give a try by adding below dependency in pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n   &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n   &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3691447,"reputation":6845,"user_id":3073945,"accept_rate":90,"display_name":"Md. Sajedul Karim"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1683867384,"creation_date":1531976268,"answer_id":51414623,"question_id":51411458,"body_markdown":"After Analyzing your problem, I found some cases where this issue can arise.\r\nThose are given bellow:\r\n\r\n1. **Inner Class**:\r\n\r\nIf your class `TestEntity` is **Inner class** of your endpoint. \r\nJust transfer your `TestEntity` from **Inner class** to a separate class and run your code, it will work.\r\n\r\n2. **Support Inner Class**:\r\n\r\nIf you want to support inner class a RequestBody then make  `TestEntity` class as **static**, this will solve your problem.\r\n\r\n3. **Spring dependency configuration**:\r\n\r\nIf still not solved your problem, check your dependency on `pom.xml`. May be you are not adding dependency on proper way. For this you can view [this answer][1] . Or you can add `jackson` explicitly in your `pom.xml` file.\r\n\r\n**Dependencies are**:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nRelated links:\r\nhttps://stackoverflow.com/questions/40398216/spring-requestbody-not-mapping-to-inner-class\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/44455029/3073945","title":"Spring tries to deserialize to LinkedHashMap instead of POJO","body":"<p>After Analyzing your problem, I found some cases where this issue can arise.\nThose are given bellow:</p>\n<ol>\n<li><strong>Inner Class</strong>:</li>\n</ol>\n<p>If your class <code>TestEntity</code> is <strong>Inner class</strong> of your endpoint.\nJust transfer your <code>TestEntity</code> from <strong>Inner class</strong> to a separate class and run your code, it will work.</p>\n<ol start=\"2\">\n<li><strong>Support Inner Class</strong>:</li>\n</ol>\n<p>If you want to support inner class a RequestBody then make  <code>TestEntity</code> class as <strong>static</strong>, this will solve your problem.</p>\n<ol start=\"3\">\n<li><strong>Spring dependency configuration</strong>:</li>\n</ol>\n<p>If still not solved your problem, check your dependency on <code>pom.xml</code>. May be you are not adding dependency on proper way. For this you can view <a href=\"https://stackoverflow.com/a/44455029/3073945\">this answer</a> . Or you can add <code>jackson</code> explicitly in your <code>pom.xml</code> file.</p>\n<p><strong>Dependencies are</strong>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Related links:\n<a href=\"https://stackoverflow.com/questions/40398216/spring-requestbody-not-mapping-to-inner-class\">Spring @Requestbody not mapping to inner class</a></p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606399436,"creation_date":1533747487,"answer_id":51751957,"question_id":51411458,"body_markdown":"Try to specify that your method consumes JSON. Change your annotation:&lt;BR&gt;\r\n`@RequestMapping(value = &quot;/poster&quot;, method = RequestMethod.POST)` \r\n&lt;BR&gt;to\r\n\r\n    @PostMapping(value = &quot;/poster&quot;,\r\n                consumes = MediaType.APPLICATION_JSON_UTF8_VALUE,\r\n                produces = MediaType.TEXT_HTML)\r\n\r\nThe main part here that you specify that you accept your input to be JSON. Not sure what type you return but you can specify the appropriate type or remove the &quot;produces&quot; part. The main part is to specify what your input is","title":"Spring tries to deserialize to LinkedHashMap instead of POJO","body":"<p>Try to specify that your method consumes JSON. Change your annotation:<BR>\n<code>@RequestMapping(value = &quot;/poster&quot;, method = RequestMethod.POST)</code>\n<BR>to</p>\n<pre><code>@PostMapping(value = &quot;/poster&quot;,\n            consumes = MediaType.APPLICATION_JSON_UTF8_VALUE,\n            produces = MediaType.TEXT_HTML)\n</code></pre>\n<p>The main part here that you specify that you accept your input to be JSON. Not sure what type you return but you can specify the appropriate type or remove the &quot;produces&quot; part. The main part is to specify what your input is</p>\n"}],"owner":{"account_id":13987333,"reputation":123,"user_id":10102117,"display_name":"mac"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4709,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1683867384,"creation_date":1531950489,"question_id":51411458,"body_markdown":"I&#39;m creating a simple rest controller with Spring Boot and the Web dependency. I&#39;m trying to deserialize a JSON body to a test POJO with only 3 fields, but when I attempt to make a POST request, the server responds with a 500 error and the error I get in the console is: \r\n\r\n    .w.s.m.s.DefaultHandlerExceptionResolver : Failed to write HTTP message: org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class java.util.LinkedHashMap\r\n\r\nAll of the code I have written is as follows:\r\n\r\nEmailApplication.java:\r\n\r\n    package com.test.email.app;\r\n\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = { &quot;com.test.email&quot; })\r\n    public class EmailApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t    SpringApplication.run(EmailApplication.class, args);\r\n    \t}\r\n    \r\n        @Bean\r\n        public CommandLineRunner commandLineRunner(ApplicationContext ctx) {\r\n            return args -&gt; {\r\n                System.out.println(&quot;----- You&#39;re up and running with test-email-app! -----&quot;);\r\n            };\r\n        }\r\n    }\r\n\r\nEmailController.java:\r\n\r\n    package com.test.email.controller;\r\n    \r\n    import com.test.email.entity.TestEntity;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    import java.net.URI;\r\n    \r\n    @RestController\r\n    public class EmailController {\r\n        @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n        public String index() {\r\n            TestEntity entity = new TestEntity();\r\n            return &quot;test-email-app index&quot;;\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/poster&quot;, method = RequestMethod.POST)\r\n        public ResponseEntity&lt;String&gt; poster(@RequestBody TestEntity testEntity) {\r\n            URI location = URI.create(&quot;/poster&quot;);\r\n            return ResponseEntity.created(location).body(testEntity.getUrl());\r\n        }\r\n    }\r\n\r\nTestEntity.java\r\n\r\n    package com.test.email.entity;\r\n    \r\n    /**\r\n     * An entity for serialization/deserialization testing\r\n     */\r\n    public class TestEntity {\r\n        public String url;\r\n        public int count;\r\n        public double height;\r\n    \r\n        public TestEntity() {}\r\n    \r\n        public TestEntity(String url, int count, double height) {\r\n            this.url = url;\r\n            this.count = count;\r\n            this.height = height;\r\n        }\r\n    \r\n        public String getUrl() {\r\n            return url;\r\n        }\r\n    \r\n        public void setUrl(String url) {\r\n            this.url = url;\r\n        }\r\n    \r\n        public int getCount() {\r\n            return count;\r\n        }\r\n    \r\n        public void setCount(int count) {\r\n            this.count = count;\r\n        }\r\n    \r\n        public double getHeight() {\r\n            return height;\r\n        }\r\n    \r\n        public void setHeight(double height) {\r\n            this.height = height;\r\n        }\r\n    }\r\n\r\nI&#39;m making a POST request with Postman using only the header `Content-Type: application/json` and with the body:\r\n\r\n    { &quot;url&quot;: &quot;http://google.com&quot;, &quot;count&quot;: 3, &quot;height&quot;: 2.4 }\r\n\r\nI don&#39;t know why Spring can&#39;t convert from a LinkedHashMap to my POJO. Any help would be appreciated.\r\n\r\nEdit:\r\n\r\nMy pom.xml is as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.test.email&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-email-app&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;test-email-app&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Spring tries to deserialize to LinkedHashMap instead of POJO","body":"<p>I'm creating a simple rest controller with Spring Boot and the Web dependency. I'm trying to deserialize a JSON body to a test POJO with only 3 fields, but when I attempt to make a POST request, the server responds with a 500 error and the error I get in the console is: </p>\n\n<pre><code>.w.s.m.s.DefaultHandlerExceptionResolver : Failed to write HTTP message: org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class java.util.LinkedHashMap\n</code></pre>\n\n<p>All of the code I have written is as follows:</p>\n\n<p>EmailApplication.java:</p>\n\n<pre><code>package com.test.email.app;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(basePackages = { \"com.test.email\" })\npublic class EmailApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EmailApplication.class, args);\n    }\n\n    @Bean\n    public CommandLineRunner commandLineRunner(ApplicationContext ctx) {\n        return args -&gt; {\n            System.out.println(\"----- You're up and running with test-email-app! -----\");\n        };\n    }\n}\n</code></pre>\n\n<p>EmailController.java:</p>\n\n<pre><code>package com.test.email.controller;\n\nimport com.test.email.entity.TestEntity;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport java.net.URI;\n\n@RestController\npublic class EmailController {\n    @RequestMapping(value = \"/\", method = RequestMethod.GET)\n    public String index() {\n        TestEntity entity = new TestEntity();\n        return \"test-email-app index\";\n    }\n\n    @RequestMapping(value = \"/poster\", method = RequestMethod.POST)\n    public ResponseEntity&lt;String&gt; poster(@RequestBody TestEntity testEntity) {\n        URI location = URI.create(\"/poster\");\n        return ResponseEntity.created(location).body(testEntity.getUrl());\n    }\n}\n</code></pre>\n\n<p>TestEntity.java</p>\n\n<pre><code>package com.test.email.entity;\n\n/**\n * An entity for serialization/deserialization testing\n */\npublic class TestEntity {\n    public String url;\n    public int count;\n    public double height;\n\n    public TestEntity() {}\n\n    public TestEntity(String url, int count, double height) {\n        this.url = url;\n        this.count = count;\n        this.height = height;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public int getCount() {\n        return count;\n    }\n\n    public void setCount(int count) {\n        this.count = count;\n    }\n\n    public double getHeight() {\n        return height;\n    }\n\n    public void setHeight(double height) {\n        this.height = height;\n    }\n}\n</code></pre>\n\n<p>I'm making a POST request with Postman using only the header <code>Content-Type: application/json</code> and with the body:</p>\n\n<pre><code>{ \"url\": \"http://google.com\", \"count\": 3, \"height\": 2.4 }\n</code></pre>\n\n<p>I don't know why Spring can't convert from a LinkedHashMap to my POJO. Any help would be appreciated.</p>\n\n<p>Edit:</p>\n\n<p>My pom.xml is as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.test.email&lt;/groupId&gt;\n    &lt;artifactId&gt;test-email-app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;test-email-app&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":28583939,"reputation":3,"user_id":21884561,"display_name":"Sami Alrustom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683867116,"creation_date":1683835208,"question_id":76231239,"body_markdown":"So I made a Blackjack game and it work fine but I found this error when I was testing. If someone input their name with a space the game breaks and errors. So how can I fix that. **I have tried next() abd nextLine() didn&#39;t work.** Down below is my code the Blood part is where the fix should happen. But I am not sure how to fix it.\r\n\r\n**The Game:**\r\n\r\nBLACKJACK RULES: \r\n    -Each player is dealt 2 cards. The dealer is dealt 2 cards with one face-up and one face-down.\r\n    -Cards are equal to their value with face cards being 10 and an Ace being 1 or 11.\r\n    -The players cards are added up for their total.\r\n    -Players Hit to gain another card from the deck. Players Stay to keep their current card total.\r\n    -Dealer Hits until they equal or exceed 17.\r\n    -The goal is to have a higher card total than the dealer without going over 21.\r\n    -If the player total equals the dealer total, it is a Push and the hand ends.\r\n    -Players win their bet if they beat the dealer. Players win 1.5x their bet if they get Blackjack which is 21.\r\n        -Note that: (C) Clubs (?), (D) Diamonds (?), (H) Hearts (?), (S) Spades (?), (J) Jack (?,?,?,?), (Q) Queen (?,?,?,?) and (K) King (?,?,?,?).\r\n\r\n\r\nHow many people are playing (1-6)? 1\r\nWhat is player 1&#39;s name? **sa mi**   &lt;&lt;&lt; this where it crashes \r\nHow much do you want to bet sa, you got (1-100) J Coins? \r\n\r\n\r\n**My Code:**\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class BlackjackGame {\r\n\r\n    private Scanner input = new Scanner(System.in);\r\n    private int users;\r\n    private Player[] players;\r\n    private Deck deck;\r\n    private Dealer dealer = new Dealer();\r\n\r\n    // Starts game and displays the rules\r\n    public void initializeGame() {\r\n        String names;\r\n        System.out.println(&quot;Welcome to Blackjack!&quot;);\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;  BLACKJACK RULES: &quot;);\r\n        System.out.println(\r\n                &quot;    -Each player is dealt 2 cards. The dealer is dealt 2 cards with one face-up and one face-down.&quot;);\r\n        System.out.println(&quot;    -Cards are equal to their value with face cards being 10 and an Ace being 1 or 11.&quot;);\r\n        System.out.println(&quot;    -The players cards are added up for their total.&quot;);\r\n        System.out.println(\r\n                &quot;    -Players Hit to gain another card from the deck. Players Stay to keep their current card total.&quot;);\r\n        System.out.println(&quot;    -Dealer Hits until they equal or exceed 17.&quot;);\r\n        System.out.println(&quot;    -The goal is to have a higher card total than the dealer without going over 21.&quot;);\r\n        System.out.println(&quot;    -If the player total equals the dealer total, it is a Push and the hand ends.&quot;);\r\n        System.out.println(\r\n                &quot;    -Players win their bet if they beat the dealer. Players win 1.5x their bet if they get Blackjack which is 21.&quot;);\r\n        System.out.println(\r\n                &quot;        -Note that: (C) Clubs (♣), (D) Diamonds (♦), (H) Hearts (♥), (S) Spades (♠), (J) Jack (♣,♦,♥,♠), (Q) Queen (♣,♦,♥,♠) and (K) King (♣,♦,♥,♠).&quot;);\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;&quot;);\r\n\r\n        // Gets the amount of players and creates them. Check that only up to 6 players\r\n        // can play.\r\n        do {\r\n            System.out.print(&quot;How many people are playing (1-6)? &quot;); // The Game can be played with 1-6 player.\r\n            users = input.nextInt();\r\n            if (users &gt;= 7) { // there can only be 6 players anything higher re-ask how many player.\r\n                System.out.println(&quot;Invalid entry. There can&#39;t be this much player&#39;s. Up to 1-6 player only.&quot;);\r\n            }\r\n\r\n        } while (users &gt; 6 || users &lt; 0);\r\n\r\n        players = new Player[users];\r\n        deck = new Deck();\r\n\r\n       ** // Asks for player names and assigns them\r\n        for (int i = 0; i &lt; users; i++) {\r\n            System.out.print(&quot;What is player &quot; + (i + 1) + &quot;&#39;s name? &quot;);\r\n            names = input.next();\r\n            players[i] = new Player();\r\n            players[i].setName(names);\r\n        }**\r\n    }\r\n\r\n    // Shuffles the deck\r\n    public void shuffle() throws InvalidDeckPositionException, InvalidCardSuitException, InvalidCardValueException,\r\n            InvalidSpaceException {\r\n        deck.shuffle();\r\n\r\n    }\r\n\r\n    // Gets the bets from the players\r\n    public void getBets() {\r\n        int betValue;\r\n\r\n        for (int i = 0; i &lt; users; i++) {\r\n            if (players[i].getBank() &gt; 0) {\r\n                do {\r\n                    System.out.print(&quot;How much do you want to bet &quot; + players[i].getName() + &quot;, you got&quot;\r\n                            + (&quot; (1-&quot; + players[i].getBank()) + &quot;) &quot; + &quot;J Coins? &quot;);\r\n                    betValue = input.nextInt();\r\n                    players[i].setBet(betValue);\r\n                } while (!(betValue &gt; 0 &amp;&amp; betValue &lt;= players[i].getBank()));\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    // Deals the cards to the players and dealer\r\n    public void dealCards() {\r\n        for (int j = 0; j &lt; 2; j++) {\r\n            for (int i = 0; i &lt; users; i++) {\r\n                if (players[i].getBank() &gt; 0) {\r\n                    players[i].addCard(deck.nextCard());\r\n                }\r\n            }\r\n\r\n            dealer.addCard(deck.nextCard());\r\n        }\r\n    }\r\n\r\n    // Initial check for dealer or player Blackjack\r\n    public void checkBlackjack() {\r\n        // System.out.println();\r\n\r\n        if (dealer.isBlackjack()) {\r\n            System.out.println(&quot;Dealer has BlackJack!&quot;);\r\n            for (int i = 0; i &lt; users; i++) {\r\n                if (players[i].getTotal() == 21) {\r\n                    System.out.println(players[i].getName() + &quot; pushes&quot;);\r\n                    players[i].push();\r\n                } else {\r\n                    System.out.println(players[i].getName() + &quot; loses&quot;);\r\n                    players[i].bust();\r\n                }\r\n            }\r\n        } else {\r\n            if (dealer.peek()) {\r\n                System.out.println(&quot;Dealer peeks and does not have a BlackJack&quot;);\r\n            }\r\n\r\n            for (int i = 0; i &lt; users; i++) {\r\n                if (players[i].getTotal() == 21) {\r\n                    System.out.println(players[i].getName() + &quot; has blackjack!&quot;);\r\n                    players[i].blackjack();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // This code takes the user commands to hit or stand\r\n    public void hitOrStand() {\r\n        String command;\r\n        char c;\r\n        for (int i = 0; i &lt; users; i++) {\r\n            if (players[i].getBet() &gt; 0) {\r\n                System.out.println();\r\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getHandString());\r\n\r\n                do {\r\n                    do {\r\n                        System.out.print(players[i].getName() + &quot; (H)it or (S)tand? &quot;);\r\n                        command = input.next();\r\n                        c = command.toUpperCase().charAt(0);\r\n                    } while (!(c == &#39;H&#39; || c == &#39;S&#39;));\r\n                    if (c == &#39;H&#39;) {\r\n                        players[i].addCard(deck.nextCard());\r\n                        System.out.println(players[i].getName() + &quot; has &quot; + players[i].getHandString());\r\n                    }\r\n                } while (c != &#39;S&#39; &amp;&amp; players[i].getTotal() &lt;= 21);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Code for the dealer to play\r\n    public void dealerPlays() {\r\n        boolean isSomePlayerStillInTheGame = false;\r\n        for (int i = 0; i &lt; users &amp;&amp; isSomePlayerStillInTheGame == false; i++) {\r\n            if (players[i].getBet() &gt; 0 &amp;&amp; players[i].getTotal() &lt;= 21) {\r\n                isSomePlayerStillInTheGame = true;\r\n            }\r\n        }\r\n        if (isSomePlayerStillInTheGame) {\r\n            dealer.dealerPlay(deck);\r\n        }\r\n    }\r\n\r\n    // This code calculates all possible outcomes and adds or removes the player\r\n    // bets\r\n    public void settleBets() {\r\n        System.out.println();\r\n\r\n        for (int i = 0; i &lt; users; i++) {\r\n            if (players[i].getBet() &gt; 0) {\r\n                if (players[i].getTotal() &gt; 21) {\r\n                    System.out.println(players[i].getName() + &quot; has busted&quot;);\r\n                    players[i].bust();\r\n                } else if (players[i].getTotal() == dealer.calculateTotal()) {\r\n                    System.out.println(players[i].getName() + &quot; has pushed&quot;);\r\n                    players[i].push();\r\n                } else if (players[i].getTotal() &lt; dealer.calculateTotal() &amp;&amp; dealer.calculateTotal() &lt;= 21) {\r\n                    System.out.println(players[i].getName() + &quot; has lost&quot;);\r\n                    players[i].loss();\r\n                } else if (players[i].getTotal() == 21) {\r\n                    System.out.println(players[i].getName() + &quot; has won with blackjack!&quot;);\r\n                    players[i].blackjack();\r\n                } else {\r\n                    System.out.println(players[i].getName() + &quot; has won&quot;);\r\n                    players[i].win();\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    // This prints the players hands\r\n    public void printStatus() {\r\n        for (int i = 0; i &lt; users; i++) {\r\n            if (players[i].getBank() &gt; 0) {\r\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getHandString());\r\n            }\r\n        }\r\n        System.out.println(&quot;Dealer has &quot; + dealer.getHandString(true, true));\r\n    }\r\n\r\n    // This prints the players banks and tells the player if s/he is out of the game\r\n    public void printMoney() {\r\n        for (int i = 0; i &lt; users; i++) {\r\n            if (players[i].getBank() &gt; 0) {\r\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getBank() + &quot; J Coins &quot;);\r\n            }\r\n            if (players[i].getBank() == 0) {\r\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getBank() + &quot; J Coins &quot;\r\n                        + &quot; and is out of the game.&quot;);\r\n                players[i].removeFromGame();\r\n            }\r\n        }\r\n    }\r\n\r\n    // This code resets all hands\r\n    public void clearHands() {\r\n        for (int i = 0; i &lt; users; i++) {\r\n            players[i].clearHand();\r\n        }\r\n        dealer.clearHand();\r\n\r\n    }\r\n\r\n    // This decides to force the game to end when all players lose or lets players\r\n    // choose to keep playing or not\r\n    public boolean playAgain() {\r\n        String command;\r\n        char c;\r\n        Boolean playState = true;\r\n        if (forceEnd()) {\r\n            playState = false;\r\n        } else {\r\n            do {\r\n                System.out.println(&quot;&quot;);\r\n                System.out.print(&quot;Do you want to play again (Y)es or (N)o? &quot;);\r\n                command = input.next();\r\n                c = command.toUpperCase().charAt(0);\r\n            } while (!(c == &#39;Y&#39; || c == &#39;N&#39;));\r\n            if (c == &#39;N&#39;) {\r\n                playState = false;\r\n            }\r\n        }\r\n        return playState;\r\n    }\r\n\r\n    // This says true or false to forcing the game to end\r\n    public boolean forceEnd() {\r\n        boolean end = false;\r\n        int endCount = 0;\r\n\r\n        for (int i = 0; i &lt; users; i++) {\r\n            if (players[i].getBank() == -1) {\r\n                endCount++;\r\n            }\r\n        }\r\n        if (endCount == users) {\r\n            end = true;\r\n        }\r\n        if (end) {\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;All players have lost and the game ends.&quot;);\r\n        }\r\n\r\n        return end;\r\n    }\r\n\r\n    // This is the endgame code for when all players are out of the game or players\r\n    // decide to stop playing\r\n    public void endGame() {\r\n        int endAmount;\r\n        String endState = &quot; no change.&quot;;\r\n        System.out.println(&quot;&quot;);\r\n        for (int i = 0; i &lt; users; i++) {\r\n            if (players[i].getBank() == -1) {\r\n                players[i].resetBank();\r\n            }\r\n            endAmount = players[i].getBank() - 100;\r\n            if (endAmount &gt; 0) {\r\n                endState = &quot; gain of &quot;;\r\n            } else if (endAmount &lt; 0) {\r\n                endState = &quot; loss of &quot;;\r\n            }\r\n            System.out.println(players[i].getName() + &quot; has ended the game with &quot; + players[i].getBank() + &quot;.&quot;);\r\n            if (endState != &quot; no change.&quot;) {\r\n                System.out.println(&quot;A&quot; + endState + Math.abs(endAmount) + &quot;.&quot;);\r\n            } else {\r\n                System.out.println(&quot;No change from their starting value.&quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;Thank you for playing!&quot;);\r\n    }\r\n\r\n} // End class\r\n```\r\n\r\n\r\n\r\n **I have tried next() abd nextLine() didn&#39;t work.**\r\n\r\nDoing nextLine() broke the code even more when I run it and play the game.","title":"How do I make a space be accepted in the input","body":"<p>So I made a Blackjack game and it work fine but I found this error when I was testing. If someone input their name with a space the game breaks and errors. So how can I fix that. <strong>I have tried next() abd nextLine() didn't work.</strong> Down below is my code the Blood part is where the fix should happen. But I am not sure how to fix it.</p>\n<p><strong>The Game:</strong></p>\n<p>BLACKJACK RULES:\n-Each player is dealt 2 cards. The dealer is dealt 2 cards with one face-up and one face-down.\n-Cards are equal to their value with face cards being 10 and an Ace being 1 or 11.\n-The players cards are added up for their total.\n-Players Hit to gain another card from the deck. Players Stay to keep their current card total.\n-Dealer Hits until they equal or exceed 17.\n-The goal is to have a higher card total than the dealer without going over 21.\n-If the player total equals the dealer total, it is a Push and the hand ends.\n-Players win their bet if they beat the dealer. Players win 1.5x their bet if they get Blackjack which is 21.\n-Note that: (C) Clubs (?), (D) Diamonds (?), (H) Hearts (?), (S) Spades (?), (J) Jack (?,?,?,?), (Q) Queen (?,?,?,?) and (K) King (?,?,?,?).</p>\n<p>How many people are playing (1-6)? 1\nWhat is player 1's name? <strong>sa mi</strong>   &lt;&lt;&lt; this where it crashes\nHow much do you want to bet sa, you got (1-100) J Coins?</p>\n<p><strong>My Code:</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class BlackjackGame {\n\n    private Scanner input = new Scanner(System.in);\n    private int users;\n    private Player[] players;\n    private Deck deck;\n    private Dealer dealer = new Dealer();\n\n    // Starts game and displays the rules\n    public void initializeGame() {\n        String names;\n        System.out.println(&quot;Welcome to Blackjack!&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;  BLACKJACK RULES: &quot;);\n        System.out.println(\n                &quot;    -Each player is dealt 2 cards. The dealer is dealt 2 cards with one face-up and one face-down.&quot;);\n        System.out.println(&quot;    -Cards are equal to their value with face cards being 10 and an Ace being 1 or 11.&quot;);\n        System.out.println(&quot;    -The players cards are added up for their total.&quot;);\n        System.out.println(\n                &quot;    -Players Hit to gain another card from the deck. Players Stay to keep their current card total.&quot;);\n        System.out.println(&quot;    -Dealer Hits until they equal or exceed 17.&quot;);\n        System.out.println(&quot;    -The goal is to have a higher card total than the dealer without going over 21.&quot;);\n        System.out.println(&quot;    -If the player total equals the dealer total, it is a Push and the hand ends.&quot;);\n        System.out.println(\n                &quot;    -Players win their bet if they beat the dealer. Players win 1.5x their bet if they get Blackjack which is 21.&quot;);\n        System.out.println(\n                &quot;        -Note that: (C) Clubs (♣), (D) Diamonds (♦), (H) Hearts (♥), (S) Spades (♠), (J) Jack (♣,♦,♥,♠), (Q) Queen (♣,♦,♥,♠) and (K) King (♣,♦,♥,♠).&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;&quot;);\n\n        // Gets the amount of players and creates them. Check that only up to 6 players\n        // can play.\n        do {\n            System.out.print(&quot;How many people are playing (1-6)? &quot;); // The Game can be played with 1-6 player.\n            users = input.nextInt();\n            if (users &gt;= 7) { // there can only be 6 players anything higher re-ask how many player.\n                System.out.println(&quot;Invalid entry. There can't be this much player's. Up to 1-6 player only.&quot;);\n            }\n\n        } while (users &gt; 6 || users &lt; 0);\n\n        players = new Player[users];\n        deck = new Deck();\n\n       ** // Asks for player names and assigns them\n        for (int i = 0; i &lt; users; i++) {\n            System.out.print(&quot;What is player &quot; + (i + 1) + &quot;'s name? &quot;);\n            names = input.next();\n            players[i] = new Player();\n            players[i].setName(names);\n        }**\n    }\n\n    // Shuffles the deck\n    public void shuffle() throws InvalidDeckPositionException, InvalidCardSuitException, InvalidCardValueException,\n            InvalidSpaceException {\n        deck.shuffle();\n\n    }\n\n    // Gets the bets from the players\n    public void getBets() {\n        int betValue;\n\n        for (int i = 0; i &lt; users; i++) {\n            if (players[i].getBank() &gt; 0) {\n                do {\n                    System.out.print(&quot;How much do you want to bet &quot; + players[i].getName() + &quot;, you got&quot;\n                            + (&quot; (1-&quot; + players[i].getBank()) + &quot;) &quot; + &quot;J Coins? &quot;);\n                    betValue = input.nextInt();\n                    players[i].setBet(betValue);\n                } while (!(betValue &gt; 0 &amp;&amp; betValue &lt;= players[i].getBank()));\n                System.out.println(&quot;&quot;);\n            }\n\n        }\n\n    }\n\n    // Deals the cards to the players and dealer\n    public void dealCards() {\n        for (int j = 0; j &lt; 2; j++) {\n            for (int i = 0; i &lt; users; i++) {\n                if (players[i].getBank() &gt; 0) {\n                    players[i].addCard(deck.nextCard());\n                }\n            }\n\n            dealer.addCard(deck.nextCard());\n        }\n    }\n\n    // Initial check for dealer or player Blackjack\n    public void checkBlackjack() {\n        // System.out.println();\n\n        if (dealer.isBlackjack()) {\n            System.out.println(&quot;Dealer has BlackJack!&quot;);\n            for (int i = 0; i &lt; users; i++) {\n                if (players[i].getTotal() == 21) {\n                    System.out.println(players[i].getName() + &quot; pushes&quot;);\n                    players[i].push();\n                } else {\n                    System.out.println(players[i].getName() + &quot; loses&quot;);\n                    players[i].bust();\n                }\n            }\n        } else {\n            if (dealer.peek()) {\n                System.out.println(&quot;Dealer peeks and does not have a BlackJack&quot;);\n            }\n\n            for (int i = 0; i &lt; users; i++) {\n                if (players[i].getTotal() == 21) {\n                    System.out.println(players[i].getName() + &quot; has blackjack!&quot;);\n                    players[i].blackjack();\n                }\n            }\n        }\n    }\n\n    // This code takes the user commands to hit or stand\n    public void hitOrStand() {\n        String command;\n        char c;\n        for (int i = 0; i &lt; users; i++) {\n            if (players[i].getBet() &gt; 0) {\n                System.out.println();\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getHandString());\n\n                do {\n                    do {\n                        System.out.print(players[i].getName() + &quot; (H)it or (S)tand? &quot;);\n                        command = input.next();\n                        c = command.toUpperCase().charAt(0);\n                    } while (!(c == 'H' || c == 'S'));\n                    if (c == 'H') {\n                        players[i].addCard(deck.nextCard());\n                        System.out.println(players[i].getName() + &quot; has &quot; + players[i].getHandString());\n                    }\n                } while (c != 'S' &amp;&amp; players[i].getTotal() &lt;= 21);\n            }\n        }\n    }\n\n    // Code for the dealer to play\n    public void dealerPlays() {\n        boolean isSomePlayerStillInTheGame = false;\n        for (int i = 0; i &lt; users &amp;&amp; isSomePlayerStillInTheGame == false; i++) {\n            if (players[i].getBet() &gt; 0 &amp;&amp; players[i].getTotal() &lt;= 21) {\n                isSomePlayerStillInTheGame = true;\n            }\n        }\n        if (isSomePlayerStillInTheGame) {\n            dealer.dealerPlay(deck);\n        }\n    }\n\n    // This code calculates all possible outcomes and adds or removes the player\n    // bets\n    public void settleBets() {\n        System.out.println();\n\n        for (int i = 0; i &lt; users; i++) {\n            if (players[i].getBet() &gt; 0) {\n                if (players[i].getTotal() &gt; 21) {\n                    System.out.println(players[i].getName() + &quot; has busted&quot;);\n                    players[i].bust();\n                } else if (players[i].getTotal() == dealer.calculateTotal()) {\n                    System.out.println(players[i].getName() + &quot; has pushed&quot;);\n                    players[i].push();\n                } else if (players[i].getTotal() &lt; dealer.calculateTotal() &amp;&amp; dealer.calculateTotal() &lt;= 21) {\n                    System.out.println(players[i].getName() + &quot; has lost&quot;);\n                    players[i].loss();\n                } else if (players[i].getTotal() == 21) {\n                    System.out.println(players[i].getName() + &quot; has won with blackjack!&quot;);\n                    players[i].blackjack();\n                } else {\n                    System.out.println(players[i].getName() + &quot; has won&quot;);\n                    players[i].win();\n\n                }\n            }\n        }\n\n    }\n\n    // This prints the players hands\n    public void printStatus() {\n        for (int i = 0; i &lt; users; i++) {\n            if (players[i].getBank() &gt; 0) {\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getHandString());\n            }\n        }\n        System.out.println(&quot;Dealer has &quot; + dealer.getHandString(true, true));\n    }\n\n    // This prints the players banks and tells the player if s/he is out of the game\n    public void printMoney() {\n        for (int i = 0; i &lt; users; i++) {\n            if (players[i].getBank() &gt; 0) {\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getBank() + &quot; J Coins &quot;);\n            }\n            if (players[i].getBank() == 0) {\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getBank() + &quot; J Coins &quot;\n                        + &quot; and is out of the game.&quot;);\n                players[i].removeFromGame();\n            }\n        }\n    }\n\n    // This code resets all hands\n    public void clearHands() {\n        for (int i = 0; i &lt; users; i++) {\n            players[i].clearHand();\n        }\n        dealer.clearHand();\n\n    }\n\n    // This decides to force the game to end when all players lose or lets players\n    // choose to keep playing or not\n    public boolean playAgain() {\n        String command;\n        char c;\n        Boolean playState = true;\n        if (forceEnd()) {\n            playState = false;\n        } else {\n            do {\n                System.out.println(&quot;&quot;);\n                System.out.print(&quot;Do you want to play again (Y)es or (N)o? &quot;);\n                command = input.next();\n                c = command.toUpperCase().charAt(0);\n            } while (!(c == 'Y' || c == 'N'));\n            if (c == 'N') {\n                playState = false;\n            }\n        }\n        return playState;\n    }\n\n    // This says true or false to forcing the game to end\n    public boolean forceEnd() {\n        boolean end = false;\n        int endCount = 0;\n\n        for (int i = 0; i &lt; users; i++) {\n            if (players[i].getBank() == -1) {\n                endCount++;\n            }\n        }\n        if (endCount == users) {\n            end = true;\n        }\n        if (end) {\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;All players have lost and the game ends.&quot;);\n        }\n\n        return end;\n    }\n\n    // This is the endgame code for when all players are out of the game or players\n    // decide to stop playing\n    public void endGame() {\n        int endAmount;\n        String endState = &quot; no change.&quot;;\n        System.out.println(&quot;&quot;);\n        for (int i = 0; i &lt; users; i++) {\n            if (players[i].getBank() == -1) {\n                players[i].resetBank();\n            }\n            endAmount = players[i].getBank() - 100;\n            if (endAmount &gt; 0) {\n                endState = &quot; gain of &quot;;\n            } else if (endAmount &lt; 0) {\n                endState = &quot; loss of &quot;;\n            }\n            System.out.println(players[i].getName() + &quot; has ended the game with &quot; + players[i].getBank() + &quot;.&quot;);\n            if (endState != &quot; no change.&quot;) {\n                System.out.println(&quot;A&quot; + endState + Math.abs(endAmount) + &quot;.&quot;);\n            } else {\n                System.out.println(&quot;No change from their starting value.&quot;);\n            }\n            System.out.println(&quot;&quot;);\n        }\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Thank you for playing!&quot;);\n    }\n\n} // End class\n</code></pre>\n<p><strong>I have tried next() abd nextLine() didn't work.</strong></p>\n<p>Doing nextLine() broke the code even more when I run it and play the game.</p>\n"},{"tags":["java","html","spring-boot","bootstrap-4","spring-thymeleaf"],"comments":[{"owner":{"account_id":4244064,"reputation":84,"user_id":3473236,"accept_rate":40,"display_name":"bugrahan"},"score":0,"creation_date":1677242079,"post_id":75556524,"comment_id":133303882,"body_markdown":"Hi. Are you sure that `stats` attribute is added to the model?","body":"Hi. Are you sure that <code>stats</code> attribute is added to the model?"},{"owner":{"account_id":27869223,"reputation":1,"user_id":21280127,"display_name":"Anuj Singh"},"score":0,"creation_date":1677243927,"post_id":75556524,"comment_id":133304419,"body_markdown":"yes check this..","body":"yes check this.."},{"owner":{"account_id":27869223,"reputation":1,"user_id":21280127,"display_name":"Anuj Singh"},"score":0,"creation_date":1677244005,"post_id":75556524,"comment_id":133304439,"body_markdown":"&#39;@Controller\npublic class HomeController {\n\n\t@Autowired\n\tCoronaVirusDataService coronaVirusDataService;\n\n\t@GetMapping(&quot;/&quot;)\n\tpublic String Home(Model model) {\n\n\t\tmodel.addAttribute(&quot;stats&quot;, coronaVirusDataService.getAllStats());\n\n\t\treturn &quot;home&quot;;\n\n\t}\n\n}         \n&#39;","body":"&#39;@Controller public class HomeController {  \t@Autowired \tCoronaVirusDataService coronaVirusDataService;  \t@GetMapping(&quot;/&quot;) \tpublic String Home(Model model) {  \t\tmodel.addAttribute(&quot;stats&quot;, coronaVirusDataService.getAllStats());  \t\treturn &quot;home&quot;;  \t}  }          &#39;"},{"owner":{"account_id":27869223,"reputation":1,"user_id":21280127,"display_name":"Anuj Singh"},"score":0,"creation_date":1677244045,"post_id":75556524,"comment_id":133304446,"body_markdown":"but this is working","body":"but this is working"},{"owner":{"account_id":27869223,"reputation":1,"user_id":21280127,"display_name":"Anuj Singh"},"score":0,"creation_date":1677244050,"post_id":75556524,"comment_id":133304448,"body_markdown":"&lt;tr th:each=&quot;i : ${#numbers.sequence(1, 5)}&quot; th:value=&quot;${i}&quot;&gt;\n\t\t\t&lt;td th:text=&quot;&#39;No.&#39; + ${i}&quot;&gt;&lt;/td&gt;\n\t\t&lt;/tr&gt;","body":"&lt;tr th:each=&quot;i : ${#numbers.sequence(1, 5)}&quot; th:value=&quot;${i}&quot;&gt; \t\t\t&lt;td th:text=&quot;&#39;No.&#39; + ${i}&quot;&gt;&lt;/td&gt; \t\t&lt;/tr&gt;"},{"owner":{"account_id":16416002,"reputation":841,"user_id":11858171,"display_name":"zerdox"},"score":1,"creation_date":1677671255,"post_id":75556524,"comment_id":133382644,"body_markdown":"I guess you need to reproduce your issue with minimal code and post it for us. It could be playground or some repository we can take a look at. &quot;Not working&quot; with this amount of code doesn&#39;t give any info for us.","body":"I guess you need to reproduce your issue with minimal code and post it for us. It could be playground or some repository we can take a look at. &quot;Not working&quot; with this amount of code doesn&#39;t give any info for us."},{"owner":{"account_id":16369709,"reputation":393,"user_id":11823237,"display_name":"Lakshitha Samod"},"score":0,"creation_date":1677913342,"post_id":75556524,"comment_id":133434884,"body_markdown":"Try using th:if to conditionally render the table based on whether the stats model attribute is empty or not.","body":"Try using th:if to conditionally render the table based on whether the stats model attribute is empty or not."}],"answers":[{"tags":[],"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683866661,"creation_date":1683866661,"answer_id":76233185,"question_id":75556524,"body_markdown":"As per guide use **th:block**\r\n\r\n    &lt;th:block th:each=&quot;data : ${stats}&quot;&gt;\r\n    \t&lt;tr&gt;\r\n            &lt;td th:text=&quot;${data.country}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${data.state}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${data.latestTotalCases}&quot;&gt;0&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/th:block&gt;","title":"Thymleaf th:each iteration not showing working and not showing data","body":"<p>As per guide use <strong>th:block</strong></p>\n<pre><code>&lt;th:block th:each=&quot;data : ${stats}&quot;&gt;\n    &lt;tr&gt;\n        &lt;td th:text=&quot;${data.country}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${data.state}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${data.latestTotalCases}&quot;&gt;0&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/th:block&gt;\n</code></pre>\n"}],"owner":{"account_id":27869223,"reputation":1,"user_id":21280127,"display_name":"Anuj Singh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683866661,"creation_date":1677241362,"question_id":75556524,"body_markdown":"Thymleaf th:each iteration not showing working and not showing data\r\n\r\n&#39;&lt;table class=&quot; table table-bordered table-striped&quot;&gt;\r\n\r\n\t\t&lt;tr style=&quot;background-color: black; color: white&quot;&gt;\r\n\t\t\t&lt;th&gt;Country&lt;/th&gt;\r\n\t\t\t&lt;th&gt;State&lt;/th&gt;\r\n\t\t\t&lt;th&gt;Total Cases&lt;/th&gt;\r\n\t\t&lt;/tr&gt;\r\n\r\n\t\t&lt;tr th:each=&quot;data : ${stats}&quot;&gt;\r\n\t\t\t&lt;td th:text=&quot;${data.country}&quot;&gt;&lt;/td&gt;\r\n\t\t\t&lt;td th:text=&quot;${data.state}&quot;&gt;&lt;/td&gt;\r\n\t\t\t&lt;td th:text=&quot;${data.latestTotalCases}&quot;&gt;0&lt;/td&gt;\r\n\t\t&lt;/tr&gt;\r\n\r\n&lt;/table&gt;&#39;\r\n\r\n","title":"Thymleaf th:each iteration not showing working and not showing data","body":"<p>Thymleaf th:each iteration not showing working and not showing data</p>\n<p>'</p>\n<pre><code>    &lt;tr style=&quot;background-color: black; color: white&quot;&gt;\n        &lt;th&gt;Country&lt;/th&gt;\n        &lt;th&gt;State&lt;/th&gt;\n        &lt;th&gt;Total Cases&lt;/th&gt;\n    &lt;/tr&gt;\n\n    &lt;tr th:each=&quot;data : ${stats}&quot;&gt;\n        &lt;td th:text=&quot;${data.country}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${data.state}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${data.latestTotalCases}&quot;&gt;0&lt;/td&gt;\n    &lt;/tr&gt;\n</code></pre>\n'\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1657315479,"post_id":72917096,"comment_id":128789912,"body_markdown":"Looks like it&#39;s working to me. Don&#39;t know _why_, but it appears encoding `&quot;AAAAAAAAAA&quot;` returns a `ByteBuffer` whose **capacity** is `11`, but its **limit** is set to `10`. You&#39;re printing out the entire backing array without taking the limit into account.","body":"Looks like it&#39;s working to me. Don&#39;t know <i>why</i>, but it appears encoding <code>&quot;AAAAAAAAAA&quot;</code> returns a <code>ByteBuffer</code> whose <b>capacity</b> is <code>11</code>, but its <b>limit</b> is set to <code>10</code>. You&#39;re printing out the entire backing array without taking the limit into account."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1657315925,"post_id":72917096,"comment_id":128790008,"body_markdown":"Why are you doing it this way? What&#39;s wrong with just doing `.getBytes(StandardCharsets.UTF_8)`?","body":"Why are you doing it this way? What&#39;s wrong with just doing <code>.getBytes(StandardCharsets.UTF_8)</code>?"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1657316552,"post_id":72917096,"comment_id":128790136,"body_markdown":"Typo in `import java.nio.charset;`, no class name","body":"Typo in <code>import java.nio.charset;</code>, no class name"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1657316645,"post_id":72917096,"comment_id":128790145,"body_markdown":"In addition to @DuncG comment, there is no reason to have `import java.lang.*;`. In Java, that import is implicitly present in all source files.","body":"In addition to @DuncG comment, there is no reason to have <code>import java.lang.*;</code>. In Java, that import is implicitly present in all source files."},{"owner":{"account_id":7281,"reputation":248677,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1657325978,"post_id":72917096,"comment_id":128791585,"body_markdown":"@Sweeper [**CharSequence**](https://docs.oracle.com/javase/7/docs/api/java/lang/CharSequence.html) doesn&#39;t have a `.getBytes()` method","body":"@Sweeper <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/CharSequence.html\" rel=\"nofollow noreferrer\"><b>CharSequence</b></a> doesn&#39;t have a <code>.getBytes()</code> method"},{"owner":{"account_id":7281,"reputation":248677,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1657326272,"post_id":72917096,"comment_id":128791629,"body_markdown":"@Slaw For that you can either blame `mycompiler.io`. (not that it matters at all)","body":"@Slaw For that you can either blame <code>mycompiler.io</code>. (not that it matters at all)"},{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":0,"creation_date":1657330660,"post_id":72917096,"comment_id":128792058,"body_markdown":"A `ByteBuffer` is not equivalent to a `CharSequence`","body":"A <code>ByteBuffer</code> is not equivalent to a <code>CharSequence</code>"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1657317084,"creation_date":1657316154,"answer_id":72917227,"question_id":72917096,"body_markdown":"First, note that if you have a `String`, then you can simply do:\r\n\r\n```lang-java\r\nbyte[] bytes = theString.getBytes(StandardCharsets.UTF_8);\r\n```\r\n\r\nOr, even if you have a `CharSequence`, you can do:\r\n\r\n```lang-java\r\nbyte[] bytes = theCharSequence.toString().getBytes(StandardCharsets.UTF_8);\r\n```\r\n\r\nThat will potentially create a `String` _copy_ of the `CharSequence` if it&#39;s not already a `String`, though it should be quickly garbage collected.\r\n\r\nBut regarding your question, you&#39;re not taking the `ByteBuffer`&#39;s [limit][1] (or [position][2], though it&#39;s `0` in this case) into account. For whatever reason, encoding `&quot;AAAAAAAAAA&quot;` results in a buffer whose **capacity** is `11`, but whose **limit** is `10`. But the `#array()` method returns the entire backing array, regardless of the buffer&#39;s position or limit. This means you need to manually take the limit (and position) into account when converting the `ByteBuffer` to a `byte[]`.\r\n\r\n\r\nFor example:\r\n\r\n```lang-java\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.CharBuffer;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Arrays;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    for (int i = 1; i &lt;= 10; i++) {\r\n      String string = &quot;A&quot;.repeat(i);\r\n\r\n      CharBuffer chars = CharBuffer.wrap(string);\r\n      ByteBuffer bytes = StandardCharsets.UTF_8.encode(chars);\r\n\r\n      System.out.printf(&quot;%-10s | %s%n&quot;, string, Arrays.toString(toByteArray(bytes)));\r\n    }\r\n  }\r\n\r\n  public static byte[] toByteArray(ByteBuffer buffer) {\r\n    byte[] array = new byte[buffer.remaining()];\r\n    buffer.get(buffer.position(), array);\r\n    return array;\r\n  }\r\n}\r\n```\r\n\r\nWhich will output:\r\n\r\n```lang-none\r\nA          | [65]\r\nAA         | [65, 65]\r\nAAA        | [65, 65, 65]\r\nAAAA       | [65, 65, 65, 65]\r\nAAAAA      | [65, 65, 65, 65, 65]\r\nAAAAAA     | [65, 65, 65, 65, 65, 65]\r\nAAAAAAA    | [65, 65, 65, 65, 65, 65, 65]\r\nAAAAAAAA   | [65, 65, 65, 65, 65, 65, 65, 65]\r\nAAAAAAAAA  | [65, 65, 65, 65, 65, 65, 65, 65, 65]\r\nAAAAAAAAAA | [65, 65, 65, 65, 65, 65, 65, 65, 65, 65]\r\n```\r\n\r\nNote the above example copies a region of the buffer&#39;s backing array, though the original `ByteBuffer` should be quickly garbage collected. The only way to avoid copying the backing array, that I can think of, is to adapt your code to work with the `ByteBuffer` directly (if you only return the backing array, you lose the position/limit information). Or I suppose you could create a wrapper class.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/Buffer.html#limit()\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/Buffer.html#position()","title":"How to convert CharSequence to UTF-8 encoded byte array in Java?","body":"<p>First, note that if you have a <code>String</code>, then you can simply do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] bytes = theString.getBytes(StandardCharsets.UTF_8);\n</code></pre>\n<p>Or, even if you have a <code>CharSequence</code>, you can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] bytes = theCharSequence.toString().getBytes(StandardCharsets.UTF_8);\n</code></pre>\n<p>That will potentially create a <code>String</code> <em>copy</em> of the <code>CharSequence</code> if it's not already a <code>String</code>, though it should be quickly garbage collected.</p>\n<p>But regarding your question, you're not taking the <code>ByteBuffer</code>'s <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/Buffer.html#limit()\" rel=\"noreferrer\">limit</a> (or <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/Buffer.html#position()\" rel=\"noreferrer\">position</a>, though it's <code>0</code> in this case) into account. For whatever reason, encoding <code>&quot;AAAAAAAAAA&quot;</code> results in a buffer whose <strong>capacity</strong> is <code>11</code>, but whose <strong>limit</strong> is <code>10</code>. But the <code>#array()</code> method returns the entire backing array, regardless of the buffer's position or limit. This means you need to manually take the limit (and position) into account when converting the <code>ByteBuffer</code> to a <code>byte[]</code>.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.ByteBuffer;\nimport java.nio.CharBuffer;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Arrays;\n\npublic class Main {\n\n  public static void main(String[] args) throws Exception {\n    for (int i = 1; i &lt;= 10; i++) {\n      String string = &quot;A&quot;.repeat(i);\n\n      CharBuffer chars = CharBuffer.wrap(string);\n      ByteBuffer bytes = StandardCharsets.UTF_8.encode(chars);\n\n      System.out.printf(&quot;%-10s | %s%n&quot;, string, Arrays.toString(toByteArray(bytes)));\n    }\n  }\n\n  public static byte[] toByteArray(ByteBuffer buffer) {\n    byte[] array = new byte[buffer.remaining()];\n    buffer.get(buffer.position(), array);\n    return array;\n  }\n}\n</code></pre>\n<p>Which will output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>A          | [65]\nAA         | [65, 65]\nAAA        | [65, 65, 65]\nAAAA       | [65, 65, 65, 65]\nAAAAA      | [65, 65, 65, 65, 65]\nAAAAAA     | [65, 65, 65, 65, 65, 65]\nAAAAAAA    | [65, 65, 65, 65, 65, 65, 65]\nAAAAAAAA   | [65, 65, 65, 65, 65, 65, 65, 65]\nAAAAAAAAA  | [65, 65, 65, 65, 65, 65, 65, 65, 65]\nAAAAAAAAAA | [65, 65, 65, 65, 65, 65, 65, 65, 65, 65]\n</code></pre>\n<p>Note the above example copies a region of the buffer's backing array, though the original <code>ByteBuffer</code> should be quickly garbage collected. The only way to avoid copying the backing array, that I can think of, is to adapt your code to work with the <code>ByteBuffer</code> directly (if you only return the backing array, you lose the position/limit information). Or I suppose you could create a wrapper class.</p>\n"}],"owner":{"account_id":7281,"reputation":248677,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":769,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1683866214,"creation_date":1657315133,"question_id":72917096,"body_markdown":"I am trying to convert a `CharSequence` to a UTF-8 encoded `byte[]` array.\r\n\r\nAnd i&#39;ve been having problems with it, so i was going to ask stackoverflow for help. And i was going to write a *Java Fiddle* to do it:\r\n\r\nhttps://www.mycompiler.io/view/3MliN0HgwDD\r\n\r\nExcept the fiddle itself doesn&#39;t work:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\nimport java.nio.*;\r\nimport java.nio.charset;\r\n\r\n// The main method must be in a class named &quot;Main&quot;.\r\nclass Main {\r\n    public static byte[] charSequenceToUtf8(final CharSequence input)\r\n    {\r\n        //char[] chars = new char[input.length];\r\n        //for (int i=0; i&lt;input.length; i++)\r\n        //  chars[i] = input.charAt(i);\r\n\r\n        CharBuffer charBuffer = CharBuffer.wrap(input);\r\n        checkEquals(10, charBuffer.length(), &quot;Charbuffer is wrong length&quot;);\r\n\r\n        Charset cs = Charset.forName(&quot;UTF-8&quot;); \r\n\t\tByteBuffer byteBuffer = cs.encode(charBuffer);\r\n\t\tcheckEquals(10, byteBuffer.length(), &quot;byteBuffer is wrong length&quot;);\r\n\t\t\r\n\t\tbyte[] utf8 = byteBuffer.array();        \r\n\t\tcheckEquals(10, utf8.length, &quot;utf8 bytes is wrong length&quot;);\r\n    }\r\n    \r\n    public static void checkEquals(int expected, int actual, String message)\r\n    {\r\n        if (expected == actual)\r\n            return;\r\n            \r\n        String sExpected = String.valueOf(expected);\r\n        String sActual = String.valueOf(actual);\r\n        \r\n        throw new Exception(&quot;Test failed. Expected &quot;+sExpected+&quot;, Actual &quot;+sActual+&quot;. &quot;+message);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        test(&quot;AAAAAAAAAA&quot;); //ten A&#39;s\r\n    }\r\n}\r\n```\r\n\r\nIt seems that `java.nio` requires at least Java 7 &lt;sup&gt;[ref][1]&lt;/sup&gt;. Which is why it is confusing to me that it doesn&#39;t work in Java 16:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSo this bring up a lot of questions:\r\n\r\n- how can i convert a `CharSequence` to a `byte[]` array? &lt;sup&gt;[1][3]&lt;/sup&gt;\r\n- why does it not work in Java 16? \r\n\r\nIn the end, the actual bug is that trying to encode the string `AAAAAAAAA` returns an 11-element array:\r\n\r\n| CharSequence | UTF-8 byte array |\r\n|----------------|---------------------|\r\n| *&quot;AA&quot;*         | `[65, 65]`          |\r\n| *&quot;AAA&quot;*        | `[65, 65, 65]`          |\r\n| *&quot;AAAA&quot;*       | `[65, 65, 65, 65]`          |\r\n| *&quot;AAAAA&quot;*      | `[65, 65, 65, 65, 65]`          |\r\n| *&quot;AAAAAA&quot;*     | `[65, 65, 65, 65, 65, 65]`          |\r\n| *&quot;AAAAAAA&quot;*    | `[65, 65, 65, 65, 65, 65, 65]`          |\r\n| *&quot;AAAAAAAA&quot;*   | `[65, 65, 65, 65, 65, 65, 65, 65]`          |\r\n| *&quot;AAAAAAAAA&quot;*  | `[65, 65, 65, 65, 65, 65, 65, 65, 65]`          |\r\n| *&quot;AAAAAAAAAA&quot;* | `[65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 0]` |\r\n\r\nWhy is the above code, that i stole from the linked question, failing of a string of 10 characters?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20029271/cannot-find-package-java-nio-file\r\n  [2]: https://i.stack.imgur.com/ClxWd.png\r\n  [3]: https://stackoverflow.com/questions/18514836/how-to-encode-a-charsequence-using-a-charset-without-converting-to-string","title":"How to convert CharSequence to UTF-8 encoded byte array in Java?","body":"<p>I am trying to convert a <code>CharSequence</code> to a UTF-8 encoded <code>byte[]</code> array.</p>\n<p>And i've been having problems with it, so i was going to ask stackoverflow for help. And i was going to write a <em>Java Fiddle</em> to do it:</p>\n<p><a href=\"https://www.mycompiler.io/view/3MliN0HgwDD\" rel=\"nofollow noreferrer\">https://www.mycompiler.io/view/3MliN0HgwDD</a></p>\n<p>Except the fiddle itself doesn't work:</p>\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\nimport java.nio.*;\nimport java.nio.charset;\n\n// The main method must be in a class named &quot;Main&quot;.\nclass Main {\n    public static byte[] charSequenceToUtf8(final CharSequence input)\n    {\n        //char[] chars = new char[input.length];\n        //for (int i=0; i&lt;input.length; i++)\n        //  chars[i] = input.charAt(i);\n\n        CharBuffer charBuffer = CharBuffer.wrap(input);\n        checkEquals(10, charBuffer.length(), &quot;Charbuffer is wrong length&quot;);\n\n        Charset cs = Charset.forName(&quot;UTF-8&quot;); \n        ByteBuffer byteBuffer = cs.encode(charBuffer);\n        checkEquals(10, byteBuffer.length(), &quot;byteBuffer is wrong length&quot;);\n        \n        byte[] utf8 = byteBuffer.array();        \n        checkEquals(10, utf8.length, &quot;utf8 bytes is wrong length&quot;);\n    }\n    \n    public static void checkEquals(int expected, int actual, String message)\n    {\n        if (expected == actual)\n            return;\n            \n        String sExpected = String.valueOf(expected);\n        String sActual = String.valueOf(actual);\n        \n        throw new Exception(&quot;Test failed. Expected &quot;+sExpected+&quot;, Actual &quot;+sActual+&quot;. &quot;+message);\n    }\n    \n    public static void main(String[] args) {\n        test(&quot;AAAAAAAAAA&quot;); //ten A's\n    }\n}\n</code></pre>\n<p>It seems that <code>java.nio</code> requires at least Java 7 <sup><a href=\"https://stackoverflow.com/questions/20029271/cannot-find-package-java-nio-file\">ref</a></sup>. Which is why it is confusing to me that it doesn't work in Java 16:</p>\n<p><a href=\"https://i.stack.imgur.com/ClxWd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ClxWd.png\" alt=\"enter image description here\" /></a></p>\n<p>So this bring up a lot of questions:</p>\n<ul>\n<li>how can i convert a <code>CharSequence</code> to a <code>byte[]</code> array? <sup><a href=\"https://stackoverflow.com/questions/18514836/how-to-encode-a-charsequence-using-a-charset-without-converting-to-string\">1</a></sup></li>\n<li>why does it not work in Java 16?</li>\n</ul>\n<p>In the end, the actual bug is that trying to encode the string <code>AAAAAAAAA</code> returns an 11-element array:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>CharSequence</th>\n<th>UTF-8 byte array</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><em>&quot;AA&quot;</em></td>\n<td><code>[65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAA&quot;</em></td>\n<td><code>[65, 65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAAA&quot;</em></td>\n<td><code>[65, 65, 65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAAAA&quot;</em></td>\n<td><code>[65, 65, 65, 65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAAAAA&quot;</em></td>\n<td><code>[65, 65, 65, 65, 65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAAAAAA&quot;</em></td>\n<td><code>[65, 65, 65, 65, 65, 65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAAAAAAA&quot;</em></td>\n<td><code>[65, 65, 65, 65, 65, 65, 65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAAAAAAAA&quot;</em></td>\n<td><code>[65, 65, 65, 65, 65, 65, 65, 65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAAAAAAAAA&quot;</em></td>\n<td><code>[65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 0]</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Why is the above code, that i stole from the linked question, failing of a string of 10 characters?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":20080927,"reputation":629,"user_id":14723580,"display_name":"Krellex"},"score":0,"creation_date":1613906628,"post_id":66301736,"comment_id":117215568,"body_markdown":"You might have another Restaurant constructor with the same signature, perhaps inside another package.","body":"You might have another Restaurant constructor with the same signature, perhaps inside another package."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1613906711,"post_id":66301736,"comment_id":117215590,"body_markdown":"`@RequiredArgsConstructor` checks for uninitialized `final` and `@NotNull` fields, not for `@NotEmpty` ones, so it&#39;s probably just generating another no-arguments constructor.","body":"<code>@RequiredArgsConstructor</code> checks for uninitialized <code>final</code> and <code>@NotNull</code> fields, not for <code>@NotEmpty</code> ones, so it&#39;s probably just generating another no-arguments constructor."},{"owner":{"account_id":20157022,"reputation":167,"user_id":14782961,"display_name":"ror roro"},"score":1,"creation_date":1613907538,"post_id":66301736,"comment_id":117215804,"body_markdown":"@ASH thanks for your answer, but the correct answer is as it explained in the answers section below","body":"@ASH thanks for your answer, but the correct answer is as it explained in the answers section below"},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1613908079,"post_id":66301736,"comment_id":117215936,"body_markdown":"In this case you may want to use the `@Data` annotation anyway. It combines `@RequiredArgsConstructor`, `@Getter`, `@Setter`, `@ToString` and additionally `@EqualsAndHashCode` which is always a good idea for entities.","body":"In this case you may want to use the <code>@Data</code> annotation anyway. It combines <code>@RequiredArgsConstructor</code>, <code>@Getter</code>, <code>@Setter</code>, <code>@ToString</code> and additionally <code>@EqualsAndHashCode</code> which is always a good idea for entities."}],"answers":[{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1613906965,"creation_date":1613906647,"answer_id":66301766,"question_id":66301736,"body_markdown":"Try to change @RequiredArgsConstructor to @AllArgsConstructor and that&#39;s been fine.\r\nSee more in [documentation][1]\r\n\r\n\r\n  [1]: https://projectlombok.org/features/constructor","title":"java error : constructor is already defined in class - using lombok","body":"<p>Try to change @RequiredArgsConstructor to @AllArgsConstructor and that's been fine.\nSee more in <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">documentation</a></p>\n"},{"tags":[],"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1613906726,"creation_date":1613906726,"answer_id":66301778,"question_id":66301736,"body_markdown":"As mentioned in [documentation][1] @RequiredArgsConstructor is built using `final` fields:\r\n\r\n&gt; @RequiredArgsConstructor generates a constructor with 1 parameter for\r\n&gt; each field that requires special handling. All non-initialized final\r\n&gt; fields get a parameter, as well as any fields that are marked as\r\n&gt; @NonNull that aren&#39;t initialized where they are declared. For those\r\n&gt; fields marked with @NonNull, an explicit null check is also generated.\r\n&gt; The constructor will throw a NullPointerException if any of the\r\n&gt; parameters intended for the fields marked with @NonNull contain null.\r\n&gt; The order of the parameters match the order in which the fields appear\r\n&gt; in your class.\r\n\r\n\r\nSo either remove @RequiredArgsConstructor annotation or mark some of fields with `final` keyword (or @NonNull annotation).\r\n\r\n  [1]: https://projectlombok.org/features/constructor","title":"java error : constructor is already defined in class - using lombok","body":"<p>As mentioned in <a href=\"https://projectlombok.org/features/constructor\" rel=\"noreferrer\">documentation</a> @RequiredArgsConstructor is built using <code>final</code> fields:</p>\n<blockquote>\n<p>@RequiredArgsConstructor generates a constructor with 1 parameter for\neach field that requires special handling. All non-initialized final\nfields get a parameter, as well as any fields that are marked as\n@NonNull that aren't initialized where they are declared. For those\nfields marked with @NonNull, an explicit null check is also generated.\nThe constructor will throw a NullPointerException if any of the\nparameters intended for the fields marked with @NonNull contain null.\nThe order of the parameters match the order in which the fields appear\nin your class.</p>\n</blockquote>\n<p>So either remove @RequiredArgsConstructor annotation or mark some of fields with <code>final</code> keyword (or @NonNull annotation).</p>\n"},{"tags":[],"owner":{"account_id":12666543,"reputation":415,"user_id":17478317,"display_name":"Abdullah Khilji"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683866101,"creation_date":1683866101,"answer_id":76233146,"question_id":66301736,"body_markdown":"In my scenario, an empty class was present throwing the same above error, removing all the constructor based annotations i.e. `@AllArgsConstructor\r\nand @NoArgsConstructor`, solved the issue for me.","title":"java error : constructor is already defined in class - using lombok","body":"<p>In my scenario, an empty class was present throwing the same above error, removing all the constructor based annotations i.e. <code>@AllArgsConstructor and @NoArgsConstructor</code>, solved the issue for me.</p>\n"}],"owner":{"account_id":20157022,"reputation":167,"user_id":14782961,"display_name":"ror roro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16379,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":66301778,"answer_count":3,"score":7,"last_activity_date":1683866101,"creation_date":1613906441,"question_id":66301736,"body_markdown":"The error \r\n\r\n    java: constructor Restaurant() is already defined in class  \r\n    com.example.order_system.domain.Restaurant\r\n\r\nappear when I add this class and run the program\r\n\r\n```\r\n@Entity\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Restaurant {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private long id;\r\n\r\n    @NotEmpty(message = &quot;The restaurant must have a name&quot;)\r\n    private String name;\r\n\r\n    @NotEmpty(message = &quot;Please add a description for this restaurant&quot;)\r\n    private String description;\r\n\r\n    @NotEmpty(message = &quot;The restaurant must have a location&quot;)\r\n    private String location;\r\n\r\n    @OneToMany(mappedBy = &quot;restaurant&quot;, fetch = FetchType.EAGER)\r\n    private List&lt;ContactDetails&gt; contactDetails = new ArrayList&lt;&gt;();\r\n\r\n}\r\n```\r\n","title":"java error : constructor is already defined in class - using lombok","body":"<p>The error</p>\n<pre><code>java: constructor Restaurant() is already defined in class  \ncom.example.order_system.domain.Restaurant\n</code></pre>\n<p>appear when I add this class and run the program</p>\n<pre><code>@Entity\n@NoArgsConstructor\n@RequiredArgsConstructor\n@Getter\n@Setter\n@ToString\npublic class Restaurant {\n\n    @Id\n    @GeneratedValue\n    private long id;\n\n    @NotEmpty(message = &quot;The restaurant must have a name&quot;)\n    private String name;\n\n    @NotEmpty(message = &quot;Please add a description for this restaurant&quot;)\n    private String description;\n\n    @NotEmpty(message = &quot;The restaurant must have a location&quot;)\n    private String location;\n\n    @OneToMany(mappedBy = &quot;restaurant&quot;, fetch = FetchType.EAGER)\n    private List&lt;ContactDetails&gt; contactDetails = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n"},{"tags":["java","code-formatting","spotless"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1680376707,"post_id":75908225,"comment_id":133889551,"body_markdown":"I see your point, but in my experience most Java programmer prefer to omit `this` when possible.  You may be fighting against the main stream here.","body":"I see your point, but in my experience most Java programmer prefer to omit <code>this</code> when possible.  You may be fighting against the main stream here."},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1680489266,"post_id":75908225,"comment_id":133901876,"body_markdown":"I agree with what @markspace said, but for educational purposes, I am also interested to know how the technical solution to this (the political fight is another topic)","body":"I agree with what @markspace said, but for educational purposes, I am also interested to know how the technical solution to this (the political fight is another topic)"},{"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"score":0,"creation_date":1683755443,"post_id":75908225,"comment_id":134417229,"body_markdown":"Do you want to do this only using `spotless` or are you open to using other plugins? Because the [checkstyle](https://docs.gradle.org/current/userguide/checkstyle_plugin.html) gradle plugin has the [RequireThis](https://checkstyle.sourceforge.io/config_coding.html#RequireThis) rule for this exact scenario","body":"Do you want to do this only using <code>spotless</code> or are you open to using other plugins? Because the <a href=\"https://docs.gradle.org/current/userguide/checkstyle_plugin.html\" rel=\"nofollow noreferrer\">checkstyle</a> gradle plugin has the <a href=\"https://checkstyle.sourceforge.io/config_coding.html#RequireThis\" rel=\"nofollow noreferrer\">RequireThis</a> rule for this exact scenario"},{"owner":{"account_id":24886434,"reputation":39,"user_id":18758985,"display_name":"lolMagixD"},"score":0,"creation_date":1683865247,"post_id":75908225,"comment_id":134434949,"body_markdown":"While I&#39;d love to do it with Spotless, checkstyle works fine as well!","body":"While I&#39;d love to do it with Spotless, checkstyle works fine as well!"}],"answers":[{"tags":[],"owner":{"account_id":24886434,"reputation":39,"user_id":18758985,"display_name":"lolMagixD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683865326,"creation_date":1683865326,"answer_id":76233100,"question_id":75908225,"body_markdown":"In a comment by [devatherock][1], the [checkstyle][2] plugin for Gradle was mentioned and solves this exact issue. While it isn&#39;t specifically Spotless, it&#39;s the best solution to this problem.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75908225/how-can-i-force-the-this-keyword-on-local-fields-and-methods-with-the-spotless?noredirect=1#comment134417229_75908225\r\n  [2]: https://docs.gradle.org/current/userguide/checkstyle_plugin.html","title":"How can I force the &#39;this&#39; keyword on local fields and methods with the Spotless Java code formatter?","body":"<p>In a comment by <a href=\"https://stackoverflow.com/questions/75908225/how-can-i-force-the-this-keyword-on-local-fields-and-methods-with-the-spotless?noredirect=1#comment134417229_75908225\">devatherock</a>, the <a href=\"https://docs.gradle.org/current/userguide/checkstyle_plugin.html\" rel=\"nofollow noreferrer\">checkstyle</a> plugin for Gradle was mentioned and solves this exact issue. While it isn't specifically Spotless, it's the best solution to this problem.</p>\n"}],"owner":{"account_id":24886434,"reputation":39,"user_id":18758985,"display_name":"lolMagixD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76233100,"answer_count":1,"score":1,"last_activity_date":1683865326,"creation_date":1680375096,"question_id":75908225,"body_markdown":"I want to enforce the use of the &#39;this&#39; keyword using Spotless. For example: `getTowerData().recordMap` would be `this.getTowerData().recordMap`. \r\n\r\nI&#39;m running Spotless with Gradle with the current configuration:\r\n```\r\nspotless {\r\n    java {\r\n        importOrder(&#39;emu.grasscutter&#39;, &#39;&#39;, &#39;java&#39;, &#39;javax&#39;, &#39;\\\\#java&#39;, &#39;\\\\#&#39;)\r\n        googleJavaFormat(&#39;1.15.0&#39;)\r\n        formatAnnotations()\r\n        endWithNewline()\r\n        indentWithTabs(2); indentWithSpaces(4)\r\n        toggleOffOn()\r\n    }\r\n}\r\n```\r\n\r\nCurrently, I&#39;ve tried using:\r\n```\r\ncustom(&#39;this&#39;, {\r\n    // Force use of &#39;this.&#39; keyword\r\n    it.replaceAll(&#39;^\\\\s*(?!public|private|protected)(?!class|interface|enum|@interface)\\\\b(?!return)\\\\w+\\\\b&#39;, &#39;this.$0&#39;)\r\n})\r\n```\r\nbut this results in:\r\n```\r\nStep &#39;google-java-format&#39; found problem in &#39;src\\main\\java\\emu\\grasscutter\\auth\\AuthenticationSystem.java&#39;:\r\nnull\r\njava.lang.reflect.InvocationTargetException\r\nCaused by: com.google.googlejavaformat.java.FormatterException: 1:2: error: class, interface, enum, or record expected\r\n```","title":"How can I force the &#39;this&#39; keyword on local fields and methods with the Spotless Java code formatter?","body":"<p>I want to enforce the use of the 'this' keyword using Spotless. For example: <code>getTowerData().recordMap</code> would be <code>this.getTowerData().recordMap</code>.</p>\n<p>I'm running Spotless with Gradle with the current configuration:</p>\n<pre><code>spotless {\n    java {\n        importOrder('emu.grasscutter', '', 'java', 'javax', '\\\\#java', '\\\\#')\n        googleJavaFormat('1.15.0')\n        formatAnnotations()\n        endWithNewline()\n        indentWithTabs(2); indentWithSpaces(4)\n        toggleOffOn()\n    }\n}\n</code></pre>\n<p>Currently, I've tried using:</p>\n<pre><code>custom('this', {\n    // Force use of 'this.' keyword\n    it.replaceAll('^\\\\s*(?!public|private|protected)(?!class|interface|enum|@interface)\\\\b(?!return)\\\\w+\\\\b', 'this.$0')\n})\n</code></pre>\n<p>but this results in:</p>\n<pre><code>Step 'google-java-format' found problem in 'src\\main\\java\\emu\\grasscutter\\auth\\AuthenticationSystem.java':\nnull\njava.lang.reflect.InvocationTargetException\nCaused by: com.google.googlejavaformat.java.FormatterException: 1:2: error: class, interface, enum, or record expected\n</code></pre>\n"},{"tags":["java","sonarqube","jacoco","jacoco-maven-plugin","jacoco-plugin"],"comments":[{"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"score":0,"creation_date":1675798965,"post_id":75375132,"comment_id":133005374,"body_markdown":"You asked me to check this one ... I don&#39;t know.","body":"You asked me to check this one ... I don&#39;t know."},{"owner":{"account_id":1686882,"reputation":1183,"user_id":1549977,"accept_rate":86,"display_name":"Benjamin Marwell"},"score":0,"creation_date":1675887517,"post_id":75375132,"comment_id":133027078,"body_markdown":"This q does not contain enough information why module1 does not contain coverage code. Please ask on the ASF Maven mailing lists. BTW, you can check if module1 has the correct parent.","body":"This q does not contain enough information why module1 does not contain coverage code. Please ask on the ASF Maven mailing lists. BTW, you can check if module1 has the correct parent."},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":1,"creation_date":1676092810,"post_id":75375132,"comment_id":133072717,"body_markdown":"@BenjaminMarwell I have double checked all the relative or absolute paths it&#39;s all correct. I am finding it all strange that for other modules it generating the coverage report but for only one module it&#39;s not generating.","body":"@BenjaminMarwell I have double checked all the relative or absolute paths it&#39;s all correct. I am finding it all strange that for other modules it generating the coverage report but for only one module it&#39;s not generating."}],"answers":[{"comments":[{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1677074098,"post_id":75533246,"comment_id":133265305,"body_markdown":"Shouldn&#39;t jacoco configuration be in parent pom ?","body":"Shouldn&#39;t jacoco configuration be in parent pom ?"},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1677162217,"post_id":75533246,"comment_id":133286332,"body_markdown":"This way it indeed solved my problem. But I ran into one more issue after that, which I was able to resolve on my own, which I will post as an answer for future SO followers.\n\nBut I have no idea why do we need to create another module for aggregating the code coverages. Is this some kind of bug from jacoco or is this the limitation we have ?","body":"This way it indeed solved my problem. But I ran into one more issue after that, which I was able to resolve on my own, which I will post as an answer for future SO followers.  But I have no idea why do we need to create another module for aggregating the code coverages. Is this some kind of bug from jacoco or is this the limitation we have ?"},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1677162601,"post_id":75533246,"comment_id":133286470,"body_markdown":"can you please respond to my above queries ?","body":"can you please respond to my above queries ?"}],"tags":[],"owner":{"account_id":1704646,"reputation":442,"user_id":1563969,"display_name":"Sarang"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677071886,"creation_date":1677071886,"answer_id":75533246,"question_id":75375132,"body_markdown":"Create one more module as ReportAggregator and move jacoco configuration from parent pom to ReportAggregator pom","title":"jacoco configuration for multi module is not working","body":"<p>Create one more module as ReportAggregator and move jacoco configuration from parent pom to ReportAggregator pom</p>\n"},{"tags":[],"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677298166,"creation_date":1677162552,"answer_id":75546189,"question_id":75375132,"body_markdown":"Thank you @Sarang for the response. It did resolve my problem, but after that I ran into one more issue and that is for one of my module it was not generating the jacoco.exec file. After some investigation it seems the problem was with `&lt;argLine&gt;` tag. In one of my module I was using this tag and somehow this was overridden. \r\n\r\nSo what I did is I pre append the `argLine` before this and it resolve my issue\r\n\r\n    &lt;configuration&gt;\r\n        &lt;argLine&gt;${argLine} -XX:PermSize=256m -XX:MaxPermSize=1048m&lt;/argLine&gt;\r\n    &lt;/configuration&gt;","title":"jacoco configuration for multi module is not working","body":"<p>Thank you @Sarang for the response. It did resolve my problem, but after that I ran into one more issue and that is for one of my module it was not generating the jacoco.exec file. After some investigation it seems the problem was with <code>&lt;argLine&gt;</code> tag. In one of my module I was using this tag and somehow this was overridden.</p>\n<p>So what I did is I pre append the <code>argLine</code> before this and it resolve my issue</p>\n<pre><code>&lt;configuration&gt;\n    &lt;argLine&gt;${argLine} -XX:PermSize=256m -XX:MaxPermSize=1048m&lt;/argLine&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9814791,"reputation":73,"user_id":7271622,"display_name":"duhocsinhlienxo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683865294,"creation_date":1683863941,"answer_id":76233035,"question_id":75375132,"body_markdown":"You can try to merge unit test and instrument test from app module :\r\n\r\n    task jacocoUiTestReportAllModules(type: JacocoReport, dependsOn: [&#39;testDebugUnitTest&#39;, &#39;createDebugCoverageReport&#39;]) {\r\n        group &quot;Reports&quot;\r\n        description &quot;Generate Jacoco Instrumented Tests coverage reports for all modules&quot;\r\n        reports {\r\n            xml.enabled = true\r\n            html.enabled = true\r\n            html.destination file(&quot;${rootProject.buildDir}/coverage-report&quot;)\r\n        }\r\n        def javaClasses = []\r\n        def kotlinClasses = []\r\n        def javaSrc = []\r\n        def kotlinSrc = []\r\n        def execution = []\r\n        def fileFilter = [&#39;**/R.class&#39;, &#39;**/R$*.class&#39;, &#39;**/BuildConfig.*&#39;, &#39;**/Manifest*.*&#39;, &#39;**/*Test*.*&#39;, &#39;android/**/*.*&#39;]\r\n        rootProject.subprojects.each { proj -&gt;\r\n            javaClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/intermediates/javac/debug&quot;, excludes: fileFilter)\r\n            kotlinClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/tmp/kotlin-classes/debug&quot;, excludes: fileFilter)\r\n            javaSrc &lt;&lt; &quot;$proj.projectDir/src/main/java&quot;\r\n            kotlinSrc &lt;&lt; &quot;$proj.projectDir/src/main/kotlin&quot;\r\n            execution &lt;&lt; fileTree(dir: proj.buildDir, includes: [    &#39;jacoco/testDebugUnitTest.exec&#39;,\r\n                    &#39;outputs/code_coverage/debugAndroidTest/connected/**/*.ec&#39;])\r\n        }\r\n        getSourceDirectories().setFrom(files([javaSrc, kotlinSrc]))\r\n        getClassDirectories().setFrom(files([javaClasses, kotlinClasses]))\r\n        getExecutionData().setFrom(execution)\r\n    \r\n        doLast() {\r\n            print &quot;file://${reports.html.destination}/index.html&quot;\r\n    \r\n        }\r\n    }","title":"jacoco configuration for multi module is not working","body":"<p>You can try to merge unit test and instrument test from app module :</p>\n<pre><code>task jacocoUiTestReportAllModules(type: JacocoReport, dependsOn: ['testDebugUnitTest', 'createDebugCoverageReport']) {\n    group &quot;Reports&quot;\n    description &quot;Generate Jacoco Instrumented Tests coverage reports for all modules&quot;\n    reports {\n        xml.enabled = true\n        html.enabled = true\n        html.destination file(&quot;${rootProject.buildDir}/coverage-report&quot;)\n    }\n    def javaClasses = []\n    def kotlinClasses = []\n    def javaSrc = []\n    def kotlinSrc = []\n    def execution = []\n    def fileFilter = ['**/R.class', '**/R$*.class', '**/BuildConfig.*', '**/Manifest*.*', '**/*Test*.*', 'android/**/*.*']\n    rootProject.subprojects.each { proj -&gt;\n        javaClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/intermediates/javac/debug&quot;, excludes: fileFilter)\n        kotlinClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/tmp/kotlin-classes/debug&quot;, excludes: fileFilter)\n        javaSrc &lt;&lt; &quot;$proj.projectDir/src/main/java&quot;\n        kotlinSrc &lt;&lt; &quot;$proj.projectDir/src/main/kotlin&quot;\n        execution &lt;&lt; fileTree(dir: proj.buildDir, includes: [    'jacoco/testDebugUnitTest.exec',\n                'outputs/code_coverage/debugAndroidTest/connected/**/*.ec'])\n    }\n    getSourceDirectories().setFrom(files([javaSrc, kotlinSrc]))\n    getClassDirectories().setFrom(files([javaClasses, kotlinClasses]))\n    getExecutionData().setFrom(execution)\n\n    doLast() {\n        print &quot;file://${reports.html.destination}/index.html&quot;\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75533246,"answer_count":3,"score":2,"last_activity_date":1683865294,"creation_date":1675781928,"question_id":75375132,"body_markdown":"There is something strange going on with my jacoco configuration and I am not able to figure it out. I have visited multiple threads on stack overflow and other platforms and tried many thing, but didn&#39;t resolve this issue. \r\n\r\nI have setup the java code coverage for multiple modules. This is my project structure\r\n- ABC\r\n  - module1\r\n\r\n- DEF\r\n   - module1\r\n   - module2\r\n   - module3\r\n\r\n   pom.xml\r\n\r\nI have configured the jacoco for my DEF maven project. I am only configuring my DEF project. And this is what pom.xml contains \r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.8.8&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;report&lt;/id&gt;\r\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                     &lt;outputDirectory&gt;${project.basedir}/target/reports&lt;/outputDirectory&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n\r\n&lt;b&gt;Issue:&lt;/b&gt; The issue here is, it&#39;s generating the code coverage report in each module1, module2 and module3. But the report generated in module1, doesn&#39;t contains the code coverage for itself. Meaning, it shows the code coverage for module2 and module3, but it doesn&#39;t include module1 report in itself. I don&#39;t know what&#39;s wrong ?\r\n\r\n&lt;b&gt;EDIT :&lt;/b&gt; modules in DEF are maven modules and it didn&#39;t contains anything related to jacoco.\r\n\r\nAny idea or any suggestions ?\r\n\r\nThanks","title":"jacoco configuration for multi module is not working","body":"<p>There is something strange going on with my jacoco configuration and I am not able to figure it out. I have visited multiple threads on stack overflow and other platforms and tried many thing, but didn't resolve this issue.</p>\n<p>I have setup the java code coverage for multiple modules. This is my project structure</p>\n<ul>\n<li><p>ABC</p>\n<ul>\n<li>module1</li>\n</ul>\n</li>\n<li><p>DEF</p>\n<ul>\n<li>module1</li>\n<li>module2</li>\n<li>module3</li>\n</ul>\n<p>pom.xml</p>\n</li>\n</ul>\n<p>I have configured the jacoco for my DEF maven project. I am only configuring my DEF project. And this is what pom.xml contains</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.8.8&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;report&lt;/id&gt;\n                &lt;phase&gt;prepare-package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;report-aggregate&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                 &lt;outputDirectory&gt;${project.basedir}/target/reports&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n                &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p><b>Issue:</b> The issue here is, it's generating the code coverage report in each module1, module2 and module3. But the report generated in module1, doesn't contains the code coverage for itself. Meaning, it shows the code coverage for module2 and module3, but it doesn't include module1 report in itself. I don't know what's wrong ?</p>\n<p><b>EDIT :</b> modules in DEF are maven modules and it didn't contains anything related to jacoco.</p>\n<p>Any idea or any suggestions ?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":20584607,"reputation":1,"user_id":16117353,"display_name":"Gennady Jumbo"},"score":0,"creation_date":1683862937,"post_id":76232917,"comment_id":134434741,"body_markdown":"So what I want to do is to use the main key of teacherprofilepost in publications so that there is a dependency like this in the image.","body":"So what I want to do is to use the main key of teacherprofilepost in publications so that there is a dependency like this in the image."},{"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"score":0,"creation_date":1683864531,"post_id":76232917,"comment_id":134434869,"body_markdown":"I have updated my answer. hope it will helps you","body":"I have updated my answer. hope it will helps you"}],"tags":[],"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683864501,"creation_date":1683861827,"answer_id":76232917,"question_id":76232822,"body_markdown":"You can do it by making below changes in your entity\r\n\r\nyou need to add Id column in publication entity and mapped the same id into other entity like below\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    \r\n    @OneToOne(mappedBy = &quot;teacherProfilePost&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;publication&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Publication publication\r\n\r\nif you want to it Vice versa then you need to add below code in your **Publication** entity\r\n\r\n    @OneToOne(mappedBy = &quot;teacher_profile_post &quot;)\r\n    private TeacherProfilePost teacherProfilePost ;\r\n\r\n\r\nThat&#39;s because this is a bidirectional relationship. The Publication side of the relationship is called the non-owning side. \r\n","title":"how to specify OneToOne relationship in spring boot project?","body":"<p>You can do it by making below changes in your entity</p>\n<p>you need to add Id column in publication entity and mapped the same id into other entity like below</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\n@OneToOne(mappedBy = &quot;teacherProfilePost&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;publication&quot;, referencedColumnName = &quot;id&quot;)\nprivate Publication publication\n</code></pre>\n<p>if you want to it Vice versa then you need to add below code in your <strong>Publication</strong> entity</p>\n<pre><code>@OneToOne(mappedBy = &quot;teacher_profile_post &quot;)\nprivate TeacherProfilePost teacherProfilePost ;\n</code></pre>\n<p>That's because this is a bidirectional relationship. The Publication side of the relationship is called the non-owning side.</p>\n"}],"owner":{"account_id":20584607,"reputation":1,"user_id":16117353,"display_name":"Gennady Jumbo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683864501,"creation_date":1683859721,"question_id":76232822,"body_markdown":"[enter image description here][1]\r\n\r\nI need one to one relationship where the **publications** depends on the **teacher_profile_post** so it will have foreign key relationship, I have tired but some how it doesnt work for me.\r\n\r\nCan somebody help me where I am missing or doing mistake.\r\n\r\nteacher_profile_post entity\r\n\r\n```\r\npublic class TeacherProfilePost {\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.AUTO)\r\nprivate Long id;//tipo objetuales no primitivos\r\n\r\n@OneToOne(mappedBy = &quot;teacherProfilePost&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\nprivate Publication publication;\r\n\r\n@ManyToOne(fetch = FetchType.LAZY)\r\n@JoinColumn(name = &quot;student_id&quot;)\r\nprivate Student student;\r\n\r\n@ManyToOne(fetch = FetchType.LAZY)\r\n@JoinColumn(name = &quot;teacher_id&quot;)\r\nprivate Teacher teacher;}\r\n```\r\n\r\npublications entity\r\n\r\n```\r\npublic class Publication {\r\n\r\n\r\n@OneToOne(mappedBy = &quot;publication&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\nprivate CommentReport commentReport;\r\n\r\n@ManyToOne\r\n@JoinColumn(name = &quot;parent_id&quot;)\r\nprivate Publication parent;\r\n\r\n@Column(nullable = false)\r\nprivate String comment;\r\n\r\n@Column(nullable = false)\r\nprivate int like;\r\n\r\n@Column(nullable = false)\r\nprivate int dislike;}\r\n```\r\n\r\nI need to know how to make this relationship because I have tried different ways and it does not give me results.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wwdWn.png","title":"how to specify OneToOne relationship in spring boot project?","body":"<p><a href=\"https://i.stack.imgur.com/wwdWn.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I need one to one relationship where the <strong>publications</strong> depends on the <strong>teacher_profile_post</strong> so it will have foreign key relationship, I have tired but some how it doesnt work for me.</p>\n<p>Can somebody help me where I am missing or doing mistake.</p>\n<p>teacher_profile_post entity</p>\n<pre><code>public class TeacherProfilePost {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;//tipo objetuales no primitivos\n\n@OneToOne(mappedBy = &quot;teacherProfilePost&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\nprivate Publication publication;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;student_id&quot;)\nprivate Student student;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;teacher_id&quot;)\nprivate Teacher teacher;}\n</code></pre>\n<p>publications entity</p>\n<pre><code>public class Publication {\n\n\n@OneToOne(mappedBy = &quot;publication&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\nprivate CommentReport commentReport;\n\n@ManyToOne\n@JoinColumn(name = &quot;parent_id&quot;)\nprivate Publication parent;\n\n@Column(nullable = false)\nprivate String comment;\n\n@Column(nullable = false)\nprivate int like;\n\n@Column(nullable = false)\nprivate int dislike;}\n</code></pre>\n<p>I need to know how to make this relationship because I have tried different ways and it does not give me results.</p>\n"},{"tags":["java","compiler-errors","overflow"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1590325843,"post_id":61986441,"comment_id":109632604,"body_markdown":"`2147483648` simply can&#39;t be assigned to an int literal because it&#39;s too big. You can never have an int-valued expression with that value.","body":"<code>2147483648</code> simply can&#39;t be assigned to an int literal because it&#39;s too big. You can never have an int-valued expression with that value."},{"owner":{"account_id":6496259,"reputation":6715,"user_id":5246058,"accept_rate":0,"display_name":"ashish singh"},"score":2,"creation_date":1590325875,"post_id":61986441,"comment_id":109632624,"body_markdown":"if you are getting a compilation error , please mention it, because in this case it itself explains what you are looking for, it will also help other people who are reading the question","body":"if you are getting a compilation error , please mention it, because in this case it itself explains what you are looking for, it will also help other people who are reading the question"},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1590927758,"post_id":61986441,"comment_id":109860267,"body_markdown":"You may now think about [accepting an answer](https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work) or comment one to get details ;) to reward those who spent time for you ;)","body":"You may now think about <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">accepting an answer</a> or comment one to get details ;) to reward those who spent time for you ;)"},{"owner":{"account_id":18288813,"reputation":89,"user_id":13316090,"display_name":"user13316090"},"score":0,"creation_date":1591026415,"post_id":61986441,"comment_id":109894081,"body_markdown":"I appreciate for your feedback! I am still learning how things work in this website.","body":"I appreciate for your feedback! I am still learning how things work in this website."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590325898,"creation_date":1590325898,"answer_id":61986480,"question_id":61986441,"body_markdown":"You can get IntegerOverflow while computing values together as your first 3 examples\r\n\r\nThe problem here about `2147483648` is kind of the same but difference, as `Integer.MAX_VALUE` is `2147483647` you cannot store more in an `int` that&#39;s why you get an compilation error  `2147483648` is too big to fit in. Even before runtime you already can&#39;t fit the value in an `int`, which is different of the overflow that occurs at runtime\r\n\r\n","title":"Having trouble understanding Java Overflow and Compile error","body":"<p>You can get IntegerOverflow while computing values together as your first 3 examples</p>\n\n<p>The problem here about <code>2147483648</code> is kind of the same but difference, as <code>Integer.MAX_VALUE</code> is <code>2147483647</code> you cannot store more in an <code>int</code> that's why you get an compilation error  <code>2147483648</code> is too big to fit in. Even before runtime you already can't fit the value in an <code>int</code>, which is different of the overflow that occurs at runtime</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1590326269,"creation_date":1590326057,"answer_id":61986507,"question_id":61986441,"body_markdown":"From the [language spec](https://docs.oracle.com/javase/specs/jls/se14/html/jls-3.html#jls-3.10.1):\n\n&gt; The largest decimal literal of type&#160;int&#160;is 2147483648&#160;(2^31).\n&gt;\n&gt; All decimal literals from&#160;0&#160;to&#160;2147483647&#160;may appear anywhere an&#160;int&#160;literal may appear. The decimal literal&#160;2147483648&#160;may appear only as the operand of the unary minus operator&#160;-&#160;(&#167;15.15.4).\n&gt;\n&gt; It is a compile-time error if the decimal literal&#160;2147483648&#160;appears anywhere other than as the operand of the unary minus operator; or if a decimal literal of type&#160;int&#160;is larger than&#160;2147483648&#160;(2^31).\n\nYou can&#39;t use 2147483648 as an `int` literal because an `int` literal is an `int` expression, and thus must have an `int` value; but 2147483648 is too large to be used as an `int` value.","title":"Having trouble understanding Java Overflow and Compile error","body":"<p>From the <a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-3.html#jls-3.10.1\" rel=\"nofollow noreferrer\">language spec</a>:</p>\n<blockquote>\n<p>The largest decimal literal of type int is 2147483648 (2^31).</p>\n<p>All decimal literals from 0 to 2147483647 may appear anywhere an int literal may appear. The decimal literal 2147483648 may appear only as the operand of the unary minus operator - (§15.15.4).</p>\n<p>It is a compile-time error if the decimal literal 2147483648 appears anywhere other than as the operand of the unary minus operator; or if a decimal literal of type int is larger than 2147483648 (2^31).</p>\n</blockquote>\n<p>You can't use 2147483648 as an <code>int</code> literal because an <code>int</code> literal is an <code>int</code> expression, and thus must have an <code>int</code> value; but 2147483648 is too large to be used as an <code>int</code> value.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590326696,"creation_date":1590326696,"answer_id":61986605,"question_id":61986441,"body_markdown":"&gt; Also, it is hard for me to understand how outputs for the overflow are\r\n&gt; calculated (ex. why int x = 2147483647 + 1 // x ==&gt; -2147483648)\r\n\r\nWhenever you the overflow or underflow happens, the value starts from the other end e.g.\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(Integer.MAX_VALUE);\r\n    \t\tSystem.out.println(Integer.MAX_VALUE + 1);// Will be equal to Integer.MIN_VALUE\r\n    \t\tSystem.out.println(Integer.MIN_VALUE);\r\n    \t\tSystem.out.println(Integer.MIN_VALUE - 1);// Will be equal to Integer.MAX_VALUE\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    2147483647\r\n    -2147483648\r\n    -2147483648\r\n    2147483647\r\n\r\n","title":"Having trouble understanding Java Overflow and Compile error","body":"<blockquote>\n  <p>Also, it is hard for me to understand how outputs for the overflow are\n  calculated (ex. why int x = 2147483647 + 1 // x ==> -2147483648)</p>\n</blockquote>\n\n<p>Whenever you the overflow or underflow happens, the value starts from the other end e.g.</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(Integer.MAX_VALUE);\n        System.out.println(Integer.MAX_VALUE + 1);// Will be equal to Integer.MIN_VALUE\n        System.out.println(Integer.MIN_VALUE);\n        System.out.println(Integer.MIN_VALUE - 1);// Will be equal to Integer.MAX_VALUE\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>2147483647\n-2147483648\n-2147483648\n2147483647\n</code></pre>\n"}],"owner":{"account_id":18288813,"reputation":89,"user_id":13316090,"display_name":"user13316090"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":61986507,"answer_count":3,"score":0,"last_activity_date":1683863913,"creation_date":1590325681,"question_id":61986441,"body_markdown":"I am a Java newbie and studying int overflow!\r\nWhile playing with some integers I was surprised with some weird results\r\n\r\n        int x = 2147483647 + 1;    \r\n        x == &gt; - 2147483648 \r\n\r\n        int x = 2147483647 + 2;\r\n        x ==&gt; -2147483647\r\n        \r\n        int x = 2147483647 + 2147483647;\r\n        x ==&gt; -2\r\n\r\n        int x = 2147483647 + 2147483648; \r\n        **compile error**\r\n\r\nI thought integer overflow would not cause any compile error. Also, it is hard for me to understand how outputs for the overflow are calculated (ex. why int x = 2147483647 + 1 // x ==&gt; -2147483648)\r\nCan anybody please expalin the logic of these results?\r\n\r\nThanks!!","title":"Having trouble understanding Java Overflow and Compile error","body":"<p>I am a Java newbie and studying int overflow!\nWhile playing with some integers I was surprised with some weird results</p>\n<pre><code>    int x = 2147483647 + 1;    \n    x == &gt; - 2147483648 \n\n    int x = 2147483647 + 2;\n    x ==&gt; -2147483647\n    \n    int x = 2147483647 + 2147483647;\n    x ==&gt; -2\n\n    int x = 2147483647 + 2147483648; \n    **compile error**\n</code></pre>\n<p>I thought integer overflow would not cause any compile error. Also, it is hard for me to understand how outputs for the overflow are calculated (ex. why int x = 2147483647 + 1 // x ==&gt; -2147483648)\nCan anybody please expalin the logic of these results?</p>\n<p>Thanks!!</p>\n"},{"tags":["java","json","jackson","deserialization"],"answers":[{"comments":[{"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"score":0,"creation_date":1683863340,"post_id":76232948,"comment_id":134434768,"body_markdown":"if you are happy please accept the answer as answered","body":"if you are happy please accept the answer as answered"}],"tags":[],"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683863026,"creation_date":1683862558,"answer_id":76232948,"question_id":76232864,"body_markdown":"You can try generic method instead of generic class and pass the class type as parameter inside the method\r\n\r\nConverter.java\r\n```\r\npublic class Converter {\r\n\tpublic static ObjectMapper objectMapper = new ObjectMapper();\r\n\tpublic static &lt;T&gt; T create(String json, Class&lt;T&gt; classType) throws Exception {\r\n\t\treturn (T) objectMapper.readValue(json, classType);\r\n\t}\r\n}\r\n```\r\n\r\nmain code\r\n```\r\nMyObject obj = Converter.create(&quot;{\\n&quot;\r\n        \t\t\t+ &quot;  \\&quot;childs\\&quot;: [\\n&quot;\r\n        \t\t\t+ &quot;    {\\n&quot;\r\n        \t\t\t+ &quot;      \\&quot;freightLineId\\&quot;: \\&quot;0001\\&quot;,\\n&quot;\r\n        \t\t\t+ &quot;      \\&quot;shipmentId\\&quot;: \\&quot;1000\\&quot;,\\n&quot;\r\n        \t\t\t+ &quot;      \\&quot;shipmentVersionId\\&quot;: \\&quot;1.0\\&quot;\\n&quot;\r\n        \t\t\t+ &quot;    }\\n&quot;\r\n        \t\t\t+ &quot;  ]\\n&quot;\r\n        \t\t\t+ &quot;}&quot;, MyObject.class);\r\n        \t\r\nSystem.out.println(obj.getChilds());\r\n```\r\n\r\nCode for `ApiResponse&lt;T&gt;`\r\n```\r\npublic class Converter {\r\n    public static ObjectMapper objectMapper = new ObjectMapper();\r\n    public static &lt;T&gt; ApiResponse&lt;T&gt; create(String json, Class&lt;T&gt; classType) throws Exception {\r\n\t\tApiResponse&lt;T&gt; res = new ApiResponse&lt;&gt;();\r\n\t\tres.setData((T) objectMapper.readValue(json, classType));\r\n\t\treturn res;\r\n    }\r\n}\r\n```\r\n\r\nmain code\r\n```\r\nApiResponse&lt;MyObject&gt; obj = Converter.create(&quot;{\\n&quot;\r\n        \t\t\t+ &quot;  \\&quot;childs\\&quot;: [\\n&quot;\r\n        \t\t\t+ &quot;    {\\n&quot;\r\n        \t\t\t+ &quot;      \\&quot;freightLineId\\&quot;: \\&quot;0001\\&quot;,\\n&quot;\r\n        \t\t\t+ &quot;      \\&quot;shipmentId\\&quot;: \\&quot;1000\\&quot;,\\n&quot;\r\n        \t\t\t+ &quot;      \\&quot;shipmentVersionId\\&quot;: \\&quot;1.0\\&quot;\\n&quot;\r\n        \t\t\t+ &quot;    }\\n&quot;\r\n        \t\t\t+ &quot;  ]\\n&quot;\r\n        \t\t\t+ &quot;}&quot;, MyObject.class);\r\nSystem.out.println( obj.getData().getChilds() );\r\n```","title":"Java Generics not working with Jackson Serlializer","body":"<p>You can try generic method instead of generic class and pass the class type as parameter inside the method</p>\n<p>Converter.java</p>\n<pre><code>public class Converter {\n    public static ObjectMapper objectMapper = new ObjectMapper();\n    public static &lt;T&gt; T create(String json, Class&lt;T&gt; classType) throws Exception {\n        return (T) objectMapper.readValue(json, classType);\n    }\n}\n</code></pre>\n<p>main code</p>\n<pre><code>MyObject obj = Converter.create(&quot;{\\n&quot;\n                    + &quot;  \\&quot;childs\\&quot;: [\\n&quot;\n                    + &quot;    {\\n&quot;\n                    + &quot;      \\&quot;freightLineId\\&quot;: \\&quot;0001\\&quot;,\\n&quot;\n                    + &quot;      \\&quot;shipmentId\\&quot;: \\&quot;1000\\&quot;,\\n&quot;\n                    + &quot;      \\&quot;shipmentVersionId\\&quot;: \\&quot;1.0\\&quot;\\n&quot;\n                    + &quot;    }\\n&quot;\n                    + &quot;  ]\\n&quot;\n                    + &quot;}&quot;, MyObject.class);\n            \nSystem.out.println(obj.getChilds());\n</code></pre>\n<p>Code for <code>ApiResponse&lt;T&gt;</code></p>\n<pre><code>public class Converter {\n    public static ObjectMapper objectMapper = new ObjectMapper();\n    public static &lt;T&gt; ApiResponse&lt;T&gt; create(String json, Class&lt;T&gt; classType) throws Exception {\n        ApiResponse&lt;T&gt; res = new ApiResponse&lt;&gt;();\n        res.setData((T) objectMapper.readValue(json, classType));\n        return res;\n    }\n}\n</code></pre>\n<p>main code</p>\n<pre><code>ApiResponse&lt;MyObject&gt; obj = Converter.create(&quot;{\\n&quot;\n                    + &quot;  \\&quot;childs\\&quot;: [\\n&quot;\n                    + &quot;    {\\n&quot;\n                    + &quot;      \\&quot;freightLineId\\&quot;: \\&quot;0001\\&quot;,\\n&quot;\n                    + &quot;      \\&quot;shipmentId\\&quot;: \\&quot;1000\\&quot;,\\n&quot;\n                    + &quot;      \\&quot;shipmentVersionId\\&quot;: \\&quot;1.0\\&quot;\\n&quot;\n                    + &quot;    }\\n&quot;\n                    + &quot;  ]\\n&quot;\n                    + &quot;}&quot;, MyObject.class);\nSystem.out.println( obj.getData().getChilds() );\n</code></pre>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76232948,"answer_count":1,"score":1,"last_activity_date":1683863026,"creation_date":1683860643,"question_id":76232864,"body_markdown":"I have a class representing a generic API response:\r\n```\r\n@Setter\r\n@Getter\r\npublic final class ApiResponse&lt;T&gt; {\r\n    private T data;\r\n}\r\n\r\n```\r\n\r\nI set the `data` with the help of Jackson like below:\r\n```\r\nclass Converter&lt;T&gt; {\r\n  ApiResponse&lt;T&gt; create(){\r\n     // some REST calls and form httpResponse before this step\r\n     ApiResponse&lt;T&gt; apiResponse = new ApiResponse();\r\n     T data = objectMapper\r\n         .readValue(httpResponse.body(), new TypeReference&lt;&gt;() {});\r\n     apiResponse.setData(data);\r\n     return apiResponse;\r\n  }\r\n}\r\n```\r\n\r\nThen I tried to use it with a custom object, as shown below:\r\n```\r\nConverter&lt;MyObject&gt; converter = new Converter&lt;&gt;();\r\nApiResponse&lt;MyObject&gt; apiResponse = converter.create();\r\n\r\n```\r\n\r\nBut I observe that `apiResponse.getData()` always return `LinkedHashMap` instead of `Myobject` type. \r\n\r\nHere is `MyObject` class:\r\n```\r\n@Getter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic final class MyObject {\r\n  @JsonProperty(&quot;childs&quot;)\r\n  private ChildObject[] childs;\r\n}\r\n\r\n```\r\n\r\nWhat am I doing wrong here? \r\n\r\n\r\nhere is the http response body for reference:\r\n```\r\n{\r\n  &quot;childs&quot;: [\r\n    {\r\n      &quot;freightLineId&quot;: &quot;&quot;,\r\n      &quot;shipmentId&quot;: &quot;&quot;,\r\n      &quot;shipmentVersionId&quot;: &quot;&quot;\r\n    }\r\n  ]\r\n}\r\n```","title":"Java Generics not working with Jackson Serlializer","body":"<p>I have a class representing a generic API response:</p>\n<pre><code>@Setter\n@Getter\npublic final class ApiResponse&lt;T&gt; {\n    private T data;\n}\n\n</code></pre>\n<p>I set the <code>data</code> with the help of Jackson like below:</p>\n<pre><code>class Converter&lt;T&gt; {\n  ApiResponse&lt;T&gt; create(){\n     // some REST calls and form httpResponse before this step\n     ApiResponse&lt;T&gt; apiResponse = new ApiResponse();\n     T data = objectMapper\n         .readValue(httpResponse.body(), new TypeReference&lt;&gt;() {});\n     apiResponse.setData(data);\n     return apiResponse;\n  }\n}\n</code></pre>\n<p>Then I tried to use it with a custom object, as shown below:</p>\n<pre><code>Converter&lt;MyObject&gt; converter = new Converter&lt;&gt;();\nApiResponse&lt;MyObject&gt; apiResponse = converter.create();\n\n</code></pre>\n<p>But I observe that <code>apiResponse.getData()</code> always return <code>LinkedHashMap</code> instead of <code>Myobject</code> type.</p>\n<p>Here is <code>MyObject</code> class:</p>\n<pre><code>@Getter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic final class MyObject {\n  @JsonProperty(&quot;childs&quot;)\n  private ChildObject[] childs;\n}\n\n</code></pre>\n<p>What am I doing wrong here?</p>\n<p>here is the http response body for reference:</p>\n<pre><code>{\n  &quot;childs&quot;: [\n    {\n      &quot;freightLineId&quot;: &quot;&quot;,\n      &quot;shipmentId&quot;: &quot;&quot;,\n      &quot;shipmentVersionId&quot;: &quot;&quot;\n    }\n  ]\n}\n</code></pre>\n"},{"tags":["java","jenkins","amazon-ec2","java-11"],"answers":[{"tags":[],"owner":{"account_id":17302009,"reputation":115,"user_id":12531578,"display_name":"DanTe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667750974,"creation_date":1667750974,"answer_id":74337558,"question_id":74333260,"body_markdown":"Look like the location you are specifying doesn&#39;t have `javac`.\r\nto make sure try to check if `javac` exist or not by running:  \r\n`ls /usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64/bin/javac`  \r\n\r\nif it does not exist then try to download fresh JDK and set JAVA_HOME point to there.\r\n\r\n","title":"/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64 doesn’t look like a JDK directory","body":"<p>Look like the location you are specifying doesn't have <code>javac</code>.\nto make sure try to check if <code>javac</code> exist or not by running:<br />\n<code>ls /usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64/bin/javac</code></p>\n<p>if it does not exist then try to download fresh JDK and set JAVA_HOME point to there.</p>\n"},{"tags":[],"owner":{"account_id":12960987,"reputation":109,"user_id":9370246,"display_name":"folaRin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683862912,"creation_date":1683862912,"answer_id":76232966,"question_id":74333260,"body_markdown":"Error Message:\r\n - /usr/lib/jvm/java-11-openjdk-11.0.18.0.10-1.amzn2.0.1.x86_64 doesn’t look like a JDK directory\r\n\r\nLikely Cause:\r\n - you probably didn&#39;t install the java devel package that will generate the javac version needed for jenkins to accept the provided path as a recognisable one.\r\n\r\nSolution:\r\n- run: yum reinstall java-11-openjdk-devel\r\n- to confirm installation, run: rpm -q1 java-11-openjdk-devel | grep bin/javac\r\n- restart jenkins by running: systemctl restart jenkins","title":"/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64 doesn’t look like a JDK directory","body":"<p>Error Message:</p>\n<ul>\n<li>/usr/lib/jvm/java-11-openjdk-11.0.18.0.10-1.amzn2.0.1.x86_64 doesn’t look like a JDK directory</li>\n</ul>\n<p>Likely Cause:</p>\n<ul>\n<li>you probably didn't install the java devel package that will generate the javac version needed for jenkins to accept the provided path as a recognisable one.</li>\n</ul>\n<p>Solution:</p>\n<ul>\n<li>run: yum reinstall java-11-openjdk-devel</li>\n<li>to confirm installation, run: rpm -q1 java-11-openjdk-devel | grep bin/javac</li>\n<li>restart jenkins by running: systemctl restart jenkins</li>\n</ul>\n"}],"owner":{"account_id":292663,"reputation":613,"user_id":595553,"display_name":"Satyam Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683862912,"creation_date":1667707930,"question_id":74333260,"body_markdown":"I am trying to install java 11 on an amazon ec2 instance Linux , I followed the below steps:\r\n\r\n====OS details=====\r\n```\r\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# cat /etc/os-release\r\nNAME=&quot;Amazon Linux&quot;\r\nVERSION=&quot;2&quot;\r\nID=&quot;amzn&quot;\r\nID_LIKE=&quot;centos rhel fedora&quot;\r\nVERSION_ID=&quot;2&quot;\r\nPRETTY_NAME=&quot;Amazon Linux 2&quot;\r\nANSI_COLOR=&quot;0;33&quot;\r\nCPE_NAME=&quot;cpe:2.3:o:amazon:amazon_linux:2&quot;\r\nHOME_URL=&quot;https://amazonlinux.com/&quot;\r\n```\r\n\r\n\r\n\r\n```\r\n===Install Java=====\r\nsudo amazon-linux-extras\r\nsudo amazon-linux-extras install java-openjdk11 -y\r\njava --version\r\nsudo su -\r\necho &quot;export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64&quot; &gt;&gt; .bash_profile\r\necho &quot;export PATH=$PATH:/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64/bin&quot; &gt;&gt; .bash_profile \r\nsource ~/.bash_profile\r\necho $JAVA_HOME\r\njava --version\r\n```\r\ninstallation result: java is successfully installed and even path is also set\r\n\r\n```\r\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# cat ~/.bash_profile\r\n# .bash_profile\r\n\r\n# Get the aliases and functions\r\nif [ -f ~/.bashrc ]; then\r\n        . ~/.bashrc\r\nfi\r\n\r\n# User-specific environment and startup programs\r\n\r\nPATH=$PATH:$HOME/bin\r\n\r\nexport PATH\r\nexport JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64\r\nexport PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin:/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64/bin\r\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]#\r\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]#\r\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# echo $JAVA_HOME\r\n/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64\r\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# rpm -qa | grep jdk\r\njava-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64\r\ncopy-jdk-configs-3.3-10.amzn2.noarch\r\njava-11-openjdk-headless-11.0.16.0.8-1.amzn2.0.1.x86_64\r\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]#\r\n\r\n```\r\n\r\nWhen I am adding a java path in Jenkins global tool Configuration getting the below error\r\n&quot;/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64 doesn’t look like a JDK directory\r\n&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AV8dA.png","title":"/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64 doesn’t look like a JDK directory","body":"<p>I am trying to install java 11 on an amazon ec2 instance Linux , I followed the below steps:</p>\n<p>====OS details=====</p>\n<pre><code>[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# cat /etc/os-release\nNAME=&quot;Amazon Linux&quot;\nVERSION=&quot;2&quot;\nID=&quot;amzn&quot;\nID_LIKE=&quot;centos rhel fedora&quot;\nVERSION_ID=&quot;2&quot;\nPRETTY_NAME=&quot;Amazon Linux 2&quot;\nANSI_COLOR=&quot;0;33&quot;\nCPE_NAME=&quot;cpe:2.3:o:amazon:amazon_linux:2&quot;\nHOME_URL=&quot;https://amazonlinux.com/&quot;\n</code></pre>\n<pre><code>===Install Java=====\nsudo amazon-linux-extras\nsudo amazon-linux-extras install java-openjdk11 -y\njava --version\nsudo su -\necho &quot;export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64&quot; &gt;&gt; .bash_profile\necho &quot;export PATH=$PATH:/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64/bin&quot; &gt;&gt; .bash_profile \nsource ~/.bash_profile\necho $JAVA_HOME\njava --version\n</code></pre>\n<p>installation result: java is successfully installed and even path is also set</p>\n<pre><code>[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# cat ~/.bash_profile\n# .bash_profile\n\n# Get the aliases and functions\nif [ -f ~/.bashrc ]; then\n        . ~/.bashrc\nfi\n\n# User-specific environment and startup programs\n\nPATH=$PATH:$HOME/bin\n\nexport PATH\nexport JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64\nexport PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin:/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64/bin\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]#\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]#\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# echo $JAVA_HOME\n/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# rpm -qa | grep jdk\njava-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64\ncopy-jdk-configs-3.3-10.amzn2.noarch\njava-11-openjdk-headless-11.0.16.0.8-1.amzn2.0.1.x86_64\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]#\n\n</code></pre>\n<p>When I am adding a java path in Jenkins global tool Configuration getting the below error\n&quot;/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64 doesn’t look like a JDK directory\n&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/AV8dA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AV8dA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","sql","database-connection","derby"],"answers":[{"comments":[{"owner":{"account_id":1867252,"reputation":1795,"user_id":1690481,"accept_rate":93,"display_name":"Nitesh Verma"},"score":0,"creation_date":1371655506,"post_id":17000633,"comment_id":24903589,"body_markdown":"could there be any other option on that? Will shifting my database to mysql solve my problem?","body":"could there be any other option on that? Will shifting my database to mysql solve my problem?"}],"tags":[],"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1370702631,"creation_date":1370702631,"answer_id":17000633,"question_id":16997497,"body_markdown":"I don&#39;t see Derby listed as a supported database at http://www.awake-sql.org/","title":"Android app connectivity to remote database in Derby","body":"<p>I don't see Derby listed as a supported database at <a href=\"http://www.awake-sql.org/\" rel=\"nofollow\">http://www.awake-sql.org/</a></p>\n"},{"comments":[{"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"score":1,"creation_date":1683862204,"post_id":76232925,"comment_id":134434667,"body_markdown":"While this might answer the authors question, it lacks some explaining words and/or links to documentation. Raw code snippets are not very helpful without some phrases around them. You may also find [how to write a good answer](https://stackoverflow.com/help/how-to-answer) very helpful. Please [edit] your answer - [From Review]()","body":"While this might answer the authors question, it lacks some explaining words and/or links to documentation. Raw code snippets are not very helpful without some phrases around them. You may also find <a href=\"https://stackoverflow.com/help/how-to-answer\">how to write a good answer</a> very helpful. Please <a href=\"https://stackoverflow.com/posts/76232925/edit\">edit</a> your answer - [From Review]()"}],"tags":[],"owner":{"account_id":26268471,"reputation":1,"user_id":19938687,"display_name":"dfsfds"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683862087,"creation_date":1683861983,"answer_id":76232925,"question_id":16997497,"body_markdown":"//Pre-driver\r\n\r\n    static {\r\n        try {\r\n            DriverManager.registerDriver(new org.apache.derby.jdbc.ClientDriver());\r\n        } catch (SQLException throwables) {\r\n            throwables.printStackTrace();\r\n        }\r\n    }","title":"Android app connectivity to remote database in Derby","body":"<p>//Pre-driver</p>\n<pre><code>static {\n    try {\n        DriverManager.registerDriver(new org.apache.derby.jdbc.ClientDriver());\n    } catch (SQLException throwables) {\n        throwables.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1867252,"reputation":1795,"user_id":1690481,"accept_rate":93,"display_name":"Nitesh Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17000633,"answer_count":2,"score":0,"last_activity_date":1683862087,"creation_date":1370679163,"question_id":16997497,"body_markdown":"I am trying to connect an android app to a derby database on a pc to get data form that. For this i googled a database specially for this purpose i.e. [Awake SQL][1]. I tried the following code for the connection to the derby database. The code is of a function which is called on the button click of the android app.\r\n\r\n    public void getData(View view)\r\n\t{\r\n\t\tnew Thread()\r\n\t\t{\r\n\t\t\tpublic void run()\r\n\t\t\t{\r\n\t\t\t\tString url = &quot;jdbc:derby://localhost:1527&quot;; \r\n\t\t\t\t  \r\n\t\t        String username = &quot;user&quot;; \r\n\t\t        char [] password = {&#39;p&#39;, &#39;a&#39;, &#39;s&#39;, &#39;s&#39;, &#39;w&#39;, &#39;o&#39;, &#39;r&#39;, &#39;d&#39;, &#39;1&#39;};\r\n\t\t        \r\n\t\t        \r\n\t\t        try\r\n\t\t        {\r\n\t\t        Connection connection  \r\n\t\t        = new AwakeConnection(url, username, password); \r\n\t\t        \r\n\t\t        }\r\n\t\t        catch(Exception e)\r\n\t\t        {\r\n\t\t        \tSystem.out.println(e);\r\n\t\t        }\r\n\t\t\t}\r\n\t\t}.start();\r\n\t\t\r\n\t}\r\n\r\nActually this code was given in the user guide of Awake SQL.\r\nWhen i run the above code i get the debugging mode of the eclipse. I cant get any error in the console. I am not sure if i am doing it right or not. I am still unable to connect the database for the android app.\r\n\r\n  [1]: http://www.awake-sql.org","title":"Android app connectivity to remote database in Derby","body":"<p>I am trying to connect an android app to a derby database on a pc to get data form that. For this i googled a database specially for this purpose i.e. <a href=\"http://www.awake-sql.org\" rel=\"nofollow\">Awake SQL</a>. I tried the following code for the connection to the derby database. The code is of a function which is called on the button click of the android app.</p>\n\n<pre><code>public void getData(View view)\n{\n    new Thread()\n    {\n        public void run()\n        {\n            String url = \"jdbc:derby://localhost:1527\"; \n\n            String username = \"user\"; \n            char [] password = {'p', 'a', 's', 's', 'w', 'o', 'r', 'd', '1'};\n\n\n            try\n            {\n            Connection connection  \n            = new AwakeConnection(url, username, password); \n\n            }\n            catch(Exception e)\n            {\n                System.out.println(e);\n            }\n        }\n    }.start();\n\n}\n</code></pre>\n\n<p>Actually this code was given in the user guide of Awake SQL.\nWhen i run the above code i get the debugging mode of the eclipse. I cant get any error in the console. I am not sure if i am doing it right or not. I am still unable to connect the database for the android app.</p>\n"},{"tags":["java","regex","split","java-stream"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":5,"creation_date":1480683735,"post_id":40932813,"comment_id":69076609,"body_markdown":"Do you think that there is so much difference that it makes sense to spend time wondering about the &quot;best&quot; way, or have you identified this as a performance hotspot in your program making it at least somewhat justified to try to find the &quot;best&quot; way?","body":"Do you think that there is so much difference that it makes sense to spend time wondering about the &quot;best&quot; way, or have you identified this as a performance hotspot in your program making it at least somewhat justified to try to find the &quot;best&quot; way?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":6,"creation_date":1480683885,"post_id":40932813,"comment_id":69076699,"body_markdown":"Note that `Stream.of()` will call `Arrays.stream()` internally, so clearly that&#39;s not the &quot;best&quot;.","body":"Note that <code>Stream.of()</code> will call <code>Arrays.stream()</code> internally, so clearly that&#39;s not the &quot;best&quot;."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":2,"creation_date":1480683924,"post_id":40932813,"comment_id":69076725,"body_markdown":"IMHO, the last one is best. No nested parens, clear that it&#39;s about regex, and it does not create an intermediate list or array of all segments. But that&#39;s just my opinion.","body":"IMHO, the last one is best. No nested parens, clear that it&#39;s about regex, and it does not create an intermediate list or array of all segments. But that&#39;s just my opinion."},{"owner":{"account_id":119168,"reputation":24851,"user_id":310678,"accept_rate":77,"display_name":"Tegra Detra"},"score":2,"creation_date":1534894187,"post_id":40932813,"comment_id":90866402,"body_markdown":"I don`t think we can particularly judge his reasoning for wanting to know this information.  Though best is an opinion do you mean fastest ?","body":"I don`t think we can particularly judge his reasoning for wanting to know this information.  Though best is an opinion do you mean fastest ?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1534894346,"post_id":40932813,"comment_id":90866441,"body_markdown":"@Prospero OP clearly spelled out what he&#39;s looking for: robustness, readability, and performance.","body":"@Prospero OP clearly spelled out what he&#39;s looking for: robustness, readability, and performance."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1571532302,"post_id":40932813,"comment_id":103272520,"body_markdown":"@shmosel Many times, readability and performance conflict each other. Although this question has been &quot;answered&quot; (not really - answer just exposes research the OP should have done themself), can&#39;t blame others for questioning his actual problem. EDIT: Just realized how old the comment was. Sorry for the tag notification.","body":"@shmosel Many times, readability and performance conflict each other. Although this question has been &quot;answered&quot; (not really - answer just exposes research the OP should have done themself), can&#39;t blame others for questioning his actual problem. EDIT: Just realized how old the comment was. Sorry for the tag notification."}],"answers":[{"tags":[],"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683862013,"creation_date":1480684080,"answer_id":40932989,"question_id":40932813,"body_markdown":"Regarding (1) and (2) there shouldn&#39;t be much difference, as your code is almost the same.   \r\nRegarding (3), that would be much more effective in terms of memory (not necessarily CPU), but in my opinion, a bit harder to read.","title":"How to split a String into a Stream of Strings?","body":"<p>Regarding (1) and (2) there shouldn't be much difference, as your code is almost the same.<br />\nRegarding (3), that would be much more effective in terms of memory (not necessarily CPU), but in my opinion, a bit harder to read.</p>\n"},{"comments":[{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1506330987,"post_id":40933002,"comment_id":79760353,"body_markdown":"`.flatMap(Pattern.compile(pattern)` why has the pattern to be analyzed only once? Is there caching? If yes, is this written in the docs somewhere?","body":"<code>.flatMap(Pattern.compile(pattern)</code> why has the pattern to be analyzed only once? Is there caching? If yes, is this written in the docs somewhere?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":21,"creation_date":1506331690,"post_id":40933002,"comment_id":79760879,"body_markdown":"@Roland: that’s a property of method references of the form `expression::name`, the expression will get evaluated and the result captured by the created function instance. With `Pattern.compile(pattern)::splitAsStream`, the expression is `Pattern.compile(pattern)`. That’s fundamentally different to, e.g. `(string) -&gt; Pattern.compile(pattern).splitAsStream(string)` which would reevaluate the pattern on each function evaluation. See [here](https://stackoverflow.com/q/37413106/2711488) and [here](https://stackoverflow.com/a/28025717/2711488)…","body":"@Roland: that’s a property of method references of the form <code>expression::name</code>, the expression will get evaluated and the result captured by the created function instance. With <code>Pattern.compile(pattern)::splitAsStream</code>, the expression is <code>Pattern.compile(pattern)</code>. That’s fundamentally different to, e.g. <code>(string) -&gt; Pattern.compile(pattern).splitAsStream(string)</code> which would reevaluate the pattern on each function evaluation. See <a href=\"https://stackoverflow.com/q/37413106/2711488\">here</a> and <a href=\"https://stackoverflow.com/a/28025717/2711488\">here</a>…"},{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":1,"creation_date":1534860771,"post_id":40933002,"comment_id":90851371,"body_markdown":"Super nice answer ! While looking under the hood it appears that Pattern#splitAsStream and Pattern#split use CharSequence#subSequence (calling Arrays.copyOfRange) to find each remaining match. Do you know any way to stream tokens of a String in a performance-oriented way ? I would avoid splitting Strings as in my case they are very-very-very big (some megabytes each) and i don&#39;t have the possibility to obtain them in another format.","body":"Super nice answer ! While looking under the hood it appears that Pattern#splitAsStream and Pattern#split use CharSequence#subSequence (calling Arrays.copyOfRange) to find each remaining match. Do you know any way to stream tokens of a String in a performance-oriented way ? I would avoid splitting Strings as in my case they are very-very-very big (some megabytes each) and i don&#39;t have the possibility to obtain them in another format."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1534861937,"post_id":40933002,"comment_id":90852185,"body_markdown":"@Benj the problem is that it is even calling `subSequence(…).toString()`, so using a different `CharSequence` implementation (i.e. a non-copying [`CharBuffer.wrap(string)`](https://docs.oracle.com/javase/8/docs/api/?java/nio/CharBuffer.html)) would only defer the copying to the subsequent `toString()` call. But for tokenizing, you’d rather want Java&#160;9’s `Matcher.results()` or `Scanner.findAll(…)` anyway, so consider the backports of [this answer](https://stackoverflow.com/a/37482157/2711488). Since `MatchResult` provides `start()` and `end()`, you can build copy-free operations atop of it.","body":"@Benj the problem is that it is even calling <code>subSequence(…).toString()</code>, so using a different <code>CharSequence</code> implementation (i.e. a non-copying <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/nio/CharBuffer.html\" rel=\"nofollow noreferrer\"><code>CharBuffer.wrap(string)</code></a>) would only defer the copying to the subsequent <code>toString()</code> call. But for tokenizing, you’d rather want Java 9’s <code>Matcher.results()</code> or <code>Scanner.findAll(…)</code> anyway, so consider the backports of <a href=\"https://stackoverflow.com/a/37482157/2711488\">this answer</a>. Since <code>MatchResult</code> provides <code>start()</code> and <code>end()</code>, you can build copy-free operations atop of it."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1534862510,"post_id":40933002,"comment_id":90852534,"body_markdown":"@Benj you may also consider the second half of [this answer](https://stackoverflow.com/a/48172590/2711488), which contains code examples of a tokenization which creates only a single `String` instance for each unique token, which dramatically reduces time and memory footprint when parsing something with lots of occurrences of common keywords.","body":"@Benj you may also consider the second half of <a href=\"https://stackoverflow.com/a/48172590/2711488\">this answer</a>, which contains code examples of a tokenization which creates only a single <code>String</code> instance for each unique token, which dramatically reduces time and memory footprint when parsing something with lots of occurrences of common keywords."},{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":0,"creation_date":1534928052,"post_id":40933002,"comment_id":90876391,"body_markdown":"@Holger thanks for the info, the two answers you pointed out are very instructive and answer my question.","body":"@Holger thanks for the info, the two answers you pointed out are very instructive and answer my question."},{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":2,"creation_date":1534940675,"post_id":40933002,"comment_id":90883555,"body_markdown":"It seems Guava&#39;s [Splitter](https://google.github.io/guava/releases/20.0/api/docs/com/google/common/base/Splitter.html) has an interesting way of doing this, i stumbled upon this more or less randomly.","body":"It seems Guava&#39;s <a href=\"https://google.github.io/guava/releases/20.0/api/docs/com/google/common/base/Splitter.html\" rel=\"nofollow noreferrer\">Splitter</a> has an interesting way of doing this, i stumbled upon this more or less randomly."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":7,"down_vote_count":0,"up_vote_count":130,"is_accepted":true,"score":130,"last_activity_date":1590394333,"creation_date":1480684118,"answer_id":40933002,"question_id":40932813,"body_markdown":"### `Arrays.stream`/`String.split`\r\n\r\nSince [`String.split`][1] returns an array `String[]`, I always recommend `Arrays.stream` as the canonical idiom for streaming over an array.\r\n\r\n    String input = &quot;dog,cat,bird&quot;;\r\n    Stream&lt;String&gt; stream = Arrays.stream(input.split( &quot;,&quot; ));\r\n    stream.forEach(System.out::println);\r\n\r\n### `Stream.of`/`String.split`\r\n\r\n[`Stream.of`][2] is a *varargs* method which just happens to accept an array, due to the fact that varargs methods are implemented via arrays and there were compatibility concerns when varargs were introduced to Java and existing methods retrofitted to accept variable arguments.\r\n\r\n    Stream&lt;String&gt; stream = Stream.of(input.split(&quot;,&quot;));     // works, but is non-idiomatic\r\n    Stream&lt;String&gt; stream = Stream.of(&quot;dog&quot;, &quot;cat&quot;, &quot;bird&quot;); // intended use case\r\n\r\n### `Pattern.splitAsStream`\r\n\r\n[`Pattern.compile(&quot;,&quot;).splitAsStream(string)`][3] has the advantage of streaming directly rather than creating an intermediate array. So for a large number of sub-strings, this can have a performance benefit. On the other hand, if the delimiter is trivial, i.e. a single literal character, the `String.split` implementation will go through a fast path instead of using the regex engine. So in this case, the answer is not trivial.\r\n\r\n    Stream&lt;String&gt; stream = Pattern.compile(&quot;,&quot;).splitAsStream(input);\r\n\r\nIf the streaming happens inside another stream, e.g. `.flatMap(Pattern.compile(pattern) ::splitAsStream)` there is the advantage that the pattern has to be analyzed only once, rather than for every string of the outer stream.\r\n\r\n    Stream&lt;String&gt; stream = Stream.of(&quot;a,b&quot;, &quot;c,d,e&quot;, &quot;f&quot;, &quot;g,h,i,j&quot;)\r\n        .flatMap(Pattern.compile(&quot;,&quot;)::splitAsStream);\r\n\r\nThis is a property of method references of the form `expression::name`, which will evaluate the expression and capture the result when creating the instance of the functional interface, as explained in https://stackoverflow.com/q/28023364/2711488 and https://stackoverflow.com/q/37413106/2711488\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#split(java.lang.String)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#of(T...)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)","title":"How to split a String into a Stream of Strings?","body":"<h3><code>Arrays.stream</code>/<code>String.split</code></h3>\n\n<p>Since <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"noreferrer\"><code>String.split</code></a> returns an array <code>String[]</code>, I always recommend <code>Arrays.stream</code> as the canonical idiom for streaming over an array.</p>\n\n<pre><code>String input = \"dog,cat,bird\";\nStream&lt;String&gt; stream = Arrays.stream(input.split( \",\" ));\nstream.forEach(System.out::println);\n</code></pre>\n\n<h3><code>Stream.of</code>/<code>String.split</code></h3>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#of(T...)\" rel=\"noreferrer\"><code>Stream.of</code></a> is a <em>varargs</em> method which just happens to accept an array, due to the fact that varargs methods are implemented via arrays and there were compatibility concerns when varargs were introduced to Java and existing methods retrofitted to accept variable arguments.</p>\n\n<pre><code>Stream&lt;String&gt; stream = Stream.of(input.split(\",\"));     // works, but is non-idiomatic\nStream&lt;String&gt; stream = Stream.of(\"dog\", \"cat\", \"bird\"); // intended use case\n</code></pre>\n\n<h3><code>Pattern.splitAsStream</code></h3>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)\" rel=\"noreferrer\"><code>Pattern.compile(\",\").splitAsStream(string)</code></a> has the advantage of streaming directly rather than creating an intermediate array. So for a large number of sub-strings, this can have a performance benefit. On the other hand, if the delimiter is trivial, i.e. a single literal character, the <code>String.split</code> implementation will go through a fast path instead of using the regex engine. So in this case, the answer is not trivial.</p>\n\n<pre><code>Stream&lt;String&gt; stream = Pattern.compile(\",\").splitAsStream(input);\n</code></pre>\n\n<p>If the streaming happens inside another stream, e.g. <code>.flatMap(Pattern.compile(pattern) ::splitAsStream)</code> there is the advantage that the pattern has to be analyzed only once, rather than for every string of the outer stream.</p>\n\n<pre><code>Stream&lt;String&gt; stream = Stream.of(\"a,b\", \"c,d,e\", \"f\", \"g,h,i,j\")\n    .flatMap(Pattern.compile(\",\")::splitAsStream);\n</code></pre>\n\n<p>This is a property of method references of the form <code>expression::name</code>, which will evaluate the expression and capture the result when creating the instance of the functional interface, as explained in <a href=\"https://stackoverflow.com/q/28023364/2711488\">What is the equivalent lambda expression for System.out::println</a> and <a href=\"https://stackoverflow.com/q/37413106/2711488\">java.lang.NullPointerException is thrown using a method-reference but not a lambda expression</a></p>\n"},{"comments":[{"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"score":0,"creation_date":1571630201,"post_id":58469568,"comment_id":103291252,"body_markdown":"I agree to your point of view: it is hard to scientifically prove robustness, readability and Java performance. A minor note, though: readability should not only be a personal taste of the *current* team, because future team members will have to read the code, too.","body":"I agree to your point of view: it is hard to scientifically prove robustness, readability and Java performance. A minor note, though: readability should not only be a personal taste of the <i>current</i> team, because future team members will have to read the code, too."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1571659245,"post_id":58469568,"comment_id":103302486,"body_markdown":"I tried to make it clear that readability and personal taste are not the same thing.","body":"I tried to make it clear that readability and personal taste are not the same thing."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571538929,"creation_date":1571538531,"answer_id":58469568,"question_id":40932813,"body_markdown":"&gt; Robustness\r\n\r\nI can see no difference in the robustness of the three approaches.\r\n\r\n&gt; Readability\r\n\r\nI am not aware of any credible scientific studies on code readability involving experienced Java programmers, so readability is a matter of opinion.  Even then, you never know if someone giving their opinion is making an objective distinction between actual readability, what they have been taught about readability, and their own personal taste.\r\n\r\nSo I will leave it to you to make your own judgements on readability ... noting that you do consider this to be a high priority.\r\n\r\nFWIW, the only people whose opinions on this matter are you and your team.\r\n\r\n&gt; Performance\r\n\r\nI think that the answer to that is to carefully benchmark the three alternatives.  Holger provides an analysis based on his study of some versions of Java.  But:\r\n\r\n  1.  He was not able to come to a definite conclusion on which was fastest.\r\n  2.  Strictly speaking, his analysis only applies to the versions of Java he looked at.  (Some aspects of his analysis *could* be different on (say) Android Java, or some future Oracle / OpenJDK version.)\r\n  3.  The relative performance is likely depend on the length of the string being split, the number of fields, and the complexity of the separator regex.\r\n  4.  In a real application, the relative performance may also depend what you do with the `Stream` object, what garbage collector you have selected (since the different versions apparently generate different amounts of garbage), and other issues.\r\n\r\nSo if you (or anyone else) are really concerned with the performance, you should write a micro-benchmark and run it on your production platform(s).  Then do some application specific benchmarking.  And you should consider looking at solutions that don&#39;t involve streams.\r\n","title":"How to split a String into a Stream of Strings?","body":"<blockquote>\n  <p>Robustness</p>\n</blockquote>\n\n<p>I can see no difference in the robustness of the three approaches.</p>\n\n<blockquote>\n  <p>Readability</p>\n</blockquote>\n\n<p>I am not aware of any credible scientific studies on code readability involving experienced Java programmers, so readability is a matter of opinion.  Even then, you never know if someone giving their opinion is making an objective distinction between actual readability, what they have been taught about readability, and their own personal taste.</p>\n\n<p>So I will leave it to you to make your own judgements on readability ... noting that you do consider this to be a high priority.</p>\n\n<p>FWIW, the only people whose opinions on this matter are you and your team.</p>\n\n<blockquote>\n  <p>Performance</p>\n</blockquote>\n\n<p>I think that the answer to that is to carefully benchmark the three alternatives.  Holger provides an analysis based on his study of some versions of Java.  But:</p>\n\n<ol>\n<li>He was not able to come to a definite conclusion on which was fastest.</li>\n<li>Strictly speaking, his analysis only applies to the versions of Java he looked at.  (Some aspects of his analysis <em>could</em> be different on (say) Android Java, or some future Oracle / OpenJDK version.)</li>\n<li>The relative performance is likely depend on the length of the string being split, the number of fields, and the complexity of the separator regex.</li>\n<li>In a real application, the relative performance may also depend what you do with the <code>Stream</code> object, what garbage collector you have selected (since the different versions apparently generate different amounts of garbage), and other issues.</li>\n</ol>\n\n<p>So if you (or anyone else) are really concerned with the performance, you should write a micro-benchmark and run it on your production platform(s).  Then do some application specific benchmarking.  And you should consider looking at solutions that don't involve streams.</p>\n"}],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92923,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"accepted_answer_id":40933002,"answer_count":3,"score":91,"last_activity_date":1683862013,"creation_date":1480683511,"question_id":40932813,"body_markdown":"What is the **best** method of splitting a String into a Stream?\r\n\r\nI saw these variations:\r\n\r\n 1. `Arrays.stream(&quot;b,l,a&quot;.split(&quot;,&quot;))`\r\n 2. `Stream.of(&quot;b,l,a&quot;.split(&quot;,&quot;))`\r\n 3. `Pattern.compile(&quot;,&quot;).splitAsStream(&quot;b,l,a&quot;)`\r\n\r\nMy priorities are:\r\n\r\n* Robustness\r\n* Readability\r\n* Performance\r\n\r\nA complete, compilable [example][1]:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.regex.Pattern;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class HelloWorld {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tstream1().forEach(System.out::println);\r\n    \t\tstream2().forEach(System.out::println);\r\n    \t\tstream3().forEach(System.out::println);\r\n    \t}\r\n    \r\n    \tprivate static Stream&lt;String&gt; stream1() {\r\n    \t\treturn Arrays.stream(&quot;b,l,a&quot;.split(&quot;,&quot;));\r\n    \t}\r\n    \r\n    \tprivate static Stream&lt;String&gt; stream2() {\r\n    \t\treturn Stream.of(&quot;b,l,a&quot;.split(&quot;,&quot;));\r\n    \t}\r\n    \r\n    \tprivate static Stream&lt;String&gt; stream3() {\r\n    \t\treturn Pattern.compile(&quot;,&quot;).splitAsStream(&quot;b,l,a&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/compile_java8_online.php?PID=0Bw_CjBb95KQMYnF0LVNvSnJrUnM","title":"How to split a String into a Stream of Strings?","body":"<p>What is the <strong>best</strong> method of splitting a String into a Stream?</p>\n\n<p>I saw these variations:</p>\n\n<ol>\n<li><code>Arrays.stream(\"b,l,a\".split(\",\"))</code></li>\n<li><code>Stream.of(\"b,l,a\".split(\",\"))</code></li>\n<li><code>Pattern.compile(\",\").splitAsStream(\"b,l,a\")</code></li>\n</ol>\n\n<p>My priorities are:</p>\n\n<ul>\n<li>Robustness</li>\n<li>Readability</li>\n<li>Performance</li>\n</ul>\n\n<p>A complete, compilable <a href=\"http://www.tutorialspoint.com/compile_java8_online.php?PID=0Bw_CjBb95KQMYnF0LVNvSnJrUnM\" rel=\"noreferrer\">example</a>:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.regex.Pattern;\nimport java.util.stream.Stream;\n\npublic class HelloWorld {\n\n    public static void main(String[] args) {\n        stream1().forEach(System.out::println);\n        stream2().forEach(System.out::println);\n        stream3().forEach(System.out::println);\n    }\n\n    private static Stream&lt;String&gt; stream1() {\n        return Arrays.stream(\"b,l,a\".split(\",\"));\n    }\n\n    private static Stream&lt;String&gt; stream2() {\n        return Stream.of(\"b,l,a\".split(\",\"));\n    }\n\n    private static Stream&lt;String&gt; stream3() {\n        return Pattern.compile(\",\").splitAsStream(\"b,l,a\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","swagger","openapi","jackson-databind","openapi-generator"],"comments":[{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1677856741,"post_id":75616123,"comment_id":133425415,"body_markdown":"Are you using CLI, maven plugin, or gradle plugin?  Also, which java library are you specifying?  Not every generator generates code the same way.  It&#39;s important to know which generator (Obviously `Java`) you are using as well as which library (&#39;okHttp&#39;?) you are using.  Also, which version of the generator are you using?  I ran the spring generator on 6.4.0 with your example and got completely different classes then you.  Please provide this information so I can help.  Finally, `anyOf` does not generate an Interface, `allOf` does.  Please provide the correct schema or generated classes.","body":"Are you using CLI, maven plugin, or gradle plugin?  Also, which java library are you specifying?  Not every generator generates code the same way.  It&#39;s important to know which generator (Obviously <code>Java</code>) you are using as well as which library (&#39;okHttp&#39;?) you are using.  Also, which version of the generator are you using?  I ran the spring generator on 6.4.0 with your example and got completely different classes then you.  Please provide this information so I can help.  Finally, <code>anyOf</code> does not generate an Interface, <code>allOf</code> does.  Please provide the correct schema or generated classes."}],"answers":[{"tags":[],"owner":{"account_id":23546183,"reputation":1,"user_id":17664860,"display_name":"Tommy Tăng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683861748,"creation_date":1683861748,"answer_id":76232913,"question_id":75616123,"body_markdown":"Have you try add the &#39;type&#39; property into the payload? \r\n&#39;type&#39; should be one of your sub-class name\r\n\r\nex: &quot;type&quot;: &quot;TranslationInference&quot;\r\n\r\nfor me, it works","title":"Unable to resolve subtype with InvalidTypeIdException while reading classes generated from swagger in Java","body":"<p>Have you try add the 'type' property into the payload?\n'type' should be one of your sub-class name</p>\n<p>ex: &quot;type&quot;: &quot;TranslationInference&quot;</p>\n<p>for me, it works</p>\n"}],"owner":{"account_id":6665323,"reputation":29,"user_id":5143125,"accept_rate":0,"display_name":"Rathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683861748,"creation_date":1677763923,"question_id":75616123,"body_markdown":"Below is the openapi code using which classes are generated:\r\n\r\n    \r\n    PipelineTask:\r\n      anyOf:\r\n        - $ref: &#39;#/components/schemas/TranslationTask&#39;\r\n        - $ref: &#39;#/components/schemas/ASRTask&#39;\r\n        - $ref: &#39;#/components/schemas/TTSTask&#39;\r\n      discriminator:\r\n        propertyName: taskType\r\n        mapping:\r\n          translation: &#39;#/components/schemas/TranslationTask&#39;\r\n          asr: &#39;#/components/schemas/ASRTask&#39;\r\n          tts: &#39;#/components/schemas/TTSTask&#39;\r\n          \r\n    PipelineTasks:\r\n      type: array\r\n      items:\r\n        $ref: &#39;#/components/schemas/PipelineTask&#39;\r\n        \r\n    TranslationTask:\r\n      required:\r\n        - taskType\r\n      type: object\r\n      properties:\r\n        taskType:\r\n          $ref: #/components/schemas/SupportedTasks\r\n\r\n    SupportedTasks:\r\n      type: string\r\n      enum:\r\n        - translation\r\n        - transliteration\r\n        - tts\r\n        - asr\r\n        - document-layout\r\n        - ocr\r\n        - glossary\r\n        - ner\r\n        - txt-lang-detection\r\n        - audio-lang-detection\r\n      description: the category of model under which it has been released or trained\r\n\r\n\r\nBelow are the classes generated by the same:\r\nPipelineTask:\r\n\r\n    package io.swagger.pipelinerequest;\r\n    import com.fasterxml.jackson.annotation.JsonSubTypes;\r\n    import com.fasterxml.jackson.annotation.JsonTypeInfo;\r\n    /**\r\n    * PipelineTask\r\n    */\r\n    @JsonTypeInfo(\r\n      use = JsonTypeInfo.Id.NAME,\r\n      include = JsonTypeInfo.As.PROPERTY,\r\n      property = &quot;taskType&quot;)\r\n    @JsonSubTypes({\r\n      @JsonSubTypes.Type(value = TranslationTask.class, name = &quot;translation&quot;),\r\n      @JsonSubTypes.Type(value = ASRTask.class, name = &quot;asr&quot;),\r\n      @JsonSubTypes.Type(value = TTSTask.class, name = &quot;tts&quot;)\r\n    })\r\n    public interface PipelineTask {\r\n    \r\n        SupportedTasks getTaskType();\r\n    }\r\n\r\nTranslationTask: \r\n\r\n\r\n    package io.swagger.model;\r\n    \r\n    import java.util.Objects;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import io.swagger.model.SupportedTasks;\r\n    import io.swagger.model.TranslationRequest;\r\n    import io.swagger.model.TranslationResponse;\r\n    import io.swagger.v3.oas.annotations.media.Schema;\r\n    import org.springframework.validation.annotation.Validated;\r\n    import javax.validation.Valid;\r\n    import javax.validation.constraints.*;\r\n    \r\n    /**\r\n     * TranslationInference\r\n     */\r\n    @Validated\r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.SpringCodegen&quot;, date = &quot;2023-03-02T03:55:25.562740452Z[GMT]&quot;)\r\n    \r\n    \r\n    public class TranslationInference  implements OneOfInferenceAPIEndPointSchema {\r\n      @JsonProperty(&quot;taskType&quot;)\r\n      private SupportedTasks taskType = null;\r\n    \r\n      @JsonProperty(&quot;request&quot;)\r\n      private TranslationRequest request = null;\r\n    \r\n      @JsonProperty(&quot;response&quot;)\r\n      private TranslationResponse response = null;\r\n    \r\n      public TranslationInference taskType(SupportedTasks taskType) {\r\n        this.taskType = taskType;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Get taskType\r\n       * @return taskType\r\n       **/\r\n      @Schema(required = true, description = &quot;&quot;)\r\n          @NotNull\r\n    \r\n        @Valid\r\n        public SupportedTasks getTaskType() {\r\n        return taskType;\r\n      }\r\n    \r\n      public void setTaskType(SupportedTasks taskType) {\r\n        this.taskType = taskType;\r\n      }\r\n    \r\n      public TranslationInference request(TranslationRequest request) {\r\n        this.request = request;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Get request\r\n       * @return request\r\n       **/\r\n      @Schema(required = true, description = &quot;&quot;)\r\n          @NotNull\r\n    \r\n        @Valid\r\n        public TranslationRequest getRequest() {\r\n        return request;\r\n      }\r\n    \r\n      public void setRequest(TranslationRequest request) {\r\n        this.request = request;\r\n      }\r\n    \r\n      public TranslationInference response(TranslationResponse response) {\r\n        this.response = response;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Get response\r\n       * @return response\r\n       **/\r\n      @Schema(description = &quot;&quot;)\r\n      \r\n        @Valid\r\n        public TranslationResponse getResponse() {\r\n        return response;\r\n      }\r\n    \r\n      public void setResponse(TranslationResponse response) {\r\n        this.response = response;\r\n      }\r\n    \r\n    \r\n      @Override\r\n      public boolean equals(java.lang.Object o) {\r\n        if (this == o) {\r\n          return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n          return false;\r\n        }\r\n        TranslationInference translationInference = (TranslationInference) o;\r\n        return Objects.equals(this.taskType, translationInference.taskType) &amp;&amp;\r\n            Objects.equals(this.request, translationInference.request) &amp;&amp;\r\n            Objects.equals(this.response, translationInference.response);\r\n      }\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        return Objects.hash(taskType, request, response);\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;class TranslationInference {\\n&quot;);\r\n        \r\n        sb.append(&quot;    taskType: &quot;).append(toIndentedString(taskType)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    request: &quot;).append(toIndentedString(request)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    response: &quot;).append(toIndentedString(response)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;}&quot;);\r\n        return sb.toString();\r\n      }\r\n    \r\n      /**\r\n       * Convert the given object to string with each line indented by 4 spaces\r\n       * (except the first line).\r\n       */\r\n      private String toIndentedString(java.lang.Object o) {\r\n        if (o == null) {\r\n          return &quot;null&quot;;\r\n        }\r\n        return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\r\n      }\r\n    }\r\n\r\n\r\nI&#39;m getting the following error when running this:\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class io.swagger.pipelinerequest.PipelineTask]: missing type id property &#39;type&#39; (for POJO property &#39;pipelineTasks&#39;) at [Source: (ByteArrayInputStream); line: 12, column: 9] (through reference chain: io.swagger.pipelinerequest.PipelineRequest[&quot;pipelineTasks&quot;]-&gt;io.swagger.pipelinerequest.PipelineTasks[0])\r\n\r\nCan anyone please help me resolve the same? Any help is appreciated. Thanks.\r\n","title":"Unable to resolve subtype with InvalidTypeIdException while reading classes generated from swagger in Java","body":"<p>Below is the openapi code using which classes are generated:</p>\n<pre><code>PipelineTask:\n  anyOf:\n    - $ref: '#/components/schemas/TranslationTask'\n    - $ref: '#/components/schemas/ASRTask'\n    - $ref: '#/components/schemas/TTSTask'\n  discriminator:\n    propertyName: taskType\n    mapping:\n      translation: '#/components/schemas/TranslationTask'\n      asr: '#/components/schemas/ASRTask'\n      tts: '#/components/schemas/TTSTask'\n      \nPipelineTasks:\n  type: array\n  items:\n    $ref: '#/components/schemas/PipelineTask'\n    \nTranslationTask:\n  required:\n    - taskType\n  type: object\n  properties:\n    taskType:\n      $ref: #/components/schemas/SupportedTasks\n\nSupportedTasks:\n  type: string\n  enum:\n    - translation\n    - transliteration\n    - tts\n    - asr\n    - document-layout\n    - ocr\n    - glossary\n    - ner\n    - txt-lang-detection\n    - audio-lang-detection\n  description: the category of model under which it has been released or trained\n</code></pre>\n<p>Below are the classes generated by the same:\nPipelineTask:</p>\n<pre><code>package io.swagger.pipelinerequest;\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\n/**\n* PipelineTask\n*/\n@JsonTypeInfo(\n  use = JsonTypeInfo.Id.NAME,\n  include = JsonTypeInfo.As.PROPERTY,\n  property = &quot;taskType&quot;)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = TranslationTask.class, name = &quot;translation&quot;),\n  @JsonSubTypes.Type(value = ASRTask.class, name = &quot;asr&quot;),\n  @JsonSubTypes.Type(value = TTSTask.class, name = &quot;tts&quot;)\n})\npublic interface PipelineTask {\n\n    SupportedTasks getTaskType();\n}\n</code></pre>\n<p>TranslationTask:</p>\n<pre><code>package io.swagger.model;\n\nimport java.util.Objects;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport io.swagger.model.SupportedTasks;\nimport io.swagger.model.TranslationRequest;\nimport io.swagger.model.TranslationResponse;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport org.springframework.validation.annotation.Validated;\nimport javax.validation.Valid;\nimport javax.validation.constraints.*;\n\n/**\n * TranslationInference\n */\n@Validated\n@javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.SpringCodegen&quot;, date = &quot;2023-03-02T03:55:25.562740452Z[GMT]&quot;)\n\n\npublic class TranslationInference  implements OneOfInferenceAPIEndPointSchema {\n  @JsonProperty(&quot;taskType&quot;)\n  private SupportedTasks taskType = null;\n\n  @JsonProperty(&quot;request&quot;)\n  private TranslationRequest request = null;\n\n  @JsonProperty(&quot;response&quot;)\n  private TranslationResponse response = null;\n\n  public TranslationInference taskType(SupportedTasks taskType) {\n    this.taskType = taskType;\n    return this;\n  }\n\n  /**\n   * Get taskType\n   * @return taskType\n   **/\n  @Schema(required = true, description = &quot;&quot;)\n      @NotNull\n\n    @Valid\n    public SupportedTasks getTaskType() {\n    return taskType;\n  }\n\n  public void setTaskType(SupportedTasks taskType) {\n    this.taskType = taskType;\n  }\n\n  public TranslationInference request(TranslationRequest request) {\n    this.request = request;\n    return this;\n  }\n\n  /**\n   * Get request\n   * @return request\n   **/\n  @Schema(required = true, description = &quot;&quot;)\n      @NotNull\n\n    @Valid\n    public TranslationRequest getRequest() {\n    return request;\n  }\n\n  public void setRequest(TranslationRequest request) {\n    this.request = request;\n  }\n\n  public TranslationInference response(TranslationResponse response) {\n    this.response = response;\n    return this;\n  }\n\n  /**\n   * Get response\n   * @return response\n   **/\n  @Schema(description = &quot;&quot;)\n  \n    @Valid\n    public TranslationResponse getResponse() {\n    return response;\n  }\n\n  public void setResponse(TranslationResponse response) {\n    this.response = response;\n  }\n\n\n  @Override\n  public boolean equals(java.lang.Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    TranslationInference translationInference = (TranslationInference) o;\n    return Objects.equals(this.taskType, translationInference.taskType) &amp;&amp;\n        Objects.equals(this.request, translationInference.request) &amp;&amp;\n        Objects.equals(this.response, translationInference.response);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(taskType, request, response);\n  }\n\n  @Override\n  public String toString() {\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;class TranslationInference {\\n&quot;);\n    \n    sb.append(&quot;    taskType: &quot;).append(toIndentedString(taskType)).append(&quot;\\n&quot;);\n    sb.append(&quot;    request: &quot;).append(toIndentedString(request)).append(&quot;\\n&quot;);\n    sb.append(&quot;    response: &quot;).append(toIndentedString(response)).append(&quot;\\n&quot;);\n    sb.append(&quot;}&quot;);\n    return sb.toString();\n  }\n\n  /**\n   * Convert the given object to string with each line indented by 4 spaces\n   * (except the first line).\n   */\n  private String toIndentedString(java.lang.Object o) {\n    if (o == null) {\n      return &quot;null&quot;;\n    }\n    return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\n  }\n}\n</code></pre>\n<p>I'm getting the following error when running this:</p>\n<p>com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class io.swagger.pipelinerequest.PipelineTask]: missing type id property 'type' (for POJO property 'pipelineTasks') at [Source: (ByteArrayInputStream); line: 12, column: 9] (through reference chain: io.swagger.pipelinerequest.PipelineRequest[&quot;pipelineTasks&quot;]-&gt;io.swagger.pipelinerequest.PipelineTasks[0])</p>\n<p>Can anyone please help me resolve the same? Any help is appreciated. Thanks.</p>\n"},{"tags":["python","java","character-encoding"],"comments":[{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1683862561,"post_id":76232910,"comment_id":134434705,"body_markdown":"I think those encodings are implemented differently in different platforms. Take `0xA6DA` for example. Python fails to decode it using `GBK`, while Java is able to do so.","body":"I think those encodings are implemented differently in different platforms. Take <code>0xA6DA</code> for example. Python fails to decode it using <code>GBK</code>, while Java is able to do so."},{"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"score":1,"creation_date":1683862630,"post_id":76232910,"comment_id":134434714,"body_markdown":"Your `` is indeed the Unicode character U+E78E, though, so this is technically &quot;correctly decoded&quot;, but the system fonts don&#39;t have data for it (and it can basically be used for different things depending on the font used).\nYou thought it should be `︒`, but that is U+FE12.","body":"Your <code></code> is indeed the Unicode character U+E78E, though, so this is technically &quot;correctly decoded&quot;, but the system fonts don&#39;t have data for it (and it can basically be used for different things depending on the font used). You thought it should be <code>︒</code>, but that is U+FE12."},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1683862873,"post_id":76232910,"comment_id":134434733,"body_markdown":"@qrsngky So, I need to a **compatible** font in order to use GB18030/GBK, right?","body":"@qrsngky So, I need to a <b>compatible</b> font in order to use GB18030/GBK, right?"},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":2,"creation_date":1683862884,"post_id":76232910,"comment_id":134434736,"body_markdown":"&quot;It seems that if the characters are mapped to PUA, neither Java nor Python can decode them correctly.&quot; - well, yes; that&#39;s what it means to map something to PUA (a Private Use Area) - the interpretation of the code point is up to the implementation, and not specified by Unicode. Your Python and Java code is applying the encoding properly; the encoding just doesn&#39;t actually give code points that correspond to valid glyphs in modern Unicode. You can see this in the table on the Wikipedia page you cited.","body":"&quot;It seems that if the characters are mapped to PUA, neither Java nor Python can decode them correctly.&quot; - well, yes; that&#39;s what it means to map something to PUA (a Private Use Area) - the interpretation of the code point is up to the implementation, and not specified by Unicode. Your Python and Java code is applying the encoding properly; the encoding just doesn&#39;t actually give code points that correspond to valid glyphs in modern Unicode. You can see this in the table on the Wikipedia page you cited."},{"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"score":0,"creation_date":1683862987,"post_id":76232910,"comment_id":134434746,"body_markdown":"Or, you can manually replace those PUA characters with similar characters that form part of standard Unicode. (e.g. `U+E78E` with `U+FE12`, as shown in the Wikipedia table)","body":"Or, you can manually replace those PUA characters with similar characters that form part of standard Unicode. (e.g. <code>U+E78E</code> with <code>U+FE12</code>, as shown in the Wikipedia table)"},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1683863188,"post_id":76232910,"comment_id":134434752,"body_markdown":"@qrsngky it is [more complicated than that](https://en.wikipedia.org/wiki/Private_Use_Areas).","body":"@qrsngky it is <a href=\"https://en.wikipedia.org/wiki/Private_Use_Areas\" rel=\"nofollow noreferrer\">more complicated than that</a>."},{"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"score":0,"creation_date":1683863328,"post_id":76232910,"comment_id":134434767,"body_markdown":"@KarlKnechtel Not sure what your concern is, when OP is only concerned about a small part of PUA and is not trying to mix with PUA characters obtained from other sources","body":"@KarlKnechtel Not sure what your concern is, when OP is only concerned about a small part of PUA and is not trying to mix with PUA characters obtained from other sources"},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":1,"creation_date":1683866212,"post_id":76232910,"comment_id":134435052,"body_markdown":"Python&#39;s `gb18030` codec is actually `gb18030-2005` instead of `gb18030-2022` according to [the table](https://en.wikipedia.org/wiki/GB_18030#History) (further down in that section), based on the conversion of byte sequence `A6 DA` to `U+E78E` as per that table.","body":"Python&#39;s <code>gb18030</code> codec is actually <code>gb18030-2005</code> instead of <code>gb18030-2022</code> according to <a href=\"https://en.wikipedia.org/wiki/GB_18030#History\" rel=\"nofollow noreferrer\">the table</a> (further down in that section), based on the conversion of byte sequence <code>A6 DA</code> to <code>U+E78E</code> as per that table."},{"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"score":0,"creation_date":1683886661,"post_id":76232910,"comment_id":134438597,"body_markdown":"I wonder what those empty cells in the table (mapping to `E785` to `E78C` and `E797` to `E79F`) are supposed to represent. Spaces of different widths?","body":"I wonder what those empty cells in the table (mapping to <code>E785</code> to <code>E78C</code> and <code>E797</code> to <code>E79F</code>) are supposed to represent. Spaces of different widths?"},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1683890760,"post_id":76232910,"comment_id":134439529,"body_markdown":"@qrsngky These empty cells are not assigned to characters yet, and they are maybe used for future extensions.","body":"@qrsngky These empty cells are not assigned to characters yet, and they are maybe used for future extensions."}],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683861716,"creation_date":1683861716,"question_id":76232910,"body_markdown":"Recently, I am studying [GB 18030](https://en.wikipedia.org/wiki/GB_18030), and found that some characters cannot encoded/decoded correctly when they are mapped to the *private user area* (PUA). For example, according to the specification of GB 18030, this is *A6* double-byte region:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6hmja.png\r\n\r\nMost characters&#39; encoding/decoding are expected:\r\n\r\n```python\r\nch = b&#39;\\xA6\\F5&#39;\r\nprint(ch.decode(&#39;gb18030&#39;)) #  ︴\r\n```\r\n\r\nBut some are not:\r\n\r\n```python\r\nch = b&#39;\\xA6\\xDA&#39;\r\nprint(ch.decode(&#39;gb18030&#39;)) # , but it should be︒\r\n```\r\n\r\nI also tested in Java, and the results are the same. It seems that if the characters are mapped to PUA, neither Java nor Python can decode them correctly. Is it related to the specific language/library implementation?","title":"How to decode bytes in GB18030 correctly","body":"<p>Recently, I am studying <a href=\"https://en.wikipedia.org/wiki/GB_18030\" rel=\"nofollow noreferrer\">GB 18030</a>, and found that some characters cannot encoded/decoded correctly when they are mapped to the <em>private user area</em> (PUA). For example, according to the specification of GB 18030, this is <em>A6</em> double-byte region:</p>\n<p><a href=\"https://i.stack.imgur.com/6hmja.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6hmja.png\" alt=\"enter image description here\" /></a></p>\n<p>Most characters' encoding/decoding are expected:</p>\n<pre class=\"lang-py prettyprint-override\"><code>ch = b'\\xA6\\F5'\nprint(ch.decode('gb18030')) #  ︴\n</code></pre>\n<p>But some are not:</p>\n<pre class=\"lang-py prettyprint-override\"><code>ch = b'\\xA6\\xDA'\nprint(ch.decode('gb18030')) # , but it should be︒\n</code></pre>\n<p>I also tested in Java, and the results are the same. It seems that if the characters are mapped to PUA, neither Java nor Python can decode them correctly. Is it related to the specific language/library implementation?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":49683,"reputation":9264,"user_id":148059,"display_name":"atk"},"score":0,"creation_date":1384793345,"post_id":20053090,"comment_id":29867854,"body_markdown":"What does the javadoc for PreparedStatement.execute() say about return values?","body":"What does the javadoc for PreparedStatement.execute() say about return values?"},{"owner":{"account_id":155026,"reputation":7508,"user_id":371392,"accept_rate":67,"display_name":"Web User"},"score":0,"creation_date":1384793452,"post_id":20053090,"comment_id":29867920,"body_markdown":"http://stackoverflow.com/questions/14151772/why-does-execute-return-true-on-an-empty-table","body":"<a href=\"http://stackoverflow.com/questions/14151772/why-does-execute-return-true-on-an-empty-table\" title=\"why does execute return true on an empty table\">stackoverflow.com/questions/14151772/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":248514,"reputation":3221,"user_id":523908,"accept_rate":80,"display_name":"Lucas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384793338,"creation_date":1384793338,"answer_id":20053159,"question_id":20053090,"body_markdown":"Empty result doesn&#39;t mean that the SQL exception has occured. You need to check if the result is empty and THEN return false.","title":"How to return false where the result of JDBC is empty","body":"<p>Empty result doesn't mean that the SQL exception has occured. You need to check if the result is empty and THEN return false.</p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1384801902,"post_id":20053174,"comment_id":29872629,"body_markdown":"Given that `isBeforeFirst()` is optional for `TYPE_FORWARD_ONLY` resultsets, it is not the best way to check. Simply checking if the first call to `next()` returns true is the only guaranteed way to check if there is a result.","body":"Given that <code>isBeforeFirst()</code> is optional for <code>TYPE_FORWARD_ONLY</code> resultsets, it is not the best way to check. Simply checking if the first call to <code>next()</code> returns true is the only guaranteed way to check if there is a result."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683862085,"post_id":20053174,"comment_id":134434656,"body_markdown":"Or just `return rs.isBeforeFirst()`. OP should use `executeQuery()`, not `execute()`.","body":"Or just <code>return rs.isBeforeFirst()</code>. OP should use <code>executeQuery()</code>, not <code>execute()</code>."}],"tags":[],"owner":{"account_id":2321169,"reputation":9855,"user_id":2036867,"accept_rate":64,"display_name":"Nimrod007"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1384793379,"creation_date":1384793379,"answer_id":20053174,"question_id":20053090,"body_markdown":"you need to check the result of the statement ...\r\n\r\n    ResultSet rs= ps.execute();\r\n    rs.isBeforeFirst()\r\n\r\nwill returns false if there are no rows in the ResultSet\r\n\r\nso your code should look like this :\r\n\r\n    try {\r\n        con = DriverManager.getConnection(...);\r\n        ps = con.prepareStatement(query);\r\n        ps.setString(1, userID);\r\n        ps.setString(2, bookID);\r\n        ResultSet rs= ps.execute();\r\n\r\n        if (!rs.isBeforeFirst() ) {    \r\n              System.out.println(&quot;empty&quot;); \r\n              return false;\r\n        }else {\r\n              System.out.println(&quot;with data&quot;); \r\n              return true;\r\n        }\r\n\r\n    } catch (SQLException sqle) {\r\n        sqle.printStackTrace();\r\n        return false;\r\n    }\r\n\r\n\r\n","title":"How to return false where the result of JDBC is empty","body":"<p>you need to check the result of the statement ...</p>\n\n<pre><code>ResultSet rs= ps.execute();\nrs.isBeforeFirst()\n</code></pre>\n\n<p>will returns false if there are no rows in the ResultSet</p>\n\n<p>so your code should look like this :</p>\n\n<pre><code>try {\n    con = DriverManager.getConnection(...);\n    ps = con.prepareStatement(query);\n    ps.setString(1, userID);\n    ps.setString(2, bookID);\n    ResultSet rs= ps.execute();\n\n    if (!rs.isBeforeFirst() ) {    \n          System.out.println(\"empty\"); \n          return false;\n    }else {\n          System.out.println(\"with data\"); \n          return true;\n    }\n\n} catch (SQLException sqle) {\n    sqle.printStackTrace();\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683861666,"creation_date":1384794034,"answer_id":20053432,"question_id":20053090,"body_markdown":"&gt; Why not false here?\r\n\r\nAccording to the javadoc for [`execute()`][1]:\r\n\r\n&gt;  Returns: `true` if the first result is a `ResultSet` object; `false` if the first result is an update count or there is no result.\r\n\r\nIn your case, the first result will be a `ResultSet` object.  An empty `ResultSet` is still a `ResultSet`.\r\n\r\n----------------------\r\n\r\nIn this case (e.g. when the SQL is a &quot;select&quot;) the solution is to use `executeQuery` and test if the `ResultSet` is empty.\r\n\r\nAlternatively (e.g. when the SQL *may or may not* return a `ResultSet`), you could test the result of `query()`, and then call `getResultSet()` and test if it is empty.\r\n\r\nThe most general way to test if a `ResultSet` is empty is to call `next()` on it&lt;sup&gt;1&lt;/sup&gt;.  Apparently `ResultSet.isBeforeFirst()` is an optional operation for `TYPE_FORWARD_ONLY` resultsets.\r\n\r\n----------------------\r\n\r\n&lt;sup&gt;1 - Of course that `next()` call will advance to the first row in the resultset as per the [javadoc][2].&lt;/sup&gt;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#execute%28%29\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#next()","title":"How to return false where the result of JDBC is empty","body":"<blockquote>\n<p>Why not false here?</p>\n</blockquote>\n<p>According to the javadoc for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#execute%28%29\" rel=\"nofollow noreferrer\"><code>execute()</code></a>:</p>\n<blockquote>\n<p>Returns: <code>true</code> if the first result is a <code>ResultSet</code> object; <code>false</code> if the first result is an update count or there is no result.</p>\n</blockquote>\n<p>In your case, the first result will be a <code>ResultSet</code> object.  An empty <code>ResultSet</code> is still a <code>ResultSet</code>.</p>\n<hr />\n<p>In this case (e.g. when the SQL is a &quot;select&quot;) the solution is to use <code>executeQuery</code> and test if the <code>ResultSet</code> is empty.</p>\n<p>Alternatively (e.g. when the SQL <em>may or may not</em> return a <code>ResultSet</code>), you could test the result of <code>query()</code>, and then call <code>getResultSet()</code> and test if it is empty.</p>\n<p>The most general way to test if a <code>ResultSet</code> is empty is to call <code>next()</code> on it<sup>1</sup>.  Apparently <code>ResultSet.isBeforeFirst()</code> is an optional operation for <code>TYPE_FORWARD_ONLY</code> resultsets.</p>\n<hr />\n<p><sup>1 - Of course that <code>next()</code> call will advance to the first row in the resultset as per the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#next()\" rel=\"nofollow noreferrer\">javadoc</a>.</sup></p>\n"},{"tags":[],"owner":{"account_id":3522817,"reputation":269,"user_id":2944691,"display_name":"batman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384794848,"creation_date":1384794848,"answer_id":20053694,"question_id":20053090,"body_markdown":"You are using the wrong conditional statement even if the result is empty the query will execute and `ps.execute()` will return `true`.","title":"How to return false where the result of JDBC is empty","body":"<p>You are using the wrong conditional statement even if the result is empty the query will execute and <code>ps.execute()</code> will return <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":3599794,"reputation":2621,"user_id":3003337,"accept_rate":88,"display_name":"surya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384798567,"creation_date":1384798567,"answer_id":20054840,"question_id":20053090,"body_markdown":"javadoc for execute : true if the first result is a ResultSet object; false if the first result is an update count or there is no result \r\n\r\nThus whether or not you expect result,for a select statement, execute() would always return true ;","title":"How to return false where the result of JDBC is empty","body":"<p>javadoc for execute : true if the first result is a ResultSet object; false if the first result is an update count or there is no result </p>\n\n<p>Thus whether or not you expect result,for a select statement, execute() would always return true ;</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1384802420,"creation_date":1384801723,"answer_id":20055796,"question_id":20053090,"body_markdown":"The return value of [`execute()`][1] doesn&#39;t mean what you think it means:\r\n\r\n&gt; Returns:&lt;br&gt;\r\n&gt;    `true` if the first result is a `ResultSet` object; `false` if the first result is an update count or there is no result\r\n\r\nA `SELECT` statement will always produce a `ResultSet` (even if there is no row in the result). Instead you should\r\n\r\n 1. Use the `ResultSet` obtained from [`executeQuery()`][2]\r\n 2. Check the value of [`ResultSet.next()`][3] to see if there was **at least** one result\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#execute%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#executeQuery%28%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#next%28%29","title":"How to return false where the result of JDBC is empty","body":"<p>The return value of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#execute%28%29\" rel=\"nofollow\"><code>execute()</code></a> doesn't mean what you think it means:</p>\n\n<blockquote>\n  <p>Returns:<br>\n     <code>true</code> if the first result is a <code>ResultSet</code> object; <code>false</code> if the first result is an update count or there is no result</p>\n</blockquote>\n\n<p>A <code>SELECT</code> statement will always produce a <code>ResultSet</code> (even if there is no row in the result). Instead you should</p>\n\n<ol>\n<li>Use the <code>ResultSet</code> obtained from <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#executeQuery%28%29\" rel=\"nofollow\"><code>executeQuery()</code></a></li>\n<li>Check the value of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#next%28%29\" rel=\"nofollow\"><code>ResultSet.next()</code></a> to see if there was <strong>at least</strong> one result</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2634101,"reputation":626,"user_id":2279285,"display_name":"Engine Bai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669811234,"creation_date":1384827055,"answer_id":20061824,"question_id":20053090,"body_markdown":"The simplest way to check ResultSet returned from `execute()` is empty\r\n\r\n    if ( resultSet.next() == false )\r\n    \treturn false;\r\n  ","title":"How to return false where the result of JDBC is empty","body":"<p>The simplest way to check ResultSet returned from <code>execute()</code> is empty</p>\n<pre><code>if ( resultSet.next() == false )\n    return false;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1669811221,"post_id":74627572,"comment_id":131726959,"body_markdown":"This is not guaranteed to work, because `isBeforeFirst()` is optional for forward-only result sets.","body":"This is not guaranteed to work, because <code>isBeforeFirst()</code> is optional for forward-only result sets."}],"tags":[],"owner":{"account_id":12372515,"reputation":488,"user_id":9022194,"display_name":"George Smith"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669810173,"creation_date":1669810173,"answer_id":74627572,"question_id":20053090,"body_markdown":"Here is just a sample, similar to what Mark Rotteveel above mentioned. I using rs.isBeforeFirst() instead of rs.next() because this way I don&#39;t need to reset the current position back to the begining:\r\n\r\n        ResultSet rs = stmt.executeQuery();\r\n        isLoggedIn = rs.isBeforeFirst();","title":"How to return false where the result of JDBC is empty","body":"<p>Here is just a sample, similar to what Mark Rotteveel above mentioned. I using rs.isBeforeFirst() instead of rs.next() because this way I don't need to reset the current position back to the begining:</p>\n<pre><code>    ResultSet rs = stmt.executeQuery();\n    isLoggedIn = rs.isBeforeFirst();\n</code></pre>\n"}],"owner":{"account_id":2142017,"reputation":2275,"user_id":1900445,"accept_rate":100,"display_name":"Sajad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2906,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20053174,"answer_count":8,"score":1,"last_activity_date":1683861666,"creation_date":1384793097,"question_id":20053090,"body_markdown":"In my code, i need when the result of query is empty, it should return `false`.\r\n\r\nMy code:\r\n\r\n    public boolean user_bookValidationQuery(String userID, String bookID) {\r\n        Connection con;    \r\n        PreparedStatement ps;    \r\n        String query = &quot; select * from borrowed where userID=? and bookID=? &quot;;    \r\n        try {    \r\n            con = DriverManager.getConnection(...);    \r\n            ps = con.prepareStatement(query);    \r\n            ps.setString(1, userID);    \r\n            ps.setString(2, bookID);\r\n            if (ps.execute()) {\r\n                System.out.println(&quot;You can do it! , id DB&quot;);\r\n                return true;\r\n            } else return false;\r\n\r\n        } catch (SQLException sqle) {\r\n            sqle.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n\r\nNow for a give value for `userID` and `bookID` , i try in mysql console and see that it&#39;s result was empty, But in my code it return `true` still!\r\n\r\nWhy not false here?","title":"How to return false where the result of JDBC is empty","body":"<p>In my code, i need when the result of query is empty, it should return <code>false</code>.</p>\n\n<p>My code:</p>\n\n<pre><code>public boolean user_bookValidationQuery(String userID, String bookID) {\n    Connection con;    \n    PreparedStatement ps;    \n    String query = \" select * from borrowed where userID=? and bookID=? \";    \n    try {    \n        con = DriverManager.getConnection(...);    \n        ps = con.prepareStatement(query);    \n        ps.setString(1, userID);    \n        ps.setString(2, bookID);\n        if (ps.execute()) {\n            System.out.println(\"You can do it! , id DB\");\n            return true;\n        } else return false;\n\n    } catch (SQLException sqle) {\n        sqle.printStackTrace();\n        return false;\n    }\n}\n</code></pre>\n\n<p>Now for a give value for <code>userID</code> and <code>bookID</code> , i try in mysql console and see that it's result was empty, But in my code it return <code>true</code> still!</p>\n\n<p>Why not false here?</p>\n"},{"tags":["java","package","organization","java-package"],"comments":[{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":0,"creation_date":1478158615,"post_id":727844,"comment_id":68042530,"body_markdown":"A optional package is an implementation of an open, standard API (examples of optional packages `JavaServlet`, `Java3D`). Most optional packages are rooted in the `javax.*` namespace, although there may be exceptions.","body":"A optional package is an implementation of an open, standard API (examples of optional packages <code>JavaServlet</code>, <code>Java3D</code>). Most optional packages are rooted in the <code>javax.*</code> namespace, although there may be exceptions."}],"answers":[{"comments":[{"owner":{"account_id":176669,"reputation":7451,"user_id":407502,"accept_rate":70,"display_name":"orbfish"},"score":7,"creation_date":1320529254,"post_id":727852,"comment_id":9820967,"body_markdown":"Because it&#39;s easier for aa reader to hit alt-t and type it than for me to cut and paste using iPad?  ;). You&#39;re right, though, I *think* I meant http://download.oracle.com/javase/tutorial/ext/index.html.  No offense BTW I usually find your answers useful I&#39;m just surprised this one was accepted.","body":"Because it&#39;s easier for aa reader to hit alt-t and type it than for me to cut and paste using iPad?  ;). You&#39;re right, though, I <i>think</i> I meant <a href=\"http://download.oracle.com/javase/tutorial/ext/index.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/tutorial/ext/index.html</a>.  No offense BTW I usually find your answers useful I&#39;m just surprised this one was accepted."},{"owner":{"account_id":936797,"reputation":2054,"user_id":965593,"accept_rate":67,"display_name":"pamphlet"},"score":1,"creation_date":1390927596,"post_id":727852,"comment_id":32299678,"body_markdown":"The term &quot;javax&quot; doesn&#39;t appear anywhere in the link suggested earlier in this comment thread.","body":"The term &quot;javax&quot; doesn&#39;t appear anywhere in the link suggested earlier in this comment thread."},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1469434674,"post_id":727852,"comment_id":64515969,"body_markdown":"The new date and time API will actually ended up as `java.time` after all.","body":"The new date and time API will actually ended up as <code>java.time</code> after all."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":7,"up_vote_count":246,"is_accepted":true,"score":239,"last_activity_date":1625323187,"creation_date":1239143521,"answer_id":727852,"question_id":727844,"body_markdown":"I think it&#39;s a historical thing - if a package is introduced as an addition to an existing JRE, it comes in as `javax`. If it&#39;s first introduced as *part* of a JRE (like NIO was, I believe) then it comes in as `java`. Not sure why the new date and time API will end up as `javax` following this logic though... unless it will also be available separately as a library to work with earlier versions (which would be useful). **Note from many years later: it (date and time API) actually ended up being in `java` after all.**\r\n\r\nI believe there are restrictions on the `java` package - I think classloaders are set up to *only* allow classes within `java.*` to be loaded from `rt.jar` or something similar. (There&#39;s certainly a check in `ClassLoader.preDefineClass`.)\r\n\r\nEDIT: While an official explanation (the search orbfish suggested didn&#39;t yield one in the first page or so) is no doubt about &quot;core&quot; vs &quot;extension&quot;, I still suspect that in many cases the decision for any particular package has an historical reason behind it too. Is `java.beans` really that &quot;core&quot; to Java, for example?","title":"javax vs java package","body":"<p>I think it's a historical thing - if a package is introduced as an addition to an existing JRE, it comes in as <code>javax</code>. If it's first introduced as <em>part</em> of a JRE (like NIO was, I believe) then it comes in as <code>java</code>. Not sure why the new date and time API will end up as <code>javax</code> following this logic though... unless it will also be available separately as a library to work with earlier versions (which would be useful). <strong>Note from many years later: it (date and time API) actually ended up being in <code>java</code> after all.</strong></p>\n<p>I believe there are restrictions on the <code>java</code> package - I think classloaders are set up to <em>only</em> allow classes within <code>java.*</code> to be loaded from <code>rt.jar</code> or something similar. (There's certainly a check in <code>ClassLoader.preDefineClass</code>.)</p>\n<p>EDIT: While an official explanation (the search orbfish suggested didn't yield one in the first page or so) is no doubt about &quot;core&quot; vs &quot;extension&quot;, I still suspect that in many cases the decision for any particular package has an historical reason behind it too. Is <code>java.beans</code> really that &quot;core&quot; to Java, for example?</p>\n"},{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1239145929,"post_id":727854,"comment_id":539583,"body_markdown":"Swing was not part of 1.1. There was a version of Swing that ran on 1.1 as a library.","body":"Swing was not part of 1.1. There was a version of Swing that ran on 1.1 as a library."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1239146539,"post_id":727854,"comment_id":539601,"body_markdown":"There&#39;s the key - &quot;library&quot;, not part of the JDK.  Do I have the version wrong?  My javadocs suggest that JButton has been since 1.3, so perhaps my memory failed me.","body":"There&#39;s the key - &quot;library&quot;, not part of the JDK.  Do I have the version wrong?  My javadocs suggest that JButton has been since 1.3, so perhaps my memory failed me."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":1,"creation_date":1318947651,"post_id":727854,"comment_id":9514528,"body_markdown":"So why is the new date and time API in javax.. date and time is not &quot;base&quot; ?","body":"So why is the new date and time API in javax.. date and time is not &quot;base&quot; ?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1318949432,"post_id":727854,"comment_id":9515241,"body_markdown":"&quot;... the new date and time api (JSR-310)...&quot; - someone at Oracle/Sun decided that it was better put in javax, because it&#39;s a newer extension of the core libraries.  If you disagree, best to take it up with them.","body":"&quot;... the new date and time api (JSR-310)...&quot; - someone at Oracle/Sun decided that it was better put in javax, because it&#39;s a newer extension of the core libraries.  If you disagree, best to take it up with them."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1430739168,"post_id":727854,"comment_id":48174420,"body_markdown":"Just for reference: they reverted that decision, and JSR-310 was put under `java.time`: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","body":"Just for reference: they reverted that decision, and JSR-310 was put under <code>java.time</code>: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a>"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1430739261,"post_id":727854,"comment_id":48174476,"body_markdown":"Just for reference: this answer is more than six years old.  Doesn&#39;t change my point.","body":"Just for reference: this answer is more than six years old.  Doesn&#39;t change my point."}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":6,"down_vote_count":3,"up_vote_count":72,"is_accepted":false,"score":69,"last_activity_date":1552265775,"creation_date":1239143567,"answer_id":727854,"question_id":727844,"body_markdown":"`java` packages are **base**, and `javax` packages are extensions.  \r\n\r\nSwing was an extension because AWT was the original UI API.  Swing came afterwards, in version 1.1.\r\n\r\n","title":"javax vs java package","body":"<p><code>java</code> packages are <strong>base</strong>, and <code>javax</code> packages are extensions.  </p>\n\n<p>Swing was an extension because AWT was the original UI API.  Swing came afterwards, in version 1.1.</p>\n"},{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"comment_count":0,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1239151039,"creation_date":1239149902,"answer_id":728075,"question_id":727844,"body_markdown":"The javax namespace is *usually* (that&#39;s a loaded word) used for standard extensions, currently known as [optional packages][1]. The standard extensions are a subset of the non-core APIs; the other segment of the non-core APIs obviously called the non-standard extensions, occupying the namespaces like com.sun.* or com.ibm.*. The core APIs take up the java.* namespace.\r\n\r\nNot everything in the Java API world starts off in core, which is why extensions are usually born out of JSR requests. They are eventually promoted to core based on &#39;wise counsel&#39;.\r\n\r\nThe interest in this nomenclature, came out of a faux pas on Sun&#39;s part - extensions could have been promoted to core, i.e. moved from javax.* to java.* breaking the backward compatibility promise. Programmers cried hoarse, and better sense prevailed. This is why, the Swing API although part of the core, continues to remain in the javax.* namespace. And that is also how packages get promoted from extensions to core - they are simply made available for download as part of the JDK and JRE.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/guide/extensions/index.html","title":"javax vs java package","body":"<p>The javax namespace is <em>usually</em> (that's a loaded word) used for standard extensions, currently known as <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/extensions/index.html\" rel=\"noreferrer\">optional packages</a>. The standard extensions are a subset of the non-core APIs; the other segment of the non-core APIs obviously called the non-standard extensions, occupying the namespaces like com.sun.* or com.ibm.<em>. The core APIs take up the java.</em> namespace.</p>\n\n<p>Not everything in the Java API world starts off in core, which is why extensions are usually born out of JSR requests. They are eventually promoted to core based on 'wise counsel'.</p>\n\n<p>The interest in this nomenclature, came out of a faux pas on Sun's part - extensions could have been promoted to core, i.e. moved from javax.* to java.* breaking the backward compatibility promise. Programmers cried hoarse, and better sense prevailed. This is why, the Swing API although part of the core, continues to remain in the javax.* namespace. And that is also how packages get promoted from extensions to core - they are simply made available for download as part of the JDK and JRE.</p>\n"},{"comments":[{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":15,"creation_date":1305042453,"post_id":728095,"comment_id":6864071,"body_markdown":"&quot;When Swing was set to &quot;graduate&quot; to java from javax there was sort of a mini-blow up because people realized that they would have to then modify all of their imports.&quot; People were complaining about something that could be accomplished with a regex that was a result of them using preproduciton quality code?","body":"&quot;When Swing was set to &quot;graduate&quot; to java from javax there was sort of a mini-blow up because people realized that they would have to then modify all of their imports.&quot; People were complaining about something that could be accomplished with a regex that was a result of them using preproduciton quality code?"},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":11,"creation_date":1305059695,"post_id":728095,"comment_id":6868842,"body_markdown":"Yup.  I wrote a tool in Visual Cafe to convert between the two (javax and java) before Sun decided to just keep it in the javax package.","body":"Yup.  I wrote a tool in Visual Cafe to convert between the two (javax and java) before Sun decided to just keep it in the javax package."},{"owner":{"account_id":139122,"reputation":1173,"user_id":344501,"accept_rate":88,"display_name":"jgomo3"},"score":6,"creation_date":1601773570,"post_id":728095,"comment_id":113509477,"body_markdown":"the swing problem could have been mitigated by having swing in both namespaces at the same time, adding deprecation warnings for the one in javax.","body":"the swing problem could have been mitigated by having swing in both namespaces at the same time, adding deprecation warnings for the one in javax."},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":2,"creation_date":1683860213,"post_id":728095,"comment_id":134434514,"body_markdown":"@jgomo3 The problem with that is that, unless they were to add type aliases to Java, code using `java.swing` and code using `javax.swing` wouldn&#39;t be able to interoperate.","body":"@jgomo3 The problem with that is that, unless they were to add type aliases to Java, code using <code>java.swing</code> and code using <code>javax.swing</code> wouldn&#39;t be able to interoperate."},{"owner":{"account_id":139122,"reputation":1173,"user_id":344501,"accept_rate":88,"display_name":"jgomo3"},"score":2,"creation_date":1684851113,"post_id":728095,"comment_id":134575537,"body_markdown":"@SolomonUcko you are right. Interesting language feature. Clojure has it. One workaround in Java would be to make `javax.swing.X` a dummy class extending `java.swing.X` for all `X`.","body":"@SolomonUcko you are right. Interesting language feature. Clojure has it. One workaround in Java would be to make <code>javax.swing.X</code> a dummy class extending <code>java.swing.X</code> for all <code>X</code>."},{"owner":{"account_id":6385423,"reputation":99,"user_id":5078095,"display_name":"gbear605"},"score":0,"creation_date":1691545381,"post_id":728095,"comment_id":135505047,"body_markdown":"@jgomo3 That would only solve one direction - an application using java.swing could not use a library using javax.swing - and it wouldn&#39;t be possible for final classes.","body":"@jgomo3 That would only solve one direction - an application using java.swing could not use a library using javax.swing - and it wouldn&#39;t be possible for final classes."}],"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"comment_count":6,"down_vote_count":0,"up_vote_count":283,"is_accepted":false,"score":283,"last_activity_date":1552265716,"creation_date":1239150418,"answer_id":728095,"question_id":727844,"body_markdown":"Originally `javax` was intended to be for extensions, and sometimes things would be promoted out of `javax` into java.\r\n\r\nOne issue was Netscape (and probably IE) limiting classes that could be in the java package.\r\n\r\nWhen Swing was set to &quot;graduate&quot; to `java` from `javax` there was sort of a mini-blow up because people realized that they would have to modify all of their imports.  Given that backwards compatibility is one of the primary goals of Java they changed their mind.  \r\n\r\nAt that point in time, at least for the community (maybe not for Sun) the whole point of `javax` was lost.  So now we have some things in javax that probably should be in `java`... but aside from the people that chose the package names I don&#39;t know if anyone can figure out what the rationale is on a case-by-case basis.","title":"javax vs java package","body":"<p>Originally <code>javax</code> was intended to be for extensions, and sometimes things would be promoted out of <code>javax</code> into java.</p>\n\n<p>One issue was Netscape (and probably IE) limiting classes that could be in the java package.</p>\n\n<p>When Swing was set to \"graduate\" to <code>java</code> from <code>javax</code> there was sort of a mini-blow up because people realized that they would have to modify all of their imports.  Given that backwards compatibility is one of the primary goals of Java they changed their mind.  </p>\n\n<p>At that point in time, at least for the community (maybe not for Sun) the whole point of <code>javax</code> was lost.  So now we have some things in javax that probably should be in <code>java</code>... but aside from the people that chose the package names I don't know if anyone can figure out what the rationale is on a case-by-case basis.</p>\n"},{"tags":[],"owner":{"account_id":6287742,"reputation":347,"user_id":4886346,"accept_rate":25,"display_name":"Lakshmi Prasanna"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1504086522,"creation_date":1504086522,"answer_id":45957131,"question_id":727844,"body_markdown":"java.* packages are the core Java language packages, meaning that programmers using the Java language had to use them in order to make any worthwhile use of the java language.\r\n\r\njavax.*  packages are optional packages, which provides a standard, scalable way to make custom APIs available to all applications running on the Java platform.\r\n\r\n","title":"javax vs java package","body":"<p>java.* packages are the core Java language packages, meaning that programmers using the Java language had to use them in order to make any worthwhile use of the java language.</p>\n\n<p>javax.*  packages are optional packages, which provides a standard, scalable way to make custom APIs available to all applications running on the Java platform.</p>\n"},{"tags":[],"owner":{"account_id":11682173,"reputation":41,"user_id":8553443,"display_name":"Miroslav"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1504568524,"creation_date":1504568524,"answer_id":46045157,"question_id":727844,"body_markdown":"Javax used to be only for extensions. Yet later sun added it to the java libary forgetting to remove the x. Developers started making code with javax. Yet later on in time suns decided to change it to java. Developers didn&#39;t like the idea because they&#39;re code would be ruined... so javax was kept.","title":"javax vs java package","body":"<p>Javax used to be only for extensions. Yet later sun added it to the java libary forgetting to remove the x. Developers started making code with javax. Yet later on in time suns decided to change it to java. Developers didn't like the idea because they're code would be ruined... so javax was kept.</p>\n"},{"tags":[],"owner":{"account_id":7228906,"reputation":1477,"user_id":5516527,"accept_rate":90,"display_name":"Rezaeimh7"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585538140,"creation_date":1585375386,"answer_id":60897815,"question_id":727844,"body_markdown":"Some packages like `javax.swing` were not included in java standard library at first. Sun company decided to consider them official and included them into the early versions of java as standard libraries or standard extensions.\r\n\r\nBy convention, all the standard extensions start with an `X` while they can get promoted to first-class over time like what happened for `javax.swing`.","title":"javax vs java package","body":"<p>Some packages like <code>javax.swing</code> were not included in java standard library at first. Sun company decided to consider them official and included them into the early versions of java as standard libraries or standard extensions.</p>\n\n<p>By convention, all the standard extensions start with an <code>X</code> while they can get promoted to first-class over time like what happened for <code>javax.swing</code>.</p>\n"},{"tags":[],"owner":{"account_id":1859530,"reputation":2250,"user_id":1684389,"display_name":"Raydelto Hernandez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636399535,"creation_date":1636399535,"answer_id":69888896,"question_id":727844,"body_markdown":"All the **javax** packages were aimed to be experimental packages. By the time Swing was stable enough and ready to be moved to the **java** package there was too much code out there that they decided to leave it as it is to keep their commitment with backwards compatibility. This is explained in the book Learn Java in 21 days from the Sams editorial, written by Laura Lemay and Rogers Candedhead.","title":"javax vs java package","body":"<p>All the <strong>javax</strong> packages were aimed to be experimental packages. By the time Swing was stable enough and ready to be moved to the <strong>java</strong> package there was too much code out there that they decided to leave it as it is to keep their commitment with backwards compatibility. This is explained in the book Learn Java in 21 days from the Sams editorial, written by Laura Lemay and Rogers Candedhead.</p>\n"}],"owner":{"account_id":26907,"reputation":11446,"user_id":70430,"accept_rate":55,"display_name":"Jaka Jančar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294336,"favorite_count":0,"down_vote_count":0,"up_vote_count":475,"accepted_answer_id":727852,"answer_count":8,"score":475,"last_activity_date":1683860286,"creation_date":1239143320,"question_id":727844,"body_markdown":"What&#39;s the rationale behind the javax package? What goes into java and what into javax?\r\n\r\nI know a lot of enterprise-y packages are in javax, but so is Swing, the new date and time api (JSR-310) and other J2SE packages.","title":"javax vs java package","body":"<p>What's the rationale behind the javax package? What goes into java and what into javax?</p>\n\n<p>I know a lot of enterprise-y packages are in javax, but so is Swing, the new date and time api (JSR-310) and other J2SE packages.</p>\n"},{"tags":["java","android","package","java-package"],"comments":[{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":1,"creation_date":1683860006,"post_id":76232761,"comment_id":134434494,"body_markdown":"Related: https://stackoverflow.com/questions/3226282/are-there-best-practices-for-java-package-organization, https://stackoverflow.com/questions/2125293/java-packages-com-and-org, https://stackoverflow.com/questions/210567/package-structure-for-a-java-project, https://stackoverflow.com/questions/292169/what-package-naming-convention-do-you-use-for-personal-hobby-projects-in-java, https://stackoverflow.com/tags/java-package/info","body":"Related: <a href=\"https://stackoverflow.com/questions/3226282/are-there-best-practices-for-java-package-organization\" title=\"are there best practices for java package organization\">stackoverflow.com/questions/3226282/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/2125293/java-packages-com-and-org\" title=\"java packages com and org\">stackoverflow.com/questions/2125293/java-packages-com-and-or&zwnj;&#8203;g</a>, <a href=\"https://stackoverflow.com/questions/210567/package-structure-for-a-java-project\" title=\"package structure for a java project\">stackoverflow.com/questions/210567/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/292169/what-package-naming-convention-do-you-use-for-personal-hobby-projects-in-java\" title=\"what package naming convention do you use for personal hobby projects in java\">stackoverflow.com/questions/292169/&hellip;</a>, <a href=\"https://stackoverflow.com/tags/java-package/info\">stackoverflow.com/tags/java-package/info</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1683875255,"post_id":76232761,"comment_id":134436268,"body_markdown":"From Oracle&#39;s [The Java™ Tutorials](https://docs.oracle.com/javase/tutorial/): see the  [Packages](https://docs.oracle.com/javase/tutorial/java/package/index.html) Trail","body":"From Oracle&#39;s <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">The Java™ Tutorials</a>: see the  <a href=\"https://docs.oracle.com/javase/tutorial/java/package/index.html\" rel=\"nofollow noreferrer\">Packages</a> Trail"}],"answers":[{"tags":[],"owner":{"account_id":15990398,"reputation":11,"user_id":11539746,"display_name":"Marcio Leal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683859138,"creation_date":1683858983,"answer_id":76232783,"question_id":76232761,"body_markdown":"The line just inform to Java where you class is located in the project. It is called [package][1], but if you browse your project, in case you are using eclipse or something like, it is just a folder.\r\n\r\n[1]: https://docs.oracle.com/javase/tutorial/java/package/packages.html","title":"What is the first line for, in the MainActivity.java?","body":"<p>The line just inform to Java where you class is located in the project. It is called <a href=\"https://docs.oracle.com/javase/tutorial/java/package/packages.html\" rel=\"nofollow noreferrer\">package</a>, but if you browse your project, in case you are using eclipse or something like, it is just a folder.</p>\n"},{"tags":[],"owner":{"account_id":2332175,"reputation":11,"user_id":2045296,"display_name":"DT.rw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683859412,"creation_date":1683859384,"answer_id":76232813,"question_id":76232761,"body_markdown":"A package in Java is used to group related classes. Think of it as a folder in a file directory. We use packages to avoid name conflicts, and to write a better maintainable code. \r\n[more details][1]\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_packages.asp","title":"What is the first line for, in the MainActivity.java?","body":"<p>A package in Java is used to group related classes. Think of it as a folder in a file directory. We use packages to avoid name conflicts, and to write a better maintainable code.\n<a href=\"https://www.w3schools.com/java/java_packages.asp\" rel=\"nofollow noreferrer\">more details</a></p>\n"}],"owner":{"account_id":28585355,"reputation":1,"user_id":21885700,"display_name":"Iftad Abser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1683952526,"answer_count":2,"score":-3,"last_activity_date":1683860029,"creation_date":1683858528,"question_id":76232761,"body_markdown":"`package com.mycompany.myapp2;`\r\n\r\nI want to know what this does for my application. \r\n\r\nI am a beginner. I&#39;m trying to learn how to develop an android application.\r\nThank you ❤️.\r\n\r\n","title":"What is the first line for, in the MainActivity.java?","body":"<p><code>package com.mycompany.myapp2;</code></p>\n<p>I want to know what this does for my application.</p>\n<p>I am a beginner. I'm trying to learn how to develop an android application.\nThank you ❤️.</p>\n"},{"tags":["java","intellij-idea","compiler-errors"],"comments":[{"owner":{"account_id":291009,"reputation":9437,"user_id":592898,"accept_rate":60,"display_name":"Frederic Close"},"score":0,"creation_date":1381774402,"post_id":19364949,"comment_id":28697126,"body_markdown":"You could maybe add an eclipse screenshot of what you want to have with Intellij","body":"You could maybe add an eclipse screenshot of what you want to have with Intellij"},{"owner":{"account_id":61679,"reputation":6221,"user_id":183704,"accept_rate":60,"display_name":"BuZZ-dEE"},"score":1,"creation_date":1448571464,"post_id":19364949,"comment_id":55652608,"body_markdown":"Possible duplicate of [View Errors in Intellij Project](http://stackoverflow.com/questions/1644861/view-errors-in-intellij-project)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1644861/view-errors-in-intellij-project\">View Errors in Intellij Project</a>"}],"answers":[{"comments":[{"owner":{"account_id":1270225,"reputation":11458,"user_id":1226705,"accept_rate":53,"display_name":"GarfieldKlon"},"score":2,"creation_date":1395831384,"post_id":19366569,"comment_id":34513416,"body_markdown":"Plugin &quot;Eclipse Mode&quot; not available for IDEA 13.","body":"Plugin &quot;Eclipse Mode&quot; not available for IDEA 13."},{"owner":{"account_id":3851650,"reputation":1455,"user_id":3191676,"accept_rate":50,"display_name":"atom88"},"score":3,"creation_date":1479503840,"post_id":19366569,"comment_id":68602772,"body_markdown":"Apparently this &quot;problems&quot; toolbar is only available if you select the &quot;auto compile&quot; mode.  see here: \nhttps://www.jetbrains.com/help/idea/2016.2/problems-tool-window.html","body":"Apparently this &quot;problems&quot; toolbar is only available if you select the &quot;auto compile&quot; mode.  see here:  <a href=\"https://www.jetbrains.com/help/idea/2016.2/problems-tool-window.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/2016.2/problems-tool-window.html</a>"},{"owner":{"account_id":5851030,"reputation":526,"user_id":4609700,"display_name":"Crenguta S"},"score":4,"creation_date":1495013341,"post_id":19366569,"comment_id":75068620,"body_markdown":"I switched to problems instead of projects and I also  enabled the &#39;Build project automatically&#39; but I still don&#39;t see the problems/ compiler errors per se. I just see the classes that have the errors. Could anyone help with that...?","body":"I switched to problems instead of projects and I also  enabled the &#39;Build project automatically&#39; but I still don&#39;t see the problems/ compiler errors per se. I just see the classes that have the errors. Could anyone help with that...?"},{"owner":{"account_id":11834,"reputation":10018,"user_id":23023,"accept_rate":75,"display_name":"conny"},"score":0,"creation_date":1520598600,"post_id":19366569,"comment_id":85392249,"body_markdown":"Does this work _at all_ for Scala? I can&#39;t seem to make it happen.","body":"Does this work <i>at all</i> for Scala? I can&#39;t seem to make it happen."},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":4,"creation_date":1552902442,"post_id":19366569,"comment_id":97172019,"body_markdown":"Unfortunately, this only shows compilation errors, it doesn&#39;t show warnings etc like Eclipse does.  Also, the window cant be moved, so when you view problems (aka compilation errors), you cant view your project.","body":"Unfortunately, this only shows compilation errors, it doesn&#39;t show warnings etc like Eclipse does.  Also, the window cant be moved, so when you view problems (aka compilation errors), you cant view your project."},{"owner":{"account_id":1261595,"reputation":544,"user_id":1219728,"accept_rate":60,"display_name":"efie"},"score":0,"creation_date":1602420916,"post_id":19366569,"comment_id":113708800,"body_markdown":"Where do you find the &quot;View as Combox of the Project view&quot; option?","body":"Where do you find the &quot;View as Combox of the Project view&quot; option?"},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":1,"creation_date":1618312953,"post_id":19366569,"comment_id":118558607,"body_markdown":"This does not work 100% of the time. I only get some errors.","body":"This does not work 100% of the time. I only get some errors."}],"tags":[],"owner":{"account_id":128130,"reputation":18591,"user_id":325742,"accept_rate":90,"display_name":"Ashutosh Jindal"},"comment_count":7,"down_vote_count":0,"up_vote_count":178,"is_accepted":true,"score":178,"last_activity_date":1444304580,"creation_date":1381774719,"answer_id":19366569,"question_id":19364949,"body_markdown":"I think this comes closest to what you wish:\r\n\r\n(From [IntelliJ IDEA Q&amp;A for Eclipse Users][1]):\r\n\r\n![enter image description here][2]\r\n\r\nThe above can be combined with a recently introduced option in Compiler settings to get a view very similar to that of Eclipse.\r\n\r\nThings to do:\r\n\r\n1. Switch to &#39;Problems&#39; view in the Project pane: &lt;br&gt; &lt;br&gt; ![enter image description here][3]\r\n\r\n2. Enable the setting to compile the project automatically : &lt;br&gt; &lt;br&gt; ![enter image description here][4]\r\n\r\n3. Finally, look at the Problems view: &lt;br&gt; &lt;br&gt; ![enter image description here][5]\r\n\r\n\r\nHere is a comparison of what the same project (with a compilation error) looks like in Intellij IDEA 13.xx and Eclipse Kepler:\r\n\r\n![enter image description here][6] \r\n\r\n![enter image description here][7]\r\n\r\nRelevant Links:\r\nThe maven project shown above : https://github.com/ajorpheus/CompileTimeErrors\r\n&lt;br&gt;FAQ For &#39;Eclipse Mode&#39; / &#39;Automatically Compile&#39; a project : http://devnet.jetbrains.com/docs/DOC-1122\r\n\r\n  [1]: http://www.jetbrains.com/idea/documentation/migration_faq.html\r\n  [2]: http://i.stack.imgur.com/nOzAs.png\r\n  [3]: http://i.stack.imgur.com/n6Bks.png\r\n  [4]: http://i.stack.imgur.com/rS2AU.png\r\n  [5]: http://i.stack.imgur.com/7T2e9.png\r\n  [6]: http://i.stack.imgur.com/AQLqs.png\r\n  [7]: http://i.stack.imgur.com/lsNCg.png","title":"How to view the list of compile errors in IntelliJ?","body":"<p>I think this comes closest to what you wish:</p>\n\n<p>(From <a href=\"http://www.jetbrains.com/idea/documentation/migration_faq.html\">IntelliJ IDEA Q&amp;A for Eclipse Users</a>):</p>\n\n<p><img src=\"https://i.stack.imgur.com/nOzAs.png\" alt=\"enter image description here\"></p>\n\n<p>The above can be combined with a recently introduced option in Compiler settings to get a view very similar to that of Eclipse.</p>\n\n<p>Things to do:</p>\n\n<ol>\n<li><p>Switch to 'Problems' view in the Project pane: <br> <br> <img src=\"https://i.stack.imgur.com/n6Bks.png\" alt=\"enter image description here\"></p></li>\n<li><p>Enable the setting to compile the project automatically : <br> <br> <img src=\"https://i.stack.imgur.com/rS2AU.png\" alt=\"enter image description here\"></p></li>\n<li><p>Finally, look at the Problems view: <br> <br> <img src=\"https://i.stack.imgur.com/7T2e9.png\" alt=\"enter image description here\"></p></li>\n</ol>\n\n<p>Here is a comparison of what the same project (with a compilation error) looks like in Intellij IDEA 13.xx and Eclipse Kepler:</p>\n\n<p><img src=\"https://i.stack.imgur.com/AQLqs.png\" alt=\"enter image description here\"> </p>\n\n<p><img src=\"https://i.stack.imgur.com/lsNCg.png\" alt=\"enter image description here\"></p>\n\n<p>Relevant Links:\nThe maven project shown above : <a href=\"https://github.com/ajorpheus/CompileTimeErrors\">https://github.com/ajorpheus/CompileTimeErrors</a>\n<br>FAQ For 'Eclipse Mode' / 'Automatically Compile' a project : <a href=\"http://devnet.jetbrains.com/docs/DOC-1122\">http://devnet.jetbrains.com/docs/DOC-1122</a></p>\n"},{"comments":[{"owner":{"account_id":904510,"reputation":625,"user_id":2645845,"display_name":"NeilS"},"score":2,"creation_date":1517508182,"post_id":46777445,"comment_id":84134318,"body_markdown":"Sadly this doesn&#39;t help with Android projects, probably because compilation is deferred to gradle.\n\nThere&#39;s an IntelliJ feature request for this here: https://youtrack.jetbrains.com/issue/IDEA-68854","body":"Sadly this doesn&#39;t help with Android projects, probably because compilation is deferred to gradle.  There&#39;s an IntelliJ feature request for this here: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-68854\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-68854</a>"},{"owner":{"account_id":1686812,"reputation":29802,"user_id":1549918,"accept_rate":43,"display_name":"Chris Halcrow"},"score":0,"creation_date":1558484338,"post_id":46777445,"comment_id":99113849,"body_markdown":"To initially access the &#39;settings&#39; - CTRL+ALT+S (or File &gt; Settings)","body":"To initially access the &#39;settings&#39; - CTRL+ALT+S (or File &gt; Settings)"},{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":0,"creation_date":1634930999,"post_id":46777445,"comment_id":123168879,"body_markdown":"not working. it underlines the classes in project view, but does not show any item in Problems view","body":"not working. it underlines the classes in project view, but does not show any item in Problems view"}],"tags":[],"owner":{"account_id":3993770,"reputation":544,"user_id":6497736,"display_name":"Eric Jiang"},"comment_count":3,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1597757899,"creation_date":1508180919,"answer_id":46777445,"question_id":19364949,"body_markdown":"A more up to date answer for anyone else who comes across this:\r\n\r\n(from https://www.jetbrains.com/help/idea/eclipse.html, &#167;[Auto-compilation][1]; click for screenshots)\r\n\r\n**Compile automatically:**\r\n\r\n&gt; To enable automatic compilation, navigate to **Settings/Preferences | Build, Execution, Deployment | Compiler** and select the **Build project automatically** option\r\n\r\n**Show all errors in one place:**\r\n\r\n&gt; The **Problems tool window** appears if the **Make project automatically** option is enabled in the Compiler settings. It shows a list of problems that were detected on project compilation.\r\n\r\n**Use the Eclipse compiler:**\r\nThis is actually bundled in IntelliJ. It gives much more useful error messages, in my opinion, and, according to [this blog](https://web.archive.org/web/20190612165824/https://blog.dripstat.com/why-you-should-use-the-eclipse-compiler-in/), it&#39;s much faster since it was designed to run in the background of an IDE and uses incremental compilation.\r\n\r\n&gt; While Eclipse uses its own compiler, IntelliJ IDEA uses the javac compiler bundled with the project JDK. If you must use the Eclipse compiler, navigate to **Settings/Preferences | Build, Execution, Deployment | Compiler | Java Compiler** and select it...\r\nThe biggest difference between the Eclipse and javac compilers is that the Eclipse compiler is more tolerant to errors, and sometimes lets you run code that doesn&#39;t compile.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/migrating-from-eclipse-to-intellij-idea.html#15af89fd","title":"How to view the list of compile errors in IntelliJ?","body":"<p>A more up to date answer for anyone else who comes across this:</p>\n<p>(from <a href=\"https://www.jetbrains.com/help/idea/eclipse.html\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/eclipse.html</a>, §<a href=\"https://www.jetbrains.com/help/idea/migrating-from-eclipse-to-intellij-idea.html#15af89fd\" rel=\"noreferrer\">Auto-compilation</a>; click for screenshots)</p>\n<p><strong>Compile automatically:</strong></p>\n<blockquote>\n<p>To enable automatic compilation, navigate to <strong>Settings/Preferences | Build, Execution, Deployment | Compiler</strong> and select the <strong>Build project automatically</strong> option</p>\n</blockquote>\n<p><strong>Show all errors in one place:</strong></p>\n<blockquote>\n<p>The <strong>Problems tool window</strong> appears if the <strong>Make project automatically</strong> option is enabled in the Compiler settings. It shows a list of problems that were detected on project compilation.</p>\n</blockquote>\n<p><strong>Use the Eclipse compiler:</strong>\nThis is actually bundled in IntelliJ. It gives much more useful error messages, in my opinion, and, according to <a href=\"https://web.archive.org/web/20190612165824/https://blog.dripstat.com/why-you-should-use-the-eclipse-compiler-in/\" rel=\"noreferrer\">this blog</a>, it's much faster since it was designed to run in the background of an IDE and uses incremental compilation.</p>\n<blockquote>\n<p>While Eclipse uses its own compiler, IntelliJ IDEA uses the javac compiler bundled with the project JDK. If you must use the Eclipse compiler, navigate to <strong>Settings/Preferences | Build, Execution, Deployment | Compiler | Java Compiler</strong> and select it...\nThe biggest difference between the Eclipse and javac compilers is that the Eclipse compiler is more tolerant to errors, and sometimes lets you run code that doesn't compile.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":2,"creation_date":1527082395,"post_id":47109902,"comment_id":87992419,"body_markdown":"This simple answer helped me, but the path was `View, Tool Windows, messages`","body":"This simple answer helped me, but the path was <code>View, Tool Windows, messages</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1550541440,"post_id":47109902,"comment_id":96297054,"body_markdown":"Interesting… In IntelliJ 2019.1, I see neither a `Problems` item nor a `Messages` item in the `View` &gt; `Tool Windows` menu.","body":"Interesting… In IntelliJ 2019.1, I see neither a <code>Problems</code> item nor a <code>Messages</code> item in the <code>View</code> &gt; <code>Tool Windows</code> menu."},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":3,"creation_date":1552902349,"post_id":47109902,"comment_id":97171971,"body_markdown":"Unfortunately this is missing in my version of intellij (ultimate 2018.3)","body":"Unfortunately this is missing in my version of intellij (ultimate 2018.3)"}],"tags":[],"owner":{"account_id":8922829,"reputation":279,"user_id":6658628,"display_name":"Matthias Bohlen"},"comment_count":3,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1509792594,"creation_date":1509792594,"answer_id":47109902,"question_id":19364949,"body_markdown":"On my system (IntelliJ Idea 2017.2.5), it was not sufficient to enable &quot;Make Project Automatically&quot;. I also had to use the menu item &quot;View, Tool Windows, Problems&quot; to see the problems tool window at the bottom of the screen.\r\n\r\n[![Opening the problems tool window][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GG8yZ.png","title":"How to view the list of compile errors in IntelliJ?","body":"<p>On my system (IntelliJ Idea 2017.2.5), it was not sufficient to enable \"Make Project Automatically\". I also had to use the menu item \"View, Tool Windows, Problems\" to see the problems tool window at the bottom of the screen.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GG8yZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GG8yZ.png\" alt=\"Opening the problems tool window\"></a></p>\n"},{"tags":[],"owner":{"account_id":161416,"reputation":1250,"user_id":382154,"accept_rate":69,"display_name":"Ammar Bozorgvar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572509149,"creation_date":1572509149,"answer_id":58639092,"question_id":19364949,"body_markdown":"You should disable Power Save Mode\r\n\r\nFor me I clicked over this button \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ND6eG.png\r\n\r\nthen disable Power Save Mode","title":"How to view the list of compile errors in IntelliJ?","body":"<p>You should disable Power Save Mode</p>\n\n<p>For me I clicked over this button </p>\n\n<p><a href=\"https://i.stack.imgur.com/ND6eG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ND6eG.png\" alt=\"enter image description here\"></a></p>\n\n<p>then disable Power Save Mode</p>\n"},{"comments":[{"owner":{"account_id":10715125,"reputation":477,"user_id":8228163,"display_name":"Edw590"},"score":1,"creation_date":1653425597,"post_id":65789803,"comment_id":127849043,"body_markdown":"[Just as a note, this should be a comment not an answer, because it doesn&#39;t answer the question.]","body":"[Just as a note, this should be a comment not an answer, because it doesn&#39;t answer the question.]"}],"tags":[],"owner":{"account_id":7730120,"reputation":751,"user_id":5853556,"accept_rate":68,"display_name":"Kervvv"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611052581,"creation_date":1611052581,"answer_id":65789803,"question_id":19364949,"body_markdown":"the &quot;problem view&quot; mentioned in previous answers was helpful, but i saw it didn&#39;t catch all the errors in project. After running application, it began populating other classes that had issues but didn&#39;t appear at first in that problems view.","title":"How to view the list of compile errors in IntelliJ?","body":"<p>the &quot;problem view&quot; mentioned in previous answers was helpful, but i saw it didn't catch all the errors in project. After running application, it began populating other classes that had issues but didn't appear at first in that problems view.</p>\n"},{"tags":[],"owner":{"account_id":5448686,"reputation":6798,"user_id":4573839,"accept_rate":89,"display_name":"yu yang Jian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628426632,"creation_date":1628426632,"answer_id":68700909,"question_id":19364949,"body_markdown":"I my case I didn&#39;t set `Source Root` at the `src` folder. I make a typo to set as `Resources Root`. after fix it by `right click at src folder &gt; Mark Directory as &gt; Source Root`, the compile error shows.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u3JKEm.png","title":"How to view the list of compile errors in IntelliJ?","body":"<p>I my case I didn't set <code>Source Root</code> at the <code>src</code> folder. I make a typo to set as <code>Resources Root</code>. after fix it by <code>right click at src folder &gt; Mark Directory as &gt; Source Root</code>, the compile error shows.</p>\n<p><a href=\"https://i.stack.imgur.com/u3JKEm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u3JKEm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6211203,"reputation":87,"user_id":13660973,"display_name":"FarHooD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683859407,"creation_date":1683859407,"answer_id":76232814,"question_id":19364949,"body_markdown":" 1. Step One : Open Problems View(Alt+6)\r\n 2. Step Two : Enable Wide-View\r\n    (Top of View Options)\r\n 3. Step Three : In tab Project Errors Click Snipp\r\n    and Analyze Your project for finding any Problems Cat by File Type\r\n    And Other Stuff that Programmers need!","title":"How to view the list of compile errors in IntelliJ?","body":"<ol>\n<li>Step One : Open Problems View(Alt+6)</li>\n<li>Step Two : Enable Wide-View\n(Top of View Options)</li>\n<li>Step Three : In tab Project Errors Click Snipp\nand Analyze Your project for finding any Problems Cat by File Type\nAnd Other Stuff that Programmers need!</li>\n</ol>\n"}],"owner":{"account_id":1378614,"reputation":30076,"user_id":1312080,"accept_rate":55,"display_name":"amphibient"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138198,"favorite_count":0,"down_vote_count":1,"up_vote_count":208,"accepted_answer_id":19366569,"answer_count":7,"score":207,"last_activity_date":1683859407,"creation_date":1381768663,"question_id":19364949,"body_markdown":"I am looking for a way to view all compile errors in IntelliJ, similar to how they are displayed in Eclipse.  I tried searching here and Google but have not really found a solution.  I really like IntelliJ, I recently converted to it from Eclipse, and I hope this is just something I am missing and not a fundamental deficiency.","title":"How to view the list of compile errors in IntelliJ?","body":"<p>I am looking for a way to view all compile errors in IntelliJ, similar to how they are displayed in Eclipse.  I tried searching here and Google but have not really found a solution.  I really like IntelliJ, I recently converted to it from Eclipse, and I hope this is just something I am missing and not a fundamental deficiency.</p>\n"},{"tags":["java","android","parcelable"],"owner":{"account_id":25646873,"reputation":27,"user_id":19414831,"display_name":"Caelles Kharida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683859379,"creation_date":1683859379,"question_id":76232812,"body_markdown":"Like the title says, I don&#39;t know why when I try passing a object that contains another object that implements parcelable with `writeParcelable` and `readParcelable` messed up the data I pass?\r\n\r\nby messed up I mean. the `ID` is read by `Name`, and `Name` is not being passed because there is nothing to receive the data, and the object may or may not be passed at all.\r\n\r\nit is fine if I simply pass Strings, Integers, Double via parcelable, but not when I try to pass an Object which also implements parcelable.\r\n\r\nMaybe I used the wrong method? to my understanding because the object contains another object which implements parcelable, I should use readParcelable and writeParcelable. But if it&#39;s wrong can anyone tell me which method I should use and how to use it?\r\n\r\nThank you in advance.\r\n\r\nhere are the parcelable Objects :\r\n\r\n**First Object** :\r\n\r\n    public class Absen implements Parcelable{\r\n      private String ID;\r\n      private String Key;\r\n      private String Name;\r\n      private int Age;\r\n      private Anak Anak;\r\n\r\n    public Absen(){\r\n        //empty constructor\r\n    }\r\n    \r\n    public Absen(String ID, String Key, String Name, int Age, Anak Anak)\r\n     {\r\n       this.ID = ID;\r\n       this.Key = Key;\r\n       this.Name = Name;\r\n       this.Anak = Anak;\r\n       this.Age = Age;\r\n     }\r\n    \r\n    @RequiresApi(api = Build.VERSION_CODES.TIRAMISU)\r\n         protected Absen (Parcel parcel)\r\n         {\r\n          this.ID = parcel.readString();\r\n          this.Key = parcel.readString();\r\n          this.Name = parcel.readString();\r\n          this.Anak = parcel.readParcelable(Anak.class.getClassLoader());\r\n          this.Age = parcel.readInt();\r\n         }\r\n    \r\n    @Override\r\n        public void writeToParcel(@NonNull Parcel parcel, int i) \r\n        {\r\n          parcel.writeString(getID());\r\n          parcel.writeString(getKey());\r\n          parcel.writeString(getName());\r\n          parcel.writeParcelable(getAnak(),i);\r\n          parcel.writeInt(getAge());\r\n        }\r\n    \r\n    @Override\r\n        public int describeContents() {\r\n            return 0;\r\n        }\r\n    \r\n    \r\n        public static final Creator&lt;Absen&gt;  CREATOR = new Creator&lt;Absen&gt;() {\r\n            @RequiresApi(api = Build.VERSION_CODES.TIRAMISU)\r\n            @Override\r\n            public Absen createFromParcel(Parcel parcel) { return new Absen(parcel);}\r\n    \r\n            @Override\r\n            public Absen[] newArray(int i) {\r\n                return new Absen[i];\r\n            }\r\n        };\r\n    \r\n       //Setters Getters....\r\n      \r\n    }\r\n\r\n**Second Object**\r\n\r\n    public class Anak implements Parcelable {\r\n          private String ID;\r\n          private String Key;\r\n          private String Name;\r\n          private String parentName;\r\n    \r\n      public Anak{\r\n        //empty constructor\r\n      }\r\n      \r\n      public Anak(String ID, String Key, String Name, String parentName)\r\n      {\r\n           this.ID = ID;\r\n           this.Key = Key;\r\n           this.Name = Name;\r\n           this.parentName = parentName;\r\n      }\r\n    \r\n      protected Anak (Parcel parcel)\r\n        {\r\n            this.ID = parcel.readString();\r\n            this.Key = parcel.readString();\r\n            this.Name = parcel.readString();\r\n            this.parentName = parcel.readString();\r\n        }\r\n    \r\n      @Override\r\n        public void writeToParcel(Parcel parcel, int i)\r\n        {\r\n            parcel.writeString(getID());\r\n            parcel.writeString(getKey());\r\n            parcel.writeString(getName());\r\n            parcel.writeString(getParentName());\r\n        }\r\n    \r\n       @Override\r\n        public int describeContents(){ return  0;}\r\n    \r\n       public static final Creator&lt;Anak&gt; CREATOR = new Creator&lt;Anak&gt;() {\r\n            @Override\r\n            public Anak createFromParcel(Parcel parcel) {\r\n                return new Anak(parcel);\r\n            }\r\n    \r\n            @Override\r\n            public Anak[] newArray(int i) {\r\n                return new Anak[i];\r\n            }\r\n        };\r\n    }","title":"why writeParcelable and readParcelable messes up the data being passed?","body":"<p>Like the title says, I don't know why when I try passing a object that contains another object that implements parcelable with <code>writeParcelable</code> and <code>readParcelable</code> messed up the data I pass?</p>\n<p>by messed up I mean. the <code>ID</code> is read by <code>Name</code>, and <code>Name</code> is not being passed because there is nothing to receive the data, and the object may or may not be passed at all.</p>\n<p>it is fine if I simply pass Strings, Integers, Double via parcelable, but not when I try to pass an Object which also implements parcelable.</p>\n<p>Maybe I used the wrong method? to my understanding because the object contains another object which implements parcelable, I should use readParcelable and writeParcelable. But if it's wrong can anyone tell me which method I should use and how to use it?</p>\n<p>Thank you in advance.</p>\n<p>here are the parcelable Objects :</p>\n<p><strong>First Object</strong> :</p>\n<pre><code>public class Absen implements Parcelable{\n  private String ID;\n  private String Key;\n  private String Name;\n  private int Age;\n  private Anak Anak;\n\npublic Absen(){\n    //empty constructor\n}\n\npublic Absen(String ID, String Key, String Name, int Age, Anak Anak)\n {\n   this.ID = ID;\n   this.Key = Key;\n   this.Name = Name;\n   this.Anak = Anak;\n   this.Age = Age;\n }\n\n@RequiresApi(api = Build.VERSION_CODES.TIRAMISU)\n     protected Absen (Parcel parcel)\n     {\n      this.ID = parcel.readString();\n      this.Key = parcel.readString();\n      this.Name = parcel.readString();\n      this.Anak = parcel.readParcelable(Anak.class.getClassLoader());\n      this.Age = parcel.readInt();\n     }\n\n@Override\n    public void writeToParcel(@NonNull Parcel parcel, int i) \n    {\n      parcel.writeString(getID());\n      parcel.writeString(getKey());\n      parcel.writeString(getName());\n      parcel.writeParcelable(getAnak(),i);\n      parcel.writeInt(getAge());\n    }\n\n@Override\n    public int describeContents() {\n        return 0;\n    }\n\n\n    public static final Creator&lt;Absen&gt;  CREATOR = new Creator&lt;Absen&gt;() {\n        @RequiresApi(api = Build.VERSION_CODES.TIRAMISU)\n        @Override\n        public Absen createFromParcel(Parcel parcel) { return new Absen(parcel);}\n\n        @Override\n        public Absen[] newArray(int i) {\n            return new Absen[i];\n        }\n    };\n\n   //Setters Getters....\n  \n}\n</code></pre>\n<p><strong>Second Object</strong></p>\n<pre><code>public class Anak implements Parcelable {\n      private String ID;\n      private String Key;\n      private String Name;\n      private String parentName;\n\n  public Anak{\n    //empty constructor\n  }\n  \n  public Anak(String ID, String Key, String Name, String parentName)\n  {\n       this.ID = ID;\n       this.Key = Key;\n       this.Name = Name;\n       this.parentName = parentName;\n  }\n\n  protected Anak (Parcel parcel)\n    {\n        this.ID = parcel.readString();\n        this.Key = parcel.readString();\n        this.Name = parcel.readString();\n        this.parentName = parcel.readString();\n    }\n\n  @Override\n    public void writeToParcel(Parcel parcel, int i)\n    {\n        parcel.writeString(getID());\n        parcel.writeString(getKey());\n        parcel.writeString(getName());\n        parcel.writeString(getParentName());\n    }\n\n   @Override\n    public int describeContents(){ return  0;}\n\n   public static final Creator&lt;Anak&gt; CREATOR = new Creator&lt;Anak&gt;() {\n        @Override\n        public Anak createFromParcel(Parcel parcel) {\n            return new Anak(parcel);\n        }\n\n        @Override\n        public Anak[] newArray(int i) {\n            return new Anak[i];\n        }\n    };\n}\n</code></pre>\n"},{"tags":["java","sockets","jdbc","tcp"],"comments":[{"owner":{"account_id":9559927,"reputation":385,"user_id":7101158,"accept_rate":83,"display_name":"yolob 21"},"score":0,"creation_date":1552831271,"post_id":53775385,"comment_id":97151674,"body_markdown":"any update on this, encountering the same error with tomcat 9.0.5, jdk 1.8_201,found the problem using visual vm","body":"any update on this, encountering the same error with tomcat 9.0.5, jdk 1.8_201,found the problem using visual vm"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683856469,"post_id":53775385,"comment_id":134434235,"body_markdown":"This doesn&#39;t have anything to do with Tomcat. The DBMS is not responding. You should certainly use read timeouts, but make them long enough not to be intrusive. Check your database server.","body":"This doesn&#39;t have anything to do with Tomcat. The DBMS is not responding. You should certainly use read timeouts, but make them long enough not to be intrusive. Check your database server."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683858132,"creation_date":1544774566,"answer_id":53775613,"question_id":53775385,"body_markdown":"&gt; But the question arises, what are all the possible reasons causing Socket Read to wait indefinitely?\r\n\r\nThe only plausible reasons for a socket read to block are:\r\n\r\n  1.  The remote server hasn&#39;t written the the data that the client is trying to read.\r\n\r\n  2.  A networking problem blocking client / server communication.\r\n\r\n---------------\r\n\r\nIn this case, the most likely explanation was that your database server was offline or stuck.","title":"Possible reasons for java.net.SocketInputStream.socketRead0","body":"<blockquote>\n<p>But the question arises, what are all the possible reasons causing Socket Read to wait indefinitely?</p>\n</blockquote>\n<p>The only plausible reasons for a socket read to block are:</p>\n<ol>\n<li><p>The remote server hasn't written the the data that the client is trying to read.</p>\n</li>\n<li><p>A networking problem blocking client / server communication.</p>\n</li>\n</ol>\n<hr />\n<p>In this case, the most likely explanation was that your database server was offline or stuck.</p>\n"}],"owner":{"account_id":12306300,"reputation":81,"user_id":8979242,"display_name":"User"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3083,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683858132,"creation_date":1544773368,"question_id":53775385,"body_markdown":"I have my application war file hosted and running on Tomcat which had been in a good state for several months now. There has been no recent changes to the Tomcat configuration or any other environment related change like the Java version on the machine or the war file itself. Also, there has been no sudden or rapid increase in the load on the server as it is an isolated environment.\r\n\r\nJust over the last few days, the calls from the client to the server hangs up the client and the trace on the server shows,\r\n\r\n     java.net.SocketInputStream.socketRead0(Native Method)\r\n     java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n     java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n     java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n     com.microsoft.sqlserver.jdbc.TDSChannel.read(IOBuffer.java:1525)\r\n     com.microsoft.sqlserver.jdbc.TDSReader.readPacket(IOBuffer.java:3274)\r\n     com.microsoft.sqlserver.jdbc.TDSCommand.startResponse(IOBuffer.java:4433)\r\n     com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:386) \r\n\r\nYes, there can be an implementation for Read Timeout to prevent the hang which will result in Socket Timeout Exception and prevent the hang of the client. But the question arises, what are all the possible **reasons** causing **Socket Read to wait indefinitely** ?\r\n\r\nI tried adding the Read Timeout which causes a huge number of exceptions at the client end and causes failures. Any help on what are the reasons for the **Socket Read not to return** and wait indefinitely?","title":"Possible reasons for java.net.SocketInputStream.socketRead0","body":"<p>I have my application war file hosted and running on Tomcat which had been in a good state for several months now. There has been no recent changes to the Tomcat configuration or any other environment related change like the Java version on the machine or the war file itself. Also, there has been no sudden or rapid increase in the load on the server as it is an isolated environment.</p>\n<p>Just over the last few days, the calls from the client to the server hangs up the client and the trace on the server shows,</p>\n<pre><code> java.net.SocketInputStream.socketRead0(Native Method)\n java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n java.net.SocketInputStream.read(SocketInputStream.java:171)\n java.net.SocketInputStream.read(SocketInputStream.java:141)\n com.microsoft.sqlserver.jdbc.TDSChannel.read(IOBuffer.java:1525)\n com.microsoft.sqlserver.jdbc.TDSReader.readPacket(IOBuffer.java:3274)\n com.microsoft.sqlserver.jdbc.TDSCommand.startResponse(IOBuffer.java:4433)\n com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:386) \n</code></pre>\n<p>Yes, there can be an implementation for Read Timeout to prevent the hang which will result in Socket Timeout Exception and prevent the hang of the client. But the question arises, what are all the possible <strong>reasons</strong> causing <strong>Socket Read to wait indefinitely</strong> ?</p>\n<p>I tried adding the Read Timeout which causes a huge number of exceptions at the client end and causes failures. Any help on what are the reasons for the <strong>Socket Read not to return</strong> and wait indefinitely?</p>\n"},{"tags":["java","collections","hashmap","garbage-collection"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1683857157,"post_id":76232696,"comment_id":134434296,"body_markdown":"We&#39;ll need to see the code in `updateSomeValueInEntity()`","body":"We&#39;ll need to see the code in <code>updateSomeValueInEntity()</code>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1683857301,"post_id":76232696,"comment_id":134434307,"body_markdown":"`cause any memory issues.` The main concern I&#39;d have is memory visibility / thread synchronization.  Mutable objects can have issues there.  But it also depends on your intended use of this map, and we don&#39;t know that.","body":"<code>cause any memory issues.</code> The main concern I&#39;d have is memory visibility / thread synchronization.  Mutable objects can have issues there.  But it also depends on your intended use of this map, and we don&#39;t know that."},{"owner":{"account_id":5342088,"reputation":33,"user_id":4258796,"display_name":"Aditya"},"score":0,"creation_date":1683857499,"post_id":76232696,"comment_id":134434323,"body_markdown":"updateSomeValueInEntity() essentially just updates some Integer fields in the Entity. It&#39;s just a simple value change based on some logic, I thought it was irrelevant here.","body":"updateSomeValueInEntity() essentially just updates some Integer fields in the Entity. It&#39;s just a simple value change based on some logic, I thought it was irrelevant here."},{"owner":{"account_id":5342088,"reputation":33,"user_id":4258796,"display_name":"Aditya"},"score":0,"creation_date":1683857527,"post_id":76232696,"comment_id":134434324,"body_markdown":"The values of the map would be eventually collected as an ArrayList()","body":"The values of the map would be eventually collected as an ArrayList()"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1683878553,"post_id":76232696,"comment_id":134436920,"body_markdown":"Since `HashMap` is not thread safe, concurrent access is out of the game anyway. For single threaded access, this works without problems. You may still avoid unnecessary hash lookups by omitting the `containsKey` check. Just use `get` in the first place and check the result for `null`. Using `compute` can even avoid the double hash lookup in the case of an absent mapping, but this may be overkill. As a reminder, before Java&#160;8, we used `HashMap` exactly that way, without `compute` or `replace`, for more than a decade…","body":"Since <code>HashMap</code> is not thread safe, concurrent access is out of the game anyway. For single threaded access, this works without problems. You may still avoid unnecessary hash lookups by omitting the <code>containsKey</code> check. Just use <code>get</code> in the first place and check the result for <code>null</code>. Using <code>compute</code> can even avoid the double hash lookup in the case of an absent mapping, but this may be overkill. As a reminder, before Java 8, we used <code>HashMap</code> exactly that way, without <code>compute</code> or <code>replace</code>, for more than a decade…"}],"owner":{"account_id":5342088,"reputation":33,"user_id":4258796,"display_name":"Aditya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683856995,"creation_date":1683856995,"question_id":76232696,"body_markdown":"I&#39;m using a ```HashMap``` in java 11 to store a ```String``` and ```Object``` mapping.\r\nThe logic: \r\n```\r\nif (map.containsKey(someStringValue)) {\r\n   Object existingItem = map.get(someStringValue);\r\n   updateSomeValueInEntity(existingItem);\r\n}\r\nelse {\r\n   Object someEntity = generateNewEntity(someItemId);\r\n   map.put(someStringValue, someEntity);\r\n}\r\n```\r\n\r\nThis code works since ```map.get()``` would return the reference of the value. The update operation on this reference would in turn update the value in the map for that particular key. Therefore, I need not do ```map.put()``` for the updated value or any other fancy map functions available such as ```replace()``` or ```compute()```. \r\n\r\nLooking at these new HashMap functions, I&#39;m wondering if my code would cause any memory issues. It technically shouldn&#39;t since I&#39;m updating the same reference associated to the key without creating any new assigned references which I might not use there by missing out on garbage collecting and causing memory issues. \r\n\r\nI&#39;m still curious if for my use-case I need to use HashMap update methods or if my implementation is fine and has no memory wastage concerns. ","title":"Update Operations in a java HashMap","body":"<p>I'm using a <code>HashMap</code> in java 11 to store a <code>String</code> and <code>Object</code> mapping.\nThe logic:</p>\n<pre><code>if (map.containsKey(someStringValue)) {\n   Object existingItem = map.get(someStringValue);\n   updateSomeValueInEntity(existingItem);\n}\nelse {\n   Object someEntity = generateNewEntity(someItemId);\n   map.put(someStringValue, someEntity);\n}\n</code></pre>\n<p>This code works since <code>map.get()</code> would return the reference of the value. The update operation on this reference would in turn update the value in the map for that particular key. Therefore, I need not do <code>map.put()</code> for the updated value or any other fancy map functions available such as <code>replace()</code> or <code>compute()</code>.</p>\n<p>Looking at these new HashMap functions, I'm wondering if my code would cause any memory issues. It technically shouldn't since I'm updating the same reference associated to the key without creating any new assigned references which I might not use there by missing out on garbage collecting and causing memory issues.</p>\n<p>I'm still curious if for my use-case I need to use HashMap update methods or if my implementation is fine and has no memory wastage concerns.</p>\n"},{"tags":["java","android","user-interface"],"answers":[{"comments":[{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1682901291,"post_id":76144186,"comment_id":134283174,"body_markdown":"provided that the layout is a ```ScrollView```.","body":"provided that the layout is a <code>ScrollView</code>."},{"owner":{"account_id":11052429,"reputation":478,"user_id":10089200,"display_name":"Shout"},"score":0,"creation_date":1682945387,"post_id":76144186,"comment_id":134287717,"body_markdown":"I don&#39;t know maybe I&#39;m doing something wrong, but it didn&#39;t help. I&#39;ve just edited the question to show how the scrollview looks in my case. Maybe you&#39;ll spot something that&#39;d help me.","body":"I don&#39;t know maybe I&#39;m doing something wrong, but it didn&#39;t help. I&#39;ve just edited the question to show how the scrollview looks in my case. Maybe you&#39;ll spot something that&#39;d help me."},{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1683260627,"post_id":76144186,"comment_id":134342760,"body_markdown":"so, constraint layout should almost always be parent as it is all-encapsulating. so in your layout, make your scrollview the immediate child of your constraint layout","body":"so, constraint layout should almost always be parent as it is all-encapsulating. so in your layout, make your scrollview the immediate child of your constraint layout"},{"owner":{"account_id":11052429,"reputation":478,"user_id":10089200,"display_name":"Shout"},"score":0,"creation_date":1683290919,"post_id":76144186,"comment_id":134348127,"body_markdown":"Nah, it still does not work. I don&#39;t know maybe the `BottomSheetDialog` class does not support it, because my main fragment layout also uses a `ScrollView` and it works, but somehow for the `BottomSheetDialog` it does not. I did exactly as you&#39;ve shown. Constraint Layout -&gt; ScrollView (with constraints properties) -&gt; Linear Layout -&gt; Widgets (of course without constraints properties, because they&#39;re in a linear layout). Still the same","body":"Nah, it still does not work. I don&#39;t know maybe the <code>BottomSheetDialog</code> class does not support it, because my main fragment layout also uses a <code>ScrollView</code> and it works, but somehow for the <code>BottomSheetDialog</code> it does not. I did exactly as you&#39;ve shown. Constraint Layout -&gt; ScrollView (with constraints properties) -&gt; Linear Layout -&gt; Widgets (of course without constraints properties, because they&#39;re in a linear layout). Still the same"}],"tags":[],"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683856522,"creation_date":1682901235,"answer_id":76144186,"question_id":76142235,"body_markdown":"__Update:__\r\nIf we are using ```ConstraintLayout```, then the entire thing becomes simpler. Consider the following example, no matter how much content there is, ```pane2``` will always show up at the bottom, and even be raised on top of the appearing keyboard. This is because it was instructed to always be at the bottom. Also notice how ```pane1``` was all nested inside a ```ScrollView``` so that it can grow depending on screen height/ content etc. Basically, we just separated the information providing panel and submission panels. Hope this solves it.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n\txmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\tandroid:layout_width=&quot;match_parent&quot;\r\n\tandroid:layout_height=&quot;match_parent&quot;\r\n\txmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\t&lt;ScrollView\r\n\t\tandroid:id=&quot;@+id/pane1&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;0dp&quot;\r\n\t\tapp:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n\t\tapp:layout_constraintBottom_toTopOf=&quot;@id/pane2&quot;\r\n\t\tapp:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n\t\tapp:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\r\n\t\t&lt;LinearLayout\r\n\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\tandroid:orientation=&quot;vertical&quot;\r\n\t\t\tandroid:gravity=&quot;top&quot;&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t&lt;/LinearLayout&gt;\r\n\t&lt;/ScrollView&gt;\r\n\t&lt;LinearLayout\r\n\t\tandroid:id=&quot;@+id/pane2&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:orientation=&quot;vertical&quot;\r\n\t\tapp:layout_constraintTop_toBottomOf=&quot;@id/pane1&quot;\r\n\t\tapp:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n\t\tapp:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n\t\tapp:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\r\n\t\t&lt;Button android:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\tandroid:text=&quot;SUBMIT&quot;/&gt;\r\n\t&lt;/LinearLayout&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n_----------------------------------------------------------------_\r\n\r\nThe issue is handled by adding ```android:isScrollContainer=&quot;true&quot;``` to the immediate layout in quesiton for target layout xml file.\r\n\r\nUpdate: What you need to do is declare a scrollview and put all the children inside. scrollview doesn&#39;t allow that so you&#39;ll need to encase all them within a linearlayout. then add the property ```android:isScrollContainer``` in your __Scrollview__ tag and set its value to ```true```. remember, _non-direct_ children of the constaint view should not have constraint attributes. only direct children has them. so once your textviews are inside the scrollview, only the scrollview should have the constraint properties, and they should no longer be there on your textviews as they would be __inside__ the scrollview and not __directly__ inside the main constraintlayout.\r\n\r\n```\r\n&lt;ScrollView\r\n\tandroid:layout_width....\r\n\tandroid:isScrollContainer=&quot;true&quot;\r\n\tconstraint-props....&gt;\r\n\t&lt;LinearLayout\r\n\t\t.....\r\n\t\tandroid:orientation=&quot;vertical&quot;&gt;\r\n\t\t... child\r\n\t\t... child\r\n\t\t... child\r\n\t&lt;/LinearLayout&gt;\r\n&lt;/ScrollView&gt;\r\n```","title":"How to adjust bottom sheet dialog when the keyboard shows up","body":"<p><strong>Update:</strong>\nIf we are using <code>ConstraintLayout</code>, then the entire thing becomes simpler. Consider the following example, no matter how much content there is, <code>pane2</code> will always show up at the bottom, and even be raised on top of the appearing keyboard. This is because it was instructed to always be at the bottom. Also notice how <code>pane1</code> was all nested inside a <code>ScrollView</code> so that it can grow depending on screen height/ content etc. Basically, we just separated the information providing panel and submission panels. Hope this solves it.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;ScrollView\n        android:id=&quot;@+id/pane1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/pane2&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:gravity=&quot;top&quot;&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/ScrollView&gt;\n    &lt;LinearLayout\n        android:id=&quot;@+id/pane2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/pane1&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\n        &lt;Button android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;SUBMIT&quot;/&gt;\n    &lt;/LinearLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><em>----------------------------------------------------------------</em></p>\n<p>The issue is handled by adding <code>android:isScrollContainer=&quot;true&quot;</code> to the immediate layout in quesiton for target layout xml file.</p>\n<p>Update: What you need to do is declare a scrollview and put all the children inside. scrollview doesn't allow that so you'll need to encase all them within a linearlayout. then add the property <code>android:isScrollContainer</code> in your <strong>Scrollview</strong> tag and set its value to <code>true</code>. remember, <em>non-direct</em> children of the constaint view should not have constraint attributes. only direct children has them. so once your textviews are inside the scrollview, only the scrollview should have the constraint properties, and they should no longer be there on your textviews as they would be <strong>inside</strong> the scrollview and not <strong>directly</strong> inside the main constraintlayout.</p>\n<pre><code>&lt;ScrollView\n    android:layout_width....\n    android:isScrollContainer=&quot;true&quot;\n    constraint-props....&gt;\n    &lt;LinearLayout\n        .....\n        android:orientation=&quot;vertical&quot;&gt;\n        ... child\n        ... child\n        ... child\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n"}],"owner":{"account_id":11052429,"reputation":478,"user_id":10089200,"display_name":"Shout"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683856522,"creation_date":1682870723,"question_id":76142235,"body_markdown":"I want to achieve a similar effect as this application:\r\n\r\nWithout a keyboard:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nwith a keyboard:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nmy code looks like this:\r\n\r\nrecovery_password_dialog.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:id=&quot;@+id/parent&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView6&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:text=&quot;Odzyskiwanie hasła&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/message&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:text=&quot;Wpisz sw&#243;j email, a my wyślemy wiadomość w celu zresetowania hasła&quot;\r\n        android:textSize=&quot;15sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/textView6&quot;/&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/email_input_layout&quot;\r\n        android:hint=&quot;@string/email&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:counterMaxLength=&quot;64&quot;\r\n        app:startIconDrawable=&quot;@drawable/mail_icon&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/message&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.1&quot;\r\n        app:layout_constraintWidth_percent=&quot;0.9&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/email&quot;\r\n            android:inputType=&quot;textEmailAddress&quot;/&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/invalidEmailText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/invalid_email&quot;\r\n        android:textColor=&quot;@color/red&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/email_input_layout&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.1&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/sendEmail&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/rounding_rect&quot;\r\n        android:text=&quot;@string/send_email&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:layout_marginBottom=&quot;50dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/invalidEmailText&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n        app:layout_constraintWidth_percent=&quot;0.9&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nLoginFragment.java\r\n```java\r\nvar recoverPasswordButton = binding.recoverPassword;\r\nrecoverPasswordButton.setOnClickListener(v -&gt; {\r\n    var inflater = LayoutInflater.from(requireContext());\r\n    var bottomSheetDialog = new BottomSheetDialog(requireContext(), R.style.BottomSheetDialogTheme);\r\n    var sheetBinding = RecoveryPasswordDialogBinding.inflate(inflater);\r\n    bottomSheetDialog.setContentView(sheetBinding.getRoot());\r\n    bottomSheetDialog.show();\r\n});\r\n```\r\n\r\njust a simple code that only shows a dialog window without any widgets functionalities yet.\r\n\r\nresult:\r\n[![enter image description here][3]][3] \r\n[![enter image description here][4]][4]\r\n\r\n\r\nI don&#39;t care about the theme right now. Colors don&#39;t matter. What matters is that the button hides under the keyboard which is not what I want. I&#39;ve read that `windowSoftInputMode` may help with this, but my default setup has it already configured: `android:windowSoftInputMode=&quot;stateHidden|adjustResize&quot;`. There was also written that ScrollView may help, but it actually doesn&#39;t change anything.\r\n\r\nAny ideas on how can I achieve the second screenshot effect?\r\n\r\n**EDIT** with scrollview\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fillViewport=&quot;true&quot;\r\n    android:isScrollContainer=&quot;true&quot;&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        android:id=&quot;@+id/parent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView6&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            android:text=&quot;@string/password_recovery&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/message&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            android:text=&quot;Wpisz sw&#243;j email, a my wyślemy wiadomość w celu zresetowania hasła&quot;\r\n            android:textSize=&quot;15sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/textView6&quot;/&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/email_input_layout&quot;\r\n            android:hint=&quot;@string/email&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:counterMaxLength=&quot;64&quot;\r\n            app:startIconDrawable=&quot;@drawable/mail_icon&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/message&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.1&quot;\r\n            app:layout_constraintWidth_percent=&quot;0.9&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\r\n\r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/email&quot;\r\n                android:inputType=&quot;textEmailAddress&quot;/&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/invalidEmailText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/invalid_email&quot;\r\n            android:textColor=&quot;@color/red&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:visibility=&quot;invisible&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/email_input_layout&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.1&quot;/&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/sendEmail&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@drawable/rounding_rect&quot;\r\n            android:text=&quot;@string/send_email&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_marginBottom=&quot;50dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/invalidEmailText&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n            app:layout_constraintWidth_percent=&quot;0.9&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/mgTth.jpg\r\n  [2]: https://i.stack.imgur.com/iaQ4n.jpg\r\n  [3]: https://i.stack.imgur.com/yIEcS.png\r\n  [4]: https://i.stack.imgur.com/7MQOl.png","title":"How to adjust bottom sheet dialog when the keyboard shows up","body":"<p>I want to achieve a similar effect as this application:</p>\n<p>Without a keyboard:</p>\n<p><a href=\"https://i.stack.imgur.com/mgTth.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mgTth.jpg\" alt=\"enter image description here\" /></a></p>\n<p>with a keyboard:</p>\n<p><a href=\"https://i.stack.imgur.com/iaQ4n.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iaQ4n.jpg\" alt=\"enter image description here\" /></a></p>\n<p>my code looks like this:</p>\n<p>recovery_password_dialog.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:id=&quot;@+id/parent&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView6&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;10dp&quot;\n        android:text=&quot;Odzyskiwanie hasła&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/message&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;10dp&quot;\n        android:text=&quot;Wpisz swój email, a my wyślemy wiadomość w celu zresetowania hasła&quot;\n        android:textSize=&quot;15sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textAlignment=&quot;center&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/textView6&quot;/&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/email_input_layout&quot;\n        android:hint=&quot;@string/email&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:counterMaxLength=&quot;64&quot;\n        app:startIconDrawable=&quot;@drawable/mail_icon&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/message&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintVertical_bias=&quot;0.1&quot;\n        app:layout_constraintWidth_percent=&quot;0.9&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/email&quot;\n            android:inputType=&quot;textEmailAddress&quot;/&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/invalidEmailText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/invalid_email&quot;\n        android:textColor=&quot;@color/red&quot;\n        android:textStyle=&quot;bold&quot;\n        android:visibility=&quot;invisible&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/email_input_layout&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.1&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/sendEmail&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/rounding_rect&quot;\n        android:text=&quot;@string/send_email&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;16sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:layout_marginBottom=&quot;50dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/invalidEmailText&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot;\n        app:layout_constraintWidth_percent=&quot;0.9&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>LoginFragment.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>var recoverPasswordButton = binding.recoverPassword;\nrecoverPasswordButton.setOnClickListener(v -&gt; {\n    var inflater = LayoutInflater.from(requireContext());\n    var bottomSheetDialog = new BottomSheetDialog(requireContext(), R.style.BottomSheetDialogTheme);\n    var sheetBinding = RecoveryPasswordDialogBinding.inflate(inflater);\n    bottomSheetDialog.setContentView(sheetBinding.getRoot());\n    bottomSheetDialog.show();\n});\n</code></pre>\n<p>just a simple code that only shows a dialog window without any widgets functionalities yet.</p>\n<p>result:\n<a href=\"https://i.stack.imgur.com/yIEcS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yIEcS.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/7MQOl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7MQOl.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't care about the theme right now. Colors don't matter. What matters is that the button hides under the keyboard which is not what I want. I've read that <code>windowSoftInputMode</code> may help with this, but my default setup has it already configured: <code>android:windowSoftInputMode=&quot;stateHidden|adjustResize&quot;</code>. There was also written that ScrollView may help, but it actually doesn't change anything.</p>\n<p>Any ideas on how can I achieve the second screenshot effect?</p>\n<p><strong>EDIT</strong> with scrollview</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fillViewport=&quot;true&quot;\n    android:isScrollContainer=&quot;true&quot;&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        tools:context=&quot;.MainActivity&quot;\n        android:id=&quot;@+id/parent&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView6&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;10dp&quot;\n            android:text=&quot;@string/password_recovery&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/message&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;10dp&quot;\n            android:text=&quot;Wpisz swój email, a my wyślemy wiadomość w celu zresetowania hasła&quot;\n            android:textSize=&quot;15sp&quot;\n            android:textStyle=&quot;bold&quot;\n            android:textAlignment=&quot;center&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/textView6&quot;/&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/email_input_layout&quot;\n            android:hint=&quot;@string/email&quot;\n            app:endIconMode=&quot;clear_text&quot;\n            app:counterMaxLength=&quot;64&quot;\n            app:startIconDrawable=&quot;@drawable/mail_icon&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/message&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n            app:layout_constraintVertical_bias=&quot;0.1&quot;\n            app:layout_constraintWidth_percent=&quot;0.9&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:id=&quot;@+id/email&quot;\n                android:inputType=&quot;textEmailAddress&quot;/&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/invalidEmailText&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/invalid_email&quot;\n            android:textColor=&quot;@color/red&quot;\n            android:textStyle=&quot;bold&quot;\n            android:visibility=&quot;invisible&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/email_input_layout&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.1&quot;/&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/sendEmail&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@drawable/rounding_rect&quot;\n            android:text=&quot;@string/send_email&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;16sp&quot;\n            android:textStyle=&quot;bold&quot;\n            android:layout_marginBottom=&quot;50dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/invalidEmailText&quot;\n            app:layout_constraintVertical_bias=&quot;0.0&quot;\n            app:layout_constraintWidth_percent=&quot;0.9&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n"},{"tags":["java","date","simpledateformat","date-format"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1683852390,"post_id":76232447,"comment_id":134433887,"body_markdown":"`&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;` is not the same as `&quot;2023-03-13 12:00:02&quot;` - you parsing format needs to match the expected input `String` otherwise it won&#39;t work. I&#39;d also encourage you to stop using the `java.util` based date/time classes and make use of the newer `java.time` APIs instead","body":"<code>&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;</code> is not the same as <code>&quot;2023-03-13 12:00:02&quot;</code> - you parsing format needs to match the expected input <code>String</code> otherwise it won&#39;t work. I&#39;d also encourage you to stop using the <code>java.util</code> based date/time classes and make use of the newer <code>java.time</code> APIs instead"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1683852739,"post_id":76232447,"comment_id":134433914,"body_markdown":"I&#39;m assuming your trying to present nano seconds and not milliseconds, which `SimpleDateFormat` doesn&#39;t support, instead you should be trying to use something more like `LocalDateTime.parse(dateService, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)).format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy, HH:mm:ss.nnnnnnnn&quot;))`","body":"I&#39;m assuming your trying to present nano seconds and not milliseconds, which <code>SimpleDateFormat</code> doesn&#39;t support, instead you should be trying to use something more like <code>LocalDateTime.parse(dateService, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)).format(DateTimeFormatter.ofPattern(&quot;dd&#47;MM&#47;yyyy, HH:mm:ss.nnnnnnnn&quot;))</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1683860319,"post_id":76232447,"comment_id":134434525,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDateTime` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDateTime</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683988309,"post_id":76232447,"comment_id":134452431,"body_markdown":"`LocalDateTime .parse(&quot;2023-03-13 12:00:02&quot;, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;)) .format(DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss.SSSSSSSSS&quot;))`. It yields `13-03-2023 12:00:02.000000000`.","body":"<code>LocalDateTime .parse(&quot;2023-03-13 12:00:02&quot;, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;)) .format(DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss.SSSSSSSSS&quot;))</code>. It yields <code>13-03-2023 12:00:02.000000000</code>."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1683860668,"post_id":76232571,"comment_id":134434546,"body_markdown":"Thanks for wanting to contribute. Your way of doing it is strongly discouraged. We should all have stopped using `SimpleDateFormat` a long time ago since it is so troublesome to work with. Use [java.time, the moddern java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). And when you use its `DateTimeFormatter`, beware of the case of format pattern letters. You don’t want lower case `hh` here.","body":"Thanks for wanting to contribute. Your way of doing it is strongly discouraged. We should all have stopped using <code>SimpleDateFormat</code> a long time ago since it is so troublesome to work with. Use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the moddern java date and time API</a>. And when you use its <code>DateTimeFormatter</code>, beware of the case of format pattern letters. You don’t want lower case <code>hh</code> here."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683874923,"post_id":76232571,"comment_id":134436210,"body_markdown":"also using `SimpleDateFormat`, as posted here, will not work correctly if using `hh` (12-hour format) (e.g. `formatoFechaFinBd(&quot;2022-10-20 15:16:17&quot;)` will return `&quot;20-10-2022 03:16:17.000000000&quot;`) || `SSSSSSSSS`  would also be wrong if input format had milliseconds","body":"also using <code>SimpleDateFormat</code>, as posted here, will not work correctly if using <code>hh</code> (12-hour format) (e.g. <code>formatoFechaFinBd(&quot;2022-10-20 15:16:17&quot;)</code> will return <code>&quot;20-10-2022 03:16:17.000000000&quot;</code>) || <code>SSSSSSSSS</code>  would also be wrong if input format had milliseconds"}],"tags":[],"owner":{"account_id":11389357,"reputation":9,"user_id":8349982,"display_name":"baoyinlei"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683854611,"creation_date":1683854611,"answer_id":76232571,"question_id":76232447,"body_markdown":"```\r\nstatic String formatoFechaFinBd(String dateService) throws ParseException {\r\n        Date date = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).parse(dateService);\r\n        String formattedDate = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss.SSSSSSSSS&quot;).format(date);\r\n        return formattedDate;\r\n    }\r\n```","title":"How to format a date inside a String with Java?","body":"<pre><code>static String formatoFechaFinBd(String dateService) throws ParseException {\n        Date date = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).parse(dateService);\n        String formattedDate = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss.SSSSSSSSS&quot;).format(date);\n        return formattedDate;\n    }\n</code></pre>\n"}],"owner":{"account_id":9015198,"reputation":141,"user_id":7552035,"display_name":"Root93"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683860408,"answer_count":1,"score":0,"last_activity_date":1683854611,"creation_date":1683852070,"question_id":76232447,"body_markdown":"I have a String that receives the following date format (yyyy-MM-dd ...)\r\n\r\n&gt; &quot;2023-03-13 12:00:02&quot;\r\n\r\nand i need to change the format to the following (dd-MM-yyyy ...) \r\n\r\n    &quot;13-03-2023 12:00:02.000000000&quot;\r\n\r\nI tried to build the following method but it doesn&#39;t work and I don&#39;t have much idea how it should be\r\n\r\n    String formatoFechaFinBd(String dateService) throws ParseException {\r\n    \t\tDate date = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;).parse(dateService);\r\n    \t\t\r\n    \t\tString formattedDate = new SimpleDateFormat(&quot;dd/MM/yyyy, Ka&quot;).format(date);\r\n    \t    return formattedDate;\r\n    \t}\r\n\r\n\r\nHow can I do the conversion I need to get that date format in the String","title":"How to format a date inside a String with Java?","body":"<p>I have a String that receives the following date format (yyyy-MM-dd ...)</p>\n<blockquote>\n<p>&quot;2023-03-13 12:00:02&quot;</p>\n</blockquote>\n<p>and i need to change the format to the following (dd-MM-yyyy ...)</p>\n<pre><code>&quot;13-03-2023 12:00:02.000000000&quot;\n</code></pre>\n<p>I tried to build the following method but it doesn't work and I don't have much idea how it should be</p>\n<pre><code>String formatoFechaFinBd(String dateService) throws ParseException {\n        Date date = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;).parse(dateService);\n        \n        String formattedDate = new SimpleDateFormat(&quot;dd/MM/yyyy, Ka&quot;).format(date);\n        return formattedDate;\n    }\n</code></pre>\n<p>How can I do the conversion I need to get that date format in the String</p>\n"},{"tags":["java","antlr","antlr4","abstract-syntax-tree"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683833372,"post_id":76229894,"comment_id":134431138,"body_markdown":"Does this answer your question? [How to create AST with ANTLR4?](https://stackoverflow.com/questions/29971097/how-to-create-ast-with-antlr4)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29971097/how-to-create-ast-with-antlr4\">How to create AST with ANTLR4?</a>"},{"owner":{"account_id":28546856,"reputation":11,"user_id":21852177,"display_name":"Bj&#248;rn Jakobsen"},"score":0,"creation_date":1683910675,"post_id":76229894,"comment_id":134444257,"body_markdown":"@aled The answer was not quite what I needed, but it gave me the inspiration I needed to fix it and it now works flawlessly.","body":"@aled The answer was not quite what I needed, but it gave me the inspiration I needed to fix it and it now works flawlessly."}],"answers":[{"tags":[],"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683854598,"creation_date":1683854598,"answer_id":76232570,"question_id":76229894,"body_markdown":"This construct:\r\n```\r\nstmts : s1=stmt s2=stmts\r\n        | ;\r\nstmt : INTVAL &#39;;&#39; ;\r\n```\r\n\r\nWill create a parse tree that is n nodes deep where n is the number of `stmt`s, and each level will have its own `stmts` node.  This will make it a bit cumbersome to navigate to the &quot;parent&quot; of the top level `stmts` node.  \r\n\r\nThis is not an uncommon structure in parser generators less expressive than ANTLR.  However, in ANTLR you can get the same ability to parse &quot;one or more `stmt`s&quot; as a `stmts` rule, like so:\r\n\r\n```\r\nstmts: stmt+;\r\n```\r\n\r\nIf you take a look at the Ctx class generated for this rule, you&#39;ll find that all of your `stmt`s will be in a list in the `stmts` Ctx.  You won&#39;t have to trace up an extended tree to find the root `stmts`&#39;s parent.\r\n\r\nYou don&#39;t provide sample input so it&#39;s not easy to provide images of the difference between the parse trees, but you can use the `grun` alias, an ANTLR plugin for your IDE or [Antlr Lab][1] to see the difference in the two parse trees. Take a look at the parse tree with and without the changes, and it should be obvious that using `+` to build the list produces a parse tree that&#39;s much more manageable.\r\n\r\nThis should make it much easier to gather all of the `stmt` nodes that are the children of your `stmts` node (and you&#39;ll only have a single `stmts` node that just contains a list of the `stmt` children).\r\n\r\nNote:  You may even find, that it simplifies things enough that you can change:\r\n\r\n```\r\nsetup : SETUP LCURLY s=stmts RCURLY ;\r\nround : ROUND LCURLY s=stmts RCURLY ;\r\n```\r\n\r\nto:\r\n\r\n```\r\nsetup : SETUP LCURLY s=stmt+ RCURLY ;\r\nround : ROUND LCURLY s=stmt+ RCURLY ;\r\n```\r\nand drop the `stmts` rule entirely. \r\n\r\n  [1]: http://lab.antlr.org","title":"How do I choose a parent node when building an AST in antlr4?","body":"<p>This construct:</p>\n<pre><code>stmts : s1=stmt s2=stmts\n        | ;\nstmt : INTVAL ';' ;\n</code></pre>\n<p>Will create a parse tree that is n nodes deep where n is the number of <code>stmt</code>s, and each level will have its own <code>stmts</code> node.  This will make it a bit cumbersome to navigate to the &quot;parent&quot; of the top level <code>stmts</code> node.</p>\n<p>This is not an uncommon structure in parser generators less expressive than ANTLR.  However, in ANTLR you can get the same ability to parse &quot;one or more <code>stmt</code>s&quot; as a <code>stmts</code> rule, like so:</p>\n<pre><code>stmts: stmt+;\n</code></pre>\n<p>If you take a look at the Ctx class generated for this rule, you'll find that all of your <code>stmt</code>s will be in a list in the <code>stmts</code> Ctx.  You won't have to trace up an extended tree to find the root <code>stmts</code>'s parent.</p>\n<p>You don't provide sample input so it's not easy to provide images of the difference between the parse trees, but you can use the <code>grun</code> alias, an ANTLR plugin for your IDE or <a href=\"http://lab.antlr.org\" rel=\"nofollow noreferrer\">Antlr Lab</a> to see the difference in the two parse trees. Take a look at the parse tree with and without the changes, and it should be obvious that using <code>+</code> to build the list produces a parse tree that's much more manageable.</p>\n<p>This should make it much easier to gather all of the <code>stmt</code> nodes that are the children of your <code>stmts</code> node (and you'll only have a single <code>stmts</code> node that just contains a list of the <code>stmt</code> children).</p>\n<p>Note:  You may even find, that it simplifies things enough that you can change:</p>\n<pre><code>setup : SETUP LCURLY s=stmts RCURLY ;\nround : ROUND LCURLY s=stmts RCURLY ;\n</code></pre>\n<p>to:</p>\n<pre><code>setup : SETUP LCURLY s=stmt+ RCURLY ;\nround : ROUND LCURLY s=stmt+ RCURLY ;\n</code></pre>\n<p>and drop the <code>stmts</code> rule entirely.</p>\n"}],"owner":{"account_id":28546856,"reputation":11,"user_id":21852177,"display_name":"Bj&#248;rn Jakobsen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76232570,"answer_count":1,"score":0,"last_activity_date":1683854598,"creation_date":1683823512,"question_id":76229894,"body_markdown":"I have the following AST: \r\n```\r\nimport org.antlr.v4.runtime.CommonToken;\r\nimport org.antlr.v4.runtime.Token;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\npublic class AST {\r\n    Token token;             // from which token do we create this node?\r\n    List&lt;AST&gt; children;      // normalized list of children\r\n\r\n    public AST() { ; } // for making nil-rooted nodes\r\n\r\n    public AST(Token token) { this.token = token; }\r\n\r\n    /** Create node from token type; used mainly for imaginary tokens */\r\n    public AST(int tokenType) { this.token = new CommonToken(tokenType); }\r\n\r\n    /** external visitors execute the same action for all nodes\r\n     * with same node type while walking\r\n     */\r\n    public int getNodeType() { return token.getType(); }\r\n\r\n    public void addChild(AST t) {\r\n        if (children == null) children = new ArrayList&lt;&gt;();\r\n        children.add(t);\r\n    }\r\n    public void addChildren(AST... nodes) {\r\n        List&lt;AST&gt; asts = new ArrayList&lt;AST&gt;();\r\n        for (AST node : nodes){asts.add(node);}\r\n        for (int i = 0; i &lt; asts.size(); i++) {\r\n            this.addChild(asts.get(i));\r\n        }\r\n    }\r\n\r\n    public List&lt;AST&gt; getChildren() { return children; }\r\n\r\n    /** to represent flat lists. A list is a subtree w/o a root, which we simulate\r\n     * with a nil root node. A nil node is a node with token == null.\r\n     */\r\n    public boolean isNil() { return token == null; }\r\n\r\n    /** Compute string for single node */\r\n    public String toString() {\r\n        String typeName = CLUBParser.VOCABULARY.getSymbolicName(getNodeType());\r\n        typeName = typeName == null ? token.getText() : typeName;\r\n        return token != null ? &quot;&lt;&quot; +typeName +&quot;, &#39;&quot; + token.getText() +&quot;&#39;&gt;&quot;: &quot;nil&quot;;\r\n    }\r\n\r\n    /** Compute string for a whole tree */\r\n    public String toStringTree() {\r\n        if (children == null || children.isEmpty()) return this.toString();\r\n\r\n        StringBuilder buf = new StringBuilder();\r\n        if (!isNil()) {\r\n            buf.append(&#39;(&#39;);\r\n            buf.append(this.toString());\r\n            buf.append(&#39; &#39;);\r\n        }\r\n        for (int i = 0; i &lt; children.size(); i++) {\r\n            AST t = children.get(i); // normalized (unnamed) children\r\n            if (t != null) {  // Null check\r\n                if (i &gt; 0) buf.append(&#39; &#39;);\r\n                buf.append(t.toStringTree());\r\n            }\r\n        }\r\n        if (!isNil()) buf.append(&#39;)&#39;);\r\n        return buf.toString();\r\n    }\r\n}\r\n```\r\nThis Grammar:\r\n\r\n```\r\ngrammar CLUB;\r\n\r\nprogram : setup round turn funcs EOF ;\r\nsetup : SETUP LCURLY s=stmts RCURLY ;\r\nround : ROUND LCURLY s=stmts RCURLY ;\r\nturn : TURN &#39;(&#39; CLASSID VARID &#39;)&#39; &#39;{&#39; s=stmts &#39;}&#39;\r\n        | ;\r\nfuncs : func+\r\n        | ;\r\nstmts : s1=stmt s2=stmts\r\n        | ;\r\nfunc : FUNCID &#39;(&#39; tParams &#39;)&#39; &#39;{&#39; stmts &#39;}&#39;\r\n        | FUNCID &#39;(&#39; &#39;)&#39; &#39;{&#39; stmts &#39;}&#39; ;\r\ntParams : tParam &#39;,&#39; tParams;\r\nstmt : INTVAL &#39;;&#39; ;\r\niterStmt : &#39;while&#39; &#39;(&#39; expr &#39;)&#39; &#39;{&#39; stmts &#39;}&#39;\r\n        | &#39;for&#39; &#39;(&#39; decl &#39;;&#39; expr &#39;;&#39; postfExpr &#39;)&#39; &#39;{&#39; stmts &#39;}&#39; ;\r\nselectStmt : &#39;if&#39; &#39;(&#39; expr &#39;)&#39; &#39;{&#39; stmts &#39;}&#39; ;\r\nexprStmt : expr ;\r\ntype : &#39;bool&#39;\r\n        | &#39;int&#39;\r\n        | &#39;string&#39; ;\r\ntParam : type VARID ;\r\nparams : param &#39;,&#39; params\r\n        |&#39;[&#39;list&#39;]&#39; &#39;,&#39; param\r\n        | param ;\r\nlist : OBJID &#39;,&#39; list\r\n        | OBJID ;\r\nparam : assignExpr ;\r\nexpr : assignExpr ;\r\nassignExpr : logicOrExpr\r\n        | primaryExpr &#39;=&#39; assignExpr ;\r\nlogicOrExpr : logicAndExpr\r\n        | logicOrExpr &#39;||&#39; logicAndExpr ;\r\nlogicAndExpr : equalExpr\r\n        | logicAndExpr &#39;&amp;&amp;&#39; equalExpr ;\r\nequalExpr : relatExpr\r\n        | equalExpr &#39;==&#39; relatExpr\r\n        | equalExpr &#39;!=&#39; relatExpr ;\r\nrelatExpr : addExpr\r\n        | relatExpr &#39;&lt;&#39; addExpr\r\n        | relatExpr &#39;&gt;&#39; addExpr\r\n        | relatExpr &#39;&lt;=&#39; addExpr\r\n        | relatExpr &#39;&gt;=&#39; addExpr ;\r\naddExpr : multExpr\r\n        | addExpr &#39;+&#39; multExpr\r\n        | addExpr &#39;-&#39; multExpr ;\r\nmultExpr : unaryExpr\r\n        | multExpr &#39;*&#39; unaryExpr\r\n        | multExpr &#39;/&#39; unaryExpr ;\r\nunaryExpr : postfExpr\r\n        | &#39;-&#39; postfExpr\r\n        | &#39;!&#39; postfExpr ;\r\npostfExpr : primaryExpr\r\n        | primaryExpr &#39;++&#39;\r\n        | primaryExpr &#39;--&#39;\r\n        | primaryExpr &#39;(&#39; params &#39;)&#39;\r\n        | primaryExpr &#39;(&#39;  &#39;)&#39;\r\n        | METHODID &#39;(&#39; params &#39;)&#39;\r\n        | METHODID &#39;(&#39; &#39;)&#39;\r\n        | primaryExpr &#39;.&#39; postfExpr ;\r\nprimaryExpr : val\r\n        | VARID\r\n        | OBJID\r\n        | FUNCID\r\n        | CLASSID ;\r\nval : BOOLVAL\r\n        | INTVAL\r\n        | STRINGVAL  ;\r\ndecl : tParam &#39;=&#39; logicOrExpr ;\r\n\r\nAND : &#39;&amp;&amp;&#39; ;\r\nOR : &#39;||&#39; ;\r\nEQ : &#39;==&#39; ;\r\nNOTEQ : &#39;!=&#39; ;\r\nSMALLER : &#39;&lt;&#39; ;\r\nLARGER : &#39;&gt;&#39; ;\r\nSMALLEREQ : &#39;&lt;=&#39; ;\r\nBIGGEREQ : &#39;&gt;=&#39; ;\r\nINCREM : &#39;++&#39; ;\r\nDECREM : &#39;--&#39; ;\r\nPLUS : &#39;+&#39; ;\r\nMINUS : &#39;-&#39; ;\r\nMULT : &#39;*&#39; ;\r\nDIVIDE : &#39;/&#39; ;\r\nDOT : &#39;.&#39; ;\r\nNOT : &#39;!&#39; ;\r\nASSIGN : &#39;=&#39; ;\r\nCOMMA : &#39;,&#39; ;\r\nSEMI : &#39;;&#39; ;\r\nLPAREN : &#39;(&#39; ;\r\nRPAREN : &#39;)&#39; ;\r\nLCURLY : &#39;{&#39; ;\r\nRCURLY : &#39;}&#39; ;\r\nLSQUARE : &#39;[&#39; ;\r\nRSQUARE : &#39;]&#39; ;\r\n\r\nWS: [ \\t\\n\\r\\f]+ -&gt; skip ;\r\n\r\n\r\nSETUP : &#39;Setup&#39; ;\r\nROUND : &#39;Round&#39; ;\r\nTURN : &#39;Turn&#39; ;\r\nWHILE : &#39;while&#39; ;\r\nFOR : &#39;for&#39; ;\r\nIF : &#39;if&#39; ;\r\nBOOL : &#39;bool&#39; ;\r\nINT : &#39;int&#39; ;\r\nSTRING : &#39;string&#39; ;\r\n\r\n\r\nMETHODID : &#39;create&#39;\r\n        |&#39;getHand&#39;\r\n        |&#39;getHandPoints&#39;\r\n        |&#39;handSize&#39;\r\n        |&#39;printHand&#39;\r\n        |&#39;getTable&#39;\r\n        |&#39;getTablePoints&#39;\r\n        |&#39;printTable&#39;\r\n        |&#39;getDiscardPile&#39;\r\n        |&#39;draw&#39;\r\n        |&#39;discard&#39;\r\n        |&#39;takeCard&#39;\r\n        |&#39;layDown&#39;\r\n        |&#39;addJokers&#39;\r\n        |&#39;assignPoints&#39;\r\n        |&#39;shuffle&#39;\r\n        |&#39;getCard&#39;\r\n        |&#39;getCards&#39;\r\n        |&#39;print&#39;\r\n        |&#39;size&#39;\r\n        |&#39;returnCards&#39;\r\n        |&#39;returnDiscardPile&#39;\r\n        |&#39;flip&#39;\r\n        |&#39;getPoints&#39; ;\r\nBOOLVAL : &#39;true&#39;\r\n        | &#39;false&#39; ;\r\nCLASSID : &#39;Player&#39;\r\n        | &#39;Deck&#39;\r\n        | &#39;Card&#39;\r\n        | &#39;Table&#39; ;\r\nOBJID : [HDCS][2-9]\r\n        |[HDCS]&#39;1&#39;[0-3]?\r\n        |&#39;J&#39;[1-3]\r\n        |&#39;player&#39;[1-9][0-9]*\r\n        |&#39;deck&#39;\r\n        |&#39;table&#39; ;\r\nINTVAL : &#39;0&#39;\r\n        | [1-9][0-9]* ;\r\nVARID : [a-z][a-zA-Z_0-9]* ;\r\nFUNCID : [A-Z][a-zA-Z_0-9]* ;\r\nSTRINGVAL : &#39;&quot;&#39;~[&quot;]*&#39;&quot;&#39; ;\r\n```\r\nAnd the following overwritten methods that work fine: \r\n\r\n```Java\r\npublic class ClubBuildASTVisitor extends CLUBBaseVisitor&lt;AST&gt; {\r\n    // Start of tree\r\n    @Override\r\n    public AST visitProgram(CLUBParser.ProgramContext ctx) {\r\n        AST ast = new AST();\r\n        ast.addChild(visit(ctx.setup()));\r\n        ast.addChild(visit(ctx.round()));\r\n        ast.addChild(visit(ctx.turn()));\r\n        ast.addChild(visit(ctx.funcs()));\r\n        return ast;\r\n    }\r\n\r\n    @Override\r\n    public AST visitSetup(CLUBParser.SetupContext ctx) {\r\n        AST ast = new AST(ctx.SETUP().getSymbol());\r\n        ast.addChild(visit(ctx.stmts()));\r\n        return ast;\r\n    }\r\n\r\n    @Override\r\n    public AST visitRound(CLUBParser.RoundContext ctx) {\r\n        AST ast = new AST(ctx.ROUND().getSymbol());\r\n        AST stmtsAst = visit(ctx.stmts());\r\n        ast.addChild(stmtsAst);\r\n        return ast;\r\n    }\r\n```\r\nIm trying to create one for visitStmts. The problem is that the when I make one it keeps choosing the first child in the tree to become the root. An example would be: \r\n```\r\n@Override\r\npublic AST visitStmts(CLUBParser.StmtsContext ctx) {\r\n    AST ast = new AST(ctx.getStart());\r\n    int childCount = ctx.getChildCount();\r\n    for (int i = 0; i &lt; childCount; i++) {\r\n        ParseTree child = ctx.getChild(i);\r\n        AST childAst = visit(child);\r\n        ast.addChild(childAst);\r\n    }\r\n    return ast;\r\n}\r\n```\r\nHow can i choose Round as my root and make the rest children?\r\n\r\n\r\n\r\nive tried replacing the parameters of the \r\n```\r\n@Override\r\npublic AST visitStmts(CLUBParser.StmtsContext ctx) {\r\n    AST ast = new AST(new CommonToken(CLUBParser.ROUND)); // Create AST with &quot;ROUND&quot; as the root token\r\n\r\n    if (ctx.stmt() != null) {\r\n        AST stmtChild = visit(ctx.stmt());\r\n        ast.addChild(stmtChild);\r\n    }\r\n\r\n    if (ctx.stmts() != null) {\r\n        AST stmtsChild = visit(ctx.stmts());\r\n        if (stmtsChild != null &amp;&amp; !stmtsChild.isNil()) {\r\n            for (AST child : stmtsChild.getChildren()) {\r\n                ast.addChild(child);\r\n            }\r\n        }\r\n    }\r\n\r\n    return ast;\r\n}\r\n```\r\nBut that ends up with the output looking like this:\r\n`(&lt;SETUP, &#39;Setup&#39;&gt; (&lt;ROUND, &#39;null&#39;&gt; )) (&lt;ROUND, &#39;Round&#39;&gt; (&lt;ROUND, &#39;null&#39;&gt; ))`\r\n\r\nI need the AST for type checking but ive read its also possible to do so with the parse tree built into antlr4?","title":"How do I choose a parent node when building an AST in antlr4?","body":"<p>I have the following AST:</p>\n<pre><code>import org.antlr.v4.runtime.CommonToken;\nimport org.antlr.v4.runtime.Token;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\npublic class AST {\n    Token token;             // from which token do we create this node?\n    List&lt;AST&gt; children;      // normalized list of children\n\n    public AST() { ; } // for making nil-rooted nodes\n\n    public AST(Token token) { this.token = token; }\n\n    /** Create node from token type; used mainly for imaginary tokens */\n    public AST(int tokenType) { this.token = new CommonToken(tokenType); }\n\n    /** external visitors execute the same action for all nodes\n     * with same node type while walking\n     */\n    public int getNodeType() { return token.getType(); }\n\n    public void addChild(AST t) {\n        if (children == null) children = new ArrayList&lt;&gt;();\n        children.add(t);\n    }\n    public void addChildren(AST... nodes) {\n        List&lt;AST&gt; asts = new ArrayList&lt;AST&gt;();\n        for (AST node : nodes){asts.add(node);}\n        for (int i = 0; i &lt; asts.size(); i++) {\n            this.addChild(asts.get(i));\n        }\n    }\n\n    public List&lt;AST&gt; getChildren() { return children; }\n\n    /** to represent flat lists. A list is a subtree w/o a root, which we simulate\n     * with a nil root node. A nil node is a node with token == null.\n     */\n    public boolean isNil() { return token == null; }\n\n    /** Compute string for single node */\n    public String toString() {\n        String typeName = CLUBParser.VOCABULARY.getSymbolicName(getNodeType());\n        typeName = typeName == null ? token.getText() : typeName;\n        return token != null ? &quot;&lt;&quot; +typeName +&quot;, '&quot; + token.getText() +&quot;'&gt;&quot;: &quot;nil&quot;;\n    }\n\n    /** Compute string for a whole tree */\n    public String toStringTree() {\n        if (children == null || children.isEmpty()) return this.toString();\n\n        StringBuilder buf = new StringBuilder();\n        if (!isNil()) {\n            buf.append('(');\n            buf.append(this.toString());\n            buf.append(' ');\n        }\n        for (int i = 0; i &lt; children.size(); i++) {\n            AST t = children.get(i); // normalized (unnamed) children\n            if (t != null) {  // Null check\n                if (i &gt; 0) buf.append(' ');\n                buf.append(t.toStringTree());\n            }\n        }\n        if (!isNil()) buf.append(')');\n        return buf.toString();\n    }\n}\n</code></pre>\n<p>This Grammar:</p>\n<pre><code>grammar CLUB;\n\nprogram : setup round turn funcs EOF ;\nsetup : SETUP LCURLY s=stmts RCURLY ;\nround : ROUND LCURLY s=stmts RCURLY ;\nturn : TURN '(' CLASSID VARID ')' '{' s=stmts '}'\n        | ;\nfuncs : func+\n        | ;\nstmts : s1=stmt s2=stmts\n        | ;\nfunc : FUNCID '(' tParams ')' '{' stmts '}'\n        | FUNCID '(' ')' '{' stmts '}' ;\ntParams : tParam ',' tParams;\nstmt : INTVAL ';' ;\niterStmt : 'while' '(' expr ')' '{' stmts '}'\n        | 'for' '(' decl ';' expr ';' postfExpr ')' '{' stmts '}' ;\nselectStmt : 'if' '(' expr ')' '{' stmts '}' ;\nexprStmt : expr ;\ntype : 'bool'\n        | 'int'\n        | 'string' ;\ntParam : type VARID ;\nparams : param ',' params\n        |'['list']' ',' param\n        | param ;\nlist : OBJID ',' list\n        | OBJID ;\nparam : assignExpr ;\nexpr : assignExpr ;\nassignExpr : logicOrExpr\n        | primaryExpr '=' assignExpr ;\nlogicOrExpr : logicAndExpr\n        | logicOrExpr '||' logicAndExpr ;\nlogicAndExpr : equalExpr\n        | logicAndExpr '&amp;&amp;' equalExpr ;\nequalExpr : relatExpr\n        | equalExpr '==' relatExpr\n        | equalExpr '!=' relatExpr ;\nrelatExpr : addExpr\n        | relatExpr '&lt;' addExpr\n        | relatExpr '&gt;' addExpr\n        | relatExpr '&lt;=' addExpr\n        | relatExpr '&gt;=' addExpr ;\naddExpr : multExpr\n        | addExpr '+' multExpr\n        | addExpr '-' multExpr ;\nmultExpr : unaryExpr\n        | multExpr '*' unaryExpr\n        | multExpr '/' unaryExpr ;\nunaryExpr : postfExpr\n        | '-' postfExpr\n        | '!' postfExpr ;\npostfExpr : primaryExpr\n        | primaryExpr '++'\n        | primaryExpr '--'\n        | primaryExpr '(' params ')'\n        | primaryExpr '('  ')'\n        | METHODID '(' params ')'\n        | METHODID '(' ')'\n        | primaryExpr '.' postfExpr ;\nprimaryExpr : val\n        | VARID\n        | OBJID\n        | FUNCID\n        | CLASSID ;\nval : BOOLVAL\n        | INTVAL\n        | STRINGVAL  ;\ndecl : tParam '=' logicOrExpr ;\n\nAND : '&amp;&amp;' ;\nOR : '||' ;\nEQ : '==' ;\nNOTEQ : '!=' ;\nSMALLER : '&lt;' ;\nLARGER : '&gt;' ;\nSMALLEREQ : '&lt;=' ;\nBIGGEREQ : '&gt;=' ;\nINCREM : '++' ;\nDECREM : '--' ;\nPLUS : '+' ;\nMINUS : '-' ;\nMULT : '*' ;\nDIVIDE : '/' ;\nDOT : '.' ;\nNOT : '!' ;\nASSIGN : '=' ;\nCOMMA : ',' ;\nSEMI : ';' ;\nLPAREN : '(' ;\nRPAREN : ')' ;\nLCURLY : '{' ;\nRCURLY : '}' ;\nLSQUARE : '[' ;\nRSQUARE : ']' ;\n\nWS: [ \\t\\n\\r\\f]+ -&gt; skip ;\n\n\nSETUP : 'Setup' ;\nROUND : 'Round' ;\nTURN : 'Turn' ;\nWHILE : 'while' ;\nFOR : 'for' ;\nIF : 'if' ;\nBOOL : 'bool' ;\nINT : 'int' ;\nSTRING : 'string' ;\n\n\nMETHODID : 'create'\n        |'getHand'\n        |'getHandPoints'\n        |'handSize'\n        |'printHand'\n        |'getTable'\n        |'getTablePoints'\n        |'printTable'\n        |'getDiscardPile'\n        |'draw'\n        |'discard'\n        |'takeCard'\n        |'layDown'\n        |'addJokers'\n        |'assignPoints'\n        |'shuffle'\n        |'getCard'\n        |'getCards'\n        |'print'\n        |'size'\n        |'returnCards'\n        |'returnDiscardPile'\n        |'flip'\n        |'getPoints' ;\nBOOLVAL : 'true'\n        | 'false' ;\nCLASSID : 'Player'\n        | 'Deck'\n        | 'Card'\n        | 'Table' ;\nOBJID : [HDCS][2-9]\n        |[HDCS]'1'[0-3]?\n        |'J'[1-3]\n        |'player'[1-9][0-9]*\n        |'deck'\n        |'table' ;\nINTVAL : '0'\n        | [1-9][0-9]* ;\nVARID : [a-z][a-zA-Z_0-9]* ;\nFUNCID : [A-Z][a-zA-Z_0-9]* ;\nSTRINGVAL : '&quot;'~[&quot;]*'&quot;' ;\n</code></pre>\n<p>And the following overwritten methods that work fine:</p>\n<pre><code>public class ClubBuildASTVisitor extends CLUBBaseVisitor&lt;AST&gt; {\n    // Start of tree\n    @Override\n    public AST visitProgram(CLUBParser.ProgramContext ctx) {\n        AST ast = new AST();\n        ast.addChild(visit(ctx.setup()));\n        ast.addChild(visit(ctx.round()));\n        ast.addChild(visit(ctx.turn()));\n        ast.addChild(visit(ctx.funcs()));\n        return ast;\n    }\n\n    @Override\n    public AST visitSetup(CLUBParser.SetupContext ctx) {\n        AST ast = new AST(ctx.SETUP().getSymbol());\n        ast.addChild(visit(ctx.stmts()));\n        return ast;\n    }\n\n    @Override\n    public AST visitRound(CLUBParser.RoundContext ctx) {\n        AST ast = new AST(ctx.ROUND().getSymbol());\n        AST stmtsAst = visit(ctx.stmts());\n        ast.addChild(stmtsAst);\n        return ast;\n    }\n</code></pre>\n<p>Im trying to create one for visitStmts. The problem is that the when I make one it keeps choosing the first child in the tree to become the root. An example would be:</p>\n<pre><code>@Override\npublic AST visitStmts(CLUBParser.StmtsContext ctx) {\n    AST ast = new AST(ctx.getStart());\n    int childCount = ctx.getChildCount();\n    for (int i = 0; i &lt; childCount; i++) {\n        ParseTree child = ctx.getChild(i);\n        AST childAst = visit(child);\n        ast.addChild(childAst);\n    }\n    return ast;\n}\n</code></pre>\n<p>How can i choose Round as my root and make the rest children?</p>\n<p>ive tried replacing the parameters of the</p>\n<pre><code>@Override\npublic AST visitStmts(CLUBParser.StmtsContext ctx) {\n    AST ast = new AST(new CommonToken(CLUBParser.ROUND)); // Create AST with &quot;ROUND&quot; as the root token\n\n    if (ctx.stmt() != null) {\n        AST stmtChild = visit(ctx.stmt());\n        ast.addChild(stmtChild);\n    }\n\n    if (ctx.stmts() != null) {\n        AST stmtsChild = visit(ctx.stmts());\n        if (stmtsChild != null &amp;&amp; !stmtsChild.isNil()) {\n            for (AST child : stmtsChild.getChildren()) {\n                ast.addChild(child);\n            }\n        }\n    }\n\n    return ast;\n}\n</code></pre>\n<p>But that ends up with the output looking like this:\n<code>(&lt;SETUP, 'Setup'&gt; (&lt;ROUND, 'null'&gt; )) (&lt;ROUND, 'Round'&gt; (&lt;ROUND, 'null'&gt; ))</code></p>\n<p>I need the AST for type checking but ive read its also possible to do so with the parse tree built into antlr4?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9785,"page":440,"page_size":100}
