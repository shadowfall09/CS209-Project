{"items":[{"tags":["java","recursion","search","null","avl-tree"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668693617,"post_id":74476629,"comment_id":131471879,"body_markdown":"Inserting has to be done as `root = insertNode(data, root);`. Because assigning to the local parameter `root` does not assign to the passed global variable `root`, In java `f(x)` will never assign to a passed variable `x` _(=pass-by-value)_. Better also rename the root parameter to `node` or such, as root means top node.","body":"Inserting has to be done as <code>root = insertNode(data, root);</code>. Because assigning to the local parameter <code>root</code> does not assign to the passed global variable <code>root</code>, In java <code>f(x)</code> will never assign to a passed variable <code>x</code> <i>(=pass-by-value)</i>. Better also rename the root parameter to <code>node</code> or such, as root means top node."},{"owner":{"account_id":26963239,"reputation":1,"user_id":20530574,"display_name":"wantoimprove"},"score":0,"creation_date":1668694106,"post_id":74476629,"comment_id":131472103,"body_markdown":"@JoopEggen Did you mean I should replace all instances of &#39;root&#39; with &#39;node&#39; inside the method? I&#39;ve done that and now I&#39;m getting a StackOverflow error that&#39;s saying I should create a breakpoint to resolve it","body":"@JoopEggen Did you mean I should replace all instances of &#39;root&#39; with &#39;node&#39; inside the method? I&#39;ve done that and now I&#39;m getting a StackOverflow error that&#39;s saying I should create a breakpoint to resolve it"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668694601,"post_id":74476629,"comment_id":131472319,"body_markdown":"Inside `insertNode` a rename of _root_ to _node_ is more clear and should not have changed anything.  The stacktrace itself should already show where an endless loop happens.","body":"Inside <code>insertNode</code> a rename of <i>root</i> to <i>node</i> is more clear and should not have changed anything.  The stacktrace itself should already show where an endless loop happens."},{"owner":{"account_id":26963239,"reputation":1,"user_id":20530574,"display_name":"wantoimprove"},"score":0,"creation_date":1668775208,"post_id":74476629,"comment_id":131494059,"body_markdown":"@JoopEggen Thanks for correcting me on that. I&#39;m still having the same problem with my search though. The suggestion I get from my compiler when looking at the code tells me that the check variable is never used or accessed because the root is null (it&#39;s throwing a NullPointerException). Any tips on that?","body":"@JoopEggen Thanks for correcting me on that. I&#39;m still having the same problem with my search though. The suggestion I get from my compiler when looking at the code tells me that the check variable is never used or accessed because the root is null (it&#39;s throwing a NullPointerException). Any tips on that?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668787659,"post_id":74476629,"comment_id":131498614,"body_markdown":"Sorry for the late return here. No, I have no idea. Keep thing readable, a classs in its own file, the usage separate. And the debugger is your best friend to inspect along what code the program runs.","body":"Sorry for the late return here. No, I have no idea. Keep thing readable, a classs in its own file, the usage separate. And the debugger is your best friend to inspect along what code the program runs."}],"owner":{"account_id":26963239,"reputation":1,"user_id":20530574,"display_name":"wantoimprove"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668693148,"creation_date":1668693076,"question_id":74476629,"body_markdown":"This is the insertion method: \r\n\r\n\r\n```\r\nprivate Node insertNode(Person data, Node root)\r\n{\r\n    //check whether the node is null or not\r\n    if (root == null)\r\n        root = new Node(data);\r\n        //insert a node in case when the given data is lesser than the data of the root node\r\n    else if (getCountCommon(data, root.getRoot()) == 0)\r\n    {\r\n        root.setLeftSubTree(insertNode(data, root.getLeftSubTree()));\r\n        if(getHeight(root.getLeftSubTree()) - getHeight(root.getRightSubTree()) == 2 )\r\n            if(getCountCommon(data, root.getLeftSubTree().getRoot()) == 0)\r\n                root = rotateWithleftSubTree(root);\r\n            else\r\n                root = doubleWithleftSubTree(root);\r\n    }\r\n    else if(getCountCommon(data, root.getRoot()) &gt; 0)\r\n    {\r\n        root.setRightSubTree(insertNode(data, root.getRightSubTree()));\r\n        if(getHeight(root.getRightSubTree()) - getHeight(root.getLeftSubTree()) == 2 )\r\n            if(getCountCommon(data, root.getRightSubTree().getRoot()) &gt; 0)\r\n                root = rotateWithrightSubTree(root);\r\n            else\r\n                root = doubleWithrightSubTree(root);\r\n    }\r\n    else\r\n          ;// if the data is already present in the tree, we will do nothing\r\n\r\n    root.setHeight(getMaxHeight(getHeight(root.getLeftSubTree()), getHeight(root.getRightSubTree())) + 1);\r\n\r\n    return root;\r\n\r\n}\r\n```\r\n\r\nAnd this is the method I use to get a count of all nodes:\r\n\r\n\r\n```\r\nprivate int getTotalNumberOfNodes(Node root)\r\n{\r\n    if (root == null)\r\n        return 0;\r\n    else\r\n    {\r\n        int size = 1;\r\n        size = size + getTotalNumberOfNodes(root.getLeftSubTree());\r\n        size = size + getTotalNumberOfNodes(root.getRightSubTree());\r\n        return size;\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhen I populate the tree with an ArrayList of 20000 objects... \r\n\r\n```\r\nSystem.out.println(&quot;\\nPopulating tree with data from personList...&quot;);\r\n\r\nfor (int index=0; index&lt;size; index++){\r\n\r\n    personTree.insertNode(personList.get(index));\r\n}\r\n\r\nSystem.out.println(&quot;Tree populated.&quot;);\r\n\r\n//Checking number of nodes in tree\r\nSystem.out.println(&quot;Number of nodes in tree: &quot; + personTree.getTotalNumberOfNodes() + &quot;\\n&quot;);\r\n\r\n```\r\n\r\nI get this output:\r\nPopulating tree with data from personList...\r\nTree populated.\r\nNumber of nodes in tree: 20000\r\n\r\n\r\nThen, when I attempt to search the tree...\r\n\r\n```\r\nTree class:\r\npublic void searchData(Person data){\r\n    searchData(getRoot(), data);\r\n}\r\n\r\npublic void searchData(Node root, Person data)\r\n{\r\n    Person check = new Person();\r\n\r\n    if(root == null)\r\n    {\r\n        System.out.println(data.getFirstName() + &quot; was not found.&quot;);\r\n    }\r\n    else if (root.getRoot() == data)\r\n    {\r\n        System.out.println(data.getFirstName() + &quot;was found!&quot;);\r\n        check = root.getRoot();\r\n    }\r\n    else\r\n    {\r\n        if (getCountCommon(root.getRoot(), data) == 0){\r\n            root = root.getLeftSubTree();\r\n            searchData(root, data);\r\n        } else if (getCountCommon(root.getRoot(), data) &gt; 0){\r\n            root = root.getRightSubTree();\r\n            searchData(root, data);\r\n        }\r\n    }\r\n}\r\n\r\nMain:\r\nSystem.out.println(&quot;\\nSearching tree for &#39;&quot; + personList.get(6889).getFirstName() + &quot; &quot; + personList.get(6889).getLastName() + &quot;&#39;...&quot;);\r\npersonTree.searchData(personList.get(6889));\r\n\r\n```\r\n\r\nI keep getting this output:\r\nSearching tree for &#39;Hugh Senior&#39;...\r\nHugh was not found.\r\n\r\n\r\nWhen I checked to see if there was anything at the root using this code:\r\n\r\n```\r\nSystem.out.println(&quot;\\nData at tree root is: \\n&quot; + personTree.getRoot().getRoot());\r\n```\r\n\r\nI get this output, which tells me it&#39;s not empty:\r\n\r\n```\r\nData at tree root is: \r\nFirst Name:    Robert\r\nLast Name:   Bell\r\nTelephone:   8766554539\r\nEmail:       RoBell15@hotmail.com\r\nCommunity:   Liguanea\r\nSchool:      Camperdown\r\nEmployer:    NCB\r\nPrivacy:     Y\r\n     ---Activity/Activities---    \r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\nOn some occasions, when I directly called the root accessor from the tree class and tried using it as input directly into the second search method, it threw errors saying my root was null. And the warnings in IntelliJ are telling me that nothing past the first if statement in searchData(Node root, Person data) gets checked since the root is always null. \r\n\r\nI tried directly checking the tree&#39;s root again in main, and it shows that data is there so I&#39;m stumped.\r\n","title":"Why does the root of this AVL tree keep being treated as null even though it has been populated with objects?","body":"<p>This is the insertion method:</p>\n<pre><code>private Node insertNode(Person data, Node root)\n{\n    //check whether the node is null or not\n    if (root == null)\n        root = new Node(data);\n        //insert a node in case when the given data is lesser than the data of the root node\n    else if (getCountCommon(data, root.getRoot()) == 0)\n    {\n        root.setLeftSubTree(insertNode(data, root.getLeftSubTree()));\n        if(getHeight(root.getLeftSubTree()) - getHeight(root.getRightSubTree()) == 2 )\n            if(getCountCommon(data, root.getLeftSubTree().getRoot()) == 0)\n                root = rotateWithleftSubTree(root);\n            else\n                root = doubleWithleftSubTree(root);\n    }\n    else if(getCountCommon(data, root.getRoot()) &gt; 0)\n    {\n        root.setRightSubTree(insertNode(data, root.getRightSubTree()));\n        if(getHeight(root.getRightSubTree()) - getHeight(root.getLeftSubTree()) == 2 )\n            if(getCountCommon(data, root.getRightSubTree().getRoot()) &gt; 0)\n                root = rotateWithrightSubTree(root);\n            else\n                root = doubleWithrightSubTree(root);\n    }\n    else\n          ;// if the data is already present in the tree, we will do nothing\n\n    root.setHeight(getMaxHeight(getHeight(root.getLeftSubTree()), getHeight(root.getRightSubTree())) + 1);\n\n    return root;\n\n}\n</code></pre>\n<p>And this is the method I use to get a count of all nodes:</p>\n<pre><code>private int getTotalNumberOfNodes(Node root)\n{\n    if (root == null)\n        return 0;\n    else\n    {\n        int size = 1;\n        size = size + getTotalNumberOfNodes(root.getLeftSubTree());\n        size = size + getTotalNumberOfNodes(root.getRightSubTree());\n        return size;\n    }\n}\n</code></pre>\n<p>When I populate the tree with an ArrayList of 20000 objects...</p>\n<pre><code>System.out.println(&quot;\\nPopulating tree with data from personList...&quot;);\n\nfor (int index=0; index&lt;size; index++){\n\n    personTree.insertNode(personList.get(index));\n}\n\nSystem.out.println(&quot;Tree populated.&quot;);\n\n//Checking number of nodes in tree\nSystem.out.println(&quot;Number of nodes in tree: &quot; + personTree.getTotalNumberOfNodes() + &quot;\\n&quot;);\n\n</code></pre>\n<p>I get this output:\nPopulating tree with data from personList...\nTree populated.\nNumber of nodes in tree: 20000</p>\n<p>Then, when I attempt to search the tree...</p>\n<pre><code>Tree class:\npublic void searchData(Person data){\n    searchData(getRoot(), data);\n}\n\npublic void searchData(Node root, Person data)\n{\n    Person check = new Person();\n\n    if(root == null)\n    {\n        System.out.println(data.getFirstName() + &quot; was not found.&quot;);\n    }\n    else if (root.getRoot() == data)\n    {\n        System.out.println(data.getFirstName() + &quot;was found!&quot;);\n        check = root.getRoot();\n    }\n    else\n    {\n        if (getCountCommon(root.getRoot(), data) == 0){\n            root = root.getLeftSubTree();\n            searchData(root, data);\n        } else if (getCountCommon(root.getRoot(), data) &gt; 0){\n            root = root.getRightSubTree();\n            searchData(root, data);\n        }\n    }\n}\n\nMain:\nSystem.out.println(&quot;\\nSearching tree for '&quot; + personList.get(6889).getFirstName() + &quot; &quot; + personList.get(6889).getLastName() + &quot;'...&quot;);\npersonTree.searchData(personList.get(6889));\n\n</code></pre>\n<p>I keep getting this output:\nSearching tree for 'Hugh Senior'...\nHugh was not found.</p>\n<p>When I checked to see if there was anything at the root using this code:</p>\n<pre><code>System.out.println(&quot;\\nData at tree root is: \\n&quot; + personTree.getRoot().getRoot());\n</code></pre>\n<p>I get this output, which tells me it's not empty:</p>\n<pre><code>Data at tree root is: \nFirst Name:    Robert\nLast Name:   Bell\nTelephone:   8766554539\nEmail:       RoBell15@hotmail.com\nCommunity:   Liguanea\nSchool:      Camperdown\nEmployer:    NCB\nPrivacy:     Y\n     ---Activity/Activities---    \n\n\n\n</code></pre>\n<p>On some occasions, when I directly called the root accessor from the tree class and tried using it as input directly into the second search method, it threw errors saying my root was null. And the warnings in IntelliJ are telling me that nothing past the first if statement in searchData(Node root, Person data) gets checked since the root is always null.</p>\n<p>I tried directly checking the tree's root again in main, and it shows that data is there so I'm stumped.</p>\n"},{"tags":["java","spring-boot","mockito"],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668693062,"creation_date":1668693062,"answer_id":74476625,"question_id":74473847,"body_markdown":"If you want to replace a bean in spring context, you need a `@MockBean` or `@SpyBean`","title":"doCallRealMethod not working on void return type method","body":"<p>If you want to replace a bean in spring context, you need a <code>@MockBean</code> or <code>@SpyBean</code></p>\n"}],"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668693062,"creation_date":1668680936,"question_id":74473847,"body_markdown":"I am trying to call a real method whose return type is void . I have tried both @mock and @spy both on my bean but it is still not going into actual class. \r\n\r\n    @Autowired private HelperV2 authValidationHelper;\r\n\r\n    @Override\r\n    public void postProcess(Event event) {\r\n    List&lt;Error&gt; errorList = new ArrayList&lt;&gt;();\r\n      authValidationHelper.validateOrderTotalAmount(event, errorList);\r\n      handleError(event, errorList);\r\n    }\r\n    }\r\n\r\n\r\nTest case\r\n\r\n    @Spy private HelperV2 authValidationHelper;\r\n\r\n    @Test\r\n    public void test_postProcess()  {\r\n    BaseOrderEvent event =\r\n        ParserUtil.getObjectFromFile(\r\n            &quot;events/createPaymentRequestWithShoppingCardOnly2.json&quot;, Event.class);\r\n    Mockito.doCallRealMethod()\r\n        .when(authValidationHelper)\r\n        .validateOrderTotalAmount(Mockito.any(), Mockito.any());\r\n    createOrderEventProcessor.postProcess(event);\r\n    }\r\n","title":"doCallRealMethod not working on void return type method","body":"<p>I am trying to call a real method whose return type is void . I have tried both @mock and @spy both on my bean but it is still not going into actual class.</p>\n<pre><code>@Autowired private HelperV2 authValidationHelper;\n\n@Override\npublic void postProcess(Event event) {\nList&lt;Error&gt; errorList = new ArrayList&lt;&gt;();\n  authValidationHelper.validateOrderTotalAmount(event, errorList);\n  handleError(event, errorList);\n}\n}\n</code></pre>\n<p>Test case</p>\n<pre><code>@Spy private HelperV2 authValidationHelper;\n\n@Test\npublic void test_postProcess()  {\nBaseOrderEvent event =\n    ParserUtil.getObjectFromFile(\n        &quot;events/createPaymentRequestWithShoppingCardOnly2.json&quot;, Event.class);\nMockito.doCallRealMethod()\n    .when(authValidationHelper)\n    .validateOrderTotalAmount(Mockito.any(), Mockito.any());\ncreateOrderEventProcessor.postProcess(event);\n}\n</code></pre>\n"},{"tags":["javascript","java","jsp","url","tomcat9"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1668674918,"post_id":74472425,"comment_id":131464747,"body_markdown":"`Home.jsp`, `Hoxxxme.jsp` and `xxx/Home.jsp` are different pages - what do you expect?","body":"<code>Home.jsp</code>, <code>Hoxxxme.jsp</code> and <code>xxx&#47;Home.jsp</code> are different pages - what do you expect?"},{"owner":{"account_id":24538904,"reputation":1,"user_id":18449546,"display_name":"Olcay &#199;etin"},"score":0,"creation_date":1668675768,"post_id":74472425,"comment_id":131465052,"body_markdown":"@dan1st Home.jsp is valid page but the others not.Hoxxxme.jsp is ok i am gettin 404 server error.but for xxx/Home.jsp, I cant get 404 error in proper way","body":"@dan1st Home.jsp is valid page but the others not.Hoxxxme.jsp is ok i am gettin 404 server error.but for xxx/Home.jsp, I cant get 404 error in proper way"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668676469,"post_id":74472425,"comment_id":131465312,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1668689918,"post_id":74472425,"comment_id":131470278,"body_markdown":"Can you show the web.xml and the location of the Home.jsp file (or handler) in the project?","body":"Can you show the web.xml and the location of the Home.jsp file (or handler) in the project?"},{"owner":{"account_id":24538904,"reputation":1,"user_id":18449546,"display_name":"Olcay &#199;etin"},"score":0,"creation_date":1668691966,"post_id":74472425,"comment_id":131471172,"body_markdown":"@dan1st  which web.xml? if u asking inside web-inf which i just realized that i need add in that. Now I am trying a new library of tuckey. inside of web.inf is now ; \nedited in post","body":"@dan1st  which web.xml? if u asking inside web-inf which i just realized that i need add in that. Now I am trying a new library of tuckey. inside of web.inf is now ;  edited in post"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1668692029,"post_id":74472425,"comment_id":131471202,"body_markdown":"There should only be a single `web.xml` file.","body":"There should only be a single <code>web.xml</code> file."},{"owner":{"account_id":24538904,"reputation":1,"user_id":18449546,"display_name":"Olcay &#199;etin"},"score":0,"creation_date":1668692849,"post_id":74472425,"comment_id":131471548,"body_markdown":"@dan1st and Home.jsp location :\n\nC:\\Users\\USER\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\Company\\Pages","body":"@dan1st and Home.jsp location :  C:\\Users\\USER\\eclipse-workspace\\.metadata\\.plugins\\org.eclip&zwnj;&#8203;se.wst.server.core\\t&zwnj;&#8203;mp0\\wtpwebapps\\Compa&zwnj;&#8203;ny\\Pages"}],"owner":{"account_id":24538904,"reputation":1,"user_id":18449546,"display_name":"Olcay &#199;etin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668692946,"creation_date":1668674600,"question_id":74472425,"body_markdown":"I am facing a issue actually it is not a big deal but i need to solve this problem for my work.\r\nWhen I write url like http://localhost:8080/****/Pages/Home.jsp it works fine but or when i try an unbeing page like http://localhost:8080/****/Pages/Hoxxxxme.jsp it redirects to my 404 error page.but when try like http://localhost:8080/****/Pages//Home.jsp loads a page but not proper way ([enter image description here](https://i.stack.imgur.com/6mklV.png) or http://localhost:8080/****/Pages/xxx/Home.jsp (unbeing page) it tries to redirect to 404 error page but not a proper way again [enter image description here](https://i.stack.imgur.com/H9kUo.png)\r\n\r\n\r\n\r\nI could not understand the problem.I tried mime type in web.xml, It didnt work.How can I solve this problem? \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n      &lt;display-name&gt;CredIS&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n    &lt;!--   &lt;listener&gt;\r\n        &lt;listener-class&gt;com.crede.system.SessionListener&lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n      &lt;listener&gt;\r\n        &lt;listener-class&gt;com.crede.system.ContextListener&lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n\r\n       &lt;filter&gt;\r\n           &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\r\n           &lt;filter-class&gt;org.tuckey.web.filters.urlrewrite.UrlRewriteFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter-mapping&gt;\r\n           &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\r\n           &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n            \r\n\r\n\r\n     --&gt;  &lt;session-config&gt;\r\n        &lt;session-timeout&gt;32&lt;/session-timeout&gt;\r\n      &lt;/session-config&gt;\r\n      \r\n     &lt;!-- BLOCK COMMENT FOR TEST LINK. REMOVE COMMENTS FOR PRODUCTION --&gt;\r\n     &lt;!--&lt;security-constraint&gt;\r\n     &lt;web-resource-collection&gt;\r\n     &lt;web-resource-name&gt;Protected Context&lt;/web-resource-name&gt;\r\n     &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n     &lt;/web-resource-collection&gt;\r\n     &lt;user-data-constraint&gt;\r\n     &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n     &lt;/user-data-constraint&gt;\r\n     &lt;/security-constraint&gt; --&gt;\r\n     &lt;!-- BLOCK COMMENT FOR TEST LINK. REMOVE COMMENTS FOR PRODUCTION --&gt;\r\n     &lt;/web-app&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n    ","title":"Tomcat 9 adding more slash to url problem","body":"<p>I am facing a issue actually it is not a big deal but i need to solve this problem for my work.\nWhen I write url like http://localhost:8080/<strong><strong>/Pages/Home.jsp it works fine but or when i try an unbeing page like http://localhost:8080/</strong></strong>/Pages/Hoxxxxme.jsp it redirects to my 404 error page.but when try like http://localhost:8080/<strong><strong>/Pages//Home.jsp loads a page but not proper way (<a href=\"https://i.stack.imgur.com/6mklV.png\" rel=\"nofollow noreferrer\">enter image description here</a> or http://localhost:8080/</strong></strong>/Pages/xxx/Home.jsp (unbeing page) it tries to redirect to 404 error page but not a proper way again <a href=\"https://i.stack.imgur.com/H9kUo.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I could not understand the problem.I tried mime type in web.xml, It didnt work.How can I solve this problem?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" id=\"WebApp_ID\" version=\"3.0\"&gt;\n  &lt;display-name&gt;CredIS&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n&lt;!--   &lt;listener&gt;\n    &lt;listener-class&gt;com.crede.system.SessionListener&lt;/listener-class&gt;\n  &lt;/listener&gt;\n  &lt;listener&gt;\n    &lt;listener-class&gt;com.crede.system.ContextListener&lt;/listener-class&gt;\n  &lt;/listener&gt;\n\n   &lt;filter&gt;\n       &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\n       &lt;filter-class&gt;org.tuckey.web.filters.urlrewrite.UrlRewriteFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n       &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\n       &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n        \n\n\n --&gt;  &lt;session-config&gt;\n    &lt;session-timeout&gt;32&lt;/session-timeout&gt;\n  &lt;/session-config&gt;\n  \n &lt;!-- BLOCK COMMENT FOR TEST LINK. REMOVE COMMENTS FOR PRODUCTION --&gt;\n &lt;!--&lt;security-constraint&gt;\n &lt;web-resource-collection&gt;\n &lt;web-resource-name&gt;Protected Context&lt;/web-resource-name&gt;\n &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n &lt;/web-resource-collection&gt;\n &lt;user-data-constraint&gt;\n &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n &lt;/user-data-constraint&gt;\n &lt;/security-constraint&gt; --&gt;\n &lt;!-- BLOCK COMMENT FOR TEST LINK. REMOVE COMMENTS FOR PRODUCTION --&gt;\n &lt;/web-app&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring","unit-testing","junit","mocking"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1668655441,"post_id":74466999,"comment_id":131460493,"body_markdown":"Don&#39;t.  Use a real one.  There&#39;s no reason to mock a Future of any kind.","body":"Don&#39;t.  Use a real one.  There&#39;s no reason to mock a Future of any kind."}],"answers":[{"tags":[],"owner":{"account_id":2681853,"reputation":148,"user_id":2317065,"display_name":"Italo Brenner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668692884,"creation_date":1668692884,"answer_id":74476582,"question_id":74466999,"body_markdown":"I created a component with has the same method of original static class, so when you need to mock, you can use @Mock.\r\n\r\n```\r\n@Component\r\npublic class ApplicationCompletableFuture {\r\n    public &lt;U&gt; CompletableFuture&lt;U&gt; supplyAsync(Supplier&lt;U&gt; supplier,\r\n                                                ForkJoinPool forkJoinPool) {\r\n        return CompletableFuture.supplyAsync(supplier, forkJoinPool);\r\n    }\r\n}\r\n```\r\n```\r\nCompletableFuture&lt;Pet&gt; branchCompletableFuture =\r\n        applicationCompletableFuture.supplyAsync(() -&gt; petService.validatePet(dto.getPetCode), forkJoinPool);\r\n```\r\n```\r\nwhen(applicationCompletableFuture.supplyAsync(any(),any()))\r\n        .thenReturn(CompletableFuture.completedFuture(pet));\r\n```","title":"How can I Mock CompletableFuture in Java","body":"<p>I created a component with has the same method of original static class, so when you need to mock, you can use @Mock.</p>\n<pre><code>@Component\npublic class ApplicationCompletableFuture {\n    public &lt;U&gt; CompletableFuture&lt;U&gt; supplyAsync(Supplier&lt;U&gt; supplier,\n                                                ForkJoinPool forkJoinPool) {\n        return CompletableFuture.supplyAsync(supplier, forkJoinPool);\n    }\n}\n</code></pre>\n<pre><code>CompletableFuture&lt;Pet&gt; branchCompletableFuture =\n        applicationCompletableFuture.supplyAsync(() -&gt; petService.validatePet(dto.getPetCode), forkJoinPool);\n</code></pre>\n<pre><code>when(applicationCompletableFuture.supplyAsync(any(),any()))\n        .thenReturn(CompletableFuture.completedFuture(pet));\n</code></pre>\n"}],"owner":{"account_id":7993603,"reputation":1201,"user_id":6030719,"accept_rate":50,"display_name":"S&#233;rgio Thiago Mendon&#231;a"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74476582,"answer_count":1,"score":1,"last_activity_date":1668692884,"creation_date":1668631565,"question_id":74466999,"body_markdown":"The calls in API:\r\n\r\n            CompletableFuture&lt;Beneficiary&gt; beneficiaryCompletableFuture =\r\n                CompletableFuture.supplyAsync(() -&gt;\r\n                        beneficiaryService.validateAndGetCustomer(dto.getBeneficiary()), forkJoinPool);\r\n\r\n\r\n        CompletableFuture&lt;List&lt;Product&gt;&gt; productsCompletableFuture =\r\n                CompletableFuture.supplyAsync(() -&gt;\r\n                        productService.validateAndGetProducts(dto.getProductCodeList()), forkJoinPool);\r\n\r\nWhen forkJoinPool is a Spring Configuration:\r\n\r\n    @Configuration\r\n    public class ForkJoinConfig {\r\n    \r\n        @Bean\r\n        public ForkJoinPool getForkJoinPool(){\r\n            return new ForkJoinPool();\r\n        }\r\n    }\r\n\r\nWhen i try to test this in Junit the call is stucked, the test does not work...\r\n\r\n[![stucked_test][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/onZUW.png\r\n\r\n\r\nI really don&#39;t know can i simple Mock a CompletableFuture.supplyAsync and identify what is Product or what is Beneficiary...\r\n\r\n\r\n","title":"How can I Mock CompletableFuture in Java","body":"<p>The calls in API:</p>\n<pre><code>        CompletableFuture&lt;Beneficiary&gt; beneficiaryCompletableFuture =\n            CompletableFuture.supplyAsync(() -&gt;\n                    beneficiaryService.validateAndGetCustomer(dto.getBeneficiary()), forkJoinPool);\n\n\n    CompletableFuture&lt;List&lt;Product&gt;&gt; productsCompletableFuture =\n            CompletableFuture.supplyAsync(() -&gt;\n                    productService.validateAndGetProducts(dto.getProductCodeList()), forkJoinPool);\n</code></pre>\n<p>When forkJoinPool is a Spring Configuration:</p>\n<pre><code>@Configuration\npublic class ForkJoinConfig {\n\n    @Bean\n    public ForkJoinPool getForkJoinPool(){\n        return new ForkJoinPool();\n    }\n}\n</code></pre>\n<p>When i try to test this in Junit the call is stucked, the test does not work...</p>\n<p><a href=\"https://i.stack.imgur.com/onZUW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/onZUW.png\" alt=\"stucked_test\" /></a></p>\n<p>I really don't know can i simple Mock a CompletableFuture.supplyAsync and identify what is Product or what is Beneficiary...</p>\n"},{"tags":["java","hibernate","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":1734438,"reputation":36275,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640080351,"creation_date":1640080351,"answer_id":70433482,"question_id":63718182,"body_markdown":"Look a bit deeper in the stack trace: the last mapping problem is often something more actionable. \r\n\r\nMaybe the `PhoneDTO` was not mappable ? If so, you need to create a converter and tell model mapper about it, like so:\r\n\r\n```java\r\npublic class PhoneConverter extends AbstractConverter&lt;PhoneEntity, PhoneDto&gt;\r\n{\r\n   private final StrictModelMapper strictModelMapper;\r\n\r\n   @Override\r\n   public PhoneDto convert(@NonNull final PhoneEntity source)\r\n   {\r\n      PhoneDto phoneDto = new PhoneDto();\r\n      strictModelMapper.map(source, phoneDto);\r\n      return phoneDto;\r\n   }\r\n}\r\n```\r\nand add it to the `modelMapper`.","title":"ModelMapper - failed to convert org.hibernate.collection.internal.PersistentBag to java.util.ArrayList","body":"<p>Look a bit deeper in the stack trace: the last mapping problem is often something more actionable.</p>\n<p>Maybe the <code>PhoneDTO</code> was not mappable ? If so, you need to create a converter and tell model mapper about it, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PhoneConverter extends AbstractConverter&lt;PhoneEntity, PhoneDto&gt;\n{\n   private final StrictModelMapper strictModelMapper;\n\n   @Override\n   public PhoneDto convert(@NonNull final PhoneEntity source)\n   {\n      PhoneDto phoneDto = new PhoneDto();\n      strictModelMapper.map(source, phoneDto);\n      return phoneDto;\n   }\n}\n</code></pre>\n<p>and add it to the <code>modelMapper</code>.</p>\n"}],"owner":{"account_id":18208271,"reputation":109,"user_id":13251293,"display_name":"Shirabu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7554,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1668692876,"creation_date":1599115363,"question_id":63718182,"body_markdown":"How should ModelMapper configuration looks like?\r\n\r\ncompile group: &#39;org.modelmapper&#39;, name: &#39;modelmapper&#39;, version: &#39;2.3.8&#39;\r\n\r\nCurrently I have:\r\n\r\n     modelMapper = new ModelMapper();\r\n                modelMapper.getConfiguration()\r\n                        .setMatchingStrategy(MatchingStrategies.STANDARD)\r\n                        .setFieldMatchingEnabled(true)\r\n                        .setFieldAccessLevel(Configuration.AccessLevel.PRIVATE);\r\n\r\n    \r\n\r\n\r\nMy Entity has\r\n\r\n    @OneToMany(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;Phones&gt; phones = new ArrayList&lt;&gt;();\r\n\r\nMy second entity:\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;employee_id&quot;)\r\n    private Employee employee;\r\n\r\n\r\nMy DTO which I want to have:\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor(force = true)\r\n    public class EmployeeDTO {\r\n    \r\n    @Singular\r\n    private final List&lt;PhoneDTO&gt; phones;\r\n    \r\n    }\r\n\r\nI am mapping this in this way:\r\n\r\n            EmployeeDTO.EmployeeDTOBuilder employeeDTOBuilder \r\n    = ObjectMapperUtils.map(employee, EmployeeDTO.employeeDTOBuilder.class);\r\n\r\nI&#39;m getting: \r\n\r\n1) Converter org.modelmapper.internal.converter.MergingCollectionConverter@969b4391 failed to convert org.hibernate.collection.internal.PersistentBag to java.util.ArrayList.\r\n","title":"ModelMapper - failed to convert org.hibernate.collection.internal.PersistentBag to java.util.ArrayList","body":"<p>How should ModelMapper configuration looks like?</p>\n<p>compile group: 'org.modelmapper', name: 'modelmapper', version: '2.3.8'</p>\n<p>Currently I have:</p>\n<pre><code> modelMapper = new ModelMapper();\n            modelMapper.getConfiguration()\n                    .setMatchingStrategy(MatchingStrategies.STANDARD)\n                    .setFieldMatchingEnabled(true)\n                    .setFieldAccessLevel(Configuration.AccessLevel.PRIVATE);\n</code></pre>\n<p>My Entity has</p>\n<pre><code>@OneToMany(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate List&lt;Phones&gt; phones = new ArrayList&lt;&gt;();\n</code></pre>\n<p>My second entity:</p>\n<pre><code>@ManyToOne\n@JoinColumn(name = &quot;employee_id&quot;)\nprivate Employee employee;\n</code></pre>\n<p>My DTO which I want to have:</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor(force = true)\npublic class EmployeeDTO {\n\n@Singular\nprivate final List&lt;PhoneDTO&gt; phones;\n\n}\n</code></pre>\n<p>I am mapping this in this way:</p>\n<pre><code>        EmployeeDTO.EmployeeDTOBuilder employeeDTOBuilder \n= ObjectMapperUtils.map(employee, EmployeeDTO.employeeDTOBuilder.class);\n</code></pre>\n<p>I'm getting:</p>\n<ol>\n<li>Converter org.modelmapper.internal.converter.MergingCollectionConverter@969b4391 failed to convert org.hibernate.collection.internal.PersistentBag to java.util.ArrayList.</li>\n</ol>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668692741,"post_id":74476539,"comment_id":131471511,"body_markdown":"can you be more specific about what your question is?","body":"can you be more specific about what your question is?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668692846,"post_id":74476539,"comment_id":131471545,"body_markdown":"also, check your code -&gt; user = user this renders it uncompilable","body":"also, check your code -&gt; user = user this renders it uncompilable"},{"owner":{"account_id":26963071,"reputation":19,"user_id":20530426,"display_name":"sillyconAdmin"},"score":0,"creation_date":1668692958,"post_id":74476539,"comment_id":131471598,"body_markdown":"my question is how do I access to the username and password values stored in the hashMap from my GUI class","body":"my question is how do I access to the username and password values stored in the hashMap from my GUI class"},{"owner":{"account_id":14970623,"reputation":270,"user_id":10807611,"display_name":"Zerox"},"score":0,"creation_date":1668693134,"post_id":74476539,"comment_id":131471682,"body_markdown":"Besides that your GUI-class is missing `()`, wouldn&#39;t passing the Client-Object to the constructor be your answer? Or vice-versa","body":"Besides that your GUI-class is missing <code>()</code>, wouldn&#39;t passing the Client-Object to the constructor be your answer? Or vice-versa"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668693188,"post_id":74476539,"comment_id":131471709,"body_markdown":"by working with an instance of the Client class. It might be better if you stopped with UI coding for now, and started learning the basics first.","body":"by working with an instance of the Client class. It might be better if you stopped with UI coding for now, and started learning the basics first."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1668693417,"post_id":74476539,"comment_id":131471801,"body_markdown":"Your HashMap is **public** and **static**, just access it directly using the class name followed by the variable name: `if (Client.clientMap.containsKey(userId)) { ... }`","body":"Your HashMap is <b>public</b> and <b>static</b>, just access it directly using the class name followed by the variable name: <code>if (Client.clientMap.containsKey(userId)) { ... }</code>"},{"owner":{"account_id":11060443,"reputation":71,"user_id":8121935,"display_name":"Eric Ballard"},"score":0,"creation_date":1668699933,"post_id":74476539,"comment_id":131474639,"body_markdown":"Quick 7m video - does a great job at explaining constructor keywords https://www.youtube.com/watch?v=pgBk8HC7jbU&amp;ab_channel=CodingwithJohn","body":"Quick 7m video - does a great job at explaining constructor keywords <a href=\"https://www.youtube.com/watch?v=pgBk8HC7jbU&amp;ab_channel=CodingwithJohn\" rel=\"nofollow noreferrer\">youtube.com/watch?v=pgBk8HC7jbU&amp;ab_channel=CodingwithJohn</a>"}],"owner":{"account_id":26963071,"reputation":19,"user_id":20530426,"display_name":"sillyconAdmin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668692871,"creation_date":1668692693,"question_id":74476539,"body_markdown":"I&#39;m trying to implement a simple login form in my application. I have created a class `client.java` in which I instantiated a hashMap:\r\n\r\n```\r\npackage com.xbank.event;\r\nimport com.xbank.service.*;\r\nimport java.text.*;\r\nimport java.util.*;\r\n\r\npublic  class Client {\r\n\t\r\n\tpublic static Map&lt;String, Client&gt; clientMap;\r\n\tpublic String name;\r\n\tpublic String username;\r\n\tpublic String password;\r\n\tpublic Double balance;\r\n\tpublic String address;\r\n\tpublic String phone;\r\n\t\r\n\t// Default Constructor\r\n\tpublic Client() {\r\n\t\tname = &quot;&quot;;\r\n\t\taddress = &quot;&quot;;\r\n\t\tphone = &quot;&quot;;\r\n\t\tusername = &quot;&quot;;\r\n\t\tpassword = &quot;&quot;;\r\n\t\tbalance = 0.0;\r\n\t\tclientMap = new HashMap&lt;String, Client&gt;();\r\n\t}\r\n\r\n\t// Parameterized Constructor\r\n\tpublic Client(String name, String username,String password, String phone, String address, Date date) {\r\n\t\t\r\n\t\tthis.name = name;\r\n\t\tthis.username = username;\r\n\t\tthis.password = password;\r\n\t\tthis.address = address;\r\n\t\tthis.phone = phone;\r\n\t}\r\n\t\r\n\tpublic void verify_login(String username, String password)\r\n\t{\r\n\t\t\r\n\t\tClient client = new Client();\r\n\t\t\r\n\t\tclient = new Client(username, password, name, address, phone, new Date());\r\n\t\tclientMap.put(username, client);\r\n\t\t\r\n\t\tif (clientMap.containsKey(username)) {\r\n\t\t\tSystem.out.println(username);\r\n\t\t\tclient = client.clientMap.get(username);\r\n\t\t\tif(client.password.equals(password)) {\r\n\t\t\t\tSystem.out.println(password);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;Wrong password&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;Wrong username&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic static  Map&lt;String, Client&gt; getLoginInfo() {\r\n\t\treturn clientMap;\r\n\t}\r\n\t\r\n\t\r\n\tvoid showClientInfo() {\r\n\t\tSystem.out.println(&quot;Name: &quot;+name);\r\n\t\tSystem.out.println(&quot;Phone Name: &quot;+phone);\r\n\t\tSystem.out.println(&quot;Address Name: &quot;+address);\r\n\t}\r\n\t\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\t\r\n\tpublic String getPhone() {\r\n\t\treturn phone;\r\n\t}\r\n\t\r\n\t\r\n\tpublic String getAddress() {\r\n\t\treturn address;\r\n\t}\r\n\t\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\t\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\t\r\n\t\r\n\t// end of class\r\n}\r\n```\r\n\r\nI want to access the hashMap from a GUI class that I have created, and set the conditions to login, but I can&#39;t find a way to do this\r\n\r\nGUI class:\r\n\r\n```\r\npublic class GUI {\r\n\t\r\n\t// remake the screen\r\n\tpublic void remakeScreen(JFrame frame, JPanel f) {\r\n\t\tf.setLayout(null); \r\n\t\tframe.setContentPane(f);\r\n\t\tframe.setVisible(true);\r\n\t}\t\r\n\t\r\n\t//------------------------------------------------------------\r\n\t//               Login Related Screen Functions               |\r\n\t//------------------------------------------------------------\r\n\t\r\n\t\r\n\t// sign in form which is displayed at the start of program\r\n\tpublic void openSignInForm(JFrame frame, Client client) {\r\n\t\tJPanel f = new JPanel();\t\t\r\n\t\tf.setBackground(Color.black);\r\n\t\t\r\n\t\t// main screen picture\r\n\t\tJLabel imgLabel = new JLabel(new ImageIcon( System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/java/com/xbank/icon/image-1.png&quot;));\r\n\t\timgLabel.setBounds(300,50,450, 400 );\r\n\t\tf.add(imgLabel);\r\n\t\t\r\n\t\t//---------------------------------Creating Labels------------------------------------------\t\t\r\n\t\tJLabel l_hSignIn = new JLabel(&quot;Sign In&quot;);\r\n\t\tl_hSignIn.setFont( l_hSignIn.getFont().deriveFont(30f) );\r\n\t\tl_hSignIn.setBounds(120,24,100, 40);\r\n\t\tl_hSignIn.setForeground(Color.white);\r\n\t\tf.add(l_hSignIn);\r\n\t\t\r\n\t\tJLabel l_UserName = new JLabel(&quot;User Name&quot;);\r\n\t\tl_UserName.setBounds(140,120,100, 40);\r\n\t\tl_UserName.setForeground(Color.white);\r\n\t\tf.add(l_UserName);\r\n\t\t\r\n\t\tJLabel l_Password = new JLabel(&quot;Password&quot;);\r\n\t\tl_Password.setBounds(140,200,100, 40);\r\n\t\tl_Password.setForeground(Color.white);\r\n\t\tf.add(l_Password);\r\n\t\t\r\n\t\tJLabel l_Signup = new JLabel(&quot;Dont have an account?&quot;);\r\n\t\tl_Signup.setBounds(20,380,150, 40);\r\n\t\tl_Signup.setForeground(Color.white);\r\n\t\tf.add(l_Signup);\r\n\t\r\n\t\t//-----------------------------------Creating TextFields--------------------------------------------------\t\t\r\n\t\tJTextField tf_UserName = new JTextField();\r\n\t\ttf_UserName.setBounds(80,170,180, 25);\r\n\t\tf.add(tf_UserName);\r\n\t\t\r\n\t\tJPasswordField tf_Password = new JPasswordField();\r\n\t\ttf_Password.setBounds(80,250,180, 25);\r\n\t\tf.add(tf_Password);\r\n\t\t\t\r\n\t\t//-------------------------------------Creating Buttons--------------------------------------------------\r\n\t\tJButton btn_SignIn = new JButton(&quot;Sign In&quot;);\r\n\t\tbtn_SignIn.setFont( btn_SignIn.getFont().deriveFont(18f) );\r\n\t\tbtn_SignIn.setBackground( new Color(0, 204, 153) );\r\n\t\tbtn_SignIn.setForeground(Color.black);\r\n\t\tbtn_SignIn.setBounds(120,300,110, 40);\r\n\t\tf.add(btn_SignIn);\r\n\t\t\r\n\t\tJButton btn_SignUp = new JButton(&quot;Sign Up&quot;);\r\n\t\tbtn_SignUp.setFont( btn_SignUp.getFont().deriveFont(18f) );\r\n\t\tbtn_SignUp.setBackground( new Color(0, 204, 153) );\r\n\t\tbtn_SignUp.setForeground(Color.black);\r\n\t\tbtn_SignUp.setBounds(180,380,110, 40);\r\n\t\tf.add(btn_SignUp);\r\n\t\t\r\n\t\t//---------------------------------------SignUp functionality----------------------------------------------\r\n\t\t\r\n\t\t\t\tbtn_SignUp.addActionListener(new ActionListener() {\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\t\t\t\t\t\t\r\n\t\t\t\t\topen_Signup_form_1(frame, client);\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\r\n\t\t//----------------------------------Sign in Functionality-----------------------------------------------\t\t\r\n\t\tbtn_SignIn.addActionListener( new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\t\r\n\t\t\t\tMap&lt;String, Client&gt; user = (Map&lt;String, Client&gt;) new Client();\r\n//\t\t\t\tHashMap&lt;String, Client&gt; logininfo = new HashMap&lt;String, Client&gt;();\t\t\t\t\r\n\t\t\t\tuser = user\r\n\t\t\t\t\r\n\t\t\t\tif(e.getSource() == btn_SignIn) {\r\n\t\t\t\t\tString userId = tf_UserName.getText();\r\n\t\t\t\t\tString password = String.valueOf(tf_Password.getPassword());\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(client.containsKey(userId)) {\r\n\t\t\t\t\t\t if (client.get(userId).equals(password)) {\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tClient Client = new Client( client.getName(), null, null, null, null, null );\r\n\t\t\t\t\t\t\t\t\t\tframe.remove(f);\r\n\t\t\t\t\t\t\t\t\t\tframe.repaint();\r\n\t\t\t\t\t\t\t\t\t\tframe.validate();\r\n\t\t\t\t\t\t\t\t\t\topenClientMenu(frame,client);\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t }else {\r\n\t\t\t\t\t\t\t System.out.println(&quot;Wrong username or password.&quot;);\r\n\t\t\t\t\t\t }\t\t\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Wrong username or password.&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t}\t\t\r\n\t\t});\r\n\t\tremakeScreen(frame, f);\r\n\t}\r\n```\r\n","title":"Use hashMap from another class","body":"<p>I'm trying to implement a simple login form in my application. I have created a class <code>client.java</code> in which I instantiated a hashMap:</p>\n<pre><code>package com.xbank.event;\nimport com.xbank.service.*;\nimport java.text.*;\nimport java.util.*;\n\npublic  class Client {\n    \n    public static Map&lt;String, Client&gt; clientMap;\n    public String name;\n    public String username;\n    public String password;\n    public Double balance;\n    public String address;\n    public String phone;\n    \n    // Default Constructor\n    public Client() {\n        name = &quot;&quot;;\n        address = &quot;&quot;;\n        phone = &quot;&quot;;\n        username = &quot;&quot;;\n        password = &quot;&quot;;\n        balance = 0.0;\n        clientMap = new HashMap&lt;String, Client&gt;();\n    }\n\n    // Parameterized Constructor\n    public Client(String name, String username,String password, String phone, String address, Date date) {\n        \n        this.name = name;\n        this.username = username;\n        this.password = password;\n        this.address = address;\n        this.phone = phone;\n    }\n    \n    public void verify_login(String username, String password)\n    {\n        \n        Client client = new Client();\n        \n        client = new Client(username, password, name, address, phone, new Date());\n        clientMap.put(username, client);\n        \n        if (clientMap.containsKey(username)) {\n            System.out.println(username);\n            client = client.clientMap.get(username);\n            if(client.password.equals(password)) {\n                System.out.println(password);\n            }\n            else {\n                System.out.println(&quot;Wrong password&quot;);\n            }\n        }\n        else {\n            System.out.println(&quot;Wrong username&quot;);\n        }\n        \n    }\n    \n    \n    public static  Map&lt;String, Client&gt; getLoginInfo() {\n        return clientMap;\n    }\n    \n    \n    void showClientInfo() {\n        System.out.println(&quot;Name: &quot;+name);\n        System.out.println(&quot;Phone Name: &quot;+phone);\n        System.out.println(&quot;Address Name: &quot;+address);\n    }\n    \n    \n    public String getName() {\n        return name;\n    }\n    \n    public String getPhone() {\n        return phone;\n    }\n    \n    \n    public String getAddress() {\n        return address;\n    }\n    \n    public String getUsername() {\n        return username;\n    }\n    \n    public String getPassword() {\n        return password;\n    }\n    \n    \n    // end of class\n}\n</code></pre>\n<p>I want to access the hashMap from a GUI class that I have created, and set the conditions to login, but I can't find a way to do this</p>\n<p>GUI class:</p>\n<pre><code>public class GUI {\n    \n    // remake the screen\n    public void remakeScreen(JFrame frame, JPanel f) {\n        f.setLayout(null); \n        frame.setContentPane(f);\n        frame.setVisible(true);\n    }   \n    \n    //------------------------------------------------------------\n    //               Login Related Screen Functions               |\n    //------------------------------------------------------------\n    \n    \n    // sign in form which is displayed at the start of program\n    public void openSignInForm(JFrame frame, Client client) {\n        JPanel f = new JPanel();        \n        f.setBackground(Color.black);\n        \n        // main screen picture\n        JLabel imgLabel = new JLabel(new ImageIcon( System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/java/com/xbank/icon/image-1.png&quot;));\n        imgLabel.setBounds(300,50,450, 400 );\n        f.add(imgLabel);\n        \n        //---------------------------------Creating Labels------------------------------------------        \n        JLabel l_hSignIn = new JLabel(&quot;Sign In&quot;);\n        l_hSignIn.setFont( l_hSignIn.getFont().deriveFont(30f) );\n        l_hSignIn.setBounds(120,24,100, 40);\n        l_hSignIn.setForeground(Color.white);\n        f.add(l_hSignIn);\n        \n        JLabel l_UserName = new JLabel(&quot;User Name&quot;);\n        l_UserName.setBounds(140,120,100, 40);\n        l_UserName.setForeground(Color.white);\n        f.add(l_UserName);\n        \n        JLabel l_Password = new JLabel(&quot;Password&quot;);\n        l_Password.setBounds(140,200,100, 40);\n        l_Password.setForeground(Color.white);\n        f.add(l_Password);\n        \n        JLabel l_Signup = new JLabel(&quot;Dont have an account?&quot;);\n        l_Signup.setBounds(20,380,150, 40);\n        l_Signup.setForeground(Color.white);\n        f.add(l_Signup);\n    \n        //-----------------------------------Creating TextFields--------------------------------------------------      \n        JTextField tf_UserName = new JTextField();\n        tf_UserName.setBounds(80,170,180, 25);\n        f.add(tf_UserName);\n        \n        JPasswordField tf_Password = new JPasswordField();\n        tf_Password.setBounds(80,250,180, 25);\n        f.add(tf_Password);\n            \n        //-------------------------------------Creating Buttons--------------------------------------------------\n        JButton btn_SignIn = new JButton(&quot;Sign In&quot;);\n        btn_SignIn.setFont( btn_SignIn.getFont().deriveFont(18f) );\n        btn_SignIn.setBackground( new Color(0, 204, 153) );\n        btn_SignIn.setForeground(Color.black);\n        btn_SignIn.setBounds(120,300,110, 40);\n        f.add(btn_SignIn);\n        \n        JButton btn_SignUp = new JButton(&quot;Sign Up&quot;);\n        btn_SignUp.setFont( btn_SignUp.getFont().deriveFont(18f) );\n        btn_SignUp.setBackground( new Color(0, 204, 153) );\n        btn_SignUp.setForeground(Color.black);\n        btn_SignUp.setBounds(180,380,110, 40);\n        f.add(btn_SignUp);\n        \n        //---------------------------------------SignUp functionality----------------------------------------------\n        \n                btn_SignUp.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent e) {                        \n                    open_Signup_form_1(frame, client);                      \n                    }\n                });\n        \n        //----------------------------------Sign in Functionality-----------------------------------------------        \n        btn_SignIn.addActionListener( new ActionListener() {\n            public void actionPerformed(ActionEvent e) {    \n                Map&lt;String, Client&gt; user = (Map&lt;String, Client&gt;) new Client();\n//              HashMap&lt;String, Client&gt; logininfo = new HashMap&lt;String, Client&gt;();              \n                user = user\n                \n                if(e.getSource() == btn_SignIn) {\n                    String userId = tf_UserName.getText();\n                    String password = String.valueOf(tf_Password.getPassword());\n                    \n                    if(client.containsKey(userId)) {\n                         if (client.get(userId).equals(password)) {                             \n                                        Client Client = new Client( client.getName(), null, null, null, null, null );\n                                        frame.remove(f);\n                                        frame.repaint();\n                                        frame.validate();\n                                        openClientMenu(frame,client);                           \n                         }else {\n                             System.out.println(&quot;Wrong username or password.&quot;);\n                         }                      \n                    } else {\n                        System.out.println(&quot;Wrong username or password.&quot;);\n                    }\n                }\n                }       \n        });\n        remakeScreen(frame, f);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","http-request-parameters"],"answers":[{"comments":[{"owner":{"account_id":11521080,"reputation":39,"user_id":8442830,"display_name":"Deep Shah"},"score":0,"creation_date":1668694503,"post_id":74476543,"comment_id":131472273,"body_markdown":"Thanks ! But I am new to spring boot so can you tell me how do i send the data from javascript to my controller method..","body":"Thanks ! But I am new to spring boot so can you tell me how do i send the data from javascript to my controller method.."},{"owner":{"account_id":11521080,"reputation":39,"user_id":8442830,"display_name":"Deep Shah"},"score":0,"creation_date":1668703433,"post_id":74476543,"comment_id":131476013,"body_markdown":"Can you help me with this please..","body":"Can you help me with this please.."},{"owner":{"display_name":"user15660680"},"score":0,"creation_date":1668747762,"post_id":74476543,"comment_id":131486473,"body_markdown":"no bro , im not good at spring boot","body":"no bro , im not good at spring boot"}],"tags":[],"owner":{"display_name":"user15660680"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668692724,"creation_date":1668692724,"answer_id":74476543,"question_id":74476391,"body_markdown":"By using Js \r\n````\r\nvar checkbox = document.querySelector(&quot;input[name=postcheckbox]&quot;);\r\n\r\ncheckbox.addEventListener(&#39;change&#39;, function() {\r\n  if (this.checked) {\r\n    console.log(&quot;Checkbox is checked..&quot;);\r\n    //pass to model\r\n\r\n  } else {\r\n    console.log(&quot;Checkbox is not checked..&quot;);\r\n    //pass to model\r\n\r\n  }\r\n});\r\n\r\n````","title":"How do i get changed value of a single checkbox in requestparam and pass it to ModelAndView in spring boot?","body":"<p>By using Js</p>\n<pre><code>var checkbox = document.querySelector(&quot;input[name=postcheckbox]&quot;);\n\ncheckbox.addEventListener('change', function() {\n  if (this.checked) {\n    console.log(&quot;Checkbox is checked..&quot;);\n    //pass to model\n\n  } else {\n    console.log(&quot;Checkbox is not checked..&quot;);\n    //pass to model\n\n  }\n});\n\n</code></pre>\n"}],"owner":{"account_id":11521080,"reputation":39,"user_id":8442830,"display_name":"Deep Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668692724,"creation_date":1668692099,"question_id":74476391,"body_markdown":"html file:\r\n\r\n         &lt;html&gt;\r\n       &lt;body&gt;\r\n          &lt;label&gt;\r\n        &lt;input type=&quot;checkbox&quot; name=&quot;postcheckbox&quot; /&gt;\r\n            demo checkbox\r\n        &lt;/label&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI want to get the value of changed state of checkbox in my controller.","title":"How do i get changed value of a single checkbox in requestparam and pass it to ModelAndView in spring boot?","body":"<p>html file:</p>\n<pre><code>     &lt;html&gt;\n   &lt;body&gt;\n      &lt;label&gt;\n    &lt;input type=&quot;checkbox&quot; name=&quot;postcheckbox&quot; /&gt;\n        demo checkbox\n    &lt;/label&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I want to get the value of changed state of checkbox in my controller.</p>\n"},{"tags":["java","postgresql","spring-data-jpa"],"comments":[{"owner":{"account_id":5900048,"reputation":67,"user_id":4643879,"display_name":"jodoro"},"score":0,"creation_date":1668687573,"post_id":74474905,"comment_id":131469423,"body_markdown":"findAllByParamIn(Iterable&lt;String&gt; params)","body":"findAllByParamIn(Iterable&lt;String&gt; params)"}],"answers":[{"comments":[{"owner":{"account_id":18977021,"reputation":107,"user_id":13849269,"display_name":"Axel HK"},"score":0,"creation_date":1668689478,"post_id":74475103,"comment_id":131470095,"body_markdown":"thanks for answering, but I think i need bit different. \nFor example I have Entity User with name, sername, address, age.\nIn one case I want to choose only name, in other surname, age and address. And e.t.c\nIn article u send, I guess I need to write to many different interface to emulate dynamically output of rows","body":"thanks for answering, but I think i need bit different.  For example I have Entity User with name, sername, address, age. In one case I want to choose only name, in other surname, age and address. And e.t.c In article u send, I guess I need to write to many different interface to emulate dynamically output of rows"},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1668691995,"post_id":74475103,"comment_id":131471186,"body_markdown":"I added some truly dynamic possibilities, but since Java doesn&#39;t really have dynamic objects anyway I am not sure if that&#39;s really a good way to do things.","body":"I added some truly dynamic possibilities, but since Java doesn&#39;t really have dynamic objects anyway I am not sure if that&#39;s really a good way to do things."}],"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668691913,"creation_date":1668686423,"answer_id":74475103,"question_id":74474905,"body_markdown":"You can create interfaces to represent a View like the following:\r\n\r\n    public interface UserView {\r\n    \tString getName();\r\n    }\r\n\r\nand then put it as the return value in your repository:\r\n\r\n    UserView findAll();\r\n\r\nYou can also implement a dynamic projection the following way:\r\n\r\n    T findAll(Class&lt;T&gt; type);\r\n\r\nand call it like\r\n\r\n    userRepository.findAll(UserView.class)\r\n    userRepository.findAll(User.class)\r\n\r\nRead more about projection here: https://www.baeldung.com/spring-data-jpa-projections\r\n\r\nEdit\r\n\r\nYou can be truely dynamic if you use javax.persistence.Tuple as return value in your interface:\r\n\r\n    Tuple findAll();\r\n\r\nHowever you have to extract the data yourself then:\r\n\r\n    tuple.get(&quot;NAME&quot;, String.class)\r\n\r\nHowever that still selects all fields from the database. If you truely want dynamic sql queries you can call EntityManager to create a dynamic SQL:\r\n\r\n    entityManager.createQuery(&quot;select ...&quot;), Tuple.class).getResultList();\r\n\r\nIf you do that make sure to not be vulnerable for SQL injection!","title":"JPA Query. Path array of parameters that need to be selected","body":"<p>You can create interfaces to represent a View like the following:</p>\n<pre><code>public interface UserView {\n    String getName();\n}\n</code></pre>\n<p>and then put it as the return value in your repository:</p>\n<pre><code>UserView findAll();\n</code></pre>\n<p>You can also implement a dynamic projection the following way:</p>\n<pre><code>T findAll(Class&lt;T&gt; type);\n</code></pre>\n<p>and call it like</p>\n<pre><code>userRepository.findAll(UserView.class)\nuserRepository.findAll(User.class)\n</code></pre>\n<p>Read more about projection here: <a href=\"https://www.baeldung.com/spring-data-jpa-projections\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-projections</a></p>\n<p>Edit</p>\n<p>You can be truely dynamic if you use javax.persistence.Tuple as return value in your interface:</p>\n<pre><code>Tuple findAll();\n</code></pre>\n<p>However you have to extract the data yourself then:</p>\n<pre><code>tuple.get(&quot;NAME&quot;, String.class)\n</code></pre>\n<p>However that still selects all fields from the database. If you truely want dynamic sql queries you can call EntityManager to create a dynamic SQL:</p>\n<pre><code>entityManager.createQuery(&quot;select ...&quot;), Tuple.class).getResultList();\n</code></pre>\n<p>If you do that make sure to not be vulnerable for SQL injection!</p>\n"}],"owner":{"account_id":18977021,"reputation":107,"user_id":13849269,"display_name":"Axel HK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74475103,"answer_count":1,"score":0,"last_activity_date":1668691913,"creation_date":1668685466,"question_id":74474905,"body_markdown":"I need to choose dynamically which parameters should be in query output. Is there any way to do something like that:\r\n```\r\n@Query(value = &quot;select params = :arrayOfParams from myTable&quot;, nativeQuery = true)\r\nUser findparamsAll(@Param(&quot;arrayOfParams&quot;) List&lt;String&gt; params);\r\n```\r\nFor example I have Entity User with name, surname, address, age.\r\nIn one case I want to choose only name, in other sername, age and address. And e.t.c","title":"JPA Query. Path array of parameters that need to be selected","body":"<p>I need to choose dynamically which parameters should be in query output. Is there any way to do something like that:</p>\n<pre><code>@Query(value = &quot;select params = :arrayOfParams from myTable&quot;, nativeQuery = true)\nUser findparamsAll(@Param(&quot;arrayOfParams&quot;) List&lt;String&gt; params);\n</code></pre>\n<p>For example I have Entity User with name, surname, address, age.\nIn one case I want to choose only name, in other sername, age and address. And e.t.c</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":13537270,"reputation":379,"user_id":9766057,"display_name":"ebenjs"},"score":0,"creation_date":1668679892,"post_id":74473314,"comment_id":131466635,"body_markdown":"Why are you handling requests with that RequestPayload class. You can create API with just some annotations and functions. Follow the documentation : https://spring.io/guides/tutorials/rest/","body":"Why are you handling requests with that RequestPayload class. You can create API with just some annotations and functions. Follow the documentation : <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">spring.io/guides/tutorials/rest</a>"}],"answers":[{"tags":[],"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668691664,"creation_date":1668680151,"answer_id":74473664,"question_id":74473314,"body_markdown":"You need a POJO class that will match the structure of your JSON payload, actually a few nested classes. Spring will automatically parse JSON into this POJO.\r\n\r\n```\r\npublic class Request {\r\n    private RequestPayload reqPayload;\r\n    // Getter Setter\r\n}\r\n\r\npublic class RequestPayload {\r\n    private Checklist checklist;\r\n    // Getter Setter\r\n}\r\n\r\npublic class Checklist {\r\n    @JsonProperty(&quot;pol_pkg_prod_code&quot;)\r\n    private String polPkgProdCode;\r\n}\r\n```\r\nThen add it to Controller as an argument like this:\r\n```\r\n@RequestBody Request request\r\n```\r\n\r\nThis tutorial explains it well\r\nhttps://www.baeldung.com/spring-request-response-body","title":"I am trying to create an API using SpringBoot but I don&#39;t know how to handle json request/response","body":"<p>You need a POJO class that will match the structure of your JSON payload, actually a few nested classes. Spring will automatically parse JSON into this POJO.</p>\n<pre><code>public class Request {\n    private RequestPayload reqPayload;\n    // Getter Setter\n}\n\npublic class RequestPayload {\n    private Checklist checklist;\n    // Getter Setter\n}\n\npublic class Checklist {\n    @JsonProperty(&quot;pol_pkg_prod_code&quot;)\n    private String polPkgProdCode;\n}\n</code></pre>\n<p>Then add it to Controller as an argument like this:</p>\n<pre><code>@RequestBody Request request\n</code></pre>\n<p>This tutorial explains it well\n<a href=\"https://www.baeldung.com/spring-request-response-body\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-request-response-body</a></p>\n"}],"owner":{"account_id":22954739,"reputation":57,"user_id":17085470,"display_name":"Sunny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74473664,"answer_count":1,"score":0,"last_activity_date":1668691664,"creation_date":1668678592,"question_id":74473314,"body_markdown":"I am new to Java and Spring boot. I am creating a new API.\r\nUsing postman I am sending a request body which contains request header and request payload.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/77U12.png\r\n\r\n\r\n\r\n\r\n\r\n\r\nThen I have a controller which handles the request with the help of RequestPayload class. (And a service and dao file but I am sure those are ok.)\r\n\r\nKindly let me know what Am I missing here or what do I not know.\r\n\r\n    public class RequestPayload {\r\n    \r\n    \tString pol_pkg_prod_code;\r\n    \tJSONObject checklist;\r\n    \t\r\n    \tpublic JSONObject getCheckList() {\r\n    \t\treturn checklist;\r\n    \t}\r\n    \tpublic void setCheckList(JSONObject checklist) {\r\n    \t\tthis.checklist = checklist;\r\n    \t}\r\n    \tpublic String pol_pkg_prod_code() {\r\n    \t\treturn pol_pkg_prod_code;\r\n    \t}\r\n    \tpublic void setpol_pkg_prod_code(String pol_pkg_prod_code) {\r\n    \t\tthis.pol_pkg_prod_code = pol_pkg_prod_code;\r\n    \t}","title":"I am trying to create an API using SpringBoot but I don&#39;t know how to handle json request/response","body":"<p>I am new to Java and Spring boot. I am creating a new API.\nUsing postman I am sending a request body which contains request header and request payload.</p>\n<p><a href=\"https://i.stack.imgur.com/77U12.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/77U12.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I have a controller which handles the request with the help of RequestPayload class. (And a service and dao file but I am sure those are ok.)</p>\n<p>Kindly let me know what Am I missing here or what do I not know.</p>\n<pre><code>public class RequestPayload {\n\n    String pol_pkg_prod_code;\n    JSONObject checklist;\n    \n    public JSONObject getCheckList() {\n        return checklist;\n    }\n    public void setCheckList(JSONObject checklist) {\n        this.checklist = checklist;\n    }\n    public String pol_pkg_prod_code() {\n        return pol_pkg_prod_code;\n    }\n    public void setpol_pkg_prod_code(String pol_pkg_prod_code) {\n        this.pol_pkg_prod_code = pol_pkg_prod_code;\n    }\n</code></pre>\n"},{"tags":["java","regex","string","string-comparison"],"comments":[{"owner":{"account_id":212518,"reputation":43399,"user_id":465378,"accept_rate":85,"display_name":"Alexis King"},"score":4,"creation_date":1422515115,"post_id":28208793,"comment_id":44782269,"body_markdown":"It&#39;s faster to not care about premature optimization and just write code.","body":"It&#39;s faster to not care about premature optimization and just write code."},{"owner":{"account_id":212518,"reputation":43399,"user_id":465378,"accept_rate":85,"display_name":"Alexis King"},"score":0,"creation_date":1422515169,"post_id":28208793,"comment_id":44782290,"body_markdown":"(But almost certainly `.contains` if you&#39;re just looking for text.)","body":"(But almost certainly <code>.contains</code> if you&#39;re just looking for text.)"},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1422515220,"post_id":28208793,"comment_id":44782313,"body_markdown":"I&#39;m writing, and I definitely take your point. I&#39;m just curious is all :-D","body":"I&#39;m writing, and I definitely take your point. I&#39;m just curious is all :-D"},{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":5,"creation_date":1422515560,"post_id":28208793,"comment_id":44782489,"body_markdown":"@bot_bot Then why don&#39;t you *measure* it? It&#39;s not that difficult to do, right? Besides, unless you think you are the first person in the world to have that question, searching for it on the Internet will very likely provide an answer as well. And besides *that*, you are supposed to use a JSON parser to read JSON, and *nothing else*.","body":"@bot_bot Then why don&#39;t you <i>measure</i> it? It&#39;s not that difficult to do, right? Besides, unless you think you are the first person in the world to have that question, searching for it on the Internet will very likely provide an answer as well. And besides <i>that</i>, you are supposed to use a JSON parser to read JSON, and <i>nothing else</i>."},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":1,"creation_date":1422515814,"post_id":28208793,"comment_id":44782606,"body_markdown":"You actually should be using a JSON parser for JSON data, not regexes.","body":"You actually should be using a JSON parser for JSON data, not regexes."},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1422516386,"post_id":28208793,"comment_id":44782881,"body_markdown":"@Tomalak and Chris Jester-Young , I&#39;m reading a byte stream from a socket, the client is transmitting ascii chars, I&#39;m looking for that string so I know when the string is ready to pass into a JSONObject. Should I use something else to mark end of message (\\n for example) and use something like google-json instead?","body":"@Tomalak and Chris Jester-Young , I&#39;m reading a byte stream from a socket, the client is transmitting ascii chars, I&#39;m looking for that string so I know when the string is ready to pass into a JSONObject. Should I use something else to mark end of message (\\n for example) and use something like google-json instead?"},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1422516652,"post_id":28208793,"comment_id":44782999,"body_markdown":"If this question were to ask about the performance of searching for a fixed string from a haystack, then it might be interesting, but your question body just doesn&#39;t make sense here.","body":"If this question were to ask about the performance of searching for a fixed string from a haystack, then it might be interesting, but your question body just doesn&#39;t make sense here."},{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":0,"creation_date":1422516726,"post_id":28208793,"comment_id":44783032,"body_markdown":"Regular expressions don&#39;t operate on byte streams from sockets, they operate on strings. The same goes for `.contains()`. So you&#39;d have to receive the string first and that means the whole &quot;socket&quot; thing is irrelevant. When you have received the string, is it JSON or not? If yes, use a JSON parser.","body":"Regular expressions don&#39;t operate on byte streams from sockets, they operate on strings. The same goes for <code>.contains()</code>. So you&#39;d have to receive the string first and that means the whole &quot;socket&quot; thing is irrelevant. When you have received the string, is it JSON or not? If yes, use a JSON parser."},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1422517028,"post_id":28208793,"comment_id":44783171,"body_markdown":"@Tomalak it is JSON, but I need to know when the client has finished sending. Am I worrying about noting here? should I just wait until `SocketChannel.read()` returns 0 before I parse the JSON? Once I have analysed the JSON message I need to respond.","body":"@Tomalak it is JSON, but I need to know when the client has finished sending. Am I worrying about noting here? should I just wait until <code>SocketChannel.read()</code> returns 0 before I parse the JSON? Once I have analysed the JSON message I need to respond."},{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":0,"creation_date":1422517928,"post_id":28208793,"comment_id":44783599,"body_markdown":"Hm. There are libraries that do these low-level things for you. Why are you reading the socket yourself? That&#39;s a solved problem, you don&#39;t need to write your own implementation. (It starts to look like &quot;what is faster&quot; isn&#39;t your primary problem at all...)","body":"Hm. There are libraries that do these low-level things for you. Why are you reading the socket yourself? That&#39;s a solved problem, you don&#39;t need to write your own implementation. (It starts to look like &quot;what is faster&quot; isn&#39;t your primary problem at all...)"},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":1,"creation_date":1422519110,"post_id":28208793,"comment_id":44784178,"body_markdown":"I&#39;m working with a small embedded device with limited capabilities. it can only send bytes, it doesn&#39;t implement HTTP, we have to write our own protocol. I am looking at using something like Spring reactor to try implement this eventually, but with my lack of experience with NIO (and a lot of other stuff) I&#39;m prototyping first so I get an understanding of SocketChannels. Reactor (and quite a lot of Spring) is way over my head right now.  I&#39;ve successfully implemented a small single threaded server using  NIO ServerSocketChannels and SocketChannels. So that&#39;s where I am currently :-)","body":"I&#39;m working with a small embedded device with limited capabilities. it can only send bytes, it doesn&#39;t implement HTTP, we have to write our own protocol. I am looking at using something like Spring reactor to try implement this eventually, but with my lack of experience with NIO (and a lot of other stuff) I&#39;m prototyping first so I get an understanding of SocketChannels. Reactor (and quite a lot of Spring) is way over my head right now.  I&#39;ve successfully implemented a small single threaded server using  NIO ServerSocketChannels and SocketChannels. So that&#39;s where I am currently :-)"},{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":0,"creation_date":1422560871,"post_id":28208793,"comment_id":44809501,"body_markdown":"I see. I&#39;d first establish a protocol that gives the incoming stream a structure. JSON is defined a string of *Unicode characters* (not bytes!), so the first thing to do is to decide whether you want to support Unicode at all. If you don&#39;t, you could use 0x0 as the message terminator. Otherwise you can&#39;t, because Unicode byte encodings contain 0x0 themselves and you&#39;d have to think of a different terminator.","body":"I see. I&#39;d first establish a protocol that gives the incoming stream a structure. JSON is defined a string of <i>Unicode characters</i> (not bytes!), so the first thing to do is to decide whether you want to support Unicode at all. If you don&#39;t, you could use 0x0 as the message terminator. Otherwise you can&#39;t, because Unicode byte encodings contain 0x0 themselves and you&#39;d have to think of a different terminator."},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1422606128,"post_id":28208793,"comment_id":44825792,"body_markdown":"OK, this is very helpful, thanks! I&#39;ve definitely been over thinking things.","body":"OK, this is very helpful, thanks! I&#39;ve definitely been over thinking things."}],"answers":[{"comments":[{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":2,"creation_date":1422516006,"post_id":28208935,"comment_id":44782690,"body_markdown":"The important point is that both regex and `contains` are *incorrect*. It doesn&#39;t matter which incorrect procedure is faster than the other one.","body":"The important point is that both regex and <code>contains</code> are <i>incorrect</i>. It doesn&#39;t matter which incorrect procedure is faster than the other one."},{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":0,"creation_date":1541421682,"post_id":28208935,"comment_id":93199519,"body_markdown":"@Buffalo They are incorrect because they look at the *unparsed* JSON text. And as far as JSON is concerned, `{&quot;Message&quot; : &quot;END&quot;}` and `{&quot;\\u004d\\u0065\\u0073\\u0073\\u0061\\u0067\\u0065&quot;: &quot;\\u0045\\u004e\\u0044&quot;}` are _exactly the same thing_. The string-contains search will only find one of them. Real-world situations might be more subtle than that, but the point remains - JSON must be parsed before inspecting the contents. Not doing so is a bug waiting to happen.","body":"@Buffalo They are incorrect because they look at the <i>unparsed</i> JSON text. And as far as JSON is concerned, <code>{&quot;Message&quot; : &quot;END&quot;}</code> and <code>{&quot;\\u004d\\u0065\\u0073\\u0073\\u0061\\u0067\\u0065&quot;: &quot;\\u0045\\u004e\\u0044&quot;}</code> are <i>exactly the same thing</i>. The string-contains search will only find one of them. Real-world situations might be more subtle than that, but the point remains - JSON must be parsed before inspecting the contents. Not doing so is a bug waiting to happen."}],"tags":[],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1422515643,"creation_date":1422515643,"answer_id":28208935,"question_id":28208793,"body_markdown":"They&#39;re both fast enough to be over before you know it. Better to go for the one that you can read more easily. \r\n\r\nBut from forums, blogs `contains` is faster, but still negligible performance difference","title":"In Java, which is faster - String.contains(&quot;some text&quot;) or Regex that looks for same text?","body":"<p>They're both fast enough to be over before you know it. Better to go for the one that you can read more easily. </p>\n\n<p>But from forums, blogs <code>contains</code> is faster, but still negligible performance difference</p>\n"},{"tags":[],"owner":{"account_id":373694,"reputation":1730,"user_id":723497,"accept_rate":83,"display_name":"Wilts C"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1668690807,"creation_date":1422516017,"answer_id":28209014,"question_id":28208793,"body_markdown":"I had tried both approaches and repeated them over 100k times and `String.contains()` is a lot faster than Regex.\r\n\r\nHowever `String.Contains()` is only useful for checking the existence of an exact sub&#173;string, whereas Regex allows you to do more wonders. So it depends.","title":"In Java, which is faster - String.contains(&quot;some text&quot;) or Regex that looks for same text?","body":"<p>I had tried both approaches and repeated them over 100k times and <code>String.contains()</code> is a lot faster than Regex.</p>\n<p>However <code>String.Contains()</code> is only useful for checking the existence of an exact sub­string, whereas Regex allows you to do more wonders. So it depends.</p>\n"},{"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":1,"creation_date":1422519904,"post_id":28209057,"comment_id":44784536,"body_markdown":"I don&#39;t know why you are quoting from my post, since the other post doesn&#39;t say anything about the performance.","body":"I don&#39;t know why you are quoting from my post, since the other post doesn&#39;t say anything about the performance."},{"owner":{"account_id":1293741,"reputation":4913,"user_id":1245337,"accept_rate":100,"display_name":"atish shimpi"},"score":0,"creation_date":1422530032,"post_id":28209057,"comment_id":44790220,"body_markdown":"@nhahtdh In your post you explained very well about `String.contains` and Regex, and I thought it&#39;s better to provide some explanation with , why explanation of why `String.contains` is faster then `Regex`. Please comment if you want I delete my post.","body":"@nhahtdh In your post you explained very well about <code>String.contains</code> and Regex, and I thought it&#39;s better to provide some explanation with , why explanation of why <code>String.contains</code> is faster then <code>Regex</code>. Please comment if you want I delete my post."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":1,"creation_date":1422533589,"post_id":28209057,"comment_id":44792446,"body_markdown":"`String.contains` is not always faster than regex. For normal cases, `contains` is faster. However, in the worst case (like `aaaaaab` on `aaaaabaaaaabaaaaabaaaaab`...), depending on the regex implementation, it may uses advanced string matching algorithm, which guarantees linear time complexity. In such cases, the simple `indexOf` implementation will have quadratic time complexity.","body":"<code>String.contains</code> is not always faster than regex. For normal cases, <code>contains</code> is faster. However, in the worst case (like <code>aaaaaab</code> on <code>aaaaabaaaaabaaaaabaaaaab</code>...), depending on the regex implementation, it may uses advanced string matching algorithm, which guarantees linear time complexity. In such cases, the simple <code>indexOf</code> implementation will have quadratic time complexity."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":1,"creation_date":1422533749,"post_id":28209057,"comment_id":44792531,"body_markdown":"You can keep the quotes, but don&#39;t suggest that my quotes lead to your claims of the performances. I don&#39;t want people to think that I mentioned about the performance in the other post.","body":"You can keep the quotes, but don&#39;t suggest that my quotes lead to your claims of the performances. I don&#39;t want people to think that I mentioned about the performance in the other post."}],"tags":[],"owner":{"account_id":1293741,"reputation":4913,"user_id":1245337,"accept_rate":100,"display_name":"atish shimpi"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1422519818,"creation_date":1422516154,"answer_id":28209057,"question_id":28208793,"body_markdown":"From https://stackoverflow.com/questions/15130309/how-to-use-regex-in-string-contains-method-in-java\n\n&gt; ## String.contains\n&gt;\n&gt; `String.contains` works with String, period. It doesn&#39;t work with regex. It will check whether the exact String specified appear in the current String or not.\n&gt;\n&gt; Note that `String.contains` does not check for word boundary; it simply checks for substring.\n\n**Its performance is good it will take fraction of less seconds then Regex.**\n\n&gt; ## Regex solution\n&gt;\n&gt; Regex is more powerful than `String.contains`, since you can enforce word boundary on the keywords (among other things). This means you can search for the keywords as *words*, rather than just *substrings*.\n \n**So it is taking more time of execution to parse whole string.** \n\n  [1]: https://stackoverflow.com/questions/15130309/how-to-use-regex-in-string-contains-method-in-java","title":"In Java, which is faster - String.contains(&quot;some text&quot;) or Regex that looks for same text?","body":"<p>From <a href=\"https://stackoverflow.com/questions/15130309/how-to-use-regex-in-string-contains-method-in-java\">How to use regex in String.contains() method in Java</a></p>\n<blockquote>\n<h2>String.contains</h2>\n<p><code>String.contains</code> works with String, period. It doesn't work with regex. It will check whether the exact String specified appear in the current String or not.</p>\n<p>Note that <code>String.contains</code> does not check for word boundary; it simply checks for substring.</p>\n</blockquote>\n<p><strong>Its performance is good it will take fraction of less seconds then Regex.</strong></p>\n<blockquote>\n<h2>Regex solution</h2>\n<p>Regex is more powerful than <code>String.contains</code>, since you can enforce word boundary on the keywords (among other things). This means you can search for the keywords as <em>words</em>, rather than just <em>substrings</em>.</p>\n</blockquote>\n<p><strong>So it is taking more time of execution to parse whole string.</strong></p>\n"},{"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422517661,"creation_date":1422516710,"answer_id":28209202,"question_id":28208793,"body_markdown":"You can test it yourself by creating benchmark using [Caliper - Google&#39;s open-source framework](https://code.google.com/p/caliper/)\r\n\r\nRead more about [What is a microbenchmark?](https://code.google.com/p/caliper/wiki/JavaMicrobenchmarks)\r\n\r\n[Detailed Example](http://codingjunkie.net/micro-benchmarking-with-caliper/)","title":"In Java, which is faster - String.contains(&quot;some text&quot;) or Regex that looks for same text?","body":"<p>You can test it yourself by creating benchmark using <a href=\"https://code.google.com/p/caliper/\" rel=\"nofollow\">Caliper - Google's open-source framework</a></p>\n\n<p>Read more about <a href=\"https://code.google.com/p/caliper/wiki/JavaMicrobenchmarks\" rel=\"nofollow\">What is a microbenchmark?</a></p>\n\n<p><a href=\"http://codingjunkie.net/micro-benchmarking-with-caliper/\" rel=\"nofollow\">Detailed Example</a></p>\n"},{"tags":[],"owner":{"account_id":26320651,"reputation":49,"user_id":19982705,"display_name":"Shaikot37"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668691373,"creation_date":1668691373,"answer_id":74476221,"question_id":28208793,"body_markdown":"To determine which is the fastest you will have to benchmark your own system. However, regular expressions are complex and chances are that `String.Contains()` will be the fastest and in your case also the simplest solution.\r\n\r\nThe implementation of `String.Contains()` will eventually call the native method IndexOfString() and the implementation of that is only known by Microsoft. However, a good algorithm for implementing this method is using what is known as the Knuth–Morris–Pratt algorithm. The complexity of this algorithm is O(m + n) where m is the length of the string you are searching for and n is the length of the string you are searching making it a very efficient algorithm.\r\n\r\nActually, the efficiency of search using regular expression can be as low O(n) depending on the implementation so it may still be competetive in some situations. Only a benchmark will be able to determine this.\r\n","title":"In Java, which is faster - String.contains(&quot;some text&quot;) or Regex that looks for same text?","body":"<p>To determine which is the fastest you will have to benchmark your own system. However, regular expressions are complex and chances are that <code>String.Contains()</code> will be the fastest and in your case also the simplest solution.</p>\n<p>The implementation of <code>String.Contains()</code> will eventually call the native method IndexOfString() and the implementation of that is only known by Microsoft. However, a good algorithm for implementing this method is using what is known as the Knuth–Morris–Pratt algorithm. The complexity of this algorithm is O(m + n) where m is the length of the string you are searching for and n is the length of the string you are searching making it a very efficient algorithm.</p>\n<p>Actually, the efficiency of search using regular expression can be as low O(n) depending on the implementation so it may still be competetive in some situations. Only a benchmark will be able to determine this.</p>\n"}],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15564,"favorite_count":0,"down_vote_count":3,"up_vote_count":14,"accepted_answer_id":28208935,"answer_count":5,"score":11,"last_activity_date":1668691373,"creation_date":1422515063,"question_id":28208793,"body_markdown":"As the title says, just looking for a string to match a client finishing sending data over a socket, so I might be looking for something like `{&quot;Message&quot; : &quot;END&quot;}` in a JSON string for example. \r\nA the most the strings will be a few hundred chars long.","title":"In Java, which is faster - String.contains(&quot;some text&quot;) or Regex that looks for same text?","body":"<p>As the title says, just looking for a string to match a client finishing sending data over a socket, so I might be looking for something like <code>{\"Message\" : \"END\"}</code> in a JSON string for example. \nA the most the strings will be a few hundred chars long.</p>\n"},{"tags":["java","android","flutter","kotlin","mobile"],"answers":[{"comments":[{"owner":{"account_id":15601247,"reputation":272,"user_id":11255333,"display_name":"Oussama Rid&#233;ne"},"score":0,"creation_date":1668784947,"post_id":74476212,"comment_id":131497597,"body_markdown":"yes I confirm, that&#39;s what I did &#128578;","body":"yes I confirm, that&#39;s what I did 🙂"},{"owner":{"account_id":256036,"reputation":8140,"user_id":536485,"accept_rate":94,"display_name":"DarkNeuron"},"score":0,"creation_date":1685022716,"post_id":74476212,"comment_id":134605481,"body_markdown":"Remember the point of a WeakReference is that it can be null at any time, which your code doesn&#39;t handle.","body":"Remember the point of a WeakReference is that it can be null at any time, which your code doesn&#39;t handle."},{"owner":{"account_id":4030242,"reputation":138,"user_id":3316651,"display_name":"falconforce"},"score":0,"creation_date":1686665067,"post_id":74476212,"comment_id":134828187,"body_markdown":"Works well for me. But I had to call super.configureFlutterEngine(flutterEngine) in configureFlutterEngine() to make it work.","body":"Works well for me. But I had to call super.configureFlutterEngine(flutterEngine) in configureFlutterEngine() to make it work."}],"tags":[],"owner":{"account_id":25907075,"reputation":86,"user_id":19631991,"display_name":"Shaik Ahron"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1668691322,"creation_date":1668691322,"answer_id":74476212,"question_id":73334772,"body_markdown":"I too was searching for the solution. what i did was extend **MainActivity** with **FlutterFragmentActivity** and pass *this* to method channel handler.\r\n\r\n    \r\n\r\n        public class MainActivity extends FlutterFragmentActivity{\r\n               ...\r\n               @Override\r\n               public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) \r\n               {\r\n                  handlePickerMethodChannel(flutterEngine);\r\n               }\r\n            \r\n    \r\n            private void handlePickerMethodChannel(FlutterEngine flutterEngine) {\r\n                PickerMethodChannelHandler PickerMethodChannelHandler = new PickerMethodChannelHandler(new WeakReference&lt;&gt;(this));\r\n                new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), PHOTO_PICKER_METHOD_CHANNEL)\r\n                        .setMethodCallHandler(pickerMethodChannelHandler);\r\n            }\r\n        }\r\n\r\n    class PickerMethodChannelHandler(\r\n        private val activity: WeakReference&lt;Activity&gt;,\r\n    ) : MethodChannel.MethodCallHandler {\r\n    \r\n        private val pickMedia = (activity.get() as ComponentActivity).registerForActivityResult(ActivityResultContracts.PickVisualMedia()) { uri -&gt;\r\n            if (uri != null) {\r\n                Log.d(&quot;PhotoPicker&quot;, &quot;Selected URI: $uri&quot;)\r\n            } else {\r\n                Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;)\r\n            }\r\n        }\r\n    \r\n        override fun onMethodCall(call: MethodCall, result: MethodChannel.Result) {\r\n            when (call.method) {\r\n                &quot;pickMedia&quot; -&gt; pickMedia(call,result)\r\n                else -&gt; result.notImplemented()\r\n            }\r\n        }\r\n    \r\n        private fun pickMedia(call: MethodCall, result: MethodChannel.Result) {\r\n            val context = activity.get() as ComponentActivity\r\n    \r\n            Log.i(&quot;PICK_MEDIA&quot;,&quot;PICK ${context != null}&quot;)\r\n            pickMedia.launch(PickVisualMediaRequest(ActivityResultContracts.PickVisualMedia.ImageAndVideo))\r\n        }\r\n    \r\n    }\r\n\r\nIt worked \r\n\r\n\r\n","title":"registerForActivityResult is not working in Flutter","body":"<p>I too was searching for the solution. what i did was extend <strong>MainActivity</strong> with <strong>FlutterFragmentActivity</strong> and pass <em>this</em> to method channel handler.</p>\n<pre><code>    public class MainActivity extends FlutterFragmentActivity{\n           ...\n           @Override\n           public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) \n           {\n              handlePickerMethodChannel(flutterEngine);\n           }\n        \n\n        private void handlePickerMethodChannel(FlutterEngine flutterEngine) {\n            PickerMethodChannelHandler PickerMethodChannelHandler = new PickerMethodChannelHandler(new WeakReference&lt;&gt;(this));\n            new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), PHOTO_PICKER_METHOD_CHANNEL)\n                    .setMethodCallHandler(pickerMethodChannelHandler);\n        }\n    }\n\nclass PickerMethodChannelHandler(\n    private val activity: WeakReference&lt;Activity&gt;,\n) : MethodChannel.MethodCallHandler {\n\n    private val pickMedia = (activity.get() as ComponentActivity).registerForActivityResult(ActivityResultContracts.PickVisualMedia()) { uri -&gt;\n        if (uri != null) {\n            Log.d(&quot;PhotoPicker&quot;, &quot;Selected URI: $uri&quot;)\n        } else {\n            Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;)\n        }\n    }\n\n    override fun onMethodCall(call: MethodCall, result: MethodChannel.Result) {\n        when (call.method) {\n            &quot;pickMedia&quot; -&gt; pickMedia(call,result)\n            else -&gt; result.notImplemented()\n        }\n    }\n\n    private fun pickMedia(call: MethodCall, result: MethodChannel.Result) {\n        val context = activity.get() as ComponentActivity\n\n        Log.i(&quot;PICK_MEDIA&quot;,&quot;PICK ${context != null}&quot;)\n        pickMedia.launch(PickVisualMediaRequest(ActivityResultContracts.PickVisualMedia.ImageAndVideo))\n    }\n\n}\n</code></pre>\n<p>It worked</p>\n"}],"owner":{"account_id":15601247,"reputation":272,"user_id":11255333,"display_name":"Oussama Rid&#233;ne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74476212,"answer_count":1,"score":1,"last_activity_date":1668691322,"creation_date":1660310070,"question_id":73334772,"body_markdown":"I&#39;m trying to launch context from android MainActivity class to flutter.\r\n code : \r\n\r\n    val authResult = ComponentActivity().registerForActivityResult(PianoIdAuthResultContract()) { r -&gt;\r\n                    when (r) {\r\n                        null -&gt; { /* user cancelled Authorization process */ }\r\n                        is PianoIdAuthSuccessResult -&gt; {\r\n                            val token = r.token\r\n                            val isNewUserRegistered = r.isNewUser\r\n                            if (token != null) {\r\n                                if (token.emailConfirmationRequired) {\r\n                                    // process enabled Double opt-in\r\n                                }\r\n                            }\r\n                            // process successful authorization\r\n                        }\r\n                        is PianoIdAuthFailureResult -&gt; {\r\n                            val e = r.exception\r\n                            // Authorization failed, check e.cause for details\r\n                        }\r\n                    }\r\n                }\r\n\r\nand then calling the method launch \r\ncode : \r\n\r\n                try{\r\n                    authResult.launch(PianoId.signIn());\r\n                }catch (e : Exception){\r\n                    val text = e.message\r\n                    val duration = Toast.LENGTH_SHORT\r\n\r\n                    val toast = Toast.makeText(applicationContext, text, duration)\r\n                    toast.show()\r\n                }\r\n    \r\nand then I call this method from flutter by creating a channel between flutter and android and invoke it : \r\n\r\n    signInChannel.invokeMethod(&#39;testSignIn&#39;);\r\n\r\n\r\nwhen I press the sign in button it shows me this exception : \r\n\r\n&gt; Attempt to invoke virtual method &#39;android.app.ActivityThread$ApplicationThread android.app.ActivityThread.getApplicationThread()&#39; on a null object reference\r\n\r\n\r\n\r\n\r\n","title":"registerForActivityResult is not working in Flutter","body":"<p>I'm trying to launch context from android MainActivity class to flutter.\ncode :</p>\n<pre><code>val authResult = ComponentActivity().registerForActivityResult(PianoIdAuthResultContract()) { r -&gt;\n                when (r) {\n                    null -&gt; { /* user cancelled Authorization process */ }\n                    is PianoIdAuthSuccessResult -&gt; {\n                        val token = r.token\n                        val isNewUserRegistered = r.isNewUser\n                        if (token != null) {\n                            if (token.emailConfirmationRequired) {\n                                // process enabled Double opt-in\n                            }\n                        }\n                        // process successful authorization\n                    }\n                    is PianoIdAuthFailureResult -&gt; {\n                        val e = r.exception\n                        // Authorization failed, check e.cause for details\n                    }\n                }\n            }\n</code></pre>\n<p>and then calling the method launch\ncode :</p>\n<pre><code>            try{\n                authResult.launch(PianoId.signIn());\n            }catch (e : Exception){\n                val text = e.message\n                val duration = Toast.LENGTH_SHORT\n\n                val toast = Toast.makeText(applicationContext, text, duration)\n                toast.show()\n            }\n</code></pre>\n<p>and then I call this method from flutter by creating a channel between flutter and android and invoke it :</p>\n<pre><code>signInChannel.invokeMethod('testSignIn');\n</code></pre>\n<p>when I press the sign in button it shows me this exception :</p>\n<blockquote>\n<p>Attempt to invoke virtual method 'android.app.ActivityThread$ApplicationThread android.app.ActivityThread.getApplicationThread()' on a null object reference</p>\n</blockquote>\n"},{"tags":["java","asynchronous","executorservice","completable-future"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1668695296,"post_id":74475988,"comment_id":131472609,"body_markdown":"Sharing one ArrayList among several threads looks very suspicious and could be your problem. Try using a CopyOnWriteArrayList to see if it solves your problem. And if that works and performance is important, you could also use an array since you know the final size. But start with a concurrent list to check correctness.","body":"Sharing one ArrayList among several threads looks very suspicious and could be your problem. Try using a CopyOnWriteArrayList to see if it solves your problem. And if that works and performance is important, you could also use an array since you know the final size. But start with a concurrent list to check correctness."},{"owner":{"account_id":5951571,"reputation":94,"user_id":4679375,"display_name":"Sharan Rai"},"score":1,"creation_date":1668711016,"post_id":74475988,"comment_id":131478653,"body_markdown":"@assylias yes passing ArrayList was the issue. CopyOnWriteArrayList worked for me. Since it is expensive I used an array. Thanks","body":"@assylias yes passing ArrayList was the issue. CopyOnWriteArrayList worked for me. Since it is expensive I used an array. Thanks"}],"owner":{"account_id":5951571,"reputation":94,"user_id":4679375,"display_name":"Sharan Rai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668691128,"creation_date":1668690378,"question_id":74475988,"body_markdown":"Hi I am bit new to async programming and CompletableFuture. I want to run a list of task in asynchronously (using CompletableFuture) and update the result to multiple objects.\r\nOnce all the tasks in the list updates the objects, I want my method to execute next lines synchronously.\r\n \r\nI tried CompletableFuture.allOf() which Returns a new CompletableFuture that is completed when all of the given CompletableFutures are complete.\r\n\r\nBut in my case, I get it before all of the given CompletableFutures are complete. Please guide me if I am missing anything. \r\n\r\n\r\n\r\n ```\r\nList&lt;MyData&gt; data =  getFromAMethod();\r\nOutputObject  outputObject = new OutputObject();\r\nList&lt;AnotherValue&gt; valueList1 = new ArrayList&lt;&gt;();\r\nList&lt;Value&gt; valueList2 = new ArrayList&lt;&gt;();\r\n\r\nfor (MyData data : dataList) {\r\n  CompletableFuture&lt;Void&gt; requestCompletableFuture =\r\n      CompletableFuture.supplyAsync(\r\n              () -&gt; executeMyMethod(data))\r\n          .exceptionally(throwable -&gt; {\r\n                throw  new SomeCustomException&lt;&gt;();\r\n          })\r\n          .thenAccept(\r\n              outputFromMyMethod -&gt; {\r\n\r\n                if(outputObject.getSomeField()==null){\r\n                  outputObject,setSomeField(outputFromMyMethod.getField);\r\n                }\r\n                  valueList1.add(outputFromMyMethod.getValue1());\r\n                  valueList2.add(outputFromMyMethod.getValue2());\r\n\r\n              });\r\n  completableFutures.add(requestCompletableFuture);\r\n}\r\n\r\nCompletableFuture&lt;Void&gt; allOfcompletableFuture =\r\n    CompletableFuture.allOf(completableFutures.toArray(new CompletableFuture[0]));\r\n\r\nallOfcompletableFuture\r\n    .whenComplete(\r\n        (result, exception) -&gt; {\r\n          if (exception != null) {\r\n            throw new SomeCustomException();\r\n          } else {\r\n           outputObject.setValueList1(valueList1);\r\n           outputObject.setValueList2(valueList2);\r\n          }\r\n        })\r\n    .join();\r\n\r\n//  next lines will be executed by main thread\r\ntaskOutput.setDisplayOutputs(ffxFeeDisplayOutputList);\r\n\r\n```\r\n\r\nIn most of the runs valueList1 and valueList2 will not be getting updated with all the values, also I am not having any exceptions during these run.\r\nI have also tried with **get()** method call after **whenComplete** still I am facing same issue.\r\n\r\nI really appreciate any help you can provide.","title":"CompletableFuture.allOf() doesn’t wait untill all the runs are completed","body":"<p>Hi I am bit new to async programming and CompletableFuture. I want to run a list of task in asynchronously (using CompletableFuture) and update the result to multiple objects.\nOnce all the tasks in the list updates the objects, I want my method to execute next lines synchronously.</p>\n<p>I tried CompletableFuture.allOf() which Returns a new CompletableFuture that is completed when all of the given CompletableFutures are complete.</p>\n<p>But in my case, I get it before all of the given CompletableFutures are complete. Please guide me if I am missing anything.</p>\n<pre><code>List&lt;MyData&gt; data =  getFromAMethod();\nOutputObject  outputObject = new OutputObject();\nList&lt;AnotherValue&gt; valueList1 = new ArrayList&lt;&gt;();\nList&lt;Value&gt; valueList2 = new ArrayList&lt;&gt;();\n\nfor (MyData data : dataList) {\n CompletableFuture&lt;Void&gt; requestCompletableFuture =\n     CompletableFuture.supplyAsync(\n             () -&gt; executeMyMethod(data))\n         .exceptionally(throwable -&gt; {\n               throw  new SomeCustomException&lt;&gt;();\n         })\n         .thenAccept(\n             outputFromMyMethod -&gt; {\n\n               if(outputObject.getSomeField()==null){\n                 outputObject,setSomeField(outputFromMyMethod.getField);\n               }\n                 valueList1.add(outputFromMyMethod.getValue1());\n                 valueList2.add(outputFromMyMethod.getValue2());\n\n             });\n completableFutures.add(requestCompletableFuture);\n}\n\nCompletableFuture&lt;Void&gt; allOfcompletableFuture =\n   CompletableFuture.allOf(completableFutures.toArray(new CompletableFuture[0]));\n\nallOfcompletableFuture\n   .whenComplete(\n       (result, exception) -&gt; {\n         if (exception != null) {\n           throw new SomeCustomException();\n         } else {\n          outputObject.setValueList1(valueList1);\n          outputObject.setValueList2(valueList2);\n         }\n       })\n   .join();\n\n//  next lines will be executed by main thread\ntaskOutput.setDisplayOutputs(ffxFeeDisplayOutputList);\n\n</code></pre>\n<p>In most of the runs valueList1 and valueList2 will not be getting updated with all the values, also I am not having any exceptions during these run.\nI have also tried with <strong>get()</strong> method call after <strong>whenComplete</strong> still I am facing same issue.</p>\n<p>I really appreciate any help you can provide.</p>\n"},{"tags":["java","opengl","rendering","textures","transparency"],"comments":[{"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"score":4,"creation_date":1656939466,"post_id":72857055,"comment_id":128685930,"body_markdown":"Are you anywhere enable blending? `glEnable(GL_BLEND)`? If so, please add that and your shader to the question.","body":"Are you anywhere enable blending? <code>glEnable(GL_BLEND)</code>? If so, please add that and your shader to the question."},{"owner":{"account_id":2695276,"reputation":44364,"user_id":2327517,"display_name":"derhass"},"score":2,"creation_date":1656949454,"post_id":72857055,"comment_id":128689558,"body_markdown":"transparency is order-dependent. you draw these trees first, blending against the red background, and then add the &quot;background&quot; image, that won&#39;t work.","body":"transparency is order-dependent. you draw these trees first, blending against the red background, and then add the &quot;background&quot; image, that won&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":24102515,"reputation":9,"user_id":18074158,"display_name":"Ben Solo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668690520,"creation_date":1668690520,"answer_id":74476024,"question_id":72857055,"body_markdown":"To solve the problem with the red outlines I think you need to set the threshold for discarding the pixels a bit higher. \r\n\r\nMy suspicion is that the painting program didn&#180;t draw pixels entirely transparent. E.g. if a pixel would have an alpha value of 0.2 it wouldn&#180;t be discarded and despite being a bit transparent. Then the renderer tries to blend it with the background, because it isn&#180;t in the order.\r\n\r\nThe pixels are probably red because the you set the background color to red:\r\n\r\n    GL11.glClearColor(1.0f, 0.0f, 0.0f, 0.0f);\r\n\r\nSo the solution to this would either be to sort the objects from back to front or increase the discarding threshold in your fragment shader to something like 0.9.\r\n\r\n\r\n","title":"How to draw translucent/transparent textures with lwjgl?","body":"<p>To solve the problem with the red outlines I think you need to set the threshold for discarding the pixels a bit higher.</p>\n<p>My suspicion is that the painting program didn´t draw pixels entirely transparent. E.g. if a pixel would have an alpha value of 0.2 it wouldn´t be discarded and despite being a bit transparent. Then the renderer tries to blend it with the background, because it isn´t in the order.</p>\n<p>The pixels are probably red because the you set the background color to red:</p>\n<pre><code>GL11.glClearColor(1.0f, 0.0f, 0.0f, 0.0f);\n</code></pre>\n<p>So the solution to this would either be to sort the objects from back to front or increase the discarding threshold in your fragment shader to something like 0.9.</p>\n"}],"owner":{"account_id":22412192,"reputation":7,"user_id":16620771,"display_name":"instance"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668690520,"creation_date":1656938948,"question_id":72857055,"body_markdown":"I&#39;ve spent a lot of time trying to find out how to draw transparent textures onto the screen, however my code doesn&#39;t seem to work. So far, only textures that are fully opaque are drawn normally (like in the background of the image below). As you can see in the image below, the transparent parts are getting filled in by a red color instead of being transparent. (I used paint.net to draw transparency, is that right?)\r\n\r\nEDIT (with new code as well): Now the transparent parts have gone away, but there is a small red outline like in the image below where there are translucent pixels. How do I make it render as transparent too? Also, I don&#39;t understand why setting *glClearColor*&#39;s alpha doesn&#39;t change anything.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI set the *glClearColor* to red, however the alpha is 0.\r\n\r\n    GL11.glClearColor(1.0f, 0.0f, 0.0f, 0.0f);\r\n\r\nHere is my code for drawing textures(using *slick-util*):\r\n\r\n            PNGDecoder decoder = null;\r\n\t\t\ttry {\r\n\t\t\t\tdecoder = new PNGDecoder(new FileInputStream(Main.projectPath + path));\r\n\t\t\t} catch (FileNotFoundException e1) {\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t} catch (IOException e1) {\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t    ByteBuffer buffer = ByteBuffer.allocateDirect(4 * decoder.getWidth() * decoder.getHeight());\r\n\r\n\t\t    try {\r\n\t\t\t\tdecoder.decode(buffer, decoder.getWidth() * 4, PNGDecoder.RGBA);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t    buffer.flip();\r\n\r\n\t\t    int id = GL13.glGenTextures();\r\n\r\n\t\t    GL13.glBindTexture(GL13.GL_TEXTURE_2D, id);\r\n\r\n\t\t    GL13.glPixelStorei(GL13.GL_UNPACK_ALIGNMENT, 1);\r\n\r\n\t\t    GL13.glTexParameterf(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MIN_FILTER, GL13.GL_NEAREST);\r\n\t\t    GL13.glTexParameterf(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MAG_FILTER, GL13.GL_NEAREST);\r\n\t\t    \r\n\t\t    width = decoder.getWidth();\r\n\t\t    height = decoder.getHeight();\r\n\t\t    GL13.glTexImage2D(GL13.GL_TEXTURE_2D, 0, GL13.GL_RGBA, decoder.getWidth(), decoder.getHeight(), 0, GL13.GL_RGBA, GL13.GL_UNSIGNED_BYTE, buffer);\r\n\r\n\t\t    GL30.glGenerateMipmap(GL13.GL_TEXTURE_2D);\r\n\t\t    \r\n\t\t    GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_WRAP_S, GL13.GL_RGBA);\r\n\t\t    GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_WRAP_T, GL13.GL_RGBA);\r\n\t\t    GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MIN_FILTER, GL13.GL_NEAREST_MIPMAP_NEAREST);\r\n\t\t    GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MAG_FILTER,GL13. GL_NEAREST);\r\n\r\n\t\t    this.texture = new Texture(id);\r\n\t\t    this.textureID =  id;\r\n\r\nHere is my code for rendering the texture to the screen:\r\n\r\n    public void renderMesh(Mesh mesh) {\r\n\t\tGL30.glBindVertexArray(mesh.getVAO());\r\n\t\tGL30.glEnableVertexAttribArray(0);\r\n\t\tGL30.glEnableVertexAttribArray(1);\r\n\t\tGL30.glEnableVertexAttribArray(2);\r\n\t\tGL15.glBindBuffer(GL15.GL_ELEMENT_ARRAY_BUFFER, mesh.getIBO());\r\n\t\tGL13.glActiveTexture(GL13.GL_TEXTURE0);\r\n\t\tGL13.glBindTexture(GL11.GL_TEXTURE_2D, mesh.getMaterial().getTextureID());\r\n\t\tshader.bind();\r\n\t\tGL11.glDrawElements(GL11.GL_TRIANGLES, mesh.getIndices().length, GL11.GL_UNSIGNED_INT, 0);\r\n\t\tshader.unbind();\r\n\t\tGL15.glBindBuffer(GL15.GL_ELEMENT_ARRAY_BUFFER, 0);\r\n\t\tGL30.glDisableVertexAttribArray(0);\r\n\t\tGL30.glDisableVertexAttribArray(1);\r\n\t\tGL30.glDisableVertexAttribArray(2);\r\n\t\tGL30.glBindVertexArray(0);\r\n\t}\r\n\r\nI would like to know what is incorrect of this code.\r\n\r\nEDIT: Here is my init and shader code as well:\r\nInitialization code:\r\n\r\n    window = GLFW.glfwCreateWindow(width, height, title, isFullscreen ? GLFW.glfwGetPrimaryMonitor() : 0, 0);\r\n\t\t\r\n\t\tif (window == 0) {\r\n\t\t\tSystem.err.println(&quot;ERROR: Window wasn&#39;t created&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tGLFWVidMode videoMode = GLFW.glfwGetVideoMode(GLFW.glfwGetPrimaryMonitor());\r\n\t\twindowPosX[0] = (videoMode.width() - width) / 2;\r\n\t\twindowPosY[0] = (videoMode.height() - height) / 2;\r\n\t\tGLFW.glfwSetWindowPos(window, windowPosX[0], windowPosY[0]);\r\n\t\tGLFW.glfwMakeContextCurrent(window);\r\n\t\tGL.createCapabilities();\r\n\t\tGL11.glEnable(GL11.GL_DEPTH_TEST);\r\n\t\tGL11.glMatrixMode(GL11.GL_TEXTURE);\r\n\t\tGL11.glEnable(GL11.GL_TEXTURE_2D);\r\n\t\tGL11.glEnable(GL11.GL_BLEND);\r\n\t\tGL11.glEnable(GL11.GL_ALPHA_TEST);\r\n\t\tGL11.glBlendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);\r\n\t\tGL11.glPushMatrix();   \r\n\t\t\r\n\t\t\r\n\t\tcreateCallbacks();\r\n\t\t\r\n\t\tGLFW.glfwShowWindow(window);\r\n\t\t\r\n\t\tGLFW.glfwSwapInterval(1);\r\n\r\nVertex Shader:\r\n\r\n    #version 460 core\r\n\r\n    in vec3 position;\r\n    in vec4 color;\r\n    in vec2 textureCoord;\r\n    \r\n    out vec4 passColor;\r\n    out vec2 passTextureCoord;\r\n    \r\n    void main() {\r\n    \tgl_Position = vec4(position, 1.0);\r\n    \tpassColor = color;\r\n    \tpassTextureCoord = textureCoord;\r\n    }\r\n\r\nFragment Shader:\r\n\r\n    #version 330 core\r\n    out vec4 FragColor;\r\n    \r\n    in vec2 passTextureCoord;\r\n\r\n    uniform sampler2D texture1;\r\n    \r\n    void main()\r\n    {             \r\n        vec4 texColor = texture(texture1, passTextureCoord);\r\n        if(texColor.a &lt; 0.1)\r\n            discard;\r\n        FragColor = texColor;\r\n    }  \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QVXKZ.png","title":"How to draw translucent/transparent textures with lwjgl?","body":"<p>I've spent a lot of time trying to find out how to draw transparent textures onto the screen, however my code doesn't seem to work. So far, only textures that are fully opaque are drawn normally (like in the background of the image below). As you can see in the image below, the transparent parts are getting filled in by a red color instead of being transparent. (I used paint.net to draw transparency, is that right?)</p>\n<p>EDIT (with new code as well): Now the transparent parts have gone away, but there is a small red outline like in the image below where there are translucent pixels. How do I make it render as transparent too? Also, I don't understand why setting <em>glClearColor</em>'s alpha doesn't change anything.</p>\n<p><a href=\"https://i.stack.imgur.com/QVXKZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QVXKZ.png\" alt=\"enter image description here\" /></a></p>\n<p>I set the <em>glClearColor</em> to red, however the alpha is 0.</p>\n<pre><code>GL11.glClearColor(1.0f, 0.0f, 0.0f, 0.0f);\n</code></pre>\n<p>Here is my code for drawing textures(using <em>slick-util</em>):</p>\n<pre><code>        PNGDecoder decoder = null;\n        try {\n            decoder = new PNGDecoder(new FileInputStream(Main.projectPath + path));\n        } catch (FileNotFoundException e1) {\n            e1.printStackTrace();\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        }\n\n        ByteBuffer buffer = ByteBuffer.allocateDirect(4 * decoder.getWidth() * decoder.getHeight());\n\n        try {\n            decoder.decode(buffer, decoder.getWidth() * 4, PNGDecoder.RGBA);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        buffer.flip();\n\n        int id = GL13.glGenTextures();\n\n        GL13.glBindTexture(GL13.GL_TEXTURE_2D, id);\n\n        GL13.glPixelStorei(GL13.GL_UNPACK_ALIGNMENT, 1);\n\n        GL13.glTexParameterf(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MIN_FILTER, GL13.GL_NEAREST);\n        GL13.glTexParameterf(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MAG_FILTER, GL13.GL_NEAREST);\n        \n        width = decoder.getWidth();\n        height = decoder.getHeight();\n        GL13.glTexImage2D(GL13.GL_TEXTURE_2D, 0, GL13.GL_RGBA, decoder.getWidth(), decoder.getHeight(), 0, GL13.GL_RGBA, GL13.GL_UNSIGNED_BYTE, buffer);\n\n        GL30.glGenerateMipmap(GL13.GL_TEXTURE_2D);\n        \n        GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_WRAP_S, GL13.GL_RGBA);\n        GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_WRAP_T, GL13.GL_RGBA);\n        GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MIN_FILTER, GL13.GL_NEAREST_MIPMAP_NEAREST);\n        GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MAG_FILTER,GL13. GL_NEAREST);\n\n        this.texture = new Texture(id);\n        this.textureID =  id;\n</code></pre>\n<p>Here is my code for rendering the texture to the screen:</p>\n<pre><code>public void renderMesh(Mesh mesh) {\n    GL30.glBindVertexArray(mesh.getVAO());\n    GL30.glEnableVertexAttribArray(0);\n    GL30.glEnableVertexAttribArray(1);\n    GL30.glEnableVertexAttribArray(2);\n    GL15.glBindBuffer(GL15.GL_ELEMENT_ARRAY_BUFFER, mesh.getIBO());\n    GL13.glActiveTexture(GL13.GL_TEXTURE0);\n    GL13.glBindTexture(GL11.GL_TEXTURE_2D, mesh.getMaterial().getTextureID());\n    shader.bind();\n    GL11.glDrawElements(GL11.GL_TRIANGLES, mesh.getIndices().length, GL11.GL_UNSIGNED_INT, 0);\n    shader.unbind();\n    GL15.glBindBuffer(GL15.GL_ELEMENT_ARRAY_BUFFER, 0);\n    GL30.glDisableVertexAttribArray(0);\n    GL30.glDisableVertexAttribArray(1);\n    GL30.glDisableVertexAttribArray(2);\n    GL30.glBindVertexArray(0);\n}\n</code></pre>\n<p>I would like to know what is incorrect of this code.</p>\n<p>EDIT: Here is my init and shader code as well:\nInitialization code:</p>\n<pre><code>window = GLFW.glfwCreateWindow(width, height, title, isFullscreen ? GLFW.glfwGetPrimaryMonitor() : 0, 0);\n    \n    if (window == 0) {\n        System.err.println(&quot;ERROR: Window wasn't created&quot;);\n        return;\n    }\n    \n    GLFWVidMode videoMode = GLFW.glfwGetVideoMode(GLFW.glfwGetPrimaryMonitor());\n    windowPosX[0] = (videoMode.width() - width) / 2;\n    windowPosY[0] = (videoMode.height() - height) / 2;\n    GLFW.glfwSetWindowPos(window, windowPosX[0], windowPosY[0]);\n    GLFW.glfwMakeContextCurrent(window);\n    GL.createCapabilities();\n    GL11.glEnable(GL11.GL_DEPTH_TEST);\n    GL11.glMatrixMode(GL11.GL_TEXTURE);\n    GL11.glEnable(GL11.GL_TEXTURE_2D);\n    GL11.glEnable(GL11.GL_BLEND);\n    GL11.glEnable(GL11.GL_ALPHA_TEST);\n    GL11.glBlendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);\n    GL11.glPushMatrix();   \n    \n    \n    createCallbacks();\n    \n    GLFW.glfwShowWindow(window);\n    \n    GLFW.glfwSwapInterval(1);\n</code></pre>\n<p>Vertex Shader:</p>\n<pre><code>#version 460 core\n\nin vec3 position;\nin vec4 color;\nin vec2 textureCoord;\n\nout vec4 passColor;\nout vec2 passTextureCoord;\n\nvoid main() {\n    gl_Position = vec4(position, 1.0);\n    passColor = color;\n    passTextureCoord = textureCoord;\n}\n</code></pre>\n<p>Fragment Shader:</p>\n<pre><code>#version 330 core\nout vec4 FragColor;\n\nin vec2 passTextureCoord;\n\nuniform sampler2D texture1;\n\nvoid main()\n{             \n    vec4 texColor = texture(texture1, passTextureCoord);\n    if(texColor.a &lt; 0.1)\n        discard;\n    FragColor = texColor;\n}  \n</code></pre>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1668594058,"post_id":74458719,"comment_id":131441446,"body_markdown":"It isn&#39;t a bean, it internally uses a `ThreadLocal` to hold the current user. This is set by the spring security filter chain. There are several of such like the `RequestContextHolder`, `LocaleContextHolder` to name a few.","body":"It isn&#39;t a bean, it internally uses a <code>ThreadLocal</code> to hold the current user. This is set by the spring security filter chain. There are several of such like the <code>RequestContextHolder</code>, <code>LocaleContextHolder</code> to name a few."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1668596083,"post_id":74458719,"comment_id":131442197,"body_markdown":"This method exists to allow you to get access to the `Authentication` in places where you _can&#39;t_ inject it. If you try to autowire the `SecurityContextHolder` just to get the `Authentication`, autowire the latter instead.","body":"This method exists to allow you to get access to the <code>Authentication</code> in places where you <i>can&#39;t</i> inject it. If you try to autowire the <code>SecurityContextHolder</code> just to get the <code>Authentication</code>, autowire the latter instead."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668690359,"creation_date":1668641807,"answer_id":74468527,"question_id":74458719,"body_markdown":"[`SecurityContextHolder`][contextHolder] is a utility class which declares a bunch of `static` methods, which can be accessed using class name.\r\n\r\nIt doesn&#39;t make much sense to instantiate utility classes (their constructors are usually private to emphasize that), and for that reason `SecurityContextHolder` is not a Bean in the Context, hence there&#39;s no way (*and no need*) to inject it.\r\n\r\nThe purpose `SecurityContextHolder` to facilitate access to the [`SecurityContext`][context], which contains information specific to the currently authenticated user. Also, `SecurityContextHolder` offers various strategies for managing `SecurityContext`:\r\n* `MODE_THREADLOCAL` is the default one, that is suitable for so-called servlet-based Web Application, which are using thread-per-request model. In this case, each thread would have its own context and Spring uses [`TreadLocal`][threadLocal] to manage the context.\r\n* `MODE_INHERITABLETHREADLOCAL` is similar to the previous one with one difference - it allows to use multiple threads per request, and if we spawn a new thread it inherits the context of the parent thread.\r\n* `MODE_GLOBAL` - is not appropriate for server use. This strategy is not based on `TreadLocal`, every thread is expected to see the same context. And can be used in a standalone application (for instance in a Swing client).\r\n\r\nHere&#39;s a short quote from the [Spring Security documentation][sch] (*have a closer at this link if you want to learn more*):\r\n\r\n&gt; **10.1. SecurityContextHolder**\r\n&gt; \r\n&gt; At the heart of Spring Security’s authentication model is the\r\n&gt; `SecurityContextHolder`. It contains the `SecurityContext`.\r\n&gt; securitycontextholder\r\n&gt; \r\n&gt; [![enter image description here][1]][1]\r\n&gt; \r\n&gt; The `SecurityContextHolder` is where Spring Security stores the\r\n&gt; details of who is authenticated. Spring Security does not care how the\r\n&gt; `SecurityContextHolder` is populated. If it contains a value, then it\r\n&gt; is used as the currently authenticated user.\r\n&gt; \r\n&gt; ...\r\n\r\nSo, as a recap, the main purpose of `SecurityContextHolder` is to manage `SecurityContext`. And security context is meant to provide access to the user&#39;s [`Authentication`][auth].\r\n\r\n`Authentication` represents the currently authenticated user. And since `Authentication` a Bean, it can be provided through dependency injection in another Bean, for instance as a method parameter.\r\n\r\nLet&#39;s have a look at an example. Assume we have a controller which has an endpoint returning an instance of `Foo` which requires some user&#39;s information from the `Authentication`:\r\n\r\n```\r\n@RestController\r\npublic class FooController {\r\n    \r\n    @GetMapping(&quot;/foo&quot;)\r\n    Foo getFoo(Authentication a) {\r\n        \r\n        return FooUtils.generateFoo(a);\r\n    }\r\n}\r\n```\r\n\r\nIt makes use of the `generateFoo()` method by passing `Authentication` injected a parameter. Method `generateFoo()` located in the `FooUtils` which is a utility class.\r\n\r\n```\r\npublic class FooUtils {\r\n    public static Foo generateFoo(Authentication a) {\r\n        \r\n        return new Foo(a.getPrincipal());\r\n    }\r\n}\r\n```\r\n\r\n`Authentication` can&#39;t be injected in the methods of `FooUtils`, since it&#39;s a not a Bean, therefore it&#39;s being handed out by the caller. If we imagine that chain of calls would be longer, i.e. there would be more actions in between the calling endpoint method and `FooUtils.generateFoo()` it would not be very convenient to pass around `Authentication` through several methods where it&#39;s not going to be used.\r\n\r\nInstead, can make use of the `SecurityContextHolder` and obtain `Authentication` right on the spot inside the `FooUtils`:\r\n\r\n```\r\npublic class FooUtils {\r\n    public static Foo generateFoo() {\r\n        Authentication a = SecurityContextHolder\r\n            .getContext()\r\n            .getAuthentication();\r\n        \r\n        return new Foo(a.getPrincipal());\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n   [contextHolder]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/context/SecurityContextHolder.html\r\n\r\n   [sch]: https://docs.spring.io/spring-security/site/docs/5.3.9.RELEASE/reference/html5/#servlet-authentication-securitycontextholder\r\n\r\n   [context]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/context/SecurityContext.html\r\n\r\n   [auth]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/Authentication.html\r\n\r\n   [threadLocal]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadLocal.html\r\n\r\n   [1]: https://i.stack.imgur.com/uwq93.png","title":"Isn&#39;t SecurityContextHolder a Bean?","body":"<p><a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/context/SecurityContextHolder.html\" rel=\"nofollow noreferrer\"><code>SecurityContextHolder</code></a> is a utility class which declares a bunch of <code>static</code> methods, which can be accessed using class name.</p>\n<p>It doesn't make much sense to instantiate utility classes (their constructors are usually private to emphasize that), and for that reason <code>SecurityContextHolder</code> is not a Bean in the Context, hence there's no way (<em>and no need</em>) to inject it.</p>\n<p>The purpose <code>SecurityContextHolder</code> to facilitate access to the <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/context/SecurityContext.html\" rel=\"nofollow noreferrer\"><code>SecurityContext</code></a>, which contains information specific to the currently authenticated user. Also, <code>SecurityContextHolder</code> offers various strategies for managing <code>SecurityContext</code>:</p>\n<ul>\n<li><code>MODE_THREADLOCAL</code> is the default one, that is suitable for so-called servlet-based Web Application, which are using thread-per-request model. In this case, each thread would have its own context and Spring uses <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadLocal.html\" rel=\"nofollow noreferrer\"><code>TreadLocal</code></a> to manage the context.</li>\n<li><code>MODE_INHERITABLETHREADLOCAL</code> is similar to the previous one with one difference - it allows to use multiple threads per request, and if we spawn a new thread it inherits the context of the parent thread.</li>\n<li><code>MODE_GLOBAL</code> - is not appropriate for server use. This strategy is not based on <code>TreadLocal</code>, every thread is expected to see the same context. And can be used in a standalone application (for instance in a Swing client).</li>\n</ul>\n<p>Here's a short quote from the <a href=\"https://docs.spring.io/spring-security/site/docs/5.3.9.RELEASE/reference/html5/#servlet-authentication-securitycontextholder\" rel=\"nofollow noreferrer\">Spring Security documentation</a> (<em>have a closer at this link if you want to learn more</em>):</p>\n<blockquote>\n<p><strong>10.1. SecurityContextHolder</strong></p>\n<p>At the heart of Spring Security’s authentication model is the\n<code>SecurityContextHolder</code>. It contains the <code>SecurityContext</code>.\nsecuritycontextholder</p>\n<p><a href=\"https://i.stack.imgur.com/uwq93.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uwq93.png\" alt=\"enter image description here\" /></a></p>\n<p>The <code>SecurityContextHolder</code> is where Spring Security stores the\ndetails of who is authenticated. Spring Security does not care how the\n<code>SecurityContextHolder</code> is populated. If it contains a value, then it\nis used as the currently authenticated user.</p>\n<p>...</p>\n</blockquote>\n<p>So, as a recap, the main purpose of <code>SecurityContextHolder</code> is to manage <code>SecurityContext</code>. And security context is meant to provide access to the user's <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/Authentication.html\" rel=\"nofollow noreferrer\"><code>Authentication</code></a>.</p>\n<p><code>Authentication</code> represents the currently authenticated user. And since <code>Authentication</code> a Bean, it can be provided through dependency injection in another Bean, for instance as a method parameter.</p>\n<p>Let's have a look at an example. Assume we have a controller which has an endpoint returning an instance of <code>Foo</code> which requires some user's information from the <code>Authentication</code>:</p>\n<pre><code>@RestController\npublic class FooController {\n    \n    @GetMapping(&quot;/foo&quot;)\n    Foo getFoo(Authentication a) {\n        \n        return FooUtils.generateFoo(a);\n    }\n}\n</code></pre>\n<p>It makes use of the <code>generateFoo()</code> method by passing <code>Authentication</code> injected a parameter. Method <code>generateFoo()</code> located in the <code>FooUtils</code> which is a utility class.</p>\n<pre><code>public class FooUtils {\n    public static Foo generateFoo(Authentication a) {\n        \n        return new Foo(a.getPrincipal());\n    }\n}\n</code></pre>\n<p><code>Authentication</code> can't be injected in the methods of <code>FooUtils</code>, since it's a not a Bean, therefore it's being handed out by the caller. If we imagine that chain of calls would be longer, i.e. there would be more actions in between the calling endpoint method and <code>FooUtils.generateFoo()</code> it would not be very convenient to pass around <code>Authentication</code> through several methods where it's not going to be used.</p>\n<p>Instead, can make use of the <code>SecurityContextHolder</code> and obtain <code>Authentication</code> right on the spot inside the <code>FooUtils</code>:</p>\n<pre><code>public class FooUtils {\n    public static Foo generateFoo() {\n        Authentication a = SecurityContextHolder\n            .getContext()\n            .getAuthentication();\n        \n        return new Foo(a.getPrincipal());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1026,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74468527,"answer_count":1,"score":2,"last_activity_date":1668690490,"creation_date":1668593789,"question_id":74458719,"body_markdown":"Trying to Autowire SecurityContextHolder\r\nI get error \r\n\r\n    required a bean of type &#39;org.springframework.security.core.context.SecurityContextHolder&#39; that could not be found.\r\n\r\nTurns out that it is available from any part of the code like\r\n\r\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\r\nHow come it isn&#39;t a bean and how does it get initialized under the hood?\r\nAre there other static utility classes like that available to be consumed from anywhere and how do I find them?\r\n","title":"Isn&#39;t SecurityContextHolder a Bean?","body":"<p>Trying to Autowire SecurityContextHolder\nI get error</p>\n<pre><code>required a bean of type 'org.springframework.security.core.context.SecurityContextHolder' that could not be found.\n</code></pre>\n<p>Turns out that it is available from any part of the code like</p>\n<pre><code>Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n</code></pre>\n<p>How come it isn't a bean and how does it get initialized under the hood?\nAre there other static utility classes like that available to be consumed from anywhere and how do I find them?</p>\n"},{"tags":["java","spring","tomcat","http-headers","httprequest"],"owner":{"account_id":22553349,"reputation":31,"user_id":16742146,"display_name":"RobinP2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668690391,"creation_date":1668690391,"question_id":74475989,"body_markdown":"I programmed a website with Spring and everything works fine.\r\nBut when I run the website on my server where everyone has access to then sometimes I get a weird error message and I think that someone tries to hack my website.\r\n\r\n    2022-11-17 13:44:28.935  INFO 17736 --- [nio-9000-exec-3] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\r\n     Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\r\n    \r\n    java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xee0x010x000x000xea0x030x030xfa!&quot;0xbe,0x14`0x860xc00x0e0xd2k0xed0x840x100xb6;0xc84?zh0x1by0xc6y0x7fiz(0xa2= ]. HTTP method names must be tokens\r\n            at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n \r\nI think this because when I run the website on my local computer I don&#39;t get such messages and on my local computer I am the only one that has access to the website.\r\n\r\nIf someone tries to hack me I don&#39;t really care because as you can see in the error message it is not working.\r\nBut the error message is annoying so does someone know how/where to handle the exception?","title":"Spring handle &quot;invalid character found&quot; error","body":"<p>I programmed a website with Spring and everything works fine.\nBut when I run the website on my server where everyone has access to then sometimes I get a weird error message and I think that someone tries to hack my website.</p>\n<pre><code>2022-11-17 13:44:28.935  INFO 17736 --- [nio-9000-exec-3] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\n\njava.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xee0x010x000x000xea0x030x030xfa!&quot;0xbe,0x14`0x860xc00x0e0xd2k0xed0x840x100xb6;0xc84?zh0x1by0xc6y0x7fiz(0xa2= ]. HTTP method names must be tokens\n        at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>I think this because when I run the website on my local computer I don't get such messages and on my local computer I am the only one that has access to the website.</p>\n<p>If someone tries to hack me I don't really care because as you can see in the error message it is not working.\nBut the error message is annoying so does someone know how/where to handle the exception?</p>\n"},{"tags":["java","hibernate","websocket","quarkus","hibernate-reactive"],"answers":[{"comments":[{"owner":{"account_id":8295598,"reputation":113,"user_id":6235944,"display_name":"N. Silviu"},"score":0,"creation_date":1668690391,"post_id":68455324,"comment_id":131470477,"body_markdown":"In my case it&#39;s `vert.x-eventloop-thread-x` and still not working. And I&#39;m on quarkus `2.14.0.Final`","body":"In my case it&#39;s <code>vert.x-eventloop-thread-x</code> and still not working. And I&#39;m on quarkus <code>2.14.0.Final</code>"}],"tags":[],"owner":{"account_id":272310,"reputation":6057,"user_id":563323,"display_name":"Sanne"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626785938,"creation_date":1626785938,"answer_id":68455324,"question_id":68355159,"body_markdown":"As you can see, the response from the DB is being handled by a thread named `vert.x-eventloop-thread-8`. This is expected: all responses from the reactive sql drivers are delivered on the eventloop threads.\r\n\r\nThe `IllegalStateException` you&#39;re seeing is likely being caused by the fact that the Session has not been opened on an eventloop thread - which causes such problems as you&#39;re making it run multi-threaded when all this code is designed to be run in a single eventloop (and doesn&#39;t need multiple threads, not to mention making it multi-threaded would degrade the performance).\r\nYou should be able to verify this by logging the thread name from the code just before invoking Panache Reactive: I bet it&#39;s not a `vert.x-eventloop-thread-X`.\r\n\r\nIn other words, Panache Reactive is designed to be used from a fully reactive context.\r\n\r\nSince Quarkus 2.1, Panache Reactive should be able to detect such a pattern and offload the operations onto the correct threads.","title":"How to access reactive Panache Entity Session Manager from a websocket endpoint? (Quarkus, Mutiny, Panache, Reactive)","body":"<p>As you can see, the response from the DB is being handled by a thread named <code>vert.x-eventloop-thread-8</code>. This is expected: all responses from the reactive sql drivers are delivered on the eventloop threads.</p>\n<p>The <code>IllegalStateException</code> you're seeing is likely being caused by the fact that the Session has not been opened on an eventloop thread - which causes such problems as you're making it run multi-threaded when all this code is designed to be run in a single eventloop (and doesn't need multiple threads, not to mention making it multi-threaded would degrade the performance).\nYou should be able to verify this by logging the thread name from the code just before invoking Panache Reactive: I bet it's not a <code>vert.x-eventloop-thread-X</code>.</p>\n<p>In other words, Panache Reactive is designed to be used from a fully reactive context.</p>\n<p>Since Quarkus 2.1, Panache Reactive should be able to detect such a pattern and offload the operations onto the correct threads.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1660571677,"post_id":73334333,"comment_id":129557366,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73334333/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20731762,"reputation":21,"user_id":15223555,"display_name":"Feavy"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660308264,"creation_date":1660307957,"answer_id":73334333,"question_id":68355159,"body_markdown":"I have found a way to access reactive panache entities but for some reason it only works 3 times and then the other calls fail because of timeout.\r\n\r\n```kt\r\n@ServerEndpoint(&quot;/websocket/{name}&quot;)\r\n@ApplicationScoped\r\nclass StartWebSocket(\r\n    val sessionFactory: SessionFactory\r\n) {\r\n\r\n    @OnOpen\r\n    fun onOpen(session: Session, @PathParam(&quot;name&quot;) name: String) {\r\n        sessionFactory.withSession { SimpleUser.findByName(name) }.subscribe().with{ println(&quot;Found: ${it?.username}&quot;) }\r\n   }\r\n}\r\n```","title":"How to access reactive Panache Entity Session Manager from a websocket endpoint? (Quarkus, Mutiny, Panache, Reactive)","body":"<p>I have found a way to access reactive panache entities but for some reason it only works 3 times and then the other calls fail because of timeout.</p>\n<pre><code>@ServerEndpoint(&quot;/websocket/{name}&quot;)\n@ApplicationScoped\nclass StartWebSocket(\n    val sessionFactory: SessionFactory\n) {\n\n    @OnOpen\n    fun onOpen(session: Session, @PathParam(&quot;name&quot;) name: String) {\n        sessionFactory.withSession { SimpleUser.findByName(name) }.subscribe().with{ println(&quot;Found: ${it?.username}&quot;) }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":10764067,"reputation":106,"user_id":10808187,"display_name":"chamoK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1807,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668690244,"creation_date":1626136167,"question_id":68355159,"body_markdown":"I am trying to build an example application where messages can be saved to a db, then when a websocket connects with the sessionId those messages are saved under, they are all sent out.\r\n\r\nHere is my code:\r\n\r\n```\r\nMessage.java\r\n---\r\npackage org.acme.hibernate.orm.panache;\r\n\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.Cacheable;\r\nimport javax.persistence.Entity;\r\nimport io.quarkus.panache.common.Sort;\r\n\r\nimport io.quarkus.hibernate.reactive.panache.PanacheEntity;\r\nimport io.smallrye.mutiny.Multi;\r\n\r\n@Entity\r\n@Cacheable\r\npublic class Message extends PanacheEntity {\r\n\r\n  public String sessionId;\r\n  public String content;\r\n  public Date timestamp;\r\n\r\n  public Message() {\r\n    this.timestamp = new Date();\r\n  }\r\n\r\n  public Message(String content, String sessionId) {\r\n    this.content = content;\r\n    this.timestamp = new Date();\r\n    this.sessionId = sessionId;\r\n  }  \r\n\r\n  public static Multi&lt;Message&gt; getBySessionId(String sessionId) {\r\n    return stream(&quot;sessionId&quot;, Sort.by(&quot;timestamp&quot;), sessionId);\r\n  }\r\n\r\n}\r\n\r\n```\r\n```\r\nMessageResource.java\r\n---\r\npackage org.acme.hibernate.orm.panache;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\nimport static javax.ws.rs.core.Response.Status.CREATED;\r\n\r\nimport javax.inject.Inject;\r\nimport javax.transaction.Transactional;\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.PathParam;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.WebApplicationException;\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.ws.rs.core.Response;\r\nimport javax.ws.rs.ext.ExceptionMapper;\r\nimport javax.ws.rs.ext.Provider;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\n\r\nimport io.quarkus.hibernate.reactive.panache.Panache;\r\nimport io.smallrye.mutiny.CompositeException;\r\nimport io.smallrye.mutiny.Multi;\r\nimport io.smallrye.mutiny.Uni;\r\n\r\n\r\n@Path(&quot;/message&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\npublic class MessageResource {\r\n  \r\n  @GET\r\n  public Uni&lt;List&lt;Message&gt;&gt; list() {\r\n    return Message.listAll();\r\n  }\r\n\r\n  @GET\r\n  @Path(&quot;/{sessionId}&quot;)\r\n  public Multi&lt;Message&gt; listBySessionId(@PathParam(&quot;sessionId&quot;) String sessionId) {\r\n    return Message.getBySessionId(sessionId);\r\n  }\r\n\r\n  @POST\r\n  @Transactional\r\n  public Uni&lt;Response&gt; create(Message message) {\r\n    message.timestamp = new Date();\r\n    message.persist();\r\n    return Panache.withTransaction(message::persist)\r\n      .replaceWith(Response.ok(message).status(CREATED)::build);\r\n  }\r\n\r\n\r\n  /**\r\n     * Create a HTTP response from an exception.\r\n     *\r\n     * Response Example:\r\n     *\r\n     * &lt;pre&gt;\r\n     * HTTP/1.1 422 Unprocessable Entity\r\n     * Content-Length: 111\r\n     * Content-Type: application/json\r\n     *\r\n     * {\r\n     *     &quot;code&quot;: 422,\r\n     *     &quot;error&quot;: &quot;Fruit name was not set on request.&quot;,\r\n     *     &quot;exceptionType&quot;: &quot;javax.ws.rs.WebApplicationException&quot;\r\n     * }\r\n     * &lt;/pre&gt;\r\n     */\r\n    @Provider\r\n    public static class ErrorMapper implements ExceptionMapper&lt;Exception&gt; {\r\n\r\n        @Inject\r\n        ObjectMapper objectMapper;\r\n\r\n        @Override\r\n        public Response toResponse(Exception exception) {\r\n\r\n            Throwable throwable = exception;\r\n\r\n            int code = 500;\r\n            if (throwable instanceof WebApplicationException) {\r\n                code = ((WebApplicationException) exception).getResponse().getStatus();\r\n            }\r\n\r\n            // This is a Mutiny exception and it happens, for example, when we try to insert a new\r\n            // fruit but the name is already in the database\r\n            if (throwable instanceof CompositeException) {\r\n                throwable = ((CompositeException) throwable).getCause();\r\n            }\r\n\r\n            ObjectNode exceptionJson = objectMapper.createObjectNode();\r\n            exceptionJson.put(&quot;exceptionType&quot;, throwable.getClass().getName());\r\n            exceptionJson.put(&quot;code&quot;, code);\r\n\r\n            if (exception.getMessage() != null) {\r\n                exceptionJson.put(&quot;error&quot;, throwable.getMessage());\r\n            }\r\n\r\n            return Response.status(code)\r\n                    .entity(exceptionJson)\r\n                    .build();\r\n        }\r\n      }\r\n}\r\n```\r\n```\r\nReplaySocket.java\r\n---\r\npackage org.acme.websockets;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\n\r\nimport io.quarkus.hibernate.reactive.panache.PanacheEntityBase;\r\nimport io.quarkus.panache.common.Sort;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.inject.Inject;\r\nimport javax.websocket.OnOpen;\r\nimport javax.websocket.Session;\r\nimport javax.websocket.server.PathParam;\r\nimport javax.websocket.server.ServerEndpoint;\r\n\r\nimport org.acme.hibernate.orm.panache.Message;\r\nimport org.acme.hibernate.orm.panache.MessageResource;\r\nimport org.jboss.logging.Logger;\r\n\r\nimport io.smallrye.mutiny.Multi;\r\nimport io.smallrye.mutiny.Uni;\r\n\r\n@ServerEndpoint(&quot;/replay/{sessionId}&quot;)         \r\n@ApplicationScoped\r\npublic class ReplaySocket {\r\n\r\n  @Inject\r\n  MessageResource messageResource;\r\n\r\n  private static final Logger LOG = Logger.getLogger(ReplaySocket.class.getName());\r\n  \r\n  Map&lt;String, Session&gt; sessions = new ConcurrentHashMap&lt;&gt;(); \r\n\r\n  @OnOpen\r\n    public void onOpen(Session session, @PathParam(&quot;sessionId&quot;) String sessionId) {\r\n        sessions.put(sessionId, session);\r\n        broadcast(&quot;Starting&quot;);\r\n        replayMessages(sessionId);\r\n    }\r\n\r\n    private void replayMessages(String sessionId) {\r\n      Multi&lt;Message&gt; messages = Message.stream(&quot;sessionId&quot;, Sort.by(&quot;timestamp&quot;), sessionId);\r\n\r\n      \r\n      messages.subscribe().with(\r\n        message -&gt; broadcast(message.content),\r\n        failure -&gt; System.out.println(failure)\r\n      );\r\n    }\r\n\r\n    private void broadcast(String message) {\r\n      sessions.values().forEach(s -&gt; {\r\n          s.getAsyncRemote().sendObject(message, result -&gt;  {\r\n              if (result.getException() != null) {\r\n                  System.out.println(&quot;Unable to send message: &quot; + result.getException());\r\n              }\r\n          });\r\n      });\r\n  }\r\n\r\n}\r\n```\r\n\r\nWhen I run this, I can save and get from the MessageResource endpoint. However when I try to get the messages in the websocket I get this error:\r\n\r\n```\r\n2021-07-13 10:23:57,016 ERROR [org.hib.rea.errors] (vert.x-eventloop-thread-8) failed to execute statement [select message0_.id as id1_0_, message0_.content as content2_0_, message0_.sessionId as sessioni3_0_, message0_.timestamp as timestam4_0_ from Message message0_ where message0_.sessionId=$1 order by message0_.timestamp]\r\n2021-07-13 10:23:57,017 ERROR [org.hib.rea.errors] (vert.x-eventloop-thread-8) could not execute query: java.util.concurrent.CompletionException: java.lang.IllegalStateException: Session/EntityManager is closed\r\n\tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1081)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n\tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073)\r\n\tat io.vertx.core.Future.lambda$toCompletionStage$2(Future.java:360)\r\n\tat io.vertx.core.Future$$Lambda$889/0x0000000000000000.handle(Unknown Source)\r\n\tat io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:124)\r\n\tat io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:62)\r\n\tat io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:179)\r\n\tat io.vertx.core.impl.future.PromiseImpl.tryComplete(PromiseImpl.java:23)\r\n\tat io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:102)\r\n\tat io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:35)\r\n\tat io.vertx.core.Promise.complete(Promise.java:66)\r\n\tat io.vertx.core.Promise.handle(Promise.java:51)\r\n\tat io.vertx.core.Promise.handle(Promise.java:29)\r\n\tat io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:124)\r\n\tat io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54)\r\n\tat io.vertx.core.impl.future.FutureBase$$Lambda$625/0x0000000000000000.run(Unknown Source)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:836)\r\nCaused by: java.lang.IllegalStateException: Session/EntityManager is closed\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.checkOpen(AbstractSharedSessionContract.java:393)\r\n\tat org.hibernate.engine.spi.SharedSessionContractImplementor.checkOpen(SharedSessionContractImplementor.java:148)\r\n\tat org.hibernate.reactive.session.impl.ReactiveSessionImpl.checkOpen(ReactiveSessionImpl.java:1561)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.checkOpenOrWaitingForAutoClose(AbstractSharedSessionContract.java:399)\r\n\tat org.hibernate.internal.SessionImpl.getEntityUsingInterceptor(SessionImpl.java:592)\r\n\tat org.hibernate.loader.Loader.getRow(Loader.java:1609)\r\n\tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:747)\r\n\tat org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1046)\r\n\tat org.hibernate.reactive.loader.hql.impl.ReactiveQueryLoader.getRowsFromResultSet(ReactiveQueryLoader.java:223)\r\n\tat org.hibernate.reactive.loader.ReactiveLoaderBasedResultSetProcessor.reactiveExtractResults(ReactiveLoaderBasedResultSetProcessor.java:72)\r\n\tat org.hibernate.reactive.loader.hql.impl.ReactiveQueryLoader$1.reactiveExtractResults(ReactiveQueryLoader.java:72)\r\n\tat org.hibernate.reactive.loader.ReactiveLoader.reactiveProcessResultSet(ReactiveLoader.java:146)\r\n\tat org.hibernate.reactive.loader.ReactiveLoader.lambda$doReactiveQueryAndInitializeNonLazyCollections$0(ReactiveLoader.java:77)\r\n\tat org.hibernate.reactive.loader.ReactiveLoader$$Lambda$1220/0x0000000000000000.apply(Unknown Source)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1072)\r\n\t... 23 more\r\n\r\njava.lang.IllegalStateException: Session/EntityManager is closed\r\n```\r\n\r\nWhere am I going wrong? Is what I am trying to do not valid at all? If so, could you recommend something different?\r\n\r\nThanks!","title":"How to access reactive Panache Entity Session Manager from a websocket endpoint? (Quarkus, Mutiny, Panache, Reactive)","body":"<p>I am trying to build an example application where messages can be saved to a db, then when a websocket connects with the sessionId those messages are saved under, they are all sent out.</p>\n<p>Here is my code:</p>\n<pre><code>Message.java\n---\npackage org.acme.hibernate.orm.panache;\n\nimport java.util.Date;\n\nimport javax.persistence.Cacheable;\nimport javax.persistence.Entity;\nimport io.quarkus.panache.common.Sort;\n\nimport io.quarkus.hibernate.reactive.panache.PanacheEntity;\nimport io.smallrye.mutiny.Multi;\n\n@Entity\n@Cacheable\npublic class Message extends PanacheEntity {\n\n  public String sessionId;\n  public String content;\n  public Date timestamp;\n\n  public Message() {\n    this.timestamp = new Date();\n  }\n\n  public Message(String content, String sessionId) {\n    this.content = content;\n    this.timestamp = new Date();\n    this.sessionId = sessionId;\n  }  \n\n  public static Multi&lt;Message&gt; getBySessionId(String sessionId) {\n    return stream(&quot;sessionId&quot;, Sort.by(&quot;timestamp&quot;), sessionId);\n  }\n\n}\n\n</code></pre>\n<pre><code>MessageResource.java\n---\npackage org.acme.hibernate.orm.panache;\n\nimport java.util.Date;\nimport java.util.List;\n\nimport static javax.ws.rs.core.Response.Status.CREATED;\n\nimport javax.inject.Inject;\nimport javax.transaction.Transactional;\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.WebApplicationException;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.ext.ExceptionMapper;\nimport javax.ws.rs.ext.Provider;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\n\nimport io.quarkus.hibernate.reactive.panache.Panache;\nimport io.smallrye.mutiny.CompositeException;\nimport io.smallrye.mutiny.Multi;\nimport io.smallrye.mutiny.Uni;\n\n\n@Path(&quot;/message&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\npublic class MessageResource {\n  \n  @GET\n  public Uni&lt;List&lt;Message&gt;&gt; list() {\n    return Message.listAll();\n  }\n\n  @GET\n  @Path(&quot;/{sessionId}&quot;)\n  public Multi&lt;Message&gt; listBySessionId(@PathParam(&quot;sessionId&quot;) String sessionId) {\n    return Message.getBySessionId(sessionId);\n  }\n\n  @POST\n  @Transactional\n  public Uni&lt;Response&gt; create(Message message) {\n    message.timestamp = new Date();\n    message.persist();\n    return Panache.withTransaction(message::persist)\n      .replaceWith(Response.ok(message).status(CREATED)::build);\n  }\n\n\n  /**\n     * Create a HTTP response from an exception.\n     *\n     * Response Example:\n     *\n     * &lt;pre&gt;\n     * HTTP/1.1 422 Unprocessable Entity\n     * Content-Length: 111\n     * Content-Type: application/json\n     *\n     * {\n     *     &quot;code&quot;: 422,\n     *     &quot;error&quot;: &quot;Fruit name was not set on request.&quot;,\n     *     &quot;exceptionType&quot;: &quot;javax.ws.rs.WebApplicationException&quot;\n     * }\n     * &lt;/pre&gt;\n     */\n    @Provider\n    public static class ErrorMapper implements ExceptionMapper&lt;Exception&gt; {\n\n        @Inject\n        ObjectMapper objectMapper;\n\n        @Override\n        public Response toResponse(Exception exception) {\n\n            Throwable throwable = exception;\n\n            int code = 500;\n            if (throwable instanceof WebApplicationException) {\n                code = ((WebApplicationException) exception).getResponse().getStatus();\n            }\n\n            // This is a Mutiny exception and it happens, for example, when we try to insert a new\n            // fruit but the name is already in the database\n            if (throwable instanceof CompositeException) {\n                throwable = ((CompositeException) throwable).getCause();\n            }\n\n            ObjectNode exceptionJson = objectMapper.createObjectNode();\n            exceptionJson.put(&quot;exceptionType&quot;, throwable.getClass().getName());\n            exceptionJson.put(&quot;code&quot;, code);\n\n            if (exception.getMessage() != null) {\n                exceptionJson.put(&quot;error&quot;, throwable.getMessage());\n            }\n\n            return Response.status(code)\n                    .entity(exceptionJson)\n                    .build();\n        }\n      }\n}\n</code></pre>\n<pre><code>ReplaySocket.java\n---\npackage org.acme.websockets;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\n\nimport io.quarkus.hibernate.reactive.panache.PanacheEntityBase;\nimport io.quarkus.panache.common.Sort;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\nimport javax.websocket.OnOpen;\nimport javax.websocket.Session;\nimport javax.websocket.server.PathParam;\nimport javax.websocket.server.ServerEndpoint;\n\nimport org.acme.hibernate.orm.panache.Message;\nimport org.acme.hibernate.orm.panache.MessageResource;\nimport org.jboss.logging.Logger;\n\nimport io.smallrye.mutiny.Multi;\nimport io.smallrye.mutiny.Uni;\n\n@ServerEndpoint(&quot;/replay/{sessionId}&quot;)         \n@ApplicationScoped\npublic class ReplaySocket {\n\n  @Inject\n  MessageResource messageResource;\n\n  private static final Logger LOG = Logger.getLogger(ReplaySocket.class.getName());\n  \n  Map&lt;String, Session&gt; sessions = new ConcurrentHashMap&lt;&gt;(); \n\n  @OnOpen\n    public void onOpen(Session session, @PathParam(&quot;sessionId&quot;) String sessionId) {\n        sessions.put(sessionId, session);\n        broadcast(&quot;Starting&quot;);\n        replayMessages(sessionId);\n    }\n\n    private void replayMessages(String sessionId) {\n      Multi&lt;Message&gt; messages = Message.stream(&quot;sessionId&quot;, Sort.by(&quot;timestamp&quot;), sessionId);\n\n      \n      messages.subscribe().with(\n        message -&gt; broadcast(message.content),\n        failure -&gt; System.out.println(failure)\n      );\n    }\n\n    private void broadcast(String message) {\n      sessions.values().forEach(s -&gt; {\n          s.getAsyncRemote().sendObject(message, result -&gt;  {\n              if (result.getException() != null) {\n                  System.out.println(&quot;Unable to send message: &quot; + result.getException());\n              }\n          });\n      });\n  }\n\n}\n</code></pre>\n<p>When I run this, I can save and get from the MessageResource endpoint. However when I try to get the messages in the websocket I get this error:</p>\n<pre><code>2021-07-13 10:23:57,016 ERROR [org.hib.rea.errors] (vert.x-eventloop-thread-8) failed to execute statement [select message0_.id as id1_0_, message0_.content as content2_0_, message0_.sessionId as sessioni3_0_, message0_.timestamp as timestam4_0_ from Message message0_ where message0_.sessionId=$1 order by message0_.timestamp]\n2021-07-13 10:23:57,017 ERROR [org.hib.rea.errors] (vert.x-eventloop-thread-8) could not execute query: java.util.concurrent.CompletionException: java.lang.IllegalStateException: Session/EntityManager is closed\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\n    at java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1081)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073)\n    at io.vertx.core.Future.lambda$toCompletionStage$2(Future.java:360)\n    at io.vertx.core.Future$$Lambda$889/0x0000000000000000.handle(Unknown Source)\n    at io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:124)\n    at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:62)\n    at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:179)\n    at io.vertx.core.impl.future.PromiseImpl.tryComplete(PromiseImpl.java:23)\n    at io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:102)\n    at io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:35)\n    at io.vertx.core.Promise.complete(Promise.java:66)\n    at io.vertx.core.Promise.handle(Promise.java:51)\n    at io.vertx.core.Promise.handle(Promise.java:29)\n    at io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:124)\n    at io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54)\n    at io.vertx.core.impl.future.FutureBase$$Lambda$625/0x0000000000000000.run(Unknown Source)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:836)\nCaused by: java.lang.IllegalStateException: Session/EntityManager is closed\n    at org.hibernate.internal.AbstractSharedSessionContract.checkOpen(AbstractSharedSessionContract.java:393)\n    at org.hibernate.engine.spi.SharedSessionContractImplementor.checkOpen(SharedSessionContractImplementor.java:148)\n    at org.hibernate.reactive.session.impl.ReactiveSessionImpl.checkOpen(ReactiveSessionImpl.java:1561)\n    at org.hibernate.internal.AbstractSharedSessionContract.checkOpenOrWaitingForAutoClose(AbstractSharedSessionContract.java:399)\n    at org.hibernate.internal.SessionImpl.getEntityUsingInterceptor(SessionImpl.java:592)\n    at org.hibernate.loader.Loader.getRow(Loader.java:1609)\n    at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:747)\n    at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1046)\n    at org.hibernate.reactive.loader.hql.impl.ReactiveQueryLoader.getRowsFromResultSet(ReactiveQueryLoader.java:223)\n    at org.hibernate.reactive.loader.ReactiveLoaderBasedResultSetProcessor.reactiveExtractResults(ReactiveLoaderBasedResultSetProcessor.java:72)\n    at org.hibernate.reactive.loader.hql.impl.ReactiveQueryLoader$1.reactiveExtractResults(ReactiveQueryLoader.java:72)\n    at org.hibernate.reactive.loader.ReactiveLoader.reactiveProcessResultSet(ReactiveLoader.java:146)\n    at org.hibernate.reactive.loader.ReactiveLoader.lambda$doReactiveQueryAndInitializeNonLazyCollections$0(ReactiveLoader.java:77)\n    at org.hibernate.reactive.loader.ReactiveLoader$$Lambda$1220/0x0000000000000000.apply(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1072)\n    ... 23 more\n\njava.lang.IllegalStateException: Session/EntityManager is closed\n</code></pre>\n<p>Where am I going wrong? Is what I am trying to do not valid at all? If so, could you recommend something different?</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing","jtable","jscrollbar"],"comments":[{"owner":{"account_id":4098457,"reputation":5168,"user_id":3364618,"accept_rate":100,"display_name":"Juxhin"},"score":0,"creation_date":1410082911,"post_id":25708734,"comment_id":40186861,"body_markdown":"You could also just implement a custom `Look and Feel` for it. Haven&#39;t come across that issue before","body":"You could also just implement a custom <code>Look and Feel</code> for it. Haven&#39;t come across that issue before"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1410085057,"post_id":25708734,"comment_id":40187328,"body_markdown":"It&#39;s called a corner...take a look at [JScrollPane](http://docs.oracle.com/javase/7/docs/api/javax/swing/JScrollPane.html)","body":"It&#39;s called a corner...take a look at <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JScrollPane.html\" rel=\"nofollow noreferrer\">JScrollPane</a>"},{"owner":{"account_id":4436791,"reputation":860,"user_id":3612435,"accept_rate":71,"display_name":"Danielle"},"score":0,"creation_date":1410091040,"post_id":25708734,"comment_id":40188669,"body_markdown":"setCorner() helped, thanks!","body":"setCorner() helped, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668689820,"creation_date":1410106779,"answer_id":25712331,"question_id":25708734,"body_markdown":"As shown in [*How to Use Scroll Panes: Providing Custom Decorations*][1], you can use the scroll pane&#39;s `setCorner()` method to add a colored `Component`:\r\n\r\n    JPanel panel = new JPanel();\r\n    panel.setBackground(Color.gray);\r\n    scrollPane.setCorner(JScrollPane.UPPER_RIGHT_CORNER, panel);\r\n\r\nYou may have to set the panel&#39;s [opacity][2] to `true`, and you may want to select a suitable color from the the current Look &amp; Feel using the [`UIManager`][3].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#decorations\r\n  [2]: http://www.oracle.com/technetwork/java/painting-140037.html#props\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/UIManager.html","title":"swing JTable with ScrollBar - color of square between headers and track","body":"<p>As shown in <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#decorations\" rel=\"nofollow noreferrer\"><em>How to Use Scroll Panes: Providing Custom Decorations</em></a>, you can use the scroll pane's <code>setCorner()</code> method to add a colored <code>Component</code>:</p>\n<pre><code>JPanel panel = new JPanel();\npanel.setBackground(Color.gray);\nscrollPane.setCorner(JScrollPane.UPPER_RIGHT_CORNER, panel);\n</code></pre>\n<p>You may have to set the panel's <a href=\"http://www.oracle.com/technetwork/java/painting-140037.html#props\" rel=\"nofollow noreferrer\">opacity</a> to <code>true</code>, and you may want to select a suitable color from the the current Look &amp; Feel using the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/UIManager.html\" rel=\"nofollow noreferrer\"><code>UIManager</code></a>.</p>\n"}],"owner":{"account_id":4436791,"reputation":860,"user_id":3612435,"accept_rate":71,"display_name":"Danielle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1345,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25712331,"answer_count":1,"score":2,"last_activity_date":1668689820,"creation_date":1410081515,"question_id":25708734,"body_markdown":"![enter image description here][1]\r\n\r\n\r\nI have a JTable with BasicScrollBarUI, I set the headers background color: table.getTableHeader().setBackground(GuiConstants.backgroundColor);\r\n\r\nand the scrolbar background color:\r\npublic class ScrollBarUI extends BasicScrollBarUI {\r\n\r\n\t\r\n    @Override\r\n    protected void paintTrack(Graphics g, JComponent c, Rectangle trackBounds) {\r\n    \tc.setBackground(GuiConstants.backgroundColor);\r\n    \t\r\n    }\r\n}\r\n\r\nI still have a square between them that its color won&#39;t change.\r\ndoes anybody knows how to change it also to their color?\r\n\r\nthanks\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zNXXh.png","title":"swing JTable with ScrollBar - color of square between headers and track","body":"<p><img src=\"https://i.stack.imgur.com/zNXXh.png\" alt=\"enter image description here\"></p>\n\n<p>I have a JTable with BasicScrollBarUI, I set the headers background color: table.getTableHeader().setBackground(GuiConstants.backgroundColor);</p>\n\n<p>and the scrolbar background color:\npublic class ScrollBarUI extends BasicScrollBarUI {</p>\n\n<pre><code>@Override\nprotected void paintTrack(Graphics g, JComponent c, Rectangle trackBounds) {\n    c.setBackground(GuiConstants.backgroundColor);\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I still have a square between them that its color won't change.\ndoes anybody knows how to change it also to their color?</p>\n\n<p>thanks</p>\n"},{"tags":["java","android","retrofit2","google-maps-markers","google-maps-android-api-2"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668689361,"post_id":74475697,"comment_id":131470038,"body_markdown":"and how do you expect to do so without connectivity?","body":"and how do you expect to do so without connectivity?"},{"owner":{"account_id":20655059,"reputation":15,"user_id":20477244,"display_name":"Leyoussi Lauriel"},"score":0,"creation_date":1668689604,"post_id":74475697,"comment_id":131470147,"body_markdown":"@Stultuske i would like my app to close with toast message not by crashing. but i do not know wher to put myConnectivityManager code.","body":"@Stultuske i would like my app to close with toast message not by crashing. but i do not know wher to put myConnectivityManager code."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668689706,"post_id":74475697,"comment_id":131470189,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":20655059,"reputation":15,"user_id":20477244,"display_name":"Leyoussi Lauriel"},"score":0,"creation_date":1668691015,"post_id":74475797,"comment_id":131470722,"body_markdown":"thank you very much you code saved my life :) :) i found the error in the log. i was supposed to put your code in the OnMapReady. Thank you bro !","body":"thank you very much you code saved my life :) :) i found the error in the log. i was supposed to put your code in the OnMapReady. Thank you bro !"},{"owner":{"display_name":"user15660680"},"score":0,"creation_date":1668691090,"post_id":74475797,"comment_id":131470748,"body_markdown":"please accept the ansewr and do a upvote if you got helped. Thank you","body":"please accept the ansewr and do a upvote if you got helped. Thank you"},{"owner":{"account_id":20655059,"reputation":15,"user_id":20477244,"display_name":"Leyoussi Lauriel"},"score":0,"creation_date":1668691178,"post_id":74475797,"comment_id":131470790,"body_markdown":"now no crashing Ah Ah :) :) :)","body":"now no crashing Ah Ah :) :) :)"}],"tags":[],"owner":{"display_name":"user15660680"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668689593,"creation_date":1668689593,"answer_id":74475797,"question_id":74475697,"body_markdown":"For the crashing issue \r\n create a class\r\n````\r\n\r\npublic class NetWorkChecker {\r\n    static NetworkInfo wifi, mobile;\r\n\r\n    public static Boolean check(Context c) {\r\n\r\n        ConnectivityManager cm = (ConnectivityManager) c.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        try {\r\n            wifi = cm.getNetworkInfo(ConnectivityManager.TYPE_WIFI);\r\n            mobile = cm.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        if (wifi != null &amp;&amp; wifi.isConnected() &amp;&amp; wifi.isAvailable()) {\r\n\r\n            return true;\r\n        } else if (mobile != null &amp;&amp; mobile.isAvailable() &amp;&amp; mobile.isConnected()) {\r\n\r\n            return true;\r\n        } else {\r\n            //Toast.makeText(c, &quot;No Network Connection&quot;, Toast.LENGTH_SHORT).show();\r\n           // ((Activity) c).finish();\r\n            displayMobileDataSettingsDialog(c,&quot;No Network Connection&quot;,&quot;No Network Connection&quot;);\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    public static AlertDialog displayMobileDataSettingsDialog(final Context context, String title, String message) {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(context);\r\n        builder.setTitle(title);\r\n        builder.setMessage(message);\r\n        builder.setCancelable(false);\r\n        builder.setPositiveButton(&quot;Settings&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                Intent intent = new Intent(Settings.ACTION_DATA_ROAMING_SETTINGS);\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n\r\n        builder.show();\r\n        return builder.create();\r\n    }\r\n\r\n}\r\n\r\n````\r\nto check if the devise have an active internet connection \r\ncall\r\n````\r\nif (!NetWorkChecker.check(this)){\r\n\r\n////do your refres\r\n\r\n}\r\n\r\n\r\n\r\n````","title":"my app is crashing when there is no internet and i want my markers or my map to refresh each second","body":"<p>For the crashing issue\ncreate a class</p>\n<pre><code>\npublic class NetWorkChecker {\n    static NetworkInfo wifi, mobile;\n\n    public static Boolean check(Context c) {\n\n        ConnectivityManager cm = (ConnectivityManager) c.getSystemService(Context.CONNECTIVITY_SERVICE);\n        try {\n            wifi = cm.getNetworkInfo(ConnectivityManager.TYPE_WIFI);\n            mobile = cm.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        if (wifi != null &amp;&amp; wifi.isConnected() &amp;&amp; wifi.isAvailable()) {\n\n            return true;\n        } else if (mobile != null &amp;&amp; mobile.isAvailable() &amp;&amp; mobile.isConnected()) {\n\n            return true;\n        } else {\n            //Toast.makeText(c, &quot;No Network Connection&quot;, Toast.LENGTH_SHORT).show();\n           // ((Activity) c).finish();\n            displayMobileDataSettingsDialog(c,&quot;No Network Connection&quot;,&quot;No Network Connection&quot;);\n            return false;\n        }\n\n    }\n\n    public static AlertDialog displayMobileDataSettingsDialog(final Context context, String title, String message) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(context);\n        builder.setTitle(title);\n        builder.setMessage(message);\n        builder.setCancelable(false);\n        builder.setPositiveButton(&quot;Settings&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                Intent intent = new Intent(Settings.ACTION_DATA_ROAMING_SETTINGS);\n                context.startActivity(intent);\n            }\n        });\n\n        builder.show();\n        return builder.create();\n    }\n\n}\n\n</code></pre>\n<p>to check if the devise have an active internet connection\ncall</p>\n<pre><code>if (!NetWorkChecker.check(this)){\n\n////do your refres\n\n}\n\n\n\n</code></pre>\n"}],"owner":{"account_id":20655059,"reputation":15,"user_id":20477244,"display_name":"Leyoussi Lauriel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74475797,"answer_count":1,"score":-1,"last_activity_date":1668689755,"creation_date":1668689099,"question_id":74475697,"body_markdown":"i made a googlemap app where my markers are displyed.\r\nthe problem is when there no internet, the app is crashing. The code under onResume does not solve the problem.\r\nalso i want to refresh the map or markers each second on the map.\r\n if you have any ideas please i am here to learn from all of you.\r\n\r\nhere is my MapActivity code :\r\n\r\n\r\n```\r\npublic class MapActivity extends AppCompatActivity implements OnMapReadyCallback\r\n{\r\n    private static final String TAG = &quot;MapActivity&quot;;\r\n    @Bind(R.id.back)\r\n    View back;\r\n    @Bind(R.id.zoom_in)\r\n    View zoom_in;\r\n    @Bind(R.id.zoom_out)\r\n    View zoom_out;\r\n    @Bind(R.id.updatetimer)\r\n    TextView updatetimer;\r\n    @Bind(R.id.autozoom)\r\n    ImageView autozoom;\r\n    @Bind(R.id.showtails)\r\n    ImageView showtails;\r\n    @Bind(R.id.geofences)\r\n    ImageView showGeofences;\r\n    @Bind(R.id.map_layer)\r\n    ImageView map_layer_icon;\r\n    private GoogleMap map;\r\n\r\n    @Bind(R.id.content_layout)\r\n    View content_layout;\r\n    @Bind(R.id.loading_layout)\r\n    View loading_layout;\r\n    @Bind(R.id.nodata_layout)\r\n    View nodata_layout;\r\n    private Timer timer;\r\n    private int autoZoomedTimes = 0;// dėl bugo osmdroid library, zoom&#39;inam du kartus ir paskui po refresh&#39;o nebe, nes greičiausiai user&#39;is bus pakeitęs zoom&#39;ą\r\n\r\n    private HashMap&lt;Integer, Marker&gt; deviceIdMarkers;\r\n    private HashMap&lt;String, Device&gt; markerIdDevices;\r\n    private HashMap&lt;Integer, Polyline&gt; deviceIdPolyline;\r\n    private HashMap&lt;Integer, LatLng&gt; deviceIdLastLatLng;\r\n    //    private HashMap&lt;Integer, Marker&gt; deviceIdSmallMarkerInfo;\r\n    private long lastRefreshTime;\r\n    boolean isAutoZoomEnabled = true;\r\n    boolean isShowTitlesEnabled;\r\n    boolean isShowTailsEnabled = true;\r\n    boolean isShowGeofencesEnabled = true;\r\n    private String stopTime;\r\n    private AsyncTask downloadingAsync;\r\n\r\n    private boolean isRefreshLoced = false;\r\n\r\n    ApiInterface.GetGeofencesResult geofencesResult;\r\n    ArrayList&lt;PolygonWithName&gt; polygonsWithDetails = new ArrayList&lt;&gt;();\r\n    float previousZoomLevel = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_map);\r\n        ButterKnife.bind(this);\r\n        deviceIdMarkers = new HashMap&lt;&gt;();\r\n        markerIdDevices = new HashMap&lt;&gt;();\r\n        deviceIdPolyline = new HashMap&lt;&gt;();\r\n        deviceIdLastLatLng = new HashMap&lt;&gt;();\r\n        //        deviceIdSmallMarkerInfo = new HashMap&lt;&gt;();\r\n\r\n       \r\n\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume()\r\n    {\r\n        super.onResume();\r\n        timer = new Timer();\r\n        timer.schedule(new TimerTask()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                runOnUiThread(new Runnable()\r\n                {\r\n                    @Override\r\n                    public void run()\r\n                    {\r\n                        float timeleft = 10 - Math.round(System.currentTimeMillis() - lastRefreshTime) / 1000f;\r\n                        if (timeleft &lt; 0)\r\n                            timeleft = 0;\r\n                        updatetimer.setText(String.format(&quot;%.0f&quot;, timeleft));\r\n                        if (System.currentTimeMillis() - lastRefreshTime &gt;= 10 * 1000)\r\n                            if (map != null)\r\n                                refresh();\r\n                    }\r\n                });\r\n            }\r\n        }, 0, 1000);\r\n    }\r\n\r\n    @Override\r\n    protected void onPause()\r\n    {\r\n        super.onPause();\r\n        try\r\n        {\r\n            timer.cancel();\r\n            timer.purge();\r\n            downloadingAsync.cancel(true);\r\n        } catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void refresh()\r\n    {\r\n        if (isRefreshLoced)\r\n            return;\r\n        isRefreshLoced = true;\r\n        lastRefreshTime = System.currentTimeMillis();\r\n        final String api_key = (String) DataSaver.getInstance(this).load(&quot;api_key&quot;);\r\n        API.getApiInterface(this).getDevices(api_key, getResources().getString(R.string.lang), new Callback&lt;ArrayList&lt;ApiInterface.GetDevicesItem&gt;&gt;()\r\n        {\r\n            @Override\r\n            public void success(final ArrayList&lt;ApiInterface.GetDevicesItem&gt; getDevicesItems, Response response)\r\n            {\r\n                Log.d(TAG, &quot;success: loaded devices array&quot;);\r\n                final ArrayList&lt;Device&gt; allDevices = new ArrayList&lt;&gt;();\r\n                if (getDevicesItems != null)\r\n                    for (ApiInterface.GetDevicesItem item : getDevicesItems)\r\n                        allDevices.addAll(item.items);\r\n                API.getApiInterface(MapActivity.this).getFieldsDataForEditing(api_key, getResources().getString(R.string.lang), 1, new Callback&lt;ApiInterface.GetFieldsDataForEditingResult&gt;()\r\n                {\r\n                    @Override\r\n                    public void success(final ApiInterface.GetFieldsDataForEditingResult getFieldsDataForEditingResult, Response response)\r\n                    {\r\n                        Log.d(TAG, &quot;success: loaded icons&quot;);\r\n                        downloadingAsync = new AsyncTask&lt;Void, Void, Void&gt;()\r\n                        {\r\n                            ArrayList&lt;MarkerOptions&gt; markers;\r\n                            ArrayList&lt;Integer&gt; deviceIds;\r\n\r\n                            @Override\r\n                            protected Void doInBackground(Void... params)\r\n                            {\r\n                                // add markers\r\n                                int dp100 = Utils.dpToPx(MapActivity.this, 50);\r\n                                markers = new ArrayList&lt;&gt;();\r\n                                deviceIds = new ArrayList&lt;&gt;();\r\n                                if (getFieldsDataForEditingResult == null || getFieldsDataForEditingResult.device_icons == null)\r\n                                    return null;\r\n                                for (Device item : allDevices)\r\n                                {\r\n                                    if (isCancelled())\r\n                                        break;\r\n                                    if (item.device_data.active == 1)\r\n                                    {\r\n                                        // ieškom ikonos masyve\r\n                                        DeviceIcon mapIcon = null;\r\n                                        for (DeviceIcon icon : getFieldsDataForEditingResult.device_icons)\r\n                                            if (item.device_data.icon_id == icon.id)\r\n                                                mapIcon = icon;\r\n\r\n                                        String server_base = (String) DataSaver.getInstance(MapActivity.this).load(&quot;server_base&quot;);\r\n\r\n                                        try\r\n                                        {\r\n                                            Log.d(&quot;MapActivity&quot;, &quot;DOWNLOADING BITMAP: &quot; + server_base + mapIcon.path);\r\n                                            Bitmap bmp = BitmapFactory.decodeStream(new URL(server_base + mapIcon.path).openConnection().getInputStream());\r\n\r\n                                            int srcWidth = bmp.getWidth();\r\n                                            int srcHeight = bmp.getHeight();\r\n\r\n                                            int maxWidth = Utils.dpToPx(MapActivity.this, mapIcon.width);\r\n                                            int maxHeight = Utils.dpToPx(MapActivity.this, mapIcon.height);\r\n\r\n                                            float ratio = Math.min((float) maxWidth / (float) srcWidth, (float) maxHeight / (float) srcHeight);\r\n                                            int dstWidth = (int) (srcWidth * ratio);\r\n                                            int dstHeight = (int) (srcHeight * ratio);\r\n\r\n                                            bmp = bmp.createScaledBitmap(bmp, dp100, dp100, true);\r\n\r\n                                            // marker\r\n\r\n                                            MarkerOptions m = new MarkerOptions();\r\n                                            m.position(new LatLng(item.lat, item.lng));\r\n                                            //                                            marker.setAnchor(Marker.ANCHOR_CENTER, Marker.ANCHOR_BOTTOM);\r\n                                            //                                            marker.setIcon(new BitmapDrawable(getResources(), Bitmap.createScaledBitmap(bmp, dstWidth, dstHeight, true)));\r\n                                            m.icon(BitmapDescriptorFactory.fromBitmap(Bitmap.createScaledBitmap(bmp, dstWidth, dstHeight, true)));\r\n\r\n                                            // info window\r\n                                            //                                            MapMarkerInfoWindow infoWindow = new MapMarkerInfoWindow(MapActivity.this, item, R.layout.layout_map_infowindow, map);\r\n                                            //                                            marker.setInfoWindow(infoWindow);\r\n\r\n                                            markers.add(m);\r\n                                            deviceIds.add(item.id);\r\n                                        } catch (OutOfMemoryError outOfMemoryError)\r\n                                        {\r\n                                            Toast.makeText(MapActivity.this, &quot;Out of memory! Too many devices are selected to be displayed&quot;, Toast.LENGTH_LONG).show();\r\n                                        } catch (Exception e)\r\n                                        {\r\n                                            e.printStackTrace();\r\n                                        }\r\n                                    }\r\n                                }\r\n                                return null;\r\n                            }\r\n\r\n                            @Override\r\n                            protected void onPostExecute(Void aVoid)\r\n                            {\r\n                                ArrayList&lt;GeoPoint&gt; points = new ArrayList&lt;&gt;();\r\n\r\n                                if (autoZoomedTimes &lt; 1)\r\n                                {\r\n                                    new Handler().postDelayed(new Runnable()\r\n                                    {\r\n                                        @Override\r\n                                        public void run()\r\n                                        {\r\n                                            runOnUiThread(new Runnable()\r\n                                            {\r\n                                                @Override\r\n                                                public void run()\r\n                                                {\r\n                                                    if (markers.size() &gt; 1)\r\n                                                    {\r\n                                                        try\r\n                                                        {\r\n                                                            LatLngBounds.Builder builder = new LatLngBounds.Builder();\r\n                                                            for (MarkerOptions item : markers)\r\n                                                                builder.include(item.getPosition());\r\n                                                            LatLngBounds bounds = builder.build();\r\n                                                            //                                int padding = 0; // offset from edges of the map in pixels\r\n                                                            CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, Utils.dpToPx(MapActivity.this, 50));\r\n                                                            map.animateCamera(cu);\r\n                                                        } catch (Exception e)\r\n                                                        {\r\n\r\n                                                        }\r\n                                                    } else if (markers.size() &gt; 0)\r\n                                                    {\r\n                                                        map.moveCamera(CameraUpdateFactory.newLatLngZoom(markers.get(0).getPosition(), 15));\r\n                                                    }\r\n                                                    autoZoomedTimes++;\r\n                                                }\r\n                                            });\r\n                                        }\r\n                                    }, 50);\r\n                                } else if (isAutoZoomEnabled)\r\n                                {\r\n                                    if (markers.size() &gt; 1)\r\n                                    {\r\n                                        try\r\n                                        {\r\n                                            LatLngBounds.Builder builder = new LatLngBounds.Builder();\r\n                                            for (MarkerOptions item : markers)\r\n                                                builder.include(item.getPosition());\r\n                                            LatLngBounds bounds = builder.build();\r\n                                            //                                int padding = 0; // offset from edges of the map in pixels\r\n                                            CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, Utils.dpToPx(MapActivity.this, 50));\r\n                                            map.animateCamera(cu);\r\n                                        } catch (Exception e)\r\n                                        {\r\n\r\n                                        }\r\n                                    } else if (markers.size() &gt; 0)\r\n                                    {\r\n                                        map.moveCamera(CameraUpdateFactory.newLatLngZoom(markers.get(0).getPosition(), 15));\r\n                                    }\r\n                                    autoZoomedTimes++;\r\n                                }\r\n\r\n                                Log.d(TAG, &quot;onPostExecute: icons downloaded and added to map, total markers: &quot; + markers.size());\r\n\r\n                                loading_layout.setVisibility(View.GONE);\r\n                                if (markers.size() != 0)\r\n                                    content_layout.setVisibility(View.VISIBLE);\r\n                                else\r\n                                    nodata_layout.setVisibility(View.VISIBLE);\r\n\r\n                                for (int i = 0; i &lt; markers.size(); i++)\r\n                                {\r\n                                    MarkerOptions options = markers.get(i);\r\n                                    int deviceId = deviceIds.get(i);\r\n\r\n                                    Marker m;\r\n\r\n                                    Polyline polyline;\r\n                                    if (deviceIdMarkers.containsKey(deviceId))\r\n                                    {\r\n                                        Log.d(&quot;aa&quot;, &quot;moving to&quot; + options.getPosition());\r\n                                        deviceIdMarkers.get(deviceId).setPosition(new LatLng(options.getPosition().latitude, options.getPosition().longitude));\r\n                                        m = deviceIdMarkers.get(deviceId);\r\n\r\n                                        polyline = deviceIdPolyline.get(deviceId);\r\n                                    } else\r\n                                    {\r\n                                        Log.d(&quot;aa&quot;, &quot;putting new&quot;);\r\n                                        m = map.addMarker(options);\r\n                                        deviceIdMarkers.put(deviceId, m);\r\n                                        polyline = map.addPolyline(new PolylineOptions());\r\n                                        deviceIdPolyline.put(deviceId, polyline);\r\n                                    }\r\n\r\n                                    Device thatonedevice = null;\r\n                                    for (Device device : allDevices)\r\n                                        if (device.id == deviceId)\r\n                                            thatonedevice = device;\r\n                                    markerIdDevices.put(m.getId(), thatonedevice);\r\n\r\n\r\n                                    // update marker rotation based on driving direction\r\n                                    if (thatonedevice != null &amp;&amp; deviceIdLastLatLng.containsKey(deviceId))\r\n                                    {\r\n                                        double dirLat = thatonedevice.lat - deviceIdLastLatLng.get(deviceId).latitude;\r\n                                        double dirLng = thatonedevice.lng - deviceIdLastLatLng.get(deviceId).longitude;\r\n\r\n                                        m.setRotation((float) Math.toDegrees(Math.atan2(dirLng, dirLat)));\r\n                                    }\r\n                                    deviceIdLastLatLng.put(deviceId, new LatLng(thatonedevice.lat, thatonedevice.lng));\r\n\r\n                                    List&lt;LatLng&gt; polylinePoints = new ArrayList&lt;&gt;();\r\n                                    for (TailItem item : thatonedevice.tail)\r\n                                        polylinePoints.add(new LatLng(Double.valueOf(item.lat), Double.valueOf(item.lng)));\r\n                                    polyline.setPoints(polylinePoints);\r\n                                    polyline.setWidth(Utils.dpToPx(MapActivity.this, 2));\r\n                                    polyline.setColor(Color.parseColor(thatonedevice.device_data.tail_color));\r\n                                }\r\n\r\n\r\n                                // else\r\n\r\n                                map.setInfoWindowAdapter(new GoogleMap.InfoWindowAdapter()\r\n                                {\r\n                                    @Override\r\n                                    public View getInfoWindow(Marker marker)\r\n                                    {\r\n                                        return null;\r\n                                    }\r\n\r\n                                    @Override\r\n                                    public View getInfoContents(final Marker marker)\r\n                                    {\r\n                                        synchronized (this)\r\n                                        {\r\n\r\n                                        }\r\n                                        final Device device = markerIdDevices.get(marker.getId());\r\n                                        if (device != null)\r\n                                        {\r\n                                            View view = getLayoutInflater().inflate(R.layout.layout_map_infowindow, null);\r\n                                            view.bringToFront();\r\n                                            view.findViewById(R.id.close).setOnClickListener(new View.OnClickListener()\r\n                                            {\r\n                                                @Override\r\n                                                public void onClick(View v)\r\n                                                {\r\n                                                    marker.hideInfoWindow();\r\n                                                }\r\n                                            });\r\n                                            TextView device_name = (TextView) view.findViewById(R.id.device_name);\r\n                                            device_name.setText(device.name);\r\n                                            TextView altitude = (TextView) view.findViewById(R.id.altitude);\r\n                                            altitude.setText(String.valueOf(device.altitude) + &quot; &quot; + device.unit_of_altitude);\r\n                                            TextView time = (TextView) view.findViewById(R.id.time);\r\n                                            time.setText(device.time);\r\n                                            TextView stopTimeView = (TextView) view.findViewById(R.id.stopTime);\r\n                                            stopTimeView.setText(stopTime);\r\n                                            TextView speed = (TextView) view.findViewById(R.id.speed);\r\n                                            speed.setText(device.speed + &quot; &quot; + device.distance_unit_hour);\r\n                                            TextView address = (TextView) view.findViewById(R.id.address);\r\n                                            address.setText(device.address);\r\n\r\n                                            final ArrayList&lt;Sensor&gt; showableSensors = new ArrayList&lt;&gt;();\r\n                                            for (Sensor item : device.sensors)\r\n                                                if (item.show_in_popup &gt; 0)\r\n                                                    showableSensors.add(item);\r\n\r\n                                            ListView sensors_list = (ListView) view.findViewById(R.id.sensors_list);\r\n                                            sensors_list.setAdapter(new AwesomeAdapter&lt;Sensor&gt;(MapActivity.this)\r\n                                            {\r\n                                                @Override\r\n                                                public int getCount()\r\n                                                {\r\n                                                    return showableSensors.size();\r\n                                                }\r\n\r\n                                                @NonNull\r\n                                                @Override\r\n                                                public View getView(int position, View convertView, @NonNull ViewGroup parent)\r\n                                                {\r\n                                                    if (convertView == null)\r\n                                                        convertView = getLayoutInflater().inflate(R.layout.adapter_map_sensorslist, null);\r\n\r\n                                                    Sensor item = showableSensors.get(position);\r\n                                                    TextView name = (TextView) convertView.findViewById(R.id.name);\r\n                                                    name.setText(item.name);\r\n                                                    TextView value = (TextView) convertView.findViewById(R.id.value);\r\n                                                    value.setText(item.value);\r\n                                                    return convertView;\r\n                                                }\r\n                                            });\r\n\r\n                                            List&lt;Address&gt; addresses;\r\n                                            try\r\n                                            {\r\n                                                addresses = new Geocoder(MapActivity.this).getFromLocation(device.lat, device.lng, 1);\r\n                                                if (addresses.size() &gt; 0)\r\n                                                    address.setText(addresses.get(0).getAddressLine(0));\r\n                                            } catch (IOException e)\r\n                                            {\r\n                                                e.printStackTrace();\r\n                                            }\r\n\r\n                                            return view;\r\n                                        }\r\n                                        return null;\r\n                                    }\r\n                                });\r\n                                map.setOnMarkerClickListener(new GoogleMap.OnMarkerClickListener()\r\n                                {\r\n                                    @Override\r\n                                    public boolean onMarkerClick(final Marker marker)\r\n                                    {\r\n                                        int px = Utils.dpToPx(MapActivity.this, 300);\r\n                                        map.setPadding(0, px, 0, 0);\r\n                                        stopTime = &quot;...&quot;;\r\n                                        final Device device = markerIdDevices.get(marker.getId());\r\n                                        if (device != null)\r\n                                        {\r\n                                            API.getApiInterface(MapActivity.this).deviceStopTime((String) DataSaver.getInstance(MapActivity.this).load(&quot;api_key&quot;), &quot;en&quot;, device.id, new Callback&lt;ApiInterface.DeviceStopTimeResult&gt;()\r\n                                            {\r\n                                                @Override\r\n                                                public void success(ApiInterface.DeviceStopTimeResult result, Response response)\r\n                                                {\r\n                                                    stopTime = result.time;\r\n                                                    marker.showInfoWindow();\r\n                                                }\r\n\r\n                                                @Override\r\n                                                public void failure(RetrofitError retrofitError)\r\n                                                {\r\n                                                    Toast.makeText(MapActivity.this, R.string.errorHappened, Toast.LENGTH_SHORT).show();\r\n                                                }\r\n                                            });\r\n                                        }\r\n\r\n                                        return false;\r\n                                    }\r\n                                });\r\n                                map.setOnInfoWindowClickListener(new GoogleMap.OnInfoWindowClickListener()\r\n                                {\r\n                                    @Override\r\n                                    public void onInfoWindowClick(Marker marker)\r\n                                    {\r\n                                        marker.hideInfoWindow();\r\n                                    }\r\n                                });\r\n\r\n                                map.setOnInfoWindowCloseListener(new GoogleMap.OnInfoWindowCloseListener()\r\n                                {\r\n                                    @Override\r\n                                    public void onInfoWindowClose(Marker marker)\r\n                                    {\r\n                                        map.setPadding(0, 0, 0, 0);\r\n                                    }\r\n                                });\r\n\r\n                                //                                updateSmallMarkerData(allDevices);\r\n                                isRefreshLoced = false;\r\n                            }\r\n                        }.execute();\r\n                    }\r\n\r\n                    @Override\r\n                    public void failure(RetrofitError retrofitError)\r\n                    {\r\n                        Toast.makeText(MapActivity.this, R.string.errorHappened, Toast.LENGTH_SHORT).show();\r\n                        isRefreshLoced = false;\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void failure(RetrofitError retrofitError)\r\n            {\r\n                Toast.makeText(MapActivity.this, R.string.errorHappened, Toast.LENGTH_SHORT).show();\r\n                isRefreshLoced = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap)\r\n    {\r\n        map = googleMap;\r\n        refresh();\r\n    }\r\n```\r\n\r\n\r\nthis MapActivity is slow to load, could you teach me a way to make it goes faster?\r\nBest regard :)\r\nwaiting for your propositions.\r\nPS: i have removed some functions to make the code look short but i kept the most important in is case.","title":"my app is crashing when there is no internet and i want my markers or my map to refresh each second","body":"<p>i made a googlemap app where my markers are displyed.\nthe problem is when there no internet, the app is crashing. The code under onResume does not solve the problem.\nalso i want to refresh the map or markers each second on the map.\nif you have any ideas please i am here to learn from all of you.</p>\n<p>here is my MapActivity code :</p>\n<pre><code>public class MapActivity extends AppCompatActivity implements OnMapReadyCallback\n{\n    private static final String TAG = &quot;MapActivity&quot;;\n    @Bind(R.id.back)\n    View back;\n    @Bind(R.id.zoom_in)\n    View zoom_in;\n    @Bind(R.id.zoom_out)\n    View zoom_out;\n    @Bind(R.id.updatetimer)\n    TextView updatetimer;\n    @Bind(R.id.autozoom)\n    ImageView autozoom;\n    @Bind(R.id.showtails)\n    ImageView showtails;\n    @Bind(R.id.geofences)\n    ImageView showGeofences;\n    @Bind(R.id.map_layer)\n    ImageView map_layer_icon;\n    private GoogleMap map;\n\n    @Bind(R.id.content_layout)\n    View content_layout;\n    @Bind(R.id.loading_layout)\n    View loading_layout;\n    @Bind(R.id.nodata_layout)\n    View nodata_layout;\n    private Timer timer;\n    private int autoZoomedTimes = 0;// dėl bugo osmdroid library, zoom'inam du kartus ir paskui po refresh'o nebe, nes greičiausiai user'is bus pakeitęs zoom'ą\n\n    private HashMap&lt;Integer, Marker&gt; deviceIdMarkers;\n    private HashMap&lt;String, Device&gt; markerIdDevices;\n    private HashMap&lt;Integer, Polyline&gt; deviceIdPolyline;\n    private HashMap&lt;Integer, LatLng&gt; deviceIdLastLatLng;\n    //    private HashMap&lt;Integer, Marker&gt; deviceIdSmallMarkerInfo;\n    private long lastRefreshTime;\n    boolean isAutoZoomEnabled = true;\n    boolean isShowTitlesEnabled;\n    boolean isShowTailsEnabled = true;\n    boolean isShowGeofencesEnabled = true;\n    private String stopTime;\n    private AsyncTask downloadingAsync;\n\n    private boolean isRefreshLoced = false;\n\n    ApiInterface.GetGeofencesResult geofencesResult;\n    ArrayList&lt;PolygonWithName&gt; polygonsWithDetails = new ArrayList&lt;&gt;();\n    float previousZoomLevel = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_map);\n        ButterKnife.bind(this);\n        deviceIdMarkers = new HashMap&lt;&gt;();\n        markerIdDevices = new HashMap&lt;&gt;();\n        deviceIdPolyline = new HashMap&lt;&gt;();\n        deviceIdLastLatLng = new HashMap&lt;&gt;();\n        //        deviceIdSmallMarkerInfo = new HashMap&lt;&gt;();\n\n       \n\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n    }\n\n    @Override\n    protected void onResume()\n    {\n        super.onResume();\n        timer = new Timer();\n        timer.schedule(new TimerTask()\n        {\n            @Override\n            public void run()\n            {\n                runOnUiThread(new Runnable()\n                {\n                    @Override\n                    public void run()\n                    {\n                        float timeleft = 10 - Math.round(System.currentTimeMillis() - lastRefreshTime) / 1000f;\n                        if (timeleft &lt; 0)\n                            timeleft = 0;\n                        updatetimer.setText(String.format(&quot;%.0f&quot;, timeleft));\n                        if (System.currentTimeMillis() - lastRefreshTime &gt;= 10 * 1000)\n                            if (map != null)\n                                refresh();\n                    }\n                });\n            }\n        }, 0, 1000);\n    }\n\n    @Override\n    protected void onPause()\n    {\n        super.onPause();\n        try\n        {\n            timer.cancel();\n            timer.purge();\n            downloadingAsync.cancel(true);\n        } catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n    private void refresh()\n    {\n        if (isRefreshLoced)\n            return;\n        isRefreshLoced = true;\n        lastRefreshTime = System.currentTimeMillis();\n        final String api_key = (String) DataSaver.getInstance(this).load(&quot;api_key&quot;);\n        API.getApiInterface(this).getDevices(api_key, getResources().getString(R.string.lang), new Callback&lt;ArrayList&lt;ApiInterface.GetDevicesItem&gt;&gt;()\n        {\n            @Override\n            public void success(final ArrayList&lt;ApiInterface.GetDevicesItem&gt; getDevicesItems, Response response)\n            {\n                Log.d(TAG, &quot;success: loaded devices array&quot;);\n                final ArrayList&lt;Device&gt; allDevices = new ArrayList&lt;&gt;();\n                if (getDevicesItems != null)\n                    for (ApiInterface.GetDevicesItem item : getDevicesItems)\n                        allDevices.addAll(item.items);\n                API.getApiInterface(MapActivity.this).getFieldsDataForEditing(api_key, getResources().getString(R.string.lang), 1, new Callback&lt;ApiInterface.GetFieldsDataForEditingResult&gt;()\n                {\n                    @Override\n                    public void success(final ApiInterface.GetFieldsDataForEditingResult getFieldsDataForEditingResult, Response response)\n                    {\n                        Log.d(TAG, &quot;success: loaded icons&quot;);\n                        downloadingAsync = new AsyncTask&lt;Void, Void, Void&gt;()\n                        {\n                            ArrayList&lt;MarkerOptions&gt; markers;\n                            ArrayList&lt;Integer&gt; deviceIds;\n\n                            @Override\n                            protected Void doInBackground(Void... params)\n                            {\n                                // add markers\n                                int dp100 = Utils.dpToPx(MapActivity.this, 50);\n                                markers = new ArrayList&lt;&gt;();\n                                deviceIds = new ArrayList&lt;&gt;();\n                                if (getFieldsDataForEditingResult == null || getFieldsDataForEditingResult.device_icons == null)\n                                    return null;\n                                for (Device item : allDevices)\n                                {\n                                    if (isCancelled())\n                                        break;\n                                    if (item.device_data.active == 1)\n                                    {\n                                        // ieškom ikonos masyve\n                                        DeviceIcon mapIcon = null;\n                                        for (DeviceIcon icon : getFieldsDataForEditingResult.device_icons)\n                                            if (item.device_data.icon_id == icon.id)\n                                                mapIcon = icon;\n\n                                        String server_base = (String) DataSaver.getInstance(MapActivity.this).load(&quot;server_base&quot;);\n\n                                        try\n                                        {\n                                            Log.d(&quot;MapActivity&quot;, &quot;DOWNLOADING BITMAP: &quot; + server_base + mapIcon.path);\n                                            Bitmap bmp = BitmapFactory.decodeStream(new URL(server_base + mapIcon.path).openConnection().getInputStream());\n\n                                            int srcWidth = bmp.getWidth();\n                                            int srcHeight = bmp.getHeight();\n\n                                            int maxWidth = Utils.dpToPx(MapActivity.this, mapIcon.width);\n                                            int maxHeight = Utils.dpToPx(MapActivity.this, mapIcon.height);\n\n                                            float ratio = Math.min((float) maxWidth / (float) srcWidth, (float) maxHeight / (float) srcHeight);\n                                            int dstWidth = (int) (srcWidth * ratio);\n                                            int dstHeight = (int) (srcHeight * ratio);\n\n                                            bmp = bmp.createScaledBitmap(bmp, dp100, dp100, true);\n\n                                            // marker\n\n                                            MarkerOptions m = new MarkerOptions();\n                                            m.position(new LatLng(item.lat, item.lng));\n                                            //                                            marker.setAnchor(Marker.ANCHOR_CENTER, Marker.ANCHOR_BOTTOM);\n                                            //                                            marker.setIcon(new BitmapDrawable(getResources(), Bitmap.createScaledBitmap(bmp, dstWidth, dstHeight, true)));\n                                            m.icon(BitmapDescriptorFactory.fromBitmap(Bitmap.createScaledBitmap(bmp, dstWidth, dstHeight, true)));\n\n                                            // info window\n                                            //                                            MapMarkerInfoWindow infoWindow = new MapMarkerInfoWindow(MapActivity.this, item, R.layout.layout_map_infowindow, map);\n                                            //                                            marker.setInfoWindow(infoWindow);\n\n                                            markers.add(m);\n                                            deviceIds.add(item.id);\n                                        } catch (OutOfMemoryError outOfMemoryError)\n                                        {\n                                            Toast.makeText(MapActivity.this, &quot;Out of memory! Too many devices are selected to be displayed&quot;, Toast.LENGTH_LONG).show();\n                                        } catch (Exception e)\n                                        {\n                                            e.printStackTrace();\n                                        }\n                                    }\n                                }\n                                return null;\n                            }\n\n                            @Override\n                            protected void onPostExecute(Void aVoid)\n                            {\n                                ArrayList&lt;GeoPoint&gt; points = new ArrayList&lt;&gt;();\n\n                                if (autoZoomedTimes &lt; 1)\n                                {\n                                    new Handler().postDelayed(new Runnable()\n                                    {\n                                        @Override\n                                        public void run()\n                                        {\n                                            runOnUiThread(new Runnable()\n                                            {\n                                                @Override\n                                                public void run()\n                                                {\n                                                    if (markers.size() &gt; 1)\n                                                    {\n                                                        try\n                                                        {\n                                                            LatLngBounds.Builder builder = new LatLngBounds.Builder();\n                                                            for (MarkerOptions item : markers)\n                                                                builder.include(item.getPosition());\n                                                            LatLngBounds bounds = builder.build();\n                                                            //                                int padding = 0; // offset from edges of the map in pixels\n                                                            CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, Utils.dpToPx(MapActivity.this, 50));\n                                                            map.animateCamera(cu);\n                                                        } catch (Exception e)\n                                                        {\n\n                                                        }\n                                                    } else if (markers.size() &gt; 0)\n                                                    {\n                                                        map.moveCamera(CameraUpdateFactory.newLatLngZoom(markers.get(0).getPosition(), 15));\n                                                    }\n                                                    autoZoomedTimes++;\n                                                }\n                                            });\n                                        }\n                                    }, 50);\n                                } else if (isAutoZoomEnabled)\n                                {\n                                    if (markers.size() &gt; 1)\n                                    {\n                                        try\n                                        {\n                                            LatLngBounds.Builder builder = new LatLngBounds.Builder();\n                                            for (MarkerOptions item : markers)\n                                                builder.include(item.getPosition());\n                                            LatLngBounds bounds = builder.build();\n                                            //                                int padding = 0; // offset from edges of the map in pixels\n                                            CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, Utils.dpToPx(MapActivity.this, 50));\n                                            map.animateCamera(cu);\n                                        } catch (Exception e)\n                                        {\n\n                                        }\n                                    } else if (markers.size() &gt; 0)\n                                    {\n                                        map.moveCamera(CameraUpdateFactory.newLatLngZoom(markers.get(0).getPosition(), 15));\n                                    }\n                                    autoZoomedTimes++;\n                                }\n\n                                Log.d(TAG, &quot;onPostExecute: icons downloaded and added to map, total markers: &quot; + markers.size());\n\n                                loading_layout.setVisibility(View.GONE);\n                                if (markers.size() != 0)\n                                    content_layout.setVisibility(View.VISIBLE);\n                                else\n                                    nodata_layout.setVisibility(View.VISIBLE);\n\n                                for (int i = 0; i &lt; markers.size(); i++)\n                                {\n                                    MarkerOptions options = markers.get(i);\n                                    int deviceId = deviceIds.get(i);\n\n                                    Marker m;\n\n                                    Polyline polyline;\n                                    if (deviceIdMarkers.containsKey(deviceId))\n                                    {\n                                        Log.d(&quot;aa&quot;, &quot;moving to&quot; + options.getPosition());\n                                        deviceIdMarkers.get(deviceId).setPosition(new LatLng(options.getPosition().latitude, options.getPosition().longitude));\n                                        m = deviceIdMarkers.get(deviceId);\n\n                                        polyline = deviceIdPolyline.get(deviceId);\n                                    } else\n                                    {\n                                        Log.d(&quot;aa&quot;, &quot;putting new&quot;);\n                                        m = map.addMarker(options);\n                                        deviceIdMarkers.put(deviceId, m);\n                                        polyline = map.addPolyline(new PolylineOptions());\n                                        deviceIdPolyline.put(deviceId, polyline);\n                                    }\n\n                                    Device thatonedevice = null;\n                                    for (Device device : allDevices)\n                                        if (device.id == deviceId)\n                                            thatonedevice = device;\n                                    markerIdDevices.put(m.getId(), thatonedevice);\n\n\n                                    // update marker rotation based on driving direction\n                                    if (thatonedevice != null &amp;&amp; deviceIdLastLatLng.containsKey(deviceId))\n                                    {\n                                        double dirLat = thatonedevice.lat - deviceIdLastLatLng.get(deviceId).latitude;\n                                        double dirLng = thatonedevice.lng - deviceIdLastLatLng.get(deviceId).longitude;\n\n                                        m.setRotation((float) Math.toDegrees(Math.atan2(dirLng, dirLat)));\n                                    }\n                                    deviceIdLastLatLng.put(deviceId, new LatLng(thatonedevice.lat, thatonedevice.lng));\n\n                                    List&lt;LatLng&gt; polylinePoints = new ArrayList&lt;&gt;();\n                                    for (TailItem item : thatonedevice.tail)\n                                        polylinePoints.add(new LatLng(Double.valueOf(item.lat), Double.valueOf(item.lng)));\n                                    polyline.setPoints(polylinePoints);\n                                    polyline.setWidth(Utils.dpToPx(MapActivity.this, 2));\n                                    polyline.setColor(Color.parseColor(thatonedevice.device_data.tail_color));\n                                }\n\n\n                                // else\n\n                                map.setInfoWindowAdapter(new GoogleMap.InfoWindowAdapter()\n                                {\n                                    @Override\n                                    public View getInfoWindow(Marker marker)\n                                    {\n                                        return null;\n                                    }\n\n                                    @Override\n                                    public View getInfoContents(final Marker marker)\n                                    {\n                                        synchronized (this)\n                                        {\n\n                                        }\n                                        final Device device = markerIdDevices.get(marker.getId());\n                                        if (device != null)\n                                        {\n                                            View view = getLayoutInflater().inflate(R.layout.layout_map_infowindow, null);\n                                            view.bringToFront();\n                                            view.findViewById(R.id.close).setOnClickListener(new View.OnClickListener()\n                                            {\n                                                @Override\n                                                public void onClick(View v)\n                                                {\n                                                    marker.hideInfoWindow();\n                                                }\n                                            });\n                                            TextView device_name = (TextView) view.findViewById(R.id.device_name);\n                                            device_name.setText(device.name);\n                                            TextView altitude = (TextView) view.findViewById(R.id.altitude);\n                                            altitude.setText(String.valueOf(device.altitude) + &quot; &quot; + device.unit_of_altitude);\n                                            TextView time = (TextView) view.findViewById(R.id.time);\n                                            time.setText(device.time);\n                                            TextView stopTimeView = (TextView) view.findViewById(R.id.stopTime);\n                                            stopTimeView.setText(stopTime);\n                                            TextView speed = (TextView) view.findViewById(R.id.speed);\n                                            speed.setText(device.speed + &quot; &quot; + device.distance_unit_hour);\n                                            TextView address = (TextView) view.findViewById(R.id.address);\n                                            address.setText(device.address);\n\n                                            final ArrayList&lt;Sensor&gt; showableSensors = new ArrayList&lt;&gt;();\n                                            for (Sensor item : device.sensors)\n                                                if (item.show_in_popup &gt; 0)\n                                                    showableSensors.add(item);\n\n                                            ListView sensors_list = (ListView) view.findViewById(R.id.sensors_list);\n                                            sensors_list.setAdapter(new AwesomeAdapter&lt;Sensor&gt;(MapActivity.this)\n                                            {\n                                                @Override\n                                                public int getCount()\n                                                {\n                                                    return showableSensors.size();\n                                                }\n\n                                                @NonNull\n                                                @Override\n                                                public View getView(int position, View convertView, @NonNull ViewGroup parent)\n                                                {\n                                                    if (convertView == null)\n                                                        convertView = getLayoutInflater().inflate(R.layout.adapter_map_sensorslist, null);\n\n                                                    Sensor item = showableSensors.get(position);\n                                                    TextView name = (TextView) convertView.findViewById(R.id.name);\n                                                    name.setText(item.name);\n                                                    TextView value = (TextView) convertView.findViewById(R.id.value);\n                                                    value.setText(item.value);\n                                                    return convertView;\n                                                }\n                                            });\n\n                                            List&lt;Address&gt; addresses;\n                                            try\n                                            {\n                                                addresses = new Geocoder(MapActivity.this).getFromLocation(device.lat, device.lng, 1);\n                                                if (addresses.size() &gt; 0)\n                                                    address.setText(addresses.get(0).getAddressLine(0));\n                                            } catch (IOException e)\n                                            {\n                                                e.printStackTrace();\n                                            }\n\n                                            return view;\n                                        }\n                                        return null;\n                                    }\n                                });\n                                map.setOnMarkerClickListener(new GoogleMap.OnMarkerClickListener()\n                                {\n                                    @Override\n                                    public boolean onMarkerClick(final Marker marker)\n                                    {\n                                        int px = Utils.dpToPx(MapActivity.this, 300);\n                                        map.setPadding(0, px, 0, 0);\n                                        stopTime = &quot;...&quot;;\n                                        final Device device = markerIdDevices.get(marker.getId());\n                                        if (device != null)\n                                        {\n                                            API.getApiInterface(MapActivity.this).deviceStopTime((String) DataSaver.getInstance(MapActivity.this).load(&quot;api_key&quot;), &quot;en&quot;, device.id, new Callback&lt;ApiInterface.DeviceStopTimeResult&gt;()\n                                            {\n                                                @Override\n                                                public void success(ApiInterface.DeviceStopTimeResult result, Response response)\n                                                {\n                                                    stopTime = result.time;\n                                                    marker.showInfoWindow();\n                                                }\n\n                                                @Override\n                                                public void failure(RetrofitError retrofitError)\n                                                {\n                                                    Toast.makeText(MapActivity.this, R.string.errorHappened, Toast.LENGTH_SHORT).show();\n                                                }\n                                            });\n                                        }\n\n                                        return false;\n                                    }\n                                });\n                                map.setOnInfoWindowClickListener(new GoogleMap.OnInfoWindowClickListener()\n                                {\n                                    @Override\n                                    public void onInfoWindowClick(Marker marker)\n                                    {\n                                        marker.hideInfoWindow();\n                                    }\n                                });\n\n                                map.setOnInfoWindowCloseListener(new GoogleMap.OnInfoWindowCloseListener()\n                                {\n                                    @Override\n                                    public void onInfoWindowClose(Marker marker)\n                                    {\n                                        map.setPadding(0, 0, 0, 0);\n                                    }\n                                });\n\n                                //                                updateSmallMarkerData(allDevices);\n                                isRefreshLoced = false;\n                            }\n                        }.execute();\n                    }\n\n                    @Override\n                    public void failure(RetrofitError retrofitError)\n                    {\n                        Toast.makeText(MapActivity.this, R.string.errorHappened, Toast.LENGTH_SHORT).show();\n                        isRefreshLoced = false;\n                    }\n                });\n            }\n\n            @Override\n            public void failure(RetrofitError retrofitError)\n            {\n                Toast.makeText(MapActivity.this, R.string.errorHappened, Toast.LENGTH_SHORT).show();\n                isRefreshLoced = false;\n            }\n        });\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap)\n    {\n        map = googleMap;\n        refresh();\n    }\n</code></pre>\n<p>this MapActivity is slow to load, could you teach me a way to make it goes faster?\nBest regard :)\nwaiting for your propositions.\nPS: i have removed some functions to make the code look short but i kept the most important in is case.</p>\n"},{"tags":["java","spring-boot","log4j","logback"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1668534003,"post_id":74449828,"comment_id":131427007,"body_markdown":"It&#39;s following the &quot;conversionPattern&quot; that you specified in the config. If you want it to be different, then change the pattern.","body":"It&#39;s following the &quot;conversionPattern&quot; that you specified in the config. If you want it to be different, then change the pattern."},{"owner":{"account_id":8061038,"reputation":91,"user_id":6076567,"display_name":"Ivan"},"score":0,"creation_date":1668578579,"post_id":74449828,"comment_id":131436798,"body_markdown":"@Michael thx for your comment, I tried to change the &quot;conversionPattern&quot; and even delete it, but I still can&#39;t see messages in the log about the PID and the start time of the application, as it was in the logback.","body":"@Michael thx for your comment, I tried to change the &quot;conversionPattern&quot; and even delete it, but I still can&#39;t see messages in the log about the PID and the start time of the application, as it was in the logback."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1668588131,"post_id":74449828,"comment_id":131439274,"body_markdown":"See https://stackoverflow.com/questions/4622252/how-to-add-the-process-id-to-a-log4j-log-file","body":"See <a href=\"https://stackoverflow.com/questions/4622252/how-to-add-the-process-id-to-a-log4j-log-file\" title=\"how to add the process id to a log4j log file\">stackoverflow.com/questions/4622252/&hellip;</a>"},{"owner":{"account_id":8061038,"reputation":91,"user_id":6076567,"display_name":"Ivan"},"score":0,"creation_date":1668589667,"post_id":74449828,"comment_id":131439835,"body_markdown":"@grekier  in that topic, the message format is also considered, in my case some information has completely disappeared, i.e. there are no whole messages","body":"@grekier  in that topic, the message format is also considered, in my case some information has completely disappeared, i.e. there are no whole messages"}],"owner":{"account_id":8061038,"reputation":91,"user_id":6076567,"display_name":"Ivan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668689729,"creation_date":1668533095,"question_id":74449828,"body_markdown":"\r\nIt was necessary to change from logback to log4j, I modified pom for this:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\r\n&lt;/dependency&gt;   \r\n```\r\n\r\nAnd &#39;log4j.properties&#39; file was added:\r\n```\r\nlog4j.rootLogger=INFO,Console\r\n\r\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.console.Target=System.out\r\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.console.layout.conversionPattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p - %m%n\r\n```\r\n\r\nBut in result, there are different logs. With logback I have something like this:\r\n```\r\n2022-11-15 18:43:05.819  INFO 13700 --- [           main] en.main.com.Application                 \t: Starting Application using Java 11.0.14 on &#39;&#39; with PID 13700\r\n2022-11-15 18:43:06.710  INFO 13700 --- [           main] o.s.cloud.context.scope.GenericScope     \t: BeanFactory id=eb6a152f-721c-3012-b9ce-880d2bbbe06c\r\n2022-11-15 18:43:06.967  INFO 13700 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  \t: Tomcat initialized with port(s): 8081 (http)\r\n2022-11-15 18:43:06.974  INFO 13700 --- [           main] o.apache.catalina.core.StandardService   \t: Starting service [Tomcat]\r\n2022-11-15 18:43:06.974  INFO 13700 --- [           main] org.apache.catalina.core.StandardEngine  \t: Starting Servlet engine: [Apache Tomcat/9.0.53]\r\n2022-11-15 18:43:07.158  INFO 13700 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/main]    : Initializing Spring embedded WebApplicationContext\r\n2022-11-15 18:43:07.159  INFO 13700 --- [           main] w.s.c.ServletWebServerApplicationContext \t: Root WebApplicationContext: initialization completed in 1298 ms\r\n2022-11-15 18:43:07.898  INFO 13700 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  \t: Tomcat started on port(s): 8081 (http) with context path &#39;/main&#39;\r\n2022-11-15 18:43:07.985  INFO 13700 --- [           main] en.main.com.Application                 \t: Started Application in 2.648 seconds (JVM running for 3.726)\r\n```\r\n\r\nAnd after log4j:\r\n```\r\n2022-11-15 18:38:00,817 INFO  - Initializing ProtocolHandler [&quot;http-nio-8081&quot;]\r\n2022-11-15 18:38:00,818 INFO  - Starting service [Tomcat]\r\n2022-11-15 18:38:00,818 INFO  - Starting Servlet engine: [Apache Tomcat/9.0.53]\r\n2022-11-15 18:38:01,057 INFO  - Initializing Spring embedded WebApplicationContext\r\n2022-11-15 18:38:02,890 INFO  - Starting ProtocolHandler [&quot;http-nio-8081&quot;]\r\n2022-11-15 18:38:03,001 INFO  - HikariPool-1 - Starting...\r\n2022-11-15 18:38:03,318 INFO  - HikariPool-1 - Start completed.\r\n2022-11-15 18:38:03,340 INFO  - HikariPool-2 - Starting...\r\n2022-11-15 18:38:03,397 INFO  - HikariPool-2 - Start completed.\r\n```\r\n\r\nI can&#39;t understand why a part of useful information is missing. Also tried to display some transactions info, by adding\r\n```\r\nlog4j.logger.org.springframework.jdbc.datasource.DataSourceTransactionManager=DEBUG\r\n```\r\nbut there is no result.","title":"Why some information missing after switching from logback to log4j?","body":"<p>It was necessary to change from logback to log4j, I modified pom for this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\n&lt;/dependency&gt;   \n</code></pre>\n<p>And 'log4j.properties' file was added:</p>\n<pre><code>log4j.rootLogger=INFO,Console\n\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.Target=System.out\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.conversionPattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p - %m%n\n</code></pre>\n<p>But in result, there are different logs. With logback I have something like this:</p>\n<pre><code>2022-11-15 18:43:05.819  INFO 13700 --- [           main] en.main.com.Application                   : Starting Application using Java 11.0.14 on '' with PID 13700\n2022-11-15 18:43:06.710  INFO 13700 --- [           main] o.s.cloud.context.scope.GenericScope      : BeanFactory id=eb6a152f-721c-3012-b9ce-880d2bbbe06c\n2022-11-15 18:43:06.967  INFO 13700 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer   : Tomcat initialized with port(s): 8081 (http)\n2022-11-15 18:43:06.974  INFO 13700 --- [           main] o.apache.catalina.core.StandardService    : Starting service [Tomcat]\n2022-11-15 18:43:06.974  INFO 13700 --- [           main] org.apache.catalina.core.StandardEngine   : Starting Servlet engine: [Apache Tomcat/9.0.53]\n2022-11-15 18:43:07.158  INFO 13700 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/main]    : Initializing Spring embedded WebApplicationContext\n2022-11-15 18:43:07.159  INFO 13700 --- [           main] w.s.c.ServletWebServerApplicationContext  : Root WebApplicationContext: initialization completed in 1298 ms\n2022-11-15 18:43:07.898  INFO 13700 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer   : Tomcat started on port(s): 8081 (http) with context path '/main'\n2022-11-15 18:43:07.985  INFO 13700 --- [           main] en.main.com.Application                   : Started Application in 2.648 seconds (JVM running for 3.726)\n</code></pre>\n<p>And after log4j:</p>\n<pre><code>2022-11-15 18:38:00,817 INFO  - Initializing ProtocolHandler [&quot;http-nio-8081&quot;]\n2022-11-15 18:38:00,818 INFO  - Starting service [Tomcat]\n2022-11-15 18:38:00,818 INFO  - Starting Servlet engine: [Apache Tomcat/9.0.53]\n2022-11-15 18:38:01,057 INFO  - Initializing Spring embedded WebApplicationContext\n2022-11-15 18:38:02,890 INFO  - Starting ProtocolHandler [&quot;http-nio-8081&quot;]\n2022-11-15 18:38:03,001 INFO  - HikariPool-1 - Starting...\n2022-11-15 18:38:03,318 INFO  - HikariPool-1 - Start completed.\n2022-11-15 18:38:03,340 INFO  - HikariPool-2 - Starting...\n2022-11-15 18:38:03,397 INFO  - HikariPool-2 - Start completed.\n</code></pre>\n<p>I can't understand why a part of useful information is missing. Also tried to display some transactions info, by adding</p>\n<pre><code>log4j.logger.org.springframework.jdbc.datasource.DataSourceTransactionManager=DEBUG\n</code></pre>\n<p>but there is no result.</p>\n"},{"tags":["java","hibernate","quarkus"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1668521603,"post_id":74446963,"comment_id":131421781,"body_markdown":"Is the `Datasource &#39;default&#39;` really the correct one?","body":"Is the <code>Datasource &#39;default&#39;</code> really the correct one?"},{"owner":{"account_id":4565174,"reputation":508,"user_id":3706372,"accept_rate":50,"display_name":"godo57"},"score":0,"creation_date":1668521763,"post_id":74446963,"comment_id":131421848,"body_markdown":"This seems to be a network issue ?","body":"This seems to be a network issue ?"},{"owner":{"account_id":2078465,"reputation":191,"user_id":1851136,"accept_rate":50,"display_name":"VenomBerry"},"score":0,"creation_date":1668522048,"post_id":74446963,"comment_id":131421988,"body_markdown":"problem solved, i was using the wrong data source configuration.","body":"problem solved, i was using the wrong data source configuration."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1668584515,"post_id":74446963,"comment_id":131438152,"body_markdown":"So `default` was wrong? Surprise ^^","body":"So <code>default</code> was wrong? Surprise ^^"}],"answers":[{"tags":[],"owner":{"account_id":2078465,"reputation":191,"user_id":1851136,"accept_rate":50,"display_name":"VenomBerry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668689597,"creation_date":1668522181,"answer_id":74447212,"question_id":74446963,"body_markdown":"I was using the wrong datasource configuration, when i put the right host, credentials and service name in the application.propreties file.","title":"Why my quarkus/hibernate rest API unable to acuire JDBC connection?","body":"<p>I was using the wrong datasource configuration, when i put the right host, credentials and service name in the application.propreties file.</p>\n"}],"owner":{"account_id":2078465,"reputation":191,"user_id":1851136,"accept_rate":50,"display_name":"VenomBerry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668689597,"creation_date":1668521089,"question_id":74446963,"body_markdown":"The application lunches correctly, i am trying to consume a login API, when i lunch login process using swagger-ui, an exception is triggered:\r\n\r\n&gt; Caused by: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n\r\n&gt; Caused by: java.sql.SQLRecoverableException: Erreur d&#39;E/S: The Network Adapter could not establish the connection\r\n\r\n&gt; 2022-11-15 14:03:18,857 WARN  (Agroal_2230584771) Datasource &#39;default&#39;: Erreur d&#39;E/S: The Network Adapter could not establish the connection\r\n\r\nthis is the url from the database propreties panel: `jdbc:oracle:thin:@bodswv092:1521:DEMO`\r\n\r\nHow can i resolve this problem ?\r\n\r\n","title":"Why my quarkus/hibernate rest API unable to acuire JDBC connection?","body":"<p>The application lunches correctly, i am trying to consume a login API, when i lunch login process using swagger-ui, an exception is triggered:</p>\n<blockquote>\n<p>Caused by: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection</p>\n</blockquote>\n<blockquote>\n<p>Caused by: java.sql.SQLRecoverableException: Erreur d'E/S: The Network Adapter could not establish the connection</p>\n</blockquote>\n<blockquote>\n<p>2022-11-15 14:03:18,857 WARN  (Agroal_2230584771) Datasource 'default': Erreur d'E/S: The Network Adapter could not establish the connection</p>\n</blockquote>\n<p>this is the url from the database propreties panel: <code>jdbc:oracle:thin:@bodswv092:1521:DEMO</code></p>\n<p>How can i resolve this problem ?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":2,"creation_date":1668676628,"post_id":74472796,"comment_id":131465366,"body_markdown":"Are you sure about `s?`, it seems you expect that to match a space..., but that would need to be `\\s?`, and in a string literal with escaped backslash...","body":"Are you sure about <code>s?</code>, it seems you expect that to match a space..., but that would need to be <code>\\s?</code>, and in a string literal with escaped backslash..."},{"owner":{"account_id":26151286,"reputation":9,"user_id":19839205,"display_name":"arunDarkDev"},"score":0,"creation_date":1668677238,"post_id":74472796,"comment_id":131465596,"body_markdown":"Yeah, you&#39;re right. that was misspelled one.","body":"Yeah, you&#39;re right. that was misspelled one."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1668677305,"post_id":74472796,"comment_id":131465622,"body_markdown":"But still didn&#39;t escape that backslash -- because of the Java string literal it is in.","body":"But still didn&#39;t escape that backslash -- because of the Java string literal it is in."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668676912,"creation_date":1668676587,"answer_id":74472858,"question_id":74472796,"body_markdown":"You can use\r\n```none\r\nPattern.matches(&quot;[A-Z][a-z]*(?:\\\\s[A-Z][a-z]*)*&quot;,&quot;Joe V&quot;)\r\nPattern.matches(&quot;\\\\p{Lu}\\\\p{Ll}*(?:\\\\s\\\\p{Lu}\\\\p{Ll}*)*&quot;,&quot;Joe V&quot;)\r\n```\r\nSee the [regex demo #1][1] and [regex demo #2][2].\r\n\r\nNote that `.matches` requires a full string match, hence the use of `^` and `$` anchors on the testing site and their absence in the code.\r\n\r\n*Details*:\r\n\r\n - `^` - start of string (implied in `.matches`)\r\n - `[A-Z]` / `\\p{Lu}` - an (Unicode) uppercase letter\r\n - `[a-z]*` / `\\p{Ll}*` - zero or more (Unicode) lowercase letters\r\n - `(?:\\s[A-Z][a-z]*)*` / `(?:\\s\\p{Lu}\\p{Ll}*)*` - zero or more sequences of\r\n   - `\\s` - one whitespace\r\n   - `[A-Z][a-z]*` /`\\p{Lu}\\p{Ll}*` - an uppercase (Unicode) letter and then zero or more (Unicode) lowercase letters.\r\n - `$` - end of string (implied in `.matches`)\r\n\r\n  [1]: https://regex101.com/r/FqkEpu/1\r\n  [2]: https://regex101.com/r/FqkEpu/2","title":"Was there any difference between using regex in java and regex in javascript?","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>Pattern.matches(&quot;[A-Z][a-z]*(?:\\\\s[A-Z][a-z]*)*&quot;,&quot;Joe V&quot;)\nPattern.matches(&quot;\\\\p{Lu}\\\\p{Ll}*(?:\\\\s\\\\p{Lu}\\\\p{Ll}*)*&quot;,&quot;Joe V&quot;)\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/FqkEpu/1\" rel=\"nofollow noreferrer\">regex demo #1</a> and <a href=\"https://regex101.com/r/FqkEpu/2\" rel=\"nofollow noreferrer\">regex demo #2</a>.</p>\n<p>Note that <code>.matches</code> requires a full string match, hence the use of <code>^</code> and <code>$</code> anchors on the testing site and their absence in the code.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>^</code> - start of string (implied in <code>.matches</code>)</li>\n<li><code>[A-Z]</code> / <code>\\p{Lu}</code> - an (Unicode) uppercase letter</li>\n<li><code>[a-z]*</code> / <code>\\p{Ll}*</code> - zero or more (Unicode) lowercase letters</li>\n<li><code>(?:\\s[A-Z][a-z]*)*</code> / <code>(?:\\s\\p{Lu}\\p{Ll}*)*</code> - zero or more sequences of\n<ul>\n<li><code>\\s</code> - one whitespace</li>\n<li><code>[A-Z][a-z]*</code> /<code>\\p{Lu}\\p{Ll}*</code> - an uppercase (Unicode) letter and then zero or more (Unicode) lowercase letters.</li>\n</ul>\n</li>\n<li><code>$</code> - end of string (implied in <code>.matches</code>)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668689517,"post_id":74475021,"comment_id":131470106,"body_markdown":"`\\s` being interpreted as a space is a recent addition (Java 15, when text blocks where released)","body":"<code>\\s</code> being interpreted as a space is a recent addition (Java 15, when text blocks where released)"}],"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668685994,"creation_date":1668685994,"answer_id":74475021,"question_id":74472796,"body_markdown":"Javascript has native support for regex while Java doesn&#39;t. Since Java uses `\\` for special signs in strings (like `\\n`) you have to escape the `\\` to actually be a `\\` sign. That&#39;s done with another `\\`. So any `\\` you use in Java  should be written as `\\\\`. \r\n\r\nThus your regex / code should be:\r\n\r\n    Pattern.matches(&quot;[A-Z][a-z]*\\\\s?[A-Z]?[a-z]*$&quot;, &quot;Joe V&quot;)\r\n\r\nwhich returns `true`\r\n\r\nP.s. `\\s` is interpreted as a Space in any Java-String","title":"Was there any difference between using regex in java and regex in javascript?","body":"<p>Javascript has native support for regex while Java doesn't. Since Java uses <code>\\</code> for special signs in strings (like <code>\\n</code>) you have to escape the <code>\\</code> to actually be a <code>\\</code> sign. That's done with another <code>\\</code>. So any <code>\\</code> you use in Java  should be written as <code>\\\\</code>.</p>\n<p>Thus your regex / code should be:</p>\n<pre><code>Pattern.matches(&quot;[A-Z][a-z]*\\\\s?[A-Z]?[a-z]*$&quot;, &quot;Joe V&quot;)\n</code></pre>\n<p>which returns <code>true</code></p>\n<p>P.s. <code>\\s</code> is interpreted as a Space in any Java-String</p>\n"}],"owner":{"account_id":26151286,"reputation":9,"user_id":19839205,"display_name":"arunDarkDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1668689427,"creation_date":1668676320,"question_id":74472796,"body_markdown":"I have a requirement to build a regex pattern to validate a String in Java. Hence I build a pattern\r\n`[A-Z][a-z]*\\s?[A-Z]?[a-z]*$` for the conditions:\r\n\r\n* Should start with caps\r\n* Every other Word should start with caps\r\n* No numbers included\r\n* no consecutive two spaces allowed\r\n\r\n`Pattern.matches(&quot;[A-Z][a-z]*\\s?[A-Z]?[a-z]*$&quot;,&quot;Joe V&quot;)`  returns `false` for me in java.\r\nBut the same pattern returns true for the data &quot;Joe V&quot; in regexr.com.\r\n\r\n\r\nWhat might be the cause?","title":"Was there any difference between using regex in java and regex in javascript?","body":"<p>I have a requirement to build a regex pattern to validate a String in Java. Hence I build a pattern\n<code>[A-Z][a-z]*\\s?[A-Z]?[a-z]*$</code> for the conditions:</p>\n<ul>\n<li>Should start with caps</li>\n<li>Every other Word should start with caps</li>\n<li>No numbers included</li>\n<li>no consecutive two spaces allowed</li>\n</ul>\n<p><code>Pattern.matches(&quot;[A-Z][a-z]*\\s?[A-Z]?[a-z]*$&quot;,&quot;Joe V&quot;)</code>  returns <code>false</code> for me in java.\nBut the same pattern returns true for the data &quot;Joe V&quot; in regexr.com.</p>\n<p>What might be the cause?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3782717,"reputation":927,"user_id":3141682,"accept_rate":75,"display_name":"Adi Ohana"},"score":0,"creation_date":1554133829,"post_id":55458996,"comment_id":97630896,"body_markdown":"this will help you: https://stackoverflow.com/questions/19299513/spring-junit-how-to-mock-autowired-component-in-autowired-component","body":"this will help you: <a href=\"https://stackoverflow.com/questions/19299513/spring-junit-how-to-mock-autowired-component-in-autowired-component\" title=\"spring junit how to mock autowired component in autowired component\">stackoverflow.com/questions/19299513/&hellip;</a>"},{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":0,"creation_date":1554134210,"post_id":55458996,"comment_id":97631099,"body_markdown":"Change your `@Mock ObjectMapper` to `@MockBean ObjectMapper`","body":"Change your <code>@Mock ObjectMapper</code> to <code>@MockBean ObjectMapper</code>"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1554134313,"post_id":55458996,"comment_id":97631154,"body_markdown":"Also, your code passes a TypeReference as second argument, but you&#39;re mocking with a Class as second argument.","body":"Also, your code passes a TypeReference as second argument, but you&#39;re mocking with a Class as second argument."},{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":0,"creation_date":1554134371,"post_id":55458996,"comment_id":97631190,"body_markdown":"Also, since you are starting a spring context you should `@Inject` your `ServiceChild` as a bean and delete the `@InjectMocks` annotation.","body":"Also, since you are starting a spring context you should <code>@Inject</code> your <code>ServiceChild</code> as a bean and delete the <code>@InjectMocks</code> annotation."},{"owner":{"account_id":15652181,"reputation":143,"user_id":11293357,"display_name":"Raikyn"},"score":1,"creation_date":1554188702,"post_id":55458996,"comment_id":97648679,"body_markdown":"Even with @MockBean objectMapper.readValues(...) returns null.","body":"Even with @MockBean objectMapper.readValues(...) returns null."},{"owner":{"account_id":15652181,"reputation":143,"user_id":11293357,"display_name":"Raikyn"},"score":0,"creation_date":1554189243,"post_id":55458996,"comment_id":97648972,"body_markdown":"@JBNizet Actually that was the problem here. I try to mock with Mockito.&lt;TypeReference&lt;Map&lt;String, Object&gt;&gt;&gt;any() instead of Mockito.any(Class.class)) and it works! Thanks!","body":"@JBNizet Actually that was the problem here. I try to mock with Mockito.&lt;TypeReference&lt;Map&lt;String, Object&gt;&gt;&gt;any() instead of Mockito.any(Class.class)) and it works! Thanks!"},{"owner":{"account_id":3635110,"reputation":1239,"user_id":3030406,"accept_rate":55,"display_name":"Rookie007"},"score":1,"creation_date":1633538774,"post_id":55458996,"comment_id":122788417,"body_markdown":"@Raikyn I am having the same issue, could you please post the full answer ?","body":"@Raikyn I am having the same issue, could you please post the full answer ?"}],"answers":[{"comments":[{"owner":{"account_id":15652181,"reputation":143,"user_id":11293357,"display_name":"Raikyn"},"score":1,"creation_date":1554188618,"post_id":55459233,"comment_id":97648632,"body_markdown":"Even with @MockBean it returns null. Also, why should I use it instead of @Mock? My point is just mocking this particular bean","body":"Even with @MockBean it returns null. Also, why should I use it instead of @Mock? My point is just mocking this particular bean"}],"tags":[],"owner":{"account_id":3526421,"reputation":20884,"user_id":2947378,"display_name":"rdas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554134469,"creation_date":1554134469,"answer_id":55459233,"question_id":55458996,"body_markdown":"`@Mock` creates a new mock. It&#39;s equivalent to calling `mock(SomeClass.class)`\r\n\r\n`@MockBean` creates a mock, like `@Mock`, but also replaces any bean already in the application context with the same type with that mock. So any code which `Autowire`s that bean will get the mock. \r\n\r\nYou need to use `@MockBean`","title":"How to mock ObjectMapper with mokito?","body":"<p><code>@Mock</code> creates a new mock. It's equivalent to calling <code>mock(SomeClass.class)</code></p>\n\n<p><code>@MockBean</code> creates a mock, like <code>@Mock</code>, but also replaces any bean already in the application context with the same type with that mock. So any code which <code>Autowire</code>s that bean will get the mock. </p>\n\n<p>You need to use <code>@MockBean</code></p>\n"},{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1668689424,"post_id":74475660,"comment_id":131470066,"body_markdown":"This sounds ... weird. The whole point of the @ SpringBootTest annotation is to establish a setup where all the spring annotations work as if it were a production setup. Your suggestion here is addressing a very basic problem when people are doing mockito unit tests ... without Spring being involved. I really doubt that this answer actually works for the given spring boot context.","body":"This sounds ... weird. The whole point of the @ SpringBootTest annotation is to establish a setup where all the spring annotations work as if it were a production setup. Your suggestion here is addressing a very basic problem when people are doing mockito unit tests ... without Spring being involved. I really doubt that this answer actually works for the given spring boot context."},{"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"score":0,"creation_date":1668698331,"post_id":74475660,"comment_id":131473943,"body_markdown":"https://www.digitalocean.com/community/tutorials/mockito-injectmocks-mocks-dependency-injection\n@GhostCat. I have referred this , in our code , we have constructor based injection , setter and field based in single class , now i cleared up those  into constructor alone , i was facing this issue in junit 5.","body":"<a href=\"https://www.digitalocean.com/community/tutorials/mockito-injectmocks-mocks-dependency-injection\" rel=\"nofollow noreferrer\">digitalocean.com/community/tutorials/&hellip;</a> @GhostCat. I have referred this , in our code , we have constructor based injection , setter and field based in single class , now i cleared up those  into constructor alone , i was facing this issue in junit 5."}],"tags":[],"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668688916,"creation_date":1668688916,"answer_id":74475660,"question_id":55458996,"body_markdown":"I faced the same NPE with the objectmapper. This issue is resolved after adding ,\r\nmy test class has class level annotation with \r\n\r\n    @RunWith(MockitoJUnitRunner.class) \r\n\r\nand the fix \r\n\r\n     @Before\r\n        public void setupBefore() {\r\n            MockitoAnnotations.initMocks(this);\r\n    \r\n        }\r\n\r\n\r\n","title":"How to mock ObjectMapper with mokito?","body":"<p>I faced the same NPE with the objectmapper. This issue is resolved after adding ,\nmy test class has class level annotation with</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class) \n</code></pre>\n<p>and the fix</p>\n<pre><code> @Before\n    public void setupBefore() {\n        MockitoAnnotations.initMocks(this);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":15652181,"reputation":143,"user_id":11293357,"display_name":"Raikyn"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7451,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74475660,"answer_count":2,"score":2,"last_activity_date":1668688916,"creation_date":1554133655,"question_id":55458996,"body_markdown":"I&#39;m having trouble with mocking an ObjectMapper bean with mokito. \r\n\r\nMy class containing the ObjectMapper :\r\n```\r\npublic class ServiceParent{\r\n\r\n        @Autowired\r\n\tprotected ObjectMapper objectMapper;\r\n\r\n        public void someMethod(){\r\n        ...\r\n        Map&lt;String, String&gt; mapResponse = objectMapper.readValue(&quot;some json&quot;, new TypeReference&lt;Map&lt;String, String&gt;&gt;(){});\r\n\r\n}\r\n\r\nOther class extending previous one\r\n\r\npublic class ServiceChild extends ServiceParent{\r\n...\r\n\r\n}\r\n```\r\n\r\n\r\nMy test class :\r\n```\r\n@SpringBootTest\r\npublic class TestService{\r\n       @Mock\r\n       ObjectMapper objectMapper;\r\n\r\n\t@InjectMocks\r\n\tServiceChild  serviceChild;\r\n\r\n @Test\r\n public void test(){\r\n\tMap&lt;String, String&gt; mapResponse=new HashMap&lt;String, String&gt;();\r\n\t\tmapResponse.put(&quot;access_token&quot;, &quot;token_bouhon&quot;);\r\n        Mockito.when(objectMapper.readValue(Mockito.anyString(), Mockito.any(Class.class))).thenReturn(mapResponse);\r\n\r\n}\r\n```\r\n\r\n\r\nSo when I debug this, in ServiceParent, objectMapper isn&#39;t null but readValue(...) return null.\r\n\r\nDo you have an idea on how to return the correct mocked object?\r\n\r\nThanks","title":"How to mock ObjectMapper with mokito?","body":"<p>I'm having trouble with mocking an ObjectMapper bean with mokito. </p>\n\n<p>My class containing the ObjectMapper :</p>\n\n<pre><code>public class ServiceParent{\n\n        @Autowired\n    protected ObjectMapper objectMapper;\n\n        public void someMethod(){\n        ...\n        Map&lt;String, String&gt; mapResponse = objectMapper.readValue(\"some json\", new TypeReference&lt;Map&lt;String, String&gt;&gt;(){});\n\n}\n\nOther class extending previous one\n\npublic class ServiceChild extends ServiceParent{\n...\n\n}\n</code></pre>\n\n<p>My test class :</p>\n\n<pre><code>@SpringBootTest\npublic class TestService{\n       @Mock\n       ObjectMapper objectMapper;\n\n    @InjectMocks\n    ServiceChild  serviceChild;\n\n @Test\n public void test(){\n    Map&lt;String, String&gt; mapResponse=new HashMap&lt;String, String&gt;();\n        mapResponse.put(\"access_token\", \"token_bouhon\");\n        Mockito.when(objectMapper.readValue(Mockito.anyString(), Mockito.any(Class.class))).thenReturn(mapResponse);\n\n}\n</code></pre>\n\n<p>So when I debug this, in ServiceParent, objectMapper isn't null but readValue(...) return null.</p>\n\n<p>Do you have an idea on how to return the correct mocked object?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","jvm","throwable"],"answers":[{"tags":[],"owner":{"account_id":11942036,"reputation":164,"user_id":8738512,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668688115,"creation_date":1663249497,"answer_id":73732286,"question_id":73731547,"body_markdown":"Your guess does not seem to be right if we follow `fillInStackTrace` native method for a bit we can see that it [sets Throwable#backtrace](https://github.com/openjdk/jdk/blob/41ce6582674bb5d14f2edb34e40ee1d7ae7601d8/src/hotspot/share/classfile/javaClasses.cpp#L2713). The implementation looks complicated but it basicallly just strips out fillInStackTrace and the contructor calls (with can be overriden).\r\nFor the next thing keep in mind that `Throwable`\r\n - can be serialized (no constructor call into `readObject`)\r\n - can be created directly in the vm\r\n - `OutOfMemoryExceptions` are preloaded (because it can not be instanciated when oom)\r\n - `fillStackTrace` is commonly overriden and left empty in SubClasses (mostly for performance)\r\n\r\nThen in `getOurStackTrace()` the [real stackTrace is written](https://github.com/openjdk/jdk/blob/41ce6582674bb5d14f2edb34e40ee1d7ae7601d8/src/hotspot/share/classfile/javaClasses.cpp#L2940). This was made because after contructing the exception is in a immutable state (between backtrace set but stacktrace null).\r\n\r\nOut of protocol state refers to Throwables created without calling a constructor.\r\n\r\nIf you have further questions just ask. I really like your question :)","title":"OpenJDK-java/lang/Throwable.fillInStackTrace - awkward implementation?","body":"<p>Your guess does not seem to be right if we follow <code>fillInStackTrace</code> native method for a bit we can see that it <a href=\"https://github.com/openjdk/jdk/blob/41ce6582674bb5d14f2edb34e40ee1d7ae7601d8/src/hotspot/share/classfile/javaClasses.cpp#L2713\" rel=\"nofollow noreferrer\">sets Throwable#backtrace</a>. The implementation looks complicated but it basicallly just strips out fillInStackTrace and the contructor calls (with can be overriden).\nFor the next thing keep in mind that <code>Throwable</code></p>\n<ul>\n<li>can be serialized (no constructor call into <code>readObject</code>)</li>\n<li>can be created directly in the vm</li>\n<li><code>OutOfMemoryExceptions</code> are preloaded (because it can not be instanciated when oom)</li>\n<li><code>fillStackTrace</code> is commonly overriden and left empty in SubClasses (mostly for performance)</li>\n</ul>\n<p>Then in <code>getOurStackTrace()</code> the <a href=\"https://github.com/openjdk/jdk/blob/41ce6582674bb5d14f2edb34e40ee1d7ae7601d8/src/hotspot/share/classfile/javaClasses.cpp#L2940\" rel=\"nofollow noreferrer\">real stackTrace is written</a>. This was made because after contructing the exception is in a immutable state (between backtrace set but stacktrace null).</p>\n<p>Out of protocol state refers to Throwables created without calling a constructor.</p>\n<p>If you have further questions just ask. I really like your question :)</p>\n"},{"comments":[{"owner":{"account_id":7902590,"reputation":311,"user_id":5969163,"accept_rate":100,"display_name":"peacetrue"},"score":0,"creation_date":1667805715,"post_id":73732367,"comment_id":131246229,"body_markdown":"I think you&#39;re right, when using debug mode, I found that `stackTrace` was initialized in `fillInStackTrace`, which should be affected by debug mode.","body":"I think you&#39;re right, when using debug mode, I found that <code>stackTrace</code> was initialized in <code>fillInStackTrace</code>, which should be affected by debug mode."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1663250122,"creation_date":1663249802,"answer_id":73732367,"question_id":73731547,"body_markdown":"The native `fillInStackTrace(int)` method does not create an array of `StackTraceElement` instances. It captures a snapshot of the current stack trace in an implementation specific format and stores it in the `backtrace` variable.\r\n\r\nOnly when the array of `StackTraceElement` instances is requested, the method `getOurStackTrace()` will generate the array:\r\n\r\n```java\r\nprivate synchronized StackTraceElement[] getOurStackTrace() {\r\n    // Initialize stack trace field with information from\r\n    // backtrace if this is the first call to this method\r\n    if (stackTrace == UNASSIGNED_STACK ||\r\n        (stackTrace == null &amp;&amp; backtrace != null) /* Out of protocol state */) {\r\n        int depth = getStackTraceDepth();\r\n        stackTrace = new StackTraceElement[depth];\r\n        for (int i=0; i &lt; depth; i++)\r\n            stackTrace[i] = getStackTraceElement(i);\r\n    } else if (stackTrace == null) {\r\n        return UNASSIGNED_STACK;\r\n    }\r\n    return stackTrace;\r\n}\r\n```\r\n\r\nIt’s using the helper method\r\n\r\n```java\r\nnative StackTraceElement getStackTraceElement(int index);\r\n```\r\n\r\nwhich knows how to decode the `backtrace`.\r\n\r\nSo if the application never accesses the stacktrace, this might be cheaper than generating the full array in advance.\r\n\r\n\r\nYou have already posted the declaration of `stackTrace` which initializes the field with `UNASSIGNED_STACK`. But there is [this special constructor] which allows to suppress stack traces altogether.\r\n\r\n```java\r\nprotected Throwable(String message, Throwable cause,\r\n                    boolean enableSuppression,\r\n                    boolean writableStackTrace) {\r\n    if (writableStackTrace) {\r\n        fillInStackTrace();\r\n    } else {\r\n        stackTrace = null;\r\n    }\r\n    detailMessage = message;\r\n    this.cause = cause;\r\n    if (!enableSuppression)\r\n        suppressedExceptions = null;\r\n}\r\n```\r\n\r\nSo, normally `stackTrace` should be either, `UNASSIGNED_STACK` or an actual array created by `getOurStackTrace()` or set using [`setStackTrace(StackTraceElement[])`][1].\r\n\r\nIf `stackTrace` is `null`, the `backtrace` should also be `null`, if stack traces are disabled. If this is not the case, the state is “out of protocol”, which means the throwable has not been generated using normal constructor invocation, but by native code.\r\n\r\n[this special constructor]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html#%3Cinit%3E(java.lang.String,java.lang.Throwable,boolean,boolean)\r\n[1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html#setStackTrace(java.lang.StackTraceElement%5B%5D)","title":"OpenJDK-java/lang/Throwable.fillInStackTrace - awkward implementation?","body":"<p>The native <code>fillInStackTrace(int)</code> method does not create an array of <code>StackTraceElement</code> instances. It captures a snapshot of the current stack trace in an implementation specific format and stores it in the <code>backtrace</code> variable.</p>\n<p>Only when the array of <code>StackTraceElement</code> instances is requested, the method <code>getOurStackTrace()</code> will generate the array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private synchronized StackTraceElement[] getOurStackTrace() {\n    // Initialize stack trace field with information from\n    // backtrace if this is the first call to this method\n    if (stackTrace == UNASSIGNED_STACK ||\n        (stackTrace == null &amp;&amp; backtrace != null) /* Out of protocol state */) {\n        int depth = getStackTraceDepth();\n        stackTrace = new StackTraceElement[depth];\n        for (int i=0; i &lt; depth; i++)\n            stackTrace[i] = getStackTraceElement(i);\n    } else if (stackTrace == null) {\n        return UNASSIGNED_STACK;\n    }\n    return stackTrace;\n}\n</code></pre>\n<p>It’s using the helper method</p>\n<pre class=\"lang-java prettyprint-override\"><code>native StackTraceElement getStackTraceElement(int index);\n</code></pre>\n<p>which knows how to decode the <code>backtrace</code>.</p>\n<p>So if the application never accesses the stacktrace, this might be cheaper than generating the full array in advance.</p>\n<p>You have already posted the declaration of <code>stackTrace</code> which initializes the field with <code>UNASSIGNED_STACK</code>. But there is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html#%3Cinit%3E(java.lang.String,java.lang.Throwable,boolean,boolean)\" rel=\"nofollow noreferrer\">this special constructor</a> which allows to suppress stack traces altogether.</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected Throwable(String message, Throwable cause,\n                    boolean enableSuppression,\n                    boolean writableStackTrace) {\n    if (writableStackTrace) {\n        fillInStackTrace();\n    } else {\n        stackTrace = null;\n    }\n    detailMessage = message;\n    this.cause = cause;\n    if (!enableSuppression)\n        suppressedExceptions = null;\n}\n</code></pre>\n<p>So, normally <code>stackTrace</code> should be either, <code>UNASSIGNED_STACK</code> or an actual array created by <code>getOurStackTrace()</code> or set using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html#setStackTrace(java.lang.StackTraceElement%5B%5D)\" rel=\"nofollow noreferrer\"><code>setStackTrace(StackTraceElement[])</code></a>.</p>\n<p>If <code>stackTrace</code> is <code>null</code>, the <code>backtrace</code> should also be <code>null</code>, if stack traces are disabled. If this is not the case, the state is “out of protocol”, which means the throwable has not been generated using normal constructor invocation, but by native code.</p>\n"}],"owner":{"account_id":6423221,"reputation":306,"user_id":4979303,"display_name":"Antonio Noack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73732367,"answer_count":2,"score":4,"last_activity_date":1668688115,"creation_date":1663246534,"question_id":73731547,"body_markdown":"I am trying to understand the implementation of Throwable.fillInStackTrace():\r\n\r\n    private static final StackTraceElement[] UNASSIGNED_STACK = new StackTraceElement[0];\r\n    [...]\r\n    private StackTraceElement[] stackTrace = UNASSIGNED_STACK;\r\n    [...]\r\n\r\n    /**\r\n     * Fills in the execution stack trace. This method records within this\r\n     * {@code Throwable} object information about the current state of\r\n     * the stack frames for the current thread.\r\n     *\r\n     * &lt;p&gt;If the stack trace of this {@code Throwable} {@linkplain\r\n     * Throwable#Throwable(String, Throwable, boolean, boolean) is not\r\n     * writable}, calling this method has no effect.\r\n     *\r\n     * @return  a reference to this {@code Throwable} instance.\r\n     * @see     java.lang.Throwable#printStackTrace()\r\n     */\r\n    public synchronized Throwable fillInStackTrace() {\r\n        if (stackTrace != null ||\r\n            backtrace != null /* Out of protocol state */ ) {\r\n            fillInStackTrace(0);\r\n            stackTrace = UNASSIGNED_STACK;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    private native Throwable fillInStackTrace(int dummy);\r\n\r\n(source [OpenJDK][1])\r\n\r\nI would have guess that fillInStackTrace(int) collects the stack trace from VM internals, and then creates an array of java/lang/StackTraceElement and assigns it to the Throwable.stackTrace property.\r\n\r\nHowever, the standard implementation seems to clear the value of Throwable.stackTrace directly after. When running a simple sample, the information is clearly stored in the Throwable. Sample:\r\n\r\n    Throwable th = new Throwable();\r\n    th.printStackTrace(); // prints the stack up to this point\r\n\r\nSo, where is the magic / what am I misunderstanding?\r\n\r\nPS: what does &quot;out of protocol state&quot; mean in the source code?\r\n\r\n\r\n  [1]: https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/lang/Throwable.java","title":"OpenJDK-java/lang/Throwable.fillInStackTrace - awkward implementation?","body":"<p>I am trying to understand the implementation of Throwable.fillInStackTrace():</p>\n<pre><code>private static final StackTraceElement[] UNASSIGNED_STACK = new StackTraceElement[0];\n[...]\nprivate StackTraceElement[] stackTrace = UNASSIGNED_STACK;\n[...]\n\n/**\n * Fills in the execution stack trace. This method records within this\n * {@code Throwable} object information about the current state of\n * the stack frames for the current thread.\n *\n * &lt;p&gt;If the stack trace of this {@code Throwable} {@linkplain\n * Throwable#Throwable(String, Throwable, boolean, boolean) is not\n * writable}, calling this method has no effect.\n *\n * @return  a reference to this {@code Throwable} instance.\n * @see     java.lang.Throwable#printStackTrace()\n */\npublic synchronized Throwable fillInStackTrace() {\n    if (stackTrace != null ||\n        backtrace != null /* Out of protocol state */ ) {\n        fillInStackTrace(0);\n        stackTrace = UNASSIGNED_STACK;\n    }\n    return this;\n}\n\nprivate native Throwable fillInStackTrace(int dummy);\n</code></pre>\n<p>(source <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/lang/Throwable.java\" rel=\"nofollow noreferrer\">OpenJDK</a>)</p>\n<p>I would have guess that fillInStackTrace(int) collects the stack trace from VM internals, and then creates an array of java/lang/StackTraceElement and assigns it to the Throwable.stackTrace property.</p>\n<p>However, the standard implementation seems to clear the value of Throwable.stackTrace directly after. When running a simple sample, the information is clearly stored in the Throwable. Sample:</p>\n<pre><code>Throwable th = new Throwable();\nth.printStackTrace(); // prints the stack up to this point\n</code></pre>\n<p>So, where is the magic / what am I misunderstanding?</p>\n<p>PS: what does &quot;out of protocol state&quot; mean in the source code?</p>\n"},{"tags":["java","ipv6","broadcast","multicast"],"comments":[{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1668621668,"post_id":74464226,"comment_id":131452293,"body_markdown":"IPv6 multicast is used on _every_ IPv6 network, and IPv4 broadcast is a host requirement (all support either the limited broadcast of `255.255.255.255` or the network broadcast), although broadcast is basically deprecated (many companies reject applications that use broadcast; multicast is the modern way of doing things).","body":"IPv6 multicast is used on <i>every</i> IPv6 network, and IPv4 broadcast is a host requirement (all support either the limited broadcast of <code>255.255.255.255</code> or the network broadcast), although broadcast is basically deprecated (many companies reject applications that use broadcast; multicast is the modern way of doing things)."},{"owner":{"account_id":5490607,"reputation":2659,"user_id":4364057,"accept_rate":29,"display_name":"Squirrelkiller"},"score":0,"creation_date":1668624541,"post_id":74464226,"comment_id":131453270,"body_markdown":"Ah so I can just iterate through all network NetworkInterface.getNetwotkInterfaces and all their IP addresses and if I find one IPv6 address I can just use multicast?","body":"Ah so I can just iterate through all network NetworkInterface.getNetwotkInterfaces and all their IP addresses and if I find one IPv6 address I can just use multicast?"},{"owner":{"account_id":430006,"reputation":9575,"user_id":813192,"display_name":"Sander Steffann"},"score":0,"creation_date":1668638225,"post_id":74464226,"comment_id":131457610,"body_markdown":"Even better: every interface should always have an IPv6 link-local address (starting with fe80:) and because you only need to send a multicast packet to the local link that is all you need.","body":"Even better: every interface should always have an IPv6 link-local address (starting with fe80:) and because you only need to send a multicast packet to the local link that is all you need."},{"owner":{"account_id":5490607,"reputation":2659,"user_id":4364057,"accept_rate":29,"display_name":"Squirrelkiller"},"score":0,"creation_date":1668664772,"post_id":74464226,"comment_id":131461906,"body_markdown":"But I want to send the multicast to a specific multicast-group so different instances can use different domains to stay in multiple, separate groups, say &quot;FF05::100&quot;, do I just send that with the first link-local address I can find as sender and others joining that group will definitely receive it? I feel like I need a diagram lol.","body":"But I want to send the multicast to a specific multicast-group so different instances can use different domains to stay in multiple, separate groups, say &quot;FF05::100&quot;, do I just send that with the first link-local address I can find as sender and others joining that group will definitely receive it? I feel like I need a diagram lol."},{"owner":{"account_id":5490607,"reputation":2659,"user_id":4364057,"accept_rate":29,"display_name":"Squirrelkiller"},"score":0,"creation_date":1668688096,"post_id":74464226,"comment_id":131469588,"body_markdown":"Tried it, didn&#39;t work. Results in post.","body":"Tried it, didn&#39;t work. Results in post."},{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":0,"creation_date":1668688830,"post_id":74464226,"comment_id":131469844,"body_markdown":"&quot;Tried things in the eduroam network:&quot; Test on a network you own, public wifi networks typically have peer to peer communications blocked","body":"&quot;Tried things in the eduroam network:&quot; Test on a network you own, public wifi networks typically have peer to peer communications blocked"},{"owner":{"account_id":5490607,"reputation":2659,"user_id":4364057,"accept_rate":29,"display_name":"Squirrelkiller"},"score":0,"creation_date":1668696266,"post_id":74464226,"comment_id":131473035,"body_markdown":"Well that&#39;s exactly the idea here though, I&#39;d like the program to find out whether or not P2P connection are blocked. On my own network, I don&#39;t have to find out because I already know.","body":"Well that&#39;s exactly the idea here though, I&#39;d like the program to find out whether or not P2P connection are blocked. On my own network, I don&#39;t have to find out because I already know."}],"owner":{"account_id":5490607,"reputation":2659,"user_id":4364057,"accept_rate":29,"display_name":"Squirrelkiller"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668688075,"creation_date":1668617094,"question_id":74464226,"body_markdown":"So I&#39;d like an automated network discovery for  the application I&#39;m currently building, but turns out we&#39;re not in a perfect world and neither does every network have IPv6 enabled for multicasting, nor is IPv4 UDP broadcast enabled in every network.\r\n\r\nAny idea how I can programmatically find out, if either of those are enabled in the current network? Since UDP doesn&#39;t open a connection, I can just throw datagrams and hope someone finds it, then if noone else answers after a set time (or like, offer the user a button for manual discovery from the beginning) use user provided information (or a name service / registry I&#39;d have to host somewhere).\r\n\r\nLooks like sending a multicast is received on my own machine when I send it from one port to the other, but I can&#39;t be sure it actually goes out of the device and back in or it just loops back because it&#39;s being clever.\r\n\r\nI&#39;d prefer multicast of course - broadcast would be the fallback here.\r\n\r\n**Update**\r\n\r\nTried things in the eduroam network:\r\n\r\nMade new `MulticastSocket` and joined the multicast using `joinGroup`.   \r\nMade new `DatagramSocker` and sent a message to that multicast group  \r\n-&gt; Works locally  \r\n-&gt; Doesn&#39;t work across machines\r\n\r\nSame with broadcast (interfaceAddress.getBroadcast()). Works locally (Sending from one port to another), but not across machines. \r\n\r\nSo how do I programmatically decide if these work?","title":"Find out if UDP Broadcast (IPv4) or multicast (IPv6) are enabled in the current network?","body":"<p>So I'd like an automated network discovery for  the application I'm currently building, but turns out we're not in a perfect world and neither does every network have IPv6 enabled for multicasting, nor is IPv4 UDP broadcast enabled in every network.</p>\n<p>Any idea how I can programmatically find out, if either of those are enabled in the current network? Since UDP doesn't open a connection, I can just throw datagrams and hope someone finds it, then if noone else answers after a set time (or like, offer the user a button for manual discovery from the beginning) use user provided information (or a name service / registry I'd have to host somewhere).</p>\n<p>Looks like sending a multicast is received on my own machine when I send it from one port to the other, but I can't be sure it actually goes out of the device and back in or it just loops back because it's being clever.</p>\n<p>I'd prefer multicast of course - broadcast would be the fallback here.</p>\n<p><strong>Update</strong></p>\n<p>Tried things in the eduroam network:</p>\n<p>Made new <code>MulticastSocket</code> and joined the multicast using <code>joinGroup</code>.<br />\nMade new <code>DatagramSocker</code> and sent a message to that multicast group<br />\n-&gt; Works locally<br />\n-&gt; Doesn't work across machines</p>\n<p>Same with broadcast (interfaceAddress.getBroadcast()). Works locally (Sending from one port to another), but not across machines.</p>\n<p>So how do I programmatically decide if these work?</p>\n"},{"tags":["java","swing","jfilechooser","filechooser"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1668688680,"post_id":74475473,"comment_id":131469799,"body_markdown":"What was the problem with `Locale.setDefault(new Locale(&quot;es&quot;, &quot;...&quot;));`?","body":"What was the problem with <code>Locale.setDefault(new Locale(&quot;es&quot;, &quot;...&quot;));</code>?"},{"owner":{"account_id":25682631,"reputation":21,"user_id":19445204,"display_name":"Mat2002"},"score":0,"creation_date":1668689014,"post_id":74475473,"comment_id":131469918,"body_markdown":"I have tried that but don&#39;t know why it&#39;s not working as intended, what should you put in the &quot;...&quot;?","body":"I have tried that but don&#39;t know why it&#39;s not working as intended, what should you put in the &quot;...&quot;?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668689277,"post_id":74475473,"comment_id":131470012,"body_markdown":"The country, like &quot;ES&quot;.","body":"The country, like &quot;ES&quot;."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668689411,"post_id":74475473,"comment_id":131470062,"body_markdown":"There are many properties in UIManage, like &quot;Cancel&quot;. Not really familiar with myself.","body":"There are many properties in UIManage, like &quot;Cancel&quot;. Not really familiar with myself."},{"owner":{"account_id":25682631,"reputation":21,"user_id":19445204,"display_name":"Mat2002"},"score":0,"creation_date":1668689602,"post_id":74475473,"comment_id":131470145,"body_markdown":"I have added Locale.setDefault(new Locale(&quot;es&quot;,&quot;ES&quot;); but it still doesn&#39;t work, should i put it before or after the initComponents()?","body":"I have added Locale.setDefault(new Locale(&quot;es&quot;,&quot;ES&quot;); but it still doesn&#39;t work, should i put it before or after the initComponents()?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668689928,"post_id":74475473,"comment_id":131470284,"body_markdown":"Before. Not entirely confident it works. There are also SPANISH constants probably.","body":"Before. Not entirely confident it works. There are also SPANISH constants probably."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668689988,"post_id":74475473,"comment_id":131470315,"body_markdown":"In every case the file chooser can be severely customized, butons and such.","body":"In every case the file chooser can be severely customized, butons and such."},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1668701550,"post_id":74475473,"comment_id":131475299,"body_markdown":"@Mat2002 how did you fix it?","body":"@Mat2002 how did you fix it?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1668702694,"post_id":74475473,"comment_id":131475727,"body_markdown":"_Fixed it!_ I see that you have the [informed](https://stackoverflow.com/help/badges/2600/informed?userid=19445204) badge which means you read the [tour] page and therefore you read this: _With your help, we&#39;re working together to build a library of detailed, high-quality answers to every question about programming._ Other people may be trying, unsuccessfully, to do what you have succeeded in doing and so may benefit from your &quot;fix&quot;. You can [answer your own question](https://stackoverflow.com/help/self-answer).","body":"<i>Fixed it!</i> I see that you have the <a href=\"https://stackoverflow.com/help/badges/2600/informed?userid=19445204\">informed</a> badge which means you read the <a href=\"https://stackoverflow.com/tour\">tour</a> page and therefore you read this: <i>With your help, we&#39;re working together to build a library of detailed, high-quality answers to every question about programming.</i> Other people may be trying, unsuccessfully, to do what you have succeeded in doing and so may benefit from your &quot;fix&quot;. You can <a href=\"https://stackoverflow.com/help/self-answer\">answer your own question</a>."}],"owner":{"account_id":25682631,"reputation":21,"user_id":19445204,"display_name":"Mat2002"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1668688042,"creation_date":1668688042,"question_id":74475473,"body_markdown":"I&#39;m doing a program that requests that I change the names on the labels of my filechooser in java\r\nI have tried multiple ways with no results.\r\nI want to switch the language to spanish that&#39;s why I can&#39;t use Locale\r\n\r\n\r\n\r\nFound this code online but don&#39;t know how to implement it:\r\nUIManager.put(&quot;FileChooser.openDialogTitleText&quot;,&quot;your text here&quot;);\r\nSwingUtilities.updateComponentTreeUI(rootComponent);","title":"Changing the language of a filechooser java","body":"<p>I'm doing a program that requests that I change the names on the labels of my filechooser in java\nI have tried multiple ways with no results.\nI want to switch the language to spanish that's why I can't use Locale</p>\n<p>Found this code online but don't know how to implement it:\nUIManager.put(&quot;FileChooser.openDialogTitleText&quot;,&quot;your text here&quot;);\nSwingUtilities.updateComponentTreeUI(rootComponent);</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1668685561,"post_id":74474789,"comment_id":131468704,"body_markdown":"It would help if you created methods for the database connection and for the individual SQL statements.  Separate methods can be tested separately.","body":"It would help if you created methods for the database connection and for the individual SQL statements.  Separate methods can be tested separately."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668685726,"post_id":74474789,"comment_id":131468754,"body_markdown":"Please post the entire stacktrace (use `e.printStackTrace()`, not `System.out.println(e)`)","body":"Please post the entire stacktrace (use <code>e.printStackTrace()</code>, not <code>System.out.println(e)</code>)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668685809,"post_id":74474789,"comment_id":131468787,"body_markdown":"And please learn how to use prepared statements and parameters. You should not concatenate values into a query string like this, it makes your code vulnerable to SQL injection.","body":"And please learn how to use prepared statements and parameters. You should not concatenate values into a query string like this, it makes your code vulnerable to SQL injection."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668685862,"post_id":74474789,"comment_id":131468812,"body_markdown":"The problem is the call `insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;)`. The `insertQueryGetId` method uses `executeUpdate`, which cannot work with a select.","body":"The problem is the call <code>insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;)</code>. The <code>insertQueryGetId</code> method uses <code>executeUpdate</code>, which cannot work with a select."}],"answers":[{"tags":[],"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668686957,"creation_date":1668686608,"answer_id":74475151,"question_id":74474789,"body_markdown":"        public void  insertIntoWorkoutLogs(String field_setNumber, String field_repNumber, String field_weightAmount) {\r\n            try{\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\r\n                Statement statement =connection.createStatement();\r\n        \r\n                String insert =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`SetNumber`, `RepNumber` , `WeightAmount`)&quot;\r\n                          + &quot;VALUES(&#39;&quot; +field_setNumber+&quot;&#39;,&#39;&quot;+field_repNumber+&quot;&#39;,&#39;&quot;+field_weightAmount+&quot;&#39;)&quot;;\r\n                statement.executeUpdate(insert);\r\n        \r\n                **int workoutID = insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;);** // Line of Concern 1\r\n        \r\n                String insert2 =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`WorkoutID`)&quot;\r\n                          + &quot;VALUES(&#39;&quot; +workoutID+&quot;&#39;)&quot;;\r\n                statement.executeUpdate(insert2);\r\n        \r\n                connection.close();\r\n            }catch(Exception e) {\r\n                System.out.println(e);\r\n            }\r\n        }\r\n        \r\n        public int insertQueryGetId(String query) throws ClassNotFoundException, SQLException {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\r\n            Statement statement =connection.createStatement();\r\n            \r\n            int workoutID=0;\r\n            int result=-1;\r\n            \r\n            try {\r\n    // Line of Concern  2\r\n                **workoutID = statement.executeUpdate(query, Statement.RETURN_GENERATED_KEYS);**  \r\n\r\n&gt; In line (marked as Line of Concern 1 ..\r\n****int workoutID = insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;);**** you are passing query as &quot;SELECT....&quot; and at point marked as Line of Concern 2\r\n****workoutID = statement.*executeUpdate(query*, Statement.RETURN_GENERATED_KEYS);****   you are using executeUpdate..  thats why exception is thrown. \r\n\r\n**Change statement.executeUpdate(query) to statement.executeQuery(query)..** \r\n\r\n            \r\n","title":"Getting error &quot;statement.executeupdate() cannot issue statements that produce result sets.&quot; when trying to insert into mysql using JDBC","body":"<pre><code>    public void  insertIntoWorkoutLogs(String field_setNumber, String field_repNumber, String field_weightAmount) {\n        try{\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\n            Statement statement =connection.createStatement();\n    \n            String insert =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`SetNumber`, `RepNumber` , `WeightAmount`)&quot;\n                      + &quot;VALUES('&quot; +field_setNumber+&quot;','&quot;+field_repNumber+&quot;','&quot;+field_weightAmount+&quot;')&quot;;\n            statement.executeUpdate(insert);\n    \n            **int workoutID = insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;);** // Line of Concern 1\n    \n            String insert2 =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`WorkoutID`)&quot;\n                      + &quot;VALUES('&quot; +workoutID+&quot;')&quot;;\n            statement.executeUpdate(insert2);\n    \n            connection.close();\n        }catch(Exception e) {\n            System.out.println(e);\n        }\n    }\n    \n    public int insertQueryGetId(String query) throws ClassNotFoundException, SQLException {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\n        Statement statement =connection.createStatement();\n        \n        int workoutID=0;\n        int result=-1;\n        \n        try {\n// Line of Concern  2\n            **workoutID = statement.executeUpdate(query, Statement.RETURN_GENERATED_KEYS);**  \n</code></pre>\n<blockquote>\n<p>In line (marked as Line of Concern 1 ..\n<strong><strong>int workoutID = insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;);</strong></strong> you are passing query as &quot;SELECT....&quot; and at point marked as Line of Concern 2\n<strong><strong>workoutID = statement.<em>executeUpdate(query</em>, Statement.RETURN_GENERATED_KEYS);</strong></strong>   you are using executeUpdate..  thats why exception is thrown.</p>\n</blockquote>\n<p><strong>Change statement.executeUpdate(query) to statement.executeQuery(query)..</strong></p>\n"},{"tags":[],"owner":{"account_id":26647805,"reputation":11,"user_id":20262528,"display_name":"Akash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668686941,"creation_date":1668686806,"answer_id":74475188,"question_id":74474789,"body_markdown":"It&#39;s because you are passing wrong query. `Statement.RETURN_GENERATED_KEYS` works with **Insert** queries not with **Select** queries.\r\nWhen you insert a row in database, an auto increment value gets generated and is returned but you are passing a Select statement\r\n\r\nAs Syed Asad Manzoor said, it will work for you but then you need to remove `Statement.RETURN_GENERATED_KEYS` and `statement.executeQuery()` has return type of `ResultSet` so you need to store the result in `ResultSet` only.","title":"Getting error &quot;statement.executeupdate() cannot issue statements that produce result sets.&quot; when trying to insert into mysql using JDBC","body":"<p>It's because you are passing wrong query. <code>Statement.RETURN_GENERATED_KEYS</code> works with <strong>Insert</strong> queries not with <strong>Select</strong> queries.\nWhen you insert a row in database, an auto increment value gets generated and is returned but you are passing a Select statement</p>\n<p>As Syed Asad Manzoor said, it will work for you but then you need to remove <code>Statement.RETURN_GENERATED_KEYS</code> and <code>statement.executeQuery()</code> has return type of <code>ResultSet</code> so you need to store the result in <code>ResultSet</code> only.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668688015,"creation_date":1668688015,"answer_id":74475469,"question_id":74474789,"body_markdown":"The INSERT statement needs to have flag RETURN_GENERATED_KEYS.\r\nThen getting the ResultSet would deliver for every insert record the generated key(s).\r\n\r\nAlso use a PreparedStatement for escaping of strings and against SQL injection.\r\n\r\nUse try-with-resources to automatically close the several objects, even with exception or early return.\r\n\r\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    try (Connection connection = DriverManager.getConnection(\r\n            &quot;jdbc:mysql://localhost:3306/workout&quot;, &quot;root&quot;, &quot;&quot;)) {\r\n        String insertSql = &quot;INSERT INTO `workout`.`workoutlogs`&quot;\r\n                + &quot; (`SetNumber`, `RepNumber` , `WeightAmount`)&quot;\r\n                + &quot; VALUES(?, ?, ?)&quot;;\r\n        try (PreparedStatement statement = connection.prepareStatement(insertSql,\r\n                Statement.RETURN_GENERATED_KEYS)) {\r\n            statement.setString(field_setNumber);\r\n            statement.setString(field_repNumber);\r\n            statement.setBigDecimal(field_weightAmount);\r\n            statement.executeUpdate();\r\n            try (ResultSet rs = statement.getGeneratedKey()) {\r\n                if (rs.next()) {\r\n                    int workoutID = rs.getInt(0);\r\n                    //... second insert here\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Getting error &quot;statement.executeupdate() cannot issue statements that produce result sets.&quot; when trying to insert into mysql using JDBC","body":"<p>The INSERT statement needs to have flag RETURN_GENERATED_KEYS.\nThen getting the ResultSet would deliver for every insert record the generated key(s).</p>\n<p>Also use a PreparedStatement for escaping of strings and against SQL injection.</p>\n<p>Use try-with-resources to automatically close the several objects, even with exception or early return.</p>\n<pre><code>Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\ntry (Connection connection = DriverManager.getConnection(\n        &quot;jdbc:mysql://localhost:3306/workout&quot;, &quot;root&quot;, &quot;&quot;)) {\n    String insertSql = &quot;INSERT INTO `workout`.`workoutlogs`&quot;\n            + &quot; (`SetNumber`, `RepNumber` , `WeightAmount`)&quot;\n            + &quot; VALUES(?, ?, ?)&quot;;\n    try (PreparedStatement statement = connection.prepareStatement(insertSql,\n            Statement.RETURN_GENERATED_KEYS)) {\n        statement.setString(field_setNumber);\n        statement.setString(field_repNumber);\n        statement.setBigDecimal(field_weightAmount);\n        statement.executeUpdate();\n        try (ResultSet rs = statement.getGeneratedKey()) {\n            if (rs.next()) {\n                int workoutID = rs.getInt(0);\n                //... second insert here\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26962028,"reputation":1,"user_id":20529569,"display_name":"mrjbcam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668688015,"creation_date":1668684931,"question_id":74474789,"body_markdown":"I&#39;m trying to get the primary auto incremented key from one table and store this in another using MySQL connector and JDBC. Although its giving me this error:\r\n\r\n&gt; statement.executeupdate() cannot issue statements that produce result\r\n&gt; sets.\r\n\r\nI think its something to do with the storing of the integer variable but not too sure.\r\n\r\n```\r\npublic void  insertIntoWorkoutLogs(String field_setNumber, String field_repNumber, String field_weightAmount) {\r\n    try{\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n        Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\r\n        Statement statement =connection.createStatement();\r\n\r\n        String insert =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`SetNumber`, `RepNumber` , `WeightAmount`)&quot;\r\n                  + &quot;VALUES(&#39;&quot; +field_setNumber+&quot;&#39;,&#39;&quot;+field_repNumber+&quot;&#39;,&#39;&quot;+field_weightAmount+&quot;&#39;)&quot;;\r\n        statement.executeUpdate(insert);\r\n\r\n        int workoutID = insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;);\r\n\r\n        String insert2 =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`WorkoutID`)&quot;\r\n                  + &quot;VALUES(&#39;&quot; +workoutID+&quot;&#39;)&quot;;\r\n        statement.executeUpdate(insert2);\r\n\r\n        connection.close();\r\n    }catch(Exception e) {\r\n        System.out.println(e);\r\n    }\r\n}\r\n\r\npublic int insertQueryGetId(String query) throws ClassNotFoundException, SQLException {\r\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\r\n    Statement statement =connection.createStatement();\r\n    \r\n    int workoutID=0;\r\n    int result=-1;\r\n    \r\n    try {\r\n        workoutID = statement.executeUpdate(query, Statement.RETURN_GENERATED_KEYS);\r\n        \r\n        ResultSet rs = statement.getGeneratedKeys();\r\n        if (rs.next()){\r\n            result=rs.getInt(1);\r\n        }\r\n        rs.close();\r\n        \r\n        statement.close();\r\n    \r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nI&#39;ve tried using statement for this, but I&#39;m thinking it may have to be prepared statement for it to work. Expecting to store the auto incremented primary key of one table (workouts) into a field within another table (workoutlogs).","title":"Getting error &quot;statement.executeupdate() cannot issue statements that produce result sets.&quot; when trying to insert into mysql using JDBC","body":"<p>I'm trying to get the primary auto incremented key from one table and store this in another using MySQL connector and JDBC. Although its giving me this error:</p>\n<blockquote>\n<p>statement.executeupdate() cannot issue statements that produce result\nsets.</p>\n</blockquote>\n<p>I think its something to do with the storing of the integer variable but not too sure.</p>\n<pre><code>public void  insertIntoWorkoutLogs(String field_setNumber, String field_repNumber, String field_weightAmount) {\n    try{\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\n        Statement statement =connection.createStatement();\n\n        String insert =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`SetNumber`, `RepNumber` , `WeightAmount`)&quot;\n                  + &quot;VALUES('&quot; +field_setNumber+&quot;','&quot;+field_repNumber+&quot;','&quot;+field_weightAmount+&quot;')&quot;;\n        statement.executeUpdate(insert);\n\n        int workoutID = insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;);\n\n        String insert2 =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`WorkoutID`)&quot;\n                  + &quot;VALUES('&quot; +workoutID+&quot;')&quot;;\n        statement.executeUpdate(insert2);\n\n        connection.close();\n    }catch(Exception e) {\n        System.out.println(e);\n    }\n}\n\npublic int insertQueryGetId(String query) throws ClassNotFoundException, SQLException {\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n    Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\n    Statement statement =connection.createStatement();\n    \n    int workoutID=0;\n    int result=-1;\n    \n    try {\n        workoutID = statement.executeUpdate(query, Statement.RETURN_GENERATED_KEYS);\n        \n        ResultSet rs = statement.getGeneratedKeys();\n        if (rs.next()){\n            result=rs.getInt(1);\n        }\n        rs.close();\n        \n        statement.close();\n    \n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return result;\n}\n</code></pre>\n<p>I've tried using statement for this, but I'm thinking it may have to be prepared statement for it to work. Expecting to store the auto incremented primary key of one table (workouts) into a field within another table (workoutlogs).</p>\n"},{"tags":["javascript","java","base64","decoding","cryptojs"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1668688063,"post_id":74475421,"comment_id":131469573,"body_markdown":"Base64 is a way to take binary data and encode it in human readable ASCII. Take three 8 bit values, and output four base64 values. To decode you do the reverse. There are 3 distinct Base64 alphabets, so you&#39;ll need to find the correct one.","body":"Base64 is a way to take binary data and encode it in human readable ASCII. Take three 8 bit values, and output four base64 values. To decode you do the reverse. There are 3 distinct Base64 alphabets, so you&#39;ll need to find the correct one."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668688078,"post_id":74475421,"comment_id":131469584,"body_markdown":"I don&#39;t normally do JavaScript, but wouldn&#39;t the equivalent be `atob(encryptedString)`?","body":"I don&#39;t normally do JavaScript, but wouldn&#39;t the equivalent be <code>atob(encryptedString)</code>?"},{"owner":{"account_id":26953597,"reputation":1,"user_id":20522388,"display_name":"Riya"},"score":0,"creation_date":1668697147,"post_id":74475421,"comment_id":131473403,"body_markdown":"atob is now depricated, and I foud way to decode Uint8Arrays to string (base64 conversion). But I am looking for a way to decode Uint8array to decode into Uint8array (not to string). I am confused in this part as the Java function Base64Utils.decode() is taking byte array and returning bytearray again","body":"atob is now depricated, and I foud way to decode Uint8Arrays to string (base64 conversion). But I am looking for a way to decode Uint8array to decode into Uint8array (not to string). I am confused in this part as the Java function Base64Utils.decode() is taking byte array and returning bytearray again"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668698992,"post_id":74475421,"comment_id":131474228,"body_markdown":"*I am confused in this part as the Java function Base64Utils.decode() is taking byte array and returning bytearray again* Because base64 usually encodes binary data, which can&#39;t be used to create a string","body":"<i>I am confused in this part as the Java function Base64Utils.decode() is taking byte array and returning bytearray again</i> Because base64 usually encodes binary data, which can&#39;t be used to create a string"}],"owner":{"account_id":26953597,"reputation":1,"user_id":20522388,"display_name":"Riya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668687970,"creation_date":1668687821,"question_id":74475421,"body_markdown":"I have an encryption and decryption method in Java. I want to create same decryption function in JavaScript. I am translating line by line, but have an issue in one line as I am not able to understand that. That line is:\r\n```java\r\nbyte[] dec = Base64Utils.decode(encryptedString.getBytes());\r\n```\r\n\r\nHow can I do this in JavaScript. I know .getBytes can be replicated by using text encoder, but I&#39;m not sure about base64 decoding it.\r\n\r\nFor reference, here is the Java method I am trying to replicate\r\n\r\n```java\r\npublic String decrypti(String encryptedString, String encodekey) {\r\n    try {\r\n        if (encryptedString != null) {\r\n            encryptedString = encryptedString.replace(&quot;-&quot;, &quot;+&quot;).replace(&quot;_&quot;, &quot;/&quot;).concat(&quot;==&quot;);\r\n\r\n            Cipher dcipher = Cipher.getInstance(&quot;AES&quot;);\r\n            byte[] key = encodekey.getBytes(StandardCharsets.UTF_8);\r\n            MessageDigest sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n            key = sha.digest(key);\r\n            key = Arrays.copyOf(key, 16); // use only first 128 bit\r\n\r\n            SecretKeySpec secretKeySpec = new SecretKeySpec(key, transformation);\r\n\r\n            dcipher.init(Cipher.DECRYPT_MODE, secretKeySpec);\r\n            // decode with base64 to get bytes\r\n            byte[] dec = Base64Utils.decode(encryptedString.getBytes());\r\n            byte[] utf8 = dcipher.doFinal(dec);\r\n\r\n            // create new string based on the specified charset\r\n            return new String(utf8, StandardCharsets.UTF_8);\r\n        }\r\n\r\n    } catch (Exception e) {\r\n        log.error(&quot;Error during decrypting code - {}&quot;, e.getMessage());\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nAnd here is the JavaScript code that I have written till now:\r\n```javascript\r\nconst decrypt = (encodedString, encodeKey) =&gt; {\r\n  let encrptedStr = encodedString.replace(/-/g, &quot;_&quot;).replace(/\\+/g, &quot;/&quot;).concat(&quot;==&quot;);\r\n  \r\n  const encoder = new TextEncoder(&#39;UTF-8&#39;);\r\n  const bytes = encoder.encode(encodeKey);  // reference to encodekey.getBytes(StandardCharsets.UTF_8);\r\n  const sha1Hash = CryptoJS.SHA1(bytes);                        // Create SHA1 hash\r\n  const secretAesKey = CryptoJS.lib.WordArray.create(sha1Hash.words.slice(0, 4)); \r\n\r\n  const decryptedBytes = CryptoJS.AES.decrypt(\r\n    encrptedStr,\r\n    secretAesKey,\r\n  );\r\n  const finalDecryptedValue = decryptedBytes.toString(CryptoJS.enc.Utf8);\r\n  return finalDecryptedValue;\r\n}\r\n```\r\n","title":"Javascript syntax for Base64Utils.decode() java code","body":"<p>I have an encryption and decryption method in Java. I want to create same decryption function in JavaScript. I am translating line by line, but have an issue in one line as I am not able to understand that. That line is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] dec = Base64Utils.decode(encryptedString.getBytes());\n</code></pre>\n<p>How can I do this in JavaScript. I know .getBytes can be replicated by using text encoder, but I'm not sure about base64 decoding it.</p>\n<p>For reference, here is the Java method I am trying to replicate</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String decrypti(String encryptedString, String encodekey) {\n    try {\n        if (encryptedString != null) {\n            encryptedString = encryptedString.replace(&quot;-&quot;, &quot;+&quot;).replace(&quot;_&quot;, &quot;/&quot;).concat(&quot;==&quot;);\n\n            Cipher dcipher = Cipher.getInstance(&quot;AES&quot;);\n            byte[] key = encodekey.getBytes(StandardCharsets.UTF_8);\n            MessageDigest sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\n            key = sha.digest(key);\n            key = Arrays.copyOf(key, 16); // use only first 128 bit\n\n            SecretKeySpec secretKeySpec = new SecretKeySpec(key, transformation);\n\n            dcipher.init(Cipher.DECRYPT_MODE, secretKeySpec);\n            // decode with base64 to get bytes\n            byte[] dec = Base64Utils.decode(encryptedString.getBytes());\n            byte[] utf8 = dcipher.doFinal(dec);\n\n            // create new string based on the specified charset\n            return new String(utf8, StandardCharsets.UTF_8);\n        }\n\n    } catch (Exception e) {\n        log.error(&quot;Error during decrypting code - {}&quot;, e.getMessage());\n    }\n    return null;\n}\n</code></pre>\n<p>And here is the JavaScript code that I have written till now:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const decrypt = (encodedString, encodeKey) =&gt; {\n  let encrptedStr = encodedString.replace(/-/g, &quot;_&quot;).replace(/\\+/g, &quot;/&quot;).concat(&quot;==&quot;);\n  \n  const encoder = new TextEncoder('UTF-8');\n  const bytes = encoder.encode(encodeKey);  // reference to encodekey.getBytes(StandardCharsets.UTF_8);\n  const sha1Hash = CryptoJS.SHA1(bytes);                        // Create SHA1 hash\n  const secretAesKey = CryptoJS.lib.WordArray.create(sha1Hash.words.slice(0, 4)); \n\n  const decryptedBytes = CryptoJS.AES.decrypt(\n    encrptedStr,\n    secretAesKey,\n  );\n  const finalDecryptedValue = decryptedBytes.toString(CryptoJS.enc.Utf8);\n  return finalDecryptedValue;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":6410870,"reputation":1742,"user_id":4970679,"display_name":"ahuemmer"},"score":0,"creation_date":1668686788,"post_id":74474153,"comment_id":131469163,"body_markdown":"Welcome to SO. I&#39;ve submitted an edit request to your post as there&#39;s not need to use the maximum font size for your paragraph. Also, it might be hard to help you without knowing at least the code you use to apply the filtering.","body":"Welcome to SO. I&#39;ve submitted an edit request to your post as there&#39;s not need to use the maximum font size for your paragraph. Also, it might be hard to help you without knowing at least the code you use to apply the filtering."},{"owner":{"account_id":26344333,"reputation":1,"user_id":20002956,"display_name":"Kerem Shtyn"},"score":0,"creation_date":1668687904,"post_id":74474153,"comment_id":131469518,"body_markdown":"Thanks. Do you have any idea for the problem?","body":"Thanks. Do you have any idea for the problem?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1668688142,"post_id":74474153,"comment_id":131469605,"body_markdown":"Do you use Lombok? How do you do the mapping from Entity to DTO?","body":"Do you use Lombok? How do you do the mapping from Entity to DTO?"},{"owner":{"account_id":26344333,"reputation":1,"user_id":20002956,"display_name":"Kerem Shtyn"},"score":0,"creation_date":1668691629,"post_id":74474153,"comment_id":131471022,"body_markdown":"Yes, i use Lombok. I use mappers to map Entity to Domain and Domain to DTO.","body":"Yes, i use Lombok. I use mappers to map Entity to Domain and Domain to DTO."},{"owner":{"account_id":6410870,"reputation":1742,"user_id":4970679,"display_name":"ahuemmer"},"score":0,"creation_date":1668691792,"post_id":74474153,"comment_id":131471085,"body_markdown":"@KeremShtyn as Simon and I said, it&#39;s quite difficult to help you without your mapping and/or filtering code...","body":"@KeremShtyn as Simon and I said, it&#39;s quite difficult to help you without your mapping and/or filtering code..."},{"owner":{"account_id":26344333,"reputation":1,"user_id":20002956,"display_name":"Kerem Shtyn"},"score":0,"creation_date":1668694356,"post_id":74474153,"comment_id":131472204,"body_markdown":"Actually I solved the problem but reason of the problem was not about mapping or filtering. Problem is about relations and toString.Firstly, I added @JsonIgnore annotation to OneToMany relations. Then, toString excludes should have applied to Entity.After that, my problem solved and application launched with zero defect.","body":"Actually I solved the problem but reason of the problem was not about mapping or filtering. Problem is about relations and toString.Firstly, I added @JsonIgnore annotation to OneToMany relations. Then, toString excludes should have applied to Entity.After that, my problem solved and application launched with zero defect."}],"owner":{"account_id":26344333,"reputation":1,"user_id":20002956,"display_name":"Kerem Shtyn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668687863,"creation_date":1668682238,"question_id":74474153,"body_markdown":"This is the entity that I want to apply filtering to. It has a `ManyToOne` relationship with `x` entity.\r\n\r\n```java\r\npublic class BaseEntity {\r\n\r\n\r\n    private String identifier;\r\n\r\n    \r\n    private String type;\r\n\r\n\r\n    private String model;\r\n\r\n\r\n    private Integer capacity;\r\n\r\n\r\n    private Integer point;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;x_id&quot;)\r\n    private XEntity x;\r\n\r\n// getter, setters and constructors...\r\n\r\n}\r\n```\r\n\r\nAnd this is the entity which has `OneToMany` relationship with base entity is also has.\r\n\r\n```java\r\npublic class XEntity {\r\n\r\n\r\n    private String identifier;\r\n\r\n\r\n    private String code;\r\n\r\n\r\n    private String name;\r\n\r\n\r\n    private String country;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;x&quot;,cascade = {CascadeType.MERGE,CascadeType.PERSIST})\r\n    private Set&lt;BaseEntity&gt; bases;\r\n\r\n    @OneToMany(mappedBy = &quot;x&quot;,cascade = {CascadeType.MERGE,CascadeType.PERSIST})\r\n    private Set&lt;YEntity&gt; y;\r\n\r\n    // getter, setters and constructors...\r\n\r\n}\r\n```\r\n\r\nWhen I tried to code filtering with Spring Data JPA, a `StackOverflowError` has occured on mapping the `y` object in an `x` object. \r\n\r\nMY ONLY PROBLEM IS:\r\nI mapped join columns as their id columns in domain and dto layers and expect not to get the error, but it occurred.\r\n\r\nHow do I solve the problem?\r\n\r\n[This is my debug console when I launch the search request on the controller, it is showing `x` entity which tries mapping to `y` entity inside the object.]\r\n https://i.stack.imgur.com/DaiVv.png","title":"How to fix an StackOverflow Error in Searching and Filtering with Spring Data Jpa with multi relational Data Tables","body":"<p>This is the entity that I want to apply filtering to. It has a <code>ManyToOne</code> relationship with <code>x</code> entity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BaseEntity {\n\n\n    private String identifier;\n\n    \n    private String type;\n\n\n    private String model;\n\n\n    private Integer capacity;\n\n\n    private Integer point;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;x_id&quot;)\n    private XEntity x;\n\n// getter, setters and constructors...\n\n}\n</code></pre>\n<p>And this is the entity which has <code>OneToMany</code> relationship with base entity is also has.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class XEntity {\n\n\n    private String identifier;\n\n\n    private String code;\n\n\n    private String name;\n\n\n    private String country;\n\n\n    @OneToMany(mappedBy = &quot;x&quot;,cascade = {CascadeType.MERGE,CascadeType.PERSIST})\n    private Set&lt;BaseEntity&gt; bases;\n\n    @OneToMany(mappedBy = &quot;x&quot;,cascade = {CascadeType.MERGE,CascadeType.PERSIST})\n    private Set&lt;YEntity&gt; y;\n\n    // getter, setters and constructors...\n\n}\n</code></pre>\n<p>When I tried to code filtering with Spring Data JPA, a <code>StackOverflowError</code> has occured on mapping the <code>y</code> object in an <code>x</code> object.</p>\n<p>MY ONLY PROBLEM IS:\nI mapped join columns as their id columns in domain and dto layers and expect not to get the error, but it occurred.</p>\n<p>How do I solve the problem?</p>\n<p>[This is my debug console when I launch the search request on the controller, it is showing <code>x</code> entity which tries mapping to <code>y</code> entity inside the object.]\n<a href=\"https://i.stack.imgur.com/DaiVv.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/DaiVv.png</a></p>\n"},{"tags":["java","data-structures","priority-queue","treenode"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1668617553,"post_id":74464025,"comment_id":131450794,"body_markdown":"please consider [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors?r=SearchResults&amp;s=1%7C98.8262) And can you explain what is a &quot;*huffman tree project*&quot;","body":"please consider <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors?r=SearchResults&amp;s=1%7C98.8262\">Why should I not upload images of code/data/errors?</a> And can you explain what is a &quot;<i>huffman tree project</i>&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1668620685,"post_id":74464025,"comment_id":131451943,"body_markdown":"( BTW a PriorityQueue is basically just a list with the additional function of returning the smallest value [and some optimization for that] - so it can be replaced by a list and some code to retrieve the smallest value )","body":"( BTW a PriorityQueue is basically just a list with the additional function of returning the smallest value [and some optimization for that] - so it can be replaced by a list and some code to retrieve the smallest value )"}],"answers":[{"comments":[{"owner":{"account_id":202087,"reputation":28425,"user_id":448932,"display_name":"500 - Internal Server Error"},"score":1,"creation_date":1668824532,"post_id":74475429,"comment_id":131506885,"body_markdown":"`Because the new symbol has a higher combined probability` - to be pedantic: higher or equal.","body":"<code>Because the new symbol has a higher combined probability</code> - to be pedantic: higher or equal."},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1697388572,"post_id":74475429,"comment_id":136270941,"body_markdown":"It&#39;s nice and all, but it&#39;s not inherently better than a priority queue. Either way you have _n log(n)_ work to do, either as the _n log(n)_ initial sort, or as pushing/pulling _n_ times a _log(n)_ priority queue.","body":"It&#39;s nice and all, but it&#39;s not inherently better than a priority queue. Either way you have <i>n log(n)</i> work to do, either as the <i>n log(n)</i> initial sort, or as pushing/pulling <i>n</i> times a <i>log(n)</i> priority queue."}],"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668687853,"creation_date":1668687853,"answer_id":74475429,"question_id":74464025,"body_markdown":"There&#39;s a trick that is often used to build Huffman trees in practice:\r\n\r\n 1. Create a list of your symbols with probabilities, and sort it in ascending order\r\n 2. Create an initially empty list for combined symbols.  This will remain sorted as we work.\r\n\r\n 3. While there is more than one symbol in the lists:\r\n\r\n    1. Remove the two smallest symbols from the beginnings of two lists\r\n    2. Combine them and add them to the end of the combined list.  Because the new symbol has a higher combined probability than any combined symbol created before, this list remains sorted.\r\n\r\nAfter the initial sorting, the smallest probability symbol will always be the first one of one of the two lists, so no priority queues or searching is required to find it.\r\n\r\nThis technique is quite clever, and your lecturer would not expect you to think of it yourself, so it was probably taught or referenced in class.\r\n\r\n","title":"huffman tree without using priority queues","body":"<p>There's a trick that is often used to build Huffman trees in practice:</p>\n<ol>\n<li><p>Create a list of your symbols with probabilities, and sort it in ascending order</p>\n</li>\n<li><p>Create an initially empty list for combined symbols.  This will remain sorted as we work.</p>\n</li>\n<li><p>While there is more than one symbol in the lists:</p>\n<ol>\n<li>Remove the two smallest symbols from the beginnings of two lists</li>\n<li>Combine them and add them to the end of the combined list.  Because the new symbol has a higher combined probability than any combined symbol created before, this list remains sorted.</li>\n</ol>\n</li>\n</ol>\n<p>After the initial sorting, the smallest probability symbol will always be the first one of one of the two lists, so no priority queues or searching is required to find it.</p>\n<p>This technique is quite clever, and your lecturer would not expect you to think of it yourself, so it was probably taught or referenced in class.</p>\n"}],"owner":{"account_id":23586857,"reputation":9,"user_id":17625207,"display_name":"Grant Sodipo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1668696491,"answer_count":1,"score":-1,"last_activity_date":1668687853,"creation_date":1668616182,"question_id":74464025,"body_markdown":"for my project i have to create a huffman tree project, but my lecturer has said that i cannot use priority queues to build it?\r\nBut i dunno how to implement that.\r\nAre there any other ways i can create a huffman tree without using priority queues?\r\n\r\n[This is an example of a huffman tree but it is using priority queues](https://i.stack.imgur.com/wbgHf.png)\r\n[enter image description here](https://i.stack.imgur.com/jUMqA.png)\r\n[enter image description here](https://i.stack.imgur.com/3AeVi.png)\r\n","title":"huffman tree without using priority queues","body":"<p>for my project i have to create a huffman tree project, but my lecturer has said that i cannot use priority queues to build it?\nBut i dunno how to implement that.\nAre there any other ways i can create a huffman tree without using priority queues?</p>\n<p><a href=\"https://i.stack.imgur.com/wbgHf.png\" rel=\"nofollow noreferrer\">This is an example of a huffman tree but it is using priority queues</a>\n<a href=\"https://i.stack.imgur.com/jUMqA.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/3AeVi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","properties-file"],"comments":[{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1668675997,"post_id":74472565,"comment_id":131465142,"body_markdown":"The question is not so clear. Please give more information: sample properties file content, and code snippets you use.","body":"The question is not so clear. Please give more information: sample properties file content, and code snippets you use."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1668685897,"post_id":74472565,"comment_id":131468830,"body_markdown":"Try `Map&lt;String,Map&lt;String,String&gt;&gt;` where the key is the name of the configuration, and the value (`Map&lt;String,String&gt;`) is the configuration parameters","body":"Try <code>Map&lt;String,Map&lt;String,String&gt;&gt;</code> where the key is the name of the configuration, and the value (<code>Map&lt;String,String&gt;</code>) is the configuration parameters"}],"answers":[{"tags":[],"owner":{"account_id":26959943,"reputation":11,"user_id":20527747,"display_name":"Positronator"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668685422,"creation_date":1668685388,"answer_id":74474892,"question_id":74472565,"body_markdown":"You could use a nested HashMap like this:\r\n\r\n    HashMap&lt;String, HashMap&lt;String, String&gt;&gt; conf = new HashMap&lt;&gt;();\r\n    \r\n    for(int i = 1; i &lt;= 4; i++) {\r\n        String currentConfName = &quot;conf&quot; + i;\r\n        HashMap&lt;String, String&gt; currentConf = new HashMap&lt;&gt;();\r\n        currentConf.put(&quot;UserName&quot;, prop.getProperty(currentConfName + &quot;.username&quot;));\r\n        //And everythin else you want to add\r\n\r\n        conf.put(currentConfName, currentConf);\r\n    }\r\n\r\n\r\nEqually you can then generate your files by iterating over the HashMap","title":"Which data type to use for different configurations","body":"<p>You could use a nested HashMap like this:</p>\n<pre><code>HashMap&lt;String, HashMap&lt;String, String&gt;&gt; conf = new HashMap&lt;&gt;();\n\nfor(int i = 1; i &lt;= 4; i++) {\n    String currentConfName = &quot;conf&quot; + i;\n    HashMap&lt;String, String&gt; currentConf = new HashMap&lt;&gt;();\n    currentConf.put(&quot;UserName&quot;, prop.getProperty(currentConfName + &quot;.username&quot;));\n    //And everythin else you want to add\n\n    conf.put(currentConfName, currentConf);\n}\n</code></pre>\n<p>Equally you can then generate your files by iterating over the HashMap</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668687450,"creation_date":1668686975,"answer_id":74475226,"question_id":74472565,"body_markdown":"You could use a `Map&lt;String,Map&lt;String,String&gt;&gt;` where the key is the name of the configuration, and the value (`Map&lt;String,String&gt;`) is the configuration parameters.\r\n\r\nTo load the file, you would do something like this:\r\n\r\n    private static Pattern RE = Pattern.compile(\r\n            &quot;([A-Za-z0-9_-]+)\\\\.([A-Za-z0-9_-]+)&quot;);\r\n\r\n    private static Map&lt;String,Map&lt;String,String&gt;&gt; loadConfs(String name)\r\n            throws IOException {\r\n        Map&lt;String,Map&lt;String,String&gt;&gt; confs = new HashMap&lt;&gt;();\r\n        Properties props = new Properties();\r\n        ClassLoader cl = Thread.currentThread().getContextClassLoader();\r\n        try (InputStream in = cl.getResourceAsStream(name)) {\r\n            props.load(in);\r\n        }\r\n        for (String propName: props.stringPropertyNames()) {\r\n            Matcher matcher = RE.matcher(propName);\r\n            if (matcher.matches()) {\r\n                String confName = matcher.group(1);\r\n                String parmName = matcher.group(2);\r\n                Map&lt;String,String&gt; conf = confs.get(confName);\r\n                if (conf == null) {\r\n                    conf = new HashMap&lt;&gt;();\r\n                    confs.put(confName, conf);\r\n                }\r\n                conf.put(parmName, props.getProperty(propName));\r\n            }\r\n        }\r\n        return confs;\r\n    }\r\n\r\nYou could then do something like this:\r\n\r\n    Map&lt;String,Map&lt;String,String&gt;&gt; confs = loadConfs(&quot;conf.properties&quot;);\r\n    ...\r\n    Map&lt;String,String&gt; conf = confs.get(confName);\r\n    if (conf != null) {\r\n        GenerateTestFile(\r\n                &quot;Name:“ + conf.get(&quot;Name&quot;)\r\n                + “-UserName:” + conf.get(&quot;UserName&quot;)\r\n                + “-Password:” + conf.get(&quot;Password&quot;)\r\n                + &quot;-Context:” + conf.get(“Context”),\r\n                FileName);\r\n    }\r\n","title":"Which data type to use for different configurations","body":"<p>You could use a <code>Map&lt;String,Map&lt;String,String&gt;&gt;</code> where the key is the name of the configuration, and the value (<code>Map&lt;String,String&gt;</code>) is the configuration parameters.</p>\n<p>To load the file, you would do something like this:</p>\n<pre><code>private static Pattern RE = Pattern.compile(\n        &quot;([A-Za-z0-9_-]+)\\\\.([A-Za-z0-9_-]+)&quot;);\n\nprivate static Map&lt;String,Map&lt;String,String&gt;&gt; loadConfs(String name)\n        throws IOException {\n    Map&lt;String,Map&lt;String,String&gt;&gt; confs = new HashMap&lt;&gt;();\n    Properties props = new Properties();\n    ClassLoader cl = Thread.currentThread().getContextClassLoader();\n    try (InputStream in = cl.getResourceAsStream(name)) {\n        props.load(in);\n    }\n    for (String propName: props.stringPropertyNames()) {\n        Matcher matcher = RE.matcher(propName);\n        if (matcher.matches()) {\n            String confName = matcher.group(1);\n            String parmName = matcher.group(2);\n            Map&lt;String,String&gt; conf = confs.get(confName);\n            if (conf == null) {\n                conf = new HashMap&lt;&gt;();\n                confs.put(confName, conf);\n            }\n            conf.put(parmName, props.getProperty(propName));\n        }\n    }\n    return confs;\n}\n</code></pre>\n<p>You could then do something like this:</p>\n<pre><code>Map&lt;String,Map&lt;String,String&gt;&gt; confs = loadConfs(&quot;conf.properties&quot;);\n...\nMap&lt;String,String&gt; conf = confs.get(confName);\nif (conf != null) {\n    GenerateTestFile(\n            &quot;Name:“ + conf.get(&quot;Name&quot;)\n            + “-UserName:” + conf.get(&quot;UserName&quot;)\n            + “-Password:” + conf.get(&quot;Password&quot;)\n            + &quot;-Context:” + conf.get(“Context”),\n            FileName);\n}\n</code></pre>\n"}],"owner":{"account_id":18469626,"reputation":13,"user_id":15170229,"display_name":"Irregularz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74475226,"answer_count":2,"score":1,"last_activity_date":1668687450,"creation_date":1668675288,"question_id":74472565,"body_markdown":"I have a 4 different configurations to be used and these configuration values are stored in a property file. The properties for all the configurations are same, but the values are different for each.\r\n\r\nEx:\r\nThe property file configurations I am using:\r\n\r\n```\r\n####Config1####\r\nconf1.password=admin\r\nconf1.username=admin\r\nconf1.context=123\r\nconf1.name=localhost\r\n\r\n####config2####\r\nconf2.username=app\r\nconf2.password=app\r\nconf2.context=com\r\nconf2.name=localhost\r\n\r\n####config3####\r\nconf3.username=app\r\nconf3.password=app\r\nconf3.context=com\r\nconf3.name=localhost\r\n\r\n####config4####\r\nconf4.username=app\r\nconf4.password=app\r\nconf4.context=com\r\nconf4.name=localhost\r\n\r\n```\r\n\r\n\r\nI can get the properties from the property file. Is it possible to have a single variable to store these values based on configuration and access them in an optimised and readable way?\r\n\r\nI tried using hash-map for every configuration separately and fetching it from that. But it is increasing my code redundancy as if I perform same steps for every configuration and if-elsed the configuration name to get the hashmap values.\r\n\r\n\r\nCurrently I am using the properties with hashmap like this:\r\n\r\n```\r\nHashMap&lt;String, String&gt; conf1 = new HashMap&lt;&gt;();\r\nHashMap&lt;String, String&gt; conf2 = new HashMap&lt;&gt;();\r\nHashMap&lt;String, String&gt; conf3 = new HashMap&lt;&gt;();\r\nHashMap&lt;String, String&gt; conf4 = new HashMap&lt;&gt;();\r\n\r\nconf1.put(&quot;UserName&quot;, prop.getProperty(“conf1.username&quot;));\r\nconf1.put(&quot;Password&quot;,prop.getProperty(&quot;conf1.password&quot;));\r\nconf1.put(“name”,prop.getProperty(&quot;conf1.name&quot;));\r\nconf1.put(&quot;context”,”conf1,context”);\r\n\r\nconf2.put(&quot;UserName&quot;, prop.getProperty(“conf2.username&quot;));\r\nconf2.put(&quot;Password&quot;,prop.getProperty(&quot;conf2.password&quot;));\r\nconf2.put(“name”,prop.getProperty(&quot;conf2.name&quot;));\r\nconf2.put(&quot;context”,”conf2,context”);\r\n\r\nconf3...\r\nconf4...\r\n\r\nif (Conf.equalsIgnoreCase(“conf1”)) {\r\n\tGenerateTestFile(\r\n          &quot;Name:“ + conf1.get(&quot;Name&quot;) + “-UserName:” +\r\n          conf1.get(&quot;UserName&quot;) + “-Password:” + conf1.get(&quot;Password&quot;) + \r\n        &quot;-Context:” + conf1.get(“Context”) ,FileName);\r\n} else if (Conf.equalsIgnoreCase(“conf2”)) {\r\nGenerateTestFile(\r\n          &quot;Name:“ + conf2.get(&quot;Name&quot;) + “-UserName:” +\r\n          conf2.get(&quot;UserName&quot;) + “-Password:” + conf2.get(&quot;Password&quot;) + \r\n        &quot;-Context:” + conf2.get(“Context”) ,FileName);\r\n}\r\nElse if(conf3){…}\r\nElse if(conf4){…}\r\n\r\n```","title":"Which data type to use for different configurations","body":"<p>I have a 4 different configurations to be used and these configuration values are stored in a property file. The properties for all the configurations are same, but the values are different for each.</p>\n<p>Ex:\nThe property file configurations I am using:</p>\n<pre><code>####Config1####\nconf1.password=admin\nconf1.username=admin\nconf1.context=123\nconf1.name=localhost\n\n####config2####\nconf2.username=app\nconf2.password=app\nconf2.context=com\nconf2.name=localhost\n\n####config3####\nconf3.username=app\nconf3.password=app\nconf3.context=com\nconf3.name=localhost\n\n####config4####\nconf4.username=app\nconf4.password=app\nconf4.context=com\nconf4.name=localhost\n\n</code></pre>\n<p>I can get the properties from the property file. Is it possible to have a single variable to store these values based on configuration and access them in an optimised and readable way?</p>\n<p>I tried using hash-map for every configuration separately and fetching it from that. But it is increasing my code redundancy as if I perform same steps for every configuration and if-elsed the configuration name to get the hashmap values.</p>\n<p>Currently I am using the properties with hashmap like this:</p>\n<pre><code>HashMap&lt;String, String&gt; conf1 = new HashMap&lt;&gt;();\nHashMap&lt;String, String&gt; conf2 = new HashMap&lt;&gt;();\nHashMap&lt;String, String&gt; conf3 = new HashMap&lt;&gt;();\nHashMap&lt;String, String&gt; conf4 = new HashMap&lt;&gt;();\n\nconf1.put(&quot;UserName&quot;, prop.getProperty(“conf1.username&quot;));\nconf1.put(&quot;Password&quot;,prop.getProperty(&quot;conf1.password&quot;));\nconf1.put(“name”,prop.getProperty(&quot;conf1.name&quot;));\nconf1.put(&quot;context”,”conf1,context”);\n\nconf2.put(&quot;UserName&quot;, prop.getProperty(“conf2.username&quot;));\nconf2.put(&quot;Password&quot;,prop.getProperty(&quot;conf2.password&quot;));\nconf2.put(“name”,prop.getProperty(&quot;conf2.name&quot;));\nconf2.put(&quot;context”,”conf2,context”);\n\nconf3...\nconf4...\n\nif (Conf.equalsIgnoreCase(“conf1”)) {\n    GenerateTestFile(\n          &quot;Name:“ + conf1.get(&quot;Name&quot;) + “-UserName:” +\n          conf1.get(&quot;UserName&quot;) + “-Password:” + conf1.get(&quot;Password&quot;) + \n        &quot;-Context:” + conf1.get(“Context”) ,FileName);\n} else if (Conf.equalsIgnoreCase(“conf2”)) {\nGenerateTestFile(\n          &quot;Name:“ + conf2.get(&quot;Name&quot;) + “-UserName:” +\n          conf2.get(&quot;UserName&quot;) + “-Password:” + conf2.get(&quot;Password&quot;) + \n        &quot;-Context:” + conf2.get(“Context”) ,FileName);\n}\nElse if(conf3){…}\nElse if(conf4){…}\n\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":13456279,"reputation":2278,"user_id":9709773,"display_name":"Shubham Kadlag"},"score":0,"creation_date":1527887240,"post_id":50650041,"comment_id":88312851,"body_markdown":"You should not write dao code  in service class. You should create a @Repository interface or class and perform dao operations there.","body":"You should not write dao code  in service class. You should create a @Repository interface or class and perform dao operations there."},{"owner":{"account_id":11382286,"reputation":1591,"user_id":8344882,"display_name":"gagan singh"},"score":0,"creation_date":1527890436,"post_id":50650041,"comment_id":88313865,"body_markdown":"Should @EnableTransactionManagement be on a class also annotated with @Configuration?","body":"Should @EnableTransactionManagement be on a class also annotated with @Configuration?"},{"owner":{"account_id":12139639,"reputation":365,"user_id":9549404,"display_name":"Daimon"},"score":0,"creation_date":1527909486,"post_id":50650041,"comment_id":88316922,"body_markdown":"I know that this code must be in @repository, but it doesn&#39;t solve my problem","body":"I know that this code must be in @repository, but it doesn&#39;t solve my problem"},{"owner":{"account_id":12139639,"reputation":365,"user_id":9549404,"display_name":"Daimon"},"score":0,"creation_date":1527909544,"post_id":50650041,"comment_id":88316931,"body_markdown":"@EnableTransactionManagement can also be on spring boot runner","body":"@EnableTransactionManagement can also be on spring boot runner"},{"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"score":0,"creation_date":1527914445,"post_id":50650041,"comment_id":88317499,"body_markdown":"@ShubhamKadlag That&#39;s honestly highly subjective statement.  A lot of people view the JPA abstraction as _the DAO_ and simply use it inside their services, particularly if the application never intends to work with anything but JPA.  To me adding a `@Repository` here is just another layer of abstraction atop of an existing abstraction which effectively just adds extra function calls to the stack with little to no meaning or reward.","body":"@ShubhamKadlag That&#39;s honestly highly subjective statement.  A lot of people view the JPA abstraction as <i>the DAO</i> and simply use it inside their services, particularly if the application never intends to work with anything but JPA.  To me adding a <code>@Repository</code> here is just another layer of abstraction atop of an existing abstraction which effectively just adds extra function calls to the stack with little to no meaning or reward."}],"answers":[{"comments":[{"owner":{"account_id":12139639,"reputation":365,"user_id":9549404,"display_name":"Daimon"},"score":2,"creation_date":1527914508,"post_id":50653513,"comment_id":88317509,"body_markdown":"Thank you a lot) It&#39;s the perfect explanation)","body":"Thank you a lot) It&#39;s the perfect explanation)"}],"tags":[],"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1527914010,"creation_date":1527913665,"answer_id":50653513,"question_id":50650041,"body_markdown":"I don&#39;t quite understand why you&#39;re making your service method so unnecessarily complex.  You should simply be able to do it this way\r\n\r\n    @Transactional\r\n    public void insertUser(User user) {\r\n      entityManager.persist( user );\r\n    }\r\n\r\nIf there are points where you need access to the native Hibernate `Session` you can simply unwrap and use the `Session` directly like this:\r\n\r\n    @Transactional\r\n    public void doSomethingFancyWithASession() {\r\n      Session session = entityManager.unwrap( Session.class );\r\n      // use session as needed\r\n    }\r\n\r\nThe notion here is that Spring provides you an already functional `EntityManager` instance by you using the `@PersistenceContext` annotation.  That instance will safely be usable by the current thread your spring bean is being executed within.\r\n\r\nSecondly, by using `@Transactional`, this causes Spring&#39;s transaction management to automatically make sure that the `EntityManager` is bound to a transaction, whether that is a `RESOURCE_LOCAL` or `JTA` transaction is based on your environment configuration.\r\n\r\nYou&#39;re running into your problem because of the call to `#getCurrentSession()`.\r\n\r\nWhat is happening is Spring creates the `EntityManager`, then inside your method when you make the call to `#getCurrentSession()`, you&#39;re asking Hibernate to create a second session that is not bound to the transaction started by your `@Transactional` annotation.  In short its  essentially akin to the following:\r\n\r\n    EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n    entityManager.getTransaction().begin();\r\n    Session aNewSession = entityManager.unwrap( Session.class )\r\n      .getFactory()\r\n      .getCurrentSession();\r\n    // at this point entityManager is scoped to a transaction\r\n    // aNewSession is not scoped to any transaction\r\n    // this also likely uses 2 connections to the database which is a waste\r\n\r\nSo follow the paradigm I mention above and you should no longer run into the problem.  You should never need to call `#getCurrentSession()` or `#openSession()` in a Spring environment if you&#39;re properly allowing Spring to inject your `EntityManager` instance for you.","title":"Spring boot hibernate no transaction is in progress","body":"<p>I don't quite understand why you're making your service method so unnecessarily complex.  You should simply be able to do it this way</p>\n\n<pre><code>@Transactional\npublic void insertUser(User user) {\n  entityManager.persist( user );\n}\n</code></pre>\n\n<p>If there are points where you need access to the native Hibernate <code>Session</code> you can simply unwrap and use the <code>Session</code> directly like this:</p>\n\n<pre><code>@Transactional\npublic void doSomethingFancyWithASession() {\n  Session session = entityManager.unwrap( Session.class );\n  // use session as needed\n}\n</code></pre>\n\n<p>The notion here is that Spring provides you an already functional <code>EntityManager</code> instance by you using the <code>@PersistenceContext</code> annotation.  That instance will safely be usable by the current thread your spring bean is being executed within.</p>\n\n<p>Secondly, by using <code>@Transactional</code>, this causes Spring's transaction management to automatically make sure that the <code>EntityManager</code> is bound to a transaction, whether that is a <code>RESOURCE_LOCAL</code> or <code>JTA</code> transaction is based on your environment configuration.</p>\n\n<p>You're running into your problem because of the call to <code>#getCurrentSession()</code>.</p>\n\n<p>What is happening is Spring creates the <code>EntityManager</code>, then inside your method when you make the call to <code>#getCurrentSession()</code>, you're asking Hibernate to create a second session that is not bound to the transaction started by your <code>@Transactional</code> annotation.  In short its  essentially akin to the following:</p>\n\n<pre><code>EntityManager entityManager = entityManagerFactory.createEntityManager();\nentityManager.getTransaction().begin();\nSession aNewSession = entityManager.unwrap( Session.class )\n  .getFactory()\n  .getCurrentSession();\n// at this point entityManager is scoped to a transaction\n// aNewSession is not scoped to any transaction\n// this also likely uses 2 connections to the database which is a waste\n</code></pre>\n\n<p>So follow the paradigm I mention above and you should no longer run into the problem.  You should never need to call <code>#getCurrentSession()</code> or <code>#openSession()</code> in a Spring environment if you're properly allowing Spring to inject your <code>EntityManager</code> instance for you.</p>\n"},{"tags":[],"owner":{"account_id":1652056,"reputation":1525,"user_id":1522438,"display_name":"searching9x"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550306792,"creation_date":1550306792,"answer_id":54721377,"question_id":50650041,"body_markdown":"I have same your error, when I deploy my spring boot app to WebLogic Server.\r\n(Even It works fine if I run it directly via Eclipse (Or deploy to Tomcat) ).\r\n\r\nI solved the problem by adding @EnableTransactionManagement to UserService.","title":"Spring boot hibernate no transaction is in progress","body":"<p>I have same your error, when I deploy my spring boot app to WebLogic Server.\n(Even It works fine if I run it directly via Eclipse (Or deploy to Tomcat) ).</p>\n\n<p>I solved the problem by adding @EnableTransactionManagement to UserService.</p>\n"},{"tags":[],"owner":{"account_id":8942000,"reputation":91,"user_id":6670693,"display_name":"Ashish Rajput"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668687404,"creation_date":1668687404,"answer_id":74475326,"question_id":50650041,"body_markdown":" salved my problem using in hibernate conf  **&quot;hibernate.allow_update_outside_transaction&quot;,&quot;true&quot;** ","title":"Spring boot hibernate no transaction is in progress","body":"<p>salved my problem using in hibernate conf  <strong>&quot;hibernate.allow_update_outside_transaction&quot;,&quot;true&quot;</strong></p>\n"}],"owner":{"account_id":12139639,"reputation":365,"user_id":9549404,"display_name":"Daimon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19627,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":50653513,"answer_count":3,"score":9,"last_activity_date":1668687404,"creation_date":1527881844,"question_id":50650041,"body_markdown":"I&#39;m using spring boot and it perfectly makes me entity manager. And I decided to test getting session factory from the entity manager and to use it for an example. But I get the next problem:`javax.persistence.TransactionRequiredException: no transaction is in progress` \r\n\r\nproperties \r\n\r\n    spring.datasource.url= jdbc:postgresql://localhost:5432/ring\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=root\r\n    \r\n    spring.jpa.show-sql = false\r\n    spring.jpa.properties.hibernate.format_sql=false\r\n    \r\n    #Note: The last two properties on the code snippet above were added to suppress an annoying exception\r\n    # that occurs when JPA (Hibernate) tries to verify PostgreSQL CLOB feature.\r\n    spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\r\n    spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false\r\n    \r\n    spring.jpa.properties.hibernate.current_session_context_class = org.springframework.orm.hibernate5.SpringSessionContext\r\n\r\nservice class\r\n\r\n    package kz.training.springrest.service;\r\n    \r\n    import kz.training.springrest.entity.User;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.PersistenceContext;\r\n    import javax.persistence.PersistenceUnit;\r\n    \r\n    @Service\r\n    public class UserService {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n        @Transactional\r\n        public void insertUser(User user) {\r\n            SessionFactory sessionFactory = entityManager.unwrap(Session.class).getSessionFactory();\r\n            Session session = sessionFactory.getCurrentSession();\r\n            session.save(user);\r\n        }\r\n    \r\n    }\r\n\r\nrunner\r\n\r\n    package kz.training.springrest.run;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    @SpringBootApplication\r\n    @EntityScan(&quot;kz.training.springrest.entity&quot;)\r\n    @EnableTransactionManagement\r\n    @ComponentScan(basePackages=&quot;kz.training.springrest&quot;)\r\n    public class SpringrestApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringrestApplication.class, args);\r\n        }\r\n    }\r\n\r\nDo you have any ideas how to solve it?","title":"Spring boot hibernate no transaction is in progress","body":"<p>I'm using spring boot and it perfectly makes me entity manager. And I decided to test getting session factory from the entity manager and to use it for an example. But I get the next problem:<code>javax.persistence.TransactionRequiredException: no transaction is in progress</code> </p>\n\n<p>properties </p>\n\n<pre><code>spring.datasource.url= jdbc:postgresql://localhost:5432/ring\nspring.datasource.username=postgres\nspring.datasource.password=root\n\nspring.jpa.show-sql = false\nspring.jpa.properties.hibernate.format_sql=false\n\n#Note: The last two properties on the code snippet above were added to suppress an annoying exception\n# that occurs when JPA (Hibernate) tries to verify PostgreSQL CLOB feature.\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false\n\nspring.jpa.properties.hibernate.current_session_context_class = org.springframework.orm.hibernate5.SpringSessionContext\n</code></pre>\n\n<p>service class</p>\n\n<pre><code>package kz.training.springrest.service;\n\nimport kz.training.springrest.entity.User;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.PersistenceContext;\nimport javax.persistence.PersistenceUnit;\n\n@Service\npublic class UserService {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Transactional\n    public void insertUser(User user) {\n        SessionFactory sessionFactory = entityManager.unwrap(Session.class).getSessionFactory();\n        Session session = sessionFactory.getCurrentSession();\n        session.save(user);\n    }\n\n}\n</code></pre>\n\n<p>runner</p>\n\n<pre><code>package kz.training.springrest.run;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@SpringBootApplication\n@EntityScan(\"kz.training.springrest.entity\")\n@EnableTransactionManagement\n@ComponentScan(basePackages=\"kz.training.springrest\")\npublic class SpringrestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringrestApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>Do you have any ideas how to solve it?</p>\n"},{"tags":["javascript","java","mongodb","spring-data-mongodb"],"answers":[{"comments":[{"owner":{"account_id":20017385,"reputation":122,"user_id":14673069,"display_name":"wtyork"},"score":0,"creation_date":1647250718,"post_id":71465195,"comment_id":126315142,"body_markdown":"It doesn&#39;t work for me. I add the picture in my answer.","body":"It doesn&#39;t work for me. I add the picture in my answer."}],"tags":[],"owner":{"account_id":14916818,"reputation":21534,"user_id":10770370,"display_name":"Tom Slabbaert"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647248534,"creation_date":1647248534,"answer_id":71465195,"question_id":71464951,"body_markdown":"You want to be using the `nested()` function, like so:\r\n\r\n```\r\nAggregationOperation project = Aggregation.project(&quot;file_name&quot;, &quot;vehicle_id&quot;).\r\n    and(&quot;errors&quot;).nested(Fields.fields(&quot;priority&quot;,&quot;category&quot;))\r\n\r\nAggregation aggregation = Aggregation.newAggregation(project);\r\n```","title":"java MongoTemplate aggregate with project nested document","body":"<p>You want to be using the <code>nested()</code> function, like so:</p>\n<pre><code>AggregationOperation project = Aggregation.project(&quot;file_name&quot;, &quot;vehicle_id&quot;).\n    and(&quot;errors&quot;).nested(Fields.fields(&quot;priority&quot;,&quot;category&quot;))\n\nAggregation aggregation = Aggregation.newAggregation(project);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647266410,"creation_date":1647259671,"answer_id":71467532,"question_id":71464951,"body_markdown":"Here is a way to get the desired result.\r\n\r\n    Document projectn = new Document(&quot;$project&quot;, \r\n                            new Document(&quot;_id&quot;, 0L)\r\n                            .append(&quot;file_name&quot;, 1L)\r\n                            .append(&quot;vehicle_id&quot;, 1L)\r\n                            .append(&quot;errors&quot;, \r\n                                new Document(&quot;$map&quot;, \r\n                                    new Document(&quot;input&quot;, &quot;$errors&quot;)\r\n                                    .append(&quot;in&quot;, \r\n                                        new Document(&quot;priority&quot;, &quot;$$this.priority&quot;)\r\n                                        .append(&quot;category&quot;, &quot;$$this.category&quot;)\r\n                                    )\r\n                                )\r\n                            )\r\n                        );\r\n    \r\n    List&lt;Document&gt; pipeline = Arrays.asList(projectn);\r\n    List&lt;Document&gt; results = mongoOps.getCollection(&quot;collection_name&quot;)\r\n                                     .aggregate(pipeline)\r\n                                     .into(new ArrayList&lt;&gt;());\r\n\r\nNote that this uses MongoDB Java Driver API query syntax, and `Document` is `org.bson.Document`. The conversion of the native query to Java Driver uses `$map` aggregation array operator (and it looks like thats the (maybe only) way).\r\n\r\nWith `MongoTemplate.aggregate` the code is:\r\n\r\n\t\tAggregation agg = newAggregation(\r\n\t\t\t\tproject() \r\n\t\t\t    .and( \r\n\t\t\t        VariableOperators.Map.itemsOf(&quot;errors&quot;)\r\n\t\t\t            .as(&quot;e&quot;)\r\n\t\t\t            .andApply(ctx -&gt; new Document(&quot;priority&quot;, &quot;$$e.priority&quot;).append(&quot;category&quot;, &quot;$$e.category&quot;) ))\r\n\t\t\t    .as(&quot;errors&quot;)\r\n\t\t\t    .andExclude(&quot;_id&quot;)\r\n\t\t\t    .andInclude(&quot;file_name&quot;, &quot;vehicle_id&quot;)\r\n\t\t);\r\n\r\n        AggregationResults&lt;Document&gt; results = mongoOps.aggregate(agg, &quot;collection_name&quot;, Document.class);\r\n\r\n&lt;br&gt;\r\n\r\n---\r\n\r\n**Alternate Method:**\r\n\r\nIn case your query is just about the _projection_, you can use the following query using `MongoTemplate#find` method. This is much simpler to construct and understand:\r\n\r\n    db.collection.find(\r\n        {}, // your query filter\r\n        { _id: 0, &#39;errors.category&#39;: 1, &#39;errors.priority&#39;: 1, file_name: 1, vehicle_id: 1 }\r\n    )\r\n\r\nThe `MongoTemplate` version of it:\r\n\r\n    Query query = new Query();\r\n    query.fields()\r\n         .include(&quot;errors.priority&quot;, &quot;errors.category&quot;, &quot;file_name&quot;, &quot;vehicle_id&quot;)\r\n         .exclude(&quot;_id&quot;);\r\n    List&lt;Document&gt; results = mongoOps.find(query, Document.class, &quot;collection_name&quot;);","title":"java MongoTemplate aggregate with project nested document","body":"<p>Here is a way to get the desired result.</p>\n<pre><code>Document projectn = new Document(&quot;$project&quot;, \n                        new Document(&quot;_id&quot;, 0L)\n                        .append(&quot;file_name&quot;, 1L)\n                        .append(&quot;vehicle_id&quot;, 1L)\n                        .append(&quot;errors&quot;, \n                            new Document(&quot;$map&quot;, \n                                new Document(&quot;input&quot;, &quot;$errors&quot;)\n                                .append(&quot;in&quot;, \n                                    new Document(&quot;priority&quot;, &quot;$$this.priority&quot;)\n                                    .append(&quot;category&quot;, &quot;$$this.category&quot;)\n                                )\n                            )\n                        )\n                    );\n\nList&lt;Document&gt; pipeline = Arrays.asList(projectn);\nList&lt;Document&gt; results = mongoOps.getCollection(&quot;collection_name&quot;)\n                                 .aggregate(pipeline)\n                                 .into(new ArrayList&lt;&gt;());\n</code></pre>\n<p>Note that this uses MongoDB Java Driver API query syntax, and <code>Document</code> is <code>org.bson.Document</code>. The conversion of the native query to Java Driver uses <code>$map</code> aggregation array operator (and it looks like thats the (maybe only) way).</p>\n<p>With <code>MongoTemplate.aggregate</code> the code is:</p>\n<pre><code>    Aggregation agg = newAggregation(\n            project() \n            .and( \n                VariableOperators.Map.itemsOf(&quot;errors&quot;)\n                    .as(&quot;e&quot;)\n                    .andApply(ctx -&gt; new Document(&quot;priority&quot;, &quot;$$e.priority&quot;).append(&quot;category&quot;, &quot;$$e.category&quot;) ))\n            .as(&quot;errors&quot;)\n            .andExclude(&quot;_id&quot;)\n            .andInclude(&quot;file_name&quot;, &quot;vehicle_id&quot;)\n    );\n\n    AggregationResults&lt;Document&gt; results = mongoOps.aggregate(agg, &quot;collection_name&quot;, Document.class);\n</code></pre>\n<br>\n<hr />\n<p><strong>Alternate Method:</strong></p>\n<p>In case your query is just about the <em>projection</em>, you can use the following query using <code>MongoTemplate#find</code> method. This is much simpler to construct and understand:</p>\n<pre><code>db.collection.find(\n    {}, // your query filter\n    { _id: 0, 'errors.category': 1, 'errors.priority': 1, file_name: 1, vehicle_id: 1 }\n)\n</code></pre>\n<p>The <code>MongoTemplate</code> version of it:</p>\n<pre><code>Query query = new Query();\nquery.fields()\n     .include(&quot;errors.priority&quot;, &quot;errors.category&quot;, &quot;file_name&quot;, &quot;vehicle_id&quot;)\n     .exclude(&quot;_id&quot;);\nList&lt;Document&gt; results = mongoOps.find(query, Document.class, &quot;collection_name&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17030261,"reputation":967,"user_id":12320578,"display_name":"Vasiliy Artamonov"},"score":1,"creation_date":1668883516,"post_id":74475308,"comment_id":131516432,"body_markdown":"While this code snippet may solve the problem, \n**[including an explanation](//meta.stackexchange.com/q/114762) \nreally helps to improve the quality of your post**. Remember that you are \nanswering the question for readers in the future, and those people might \nnot know the reasons for your code suggestion. Please also try not to crowd \nyour code with explanatory comments, as this reduces the readability of both \nthe code and the explanations!","body":"While this code snippet may solve the problem,  <b><a href=\"//meta.stackexchange.com/q/114762\">including an explanation</a>  really helps to improve the quality of your post</b>. Remember that you are  answering the question for readers in the future, and those people might  not know the reasons for your code suggestion. Please also try not to crowd  your code with explanatory comments, as this reduces the readability of both  the code and the explanations!"},{"owner":{"account_id":26951798,"reputation":1,"user_id":20520905,"display_name":"state.wu"},"score":0,"creation_date":1670564296,"post_id":74475308,"comment_id":131908011,"body_markdown":"This is a simple but effective solution. https://stackoverflow.com/questions/51597458/how-to-project-array-element-field-in-spring-data-mongo-db-aggregation","body":"This is a simple but effective solution. <a href=\"https://stackoverflow.com/questions/51597458/how-to-project-array-element-field-in-spring-data-mongo-db-aggregation\" title=\"how to project array element field in spring data mongo db aggregation\">stackoverflow.com/questions/51597458/&hellip;</a>"}],"tags":[],"owner":{"account_id":26951798,"reputation":1,"user_id":20520905,"display_name":"state.wu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668687317,"creation_date":1668687317,"answer_id":74475308,"question_id":71464951,"body_markdown":"    List&lt;String&gt; projectFieldSet = Arrays.asList(&quot;errors.category&quot;,&quot;errors.priority&quot;);\r\n    List&lt;Field&gt; fieldList = projectFields.stream().map(f-&gt;{return Fields.field(f,f);}).collect(Collectors.toList());\t\t\r\n    ProjectionOperation projectAggOp = Aggregation.project(Fields.from(fieldList.toArray(new Field[fieldList.size()])));","title":"java MongoTemplate aggregate with project nested document","body":"<pre><code>List&lt;String&gt; projectFieldSet = Arrays.asList(&quot;errors.category&quot;,&quot;errors.priority&quot;);\nList&lt;Field&gt; fieldList = projectFields.stream().map(f-&gt;{return Fields.field(f,f);}).collect(Collectors.toList());        \nProjectionOperation projectAggOp = Aggregation.project(Fields.from(fieldList.toArray(new Field[fieldList.size()])));\n</code></pre>\n"}],"owner":{"account_id":20017385,"reputation":122,"user_id":14673069,"display_name":"wtyork"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1053,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71467532,"answer_count":3,"score":2,"last_activity_date":1668687317,"creation_date":1647247204,"question_id":71464951,"body_markdown":"I have a document.\r\n\r\n    {\r\n\t&quot;errors&quot; : [\r\n\t\t{\r\n\t\t\t&quot;priority&quot; : 3,\r\n\t\t\t&quot;category&quot; : &quot;aaa&quot;\r\n\t\t\t&quot;other&quot;:&quot;nothing&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;priority&quot; : 4,\r\n\t\t\t&quot;category&quot; : &quot;bbb&quot;\r\n\t\t\t&quot;other&quot;:&quot;nothing&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;priority&quot; : 2,\r\n\t\t\t&quot;category&quot; : &quot;ccc&quot;\r\n\t\t\t&quot;other&quot;:&quot;nothing&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;priority&quot; : 3,\r\n\t\t\t&quot;category&quot; : &quot;ddd&quot;\r\n\t\t\t&quot;other&quot;:&quot;nothing&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;priority&quot; : 2,\r\n\t\t\t&quot;category&quot; : &quot;eee&quot;\r\n\t\t\t&quot;other&quot;:&quot;nothing&quot;\r\n\t\t}\r\n\t\t],\r\n\t&quot;file_name&quot; : &quot;xxx.json&quot;,\r\n\t&quot;vehicle_id&quot; : &quot;esdf&quot;,\r\n\t&quot;day&quot; : &quot;2022-03-08&quot;\r\n    }\r\n\r\nI execute a command with js client.\r\n\r\n    db.wty_test.aggregate({\r\n        $project: {\r\n            &#39;_id&#39;: 0, &#39;errors.priority&#39;: 1, &#39;errors.category&#39;: 1, &#39;file_name&#39;: 1, &#39;vehicle_id&#39;: 1,\r\n        }\r\n    })\r\n\r\nI get the result I want.[![enter image description here][1]][1]\r\nThe errors is an array containing objects.\r\n\r\nNow I need to overwrite this command with java client(springboot-data-mongo).  This is my java code.\r\n\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n    ...\r\n    Aggregation aggregation = Aggregation.newAggregation(Aggregation.project(&quot;errors.priority&quot;, &quot;errors.category&quot;, &quot;file_name&quot;, &quot;vehicle_id&quot;));\r\n    mongoTemplate.aggregate(aggregation, &quot;wty_test&quot;, HashMap.class).getMappedResults();\r\n\r\n[![enter image description here][2]][2]\r\nThe priority and category is not in errors.\r\n\r\n**How to use java to get the same result as js?**\r\n\r\nI try the nested.But it&#39;s not what I want.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n---\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bN2ux.png\r\n  [2]: https://i.stack.imgur.com/OEWlj.png\r\n  [3]: https://i.stack.imgur.com/sNHKT.png\r\n  [4]: https://i.stack.imgur.com/EA2YA.png","title":"java MongoTemplate aggregate with project nested document","body":"<p>I have a document.</p>\n<pre><code>{\n&quot;errors&quot; : [\n    {\n        &quot;priority&quot; : 3,\n        &quot;category&quot; : &quot;aaa&quot;\n        &quot;other&quot;:&quot;nothing&quot;\n    },\n    {\n        &quot;priority&quot; : 4,\n        &quot;category&quot; : &quot;bbb&quot;\n        &quot;other&quot;:&quot;nothing&quot;\n    },\n    {\n        &quot;priority&quot; : 2,\n        &quot;category&quot; : &quot;ccc&quot;\n        &quot;other&quot;:&quot;nothing&quot;\n    },\n    {\n        &quot;priority&quot; : 3,\n        &quot;category&quot; : &quot;ddd&quot;\n        &quot;other&quot;:&quot;nothing&quot;\n    },\n    {\n        &quot;priority&quot; : 2,\n        &quot;category&quot; : &quot;eee&quot;\n        &quot;other&quot;:&quot;nothing&quot;\n    }\n    ],\n&quot;file_name&quot; : &quot;xxx.json&quot;,\n&quot;vehicle_id&quot; : &quot;esdf&quot;,\n&quot;day&quot; : &quot;2022-03-08&quot;\n}\n</code></pre>\n<p>I execute a command with js client.</p>\n<pre><code>db.wty_test.aggregate({\n    $project: {\n        '_id': 0, 'errors.priority': 1, 'errors.category': 1, 'file_name': 1, 'vehicle_id': 1,\n    }\n})\n</code></pre>\n<p>I get the result I want.<a href=\"https://i.stack.imgur.com/bN2ux.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bN2ux.png\" alt=\"enter image description here\" /></a>\nThe errors is an array containing objects.</p>\n<p>Now I need to overwrite this command with java client(springboot-data-mongo).  This is my java code.</p>\n<pre><code>import org.springframework.data.mongodb.core.MongoTemplate;\n...\nAggregation aggregation = Aggregation.newAggregation(Aggregation.project(&quot;errors.priority&quot;, &quot;errors.category&quot;, &quot;file_name&quot;, &quot;vehicle_id&quot;));\nmongoTemplate.aggregate(aggregation, &quot;wty_test&quot;, HashMap.class).getMappedResults();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OEWlj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OEWlj.png\" alt=\"enter image description here\" /></a>\nThe priority and category is not in errors.</p>\n<p><strong>How to use java to get the same result as js?</strong></p>\n<p>I try the nested.But it's not what I want.</p>\n<p><a href=\"https://i.stack.imgur.com/sNHKT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sNHKT.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/EA2YA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EA2YA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swt","jface"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1668600079,"post_id":74459686,"comment_id":131443568,"body_markdown":"`org.eclipse.jface.window.Window` is [tag:jface] not basic SWT. If you are writing a SWT only app you can&#39;t use it. There two `Dialog` classes - there is `org.eclipse.swt.Dialog`, and `org.eclipse.jface.dialogs.Dialog` - which one are you asking about.","body":"<code>org.eclipse.jface.window.Window</code> is <a href=\"https://stackoverflow.com/questions/tagged/jface\">jface</a> not basic SWT. If you are writing a SWT only app you can&#39;t use it. There two <code>Dialog</code> classes - there is <code>org.eclipse.swt.Dialog</code>, and <code>org.eclipse.jface.dialogs.Dialog</code> - which one are you asking about."},{"owner":{"account_id":16424554,"reputation":145,"user_id":11864960,"display_name":"Praveen Balasubramaniam"},"score":0,"creation_date":1668667401,"post_id":74459686,"comment_id":131462484,"body_markdown":"Hi Greg, the doubt is when to use org.eclipse.jface.dialogs.Dialog or org.eclipse.jface.window.Window ?","body":"Hi Greg, the doubt is when to use org.eclipse.jface.dialogs.Dialog or org.eclipse.jface.window.Window ?"}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668685113,"creation_date":1668685113,"answer_id":74474831,"question_id":74459686,"body_markdown":"`org.eclipse.jface.window.Window` just gives you a window with no special contents. \r\n\r\n`org.eclipse.jface.dialogs.Dialog` (which extends Window) is intended for dialogs and by default creates OK and Cancel buttons. Also by default it is &quot;application modal&quot; so everything else is blocked while it is open. Most parts of the dialog&#39;s behaviour can be overridden.\r\n","title":"SWT : What are the differences between Dialog and Window and when should one use which?","body":"<p><code>org.eclipse.jface.window.Window</code> just gives you a window with no special contents.</p>\n<p><code>org.eclipse.jface.dialogs.Dialog</code> (which extends Window) is intended for dialogs and by default creates OK and Cancel buttons. Also by default it is &quot;application modal&quot; so everything else is blocked while it is open. Most parts of the dialog's behaviour can be overridden.</p>\n"},{"tags":[],"owner":{"account_id":26960638,"reputation":11,"user_id":20528365,"display_name":"KS47YV"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668687168,"creation_date":1668687168,"answer_id":74475272,"question_id":74459686,"body_markdown":"I agree with:\r\n\r\norg.eclipse.jface.window.Window just gives you a window with no special contents.\r\n\r\norg.eclipse.jface.dialogs.Dialog (which extends Window) is intended for dialogs and by default creates OK and Cancel buttons. Also by default it is &quot;application modal&quot; so everything else is blocked while it is open. Most parts of the dialog&#39;s behaviour can be overridden.\r\n\r\nI think windows are particularly useful when you want to create your own custom output display. Dialogs are usually used when you want input from a user or when you want to display something like an error message. The fact that a dialog comes with OK and Cancel buttons means that it is easy to use and it is a fast solution whereas windows can do the same but they require more effort to be created and implemented. \r\n\r\n","title":"SWT : What are the differences between Dialog and Window and when should one use which?","body":"<p>I agree with:</p>\n<p>org.eclipse.jface.window.Window just gives you a window with no special contents.</p>\n<p>org.eclipse.jface.dialogs.Dialog (which extends Window) is intended for dialogs and by default creates OK and Cancel buttons. Also by default it is &quot;application modal&quot; so everything else is blocked while it is open. Most parts of the dialog's behaviour can be overridden.</p>\n<p>I think windows are particularly useful when you want to create your own custom output display. Dialogs are usually used when you want input from a user or when you want to display something like an error message. The fact that a dialog comes with OK and Cancel buttons means that it is easy to use and it is a fast solution whereas windows can do the same but they require more effort to be created and implemented.</p>\n"}],"owner":{"account_id":16424554,"reputation":145,"user_id":11864960,"display_name":"Praveen Balasubramaniam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668687168,"creation_date":1668598073,"question_id":74459686,"body_markdown":"Not sure about which one to use when and their differences\r\n\r\nI tried browsing the internet but didn&#39;t get any answer","title":"SWT : What are the differences between Dialog and Window and when should one use which?","body":"<p>Not sure about which one to use when and their differences</p>\n<p>I tried browsing the internet but didn't get any answer</p>\n"},{"tags":["java","list","jtextarea"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1668687035,"post_id":74475220,"comment_id":131469241,"body_markdown":"Then why not use an additional `JComponent` side-by-side of the editable one?","body":"Then why not use an additional <code>JComponent</code> side-by-side of the editable one?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668687291,"post_id":74475220,"comment_id":131469327,"body_markdown":"or print line by line and use String concatenation to add the  number to the front of the line","body":"or print line by line and use String concatenation to add the  number to the front of the line"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1668690313,"post_id":74475220,"comment_id":131470443,"body_markdown":"Instead of a single `JTextArea`, I&#39;d use a `JList` and list individual `JPanels` consisting of an edit disabled `JTextField` for the prefix and a `JTextArea` for the task.  Yes, this is more complicated to set up but more flexible.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"Instead of a single <code>JTextArea</code>, I&#39;d use a <code>JList</code> and list individual <code>JPanels</code> consisting of an edit disabled <code>JTextField</code> for the prefix and a <code>JTextArea</code> for the task.  Yes, this is more complicated to set up but more flexible.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1668694891,"post_id":74475220,"comment_id":131472443,"body_markdown":"Perhaps use Rob Camik&#39;s (@camikr) [TextLineNumber class](https://tips4java.wordpress.com/2009/05/23/text-component-line-number/).","body":"Perhaps use Rob Camik&#39;s (@camikr) <a href=\"https://tips4java.wordpress.com/2009/05/23/text-component-line-number/\" rel=\"nofollow noreferrer\">TextLineNumber class</a>."}],"owner":{"account_id":26960892,"reputation":1,"user_id":20528583,"display_name":"Arkadya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668686956,"creation_date":1668686956,"question_id":74475220,"body_markdown":"I am trying to make a program that automatically adds a set prefix on each line inputted in the JTextArea\r\n\r\nSo let&#39;s say the prefix I set in code is &quot;Step (#):&quot;, every line would be something like:\r\nStep 1: test item\r\nStep 2: test item 2\r\nStep 3: test item 3\r\n\r\nwhere the test items are inputted by the user. Preferrably the prefix is uneditable. Also curious if it was possible to automatically change the step number below incase a user makes a line break between steps.\r\n\r\nI have tried appending the step but cant figure out how to add step 2 on line break or even auto adjust. Also tried DocumentFilter but got nowhere with it.","title":"How to add a numbered prefix on each line in JTextArea","body":"<p>I am trying to make a program that automatically adds a set prefix on each line inputted in the JTextArea</p>\n<p>So let's say the prefix I set in code is &quot;Step (#):&quot;, every line would be something like:\nStep 1: test item\nStep 2: test item 2\nStep 3: test item 3</p>\n<p>where the test items are inputted by the user. Preferrably the prefix is uneditable. Also curious if it was possible to automatically change the step number below incase a user makes a line break between steps.</p>\n<p>I have tried appending the step but cant figure out how to add step 2 on line break or even auto adjust. Also tried DocumentFilter but got nowhere with it.</p>\n"},{"tags":["java","json","java-8","hashmap"],"answers":[{"comments":[{"owner":{"account_id":14194543,"reputation":361,"user_id":10254216,"display_name":"isilia"},"score":0,"creation_date":1668687481,"post_id":74475187,"comment_id":131469381,"body_markdown":"..thanks for the explanation and it compiles now but still I am not able to get my data that is desired. Its showing empty values","body":"..thanks for the explanation and it compiles now but still I am not able to get my data that is desired. Its showing empty values"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668686803,"creation_date":1668686803,"answer_id":74475187,"question_id":74474763,"body_markdown":"The *Keys* and *Values* of the source map `Map&lt;?, ?&gt;` belong to so-called *unknown type* `?`. Therefore, they can&#39;t be treated other than as being of type `java.lang.Object`.\r\n\r\nIn order to treat the Value as a map, you need to apply casting `((Map&lt;?, ?&gt;) entry.getValue())`.\r\n\r\nThat how it would like:\r\n\r\n```\r\nMap&lt;?, ?&gt; result =  map.entrySet().stream().collect(\r\n    Collectors.toMap(\r\n        Map.Entry::getKey,\r\n        entry -&gt; ((Map&lt;?, ?&gt;) entry.getValue())\r\n            .entrySet().stream()\r\n            .filter(subEntry -&gt; subEntry.getValue().equals(true))\r\n            .collect(Collectors.toMap(\r\n                Map.Entry::getKey,\r\n                Map.Entry::getValue\r\n        ))\r\n    ));\r\n```\r\n\r\n***Note:** although this code would compile, it&#39;s still can fail at Runtime. It would be both **safer** and **cleaner** to use either Jackson&#39;s streaming API or data-binding, then dial with a `Map&lt;?,?&gt;` and operate via type casts.*","title":"Filtering through nested map without disrupting the structure of outer map","body":"<p>The <em>Keys</em> and <em>Values</em> of the source map <code>Map&lt;?, ?&gt;</code> belong to so-called <em>unknown type</em> <code>?</code>. Therefore, they can't be treated other than as being of type <code>java.lang.Object</code>.</p>\n<p>In order to treat the Value as a map, you need to apply casting <code>((Map&lt;?, ?&gt;) entry.getValue())</code>.</p>\n<p>That how it would like:</p>\n<pre><code>Map&lt;?, ?&gt; result =  map.entrySet().stream().collect(\n    Collectors.toMap(\n        Map.Entry::getKey,\n        entry -&gt; ((Map&lt;?, ?&gt;) entry.getValue())\n            .entrySet().stream()\n            .filter(subEntry -&gt; subEntry.getValue().equals(true))\n            .collect(Collectors.toMap(\n                Map.Entry::getKey,\n                Map.Entry::getValue\n        ))\n    ));\n</code></pre>\n<p><em><strong>Note:</strong> although this code would compile, it's still can fail at Runtime. It would be both <strong>safer</strong> and <strong>cleaner</strong> to use either Jackson's streaming API or data-binding, then dial with a <code>Map&lt;?,?&gt;</code> and operate via type casts.</em></p>\n"}],"owner":{"account_id":14194543,"reputation":361,"user_id":10254216,"display_name":"isilia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668686803,"creation_date":1668684826,"question_id":74474763,"body_markdown":"I am trying to write a program to filter hit movies from a json file.\r\nBut I am not able to go deep level to get the desired result.\r\n\r\nSample Json contents\r\n\r\n```\r\n{\r\n    &quot;Bollywood&quot;: {\r\n        &quot;Romance&quot;: {\r\n            &quot;hit&quot;: false,\r\n            &quot;name&quot;: &quot;Prithvi Raj&quot;\r\n        },\r\n        &quot;Action&quot;: {\r\n            &quot;hit&quot;: true,\r\n            &quot;name&quot;: &quot;3 Idiots&quot;\r\n        }\r\n\r\n\r\n     },\r\n\r\n&quot;Hollywood&quot;: {\r\n        &quot;Romance&quot;: {\r\n            &quot;hit&quot;: false,\r\n            &quot;name&quot;: &quot;Intimacy&quot;\r\n        },\r\n        &quot;Action&quot;: {\r\n            &quot;hit&quot;: true,\r\n            &quot;name&quot;: &quot;Seven Samurai&quot;\r\n        }\r\n\r\n\r\n     }\r\n\r\n\r\n     }\r\n\r\n```\r\n\r\nBelow is the code that I wrote using jackson json parser.\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.StringWriter;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\n\r\n\r\npublic class TestJson\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\ttry {\r\n    // create object mapper instance\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\r\n    // convert JSON file to map\r\n    Map&lt;?, ?&gt; map = mapper.readValue(Paths.get(&quot;movie.json&quot;).toFile(), Map.class);\r\n\r\n    \r\n\t\r\n\t\r\n\t\r\n\t//map = map.entrySet().stream().filter(x -&gt; x.getKey().equals(&quot;Bollywood&quot;)).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\nmap =  map.entrySet().stream().collect(\r\n                Collectors.toMap(\r\n                        Map.Entry::getKey,\r\n                        entry -&gt; entry.getValue()\r\n                           .entrySet()\r\n                           .stream()\r\n                           .filter(subEntry -&gt; subEntry.getValue().equals(true))\r\n                           .collect(Collectors.toMap(Map.Entry::getKey,\r\n                                 Map.Entry::getValue)))\r\n                        );\r\n\t\r\n\t\r\n\tmap.forEach((k,v) -&gt; System.out.println(&quot;Key : &quot; + k + &quot;, Value : &quot; + v));\r\n\t\t\r\n\r\n} catch (Exception ex) {\r\n    ex.printStackTrace();\r\n}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe above code is giving me below error.\r\n\r\n```\r\nTestJson.java:46: error: cannot find symbol\r\n                           .entrySet()\r\n                           ^\r\n  symbol:   method entrySet()\r\n  location: class Object\r\nTestJson.java:49: error: incompatible types: cannot infer type-variable(s) T,K#1,U\r\n                           .collect(Collectors.toMap(Map.Entry::getKey,\r\n                                                    ^\r\n    (argument mismatch; invalid method reference\r\n      method getKey in interface Entry&lt;K#2,V&gt; cannot be applied to given types\r\n        required: no arguments\r\n        found:    Object\r\n        reason: actual and formal argument lists differ in length)\r\n  where T,K#1,U,K#2,V are type-variables:\r\n    T extends Object declared in method &lt;T,K#1,U&gt;toMap(Function&lt;? super T,? extends K#1&gt;,Function&lt;? super T,? extends U&gt;)\r\n    K#1 extends Object declared in method &lt;T,K#1,U&gt;toMap(Function&lt;? super T,? extends K#1&gt;,Function&lt;? super T,? extends U&gt;)\r\n    U extends Object declared in method &lt;T,K#1,U&gt;toMap(Function&lt;? super T,? extends K#1&gt;,Function&lt;? super T,? extends U&gt;)\r\n    K#2 extends Object declared in interface Entry\r\n    V extends Object declared in interface Entry\r\n2 errors\r\n\r\n```\r\n\r\nI want below desired output as a Map. The basic idea is to keep the json structure intact and get movies whose hit value is true. Please help to provide some hint or any workable solution if possible  \r\n\r\n```\r\n{\r\n    &quot;Bollywood&quot;: {\r\n        \r\n        &quot;Action&quot;: {\r\n            &quot;hit&quot;: true,\r\n            &quot;name&quot;: &quot;3 Idiots&quot;\r\n        }\r\n\r\n\r\n     },\r\n\r\n&quot;Hollywood&quot;: {\r\n        \r\n        &quot;Action&quot;: {\r\n            &quot;hit&quot;: true,\r\n            &quot;name&quot;: &quot;Seven Samurai&quot;\r\n        }\r\n\r\n\r\n     }\r\n\r\n\r\n     }\r\n\r\n```","title":"Filtering through nested map without disrupting the structure of outer map","body":"<p>I am trying to write a program to filter hit movies from a json file.\nBut I am not able to go deep level to get the desired result.</p>\n<p>Sample Json contents</p>\n<pre><code>{\n    &quot;Bollywood&quot;: {\n        &quot;Romance&quot;: {\n            &quot;hit&quot;: false,\n            &quot;name&quot;: &quot;Prithvi Raj&quot;\n        },\n        &quot;Action&quot;: {\n            &quot;hit&quot;: true,\n            &quot;name&quot;: &quot;3 Idiots&quot;\n        }\n\n\n     },\n\n&quot;Hollywood&quot;: {\n        &quot;Romance&quot;: {\n            &quot;hit&quot;: false,\n            &quot;name&quot;: &quot;Intimacy&quot;\n        },\n        &quot;Action&quot;: {\n            &quot;hit&quot;: true,\n            &quot;name&quot;: &quot;Seven Samurai&quot;\n        }\n\n\n     }\n\n\n     }\n\n</code></pre>\n<p>Below is the code that I wrote using jackson json parser.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.io.StringWriter;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\n\n\npublic class TestJson\n{\n    public static void main(String[] args)\n    {\n        try {\n    // create object mapper instance\n    ObjectMapper mapper = new ObjectMapper();\n\n    // convert JSON file to map\n    Map&lt;?, ?&gt; map = mapper.readValue(Paths.get(&quot;movie.json&quot;).toFile(), Map.class);\n\n    \n    \n    \n    \n    //map = map.entrySet().stream().filter(x -&gt; x.getKey().equals(&quot;Bollywood&quot;)).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n\nmap =  map.entrySet().stream().collect(\n                Collectors.toMap(\n                        Map.Entry::getKey,\n                        entry -&gt; entry.getValue()\n                           .entrySet()\n                           .stream()\n                           .filter(subEntry -&gt; subEntry.getValue().equals(true))\n                           .collect(Collectors.toMap(Map.Entry::getKey,\n                                 Map.Entry::getValue)))\n                        );\n    \n    \n    map.forEach((k,v) -&gt; System.out.println(&quot;Key : &quot; + k + &quot;, Value : &quot; + v));\n        \n\n} catch (Exception ex) {\n    ex.printStackTrace();\n}\n    }\n}\n\n</code></pre>\n<p>The above code is giving me below error.</p>\n<pre><code>TestJson.java:46: error: cannot find symbol\n                           .entrySet()\n                           ^\n  symbol:   method entrySet()\n  location: class Object\nTestJson.java:49: error: incompatible types: cannot infer type-variable(s) T,K#1,U\n                           .collect(Collectors.toMap(Map.Entry::getKey,\n                                                    ^\n    (argument mismatch; invalid method reference\n      method getKey in interface Entry&lt;K#2,V&gt; cannot be applied to given types\n        required: no arguments\n        found:    Object\n        reason: actual and formal argument lists differ in length)\n  where T,K#1,U,K#2,V are type-variables:\n    T extends Object declared in method &lt;T,K#1,U&gt;toMap(Function&lt;? super T,? extends K#1&gt;,Function&lt;? super T,? extends U&gt;)\n    K#1 extends Object declared in method &lt;T,K#1,U&gt;toMap(Function&lt;? super T,? extends K#1&gt;,Function&lt;? super T,? extends U&gt;)\n    U extends Object declared in method &lt;T,K#1,U&gt;toMap(Function&lt;? super T,? extends K#1&gt;,Function&lt;? super T,? extends U&gt;)\n    K#2 extends Object declared in interface Entry\n    V extends Object declared in interface Entry\n2 errors\n\n</code></pre>\n<p>I want below desired output as a Map. The basic idea is to keep the json structure intact and get movies whose hit value is true. Please help to provide some hint or any workable solution if possible</p>\n<pre><code>{\n    &quot;Bollywood&quot;: {\n        \n        &quot;Action&quot;: {\n            &quot;hit&quot;: true,\n            &quot;name&quot;: &quot;3 Idiots&quot;\n        }\n\n\n     },\n\n&quot;Hollywood&quot;: {\n        \n        &quot;Action&quot;: {\n            &quot;hit&quot;: true,\n            &quot;name&quot;: &quot;Seven Samurai&quot;\n        }\n\n\n     }\n\n\n     }\n\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito","powermockito"],"comments":[{"owner":{"account_id":16415077,"reputation":63,"user_id":11857423,"display_name":"Arunabha Ghosh"},"score":0,"creation_date":1692387427,"post_id":63391054,"comment_id":135621156,"body_markdown":"did you get any help on this? can you share how you did it?","body":"did you get any help on this? can you share how you did it?"}],"answers":[{"tags":[],"owner":{"account_id":2067193,"reputation":1380,"user_id":1842487,"display_name":"Saurav Kumar Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597307821,"creation_date":1597307821,"answer_id":63391250,"question_id":63391054,"body_markdown":"    KafkaAdminClient.create\r\n\r\nThis is a static function call, so you need to mock static function, You can use **powermockit** on top of **mockito** to mock static functions.\r\n\r\n[see this example][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/using-powermock-mock-static","title":"How to mock KafkaAdminClient","body":"<pre><code>KafkaAdminClient.create\n</code></pre>\n<p>This is a static function call, so you need to mock static function, You can use <strong>powermockit</strong> on top of <strong>mockito</strong> to mock static functions.</p>\n<p><a href=\"https://dzone.com/articles/using-powermock-mock-static\" rel=\"nofollow noreferrer\">see this example</a></p>\n"},{"tags":[],"owner":{"account_id":5081423,"reputation":51,"user_id":4910370,"display_name":"shalk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668686739,"creation_date":1668686739,"answer_id":74475179,"question_id":63391054,"body_markdown":"use [mockito-inline][1] can do this. need some trick\r\n\r\n\r\n```\r\n  @Test\r\n  public void mockCreateAdmin() {\r\n    AdminClient mock = mock(KafkaAdminClient.class);\r\n    try (MockedStatic&lt;Admin&gt; staticMock = mockStatic(Admin.class)) {\r\n      staticMock.when(() -&gt; Admin.create(any(Properties.class))).thenReturn(mock);\r\n      KafkaAdminClient adminClient = (KafkaAdminClient) KafkaAdminClient.create(new Properties());\r\n      // when\r\n      \r\n      // then\r\n      assertEquals(mock, adminClient);\r\n    }\r\n  }\r\n```\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/org.mockito/mockito-inline","title":"How to mock KafkaAdminClient","body":"<p>use <a href=\"https://search.maven.org/artifact/org.mockito/mockito-inline\" rel=\"nofollow noreferrer\">mockito-inline</a> can do this. need some trick</p>\n<pre><code>  @Test\n  public void mockCreateAdmin() {\n    AdminClient mock = mock(KafkaAdminClient.class);\n    try (MockedStatic&lt;Admin&gt; staticMock = mockStatic(Admin.class)) {\n      staticMock.when(() -&gt; Admin.create(any(Properties.class))).thenReturn(mock);\n      KafkaAdminClient adminClient = (KafkaAdminClient) KafkaAdminClient.create(new Properties());\n      // when\n      \n      // then\n      assertEquals(mock, adminClient);\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":6115119,"reputation":618,"user_id":4770397,"accept_rate":26,"display_name":"mayank bisht"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668686739,"creation_date":1597307108,"question_id":63391054,"body_markdown":"I am trying to do a unit test for the code below. I am able to test the exception block but unable to test the below block as I am getting an exception.\r\n\r\nHow can I mock or set values to the `ListTopicsResult topics = client.listTopics()`, so that the flow goes into the `if` block?\r\n\r\n&gt; `if(!topics.names.get().isEmpty()) { response  = true; }`\r\n\r\n    public boolean isBrokerRunning() {\r\n        boolean response = false;\r\n        Properties property = new Properties();\r\n        \r\n        try(AdminClient client = KafkaAdminClient.create(property)) {\r\n            ListTopicsResult topics = client.listTopics();\r\n            if(!topics.names.get().isEmpty()) {\r\n                response = true;\r\n            }\r\n        } catch(Exception ex) {\r\n            response = false;\r\n        }\r\n    }","title":"How to mock KafkaAdminClient","body":"<p>I am trying to do a unit test for the code below. I am able to test the exception block but unable to test the below block as I am getting an exception.</p>\n<p>How can I mock or set values to the <code>ListTopicsResult topics = client.listTopics()</code>, so that the flow goes into the <code>if</code> block?</p>\n<blockquote>\n<p><code>if(!topics.names.get().isEmpty()) { response  = true; }</code></p>\n</blockquote>\n<pre><code>public boolean isBrokerRunning() {\n    boolean response = false;\n    Properties property = new Properties();\n    \n    try(AdminClient client = KafkaAdminClient.create(property)) {\n        ListTopicsResult topics = client.listTopics();\n        if(!topics.names.get().isEmpty()) {\n            response = true;\n        }\n    } catch(Exception ex) {\n        response = false;\n    }\n}\n</code></pre>\n"},{"tags":["java","image","swing"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":2,"creation_date":1289526851,"post_id":4160904,"comment_id":4491872,"body_markdown":"s/public void main(String arg)/public **static** void main(String **[]** arg)","body":"s/public void main(String arg)/public <b>static</b> void main(String <b>[]</b> arg)"}],"answers":[{"tags":[],"owner":{"account_id":83469,"reputation":9224,"user_id":234009,"display_name":"robert_x44"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1289526040,"creation_date":1289526040,"answer_id":4160922,"question_id":4160904,"body_markdown":"Your main method should be:\r\n\r\n    public static void main(String[] args)","title":"Show .png image in a JFrame?","body":"<p>Your main method should be:</p>\n\n<pre><code>public static void main(String[] args)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1290116770,"post_id":4161036,"comment_id":4565672,"body_markdown":"RD was right, that the main method was incorrect but Leo Izen gets this answer because he provided all the code. This code didn&#39;t quite work though... you have to use this.setSize on the JFrame to get it to resize correctly. thanks anyway!  See my post below for the actual answer.","body":"RD was right, that the main method was incorrect but Leo Izen gets this answer because he provided all the code. This code didn&#39;t quite work though... you have to use this.setSize on the JFrame to get it to resize correctly. thanks anyway!  See my post below for the actual answer."},{"owner":{"account_id":178990,"reputation":4205,"user_id":411316,"accept_rate":100,"display_name":"Leo Izen"},"score":1,"creation_date":1295188294,"post_id":4161036,"comment_id":5194433,"body_markdown":"You could always use Frame.pack();","body":"You could always use Frame.pack();"}],"tags":[],"owner":{"account_id":178990,"reputation":4205,"user_id":411316,"accept_rate":100,"display_name":"Leo Izen"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1289527695,"creation_date":1289527695,"answer_id":4161036,"question_id":4160904,"body_markdown":"main needs to be static, and must have an argument of String[], not String.\r\n\r\nTo fix this stick everything in a constructor, such as  \r\n\r\n    import java.awt.*; \r\n    import javax.swing.*; \r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class ShowPNG extends JFrame\r\n    {    \r\n      private ShowPNG(String arg){\r\n          if (arg == null ) {\r\n            arg = &quot;C:/Eclipse/workspace/ShowPNG/bin/a.png&quot;;\r\n        }      \r\n        JPanel panel = new JPanel(); \r\n        panel.setSize(500,640);\r\n        panel.setBackground(Color.CYAN); \r\n        ImageIcon icon = new ImageIcon(arg); \r\n        JLabel label = new JLabel(); \r\n        label.setIcon(icon); \r\n        panel.add(label);\r\n        this.getContentPane().add(panel); \r\n      }\r\n      public static void main(String[] args) {\r\n          new ShowPNG(args.length == 0 ? null : args[0]).setVisible(true); \r\n      }\r\n    }\r\n","title":"Show .png image in a JFrame?","body":"<p>main needs to be static, and must have an argument of String[], not String.</p>\n\n<p>To fix this stick everything in a constructor, such as  </p>\n\n<pre><code>import java.awt.*; \nimport javax.swing.*; \n\n@SuppressWarnings(\"serial\")\npublic class ShowPNG extends JFrame\n{    \n  private ShowPNG(String arg){\n      if (arg == null ) {\n        arg = \"C:/Eclipse/workspace/ShowPNG/bin/a.png\";\n    }      \n    JPanel panel = new JPanel(); \n    panel.setSize(500,640);\n    panel.setBackground(Color.CYAN); \n    ImageIcon icon = new ImageIcon(arg); \n    JLabel label = new JLabel(); \n    label.setIcon(icon); \n    panel.add(label);\n    this.getContentPane().add(panel); \n  }\n  public static void main(String[] args) {\n      new ShowPNG(args.length == 0 ? null : args[0]).setVisible(true); \n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1357189891,"post_id":4219914,"comment_id":19568496,"body_markdown":"Change `this.setSize(500,640);\n..\n    this.getContentPane().add(panel);` for `.. this.getContentPane().add(panel); this.pack();`","body":"Change <code>this.setSize(500,640); ..     this.getContentPane().add(panel);</code> for <code>.. this.getContentPane().add(panel); this.pack();</code>"}],"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1290116847,"creation_date":1290116847,"answer_id":4219914,"question_id":4160904,"body_markdown":"This was the finished code:\r\n\r\n    import java.awt.*;  \r\n    import javax.swing.*;  \r\n     \r\n    @SuppressWarnings(&quot;serial&quot;) \r\n    public class ShowPNG extends JFrame {   \r\n      \r\n      public ShowPNG(String argx) { \r\n        if ( argx == null ) {\r\n          argx = &quot;a.png&quot;;\r\n     }   \r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \r\n     this.setSize(500,640);\r\n        JPanel panel = new JPanel();  \r\n        //panel.setSize(500,640);\r\n        panel.setBackground(Color.CYAN);  \r\n        ImageIcon icon = new ImageIcon(argx);  \r\n        JLabel label = new JLabel();  \r\n        label.setIcon(icon);  \r\n        panel.add(label); \r\n        this.getContentPane().add(panel);    \r\n      } \r\n      \r\n      public static void main(String[] args) { \r\n          new ShowPNG(args.length == 0 ? null : args[0]).setVisible(true);\r\n      } \r\n      \r\n    }\r\n\r\n","title":"Show .png image in a JFrame?","body":"<p>This was the finished code:</p>\n\n<pre><code>import java.awt.*;  \nimport javax.swing.*;  \n\n@SuppressWarnings(\"serial\") \npublic class ShowPNG extends JFrame {   \n\n  public ShowPNG(String argx) { \n    if ( argx == null ) {\n      argx = \"a.png\";\n }   \n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \n this.setSize(500,640);\n    JPanel panel = new JPanel();  \n    //panel.setSize(500,640);\n    panel.setBackground(Color.CYAN);  \n    ImageIcon icon = new ImageIcon(argx);  \n    JLabel label = new JLabel();  \n    label.setIcon(icon);  \n    panel.add(label); \n    this.getContentPane().add(panel);    \n  } \n\n  public static void main(String[] args) { \n      new ShowPNG(args.length == 0 ? null : args[0]).setVisible(true);\n  } \n\n}\n</code></pre>\n"}],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33532,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":4161036,"answer_count":3,"score":5,"last_activity_date":1668686340,"creation_date":1289525710,"question_id":4160904,"body_markdown":"I am a little stuck.  Why wont this work?  I just get a error saying:\n\n&gt; java.lang.NoSuchMethodError: main\n&gt;\n&gt; Exception in thread &quot;main&quot;\n\n\n    import java.awt.*; \n    import javax.swing.*; \n    \n    @SuppressWarnings(&quot;serial&quot;)\n    public class ShowPNG extends JFrame\n    {    \n    \n      public void main(String arg) \n      { \n        if (arg == null ) {\n            arg = &quot;C:/Eclipse/workspace/ShowPNG/bin/a.png&quot;;\n        }      \n        JPanel panel = new JPanel(); \n        panel.setSize(500,640);\n        panel.setBackground(Color.CYAN); \n        ImageIcon icon = new ImageIcon(arg); \n        JLabel label = new JLabel(); \n        label.setIcon(icon); \n        panel.add(label);\n        this.getContentPane().add(panel); \n        this.setVisible(true);\n      }\n      \n    }\n\n","title":"Show .png image in a JFrame?","body":"<p>I am a little stuck.  Why wont this work?  I just get a error saying:</p>\n<blockquote>\n<p>java.lang.NoSuchMethodError: main</p>\n<p>Exception in thread &quot;main&quot;</p>\n</blockquote>\n<pre><code>import java.awt.*; \nimport javax.swing.*; \n\n@SuppressWarnings(&quot;serial&quot;)\npublic class ShowPNG extends JFrame\n{    \n\n  public void main(String arg) \n  { \n    if (arg == null ) {\n        arg = &quot;C:/Eclipse/workspace/ShowPNG/bin/a.png&quot;;\n    }      \n    JPanel panel = new JPanel(); \n    panel.setSize(500,640);\n    panel.setBackground(Color.CYAN); \n    ImageIcon icon = new ImageIcon(arg); \n    JLabel label = new JLabel(); \n    label.setIcon(icon); \n    panel.add(label);\n    this.getContentPane().add(panel); \n    this.setVisible(true);\n  }\n  \n}\n</code></pre>\n"},{"tags":["java","string","find","unique"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1668639406,"post_id":74468204,"comment_id":131457856,"body_markdown":"Have you read the [documentation of `String.indexOf(int, int)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(int,int))? --- The code does not do what you say it does.","body":"Have you read the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(int,int)\" rel=\"nofollow noreferrer\">documentation of <code>String.indexOf(int, int)</code></a>? --- The code does not do what you say it does."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1668639803,"post_id":74468204,"comment_id":131457925,"body_markdown":"@Turing85: I&#39;m not convinced of that, actually.  It seems to look for a second `indexOf` the char, which would prove whether or not the `char` appears only once in the string.  I think it would work.","body":"@Turing85: I&#39;m not convinced of that, actually.  It seems to look for a second <code>indexOf</code> the char, which would prove whether or not the <code>char</code> appears only once in the string.  I think it would work."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668639861,"post_id":74468204,"comment_id":131457935,"body_markdown":"@LouisWasserman so why does it return `0` on the word `&quot;leetcode&quot;`, if there are non-unique characters in it? And why does it return `3` on `&quot;leelcode&quot;`?","body":"@LouisWasserman so why does it return <code>0</code> on the word <code>&quot;leetcode&quot;</code>, if there are non-unique characters in it? And why does it return <code>3</code> on <code>&quot;leelcode&quot;</code>?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1668639886,"post_id":74468204,"comment_id":131457941,"body_markdown":"This code tries to find index of *first* unique character in string `s`. The condition can be expresses like &quot;if currently checked character has no more same characters *after its **first** occurrence*&quot;.","body":"This code tries to find index of <i>first</i> unique character in string <code>s</code>. The condition can be expresses like &quot;if currently checked character has no more same characters <i>after its <b>first</b> occurrence</i>&quot;."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1668639904,"post_id":74468204,"comment_id":131457944,"body_markdown":"If we are at index `i`, this means that we see `s.charAt(i)` for the first time. If this was not the case, and we saw same letter at index k &lt; i, we would have returned k. Thus `s.indexOf(s.charAt(i))` can be reduced to `i`, and entire condition to: `if (s.indexOf(s.charAt(i), i + 1) == -1)` =&gt; we check if there is character `s.charAt(i)` starting from position `i + 1` =&gt; if there is none, we found index of non-repeating character","body":"If we are at index <code>i</code>, this means that we see <code>s.charAt(i)</code> for the first time. If this was not the case, and we saw same letter at index k &lt; i, we would have returned k. Thus <code>s.indexOf(s.charAt(i))</code> can be reduced to <code>i</code>, and entire condition to: <code>if (s.indexOf(s.charAt(i), i + 1) == -1)</code> =&gt; we check if there is character <code>s.charAt(i)</code> starting from position <code>i + 1</code> =&gt; if there is none, we found index of non-repeating character"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1668639954,"post_id":74468204,"comment_id":131457955,"body_markdown":"@Turing85: For &quot;leetcode&quot;, it successfully prints 0, which is the _index_ of the first unique character.  It does incorrectly match on `leelcode`, it&#39;s true, though.","body":"@Turing85: For &quot;leetcode&quot;, it successfully prints 0, which is the <i>index</i> of the first unique character.  It does incorrectly match on <code>leelcode</code>, it&#39;s true, though."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1668640008,"post_id":74468204,"comment_id":131457968,"body_markdown":"For `leelcode` it returns 4 which is index of `c`. Demo: https://ideone.com/b1qevc","body":"For <code>leelcode</code> it returns 4 which is index of <code>c</code>. Demo: <a href=\"https://ideone.com/b1qevc\" rel=\"nofollow noreferrer\">ideone.com/b1qevc</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668640193,"post_id":74468204,"comment_id":131458012,"body_markdown":"@Pshemo true that So it basically prints the index of the 1st unique character.","body":"@Pshemo true that So it basically prints the index of the 1st unique character."},{"owner":{"account_id":7324884,"reputation":1,"user_id":5579584,"display_name":"Bek150"},"score":0,"creation_date":1668640643,"post_id":74468204,"comment_id":131458095,"body_markdown":"The above code will return the index of the unique character. If there is no unique character return -1.","body":"The above code will return the index of the unique character. If there is no unique character return -1."}],"answers":[{"tags":[],"owner":{"account_id":8490654,"reputation":593,"user_id":6367109,"display_name":"Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668685270,"creation_date":1668685270,"answer_id":74474865,"question_id":74468204,"body_markdown":"For a rather verbose function like this, the best thing to do is break it down to the smallest possible computation (effectively).\r\n\r\nPlease refer to the following code snippet: \r\n\r\n```\r\npublic class App {\r\n\r\n    private static int unique(String s) {\r\n\r\n        /** The String (non-primitive) is an array of chars (primitive).\r\n         * So, it&#39;ll be iterated with a loop. S.length () is the length of the char array.\r\n         */\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n\r\n            /** This will return the char element of the index i -&gt; public char charAt(int index) */\r\n            char chatAtI = s.charAt(i);\r\n\r\n            /** Follow the println logs to see what&#39;s happening, or use a debugger on an IDE. */\r\n            System.out.println(&quot;chatAtI -&gt; &quot; + chatAtI);\r\n\r\n            /** Returns the index within this string of the first occurrence of the specified character\r\n             * or -1 if the character does not occur.\r\n             */\r\n            int charIndex = s.indexOf(chatAtI) + 1;\r\n            System.out.println(&quot;charIndex -&gt; &quot; + charIndex);\r\n\r\n            /** The indexOf() method returns the position of the first occurrence of a specified character(s) in a string.\r\n             * It&#39;s an overloaded method.\r\n             * In the if condition, you&#39;re also using the variant which [1] returns the index of the first char occurrence\r\n             * and [2] start the search at the specified index or -1 if the character does not exist.\r\n             * The moment a unique occurrence is found, it&#39;ll return the index;\r\n             * meaning - &quot;if the current char doesn&#39;t repeat in the char array, return its index and exit the method.&quot;\r\n             * Keep in mind the +1 above is what does the trick, as if that character doesn&#39;t repeat indexOf() returns -1.\r\n             */\r\n            if (s.indexOf(chatAtI, charIndex) == -1) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        /** l is the first unique occurrence. Therefore, its index, 0, is returned. */\r\n        System.out.println(unique(&quot;leetcode&quot;));\r\n    }\r\n}\r\n```\r\n\r\nArticles for further reading:\r\n\r\n[https://www.digitalocean.com/community/tutorials/java-char-to-string-to-char-array][1]\r\n[https://www.freecodecamp.org/news/charat-in-java-how-to-use-the-java-charat-method-2/][2]\r\n[https://www.geeksforgeeks.org/java-string-indexof/][3]\r\n\r\nI hope this made sense. If not, let me know, as I can edit the answer and give more context.\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/java-char-to-string-to-char-array\r\n  [2]: https://www.freecodecamp.org/news/charat-in-java-how-to-use-the-java-charat-method-2/\r\n  [3]: https://www.geeksforgeeks.org/java-string-indexof/","title":"How does if condition finds unique letter in the string?","body":"<p>For a rather verbose function like this, the best thing to do is break it down to the smallest possible computation (effectively).</p>\n<p>Please refer to the following code snippet:</p>\n<pre><code>public class App {\n\n    private static int unique(String s) {\n\n        /** The String (non-primitive) is an array of chars (primitive).\n         * So, it'll be iterated with a loop. S.length () is the length of the char array.\n         */\n        for (int i = 0; i &lt; s.length(); i++) {\n\n            /** This will return the char element of the index i -&gt; public char charAt(int index) */\n            char chatAtI = s.charAt(i);\n\n            /** Follow the println logs to see what's happening, or use a debugger on an IDE. */\n            System.out.println(&quot;chatAtI -&gt; &quot; + chatAtI);\n\n            /** Returns the index within this string of the first occurrence of the specified character\n             * or -1 if the character does not occur.\n             */\n            int charIndex = s.indexOf(chatAtI) + 1;\n            System.out.println(&quot;charIndex -&gt; &quot; + charIndex);\n\n            /** The indexOf() method returns the position of the first occurrence of a specified character(s) in a string.\n             * It's an overloaded method.\n             * In the if condition, you're also using the variant which [1] returns the index of the first char occurrence\n             * and [2] start the search at the specified index or -1 if the character does not exist.\n             * The moment a unique occurrence is found, it'll return the index;\n             * meaning - &quot;if the current char doesn't repeat in the char array, return its index and exit the method.&quot;\n             * Keep in mind the +1 above is what does the trick, as if that character doesn't repeat indexOf() returns -1.\n             */\n            if (s.indexOf(chatAtI, charIndex) == -1) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n\n    public static void main(String[] args) {\n        /** l is the first unique occurrence. Therefore, its index, 0, is returned. */\n        System.out.println(unique(&quot;leetcode&quot;));\n    }\n}\n</code></pre>\n<p>Articles for further reading:</p>\n<p><a href=\"https://www.digitalocean.com/community/tutorials/java-char-to-string-to-char-array\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/java-char-to-string-to-char-array</a>\n<a href=\"https://www.freecodecamp.org/news/charat-in-java-how-to-use-the-java-charat-method-2/\" rel=\"nofollow noreferrer\">https://www.freecodecamp.org/news/charat-in-java-how-to-use-the-java-charat-method-2/</a>\n<a href=\"https://www.geeksforgeeks.org/java-string-indexof/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/java-string-indexof/</a></p>\n<p>I hope this made sense. If not, let me know, as I can edit the answer and give more context.</p>\n"}],"owner":{"account_id":7324884,"reputation":1,"user_id":5579584,"display_name":"Bek150"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668685270,"creation_date":1668638995,"question_id":74468204,"body_markdown":"I am newbie here!!\r\n\r\nI am unable to understand how &quot;s.indexOf(s.charAt(i), s.indexOf(s.charAt(i)) + 1) == -1 &quot; \r\n       \r\nchecking for unique letter in the string. Below is the code,\r\n\r\n\r\n\r\n       String s = &quot;leetcode&quot;;\r\n       for (int i = 0; i &lt; s.length(); i++) {\r\n \r\n          if (s.indexOf(s.charAt(i), s.indexOf(s.charAt(i)) + 1) == -1) {\r\n              return i;\r\n          }\r\n       }\r\n      return -1;\r\n        \r\nThank you for your help!\r\n\r\nI am trying to find the unique character in the given string. I came across this code. I am trying to understand how it work!","title":"How does if condition finds unique letter in the string?","body":"<p>I am newbie here!!</p>\n<p>I am unable to understand how &quot;s.indexOf(s.charAt(i), s.indexOf(s.charAt(i)) + 1) == -1 &quot;</p>\n<p>checking for unique letter in the string. Below is the code,</p>\n<pre><code>   String s = &quot;leetcode&quot;;\n   for (int i = 0; i &lt; s.length(); i++) {\n\n      if (s.indexOf(s.charAt(i), s.indexOf(s.charAt(i)) + 1) == -1) {\n          return i;\n      }\n   }\n  return -1;\n    \n</code></pre>\n<p>Thank you for your help!</p>\n<p>I am trying to find the unique character in the given string. I came across this code. I am trying to understand how it work!</p>\n"},{"tags":["java","selenium","jenkins"],"comments":[{"owner":{"account_id":4340542,"reputation":3501,"user_id":3543861,"accept_rate":98,"display_name":"MSU_Bulldog"},"score":0,"creation_date":1447699999,"post_id":33742364,"comment_id":55253386,"body_markdown":"Please post some relevant code and show us what you have tried so far.","body":"Please post some relevant code and show us what you have tried so far."},{"owner":{"account_id":2624876,"reputation":995,"user_id":2272115,"accept_rate":75,"display_name":"Andrew Bocz Jr"},"score":0,"creation_date":1447700898,"post_id":33742364,"comment_id":55253889,"body_markdown":"Please post the code by editing your original question.","body":"Please post the code by editing your original question."},{"owner":{"account_id":7308923,"reputation":1,"user_id":5568879,"display_name":"Alex honda"},"score":0,"creation_date":1447701382,"post_id":33742364,"comment_id":55254177,"body_markdown":"Thanks for the heads-up guys. Jenkins stops right after the line with the System.out.print(user on), the next element can&#39;t be located in Jenkins :(.","body":"Thanks for the heads-up guys. Jenkins stops right after the line with the System.out.print(user on), the next element can&#39;t be located in Jenkins :(."},{"owner":{"account_id":2624876,"reputation":995,"user_id":2272115,"accept_rate":75,"display_name":"Andrew Bocz Jr"},"score":0,"creation_date":1447702263,"post_id":33742364,"comment_id":55254653,"body_markdown":"What is the exception thrown?","body":"What is the exception thrown?"},{"owner":{"account_id":7308923,"reputation":1,"user_id":5568879,"display_name":"Alex honda"},"score":0,"creation_date":1447703774,"post_id":33742364,"comment_id":55255574,"body_markdown":"It&#39;s for the Thread.sleep that I use","body":"It&#39;s for the Thread.sleep that I use"}],"answers":[{"tags":[],"owner":{"account_id":4046845,"reputation":148,"user_id":3327823,"display_name":"Rakesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668684921,"creation_date":1668684921,"answer_id":74474782,"question_id":33742364,"body_markdown":"Firstly Google Blocks testexecutions on in its products say gmail or youtube. to  do this. enable Less Secure App Access and then try it out. also. to properly mimic the user behaviour pass user agents to via scripts. ","title":"Jenkins can&#39;t login on Google accounts from Selenium FireFox webdriver","body":"<p>Firstly Google Blocks testexecutions on in its products say gmail or youtube. to  do this. enable Less Secure App Access and then try it out. also. to properly mimic the user behaviour pass user agents to via scripts.</p>\n"}],"owner":{"account_id":7308923,"reputation":1,"user_id":5568879,"display_name":"Alex honda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668684921,"creation_date":1447699449,"question_id":33742364,"body_markdown":"I have a major problem which I can&#39;t find a fix for a few days. I made an automated test in Java which logins on Google Gmail. I integrated the test with Jenkins and when it runs it&#39;s get stucked when he has to enter the Password. So he enters the user credentials in the correct field, he clicks the next button but in the next screen where the Password field should be present, Jenkins doesn&#39;t see it. I tried to locate the element and see if it&#39;s present and nothing, It&#39;s like it doesn&#39;t actually doesn&#39;t reach that page.\r\nIf I run the test normal from Eclipse there are no issue present, the test runs well so the elements are identified properly.\r\n\r\nPlease help me, thanks\r\n\r\n    public static void sendEmail() throws InterruptedException{\r\n\t\tdriver.get(&quot;http://accounts.google.com&quot;);\r\n\t\tWebElement element2 = (new WebDriverWait(driver, 10))\r\n\t\t\t\t   .until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;Email&quot;)));\r\n\t\tSystem.out.println(&quot;email is present&quot;);\r\n\t\tdriver.findElement(By.id(&quot;Email&quot;)).sendKeys(&quot;my email@gmail.com&quot;);\r\n\t\tdriver.findElement(By.id(&quot;next&quot;)).click();\r\n\t\tThread.sleep(1000);\r\n\t\tSystem.out.println(&quot;user on&quot;);\r\n\t\t\r\n\t\tWebElement element = (new WebDriverWait(driver, 10))\r\n\t\t\t\t   .until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;Passwd&quot;)));\r\n\t\tSystem.out.println(&quot;Element is present&quot;);\r\n\t\tdriver.findElement(By.id(&quot;Passwd&quot;)).sendKeys(&quot;my pass&quot;);\r\n\t\tSystem.out.println(&quot;pass on&quot;);\r\n\t\tdriver.findElement(By.id(&quot;signIn&quot;)).click();\r\n\t\tSystem.out.println(&quot;clicked on sign on&quot;);","title":"Jenkins can&#39;t login on Google accounts from Selenium FireFox webdriver","body":"<p>I have a major problem which I can't find a fix for a few days. I made an automated test in Java which logins on Google Gmail. I integrated the test with Jenkins and when it runs it's get stucked when he has to enter the Password. So he enters the user credentials in the correct field, he clicks the next button but in the next screen where the Password field should be present, Jenkins doesn't see it. I tried to locate the element and see if it's present and nothing, It's like it doesn't actually doesn't reach that page.\nIf I run the test normal from Eclipse there are no issue present, the test runs well so the elements are identified properly.</p>\n\n<p>Please help me, thanks</p>\n\n<pre><code>public static void sendEmail() throws InterruptedException{\n    driver.get(\"http://accounts.google.com\");\n    WebElement element2 = (new WebDriverWait(driver, 10))\n               .until(ExpectedConditions.visibilityOfElementLocated(By.id(\"Email\")));\n    System.out.println(\"email is present\");\n    driver.findElement(By.id(\"Email\")).sendKeys(\"my email@gmail.com\");\n    driver.findElement(By.id(\"next\")).click();\n    Thread.sleep(1000);\n    System.out.println(\"user on\");\n\n    WebElement element = (new WebDriverWait(driver, 10))\n               .until(ExpectedConditions.visibilityOfElementLocated(By.id(\"Passwd\")));\n    System.out.println(\"Element is present\");\n    driver.findElement(By.id(\"Passwd\")).sendKeys(\"my pass\");\n    System.out.println(\"pass on\");\n    driver.findElement(By.id(\"signIn\")).click();\n    System.out.println(\"clicked on sign on\");\n</code></pre>\n"},{"tags":["java","html","jsp"],"comments":[{"owner":{"account_id":26054765,"reputation":1339,"user_id":19757319,"display_name":"Ankit"},"score":1,"creation_date":1668604035,"post_id":74460992,"comment_id":131445067,"body_markdown":"Where is `javascript` being used here?","body":"Where is <code>javascript</code> being used here?"},{"owner":{"account_id":30300,"reputation":250236,"user_id":82548,"accept_rate":85,"display_name":"David Thomas"},"score":0,"creation_date":1668604171,"post_id":74460992,"comment_id":131445120,"body_markdown":"A program, even if you call it a &#39;script,&#39; written in Java does not make that program JavaScript; the languages [tag:java] and [tag:javascript] are different languages entirely.","body":"A program, even if you call it a &#39;script,&#39; written in Java does not make that program JavaScript; the languages <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> and <a href=\"https://stackoverflow.com/questions/tagged/javascript\">javascript</a> are different languages entirely."},{"owner":{"account_id":19504668,"reputation":21,"user_id":14269959,"display_name":"Cheese"},"score":0,"creation_date":1668605358,"post_id":74460992,"comment_id":131445572,"body_markdown":"It was a mistake. I know there is a difference between javascript and java, thanks lads.","body":"It was a mistake. I know there is a difference between javascript and java, thanks lads."}],"answers":[{"tags":[],"owner":{"account_id":7657722,"reputation":174,"user_id":5803955,"display_name":"rhenesys"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668684857,"creation_date":1668684857,"answer_id":74474768,"question_id":74460992,"body_markdown":"Your loop seems to be broken. You should go with a loop considering following structure:\r\n\r\n    &lt;td&gt;\r\n      &lt;table&gt;\r\n        &lt;tbody&gt;\r\n          \r\n        \t&lt;tr&gt;&lt;td&gt;c1(obj1)&lt;/td&gt;&lt;/tr&gt;\r\n         \t &lt;tr&gt;&lt;td&gt;c1(obj2)&lt;/td&gt;&lt;/tr&gt;\r\n          \r\n        &lt;/tbody&gt;\r\n      &lt;/table&gt;\r\n      &lt;/td&gt;\r\n      \r\n      &lt;td&gt;\r\n      &lt;table&gt;\r\n        &lt;tbody&gt;\r\n          \r\n        \t&lt;tr&gt;&lt;td&gt;d1(obj1)&lt;/td&gt;&lt;/tr&gt;\r\n         \t &lt;tr&gt;&lt;td&gt;d1(obj2)&lt;/td&gt;&lt;/tr&gt;\r\n          \r\n        &lt;/tbody&gt;\r\n      &lt;/table&gt;\r\n      &lt;/td&gt;","title":"How to display a list of objects which contains a list of objects as a table?","body":"<p>Your loop seems to be broken. You should go with a loop considering following structure:</p>\n<pre><code>&lt;td&gt;\n  &lt;table&gt;\n    &lt;tbody&gt;\n      \n        &lt;tr&gt;&lt;td&gt;c1(obj1)&lt;/td&gt;&lt;/tr&gt;\n         &lt;tr&gt;&lt;td&gt;c1(obj2)&lt;/td&gt;&lt;/tr&gt;\n      \n    &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;/td&gt;\n  \n  &lt;td&gt;\n  &lt;table&gt;\n    &lt;tbody&gt;\n      \n        &lt;tr&gt;&lt;td&gt;d1(obj1)&lt;/td&gt;&lt;/tr&gt;\n         &lt;tr&gt;&lt;td&gt;d1(obj2)&lt;/td&gt;&lt;/tr&gt;\n      \n    &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;/td&gt;\n</code></pre>\n"}],"owner":{"account_id":19504668,"reputation":21,"user_id":14269959,"display_name":"Cheese"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668684857,"creation_date":1668603975,"question_id":74460992,"body_markdown":"I have 2 classes in java like this:\r\n\r\n    public class Class1{\r\n    \r\n    private String a;\r\n    private String b;\r\n    private List&lt;Class2&gt; list;\r\n    // Assume constructor, getter &amp; setters\r\n    }\r\n\r\n    public class Class2{\r\n    \r\n    private String c;\r\n    private String b;\r\n    // Assume constructor, getter &amp; setters\r\n    }\r\n\r\nAnd in my .jsp, I&#39;m trying something like this:\r\n\r\n    **&lt;table&gt;\r\n       &lt;tbody&gt;\r\n          &lt;tr&gt;\r\n            &lt;th&gt; col1 &lt;/th&gt;\r\n            &lt;th&gt; col2 &lt;/th&gt;\r\n            &lt;th&gt; col3 &lt;/th&gt;\r\n            &lt;th&gt; col4 &lt;/th&gt;\r\n           &lt;/tr&gt;\r\n          &lt;%\r\n           **List&lt;Class1&gt; list1 = // assume populated;**\r\n           for(int i = 0; i &lt; list1.size(); i++){\r\n                Class1 obj = list1.get(i);\r\n           %&gt;\r\n        &lt;tr&gt;\r\n               &lt;td&gt;&lt;%=obj.getA()%&gt;&lt;/td&gt;\r\n               &lt;td&gt;&lt;%=obj.getB()%&gt;&lt;/td&gt;\r\n               &lt;td&gt;\r\n                 &lt;table&gt;\r\n                     &lt;tbody&gt;\r\n             &lt;%\r\n              List&lt;Class2&gt; list2 = obj.getList();\r\n              for(int j = 0; j &lt; list2.size(); j++){\r\n                  Class2 obj2 = list2.get(j);\r\n             %&gt;\r\n                      &lt;tr&gt;\r\n                         &lt;td&gt;&lt;%=obj2.getC()%&gt;&lt;/td&gt;\r\n                         &lt;td&gt;&lt;%=obj2.getD()%&gt;&lt;/td&gt;\r\n                      &lt;/tr&gt;\r\n                  &lt;/tbody&gt;\r\n               &lt;/table&gt;\r\n           &lt;/td&gt;\r\n              &lt;%\r\n               }\r\n               %&gt;\r\n          &lt;/tr&gt;\r\n           &lt;%\r\n            }\r\n            %&gt;\r\n        &lt;/tbody&gt;\r\n     &lt;/table&gt;**\r\n\r\nWhat I&#39;m trying to achieve is to obtain a table that looks this one in the image:\r\n[![enter image description here][1]][1]\r\n \r\nBut what I obtain is something like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hTAFl.png\r\n  [2]: https://i.stack.imgur.com/rG5Lo.png\r\n\r\nThe problem is I can&#39;t place the table data under the right table head.\r\n\r\nIf I missed some info, please let me know.\r\n\r\nThanks.","title":"How to display a list of objects which contains a list of objects as a table?","body":"<p>I have 2 classes in java like this:</p>\n<pre><code>public class Class1{\n\nprivate String a;\nprivate String b;\nprivate List&lt;Class2&gt; list;\n// Assume constructor, getter &amp; setters\n}\n\npublic class Class2{\n\nprivate String c;\nprivate String b;\n// Assume constructor, getter &amp; setters\n}\n</code></pre>\n<p>And in my .jsp, I'm trying something like this:</p>\n<pre><code>**&lt;table&gt;\n   &lt;tbody&gt;\n      &lt;tr&gt;\n        &lt;th&gt; col1 &lt;/th&gt;\n        &lt;th&gt; col2 &lt;/th&gt;\n        &lt;th&gt; col3 &lt;/th&gt;\n        &lt;th&gt; col4 &lt;/th&gt;\n       &lt;/tr&gt;\n      &lt;%\n       **List&lt;Class1&gt; list1 = // assume populated;**\n       for(int i = 0; i &lt; list1.size(); i++){\n            Class1 obj = list1.get(i);\n       %&gt;\n    &lt;tr&gt;\n           &lt;td&gt;&lt;%=obj.getA()%&gt;&lt;/td&gt;\n           &lt;td&gt;&lt;%=obj.getB()%&gt;&lt;/td&gt;\n           &lt;td&gt;\n             &lt;table&gt;\n                 &lt;tbody&gt;\n         &lt;%\n          List&lt;Class2&gt; list2 = obj.getList();\n          for(int j = 0; j &lt; list2.size(); j++){\n              Class2 obj2 = list2.get(j);\n         %&gt;\n                  &lt;tr&gt;\n                     &lt;td&gt;&lt;%=obj2.getC()%&gt;&lt;/td&gt;\n                     &lt;td&gt;&lt;%=obj2.getD()%&gt;&lt;/td&gt;\n                  &lt;/tr&gt;\n              &lt;/tbody&gt;\n           &lt;/table&gt;\n       &lt;/td&gt;\n          &lt;%\n           }\n           %&gt;\n      &lt;/tr&gt;\n       &lt;%\n        }\n        %&gt;\n    &lt;/tbody&gt;\n &lt;/table&gt;**\n</code></pre>\n<p>What I'm trying to achieve is to obtain a table that looks this one in the image:\n<a href=\"https://i.stack.imgur.com/hTAFl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hTAFl.png\" alt=\"enter image description here\" /></a></p>\n<p>But what I obtain is something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/rG5Lo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rG5Lo.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem is I can't place the table data under the right table head.</p>\n<p>If I missed some info, please let me know.</p>\n<p>Thanks.</p>\n"},{"tags":["java","servlets","backend"],"comments":[{"owner":{"account_id":95134,"reputation":691,"user_id":259281,"accept_rate":27,"display_name":"pavithraCS"},"score":3,"creation_date":1649220210,"post_id":71761125,"comment_id":126817585,"body_markdown":"can you give the stacktrace?","body":"can you give the stacktrace?"}],"answers":[{"comments":[{"owner":{"account_id":22466079,"reputation":31,"user_id":16667208,"display_name":"popstick"},"score":0,"creation_date":1649221396,"post_id":71761168,"comment_id":126817761,"body_markdown":"How can I solve it?","body":"How can I solve it?"}],"tags":[],"owner":{"account_id":16888487,"reputation":16,"user_id":12212688,"display_name":"Praful Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649220374,"creation_date":1649220374,"answer_id":71761168,"question_id":71761125,"body_markdown":"it must be because &quot;gson.toJson(data);&quot; this statement returning a null object and you&#39;re trying to store it in string format.\r\nthat is why it giving you an error.\r\ntry investigate it.","title":"&quot;java.lang.NumberFormatException: Cannot parse null string &quot; why am I having this error?","body":"<p>it must be because &quot;gson.toJson(data);&quot; this statement returning a null object and you're trying to store it in string format.\nthat is why it giving you an error.\ntry investigate it.</p>\n"},{"tags":[],"owner":{"account_id":11626804,"reputation":33,"user_id":8516355,"display_name":"Erhan Kilic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649255278,"creation_date":1649227773,"answer_id":71762224,"question_id":71761125,"body_markdown":"It has to throws exception at the method\r\n\r\n    Integer.parseInt()\r\n\r\nTry to find why the below method returns null to String object.\r\n\r\n    req.getParameter(&quot;page&quot;) ","title":"&quot;java.lang.NumberFormatException: Cannot parse null string &quot; why am I having this error?","body":"<p>It has to throws exception at the method</p>\n<pre><code>Integer.parseInt()\n</code></pre>\n<p>Try to find why the below method returns null to String object.</p>\n<pre><code>req.getParameter(&quot;page&quot;) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":19101732,"reputation":21,"user_id":13949856,"display_name":"Saniya Javed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668684635,"creation_date":1668499947,"answer_id":74442396,"question_id":71761125,"body_markdown":"Dont apply `Integer.parseInt()` on `null` value thats why `NumberFormat Exception` is coming.\r\n\r\nYou can take reference from below snippet-\r\n\r\n    final Integer cfp = Objects.isNull(cfpNumber) \r\n    \r\n    Integer.valueOf(cfpNumber.getCfpNumber()) : null","title":"&quot;java.lang.NumberFormatException: Cannot parse null string &quot; why am I having this error?","body":"<p>Dont apply <code>Integer.parseInt()</code> on <code>null</code> value thats why <code>NumberFormat Exception</code> is coming.</p>\n<p>You can take reference from below snippet-</p>\n<pre><code>final Integer cfp = Objects.isNull(cfpNumber) \n\nInteger.valueOf(cfpNumber.getCfpNumber()) : null\n</code></pre>\n"}],"owner":{"account_id":22466079,"reputation":31,"user_id":16667208,"display_name":"popstick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71761168,"answer_count":3,"score":0,"last_activity_date":1668684635,"creation_date":1649219991,"question_id":71761125,"body_markdown":"    package HRCproject;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import java.util.ArrayList;\r\n\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n\r\n    import com.google.gson.Gson;\r\n\r\n    import HRCproject.pojo.*;\r\n\r\n    import HRCproject.JDBC_Connection ;\r\n    @WebServlet(&quot;/fetch&quot;)\r\n    public class fetch_sevelet extends HttpServlet {\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tpublic void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException, ServletException \r\n    {   \r\n\t\tres.setContentType(&quot;application/json&quot;);\r\n\t\tres.setCharacterEncoding(&quot;UTF-8&quot;);\r\n\t\tint max_rows = 500;\r\n\t\tPrintWriter out = res.getWriter();\r\n\t\tArrayList&lt;Invoice&gt; data = new ArrayList&lt;&gt;();\r\n        //get connection\r\n\t\ttry {\r\n\t\tClass.forName(JDBC_Connection.JDBC_DRIVER);\r\n\t\t}\r\n\t\tcatch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tConnection con = DriverManager.getConnection(JDBC_Connection.URL,JDBC_Connection.USER,JDBC_Connection.PASS);\r\n\t\t\tSystem.out.println(&quot;Connection Succesful&quot;);\r\n\t\t\t\r\n\t\t\tString pageInURL = req.getParameter(&quot;page&quot;);\r\n\t\t\tint page = Integer.parseInt(pageInURL) * max_rows;\r\n\t\t\t\r\n\r\n            // executing queries\r\n\t\t\tStatement stmt = con.createStatement();  \r\n            ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM winter_internship ORDER BY sl_no LIMIT &quot; + page); \r\n             \r\n            while (rs.next()) \r\n            {  \r\n     Invoice s = new Invoice();\r\n\t\t\t\t\r\n\t\t\t\ts.setSl_no(rs.getInt(&quot;sl_no&quot;));\r\n\t\t\t\ts.setBusiness_code(rs.getString(&quot;business_code&quot;));\r\n\t\t\t\ts.setCust_number(rs.getString(&quot;cust_number&quot;));\r\n\t\t\t\ts.setClear_date(rs.getString(&quot;clear_date&quot;));\r\n\t\t\t\ts.setBuisness_year(rs.getInt(&quot;buisness_year&quot;));\r\n\t\t\t\tString doc_id = rs.getString(&quot;doc_id&quot;);\r\n\t\t\t\tdoc_id.replace(&quot;0&quot;,&quot;&quot;);\r\n\t\t\t\ts.setDoc_id(doc_id);\r\n\t\t\t\ts.setPosting_date(rs.getDate(&quot;posting_date&quot;));\r\n\t\t\t\ts.setDue_in_date(rs.getDate(&quot;due_in_date&quot;));\r\n\t\t\t\ts.setBaseline_create_date(rs.getDate(&quot;baseline_create_date&quot;));\r\n\t\t\t\ts.setCust_payment_terms(rs.getString(&quot;cust_payment_terms&quot;));\r\n\t\t\t\ts.setInvoice_currency(rs.getString(&quot;invoice_currency&quot;));\r\n\t\t\t\ts.setDocument_type(rs.getString(&quot;document_type&quot;));\r\n\t\t\t\ts.setPosting_id(rs.getString(&quot;posting_id&quot;));\r\n\t\t\t\ts.setInvoice_id(rs.getInt(&quot;invoice_id&quot;));\r\n\t\t\t\ts.setTotal_open_amount(rs.getDouble(&quot;total_open_amount&quot;));\r\n\t\t\t\t\r\n\t\t\t\tdata.add(s);\r\n            } \r\n            Gson gson = new Gson();\r\n\t\t\tString invoices = gson.toJson(data);\r\n\t\t\tout.print(invoices);\r\n\t\t\t\r\n\t\t\tout.flush();\r\n            \r\n\t\t}\r\n\t\tcatch(SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tdoGet(request, response);\r\n\t}\r\n\t}\r\nWhy am I getting this error?\r\nI am trying to get data from the database and then get the as json file.\r\n\r\nI don&#39;t know where the error is there in the code if someone could help and figure out how to solve the problem.\r\nI have tried to replace the code in while clause with a different code which was working earlier so it seems there is not the problem in the while clause\r\n","title":"&quot;java.lang.NumberFormatException: Cannot parse null string &quot; why am I having this error?","body":"<pre><code>package HRCproject;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport com.google.gson.Gson;\n\nimport HRCproject.pojo.*;\n\nimport HRCproject.JDBC_Connection ;\n@WebServlet(&quot;/fetch&quot;)\npublic class fetch_sevelet extends HttpServlet {\n/**\n * \n */\nprivate static final long serialVersionUID = 1L;\n\npublic void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException, ServletException \n{   \n    res.setContentType(&quot;application/json&quot;);\n    res.setCharacterEncoding(&quot;UTF-8&quot;);\n    int max_rows = 500;\n    PrintWriter out = res.getWriter();\n    ArrayList&lt;Invoice&gt; data = new ArrayList&lt;&gt;();\n    //get connection\n    try {\n    Class.forName(JDBC_Connection.JDBC_DRIVER);\n    }\n    catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n    try {\n        Connection con = DriverManager.getConnection(JDBC_Connection.URL,JDBC_Connection.USER,JDBC_Connection.PASS);\n        System.out.println(&quot;Connection Succesful&quot;);\n        \n        String pageInURL = req.getParameter(&quot;page&quot;);\n        int page = Integer.parseInt(pageInURL) * max_rows;\n        \n\n        // executing queries\n        Statement stmt = con.createStatement();  \n        ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM winter_internship ORDER BY sl_no LIMIT &quot; + page); \n         \n        while (rs.next()) \n        {  \n Invoice s = new Invoice();\n            \n            s.setSl_no(rs.getInt(&quot;sl_no&quot;));\n            s.setBusiness_code(rs.getString(&quot;business_code&quot;));\n            s.setCust_number(rs.getString(&quot;cust_number&quot;));\n            s.setClear_date(rs.getString(&quot;clear_date&quot;));\n            s.setBuisness_year(rs.getInt(&quot;buisness_year&quot;));\n            String doc_id = rs.getString(&quot;doc_id&quot;);\n            doc_id.replace(&quot;0&quot;,&quot;&quot;);\n            s.setDoc_id(doc_id);\n            s.setPosting_date(rs.getDate(&quot;posting_date&quot;));\n            s.setDue_in_date(rs.getDate(&quot;due_in_date&quot;));\n            s.setBaseline_create_date(rs.getDate(&quot;baseline_create_date&quot;));\n            s.setCust_payment_terms(rs.getString(&quot;cust_payment_terms&quot;));\n            s.setInvoice_currency(rs.getString(&quot;invoice_currency&quot;));\n            s.setDocument_type(rs.getString(&quot;document_type&quot;));\n            s.setPosting_id(rs.getString(&quot;posting_id&quot;));\n            s.setInvoice_id(rs.getInt(&quot;invoice_id&quot;));\n            s.setTotal_open_amount(rs.getDouble(&quot;total_open_amount&quot;));\n            \n            data.add(s);\n        } \n        Gson gson = new Gson();\n        String invoices = gson.toJson(data);\n        out.print(invoices);\n        \n        out.flush();\n        \n    }\n    catch(SQLException e) {\n        e.printStackTrace();\n    }\n    catch(Exception e) {\n        e.printStackTrace();\n    }\n    \n}\nprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    // TODO Auto-generated method stub\n    doGet(request, response);\n}\n}\n</code></pre>\n<p>Why am I getting this error?\nI am trying to get data from the database and then get the as json file.</p>\n<p>I don't know where the error is there in the code if someone could help and figure out how to solve the problem.\nI have tried to replace the code in while clause with a different code which was working earlier so it seems there is not the problem in the while clause</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1668631864,"post_id":74466708,"comment_id":131455772,"body_markdown":"Hm, are you sure, this code is producing this XML? In your code the name of the root element is &quot;root&quot; and not &quot;dataset&quot;. And why do you create an element for each column value when you want an attribute instead? Could it be that you just copied a random piece of code from the internet without having any idea what it does?","body":"Hm, are you sure, this code is producing this XML? In your code the name of the root element is &quot;root&quot; and not &quot;dataset&quot;. And why do you create an element for each column value when you want an attribute instead? Could it be that you just copied a random piece of code from the internet without having any idea what it does?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1668634217,"post_id":74466708,"comment_id":131456437,"body_markdown":"You&#39;re creating elements where you should be creating attributes","body":"You&#39;re creating elements where you should be creating attributes"},{"owner":{"account_id":13356980,"reputation":1,"user_id":9640204,"display_name":"rx4i"},"score":0,"creation_date":1668680837,"post_id":74466708,"comment_id":131466997,"body_markdown":"thank you for your reply, i forget to update the file, it should be root, the second file with dataset is old but it is not my issue.","body":"thank you for your reply, i forget to update the file, it should be root, the second file with dataset is old but it is not my issue."},{"owner":{"account_id":13356980,"reputation":1,"user_id":9640204,"display_name":"rx4i"},"score":0,"creation_date":1668680883,"post_id":74466708,"comment_id":131467016,"body_markdown":"i meen what i&#39;m looking for is the right format for the xml,","body":"i meen what i&#39;m looking for is the right format for the xml,"}],"answers":[{"comments":[{"owner":{"account_id":13356980,"reputation":1,"user_id":9640204,"display_name":"rx4i"},"score":0,"creation_date":1668681077,"post_id":74470850,"comment_id":131467099,"body_markdown":"Thank you for your reply but even with Marshaller did not solve my issue and generate  the same format of XML. in adding, i want to create somthing general, i don&#39;t wanna put attribute values manually","body":"Thank you for your reply but even with Marshaller did not solve my issue and generate  the same format of XML. in adding, i want to create somthing general, i don&#39;t wanna put attribute values manually"}],"tags":[],"owner":{"account_id":17147721,"reputation":31,"user_id":12410336,"display_name":"Sach_IN"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668665157,"creation_date":1668665157,"answer_id":74470850,"question_id":74466708,"body_markdown":"The easy way of parsing this is by converting the CSV to an object of the POJO class. Using Marshaller in java you can convert it to XML directly. \r\n\r\nYes, I agree your problem is you are getting results as elements instead of attributes. It can be easily configured in the POJO class as below.\r\n\r\n`@XmlAttribute(name = &quot;&quot;)    @XmlRootElement(name = &quot;&quot;)    @XmlElement(name = &quot;&quot;)`\r\n\r\nReference - https://howtodoinjava.com/jaxb/marshaller-example/","title":"csv to xml properties using java","body":"<p>The easy way of parsing this is by converting the CSV to an object of the POJO class. Using Marshaller in java you can convert it to XML directly.</p>\n<p>Yes, I agree your problem is you are getting results as elements instead of attributes. It can be easily configured in the POJO class as below.</p>\n<p><code>@XmlAttribute(name = &quot;&quot;)    @XmlRootElement(name = &quot;&quot;)    @XmlElement(name = &quot;&quot;)</code></p>\n<p>Reference - <a href=\"https://howtodoinjava.com/jaxb/marshaller-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/jaxb/marshaller-example/</a></p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668684478,"creation_date":1668684478,"answer_id":74474686,"question_id":74466708,"body_markdown":"I would prefer an OO approach too, as in - create a POJO and then process it to xml, but if you want a pure file to file approach, you could do something like this:\r\n```\r\nimport java.io.File;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport org.w3c.dom.Attr;\r\nimport org.w3c.dom.Element;\r\nimport javax.xml.transform.stream.StreamResult;\r\n\r\nimport javax.xml.transform.Transformer;\r\nimport org.w3c.dom.Document;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\n\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.Source;\r\nimport javax.xml.transform.Result;\r\n\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.util.stream.Stream;\r\nimport java.util.List;\r\n\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class Csv2Xml {\r\n\r\n    private String[] headers;\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            new Csv2Xml().convertFile(args[0], args[1], &quot;\\\\s*,\\\\s*&quot;);\r\n        } catch (Throwable t) {\r\n            t.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void convertFile(String... args) {\r\n        try {\r\n            Document newDoc = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\r\n            // Root element\r\n            Element rootElement = newDoc.createElement(&quot;root&quot;);\r\n            newDoc.appendChild(rootElement);\r\n            List&lt;String&gt; lines = Files.readAllLines(Path.of(args[0]));\r\n            headers = lines.get(0).split(args[2]);\r\n            lines.stream().skip(1).map(line -&gt; line.split(args[2])).map(val -&gt; toRow(newDoc, val))\r\n                    .forEach(row -&gt; rootElement.appendChild(row));\r\n            // Save the document to the disk file\r\n            TransformerFactory tranFactory = TransformerFactory.newInstance();\r\n            Transformer aTransformer = tranFactory.newTransformer();\r\n            Source src = new DOMSource(newDoc);\r\n            Result result = new StreamResult(new File(args[1]));\r\n            aTransformer.transform(src, result);\r\n\r\n        } catch (Throwable t) {\r\n            t.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private Element toRow(Document newDoc, String[] s) {\r\n        Element row = newDoc.createElement(&quot;row&quot;);\r\n        AtomicInteger index = new AtomicInteger(0);\r\n        Stream.of(s).forEach(val -&gt; {\r\n            String attName = headers[index.getAndIncrement()];\r\n            attName = sanitizeAttributeName(attName);\r\n            Attr att = newDoc.createAttribute(attName);\r\n            att.setNodeValue(val);\r\n            row.setAttributeNode(att);\r\n        });\r\n\r\n        return row;\r\n    }\r\n\r\n    protected String sanitizeAttributeName(String attName) {\r\n        final String BAD_CHARS = &quot;[&lt;&gt;&amp;&#39;\\&quot;,#~@;^$&#163;()\\\\[\\\\]=]&quot;;\r\n        return attName.replaceAll(&quot; &quot;, &quot;_&quot;).replaceAll(BAD_CHARS, &quot;&quot;);\r\n    }\r\n\r\n}\r\n```","title":"csv to xml properties using java","body":"<p>I would prefer an OO approach too, as in - create a POJO and then process it to xml, but if you want a pure file to file approach, you could do something like this:</p>\n<pre><code>import java.io.File;\nimport javax.xml.transform.TransformerFactory;\nimport org.w3c.dom.Attr;\nimport org.w3c.dom.Element;\nimport javax.xml.transform.stream.StreamResult;\n\nimport javax.xml.transform.Transformer;\nimport org.w3c.dom.Document;\nimport javax.xml.parsers.DocumentBuilderFactory;\n\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.Source;\nimport javax.xml.transform.Result;\n\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.stream.Stream;\nimport java.util.List;\n\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class Csv2Xml {\n\n    private String[] headers;\n\n    public static void main(String[] args) {\n        try {\n            new Csv2Xml().convertFile(args[0], args[1], &quot;\\\\s*,\\\\s*&quot;);\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n\n    public void convertFile(String... args) {\n        try {\n            Document newDoc = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\n            // Root element\n            Element rootElement = newDoc.createElement(&quot;root&quot;);\n            newDoc.appendChild(rootElement);\n            List&lt;String&gt; lines = Files.readAllLines(Path.of(args[0]));\n            headers = lines.get(0).split(args[2]);\n            lines.stream().skip(1).map(line -&gt; line.split(args[2])).map(val -&gt; toRow(newDoc, val))\n                    .forEach(row -&gt; rootElement.appendChild(row));\n            // Save the document to the disk file\n            TransformerFactory tranFactory = TransformerFactory.newInstance();\n            Transformer aTransformer = tranFactory.newTransformer();\n            Source src = new DOMSource(newDoc);\n            Result result = new StreamResult(new File(args[1]));\n            aTransformer.transform(src, result);\n\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n\n    private Element toRow(Document newDoc, String[] s) {\n        Element row = newDoc.createElement(&quot;row&quot;);\n        AtomicInteger index = new AtomicInteger(0);\n        Stream.of(s).forEach(val -&gt; {\n            String attName = headers[index.getAndIncrement()];\n            attName = sanitizeAttributeName(attName);\n            Attr att = newDoc.createAttribute(attName);\n            att.setNodeValue(val);\n            row.setAttributeNode(att);\n        });\n\n        return row;\n    }\n\n    protected String sanitizeAttributeName(String attName) {\n        final String BAD_CHARS = &quot;[&lt;&gt;&amp;'\\&quot;,#~@;^$£()\\\\[\\\\]=]&quot;;\n        return attName.replaceAll(&quot; &quot;, &quot;_&quot;).replaceAll(BAD_CHARS, &quot;&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13356980,"reputation":1,"user_id":9640204,"display_name":"rx4i"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668684478,"creation_date":1668629905,"question_id":74466708,"body_markdown":"I have a set of CSV data to convert to XML file using Java.\r\n\r\nMy issue is that I need to convert it in special format like this (XML properties format):\r\n\r\n```\r\n?xml version=&quot;1.0&quot;?&gt;\r\n&lt;root&gt;\r\n    &lt;row col1=&quot;All&quot; Col2=&quot;0&quot; Col3=&quot;&quot; Col4=&quot;0&quot; Col5=&quot;0&quot;&gt;&lt;/row&gt;\r\n    &lt;row col1=&quot;All&quot; Col2=&quot;935&quot; Col3=&quot;231&quot; Col4=&quot;0&quot; Col5=&quot;30&quot;&gt;&lt;/row&gt;\r\n    &lt;row col1=&quot;None&quot; Col2=&quot;1011&quot; Col3=&quot;257&quot; Col4=&quot;0&quot; Col5=&quot;30&quot;&gt;&lt;/row&gt;\r\n    .\r\n    .\r\n    ...\r\n&lt;/root&gt;\r\n```\r\n\r\nThe function to convert my CSV dataset to XML is: \r\n\r\n```\r\npublic void convertFile(String csvFileName, String xmlFileName,\r\n\t      String delimiter) {\r\n\r\n\t    try {\r\n\t      Document newDoc = domBuilder.newDocument();\r\n\t      // Root element\r\n\t      Element rootElement = newDoc.createElement(&quot;root&quot;);\r\n\t      newDoc.appendChild(rootElement);\r\n\t      // Read csv file\r\n\t      BufferedReader csvReader;\r\n\t      csvReader = new BufferedReader(new FileReader(csvFileName));\r\n\t      int fieldCount = 0;\r\n\t      String[] csvFields = null;\r\n\t      StringTokenizer stringTokenizer = null;\r\n\r\n\t      String curLine = csvReader.readLine();\r\n\t      if (curLine != null) {\r\n\t        // how about other form of csv files?\r\n\t        stringTokenizer = new StringTokenizer(curLine, delimiter);\r\n\t        fieldCount = stringTokenizer.countTokens();\r\n\t        if (fieldCount &gt; 0) {\r\n\t          csvFields = new String[fieldCount];\r\n\t          int i = 0;\r\n\t          while (stringTokenizer.hasMoreElements())\r\n\t            csvFields[i++] = String.valueOf(stringTokenizer.nextElement());\r\n\t        }\r\n\t      }\r\n\r\n\t      while ((curLine = csvReader.readLine()) != null) {\r\n\t        stringTokenizer = new StringTokenizer(curLine, delimiter);\r\n\t        fieldCount = stringTokenizer.countTokens();\r\n\t        if (fieldCount &gt; 0) {\r\n\t          Element rowElement = newDoc.createElement(&quot;row&quot;);\r\n\t          int i = 0;\r\n\t          while (stringTokenizer.hasMoreElements()) {\r\n\t            try {\r\n\t              String curValue = String.valueOf(stringTokenizer.nextElement());\r\n\t              Element curElement = newDoc.createElement(csvFields[i++]);\r\n\t              curElement.appendChild(newDoc.createTextNode(curValue));\r\n\t              rowElement.appendChild(curElement);\r\n\t            } catch (Exception exp) {\r\n\t            }\r\n\t          }\r\n\t          rootElement.appendChild(rowElement);\r\n\r\n\t        }\r\n\t      }\r\n\t      csvReader.close();\r\n\r\n\t      // Save the document to the disk file\r\n\t      TransformerFactory tranFactory = TransformerFactory.newInstance();\r\n\t      Transformer aTransformer = tranFactory.newTransformer();\r\n\t      Source src = new DOMSource(newDoc);\r\n\t      Result result = new StreamResult(new File(xmlFileName));\r\n\t      aTransformer.transform(src, result);\r\n\r\n\t      // Output to console for testing\r\n\t      // Resultt result = new StreamResult(System.out);\r\n\r\n\t    } catch (IOException exp) {\r\n\t      System.err.println(exp.toString());\r\n\t    } catch (Exception exp) {\r\n\t      System.err.println(exp.toString());\r\n\t    }\r\n\r\n\t  }\r\n```\r\n\r\n\r\nBut the the generated XML file was this and it is not the format that I&#39;m looking for: \r\n\r\n```\r\n&lt;dataset&gt;\r\n\t&lt;row&gt;\r\n\t\t&lt;Col1&gt;All&lt;/Col1&gt;\r\n\t\t&lt;Col2&gt;0&lt;/Col2&gt;\r\n\t\t&lt;Col3&gt;&lt;/Col3&gt;\r\n\t\t&lt;Col4&gt;0&lt;/Col4&gt;\r\n\t\t&lt;Col5&gt;0&lt;/Col5&gt;\r\n\t&lt;/row&gt;\r\n\t&lt;row&gt;\r\n\t\t&lt;Col1&gt;All&lt;/Col1&gt;\r\n\t\t&lt;Col2&gt;935&lt;/Col2&gt;\r\n\t\t&lt;Col3&gt;231&lt;/Col3&gt;\r\n\t\t&lt;Col4&gt;0&lt;/Col4&gt;\r\n\t\t&lt;Col5&gt;30&lt;/Col5&gt;\r\n\t&lt;/row&gt;\r\n\t\t&lt;row&gt;\r\n\t\t&lt;Col1&gt;None&lt;/Col1&gt;\r\n\t\t&lt;Col2&gt;1011&lt;/Col2&gt;\r\n\t\t&lt;Col3&gt;257&lt;/Col3&gt;\r\n\t\t&lt;Col4&gt;0&lt;/Col4&gt;\r\n\t\t&lt;Col5&gt;30&lt;/Col5&gt;\r\n\t&lt;/row&gt;\r\n&lt;/dataset&gt;\r\n```\r\n\r\nCould you please help me ?\r\n","title":"csv to xml properties using java","body":"<p>I have a set of CSV data to convert to XML file using Java.</p>\n<p>My issue is that I need to convert it in special format like this (XML properties format):</p>\n<pre><code>?xml version=&quot;1.0&quot;?&gt;\n&lt;root&gt;\n    &lt;row col1=&quot;All&quot; Col2=&quot;0&quot; Col3=&quot;&quot; Col4=&quot;0&quot; Col5=&quot;0&quot;&gt;&lt;/row&gt;\n    &lt;row col1=&quot;All&quot; Col2=&quot;935&quot; Col3=&quot;231&quot; Col4=&quot;0&quot; Col5=&quot;30&quot;&gt;&lt;/row&gt;\n    &lt;row col1=&quot;None&quot; Col2=&quot;1011&quot; Col3=&quot;257&quot; Col4=&quot;0&quot; Col5=&quot;30&quot;&gt;&lt;/row&gt;\n    .\n    .\n    ...\n&lt;/root&gt;\n</code></pre>\n<p>The function to convert my CSV dataset to XML is:</p>\n<pre><code>public void convertFile(String csvFileName, String xmlFileName,\n          String delimiter) {\n\n        try {\n          Document newDoc = domBuilder.newDocument();\n          // Root element\n          Element rootElement = newDoc.createElement(&quot;root&quot;);\n          newDoc.appendChild(rootElement);\n          // Read csv file\n          BufferedReader csvReader;\n          csvReader = new BufferedReader(new FileReader(csvFileName));\n          int fieldCount = 0;\n          String[] csvFields = null;\n          StringTokenizer stringTokenizer = null;\n\n          String curLine = csvReader.readLine();\n          if (curLine != null) {\n            // how about other form of csv files?\n            stringTokenizer = new StringTokenizer(curLine, delimiter);\n            fieldCount = stringTokenizer.countTokens();\n            if (fieldCount &gt; 0) {\n              csvFields = new String[fieldCount];\n              int i = 0;\n              while (stringTokenizer.hasMoreElements())\n                csvFields[i++] = String.valueOf(stringTokenizer.nextElement());\n            }\n          }\n\n          while ((curLine = csvReader.readLine()) != null) {\n            stringTokenizer = new StringTokenizer(curLine, delimiter);\n            fieldCount = stringTokenizer.countTokens();\n            if (fieldCount &gt; 0) {\n              Element rowElement = newDoc.createElement(&quot;row&quot;);\n              int i = 0;\n              while (stringTokenizer.hasMoreElements()) {\n                try {\n                  String curValue = String.valueOf(stringTokenizer.nextElement());\n                  Element curElement = newDoc.createElement(csvFields[i++]);\n                  curElement.appendChild(newDoc.createTextNode(curValue));\n                  rowElement.appendChild(curElement);\n                } catch (Exception exp) {\n                }\n              }\n              rootElement.appendChild(rowElement);\n\n            }\n          }\n          csvReader.close();\n\n          // Save the document to the disk file\n          TransformerFactory tranFactory = TransformerFactory.newInstance();\n          Transformer aTransformer = tranFactory.newTransformer();\n          Source src = new DOMSource(newDoc);\n          Result result = new StreamResult(new File(xmlFileName));\n          aTransformer.transform(src, result);\n\n          // Output to console for testing\n          // Resultt result = new StreamResult(System.out);\n\n        } catch (IOException exp) {\n          System.err.println(exp.toString());\n        } catch (Exception exp) {\n          System.err.println(exp.toString());\n        }\n\n      }\n</code></pre>\n<p>But the the generated XML file was this and it is not the format that I'm looking for:</p>\n<pre><code>&lt;dataset&gt;\n    &lt;row&gt;\n        &lt;Col1&gt;All&lt;/Col1&gt;\n        &lt;Col2&gt;0&lt;/Col2&gt;\n        &lt;Col3&gt;&lt;/Col3&gt;\n        &lt;Col4&gt;0&lt;/Col4&gt;\n        &lt;Col5&gt;0&lt;/Col5&gt;\n    &lt;/row&gt;\n    &lt;row&gt;\n        &lt;Col1&gt;All&lt;/Col1&gt;\n        &lt;Col2&gt;935&lt;/Col2&gt;\n        &lt;Col3&gt;231&lt;/Col3&gt;\n        &lt;Col4&gt;0&lt;/Col4&gt;\n        &lt;Col5&gt;30&lt;/Col5&gt;\n    &lt;/row&gt;\n        &lt;row&gt;\n        &lt;Col1&gt;None&lt;/Col1&gt;\n        &lt;Col2&gt;1011&lt;/Col2&gt;\n        &lt;Col3&gt;257&lt;/Col3&gt;\n        &lt;Col4&gt;0&lt;/Col4&gt;\n        &lt;Col5&gt;30&lt;/Col5&gt;\n    &lt;/row&gt;\n&lt;/dataset&gt;\n</code></pre>\n<p>Could you please help me ?</p>\n"},{"tags":["java","dependency-injection","factory","micronaut","inject"],"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":0,"creation_date":1668684607,"post_id":74463464,"comment_id":131468360,"body_markdown":"Have you tried to qualify your list bean using an custom annotation instead the name? https://docs.micronaut.io/latest/guide/index.html#qualifiers","body":"Have you tried to qualify your list bean using an custom annotation instead the name? <a href=\"https://docs.micronaut.io/latest/guide/index.html#qualifiers\" rel=\"nofollow noreferrer\">docs.micronaut.io/latest/guide/index.html#qualifiers</a>"}],"owner":{"account_id":15623803,"reputation":25,"user_id":11271975,"display_name":"Semper_fi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668684291,"creation_date":1668613835,"question_id":74463464,"body_markdown":"I have been trying to inject this bean (below) and have created it in a @Factory class.\r\n```\r\n@Bean\r\n@Singleton\r\n@Named(&quot;dependencyPackagesBean&quot;)\r\nList&lt;String&gt; provideDependencyPackages(Config config) {\r\n    List&lt;String&gt; dependencies = new ArrayList&lt;&gt;();\r\n    dependencies.addAll(DEPENDENCY_PACKAGES);\r\n    dependencies.addAll(config.getDependencyPackagesOverrides());\r\n    return dependencies;\r\n}\r\n```\r\n\r\nAnd injecting it in a class as such:\r\n```\r\n@Inject\r\npublic JobManager(@Named(&quot;dependencyPackagesBean&quot;) List&lt;String&gt; dependencyPackages,\r\n                  Instrumentation instrumentation) {\r\n    this.dependencyPackages = dependencyPackages;\r\n    this.instrumentation = instrumentation;\r\n}\r\n```\r\nHowever, upon running the application, I see that everytime, an empty list gets injected. \r\n`DEPENDENCY_PACKAGES` is defined as:\r\n\r\n```java\r\npublic static final List&lt;String&gt; DEPENDENCY_PACKAGES = List.of(&quot;com.stuff&quot;);\r\n```\r\n\r\nIs it not possible to inject List&lt;String&gt; as a named bean, the way I have done it? If so, what is wrong with the way I have tried to inject it?\r\n\r\nUsing a wrapper class that contains the list I am trying to inject, creating a bean for that wrapper class and injecting and then using that injected object to fetch the list works. But wanted to understand what is wrong if I don&#39;t use a wrapper class and try to inject a named bean of a list of strings directly.","title":"Can we create a singleton bean of a list of strings in a micronaut application?","body":"<p>I have been trying to inject this bean (below) and have created it in a @Factory class.</p>\n<pre><code>@Bean\n@Singleton\n@Named(&quot;dependencyPackagesBean&quot;)\nList&lt;String&gt; provideDependencyPackages(Config config) {\n    List&lt;String&gt; dependencies = new ArrayList&lt;&gt;();\n    dependencies.addAll(DEPENDENCY_PACKAGES);\n    dependencies.addAll(config.getDependencyPackagesOverrides());\n    return dependencies;\n}\n</code></pre>\n<p>And injecting it in a class as such:</p>\n<pre><code>@Inject\npublic JobManager(@Named(&quot;dependencyPackagesBean&quot;) List&lt;String&gt; dependencyPackages,\n                  Instrumentation instrumentation) {\n    this.dependencyPackages = dependencyPackages;\n    this.instrumentation = instrumentation;\n}\n</code></pre>\n<p>However, upon running the application, I see that everytime, an empty list gets injected.\n<code>DEPENDENCY_PACKAGES</code> is defined as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final List&lt;String&gt; DEPENDENCY_PACKAGES = List.of(&quot;com.stuff&quot;);\n</code></pre>\n<p>Is it not possible to inject List as a named bean, the way I have done it? If so, what is wrong with the way I have tried to inject it?</p>\n<p>Using a wrapper class that contains the list I am trying to inject, creating a bean for that wrapper class and injecting and then using that injected object to fetch the list works. But wanted to understand what is wrong if I don't use a wrapper class and try to inject a named bean of a list of strings directly.</p>\n"},{"tags":["java","spring-boot","hibernate","rest","spring-mvc"],"comments":[{"owner":{"account_id":7641789,"reputation":762,"user_id":5793661,"display_name":"Dejazmach"},"score":0,"creation_date":1604247469,"post_id":64457496,"comment_id":114282578,"body_markdown":"Any update on this?","body":"Any update on this?"}],"answers":[{"tags":[],"owner":{"account_id":12618797,"reputation":33,"user_id":9175166,"display_name":"Alexander Kolinchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606322045,"creation_date":1606311784,"answer_id":65005910,"question_id":64457496,"body_markdown":"It seems I fixed the first kind of error (using `@EntityScan`, when there is \r\n\r\n&gt; Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean) because &quot;ao&quot; is null&quot;\r\n\r\nby replacing hibernate&#39;s bytecode provider from javassist to bytebuddy (placed `hibernate.bytecode.provider=bytebuddy` property to `hibernate.properties` file).","title":"Spring Boot Project &quot;org.springframework.beans.factory.BeanCreationException:Error creating bean with name &#39;entityManagerFactory&#39;&quot; ERROR","body":"<p>It seems I fixed the first kind of error (using <code>@EntityScan</code>, when there is</p>\n<blockquote>\n<p>Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean) because &quot;ao&quot; is null&quot;</p>\n</blockquote>\n<p>by replacing hibernate's bytecode provider from javassist to bytebuddy (placed <code>hibernate.bytecode.provider=bytebuddy</code> property to <code>hibernate.properties</code> file).</p>\n"},{"tags":[],"owner":{"account_id":6658534,"reputation":304,"user_id":5138313,"display_name":"Fatima Naik"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1608717249,"creation_date":1608717249,"answer_id":65422258,"question_id":64457496,"body_markdown":"by using the latest javassit on my openjdk15 solved the issue\r\nI added this \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n        &lt;version&gt;3.27.0-GA&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nmaven dependency in my pom.xml","title":"Spring Boot Project &quot;org.springframework.beans.factory.BeanCreationException:Error creating bean with name &#39;entityManagerFactory&#39;&quot; ERROR","body":"<p>by using the latest javassit on my openjdk15 solved the issue\nI added this</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.27.0-GA&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>maven dependency in my pom.xml</p>\n"},{"tags":[],"owner":{"account_id":18710340,"reputation":419,"user_id":13640565,"display_name":"Shiru99"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626155731,"creation_date":1626155731,"answer_id":68357144,"question_id":64457496,"body_markdown":"Adding @EntityScan(basePackages = &quot;io.summer&quot;) to your Application class. That is needed for hibernate to scan your entities. (Worked for me, for postgresql)","title":"Spring Boot Project &quot;org.springframework.beans.factory.BeanCreationException:Error creating bean with name &#39;entityManagerFactory&#39;&quot; ERROR","body":"<p>Adding @EntityScan(basePackages = &quot;io.summer&quot;) to your Application class. That is needed for hibernate to scan your entities. (Worked for me, for postgresql)</p>\n"}],"owner":{"account_id":5000876,"reputation":361,"user_id":4019953,"accept_rate":80,"display_name":"Cem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4531,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1668684208,"creation_date":1603260022,"question_id":64457496,"body_markdown":"I&#39;m newbie on Spring Boot and I want to make a rest webservice with spring boot. I need to persist some data on database using Jpa/Hibernate. When I annotate my domain model class with @Entity annotation and I start my application as Spring boot application (My application class have an @EntityScan() annotation by the way.) I am getting error below :\r\n\r\n**org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory**\r\n\r\nWhen I don&#39;t annotate my application class with @EntityScan annotation and run my app and call my rest controller method of createOwner() , I am getting error below :\r\n\r\n**org.springframework.dao.InvalidDataAccessApiUsageException: Unknown entity: model.Owner; nested exception is java.lang.IllegalArgumentException: Unknown entity: model.Owner**\r\n\r\n\r\nI&#39;ll be happy if you inform me about why I&#39;m getting these errors, thanks. \r\n\r\nMy classes are : \r\n\r\nDomain Class : \r\n\r\n**Owner.java**\r\n\r\n    @Entity\r\n    public class Owner {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tprivate Long id;\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;\r\n    \r\n    \tpublic Owner() {}\r\n    \r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \r\n    \tpublic void setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t}\r\n    \r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \r\n    \tpublic void setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n**Application Class :** \r\n\r\n\r\n\r\n    @SpringBootApplication(scanBasePackages={&quot;web&quot;,&quot;service&quot;,&quot;dao&quot;})\r\n    @EntityScan(basePackages= {&quot;model&quot;})\r\n    @EnableConfigurationProperties(value = PetClinicProperties.class)\r\n    public class PetClinic {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\t\r\n    \t\tSpringApplication.run(PetClinic.class, args);\r\n    \r\n    \t}\r\n    }\r\n\r\n**Controller Class :**\r\n\r\n    @RestController\r\n    @Transactional\r\n    public class PetClinicControl {\r\n\t\r\n\t@Autowired\r\n\tprivate PetClinicService petClinicService;\r\n\t\r\n\r\n\tpublic void setPetClinicService(PetClinicService petClinicService) {\r\n\t\tthis.petClinicService = petClinicService;\r\n\t}\r\n\t\r\n\t@RequestMapping(method=RequestMethod.POST,value=&quot;/createOwner&quot;)\r\n\tpublic ResponseEntity&lt;Owner&gt; createOwner(@RequestBody Owner owner){\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tOwner ownerNew = new Owner();\r\n\t\t\townerNew.setId(owner.getId());\r\n\t\t\townerNew.setFirstName(owner.getFirstName());\r\n\t\t\townerNew.setLastName(owner.getLastName());\r\n\t\t\t\r\n\t\t\tpetClinicService.createOwner(ownerNew);\r\n\t\t\t\r\n\t\t\treturn ResponseEntity.ok(ownerNew);\r\n\t\t\t\r\n\t\t}catch(Exception ex) {\r\n\t\t\t\r\n\t\t\tex.printStackTrace();\r\n\t\t\treturn ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n\t     }\r\n\t   }\t\r\n     }\r\n\r\n\r\n**My application.properties :** \r\n\r\n    management.endpoints.enabled-by-default=true\r\n    management.endpoints.web.exposure.include=*\r\n    \r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=123456\r\n\r\n    server.port=8095\r\n\r\n\r\n\r\n**My project structure :**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n**Detailed error log when using @EntityScan on ApplicationClass**\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1710) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat \r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1234) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat petclinic.PetClinic.main(PetClinic.java:20) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:970) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:895) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1706) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \t... 21 common frames omitted\r\n    Caused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\r\n    \tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:128) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:300) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:460) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:892) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \t... 28 common frames omitted\r\n    Caused by: org.hibernate.HibernateException: Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]\r\n    \tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:91) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:385) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:519) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:124) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\r\n    \tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \t... 33 common frames omitted\r\n    Caused by: java.lang.reflect.InvocationTargetException: null\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\r\n    \tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \t... 43 common frames omitted\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean)&quot; because &quot;ao&quot; is null\r\n    \tat javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:103) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.DefineClassHelper.toClass3(DefineClassHelper.java:151) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.DefineClassHelper.toClass2(DefineClassHelper.java:134) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.DefineClassHelper.toClass(DefineClassHelper.java:95) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:131) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:530) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:515) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:451) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:422) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:75) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:162) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:156) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:58) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \t... 49 common frames omitted\r\n\r\n\r\nAnd **Detailed error log when Not using @EntityScan on ApplicationClass**\r\n\r\n   \r\n\r\n     org.springframework.dao.InvalidDataAccessApiUsageException: Unknown entity: model.Owner; nested exception is java.lang.IllegalArgumentException: Unknown entity: model.Owner\r\n        \tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)\r\n        \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:227)\r\n        \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:507)\r\n        \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n        \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n        \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n        \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\n        \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n        \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n        \tat dao.jpa.OwnerRepositoryJpaImpl$$EnhancerBySpringCGLIB$$a5485909.createOwner(&lt;generated&gt;)\r\n        \tat service.PetClinicServiceImpl.createOwner(PetClinicServiceImpl.java:49)\r\n        \tat service.PetClinicServiceImpl$$FastClassBySpringCGLIB$$75117ac7.invoke(&lt;generated&gt;)\r\n        \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n        \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)\r\n        \t \r\n     \r\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n        \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n        \tat service.PetClinicServiceImpl$$EnhancerBySpringCGLIB$$25e88d7.createOwner(&lt;generated&gt;)\r\n        \tat web.PetClinicControl.createOwner(PetClinicControl.java:68)\r\n        \tat web.PetClinicControl$$FastClassBySpringCGLIB$$25258bf0.invoke(&lt;generated&gt;)\r\n        \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n        \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n        \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\n        \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n        \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n        \tat web.PetClinicControl$$EnhancerBySpringCGLIB$$37163df2.createOwner(&lt;generated&gt;)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n        \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)\r\n        \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\r\n        \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\r\n        \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870)\r\n        \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776)\r\n        \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n        \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)\r\n        \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)\r\n        \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)\r\n        \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:881)\r\n        \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:661)\r\n        \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855)\r\n        \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:158)\r\n        \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:126)\r\n        \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:111)\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:84)\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n        \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n        \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\r\n        \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n        \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n        \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n        \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n        \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\r\n        \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n        \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\r\n        \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\r\n        \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n        \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n        \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        \tat java.base/java.lang.Thread.run(Thread.java:832)\r\n        Caused by: java.lang.IllegalArgumentException: Unknown entity: model.Owner\r\n        \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:786)\r\n        \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:767)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n        \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350)\r\n        \tat com.sun.proxy.$Proxy114.persist(Unknown Source)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:304)\r\n        \tat com.sun.proxy.$Proxy114.persist(Unknown Source)\r\n        \tat dao.jpa.OwnerRepositoryJpaImpl.createOwner(OwnerRepositoryJpaImpl.java:57)\r\n        \tat dao.jpa.OwnerRepositoryJpaImpl$$FastClassBySpringCGLIB$$930052ed.invoke(&lt;generated&gt;)\r\n        \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n        \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n        \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n        \t... 90 more\r\n        2020-10-21 08:41:32.438 ERROR 12452 --- [nio-8095-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: Transaction was marked for rollback only; cannot commit; nested exception is org.hibernate.TransactionException: Transaction was marked for rollback only; cannot commit] with root cause\r\n        \r\n        org.hibernate.TransactionException: Transaction was marked for rollback only; cannot commit\r\n        \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:228) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n        \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n        \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat \r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat web.PetClinicControl$$EnhancerBySpringCGLIB$$37163df2.createOwner(&lt;generated&gt;) ~[classes/:na]\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n        \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat \r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\r\n        \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) \r\n        \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\r\n        \t \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\r\n        \tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n    \r\n    \r\n      [1]: https://i.stack.imgur.com/TZHJN.png\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bZQK5.png","title":"Spring Boot Project &quot;org.springframework.beans.factory.BeanCreationException:Error creating bean with name &#39;entityManagerFactory&#39;&quot; ERROR","body":"<p>I'm newbie on Spring Boot and I want to make a rest webservice with spring boot. I need to persist some data on database using Jpa/Hibernate. When I annotate my domain model class with @Entity annotation and I start my application as Spring boot application (My application class have an @EntityScan() annotation by the way.) I am getting error below :</p>\n<p><strong>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory</strong></p>\n<p>When I don't annotate my application class with @EntityScan annotation and run my app and call my rest controller method of createOwner() , I am getting error below :</p>\n<p><strong>org.springframework.dao.InvalidDataAccessApiUsageException: Unknown entity: model.Owner; nested exception is java.lang.IllegalArgumentException: Unknown entity: model.Owner</strong></p>\n<p>I'll be happy if you inform me about why I'm getting these errors, thanks.</p>\n<p>My classes are :</p>\n<p>Domain Class :</p>\n<p><strong>Owner.java</strong></p>\n<pre><code>@Entity\npublic class Owner {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n    private String firstName;\n    private String lastName;\n\n    public Owner() {}\n\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n}\n</code></pre>\n<p><strong>Application Class :</strong></p>\n<pre><code>@SpringBootApplication(scanBasePackages={&quot;web&quot;,&quot;service&quot;,&quot;dao&quot;})\n@EntityScan(basePackages= {&quot;model&quot;})\n@EnableConfigurationProperties(value = PetClinicProperties.class)\npublic class PetClinic {\n\n    public static void main(String[] args) {\n\n        \n        SpringApplication.run(PetClinic.class, args);\n\n    }\n}\n</code></pre>\n<p><strong>Controller Class :</strong></p>\n<pre><code>@RestController\n@Transactional\npublic class PetClinicControl {\n\n@Autowired\nprivate PetClinicService petClinicService;\n\n\npublic void setPetClinicService(PetClinicService petClinicService) {\n    this.petClinicService = petClinicService;\n}\n\n@RequestMapping(method=RequestMethod.POST,value=&quot;/createOwner&quot;)\npublic ResponseEntity&lt;Owner&gt; createOwner(@RequestBody Owner owner){\n    \n    try {\n        \n        Owner ownerNew = new Owner();\n        ownerNew.setId(owner.getId());\n        ownerNew.setFirstName(owner.getFirstName());\n        ownerNew.setLastName(owner.getLastName());\n        \n        petClinicService.createOwner(ownerNew);\n        \n        return ResponseEntity.ok(ownerNew);\n        \n    }catch(Exception ex) {\n        \n        ex.printStackTrace();\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n     }\n   }    \n }\n</code></pre>\n<p><strong>My application.properties :</strong></p>\n<pre><code>management.endpoints.enabled-by-default=true\nmanagement.endpoints.web.exposure.include=*\n\nspring.datasource.driverClassName=org.h2.Driver\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.username=sa\nspring.datasource.password=123456\n\nserver.port=8095\n</code></pre>\n<p><strong>My project structure :</strong></p>\n<p><a href=\"https://i.stack.imgur.com/bZQK5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bZQK5.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Detailed error log when using @EntityScan on ApplicationClass</strong></p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1710) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at \n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at petclinic.PetClinic.main(PetClinic.java:20) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:970) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:895) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1706) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    ... 21 common frames omitted\nCaused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:128) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:300) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:460) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:892) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    ... 28 common frames omitted\nCaused by: org.hibernate.HibernateException: Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]\n    at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:91) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:385) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:519) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:124) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    ... 33 common frames omitted\nCaused by: java.lang.reflect.InvocationTargetException: null\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\n    at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    ... 43 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean)&quot; because &quot;ao&quot; is null\n    at javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:103) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.DefineClassHelper.toClass3(DefineClassHelper.java:151) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.DefineClassHelper.toClass2(DefineClassHelper.java:134) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.DefineClassHelper.toClass(DefineClassHelper.java:95) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:131) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:530) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:515) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:451) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:422) ~[javassist-3.22.0-GA.jar:na]\n    at org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:75) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:162) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:156) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:58) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    ... 49 common frames omitted\n</code></pre>\n<p>And <strong>Detailed error log when Not using @EntityScan on ApplicationClass</strong></p>\n<pre><code> org.springframework.dao.InvalidDataAccessApiUsageException: Unknown entity: model.Owner; nested exception is java.lang.IllegalArgumentException: Unknown entity: model.Owner\n        at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:227)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:507)\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n        at dao.jpa.OwnerRepositoryJpaImpl$$EnhancerBySpringCGLIB$$a5485909.createOwner(&lt;generated&gt;)\n        at service.PetClinicServiceImpl.createOwner(PetClinicServiceImpl.java:49)\n        at service.PetClinicServiceImpl$$FastClassBySpringCGLIB$$75117ac7.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)\n         \n \norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n        at service.PetClinicServiceImpl$$EnhancerBySpringCGLIB$$25e88d7.createOwner(&lt;generated&gt;)\n        at web.PetClinicControl.createOwner(PetClinicControl.java:68)\n        at web.PetClinicControl$$FastClassBySpringCGLIB$$25258bf0.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n        at web.PetClinicControl$$EnhancerBySpringCGLIB$$37163df2.createOwner(&lt;generated&gt;)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:881)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:158)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:126)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:111)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:84)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:832)\n    Caused by: java.lang.IllegalArgumentException: Unknown entity: model.Owner\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:786)\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:767)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350)\n        at com.sun.proxy.$Proxy114.persist(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:304)\n        at com.sun.proxy.$Proxy114.persist(Unknown Source)\n        at dao.jpa.OwnerRepositoryJpaImpl.createOwner(OwnerRepositoryJpaImpl.java:57)\n        at dao.jpa.OwnerRepositoryJpaImpl$$FastClassBySpringCGLIB$$930052ed.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n        ... 90 more\n    2020-10-21 08:41:32.438 ERROR 12452 --- [nio-8095-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: Transaction was marked for rollback only; cannot commit; nested exception is org.hibernate.TransactionException: Transaction was marked for rollback only; cannot commit] with root cause\n    \n    org.hibernate.TransactionException: Transaction was marked for rollback only; cannot commit\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:228) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at \n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at web.PetClinicControl$$EnhancerBySpringCGLIB$$37163df2.createOwner(&lt;generated&gt;) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at \n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) \n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\n        at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n\n\n  [1]: https://i.stack.imgur.com/TZHJN.png\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668326366,"post_id":74418555,"comment_id":131374650,"body_markdown":"The problem comes from the `CascateType.ALL` on the `@ManyToMany courses`. When you create a student, hibernate tries to create the course. see https://stackoverflow.com/questions/4935095/jpa-hibernate-many-to-many-cascading. You will see that there is no 100% satisfying solution.","body":"The problem comes from the <code>CascateType.ALL</code> on the <code>@ManyToMany courses</code>. When you create a student, hibernate tries to create the course. see <a href=\"https://stackoverflow.com/questions/4935095/jpa-hibernate-many-to-many-cascading\" title=\"jpa hibernate many to many cascading\">stackoverflow.com/questions/4935095/&hellip;</a>. You will see that there is no 100% satisfying solution."},{"owner":{"account_id":15394477,"reputation":33,"user_id":11106082,"display_name":"ManishBharathi"},"score":0,"creation_date":1668327857,"post_id":74418555,"comment_id":131374847,"body_markdown":"Yeah, I saw this and tried. I&#39;m new to Spring boot and trying to find a solution to tackle this situation. All the materials I found on web doesn&#39;t speak about this use case. Any suggestions on how to get this working?","body":"Yeah, I saw this and tried. I&#39;m new to Spring boot and trying to find a solution to tackle this situation. All the materials I found on web doesn&#39;t speak about this use case. Any suggestions on how to get this working?"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668330574,"post_id":74418555,"comment_id":131375201,"body_markdown":"It seems that if none of the entity (course and student) is the owner of the relation, there is no way to get it to work properly with a cascade strategy.","body":"It seems that if none of the entity (course and student) is the owner of the relation, there is no way to get it to work properly with a cascade strategy."},{"owner":{"account_id":15394477,"reputation":33,"user_id":11106082,"display_name":"ManishBharathi"},"score":0,"creation_date":1668340401,"post_id":74418555,"comment_id":131376705,"body_markdown":"Using `CascadeType.MERGE` &amp; `CascadeType.REFRESH` I was able to prevent the duplicate from creating. Thanks @PierreDemeestere","body":"Using <code>CascadeType.MERGE</code> &amp; <code>CascadeType.REFRESH</code> I was able to prevent the duplicate from creating. Thanks @PierreDemeestere"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668343977,"post_id":74418555,"comment_id":131377357,"body_markdown":"Yes, but would it create the `course` if it did not exist : probably not. And would it work as well from the other side : i.e. creating a course containing a student ?","body":"Yes, but would it create the <code>course</code> if it did not exist : probably not. And would it work as well from the other side : i.e. creating a course containing a student ?"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668344334,"post_id":74418555,"comment_id":131377427,"body_markdown":"Could you show the source code of `studentService.saveStudent(student)` ?","body":"Could you show the source code of <code>studentService.saveStudent(student)</code> ?"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668345574,"post_id":74418555,"comment_id":131377692,"body_markdown":"Moreover, I think that, despite the MERGE, when you create a student with an existing course, if you try to change the name of the course via the inner Json structure discribing the course, then you will see no change in the database unless you use PERSIST instead of MERGE. But you will have another problem. Suppose that the existing course has already some students, you have to check if these relations won&#39;t be lost. You really have to check all data possibilities.","body":"Moreover, I think that, despite the MERGE, when you create a student with an existing course, if you try to change the name of the course via the inner Json structure discribing the course, then you will see no change in the database unless you use PERSIST instead of MERGE. But you will have another problem. Suppose that the existing course has already some students, you have to check if these relations won&#39;t be lost. You really have to check all data possibilities."},{"owner":{"account_id":10958861,"reputation":514,"user_id":8052787,"display_name":"FredvN"},"score":0,"creation_date":1668346894,"post_id":74418555,"comment_id":131377964,"body_markdown":"Can a student create a course or is the course already available for students to join?","body":"Can a student create a course or is the course already available for students to join?"},{"owner":{"account_id":15394477,"reputation":33,"user_id":11106082,"display_name":"ManishBharathi"},"score":0,"creation_date":1668423824,"post_id":74418555,"comment_id":131393572,"body_markdown":"@FredvN The use case is the course should be available, if not should be added.","body":"@FredvN The use case is the course should be available, if not should be added."}],"owner":{"account_id":15394477,"reputation":33,"user_id":11106082,"display_name":"ManishBharathi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668683985,"creation_date":1668315172,"question_id":74418555,"body_markdown":"I have 3 tables\r\n\r\n 1. Student\r\n 2. Course\r\n 3. Enrolled Course (Join Table)\r\n\r\nThere is a many-to-many relationship between student and course.\r\nSince a student can enroll in many courses and a course can have many students enrolled.\r\n\r\nI added the corresponding List(students) and Set(courses) in Course and Student entity classes respectively.\r\n   \r\nThe `Student` Entity:\r\n``` java\r\n    @Entity\r\n    @Table(name=&quot;Student_Tbl&quot;)\r\n    public class Student {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        private String department;\r\n    \r\n        @JoinTable(\r\n                name = &quot;enrolled_course&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;student_id&quot;,referencedColumnName = &quot;id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;,referencedColumnName = &quot;title&quot;))\r\n        @ManyToMany(fetch = FetchType.EAGER,cascade = CascadeType.ALL)\r\n        private Set&lt;Course&gt; courses;\r\n```\r\nThe `Course` Entity:\r\n``` java\r\n    @Entity\r\n    @Table(name=&quot;Course_Tbl&quot;)\r\n    public class Course {\r\n        @Id\r\n        private String title;\r\n    \r\n        private String description;\r\n    \r\n        @ManyToMany(mappedBy = &quot;courses&quot;,fetch = FetchType.EAGER)\r\n        private Set&lt;Student&gt; students;\r\n```\r\nThe `Controller` Class:\r\n``` java\r\n    @RestController\r\n    @RequestMapping(&quot;/v1&quot;)\r\n    public class StudentController {\r\n      \r\n        @Autowired\r\n        private StudentRepository studentRepository;\r\n\r\n        @Autowired\r\n        private CourseRepository courseRepository;\r\n    \r\n        @Autowired\r\n        private StudentService studentService;\r\n    \r\n        @PostMapping(&quot;/student/register&quot;)\r\n        public ResponseEntity&lt;Student&gt; saveStudent(@RequestBody Student student)\r\n        {\r\n            studentService.saveStudent(student);\r\n            return ResponseEntity.ok(student);\r\n        }\r\n    }\r\n```\r\n\r\nWhen I save a Student with a course, it all works well. The data is stored in all the three tables\r\n``` json\r\n    {\r\n        &quot;name&quot;:&quot;ABC&quot;,\r\n        &quot;department&quot;:&quot;CS&quot;,\r\n        &quot;course&quot;:[\r\n            {\r\n                &quot;title&quot;:&quot;DBMS&quot;,\r\n                &quot;description&quot;:&quot;Database Management System&quot;\r\n            }\r\n            \r\n        ]\r\n    }\r\n```\r\nBut when I post another request with the same course for different students, \r\n `Duplicate entry &#39;DBMS&#39; for key &#39;course_tbl.PRIMARY&#39;` error is thrown.\r\n\r\nHow do I avoid this?\r\n\r\nEdit:\r\n\r\n    public void saveStudent(Student student){\r\n            for(Course course : student.getCourse() ){\r\n                if(courseRepository.findByTitle(course.getTitle())!= null) continue;\r\n                courseRepository.save(course);\r\n            }\r\n            studentRepository.save(student);\r\n        }\r\n\r\nHere I manually handled the case by checking if the course is already present in the table which worked as expected.","title":"Prevent Duplicate entry in many to many relationship using JPA","body":"<p>I have 3 tables</p>\n<ol>\n<li>Student</li>\n<li>Course</li>\n<li>Enrolled Course (Join Table)</li>\n</ol>\n<p>There is a many-to-many relationship between student and course.\nSince a student can enroll in many courses and a course can have many students enrolled.</p>\n<p>I added the corresponding List(students) and Set(courses) in Course and Student entity classes respectively.</p>\n<p>The <code>Student</code> Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    @Table(name=&quot;Student_Tbl&quot;)\n    public class Student {\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;id&quot;)\n        private Long id;\n    \n        private String name;\n    \n        private String department;\n    \n        @JoinTable(\n                name = &quot;enrolled_course&quot;,\n                joinColumns = @JoinColumn(name = &quot;student_id&quot;,referencedColumnName = &quot;id&quot;),\n                inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;,referencedColumnName = &quot;title&quot;))\n        @ManyToMany(fetch = FetchType.EAGER,cascade = CascadeType.ALL)\n        private Set&lt;Course&gt; courses;\n</code></pre>\n<p>The <code>Course</code> Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    @Table(name=&quot;Course_Tbl&quot;)\n    public class Course {\n        @Id\n        private String title;\n    \n        private String description;\n    \n        @ManyToMany(mappedBy = &quot;courses&quot;,fetch = FetchType.EAGER)\n        private Set&lt;Student&gt; students;\n</code></pre>\n<p>The <code>Controller</code> Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @RestController\n    @RequestMapping(&quot;/v1&quot;)\n    public class StudentController {\n      \n        @Autowired\n        private StudentRepository studentRepository;\n\n        @Autowired\n        private CourseRepository courseRepository;\n    \n        @Autowired\n        private StudentService studentService;\n    \n        @PostMapping(&quot;/student/register&quot;)\n        public ResponseEntity&lt;Student&gt; saveStudent(@RequestBody Student student)\n        {\n            studentService.saveStudent(student);\n            return ResponseEntity.ok(student);\n        }\n    }\n</code></pre>\n<p>When I save a Student with a course, it all works well. The data is stored in all the three tables</p>\n<pre class=\"lang-json prettyprint-override\"><code>    {\n        &quot;name&quot;:&quot;ABC&quot;,\n        &quot;department&quot;:&quot;CS&quot;,\n        &quot;course&quot;:[\n            {\n                &quot;title&quot;:&quot;DBMS&quot;,\n                &quot;description&quot;:&quot;Database Management System&quot;\n            }\n            \n        ]\n    }\n</code></pre>\n<p>But when I post another request with the same course for different students,\n<code>Duplicate entry 'DBMS' for key 'course_tbl.PRIMARY'</code> error is thrown.</p>\n<p>How do I avoid this?</p>\n<p>Edit:</p>\n<pre><code>public void saveStudent(Student student){\n        for(Course course : student.getCourse() ){\n            if(courseRepository.findByTitle(course.getTitle())!= null) continue;\n            courseRepository.save(course);\n        }\n        studentRepository.save(student);\n    }\n</code></pre>\n<p>Here I manually handled the case by checking if the course is already present in the table which worked as expected.</p>\n"},{"tags":["java","install4j"],"answers":[{"comments":[{"owner":{"account_id":1295105,"reputation":1763,"user_id":1246369,"accept_rate":50,"display_name":"Asu"},"score":0,"creation_date":1668622154,"post_id":47944169,"comment_id":131452476,"body_markdown":"SO does not let me edit right now, but the `applicationInfos.length &gt; 1` should probably have `&gt; 0`, otherwise a single existing installation won&#39;t be detected.","body":"SO does not let me edit right now, but the <code>applicationInfos.length &gt; 1</code> should probably have <code>&gt; 0</code>, otherwise a single existing installation won&#39;t be detected."}],"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668683898,"creation_date":1513958030,"answer_id":47944169,"question_id":47943440,"body_markdown":"There is an &quot;Execute previous uninstaller&quot; action that can uninstall from any directory if the &quot;Installation directory&quot; property is set and the &quot;Only if the same application ID is found&quot; property is deselected.\r\n\r\nTo find out where previous versions with different application IDs are installed, use\r\n\r\n    ApplicationRegistry.ApplicationInfo[] applicationInfos =\r\n       ApplicationRegistry.getApplicationInfoById(&quot;&lt;application ID of previous version&gt;&quot;);\r\n\r\n    if (applicationInfos.length &gt; 0) {\r\n       context.setVariable(&quot;uninstallDir&quot;,  \r\n            applicationInfos[0].getInstallationDirectory().getPath());\r\n    }\r\n\r\nin a &quot;Run script&quot; action. Then you can set the &quot;Installation directory&quot; property of the &quot;Execute previous uninstaller&quot; action to \r\n\r\n    ${installer:uninstallDir}\r\n\r\nand its &quot;Condition expression&quot; to\r\n\r\n    context.getVariable(&quot;uninstallDir&quot;) != null\r\n\r\n","title":"Install4j - Uninstall old application with different Application ID","body":"<p>There is an &quot;Execute previous uninstaller&quot; action that can uninstall from any directory if the &quot;Installation directory&quot; property is set and the &quot;Only if the same application ID is found&quot; property is deselected.</p>\n<p>To find out where previous versions with different application IDs are installed, use</p>\n<pre><code>ApplicationRegistry.ApplicationInfo[] applicationInfos =\n   ApplicationRegistry.getApplicationInfoById(&quot;&lt;application ID of previous version&gt;&quot;);\n\nif (applicationInfos.length &gt; 0) {\n   context.setVariable(&quot;uninstallDir&quot;,  \n        applicationInfos[0].getInstallationDirectory().getPath());\n}\n</code></pre>\n<p>in a &quot;Run script&quot; action. Then you can set the &quot;Installation directory&quot; property of the &quot;Execute previous uninstaller&quot; action to</p>\n<pre><code>${installer:uninstallDir}\n</code></pre>\n<p>and its &quot;Condition expression&quot; to</p>\n<pre><code>context.getVariable(&quot;uninstallDir&quot;) != null\n</code></pre>\n"}],"owner":{"account_id":9191764,"reputation":73,"user_id":6832006,"display_name":"Felipe Seiber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47944169,"answer_count":1,"score":2,"last_activity_date":1668683898,"creation_date":1513954537,"question_id":47943440,"body_markdown":"We are currently using a different randomly generated Application ID &amp; installation directory for each new product version released. For example: \r\n\r\n- Version 10 would have application ID 12345 &amp; directory of &quot;ProductName10&quot;\r\n- Version 11 has an application ID of 98765 &amp; directory of &quot;ProductName11&quot;\r\n\r\nWe chose to use separate IDs &amp; installation directories for each new version to allow users to demo the new version without having to remove the previous version. If we used the same ID it would overwrite the previous version and invalidate their license. \r\n\r\nHowever, for users that know they want to upgrade it is a 2 step process for them to install the new version and then find &amp; run the uninstaller for the previous version. What we would like is to prompt the user with an option to uninstall the previous version (if found) during the installation process. \r\n\r\nWe have looked for some prebuilt option in the Install4j settings to allow this but have not found a good solution. Basically our desired workflow is as follows:\r\n\r\n 1. Display the first standard welcome screen\r\n 2. User selects our custom options and begins installation\r\n 3. During installation: FIRST check if previous versions exist (using\r\n    known Application IDs or other method), if so display message to\r\n    user with confirmation to remove previous version\r\n 4. If user selects “Yes” run uninstaller for previous program BEFORE\r\n    completing the installation for the current new program.\r\n\r\nUltimately I have 2 questions related to this:\r\n\r\n 1. What is the best way for us to accomplish our desired workflow?\r\n 2. If there is no easy way, is there another way to setup our\r\n    application versions so that we can have a similar process to allow\r\n    us to have separate application versions and somehow auto uninstall\r\n    the previous version?\r\n\r\n**NOTE**: Our solution needs to also be cross compatible with Windows, Mac, &amp; Linux\r\n\r\nThanks!","title":"Install4j - Uninstall old application with different Application ID","body":"<p>We are currently using a different randomly generated Application ID &amp; installation directory for each new product version released. For example: </p>\n\n<ul>\n<li>Version 10 would have application ID 12345 &amp; directory of \"ProductName10\"</li>\n<li>Version 11 has an application ID of 98765 &amp; directory of \"ProductName11\"</li>\n</ul>\n\n<p>We chose to use separate IDs &amp; installation directories for each new version to allow users to demo the new version without having to remove the previous version. If we used the same ID it would overwrite the previous version and invalidate their license. </p>\n\n<p>However, for users that know they want to upgrade it is a 2 step process for them to install the new version and then find &amp; run the uninstaller for the previous version. What we would like is to prompt the user with an option to uninstall the previous version (if found) during the installation process. </p>\n\n<p>We have looked for some prebuilt option in the Install4j settings to allow this but have not found a good solution. Basically our desired workflow is as follows:</p>\n\n<ol>\n<li>Display the first standard welcome screen</li>\n<li>User selects our custom options and begins installation</li>\n<li>During installation: FIRST check if previous versions exist (using\nknown Application IDs or other method), if so display message to\nuser with confirmation to remove previous version</li>\n<li>If user selects “Yes” run uninstaller for previous program BEFORE\ncompleting the installation for the current new program.</li>\n</ol>\n\n<p>Ultimately I have 2 questions related to this:</p>\n\n<ol>\n<li>What is the best way for us to accomplish our desired workflow?</li>\n<li>If there is no easy way, is there another way to setup our\napplication versions so that we can have a similar process to allow\nus to have separate application versions and somehow auto uninstall\nthe previous version?</li>\n</ol>\n\n<p><strong>NOTE</strong>: Our solution needs to also be cross compatible with Windows, Mac, &amp; Linux</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","arrays","list"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1668678623,"post_id":74473182,"comment_id":131466115,"body_markdown":"So does `List&lt;UserDto&gt;` only contain 1 element and has a size of 1, or does your List contain multiple elements but all have the same email address?","body":"So does <code>List&lt;UserDto&gt;</code> only contain 1 element and has a size of 1, or does your List contain multiple elements but all have the same email address?"},{"owner":{"account_id":14561222,"reputation":93,"user_id":10517244,"display_name":"uma"},"score":0,"creation_date":1668679183,"post_id":74473182,"comment_id":131466332,"body_markdown":"@OH GOD SPIDERS List&lt;UserDto&gt; have 2 different elements (different emails), all recipients (users) have same content of the email. currently it send only for i=0 which is the first email address.","body":"@OH GOD SPIDERS List&lt;UserDto&gt; have 2 different elements (different emails), all recipients (users) have same content of the email. currently it send only for i=0 which is the first email address."},{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":0,"creation_date":1668679365,"post_id":74473182,"comment_id":131466412,"body_markdown":"Try to add 2 prints. The 1st one just before the sendNotification and the 2nd after the sendNotification. Print only email addresses. In case that you get 2 prints (emails) the problem is located at the method sendNotification OR the email is incorrect from your database. BTW, you should consider to change your connection structure. You are not closing the connection and the ResultSet. Just to remind you, these classes are auto-closeable, which means you can use the try-with-resources (java8+)","body":"Try to add 2 prints. The 1st one just before the sendNotification and the 2nd after the sendNotification. Print only email addresses. In case that you get 2 prints (emails) the problem is located at the method sendNotification OR the email is incorrect from your database. BTW, you should consider to change your connection structure. You are not closing the connection and the ResultSet. Just to remind you, these classes are auto-closeable, which means you can use the try-with-resources (java8+)"},{"owner":{"account_id":14561222,"reputation":93,"user_id":10517244,"display_name":"uma"},"score":0,"creation_date":1668679786,"post_id":74473182,"comment_id":131466591,"body_markdown":"@Melron\nHow I can add 2 prints? if you trace the code inside the for loop, supposed when the i increment the email address will change which is moving to the next element. Also when I print the value of i, it shows i=0 then i=1 and also the email address change but it send only one email for the first email address.","body":"@Melron How I can add 2 prints? if you trace the code inside the for loop, supposed when the i increment the email address will change which is moving to the next element. Also when I print the value of i, it shows i=0 then i=1 and also the email address change but it send only one email for the first email address."},{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":1,"creation_date":1668680105,"post_id":74473182,"comment_id":131466730,"body_markdown":"@uma So, since you already used the &#39;print debug&#39; thing and you got 2 different emails (inside of your loop), your problem is NOT the list or the size of the list. It is just located in the sendNotification OR (again) the email address is incorrect (doesn&#39;t exists?).","body":"@uma So, since you already used the &#39;print debug&#39; thing and you got 2 different emails (inside of your loop), your problem is NOT the list or the size of the list. It is just located in the sendNotification OR (again) the email address is incorrect (doesn&#39;t exists?)."}],"answers":[{"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1668954191,"post_id":74474528,"comment_id":131526329,"body_markdown":"This could be a comment","body":"This could be a comment"}],"tags":[],"owner":{"account_id":4157889,"reputation":1,"user_id":3408646,"display_name":"Thach Le"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668683720,"creation_date":1668683720,"answer_id":74474528,"question_id":74473182,"body_markdown":"Is this query correct?\r\n`&quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN (&#39;1&#39;,&#39;650&#39;)&quot;)`? Is it return the list of emails?","title":"Getting only the first element from the list, how we can move to the second element of the list in java","body":"<p>Is this query correct?\n<code>&quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN ('1','650')&quot;)</code>? Is it return the list of emails?</p>\n"}],"owner":{"account_id":14561222,"reputation":93,"user_id":10517244,"display_name":"uma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668683720,"creation_date":1668678048,"question_id":74473182,"body_markdown":"I have this code, it return for me the 2 emails. The result look like this: [email1, email2]\r\n\r\n\r\n\r\n```\r\npublic List&lt;UserDto&gt; getEmail() {\r\n    \r\n    Connection connection = null;\r\n    \r\n    PreparedStatement preparedStatement = null;\r\n    \r\n    ResultSet searchResultSet = null;\r\n    \r\n    try {\r\n    \r\n        connection = getConnection();\r\n    \r\n        preparedStatement = connection.prepareStatement(\r\n                        &quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN (&#39;1&#39;,&#39;650&#39;)&quot;);\r\n                \r\n        searchResultSet = preparedStatement.executeQuery();\r\n    \r\n        return getEmail(searchResultSet);\r\n    \r\n    } catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n    } finally {\r\n        try {\r\n            preparedStatement.close();\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nprivate List&lt;UserDto&gt; getEmail(ResultSet searchResultSet) throws SQLException {\r\n    List&lt;UserDto&gt; result = new ArrayList&lt;UserDto &gt;();\r\n\r\n    UserDto userDto = null;\r\n  \r\n    while (searchResultSet.next()) {\r\n        userDto = new UserDto();\r\n\r\n        userDto .setEmailAddress(searchResultSet.getString(1));\r\n        result.add(userDto);\r\n       \r\n     }\r\n     return result;\r\n}\r\n```\r\nIn the second class, I&#39;m calling this method getEmail(), I want to send for first email then the second, but what I have here in the below code is only get i =0 always and it dose not go to the second email to send an email:\r\n```\r\nDelegate delegate = new Delegate();\r\n\r\n    List&lt;UserDto&gt; users = iimDelegate.getEmail();\r\n            for (int i = 0; i &lt; users.size(); i++) {\r\n\r\n                String ToEmail = users.get(i).toString();\r\n\r\n                delegate.sendNotification(&quot;****&quot;, &quot;****&quot;, toEmail , &quot;&quot;, &quot;&quot;,\r\n                   &quot;&quot;, body);\r\n            }\r\n```\r\nAny help!","title":"Getting only the first element from the list, how we can move to the second element of the list in java","body":"<p>I have this code, it return for me the 2 emails. The result look like this: [email1, email2]</p>\n<pre><code>public List&lt;UserDto&gt; getEmail() {\n    \n    Connection connection = null;\n    \n    PreparedStatement preparedStatement = null;\n    \n    ResultSet searchResultSet = null;\n    \n    try {\n    \n        connection = getConnection();\n    \n        preparedStatement = connection.prepareStatement(\n                        &quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN ('1','650')&quot;);\n                \n        searchResultSet = preparedStatement.executeQuery();\n    \n        return getEmail(searchResultSet);\n    \n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    } finally {\n        try {\n            preparedStatement.close();\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n\nprivate List&lt;UserDto&gt; getEmail(ResultSet searchResultSet) throws SQLException {\n    List&lt;UserDto&gt; result = new ArrayList&lt;UserDto &gt;();\n\n    UserDto userDto = null;\n  \n    while (searchResultSet.next()) {\n        userDto = new UserDto();\n\n        userDto .setEmailAddress(searchResultSet.getString(1));\n        result.add(userDto);\n       \n     }\n     return result;\n}\n</code></pre>\n<p>In the second class, I'm calling this method getEmail(), I want to send for first email then the second, but what I have here in the below code is only get i =0 always and it dose not go to the second email to send an email:</p>\n<pre><code>Delegate delegate = new Delegate();\n\n    List&lt;UserDto&gt; users = iimDelegate.getEmail();\n            for (int i = 0; i &lt; users.size(); i++) {\n\n                String ToEmail = users.get(i).toString();\n\n                delegate.sendNotification(&quot;****&quot;, &quot;****&quot;, toEmail , &quot;&quot;, &quot;&quot;,\n                   &quot;&quot;, body);\n            }\n</code></pre>\n<p>Any help!</p>\n"},{"tags":["java","rest","web-services","spring-boot","pagination"],"answers":[{"tags":[],"owner":{"account_id":11865640,"reputation":395,"user_id":8683238,"accept_rate":100,"display_name":"Space Cadet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541004718,"creation_date":1541004718,"answer_id":53088467,"question_id":53011121,"body_markdown":"In the end I used `Pageable.unpaged()` as a parameter in place of `PageRequest.of(0, 10000)`, which seems to work.","title":"Calling Service With Pageable Parameter - Best Practice Question","body":"<p>In the end I used <code>Pageable.unpaged()</code> as a parameter in place of <code>PageRequest.of(0, 10000)</code>, which seems to work.</p>\n"},{"tags":[],"owner":{"account_id":4436369,"reputation":992,"user_id":3612124,"accept_rate":50,"display_name":"Istv&#225;n B&#233;k&#233;si"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668683046,"creation_date":1668683046,"answer_id":74474351,"question_id":53011121,"body_markdown":"Why would you pass pageable and unwrap the content if you don&#39;t need pagination in the first place?\r\nAssuming `mySecondaryService` is yours, you can add an unpaged `findAll` method to it and use that one.\r\n```\r\nList&lt;MyObject&gt; myObjects = mySecondaryService.getAllMyObjects();\r\n```\r\n\r\n(Btw, `Pageable.unpaged()` does the same under the hood)","title":"Calling Service With Pageable Parameter - Best Practice Question","body":"<p>Why would you pass pageable and unwrap the content if you don't need pagination in the first place?\nAssuming <code>mySecondaryService</code> is yours, you can add an unpaged <code>findAll</code> method to it and use that one.</p>\n<pre><code>List&lt;MyObject&gt; myObjects = mySecondaryService.getAllMyObjects();\n</code></pre>\n<p>(Btw, <code>Pageable.unpaged()</code> does the same under the hood)</p>\n"}],"owner":{"account_id":11865640,"reputation":395,"user_id":8683238,"accept_rate":100,"display_name":"Space Cadet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668683046,"creation_date":1540564847,"question_id":53011121,"body_markdown":"I have a service `MyMainService` that makes a call to another service `MySecondaryService` within the same package.  The method `getPagesOfMyObjects` being called in `MySecondaryService` returns a Page of objects of type `MyObject` and one of the method&#39;s parameters is a `Pageable` object.  `MyMainService` is, at present, not concerned with pagination.  But because I need to call the `getPagesOfMyObjects` method in `MySecondaryService` I need to provide it with a `Pageable` object that won&#39;t exclude any records that I might need.  My current solution (not very good) is to pass this as the `Pageable` parameter \r\n\r\n    public class MyMainServiceImpl implements MyMainService {\r\n\r\n        @Autowired\r\n        private MySecondaryService mySecondaryService\r\n\r\n        public void myMethod() {\r\n            Page&lt;MyObject&gt; pages = mySecondaryService.getPagesOfMyObjects(PageRequest.of(0, 10000));\r\n            List&lt;MyObject&gt; myObjects = pages.getContent();\r\n            //do stuff\r\n        }\r\n\r\n    }\r\n\r\nAs you can see it has 10000 hard-coded as its size parameter.  This doesn&#39;t feel like good practice to me.  Is there a better way to call this service?  I don&#39;t have the option of re-writing the existing `getPagesOfMyObjects` method.","title":"Calling Service With Pageable Parameter - Best Practice Question","body":"<p>I have a service <code>MyMainService</code> that makes a call to another service <code>MySecondaryService</code> within the same package.  The method <code>getPagesOfMyObjects</code> being called in <code>MySecondaryService</code> returns a Page of objects of type <code>MyObject</code> and one of the method's parameters is a <code>Pageable</code> object.  <code>MyMainService</code> is, at present, not concerned with pagination.  But because I need to call the <code>getPagesOfMyObjects</code> method in <code>MySecondaryService</code> I need to provide it with a <code>Pageable</code> object that won't exclude any records that I might need.  My current solution (not very good) is to pass this as the <code>Pageable</code> parameter </p>\n\n<pre><code>public class MyMainServiceImpl implements MyMainService {\n\n    @Autowired\n    private MySecondaryService mySecondaryService\n\n    public void myMethod() {\n        Page&lt;MyObject&gt; pages = mySecondaryService.getPagesOfMyObjects(PageRequest.of(0, 10000));\n        List&lt;MyObject&gt; myObjects = pages.getContent();\n        //do stuff\n    }\n\n}\n</code></pre>\n\n<p>As you can see it has 10000 hard-coded as its size parameter.  This doesn't feel like good practice to me.  Is there a better way to call this service?  I don't have the option of re-writing the existing <code>getPagesOfMyObjects</code> method.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1668631849,"post_id":74467019,"comment_id":131455768,"body_markdown":"Use a non-word boundary, `Pattern p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\B.*&quot;);`","body":"Use a non-word boundary, <code>Pattern p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\B.*&quot;);</code>"},{"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"score":0,"creation_date":1668632193,"post_id":74467019,"comment_id":131455852,"body_markdown":"@WiktorStribiżew nice one with C++, will this work with only &quot;C&quot;","body":"@WiktorStribiżew nice one with C++, will this work with only &quot;C&quot;"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1668632847,"post_id":74467019,"comment_id":131456040,"body_markdown":"If you want to match `C` not followed with `++`, use `\\bC\\b(?!\\+\\+)`","body":"If you want to match <code>C</code> not followed with <code>++</code>, use <code>\\bC\\b(?!\\+\\+)</code>"},{"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"score":0,"creation_date":1668633365,"post_id":74467019,"comment_id":131456184,"body_markdown":"@WiktorStribiżew  &#128077;   (?i).*\\\\bC\\\\b(?!\\\\+\\\\+).*","body":"@WiktorStribiżew  👍   (?i).*\\\\bC\\\\b(?!\\\\+\\\\+).*"}],"answers":[{"comments":[{"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"score":2,"creation_date":1668632855,"post_id":74467122,"comment_id":131456043,"body_markdown":"how to find only c and false for c++","body":"how to find only c and false for c++"}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1668632196,"creation_date":1668632196,"answer_id":74467122,"question_id":74467019,"body_markdown":"This seems to work at detecting either &quot;C++&quot; or &quot;c++&quot; anywhere in an input string.\r\n\r\n```java\r\nString regex = &quot;.*[cC]\\\\+\\\\+.*&quot;;\r\njava.util.regex.Pattern.matches(regex, &quot;This is NOT c++ !&quot;);\r\n```\r\n\r\nResults in `true`, but \r\n```java\r\njava.util.regex.Pattern.matches(regex, &quot;This is NOT c!&quot;);\r\n```\r\n\r\nresults in `false`.","title":"Java regex to find +(plus sign) with characters","body":"<p>This seems to work at detecting either &quot;C++&quot; or &quot;c++&quot; anywhere in an input string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;.*[cC]\\\\+\\\\+.*&quot;;\njava.util.regex.Pattern.matches(regex, &quot;This is NOT c++ !&quot;);\n</code></pre>\n<p>Results in <code>true</code>, but</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.regex.Pattern.matches(regex, &quot;This is NOT c!&quot;);\n</code></pre>\n<p>results in <code>false</code>.</p>\n"},{"comments":[{"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"score":0,"creation_date":1668637993,"post_id":74467902,"comment_id":131457544,"body_markdown":"for omitting all appending characters with C - &quot;(?i).*\\\\bC\\\\b(?!\\\\+|#|\\\\$|\\\\*|\\\\^|%|&amp;).*&quot; Phew is there is anyway to do a asterisk with those omitting characters, can we propose the regex community to do so?","body":"for omitting all appending characters with C - &quot;(?i).*\\\\bC\\\\b(?!\\\\+|#|\\\\$|\\*|\\\\^|%|&amp;).*&quot; Phew is there is anyway to do a asterisk with those omitting characters, can we propose the regex community to do so?"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1668640178,"post_id":74467902,"comment_id":131458007,"body_markdown":"@PradyutBhattacharya You need to make sure what your &quot;word&quot; boundary is like. If you can describe it using a finite amount of special chars, then the above pattern is a solution.  If you can describe it in any other way, please do and we&#39;ll be able to adjust the pattern.","body":"@PradyutBhattacharya You need to make sure what your &quot;word&quot; boundary is like. If you can describe it using a finite amount of special chars, then the above pattern is a solution.  If you can describe it in any other way, please do and we&#39;ll be able to adjust the pattern."}],"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668636881,"creation_date":1668636881,"answer_id":74467902,"question_id":74467019,"body_markdown":"You can use\r\n```java\r\nPattern p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\B.*&quot;);     // C++\r\nPattern p = Pattern.compile(&quot;(?i).*\\\\bC\\\\b(?!\\\\+{2}).*&quot;); // C only\r\n```\r\nHere,\r\n\r\n - `\\b` - a word boundary\r\n - `c\\+\\+` - a `c++` string \r\n - `\\B` - a non-word boundary, on the right, there must be end of string or a non-word char\r\n - `(?!\\+{2})` - a negative lookahead that fails the match if there is a `++` string immediately to the right of the current location.","title":"Java regex to find +(plus sign) with characters","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\B.*&quot;);     // C++\nPattern p = Pattern.compile(&quot;(?i).*\\\\bC\\\\b(?!\\\\+{2}).*&quot;); // C only\n</code></pre>\n<p>Here,</p>\n<ul>\n<li><code>\\b</code> - a word boundary</li>\n<li><code>c\\+\\+</code> - a <code>c++</code> string</li>\n<li><code>\\B</code> - a non-word boundary, on the right, there must be end of string or a non-word char</li>\n<li><code>(?!\\+{2})</code> - a negative lookahead that fails the match if there is a <code>++</code> string immediately to the right of the current location.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668682878,"creation_date":1668638152,"answer_id":74468079,"question_id":74467019,"body_markdown":"tough time omitting characters for only C \r\n\r\n    p = Pattern.compile(&quot;(?i).*\\\\bC\\\\b(?!\\\\+|#|\\\\$|\\\\*|\\\\^|%|&amp;|\\\\.).*&quot;);\r\n      m = p.matcher(test);\r\n        if(m.find()) {\r\n            System.out.println(&quot;C is true&quot;);\r\n        }\r\n        p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\B.*&quot;);\r\n      m = p.matcher(test);\r\n        if(m.find()) {\r\n            System.out.println(&quot;C++ is true&quot;);\r\n        }\r\n        p = Pattern.compile(&quot;(?i).*\\\\bc\\\\#\\\\B.*&quot;);\r\n      m = p.matcher(test);\r\n        if(m.find()) {\r\n            System.out.println(&quot;C# is true&quot;);\r\n        }","title":"Java regex to find +(plus sign) with characters","body":"<p>tough time omitting characters for only C</p>\n<pre><code>p = Pattern.compile(&quot;(?i).*\\\\bC\\\\b(?!\\\\+|#|\\\\$|\\\\*|\\\\^|%|&amp;|\\\\.).*&quot;);\n  m = p.matcher(test);\n    if(m.find()) {\n        System.out.println(&quot;C is true&quot;);\n    }\n    p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\B.*&quot;);\n  m = p.matcher(test);\n    if(m.find()) {\n        System.out.println(&quot;C++ is true&quot;);\n    }\n    p = Pattern.compile(&quot;(?i).*\\\\bc\\\\#\\\\B.*&quot;);\n  m = p.matcher(test);\n    if(m.find()) {\n        System.out.println(&quot;C# is true&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668682878,"creation_date":1668631632,"question_id":74467019,"body_markdown":"With java regex i want to find the word &quot;C++&quot; and it should not be positive with only &quot;C&quot;.\r\n\r\nThe below code should explain the rest, see [here][1]\r\n\r\n    import java.util.*;\r\n    import java.util.regex.*;\r\n    public class MyClass {\r\n    public static void main(String args[]) {\r\n      \r\n      String test = &quot;Framework, c++ and Visual Studio IDEs.&quot;;\r\n      Pattern p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\b.*&quot;);\r\n      Matcher m = p.matcher(test);\r\n        if(m.find()) {\r\n            System.out.println(&quot;Pattern1 True&quot;);\r\n        }\r\n      p = Pattern.compile(&quot;(?i).*\\\\Bc.+.+\\\\B.*&quot;);\r\n      m = p.matcher(test);\r\n        if(m.find()) {\r\n            System.out.print(&quot;Pattern2 True&quot;);\r\n        }\r\n        p = Pattern.compile(&quot;(?i).*\\\\bc+$\\\\b.*&quot;);\r\n      m = p.matcher(test);\r\n        if(m.find()) {\r\n            System.out.println(&quot;Pattern3 is True but how to return false&quot;);\r\n        }\r\n        p = Pattern.compile(&quot;(?i).*\\\\Bc\\\\B.*&quot;);\r\n      m = p.matcher(test);\r\n        if(m.find()) {\r\n            System.out.println(&quot;Pattern4 is True&quot;);\r\n        }\r\n      if(test.toLowerCase()   .contains(&quot;c++&quot;)) {\r\n            System.out.print(&quot;Contains c++ True&quot;);\r\n      }\r\n      if(test.toLowerCase().contains(&quot;C&quot;)) {\r\n            System.out.print(&quot;Contains C True&quot;);\r\n      }\r\n    }\r\n    }\r\n\r\n  [1]: https://jdoodle.com/ia/zvQ","title":"Java regex to find +(plus sign) with characters","body":"<p>With java regex i want to find the word &quot;C++&quot; and it should not be positive with only &quot;C&quot;.</p>\n<p>The below code should explain the rest, see <a href=\"https://jdoodle.com/ia/zvQ\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>import java.util.*;\nimport java.util.regex.*;\npublic class MyClass {\npublic static void main(String args[]) {\n  \n  String test = &quot;Framework, c++ and Visual Studio IDEs.&quot;;\n  Pattern p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\b.*&quot;);\n  Matcher m = p.matcher(test);\n    if(m.find()) {\n        System.out.println(&quot;Pattern1 True&quot;);\n    }\n  p = Pattern.compile(&quot;(?i).*\\\\Bc.+.+\\\\B.*&quot;);\n  m = p.matcher(test);\n    if(m.find()) {\n        System.out.print(&quot;Pattern2 True&quot;);\n    }\n    p = Pattern.compile(&quot;(?i).*\\\\bc+$\\\\b.*&quot;);\n  m = p.matcher(test);\n    if(m.find()) {\n        System.out.println(&quot;Pattern3 is True but how to return false&quot;);\n    }\n    p = Pattern.compile(&quot;(?i).*\\\\Bc\\\\B.*&quot;);\n  m = p.matcher(test);\n    if(m.find()) {\n        System.out.println(&quot;Pattern4 is True&quot;);\n    }\n  if(test.toLowerCase()   .contains(&quot;c++&quot;)) {\n        System.out.print(&quot;Contains c++ True&quot;);\n  }\n  if(test.toLowerCase().contains(&quot;C&quot;)) {\n        System.out.print(&quot;Contains C True&quot;);\n  }\n}\n}\n</code></pre>\n"},{"tags":["java","switch-statement","java-19"],"comments":[{"owner":{"account_id":953149,"reputation":177323,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":3,"creation_date":1668674009,"post_id":74472289,"comment_id":131464428,"body_markdown":"Sorry if this is a stupid question, but: what&#39;s the advantage of this notation over using if/else if?","body":"Sorry if this is a stupid question, but: what&#39;s the advantage of this notation over using if/else if?"},{"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":1,"creation_date":1668674042,"post_id":74472289,"comment_id":131464443,"body_markdown":"it is just more concise sometimes and looks cleaner. No need for cascading ifs that keep sliding to the right.","body":"it is just more concise sometimes and looks cleaner. No need for cascading ifs that keep sliding to the right."},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":2,"creation_date":1668674380,"post_id":74472289,"comment_id":131464568,"body_markdown":"@GonenI `if` ... `then` ... `else if` ... is not sliding to the right","body":"@GonenI <code>if</code> ... <code>then</code> ... <code>else if</code> ... is not sliding to the right"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1668674541,"post_id":74472289,"comment_id":131464623,"body_markdown":"As Gonen said, there is no &quot;sliding to the right&quot; of ifs (I &#39;ll just assume you mean indentation) unless you nest them, and if you do so, the same will occur with switch-case","body":"As Gonen said, there is no &quot;sliding to the right&quot; of ifs (I &#39;ll just assume you mean indentation) unless you nest them, and if you do so, the same will occur with switch-case"},{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":0,"creation_date":1668674723,"post_id":74472289,"comment_id":131464685,"body_markdown":"For 2 &quot;cases&quot; an if-statement is normally enough... But just for the sake of @GonenI argument, when there is 5 &quot;cases&quot; an if-statement can get messy.","body":"For 2 &quot;cases&quot; an if-statement is normally enough... But just for the sake of @GonenI argument, when there is 5 &quot;cases&quot; an if-statement can get messy."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1668675394,"post_id":74472289,"comment_id":131464941,"body_markdown":"`System.out.println(num &gt; 100? &quot;Big&quot;: num &gt; 50? &quot;Med&quot;: &quot;Small&quot;);` or, when it really has to be a `switch`, you can use `System.out.println(switch((num-1)/50) { default -&gt; &quot;Big&quot;; case 1 -&gt; &quot;Med&quot;; case 0 -&gt; &quot;Small&quot;; });`","body":"<code>System.out.println(num &gt; 100? &quot;Big&quot;: num &gt; 50? &quot;Med&quot;: &quot;Small&quot;);</code> or, when it really has to be a <code>switch</code>, you can use <code>System.out.println(switch((num-1)&#47;50) { default -&gt; &quot;Big&quot;; case 1 -&gt; &quot;Med&quot;; case 0 -&gt; &quot;Small&quot;; });</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1668675647,"post_id":74472289,"comment_id":131465015,"body_markdown":"The closest to your idea would be the (modified) example taken from [JEP 427](https://openjdk.org/jeps/427) (right above section 2): `Integer num = 5; switch(num) { case Integer i when i &gt; 100 -&gt; ...; case Integer i when i &gt; 50 -&gt; ...; default -&gt; ...;}`.","body":"The closest to your idea would be the (modified) example taken from <a href=\"https://openjdk.org/jeps/427\" rel=\"nofollow noreferrer\">JEP 427</a> (right above section 2): <code>Integer num = 5; switch(num) { case Integer i when i &gt; 100 -&gt; ...; case Integer i when i &gt; 50 -&gt; ...; default -&gt; ...;}</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1668675751,"post_id":74472289,"comment_id":131465046,"body_markdown":"The first example could be written as `System.out.println(&quot;It&#39;s &quot; + (LocalTime.now().get(ChronoField.AMPM_OF_DAY) == 0? &quot;before&quot;: &quot;after&quot;) + &quot; noon&quot;);` There is no elegance in using a `switch` with redundant code in each `case`","body":"The first example could be written as <code>System.out.println(&quot;It&#39;s &quot; + (LocalTime.now().get(ChronoField.AMPM_OF_DAY) == 0? &quot;before&quot;: &quot;after&quot;) + &quot; noon&quot;);</code> There is no elegance in using a <code>switch</code> with redundant code in each <code>case</code>"}],"answers":[{"comments":[{"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":2,"creation_date":1668687059,"post_id":74473931,"comment_id":131469249,"body_markdown":"Thanks. I agree with the principle of least surprise. I wouldn&#39;t write code like this which emulates a structure that isn&#39;t truly implemented in the language. I mostly wanted to check if I hadn&#39;t missed something that has become available in recent versions.","body":"Thanks. I agree with the principle of least surprise. I wouldn&#39;t write code like this which emulates a structure that isn&#39;t truly implemented in the language. I mostly wanted to check if I hadn&#39;t missed something that has become available in recent versions."},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1668703763,"post_id":74473931,"comment_id":131476141,"body_markdown":"&quot;The principle of least-surprise&quot; - so true","body":"&quot;The principle of least-surprise&quot; - so true"}],"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668682870,"creation_date":1668681370,"answer_id":74473931,"question_id":74472289,"body_markdown":"There a few principles that I can think of that can guide decisions for situations like this:\r\n\r\n1. Avoid over-engineering\r\n2. The principle of least-surprise\r\n3. Use the right tool for the job\r\n\r\nThe switch statement is used for executing different code paths based on possible values of a particular variable. The `when` extension was invented to add some flexibility and terseness to this mechanism, but the original purpose of the mechanism is still there: to switch on possible values of a particular variable.\r\n\r\nThe very concept of a &quot;switch&quot; is based on the idea of more than one outcome which is controlled by something; in the case of the `switch` statement, that something is the switch expression. If there is no switch expression, then it is not a switch, it is a collection of mutually exclusive rules.\r\n\r\nAnother idea behind the invention of the `switch` statement was the possibility of optimization. The original implementations of `switch` statements used highly efficient lookup tables, that&#39;s why they could only operate on `int`. Modern switch statements work on more complex values, but when there is a single controlling switch expression there is still some possibility of optimization. No such thing happens when there is no switch expression.\r\n\r\nWhen I see a switch statement, I expect to see various different things done based on different values of a particular variable; I do not expect to see just about anything being done in there. If I study the code and I notice that my expectation is not met, I will be mighty surprised. Disappointed even.\r\n\r\nSo, the nicer way of doing this is to go back to the good old, familiar, tried-and-true, cascaded `if-else` statement.\r\n\r\n------------------\r\nThe fact that golang allows the creation of meaningless `switch` statements means absolutely nothing to me. Many languages make useless choices. Many languages do not even have any particular reason of existence. Many people consider the &quot;idiomatic&quot; way of doing things in a particular language to be a goal in and of itself, while it is not. If you feel tempted to take an idiomatic feature of your favorite language and apply it in other languages, first ask yourself whether the feature had any merit even in the original language. Often, it does not.","title":"Java Switch Without Expression","body":"<p>There a few principles that I can think of that can guide decisions for situations like this:</p>\n<ol>\n<li>Avoid over-engineering</li>\n<li>The principle of least-surprise</li>\n<li>Use the right tool for the job</li>\n</ol>\n<p>The switch statement is used for executing different code paths based on possible values of a particular variable. The <code>when</code> extension was invented to add some flexibility and terseness to this mechanism, but the original purpose of the mechanism is still there: to switch on possible values of a particular variable.</p>\n<p>The very concept of a &quot;switch&quot; is based on the idea of more than one outcome which is controlled by something; in the case of the <code>switch</code> statement, that something is the switch expression. If there is no switch expression, then it is not a switch, it is a collection of mutually exclusive rules.</p>\n<p>Another idea behind the invention of the <code>switch</code> statement was the possibility of optimization. The original implementations of <code>switch</code> statements used highly efficient lookup tables, that's why they could only operate on <code>int</code>. Modern switch statements work on more complex values, but when there is a single controlling switch expression there is still some possibility of optimization. No such thing happens when there is no switch expression.</p>\n<p>When I see a switch statement, I expect to see various different things done based on different values of a particular variable; I do not expect to see just about anything being done in there. If I study the code and I notice that my expectation is not met, I will be mighty surprised. Disappointed even.</p>\n<p>So, the nicer way of doing this is to go back to the good old, familiar, tried-and-true, cascaded <code>if-else</code> statement.</p>\n<hr />\n<p>The fact that golang allows the creation of meaningless <code>switch</code> statements means absolutely nothing to me. Many languages make useless choices. Many languages do not even have any particular reason of existence. Many people consider the &quot;idiomatic&quot; way of doing things in a particular language to be a goal in and of itself, while it is not. If you feel tempted to take an idiomatic feature of your favorite language and apply it in other languages, first ask yourself whether the feature had any merit even in the original language. Often, it does not.</p>\n"}],"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1668682870,"creation_date":1668673846,"question_id":74472289,"body_markdown":"In GoLang you can have a switch without an expression, where the cases replace a series of cascading ifs. \r\n\r\n    t := time.Now()\r\n    switch {\r\n    case t.Hour() &lt; 12:\r\n        fmt.Println(&quot;It&#39;s before noon&quot;)\r\n    default:\r\n        fmt.Println(&quot;It&#39;s after noon&quot;)\r\n    }\r\n\r\nIn Java 19 I can simulate this with this kind of hack by using switch pattern matching with &quot;guarded pattern `when`&quot; and when the main expression is always true and the guarded pattern does the real work. \r\n( Or in Java 17 but using `&amp;&amp;` instead of `when`)\r\n\r\n    int num=5;\r\n    switch (System.out) {\r\n        case Object o when num&gt;100 -&gt; System.out.println(&quot;Big&quot;);\r\n        case Object o when num&gt;50 -&gt; System.out.println(&quot;Med&quot;);\r\n        default -&gt; {System.out.println(&quot;Small&quot;);}\r\n    }\r\n\r\nObviously these simple cases can be written without a switch, but when you have a long series of if-else-if=else, not necessarily on the same variable, this kind of structure can be more concise.\r\n\r\nAnyone know a nicer way to do this?\r\n","title":"Java Switch Without Expression","body":"<p>In GoLang you can have a switch without an expression, where the cases replace a series of cascading ifs.</p>\n<pre><code>t := time.Now()\nswitch {\ncase t.Hour() &lt; 12:\n    fmt.Println(&quot;It's before noon&quot;)\ndefault:\n    fmt.Println(&quot;It's after noon&quot;)\n}\n</code></pre>\n<p>In Java 19 I can simulate this with this kind of hack by using switch pattern matching with &quot;guarded pattern <code>when</code>&quot; and when the main expression is always true and the guarded pattern does the real work.\n( Or in Java 17 but using <code>&amp;&amp;</code> instead of <code>when</code>)</p>\n<pre><code>int num=5;\nswitch (System.out) {\n    case Object o when num&gt;100 -&gt; System.out.println(&quot;Big&quot;);\n    case Object o when num&gt;50 -&gt; System.out.println(&quot;Med&quot;);\n    default -&gt; {System.out.println(&quot;Small&quot;);}\n}\n</code></pre>\n<p>Obviously these simple cases can be written without a switch, but when you have a long series of if-else-if=else, not necessarily on the same variable, this kind of structure can be more concise.</p>\n<p>Anyone know a nicer way to do this?</p>\n"},{"tags":["java","multithreading","scala","maven","build"],"comments":[{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1441263750,"post_id":32368976,"comment_id":52609671,"body_markdown":"Have you tried building it *offline* using the `-o` option (assuming your dependencies don&#39;t change frequently)","body":"Have you tried building it <i>offline</i> using the <code>-o</code> option (assuming your dependencies don&#39;t change frequently)"},{"owner":{"account_id":5031739,"reputation":2502,"user_id":4041711,"accept_rate":53,"display_name":"Shubham Chaurasia"},"score":0,"creation_date":1441263968,"post_id":32368976,"comment_id":52609803,"body_markdown":"No. I was unaware of -o option. Let me try it. Thanks.","body":"No. I was unaware of -o option. Let me try it. Thanks."},{"owner":{"account_id":5031739,"reputation":2502,"user_id":4041711,"accept_rate":53,"display_name":"Shubham Chaurasia"},"score":0,"creation_date":1441264298,"post_id":32368976,"comment_id":52609971,"body_markdown":"@ TheLostMind Sorry. No improvements.","body":"@ TheLostMind Sorry. No improvements."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1441264670,"post_id":32368976,"comment_id":52610170,"body_markdown":"How many tests do you have? Why are you running very often? How many modules do you have?","body":"How many tests do you have? Why are you running very often? How many modules do you have?"},{"owner":{"account_id":5031739,"reputation":2502,"user_id":4041711,"accept_rate":53,"display_name":"Shubham Chaurasia"},"score":0,"creation_date":1441264880,"post_id":32368976,"comment_id":52610301,"body_markdown":"I do skip tests. Around 30 modules","body":"I do skip tests. Around 30 modules"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1441265496,"post_id":32368976,"comment_id":52610637,"body_markdown":"How long does the clean take?","body":"How long does the clean take?"},{"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":1,"creation_date":1441288250,"post_id":32368976,"comment_id":52625776,"body_markdown":"Zeroturnaround published an interesting [article](http://zeroturnaround.com/rebellabs/your-maven-build-is-slow-speed-it-up/). Maybe you find some hints therein.","body":"Zeroturnaround published an interesting <a href=\"http://zeroturnaround.com/rebellabs/your-maven-build-is-slow-speed-it-up/\" rel=\"nofollow noreferrer\">article</a>. Maybe you find some hints therein."}],"answers":[{"comments":[{"owner":{"account_id":1809759,"reputation":2549,"user_id":1646082,"accept_rate":80,"display_name":"Vartlok"},"score":6,"creation_date":1441264845,"post_id":32369256,"comment_id":52610282,"body_markdown":"Also, SSD greatly accelerates build&#39;s speed.","body":"Also, SSD greatly accelerates build&#39;s speed."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1441265204,"post_id":32369256,"comment_id":52610493,"body_markdown":"I found this http://stackoverflow.com/questions/17091425/will-ssd-drive-make-maven-builds-faster","body":"I found this <a href=\"http://stackoverflow.com/questions/17091425/will-ssd-drive-make-maven-builds-faster\" title=\"will ssd drive make maven builds faster\">stackoverflow.com/questions/17091425/&hellip;</a>"},{"owner":{"account_id":5031739,"reputation":2502,"user_id":4041711,"accept_rate":53,"display_name":"Shubham Chaurasia"},"score":0,"creation_date":1441265857,"post_id":32369256,"comment_id":52610825,"body_markdown":"Thanks @ Vartlok , @Subodh. SSD is not pragmatic in my case. Its a office PC","body":"Thanks @ Vartlok , @Subodh. SSD is not pragmatic in my case. Its a office PC"},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1441266127,"post_id":32369256,"comment_id":52610996,"body_markdown":"@ShubhamChaurasia You are Welcome","body":"@ShubhamChaurasia You are Welcome"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1545643555,"post_id":32369256,"comment_id":94666956,"body_markdown":"@Vartlok: any benchmarks showing comparison of build speed on hdd vs ssd?","body":"@Vartlok: any benchmarks showing comparison of build speed on hdd vs ssd?"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1636694485,"post_id":32369256,"comment_id":123630074,"body_markdown":"You can set the memory settings via env-var like this: `export MAVEN_OPTS=&quot;-Xmx2g -XX:MaxPermSize=256m&quot;`. No need to touch the `mvn.bat`","body":"You can set the memory settings via env-var like this: <code>export MAVEN_OPTS=&quot;-Xmx2g -XX:MaxPermSize=256m&quot;</code>. No need to touch the <code>mvn.bat</code>"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1675534071,"post_id":32369256,"comment_id":132951479,"body_markdown":"`Unrecognized VM option &#39;MaxPermSize=256m&#39;`","body":"<code>Unrecognized VM option &#39;MaxPermSize=256m&#39;</code>"}],"tags":[],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":7,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1441264656,"creation_date":1441264656,"answer_id":32369256,"question_id":32368976,"body_markdown":"You can optimize the build by using of some small-2 trick like \r\n\r\n 1. If you have written Junit Test and dont want to run test case every time you can use `-DskipTests=true`\r\n 2. Locally Install Nexus or Repositories\r\n 3. You can adjust memory configurations to optimum for eg: add this line to `mvn.bat` set `MAVEN_OPTS=-Xmx512m -XX:MaxPermSize=256m` \r\n\r\nFor more information you can check [How to Speed Your Maven build][1]\r\n\r\n\r\n  [1]: http://bosy.dailydev.org/2009/02/speed-up-your-maven-build-four-times.html","title":"Ways to make maven build faster?","body":"<p>You can optimize the build by using of some small-2 trick like </p>\n\n<ol>\n<li>If you have written Junit Test and dont want to run test case every time you can use <code>-DskipTests=true</code></li>\n<li>Locally Install Nexus or Repositories</li>\n<li>You can adjust memory configurations to optimum for eg: add this line to <code>mvn.bat</code> set <code>MAVEN_OPTS=-Xmx512m -XX:MaxPermSize=256m</code> </li>\n</ol>\n\n<p>For more information you can check <a href=\"http://bosy.dailydev.org/2009/02/speed-up-your-maven-build-four-times.html\" rel=\"noreferrer\">How to Speed Your Maven build</a></p>\n"},{"comments":[{"owner":{"account_id":1276047,"reputation":963,"user_id":1231300,"accept_rate":86,"display_name":"Антон Антонов"},"score":39,"creation_date":1501505865,"post_id":34991042,"comment_id":77793833,"body_markdown":"The -T xC is actually threads per core so in your case it is 8 * 8 = 64 threads. If you want to specify the exact number of threads spawned by maven process you should use the -T x option. Source: https://cwiki.apache.org/confluence/display/MAVEN/Parallel+builds+in+Maven+3","body":"The -T xC is actually threads per core so in your case it is 8 * 8 = 64 threads. If you want to specify the exact number of threads spawned by maven process you should use the -T x option. Source: <a href=\"https://cwiki.apache.org/confluence/display/MAVEN/Parallel+builds+in+Maven+3\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/MAVEN/&hellip;</a>"}],"tags":[],"owner":{"account_id":3501268,"reputation":1387,"user_id":3219580,"display_name":"ccreedon1"},"comment_count":1,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1553706919,"creation_date":1453719875,"answer_id":34991042,"question_id":32368976,"body_markdown":"&lt;!-- language-all: lang-none --&gt;\r\n\r\nIf using commandline you can check how many cores your machine has and use all of them, if you also want to skip your tests, you can add `-DskipTests`\r\nFor example, I have 8 core processor:\r\n\r\n    mvn -T 8C clean install -DskipTests","title":"Ways to make maven build faster?","body":"\n\n<p>If using commandline you can check how many cores your machine has and use all of them, if you also want to skip your tests, you can add <code>-DskipTests</code>\nFor example, I have 8 core processor:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mvn -T 8C clean install -DskipTests\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10294808,"reputation":1177,"user_id":7595371,"display_name":"Michael"},"score":14,"creation_date":1598311789,"post_id":44646756,"comment_id":112411959,"body_markdown":"-DskipTests still compiles the tests.  If you want to skip compiling too, use -Dmaven.test.skip","body":"-DskipTests still compiles the tests.  If you want to skip compiling too, use -Dmaven.test.skip"}],"tags":[],"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"comment_count":1,"down_vote_count":0,"up_vote_count":77,"is_accepted":true,"score":77,"last_activity_date":1541082514,"creation_date":1497944256,"answer_id":44646756,"question_id":32368976,"body_markdown":"### ***Note: First thing is AFAIK, No other in built options available in maven apart from the all answers here.***\r\n\r\n-----------------------\r\n\r\n\r\nRunning maven build with Multiple threads works for me to speed up the builds.\r\nFor example : \r\n\r\n    mvn clean install -T100\r\n\r\n&gt; where -T is for specifying how many threads you want based on your\r\n&gt; hardware.\r\n\r\n###[Below are the variants from wiki][1]\r\n\r\n&gt; Maven 3.x has the capability to perform parallel builds.    The command\r\n&gt; is as follows: \r\n&gt; \r\n&gt; - mvn -T 4 clean install   Builds with 4 threads \r\n&gt; - mvn -T 1C clean install  1 thread per cpu core   \r\n&gt; - mvn -T 1.5C clean install 1.5 thread per cpu core\r\n\r\n\r\n###How Execution is evaluated([See Parallel builds in Maven 3][1])?\r\n\r\n[![enter image description here][2]][2]\r\n\r\nEach node in the graph represents a module in a multi-module build, the &quot;levels&quot; simply indicate the distance to the first module in the internal reactor dependency graph. Maven calculates this graph based on declared inter-module dependencies for a multi-module build. Note that the parent maven project is also a dependency, which explains why there is a single node on top of most project graphs. Dependencies outside the reactor do not influence this graph.\r\n\r\n***Finally if you want to skip test execution you can also use `-DskipTests` as well.***\r\n\r\n***Caution :***  Some of your plugins may not be compatible for multithreaded builder, it may work. but it will give below warning message. you may need to see plugin documentation for multithreading support.\r\n\r\n \r\n\r\n    [WARNING] *****************************************************************                                                                                                                                 \r\n    [WARNING] * Your build is requesting parallel execution, but project      *                                                                                                                                 \r\n    [WARNING] * contains the following plugin(s) that have goals not marked   *                                                                                                                                 \r\n    [WARNING] * as @threadSafe to support parallel building.                  *                                                                                                                                 \r\n    [WARNING] * While this /may/ work fine, please look for plugin updates    *                                                                                                                                 \r\n    [WARNING] * and/or request plugins be made thread-safe.                   *                                                                                                                                 \r\n    [WARNING] * If reporting an issue, report it against the plugin in        *                                                                                                                                 \r\n    [WARNING] * question, not against maven-core                              *                                                                                                                                 \r\n    [WARNING] *****************************************************************                                                                                                                                 \r\n    [WARNING] The following plugins are not marked @threadSafe in test-project:                                                                                                                          \r\n    [WARNING] de.dentrassi.maven:rpm:0.9.2                                                                                                                                                                      \r\n    [WARNING] Enable debug to see more precisely which goals are not marked @threadSafe.                                                                                                                        \r\n    [WARNING] *****************************************************************    \r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/MAVEN/Parallel+builds+in+Maven+3\r\n  [2]: https://i.stack.imgur.com/LjYla.png","title":"Ways to make maven build faster?","body":"<h3><strong><em>Note: First thing is AFAIK, No other in built options available in maven apart from the all answers here.</em></strong></h3>\n\n<hr>\n\n<p>Running maven build with Multiple threads works for me to speed up the builds.\nFor example : </p>\n\n<pre><code>mvn clean install -T100\n</code></pre>\n\n<blockquote>\n  <p>where -T is for specifying how many threads you want based on your\n  hardware.</p>\n</blockquote>\n\n<h3><a href=\"https://cwiki.apache.org/confluence/display/MAVEN/Parallel+builds+in+Maven+3\" rel=\"noreferrer\">Below are the variants from wiki</a></h3>\n\n<blockquote>\n  <p>Maven 3.x has the capability to perform parallel builds.    The command\n  is as follows: </p>\n  \n  <ul>\n  <li>mvn -T 4 clean install   Builds with 4 threads </li>\n  <li>mvn -T 1C clean install  1 thread per cpu core   </li>\n  <li>mvn -T 1.5C clean install 1.5 thread per cpu core</li>\n  </ul>\n</blockquote>\n\n<h3>How Execution is evaluated(<a href=\"https://cwiki.apache.org/confluence/display/MAVEN/Parallel+builds+in+Maven+3\" rel=\"noreferrer\">See Parallel builds in Maven 3</a>)?</h3>\n\n<p><a href=\"https://i.stack.imgur.com/LjYla.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LjYla.png\" alt=\"enter image description here\"></a></p>\n\n<p>Each node in the graph represents a module in a multi-module build, the \"levels\" simply indicate the distance to the first module in the internal reactor dependency graph. Maven calculates this graph based on declared inter-module dependencies for a multi-module build. Note that the parent maven project is also a dependency, which explains why there is a single node on top of most project graphs. Dependencies outside the reactor do not influence this graph.</p>\n\n<p><strong><em>Finally if you want to skip test execution you can also use <code>-DskipTests</code> as well.</em></strong></p>\n\n<p><strong><em>Caution :</em></strong>  Some of your plugins may not be compatible for multithreaded builder, it may work. but it will give below warning message. you may need to see plugin documentation for multithreading support.</p>\n\n<pre><code>[WARNING] *****************************************************************                                                                                                                                 \n[WARNING] * Your build is requesting parallel execution, but project      *                                                                                                                                 \n[WARNING] * contains the following plugin(s) that have goals not marked   *                                                                                                                                 \n[WARNING] * as @threadSafe to support parallel building.                  *                                                                                                                                 \n[WARNING] * While this /may/ work fine, please look for plugin updates    *                                                                                                                                 \n[WARNING] * and/or request plugins be made thread-safe.                   *                                                                                                                                 \n[WARNING] * If reporting an issue, report it against the plugin in        *                                                                                                                                 \n[WARNING] * question, not against maven-core                              *                                                                                                                                 \n[WARNING] *****************************************************************                                                                                                                                 \n[WARNING] The following plugins are not marked @threadSafe in test-project:                                                                                                                          \n[WARNING] de.dentrassi.maven:rpm:0.9.2                                                                                                                                                                      \n[WARNING] Enable debug to see more precisely which goals are not marked @threadSafe.                                                                                                                        \n[WARNING] *****************************************************************    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8185629,"reputation":111,"user_id":6161539,"display_name":"Vladimir I"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1595400125,"creation_date":1512511283,"answer_id":47663379,"question_id":32368976,"body_markdown":"You can do a hacky way if you have some extra RAM as I do, and you don&#39;t need SSD, because it&#39;s sensitive for SSD to do a lot of read-writes. Even if you disable +a bit (MacOS - I don&#39;t remember if Win have similar issue). But\r\n\r\n1) create RAM drive (number of ways depends on your OS) and mount it to /Users/Username/volatile folder\r\n\r\n2) locate maven-module-builder-X.X.X.jar in MVN_HOME/lib\r\n\r\n3) in JAR modify file org/apache/maven/model/pom-4.0.0.xml by modifying\r\n\r\n`&amp;lt;build&gt;&amp;lt;directory&gt;/Users/Username/volatile/${project.groupId}/${project.artifactId}/${project.version}/target`\r\n\r\n4) From now on all project compilations will be done in memory. And it&#39;s a difference even in comparison with SSD.\r\n\r\nYes, its hack and some maven plugins can stop working BTW.","title":"Ways to make maven build faster?","body":"<p>You can do a hacky way if you have some extra RAM as I do, and you don't need SSD, because it's sensitive for SSD to do a lot of read-writes. Even if you disable +a bit (MacOS - I don't remember if Win have similar issue). But</p>\n<ol>\n<li><p>create RAM drive (number of ways depends on your OS) and mount it to /Users/Username/volatile folder</p>\n</li>\n<li><p>locate maven-module-builder-X.X.X.jar in MVN_HOME/lib</p>\n</li>\n<li><p>in JAR modify file org/apache/maven/model/pom-4.0.0.xml by modifying</p>\n</li>\n</ol>\n<p><code>&amp;lt;build&gt;&amp;lt;directory&gt;/Users/Username/volatile/${project.groupId}/${project.artifactId}/${project.version}/target</code></p>\n<ol start=\"4\">\n<li>From now on all project compilations will be done in memory. And it's a difference even in comparison with SSD.</li>\n</ol>\n<p>Yes, its hack and some maven plugins can stop working BTW.</p>\n"},{"comments":[{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1577371221,"post_id":54514457,"comment_id":105154028,"body_markdown":"Why the difference between 2 and 3?","body":"Why the difference between 2 and 3?"},{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":19,"creation_date":1577451380,"post_id":54514457,"comment_id":105174566,"body_markdown":"2 still compiles the tests but doesn&#39;t run them, 3 doesn&#39;t even compile the tests. `-DskipTests` is redundant in 3 and can be left out, it will yield identical results.","body":"2 still compiles the tests but doesn&#39;t run them, 3 doesn&#39;t even compile the tests. <code>-DskipTests</code> is redundant in 3 and can be left out, it will yield identical results."},{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":1,"creation_date":1595366686,"post_id":54514457,"comment_id":111448814,"body_markdown":"I would also recommend adding `-Dmaven.javadoc.skip=true` if you&#39;re compiling for local build. This will skip creating javadocs which is a huge help on my machine","body":"I would also recommend adding <code>-Dmaven.javadoc.skip=true</code> if you&#39;re compiling for local build. This will skip creating javadocs which is a huge help on my machine"},{"owner":{"account_id":3924607,"reputation":802,"user_id":3245621,"display_name":"Janet"},"score":1,"creation_date":1613154067,"post_id":54514457,"comment_id":116997945,"body_markdown":"using ```mvn -T 1C clean install -Dmaven.test.skip -DskipTests``` decreased my build time from 25 minutes to 3:53 minutes. Thanks!","body":"using <code>mvn -T 1C clean install -Dmaven.test.skip -DskipTests</code> decreased my build time from 25 minutes to 3:53 minutes. Thanks!"},{"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"score":0,"creation_date":1660305776,"post_id":54514457,"comment_id":129507523,"body_markdown":"On my project (~3000 lines of code, 42 seconds maven build time on local machine), no compile time difference has been seen when removing &#39;import *&#39; and using `-Dmaven.javadoc.skip=true`. Maybe my project is too small... Skipping the tests reduces the maven build time by about 10 seconds (but I want my project to be tested so will not disable the tests).","body":"On my project (~3000 lines of code, 42 seconds maven build time on local machine), no compile time difference has been seen when removing &#39;import *&#39; and using <code>-Dmaven.javadoc.skip=true</code>. Maybe my project is too small... Skipping the tests reduces the maven build time by about 10 seconds (but I want my project to be tested so will not disable the tests)."}],"tags":[],"owner":{"account_id":12553566,"reputation":897,"user_id":9134193,"display_name":"mourad m"},"comment_count":5,"down_vote_count":1,"up_vote_count":68,"is_accepted":false,"score":67,"last_activity_date":1650105390,"creation_date":1549276999,"answer_id":54514457,"question_id":32368976,"body_markdown":"On my actual project :\r\n\r\n 1. `mvn clean install` [INFO] Total time: **01:05 h** \r\n 2. `mvn clean install -DskipTests` [INFO] Total time: **18:35 min**\r\n 3. `mvn clean install -Dmaven.test.skip -DskipTests` **[INFO] Total time: 10:58 min**\r\n 4. `mvn -T 1C clean install -Dmaven.test.skip -DskipTests` [INFO] Total time: **04:00 min**\r\n 5. We can also skip the javadoc to be generated as **Archmed commented** by adding **-Dmaven.javadoc.skip=true** `mvn -T 1C clean install -Dmaven.test.skip -DskipTests -Dmaven.javadoc.skip=true`\r\n 6. Don&#39;t use **\\* imports**, on IntelliJ, choose &gt; Analyze &gt; Run inspection by name &gt; * imports , to find all * imports and correct it.\r\n 7. Remove all **unused imports** in your project &gt; on Intellij &gt; Analyze &gt; Run inspection by name &gt; unused imports\r\n 8. Remove all **unused code** (classes, variable, field, parameter, etc..), on Intellij : Analyze &gt; run inspection by name &gt; unused declaration.\r\n 9. Upgrade to **last JAVA VERSION**\r\n 10. I have found that the task **mvn clean**, is taking 2 minutes to clean the TARGET folder before building. I did create a new task called **quickclean**, and I am using it instead of clean, this way `mvn -T 1C quickclean install -Dmaven.test.skip -DskipTests` . This new task quickclean is only **renaming the build folder** from TARGET to TARGET-yyyy-MM-dd-HH-mm(*what is VERY FAST*). So now, every time you make a new `mvn quickclean install...`, you have a folder with the time of the build. **The inconvenient**, it&#39;s that this may take **a lot of space on the hard disk**, so you have to clean all these directories sometimes. So for that I have created another task called: **trashclean**, to put all this folder to trash. I am running this tasks maybe on time per week. or month, depending on my work `mvn trashclean`.\r\n\r\n\r\nHere is what you need to add to your pom.xml if you want to use this concept\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\r\n        &lt;maven.build.timestamp.format&gt;yyyy-MM-dd-HH-mm&lt;/maven.build.timestamp.format&gt;\r\n        &lt;trashdir&gt;trash/target-${maven.build.timestamp}&lt;/trashdir&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t\t&lt;profile&gt;\r\n            &lt;id&gt;quickclean&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;rename_target&lt;/id&gt;\r\n                                &lt;phase&gt;pre-clean&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;run&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;tasks&gt;\r\n                                        &lt;move todir=&quot;${trashdir}&quot; failonerror=&quot;false&quot;&gt;\r\n                                            &lt;fileset dir=&quot;target/&quot;/&gt;\r\n                                        &lt;/move&gt;\r\n                                    &lt;/tasks&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;trashclean&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;clean_trash&lt;/id&gt;\r\n                                &lt;phase&gt;clean&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;run&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;tasks&gt;\r\n                                        &lt;delete dir=&quot;trash/&quot; failonerror=&quot;false&quot;/&gt;\r\n                                    &lt;/tasks&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\t\t\r\n\r\n\r\n\r\n\r\n","title":"Ways to make maven build faster?","body":"<p>On my actual project :</p>\n<ol>\n<li><code>mvn clean install</code> [INFO] Total time: <strong>01:05 h</strong></li>\n<li><code>mvn clean install -DskipTests</code> [INFO] Total time: <strong>18:35 min</strong></li>\n<li><code>mvn clean install -Dmaven.test.skip -DskipTests</code> <strong>[INFO] Total time: 10:58 min</strong></li>\n<li><code>mvn -T 1C clean install -Dmaven.test.skip -DskipTests</code> [INFO] Total time: <strong>04:00 min</strong></li>\n<li>We can also skip the javadoc to be generated as <strong>Archmed commented</strong> by adding <strong>-Dmaven.javadoc.skip=true</strong> <code>mvn -T 1C clean install -Dmaven.test.skip -DskipTests -Dmaven.javadoc.skip=true</code></li>\n<li>Don't use <strong>* imports</strong>, on IntelliJ, choose &gt; Analyze &gt; Run inspection by name &gt; * imports , to find all * imports and correct it.</li>\n<li>Remove all <strong>unused imports</strong> in your project &gt; on Intellij &gt; Analyze &gt; Run inspection by name &gt; unused imports</li>\n<li>Remove all <strong>unused code</strong> (classes, variable, field, parameter, etc..), on Intellij : Analyze &gt; run inspection by name &gt; unused declaration.</li>\n<li>Upgrade to <strong>last JAVA VERSION</strong></li>\n<li>I have found that the task <strong>mvn clean</strong>, is taking 2 minutes to clean the TARGET folder before building. I did create a new task called <strong>quickclean</strong>, and I am using it instead of clean, this way <code>mvn -T 1C quickclean install -Dmaven.test.skip -DskipTests</code> . This new task quickclean is only <strong>renaming the build folder</strong> from TARGET to TARGET-yyyy-MM-dd-HH-mm(<em>what is VERY FAST</em>). So now, every time you make a new <code>mvn quickclean install...</code>, you have a folder with the time of the build. <strong>The inconvenient</strong>, it's that this may take <strong>a lot of space on the hard disk</strong>, so you have to clean all these directories sometimes. So for that I have created another task called: <strong>trashclean</strong>, to put all this folder to trash. I am running this tasks maybe on time per week. or month, depending on my work <code>mvn trashclean</code>.</li>\n</ol>\n<p>Here is what you need to add to your pom.xml if you want to use this concept</p>\n<pre><code>&lt;properties&gt;\n    &lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\n    &lt;maven.build.timestamp.format&gt;yyyy-MM-dd-HH-mm&lt;/maven.build.timestamp.format&gt;\n    &lt;trashdir&gt;trash/target-${maven.build.timestamp}&lt;/trashdir&gt;\n&lt;/properties&gt;\n\n    &lt;profile&gt;\n        &lt;id&gt;quickclean&lt;/id&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;rename_target&lt;/id&gt;\n                            &lt;phase&gt;pre-clean&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;run&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;tasks&gt;\n                                    &lt;move todir=&quot;${trashdir}&quot; failonerror=&quot;false&quot;&gt;\n                                        &lt;fileset dir=&quot;target/&quot;/&gt;\n                                    &lt;/move&gt;\n                                &lt;/tasks&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;trashclean&lt;/id&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;clean_trash&lt;/id&gt;\n                            &lt;phase&gt;clean&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;run&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;tasks&gt;\n                                    &lt;delete dir=&quot;trash/&quot; failonerror=&quot;false&quot;/&gt;\n                                &lt;/tasks&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n    \n</code></pre>\n"},{"comments":[{"owner":{"account_id":748890,"reputation":9396,"user_id":730754,"accept_rate":50,"display_name":"Eduardo Y&#225;&#241;ez Parareda"},"score":0,"creation_date":1677581676,"post_id":56813509,"comment_id":133362105,"body_markdown":"For me, these solution slowed down the build 30% of the time","body":"For me, these solution slowed down the build 30% of the time"}],"tags":[],"owner":{"account_id":1515927,"reputation":257,"user_id":1416932,"display_name":"user1416932"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1561758841,"creation_date":1561758841,"answer_id":56813509,"question_id":32368976,"body_markdown":"Apart from parallel run which many of the folks have already mentioned, try these maven options which would speed up build \r\n-XX:+TieredCompilation -XX:TieredStopAtLevel=1","title":"Ways to make maven build faster?","body":"<p>Apart from parallel run which many of the folks have already mentioned, try these maven options which would speed up build \n-XX:+TieredCompilation -XX:TieredStopAtLevel=1</p>\n"},{"comments":[{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":2,"creation_date":1635953725,"post_id":66241699,"comment_id":123430590,"body_markdown":"I do not think you need your IDE, JDK or Maven in the Ramdisk.. It would make more sense to put maven repo and the project itself in the ramdisk.","body":"I do not think you need your IDE, JDK or Maven in the Ramdisk.. It would make more sense to put maven repo and the project itself in the ramdisk."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1635958519,"post_id":66241699,"comment_id":123432791,"body_markdown":"@KorayTugay Naturaly the project must be in that ramdisk too. I thought that is clear but I edited the answer to point that out. Also the `-Djava.io.tmpdir=D:/temp` is important.","body":"@KorayTugay Naturaly the project must be in that ramdisk too. I thought that is clear but I edited the answer to point that out. Also the <code>-Djava.io.tmpdir=D:&#47;temp</code> is important."},{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":1,"creation_date":1635961253,"post_id":66241699,"comment_id":123433880,"body_markdown":"How much difference does putting the IDE in ramdisk make? I would think very little, am I wrong? Did you experience a big improvement by having the IDE in ramdisk too?","body":"How much difference does putting the IDE in ramdisk make? I would think very little, am I wrong? Did you experience a big improvement by having the IDE in ramdisk too?"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1635964164,"post_id":66241699,"comment_id":123434924,"body_markdown":"@KorayTugay I have two minor reasons. The first reason is that I have one Ramdisk-Image per project. Its like an all-in-one-container-ramdisk having the JDK of the project running the exact same JDK as the IDE what gives better debugging compatibilities. As an example: one project is a SWT project where I prefer to use netbeans. In the other project I use eclipse. Then there is a IntelliJ project. The second reason is that if I upgrade the IDE but am not sure if all my plugins are compatible, instead of rollback manually the IDE update I have a ramdisk backup to restore to an stable version.","body":"@KorayTugay I have two minor reasons. The first reason is that I have one Ramdisk-Image per project. Its like an all-in-one-container-ramdisk having the JDK of the project running the exact same JDK as the IDE what gives better debugging compatibilities. As an example: one project is a SWT project where I prefer to use netbeans. In the other project I use eclipse. Then there is a IntelliJ project. The second reason is that if I upgrade the IDE but am not sure if all my plugins are compatible, instead of rollback manually the IDE update I have a ramdisk backup to restore to an stable version."}],"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641119250,"creation_date":1613563811,"answer_id":66241699,"question_id":32368976,"body_markdown":"Low-Level speed using Ramdisk (Windows)\r\n-\r\n\r\nMy additional trick is using a ramdisk\r\n\r\n1. Create a Ramdisk of 2GB (in example *D:*)\r\n2. Install IDE, Maven, JDK and the `.m2/repository` to that Ramdisk (`D:/m2/`).\r\n3. Edit the Maven&#39;s `D:/maven/conf/settings.xml` to use that Ramdisked repo (`&lt;localRepository&gt;D:/m2&lt;/localRepository&gt;`)\r\n4. Put the project into the ramdisk.\r\n5. Run the project having its temp-folder in the Ramdisk.\r\n\r\nOn my machine I turned \r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 14.954 s (Wall Clock)\r\n    [INFO] Finished at: 2021-02-17T13:07:51+01:00\r\n    [INFO] Final Memory: 55M/642M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nInto\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  6.805 s (Wall Clock)\r\n    [INFO] Finished at: 2021-11-11T10:48:14Z\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nBoth results are high-end (`-DskipTests -T 12`)\r\n\r\nWarning: Do not forget to persist the ramdisk before shutdown or your work is lost.\r\n\r\nLook at this beast: \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DefPM.png","title":"Ways to make maven build faster?","body":"<h2>Low-Level speed using Ramdisk (Windows)</h2>\n<p>My additional trick is using a ramdisk</p>\n<ol>\n<li>Create a Ramdisk of 2GB (in example <em>D:</em>)</li>\n<li>Install IDE, Maven, JDK and the <code>.m2/repository</code> to that Ramdisk (<code>D:/m2/</code>).</li>\n<li>Edit the Maven's <code>D:/maven/conf/settings.xml</code> to use that Ramdisked repo (<code>&lt;localRepository&gt;D:/m2&lt;/localRepository&gt;</code>)</li>\n<li>Put the project into the ramdisk.</li>\n<li>Run the project having its temp-folder in the Ramdisk.</li>\n</ol>\n<p>On my machine I turned</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 14.954 s (Wall Clock)\n[INFO] Finished at: 2021-02-17T13:07:51+01:00\n[INFO] Final Memory: 55M/642M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>Into</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  6.805 s (Wall Clock)\n[INFO] Finished at: 2021-11-11T10:48:14Z\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>Both results are high-end (<code>-DskipTests -T 12</code>)</p>\n<p>Warning: Do not forget to persist the ramdisk before shutdown or your work is lost.</p>\n<p>Look at this beast:\n<a href=\"https://i.stack.imgur.com/DefPM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DefPM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19655273,"reputation":64,"user_id":14388047,"display_name":"Aman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658729744,"creation_date":1658729744,"answer_id":73104716,"question_id":32368976,"body_markdown":"If you are using spring boot with maven and you feel like dependencies are coming slow to your system, try following setting in pom.xml\r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; \r\n    &lt;/parent&gt;\r\n\r\n\r\nI experienced that **version 2.7.0** downloads the dependencies faster than other versions. ","title":"Ways to make maven build faster?","body":"<p>If you are using spring boot with maven and you feel like dependencies are coming slow to your system, try following setting in pom.xml</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath /&gt; \n&lt;/parent&gt;\n</code></pre>\n<p>I experienced that <strong>version 2.7.0</strong> downloads the dependencies faster than other versions.</p>\n"},{"comments":[{"owner":{"account_id":1426585,"reputation":2315,"user_id":1349927,"accept_rate":62,"display_name":"tak3shi"},"score":1,"creation_date":1668776448,"post_id":74474167,"comment_id":131494475,"body_markdown":"After adding this plugin, alle modules are still compiled every time.","body":"After adding this plugin, alle modules are still compiled every time."},{"owner":{"account_id":63558,"reputation":41,"user_id":1381810,"display_name":"vidarmoe"},"score":0,"creation_date":1669024073,"post_id":74474167,"comment_id":131540307,"body_markdown":"The first time you build after adding the plugin, it will analyze the modules, so it will build as normal. The second time you build, you should see that it does not build anything at all, given you haven&#39;t done any changes? \n\nThere is an example project in the repo, where you can see the plugin in action.","body":"The first time you build after adding the plugin, it will analyze the modules, so it will build as normal. The second time you build, you should see that it does not build anything at all, given you haven&#39;t done any changes?   There is an example project in the repo, where you can see the plugin in action."},{"owner":{"account_id":1426585,"reputation":2315,"user_id":1349927,"accept_rate":62,"display_name":"tak3shi"},"score":0,"creation_date":1669811547,"post_id":74474167,"comment_id":131727075,"body_markdown":"Ok, i found my error and got it working. But i have issues when switching to another branch, the compiler complains about missing symbols when i do not recompile it completly.","body":"Ok, i found my error and got it working. But i have issues when switching to another branch, the compiler complains about missing symbols when i do not recompile it completly."}],"tags":[],"owner":{"account_id":63558,"reputation":41,"user_id":1381810,"display_name":"vidarmoe"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668682289,"creation_date":1668682289,"answer_id":74474167,"question_id":32368976,"body_markdown":"You can try turbo-maven-plugin to help speed up your multi module Maven builds locally (I am one of the plugin authors)?\r\n\r\nhttps://github.com/sparebank1utvikling/turbo-maven-plugin\r\n\r\nIt works by analyzing what modules actually have code changes, and build only those and the modules dependent on them. More info about how it works here:\r\n\r\nhttps://medium.com/sparebank1-digital/speed-up-your-multi-module-maven-builds-with-turbo-maven-plugin-4be0eb2a2601\r\n","title":"Ways to make maven build faster?","body":"<p>You can try turbo-maven-plugin to help speed up your multi module Maven builds locally (I am one of the plugin authors)?</p>\n<p><a href=\"https://github.com/sparebank1utvikling/turbo-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/sparebank1utvikling/turbo-maven-plugin</a></p>\n<p>It works by analyzing what modules actually have code changes, and build only those and the modules dependent on them. More info about how it works here:</p>\n<p><a href=\"https://medium.com/sparebank1-digital/speed-up-your-multi-module-maven-builds-with-turbo-maven-plugin-4be0eb2a2601\" rel=\"nofollow noreferrer\">https://medium.com/sparebank1-digital/speed-up-your-multi-module-maven-builds-with-turbo-maven-plugin-4be0eb2a2601</a></p>\n"}],"owner":{"account_id":5031739,"reputation":2502,"user_id":4041711,"accept_rate":53,"display_name":"Shubham Chaurasia"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79265,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":44646756,"answer_count":9,"score":81,"last_activity_date":1668682289,"creation_date":1441263678,"question_id":32368976,"body_markdown":"I have a multi module java project. Maven takes almost around 40 secs to build it. I have tried maven with multi threaded builds too by specifying -T and -C args for no of threads and cores to be used. But I haven&#39;t seen any significant improvement in wall time of my builds.\r\n&lt;br&gt;\r\nI am using maven 3.2.3 and sometimes I need to build my project very frequently.\r\n&lt;br&gt;\r\nI know that clean goal take a lot of time but I can not omit it.\r\n&lt;br&gt;\r\nSuggestions please....\r\n\r\nEDIT:\r\n&lt;br&gt;\r\nNote:  In my case clean is not taking much time. It finishes in 1 sec. install is taking rest of the time.","title":"Ways to make maven build faster?","body":"<p>I have a multi module java project. Maven takes almost around 40 secs to build it. I have tried maven with multi threaded builds too by specifying -T and -C args for no of threads and cores to be used. But I haven't seen any significant improvement in wall time of my builds.\n<br>\nI am using maven 3.2.3 and sometimes I need to build my project very frequently.\n<br>\nI know that clean goal take a lot of time but I can not omit it.\n<br>\nSuggestions please....</p>\n\n<p>EDIT:\n<br>\nNote:  In my case clean is not taking much time. It finishes in 1 sec. install is taking rest of the time.</p>\n"},{"tags":["java","spring","multithreading","threadpoolexecutor"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":2,"creation_date":1668682271,"post_id":74474033,"comment_id":131467510,"body_markdown":"I may have misunderstood your question, but all the interest of having more than one thread to execute some tasks is because the tasks are not correlated. If for you it is important that task 1 ends before tasks 2 starts and so on, you simply shouldn&#39;t be using parallelization but a single thread solution. Nothing stops you though from batching the 4 tasks into a single thread and parallelizing the other batches.","body":"I may have misunderstood your question, but all the interest of having more than one thread to execute some tasks is because the tasks are not correlated. If for you it is important that task 1 ends before tasks 2 starts and so on, you simply shouldn&#39;t be using parallelization but a single thread solution. Nothing stops you though from batching the 4 tasks into a single thread and parallelizing the other batches."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668690330,"post_id":74474033,"comment_id":131470450,"body_markdown":"If you have multiple threads there is no way you can enforce the ordering, even if you have 1 thread reading from the queue and dispatching to 4 threads you don&#39;t know which one will execute first. You don&#39;t control which thread is currently active etc. If the ordering is important don&#39;t use multiple threads.","body":"If you have multiple threads there is no way you can enforce the ordering, even if you have 1 thread reading from the queue and dispatching to 4 threads you don&#39;t know which one will execute first. You don&#39;t control which thread is currently active etc. If the ordering is important don&#39;t use multiple threads."},{"owner":{"account_id":16897712,"reputation":3,"user_id":12219882,"display_name":"ANURAG BHARDWAJ"},"score":0,"creation_date":1668780081,"post_id":74474033,"comment_id":131495797,"body_markdown":"Yes, I agree. What is was looking if there’s a way to enforce a task, it would be much help…. Will change the design","body":"Yes, I agree. What is was looking if there’s a way to enforce a task, it would be much help…. Will change the design"}],"owner":{"account_id":16897712,"reputation":3,"user_id":12219882,"display_name":"ANURAG BHARDWAJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668681739,"creation_date":1668681739,"question_id":74474033,"body_markdown":"Working on a POC, where I&#39;m using a ThreadPoolTaskExecutor for parrallel processing, although it&#39;s a working solution, but I&#39;m trying to make my thread pool to execute in a sequential order,\r\nPoolSize: 10\r\nMaxPool: 20\r\nQueue: 1000\r\nMain thread which keeps fetching record in batch of 4 all the time, and the worker thread when task submitted\r\nStage 1 :Fetch data from db in a sequence then \r\n\r\nStage 2: submitted task\r\nStage 2.1: I have implemented a callable interface where I&#39;m doing 2 thing \r\n1. read/write operation - Ist\r\n2. proccessing operation - IInd\r\nbut the problem is sometime 1st process takes sometime due to which some other worker thread comes and process the operation\r\nWhich results in breaking the order.\r\nOrder: 1-&gt; 3-&gt; 2-&gt; 4\r\nExpected: 1-&gt; 2-&gt; 3-&gt; 4\r\n\r\nIs there a better way to approach this problem, if yes then please do share with an example\r\n\r\n\r\nI have tried few solution given,\r\n1. Thread priority\r\n2. Latch\r\n3. basic synchronization\r\n\r\nMaking single thread design is not an option\r\nExpecting: 1-&gt;2-&gt;3-&gt;4\r\nGetting: 2-&gt;1-&gt;4-&gt;3","title":"Sequential execution for thread pool","body":"<p>Working on a POC, where I'm using a ThreadPoolTaskExecutor for parrallel processing, although it's a working solution, but I'm trying to make my thread pool to execute in a sequential order,\nPoolSize: 10\nMaxPool: 20\nQueue: 1000\nMain thread which keeps fetching record in batch of 4 all the time, and the worker thread when task submitted\nStage 1 :Fetch data from db in a sequence then</p>\n<p>Stage 2: submitted task\nStage 2.1: I have implemented a callable interface where I'm doing 2 thing</p>\n<ol>\n<li>read/write operation - Ist</li>\n<li>proccessing operation - IInd\nbut the problem is sometime 1st process takes sometime due to which some other worker thread comes and process the operation\nWhich results in breaking the order.\nOrder: 1-&gt; 3-&gt; 2-&gt; 4\nExpected: 1-&gt; 2-&gt; 3-&gt; 4</li>\n</ol>\n<p>Is there a better way to approach this problem, if yes then please do share with an example</p>\n<p>I have tried few solution given,</p>\n<ol>\n<li>Thread priority</li>\n<li>Latch</li>\n<li>basic synchronization</li>\n</ol>\n<p>Making single thread design is not an option\nExpecting: 1-&gt;2-&gt;3-&gt;4\nGetting: 2-&gt;1-&gt;4-&gt;3</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668681326,"post_id":74473905,"comment_id":131467170,"body_markdown":"[The java tutorials - Nested Classes](https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html) - What you have here is an inner class as the same would suggest.","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">The java tutorials - Nested Classes</a> - What you have here is an inner class as the same would suggest."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1668681496,"post_id":74473905,"comment_id":131467234,"body_markdown":"The class Inner is defined inside the class Outer, so the dot qualifies its name as Outer.Inner. The fact that the class Inner is not static, requires an instance of Outer to be created before you can create an instance of Inner.","body":"The class Inner is defined inside the class Outer, so the dot qualifies its name as Outer.Inner. The fact that the class Inner is not static, requires an instance of Outer to be created before you can create an instance of Inner."}],"owner":{"account_id":17436033,"reputation":400,"user_id":12639005,"display_name":"Name Null"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668681450,"answer_count":0,"score":0,"last_activity_date":1668681245,"creation_date":1668681245,"question_id":74473905,"body_markdown":"```java\r\nclass Outer {\r\n\r\n    class Inner {\r\n        void print() {\r\n            System.out.println(&quot;Inner printing&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        (new Outer().new Inner()).print();\r\n    }\r\n}\r\n```\r\n\r\nWhat is the syntax of `(new Outer().new Inner())`? Why the `new` operator is used after a object?\r\n","title":"What is the Java syntax of using dot new after an object?","body":"<pre class=\"lang-java prettyprint-override\"><code>class Outer {\n\n    class Inner {\n        void print() {\n            System.out.println(&quot;Inner printing&quot;);\n        }\n    }\n\n\n    public static void main(String[] args) {\n        (new Outer().new Inner()).print();\n    }\n}\n</code></pre>\n<p>What is the syntax of <code>(new Outer().new Inner())</code>? Why the <code>new</code> operator is used after a object?</p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"score":0,"creation_date":1631725904,"post_id":69049468,"comment_id":122302532,"body_markdown":"When you say Swagger2, do you mean the OpenAPI specification version is 2.x or the 3.x?","body":"When you say Swagger2, do you mean the OpenAPI specification version is 2.x or the 3.x?"},{"owner":{"account_id":21913606,"reputation":33,"user_id":16197776,"display_name":"Elmir Huseynov"},"score":0,"creation_date":1631903915,"post_id":69049468,"comment_id":122358723,"body_markdown":"@DebarghaRoy Thanks, for the comment. \n\nswagger 2: io.springfox:springfox-swagger2:2.9.2\n\nopenApi 3:  org.springdoc:springdoc-openapi-ui:1.5.10","body":"@DebarghaRoy Thanks, for the comment.   swagger 2: io.springfox:springfox-swagger2:2.9.2  openApi 3:  org.springdoc:springdoc-openapi-ui:1.5.10"}],"answers":[{"tags":[],"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632380585,"creation_date":1632380585,"answer_id":69295331,"question_id":69049468,"body_markdown":"The method name in OpenAPI v3 is represented by the [`operationId`](https://swagger.io/docs/specification/paths-and-operations/) field.\r\n\r\nSpringdoc by default doesn&#39;t show the `operationId`. To enable it, you&#39;ll need to set the below property to `true` in your application&#39;s property file (for instance, `application.properties`, `application.yml` etc.)\r\n\r\n```\r\nspringdoc.swagger-ui.displayOperationId=true\r\n```\r\n\r\nAlthough the `operationId` can be specified explicitly like so\r\n```java\r\n@Operation(summary = &quot;Some method&quot;, operationId = &quot;Operation 1&quot;, description = &quot;Some Description&quot;)\r\n```\r\nwhich gives you the output as below\r\n[![custom-operation-id][1]][1]\r\n\r\nBut if you don&#39;t specify the `operationId` field explicitly, it defaults to the method name (which is your desired output).\r\n\r\nConsider the below code sample\r\n\r\n```java\r\n@PostMapping(value = &quot;/create/{userId}&quot;, consumes = {MULTIPART_FORM_DATA_VALUE, IMAGE_PNG_VALUE, IMAGE_JPEG_VALUE, MULTIPART_MIXED_VALUE}, produces = {TEXT_PLAIN_VALUE})\r\n@Operation(summary = &quot;Save File&quot;, description = &quot;Save the file to the disk&quot;)\r\npublic ResponseEntity&lt;Object&gt; saveFile(\r\n    @Parameter(description = &quot;ID of the user&quot;) \r\n    @PathVariable(value = &quot;userId&quot;) final String userId,\r\n) {\r\n    return null;\r\n}\r\n\r\n@GetMapping(value = &quot;/get&quot;, produces = MediaType.IMAGE_PNG_VALUE)\r\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;, content = {@Content(schema = @Schema(type = &quot;string&quot;, format = &quot;binary&quot;))})\r\npublic ResponseEntity&lt;byte[]&gt; getFile() {\r\n    return null;\r\n}\r\n```\r\nThe above code fragment will give the below output\r\n\r\n[![implicity-operation-id][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/302fA.png\r\n  [2]: https://i.stack.imgur.com/P5sXY.png","title":"Spring boot Swagger 3 - Controller summary is not getting displayed by default in OpenApi documentation","body":"<p>The method name in OpenAPI v3 is represented by the <a href=\"https://swagger.io/docs/specification/paths-and-operations/\" rel=\"nofollow noreferrer\"><code>operationId</code></a> field.</p>\n<p>Springdoc by default doesn't show the <code>operationId</code>. To enable it, you'll need to set the below property to <code>true</code> in your application's property file (for instance, <code>application.properties</code>, <code>application.yml</code> etc.)</p>\n<pre><code>springdoc.swagger-ui.displayOperationId=true\n</code></pre>\n<p>Although the <code>operationId</code> can be specified explicitly like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Operation(summary = &quot;Some method&quot;, operationId = &quot;Operation 1&quot;, description = &quot;Some Description&quot;)\n</code></pre>\n<p>which gives you the output as below\n<a href=\"https://i.stack.imgur.com/302fA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/302fA.png\" alt=\"custom-operation-id\" /></a></p>\n<p>But if you don't specify the <code>operationId</code> field explicitly, it defaults to the method name (which is your desired output).</p>\n<p>Consider the below code sample</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/create/{userId}&quot;, consumes = {MULTIPART_FORM_DATA_VALUE, IMAGE_PNG_VALUE, IMAGE_JPEG_VALUE, MULTIPART_MIXED_VALUE}, produces = {TEXT_PLAIN_VALUE})\n@Operation(summary = &quot;Save File&quot;, description = &quot;Save the file to the disk&quot;)\npublic ResponseEntity&lt;Object&gt; saveFile(\n    @Parameter(description = &quot;ID of the user&quot;) \n    @PathVariable(value = &quot;userId&quot;) final String userId,\n) {\n    return null;\n}\n\n@GetMapping(value = &quot;/get&quot;, produces = MediaType.IMAGE_PNG_VALUE)\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;, content = {@Content(schema = @Schema(type = &quot;string&quot;, format = &quot;binary&quot;))})\npublic ResponseEntity&lt;byte[]&gt; getFile() {\n    return null;\n}\n</code></pre>\n<p>The above code fragment will give the below output</p>\n<p><a href=\"https://i.stack.imgur.com/P5sXY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P5sXY.png\" alt=\"implicity-operation-id\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4681256,"reputation":112,"user_id":3789907,"display_name":"Christian Oliver"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668681042,"creation_date":1668681042,"answer_id":74473870,"question_id":69049468,"body_markdown":"To see more details for each endpoint in the swagger-ui such as metadata, comments, and descriptions in the openapi3 yaml spec file; you can include javadoc by adding the following dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-javadoc&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.12&lt;/version&gt;\r\n        &lt;/dependency&gt;   \r\n\r\nThen add the plugin below:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;com.github.therapi&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;therapi-runtime-javadoc-scribe&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.15.0&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nSee https://springdoc.org/#javadoc-support","title":"Spring boot Swagger 3 - Controller summary is not getting displayed by default in OpenApi documentation","body":"<p>To see more details for each endpoint in the swagger-ui such as metadata, comments, and descriptions in the openapi3 yaml spec file; you can include javadoc by adding the following dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-javadoc&lt;/artifactId&gt;\n        &lt;version&gt;1.6.12&lt;/version&gt;\n    &lt;/dependency&gt;   \n</code></pre>\n<p>Then add the plugin below:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;com.github.therapi&lt;/groupId&gt;\n                        &lt;artifactId&gt;therapi-runtime-javadoc-scribe&lt;/artifactId&gt;\n                        &lt;version&gt;0.15.0&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>See <a href=\"https://springdoc.org/#javadoc-support\" rel=\"nofollow noreferrer\">https://springdoc.org/#javadoc-support</a></p>\n"}],"owner":{"account_id":21913606,"reputation":33,"user_id":16197776,"display_name":"Elmir Huseynov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4086,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69295331,"answer_count":2,"score":1,"last_activity_date":1668681042,"creation_date":1630695103,"question_id":69049468,"body_markdown":" By default, the API method name is displayed as a summary in  [Swagger2][1]\r\n\r\nBut, is not displayed in [OpenApi3][2] by default.\r\n\r\nHow can I configure this property? Without using `@Operation(summary = &quot;Summary&quot;)` in each controller endpoint.\r\n\r\nDependency: `implementation group: &#39;org.springdoc&#39;, name: &#39;springdoc-openapi-ui&#39;, version: &#39;1.5.10&#39;`\r\n\r\n  [1]: https://i.stack.imgur.com/b22Va.png\r\n  [2]: https://i.stack.imgur.com/FMfuI.png","title":"Spring boot Swagger 3 - Controller summary is not getting displayed by default in OpenApi documentation","body":"<p>By default, the API method name is displayed as a summary in  <a href=\"https://i.stack.imgur.com/b22Va.png\" rel=\"nofollow noreferrer\">Swagger2</a></p>\n<p>But, is not displayed in <a href=\"https://i.stack.imgur.com/FMfuI.png\" rel=\"nofollow noreferrer\">OpenApi3</a> by default.</p>\n<p>How can I configure this property? Without using <code>@Operation(summary = &quot;Summary&quot;)</code> in each controller endpoint.</p>\n<p>Dependency: <code>implementation group: 'org.springdoc', name: 'springdoc-openapi-ui', version: '1.5.10'</code></p>\n"},{"tags":["java","sql-server","linux","hibernate","backslash"],"comments":[{"owner":{"account_id":19504418,"reputation":1,"user_id":14269770,"display_name":"KJ4 Saeko"},"score":0,"creation_date":1668616146,"post_id":74464009,"comment_id":131450248,"body_markdown":"Hello everyone *","body":"Hello everyone *"},{"owner":{"account_id":18560371,"reputation":312,"user_id":13524500,"display_name":"C-nan"},"score":0,"creation_date":1668616695,"post_id":74464009,"comment_id":131450479,"body_markdown":"Can&#39;t you add an additional property like `dbInstance` and modify your `String url` to something like `String url : jdbc:sqlserver://&quot; + prop.getDbServer() + &quot;\\&quot; + prop.getDbInstance() + &quot;:&quot; + prop.getDbPort() + &quot;;database=&quot; + prop.getDbDatabase());` ? Or put your `hostname\\instanceName` between double quotes?","body":"Can&#39;t you add an additional property like <code>dbInstance</code> and modify your <code>String url</code> to something like <code>String url : jdbc:sqlserver:&#47;&#47;&quot; + prop.getDbServer() + &quot;\\&quot; + prop.getDbInstance() + &quot;:&quot; + prop.getDbPort() + &quot;;database=&quot; + prop.getDbDatabase());</code> ? Or put your <code>hostname\\instanceName</code> between double quotes?"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1668634223,"post_id":74464009,"comment_id":131456438,"body_markdown":"If you know the port then just ditch the `\\InstanceName`. Instance names are only needed when you don&#39;t know the port. They cause the client library to use SQL Server Resolution Protocol to communicate with the SQL Browser service on the target machine, via udp/1434, to resolve the instance name to its listening TCP port number, then the client attempts to connect to the SQL instance using that port number. Since you already have the port number you can just bypass that entire process.","body":"If you know the port then just ditch the <code>\\InstanceName</code>. Instance names are only needed when you don&#39;t know the port. They cause the client library to use SQL Server Resolution Protocol to communicate with the SQL Browser service on the target machine, via udp/1434, to resolve the instance name to its listening TCP port number, then the client attempts to connect to the SQL instance using that port number. Since you already have the port number you can just bypass that entire process."},{"owner":{"account_id":19504418,"reputation":1,"user_id":14269770,"display_name":"KJ4 Saeko"},"score":0,"creation_date":1668680797,"post_id":74464009,"comment_id":131466982,"body_markdown":"Hello Thank you for reply guys. \n\nI finally solve my problem like that : \n\n1. Change the url on hibernate like that : \n\n`jdbc:sqlserver://&quot; + prop.getDbServer() + &quot;:&quot; + prop.getDbPort() + &quot;;databaseName=&quot;+prop.getDbDatabase()+&quot;;encrypt=true;trustServerCertificate=true;&quot;`\n\n2. Get the ip from this Serveur and replace the serverName by the ip.","body":"Hello Thank you for reply guys.   I finally solve my problem like that :   1. Change the url on hibernate like that :   <code>jdbc:sqlserver:&#47;&#47;&quot; + prop.getDbServer() + &quot;:&quot; + prop.getDbPort() + &quot;;databaseName=&quot;+prop.getDbDatabase()+&quot;;encrypt=true;trustSe&zwnj;&#8203;rverCertificate=true&zwnj;&#8203;;&quot;</code>  2. Get the ip from this Serveur and replace the serverName by the ip."}],"owner":{"account_id":19504418,"reputation":1,"user_id":14269770,"display_name":"KJ4 Saeko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668681032,"creation_date":1668616124,"question_id":74464009,"body_markdown":"I&#39;m trying to run my jar file on linux server but I got this error : \r\n\r\n*org.hibernate.engine.jdbc.spi.SqlExceptionHelper - The TCP/IP connection to the host HostnameInstanceName, port xxxx has failed.*\r\nOf course the host is not recognized because of the backslash is missing. \r\n\r\n\r\nMy database host is like : hostname\\instanceName (with backslash) \r\nI have a file of properties where I put my database properties. \r\n\r\nLike : \r\n- dbServer=xxxx\\xxxx \r\n- dbDatabase=xxxx\r\n- dbSid=xxxx\r\n- dbSchema=xxxx\r\n- dbUser=xxxx\r\n- dbPassword=xxxx\r\n- dbPort=xxxx\r\nOn my java, I set my sessionFactory with these properties. \r\n\r\n`String url : jdbc:sqlserver://&quot; + prop.getDbServer() + &quot;:&quot; + prop.getDbPort() + &quot;;database=&quot; + prop.getDbDatabase());` \r\n\r\n\r\nNow the problem is, how can I add a backslash between my HostName And InstanceName ? \r\n\r\nThank you for help. \r\n\r\n\r\n\r\n**UPDATE**\r\n I finally solve my problem like that : 1. Change the url on hibernate like that : jdbc:sqlserver://&quot; + prop.getDbServer() + &quot;:&quot; + prop.getDbPort() + &quot;;databaseName=&quot;+prop.getDbDatabase()+&quot;;encrypt=true;trustServerCertificate=true;&quot; 2. Get the ip from this Serveur and replace the serverName by the ip\r\n","title":"Backslash SqlServeur Host / Hibernate configuration","body":"<p>I'm trying to run my jar file on linux server but I got this error :</p>\n<p><em>org.hibernate.engine.jdbc.spi.SqlExceptionHelper - The TCP/IP connection to the host HostnameInstanceName, port xxxx has failed.</em>\nOf course the host is not recognized because of the backslash is missing.</p>\n<p>My database host is like : hostname\\instanceName (with backslash)\nI have a file of properties where I put my database properties.</p>\n<p>Like :</p>\n<ul>\n<li>dbServer=xxxx\\xxxx</li>\n<li>dbDatabase=xxxx</li>\n<li>dbSid=xxxx</li>\n<li>dbSchema=xxxx</li>\n<li>dbUser=xxxx</li>\n<li>dbPassword=xxxx</li>\n<li>dbPort=xxxx\nOn my java, I set my sessionFactory with these properties.</li>\n</ul>\n<p><code>String url : jdbc:sqlserver://&quot; + prop.getDbServer() + &quot;:&quot; + prop.getDbPort() + &quot;;database=&quot; + prop.getDbDatabase());</code></p>\n<p>Now the problem is, how can I add a backslash between my HostName And InstanceName ?</p>\n<p>Thank you for help.</p>\n<p><strong>UPDATE</strong>\nI finally solve my problem like that : 1. Change the url on hibernate like that : jdbc:sqlserver://&quot; + prop.getDbServer() + &quot;:&quot; + prop.getDbPort() + &quot;;databaseName=&quot;+prop.getDbDatabase()+&quot;;encrypt=true;trustServerCertificate=true;&quot; 2. Get the ip from this Serveur and replace the serverName by the ip</p>\n"},{"tags":["java","switch-statement","do-while"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668680872,"post_id":74473769,"comment_id":131467012,"body_markdown":"It seems the code does exactly what it is written to do. What is your question? and, since &quot;Teh Tarik is added to order&quot; and other similar statements are printed, your premise that it only prints the default is false","body":"It seems the code does exactly what it is written to do. What is your question? and, since &quot;Teh Tarik is added to order&quot; and other similar statements are printed, your premise that it only prints the default is false"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1668680911,"post_id":74473769,"comment_id":131467029,"body_markdown":"In the last iteration, it prints the default, because you don&#39;t have a case for &#39;q&#39;, and &#39;q&#39; != 1, and &#39;q&#39; != 2 or 3.","body":"In the last iteration, it prints the default, because you don&#39;t have a case for &#39;q&#39;, and &#39;q&#39; != 1, and &#39;q&#39; != 2 or 3."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":5,"creation_date":1668680960,"post_id":74473769,"comment_id":131467052,"body_markdown":"Assumption: Since `System.in.read()` only reads one char when you enter `1` and hit &quot;enter&quot; the loop reads 2 chars: `&#39;1&#39;` and `&#39;\\n&#39;`, and as you can see `&#39;\\n&#39;` would be invalid. Try using a scanner, read the next _line_, trim it (in case the user enters a space first), then take the first char or try to parse it to a number.","body":"Assumption: Since <code>System.in.read()</code> only reads one char when you enter <code>1</code> and hit &quot;enter&quot; the loop reads 2 chars: <code>&#39;1&#39;</code> and <code>&#39;\\n&#39;</code>, and as you can see <code>&#39;\\n&#39;</code> would be invalid. Try using a scanner, read the next <i>line</i>, trim it (in case the user enters a space first), then take the first char or try to parse it to a number."}],"owner":{"account_id":23217756,"reputation":11,"user_id":17310450,"display_name":"chriswong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668681023,"creation_date":1668680574,"question_id":74473769,"body_markdown":"This is my code which is part of a menu and the output is not what i hoped for\r\n\r\n```\r\npublic class Main {\r\npublic static void main(String[] args) throws java.io.IOException{\r\nchar choice;\r\n\r\n        System.out.println(&quot;Menu &quot;);\r\n        System.out.println(&quot;1. Nasi Lemak &quot;);\r\n        System.out.println(&quot;2. Teh Tarik &quot;);\r\n        System.out.println(&quot;3. Roti &quot;);\r\n        System.out.println(&quot; &quot;);\r\n    \r\n        System.out.println( &quot;Place order or type &#39;q&#39; to exit.&quot;);\r\n    \r\n        do {\r\n            System.out.print(&quot;Add menu: &quot;);\r\n            choice = (char) System.in.read();\r\n    \r\n            switch (choice) {\r\n                case &#39;1&#39;:\r\n                    System.out.println(&quot;Nasi Lemak is added to order&quot;);\r\n                    break;\r\n                case &#39;2&#39;:\r\n                    System.out.println(&quot;Teh Tarik is added to order&quot;);\r\n                    break;\r\n                case &#39;3&#39;:\r\n                    System.out.println(&quot;Roti is added to order&quot;);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid Input&quot;);\r\n            }\r\n        }while(choice!=&#39;q&#39;);\r\n        System.out.println(&quot;Thank you for your order.&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n**Why is it that the following code gives the output?**\r\n\r\n  \r\n\r\n      Menu\r\n        \r\n        1. Nasi Lemak\r\n        2. Teh Tarik\r\n        3. Roti\r\n        \r\n        Place order or type &#39;q&#39; to exit.\r\n        Add menu: 1\r\n        Nasi Lemak is added to order\r\n        Add menu: Invalid Input\r\n        Add menu: 2\r\n        Teh Tarik is added to order\r\n        Add menu: Invalid Input\r\n        Add menu: q\r\n        Invalid Input\r\n        Thank you for your order.\r\n        \r\n        Process finished with exit code 0\r\n\r\nWhat is my mistake? i&#39;ve tried brainstorming the problem and i would like to see what you guys have to say.","title":"Why does the output of my switch in a do-while loop only print out default statement?","body":"<p>This is my code which is part of a menu and the output is not what i hoped for</p>\n<pre><code>public class Main {\npublic static void main(String[] args) throws java.io.IOException{\nchar choice;\n\n        System.out.println(&quot;Menu &quot;);\n        System.out.println(&quot;1. Nasi Lemak &quot;);\n        System.out.println(&quot;2. Teh Tarik &quot;);\n        System.out.println(&quot;3. Roti &quot;);\n        System.out.println(&quot; &quot;);\n    \n        System.out.println( &quot;Place order or type 'q' to exit.&quot;);\n    \n        do {\n            System.out.print(&quot;Add menu: &quot;);\n            choice = (char) System.in.read();\n    \n            switch (choice) {\n                case '1':\n                    System.out.println(&quot;Nasi Lemak is added to order&quot;);\n                    break;\n                case '2':\n                    System.out.println(&quot;Teh Tarik is added to order&quot;);\n                    break;\n                case '3':\n                    System.out.println(&quot;Roti is added to order&quot;);\n                    break;\n                default:\n                    System.out.println(&quot;Invalid Input&quot;);\n            }\n        }while(choice!='q');\n        System.out.println(&quot;Thank you for your order.&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>Why is it that the following code gives the output?</strong></p>\n<pre><code>  Menu\n    \n    1. Nasi Lemak\n    2. Teh Tarik\n    3. Roti\n    \n    Place order or type 'q' to exit.\n    Add menu: 1\n    Nasi Lemak is added to order\n    Add menu: Invalid Input\n    Add menu: 2\n    Teh Tarik is added to order\n    Add menu: Invalid Input\n    Add menu: q\n    Invalid Input\n    Thank you for your order.\n    \n    Process finished with exit code 0\n</code></pre>\n<p>What is my mistake? i've tried brainstorming the problem and i would like to see what you guys have to say.</p>\n"},{"tags":["java","string","special-characters"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1441878810,"post_id":32498432,"comment_id":52856812,"body_markdown":"What context are you using it in?  Why do you use it in a regex? Can you show the context where that error is happening (please edit the question).","body":"What context are you using it in?  Why do you use it in a regex? Can you show the context where that error is happening (please edit the question)."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1441879081,"post_id":32498432,"comment_id":52857039,"body_markdown":"Also please add what database you are using.","body":"Also please add what database you are using."}],"answers":[{"comments":[{"owner":{"account_id":1705783,"reputation":1140,"user_id":1564852,"accept_rate":60,"display_name":"Visahan"},"score":0,"creation_date":1441878787,"post_id":32498504,"comment_id":52856797,"body_markdown":"ok, but either way, I need a way to identify the location of the special character such as &quot;+&quot;, so I would be able to add that value. My query looks like this &quot;hello+Search}query&quot; I need to find the special characters location to add the escape character.","body":"ok, but either way, I need a way to identify the location of the special character such as &quot;+&quot;, so I would be able to add that value. My query looks like this &quot;hello+Search}query&quot; I need to find the special characters location to add the escape character."},{"owner":{"account_id":2764833,"reputation":232392,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"score":0,"creation_date":1441878841,"post_id":32498504,"comment_id":52856843,"body_markdown":"Simply replace `+` with `\\\\+`, etc.","body":"Simply replace <code>+</code> with <code>\\\\+</code>, etc."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1441878965,"post_id":32498504,"comment_id":52856959,"body_markdown":"Or use a prepared statement. It should also be able to handle these special characters.","body":"Or use a prepared statement. It should also be able to handle these special characters."},{"owner":{"account_id":1705783,"reputation":1140,"user_id":1564852,"accept_rate":60,"display_name":"Visahan"},"score":0,"creation_date":1441878967,"post_id":32498504,"comment_id":52856962,"body_markdown":"I need a generic method to identify all the special characters in my query, &quot;+&quot; was an example. So I was looking for a solution which is more elegant than looking for each special character and replace it.","body":"I need a generic method to identify all the special characters in my query, &quot;+&quot; was an example. So I was looking for a solution which is more elegant than looking for each special character and replace it."},{"owner":{"account_id":2764833,"reputation":232392,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"score":0,"creation_date":1441879310,"post_id":32498504,"comment_id":52857189,"body_markdown":"@Tom: I agree. Sadly, the OP has not specified the database.","body":"@Tom: I agree. Sadly, the OP has not specified the database."},{"owner":{"account_id":6168842,"reputation":6596,"user_id":4807777,"accept_rate":100,"display_name":"Laurentiu L."},"score":0,"creation_date":1441879993,"post_id":32498504,"comment_id":52857651,"body_markdown":"@Visahan there isn&#39;t a more elegant solution. If you find a library/class that does that, inside you will find a function similar to what i provided.","body":"@Visahan there isn&#39;t a more elegant solution. If you find a library/class that does that, inside you will find a function similar to what i provided."}],"tags":[],"owner":{"account_id":2764833,"reputation":232392,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441878790,"creation_date":1441878658,"answer_id":32498504,"question_id":32498432,"body_markdown":"You need to use `\\\\` to introduce a `\\` into a string literal; that is you need to *escape* the `\\`. (A single backslash is used to introduce special characters into a string: e.g. `\\t` is a tab.)\r\n\r\n`query = &quot;hello\\\\+Search\\\\}query&quot;` is what you need.","title":"Add escape &quot;\\&quot; in front of special character for a string","body":"<p>You need to use <code>\\\\</code> to introduce a <code>\\</code> into a string literal; that is you need to <em>escape</em> the <code>\\</code>. (A single backslash is used to introduce special characters into a string: e.g. <code>\\t</code> is a tab.)</p>\n\n<p><code>query = \"hello\\\\+Search\\\\}query\"</code> is what you need.</p>\n"},{"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1441878946,"post_id":32498573,"comment_id":52856937,"body_markdown":"OP said &quot;other than searching for each special character separately and adding the \\&quot;.","body":"OP said &quot;other than searching for each special character separately and adding the \\&quot;."},{"owner":{"account_id":6168842,"reputation":6596,"user_id":4807777,"accept_rate":100,"display_name":"Laurentiu L."},"score":0,"creation_date":1441878987,"post_id":32498573,"comment_id":52856976,"body_markdown":"Indeed, but there is no better option. I recommend he just keeps track of all special characters he escapes.","body":"Indeed, but there is no better option. I recommend he just keeps track of all special characters he escapes."},{"owner":{"account_id":1658227,"reputation":1389,"user_id":1527144,"display_name":"Nir Hartmann"},"score":0,"creation_date":1521963929,"post_id":32498573,"comment_id":85949555,"body_markdown":"You need to init outputString to inputString and not to an empty String, in case no special characters exists","body":"You need to init outputString to inputString and not to an empty String, in case no special characters exists"},{"owner":{"account_id":3740663,"reputation":515,"user_id":3110505,"accept_rate":61,"display_name":"cadmy"},"score":0,"creation_date":1537276591,"post_id":32498573,"comment_id":91719481,"body_markdown":"Still need this kind of workaround in Java in 2018 :(","body":"Still need this kind of workaround in Java in 2018 :("}],"tags":[],"owner":{"account_id":6168842,"reputation":6596,"user_id":4807777,"accept_rate":100,"display_name":"Laurentiu L."},"comment_count":4,"down_vote_count":1,"up_vote_count":26,"is_accepted":true,"score":25,"last_activity_date":1530174819,"creation_date":1441878823,"answer_id":32498573,"question_id":32498432,"body_markdown":"Decide which special characters you want to escape and just call\r\n\r\n    query.replace(&quot;}&quot;, &quot;\\\\}&quot;)\r\n\r\nYou may keep all special characters you allow in some array then iterate it and replace the occurrences as exemplified.\r\nThis method replaces all [regex meta characters][metachars].\r\n\r\n\tpublic String escapeMetaCharacters(String inputString){\r\n\t\tfinal String[] metaCharacters = {&quot;\\\\&quot;,&quot;^&quot;,&quot;$&quot;,&quot;{&quot;,&quot;}&quot;,&quot;[&quot;,&quot;]&quot;,&quot;(&quot;,&quot;)&quot;,&quot;.&quot;,&quot;*&quot;,&quot;+&quot;,&quot;?&quot;,&quot;|&quot;,&quot;&lt;&quot;,&quot;&gt;&quot;,&quot;-&quot;,&quot;&amp;&quot;,&quot;%&quot;};\r\n\t\t\r\n\t\tfor (int i = 0 ; i &lt; metaCharacters.length ; i++){\r\n            if(inputString.contains(metaCharacters[i])){\r\n\t\t\t    inputString = inputString.replace(metaCharacters[i],&quot;\\\\&quot;+metaCharacters[i]);\r\n            }\r\n\t\t}\r\n\t\treturn inputString;\r\n\t}\r\nYou could use it as `query=escapeMetaCharacters(query);`\r\nDon&#39;t think that any library you would find would do anything more than that. At best it defines a complete list of specialCharacters.\r\n\r\n[metachars]:http://www.fon.hum.uva.nl/praat/manual/Regular_expressions_1__Special_characters.html","title":"Add escape &quot;\\&quot; in front of special character for a string","body":"<p>Decide which special characters you want to escape and just call</p>\n\n<pre><code>query.replace(\"}\", \"\\\\}\")\n</code></pre>\n\n<p>You may keep all special characters you allow in some array then iterate it and replace the occurrences as exemplified.\nThis method replaces all <a href=\"http://www.fon.hum.uva.nl/praat/manual/Regular_expressions_1__Special_characters.html\" rel=\"noreferrer\">regex meta characters</a>.</p>\n\n<pre><code>public String escapeMetaCharacters(String inputString){\n    final String[] metaCharacters = {\"\\\\\",\"^\",\"$\",\"{\",\"}\",\"[\",\"]\",\"(\",\")\",\".\",\"*\",\"+\",\"?\",\"|\",\"&lt;\",\"&gt;\",\"-\",\"&amp;\",\"%\"};\n\n    for (int i = 0 ; i &lt; metaCharacters.length ; i++){\n        if(inputString.contains(metaCharacters[i])){\n            inputString = inputString.replace(metaCharacters[i],\"\\\\\"+metaCharacters[i]);\n        }\n    }\n    return inputString;\n}\n</code></pre>\n\n<p>You could use it as <code>query=escapeMetaCharacters(query);</code>\nDon't think that any library you would find would do anything more than that. At best it defines a complete list of specialCharacters.</p>\n"},{"tags":[],"owner":{"account_id":6913948,"reputation":189,"user_id":5308896,"accept_rate":50,"display_name":"AMahajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525845420,"creation_date":1525845420,"answer_id":50246406,"question_id":32498432,"body_markdown":"I had to do same thing in javascript. I came up with below solution. I think it might help someone.\r\n\r\n    function escapeSpecialCharacters(s){\r\n     let arr = s.split(&#39;&#39;);\r\n     arr = arr.map(function(d){\r\n             return d.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, &#39;\\\\&#39;+d)\r\n           });\r\n     let reg = new RegExp(arr.join(&#39;&#39;)); \r\n     return reg;\r\n    }\r\n\r\n    let newstring = escapeSpecialCharacters(&quot;hello+Search}query&quot;);","title":"Add escape &quot;\\&quot; in front of special character for a string","body":"<p>I had to do same thing in javascript. I came up with below solution. I think it might help someone.</p>\n\n<pre><code>function escapeSpecialCharacters(s){\n let arr = s.split('');\n arr = arr.map(function(d){\n         return d.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\'+d)\n       });\n let reg = new RegExp(arr.join('')); \n return reg;\n}\n\nlet newstring = escapeSpecialCharacters(\"hello+Search}query\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1358674,"reputation":21,"user_id":1296491,"display_name":"Juliano Krieger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608287569,"creation_date":1608287569,"answer_id":65355432,"question_id":32498432,"body_markdown":"If you want to use Java 8+ and Streams, you could do something like:\r\n```java\r\nprivate String escapeSpecialCharacters(String input) {\r\n    List&lt;String&gt; specialCharacters = Lists.newArrayList(&quot;\\\\&quot;,&quot;^&quot;,&quot;$&quot;,&quot;{&quot;,&quot;}&quot;,&quot;[&quot;,&quot;]&quot;,&quot;(&quot;,&quot;)&quot;,&quot;.&quot;,&quot;*&quot;,&quot;+&quot;,&quot;?&quot;,&quot;|&quot;,&quot;&lt;&quot;,&quot;&gt;&quot;,&quot;-&quot;,&quot;&amp;&quot;,&quot;%&quot;);\r\n    return Arrays.stream(input.split(&quot;&quot;)).map((c) -&gt; {\r\n                if (specialCharacters.contains(c)) return &quot;\\\\&quot; + c;\r\n                else return c;\r\n    }).collect(Collectors.joining());\r\n}\r\n```","title":"Add escape &quot;\\&quot; in front of special character for a string","body":"<p>If you want to use Java 8+ and Streams, you could do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String escapeSpecialCharacters(String input) {\n    List&lt;String&gt; specialCharacters = Lists.newArrayList(&quot;\\\\&quot;,&quot;^&quot;,&quot;$&quot;,&quot;{&quot;,&quot;}&quot;,&quot;[&quot;,&quot;]&quot;,&quot;(&quot;,&quot;)&quot;,&quot;.&quot;,&quot;*&quot;,&quot;+&quot;,&quot;?&quot;,&quot;|&quot;,&quot;&lt;&quot;,&quot;&gt;&quot;,&quot;-&quot;,&quot;&amp;&quot;,&quot;%&quot;);\n    return Arrays.stream(input.split(&quot;&quot;)).map((c) -&gt; {\n                if (specialCharacters.contains(c)) return &quot;\\\\&quot; + c;\n                else return c;\n    }).collect(Collectors.joining());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4508992,"reputation":1563,"user_id":3665662,"display_name":"amer"},"score":0,"creation_date":1668680637,"post_id":68542425,"comment_id":131466927,"body_markdown":"This method is deprecated in newer versions of commons-lang3 ( my version is 3.12.0 )","body":"This method is deprecated in newer versions of commons-lang3 ( my version is 3.12.0 )"},{"owner":{"account_id":69203,"reputation":3448,"user_id":201514,"accept_rate":78,"display_name":"Rajani Karuturi"},"score":0,"creation_date":1674027821,"post_id":68542425,"comment_id":132624675,"body_markdown":"commons lang methods is just a null safe replacement for inbuilt string method `String.replaceAll()`. `inputString.replaceAll(REGEX, &quot;\\\\\\\\$0&quot;)` would work too if you ensure `inputString` is not null.","body":"commons lang methods is just a null safe replacement for inbuilt string method <code>String.replaceAll()</code>. <code>inputString.replaceAll(REGEX, &quot;\\\\\\\\$0&quot;)</code> would work too if you ensure <code>inputString</code> is not null."}],"tags":[],"owner":{"account_id":9258888,"reputation":61,"user_id":6876690,"display_name":"Tauseef Rahaman"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1627378438,"creation_date":1627378438,"answer_id":68542425,"question_id":32498432,"body_markdown":"There is actually a better way of doing this in a sleek manner.\r\n\r\n    String REGEX = &quot;[\\\\[+\\\\]+:{}^~?\\\\\\\\/()&gt;&lt;=\\&quot;!]&quot;;\r\n    \r\n    StringUtils.replaceAll(inputString, REGEX, &quot;\\\\\\\\$0&quot;);","title":"Add escape &quot;\\&quot; in front of special character for a string","body":"<p>There is actually a better way of doing this in a sleek manner.</p>\n<pre><code>String REGEX = &quot;[\\\\[+\\\\]+:{}^~?\\\\\\\\/()&gt;&lt;=\\&quot;!]&quot;;\n\nStringUtils.replaceAll(inputString, REGEX, &quot;\\\\\\\\$0&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4508992,"reputation":1563,"user_id":3665662,"display_name":"amer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668680911,"creation_date":1668680911,"answer_id":74473835,"question_id":32498432,"body_markdown":"The simple version ( without deprecated `StringUtils.replaceAll` ):\r\n\r\n        String regex = &quot;[\\\\[+\\\\]+:{}^~?\\\\\\\\/()&gt;&lt;=\\&quot;!]&quot;;\r\n        String query = &quot;hello+Search}query&quot;;\r\n        String replaceAll = query.replaceAll(regex, &quot;\\\\\\\\$0&quot;);\r\n","title":"Add escape &quot;\\&quot; in front of special character for a string","body":"<p>The simple version ( without deprecated <code>StringUtils.replaceAll</code> ):</p>\n<pre><code>    String regex = &quot;[\\\\[+\\\\]+:{}^~?\\\\\\\\/()&gt;&lt;=\\&quot;!]&quot;;\n    String query = &quot;hello+Search}query&quot;;\n    String replaceAll = query.replaceAll(regex, &quot;\\\\\\\\$0&quot;);\n</code></pre>\n"}],"owner":{"account_id":1705783,"reputation":1140,"user_id":1564852,"accept_rate":60,"display_name":"Visahan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100220,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":32498573,"answer_count":6,"score":13,"last_activity_date":1668680911,"creation_date":1441878455,"question_id":32498432,"body_markdown":"I have a simple SQL query where I check whether the query matches any of the fields I have. I&#39;m using LIKE statement for this. One of my field can have special characters and so does the search query. So I&#39;m looking for a solution where I need to an escape &quot;\\&quot; in front of the special character.\r\n\r\n    query = &quot;hello+Search}query&quot;\r\n\r\nI need the above to change to \r\n\r\n    query = &quot;hello\\+Search\\}query&quot;\r\n\r\nIs there a simple way of doing this other than searching for each special character separately and adding the &quot;\\&quot;. Because if I don&#39;t have the escape character I will get the error message \r\n\r\n    java.util.regex.PatternSyntaxException: Dangling meta character &#39;+&#39; near index 0\r\n\r\nThanks in advance","title":"Add escape &quot;\\&quot; in front of special character for a string","body":"<p>I have a simple SQL query where I check whether the query matches any of the fields I have. I'm using LIKE statement for this. One of my field can have special characters and so does the search query. So I'm looking for a solution where I need to an escape \"\\\" in front of the special character.</p>\n\n<pre><code>query = \"hello+Search}query\"\n</code></pre>\n\n<p>I need the above to change to </p>\n\n<pre><code>query = \"hello\\+Search\\}query\"\n</code></pre>\n\n<p>Is there a simple way of doing this other than searching for each special character separately and adding the \"\\\". Because if I don't have the escape character I will get the error message </p>\n\n<pre><code>java.util.regex.PatternSyntaxException: Dangling meta character '+' near index 0\n</code></pre>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","spring-boot-starter"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661869208,"post_id":73538904,"comment_id":129871015,"body_markdown":"There is a, bit hidden, annotation for this. Use [`@AutoConfigurationPackage`] (https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/AutoConfigurationPackage.html) and ditch the `@EnableJpaRepositories` and `@EntityScan`. You might even need to ditch the `@AutoConfigureAfter`.","body":"There is a, bit hidden, annotation for this. Use [<code>@AutoConfigurationPackage</code>] (<a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/AutoConfigurationPackage.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframe&zwnj;&#8203;work/&hellip;</a>) and ditch the <code>@EnableJpaRepositories</code> and <code>@EntityScan</code>. You might even need to ditch the <code>@AutoConfigureAfter</code>."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1662130496,"post_id":73538904,"comment_id":129942252,"body_markdown":"@M.Deinum tryed various configurtion with `@AutoConfigurationPackage` nothing worked, if you can make an example I&#39;will be happy to make a test","body":"@M.Deinum tryed various configurtion with <code>@AutoConfigurationPackage</code> nothing worked, if you can make an example I&#39;will be happy to make a test"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662145140,"post_id":73538904,"comment_id":129946737,"body_markdown":"What have you tried so far? What combinations? It should be a matter of putting that annotation on your auto config.","body":"What have you tried so far? What combinations? It should be a matter of putting that annotation on your auto config."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1662400912,"post_id":73538904,"comment_id":129992848,"body_markdown":"@M.Deinum updated the question with more infos","body":"@M.Deinum updated the question with more infos"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662440261,"post_id":73538904,"comment_id":129999271,"body_markdown":"You need to remove the `@ComponentScan` as well and make sure you properly registered your auto configuration class in the `spring.factories` or `org.springframework.boot.autoconfigure.AutoConfiguration.imports` file, depending on your spring boot version. See https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.developing-auto-configuration","body":"You need to remove the <code>@ComponentScan</code> as well and make sure you properly registered your auto configuration class in the <code>spring.factories</code> or <code>org.springframework.boot.autoconfigure.AutoConfiguration.imp&zwnj;&#8203;orts</code> file, depending on your spring boot version. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.developing-auto-configuration\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1662443680,"post_id":73538904,"comment_id":129999858,"body_markdown":"Sorry but I’m not using any @ComponentScan and my configuration class is correctly loaded","body":"Sorry but I’m not using any @ComponentScan and my configuration class is correctly loaded"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662446524,"post_id":73538904,"comment_id":130000531,"body_markdown":"Where I said `@ComponentScan` I meant `@Import`. Too early didn&#39;t have enough coffee yet :). Is it loaded or correctly loaded as those are different things :). It should be loaded through the auto configuration mechanism and not as a regular `@Configuration` class.","body":"Where I said <code>@ComponentScan</code> I meant <code>@Import</code>. Too early didn&#39;t have enough coffee yet :). Is it loaded or correctly loaded as those are different things :). It should be loaded through the auto configuration mechanism and not as a regular <code>@Configuration</code> class."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1662474564,"post_id":73538904,"comment_id":130010702,"body_markdown":"@M.Deinum removed `@Import` now nothing is been istantiated by the `@AutoConfiguration` the starter does nothing at all. updated question with more info","body":"@M.Deinum removed <code>@Import</code> now nothing is been istantiated by the <code>@AutoConfiguration</code> the starter does nothing at all. updated question with more info"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662481263,"post_id":73538904,"comment_id":130013382,"body_markdown":"Enable debug (or even trace) logging and see what happens. Instead of defining classes with basepackages specify a single base package that covers all of those (if that is possible).","body":"Enable debug (or even trace) logging and see what happens. Instead of defining classes with basepackages specify a single base package that covers all of those (if that is possible)."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1662669465,"post_id":73538904,"comment_id":130065905,"body_markdown":"@M.Deinum tryed to put all classes in the same package but still not working. updated the question for more infos","body":"@M.Deinum tryed to put all classes in the same package but still not working. updated the question for more infos"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662711721,"post_id":73538904,"comment_id":130073613,"body_markdown":"1 thing is that it shouldn&#39;t run after the `JpaRepositoriesAutoConfiguration.class` as that will make it run after JPA etc. has done its thing registering entities etc.","body":"1 thing is that it shouldn&#39;t run after the <code>JpaRepositoriesAutoConfiguration.class</code> as that will make it run after JPA etc. has done its thing registering entities etc."}],"answers":[{"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":1,"creation_date":1661847256,"post_id":73539106,"comment_id":129862384,"body_markdown":"it&#39;s a bad practice to use `@ComponentScan` in the starter [docs](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.developing-auto-configuration.locating-auto-configuration-candidates). And this not solves the problems related to `@EntityScan`","body":"it&#39;s a bad practice to use <code>@ComponentScan</code> in the starter <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.developing-auto-configuration.locating-auto-configuration-candidates\" rel=\"nofollow noreferrer\">docs</a>. And this not solves the problems related to <code>@EntityScan</code>"},{"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"score":0,"creation_date":1661847839,"post_id":73539106,"comment_id":129862627,"body_markdown":"No, you are post link to `@Import` configuration beans, I mean you should use `@ComponentScan` to load your services annotated as `@Service` or `@Component`\n\n`@ComponentScan(&quot;com.example.springbootstarterexample.controller&quot;)`","body":"No, you are post link to <code>@Import</code> configuration beans, I mean you should use <code>@ComponentScan</code> to load your services annotated as <code>@Service</code> or <code>@Component</code>  <code>@ComponentScan(&quot;com.example.springbootstarterexample.control&zwnj;&#8203;ler&quot;)</code>"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661848114,"post_id":73539106,"comment_id":129862736,"body_markdown":"Nope the doc stays to use `@Import` not `@ComponentScan` also for beans annotated not only for configuration classes","body":"Nope the doc stays to use <code>@Import</code> not <code>@ComponentScan</code> also for beans annotated not only for configuration classes"},{"owner":{"account_id":979189,"reputation":725,"user_id":1866010,"accept_rate":67,"display_name":"Calabacin"},"score":0,"creation_date":1661860825,"post_id":73539106,"comment_id":129867353,"body_markdown":"You do realize that the first thing `@SpringBootApplication` does is `@ComponentScan` all classes in that package and below, right? Ideally you would have a configuration file in the right package with `@ComponentScan`, and you would @Import that configuration class in your application.","body":"You do realize that the first thing <code>@SpringBootApplication</code> does is <code>@ComponentScan</code> all classes in that package and below, right? Ideally you would have a configuration file in the right package with <code>@ComponentScan</code>, and you would @Import that configuration class in your application."},{"owner":{"account_id":979189,"reputation":725,"user_id":1866010,"accept_rate":67,"display_name":"Calabacin"},"score":0,"creation_date":1661861034,"post_id":73539106,"comment_id":129867443,"body_markdown":"Also, if your entities are in a different jar, you can expose them explicitly to Spring Boot in file `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports`, one class per line","body":"Also, if your entities are in a different jar, you can expose them explicitly to Spring Boot in file <code>META-INF&#47;spring&#47;org.springframework.boot.autoconfigure.AutoC&zwnj;&#8203;onfiguration.imports</code>&zwnj;&#8203;, one class per line"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661862596,"post_id":73539106,"comment_id":129868147,"body_markdown":"this will not solve the `@EntityScan` problem `@ComponentScan` doesn’t find entities. I know `@SpringBootAoplication` Wraps `@ComponentScan` but it’s on the package of the consumer of the starter it’s totally different","body":"this will not solve the <code>@EntityScan</code> problem <code>@ComponentScan</code> doesn’t find entities. I know <code>@SpringBootAoplication</code> Wraps <code>@ComponentScan</code> but it’s on the package of the consumer of the starter it’s totally different"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1662130681,"post_id":73539106,"comment_id":129942343,"body_markdown":"also putting the entities in `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports`  doesn&#39;t work @Calabacin","body":"also putting the entities in <code>META-INF&#47;spring&#47;org.springframework.boot.autoconfigure.AutoC&zwnj;&#8203;onfiguration.imports</code>  doesn&#39;t work @Calabacin"}],"tags":[],"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661847035,"creation_date":1661847035,"answer_id":73539106,"question_id":73538904,"body_markdown":"You need to add `@ComponentScan` to configuration bean.\r\n\r\n```\r\n@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\r\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\r\n@EnableJpaRepositories(basePackages = &quot;com.example.springbootstarterexample.repository&quot;)\r\n@ComponentScan(&quot;com.example.springbootstarterexample&quot;)\r\n@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\r\npublic class ExampleAutoConfiguration {\r\n\r\n}\r\n```","title":"spring boot custom starter, define entities in it, without using @EntityScan. Is it possible?","body":"<p>You need to add <code>@ComponentScan</code> to configuration bean.</p>\n<pre><code>@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\n@EnableJpaRepositories(basePackages = &quot;com.example.springbootstarterexample.repository&quot;)\n@ComponentScan(&quot;com.example.springbootstarterexample&quot;)\n@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\npublic class ExampleAutoConfiguration {\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1662127181,"post_id":73543952,"comment_id":129940888,"body_markdown":"Still you have to do work in the consumer and goes against the starter &quot;philosophy&quot;, I have to take a look to `spring-boot-starter-batch` because the spring batch needs some tables to work, but I don&#39;t know what they are using","body":"Still you have to do work in the consumer and goes against the starter &quot;philosophy&quot;, I have to take a look to <code>spring-boot-starter-batch</code> because the spring batch needs some tables to work, but I don&#39;t know what they are using"},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1662134134,"post_id":73543952,"comment_id":129943485,"body_markdown":"&#129335;‍♂️ `spring-boot-starter-batch` uses JdbcTemplate, not entities. So it doesn&#39;t use JPA. It doesn&#39;t really go against the starter philosophy at all. For example if you&#39;re using the jpa starter you can use @EnableJpaRepositories to tell where your entities are. But anyway you can do a full class path scan for entities to discover @Entity annotated classes and use the above pattern to register them all. Will just take a long time to start up :)","body":"🤷‍♂️ <code>spring-boot-starter-batch</code> uses JdbcTemplate, not entities. So it doesn&#39;t use JPA. It doesn&#39;t really go against the starter philosophy at all. For example if you&#39;re using the jpa starter you can use @EnableJpaRepositories to tell where your entities are. But anyway you can do a full class path scan for entities to discover @Entity annotated classes and use the above pattern to register them all. Will just take a long time to start up :)"}],"tags":[],"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661868903,"creation_date":1661868903,"answer_id":73543952,"question_id":73538904,"body_markdown":"An interesting problem, but if you had an agreed way with consumers of your library on how to share information where their entities are, like for example they would provide a `META-INF/entityscanforyouapp` file with a list of packages where they have their entities\r\n\r\nConsumer 1 would create `META-INF/entityscanforyouapp`\r\n\r\n    com.consumerapp1.entities\r\n\r\nConsumer 1 would create `META-INF/entityscanforyouapp`\r\n\r\n    com.consumerapp2.entities\r\n\r\nYou could discover all these files and then just create an EntityManagerFactory bean that would include all the discovered packages\r\n\r\n    @Bean\r\n\t@Primary\r\n\tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder factoryBuilder, DataSource dataSource) {\r\n\t\tMap&lt;String, Object&gt; vendorProperties = &lt;... read the additional hibernate properties if you need...&gt;;\r\n\r\n        String[] packagesWithEntities = discoverAllThePackages();\r\n\r\n\t\treturn factoryBuilder.dataSource(datasource).packages(packagesWithEntities).properties(vendorProperties).build();\r\n\t}\r\n\r\nThis is kind of &quot;rough and ready&quot; but should provide a good starting point if you want to go that way.\r\n","title":"spring boot custom starter, define entities in it, without using @EntityScan. Is it possible?","body":"<p>An interesting problem, but if you had an agreed way with consumers of your library on how to share information where their entities are, like for example they would provide a <code>META-INF/entityscanforyouapp</code> file with a list of packages where they have their entities</p>\n<p>Consumer 1 would create <code>META-INF/entityscanforyouapp</code></p>\n<pre><code>com.consumerapp1.entities\n</code></pre>\n<p>Consumer 1 would create <code>META-INF/entityscanforyouapp</code></p>\n<pre><code>com.consumerapp2.entities\n</code></pre>\n<p>You could discover all these files and then just create an EntityManagerFactory bean that would include all the discovered packages</p>\n<pre><code>@Bean\n@Primary\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder factoryBuilder, DataSource dataSource) {\n    Map&lt;String, Object&gt; vendorProperties = &lt;... read the additional hibernate properties if you need...&gt;;\n\n    String[] packagesWithEntities = discoverAllThePackages();\n\n    return factoryBuilder.dataSource(datasource).packages(packagesWithEntities).properties(vendorProperties).build();\n}\n</code></pre>\n<p>This is kind of &quot;rough and ready&quot; but should provide a good starting point if you want to go that way.</p>\n"},{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668680832,"creation_date":1668679583,"answer_id":74473532,"question_id":73538904,"body_markdown":"Finally found a solution thanks to this [post](https://stackoverflow.com/questions/66549366/spring-boot-starter-with-own-entity-and-repository). \r\nThe configuration class becomes:\r\n\r\n    @AutoConfigureBefore(JpaRepositoriesAutoConfiguration.class)\r\n    @EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\r\n    @Import({SomeServiceImpl.class, SomeEntityController.class, StarterEntityRegistrar.class /*, SomeEntity.class NOT WORKING*/})\r\n    public class ExampleAutoConfiguration {\r\n    \r\n    }\r\nand the registar for entities:\r\n\r\n    public class StarterEntityRegistrar implements ImportBeanDefinitionRegistrar {\r\n    \t@Override\r\n    \tpublic void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry) {\r\n    \t\tAutoConfigurationPackages.register(registry, SomeEntity.class.getPackageName());\r\n    \t}\r\n    \r\n    }\r\na working [example](https://github.com/paolopiccinini/spring-boot-starter-example)\r\n\r\nyou can use the register method to add all packages that you need:\r\n&gt;Programmatically registers the auto-configuration package names. Subsequentinvocations will add the given package names to those that have already beenregistered. You can use this method to manually define the base packages that willbe used for a given BeanDefinitionRegistry. Generally it&#39;s recommended thatyou don&#39;t call this method directly, but instead rely on the default conventionwhere the package name is set from your @EnableAutoConfigurationconfiguration class or classes.","title":"spring boot custom starter, define entities in it, without using @EntityScan. Is it possible?","body":"<p>Finally found a solution thanks to this <a href=\"https://stackoverflow.com/questions/66549366/spring-boot-starter-with-own-entity-and-repository\">post</a>.\nThe configuration class becomes:</p>\n<pre><code>@AutoConfigureBefore(JpaRepositoriesAutoConfiguration.class)\n@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\n@Import({SomeServiceImpl.class, SomeEntityController.class, StarterEntityRegistrar.class /*, SomeEntity.class NOT WORKING*/})\npublic class ExampleAutoConfiguration {\n\n}\n</code></pre>\n<p>and the registar for entities:</p>\n<pre><code>public class StarterEntityRegistrar implements ImportBeanDefinitionRegistrar {\n    @Override\n    public void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry) {\n        AutoConfigurationPackages.register(registry, SomeEntity.class.getPackageName());\n    }\n\n}\n</code></pre>\n<p>a working <a href=\"https://github.com/paolopiccinini/spring-boot-starter-example\" rel=\"nofollow noreferrer\">example</a></p>\n<p>you can use the register method to add all packages that you need:</p>\n<blockquote>\n<p>Programmatically registers the auto-configuration package names. Subsequentinvocations will add the given package names to those that have already beenregistered. You can use this method to manually define the base packages that willbe used for a given BeanDefinitionRegistry. Generally it's recommended thatyou don't call this method directly, but instead rely on the default conventionwhere the package name is set from your @EnableAutoConfigurationconfiguration class or classes.</p>\n</blockquote>\n"}],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74473532,"answer_count":3,"score":2,"last_activity_date":1668680832,"creation_date":1661845904,"question_id":73538904,"body_markdown":"I&#39;m making some tests using custom starters for spring boot. I managed to configure everything except the entities. I&#39;ve tryed using `@Import` to load entities in the `@AutoConfiguration` class but this does not work. Instead if we use `@EntityScan` in the starter the entities are loaded, but  if you import this starter and have entities in the project that depends on the starter you are forced to use `@EntityScan` also in it, and in my opinion this breaks the autoconfiguration meaning of the starter because when you import a starter you should do nothing in order to use it, yes you can override the default configuration but not forced to do anything maybe to declare some properties.\r\n\r\nExample of autoconfiguration class in the starter:\r\n```\r\n@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\r\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\r\n@EnableJpaRepositories(basePackages = &quot;com.example.springbootstarterexample.repository&quot;)\r\n@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\r\n@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\r\npublic class ExampleAutoConfiguration {\r\n\r\n}\r\n```\r\nand then if you have entities in the consumer of the starter you have to do this if you have entities in it:\r\n```\r\n@SpringBootApplication\r\n@EntityScan(basePackages = &quot;com.example.springbootconsumer.model&quot;)\r\npublic class SpringBootConsumerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringBootConsumerApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nOtherwise we can remove `@EntityScan` from the starter and do this in the consumer:\r\n```\r\n@SpringBootApplication\r\n@EntityScan(basePackages = {&quot;com.example.springbootconsumer.model&quot;, &quot;com.example.springbootstarterexample.domain&quot;})\r\npublic class SpringBootConsumerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringBootConsumerApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nbut this totaly brakes the autoconfiguration, because you have to know where the entities are in the starter in order to start the application.\r\nI&#39;ve write an [example](https://github.com/paolopiccinini/spring-boot-starter-example) if interested.\r\n\r\n**EDIT**\r\ntryed with `@AutoConfigurationPackage`\r\n```\r\n@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\r\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\r\n//@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\r\n@AutoConfigurationPackage(basePackageClasses = {SomeEntity.class, SomeEntityRepository.class})\r\n@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\r\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\r\npublic class ExampleAutoConfiguration {\r\n\r\n}\r\n```\r\nIn this way the repository is not istantiated\r\n```\r\nDescription:\r\n\r\nParameter 0 of constructor in com.example.springbootstarterexample.service.SomeServiceImpl required a bean of type &#39;com.example.springbootstarterexample.repository.SomeEntityRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.springbootstarterexample.repository.SomeEntityRepository&#39; in your configuration.\r\n```\r\nIf I use `@EnableJpaRepositories` the repository is find for injection but not the entity\r\n```\r\n@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\r\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\r\n@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\r\n@AutoConfigurationPackage(basePackageClasses = {SomeEntity.class})\r\n@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\r\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\r\npublic class ExampleAutoConfiguration {\r\n\r\n}\r\n```\r\nError:\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.springbootstarterexample.domain.SomeEntity\r\n```\r\nUsing the name of the package I have the same result\r\n\r\n**EDIT 2** The `@AutoConfiguration` class is loaded by `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports` removed `@Import`:\r\n```\r\n@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\r\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\r\n//@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\r\n@AutoConfigurationPackage(basePackageClasses = {SomeEntity.class, SomeServiceImpl.class, SomeEntityController.class, SomeEntityRepository.class})\r\n//@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\r\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\r\npublic class ExampleAutoConfiguration {\r\n\r\n}\r\n```\r\ntrying to inject something in the consumer:\r\n```\r\nDescription:\r\n\r\nParameter 0 of constructor in com.example.springbootconsumer.SpringBootConsumerApplication required a bean of type &#39;com.example.springbootstarterexample.service.SomeService&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.springbootstarterexample.service.SomeService&#39; in your configuration.\r\n```\r\nThis seems to not load any configuration at all.\r\n\r\n**EDIT 3** put the log level to TRACE and put all classes under the same package, the package of `ExampleAutoConfiguration` class that now looks like this:\r\n```\r\n@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\r\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\r\n//@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\r\n@AutoConfigurationPackage\r\n//@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\r\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\r\npublic class ExampleAutoConfiguration {\r\n\r\n}\r\n```\r\nI found log of the `@AutoConfiguration` class being scanned but I can&#39;t find any bean defined in the package in the logs:\r\n```\r\n2022-09-08 20:03:24.495 TRACE 17132 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class &#39;com.example.springbootstarterexample.autoconfigure.ExampleAutoConfiguration&#39;\r\n```\r\nif I use normal configuration i see all beans been created\r\n```\r\n2022-09-08 22:31:34.580 TRACE 2308 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class &#39;com.example.springbootstarterexample.service.SomeServiceImpl&#39;\r\n2022-09-08 22:31:34.581 TRACE 2308 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class &#39;com.example.springbootstarterexample.controller.SomeEntityController&#39;\r\n2022-09-08 22:31:34.585 TRACE 2308 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class &#39;com.example.springbootstarterexample.autoconfigure.ExampleAutoConfiguration&#39;\r\n2022-09-08 22:31:34.685 TRACE 2308 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Spring Data JPA - Registering repository: someEntityRepository - Interface: com.example.springbootstarterexample.repository.SomeEntityRepository - Factory: org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean\r\n2022-09-08 22:31:39.094 DEBUG 2308 --- [           main] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3DiscriminatorColumn{logicalColumnName&#39;DTYPE&#39;, discriminatorTypeName=&#39;string&#39;}\r\n2022-09-08 22:31:39.112 DEBUG 2308 --- [           main] o.h.cfg.annotations.EntityBinder         : Import with entity name SomeEntity\r\n2022-09-08 22:31:39.113 TRACE 2308 --- [           main] o.h.b.i.InFlightMetadataCollectorImpl    : Import: SomeEntity -&gt; com.example.springbootstarterexample.domain.SomeEntity\r\n2022-09-08 22:31:39.114 TRACE 2308 --- [           main] o.h.b.i.InFlightMetadataCollectorImpl    : Import: com.example.springbootstarterexample.domain.SomeEntity -&gt; com.example.springbootstarterexample.domain.SomeEntity\r\n```","title":"spring boot custom starter, define entities in it, without using @EntityScan. Is it possible?","body":"<p>I'm making some tests using custom starters for spring boot. I managed to configure everything except the entities. I've tryed using <code>@Import</code> to load entities in the <code>@AutoConfiguration</code> class but this does not work. Instead if we use <code>@EntityScan</code> in the starter the entities are loaded, but  if you import this starter and have entities in the project that depends on the starter you are forced to use <code>@EntityScan</code> also in it, and in my opinion this breaks the autoconfiguration meaning of the starter because when you import a starter you should do nothing in order to use it, yes you can override the default configuration but not forced to do anything maybe to declare some properties.</p>\n<p>Example of autoconfiguration class in the starter:</p>\n<pre><code>@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\n@EnableJpaRepositories(basePackages = &quot;com.example.springbootstarterexample.repository&quot;)\n@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\n@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\npublic class ExampleAutoConfiguration {\n\n}\n</code></pre>\n<p>and then if you have entities in the consumer of the starter you have to do this if you have entities in it:</p>\n<pre><code>@SpringBootApplication\n@EntityScan(basePackages = &quot;com.example.springbootconsumer.model&quot;)\npublic class SpringBootConsumerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootConsumerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Otherwise we can remove <code>@EntityScan</code> from the starter and do this in the consumer:</p>\n<pre><code>@SpringBootApplication\n@EntityScan(basePackages = {&quot;com.example.springbootconsumer.model&quot;, &quot;com.example.springbootstarterexample.domain&quot;})\npublic class SpringBootConsumerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootConsumerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>but this totaly brakes the autoconfiguration, because you have to know where the entities are in the starter in order to start the application.\nI've write an <a href=\"https://github.com/paolopiccinini/spring-boot-starter-example\" rel=\"nofollow noreferrer\">example</a> if interested.</p>\n<p><strong>EDIT</strong>\ntryed with <code>@AutoConfigurationPackage</code></p>\n<pre><code>@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\n//@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\n@AutoConfigurationPackage(basePackageClasses = {SomeEntity.class, SomeEntityRepository.class})\n@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\npublic class ExampleAutoConfiguration {\n\n}\n</code></pre>\n<p>In this way the repository is not istantiated</p>\n<pre><code>Description:\n\nParameter 0 of constructor in com.example.springbootstarterexample.service.SomeServiceImpl required a bean of type 'com.example.springbootstarterexample.repository.SomeEntityRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.springbootstarterexample.repository.SomeEntityRepository' in your configuration.\n</code></pre>\n<p>If I use <code>@EnableJpaRepositories</code> the repository is find for injection but not the entity</p>\n<pre><code>@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\n@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\n@AutoConfigurationPackage(basePackageClasses = {SomeEntity.class})\n@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\npublic class ExampleAutoConfiguration {\n\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.springbootstarterexample.domain.SomeEntity\n</code></pre>\n<p>Using the name of the package I have the same result</p>\n<p><strong>EDIT 2</strong> The <code>@AutoConfiguration</code> class is loaded by <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> removed <code>@Import</code>:</p>\n<pre><code>@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\n//@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\n@AutoConfigurationPackage(basePackageClasses = {SomeEntity.class, SomeServiceImpl.class, SomeEntityController.class, SomeEntityRepository.class})\n//@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\npublic class ExampleAutoConfiguration {\n\n}\n</code></pre>\n<p>trying to inject something in the consumer:</p>\n<pre><code>Description:\n\nParameter 0 of constructor in com.example.springbootconsumer.SpringBootConsumerApplication required a bean of type 'com.example.springbootstarterexample.service.SomeService' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.springbootstarterexample.service.SomeService' in your configuration.\n</code></pre>\n<p>This seems to not load any configuration at all.</p>\n<p><strong>EDIT 3</strong> put the log level to TRACE and put all classes under the same package, the package of <code>ExampleAutoConfiguration</code> class that now looks like this:</p>\n<pre><code>@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\n//@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\n@AutoConfigurationPackage\n//@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\npublic class ExampleAutoConfiguration {\n\n}\n</code></pre>\n<p>I found log of the <code>@AutoConfiguration</code> class being scanned but I can't find any bean defined in the package in the logs:</p>\n<pre><code>2022-09-08 20:03:24.495 TRACE 17132 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class 'com.example.springbootstarterexample.autoconfigure.ExampleAutoConfiguration'\n</code></pre>\n<p>if I use normal configuration i see all beans been created</p>\n<pre><code>2022-09-08 22:31:34.580 TRACE 2308 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class 'com.example.springbootstarterexample.service.SomeServiceImpl'\n2022-09-08 22:31:34.581 TRACE 2308 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class 'com.example.springbootstarterexample.controller.SomeEntityController'\n2022-09-08 22:31:34.585 TRACE 2308 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class 'com.example.springbootstarterexample.autoconfigure.ExampleAutoConfiguration'\n2022-09-08 22:31:34.685 TRACE 2308 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Spring Data JPA - Registering repository: someEntityRepository - Interface: com.example.springbootstarterexample.repository.SomeEntityRepository - Factory: org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean\n2022-09-08 22:31:39.094 DEBUG 2308 --- [           main] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}\n2022-09-08 22:31:39.112 DEBUG 2308 --- [           main] o.h.cfg.annotations.EntityBinder         : Import with entity name SomeEntity\n2022-09-08 22:31:39.113 TRACE 2308 --- [           main] o.h.b.i.InFlightMetadataCollectorImpl    : Import: SomeEntity -&gt; com.example.springbootstarterexample.domain.SomeEntity\n2022-09-08 22:31:39.114 TRACE 2308 --- [           main] o.h.b.i.InFlightMetadataCollectorImpl    : Import: com.example.springbootstarterexample.domain.SomeEntity -&gt; com.example.springbootstarterexample.domain.SomeEntity\n</code></pre>\n"},{"tags":["java","spotbugs"],"answers":[{"comments":[{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1598337526,"post_id":63507712,"comment_id":112417577,"body_markdown":"@ChitranshSaxena Sooo, if this answer helped your problem, will you accept it then? That way it is clear that the question has been answered. https://stackoverflow.com/help/someone-answers","body":"@ChitranshSaxena Sooo, if this answer helped your problem, will you accept it then? That way it is clear that the question has been answered. <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"},{"owner":{"account_id":18699304,"reputation":43,"user_id":13631846,"display_name":"Chitransh Saxena"},"score":0,"creation_date":1598425896,"post_id":63507712,"comment_id":112451213,"body_markdown":"Sorry I did not mark the answer as accepted, now I did. Thanks for pointing this out. Upon checking more, this was the most appropriate way to do it.","body":"Sorry I did not mark the answer as accepted, now I did. Thanks for pointing this out. Upon checking more, this was the most appropriate way to do it."}],"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1668680713,"creation_date":1597935095,"answer_id":63507712,"question_id":63507614,"body_markdown":"You can use a [filter file][1]\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;FindBugsFilter&gt;\r\n&lt;Match&gt;\r\n  &lt;Class name=&quot;my.package.*&quot; /&gt;\r\n&lt;/Match&gt;\r\n&lt;/FindBugsFilter&gt;\r\n\r\n```\r\n\r\nThis file can be given to spotbugs as command line argument `-exclude`, or if you are using an IDE it probably can be configured to be used somewhere.\r\n\r\n\r\nThis is especially useful when you want to exclude third-party code, or generated code, where you can&#39;t add the annotation to begin with. But it also helps separate the spotbugs configuration and the code.\r\n\r\nAlso note the `name` attribute can be a regular expression.\r\n\r\n  [1]: https://spotbugs.readthedocs.io/en/stable/filter.html","title":"Suppress Spotbugs warnings globally","body":"<p>You can use a <a href=\"https://spotbugs.readthedocs.io/en/stable/filter.html\" rel=\"nofollow noreferrer\">filter file</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;FindBugsFilter&gt;\n&lt;Match&gt;\n  &lt;Class name=&quot;my.package.*&quot; /&gt;\n&lt;/Match&gt;\n&lt;/FindBugsFilter&gt;\n\n</code></pre>\n<p>This file can be given to spotbugs as command line argument <code>-exclude</code>, or if you are using an IDE it probably can be configured to be used somewhere.</p>\n<p>This is especially useful when you want to exclude third-party code, or generated code, where you can't add the annotation to begin with. But it also helps separate the spotbugs configuration and the code.</p>\n<p>Also note the <code>name</code> attribute can be a regular expression.</p>\n"}],"owner":{"account_id":18699304,"reputation":43,"user_id":13631846,"display_name":"Chitransh Saxena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3879,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63507712,"answer_count":1,"score":3,"last_activity_date":1668680713,"creation_date":1597934747,"question_id":63507614,"body_markdown":"I have one warning from spotbugs. This is suppressed with @SuppressFBWarnings in all those files.\r\nI need to find a way to suppress this from one place so that I don&#39;t have to @SuppressFBWarnings in each file in that package.","title":"Suppress Spotbugs warnings globally","body":"<p>I have one warning from spotbugs. This is suppressed with @SuppressFBWarnings in all those files.\nI need to find a way to suppress this from one place so that I don't have to @SuppressFBWarnings in each file in that package.</p>\n"},{"tags":["java","pdf","merge","pdfbox"],"answers":[{"comments":[{"owner":{"account_id":2393141,"reputation":13869,"user_id":2092587,"display_name":"Trinimon"},"score":0,"creation_date":1491553125,"post_id":37595137,"comment_id":73614174,"body_markdown":"do you have an example for the `ByteArrayOutputStream` approach? I tried to save two docs into two streams, combined the arrays and reloaded the combined bytes into a new document. However, it didn&#39;t seem to work.","body":"do you have an example for the <code>ByteArrayOutputStream</code> approach? I tried to save two docs into two streams, combined the arrays and reloaded the combined bytes into a new document. However, it didn&#39;t seem to work."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1491553274,"post_id":37595137,"comment_id":73614255,"body_markdown":"`ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        doc.save(baos);\n        doc.close();\n        doc = PDDocument.load(baos.toByteArray());`","body":"<code>ByteArrayOutputStream baos = new ByteArrayOutputStream();         doc.save(baos);         doc.close();         doc = PDDocument.load(baos.toByteArray());</code>"},{"owner":{"account_id":2393141,"reputation":13869,"user_id":2092587,"display_name":"Trinimon"},"score":0,"creation_date":1491556501,"post_id":37595137,"comment_id":73616408,"body_markdown":"So you meant one should save and reload the self-made `PDDocument`? ... and your comment was not about merging documents by combining `ByteArrayOutputStream`&#39;s. Right?","body":"So you meant one should save and reload the self-made <code>PDDocument</code>? ... and your comment was not about merging documents by combining <code>ByteArrayOutputStream</code>&#39;s. Right?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1491556619,"post_id":37595137,"comment_id":73616492,"body_markdown":"Yes, you should save and reload the self-made PDDocument before merging.","body":"Yes, you should save and reload the self-made PDDocument before merging."}],"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1491556645,"creation_date":1464878792,"answer_id":37595137,"question_id":37589590,"body_markdown":"Call [`PDFMergerUtility.appendDocument(PDDocument destination, PDDocument source)`][1] instead of merge. To load from a byte array, call `PDDocument.load(array)`. \r\n\r\n**Btw**: I&#39;d discourage to merge PDDocument objects that you created yourself, this fails if you have font subsets (see issue [PDFBOX-3243][2]). Better save them (e.g. in a `ByteArrayOutputStream`) and reload and then merge. To get a byte array from a ByteArrayOutputStream, use [`ByteArrayOutputStream.tobytearray()`][3].\r\n\r\n\r\n  [1]: https://pdfbox.apache.org/docs/2.0.1/javadocs/org/apache/pdfbox/multipdf/PDFMergerUtility.html#appendDocument(org.apache.pdfbox.pdmodel.PDDocument,%20org.apache.pdfbox.pdmodel.PDDocument)\r\n  [2]: https://issues.apache.org/jira/browse/PDFBOX-3243\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayOutputStream.html#toByteArray()","title":"Merge Pdf Files Using PDFBox","body":"<p>Call <a href=\"https://pdfbox.apache.org/docs/2.0.1/javadocs/org/apache/pdfbox/multipdf/PDFMergerUtility.html#appendDocument(org.apache.pdfbox.pdmodel.PDDocument,%20org.apache.pdfbox.pdmodel.PDDocument)\" rel=\"noreferrer\"><code>PDFMergerUtility.appendDocument(PDDocument destination, PDDocument source)</code></a> instead of merge. To load from a byte array, call <code>PDDocument.load(array)</code>. </p>\n\n<p><strong>Btw</strong>: I'd discourage to merge PDDocument objects that you created yourself, this fails if you have font subsets (see issue <a href=\"https://issues.apache.org/jira/browse/PDFBOX-3243\" rel=\"noreferrer\">PDFBOX-3243</a>). Better save them (e.g. in a <code>ByteArrayOutputStream</code>) and reload and then merge. To get a byte array from a ByteArrayOutputStream, use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayOutputStream.html#toByteArray()\" rel=\"noreferrer\"><code>ByteArrayOutputStream.tobytearray()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":4831523,"reputation":1,"user_id":3899610,"display_name":"chandni s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668680576,"creation_date":1668680576,"answer_id":74473770,"question_id":37589590,"body_markdown":"yes, you can convert it into byte array\r\n\r\n\r\n    PDDocument.load(path3.getBytes()));","title":"Merge Pdf Files Using PDFBox","body":"<p>yes, you can convert it into byte array</p>\n<pre><code>PDDocument.load(path3.getBytes()));\n</code></pre>\n"}],"owner":{"account_id":6332220,"reputation":224,"user_id":4916829,"accept_rate":75,"display_name":"Raushan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16166,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1668680576,"creation_date":1464864227,"question_id":37589590,"body_markdown":"I have to merge two pdf Files using PdfBox of Apache. I have taken physical pdf files to do so.\r\nBelow is the code:\r\n\r\n    PDFMergerUtility ut = new PDFMergerUtility();\r\n    ut.addSource(path1);\r\n    ut.addSource(path2);\r\n    ut.setDestinationFileName(path3);\r\n    ut.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\r\n\r\nFiles are merged perfectly but then have some constraints as below:\r\n\r\n1. I am creating 1st file in the code itself,so it is PDDocument object.\r\n2. The file which I have to merge with 1st file is in byte array format.\r\n3. I don&#39;t need to save the merged files but need convert it as byte array.\r\n\r\nPlease anyone help me achieve this requirement.","title":"Merge Pdf Files Using PDFBox","body":"<p>I have to merge two pdf Files using PdfBox of Apache. I have taken physical pdf files to do so.\nBelow is the code:</p>\n\n<pre><code>PDFMergerUtility ut = new PDFMergerUtility();\nut.addSource(path1);\nut.addSource(path2);\nut.setDestinationFileName(path3);\nut.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\n</code></pre>\n\n<p>Files are merged perfectly but then have some constraints as below:</p>\n\n<ol>\n<li>I am creating 1st file in the code itself,so it is PDDocument object.</li>\n<li>The file which I have to merge with 1st file is in byte array format.</li>\n<li>I don't need to save the merged files but need convert it as byte array.</li>\n</ol>\n\n<p>Please anyone help me achieve this requirement.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668677562,"post_id":74473062,"comment_id":131465714,"body_markdown":"A unique query expects one and only one result. Your query returned two results. There is your error.","body":"A unique query expects one and only one result. Your query returned two results. There is your error."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668680847,"post_id":74473062,"comment_id":131467002,"body_markdown":"Why on earth are you implementing `List`? Instead just create a `List&lt;InvoicesDTO&gt;` and remove the `implements` list.","body":"Why on earth are you implementing <code>List</code>? Instead just create a <code>List&lt;InvoicesDTO&gt;</code> and remove the <code>implements</code> list."},{"owner":{"account_id":26952196,"reputation":23,"user_id":20521229,"display_name":"TechNewPy"},"score":0,"creation_date":1668681908,"post_id":74473062,"comment_id":131467377,"body_markdown":"@M.Deinum I didn&#39;t understand you suggestion. elaborate more please!","body":"@M.Deinum I didn&#39;t understand you suggestion. elaborate more please!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668683614,"post_id":74473062,"comment_id":131468034,"body_markdown":"I don&#39;t see why you are implementing `List`, seems like a basic misunderstanding of java.","body":"I don&#39;t see why you are implementing <code>List</code>, seems like a basic misunderstanding of java."}],"owner":{"account_id":26952196,"reputation":23,"user_id":20521229,"display_name":"TechNewPy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668680569,"creation_date":1668677513,"question_id":74473062,"body_markdown":"I have a json file that has some parmeters with a nested object in it. And I&#39;m trying to save this json file to the database. Altough I keep reciving this Exception:\r\n\r\n&quot; Cannot invoke &quot;java.util.Iterator.hasNext()&quot; because &quot;&lt;local8&gt;&quot; is null&quot;\r\n\r\n\r\n`\r\n```\r\n\r\n{\r\n        &quot;personId&quot; : &quot;1xxxxxxx&quot;,\r\n        &quot;invoiceDate&quot; : &quot;2020-10-12&quot;,\r\n        &quot;invoices&quot;:[\r\n            {\r\n            &quot;invoiceAmount&quot; :&quot;300&quot;,\r\n            &quot;invoiceNumber&quot; :&quot;x123&quot;\r\n            },\r\n        {\r\n            &quot;invoiceAmount&quot; :&quot;100&quot;,\r\n            &quot;invoiceNumber&quot; :&quot;x122&quot;\r\n        }\r\n        ],   \r\n}\r\n```\r\n`\r\n\r\nSo to insert an object in my DTO that has an array of (Invoices) I created an Object name invoices of type InvoicesDTO, then I tried to itirate through these Object everytime a request will be reviced using this API. But Still I get this error.\r\n\r\nthe dto&#39;s for Invoice and invoices:\r\n\r\n```\r\n`\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class InvoiceDTO {\r\n  @NotNull(message = &quot;PersonId can&#39;t be null&quot;)\r\n  @PersonId\r\n  private String personId;\r\n\r\n  @NotNull(message = &quot;invoiceDate can&#39;t be null&quot;)\r\n  // @DateTimeFormat(iso = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;))\r\n  @PastOrPresent\r\n  @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n  private LocalDate invoiceDate;\r\n\r\n  private InvoicesDTO invoices;\r\n```\r\n`\r\n`\r\n`\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class InvoicesDTO implements List&lt;InvoicesDTO&gt; {\r\n\r\n    @NotNull(message = &quot;invoice Number can&#39;t be null&quot;)\r\n    private String invoiceNumber;\r\n\r\n    @NotNull(message = &quot;invoiceAmount can&#39;t be null&quot;)\r\n    private Double invoiceAmount; \r\n```\r\n`\r\n\r\n```\r\n try {\r\n  //Add the new amount of the invoice to an existing debts\r\n    Optional&lt;Debts&gt; debts = debtsRepository.findDebtsByPersonIdAndOrganization_id(invoiceDTO.getPersonId(),organization.get().getId());\r\n    Optional&lt;Madeen&gt; madeenOptional = madeenRepository.findByPersonId(invoiceDTO.getPersonId());\r\n\r\n  List&lt;InvoicesDTO&gt; invoicesDTO = invoiceDTO.getInvoices();\r\n\r\n  for (InvoicesDTO invoices : invoicesDTO) {  //The error is here\r\n      Debts newDebt = new Debts(); //Only debts\r\n      newDebt.setPersonId(invoiceDTO.getPersonId());\r\n      newDebt.setCreatedDate(LocalDate.now());\r\n      newDebt.setUpdatedDate(invoiceDTO.getInvoiceDate());\r\n      newDebt.setDebtAmount(invoices.getInvoiceAmount());\r\n      newDebt.setInvoiceNumber(invoices.getInvoiceNumber());\r\n      newDebt.setOrganization(organization.get());\r\n      debtsRepository.save(newDebt);\r\n    }\r\n```\r\n`","title":"Json with json object nested Error: Cannot invoke &quot;java.util.Iterator.hasNext()&quot; because &quot;&lt;local8&gt;&quot; is null","body":"<p>I have a json file that has some parmeters with a nested object in it. And I'm trying to save this json file to the database. Altough I keep reciving this Exception:</p>\n<p>&quot; Cannot invoke &quot;java.util.Iterator.hasNext()&quot; because &quot;&quot; is null&quot;</p>\n<p>`</p>\n<pre><code>\n{\n        &quot;personId&quot; : &quot;1xxxxxxx&quot;,\n        &quot;invoiceDate&quot; : &quot;2020-10-12&quot;,\n        &quot;invoices&quot;:[\n            {\n            &quot;invoiceAmount&quot; :&quot;300&quot;,\n            &quot;invoiceNumber&quot; :&quot;x123&quot;\n            },\n        {\n            &quot;invoiceAmount&quot; :&quot;100&quot;,\n            &quot;invoiceNumber&quot; :&quot;x122&quot;\n        }\n        ],   \n}\n</code></pre>\n<p>`</p>\n<p>So to insert an object in my DTO that has an array of (Invoices) I created an Object name invoices of type InvoicesDTO, then I tried to itirate through these Object everytime a request will be reviced using this API. But Still I get this error.</p>\n<p>the dto's for Invoice and invoices:</p>\n<pre><code>`\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class InvoiceDTO {\n  @NotNull(message = &quot;PersonId can't be null&quot;)\n  @PersonId\n  private String personId;\n\n  @NotNull(message = &quot;invoiceDate can't be null&quot;)\n  // @DateTimeFormat(iso = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;))\n  @PastOrPresent\n  @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\n  private LocalDate invoiceDate;\n\n  private InvoicesDTO invoices;\n</code></pre>\n<p><code> </code>\n`</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class InvoicesDTO implements List&lt;InvoicesDTO&gt; {\n\n    @NotNull(message = &quot;invoice Number can't be null&quot;)\n    private String invoiceNumber;\n\n    @NotNull(message = &quot;invoiceAmount can't be null&quot;)\n    private Double invoiceAmount; \n</code></pre>\n<p>`</p>\n<pre><code> try {\n  //Add the new amount of the invoice to an existing debts\n    Optional&lt;Debts&gt; debts = debtsRepository.findDebtsByPersonIdAndOrganization_id(invoiceDTO.getPersonId(),organization.get().getId());\n    Optional&lt;Madeen&gt; madeenOptional = madeenRepository.findByPersonId(invoiceDTO.getPersonId());\n\n  List&lt;InvoicesDTO&gt; invoicesDTO = invoiceDTO.getInvoices();\n\n  for (InvoicesDTO invoices : invoicesDTO) {  //The error is here\n      Debts newDebt = new Debts(); //Only debts\n      newDebt.setPersonId(invoiceDTO.getPersonId());\n      newDebt.setCreatedDate(LocalDate.now());\n      newDebt.setUpdatedDate(invoiceDTO.getInvoiceDate());\n      newDebt.setDebtAmount(invoices.getInvoiceAmount());\n      newDebt.setInvoiceNumber(invoices.getInvoiceNumber());\n      newDebt.setOrganization(organization.get());\n      debtsRepository.save(newDebt);\n    }\n</code></pre>\n<p>`</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1668435162,"post_id":74432785,"comment_id":131397339,"body_markdown":"@chptr-one Please take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.\nAlso add your code to the question itself, not on an external site. Currently your code results in a StackOverflowError. Also, keep in mind that you are using random numbers and you could simply have &quot;bad luck&quot; in generating a `Leaf` or a `Node` instance.","body":"@chptr-one Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/74432785/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Also add your code to the question itself, not on an external site. Currently your code results in a StackOverflowError. Also, keep in mind that you are using random numbers and you could simply have &quot;bad luck&quot; in generating a <code>Leaf</code> or a <code>Node</code> instance."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1668435604,"post_id":74432785,"comment_id":131397513,"body_markdown":"@chptr-one Please [edit] your question to include the trees you want to build. Provide example trees with a big enough number of operators to use. Explain in detail how and why the trees should generate the `Leaf` and `Node` instances in such a way and how you want them.","body":"@chptr-one Please <a href=\"https://stackoverflow.com/posts/74432785/edit\">edit</a> your question to include the trees you want to build. Provide example trees with a big enough number of operators to use. Explain in detail how and why the trees should generate the <code>Leaf</code> and <code>Node</code> instances in such a way and how you want them."},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1668437271,"post_id":74432785,"comment_id":131398151,"body_markdown":"@Progman I fixed a problem with StackOverflowException","body":"@Progman I fixed a problem with StackOverflowException"},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1668438800,"post_id":74432785,"comment_id":131398765,"body_markdown":"@Progman I tested this generator on two hundred expressions and I have never received two operators at one depth of a tree. Only a `Leaf` with the `Node` in two possible combinations. This is clearly not my bad luck.","body":"@Progman I tested this generator on two hundred expressions and I have never received two operators at one depth of a tree. Only a <code>Leaf</code> with the <code>Node</code> in two possible combinations. This is clearly not my bad luck."}],"answers":[{"comments":[{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1668436403,"post_id":74433150,"comment_id":131397793,"body_markdown":"A similar idea occurred to me, but it seemed to me quite difficult to implement. I will try to do this way. Thank you.","body":"A similar idea occurred to me, but it seemed to me quite difficult to implement. I will try to do this way. Thank you."}],"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1668436241,"creation_date":1668435772,"answer_id":74433150,"question_id":74432785,"body_markdown":"It&#39;s going to be very difficult to get balanced trees this way - you have to tune it very carefully for the left tree to probably give you half the operators. I don&#39;t think it&#39;s worth it.\r\n\r\nInstead, I would pick the target number of operators at the top level - that would be a minimum plus some random range to generate larger or smaller expressions - and then randomly assign some of them to each subtree. So you have a recursive call that takes a `size` parameter; if `size==0`, generate a leaf, otherwise make a node, and split `size-1` into a `leftSize` and `rightSize` to pass to the recursive calls.\r\n\r\nHere&#39;s some rough pseudocode (I don&#39;t write much Java these days, but hopefully it makes the algorithm clear)\r\n\r\n    private Expression build(int size){\r\n      if (size == 0) return buildLeaf()\r\n      else {\r\n        leftSize = randomInt(size-1)\r\n        rightSize = size - 1 - leftSize\r\n        leftTree = build(leftSize)\r\n        rightTree = build(rightSize)\r\n        return buildNode(leftTree, rightTree, getRandomOperator())\r\n       }\r\n    }\r\n\r\nDoes that make sense and work for you?","title":"Recursive generator of random algebraic expressions tree issue","body":"<p>It's going to be very difficult to get balanced trees this way - you have to tune it very carefully for the left tree to probably give you half the operators. I don't think it's worth it.</p>\n<p>Instead, I would pick the target number of operators at the top level - that would be a minimum plus some random range to generate larger or smaller expressions - and then randomly assign some of them to each subtree. So you have a recursive call that takes a <code>size</code> parameter; if <code>size==0</code>, generate a leaf, otherwise make a node, and split <code>size-1</code> into a <code>leftSize</code> and <code>rightSize</code> to pass to the recursive calls.</p>\n<p>Here's some rough pseudocode (I don't write much Java these days, but hopefully it makes the algorithm clear)</p>\n<pre><code>private Expression build(int size){\n  if (size == 0) return buildLeaf()\n  else {\n    leftSize = randomInt(size-1)\n    rightSize = size - 1 - leftSize\n    leftTree = build(leftSize)\n    rightTree = build(rightSize)\n    return buildNode(leftTree, rightTree, getRandomOperator())\n   }\n}\n</code></pre>\n<p>Does that make sense and work for you?</p>\n"},{"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668680547,"creation_date":1668510513,"answer_id":74444601,"question_id":74432785,"body_markdown":"I rewritten my method, as [Edward Peters](https://stackoverflow.com/users/6016064/edward-peters) suggested. \r\n\r\nAt each step of recursion, I randomly determine how many `Node`&#39;s will be in the left and right trees (the sum of these numbers at the first step should be equal to the required number of operators in the expression), and return the `Leaf` if the number of nodes turns out to zero.\r\n\r\nIt&#39;s work just fine.\r\n```\r\npublic Expression build(int numberOfOperators) {                                                         \r\n    if (numberOfOperators == 0) return randomLeaf();                                                     \r\n                                                                                                         \r\n    int leftNodes = random.nextInt(numberOfOperators);                                                   \r\n    int rightNodes = numberOfOperators - leftNodes - 1;                                                  \r\n                                                                                            \r\n    return new Node(randomOperator(), build(leftNodes), build(rightNodes));                                                      \r\n}                                                                                                        \r\n```\r\nOne example of resulting expression tree:\r\n```\r\n5 + 5 - (4 + 7) = -1\r\n\r\n   -                   Node\r\n +   +    or     Node        Node\r\n5 5 4 7       Leaf  Leaf  Leaf  Leaf\r\n\r\n```","title":"Recursive generator of random algebraic expressions tree issue","body":"<p>I rewritten my method, as <a href=\"https://stackoverflow.com/users/6016064/edward-peters\">Edward Peters</a> suggested.</p>\n<p>At each step of recursion, I randomly determine how many <code>Node</code>'s will be in the left and right trees (the sum of these numbers at the first step should be equal to the required number of operators in the expression), and return the <code>Leaf</code> if the number of nodes turns out to zero.</p>\n<p>It's work just fine.</p>\n<pre><code>public Expression build(int numberOfOperators) {                                                         \n    if (numberOfOperators == 0) return randomLeaf();                                                     \n                                                                                                         \n    int leftNodes = random.nextInt(numberOfOperators);                                                   \n    int rightNodes = numberOfOperators - leftNodes - 1;                                                  \n                                                                                            \n    return new Node(randomOperator(), build(leftNodes), build(rightNodes));                                                      \n}                                                                                                        \n</code></pre>\n<p>One example of resulting expression tree:</p>\n<pre><code>5 + 5 - (4 + 7) = -1\n\n   -                   Node\n +   +    or     Node        Node\n5 5 4 7       Leaf  Leaf  Leaf  Leaf\n\n</code></pre>\n"}],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74433150,"answer_count":2,"score":1,"last_activity_date":1668680547,"creation_date":1668434170,"question_id":74432785,"body_markdown":"# Problem description\r\n\r\nI am trying to write a math test for my little son. \r\nSuch test must generate a list of random algebraic expressions according to certain rules and check the correctness of solution.\r\n\r\nIn particular, I want to generate expressions consisting strictly of a given number of operators that are selected from a certain list. \r\nFor example *generate a list of expression consisting of 3 operators of addition and subtraction in random order* like:  \r\n \r\n- 12 - (5 + 2) + 2\r\n- 3 + 4 - 2 + 10\r\n- and so on\r\n\r\nTo represent and calculate the expression, I use the *binary expression tree* structure. \r\nEach tree consists of either a `Leaf` or a `Node` that contains an `Operator` and two subtrees.\r\nThis is a simple recursive structure and I want to work with it only recursively.\r\nNo setters in the classes of the tree. I can only use constructors to create a tree.\r\n\r\n#### Leaf class\r\n\r\n```\r\npublic final class Leaf implements Expression {\r\n\r\n    private final int value;\r\n    \r\n    public Leaf(int value) {\r\n        this.value = value;\r\n    }\r\n    \r\n    // ...\r\n}\r\n```\r\n\r\n#### Node Class\r\n```\r\npublic final class Node implements Expression {\r\n\r\n    private final Operator operator;\r\n    private final Expression left;\r\n    private final Expression right;\r\n    \r\n    public Node(@NotNull Operator operator, \r\n                @NotNull Expression left,\r\n                @NotNull Expression right) {\r\n        this.operator = operator;\r\n        this.left = left;\r\n        this.right = right;\r\n    }\r\n    \r\n    // ...\r\n}\r\n\r\n```\r\nAnd `Operator` is a simple `Enum` type. I simplify my classes for the purposes of this question.\r\n\r\n# My issue\r\nI am trying to build an expression based on the following rules:\r\n- There should be at least one operator in the expression, so my tree always starts from the `Node`.\r\n- I choose a random operator from a given list and increase the number of operators used\r\n- While this number less than the given number of operators I construct the left and rights subtree for current `Node`.\r\n- The left subtree can be randomly either a `Leaf` or `Node`\r\n- The right subtree can also be either a `Leaf` or `Node`, but if the left subtree is a `Leaf` and there are still unused operators, then the right must be a `Node`.\r\n\r\nI wrote such an expression builder:\r\n```\r\npublic class SmartExpressionBuilder {\r\n\r\n    private final Random random = ThreadLocalRandom.current();\r\n    private final List&lt;Operator&gt; allowedOperators;\r\n    private final int numberOfOperators;\r\n\r\n    public SmartExpressionBuilder(List&lt;Operator&gt; allowedOperators, int numberOfOperators) {\r\n        this.allowedOperators = allowedOperators;\r\n        this.numberOfOperators = numberOfOperators;\r\n    }\r\n\r\n    private int operatorsUsed;\r\n\r\n    public Expression build() {\r\n        operatorsUsed = 0;\r\n        return helper();\r\n    }\r\n\r\n    private Expression helper() {\r\n        if (operatorsUsed == numberOfOperators) return randomLeaf();\r\n\r\n        Operator op = randomOperator();\r\n\r\n        Expression left = random.nextBoolean() ? helper() : randomLeaf();\r\n        Expression right = (left instanceof Leaf || random.nextBoolean()) ? helper() : randomLeaf();\r\n\r\n        return new Node(op, left, right);\r\n    }\r\n\r\n    private Operator randomOperator() {\r\n        operatorsUsed++;\r\n        return allowedOperators.get(random.nextInt(allowedOperators.size()));\r\n    }\r\n\r\n    private Leaf randomLeaf() {\r\n        return new Leaf(random.nextInt(1, 10));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        final var builder = new SmartExpressionBuilder(List.of(Operator.ADD, Operator.SUB), 4);\r\n        IntStream.range(0, 10)\r\n                .mapToObj(ignored -&gt; builder.build())\r\n                .forEach(exp -&gt; {\r\n                    System.out.printf(&quot;%s = %d%n&quot;, exp.infix(), exp.evaluate());\r\n                    TreePrinter.print(exp);\r\n                });\r\n    }\r\n}\r\n\r\n```\r\nThis works in principle. In the sense that a tree really builds with a given number of operators.\r\nBut there&#39;s a problem.\r\nI get nodes looks like this:\r\n```ignorelang\r\n    Node                Node\r\n   /    \\      or      /    \\\r\n Leaf  Node          Node  Leaf\r\n```\r\nFor example my actual expression and tree may looks like this:\r\n```\r\n4 + 4 - (1 + 3) - 2 = 2\r\n            +\r\n    4               -\r\n                -       2\r\n              4   +        \r\n                 1 3        \r\n```\r\n\r\nbut i never get tree like this:\r\n\r\n```\r\n    Node                  +\r\n   /    \\        or    -     +\r\n Node  Node           5 2  2   -\r\n                              6 1\r\n```\r\n\r\n\r\nI understand what the essence of the problem is.\r\nIn my recursive function, I always go into the left tree first.\r\nAnd every time my random generates an the `Node` is in the left subtree, and not the `Leaf`, recursion dive deeper and deeper int the left subtree until unused operators ends.\r\nThis means that if an `Node` appeared in the left subtree, then `Node` cannot appear in the right at the same depths of tree.\r\n\r\nI broke my brain, but did not figure out how to solve this problem without abandoning the recursive construction of my tree.\r\n\r\nI would be very grateful for any ideas how build nodes of this kind\r\n\r\n```\r\n    Node\r\n   /    \\\r\n Node  Node\r\n```\r\n","title":"Recursive generator of random algebraic expressions tree issue","body":"<h1>Problem description</h1>\n<p>I am trying to write a math test for my little son.\nSuch test must generate a list of random algebraic expressions according to certain rules and check the correctness of solution.</p>\n<p>In particular, I want to generate expressions consisting strictly of a given number of operators that are selected from a certain list.\nFor example <em>generate a list of expression consisting of 3 operators of addition and subtraction in random order</em> like:</p>\n<ul>\n<li>12 - (5 + 2) + 2</li>\n<li>3 + 4 - 2 + 10</li>\n<li>and so on</li>\n</ul>\n<p>To represent and calculate the expression, I use the <em>binary expression tree</em> structure.\nEach tree consists of either a <code>Leaf</code> or a <code>Node</code> that contains an <code>Operator</code> and two subtrees.\nThis is a simple recursive structure and I want to work with it only recursively.\nNo setters in the classes of the tree. I can only use constructors to create a tree.</p>\n<h4>Leaf class</h4>\n<pre><code>public final class Leaf implements Expression {\n\n    private final int value;\n    \n    public Leaf(int value) {\n        this.value = value;\n    }\n    \n    // ...\n}\n</code></pre>\n<h4>Node Class</h4>\n<pre><code>public final class Node implements Expression {\n\n    private final Operator operator;\n    private final Expression left;\n    private final Expression right;\n    \n    public Node(@NotNull Operator operator, \n                @NotNull Expression left,\n                @NotNull Expression right) {\n        this.operator = operator;\n        this.left = left;\n        this.right = right;\n    }\n    \n    // ...\n}\n\n</code></pre>\n<p>And <code>Operator</code> is a simple <code>Enum</code> type. I simplify my classes for the purposes of this question.</p>\n<h1>My issue</h1>\n<p>I am trying to build an expression based on the following rules:</p>\n<ul>\n<li>There should be at least one operator in the expression, so my tree always starts from the <code>Node</code>.</li>\n<li>I choose a random operator from a given list and increase the number of operators used</li>\n<li>While this number less than the given number of operators I construct the left and rights subtree for current <code>Node</code>.</li>\n<li>The left subtree can be randomly either a <code>Leaf</code> or <code>Node</code></li>\n<li>The right subtree can also be either a <code>Leaf</code> or <code>Node</code>, but if the left subtree is a <code>Leaf</code> and there are still unused operators, then the right must be a <code>Node</code>.</li>\n</ul>\n<p>I wrote such an expression builder:</p>\n<pre><code>public class SmartExpressionBuilder {\n\n    private final Random random = ThreadLocalRandom.current();\n    private final List&lt;Operator&gt; allowedOperators;\n    private final int numberOfOperators;\n\n    public SmartExpressionBuilder(List&lt;Operator&gt; allowedOperators, int numberOfOperators) {\n        this.allowedOperators = allowedOperators;\n        this.numberOfOperators = numberOfOperators;\n    }\n\n    private int operatorsUsed;\n\n    public Expression build() {\n        operatorsUsed = 0;\n        return helper();\n    }\n\n    private Expression helper() {\n        if (operatorsUsed == numberOfOperators) return randomLeaf();\n\n        Operator op = randomOperator();\n\n        Expression left = random.nextBoolean() ? helper() : randomLeaf();\n        Expression right = (left instanceof Leaf || random.nextBoolean()) ? helper() : randomLeaf();\n\n        return new Node(op, left, right);\n    }\n\n    private Operator randomOperator() {\n        operatorsUsed++;\n        return allowedOperators.get(random.nextInt(allowedOperators.size()));\n    }\n\n    private Leaf randomLeaf() {\n        return new Leaf(random.nextInt(1, 10));\n    }\n\n    public static void main(String[] args) {\n        final var builder = new SmartExpressionBuilder(List.of(Operator.ADD, Operator.SUB), 4);\n        IntStream.range(0, 10)\n                .mapToObj(ignored -&gt; builder.build())\n                .forEach(exp -&gt; {\n                    System.out.printf(&quot;%s = %d%n&quot;, exp.infix(), exp.evaluate());\n                    TreePrinter.print(exp);\n                });\n    }\n}\n\n</code></pre>\n<p>This works in principle. In the sense that a tree really builds with a given number of operators.\nBut there's a problem.\nI get nodes looks like this:</p>\n<pre><code>    Node                Node\n   /    \\      or      /    \\\n Leaf  Node          Node  Leaf\n</code></pre>\n<p>For example my actual expression and tree may looks like this:</p>\n<pre><code>4 + 4 - (1 + 3) - 2 = 2\n            +\n    4               -\n                -       2\n              4   +        \n                 1 3        \n</code></pre>\n<p>but i never get tree like this:</p>\n<pre><code>    Node                  +\n   /    \\        or    -     +\n Node  Node           5 2  2   -\n                              6 1\n</code></pre>\n<p>I understand what the essence of the problem is.\nIn my recursive function, I always go into the left tree first.\nAnd every time my random generates an the <code>Node</code> is in the left subtree, and not the <code>Leaf</code>, recursion dive deeper and deeper int the left subtree until unused operators ends.\nThis means that if an <code>Node</code> appeared in the left subtree, then <code>Node</code> cannot appear in the right at the same depths of tree.</p>\n<p>I broke my brain, but did not figure out how to solve this problem without abandoning the recursive construction of my tree.</p>\n<p>I would be very grateful for any ideas how build nodes of this kind</p>\n<pre><code>    Node\n   /    \\\n Node  Node\n</code></pre>\n"},{"tags":["java","intellij-idea","nullpointerexception"],"comments":[{"owner":{"account_id":3137088,"reputation":13783,"user_id":2653390,"accept_rate":86,"display_name":"Shashank"},"score":0,"creation_date":1425522764,"post_id":28868992,"comment_id":46002245,"body_markdown":"https://www.jetbrains.com/idea/documentation/howto.html","body":"<a href=\"https://www.jetbrains.com/idea/documentation/howto.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/documentation/howto.html</a>"},{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":0,"creation_date":1425522932,"post_id":28868992,"comment_id":46002285,"body_markdown":"@Shashank I&#39;ll read that, but I don&#39;t think `getResource` uses annotations.","body":"@Shashank I&#39;ll read that, but I don&#39;t think <code>getResource</code> uses annotations."},{"owner":{"account_id":3137088,"reputation":13783,"user_id":2653390,"accept_rate":86,"display_name":"Shashank"},"score":1,"creation_date":1425523484,"post_id":28868992,"comment_id":46002438,"body_markdown":"That&#39;s a good point...Here&#39;s another link I found: https://www.jetbrains.com/idea/documentation/static_code_analysis.html This talks about IntelliJ&#39;s static code analysis features and it seems to have a section on managing static code analysis through custom inspection profiles...Hope this helps.","body":"That&#39;s a good point...Here&#39;s another link I found: <a href=\"https://www.jetbrains.com/idea/documentation/static_code_analysis.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/documentation/static_code_analysis.html</a> This talks about IntelliJ&#39;s static code analysis features and it seems to have a section on managing static code analysis through custom inspection profiles...Hope this helps."},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1425532300,"post_id":28868992,"comment_id":46004549,"body_markdown":"What about integrating with findbug or the likes? Would that helps?","body":"What about integrating with findbug or the likes? Would that helps?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1425546738,"post_id":28868992,"comment_id":46010356,"body_markdown":"Practically any code can cause an NPE.","body":"Practically any code can cause an NPE."},{"owner":{"account_id":309762,"reputation":8409,"user_id":622391,"display_name":"Simon MᶜKenzie"},"score":0,"creation_date":1427768233,"post_id":28868992,"comment_id":46903210,"body_markdown":"IntelliJ allows you to create your own `annotations.xml` containing custom annotations: https://www.jetbrains.com/idea/help/external-annotations.html","body":"IntelliJ allows you to create your own <code>annotations.xml</code> containing custom annotations: <a href=\"https://www.jetbrains.com/idea/help/external-annotations.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/help/external-annotations.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":0,"creation_date":1425578684,"post_id":28872362,"comment_id":46030460,"body_markdown":"&quot;Provided that the code is annotated by @Nullable annotations...&quot; It isn&#39;t.","body":"&quot;Provided that the code is annotated by @Nullable annotations...&quot; It isn&#39;t."},{"owner":{"account_id":902492,"reputation":4160,"user_id":938246,"display_name":"Nader Ghanbari"},"score":0,"creation_date":1425612064,"post_id":28872362,"comment_id":46044542,"body_markdown":"True. Still this might help others, I can remove it if you think it&#39;s totally irrelevant btw :)","body":"True. Still this might help others, I can remove it if you think it&#39;s totally irrelevant btw :)"}],"tags":[],"owner":{"account_id":902492,"reputation":4160,"user_id":938246,"display_name":"Nader Ghanbari"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1425540867,"creation_date":1425540867,"answer_id":28872362,"question_id":28868992,"body_markdown":"## IntelliJ IDEA Inspections ##\r\nOne way is to use [Inspections](https://www.jetbrains.com/idea/help/code-inspection.html?search=inspection).\r\n\r\nProvided that the code is annotated by `@Nullable` annotations you can use inspections:\r\n\r\n![Analyze menu][1]\r\n\r\nAnd then choose `Run Inspection by Name`:\r\n\r\n![@Nullable problems][2]\r\n\r\nThen you can choose the scope (Project, Tests, etc.)\r\n\r\n![enter image description here][3]\r\n\r\nResults will be shown in inspection tab:\r\n\r\n![enter image description here][4]\r\n\r\n## Nullable How-To ##\r\nYou can find more on this in [Nullable How-To](https://www.jetbrains.com/idea/documentation/howto.html)\r\n\r\n  [1]: http://i.stack.imgur.com/zSxuk.png\r\n  [2]: http://i.stack.imgur.com/XQDHf.png\r\n  [3]: http://i.stack.imgur.com/5g5eN.png\r\n  [4]: http://i.stack.imgur.com/dGUl8.png","title":"Is there a way to get Intellij to warn me that this code may cause a NullPointerException?","body":"<h2>IntelliJ IDEA Inspections</h2>\n\n<p>One way is to use <a href=\"https://www.jetbrains.com/idea/help/code-inspection.html?search=inspection\" rel=\"nofollow noreferrer\">Inspections</a>.</p>\n\n<p>Provided that the code is annotated by <code>@Nullable</code> annotations you can use inspections:</p>\n\n<p><img src=\"https://i.stack.imgur.com/zSxuk.png\" alt=\"Analyze menu\"></p>\n\n<p>And then choose <code>Run Inspection by Name</code>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/XQDHf.png\" alt=\"@Nullable problems\"></p>\n\n<p>Then you can choose the scope (Project, Tests, etc.)</p>\n\n<p><img src=\"https://i.stack.imgur.com/5g5eN.png\" alt=\"enter image description here\"></p>\n\n<p>Results will be shown in inspection tab:</p>\n\n<p><img src=\"https://i.stack.imgur.com/dGUl8.png\" alt=\"enter image description here\"></p>\n\n<h2>Nullable How-To</h2>\n\n<p>You can find more on this in <a href=\"https://www.jetbrains.com/idea/documentation/howto.html\" rel=\"nofollow noreferrer\">Nullable How-To</a></p>\n"},{"comments":[{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":0,"creation_date":1425666298,"post_id":28901286,"comment_id":46069646,"body_markdown":"That is some really useful information.  Thanks.  So why doesn&#39;t Intellij warn me on the second line of my example?","body":"That is some really useful information.  Thanks.  So why doesn&#39;t Intellij warn me on the second line of my example?"},{"owner":{"account_id":1004640,"reputation":16474,"user_id":4560142,"display_name":"Vojtech Ruzicka"},"score":0,"creation_date":1425909170,"post_id":28901286,"comment_id":46141411,"body_markdown":"Do you have version 14? Do you have community or ultimate edition?","body":"Do you have version 14? Do you have community or ultimate edition?"},{"owner":{"account_id":1004640,"reputation":16474,"user_id":4560142,"display_name":"Vojtech Ruzicka"},"score":0,"creation_date":1426179456,"post_id":28901286,"comment_id":46276251,"body_markdown":"I updated my answer with possible reasons why this feature might not work in your case.","body":"I updated my answer with possible reasons why this feature might not work in your case."}],"tags":[],"owner":{"account_id":1004640,"reputation":16474,"user_id":4560142,"display_name":"Vojtech Ruzicka"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1426179406,"creation_date":1425653362,"answer_id":28901286,"question_id":28868992,"body_markdown":"Intellij idea can detect where @Nullable and @NotNull annotations are appropriate and [automatically insert them][1]. This can be done with\r\n\r\n&gt; Analyze -&gt; Infer Nullity\r\n\r\nThis way you can automatically add these annotations to current file, uncommited files or various other scopes.\r\n\r\nDisadvantage of this approach is that you have to have control over the code you are analyzing, so you cannot use it for third party code. Starting with Intellij Idea 14, there is a feature called [Automatic @NotNull/@Nullable/@Contract inference][2]. This feature is active in intellij idea 14 by default. Idea analyzes the source code and automatically detects whether there should be @Nullable or @NotNull annotation. The key difference from infer nullity is that it actually does not insert the anotation to the code itself, but only displays contract information on the left editor bar. This is especially good if you are working with third party libraries or do not want proprietary jetbrains annotations in your code.\r\n\r\n![Auto-inferred @NotNull annotations][3]\r\n\r\n**UPDATE:**\r\n\r\nNote that @Nullable annotation is no longer automatically inferred asit resulted in too many false positives https://youtrack.jetbrains.com/issue/IDEA-130063#comment=27-812471\r\n \r\n\r\nAlso, according [a comment][4] by Peter Gromov for this author of the [post mentioned above][5], not all methods are inferred by this feature \r\n\r\n&gt; Please also note that contracts are not inferred for methods that can\r\n&gt; be overridden, i.e. non-static non-private non-final methods don’t\r\n&gt; have contracts.\r\n\r\n\r\n  [1]: http://blog.jetbrains.com/idea/2010/12/auto-infer-nullablenotnull-annotations/\r\n  [2]: http://blog.jetbrains.com/idea/2014/10/automatic-notnullnullablecontract-inference-in-intellij-idea-14/\r\n  [3]: http://i.stack.imgur.com/yXAdE.png\r\n  [4]: http://blog.jetbrains.com/idea/2014/10/automatic-notnullnullablecontract-inference-in-intellij-idea-14/#comment-269959\r\n  [5]: http://blog.jetbrains.com/idea/2014/10/automatic-notnullnullablecontract-inference-in-intellij-idea-14/","title":"Is there a way to get Intellij to warn me that this code may cause a NullPointerException?","body":"<p>Intellij idea can detect where @Nullable and @NotNull annotations are appropriate and <a href=\"http://blog.jetbrains.com/idea/2010/12/auto-infer-nullablenotnull-annotations/\" rel=\"nofollow noreferrer\">automatically insert them</a>. This can be done with</p>\n\n<blockquote>\n  <p>Analyze -> Infer Nullity</p>\n</blockquote>\n\n<p>This way you can automatically add these annotations to current file, uncommited files or various other scopes.</p>\n\n<p>Disadvantage of this approach is that you have to have control over the code you are analyzing, so you cannot use it for third party code. Starting with Intellij Idea 14, there is a feature called <a href=\"http://blog.jetbrains.com/idea/2014/10/automatic-notnullnullablecontract-inference-in-intellij-idea-14/\" rel=\"nofollow noreferrer\">Automatic @NotNull/@Nullable/@Contract inference</a>. This feature is active in intellij idea 14 by default. Idea analyzes the source code and automatically detects whether there should be @Nullable or @NotNull annotation. The key difference from infer nullity is that it actually does not insert the anotation to the code itself, but only displays contract information on the left editor bar. This is especially good if you are working with third party libraries or do not want proprietary jetbrains annotations in your code.</p>\n\n<p><img src=\"https://i.stack.imgur.com/yXAdE.png\" alt=\"Auto-inferred @NotNull annotations\"></p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Note that @Nullable annotation is no longer automatically inferred asit resulted in too many false positives <a href=\"https://youtrack.jetbrains.com/issue/IDEA-130063#comment=27-812471\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-130063#comment=27-812471</a></p>\n\n<p>Also, according <a href=\"http://blog.jetbrains.com/idea/2014/10/automatic-notnullnullablecontract-inference-in-intellij-idea-14/#comment-269959\" rel=\"nofollow noreferrer\">a comment</a> by Peter Gromov for this author of the <a href=\"http://blog.jetbrains.com/idea/2014/10/automatic-notnullnullablecontract-inference-in-intellij-idea-14/\" rel=\"nofollow noreferrer\">post mentioned above</a>, not all methods are inferred by this feature </p>\n\n<blockquote>\n  <p>Please also note that contracts are not inferred for methods that can\n  be overridden, i.e. non-static non-private non-final methods don’t\n  have contracts.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1677914466,"post_id":74473704,"comment_id":133434979,"body_markdown":"Hi, there&#39;s no &#39;constant condition &amp; exception&#39;. Also, an example of how that helps to find NPEs would be nice.","body":"Hi, there&#39;s no &#39;constant condition &amp; exception&#39;. Also, an example of how that helps to find NPEs would be nice."}],"tags":[],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668680331,"creation_date":1668680331,"answer_id":74473704,"question_id":28868992,"body_markdown":"1. Right click on your current class &gt;&gt; analyze &gt;&gt; run inspection by name &gt;&gt; choose &#39;constant condition &amp; exception&#39;  &#39;Java||Probable bugs&#39;\r\n\r\n2. Choose what you want to inspect and press ok.\r\n\r\n3. In problems window, you will see suggestions offered by Intellij.","title":"Is there a way to get Intellij to warn me that this code may cause a NullPointerException?","body":"<ol>\n<li><p>Right click on your current class &gt;&gt; analyze &gt;&gt; run inspection by name &gt;&gt; choose 'constant condition &amp; exception'  'Java||Probable bugs'</p>\n</li>\n<li><p>Choose what you want to inspect and press ok.</p>\n</li>\n<li><p>In problems window, you will see suggestions offered by Intellij.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4775,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1668680331,"creation_date":1425522665,"question_id":28868992,"body_markdown":"Is there a way to get Intellij to warn me that this may cause a NullPointerException? \r\n\r\n    URL resource = Main.class.getResource(&quot;blah/ha&quot;);\r\n    System.out.println(resource.getAuthority());  //potential NPE here\r\n\r\nIntellij is great at warning me about stupid things I&#39;m doing.  Is there a way it can warn me about the potential NPE here?  \r\n\r\nPlease be aware that **`getResources` does not have any of those null/notnull annotations on it**.  At least not in JDK 1.7 which is what I&#39;m using.","title":"Is there a way to get Intellij to warn me that this code may cause a NullPointerException?","body":"<p>Is there a way to get Intellij to warn me that this may cause a NullPointerException? </p>\n\n<pre><code>URL resource = Main.class.getResource(\"blah/ha\");\nSystem.out.println(resource.getAuthority());  //potential NPE here\n</code></pre>\n\n<p>Intellij is great at warning me about stupid things I'm doing.  Is there a way it can warn me about the potential NPE here?  </p>\n\n<p>Please be aware that <strong><code>getResources</code> does not have any of those null/notnull annotations on it</strong>.  At least not in JDK 1.7 which is what I'm using.</p>\n"},{"tags":["java","android","adb"],"answers":[{"comments":[{"owner":{"account_id":7006639,"reputation":163,"user_id":5370788,"display_name":"vv88"},"score":0,"creation_date":1484915291,"post_id":41763465,"comment_id":70718761,"body_markdown":"Now I can see adb.exe is started in Task Manager but it seems adb devices command is not executed and flow is stuck at `while ((line = in.readLine()) != null)`.","body":"Now I can see adb.exe is started in Task Manager but it seems adb devices command is not executed and flow is stuck at <code>while ((line = in.readLine()) != null)</code>."},{"owner":{"account_id":2246691,"reputation":26585,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1484915449,"post_id":41763465,"comment_id":70718879,"body_markdown":"@vv88 , first of all , change  `new ProcessBuilder(&quot;adb.exe&quot;, &quot;adb devices&quot;);` into ` new ProcessBuilder(&quot;adb.exe&quot;, &quot;adb&quot;,&quot;devices&quot;);`","body":"@vv88 , first of all , change  <code>new ProcessBuilder(&quot;adb.exe&quot;, &quot;adb devices&quot;);</code> into ` new ProcessBuilder(&quot;adb.exe&quot;, &quot;adb&quot;,&quot;devices&quot;);`"},{"owner":{"account_id":7006639,"reputation":163,"user_id":5370788,"display_name":"vv88"},"score":0,"creation_date":1484916479,"post_id":41763465,"comment_id":70719435,"body_markdown":"I have change it to `ProcessBuilder pb = new ProcessBuilder(&quot;C:\\\\Users\\\\vv88\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe&quot;, &quot;adb&quot;, &quot;devices&quot;);` but still stuck at same point. Thanks for helping me out.","body":"I have change it to <code>ProcessBuilder pb = new ProcessBuilder(&quot;C:\\\\Users\\\\vv88\\\\AppData\\\\Local\\\\Android\\\\sd&zwnj;&#8203;k\\\\platform-tools\\\\a&zwnj;&#8203;db.exe&quot;, &quot;adb&quot;, &quot;devices&quot;);</code> but still stuck at same point. Thanks for helping me out."},{"owner":{"account_id":2246691,"reputation":26585,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1484916728,"post_id":41763465,"comment_id":70719588,"body_markdown":"@vv88 does simple `pb.waitFor()` works? or it hands too?","body":"@vv88 does simple <code>pb.waitFor()</code> works? or it hands too?"},{"owner":{"account_id":7006639,"reputation":163,"user_id":5370788,"display_name":"vv88"},"score":0,"creation_date":1484917121,"post_id":41763465,"comment_id":70719814,"body_markdown":"I have put `p.waitFor()` after `pb.start()`. As per javadoc waitFor() method will wait untill process represented by p is not terminated. So now I am stuck at `p.waitFor()&#39;.","body":"I have put <code>p.waitFor()</code> after <code>pb.start()</code>. As per javadoc waitFor() method will wait untill process represented by p is not terminated. So now I am stuck at `p.waitFor()&#39;."},{"owner":{"account_id":2246691,"reputation":26585,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1484917776,"post_id":41763465,"comment_id":70720202,"body_markdown":"try to write into stdin: `BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(stdin));writer.write(&quot;\\n&quot;);writer.flush();writer.close();`","body":"try to write into stdin: <code>BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(stdin));writer.write(&quot;\\n&quot;);writer.flush()&zwnj;&#8203;;writer.close();</code>"},{"owner":{"account_id":7006639,"reputation":163,"user_id":5370788,"display_name":"vv88"},"score":0,"creation_date":1484917962,"post_id":41763465,"comment_id":70720325,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/133646/discussion-between-vv88-and-vyacheslav).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/133646/discussion-between-vv88-and-vyacheslav\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":2246691,"reputation":26585,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484914477,"creation_date":1484914477,"answer_id":41763465,"question_id":41763379,"body_markdown":"this should work\r\n\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;C:\\\\Users\\\\&lt;your user name&gt;\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe&quot;, &quot;adb devices&quot;);\r\n\r\nDo not forget:\r\n `&lt;your user name&gt;` - set your name\r\n\r\nor put `C:\\Users\\&lt;your user name&gt;\\AppData\\Local\\Android\\sdk\\platform-tools\\` into windows `PATH` variable.\r\n","title":"Getting exception while running adb commands programmatically","body":"<p>this should work</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"C:\\\\Users\\\\&lt;your user name&gt;\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe\", \"adb devices\");\n</code></pre>\n\n<p>Do not forget:\n <code>&lt;your user name&gt;</code> - set your name</p>\n\n<p>or put <code>C:\\Users\\&lt;your user name&gt;\\AppData\\Local\\Android\\sdk\\platform-tools\\</code> into windows <code>PATH</code> variable.</p>\n"},{"tags":[],"owner":{"account_id":7006639,"reputation":163,"user_id":5370788,"display_name":"vv88"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484920053,"creation_date":1484920053,"answer_id":41765173,"question_id":41763379,"body_markdown":"After a lot of help and suggestions from Vyacheslav over the chat here is the working solution for the community --&gt;\r\n\r\n    try \r\n    \t\t\t{\r\n    \t\t        \r\n    \t\t\t\tProcessBuilder pb = new ProcessBuilder(&quot;C:\\\\Users\\\\&lt;Your User Name Here&gt;\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe&quot;, &quot;devices&quot;);\r\n    \t\t\t\t\r\n    \t\t\t\t//pb.redirectErrorStream(true); // can use these 2 line if you want to see output or errors in file.\r\n    \t\t\t\t//pb.redirectOutput(new File(&quot;C:/pbOutput.Txt&quot;));\r\n    \t\t\t\t\r\n    \t\t\t\tProcess p = pb.start();\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\twhile(p == null)\r\n    \t\t\t\t\tThread.sleep(1000);\r\n    \t\t\t\t\r\n    \t\t        BufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    \t\t        \r\n    \t\t        String line = null;  \r\n    \r\n    \t\t        Pattern pattern = Pattern.compile(&quot;^([a-zA-Z0-9\\\\-]+)(\\\\s+)(device)&quot;);\r\n    \t\t        Matcher matcher;\r\n    \t\t        \r\n    \r\n    \t\t        while ((line = in.readLine()) != null) {  \r\n    \t\t            if (line.matches(pattern.pattern())) {\r\n    \t\t                matcher = pattern.matcher(line);\r\n    \t\t                if (matcher.find())\r\n    \t\t                    System.out.println(matcher.group(1));\r\n    \t\t            }\r\n    \t\t        }  \r\n    \t\t    } \r\n    \t\t\tcatch (IOException e) \r\n    \t\t\t{\r\n    \t\t        e.printStackTrace();\r\n    \t\t    }\r\n\r\nI just need to find out why &quot;adb devices&quot; did not work.","title":"Getting exception while running adb commands programmatically","body":"<p>After a lot of help and suggestions from Vyacheslav over the chat here is the working solution for the community --></p>\n\n<pre><code>try \n            {\n\n                ProcessBuilder pb = new ProcessBuilder(\"C:\\\\Users\\\\&lt;Your User Name Here&gt;\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe\", \"devices\");\n\n                //pb.redirectErrorStream(true); // can use these 2 line if you want to see output or errors in file.\n                //pb.redirectOutput(new File(\"C:/pbOutput.Txt\"));\n\n                Process p = pb.start();\n\n                while(p == null)\n                    Thread.sleep(1000);\n\n                BufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n                String line = null;  \n\n                Pattern pattern = Pattern.compile(\"^([a-zA-Z0-9\\\\-]+)(\\\\s+)(device)\");\n                Matcher matcher;\n\n\n                while ((line = in.readLine()) != null) {  \n                    if (line.matches(pattern.pattern())) {\n                        matcher = pattern.matcher(line);\n                        if (matcher.find())\n                            System.out.println(matcher.group(1));\n                    }\n                }  \n            } \n            catch (IOException e) \n            {\n                e.printStackTrace();\n            }\n</code></pre>\n\n<p>I just need to find out why \"adb devices\" did not work.</p>\n"},{"tags":[],"owner":{"account_id":26524589,"reputation":7,"user_id":20157774,"display_name":"Sushil Pawar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668680143,"creation_date":1668680143,"answer_id":74473662,"question_id":41763379,"body_markdown":"This will for mac If yor are using zsh : \r\n\r\nRuntime.getRuntime().exec(new String[]{&quot;zsh&quot;, &quot;-l&quot;, &quot;-c&quot;, commands})\r\n\r\nin commands we can pass &quot;adb devices&quot; or another commands \r\n\r\nAt my end its working ","title":"Getting exception while running adb commands programmatically","body":"<p>This will for mac If yor are using zsh :</p>\n<p>Runtime.getRuntime().exec(new String[]{&quot;zsh&quot;, &quot;-l&quot;, &quot;-c&quot;, commands})</p>\n<p>in commands we can pass &quot;adb devices&quot; or another commands</p>\n<p>At my end its working</p>\n"}],"owner":{"account_id":7006639,"reputation":163,"user_id":5370788,"display_name":"vv88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2953,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1668680143,"creation_date":1484914209,"question_id":41763379,"body_markdown":"I am trying to get list of adb devices through code but getting an exception when starting the ProcessBuilder.\r\n\r\n**Here is my Code --&gt;**\r\n\r\n    try {\r\n    \t\t        ProcessBuilder pb = new ProcessBuilder(&quot;adb.exe&quot;, &quot;adb devices&quot;);\r\n    \t\t\t\tpb.directory(new File(&quot;C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools&quot;));\r\n    \t\t\t\t\r\n    \t\t\t\tProcess p = pb.start(); // here is the xception\r\n    \t\t        BufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));  \r\n    \t\t        String line = null;  \r\n    \r\n    \t\t        Pattern pattern = Pattern.compile(&quot;^([a-zA-Z0-9\\\\-]+)(\\\\s+)(device)&quot;);\r\n    \t\t        Matcher matcher;\r\n    \r\n    \t\t        while ((line = in.readLine()) != null) {  \r\n    \t\t            if (line.matches(pattern.pattern())) {\r\n    \t\t                matcher = pattern.matcher(line);\r\n    \t\t                if (matcher.find())\r\n    \t\t                    System.out.println(matcher.group(1));\r\n    \t\t            }\r\n    \t\t        } \r\n\r\n **Here is the Exception stacktrace --&gt;**\r\n\r\n&gt; java.io.IOException: Cannot run program &quot;adb.exe&quot; (in directory\r\n&gt; &quot;C:\\Users\\user\\AppData\\Local\\Android\\sdk\\platform-tools&quot;):\r\n&gt; CreateProcess error=2, The system cannot find the file specified \tat\r\n&gt; java.lang.ProcessBuilder.start(Unknown Source) \tat\r\n&gt; MainTest.Example.main(Example.java:45) Caused by: java.io.IOException:\r\n&gt; CreateProcess error=2, The system cannot find the file specified \tat\r\n&gt; java.lang.ProcessImpl.create(Native Method) \tat\r\n&gt; java.lang.ProcessImpl.&lt;init&gt;(Unknown Source) \tat\r\n&gt; java.lang.ProcessImpl.start(Unknown Source) \t... 2 more\r\n\r\nI have tried after changing commands in ProcessBuilder but no luck.\r\n\r\nNeed help please.","title":"Getting exception while running adb commands programmatically","body":"<p>I am trying to get list of adb devices through code but getting an exception when starting the ProcessBuilder.</p>\n\n<p><strong>Here is my Code --></strong></p>\n\n<pre><code>try {\n                ProcessBuilder pb = new ProcessBuilder(\"adb.exe\", \"adb devices\");\n                pb.directory(new File(\"C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\"));\n\n                Process p = pb.start(); // here is the xception\n                BufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));  \n                String line = null;  \n\n                Pattern pattern = Pattern.compile(\"^([a-zA-Z0-9\\\\-]+)(\\\\s+)(device)\");\n                Matcher matcher;\n\n                while ((line = in.readLine()) != null) {  \n                    if (line.matches(pattern.pattern())) {\n                        matcher = pattern.matcher(line);\n                        if (matcher.find())\n                            System.out.println(matcher.group(1));\n                    }\n                } \n</code></pre>\n\n<p><strong>Here is the Exception stacktrace --></strong></p>\n\n<blockquote>\n  <p>java.io.IOException: Cannot run program \"adb.exe\" (in directory\n  \"C:\\Users\\user\\AppData\\Local\\Android\\sdk\\platform-tools\"):\n  CreateProcess error=2, The system cannot find the file specified  at\n  java.lang.ProcessBuilder.start(Unknown Source)    at\n  MainTest.Example.main(Example.java:45) Caused by: java.io.IOException:\n  CreateProcess error=2, The system cannot find the file specified  at\n  java.lang.ProcessImpl.create(Native Method)   at\n  java.lang.ProcessImpl.(Unknown Source)  at\n  java.lang.ProcessImpl.start(Unknown Source)   ... 2 more</p>\n</blockquote>\n\n<p>I have tried after changing commands in ProcessBuilder but no luck.</p>\n\n<p>Need help please.</p>\n"},{"tags":["java","arrays","multidimensional-array","swap"],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668679667,"creation_date":1585171186,"answer_id":60857553,"question_id":60853490,"body_markdown":"You just need to swap the first row with the last row using the common swapping algorithm. Do it as follows:\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class NameSort {\r\n        public static void main(String[] args) {\r\n            int[][] array = {\r\n                    { 1, 2, 3 },\r\n                    { 2, 3, 4 },\r\n                    { 3, 4, 5 }\r\n            };\r\n            System.out.println(&quot;Original array: \\n&quot; + Arrays.deepToString(array));\r\n    \r\n            int[] temp = array[0];\r\n            array[0] = array[array.length - 1];\r\n            array[array.length - 1] = temp;\r\n            System.out.println(&quot;Updated array: \\n&quot; + Arrays.deepToString(array));\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    Original array: \r\n    [[1, 2, 3], [2, 3, 4], [3, 4, 5]]\r\n    Updated array: \r\n    [[3, 4, 5], [2, 3, 4], [1, 2, 3]]\r\n\r\n","title":"How to change the first line of a 2d array with the last line?","body":"<p>You just need to swap the first row with the last row using the common swapping algorithm. Do it as follows:</p>\n<pre><code>import java.util.Arrays;\n\npublic class NameSort {\n    public static void main(String[] args) {\n        int[][] array = {\n                { 1, 2, 3 },\n                { 2, 3, 4 },\n                { 3, 4, 5 }\n        };\n        System.out.println(&quot;Original array: \\n&quot; + Arrays.deepToString(array));\n\n        int[] temp = array[0];\n        array[0] = array[array.length - 1];\n        array[array.length - 1] = temp;\n        System.out.println(&quot;Updated array: \\n&quot; + Arrays.deepToString(array));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Original array: \n[[1, 2, 3], [2, 3, 4], [3, 4, 5]]\nUpdated array: \n[[3, 4, 5], [2, 3, 4], [1, 2, 3]]\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user14940971"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610546234,"creation_date":1610546234,"answer_id":65703405,"question_id":60853490,"body_markdown":"You can create standalone method for this purpose:\r\n```java\r\npublic static void swapRows(int[][] arr, int row1, int row2) {\r\n    int[] temp = arr[row1];\r\n    arr[row1] = arr[row2];\r\n    arr[row2] = temp;\r\n}\r\n```\r\n```java\r\npublic static void main(String[] args) {\r\n    int[][] arr = {\r\n            {1, 8, 4, 6, 9, 8, 7},\r\n            {1, 1, 1, 9, 8, 8, 5},\r\n            {1, 1, 1, 0, 1, 1, 1},\r\n            {1, 1, 1, 1, 1, 1, 1}};\r\n\r\n    swapRows(arr, 0, 3);\r\n\r\n    // output\r\n    Arrays.stream(arr).map(Arrays::toString).forEach(System.out::println);\r\n}\r\n```\r\nOutput:\r\n```\r\n[1, 1, 1, 1, 1, 1, 1]\r\n[1, 1, 1, 9, 8, 8, 5]\r\n[1, 1, 1, 0, 1, 1, 1]\r\n[1, 8, 4, 6, 9, 8, 7]\r\n```\r\n","title":"How to change the first line of a 2d array with the last line?","body":"<p>You can create standalone method for this purpose:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void swapRows(int[][] arr, int row1, int row2) {\n    int[] temp = arr[row1];\n    arr[row1] = arr[row2];\n    arr[row2] = temp;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    int[][] arr = {\n            {1, 8, 4, 6, 9, 8, 7},\n            {1, 1, 1, 9, 8, 8, 5},\n            {1, 1, 1, 0, 1, 1, 1},\n            {1, 1, 1, 1, 1, 1, 1}};\n\n    swapRows(arr, 0, 3);\n\n    // output\n    Arrays.stream(arr).map(Arrays::toString).forEach(System.out::println);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[1, 1, 1, 1, 1, 1, 1]\n[1, 1, 1, 9, 8, 8, 5]\n[1, 1, 1, 0, 1, 1, 1]\n[1, 8, 4, 6, 9, 8, 7]\n</code></pre>\n"}],"owner":{"account_id":18055049,"reputation":31,"user_id":13123731,"display_name":"Mihai012"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668679667,"creation_date":1585155066,"question_id":60853490,"body_markdown":"So I have an 2-D array `A[4][7]`:\r\n```\r\n1 8 4 6 9 8 7\r\n1 1 1 9 8 8 5\r\n1 1 1 0 1 1 1\r\n1 1 1 1 1 1 1\r\n```\r\nHow can I change the first line with the last one?  \r\nTo look like this: \r\n```\r\n1 1 1 1 1 1 1\r\n1 1 1 9 8 8 5\r\n1 1 1 0 1 1 1\r\n1 8 4 6 9 8 7\r\n```\r\nIn Java\r\n","title":"How to change the first line of a 2d array with the last line?","body":"<p>So I have an 2-D array <code>A[4][7]</code>:</p>\n<pre><code>1 8 4 6 9 8 7\n1 1 1 9 8 8 5\n1 1 1 0 1 1 1\n1 1 1 1 1 1 1\n</code></pre>\n<p>How can I change the first line with the last one?<br />\nTo look like this:</p>\n<pre><code>1 1 1 1 1 1 1\n1 1 1 9 8 8 5\n1 1 1 0 1 1 1\n1 8 4 6 9 8 7\n</code></pre>\n<p>In Java</p>\n"},{"tags":["java","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":9150413,"reputation":4837,"user_id":6805190,"display_name":"dassum"},"score":0,"creation_date":1589721784,"post_id":61852306,"comment_id":109399737,"body_markdown":"what exceptions are you getting","body":"what exceptions are you getting"},{"owner":{"account_id":17963500,"reputation":311,"user_id":13053932,"display_name":"Ghiloufi"},"score":0,"creation_date":1589722407,"post_id":61852306,"comment_id":109399976,"body_markdown":"I didn&#39;t have any exceptions, but the data stays in mongodb.","body":"I didn&#39;t have any exceptions, but the data stays in mongodb."},{"owner":{"account_id":9150413,"reputation":4837,"user_id":6805190,"display_name":"dassum"},"score":0,"creation_date":1589725653,"post_id":61852306,"comment_id":109401256,"body_markdown":"can you execute patternRepository.findByName(patternName) and print the result to see if the results are coming.","body":"can you execute patternRepository.findByName(patternName) and print the result to see if the results are coming."},{"owner":{"account_id":17963500,"reputation":311,"user_id":13053932,"display_name":"Ghiloufi"},"score":0,"creation_date":1589748459,"post_id":61852306,"comment_id":109410532,"body_markdown":"yes, I received all the data. Since delete function doesn&#39;t work ,I used mongoTemplate remove function","body":"yes, I received all the data. Since delete function doesn&#39;t work ,I used mongoTemplate remove function"}],"answers":[{"tags":[],"owner":{"account_id":7632635,"reputation":463,"user_id":5787185,"accept_rate":22,"display_name":"Thanh Nhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627369954,"creation_date":1627369954,"answer_id":68540428,"question_id":61852306,"body_markdown":"Your data might have been created by other system, which use different presentation of &quot;_id&quot; (says `String`). With newer version of spring data mongodb, you can use `@MongoId` instead of `@Id` to control this.\r\n\r\nIn my case, the later deletes record correctly.\r\n\r\n`@Id private String id;` produces\r\n```\r\nRemove using query: { &quot;_id&quot; : { &quot;$oid&quot; : &quot;60ed51ce597826297941ade4&quot;}} in collection: sample.\r\n```\r\n\r\n`@MongoId(FieldType.STRING) private String id;` produces\r\n```\r\nRemove using query: { &quot;_id&quot; : &quot;60ed51ce597826297941ade4&quot;} in collection: sample.\r\n```\r\n","title":"spring-data-mongodb delete function doesn&#39;t work?","body":"<p>Your data might have been created by other system, which use different presentation of &quot;_id&quot; (says <code>String</code>). With newer version of spring data mongodb, you can use <code>@MongoId</code> instead of <code>@Id</code> to control this.</p>\n<p>In my case, the later deletes record correctly.</p>\n<p><code>@Id private String id;</code> produces</p>\n<pre><code>Remove using query: { &quot;_id&quot; : { &quot;$oid&quot; : &quot;60ed51ce597826297941ade4&quot;}} in collection: sample.\n</code></pre>\n<p><code>@MongoId(FieldType.STRING) private String id;</code> produces</p>\n<pre><code>Remove using query: { &quot;_id&quot; : &quot;60ed51ce597826297941ade4&quot;} in collection: sample.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5020420,"reputation":21,"user_id":4034040,"display_name":"Panachovo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668679571,"creation_date":1668679571,"answer_id":74473529,"question_id":61852306,"body_markdown":"Maybe a little late...\r\n\r\nI got the same error and saw that the delete query did not include the Object_Id, so the `findByID` method was not working either.\r\n\r\nThe solution for me was to include the targetType in the @Field annotation:\r\n\r\n    @Field(name = &quot;_id&quot;, targetType = FieldType.OBJECT_ID)","title":"spring-data-mongodb delete function doesn&#39;t work?","body":"<p>Maybe a little late...</p>\n<p>I got the same error and saw that the delete query did not include the Object_Id, so the <code>findByID</code> method was not working either.</p>\n<p>The solution for me was to include the targetType in the @Field annotation:</p>\n<pre><code>@Field(name = &quot;_id&quot;, targetType = FieldType.OBJECT_ID)\n</code></pre>\n"}],"owner":{"account_id":17963500,"reputation":311,"user_id":13053932,"display_name":"Ghiloufi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668679571,"creation_date":1589720912,"question_id":61852306,"body_markdown":"I&#39;m using spring-data -mongodb to do crud operations (create , read , update , delete), but\r\nthe delete function doesn&#39;t work  and I don&#39;t know why? . Here is my code.\r\n\r\n```\r\nimport org.bson.types.Binary;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.index.Indexed;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\nimport org.springframework.data.mongodb.core.mapping.Field;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n@ToString\r\n@Getter\r\n@Setter\r\n@Document(collection = &quot;patterns&quot;)\r\npublic class Pattern {\r\n\t@Id\r\n\t@Field\r\n\tprivate String id;\r\n\t@Field\r\n\t@Indexed(unique = true)\r\n\tprivate String name;\r\n\t@Field\r\n\tprivate String status;\r\n\t@Field\r\n\tprivate Binary patternFile;\r\n}\r\n```\r\n```\r\nimport java.util.List;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport fod.pfe7.administratorportal.domain.Pattern;\r\npublic interface PatternRepository extends MongoRepository&lt;Pattern, String&gt; {\r\n\tList&lt;Pattern&gt; findByName(String name);\r\n}\r\n```\r\nin my controller I do .\r\n```\r\npatternRepository.findByName(patternName).forEach(pattern -&gt; {\r\n\t\t\tpatternRepository.deleteById(pattern.getId());\r\n\t\t\tresult.put(&quot;status&quot;, 0);\r\n\t\t\tresult.put(&quot;message&quot;, &quot;pattern deleted successfuly&quot;);\r\n\t\t});\r\n```\r\n","title":"spring-data-mongodb delete function doesn&#39;t work?","body":"<p>I'm using spring-data -mongodb to do crud operations (create , read , update , delete), but\nthe delete function doesn't work  and I don't know why? . Here is my code.</p>\n\n<pre><code>import org.bson.types.Binary;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.index.Indexed;\nimport org.springframework.data.mongodb.core.mapping.Document;\nimport org.springframework.data.mongodb.core.mapping.Field;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n@ToString\n@Getter\n@Setter\n@Document(collection = \"patterns\")\npublic class Pattern {\n    @Id\n    @Field\n    private String id;\n    @Field\n    @Indexed(unique = true)\n    private String name;\n    @Field\n    private String status;\n    @Field\n    private Binary patternFile;\n}\n</code></pre>\n\n<pre><code>import java.util.List;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport fod.pfe7.administratorportal.domain.Pattern;\npublic interface PatternRepository extends MongoRepository&lt;Pattern, String&gt; {\n    List&lt;Pattern&gt; findByName(String name);\n}\n</code></pre>\n\n<p>in my controller I do .</p>\n\n<pre><code>patternRepository.findByName(patternName).forEach(pattern -&gt; {\n            patternRepository.deleteById(pattern.getId());\n            result.put(\"status\", 0);\n            result.put(\"message\", \"pattern deleted successfuly\");\n        });\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1611824462,"post_id":65933923,"comment_id":116575941,"body_markdown":"What hibernate dialect do you use?","body":"What hibernate dialect do you use?"},{"owner":{"account_id":20371301,"reputation":45,"user_id":14943453,"display_name":"marcoF76IT"},"score":0,"creation_date":1611906930,"post_id":65933923,"comment_id":116605526,"body_markdown":"This is the dialect that I use &quot;org.hibernate.dialect.HANAColumnStoreDialect&quot;","body":"This is the dialect that I use &quot;org.hibernate.dialect.HANAColumnStoreDialect&quot;"}],"answers":[{"tags":[],"owner":{"account_id":12215811,"reputation":1,"user_id":9048079,"display_name":"JeeOpp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628765122,"creation_date":1628765122,"answer_id":68755950,"question_id":65933923,"body_markdown":"just add following property in your persistence.xml file:\r\n\r\n    &lt;property name=&quot;hibernate.dialect.hana.use_legacy_boolean_type&quot; value=&quot;false&quot;/&gt;","title":"Hibernate HQL query with boolean attibute and SAP HANA DB","body":"<p>just add following property in your persistence.xml file:</p>\n<pre><code>&lt;property name=&quot;hibernate.dialect.hana.use_legacy_boolean_type&quot; value=&quot;false&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":20371301,"reputation":45,"user_id":14943453,"display_name":"marcoF76IT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668679498,"creation_date":1611824346,"question_id":65933923,"body_markdown":"Goodmoring\r\n&lt;br&gt;I have the following situation.\r\n&lt;br&gt;I have a model with a boolean attribute \r\n\r\n      @Column(name = &quot;ELIMINATO&quot;) \r\n      private Boolean eliminato;\r\n\r\nand the following HQL query on it\r\n\r\n    Query q =  session.createQuery(&quot;from Sottoscrittore where eliminato = false&quot;);\r\n\r\nHibernate generates the following SQL query\r\n\r\n    select\r\n    \t... all fields ...\r\n    from\r\n        SOTTOSCRITTORE modulounic0_ \r\n    where\r\n        modulounic0_.ELIMINATO=0 \r\n    \t\r\nWhen I run this query the following error is returned\r\n\r\n    SAP DBTech JDBC: [266]: inconsistent datatype: INT type is not comparable with BOOLEAN type.\r\n\r\nThe problem is that in SAP HANA DB the correct query is the following \r\n\r\n    select\r\n        ... all fields ...\r\n    from\r\n        SOTTOSCRITTORE \r\n    where\r\n        ELIMINATO=FALSE;\r\n\r\nTo set the right value of the query I tried to set the hibernate property\r\n&quot;hibernate.query.substitutions&quot; in &quot;hibernate.cfg.xml&quot; in this way\r\n\r\n    &lt;property name=&quot;hibernate.query.substitutions&quot;&gt;true TRUE, false FALSE&lt;/property&gt;\r\n\r\nbut I had the same error.\r\n&lt;br&gt;It could be a Hibernate framework bug?\r\n&lt;br&gt;How can I solve the problem?\r\n&lt;br&gt;Thanks\r\n&lt;br&gt;Regards","title":"Hibernate HQL query with boolean attibute and SAP HANA DB","body":"<p>Goodmoring\n<br>I have the following situation.\n<br>I have a model with a boolean attribute</p>\n<pre><code>  @Column(name = &quot;ELIMINATO&quot;) \n  private Boolean eliminato;\n</code></pre>\n<p>and the following HQL query on it</p>\n<pre><code>Query q =  session.createQuery(&quot;from Sottoscrittore where eliminato = false&quot;);\n</code></pre>\n<p>Hibernate generates the following SQL query</p>\n<pre><code>select\n    ... all fields ...\nfrom\n    SOTTOSCRITTORE modulounic0_ \nwhere\n    modulounic0_.ELIMINATO=0 \n    \n</code></pre>\n<p>When I run this query the following error is returned</p>\n<pre><code>SAP DBTech JDBC: [266]: inconsistent datatype: INT type is not comparable with BOOLEAN type.\n</code></pre>\n<p>The problem is that in SAP HANA DB the correct query is the following</p>\n<pre><code>select\n    ... all fields ...\nfrom\n    SOTTOSCRITTORE \nwhere\n    ELIMINATO=FALSE;\n</code></pre>\n<p>To set the right value of the query I tried to set the hibernate property\n&quot;hibernate.query.substitutions&quot; in &quot;hibernate.cfg.xml&quot; in this way</p>\n<pre><code>&lt;property name=&quot;hibernate.query.substitutions&quot;&gt;true TRUE, false FALSE&lt;/property&gt;\n</code></pre>\n<p>but I had the same error.\n<br>It could be a Hibernate framework bug?\n<br>How can I solve the problem?\n<br>Thanks\n<br>Regards</p>\n"},{"tags":["java","if-statement","arraylist"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1668678875,"post_id":74473342,"comment_id":131466207,"body_markdown":"It iterates over the array, compares every element in the array with the value it currently has saved as `greatest` and if the element in the array is larger than `greatest` it will set `greatest` to that value. So in your example, it `greatest` will first be `2`. Then it will compare `greatest=2` to `5`, see that `5` is bigger and set `greatest=5`. Then it will compare `greatest=5` to `3`, see that it is smaller and do nothing...and that will continue until the iteration is done.","body":"It iterates over the array, compares every element in the array with the value it currently has saved as <code>greatest</code> and if the element in the array is larger than <code>greatest</code> it will set <code>greatest</code> to that value. So in your example, it <code>greatest</code> will first be <code>2</code>. Then it will compare <code>greatest=2</code> to <code>5</code>, see that <code>5</code> is bigger and set <code>greatest=5</code>. Then it will compare <code>greatest=5</code> to <code>3</code>, see that it is smaller and do nothing...and that will continue until the iteration is done."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668678891,"post_id":74473342,"comment_id":131466214,"body_markdown":"If greatest has the value 2, number 4, then greatest gets assigned a new value 4. So `=` can be pronounced as **becomes**. An other language like Pascal would have written `greatest := number;`","body":"If greatest has the value 2, number 4, then greatest gets assigned a new value 4. So <code>=</code> can be pronounced as <b>becomes</b>. An other language like Pascal would have written <code>greatest := number;</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1668680771,"post_id":74473342,"comment_id":131466968,"body_markdown":"Just imagine you were that program: you have a bucket with numbers and blindly pull one (the first). This is your greatest number... so far. Then you pull numbers one-by-one until the bucket is empty (you reached the end of the array). You compare each number you just pulled with the number you hold in your other hand (the greatest so far). If the number you just pulled is greater (or the number you hold is smaller) you throw away the number you held and keep the one you just pulled. When the bucket is empty the number you have in your hand is the greatest of all. :)","body":"Just imagine you were that program: you have a bucket with numbers and blindly pull one (the first). This is your greatest number... so far. Then you pull numbers one-by-one until the bucket is empty (you reached the end of the array). You compare each number you just pulled with the number you hold in your other hand (the greatest so far). If the number you just pulled is greater (or the number you hold is smaller) you throw away the number you held and keep the one you just pulled. When the bucket is empty the number you have in your hand is the greatest of all. :)"}],"answers":[{"tags":[],"owner":{"account_id":26912715,"reputation":36,"user_id":20488019,"display_name":"mforster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668678949,"creation_date":1668678949,"answer_id":74473399,"question_id":74473342,"body_markdown":"The line `greatest = number;` doesn&#39;t compare the values. It assigns the value of number to the variable `greatest`. So you have to read the line like `greatest = 4;`.","title":"What does this line in array mean?","body":"<p>The line <code>greatest = number;</code> doesn't compare the values. It assigns the value of number to the variable <code>greatest</code>. So you have to read the line like <code>greatest = 4;</code>.</p>\n"}],"owner":{"account_id":26932630,"reputation":1,"user_id":20504782,"display_name":"Jay Money"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1668678949,"creation_date":1668678691,"question_id":74473342,"body_markdown":"```\r\n    int greatest = list.get(0);\r\n\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            int number = list.get(i);\r\n\r\n            if (greatest &lt; number) {\r\n                greatest = number;\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;The greatest number: &quot; + greatest);\r\n```\r\n\r\n\r\n```\r\nif (greatest &lt; number) {\r\n    greatest = number;\r\n}           \r\n```\r\nI don&#39;t understand how these two codes work and how it finds the greatest number. Let&#39;s say the example is 2,5,3,4,1. Then &quot;greatest&quot; is list.get(0) which is the first number which would be 2 from example. Then, &quot;number&quot; is list.get(i) which is the array list itself. How is 2 &lt; 4 then become 2 = 4 finds the greatest number? Stuck on these two lines for a long time. Would appreciate someone helping out. Thanks! \r\n\r\n","title":"What does this line in array mean?","body":"<pre><code>    int greatest = list.get(0);\n\n        for (int i = 0; i &lt; list.size(); i++) {\n            int number = list.get(i);\n\n            if (greatest &lt; number) {\n                greatest = number;\n            }\n        }\n\n        System.out.println(&quot;The greatest number: &quot; + greatest);\n</code></pre>\n<pre><code>if (greatest &lt; number) {\n    greatest = number;\n}           \n</code></pre>\n<p>I don't understand how these two codes work and how it finds the greatest number. Let's say the example is 2,5,3,4,1. Then &quot;greatest&quot; is list.get(0) which is the first number which would be 2 from example. Then, &quot;number&quot; is list.get(i) which is the array list itself. How is 2 &lt; 4 then become 2 = 4 finds the greatest number? Stuck on these two lines for a long time. Would appreciate someone helping out. Thanks!</p>\n"},{"tags":["java","spring","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668593487,"post_id":74458541,"comment_id":131441218,"body_markdown":"Why is there a maven-assmbly-plugin in your setup? Why `&lt;url&gt;file://${project.basedir}\\libs\\&lt;/url&gt;`??","body":"Why is there a maven-assmbly-plugin in your setup? Why <code>&lt;url&gt;file:&#47;&#47;${project.basedir}\\libs\\&lt;&#47;url&gt;</code>??"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668594118,"post_id":74458541,"comment_id":131441458,"body_markdown":"Remove the `maven-assembly-plugin`.","body":"Remove the <code>maven-assembly-plugin</code>."},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1668601038,"post_id":74458541,"comment_id":131443921,"body_markdown":"Are both machines local and server running on SAME mysql 8?","body":"Are both machines local and server running on SAME mysql 8?"},{"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"score":0,"creation_date":1668674728,"post_id":74458541,"comment_id":131464687,"body_markdown":"@khmarbaise I just edited the poml.xml. I used the maven-assembly-plugin to integrate a external jar file I need. (last dependency added)","body":"@khmarbaise I just edited the poml.xml. I used the maven-assembly-plugin to integrate a external jar file I need. (last dependency added)"},{"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"score":0,"creation_date":1668674750,"post_id":74458541,"comment_id":131464692,"body_markdown":"@WladimirDiskowski yes both machines are running on same mysql 8","body":"@WladimirDiskowski yes both machines are running on same mysql 8"},{"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"score":0,"creation_date":1668674850,"post_id":74458541,"comment_id":131464730,"body_markdown":"@M.Deinum can not remove it because I use this to integrate a external jar file","body":"@M.Deinum can not remove it because I use this to integrate a external jar file"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668675041,"post_id":74458541,"comment_id":131464788,"body_markdown":"That jar should be a dependency, Spring BOot will create the fat jar, doing this again with the assembly plugin will create an improper jar.","body":"That jar should be a dependency, Spring BOot will create the fat jar, doing this again with the assembly plugin will create an improper jar."},{"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"score":0,"creation_date":1668676035,"post_id":74458541,"comment_id":131465154,"body_markdown":"@M.Deinum I removed the maven-assembly-plugin but I am still getting the same lazy init errors, which I do not get in my local machine. Also updated my initial post","body":"@M.Deinum I removed the maven-assembly-plugin but I am still getting the same lazy init errors, which I do not get in my local machine. Also updated my initial post"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668676361,"post_id":74458541,"comment_id":131465280,"body_markdown":"Most important step is to show those exceptions/failures in the post...without them it&#39;s more or less impossible to even guess what the problem might cause...","body":"Most important step is to show those exceptions/failures in the post...without them it&#39;s more or less impossible to even guess what the problem might cause..."},{"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"score":0,"creation_date":1668677002,"post_id":74458541,"comment_id":131465498,"body_markdown":"@khmarbaise Thank you for your comment. I added one example of the lazy init failures and I know how to handle them, but my question is why I do not have the same exceptions on my local machine.","body":"@khmarbaise Thank you for your comment. I added one example of the lazy init failures and I know how to handle them, but my question is why I do not have the same exceptions on my local machine."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668677904,"post_id":74458541,"comment_id":131465824,"body_markdown":"Then there must be something different configuration wise. Do you provide other properties between the 2 versions?","body":"Then there must be something different configuration wise. Do you provide other properties between the 2 versions?"},{"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"score":0,"creation_date":1668678948,"post_id":74458541,"comment_id":131466242,"body_markdown":"@M.Deinum I just added my application.yml file. There are the only differences configuration wise between the two builds","body":"@M.Deinum I just added my application.yml file. There are the only differences configuration wise between the two builds"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1668679825,"post_id":74458541,"comment_id":131466604,"body_markdown":"Well there is a big difference your dev doesn&#39;t contain `spring.jpa.open-in-view=false` whereas your prod does. Which is &quot;just a property&quot; but has quite big implications. Either make sure those match between dev and prod or add it to dev as well and fix the issues you get with that.","body":"Well there is a big difference your dev doesn&#39;t contain <code>spring.jpa.open-in-view=false</code> whereas your prod does. Which is &quot;just a property&quot; but has quite big implications. Either make sure those match between dev and prod or add it to dev as well and fix the issues you get with that."},{"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"score":0,"creation_date":1668957001,"post_id":74458541,"comment_id":131526955,"body_markdown":"@M.Deinum thanks a lot! I should&#39;ve seen that earlier!","body":"@M.Deinum thanks a lot! I should&#39;ve seen that earlier!"}],"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668678875,"creation_date":1668593062,"question_id":74458541,"body_markdown":"I am building a spring boot application and running into the following problem. When I run my application in my IDE IntelliJ everything works fine. If I then run mvn clean package, I am recieving the resulting .jar file in the /target folder. But when I run this .jar on my windows server I get lazyInit exceptions all over the place, which did not occur on my local machine.\r\n\r\nDoes anyone has a idea what could be the problem here?\r\n\r\nBoth machines local and server are running on java 11 and mysql 8.\r\n\r\nHere&#39;s my poml.xml, but feel free to ask for other information I am not sure what could be needed here...\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;de.schuessler-plan.&lt;/groupId&gt;\r\n    &lt;artifactId&gt;acquisition.backend&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;acquisition.backend&lt;/name&gt;\r\n    &lt;description&gt;Backend for SP acquisition&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.ucanaccess&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ucanaccess&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.monitorjbl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xlsx-streamer&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n            &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;me.tongfei&lt;/groupId&gt;\r\n            &lt;artifactId&gt;progressbar&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;customJAR&lt;/groupId&gt;\r\n            &lt;artifactId&gt;SimbaJDBCClient42&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;de.schuesslerplan.acquisition.backend.Application&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;executable&gt;true&lt;/executable&gt;\r\n                    &lt;jvmArguments&gt;\r\n                        -Xms256m\r\n                        -Xmx1g\r\n                    &lt;/jvmArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;in-project&lt;/id&gt;\r\n            &lt;name&gt;In Project Repo&lt;/name&gt;\r\n            &lt;url&gt;file://${project.basedir}\\libs\\&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nEDIT: One example of a lazyInit Exception.\r\n\r\n```&quot;failed to lazily initialize a collection of role: backend.model.mysql.Employee.registeredWork, could not initialize proxy - no Session&quot;```\r\n\r\nEDIT: Configuration differences in the application.yml for different profiles.\r\n\r\n```\r\nspring:\r\n  profiles:\r\n    active: dev\r\n  servlet:\r\n    multipart:\r\n      max-request-size: 10MB\r\n      max-file-size: 10MB\r\n\r\n---\r\n\r\nspring:\r\n  profiles: dev\r\n  jpa:\r\n    show-sql: &#39;true&#39;\r\nmysql:\r\n  driver-class-name: com.mysql.cj.jdbc.Driver\r\n  url: jdbc:mysql://localhost:3306/schema_name\r\n  password: pass-local\r\n  username: username-local\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.MySQL8Dialect\r\nserver:\r\n  port: 8080\r\n\r\n---\r\n\r\nspring:\r\n  profiles: prod\r\n  jpa:\r\n    open-in-view: false\r\nmysql:\r\n  driver-class-name: com.mysql.cj.jdbc.Driver\r\n  url: jdbc:mysql://localhost:3306/schema_name\r\n  password: pass-server\r\n  username: username-server\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.MySQL8Dialect\r\nserver:\r\n  port: 8443\r\n  ssl:\r\n    key-store-password: keystorepass\r\n    key-store: classpath:keystore.p12\r\n    enabled: &#39;true&#39;\r\n    keyStoreType: PKCS12\r\n```","title":"Spring boot mvn clean package .jar throws different exceptions than on local intellij run","body":"<p>I am building a spring boot application and running into the following problem. When I run my application in my IDE IntelliJ everything works fine. If I then run mvn clean package, I am recieving the resulting .jar file in the /target folder. But when I run this .jar on my windows server I get lazyInit exceptions all over the place, which did not occur on my local machine.</p>\n<p>Does anyone has a idea what could be the problem here?</p>\n<p>Both machines local and server are running on java 11 and mysql 8.</p>\n<p>Here's my poml.xml, but feel free to ask for other information I am not sure what could be needed here...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;de.schuessler-plan.&lt;/groupId&gt;\n    &lt;artifactId&gt;acquisition.backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;acquisition.backend&lt;/name&gt;\n    &lt;description&gt;Backend for SP acquisition&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.ucanaccess&lt;/groupId&gt;\n            &lt;artifactId&gt;ucanaccess&lt;/artifactId&gt;\n            &lt;version&gt;5.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.monitorjbl&lt;/groupId&gt;\n            &lt;artifactId&gt;xlsx-streamer&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n            &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n            &lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;me.tongfei&lt;/groupId&gt;\n            &lt;artifactId&gt;progressbar&lt;/artifactId&gt;\n            &lt;version&gt;0.9.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;customJAR&lt;/groupId&gt;\n            &lt;artifactId&gt;SimbaJDBCClient42&lt;/artifactId&gt;\n            &lt;version&gt;4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;de.schuesslerplan.acquisition.backend.Application&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                    &lt;jvmArguments&gt;\n                        -Xms256m\n                        -Xmx1g\n                    &lt;/jvmArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;in-project&lt;/id&gt;\n            &lt;name&gt;In Project Repo&lt;/name&gt;\n            &lt;url&gt;file://${project.basedir}\\libs\\&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>EDIT: One example of a lazyInit Exception.</p>\n<p><code>&quot;failed to lazily initialize a collection of role: backend.model.mysql.Employee.registeredWork, could not initialize proxy - no Session&quot;</code></p>\n<p>EDIT: Configuration differences in the application.yml for different profiles.</p>\n<pre><code>spring:\n  profiles:\n    active: dev\n  servlet:\n    multipart:\n      max-request-size: 10MB\n      max-file-size: 10MB\n\n---\n\nspring:\n  profiles: dev\n  jpa:\n    show-sql: 'true'\nmysql:\n  driver-class-name: com.mysql.cj.jdbc.Driver\n  url: jdbc:mysql://localhost:3306/schema_name\n  password: pass-local\n  username: username-local\n  jpa:\n    hibernate:\n      ddl-auto: update\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL8Dialect\nserver:\n  port: 8080\n\n---\n\nspring:\n  profiles: prod\n  jpa:\n    open-in-view: false\nmysql:\n  driver-class-name: com.mysql.cj.jdbc.Driver\n  url: jdbc:mysql://localhost:3306/schema_name\n  password: pass-server\n  username: username-server\n  jpa:\n    hibernate:\n      ddl-auto: update\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL8Dialect\nserver:\n  port: 8443\n  ssl:\n    key-store-password: keystorepass\n    key-store: classpath:keystore.p12\n    enabled: 'true'\n    keyStoreType: PKCS12\n</code></pre>\n"},{"tags":["java","eclipse"],"answers":[{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1394640610,"post_id":5549512,"comment_id":33982228,"body_markdown":"Since oracle wanted everything to be oracle branded when taking over Sun, this would have been a perfect opportunity to repackage everything and get rid of this class once and for all!","body":"Since oracle wanted everything to be oracle branded when taking over Sun, this would have been a perfect opportunity to repackage everything and get rid of this class once and for all!"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1424434287,"post_id":5549512,"comment_id":45557641,"body_markdown":"@Thorbj&#248;rnRavnAndersen They did something better; they [added a Base64 class into `java.util`](http://stackoverflow.com/a/28628476/589259).","body":"@Thorbj&#248;rnRavnAndersen They did something better; they <a href=\"http://stackoverflow.com/a/28628476/589259\">added a Base64 class into <code>java.util</code></a>."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":2,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1301994102,"creation_date":1301994102,"answer_id":5549512,"question_id":5549464,"body_markdown":"Sure - just don&#39;t use the Sun base64 encoder/decoder. There are plenty of other options available, including [Apache Codec][1] or this [public domain implementation][2].\r\n\r\nThen read [why you shouldn&#39;t use sun.* packages][3].\r\n\r\n\r\n  [1]: http://commons.apache.org/codec/\r\n  [2]: http://www.iharder.net/current/java/base64/\r\n  [3]: http://java.sun.com/products/jdk/faq/faq-sun-packages.html","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>Sure - just don't use the Sun base64 encoder/decoder. There are plenty of other options available, including <a href=\"http://commons.apache.org/codec/\" rel=\"noreferrer\">Apache Codec</a> or this <a href=\"http://www.iharder.net/current/java/base64/\" rel=\"noreferrer\">public domain implementation</a>.</p>\n\n<p>Then read <a href=\"http://java.sun.com/products/jdk/faq/faq-sun-packages.html\" rel=\"noreferrer\">why you shouldn't use sun.* packages</a>.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1352433741,"post_id":5549514,"comment_id":18140382,"body_markdown":"@downvoter Please explain, unless you want your downvote to be taken as mere site vandalism.","body":"@downvoter Please explain, unless you want your downvote to be taken as mere site vandalism."},{"owner":{"account_id":166364,"reputation":175,"user_id":390432,"display_name":"Vladimir Zhilyaev"},"score":0,"creation_date":1359107691,"post_id":5549514,"comment_id":20242967,"body_markdown":"I guess it was downvoted in favor of nIKUNJ or Jon Skeeter answers.","body":"I guess it was downvoted in favor of nIKUNJ or Jon Skeeter answers."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1389686346,"post_id":5549514,"comment_id":31757269,"body_markdown":"@VladimirZhilyaev That&#39;s not what the downvote system is for. It is expressly for &#39;this answer is not useful&#39;. If there&#39;s a better answer it should certainly be upvoted, but downvotes should be applied to incorrect or irrelevant answers. It&#39;s clear that some people have other agendas.","body":"@VladimirZhilyaev That&#39;s not what the downvote system is for. It is expressly for &#39;this answer is not useful&#39;. If there&#39;s a better answer it should certainly be upvoted, but downvotes should be applied to incorrect or irrelevant answers. It&#39;s clear that some people have other agendas."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1394640423,"post_id":5549514,"comment_id":33982091,"body_markdown":"Also note that this particular import only works with Oracle JVMs. Other vendors will most likely not have this class causing your program to break.","body":"Also note that this particular import only works with Oracle JVMs. Other vendors will most likely not have this class causing your program to break."},{"owner":{"account_id":4152649,"reputation":4697,"user_id":3404637,"accept_rate":56,"display_name":"smali"},"score":0,"creation_date":1406353782,"post_id":5549514,"comment_id":38810150,"body_markdown":"@EJP Changing to warning solves the problem but will work without any problem in future like will it compile and build normally.","body":"@EJP Changing to warning solves the problem but will work without any problem in future like will it compile and build normally."},{"owner":{"account_id":358517,"reputation":1919,"user_id":699325,"accept_rate":20,"display_name":"The Camster"},"score":0,"creation_date":1409172458,"post_id":5549514,"comment_id":39870824,"body_markdown":"To update config:  Window-&gt;Perferences-&gt;Java-&gt;Compiler-&gt;Errors/Warnings-&gt;Deprecated and restricted API-&gt;Forbidden reference  (set to &quot;Warning&quot; instead of &quot;Error&quot;","body":"To update config:  Window-&gt;Perferences-&gt;Java-&gt;Compiler-&gt;Errors/Warnings-&gt;Deprec&zwnj;&#8203;ated and restricted API-&gt;Forbidden reference  (set to &quot;Warning&quot; instead of &quot;Error&quot;"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1424436524,"post_id":5549514,"comment_id":45558908,"body_markdown":"In Java 8 you don&#39;t need to use an external base 64 codec anymore, so I&#39;ve [added an answer](http://stackoverflow.com/a/28628476/589259) that includes a code fragment and reasoning why internal classes should not be used. Java 7 is almost end of support now.","body":"In Java 8 you don&#39;t need to use an external base 64 codec anymore, so I&#39;ve <a href=\"http://stackoverflow.com/a/28628476/589259\">added an answer</a> that includes a code fragment and reasoning why internal classes should not be used. Java 7 is almost end of support now."},{"owner":{"account_id":194080,"reputation":998,"user_id":436183,"accept_rate":75,"display_name":"Jeryl Cook"},"score":1,"creation_date":1454782927,"post_id":5549514,"comment_id":58203321,"body_markdown":"There is no valid reason for the downvote. @EJP  stated the cause:&quot; caused by your Eclipse configuration.&quot;, Solution 1:&quot;You can reduce it to a warning&quot;, Solution 2:&quot;use Apache Commons&quot;  ....stop the random downvoting it sucks.","body":"There is no valid reason for the downvote. @EJP  stated the cause:&quot; caused by your Eclipse configuration.&quot;, Solution 1:&quot;You can reduce it to a warning&quot;, Solution 2:&quot;use Apache Commons&quot;  ....stop the random downvoting it sucks."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1595830149,"post_id":5549514,"comment_id":111598212,"body_markdown":"@Ali786 I cannot predict the future. Strange question.","body":"@Ali786 I cannot predict the future. Strange question."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":9,"down_vote_count":3,"up_vote_count":72,"is_accepted":true,"score":69,"last_activity_date":1494828549,"creation_date":1301994115,"answer_id":5549514,"question_id":5549464,"body_markdown":"That error is caused by your Eclipse configuration. You can reduce it to a warning. [Better still][1], use a Base64 encoder that isn&#39;t part of a non-public API. Apache Commons has [one][2], or when you&#39;re already on Java 1.8, then use [`java.util.Base64`][3].\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html\r\n  [2]: https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>That error is caused by your Eclipse configuration. You can reduce it to a warning. <a href=\"http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html\" rel=\"noreferrer\">Better still</a>, use a Base64 encoder that isn't part of a non-public API. Apache Commons has <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html\" rel=\"noreferrer\">one</a>, or when you're already on Java 1.8, then use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"noreferrer\"><code>java.util.Base64</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":362153,"reputation":6110,"user_id":705198,"accept_rate":83,"display_name":"AndrewPK"},"score":0,"creation_date":1333552968,"post_id":5549580,"comment_id":12803635,"body_markdown":"Same problem occurs when trying to use sun.misc.Signal these days as well. Answering the actual question solved my issue as well.","body":"Same problem occurs when trying to use sun.misc.Signal these days as well. Answering the actual question solved my issue as well."},{"owner":{"account_id":278464,"reputation":6672,"user_id":573057,"accept_rate":89,"display_name":"earcam"},"score":2,"creation_date":1371097950,"post_id":5549580,"comment_id":24702074,"body_markdown":"It may have &quot;answered the question&quot; but masking an error as a warning is a poor solution (_though not bad enough to downvote_).  [@Orism](http://stackoverflow.com/a/12090601/573057)&#39;s answer below using `javax.xml.bind.DatatypeConverter` **solves the problem** without additional dependencies where JDK &gt;= 1.6","body":"It may have &quot;answered the question&quot; but masking an error as a warning is a poor solution (<i>though not bad enough to downvote</i>).  <a href=\"http://stackoverflow.com/a/12090601/573057\">@Orism</a>&#39;s answer below using <code>javax.xml.bind.DatatypeConverter</code> <b>solves the problem</b> without additional dependencies where JDK &gt;= 1.6"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1389684526,"post_id":5549580,"comment_id":31756600,"body_markdown":"@earcam It&#39;s only an error because of an over-enthusastic Eclipse default configuration. The Java compiler doesn&#39;t consider it an error and neither does NetBeans.","body":"@earcam It&#39;s only an error because of an over-enthusastic Eclipse default configuration. The Java compiler doesn&#39;t consider it an error and neither does NetBeans."},{"owner":{"account_id":278464,"reputation":6672,"user_id":573057,"accept_rate":89,"display_name":"earcam"},"score":1,"creation_date":1389737531,"post_id":5549580,"comment_id":31788231,"body_markdown":"@EJP agreed - an error is fatal is and this certainly shouldn&#39;t be, but as per Jon Skeet&#39;s answer - it&#39;s a valid and serious warning of runtime portability. Anyway think this is largely historical now (2011==Indigo), in Kepler the default is warning (not sure since which version).","body":"@EJP agreed - an error is fatal is and this certainly shouldn&#39;t be, but as per Jon Skeet&#39;s answer - it&#39;s a valid and serious warning of runtime portability. Anyway think this is largely historical now (2011==Indigo), in Kepler the default is warning (not sure since which version)."}],"tags":[],"owner":{"account_id":249790,"reputation":3108,"user_id":526093,"accept_rate":100,"display_name":"Nikunj"},"comment_count":4,"down_vote_count":2,"up_vote_count":130,"is_accepted":false,"score":128,"last_activity_date":1424439435,"creation_date":1301994439,"answer_id":5549580,"question_id":5549464,"body_markdown":"Go to Window--&gt;Preferences--&gt;Java--&gt;Compiler--&gt;Error/Warnings.  \r\nSelect **Deprecated and Restricted API**. Change it to **warning.**  \r\nChange **forbidden** and **Discouraged** Reference and change it to warning. (or as your need.)\r\n","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>Go to Window-->Preferences-->Java-->Compiler-->Error/Warnings.<br>\nSelect <strong>Deprecated and Restricted API</strong>. Change it to <strong>warning.</strong><br>\nChange <strong>forbidden</strong> and <strong>Discouraged</strong> Reference and change it to warning. (or as your need.)</p>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1424433822,"post_id":12090601,"comment_id":45557387,"body_markdown":"Personally I don&#39;t really like that API and I would not use base 64 from an XML related class (it binds your code to an XML component that may otherwise not be required). But Oracle finally decided to implement base 64 [in the Util package in Java 8](http://stackoverflow.com/a/28628476/589259), so it&#39;s not required anymore.","body":"Personally I don&#39;t really like that API and I would not use base 64 from an XML related class (it binds your code to an XML component that may otherwise not be required). But Oracle finally decided to implement base 64 <a href=\"http://stackoverflow.com/a/28628476/589259\">in the Util package in Java 8</a>, so it&#39;s not required anymore."}],"tags":[],"owner":{"account_id":658420,"reputation":1019,"user_id":475496,"accept_rate":40,"display_name":"StaticBR"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1457004827,"creation_date":1345721516,"answer_id":12090601,"question_id":5549464,"body_markdown":"Java 6 ships the `javax.xml.bind.DatatypeConverter`. This class provides two static methods that support the same decoding &amp; encoding:\r\n\r\n`parseBase64Binary() / printBase64Binary()`\r\n\r\n**Update:**\r\nSince Java 8 we now have a much better [Base64][1] Support.\r\n\r\n\r\nUse this and you will not need an extra library, like `Apache Commons Codec`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Base64.html","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>Java 6 ships the <code>javax.xml.bind.DatatypeConverter</code>. This class provides two static methods that support the same decoding &amp; encoding:</p>\n\n<p><code>parseBase64Binary() / printBase64Binary()</code></p>\n\n<p><strong>Update:</strong>\nSince Java 8 we now have a much better <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow\">Base64</a> Support.</p>\n\n<p>Use this and you will not need an extra library, like <code>Apache Commons Codec</code>.</p>\n"},{"comments":[{"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"score":0,"creation_date":1348145565,"post_id":12102983,"comment_id":16841795,"body_markdown":"It would be useful to document the source of speed claims like that.","body":"It would be useful to document the source of speed claims like that."},{"owner":{"account_id":943622,"reputation":1216,"user_id":971299,"display_name":"RyanfaeScotland"},"score":0,"creation_date":1363012285,"post_id":12102983,"comment_id":21666883,"body_markdown":"I think you mean javax.xml.bind.DatatypeConverter; Please correct me if I&#39;m wrong however seeing as you gave this as an answer rather than a comment I doubt you will.","body":"I think you mean javax.xml.bind.DatatypeConverter; Please correct me if I&#39;m wrong however seeing as you gave this as an answer rather than a comment I doubt you will."},{"owner":{"account_id":27514,"reputation":1785,"user_id":72717,"display_name":"jamshid"},"score":0,"creation_date":1363101908,"post_id":12102983,"comment_id":21710089,"body_markdown":"Sure, avgvstvs, test program and environment details added.","body":"Sure, avgvstvs, test program and environment details added."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1424437853,"post_id":12102983,"comment_id":45559705,"body_markdown":"Thank you for performing this analysis, but it really doesn&#39;t answer the question. You could consider creating a separate self answered question.","body":"Thank you for performing this analysis, but it really doesn&#39;t answer the question. You could consider creating a separate self answered question."},{"owner":{"account_id":27514,"reputation":1785,"user_id":72717,"display_name":"jamshid"},"score":1,"creation_date":1534383476,"post_id":12102983,"comment_id":90688844,"body_markdown":"fwiw i reran this test with java 8 and the new standard java.util.Base64.getDecoder().decode(&quot;b64&quot;) is a now little faster than the previous winner, javax.xml.bind.DatatypeConverter.","body":"fwiw i reran this test with java 8 and the new standard java.util.Base64.getDecoder().decode(&quot;b64&quot;) is a now little faster than the previous winner, javax.xml.bind.DatatypeConverter."},{"owner":{"account_id":27514,"reputation":1785,"user_id":72717,"display_name":"jamshid"},"score":0,"creation_date":1534385246,"post_id":12102983,"comment_id":90689166,"body_markdown":"sorry! java.util.Base64.getDecoder().decode(b64) is a little slower than  javax.xml.bind.DatatypeConverter. But apache codec 1.10 is ~10x slower.","body":"sorry! java.util.Base64.getDecoder().decode(b64) is a little slower than  javax.xml.bind.DatatypeConverter. But apache codec 1.10 is ~10x slower."}],"tags":[],"owner":{"account_id":27514,"reputation":1785,"user_id":72717,"display_name":"jamshid"},"comment_count":6,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1363101845,"creation_date":1345780935,"answer_id":12102983,"question_id":5549464,"body_markdown":"Yup, and sun.misc.BASE64Decoder is way slower: 9x slower than java.xml.bind.DatatypeConverter.parseBase64Binary() and 4x slower than org.apache.commons.codec.binary.Base64.decodeBase64(), at least for a small string on Java 6 OSX.\r\n\r\nBelow is the test program I used. With Java 1.6.0_43 on OSX:\r\n\r\n    john:password = am9objpwYXNzd29yZA==\r\n    javax.xml took 373: john:password\r\n    apache took    612: john:password\r\n    sun took       2215: john:password\r\n\r\nBtw that&#39;s with commons-codec 1.4. With 1.7 it seems to get slower:\r\n\r\n    javax.xml took 377: john:password\r\n    apache took    1681: john:password\r\n    sun took       2197: john:password\r\n\r\nDidn&#39;t test Java 7 or other OS.\r\n\r\n    import javax.xml.bind.DatatypeConverter;\r\n    import org.apache.commons.codec.binary.Base64;\r\n    import java.io.IOException;\r\n    \r\n    public class TestBase64 {\r\n        private static volatile String save = null;\r\n        public static void main(String argv[]) {\r\n            String teststr = &quot;john:password&quot;;\r\n            String b64 = DatatypeConverter.printBase64Binary(teststr.getBytes());\r\n            System.out.println(teststr + &quot; = &quot; + b64);\r\n            try {\r\n                final int COUNT = 1000000;\r\n                long start;\r\n                start = System.currentTimeMillis();\r\n                for (int i=0; i&lt;COUNT; ++i) {\r\n                    save = new String(DatatypeConverter.parseBase64Binary(b64));\r\n                }\r\n                System.out.println(&quot;javax.xml took &quot;+(System.currentTimeMillis()-start)+&quot;: &quot;+save);\r\n                start = System.currentTimeMillis();\r\n                for (int i=0; i&lt;COUNT; ++i) {\r\n                    save = new String(Base64.decodeBase64(b64));\r\n                }\r\n                System.out.println(&quot;apache took    &quot;+(System.currentTimeMillis()-start)+&quot;: &quot;+save);\r\n                sun.misc.BASE64Decoder dec = new sun.misc.BASE64Decoder();\r\n                start = System.currentTimeMillis();\r\n                for (int i=0; i&lt;COUNT; ++i) {\r\n                    save = new String(dec.decodeBuffer(b64));\r\n                }\r\n                System.out.println(&quot;sun took       &quot;+(System.currentTimeMillis()-start)+&quot;: &quot;+save);\r\n            } catch (Exception e) {\r\n                System.out.println(e);\r\n            }\r\n        }\r\n    }\r\n    ","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>Yup, and sun.misc.BASE64Decoder is way slower: 9x slower than java.xml.bind.DatatypeConverter.parseBase64Binary() and 4x slower than org.apache.commons.codec.binary.Base64.decodeBase64(), at least for a small string on Java 6 OSX.</p>\n\n<p>Below is the test program I used. With Java 1.6.0_43 on OSX:</p>\n\n<pre><code>john:password = am9objpwYXNzd29yZA==\njavax.xml took 373: john:password\napache took    612: john:password\nsun took       2215: john:password\n</code></pre>\n\n<p>Btw that's with commons-codec 1.4. With 1.7 it seems to get slower:</p>\n\n<pre><code>javax.xml took 377: john:password\napache took    1681: john:password\nsun took       2197: john:password\n</code></pre>\n\n<p>Didn't test Java 7 or other OS.</p>\n\n<pre><code>import javax.xml.bind.DatatypeConverter;\nimport org.apache.commons.codec.binary.Base64;\nimport java.io.IOException;\n\npublic class TestBase64 {\n    private static volatile String save = null;\n    public static void main(String argv[]) {\n        String teststr = \"john:password\";\n        String b64 = DatatypeConverter.printBase64Binary(teststr.getBytes());\n        System.out.println(teststr + \" = \" + b64);\n        try {\n            final int COUNT = 1000000;\n            long start;\n            start = System.currentTimeMillis();\n            for (int i=0; i&lt;COUNT; ++i) {\n                save = new String(DatatypeConverter.parseBase64Binary(b64));\n            }\n            System.out.println(\"javax.xml took \"+(System.currentTimeMillis()-start)+\": \"+save);\n            start = System.currentTimeMillis();\n            for (int i=0; i&lt;COUNT; ++i) {\n                save = new String(Base64.decodeBase64(b64));\n            }\n            System.out.println(\"apache took    \"+(System.currentTimeMillis()-start)+\": \"+save);\n            sun.misc.BASE64Decoder dec = new sun.misc.BASE64Decoder();\n            start = System.currentTimeMillis();\n            for (int i=0; i&lt;COUNT; ++i) {\n                save = new String(dec.decodeBuffer(b64));\n            }\n            System.out.println(\"sun took       \"+(System.currentTimeMillis()-start)+\": \"+save);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2501709,"reputation":29,"user_id":2176617,"display_name":"ram"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1363424429,"creation_date":1363424429,"answer_id":15447452,"question_id":5549464,"body_markdown":"\r\n1. Go to the Build Path settings in the project properties.\r\n2. Remove the JRE System Library\r\n3. Add it back; Select &quot;Add Library&quot; and select the JRE System Library. The default worked for me.\r\n\r\nThis works because you have multiple classes in different jar files. Removing and re-adding the jre lib will make the right classes be first. If you want a fundamental solution make sure you exclude the jar files with the same classes.","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<ol>\n<li>Go to the Build Path settings in the project properties.</li>\n<li>Remove the JRE System Library</li>\n<li>Add it back; Select \"Add Library\" and select the JRE System Library. The default worked for me.</li>\n</ol>\n\n<p>This works because you have multiple classes in different jar files. Removing and re-adding the jre lib will make the right classes be first. If you want a fundamental solution make sure you exclude the jar files with the same classes.</p>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1424437739,"post_id":17877214,"comment_id":45559633,"body_markdown":"This works because an Execution environment only exposes the Java standard API while selecting the JDK exposes all public classes, including the ones *you should not use*.","body":"This works because an Execution environment only exposes the Java standard API while selecting the JDK exposes all public classes, including the ones <i>you should not use</i>."}],"tags":[],"owner":{"account_id":2631644,"reputation":6155,"user_id":2622016,"accept_rate":69,"display_name":"user2622016"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1374829469,"creation_date":1374829469,"answer_id":17877214,"question_id":5549464,"body_markdown":"I had this problem on jdk1.6.0_37.\r\nThis is the only JDE/JRE on my system. I don&#39;t know why, but the following solved the problem:\r\n\r\n&gt; Project -&gt; Properties -&gt; Java Build Path - &gt; Libraries\r\n&gt; \r\n&gt; Switch radio button from **Execution environment** to **Alernate JRE**. \r\nThis selects the same jdk1.6.0_37, but after clean/build the compile error disappeared.\r\n\r\nMaybe clarification in answer from  *ram* (Mar 16 at 9:00) has to do something with that.\r\n","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>I had this problem on jdk1.6.0_37.\nThis is the only JDE/JRE on my system. I don't know why, but the following solved the problem:</p>\n\n<blockquote>\n  <p>Project -> Properties -> Java Build Path - > Libraries</p>\n  \n  <p>Switch radio button from <strong>Execution environment</strong> to <strong>Alernate JRE</strong>. \n  This selects the same jdk1.6.0_37, but after clean/build the compile error disappeared.</p>\n</blockquote>\n\n<p>Maybe clarification in answer from  <em>ram</em> (Mar 16 at 9:00) has to do something with that.</p>\n"},{"tags":[],"owner":{"account_id":1460223,"reputation":19,"user_id":1374754,"display_name":"NehPraka"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1390210781,"creation_date":1390210781,"answer_id":21230547,"question_id":5549464,"body_markdown":"I am using unix system. \r\n\r\nIn eclipse project-&gt; Properties -&gt; Java Compiler -&gt; Errors/Warning -&gt; Forbidden Access(access rule) -&gt; Turn it to warning/Ignore(Previously it was set to Error).","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>I am using unix system. </p>\n\n<p>In eclipse project-> Properties -> Java Compiler -> Errors/Warning -> Forbidden Access(access rule) -> Turn it to warning/Ignore(Previously it was set to Error).</p>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1586945649,"creation_date":1424433598,"answer_id":28628476,"question_id":5549464,"body_markdown":"This error (or warning in later versions) occurs because you are compiling against a Java Execution Environment. This shows up as `JRE System library [CDC-1.0/Foundation-1.0]` in the Build path of your Eclipse Java project. Such environments only expose the Java standard API instead of all the classes within the runtime. This means that the classes used to *implement* the Java standard API are not exposed.\r\n\r\nYou can allow access to these particular classes using access rules, you could configure Eclipse to use the JDK directly or you could disable the error. You would however be hiding a serious error as [Sun internal classes shouldn&#39;t be used](http://java.sun.com/products/jdk/faq/faq-sun-packages.html) (see below for a short explanation).\r\n\r\n---\r\n\r\nJava contains a [`Base64` class](http://docs.oracle.com/javase/8/docs/api/java/util/Base64.html) in the standard API since Java 1.8. See below for an example how to use it:\r\n\r\nJava 8 import statement:\r\n\r\n    import java.util.Base64;\r\n\r\nJava 8 example code:\r\n\r\n    // create a byte array containing data (test)\r\n    byte[] binaryData = new byte[] { 0x64, 0x61, 0x74, 0x61 };\r\n    // create and configure encoder (using method chaining) \r\n    Base64.Encoder base64Encoder = Base64.getEncoder().withoutPadding();\r\n    // encode to string (instead of a byte array containing ASCII)\r\n    String base64EncodedData = base64Encoder.encodeToString(binaryData);\r\n\r\n    // decode using a single statement (no reuse of decoder)\r\n    // NOTE the decoder won&#39;t fail because the padding is missing\r\n    byte[] base64DecodedData = Base64.getDecoder().decode(base64EncodedData);\r\n\r\n---\r\n\r\nIf Java 8 is not available a library such as [Apache Commons Codec](http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html) or [Guava](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/BaseEncoding.html) should be used.\r\n\r\n---\r\n\r\n[Sun internal classes shouldn&#39;t be used](http://java.sun.com/products/jdk/faq/faq-sun-packages.html). Those classes are used to *implement* Java. They have got public methods to allow instantiation from other packages. A good build environment however *should* protect you from using them.\r\n\r\nUsing internal classes may break compatibility with future Java SE runtimes; the implementation and location of these classes can change at any time. It should be strongly discouraged to disable the error or warning (but the disabling of the error is suggested in previous answers, including the two top voted ones).\r\n\r\n","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>This error (or warning in later versions) occurs because you are compiling against a Java Execution Environment. This shows up as <code>JRE System library [CDC-1.0/Foundation-1.0]</code> in the Build path of your Eclipse Java project. Such environments only expose the Java standard API instead of all the classes within the runtime. This means that the classes used to <em>implement</em> the Java standard API are not exposed.</p>\n\n<p>You can allow access to these particular classes using access rules, you could configure Eclipse to use the JDK directly or you could disable the error. You would however be hiding a serious error as <a href=\"http://java.sun.com/products/jdk/faq/faq-sun-packages.html\" rel=\"nofollow noreferrer\">Sun internal classes shouldn't be used</a> (see below for a short explanation).</p>\n\n<hr>\n\n<p>Java contains a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\"><code>Base64</code> class</a> in the standard API since Java 1.8. See below for an example how to use it:</p>\n\n<p>Java 8 import statement:</p>\n\n<pre><code>import java.util.Base64;\n</code></pre>\n\n<p>Java 8 example code:</p>\n\n<pre><code>// create a byte array containing data (test)\nbyte[] binaryData = new byte[] { 0x64, 0x61, 0x74, 0x61 };\n// create and configure encoder (using method chaining) \nBase64.Encoder base64Encoder = Base64.getEncoder().withoutPadding();\n// encode to string (instead of a byte array containing ASCII)\nString base64EncodedData = base64Encoder.encodeToString(binaryData);\n\n// decode using a single statement (no reuse of decoder)\n// NOTE the decoder won't fail because the padding is missing\nbyte[] base64DecodedData = Base64.getDecoder().decode(base64EncodedData);\n</code></pre>\n\n<hr>\n\n<p>If Java 8 is not available a library such as <a href=\"http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html\" rel=\"nofollow noreferrer\">Apache Commons Codec</a> or <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/BaseEncoding.html\" rel=\"nofollow noreferrer\">Guava</a> should be used.</p>\n\n<hr>\n\n<p><a href=\"http://java.sun.com/products/jdk/faq/faq-sun-packages.html\" rel=\"nofollow noreferrer\">Sun internal classes shouldn't be used</a>. Those classes are used to <em>implement</em> Java. They have got public methods to allow instantiation from other packages. A good build environment however <em>should</em> protect you from using them.</p>\n\n<p>Using internal classes may break compatibility with future Java SE runtimes; the implementation and location of these classes can change at any time. It should be strongly discouraged to disable the error or warning (but the disabling of the error is suggested in previous answers, including the two top voted ones).</p>\n"},{"tags":[],"owner":{"account_id":5549908,"reputation":90,"user_id":4403381,"accept_rate":0,"display_name":"Mohsin Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440082639,"creation_date":1440082639,"answer_id":32121660,"question_id":5549464,"body_markdown":"I know this is very Old post. Since we don&#39;t have any thing sun.misc in maven \r\nwe can easily use \r\n\r\nStringUtils.newStringUtf8(Base64.encodeBase64(encVal));\r\nFrom org.apache.commons.codec.binary.Base64","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>I know this is very Old post. Since we don't have any thing sun.misc in maven \nwe can easily use </p>\n\n<p>StringUtils.newStringUtf8(Base64.encodeBase64(encVal));\nFrom org.apache.commons.codec.binary.Base64</p>\n"},{"tags":[],"owner":{"account_id":7956800,"reputation":1725,"user_id":6005797,"display_name":"PyDevSRS"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1567504626,"creation_date":1489460942,"answer_id":42777099,"question_id":5549464,"body_markdown":"This error is because of you are importing below two classes\r\nimport sun.misc.BASE64Encoder; import sun.misc.BASE64Decoder;. Maybe you are using encode and decode of that library like below.\r\n\r\n    new BASE64Encoder().encode(encVal);\r\n    newBASE64Decoder().decodeBuffer(encryptedData);\r\n\r\nYeah instead of sun.misc.BASE64Encoder you can import\r\n `java.util.Base64` class.Now change the previous encode method as below:\r\n\r\n  \r\n\r\n    encryptedData=Base64.getEncoder().encodeToString(encryptedByteArray);\r\n\r\nNow change the previous decode method as below\r\n\r\n    byte[] base64DecodedData = Base64.getDecoder().decode(base64EncodedData);\r\nNow everything is done , you can save your program and run. It will run without showing any error.\r\n\r\n","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>This error is because of you are importing below two classes\nimport sun.misc.BASE64Encoder; import sun.misc.BASE64Decoder;. Maybe you are using encode and decode of that library like below.</p>\n\n<pre><code>new BASE64Encoder().encode(encVal);\nnewBASE64Decoder().decodeBuffer(encryptedData);\n</code></pre>\n\n<p>Yeah instead of sun.misc.BASE64Encoder you can import\n <code>java.util.Base64</code> class.Now change the previous encode method as below:</p>\n\n<pre><code>encryptedData=Base64.getEncoder().encodeToString(encryptedByteArray);\n</code></pre>\n\n<p>Now change the previous decode method as below</p>\n\n<pre><code>byte[] base64DecodedData = Base64.getDecoder().decode(base64EncodedData);\n</code></pre>\n\n<p>Now everything is done , you can save your program and run. It will run without showing any error.</p>\n"},{"tags":[],"owner":{"account_id":12077887,"reputation":1,"user_id":8830690,"display_name":"Rajesh Kumar Gupta"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1508925722,"creation_date":1508925007,"answer_id":46929216,"question_id":5549464,"body_markdown":"Add base64decoder jar and try these imports:\r\n\r\n    import Decoder.BASE64Decoder;\r\n    import Decoder.BASE64Encoder;","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>Add base64decoder jar and try these imports:</p>\n\n<pre><code>import Decoder.BASE64Decoder;\nimport Decoder.BASE64Encoder;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":2,"creation_date":1598911854,"post_id":59729407,"comment_id":112605080,"body_markdown":"This could be a problem.. because i need to use BASE64Decoder (to give support to java 6 or 7) and when clients upgrade to more recent versions of JAVA, it will break the code...","body":"This could be a problem.. because i need to use BASE64Decoder (to give support to java 6 or 7) and when clients upgrade to more recent versions of JAVA, it will break the code..."}],"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578988062,"creation_date":1578988062,"answer_id":59729407,"question_id":5549464,"body_markdown":"Be careful, `sun.misc.BASE64Decoder` is not available in JDK-13","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>Be careful, <code>sun.misc.BASE64Decoder</code> is not available in JDK-13</p>\n"},{"tags":[],"owner":{"account_id":5224372,"reputation":2149,"user_id":4176813,"display_name":"Maxim Akristiniy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623262385,"creation_date":1623262385,"answer_id":67909642,"question_id":5549464,"body_markdown":"solution: go into java 8 sdk fodler, from jre\\lib\\rt.jar copy to sdklib.jar (it is somewhere in eclipse folder) classes (with same paths): \r\n\r\n&gt; sun/misc/BASE64Decoder.class,&lt;br&gt;\r\n sun/misc/BASE64Encoder.class,&lt;br&gt;\r\nsun/misc/CharacterDecoder.class,&lt;br&gt;\r\nsun/misc/CharacterEncoder.class\r\n\r\nthat&#39;s all","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>solution: go into java 8 sdk fodler, from jre\\lib\\rt.jar copy to sdklib.jar (it is somewhere in eclipse folder) classes (with same paths):</p>\n<blockquote>\n<p>sun/misc/BASE64Decoder.class,<br>\nsun/misc/BASE64Encoder.class,<br>\nsun/misc/CharacterDecoder.class,<br>\nsun/misc/CharacterEncoder.class</p>\n</blockquote>\n<p>that's all</p>\n"},{"comments":[{"owner":{"account_id":16235277,"reputation":341,"user_id":11722883,"display_name":"jhon"},"score":0,"creation_date":1667898295,"post_id":71937233,"comment_id":131271465,"body_markdown":"thank you, you really save my days, I&#39;m new in java and got error in library used","body":"thank you, you really save my days, I&#39;m new in java and got error in library used"}],"tags":[],"owner":{"account_id":15815469,"reputation":41,"user_id":11411361,"display_name":"Palak Arora"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668678806,"creation_date":1650446803,"answer_id":71937233,"question_id":5549464,"body_markdown":"Was getting `sun.misc.base64encoder cannot be resolved to a type` on eclipse -\r\n\r\n1. Resolved this by pointing eclipse to use Java version 1.8 installed on system -\r\nWindows -&gt; Preferences -&gt; Java -&gt; Installed JREs -&gt; add jre path (eg: C:\\Program Files\\Java\\jdk1.8.0_271)\r\n\r\n2. Right-click on project -&gt; Maven -&gt; Update project\r\n\r\nThis will resolve then.\r\n\r\n\r\n","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>Was getting <code>sun.misc.base64encoder cannot be resolved to a type</code> on eclipse -</p>\n<ol>\n<li><p>Resolved this by pointing eclipse to use Java version 1.8 installed on system -\nWindows -&gt; Preferences -&gt; Java -&gt; Installed JREs -&gt; add jre path (eg: C:\\Program Files\\Java\\jdk1.8.0_271)</p>\n</li>\n<li><p>Right-click on project -&gt; Maven -&gt; Update project</p>\n</li>\n</ol>\n<p>This will resolve then.</p>\n"}],"owner":{"account_id":65249,"reputation":6675,"user_id":192173,"accept_rate":93,"display_name":"karikari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293679,"favorite_count":0,"down_vote_count":1,"up_vote_count":76,"accepted_answer_id":5549514,"answer_count":15,"score":75,"last_activity_date":1668678806,"creation_date":1301993889,"question_id":5549464,"body_markdown":"For this two imports;\r\n\r\n    import sun.misc.BASE64Encoder;\r\n    import sun.misc.BASE64Decoder;\r\n\r\n\r\nI got this error:\r\n\r\n    Access restriction: The type BASE64Decoder is not accessible due to restriction on required library C:\\Program Files\\Java\\jre6\\lib\\rt.jar\r\n\r\nHow can I resolve this error?","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>For this two imports;</p>\n\n<pre><code>import sun.misc.BASE64Encoder;\nimport sun.misc.BASE64Decoder;\n</code></pre>\n\n<p>I got this error:</p>\n\n<pre><code>Access restriction: The type BASE64Decoder is not accessible due to restriction on required library C:\\Program Files\\Java\\jre6\\lib\\rt.jar\n</code></pre>\n\n<p>How can I resolve this error?</p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1668677393,"post_id":74472850,"comment_id":131465657,"body_markdown":"You are missing a `,` at the end of the string literal of the line marked `1`.","body":"You are missing a <code>,</code> at the end of the string literal of the line marked <code>1</code>."}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668677444,"creation_date":1668677081,"answer_id":74472964,"question_id":74472850,"body_markdown":"[As mentioned in comments on the answer to the previous question](https://stackoverflow.com/questions/74447208/adding-total-of-a-row-and-a-col-given-certain-conditions#comment131439217_74447863), escape the double quotes inside the string literal.\r\n\r\n```lang-java\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 1 THEN 1 END) AS \\&quot;1\\&quot;, &quot;);\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 2 THEN 1 END) AS \\&quot;2\\&quot;, &quot;);\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 3 THEN 1 END) AS \\&quot;4\\&quot;, &quot;);\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 5 THEN 1 END) AS \\&quot;5\\&quot;, &quot;);\r\n```\r\n\r\nor use a non-quoted identifier:\r\n\r\n```lang-java\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 1 THEN 1 END) AS type1, &quot;);\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 2 THEN 1 END) AS type2, &quot;);\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 3 THEN 1 END) AS type4, &quot;);\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 5 THEN 1 END) AS type5, &quot;);\r\n```","title":"how to get some kind of value inside parantheses - sql query related","body":"<p><a href=\"https://stackoverflow.com/questions/74447208/adding-total-of-a-row-and-a-col-given-certain-conditions#comment131439217_74447863\">As mentioned in comments on the answer to the previous question</a>, escape the double quotes inside the string literal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>sb.Append(&quot; COUNT(CASE user_type WHEN 1 THEN 1 END) AS \\&quot;1\\&quot;, &quot;);\nsb.Append(&quot; COUNT(CASE user_type WHEN 2 THEN 1 END) AS \\&quot;2\\&quot;, &quot;);\nsb.Append(&quot; COUNT(CASE user_type WHEN 3 THEN 1 END) AS \\&quot;4\\&quot;, &quot;);\nsb.Append(&quot; COUNT(CASE user_type WHEN 5 THEN 1 END) AS \\&quot;5\\&quot;, &quot;);\n</code></pre>\n<p>or use a non-quoted identifier:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sb.Append(&quot; COUNT(CASE user_type WHEN 1 THEN 1 END) AS type1, &quot;);\nsb.Append(&quot; COUNT(CASE user_type WHEN 2 THEN 1 END) AS type2, &quot;);\nsb.Append(&quot; COUNT(CASE user_type WHEN 3 THEN 1 END) AS type4, &quot;);\nsb.Append(&quot; COUNT(CASE user_type WHEN 5 THEN 1 END) AS type5, &quot;);\n</code></pre>\n"}],"owner":{"account_id":25387070,"reputation":1,"user_id":19198699,"display_name":"Gal Mor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1668677237,"answer_count":1,"score":-1,"last_activity_date":1668677444,"creation_date":1668676549,"question_id":74472850,"body_markdown":"I have the following query which works great in my oracle developer:\r\n\r\n            sb.Append(&quot;SELECT CASE GROUPING_ID(status, CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END) &quot;);\r\n            sb.Append(&quot; WHEN 0 THEN TO_CHAR(status) WHEN 2 THEN &#39;SUB-TOTAL&#39; ELSE &#39;TOTAL&#39; END AS status, &quot;);\r\n    1       sb.Append(&quot; COUNT(CASE user_type WHEN 1 THEN 1 END) AS &quot;1&quot; &quot;);\r\n    2       sb.Append(&quot; COUNT(CASE user_type WHEN 2 THEN 1 END) AS &quot;2&quot;, &quot;);\r\n    3       sb.Append(&quot; COUNT(CASE user_type WHEN 3 THEN 1 END) AS &quot;4&quot;, &quot;);\r\n    4       sb.Append(&quot; COUNT(CASE user_type WHEN 5 THEN 1 END) AS &quot;5&quot;, &quot;);\r\n            sb.Append(&quot; COUNT(*) AS total &quot;);\r\n            sb.Append(&quot; FROM(Select STATUS, USER_TYPE FROM TRANSACTIONS tr  join TRANSACTION_STATUS_CODES sc on sc.id = tr.user_type join &quot;);\r\n            sb.Append(&quot; TRANSACTION_USER_TYPES ut on ut.id = tr.user_type &quot;);\r\n            sb.Append(&quot; WHERE Tr.User_Type between 1 and 5 And tr.status != 1 AND Tr.Update_Date BETWEEN     TO_DATE(&#39;2022-01-01 00:00:00&#39;, &#39;yyyy-mm-dd HH24:MI:SS&#39;)     AND TO_DATE(&#39;2022-11-13 23:59:59&#39;, &#39;yyyy-mm-dd HH24:MI:SS&#39;)) &quot;);\r\n            sb.Append(&quot; GROUP BY CUBE(status, CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END) &quot;);\r\n            sb.Append(&quot; HAVING GROUPING_ID(status, CASE WHEN status IN (2, 4, 5) THEN 1 ELSE 0 END) IN(0, 3) &quot;);\r\n            sb.Append(&quot; OR(GROUPING_ID(status, CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END) = 2 &quot;);\r\n            sb.Append(&quot;   AND CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END = 1) &quot; );\r\n\r\nIn the lines I marked from 1-&gt;4 I have an error because I cant use parantheses inside parantheses.\r\nwhat I want is to be able to actually put &quot;1&quot; , &quot;2&quot; inside my stringbuilder, how can I do that??\r\n\r\nthanks","title":"how to get some kind of value inside parantheses - sql query related","body":"<p>I have the following query which works great in my oracle developer:</p>\n<pre><code>        sb.Append(&quot;SELECT CASE GROUPING_ID(status, CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END) &quot;);\n        sb.Append(&quot; WHEN 0 THEN TO_CHAR(status) WHEN 2 THEN 'SUB-TOTAL' ELSE 'TOTAL' END AS status, &quot;);\n1       sb.Append(&quot; COUNT(CASE user_type WHEN 1 THEN 1 END) AS &quot;1&quot; &quot;);\n2       sb.Append(&quot; COUNT(CASE user_type WHEN 2 THEN 1 END) AS &quot;2&quot;, &quot;);\n3       sb.Append(&quot; COUNT(CASE user_type WHEN 3 THEN 1 END) AS &quot;4&quot;, &quot;);\n4       sb.Append(&quot; COUNT(CASE user_type WHEN 5 THEN 1 END) AS &quot;5&quot;, &quot;);\n        sb.Append(&quot; COUNT(*) AS total &quot;);\n        sb.Append(&quot; FROM(Select STATUS, USER_TYPE FROM TRANSACTIONS tr  join TRANSACTION_STATUS_CODES sc on sc.id = tr.user_type join &quot;);\n        sb.Append(&quot; TRANSACTION_USER_TYPES ut on ut.id = tr.user_type &quot;);\n        sb.Append(&quot; WHERE Tr.User_Type between 1 and 5 And tr.status != 1 AND Tr.Update_Date BETWEEN     TO_DATE('2022-01-01 00:00:00', 'yyyy-mm-dd HH24:MI:SS')     AND TO_DATE('2022-11-13 23:59:59', 'yyyy-mm-dd HH24:MI:SS')) &quot;);\n        sb.Append(&quot; GROUP BY CUBE(status, CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END) &quot;);\n        sb.Append(&quot; HAVING GROUPING_ID(status, CASE WHEN status IN (2, 4, 5) THEN 1 ELSE 0 END) IN(0, 3) &quot;);\n        sb.Append(&quot; OR(GROUPING_ID(status, CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END) = 2 &quot;);\n        sb.Append(&quot;   AND CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END = 1) &quot; );\n</code></pre>\n<p>In the lines I marked from 1-&gt;4 I have an error because I cant use parantheses inside parantheses.\nwhat I want is to be able to actually put &quot;1&quot; , &quot;2&quot; inside my stringbuilder, how can I do that??</p>\n<p>thanks</p>\n"},{"tags":["java","server"],"comments":[{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1668677582,"post_id":74473003,"comment_id":131465721,"body_markdown":"What is different about other computers? Can you post the full stack-trace of the error? Images are not as useful as text - remove them and replace them with their text contents.","body":"What is different about other computers? Can you post the full stack-trace of the error? Images are not as useful as text - remove them and replace them with their text contents."},{"owner":{"account_id":24946458,"reputation":502,"user_id":18811731,"display_name":"Gicu Aftene"},"score":0,"creation_date":1668678033,"post_id":74473003,"comment_id":131465879,"body_markdown":"In the beginning try to check if the files are accessible, if not ask the user to change permission to files or to run your program with a more privileged user.","body":"In the beginning try to check if the files are accessible, if not ask the user to change permission to files or to run your program with a more privileged user."}],"owner":{"account_id":26550027,"reputation":1,"user_id":20179494,"display_name":"ohmyg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668677402,"creation_date":1668677265,"question_id":74473003,"body_markdown":"[enter image description here][1]\r\nThe server should output text files from the folder to the client.\r\nThe program finds the folder, but there is no access. Please help me decide what to do!\r\nThe program works correctly on other computers\r\nAccess denied\r\n\r\nserver\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.*;\r\n\r\npublic class Server {\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        Socket s = null;\r\n\r\n        File file = new File (&quot;C:\\\\Users\\\\uchik\\\\sonets&quot;);\r\n\r\n        if (!file.exists())\r\n        {\r\n            System.out.println(&quot;\\n&quot; +\r\n                    &quot;FILE DOES NOT EXIST&quot;);\r\n        }\r\n        else\r\n        {\r\n            System.out.println (&quot;FILE FOUNDED&quot;);\r\n        }\r\n\r\n\r\n        try{\r\n            Random rand = new Random();\r\n\r\n            ServerSocket server = new ServerSocket(8080);\r\n            s = server.accept();\r\n            PrintStream ks = new PrintStream(s.getOutputStream());\r\n            FileReader fread = new FileReader(file);\r\n            BufferedReader bfread = new BufferedReader(fread);\r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            while (bfread.ready())\r\n            {\r\n                list.add(bfread.readLine());\r\n            }\r\n            String m = list.get(rand.nextInt(50));\r\n            ks.print(m);\r\n            ks.flush();\r\n            s.close();\r\n        }\r\n        catch(IOException e)\r\n        {\r\n            System.out.println (&quot;Error: &quot; + e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/xtpha.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FPRYH.png","title":"the folder does not have access to the server","body":"<p><a href=\"https://i.stack.imgur.com/FPRYH.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThe server should output text files from the folder to the client.\nThe program finds the folder, but there is no access. Please help me decide what to do!\nThe program works correctly on other computers\nAccess denied</p>\n<p>server</p>\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.util.*;\n\npublic class Server {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        Socket s = null;\n\n        File file = new File (&quot;C:\\\\Users\\\\uchik\\\\sonets&quot;);\n\n        if (!file.exists())\n        {\n            System.out.println(&quot;\\n&quot; +\n                    &quot;FILE DOES NOT EXIST&quot;);\n        }\n        else\n        {\n            System.out.println (&quot;FILE FOUNDED&quot;);\n        }\n\n\n        try{\n            Random rand = new Random();\n\n            ServerSocket server = new ServerSocket(8080);\n            s = server.accept();\n            PrintStream ks = new PrintStream(s.getOutputStream());\n            FileReader fread = new FileReader(file);\n            BufferedReader bfread = new BufferedReader(fread);\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\n            while (bfread.ready())\n            {\n                list.add(bfread.readLine());\n            }\n            String m = list.get(rand.nextInt(50));\n            ks.print(m);\n            ks.flush();\n            s.close();\n        }\n        catch(IOException e)\n        {\n            System.out.println (&quot;Error: &quot; + e);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xtpha.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1668675264,"post_id":74472522,"comment_id":131464881,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Instead [edit] your question to include the code and error messages as text. Does the site tell you which example has failed? Can the list of examples on the left be scrolled?","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Instead <a href=\"https://stackoverflow.com/posts/74472522/edit\">edit</a> your question to include the code and error messages as text. Does the site tell you which example has failed? Can the list of examples on the left be scrolled?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1668677358,"post_id":74472522,"comment_id":131465644,"body_markdown":"Radix complement: b^{n}- y , or in your code a^{count}-num .  Which produces 90 for num=10 which is correct.  What is your expected result and actual ?","body":"Radix complement: b^{n}- y , or in your code a^{count}-num .  Which produces 90 for num=10 which is correct.  What is your expected result and actual ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668684008,"post_id":74472522,"comment_id":131468166,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":26662415,"reputation":95,"user_id":20275037,"display_name":"Cary Zheng"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668677243,"creation_date":1668677243,"answer_id":74473001,"question_id":74472522,"body_markdown":"To get radix complement, you need to add 1 to `rad`.\r\n","title":"how to find the radix complemnt for integer in java?","body":"<p>To get radix complement, you need to add 1 to <code>rad</code>.</p>\n"}],"owner":{"account_id":26178431,"reputation":1,"user_id":19862161,"display_name":"TSPUCH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1668677243,"creation_date":1668675078,"question_id":74472522,"body_markdown":"I need a function that could find the radix complement for any given integer \r\n```\r\npublic static int findRadixComplement(int num) {\r\n    // write your code here\r\n    int count = 0, a = 10;\r\n    int numy = num;\r\n    while (numy != 0) {\r\n        numy /= 10;\r\n        ++count;\r\n    }\r\n    int rad = (int) Math.pow(a, count) - num;\r\n    return rad;\r\n}\r\n```\r\n\r\nI assume the problem is when I try to input &quot;10&quot;, it will output &quot;90&quot;\r\nI also try to use for loop instead of math.pow, it didn&#39;t work\r\nthere isn&#39;t much time left before the deadline \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gcusr.png","title":"how to find the radix complemnt for integer in java?","body":"<p>I need a function that could find the radix complement for any given integer</p>\n<pre><code>public static int findRadixComplement(int num) {\n    // write your code here\n    int count = 0, a = 10;\n    int numy = num;\n    while (numy != 0) {\n        numy /= 10;\n        ++count;\n    }\n    int rad = (int) Math.pow(a, count) - num;\n    return rad;\n}\n</code></pre>\n<p>I assume the problem is when I try to input &quot;10&quot;, it will output &quot;90&quot;\nI also try to use for loop instead of math.pow, it didn't work\nthere isn't much time left before the deadline</p>\n"},{"tags":["java","android","c++","adb"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1649393001,"post_id":71791045,"comment_id":126868672,"body_markdown":"Possibly related: [How to execute the dex file in android with command?](https://stackoverflow.com/a/10200822/295004). As it is an old question, please read/follow comment threads.","body":"Possibly related: <a href=\"https://stackoverflow.com/a/10200822/295004\">How to execute the dex file in android with command?</a>. As it is an old question, please read/follow comment threads."}],"answers":[{"tags":[],"owner":{"account_id":6430985,"reputation":102,"user_id":4984168,"display_name":"Twaik Yont"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664146067,"creation_date":1664146067,"answer_id":73848291,"question_id":71791045,"body_markdown":"I had this problem too. Native library is not found by ClassLoader. Try the following.\r\n1. The `useLegacyPackaging false` needs to be added to `build.gradle` so that libs are not compressed and can be directly loaded from inside apk.\r\n```\r\nandroid {\r\n    packagingOptions {\r\n        jniLibs {\r\n            useLegacyPackaging false\r\n        }\r\n    }\r\n}\r\n```\r\n2. Load your native library this way.\r\n\r\n```\r\npackage com.jnitest.app;\r\n\r\npublic class JNITest {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello from JNITest&quot;);\r\n        System.out.println(&quot;String from JNI: &quot; + JNIInterface.getString());\r\n    }\r\n    static {\r\n        String libPath = System.getenv(&quot;CLASSPATH&quot;) +\r\n                &quot;!/lib/&quot; + Build.SUPPORTED_ABIS[0] +\r\n                &quot;/libapp.so&quot;;\r\n        System.err.println(&quot;Loading shared library: &quot; + libPath);\r\n        System.load(libPath);\r\n    }\r\n}\r\n```\r\n","title":"why app_process run java method get killed after call JNI","body":"<p>I had this problem too. Native library is not found by ClassLoader. Try the following.</p>\n<ol>\n<li>The <code>useLegacyPackaging false</code> needs to be added to <code>build.gradle</code> so that libs are not compressed and can be directly loaded from inside apk.</li>\n</ol>\n<pre><code>android {\n    packagingOptions {\n        jniLibs {\n            useLegacyPackaging false\n        }\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Load your native library this way.</li>\n</ol>\n<pre><code>package com.jnitest.app;\n\npublic class JNITest {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello from JNITest&quot;);\n        System.out.println(&quot;String from JNI: &quot; + JNIInterface.getString());\n    }\n    static {\n        String libPath = System.getenv(&quot;CLASSPATH&quot;) +\n                &quot;!/lib/&quot; + Build.SUPPORTED_ABIS[0] +\n                &quot;/libapp.so&quot;;\n        System.err.println(&quot;Loading shared library: &quot; + libPath);\n        System.load(libPath);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17330544,"reputation":11,"user_id":12553775,"display_name":"yuhui su"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668676943,"creation_date":1668613055,"answer_id":74463270,"question_id":71791045,"body_markdown":"I believe since in newer android version(&gt;23), the so files inside apk will not be compressed at all for fewer space occupation after installation. \r\n\r\nTo make sure those so files will not be compressed, change the build.gradle script of the app module to this:\r\n\r\n```\r\nandroid {\r\n    ...\r\n    packagingOptions {\r\n        jniLibs {\r\n            useLegacyPackaging false\r\n        }\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nIn my project, the gradle version I used is 6.7.1, and the corresponding com.android.tools.build version is 4.2.0. Other newer combination should also apply this `jniLibs` block.\r\n\r\nAfter this, you could treat the apk or jar as a `special folder` by appending an exclamation mark(`!`). \r\n\r\nIf you want to access the content of the folder inside apk (a folder containing so files), you could run a command like:\r\n\r\n`LD_LIBRARY_PATH=/path/to/apk/temp.apk!/lib/abi CLASSPATH=/path/to/apk/temp.apk app_process /system/bin com.package.name.Main`\r\n\r\nWhere the `lib/abi` inside temp.apk contains the so files you wanna use in com.package.name.Main.\r\n\r\nA fantastic trick. Works like a charm.","title":"why app_process run java method get killed after call JNI","body":"<p>I believe since in newer android version(&gt;23), the so files inside apk will not be compressed at all for fewer space occupation after installation.</p>\n<p>To make sure those so files will not be compressed, change the build.gradle script of the app module to this:</p>\n<pre><code>android {\n    ...\n    packagingOptions {\n        jniLibs {\n            useLegacyPackaging false\n        }\n    }\n    ...\n}\n</code></pre>\n<p>In my project, the gradle version I used is 6.7.1, and the corresponding com.android.tools.build version is 4.2.0. Other newer combination should also apply this <code>jniLibs</code> block.</p>\n<p>After this, you could treat the apk or jar as a <code>special folder</code> by appending an exclamation mark(<code>!</code>).</p>\n<p>If you want to access the content of the folder inside apk (a folder containing so files), you could run a command like:</p>\n<p><code>LD_LIBRARY_PATH=/path/to/apk/temp.apk!/lib/abi CLASSPATH=/path/to/apk/temp.apk app_process /system/bin com.package.name.Main</code></p>\n<p>Where the <code>lib/abi</code> inside temp.apk contains the so files you wanna use in com.package.name.Main.</p>\n<p>A fantastic trick. Works like a charm.</p>\n"}],"owner":{"account_id":19052022,"reputation":1,"user_id":13909976,"display_name":"Lty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668676943,"creation_date":1649385208,"question_id":71791045,"body_markdown":"Here is what I do :\r\n\r\n1. create a Native C++ project use android studio template\r\n2. create a class  com.jnitest.app.JNIInterface\r\n``` java\r\npackage com.jnitest.app;\r\n\r\npublic class JNIInterface {\r\n    public static native String getString();\r\n    public static native String getName();\r\n}\r\n\r\n\r\n```\r\nwith the native-lib.cpp\r\n``` c++\r\n#include &lt;jni.h&gt;\r\n#include &lt;string&gt;\r\n\r\nextern &quot;C&quot; JNIEXPORT jstring JNICALL\r\nJava_com_jnitest_app_JNIInterface_getString(JNIEnv *env, jclass thiz) {\r\n    std::string name = &quot;return String from JNIInterface&quot;;\r\n    return env-&gt;NewStringUTF(name.c_str());\r\n}\r\n\r\nextern &quot;C&quot;\r\nJNIEXPORT jstring JNICALL\r\nJava_com_jnitest_app_JNIInterface_getName(JNIEnv *env, jclass clazz) {\r\n    std::string name = &quot;return name from JNIInterface&quot;;\r\n    return env-&gt;NewStringUTF(name.c_str());\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n3. create a test class com.jnitest.app.JNITest\r\n\r\n``` java \r\npackage com.jnitest.app;\r\n\r\npublic class JNITest {\r\n    {\r\n        System.loadLibrary(&quot;app&quot;);\r\n    }\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello from JNITest&quot;);\r\n        System.out.println(&quot;String from JNI: &quot; + JNIInterface.getString());\r\n    }\r\n}\r\n\r\n```\r\n\r\n4. build push and run\r\n``` shell\r\nadb push .\\build\\intermediates\\apk\\debug\\app-debug.apk /data/local/tmp/app-debug.jar \r\n\r\nadb shell CLASSPATH=/data/local/tmp/app-debug.jar  app_process ./ com.jnitest.app.JNITest\r\n```\r\n\r\n5. get output \r\n``` \r\nHello from JNITest\r\nKilled\r\n```\r\n\r\nWhy I cannot get the right result ?","title":"why app_process run java method get killed after call JNI","body":"<p>Here is what I do :</p>\n<ol>\n<li>create a Native C++ project use android studio template</li>\n<li>create a class  com.jnitest.app.JNIInterface</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.jnitest.app;\n\npublic class JNIInterface {\n    public static native String getString();\n    public static native String getName();\n}\n\n\n</code></pre>\n<p>with the native-lib.cpp</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;jni.h&gt;\n#include &lt;string&gt;\n\nextern &quot;C&quot; JNIEXPORT jstring JNICALL\nJava_com_jnitest_app_JNIInterface_getString(JNIEnv *env, jclass thiz) {\n    std::string name = &quot;return String from JNIInterface&quot;;\n    return env-&gt;NewStringUTF(name.c_str());\n}\n\nextern &quot;C&quot;\nJNIEXPORT jstring JNICALL\nJava_com_jnitest_app_JNIInterface_getName(JNIEnv *env, jclass clazz) {\n    std::string name = &quot;return name from JNIInterface&quot;;\n    return env-&gt;NewStringUTF(name.c_str());\n}\n</code></pre>\n<ol start=\"3\">\n<li>create a test class com.jnitest.app.JNITest</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.jnitest.app;\n\npublic class JNITest {\n    {\n        System.loadLibrary(&quot;app&quot;);\n    }\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello from JNITest&quot;);\n        System.out.println(&quot;String from JNI: &quot; + JNIInterface.getString());\n    }\n}\n\n</code></pre>\n<ol start=\"4\">\n<li>build push and run</li>\n</ol>\n<pre class=\"lang-sh prettyprint-override\"><code>adb push .\\build\\intermediates\\apk\\debug\\app-debug.apk /data/local/tmp/app-debug.jar \n\nadb shell CLASSPATH=/data/local/tmp/app-debug.jar  app_process ./ com.jnitest.app.JNITest\n</code></pre>\n<ol start=\"5\">\n<li>get output</li>\n</ol>\n<pre><code>Hello from JNITest\nKilled\n</code></pre>\n<p>Why I cannot get the right result ?</p>\n"},{"tags":["java","list","duplicates","linkedhashmap"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1668644116,"post_id":74468711,"comment_id":131458730,"body_markdown":"Your scenario is flawed. The 4 `personDogMap.put` operations result in only 3 entries in the map since the dog Luke gets overwritten by the dog Lisa. There aren&#39;t any multiple entries since one person only has one dog. A `Map&lt;Person,Dog&gt;` can only hold one dog per person.","body":"Your scenario is flawed. The 4 <code>personDogMap.put</code> operations result in only 3 entries in the map since the dog Luke gets overwritten by the dog Lisa. There aren&#39;t any multiple entries since one person only has one dog. A <code>Map&lt;Person,Dog&gt;</code> can only hold one dog per person."},{"owner":{"account_id":24014519,"reputation":17,"user_id":17997648,"display_name":"Branis"},"score":0,"creation_date":1668644455,"post_id":74468711,"comment_id":131458766,"body_markdown":"Since I&#39;m using new Person in every put operation it returns the &quot;double&quot; entry for John. The first Person John doesn&#39;t allocate the same memory that the second.","body":"Since I&#39;m using new Person in every put operation it returns the &quot;double&quot; entry for John. The first Person John doesn&#39;t allocate the same memory that the second."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1668644678,"post_id":74468711,"comment_id":131458804,"body_markdown":"that&#39;s because your Person class does not overwrite `equals` and `hashCode`, which is a requirement for any class that you want to use as a key in a `Map`. You should do that. You need `equals` anyways, how else are you going to check if a Person occurs twice in the Map?","body":"that&#39;s because your Person class does not overwrite <code>equals</code> and <code>hashCode</code>, which is a requirement for any class that you want to use as a key in a <code>Map</code>. You should do that. You need <code>equals</code> anyways, how else are you going to check if a Person occurs twice in the Map?"},{"owner":{"account_id":24014519,"reputation":17,"user_id":17997648,"display_name":"Branis"},"score":0,"creation_date":1668644958,"post_id":74468711,"comment_id":131458847,"body_markdown":"I thought in using the Id parameter for checking Person","body":"I thought in using the Id parameter for checking Person"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1668645083,"post_id":74468711,"comment_id":131458871,"body_markdown":"A `Map` requires equals and hashCode to be overwritten for the class of the key, otherwise your Map [won&#39;t work as intended](https://stackoverflow.com/questions/1894377/understanding-the-workings-of-equals-and-hashcode-in-a-hashmap).","body":"A <code>Map</code> requires equals and hashCode to be overwritten for the class of the key, otherwise your Map <a href=\"https://stackoverflow.com/questions/1894377/understanding-the-workings-of-equals-and-hashcode-in-a-hashmap\">won&#39;t work as intended</a>."},{"owner":{"account_id":24014519,"reputation":17,"user_id":17997648,"display_name":"Branis"},"score":0,"creation_date":1668645144,"post_id":74468711,"comment_id":131458881,"body_markdown":"ook, I&#39;ll check it out. Tks for helping","body":"ook, I&#39;ll check it out. Tks for helping"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668650600,"post_id":74468711,"comment_id":131459770,"body_markdown":"You&#39;re on the right track. But, let me react to this: &quot;Check if there&#39;s duplicate values in the keyset&quot;. A `HashMap` won&#39;t have duplicate keys. Use `get (key)`. If the return is not `null`, update the `List`, and then update the `HashMap` using `put (key, value)`.  Since a `LinkedHashMap` IS A `HashMap`, this applies to `LinkedHashMap`. This assumes `equals` and `hashCode` is working for your key class, as already discussed in previous comments.","body":"You&#39;re on the right track. But, let me react to this: &quot;Check if there&#39;s duplicate values in the keyset&quot;. A <code>HashMap</code> won&#39;t have duplicate keys. Use <code>get (key)</code>. If the return is not <code>null</code>, update the <code>List</code>, and then update the <code>HashMap</code> using <code>put (key, value)</code>.  Since a <code>LinkedHashMap</code> IS A <code>HashMap</code>, this applies to <code>LinkedHashMap</code>. This assumes <code>equals</code> and <code>hashCode</code> is working for your key class, as already discussed in previous comments."}],"answers":[{"tags":[],"owner":{"account_id":22749894,"reputation":51,"user_id":16910207,"display_name":"Ivan Danilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668676215,"creation_date":1668676215,"answer_id":74472774,"question_id":74468711,"body_markdown":"you can transform your map to the `Map&lt;Person, Set&lt;Dog&gt;&gt;` later:\r\n\r\n\r\n    private Map&lt;Person, Set&lt;Dog&gt;&gt; transform(Map&lt;Person, Dog&gt; map) {\r\n        return map.entrySet().stream()\r\n            .collect(Collectors.groupingBy(Entry::getKey,\r\n                Collectors.mapping(Entry::getValue, Collectors.toSet())));\r\n    }\r\n\r\nOr you shout start with `Map&lt;Person, Set&lt;Dog&gt;&gt;` structure:\r\n\r\n     private void initMap() {\r\n        Map&lt;Person, Set&lt;Dog&gt;&gt; personDogs = new LinkedHashMap&lt;&gt;();\r\n        addDog(personDogs, new Person(&quot;John&quot;, &quot;12345&quot;, 23), new Dog(&quot;Luke&quot;, 5));\r\n        addDog(personDogs, new Person(&quot;John&quot;, &quot;12345&quot;, 23), new Dog(&quot;Lisa&quot;, 7));\r\n        addDog(personDogs, new Person(&quot;John&quot;, &quot;54323&quot;, 33), new Dog(&quot;Frank&quot;, 2));\r\n        addDog(personDogs, new Person(&quot;Louis&quot;, &quot;95223&quot;, 23), new Dog(&quot;Nick&quot;, 12));\r\n      }\r\n    \r\n      private void addDog(Map&lt;Person, Set&lt;Dog&gt;&gt; personDogs, Person person, Dog dog) {\r\n        personDogs.merge(person,\r\n            Set.of(dog),\r\n            (dogs, dogs2) -&gt; {\r\n              dogs.add(dog);\r\n              return dogs;\r\n            });\r\n      }","title":"How to merge duplicates values from Map&lt;Object, Object&gt; and create a Map&lt;Object, List&lt;Object&gt;&gt;","body":"<p>you can transform your map to the <code>Map&lt;Person, Set&lt;Dog&gt;&gt;</code> later:</p>\n<pre><code>private Map&lt;Person, Set&lt;Dog&gt;&gt; transform(Map&lt;Person, Dog&gt; map) {\n    return map.entrySet().stream()\n        .collect(Collectors.groupingBy(Entry::getKey,\n            Collectors.mapping(Entry::getValue, Collectors.toSet())));\n}\n</code></pre>\n<p>Or you shout start with <code>Map&lt;Person, Set&lt;Dog&gt;&gt;</code> structure:</p>\n<pre><code> private void initMap() {\n    Map&lt;Person, Set&lt;Dog&gt;&gt; personDogs = new LinkedHashMap&lt;&gt;();\n    addDog(personDogs, new Person(&quot;John&quot;, &quot;12345&quot;, 23), new Dog(&quot;Luke&quot;, 5));\n    addDog(personDogs, new Person(&quot;John&quot;, &quot;12345&quot;, 23), new Dog(&quot;Lisa&quot;, 7));\n    addDog(personDogs, new Person(&quot;John&quot;, &quot;54323&quot;, 33), new Dog(&quot;Frank&quot;, 2));\n    addDog(personDogs, new Person(&quot;Louis&quot;, &quot;95223&quot;, 23), new Dog(&quot;Nick&quot;, 12));\n  }\n\n  private void addDog(Map&lt;Person, Set&lt;Dog&gt;&gt; personDogs, Person person, Dog dog) {\n    personDogs.merge(person,\n        Set.of(dog),\n        (dogs, dogs2) -&gt; {\n          dogs.add(dog);\n          return dogs;\n        });\n  }\n</code></pre>\n"}],"owner":{"account_id":24014519,"reputation":17,"user_id":17997648,"display_name":"Branis"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1668676215,"creation_date":1668643808,"question_id":74468711,"body_markdown":"Given a map of Person and Dog:        \r\n\r\n     LinkedHashMap&lt;Person, Dog&gt; personDogMap = new LinkedHashMap&lt;&gt;();\r\n\r\nThe classes for Person and Dog:\r\n\r\n\r\n    class Person {\r\n    String name;\r\n    String id;\r\n    int age; \r\n    //getters\r\n    }\r\n\r\n    class Dog {\r\n    String name;\r\n    int age;\r\n    //getters\r\n    }\r\n\r\nHow can I get a Map&lt;Person, List&lt;Dog&gt;&gt; extracting the duplicate values from this personDogMap\r\n\r\nScenario:\r\n\r\n        personDogMap.put(new Person(&quot;John&quot;, &quot;12345&quot;, 23), new Dog(&quot;Luke&quot;, 5));\r\n        personDogMap.put(new Person(&quot;John&quot;, &quot;12345&quot;, 23), new Dog(&quot;Lisa&quot;, 7));\r\n        personDogMap.put(new Person(&quot;John&quot;, &quot;54323&quot;, 33), new Dog(&quot;Frank&quot;, 2));\r\n        personDogMap.put(new Person(&quot;Louis&quot;, &quot;95223&quot;, 23), new Dog(&quot;Nick&quot;, 12));\r\nIn this case the output would be:\r\n\r\n    {\r\n\tPerson(name=John,\r\n\tid=12345,\r\n\tage=23)=[\r\n\t\tDog(name=Luke,\r\n\t\tage=5),\r\n\t\tDog(name=Lisa,\r\n\t\tage=7)\r\n\t],\r\n\tPerson(name=John,\r\n\tid=54323,\r\n\tage=33)=[\r\n\t\tDog(name=Frank,\r\n\t\tage=2)\r\n\t],\r\n\tPerson(name=Louis,\r\n\tid=95223,\r\n\tage=23)=[\r\n\t\tDog(name=Nick,\r\n\t\tage=12)\r\n\t]\r\n}\r\n\r\n\r\n\r\nMy first try was to:\r\n1 - Check if there&#39;s duplicate values in the keyset(the id parameter it&#39;s the differentiator)\r\n2 - If so, take this duplicate and add all the values from the duplicate key to the List&lt;Dog&gt;\r\n\r\nBut I&#39;m struggling to reduce the duplicate values. Any ideas?\r\n\r\n\r\n","title":"How to merge duplicates values from Map&lt;Object, Object&gt; and create a Map&lt;Object, List&lt;Object&gt;&gt;","body":"<p>Given a map of Person and Dog:</p>\n<pre><code> LinkedHashMap&lt;Person, Dog&gt; personDogMap = new LinkedHashMap&lt;&gt;();\n</code></pre>\n<p>The classes for Person and Dog:</p>\n<pre><code>class Person {\nString name;\nString id;\nint age; \n//getters\n}\n\nclass Dog {\nString name;\nint age;\n//getters\n}\n</code></pre>\n<p>How can I get a Map&lt;Person, List&gt; extracting the duplicate values from this personDogMap</p>\n<p>Scenario:</p>\n<pre><code>    personDogMap.put(new Person(&quot;John&quot;, &quot;12345&quot;, 23), new Dog(&quot;Luke&quot;, 5));\n    personDogMap.put(new Person(&quot;John&quot;, &quot;12345&quot;, 23), new Dog(&quot;Lisa&quot;, 7));\n    personDogMap.put(new Person(&quot;John&quot;, &quot;54323&quot;, 33), new Dog(&quot;Frank&quot;, 2));\n    personDogMap.put(new Person(&quot;Louis&quot;, &quot;95223&quot;, 23), new Dog(&quot;Nick&quot;, 12));\n</code></pre>\n<p>In this case the output would be:</p>\n<pre><code>{\nPerson(name=John,\nid=12345,\nage=23)=[\n    Dog(name=Luke,\n    age=5),\n    Dog(name=Lisa,\n    age=7)\n],\nPerson(name=John,\nid=54323,\nage=33)=[\n    Dog(name=Frank,\n    age=2)\n],\nPerson(name=Louis,\nid=95223,\nage=23)=[\n    Dog(name=Nick,\n    age=12)\n]\n</code></pre>\n<p>}</p>\n<p>My first try was to:\n1 - Check if there's duplicate values in the keyset(the id parameter it's the differentiator)\n2 - If so, take this duplicate and add all the values from the duplicate key to the List</p>\n<p>But I'm struggling to reduce the duplicate values. Any ideas?</p>\n"},{"tags":["java","eclipse-rcp","tycho","java-11"],"comments":[{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1538489572,"post_id":52607910,"comment_id":92154660,"body_markdown":"I think OSGi support for Java 11 [will be provided](https://twitter.com/noopur2507/status/1039494569195397122) by Eclipse 4.10 (2018-12)","body":"I think OSGi support for Java 11 <a href=\"https://twitter.com/noopur2507/status/1039494569195397122\" rel=\"nofollow noreferrer\">will be provided</a> by Eclipse 4.10 (2018-12)"},{"owner":{"account_id":5238010,"reputation":2834,"user_id":4185994,"accept_rate":56,"display_name":"titou10"},"score":0,"creation_date":1538568610,"post_id":52607910,"comment_id":92186655,"body_markdown":"OK... it seems that it is the same as currently when you use the Java 11 plugin (which I do). Very uncertain about the difference and the big question remains. Will tycho support Java 11? When ?","body":"OK... it seems that it is the same as currently when you use the Java 11 plugin (which I do). Very uncertain about the difference and the big question remains. Will tycho support Java 11? When ?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1538571846,"post_id":52607910,"comment_id":92188810,"body_markdown":"See [Eclipse bug 532302](https://bugs.eclipse.org/bugs/show_bug.cgi?id=532302)","body":"See <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=532302\" rel=\"nofollow noreferrer\">Eclipse bug 532302</a>"}],"answers":[{"tags":[],"owner":{"account_id":5238010,"reputation":2834,"user_id":4185994,"accept_rate":56,"display_name":"titou10"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1546703228,"creation_date":1546703228,"answer_id":54053565,"question_id":52607910,"body_markdown":"Using eclipse RCP v2018-12 (v4.10) + eclipse tycho v1.3.0 solved all my problems    \r\n[JMSToolBox][1] is now developped and distributed with Java 11   \r\n(see also [this][2] post for packaging Java 11 JRE)\r\n\r\n\r\n  [1]: https://github.com/jmstoolbox/jmstoolbox\r\n  [2]: https://stackoverflow.com/questions/52627195/eclipse-rcp-2018-09-openjdk-11-tycho-how-to-package-an-application-with-the/53671002#53671002","title":"eclipse tycho + java 11 = Unknown OSGi execution environment: &#39;JavaSE-11&#39;","body":"<p>Using eclipse RCP v2018-12 (v4.10) + eclipse tycho v1.3.0 solved all my problems<br>\n<a href=\"https://github.com/jmstoolbox/jmstoolbox\" rel=\"nofollow noreferrer\">JMSToolBox</a> is now developped and distributed with Java 11<br>\n(see also <a href=\"https://stackoverflow.com/questions/52627195/eclipse-rcp-2018-09-openjdk-11-tycho-how-to-package-an-application-with-the/53671002#53671002\">this</a> post for packaging Java 11 JRE)</p>\n"},{"comments":[{"owner":{"account_id":5238010,"reputation":2834,"user_id":4185994,"accept_rate":56,"display_name":"titou10"},"score":0,"creation_date":1668699025,"post_id":74472735,"comment_id":131474242,"body_markdown":"You re giving a wrong answer to this 4 years old question that was flagged as a bug in tycho. It works as designed since tycho v1.3 which is 3 years old now...","body":"You re giving a wrong answer to this 4 years old question that was flagged as a bug in tycho. It works as designed since tycho v1.3 which is 3 years old now..."}],"tags":[],"owner":{"account_id":11064408,"reputation":63,"user_id":8124631,"display_name":"freshNfunky"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1668676021,"creation_date":1668676021,"answer_id":74472735,"question_id":52607910,"body_markdown":"This means your Maven is not using Java 11 for compilation\r\n\r\nlook somewhere in you Maven POM files. it might be very likely that you have constrained your maven build to another version than Java 11. Most likely you will find it in your parent POM file. It may be that you set at least one of the properties `maven.compiler.target` or `maven.compiler.source` to something like:\r\n\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\r\nset them to\r\n\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n\r\nalso be shure your Maven runs on Java 11 bu entering:\r\n\r\n    mvn --version\r\n\r\nin your command line. \r\nMaven then should print: \r\n\r\n    $ mvn --version\r\n    Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\r\n    Maven home: C:\\Users\\xxxxxxx\\APPs\\apache-maven-3.6.3\r\n    Java version: 11.0.8, vendor: AdoptOpenJDK, runtime: C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.8.10-hotspot\r\n    Default locale: de_DE, platform encoding: Cp1252\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nIf this doesn&#39;t help and it fails during target resolution, check further in your tycho settings if you find the tag `&lt;executionEnvironment&gt;` check if it says something like `JavaSE-11`\r\nit may also be, that your build bundles a JRE. Then you may point to this JRE like:\r\n\r\n    &lt;executionEnvironment&gt;org.eclipse.justj.openjdk.hotspot.jre.full-11&lt;/executionEnvironment&gt;\r\n\r\n ","title":"eclipse tycho + java 11 = Unknown OSGi execution environment: &#39;JavaSE-11&#39;","body":"<p>This means your Maven is not using Java 11 for compilation</p>\n<p>look somewhere in you Maven POM files. it might be very likely that you have constrained your maven build to another version than Java 11. Most likely you will find it in your parent POM file. It may be that you set at least one of the properties <code>maven.compiler.target</code> or <code>maven.compiler.source</code> to something like:</p>\n<pre><code>&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n</code></pre>\n<p>set them to</p>\n<pre><code>&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n</code></pre>\n<p>also be shure your Maven runs on Java 11 bu entering:</p>\n<pre><code>mvn --version\n</code></pre>\n<p>in your command line.\nMaven then should print:</p>\n<pre><code>$ mvn --version\nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\nMaven home: C:\\Users\\xxxxxxx\\APPs\\apache-maven-3.6.3\nJava version: 11.0.8, vendor: AdoptOpenJDK, runtime: C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.8.10-hotspot\nDefault locale: de_DE, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>If this doesn't help and it fails during target resolution, check further in your tycho settings if you find the tag <code>&lt;executionEnvironment&gt;</code> check if it says something like <code>JavaSE-11</code>\nit may also be, that your build bundles a JRE. Then you may point to this JRE like:</p>\n<pre><code>&lt;executionEnvironment&gt;org.eclipse.justj.openjdk.hotspot.jre.full-11&lt;/executionEnvironment&gt;\n</code></pre>\n"}],"owner":{"account_id":5238010,"reputation":2834,"user_id":4185994,"accept_rate":56,"display_name":"titou10"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6391,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":54053565,"answer_count":2,"score":5,"last_activity_date":1668676021,"creation_date":1538481657,"question_id":52607910,"body_markdown":"How to build an eclipse RCP app based on Java 11 with tycho?    \r\nI&#39;m using eclipse 2018-09 RCP + the Java 11 plugin + OpenJDK 11    \r\nMy application is plugin-based and in all the plugins, the`MANIFEST.MF`file contains:\r\n\r\n    Bundle-RequiredExecutionEnvironment: JavaSE-11\r\n\r\nThe tycho build fails with the following exception:\r\n\r\n        [ERROR] Internal error: org.eclipse.tycho.core.osgitools.OsgiManifestParserException: Exception parsing OSGi MANIFEST {...}\\META-INF\\MANIFEST.MF: Unknown OSGi execution environment: &#39;JavaSE-11&#39; -&gt; [Help 1]\r\n        org.apache.maven.InternalErrorException: Internal error: org.eclipse.tycho.core.osgitools.OsgiManifestParserException: Exception parsing OSGi MANIFEST {...}\\META-INF\\MANIFEST.MF: Unknown OSGi execution environment: &#39;JavaSE-11&#39;\r\n        \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:120)\r\n        {...}\r\n        Caused by: org.eclipse.tycho.core.ee.UnknownEnvironmentException: Unknown OSGi execution environment: &#39;JavaSE-11&#39;\r\n        \tat org.eclipse.tycho.core.ee.ExecutionEnvironmentUtils.getExecutionEnvironment(ExecutionEnvironmentUtils.java:84)\r\n        \tat org.eclipse.tycho.core.osgitools.OsgiManifest.parseExecutionEnvironments(OsgiManifest.java:66)\r\n        \t... 24 more\r\n\r\nIs tycho compatible with Java 11? if so how to configure it to build java 11 RCP apps?\r\n\r\n[I found this post][1] that is very similar (for Java 10...)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50019579/how-to-use-java10-with-eclipse-plugin/52561490#52561490","title":"eclipse tycho + java 11 = Unknown OSGi execution environment: &#39;JavaSE-11&#39;","body":"<p>How to build an eclipse RCP app based on Java 11 with tycho?<br>\nI'm using eclipse 2018-09 RCP + the Java 11 plugin + OpenJDK 11<br>\nMy application is plugin-based and in all the plugins, the<code>MANIFEST.MF</code>file contains:</p>\n\n<pre><code>Bundle-RequiredExecutionEnvironment: JavaSE-11\n</code></pre>\n\n<p>The tycho build fails with the following exception:</p>\n\n<pre><code>    [ERROR] Internal error: org.eclipse.tycho.core.osgitools.OsgiManifestParserException: Exception parsing OSGi MANIFEST {...}\\META-INF\\MANIFEST.MF: Unknown OSGi execution environment: 'JavaSE-11' -&gt; [Help 1]\n    org.apache.maven.InternalErrorException: Internal error: org.eclipse.tycho.core.osgitools.OsgiManifestParserException: Exception parsing OSGi MANIFEST {...}\\META-INF\\MANIFEST.MF: Unknown OSGi execution environment: 'JavaSE-11'\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:120)\n    {...}\n    Caused by: org.eclipse.tycho.core.ee.UnknownEnvironmentException: Unknown OSGi execution environment: 'JavaSE-11'\n        at org.eclipse.tycho.core.ee.ExecutionEnvironmentUtils.getExecutionEnvironment(ExecutionEnvironmentUtils.java:84)\n        at org.eclipse.tycho.core.osgitools.OsgiManifest.parseExecutionEnvironments(OsgiManifest.java:66)\n        ... 24 more\n</code></pre>\n\n<p>Is tycho compatible with Java 11? if so how to configure it to build java 11 RCP apps?</p>\n\n<p><a href=\"https://stackoverflow.com/questions/50019579/how-to-use-java10-with-eclipse-plugin/52561490#52561490\">I found this post</a> that is very similar (for Java 10...)</p>\n"},{"tags":["java","tomcat","tomcat9"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1668671025,"post_id":74471603,"comment_id":131463459,"body_markdown":"How is your (actual) tomcat service being launched?  (My guess is that it is NOT using your interactive shell&#39;s environment variables ...)","body":"How is your (actual) tomcat service being launched?  (My guess is that it is NOT using your interactive shell&#39;s environment variables ...)"},{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1668671517,"post_id":74471603,"comment_id":131463606,"body_markdown":"in bin/ =&gt; ./startup.sh to start the tomcat. Ther are some environment variables in setenv.sh file but nothing about the java version there","body":"in bin/ =&gt; ./startup.sh to start the tomcat. Ther are some environment variables in setenv.sh file but nothing about the java version there"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1668672487,"post_id":74471603,"comment_id":131463903,"body_markdown":"Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447). Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see [ask].","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>. Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1668674669,"post_id":74471603,"comment_id":131464667,"body_markdown":"So are you running the tomcat&#39;s `startup.sh` file by hand?  Or are you running it from init / systemd / whatever?","body":"So are you running the tomcat&#39;s <code>startup.sh</code> file by hand?  Or are you running it from init / systemd / whatever?"},{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1668674861,"post_id":74471603,"comment_id":131464734,"body_markdown":"Yes I&#39;m running it manually.","body":"Yes I&#39;m running it manually."}],"answers":[{"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1668683933,"post_id":74472668,"comment_id":131468144,"body_markdown":"The `ps -ef | grep tomcat` looks like a valid test though - that&#39;s the part that left me puzzled and without an idea what&#39;s going on.","body":"The <code>ps -ef | grep tomcat</code> looks like a valid test though - that&#39;s the part that left me puzzled and without an idea what&#39;s going on."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668675750,"creation_date":1668675750,"answer_id":74472668,"question_id":74471603,"body_markdown":"Well ... since you are running `startup.sh` by hand ...\r\n\r\nThe `startup.sh` calls `catalina.sh start`.  And the `catalina.sh` script uses the `JRE_HOME` or `JAVA_HOME` environment variables.  But it *loads* them by sourcing the `setenv.sh` script if it can find them.\r\n\r\nSo my bet is that your `setenv.sh` is where the salient `JRE_HOME` or `JAVA_HOME` settings are.\r\n\r\nBut the good news is that all of these files are just shell scripts, so you can read them to figure out what it going on.  And if you can&#39;t read shell scripts, you can add `set -x` in the respective scripts to *watch what they are doing!*\r\n\r\n---------------------\r\n\r\nBy the way:\r\n\r\n&gt;  To verify if the Tomcat is using the right version, I did this:\r\n&gt;      $ java -cp lib/catalina.jar org.apache.catalina.util.ServerInfo\r\n\r\nThat is not a valid test.  You have to figure out how the scripts are choosing the JRE that they are using. ","title":"Tomcat doesn&#39;t recognise Java Upgrade","body":"<p>Well ... since you are running <code>startup.sh</code> by hand ...</p>\n<p>The <code>startup.sh</code> calls <code>catalina.sh start</code>.  And the <code>catalina.sh</code> script uses the <code>JRE_HOME</code> or <code>JAVA_HOME</code> environment variables.  But it <em>loads</em> them by sourcing the <code>setenv.sh</code> script if it can find them.</p>\n<p>So my bet is that your <code>setenv.sh</code> is where the salient <code>JRE_HOME</code> or <code>JAVA_HOME</code> settings are.</p>\n<p>But the good news is that all of these files are just shell scripts, so you can read them to figure out what it going on.  And if you can't read shell scripts, you can add <code>set -x</code> in the respective scripts to <em>watch what they are doing!</em></p>\n<hr />\n<p>By the way:</p>\n<blockquote>\n<p>To verify if the Tomcat is using the right version, I did this:\n$ java -cp lib/catalina.jar org.apache.catalina.util.ServerInfo</p>\n</blockquote>\n<p>That is not a valid test.  You have to figure out how the scripts are choosing the JRE that they are using.</p>\n"}],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668675750,"creation_date":1668669936,"question_id":74471603,"body_markdown":"I recently upgraded the Java Version from 11 to 17. But whenever I run the .war file I get the following error:\r\n&gt; java.lang.UnsupportedClassVersionError: somePackage/SomeClass has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0 (unable to load class [somePackage.SomeClass])\r\n\r\nTo verify if the Tomcat is using the right version, I did this:\r\n```sh\r\n[root@ip-172-31-21-71 apache-tomcat-9.0.58]# java -cp lib/catalina.jar org.apache.catalina.util.ServerInfo\r\nServer version: Apache Tomcat/9.0.58\r\nServer built:   Jan 15 2022 14:37:38 UTC\r\nServer number:  9.0.58.0\r\nOS Name:        Linux\r\nOS Version:     4.14.214-160.339.amzn2.x86_64\r\nArchitecture:   amd64\r\nJVM Version:    17.0.5+8-LTS\r\nJVM Vendor:     Amazon.com Inc.\r\n[root@ip-172-31-21-71 apache-tomcat-9.0.58]# ps -ef | grep tomcat\r\nroot     12088 11400  0 08:49 pts/0    00:00:00 grep --color=auto tomcat\r\nroot     15642     1  1 Nov16 ?        00:12:09 /opt/jdk-17.0.5/bin/java -Djava.util.logging.config.file=/opt/apache-tomcat-9.0.58/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Dfile.encoding=UTF-8 -Xms128m -Xmx700m -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 -Dignore.endorsed.dirs= -classpath /opt/apache-tomcat-9.0.58/bin/bootstrap.jar:/opt/apache-tomcat-9.0.58/bin/tomcat-juli.jar -Dcatalina.base=/opt/apache-tomcat-9.0.58 -Dcatalina.home=/opt/apache-tomcat-9.0.58 -Djava.io.tmpdir=/opt/apache-tomcat-9.0.58/temp org.apache.catalina.startup.Bootstrap start\r\n[root@ip-172-31-21-71 apache-tomcat-9.0.58]# /opt/jdk-17.0.5/bin/java --version\r\njava 17.0.5 2022-10-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.5+9-LTS-191)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.5+9-LTS-191, mixed mode, sharing)\r\n```\r\n\r\nEven `${JAVA_HOME}` points to the right directory. Everything works well locally. I don&#39;t know what I&#39;m missing. Any suggestions would be appreciated. Thanks in advance.\r\n","title":"Tomcat doesn&#39;t recognise Java Upgrade","body":"<p>I recently upgraded the Java Version from 11 to 17. But whenever I run the .war file I get the following error:</p>\n<blockquote>\n<p>java.lang.UnsupportedClassVersionError: somePackage/SomeClass has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0 (unable to load class [somePackage.SomeClass])</p>\n</blockquote>\n<p>To verify if the Tomcat is using the right version, I did this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[root@ip-172-31-21-71 apache-tomcat-9.0.58]# java -cp lib/catalina.jar org.apache.catalina.util.ServerInfo\nServer version: Apache Tomcat/9.0.58\nServer built:   Jan 15 2022 14:37:38 UTC\nServer number:  9.0.58.0\nOS Name:        Linux\nOS Version:     4.14.214-160.339.amzn2.x86_64\nArchitecture:   amd64\nJVM Version:    17.0.5+8-LTS\nJVM Vendor:     Amazon.com Inc.\n[root@ip-172-31-21-71 apache-tomcat-9.0.58]# ps -ef | grep tomcat\nroot     12088 11400  0 08:49 pts/0    00:00:00 grep --color=auto tomcat\nroot     15642     1  1 Nov16 ?        00:12:09 /opt/jdk-17.0.5/bin/java -Djava.util.logging.config.file=/opt/apache-tomcat-9.0.58/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Dfile.encoding=UTF-8 -Xms128m -Xmx700m -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 -Dignore.endorsed.dirs= -classpath /opt/apache-tomcat-9.0.58/bin/bootstrap.jar:/opt/apache-tomcat-9.0.58/bin/tomcat-juli.jar -Dcatalina.base=/opt/apache-tomcat-9.0.58 -Dcatalina.home=/opt/apache-tomcat-9.0.58 -Djava.io.tmpdir=/opt/apache-tomcat-9.0.58/temp org.apache.catalina.startup.Bootstrap start\n[root@ip-172-31-21-71 apache-tomcat-9.0.58]# /opt/jdk-17.0.5/bin/java --version\njava 17.0.5 2022-10-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.5+9-LTS-191)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.5+9-LTS-191, mixed mode, sharing)\n</code></pre>\n<p>Even <code>${JAVA_HOME}</code> points to the right directory. Everything works well locally. I don't know what I'm missing. Any suggestions would be appreciated. Thanks in advance.</p>\n"},{"tags":["java","dependency-injection","micronaut"],"answers":[{"comments":[{"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"score":2,"creation_date":1541323146,"post_id":53132444,"comment_id":93170689,"body_markdown":"OK, that&#39;s a shame (I prefer to avoid interfaces unless I have a practical need for them.) But I guess this is one.","body":"OK, that&#39;s a shame (I prefer to avoid interfaces unless I have a practical need for them.) But I guess this is one."},{"owner":{"account_id":1596,"reputation":77165,"user_id":2138,"accept_rate":58,"display_name":"Sergio del Amo"},"score":2,"creation_date":1541348219,"post_id":53132444,"comment_id":93177066,"body_markdown":"If you need to replace a class you can always create a bean in the test classpath and use @Replaces","body":"If you need to replace a class you can always create a bean in the test classpath and use @Replaces"},{"owner":{"account_id":2524916,"reputation":40776,"user_id":2194470,"accept_rate":100,"display_name":"Szymon Stepniak"},"score":1,"creation_date":1541349493,"post_id":53132444,"comment_id":93177497,"body_markdown":"Thanks @SergiodelAmo for the valuable input! I have updated the answer with `@Replaces` annotation use case.","body":"Thanks @SergiodelAmo for the valuable input! I have updated the answer with <code>@Replaces</code> annotation use case."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1554452112,"post_id":53132444,"comment_id":97765411,"body_markdown":"What is I want to override a property value, not a whole bean? Typical examples are in-memory databases.","body":"What is I want to override a property value, not a whole bean? Typical examples are in-memory databases."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1622571012,"post_id":53132444,"comment_id":119828535,"body_markdown":"&quot;What is I want to override a property value, not a whole bean?&quot; - you can do that with environment specific config files like `src/main/resources/application-test.yml`.  Tests marked with `@MicronautTest` can also provide their own config values.","body":"&quot;What is I want to override a property value, not a whole bean?&quot; - you can do that with environment specific config files like <code>src&#47;main&#47;resources&#47;application-test.yml</code>.  Tests marked with <code>@MicronautTest</code> can also provide their own config values."}],"tags":[],"owner":{"account_id":2524916,"reputation":40776,"user_id":2194470,"accept_rate":100,"display_name":"Szymon Stepniak"},"comment_count":5,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1541349465,"creation_date":1541256707,"answer_id":53132444,"question_id":53132087,"body_markdown":"Injecting mock bean with `@MockBean` annotation works if your dependency in `ClassUnderTest` is represented by interface. Let&#39;s say `Dependency` is a simple interface like:\r\n\r\n    package di.failure.example;\r\n    \r\n    public interface Dependency {\r\n        void run();\r\n    }\r\n\r\nYour application may provide an implementation for this interface called `DependencyImpl`:\r\n\r\n    package di.failure.example;\r\n    \r\n    import javax.inject.Singleton;\r\n    \r\n    @Singleton\r\n    public class DependencyImpl implements Dependency {\r\n        @Override\r\n        public void run() {\r\n            throw new RuntimeException(&quot;I don&#39;t want this to load!&quot;);\r\n        }\r\n    }\r\n\r\nNow, for test purpose you can define a mock that replaces `DependencyImpl`:\r\n\r\n    package di.failure.example;\r\n    \r\n    import io.micronaut.test.annotation.MicronautTest;\r\n    import io.micronaut.test.annotation.MockBean;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import javax.inject.Inject;\r\n    \r\n    import static org.mockito.Mockito.mock;\r\n    \r\n    @MicronautTest\r\n    public class ClassUnderTestTest {\r\n    \r\n        @Inject\r\n        ClassUnderTest classUnderTest;\r\n    \r\n        @Test\r\n        public void test() {\r\n            classUnderTest.run();\r\n        }\r\n    \r\n        @MockBean(DependencyImpl.class)\r\n        public Dependency dependency() {\r\n            return mock(Dependency.class);\r\n        }\r\n    \r\n    }\r\n\r\nThis test executes and the mock returned by `dependency()` method is used in place  of `DependencyImpl`.\r\n\r\n## Using `@Replaces` annotation\r\n\r\nAs [Sergio](https://stackoverflow.com/users/2138/sergio-del-amo) mentioned in the comments section you can replace class based bean dependency using [`@Replaces`](https://docs.micronaut.io/latest/guide/index.html#replaces) annotation. Consider following example:\r\n\r\n    package di.failure.example;\r\n    \r\n    import io.micronaut.context.annotation.Replaces;\r\n    import io.micronaut.test.annotation.MicronautTest;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import javax.inject.Inject;\r\n    import javax.inject.Singleton;\r\n    \r\n    @MicronautTest\r\n    public class ClassUnderTestTest {\r\n    \r\n        @Inject\r\n        ClassUnderTest classUnderTest;\r\n    \r\n        @Test\r\n        public void test() {\r\n            classUnderTest.run();\r\n        }\r\n    \r\n        @Replaces(Dependency.class)\r\n        @Singleton\r\n        public static class MockDependency extends Dependency {\r\n    \r\n            public MockDependency() {\r\n                System.out.println(&quot;MockDependency.&lt;init&gt;&quot;);\r\n            }\r\n    \r\n            @Override\r\n            void run() {\r\n                System.out.println(&quot;Does not throw any exception...&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nIn this example we have defined a class `MockDependency` and we instruct Micronaut&#39;s DI mechanism to replace `Dependency` bean with `MockDependency`. However, there is one important thing we need to remember about - because our `MockDependency` extends `Dependency` class, parent construct gets invoked. The example you have shown in the question won&#39;t work in this case, because `Dependency.&lt;init&gt;` throws `RuntimeException` and the test fails. In this modified example I have used class like this one:\r\n\r\n\tpackage di.failure.example;\r\n\t\r\n\timport javax.inject.Singleton;\r\n\t\r\n\t@Singleton\r\n\tpublic class Dependency {\r\n\t\r\n\t\tpublic Dependency() {\r\n\t\t\tSystem.out.println(&quot;Dependency.&lt;init&gt;&quot;);\r\n\t\t}\r\n\t\r\n\t\tvoid run() {\r\n\t\t\tthrow new RuntimeException(&quot;I don&#39;t want this to load!&quot;);\r\n\t\t}\r\n\t}\r\n\r\nWhen I run the test it passes and I see following console output:\r\n\r\n    Dependency.&lt;init&gt;\r\n    MockDependency.&lt;init&gt;\r\n    Does not throw any exception...\r\n\r\nThe main difference comparing to `@MockBean` is that in case of `@Replaces` you are using a concrete class object. As a workaround (if we really need a Mockito mock object) is to create a mock internally and delegate calls to this object, something like this:\r\n\r\n    @Replaces(Dependency.class)\r\n    @Singleton\r\n    public class MockDependency extends Dependency {\r\n\r\n        private final Dependency delegate;\r\n\r\n        public MockDependency() {\r\n            this.delegate = mock(Dependency.class);\r\n        }\r\n\r\n        @Override\r\n        void run() {\r\n            delegate.run();\r\n        }\r\n    }","title":"Overriding a dependency in a Micronaut test","body":"<p>Injecting mock bean with <code>@MockBean</code> annotation works if your dependency in <code>ClassUnderTest</code> is represented by interface. Let's say <code>Dependency</code> is a simple interface like:</p>\n\n<pre><code>package di.failure.example;\n\npublic interface Dependency {\n    void run();\n}\n</code></pre>\n\n<p>Your application may provide an implementation for this interface called <code>DependencyImpl</code>:</p>\n\n<pre><code>package di.failure.example;\n\nimport javax.inject.Singleton;\n\n@Singleton\npublic class DependencyImpl implements Dependency {\n    @Override\n    public void run() {\n        throw new RuntimeException(\"I don't want this to load!\");\n    }\n}\n</code></pre>\n\n<p>Now, for test purpose you can define a mock that replaces <code>DependencyImpl</code>:</p>\n\n<pre><code>package di.failure.example;\n\nimport io.micronaut.test.annotation.MicronautTest;\nimport io.micronaut.test.annotation.MockBean;\nimport org.junit.jupiter.api.Test;\n\nimport javax.inject.Inject;\n\nimport static org.mockito.Mockito.mock;\n\n@MicronautTest\npublic class ClassUnderTestTest {\n\n    @Inject\n    ClassUnderTest classUnderTest;\n\n    @Test\n    public void test() {\n        classUnderTest.run();\n    }\n\n    @MockBean(DependencyImpl.class)\n    public Dependency dependency() {\n        return mock(Dependency.class);\n    }\n\n}\n</code></pre>\n\n<p>This test executes and the mock returned by <code>dependency()</code> method is used in place  of <code>DependencyImpl</code>.</p>\n\n<h2>Using <code>@Replaces</code> annotation</h2>\n\n<p>As <a href=\"https://stackoverflow.com/users/2138/sergio-del-amo\">Sergio</a> mentioned in the comments section you can replace class based bean dependency using <a href=\"https://docs.micronaut.io/latest/guide/index.html#replaces\" rel=\"noreferrer\"><code>@Replaces</code></a> annotation. Consider following example:</p>\n\n<pre><code>package di.failure.example;\n\nimport io.micronaut.context.annotation.Replaces;\nimport io.micronaut.test.annotation.MicronautTest;\nimport org.junit.jupiter.api.Test;\n\nimport javax.inject.Inject;\nimport javax.inject.Singleton;\n\n@MicronautTest\npublic class ClassUnderTestTest {\n\n    @Inject\n    ClassUnderTest classUnderTest;\n\n    @Test\n    public void test() {\n        classUnderTest.run();\n    }\n\n    @Replaces(Dependency.class)\n    @Singleton\n    public static class MockDependency extends Dependency {\n\n        public MockDependency() {\n            System.out.println(\"MockDependency.&lt;init&gt;\");\n        }\n\n        @Override\n        void run() {\n            System.out.println(\"Does not throw any exception...\");\n        }\n    }\n}\n</code></pre>\n\n<p>In this example we have defined a class <code>MockDependency</code> and we instruct Micronaut's DI mechanism to replace <code>Dependency</code> bean with <code>MockDependency</code>. However, there is one important thing we need to remember about - because our <code>MockDependency</code> extends <code>Dependency</code> class, parent construct gets invoked. The example you have shown in the question won't work in this case, because <code>Dependency.&lt;init&gt;</code> throws <code>RuntimeException</code> and the test fails. In this modified example I have used class like this one:</p>\n\n<pre><code>package di.failure.example;\n\nimport javax.inject.Singleton;\n\n@Singleton\npublic class Dependency {\n\n    public Dependency() {\n        System.out.println(\"Dependency.&lt;init&gt;\");\n    }\n\n    void run() {\n        throw new RuntimeException(\"I don't want this to load!\");\n    }\n}\n</code></pre>\n\n<p>When I run the test it passes and I see following console output:</p>\n\n<pre><code>Dependency.&lt;init&gt;\nMockDependency.&lt;init&gt;\nDoes not throw any exception...\n</code></pre>\n\n<p>The main difference comparing to <code>@MockBean</code> is that in case of <code>@Replaces</code> you are using a concrete class object. As a workaround (if we really need a Mockito mock object) is to create a mock internally and delegate calls to this object, something like this:</p>\n\n<pre><code>@Replaces(Dependency.class)\n@Singleton\npublic class MockDependency extends Dependency {\n\n    private final Dependency delegate;\n\n    public MockDependency() {\n        this.delegate = mock(Dependency.class);\n    }\n\n    @Override\n    void run() {\n        delegate.run();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16505264,"reputation":1,"user_id":11925438,"display_name":"gvashchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668675594,"creation_date":1668675436,"answer_id":74472594,"question_id":53132087,"body_markdown":"I had the case - controller `MyController` with service `MyService`.  \r\n`@MockBean(MyServiceImpl.class)` did&#39;t mock injected service.\r\n`when(myService.doSomething()).thenReturn...` immediately called real method.  \r\nI fixed mocking issue with giving `MyService`-bean a name and passing this name to `@MockBean(name = )`\r\n\r\ncontroller:\r\n\r\n    @Controller\r\n    public class MyController {\r\n       private MyService myService;\r\n    ...\r\n    }\r\n\r\nfactory:\r\n\r\n    @Factory\r\n    public class MyFactory {\r\n\r\n       @Named(&quot;myService&quot;) // Named just because @MockBean didn&#39;t work without it\r\n       @Context\r\n       public MyService myService() {\r\n          return new MyServiceImpl();\r\n       }\r\n    }\r\n\r\ntest:\r\n\r\n    @MicronautTest\r\n    class MyControllerTest {\r\n      \r\n       @Inject\r\n       MyService myService;\r\n    \r\n       @Inject\r\n       @Client(&quot;/&quot;)\r\n       @HttpClient client;\r\n    \r\n    \r\n       @MockBean(named = &quot;myService&quot;)\r\n       MyService mockMyService() {\r\n          return mock(MyService.class);\r\n       }\r\n    \r\n    \r\n       @Test\r\n       void test() {\r\n          when(myService.doSomething()).thenReturn(genDto()); \r\n          ...\r\n       }\r\n    }\r\n\r\nDetails:  \r\nmicronaut-test-junit5 `3.1.1`  \r\njunit-jupiter-api  `5.6.2`\r\n","title":"Overriding a dependency in a Micronaut test","body":"<p>I had the case - controller <code>MyController</code> with service <code>MyService</code>.<br />\n<code>@MockBean(MyServiceImpl.class)</code> did't mock injected service.\n<code>when(myService.doSomething()).thenReturn...</code> immediately called real method.<br />\nI fixed mocking issue with giving <code>MyService</code>-bean a name and passing this name to <code>@MockBean(name = )</code></p>\n<p>controller:</p>\n<pre><code>@Controller\npublic class MyController {\n   private MyService myService;\n...\n}\n</code></pre>\n<p>factory:</p>\n<pre><code>@Factory\npublic class MyFactory {\n\n   @Named(&quot;myService&quot;) // Named just because @MockBean didn't work without it\n   @Context\n   public MyService myService() {\n      return new MyServiceImpl();\n   }\n}\n</code></pre>\n<p>test:</p>\n<pre><code>@MicronautTest\nclass MyControllerTest {\n  \n   @Inject\n   MyService myService;\n\n   @Inject\n   @Client(&quot;/&quot;)\n   @HttpClient client;\n\n\n   @MockBean(named = &quot;myService&quot;)\n   MyService mockMyService() {\n      return mock(MyService.class);\n   }\n\n\n   @Test\n   void test() {\n      when(myService.doSomething()).thenReturn(genDto()); \n      ...\n   }\n}\n</code></pre>\n<p>Details:<br />\nmicronaut-test-junit5 <code>3.1.1</code><br />\njunit-jupiter-api  <code>5.6.2</code></p>\n"}],"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17695,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":53132444,"answer_count":2,"score":18,"last_activity_date":1668675594,"creation_date":1541253945,"question_id":53132087,"body_markdown":"I&#39;m testing a Micronaut class that has a bean injected into it. In my test I provide a `@MockBean` class to override it. However, it seems Micronaut still injects the real dependency.\r\n\r\n    @MicronautTest\r\n    public class ClassUnderTestTest {\r\n    \r\n    \t@Inject ClassUnderTest classUnderTest;\r\n    \r\n    \t@Test\r\n    \tpublic void test() {\r\n    \r\n    \t}\r\n    \r\n    \t@MockBean\r\n    \tDependency dependency() {\r\n    \t\treturn mock(Dependency.class);\r\n    \t}\r\n    \r\n    }\r\n\r\nI uploaded a minimum repro to Github: https://github.com/crummy/micronaut-test-dependencies . The real dependency throws an exception, and the test does too. I would not have expected this to happen because of my `@MockBean`.\r\n\r\nIf I change the annotation to be `@MockBean(Dependency.class)` then I get this error: `Message: No bean of type [di.failure.example.Dependency] exists`. This seems even more confusing to me - now it doesn&#39;t resolve my real or my mock dependency?","title":"Overriding a dependency in a Micronaut test","body":"<p>I'm testing a Micronaut class that has a bean injected into it. In my test I provide a <code>@MockBean</code> class to override it. However, it seems Micronaut still injects the real dependency.</p>\n\n<pre><code>@MicronautTest\npublic class ClassUnderTestTest {\n\n    @Inject ClassUnderTest classUnderTest;\n\n    @Test\n    public void test() {\n\n    }\n\n    @MockBean\n    Dependency dependency() {\n        return mock(Dependency.class);\n    }\n\n}\n</code></pre>\n\n<p>I uploaded a minimum repro to Github: <a href=\"https://github.com/crummy/micronaut-test-dependencies\" rel=\"noreferrer\">https://github.com/crummy/micronaut-test-dependencies</a> . The real dependency throws an exception, and the test does too. I would not have expected this to happen because of my <code>@MockBean</code>.</p>\n\n<p>If I change the annotation to be <code>@MockBean(Dependency.class)</code> then I get this error: <code>Message: No bean of type [di.failure.example.Dependency] exists</code>. This seems even more confusing to me - now it doesn't resolve my real or my mock dependency?</p>\n"},{"tags":["java","maven","maven-plugin","junit5","maven-surefire-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668676014,"post_id":74472626,"comment_id":131465146,"body_markdown":"First what kind of enhancement do you need? Second the surefire report is generated by the surefire plugin (reporting plugin) which means in consequence to change the plugin for adding some other things...","body":"First what kind of enhancement do you need? Second the surefire report is generated by the surefire plugin (reporting plugin) which means in consequence to change the plugin for adding some other things..."},{"owner":{"account_id":2397018,"reputation":11,"user_id":2095633,"display_name":"saikat sadhukhan"},"score":0,"creation_date":1668705718,"post_id":74472626,"comment_id":131476843,"body_markdown":"Want to add one more property like @Tag info in the report. This we want to tag the funtionality of the test case and want to add in the report. Example &lt;testcase name=&quot;ExchangeHostInformation&quot; classname=&quot;adm.exchange.PreUpgradeExchangeTest&quot; time=&quot;0.716&quot; tag=&quot;Regression&quot;&gt;","body":"Want to add one more property like @Tag info in the report. This we want to tag the funtionality of the test case and want to add in the report. Example &lt;testcase name=&quot;ExchangeHostInformation&quot; classname=&quot;adm.exchange.PreUpgradeExchangeTest&quot; time=&quot;0.716&quot; tag=&quot;Regression&quot;&gt;"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668708508,"post_id":74472626,"comment_id":131477780,"body_markdown":"As I wrote... you have to change the plugins for that...","body":"As I wrote... you have to change the plugins for that..."},{"owner":{"account_id":2397018,"reputation":11,"user_id":2095633,"display_name":"saikat sadhukhan"},"score":0,"creation_date":1668959931,"post_id":74472626,"comment_id":131527555,"body_markdown":"Any idea how to do that? Any basic guidance for this? Planned to extend &quot;StatelessXmlReporter&quot; and &quot;SurefireStatelessReporter&quot; use from Mojo class.","body":"Any idea how to do that? Any basic guidance for this? Planned to extend &quot;StatelessXmlReporter&quot; and &quot;SurefireStatelessReporter&quot; use from Mojo class."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668960067,"post_id":74472626,"comment_id":131527586,"body_markdown":"So you have to create your own reporter module..","body":"So you have to create your own reporter module.."}],"owner":{"account_id":2397018,"reputation":11,"user_id":2095633,"display_name":"saikat sadhukhan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668675573,"creation_date":1668675573,"question_id":74472626,"body_markdown":"Currently generating surefire report with below details in output.xml\r\n\r\n    &lt;testcase name=&quot;ExchangeHostInformation&quot; classname=&quot;adm.exchange.PreUpgradeExchangeTest&quot; time=&quot;0.716&quot;&gt;\r\n\r\nIs it possible to add one more extra proeprties in the same tag. My requirement is add one more tag for feature.\r\n\r\nCan anyone give the right direction ?\r\n\r\nTried using custom maven plugin but not able to get existing report information ","title":"Can we add extra hidden tag in the surefire report","body":"<p>Currently generating surefire report with below details in output.xml</p>\n<pre><code>&lt;testcase name=&quot;ExchangeHostInformation&quot; classname=&quot;adm.exchange.PreUpgradeExchangeTest&quot; time=&quot;0.716&quot;&gt;\n</code></pre>\n<p>Is it possible to add one more extra proeprties in the same tag. My requirement is add one more tag for feature.</p>\n<p>Can anyone give the right direction ?</p>\n<p>Tried using custom maven plugin but not able to get existing report information</p>\n"},{"tags":["java","spring","hibernate","redis","redisson"],"answers":[{"comments":[{"owner":{"account_id":7116821,"reputation":179,"user_id":5442812,"accept_rate":67,"display_name":"gariaable"},"score":0,"creation_date":1578041020,"post_id":59566594,"comment_id":105317727,"body_markdown":"Yes, it is and first subsection of this tutorial is an approach with programmatic configuration, which is exactly the same as I have in my configuration class above (Look at @Bean RedissonClient redisson()).","body":"Yes, it is and first subsection of this tutorial is an approach with programmatic configuration, which is exactly the same as I have in my configuration class above (Look at @Bean RedissonClient redisson())."},{"owner":{"account_id":4518266,"reputation":513,"user_id":3672398,"display_name":"Blockost"},"score":0,"creation_date":1639074484,"post_id":59566594,"comment_id":124262167,"body_markdown":"Hey, did you find a way to do it programmatically ?","body":"Hey, did you find a way to do it programmatically ?"}],"tags":[],"owner":{"account_id":4542495,"reputation":724,"user_id":3689942,"accept_rate":20,"display_name":"Payal Bansal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577982069,"creation_date":1577982069,"answer_id":59566594,"question_id":59565939,"body_markdown":"It is expecting redisson configuratio file\r\nhttps://github.com/redisson/redisson/wiki/2.-Configuration","title":"Problem with Redisson Hibernate 2L cache config in Spring MVC","body":"<p>It is expecting redisson configuratio file\n<a href=\"https://github.com/redisson/redisson/wiki/2.-Configuration\" rel=\"nofollow noreferrer\">https://github.com/redisson/redisson/wiki/2.-Configuration</a></p>\n"},{"comments":[{"owner":{"account_id":4518266,"reputation":513,"user_id":3672398,"display_name":"Blockost"},"score":0,"creation_date":1639074547,"post_id":59624425,"comment_id":124262187,"body_markdown":"There&#39;s no way to avoid this extra yaml configuration and initialize a `RedissionClient` in Java code instead ?","body":"There&#39;s no way to avoid this extra yaml configuration and initialize a <code>RedissionClient</code> in Java code instead ?"}],"tags":[],"owner":{"account_id":399098,"reputation":10383,"user_id":764206,"display_name":"Nikita Koksharov"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1578384434,"creation_date":1578384434,"answer_id":59624425,"question_id":59565939,"body_markdown":"You forgot to define path to Redisson config:\r\n\r\n    &lt;property name=&quot;hibernate.cache.redisson.config&quot; value=&quot;/redisson.yaml&quot; /&gt;","title":"Problem with Redisson Hibernate 2L cache config in Spring MVC","body":"<p>You forgot to define path to Redisson config:</p>\n\n<pre><code>&lt;property name=\"hibernate.cache.redisson.config\" value=\"/redisson.yaml\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26434968,"reputation":45,"user_id":20080481,"display_name":"User01"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668675556,"creation_date":1668675556,"answer_id":74472622,"question_id":59565939,"body_markdown":"To initialize a RedissionClient in Java code you need to create a CustomRegionFactory extending RedissonRegionFactory, then override the method createRedissonClient to create your RedissonClient like this:\r\n\r\n ```\r\nfinal Config redissonConfig = new Config();\r\n        redissonConfig.useSingleServer()\r\n                .setKeepAlive(true)\r\n                .setConnectTimeout(1000*3)\r\n                .setRetryAttempts(5)\r\n                .setDnsMonitoringInterval(1000*8)\r\n                .setAddress(&quot;redis://127.0.0.1:6379&quot;);\r\n        return Redisson.create(redissonConfig);  \r\n ```\r\n\r\n\r\nThen you need to specify your CustomRegionFactory for  `hibernate.cache.region.factory_class`\r\n\r\nHope that helps!","title":"Problem with Redisson Hibernate 2L cache config in Spring MVC","body":"<p>To initialize a RedissionClient in Java code you need to create a CustomRegionFactory extending RedissonRegionFactory, then override the method createRedissonClient to create your RedissonClient like this:</p>\n<pre><code>final Config redissonConfig = new Config();\n       redissonConfig.useSingleServer()\n               .setKeepAlive(true)\n               .setConnectTimeout(1000*3)\n               .setRetryAttempts(5)\n               .setDnsMonitoringInterval(1000*8)\n               .setAddress(&quot;redis://127.0.0.1:6379&quot;);\n       return Redisson.create(redissonConfig);  \n</code></pre>\n<p>Then you need to specify your CustomRegionFactory for  <code>hibernate.cache.region.factory_class</code></p>\n<p>Hope that helps!</p>\n"}],"owner":{"account_id":7116821,"reputation":179,"user_id":5442812,"accept_rate":67,"display_name":"gariaable"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59624425,"answer_count":3,"score":1,"last_activity_date":1668675556,"creation_date":1577979192,"question_id":59565939,"body_markdown":"I am trying to configure Redisson Hibernate 2L cache in Spring MVC project.\r\nI had follow tutorials, although most of them is devoted to Spring Boot.\r\nI have added dependencies in pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.redisson&lt;/groupId&gt;\r\n      &lt;artifactId&gt;redisson&lt;/artifactId&gt;\r\n      &lt;version&gt;3.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.redisson&lt;/groupId&gt;\r\n      &lt;artifactId&gt;redisson-hibernate-53&lt;/artifactId&gt;\r\n      &lt;version&gt;3.11.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn persistance.xml (second level cache is set to false for now, because I only try to make it start the application):\r\n\r\n    &lt;property name=&quot;hibernate.cache.region.factory_class&quot; value=&quot;org.redisson.hibernate.RedissonRegionFactory&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.cache.use_second_level_cache&quot; value=&quot;false&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.cache.use_query_cache&quot; value=&quot;false&quot;/&gt;\r\n\r\nAnd in my Configuration file:\r\n\r\n        @Bean(destroyMethod=&quot;shutdown&quot;)\r\n      RedissonClient redisson() {\r\n        Config config = new Config();\r\n        config.useClusterServers()\r\n                .addNodeAddress(&quot;redis://127.0.0.1:6379&quot;);\r\n        return Redisson.create(config);\r\n      }\r\n    \r\n      @Bean\r\n      CacheManager cacheManager(RedissonClient redissonClient) throws IOException {\r\n        Map&lt;String, CacheConfig&gt; config = new HashMap&lt;&gt;();\r\n        config.put(&quot;testMap&quot;,\r\n                new CacheConfig(120000, 180000)); //2min TTL and 3min max idle time\r\n        return new RedissonSpringCacheManager(redissonClient, config);\r\n      }\r\n\r\nProject is building correctly, but when I try to run it, I recieve an error:\r\n\r\n    Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.cache.spi.CacheImplementor]\r\n\t\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)\r\n\t\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n\t\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\t\tat org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.getService(SessionFactoryServiceRegistryImpl.java:97)\r\n\t\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:238)\r\n\t\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)\r\n\t\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:938)\r\n\t\tat org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:141)\r\n\t\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n\t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)\r\n\t\t... 63 more\r\n\tCaused by: java.lang.IllegalStateException: Cache provider not started\r\n\t\tat org.hibernate.cache.spi.AbstractRegionFactory.verifyStarted(AbstractRegionFactory.java:65)\r\n\t\tat org.hibernate.cache.spi.support.RegionFactoryTemplate.buildTimestampsRegion(RegionFactoryTemplate.java:66)\r\n\t\tat org.hibernate.cache.internal.EnabledCaching.&lt;init&gt;(EnabledCaching.java:80)\r\n\t\tat org.hibernate.engine.spi.CacheInitiator.initiateService(CacheInitiator.java:33)\r\n\t\tat org.hibernate.engine.spi.CacheInitiator.initiateService(CacheInitiator.java:24)\r\n\t\tat org.hibernate.service.spi.SessionFactoryServiceInitiator.initiateService(SessionFactoryServiceInitiator.java:30)\r\n\t\tat org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.initiateService(SessionFactoryServiceRegistryImpl.java:61)\r\n\t\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n\t\t... 72 more\r\n\tCaused by: org.hibernate.cache.CacheException: Unable to locate Redisson configuration\r\n\t\tat org.redisson.hibernate.RedissonRegionFactory.createRedissonClient(RedissonRegionFactory.java:107)\r\n\t\tat org.redisson.hibernate.RedissonRegionFactory.prepareForUse(RedissonRegionFactory.java:83)\r\n\t\tat org.hibernate.cache.spi.AbstractRegionFactory.start(AbstractRegionFactory.java:91)\r\n\t\tat org.hibernate.cache.internal.EnabledCaching.&lt;init&gt;(EnabledCaching.java:77)\r\n\r\n\r\nI do not know what I&#39;m missing in order to locate Redisson configuration..?\r\nI would appreciate any help!","title":"Problem with Redisson Hibernate 2L cache config in Spring MVC","body":"<p>I am trying to configure Redisson Hibernate 2L cache in Spring MVC project.\nI had follow tutorials, although most of them is devoted to Spring Boot.\nI have added dependencies in pom.xml file:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n  &lt;artifactId&gt;redisson&lt;/artifactId&gt;\n  &lt;version&gt;3.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n  &lt;artifactId&gt;redisson-hibernate-53&lt;/artifactId&gt;\n  &lt;version&gt;3.11.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>In persistance.xml (second level cache is set to false for now, because I only try to make it start the application):</p>\n\n<pre><code>&lt;property name=\"hibernate.cache.region.factory_class\" value=\"org.redisson.hibernate.RedissonRegionFactory\"/&gt;\n  &lt;property name=\"hibernate.cache.use_second_level_cache\" value=\"false\"/&gt;\n  &lt;property name=\"hibernate.cache.use_query_cache\" value=\"false\"/&gt;\n</code></pre>\n\n<p>And in my Configuration file:</p>\n\n<pre><code>    @Bean(destroyMethod=\"shutdown\")\n  RedissonClient redisson() {\n    Config config = new Config();\n    config.useClusterServers()\n            .addNodeAddress(\"redis://127.0.0.1:6379\");\n    return Redisson.create(config);\n  }\n\n  @Bean\n  CacheManager cacheManager(RedissonClient redissonClient) throws IOException {\n    Map&lt;String, CacheConfig&gt; config = new HashMap&lt;&gt;();\n    config.put(\"testMap\",\n            new CacheConfig(120000, 180000)); //2min TTL and 3min max idle time\n    return new RedissonSpringCacheManager(redissonClient, config);\n  }\n</code></pre>\n\n<p>Project is building correctly, but when I try to run it, I recieve an error:</p>\n\n<pre><code>Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.cache.spi.CacheImplementor]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.getService(SessionFactoryServiceRegistryImpl.java:97)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:238)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:938)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:141)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)\n    ... 63 more\nCaused by: java.lang.IllegalStateException: Cache provider not started\n    at org.hibernate.cache.spi.AbstractRegionFactory.verifyStarted(AbstractRegionFactory.java:65)\n    at org.hibernate.cache.spi.support.RegionFactoryTemplate.buildTimestampsRegion(RegionFactoryTemplate.java:66)\n    at org.hibernate.cache.internal.EnabledCaching.&lt;init&gt;(EnabledCaching.java:80)\n    at org.hibernate.engine.spi.CacheInitiator.initiateService(CacheInitiator.java:33)\n    at org.hibernate.engine.spi.CacheInitiator.initiateService(CacheInitiator.java:24)\n    at org.hibernate.service.spi.SessionFactoryServiceInitiator.initiateService(SessionFactoryServiceInitiator.java:30)\n    at org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.initiateService(SessionFactoryServiceRegistryImpl.java:61)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    ... 72 more\nCaused by: org.hibernate.cache.CacheException: Unable to locate Redisson configuration\n    at org.redisson.hibernate.RedissonRegionFactory.createRedissonClient(RedissonRegionFactory.java:107)\n    at org.redisson.hibernate.RedissonRegionFactory.prepareForUse(RedissonRegionFactory.java:83)\n    at org.hibernate.cache.spi.AbstractRegionFactory.start(AbstractRegionFactory.java:91)\n    at org.hibernate.cache.internal.EnabledCaching.&lt;init&gt;(EnabledCaching.java:77)\n</code></pre>\n\n<p>I do not know what I'm missing in order to locate Redisson configuration..?\nI would appreciate any help!</p>\n"},{"tags":["java","spring","jpa","jdbc"],"comments":[{"owner":{"account_id":5854892,"reputation":3571,"user_id":4612499,"display_name":"Jean de Lavarene"},"score":0,"creation_date":1670232856,"post_id":74455331,"comment_id":131820078,"body_markdown":"JDBC is the only Java SDK to use an RDBMS. So everything else seats on top of it (JPA, JdbcTemplate, etc.)","body":"JDBC is the only Java SDK to use an RDBMS. So everything else seats on top of it (JPA, JdbcTemplate, etc.)"}],"answers":[{"tags":[],"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668675328,"creation_date":1668576649,"answer_id":74455596,"question_id":74455331,"body_markdown":"The answer depends a little on the type of database you connect to. I am assuming you are interested in relational databases such as MySQL, Oracle, etc.\r\n\r\nFirst some concepts\r\n\r\n**JDBC** is the low level standard for connecting to a DB directly and running SQL against it, and each database provider (MySQL, Oracle, etc) implements the specifics in order to make that connection possible.\r\n\r\nThe issue with it is that you may end up with a lot of code trying to map ResulSets, parameters, and so on depending on your needs.\r\n\r\n**JPA, JDBC Template** (or any other ORM for that matter) are higher level standards that helps to *&quot;hide&quot;* some of the code you would have to write using JDBC alone, allowing the developers to focus on more important things. So, in a (little) na&#239;ve answer you could say JPA will use JDBC under the hood in order to connect to a DB.\r\n\r\nHowever, this is not 100% of the time, as there are data stores like MongoDB, Neo4J, and others that do not follow JDBC standard for connection, but you may find ORM implementations for them, which will most likely not use JDBC.\r\n","title":"Relationship between Spring Data JPA and JDBC","body":"<p>The answer depends a little on the type of database you connect to. I am assuming you are interested in relational databases such as MySQL, Oracle, etc.</p>\n<p>First some concepts</p>\n<p><strong>JDBC</strong> is the low level standard for connecting to a DB directly and running SQL against it, and each database provider (MySQL, Oracle, etc) implements the specifics in order to make that connection possible.</p>\n<p>The issue with it is that you may end up with a lot of code trying to map ResulSets, parameters, and so on depending on your needs.</p>\n<p><strong>JPA, JDBC Template</strong> (or any other ORM for that matter) are higher level standards that helps to <em>&quot;hide&quot;</em> some of the code you would have to write using JDBC alone, allowing the developers to focus on more important things. So, in a (little) naïve answer you could say JPA will use JDBC under the hood in order to connect to a DB.</p>\n<p>However, this is not 100% of the time, as there are data stores like MongoDB, Neo4J, and others that do not follow JDBC standard for connection, but you may find ORM implementations for them, which will most likely not use JDBC.</p>\n"}],"owner":{"account_id":18797567,"reputation":1,"user_id":13708678,"display_name":"jungwoo0530"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668675328,"creation_date":1668574205,"question_id":74455331,"body_markdown":"I understand that SimpleJpaRepository, the basic implementation of Spring Data JPA, uses JPA (provided by Java) internally.\r\n\r\nSo does JPA use plain JDBC (provided by Java) internally? Or does JPA use Spring JDBC internally?\r\n\r\nAlso, does Spring JDBC (JdbcTemplate) use plain JDBC internally? Is it just that we made plain JDBC easy to use?\r\n\r\nI expect that the JPA used inside the SimpleJpaRepository will use plain JDBC. Because Jpa itself is provided by Java. And I expect Spring JDBC (JdbcTemplate) use plain JDBC.\r\n\r\n\r\n[enter image description here][1]\r\n\r\n  [1]: https://i.stack.imgur.com/lDYyQ.jpg\r\n\r\n","title":"Relationship between Spring Data JPA and JDBC","body":"<p>I understand that SimpleJpaRepository, the basic implementation of Spring Data JPA, uses JPA (provided by Java) internally.</p>\n<p>So does JPA use plain JDBC (provided by Java) internally? Or does JPA use Spring JDBC internally?</p>\n<p>Also, does Spring JDBC (JdbcTemplate) use plain JDBC internally? Is it just that we made plain JDBC easy to use?</p>\n<p>I expect that the JPA used inside the SimpleJpaRepository will use plain JDBC. Because Jpa itself is provided by Java. And I expect Spring JDBC (JdbcTemplate) use plain JDBC.</p>\n<p><a href=\"https://i.stack.imgur.com/lDYyQ.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","json","jackson","pretty-print"],"answers":[{"comments":[{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1359093919,"post_id":14516240,"comment_id":20238021,"body_markdown":"Thanks Daniel for the help. The toughest part I am having is how to model my JSON into a Class? If I get that part working, I can easily code rest of it.","body":"Thanks Daniel for the help. The toughest part I am having is how to model my JSON into a Class? If I get that part working, I can easily code rest of it."},{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1359094844,"post_id":14516240,"comment_id":20238283,"body_markdown":"Can you take a look into my POJO class that I have written from the JSON? It looks right or not?","body":"Can you take a look into my POJO class that I have written from the JSON? It looks right or not?"}],"tags":[],"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1359093787,"creation_date":1359093787,"answer_id":14516240,"question_id":14515994,"body_markdown":"[This looks like it might be the answer to your question][1].  It says it&#39;s using Spring, but I think that should still help you in your case.  Let me inline the code here so it&#39;s more convenient:\r\n\r\n    import java.io.FileReader;\r\n    \r\n    import org.codehaus.jackson.map.ObjectMapper;\r\n    import org.codehaus.jackson.map.ObjectWriter;\r\n    \r\n    public class Foo\r\n    {\r\n      public static void main(String[] args) throws Exception\r\n      {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        MyClass myObject = mapper.readValue(new FileReader(&quot;input.json&quot;), MyClass.class);\r\n        // this is Jackson 1.x API only: \r\n        ObjectWriter writer = mapper.defaultPrettyPrintingWriter();\r\n        // ***IMPORTANT!!!*** for Jackson 2.x use the line below instead of the one above: \r\n        // ObjectWriter writer = mapper.writer().withDefaultPrettyPrinter();\r\n        System.out.println(writer.writeValueAsString(myObject));\r\n      }\r\n    }\r\n    \r\n    class MyClass\r\n    {\r\n      String one;\r\n      String[] two;\r\n      MyOtherClass three;\r\n    \r\n      public String getOne() {return one;}\r\n      void setOne(String one) {this.one = one;}\r\n      public String[] getTwo() {return two;}\r\n      void setTwo(String[] two) {this.two = two;}\r\n      public MyOtherClass getThree() {return three;}\r\n      void setThree(MyOtherClass three) {this.three = three;}\r\n    }\r\n    \r\n    class MyOtherClass\r\n    {\r\n      String four;\r\n      String[] five;\r\n    \r\n      public String getFour() {return four;}\r\n      void setFour(String four) {this.four = four;}\r\n      public String[] getFive() {return five;}\r\n      void setFive(String[] five) {this.five = five;}\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6339454/61624","title":"Convert JSON String to Pretty Print JSON output using Jackson","body":"<p><a href=\"https://stackoverflow.com/a/6339454/61624\">This looks like it might be the answer to your question</a>.  It says it's using Spring, but I think that should still help you in your case.  Let me inline the code here so it's more convenient:</p>\n\n<pre><code>import java.io.FileReader;\n\nimport org.codehaus.jackson.map.ObjectMapper;\nimport org.codehaus.jackson.map.ObjectWriter;\n\npublic class Foo\n{\n  public static void main(String[] args) throws Exception\n  {\n    ObjectMapper mapper = new ObjectMapper();\n    MyClass myObject = mapper.readValue(new FileReader(\"input.json\"), MyClass.class);\n    // this is Jackson 1.x API only: \n    ObjectWriter writer = mapper.defaultPrettyPrintingWriter();\n    // ***IMPORTANT!!!*** for Jackson 2.x use the line below instead of the one above: \n    // ObjectWriter writer = mapper.writer().withDefaultPrettyPrinter();\n    System.out.println(writer.writeValueAsString(myObject));\n  }\n}\n\nclass MyClass\n{\n  String one;\n  String[] two;\n  MyOtherClass three;\n\n  public String getOne() {return one;}\n  void setOne(String one) {this.one = one;}\n  public String[] getTwo() {return two;}\n  void setTwo(String[] two) {this.two = two;}\n  public MyOtherClass getThree() {return three;}\n  void setThree(MyOtherClass three) {this.three = three;}\n}\n\nclass MyOtherClass\n{\n  String four;\n  String[] five;\n\n  public String getFour() {return four;}\n  void setFour(String four) {this.four = four;}\n  public String[] getFive() {return five;}\n  void setFive(String[] five) {this.five = five;}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1359169795,"post_id":14532435,"comment_id":20267977,"body_markdown":"Thanks StaxMan, I guess this is working. When I print indented out I get in the way I needed. But when I use indented to add into the Model so that I can show them in resultform page. It still gets printed in two three lines. I have updated the question, maybe you will get some more idea what&#39;s happening now.","body":"Thanks StaxMan, I guess this is working. When I print indented out I get in the way I needed. But when I use indented to add into the Model so that I can show them in resultform page. It still gets printed in two three lines. I have updated the question, maybe you will get some more idea what&#39;s happening now."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1359172657,"post_id":14532435,"comment_id":20268425,"body_markdown":"The problem is with Spring then -- I guess it expects a POJO as attribute, and not a pre-formatted String. So instead of trying to format it yourself, you&#39;d need to tell Spring to do this. When using Jackson, it should be possible to configure it to use indentation. Although to be honest, I am not sure why you even need to indent it for response.","body":"The problem is with Spring then -- I guess it expects a POJO as attribute, and not a pre-formatted String. So instead of trying to format it yourself, you&#39;d need to tell Spring to do this. When using Jackson, it should be possible to configure it to use indentation. Although to be honest, I am not sure why you even need to indent it for response."},{"owner":{"account_id":217944,"reputation":2457,"user_id":474002,"accept_rate":64,"display_name":"Browny Lin"},"score":34,"creation_date":1375775036,"post_id":14532435,"comment_id":26451219,"body_markdown":"Hi, defaultPrettyPrintingWriter() has been deprecated. Since 1.9, use writerWithDefaultPrettyPrinter() instead.\n\nRefer: http://jackson.codehaus.org/1.9.0/javadoc/org/codehaus/jackson/map/ObjectMapper.html#defaultPrettyPrintingWriter()","body":"Hi, defaultPrettyPrintingWriter() has been deprecated. Since 1.9, use writerWithDefaultPrettyPrinter() instead.  Refer: <a href=\"http://jackson.codehaus.org/1.9.0/javadoc/org/codehaus/jackson/map/ObjectMapper.html#defaultPrettyPrintingWriter()\" rel=\"nofollow noreferrer\">jackson.codehaus.org/1.9.0/javadoc/org/codehaus/jackson/map/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":2624772,"reputation":4478,"user_id":2272030,"accept_rate":85,"display_name":"Mike R"},"score":6,"creation_date":1412262585,"post_id":14532435,"comment_id":41017849,"body_markdown":"For Jackson 2, use SerializationFeature.INDENT_OUTPUT, as specified by Marcelo C. below","body":"For Jackson 2, use SerializationFeature.INDENT_OUTPUT, as specified by Marcelo C. below"},{"owner":{"account_id":7192131,"reputation":1877,"user_id":5492047,"display_name":"Reyansh Mishra"},"score":0,"creation_date":1498023091,"post_id":14532435,"comment_id":76319937,"body_markdown":"any idea how to publish the amount of written value using jackson?","body":"any idea how to publish the amount of written value using jackson?"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1516007823,"post_id":14532435,"comment_id":83502518,"body_markdown":"@BrownyLin Please update Javadoc link in comment: http://www.atetric.com/atetric/javadoc/org.codehaus.jackson/jackson-mapper-asl/1.9.0/org/codehaus/jackson/map/ObjectMapper.html#defaultPrettyPrintingWriter--","body":"@BrownyLin Please update Javadoc link in comment: <a href=\"http://www.atetric.com/atetric/javadoc/org.codehaus.jackson/jackson-mapper-asl/1.9.0/org/codehaus/jackson/map/ObjectMapper.html#defaultPrettyPrintingWriter--\" rel=\"nofollow noreferrer\">atetric.com/atetric/javadoc/org.codehaus.jackson/&hellip;</a>"}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":6,"down_vote_count":5,"up_vote_count":323,"is_accepted":true,"score":318,"last_activity_date":1464111553,"creation_date":1359159945,"answer_id":14532435,"question_id":14515994,"body_markdown":"To indent any old JSON, just bind it as `Object`, like:\r\n\r\n    Object json = mapper.readValue(input, Object.class);\r\n\r\nand then write it out with indentation:\r\n\r\n    String indented = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(json);\r\n\r\nthis avoids your having to define actual POJO to map data to.\r\n\r\nOr you can use `JsonNode` (JSON Tree) as well.\r\n","title":"Convert JSON String to Pretty Print JSON output using Jackson","body":"<p>To indent any old JSON, just bind it as <code>Object</code>, like:</p>\n\n<pre><code>Object json = mapper.readValue(input, Object.class);\n</code></pre>\n\n<p>and then write it out with indentation:</p>\n\n<pre><code>String indented = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(json);\n</code></pre>\n\n<p>this avoids your having to define actual POJO to map data to.</p>\n\n<p>Or you can use <code>JsonNode</code> (JSON Tree) as well.</p>\n"},{"comments":[{"owner":{"account_id":1425986,"reputation":3033,"user_id":2306595,"display_name":"Innokenty"},"score":1,"creation_date":1424267682,"post_id":21105219,"comment_id":45477926,"body_markdown":"Unfortunately, that doesn&#39;t help if my input is a runtime created object, not another json.","body":"Unfortunately, that doesn&#39;t help if my input is a runtime created object, not another json."},{"owner":{"account_id":4551456,"reputation":6441,"user_id":3696510,"accept_rate":86,"display_name":"muttonUp"},"score":0,"creation_date":1441193511,"post_id":21105219,"comment_id":52576936,"body_markdown":"@Innokenty Then skip the first line.","body":"@Innokenty Then skip the first line."},{"owner":{"account_id":1425986,"reputation":3033,"user_id":2306595,"display_name":"Innokenty"},"score":3,"creation_date":1441282714,"post_id":21105219,"comment_id":52621635,"body_markdown":"@muttonUp Yeah, obviously. I even have done it, I don&#39;t know why I left such a stupid comment =)","body":"@muttonUp Yeah, obviously. I even have done it, I don&#39;t know why I left such a stupid comment =)"}],"tags":[],"owner":{"account_id":192592,"reputation":21571,"user_id":433814,"accept_rate":86,"display_name":"Marcello DeSales"},"comment_count":3,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1408004200,"creation_date":1389667746,"answer_id":21105219,"question_id":14515994,"body_markdown":"The new way using Jackson 1.9+ is the following:\r\n\r\n    Object json = OBJECT_MAPPER.readValue(diffResponseJson, Object.class);\r\n    String indented = OBJECT_MAPPER.writerWithDefaultPrettyPrinter()\r\n                                   .writeValueAsString(json);\r\n\r\nThe output will be correctly formatted!","title":"Convert JSON String to Pretty Print JSON output using Jackson","body":"<p>The new way using Jackson 1.9+ is the following:</p>\n\n<pre><code>Object json = OBJECT_MAPPER.readValue(diffResponseJson, Object.class);\nString indented = OBJECT_MAPPER.writerWithDefaultPrettyPrinter()\n                               .writeValueAsString(json);\n</code></pre>\n\n<p>The output will be correctly formatted!</p>\n"},{"tags":[],"owner":{"account_id":3963723,"reputation":1327,"user_id":3270254,"accept_rate":62,"display_name":"scalauser"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1408004213,"creation_date":1393393340,"answer_id":22032786,"question_id":14515994,"body_markdown":"For Jackson 1.9, We can use the following code for pretty print.\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.enable(SerializationConfig.Feature.INDENT_OUTPUT);","title":"Convert JSON String to Pretty Print JSON output using Jackson","body":"<p>For Jackson 1.9, We can use the following code for pretty print.</p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.enable(SerializationConfig.Feature.INDENT_OUTPUT);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":63517,"reputation":11633,"user_id":187986,"accept_rate":79,"display_name":"Jason Nichols"},"score":28,"creation_date":1468162306,"post_id":23982549,"comment_id":64003352,"body_markdown":"You can actually shorten that even further: ObjectMapper mapper = new ObjectMapper.enable(SerializationFeature.INDENT_OUTPUT);","body":"You can actually shorten that even further: ObjectMapper mapper = new ObjectMapper.enable(SerializationFeature.INDENT_OUTPUT);"}],"tags":[],"owner":{"account_id":2150868,"reputation":3882,"user_id":1907282,"display_name":"Marcelo C."},"comment_count":1,"down_vote_count":0,"up_vote_count":144,"is_accepted":false,"score":144,"last_activity_date":1594294782,"creation_date":1401643929,"answer_id":23982549,"question_id":14515994,"body_markdown":"The simplest and also the most compact solution (for v2.3.3):\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n    mapper.writeValueAsString(obj)","title":"Convert JSON String to Pretty Print JSON output using Jackson","body":"<p>The simplest and also the most compact solution (for v2.3.3):</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.enable(SerializationFeature.INDENT_OUTPUT);\nmapper.writeValueAsString(obj)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"score":3,"creation_date":1471437422,"post_id":38653567,"comment_id":65345177,"body_markdown":"Worth noting this is using the [JSON in Java (org.json)](https://github.com/stleary/JSON-java) library.","body":"Worth noting this is using the <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow noreferrer\">JSON in Java (org.json)</a> library."},{"owner":{"account_id":6951105,"reputation":2977,"user_id":5333711,"accept_rate":58,"display_name":"Aman Gupta -  ΔMΔN"},"score":0,"creation_date":1471448363,"post_id":38653567,"comment_id":65353586,"body_markdown":"In android, it can use direclty without any libraray.","body":"In android, it can use direclty without any libraray."},{"owner":{"account_id":962021,"reputation":11902,"user_id":986160,"accept_rate":83,"display_name":"Michail Michailidis"},"score":0,"creation_date":1548708940,"post_id":38653567,"comment_id":95631232,"body_markdown":"```String json = new GsonBuilder().setPrettyPrinting().create().toJson(map);\nString indentedJson = (new JSONObject(json)).toString(4);``` for some reason the second one is losing the order of keys","body":"<code>String json = new GsonBuilder().setPrettyPrinting().create().toJson(map); String indentedJson = (new JSONObject(json)).toString(4);</code> for some reason the second one is losing the order of keys"},{"owner":{"account_id":1780785,"reputation":405,"user_id":1623597,"accept_rate":100,"display_name":"Geniy"},"score":0,"creation_date":1551257222,"post_id":38653567,"comment_id":96569934,"body_markdown":"The current approach, unfortunately, doesn&#39;t handle list of json objects. I mean [{&quot;id&quot;:&quot;1&quot;}, {&quot;id&quot;:&quot;2&quot;}]","body":"The current approach, unfortunately, doesn&#39;t handle list of json objects. I mean [{&quot;id&quot;:&quot;1&quot;}, {&quot;id&quot;:&quot;2&quot;}]"}],"tags":[],"owner":{"account_id":6951105,"reputation":2977,"user_id":5333711,"accept_rate":58,"display_name":"Aman Gupta -  ΔMΔN"},"comment_count":4,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1471448561,"creation_date":1469779345,"answer_id":38653567,"question_id":14515994,"body_markdown":"I think, this is the simplest technique to beautify the json data,\r\n\r\n    String indented = (new JSONObject(Response)).toString(4);\r\n\r\nwhere ***Response*** is a String.\r\n\r\nSimply pass the 4(indentSpaces) in `toString()` method.\r\n\r\n**Note:** It works fine in the android without any library. But in java you have to use the [org.json][1] library.\r\n\r\n\r\n  [1]: https://github.com/stleary/JSON-java","title":"Convert JSON String to Pretty Print JSON output using Jackson","body":"<p>I think, this is the simplest technique to beautify the json data,</p>\n\n<pre><code>String indented = (new JSONObject(Response)).toString(4);\n</code></pre>\n\n<p>where <strong><em>Response</em></strong> is a String.</p>\n\n<p>Simply pass the 4(indentSpaces) in <code>toString()</code> method.</p>\n\n<p><strong>Note:</strong> It works fine in the android without any library. But in java you have to use the <a href=\"https://github.com/stleary/JSON-java\" rel=\"noreferrer\">org.json</a> library.</p>\n"},{"tags":[],"owner":{"account_id":3691447,"reputation":6845,"user_id":3073945,"accept_rate":90,"display_name":"Md. Sajedul Karim"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1636001743,"creation_date":1543999627,"answer_id":53628307,"question_id":14515994,"body_markdown":"You can achieve this using bellow ways:\r\n\r\n**1. Using Jackson**\r\n\r\n        String formattedData=new ObjectMapper().writerWithDefaultPrettyPrinter()\r\n    .writeValueAsString(YOUR_JSON_OBJECT);\r\n\r\nImport bellow class:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\nIt&#39;s gradle dependency is :\r\n\r\n    compile &#39;com.fasterxml.jackson.core:jackson-core:2.7.3&#39;\r\n    compile &#39;com.fasterxml.jackson.core:jackson-annotations:2.7.3&#39;\r\n    compile &#39;com.fasterxml.jackson.core:jackson-databind:2.7.3&#39;\r\n\r\n**2. Using Gson from Google**\r\n\r\n    String formattedData=new GsonBuilder().setPrettyPrinting()\r\n        .create().toJson(YOUR_OBJECT);\r\n\r\nImport bellow class:\r\n\r\n    import com.google.gson.Gson;\r\n\r\nIt&#39;s gradle is: \r\n\r\n    compile &#39;com.google.code.gson:gson:2.8.2&#39;\r\n\r\n\r\nHere, you can also download correct updated version from repository.","title":"Convert JSON String to Pretty Print JSON output using Jackson","body":"<p>You can achieve this using bellow ways:</p>\n<p><strong>1. Using Jackson</strong></p>\n<pre><code>    String formattedData=new ObjectMapper().writerWithDefaultPrettyPrinter()\n.writeValueAsString(YOUR_JSON_OBJECT);\n</code></pre>\n<p>Import bellow class:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\n</code></pre>\n<p>It's gradle dependency is :</p>\n<pre><code>compile 'com.fasterxml.jackson.core:jackson-core:2.7.3'\ncompile 'com.fasterxml.jackson.core:jackson-annotations:2.7.3'\ncompile 'com.fasterxml.jackson.core:jackson-databind:2.7.3'\n</code></pre>\n<p><strong>2. Using Gson from Google</strong></p>\n<pre><code>String formattedData=new GsonBuilder().setPrettyPrinting()\n    .create().toJson(YOUR_OBJECT);\n</code></pre>\n<p>Import bellow class:</p>\n<pre><code>import com.google.gson.Gson;\n</code></pre>\n<p>It's gradle is:</p>\n<pre><code>compile 'com.google.code.gson:gson:2.8.2'\n</code></pre>\n<p>Here, you can also download correct updated version from repository.</p>\n"},{"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":3,"creation_date":1590086619,"post_id":61829464,"comment_id":109554702,"body_markdown":"The reason I like this answer is that it doesn&#39;t do any object conversion at all other than direct mapping to JSON types.  So long as the input string is valid JSON, we know the output string will be semantically equivalent JSON.","body":"The reason I like this answer is that it doesn&#39;t do any object conversion at all other than direct mapping to JSON types.  So long as the input string is valid JSON, we know the output string will be semantically equivalent JSON."},{"owner":{"account_id":9499339,"reputation":127,"user_id":7061105,"display_name":"Akito"},"score":1,"creation_date":1614387288,"post_id":61829464,"comment_id":117378654,"body_markdown":"This should be the accepted answer, because, as already mentioned by @M.Justin, we don&#39;t do any object conversion, which is a must, if the JSON could be anything. Why make life as hard as proposed in the other answers, when you can have it as easy as proposed in this answer...","body":"This should be the accepted answer, because, as already mentioned by @M.Justin, we don&#39;t do any object conversion, which is a must, if the JSON could be anything. Why make life as hard as proposed in the other answers, when you can have it as easy as proposed in this answer..."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1614412135,"post_id":61829464,"comment_id":117381888,"body_markdown":"@Akito I just simplified the answer even further, thanks to the addition of `toPrettyString()` in Jackson 2.10.","body":"@Akito I just simplified the answer even further, thanks to the addition of <code>toPrettyString()</code> in Jackson 2.10."}],"tags":[],"owner":{"account_id":2732185,"reputation":609,"user_id":2355711,"accept_rate":30,"display_name":"Praneeth"},"comment_count":3,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1614412394,"creation_date":1589582337,"answer_id":61829464,"question_id":14515994,"body_markdown":"[`ObjectMapper.readTree()`](https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/ObjectMapper.html#readTree-java.lang.String-) can do this in one line:\r\n\r\n```lang-java\r\nmapper.readTree(json).toPrettyString();\r\n```\r\n\r\nSince `readTree` produces a [`JsonNode`](http://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#toPrettyString--), this should pretty much always produce equivalent pretty-formatted JSON, as it `JsonNode` is a direct tree representation of the underlying JSON string.\r\n\r\n## Prior to Jackson 2.10\r\n\r\nThe [`JsonNode.toPrettyString()`](http://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#toPrettyString--) method was added  in Jackson 2.10.  Prior to that, a second call to the `ObjectMapper` was needed to write the pretty formatted result:\r\n   \r\n```lang-java\r\nmapper.writerWithDefaultPrettyPrinter()\r\n        .writeValueAsString(mapper.readTree(json));\r\n```\r\n","title":"Convert JSON String to Pretty Print JSON output using Jackson","body":"<p><a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/ObjectMapper.html#readTree-java.lang.String-\" rel=\"noreferrer\"><code>ObjectMapper.readTree()</code></a> can do this in one line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mapper.readTree(json).toPrettyString();\n</code></pre>\n<p>Since <code>readTree</code> produces a <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#toPrettyString--\" rel=\"noreferrer\"><code>JsonNode</code></a>, this should pretty much always produce equivalent pretty-formatted JSON, as it <code>JsonNode</code> is a direct tree representation of the underlying JSON string.</p>\n<h2>Prior to Jackson 2.10</h2>\n<p>The <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#toPrettyString--\" rel=\"noreferrer\"><code>JsonNode.toPrettyString()</code></a> method was added  in Jackson 2.10.  Prior to that, a second call to the <code>ObjectMapper</code> was needed to write the pretty formatted result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mapper.writerWithDefaultPrettyPrinter()\n        .writeValueAsString(mapper.readTree(json));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1614411758,"creation_date":1599087039,"answer_id":63714497,"question_id":14515994,"body_markdown":"Since `jackson-databind:2.10` JsonNode has the [`toPrettyString()`][1] method to easily format JSON:\r\n\r\n```lang-java\r\nobjectMapper\r\n  .readTree(&quot;{}&quot;)\r\n  .toPrettyString()\r\n;\r\n```\r\n\r\nFrom [the docs][1]:\r\n\r\n&gt; &lt;code&gt;public [String](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true) toPrettyString()&lt;/code&gt;\r\n&gt;\r\n&gt; Alternative to [`toString()`](https://fasterxml.github.io/jackson-databind/javadoc/2.10/com/fasterxml/jackson/databind/JsonNode.html#toString--) that will\r\n&gt; serialize this node using Jackson default pretty-printer.\r\n&gt;\r\n&gt; **Since:**&lt;br/&gt;\r\n&gt; 2.10\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.10/com/fasterxml/jackson/databind/JsonNode.html#toPrettyString--","title":"Convert JSON String to Pretty Print JSON output using Jackson","body":"<p>Since <code>jackson-databind:2.10</code> JsonNode has the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.10/com/fasterxml/jackson/databind/JsonNode.html#toPrettyString--\" rel=\"nofollow noreferrer\"><code>toPrettyString()</code></a> method to easily format JSON:</p>\n<pre class=\"lang-java prettyprint-override\"><code>objectMapper\n  .readTree(&quot;{}&quot;)\n  .toPrettyString()\n;\n</code></pre>\n<p>From <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.10/com/fasterxml/jackson/databind/JsonNode.html#toPrettyString--\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n<blockquote>\n<p><code>public <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true\" rel=\"nofollow noreferrer\">String</a> toPrettyString()</code></p>\n<p>Alternative to <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.10/com/fasterxml/jackson/databind/JsonNode.html#toString--\" rel=\"nofollow noreferrer\"><code>toString()</code></a> that will\nserialize this node using Jackson default pretty-printer.</p>\n<p><strong>Since:</strong><br/>\n2.10</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649684567,"creation_date":1614072584,"answer_id":66330448,"question_id":14515994,"body_markdown":"If you format the string and return object like `RestApiResponse&lt;String&gt;`, you&#39;ll get unwanted characters like escaping etc: `\\n`, `\\&quot;`. Solution is to convert your JSON-string into Jackson JsonNode object and return `RestApiResponse&lt;JsonNode&gt;`:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode tree = objectMapper.readTree(jsonString);\r\n    RestApiResponse&lt;JsonNode&gt; response = new RestApiResponse&lt;&gt;();\r\n    apiResponse.setData(tree);\r\n    return response;","title":"Convert JSON String to Pretty Print JSON output using Jackson","body":"<p>If you format the string and return object like <code>RestApiResponse&lt;String&gt;</code>, you'll get unwanted characters like escaping etc: <code>\\n</code>, <code>\\&quot;</code>. Solution is to convert your JSON-string into Jackson JsonNode object and return <code>RestApiResponse&lt;JsonNode&gt;</code>:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nJsonNode tree = objectMapper.readTree(jsonString);\nRestApiResponse&lt;JsonNode&gt; response = new RestApiResponse&lt;&gt;();\napiResponse.setData(tree);\nreturn response;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17806508,"reputation":71,"user_id":12932111,"display_name":"agarwalsukant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668674514,"creation_date":1668674514,"answer_id":74472410,"question_id":14515994,"body_markdown":"Anyone using POJO, DDO, or response class for returning their JSON can use **spring.jackson.serialization.indent-output=true** in their property file. It auto-formats the response.","title":"Convert JSON String to Pretty Print JSON output using Jackson","body":"<p>Anyone using POJO, DDO, or response class for returning their JSON can use <strong>spring.jackson.serialization.indent-output=true</strong> in their property file. It auto-formats the response.</p>\n"}],"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291919,"favorite_count":0,"down_vote_count":2,"up_vote_count":215,"accepted_answer_id":14532435,"answer_count":11,"score":213,"last_activity_date":1668674514,"creation_date":1359092266,"question_id":14515994,"body_markdown":"This is the JSON string I have:\r\n\r\n    {&quot;attributes&quot;:[{&quot;nm&quot;:&quot;ACCOUNT&quot;,&quot;lv&quot;:[{&quot;v&quot;:{&quot;Id&quot;:null,&quot;State&quot;:null},&quot;vt&quot;:&quot;java.util.Map&quot;,&quot;cn&quot;:1}],&quot;vt&quot;:&quot;java.util.Map&quot;,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;lmd&quot;:13585},{&quot;nm&quot;:&quot;PROFILE&quot;,&quot;lv&quot;:[{&quot;v&quot;:{&quot;Party&quot;:null,&quot;Ads&quot;:null},&quot;vt&quot;:&quot;java.util.Map&quot;,&quot;cn&quot;:2}],&quot;vt&quot;:&quot;java.util.Map&quot;,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;lmd&quot;:41962}]}\r\n\r\n\r\nI need to convert the above JSON `String` into Pretty Print JSON Output (using Jackson), like below:\r\n\r\n    {\r\n        &quot;attributes&quot;: [\r\n            {\r\n                &quot;nm&quot;: &quot;ACCOUNT&quot;,\r\n                &quot;lv&quot;: [\r\n                    {\r\n                        &quot;v&quot;: {\r\n                            &quot;Id&quot;: null,\r\n                            &quot;State&quot;: null\r\n                        },\r\n                        &quot;vt&quot;: &quot;java.util.Map&quot;,\r\n                        &quot;cn&quot;: 1\r\n                    }\r\n                ],\r\n                &quot;vt&quot;: &quot;java.util.Map&quot;,\r\n                &quot;status&quot;: &quot;SUCCESS&quot;,\r\n                &quot;lmd&quot;: 13585\r\n            },\r\n            {\r\n                &quot;nm&quot;: &quot;PROFILE\r\n                &quot;lv&quot;: [\r\n                    {\r\n                        &quot;v&quot;: {\r\n                            &quot;Party&quot;: null,\r\n                            &quot;Ads&quot;: null\r\n                        },\r\n                        &quot;vt&quot;: &quot;java.util.Map&quot;,\r\n                        &quot;cn&quot;: 2\r\n                    }\r\n                ],\r\n                &quot;vt&quot;: &quot;java.util.Map&quot;,\r\n                &quot;status&quot;: &quot;SUCCESS&quot;,\r\n                &quot;lmd&quot;: 41962\r\n            }\r\n        ]\r\n    }\r\n\r\nCan anyone provide me an example based on my example above? How to achieve this scenario? I know there are lot of examples, but I am not able to understand those properly. Any help will be appreciated with a simple example.\r\n\r\n**Updated:**\r\n\r\nBelow is the code I am using:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    System.out.println(mapper.defaultPrettyPrintingWriter().writeValueAsString(jsonString));\r\n\r\nBut this doesn&#39;t works with the way I needed the output as mentioned above.\r\n\r\nHere&#39;s is the POJO I am using for the above JSON:\r\n\r\n    public class UrlInfo implements Serializable {\r\n    \r\n        private List&lt;Attributes&gt; attribute;\r\n        \r\n    }\r\n    \r\n    class Attributes {\r\n        \r\n        private String nm;\r\n        private List&lt;ValueList&gt; lv;\r\n        private String vt;\r\n        private String status;\r\n        private String lmd;\r\n        \r\n    }\r\n    \r\n    \r\n    class ValueList {\r\n        private String vt;\r\n        private String cn;\r\n        private List&lt;String&gt; v;\r\n    }\r\n\r\nCan anyone tell me whether I got the right POJO for the JSON or not?\r\n\r\n\r\n**Updated:**\r\n\r\n\r\n    String result = restTemplate.getForObject(url.toString(), String.class);\r\n    \r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Object json = mapper.readValue(result, Object.class);\r\n    \r\n    String indented = mapper.defaultPrettyPrintingWriter().writeValueAsString(json);\r\n    \r\n    System.out.println(indented);//This print statement show correct way I need\r\n\r\n    model.addAttribute(&quot;response&quot;, (indented));\r\n\r\n\t\r\nBelow line prints out something like this:\r\n\r\n    System.out.println(indented);\r\n\r\n\r\n    {\r\n      &quot;attributes&quot; : [ {\r\n        &quot;nm&quot; : &quot;ACCOUNT&quot;,\r\n        &quot;error&quot; : &quot;null SYS00019CancellationException in CoreImpl fetchAttributes\\n java.util.concurrent.CancellationException\\n\\tat java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:231)\\n\\tat java.util.concurrent.FutureTask.&quot;,\r\n        &quot;status&quot; : &quot;ERROR&quot;\r\n      } ]\r\n    }\r\n\r\nwhich is the way I needed to be shown. But when I add it to model like this:\r\n\r\n    model.addAttribute(&quot;response&quot;, (indented));\r\n\r\nAnd then shows it out in a resultform jsp page like below:\r\n\r\n\r\n\t\t&lt;fieldset&gt;\r\n\t\t\t&lt;legend&gt;Response:&lt;/legend&gt;\r\n\t\t\t\t&lt;strong&gt;${response}&lt;/strong&gt;&lt;br /&gt;\r\n\r\n\t\t&lt;/fieldset&gt;\r\n\r\nI get something like this:\r\n\r\n    { &quot;attributes&quot; : [ { &quot;nm&quot; : &quot;ACCOUNT&quot;, &quot;error&quot; : &quot;null    \r\n    SYS00019CancellationException in CoreImpl fetchAttributes\\n \r\n    java.util.concurrent.CancellationException\\n\\tat \r\n    java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:231)\\n\\tat \r\n    java.util.concurrent.FutureTask.&quot;, &quot;status&quot; : &quot;ERROR&quot; } ] }\r\n\r\nwhich I don&#39;t need. I needed the way it got printed out above. Can anyone tell me why it happened this way?","title":"Convert JSON String to Pretty Print JSON output using Jackson","body":"<p>This is the JSON string I have:</p>\n\n<pre><code>{\"attributes\":[{\"nm\":\"ACCOUNT\",\"lv\":[{\"v\":{\"Id\":null,\"State\":null},\"vt\":\"java.util.Map\",\"cn\":1}],\"vt\":\"java.util.Map\",\"status\":\"SUCCESS\",\"lmd\":13585},{\"nm\":\"PROFILE\",\"lv\":[{\"v\":{\"Party\":null,\"Ads\":null},\"vt\":\"java.util.Map\",\"cn\":2}],\"vt\":\"java.util.Map\",\"status\":\"SUCCESS\",\"lmd\":41962}]}\n</code></pre>\n\n<p>I need to convert the above JSON <code>String</code> into Pretty Print JSON Output (using Jackson), like below:</p>\n\n<pre><code>{\n    \"attributes\": [\n        {\n            \"nm\": \"ACCOUNT\",\n            \"lv\": [\n                {\n                    \"v\": {\n                        \"Id\": null,\n                        \"State\": null\n                    },\n                    \"vt\": \"java.util.Map\",\n                    \"cn\": 1\n                }\n            ],\n            \"vt\": \"java.util.Map\",\n            \"status\": \"SUCCESS\",\n            \"lmd\": 13585\n        },\n        {\n            \"nm\": \"PROFILE\n            \"lv\": [\n                {\n                    \"v\": {\n                        \"Party\": null,\n                        \"Ads\": null\n                    },\n                    \"vt\": \"java.util.Map\",\n                    \"cn\": 2\n                }\n            ],\n            \"vt\": \"java.util.Map\",\n            \"status\": \"SUCCESS\",\n            \"lmd\": 41962\n        }\n    ]\n}\n</code></pre>\n\n<p>Can anyone provide me an example based on my example above? How to achieve this scenario? I know there are lot of examples, but I am not able to understand those properly. Any help will be appreciated with a simple example.</p>\n\n<p><strong>Updated:</strong></p>\n\n<p>Below is the code I am using:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSystem.out.println(mapper.defaultPrettyPrintingWriter().writeValueAsString(jsonString));\n</code></pre>\n\n<p>But this doesn't works with the way I needed the output as mentioned above.</p>\n\n<p>Here's is the POJO I am using for the above JSON:</p>\n\n<pre><code>public class UrlInfo implements Serializable {\n\n    private List&lt;Attributes&gt; attribute;\n\n}\n\nclass Attributes {\n\n    private String nm;\n    private List&lt;ValueList&gt; lv;\n    private String vt;\n    private String status;\n    private String lmd;\n\n}\n\n\nclass ValueList {\n    private String vt;\n    private String cn;\n    private List&lt;String&gt; v;\n}\n</code></pre>\n\n<p>Can anyone tell me whether I got the right POJO for the JSON or not?</p>\n\n<p><strong>Updated:</strong></p>\n\n<pre><code>String result = restTemplate.getForObject(url.toString(), String.class);\n\nObjectMapper mapper = new ObjectMapper();\nObject json = mapper.readValue(result, Object.class);\n\nString indented = mapper.defaultPrettyPrintingWriter().writeValueAsString(json);\n\nSystem.out.println(indented);//This print statement show correct way I need\n\nmodel.addAttribute(\"response\", (indented));\n</code></pre>\n\n<p>Below line prints out something like this:</p>\n\n<pre><code>System.out.println(indented);\n\n\n{\n  \"attributes\" : [ {\n    \"nm\" : \"ACCOUNT\",\n    \"error\" : \"null SYS00019CancellationException in CoreImpl fetchAttributes\\n java.util.concurrent.CancellationException\\n\\tat java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:231)\\n\\tat java.util.concurrent.FutureTask.\",\n    \"status\" : \"ERROR\"\n  } ]\n}\n</code></pre>\n\n<p>which is the way I needed to be shown. But when I add it to model like this:</p>\n\n<pre><code>model.addAttribute(\"response\", (indented));\n</code></pre>\n\n<p>And then shows it out in a resultform jsp page like below:</p>\n\n<pre><code>    &lt;fieldset&gt;\n        &lt;legend&gt;Response:&lt;/legend&gt;\n            &lt;strong&gt;${response}&lt;/strong&gt;&lt;br /&gt;\n\n    &lt;/fieldset&gt;\n</code></pre>\n\n<p>I get something like this:</p>\n\n<pre><code>{ \"attributes\" : [ { \"nm\" : \"ACCOUNT\", \"error\" : \"null    \nSYS00019CancellationException in CoreImpl fetchAttributes\\n \njava.util.concurrent.CancellationException\\n\\tat \njava.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:231)\\n\\tat \njava.util.concurrent.FutureTask.\", \"status\" : \"ERROR\" } ] }\n</code></pre>\n\n<p>which I don't need. I needed the way it got printed out above. Can anyone tell me why it happened this way?</p>\n"},{"tags":["java","xml","xpath","xquery","basex"],"comments":[{"owner":{"account_id":16447745,"reputation":7487,"user_id":11882002,"display_name":"username"},"score":0,"creation_date":1587836253,"post_id":61429845,"comment_id":108668275,"body_markdown":"Check if all your dependencies are on the classpath.","body":"Check if all your dependencies are on the classpath."},{"owner":{"account_id":16859676,"reputation":217,"user_id":12190774,"display_name":"winter"},"score":0,"creation_date":1587836851,"post_id":61429845,"comment_id":108668536,"body_markdown":"@user I have fixed the dependencies and now I get the following error: Error: Connection refused: no further information. Do you know what could that be?","body":"@user I have fixed the dependencies and now I get the following error: Error: Connection refused: no further information. Do you know what could that be?"},{"owner":{"account_id":16447745,"reputation":7487,"user_id":11882002,"display_name":"username"},"score":0,"creation_date":1587836928,"post_id":61429845,"comment_id":108668576,"body_markdown":"I have no idea, but this might help - https://stackoverflow.com/questions/5981709/jax-ws-java-net-connectexception-connection-refused","body":"I have no idea, but this might help - <a href=\"https://stackoverflow.com/questions/5981709/jax-ws-java-net-connectexception-connection-refused\" title=\"jax ws java net connectexception connection refused\">stackoverflow.com/questions/5981709/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":16859676,"reputation":217,"user_id":12190774,"display_name":"winter"},"score":0,"creation_date":1587836873,"post_id":61429938,"comment_id":108668550,"body_markdown":"I have fixed the dependencies and now I get the following error: Error: Connection refused: no further information. Do you know what could that be?","body":"I have fixed the dependencies and now I get the following error: Error: Connection refused: no further information. Do you know what could that be?"},{"owner":{"account_id":481631,"reputation":101,"user_id":895565,"accept_rate":0,"display_name":"user895565"},"score":1,"creation_date":1587837196,"post_id":61429938,"comment_id":108668680,"body_markdown":"check all connection properties such as uid/pwd/port. If it is remote then check the server configuration if it accepts remote connections","body":"check all connection properties such as uid/pwd/port. If it is remote then check the server configuration if it accepts remote connections"}],"tags":[],"owner":{"account_id":481631,"reputation":101,"user_id":895565,"accept_rate":0,"display_name":"user895565"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1587836580,"creation_date":1587836580,"answer_id":61429938,"question_id":61429845,"body_markdown":"You are missing dependencies. Add dependencies to the classpath or maven repository","title":"Java error: Unable to initialize main class","body":"<p>You are missing dependencies. Add dependencies to the classpath or maven repository</p>\n"}],"owner":{"account_id":16859676,"reputation":217,"user_id":12190774,"display_name":"winter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42971,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":61429938,"answer_count":1,"score":8,"last_activity_date":1668674451,"creation_date":1587836154,"question_id":61429845,"body_markdown":"I am trying to run this code but I get the following error.\r\n\r\n    package practicaXML;\r\n    import javax.xml.xquery.*;\r\n    import org.w3c.dom.Node;\r\n    import net.xqj.basex.BaseXXQDataSource;\r\n    \r\n    public class App {\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tXQDataSource xqs = new BaseXXQDataSource();\r\n    \t\t\txqs.setProperty(&quot;serverName&quot;, &quot;localhost&quot;);\r\n    \t\t\txqs.setProperty(&quot;port&quot;, &quot;1984&quot;);\r\n    \t\t\txqs.setProperty(&quot;databaseName&quot;, &quot;facts&quot;);\r\n    \t\t\t\r\n    \t\t\tXQConnection conn = xqs.getConnection(&quot;admin&quot;, &quot;admin&quot;);\r\n    \t\t\t\r\n    \t\t\tString xqueryString = &quot;//province[contains(@name, &#39;x&#39;)]&quot;;\r\n    \t\t\tXQExpression xqe = conn.createExpression();\r\n    \t\t\tXQResultSequence rs = xqe.executeQuery(xqueryString);\r\n    \t\t\t\r\n    \t\t\tNode n;\r\n    \t\t\twhile(rs.next()) {\r\n    \t\t\t\tn = rs.getNode();\r\n    \t\t\t\tSystem.out.println(n.getAttributes().getNamedItem(&quot;name&quot;).getNodeValue());\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tconn.close();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Error: &quot; + e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nConsole:\r\n\r\n    Error: Unable to initialize main class practicaXML.App\r\n    Caused by: java.lang.NoClassDefFoundError: javax/xml/xquery/XQDataSource\r\n\r\n\r\nIt is my first time working with basex and xpath and I have no idea what could be causing this or how to fix it.","title":"Java error: Unable to initialize main class","body":"<p>I am trying to run this code but I get the following error.</p>\n\n<pre><code>package practicaXML;\nimport javax.xml.xquery.*;\nimport org.w3c.dom.Node;\nimport net.xqj.basex.BaseXXQDataSource;\n\npublic class App {\n    public static void main(String[] args) {\n        try {\n            XQDataSource xqs = new BaseXXQDataSource();\n            xqs.setProperty(\"serverName\", \"localhost\");\n            xqs.setProperty(\"port\", \"1984\");\n            xqs.setProperty(\"databaseName\", \"facts\");\n\n            XQConnection conn = xqs.getConnection(\"admin\", \"admin\");\n\n            String xqueryString = \"//province[contains(@name, 'x')]\";\n            XQExpression xqe = conn.createExpression();\n            XQResultSequence rs = xqe.executeQuery(xqueryString);\n\n            Node n;\n            while(rs.next()) {\n                n = rs.getNode();\n                System.out.println(n.getAttributes().getNamedItem(\"name\").getNodeValue());\n            }\n\n            conn.close();\n        } catch (Exception e) {\n            System.out.println(\"Error: \" + e.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>Console:</p>\n\n<pre><code>Error: Unable to initialize main class practicaXML.App\nCaused by: java.lang.NoClassDefFoundError: javax/xml/xquery/XQDataSource\n</code></pre>\n\n<p>It is my first time working with basex and xpath and I have no idea what could be causing this or how to fix it.</p>\n"},{"tags":["java","spring","hibernate","caching","redis"],"owner":{"account_id":26434968,"reputation":45,"user_id":20080481,"display_name":"User01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668674180,"creation_date":1668674180,"question_id":74472346,"body_markdown":"I&#39;m using Hibernate second level cache in a Java spring project and RedissonRegionFactory as a cache provider, in order to set cache properties\r\nlike ttl I added this line to `application.properties` file:\r\n\r\n    spring.jpa.properties.hibernate.cache.redisson.entity.expiration.time_to_live=10000\r\n\r\nHowever I have different cache regions and I want to set for each one a special ttl, instead of setting a general one for all caches.\r\nHow can I customize cache properties individually, and is it possible to do this in java class instead of the `application.properties` file?\r\nAny help is appreciated!\r\n","title":"How to set hibernate cache properties?","body":"<p>I'm using Hibernate second level cache in a Java spring project and RedissonRegionFactory as a cache provider, in order to set cache properties\nlike ttl I added this line to <code>application.properties</code> file:</p>\n<pre><code>spring.jpa.properties.hibernate.cache.redisson.entity.expiration.time_to_live=10000\n</code></pre>\n<p>However I have different cache regions and I want to set for each one a special ttl, instead of setting a general one for all caches.\nHow can I customize cache properties individually, and is it possible to do this in java class instead of the <code>application.properties</code> file?\nAny help is appreciated!</p>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1668671739,"post_id":74471734,"comment_id":131463684,"body_markdown":"How are the IDs created? If they are not automatically created by the database, then you can&#39;t cascade inserts. You can try with `@OneToOne(cascade = {})` to not cascade any operations. `@Transient` tells hibernate that the annotated field does not come from database, so that should be removed. `@JoinColumn(name = &quot;regCode&quot;, referencedColumnName = &quot;REG_CODE&quot;)` I am not sure if `REG_CODE` is correct for you, as you never show that the column exists anywhere. Lastly, `@EmbeddedId` is not needed for multiple ID columns. You can simply annotate multiple fields with `@Id`","body":"How are the IDs created? If they are not automatically created by the database, then you can&#39;t cascade inserts. You can try with <code>@OneToOne(cascade = {})</code> to not cascade any operations. <code>@Transient</code> tells hibernate that the annotated field does not come from database, so that should be removed. <code>@JoinColumn(name = &quot;regCode&quot;, referencedColumnName = &quot;REG_CODE&quot;)</code> I am not sure if <code>REG_CODE</code> is correct for you, as you never show that the column exists anywhere. Lastly, <code>@EmbeddedId</code> is not needed for multiple ID columns. You can simply annotate multiple fields with <code>@Id</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1668671864,"post_id":74471734,"comment_id":131463726,"body_markdown":"Once you added `cascade = {}` to the mappings and removed `@Transient`, you should be able to fetch data with a single call. To persist the data, you should insert the entities each on their own and make sure that you do so in the correct order as you might have foreign keys which could fail the inserts if done in the wrong order","body":"Once you added <code>cascade = {}</code> to the mappings and removed <code>@Transient</code>, you should be able to fetch data with a single call. To persist the data, you should insert the entities each on their own and make sure that you do so in the correct order as you might have foreign keys which could fail the inserts if done in the wrong order"},{"owner":{"display_name":"user2094311"},"score":0,"creation_date":1668673431,"post_id":74471734,"comment_id":131464225,"body_markdown":"@XtremeBaumer `regCode` is from different table. The Id is not generated automatically. I&#39;m setting the value manually. If I remove Transient, fetch will work. But to insert User object I&#39;m getting error. Will post the insert query I got from Debug while saving","body":"@XtremeBaumer <code>regCode</code> is from different table. The Id is not generated automatically. I&#39;m setting the value manually. If I remove Transient, fetch will work. But to insert User object I&#39;m getting error. Will post the insert query I got from Debug while saving"},{"owner":{"display_name":"user2094311"},"score":0,"creation_date":1668674008,"post_id":74471734,"comment_id":131464427,"body_markdown":"@XtremeBaumer I have updated the question with insert query. The columns are getting repeated in generated insert query","body":"@XtremeBaumer I have updated the question with insert query. The columns are getting repeated in generated insert query"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1668674749,"post_id":74471734,"comment_id":131464691,"body_markdown":"Remove the fields `private String regCode; private String subjectCode;` you don&#39;t need those in the user class as you have them in the `regData` field","body":"Remove the fields <code>private String regCode; private String subjectCode;</code> you don&#39;t need those in the user class as you have them in the <code>regData</code> field"}],"owner":{"display_name":"user2094311"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668673952,"creation_date":1668670639,"question_id":74471734,"body_markdown":"I use Spring boot and Spring data jpa and connecting to DB2 for a legacy DB. My requirement is I&#39;m adding a relationship. It works when I use query for fetching. Earlier I had to read only from these tables, but recently I needed to insert in few of the tables, and that time it is failing. Please find my table details below. \r\n\r\n    User -&gt; userId, name, address, regCode, subjectCode\r\n    UserType -&gt; userId, regCode, typeCode (userId &amp; regCode are primary keys)\r\n    RegData -&gt; regCode, subjectCode, name, description (regCode &amp; subjectCode are primary keys)\r\n\r\nAnd my entity details as below. \r\n\r\n**User.java**\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table\r\n    public class User implements Serializable {\r\n    \r\n    \t@Id\r\n    \tprivate Long userId;\r\n    \tprivate String name;\r\n    \tprivate String address;\r\n    \tprivate String regCode;\r\n    \tprivate String subjectCode;\r\n    \r\n    \t@OneToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;regCode&quot;, referencedColumnName = &quot;REG_CODE&quot;)\r\n    \t@JoinColumn(name = &quot;userid&quot;, referencedColumnName = &quot;USERID&quot;)\r\n    \tprivate UserType  userType ;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumnsOrFormulas(value = {\r\n    \t\t\t@JoinColumnOrFormula(formula = @JoinFormula(value = &quot;regCode&quot;, referencedColumnName = &quot;REG_CODE&quot;)),\r\n    \t\t\t@JoinColumnOrFormula(column = @JoinColumn(name = &quot;subjectCode&quot;, referencedColumnName = &quot;SUBJECT_CODE&quot;)) })\r\n    \tprivate RegData  regData ;\r\n    }\r\n\r\n**UserType.java &amp; UserTypeId.java**\r\n\r\n    @Data\r\n    @Entity\r\n    @Table\r\n    public class UserType implements Serializable {\r\n    \t@EmbeddedId\r\n    \tprivate UserTypeId id;\r\n    \tprivate int typeCode;\r\n    }\r\n    \r\n    @Embeddable\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class UserTypeId implements Serializable {\r\n    \r\n    \tprivate Long userId;\r\n    \tprivate String regCode;\r\n    }\r\n\r\n**RegData.java &amp; RegDataId.java**\r\n\r\n    @Data\r\n    @Entity\r\n    @Table\r\n    public class RegData implements Serializable {\r\n    \t@EmbeddedId\r\n    \tprivate RegDataId id;\r\n    \tprivate String name\r\n    \tprivate String desc\r\n    \r\n    \t@ManyToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;reg_code&quot;, referencedColumnName = &quot;REG_CODE&quot;)\r\n    \tprivate Registration registration;\r\n    }\r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Embeddable\r\n    public class RegDataId implements Serializable {\r\n    \tprivate String\tregCode;\r\n    \tprivate String\tsubjectCode;\r\n    }\r\n\r\nUsing `userRepository` I&#39;m able to fetch user data along with user type and RegData. But I got a usecase where I need to insert new User to DB, along with that I need to insert new User Type also. \r\n\r\nI tried creating new user and user type and setting user type object to user and then tried calling `save()` using `userRepositry`. But it failed with DB2 responding with error 121 as the insert query had same columns repeated. \r\n\r\nWhat I tried was annotating the fields as Transient. Then I &#39;m able to save User and UserType separately. But fetching is not working. I have to do another fetch call manually to set the data. \r\n\r\nWhat is the best approach to save the User and UserType while fetch works fine? (I can set the RegData to user object by fetching from DB during save call. \r\n\r\n**UPDATE**\r\n\r\nBelow is the insert Query I&#39;m getting from hibernate when I try to call save()\r\n\r\n**Code**\r\n\r\n    int nextId = //Next Id value assigned manually\r\n    User user = new User()\r\n    user.setUserId(nextId)\r\n    //Setting Values\r\n    UserType type = new UserType()\r\n    UserTypeId id = new UserTypeId();\r\n    id.setUserId(nextId);\r\n    type.setId(id);\r\n    user.setUserType(type);\r\n    user.setRegData(//Getting object from DB);\r\n    userrepository.save(user);\r\n\r\n\r\n**Generated Inert Query:**\r\n\r\n    insert into USER (REG_CODE, subject_code, NAME, SUBJECT_CODE, userid, reg_code, USERID) values (?, ?, ?, ?, ?, ?, ?)\r\n\r\nAs you can see same columns are repeated because of the relationship. How to fix this?","title":"Spring Data JPA only for fetch and not persist","body":"<p>I use Spring boot and Spring data jpa and connecting to DB2 for a legacy DB. My requirement is I'm adding a relationship. It works when I use query for fetching. Earlier I had to read only from these tables, but recently I needed to insert in few of the tables, and that time it is failing. Please find my table details below.</p>\n<pre><code>User -&gt; userId, name, address, regCode, subjectCode\nUserType -&gt; userId, regCode, typeCode (userId &amp; regCode are primary keys)\nRegData -&gt; regCode, subjectCode, name, description (regCode &amp; subjectCode are primary keys)\n</code></pre>\n<p>And my entity details as below.</p>\n<p><strong>User.java</strong></p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table\npublic class User implements Serializable {\n\n    @Id\n    private Long userId;\n    private String name;\n    private String address;\n    private String regCode;\n    private String subjectCode;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;regCode&quot;, referencedColumnName = &quot;REG_CODE&quot;)\n    @JoinColumn(name = &quot;userid&quot;, referencedColumnName = &quot;USERID&quot;)\n    private UserType  userType ;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumnsOrFormulas(value = {\n            @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;regCode&quot;, referencedColumnName = &quot;REG_CODE&quot;)),\n            @JoinColumnOrFormula(column = @JoinColumn(name = &quot;subjectCode&quot;, referencedColumnName = &quot;SUBJECT_CODE&quot;)) })\n    private RegData  regData ;\n}\n</code></pre>\n<p><strong>UserType.java &amp; UserTypeId.java</strong></p>\n<pre><code>@Data\n@Entity\n@Table\npublic class UserType implements Serializable {\n    @EmbeddedId\n    private UserTypeId id;\n    private int typeCode;\n}\n\n@Embeddable\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UserTypeId implements Serializable {\n\n    private Long userId;\n    private String regCode;\n}\n</code></pre>\n<p><strong>RegData.java &amp; RegDataId.java</strong></p>\n<pre><code>@Data\n@Entity\n@Table\npublic class RegData implements Serializable {\n    @EmbeddedId\n    private RegDataId id;\n    private String name\n    private String desc\n\n    @ManyToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;reg_code&quot;, referencedColumnName = &quot;REG_CODE&quot;)\n    private Registration registration;\n}\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Embeddable\npublic class RegDataId implements Serializable {\n    private String  regCode;\n    private String  subjectCode;\n}\n</code></pre>\n<p>Using <code>userRepository</code> I'm able to fetch user data along with user type and RegData. But I got a usecase where I need to insert new User to DB, along with that I need to insert new User Type also.</p>\n<p>I tried creating new user and user type and setting user type object to user and then tried calling <code>save()</code> using <code>userRepositry</code>. But it failed with DB2 responding with error 121 as the insert query had same columns repeated.</p>\n<p>What I tried was annotating the fields as Transient. Then I 'm able to save User and UserType separately. But fetching is not working. I have to do another fetch call manually to set the data.</p>\n<p>What is the best approach to save the User and UserType while fetch works fine? (I can set the RegData to user object by fetching from DB during save call.</p>\n<p><strong>UPDATE</strong></p>\n<p>Below is the insert Query I'm getting from hibernate when I try to call save()</p>\n<p><strong>Code</strong></p>\n<pre><code>int nextId = //Next Id value assigned manually\nUser user = new User()\nuser.setUserId(nextId)\n//Setting Values\nUserType type = new UserType()\nUserTypeId id = new UserTypeId();\nid.setUserId(nextId);\ntype.setId(id);\nuser.setUserType(type);\nuser.setRegData(//Getting object from DB);\nuserrepository.save(user);\n</code></pre>\n<p><strong>Generated Inert Query:</strong></p>\n<pre><code>insert into USER (REG_CODE, subject_code, NAME, SUBJECT_CODE, userid, reg_code, USERID) values (?, ?, ?, ?, ?, ?, ?)\n</code></pre>\n<p>As you can see same columns are repeated because of the relationship. How to fix this?</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":469126,"reputation":1741,"user_id":875526,"display_name":"Seb"},"score":1,"creation_date":1595836142,"post_id":63110542,"comment_id":111600524,"body_markdown":"Does this answer your question? [JPA 2.0 : Exception to use javax.validation.\\* package in JPA 2.0](https://stackoverflow.com/questions/14730329/jpa-2-0-exception-to-use-javax-validation-package-in-jpa-2-0)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14730329/jpa-2-0-exception-to-use-javax-validation-package-in-jpa-2-0\">JPA 2.0 : Exception to use javax.validation.* package in JPA 2.0</a>"}],"answers":[{"comments":[{"owner":{"account_id":14579112,"reputation":187,"user_id":10530163,"display_name":"Manujaya Premathilaka"},"score":0,"creation_date":1595836049,"post_id":63110670,"comment_id":111600489,"body_markdown":"I am using these 2 dependencies\n```\n&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.0.0.GA&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;4.0.2.GA&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n```","body":"I am using these 2 dependencies ``` &lt;dependency&gt; \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt; \t\t\t&lt;version&gt;1.0.0.GA&lt;/version&gt; \t\t&lt;/dependency&gt; \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt; \t\t\t&lt;version&gt;4.0.2.GA&lt;/version&gt; \t\t&lt;/dependency&gt; ```"},{"owner":{"account_id":14579112,"reputation":187,"user_id":10530163,"display_name":"Manujaya Premathilaka"},"score":0,"creation_date":1595836189,"post_id":63110670,"comment_id":111600545,"body_markdown":"I tried using the dependency provided by you instead of mine and it worked. Thank you so much!","body":"I tried using the dependency provided by you instead of mine and it worked. Thank you so much!"}],"tags":[],"owner":{"account_id":17722379,"reputation":2112,"user_id":12867091,"display_name":"Tashkhisi"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1595835199,"creation_date":1595835199,"answer_id":63110670,"question_id":63110542,"body_markdown":"It seems that validation-api is not in your dpendencies.\r\nAdd this to your maven dependency:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nIf you are using gradle add this one:\r\n\r\n    // https://mvnrepository.com/artifact/javax.validation/validation-api\r\n    compile group: &#39;javax.validation&#39;, name: &#39;validation-api&#39;, version: &#39;2.0.0.Final&#39;\r\n\r\n\r\n","title":"UnsatisfiedDependencyException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<p>It seems that validation-api is not in your dpendencies.\nAdd this to your maven dependency:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you are using gradle add this one:</p>\n<pre><code>// https://mvnrepository.com/artifact/javax.validation/validation-api\ncompile group: 'javax.validation', name: 'validation-api', version: '2.0.0.Final'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2393457,"reputation":53,"user_id":2092820,"display_name":"Vanyel Ashkevron"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611689628,"creation_date":1611689628,"answer_id":65908054,"question_id":63110542,"body_markdown":"If you are using SpringBoot 2.3 or later you need to specify a new Validation Starter in your POM.\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#validation-starter-no-longer-included-in-web-starters","title":"UnsatisfiedDependencyException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<p>If you are using SpringBoot 2.3 or later you need to specify a new Validation Starter in your POM.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#validation-starter-no-longer-included-in-web-starters\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#validation-starter-no-longer-included-in-web-starters</a></p>\n"},{"tags":[],"owner":{"account_id":26960182,"reputation":21,"user_id":20527960,"display_name":"Meghana S"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668673629,"creation_date":1668673629,"answer_id":74472248,"question_id":63110542,"body_markdown":"I faced this issue recently on updating to SpringBoot 2.7.4.\r\nFor me it was resolved on adding the latest springdoc-openapi-ui dependency.\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n         &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n         &lt;version&gt;1.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"UnsatisfiedDependencyException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<p>I faced this issue recently on updating to SpringBoot 2.7.4.\nFor me it was resolved on adding the latest springdoc-openapi-ui dependency.</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n     &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n     &lt;version&gt;1.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14579112,"reputation":187,"user_id":10530163,"display_name":"Manujaya Premathilaka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19249,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63110670,"answer_count":3,"score":3,"last_activity_date":1668673629,"creation_date":1595834731,"question_id":63110542,"body_markdown":"I am trying to implement a server using spring boot and jpa.\r\n\r\nI wanted to add a method to update values in the database (MySQL) and therefore, I added the method by referring [this](https://stackoverflow.com/a/52576978) answer. Since then the program does not work and throws this exception:\r\n\r\n```none\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method &#39;requestMappingHandlerAdapter&#39; parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mvcValidator&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.validation.Validator]: Factory method &#39;mvcValidator&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: javax/validation/ParameterNameProvider\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:797) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:538) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat com.app.cashier.CashierApplication.main(CashierApplication.java:12) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mvcValidator&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.validation.Validator]: Factory method &#39;mvcValidator&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: javax/validation/ParameterNameProvider\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:635) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:884) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t... 20 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.validation.Validator]: Factory method &#39;mvcValidator&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: javax/validation/ParameterNameProvider\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t... 34 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: javax/validation/ParameterNameProvider\r\n\tat org.springframework.boot.autoconfigure.validation.ValidatorAdapter.create(ValidatorAdapter.java:134) ~[spring-boot-autoconfigure-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.validation.ValidatorAdapter.getExistingOrCreate(ValidatorAdapter.java:117) ~[spring-boot-autoconfigure-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.validation.ValidatorAdapter.get(ValidatorAdapter.java:109) ~[spring-boot-autoconfigure-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.mvcValidator(WebMvcAutoConfiguration.java:458) ~[spring-boot-autoconfigure-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t... 35 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: javax.validation.ParameterNameProvider\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 44 common frames omitted\r\n```\r\n\r\nModel class :\r\n```\r\npackage com.app.cashier.model;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\nimport javax.validation.constraints.Min;\r\nimport java.util.Date;\r\n\r\n@Entity\r\npublic class Items {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;itemId&quot;)\r\n    private int itemId;\r\n\r\n    @Column(name = &quot;itemName&quot;)\r\n    private String itemName;\r\n\r\n    @Column(name = &quot;expirationDate&quot;)\r\n    private Date expirationDate;\r\n\r\n    @Column(name = &quot;price&quot;)\r\n    private float price;\r\n\r\n    @Column(name = &quot;batch&quot;)\r\n    private Date batch;\r\n\r\n    @Min(value = 0, message = &quot;Available amount is empty&quot;)\r\n    @Column(name = &quot;availableAmount&quot;)\r\n    private int availableAmount;\r\n\r\n    @Column(name = &quot;flavour&quot;)\r\n    private String flavour;\r\n\r\n    @Column(name = &quot;liter&quot;)\r\n    private float liter;\r\n\r\n    @Column(name = &quot;type&quot;)\r\n    private String type;\r\n\r\n    public Items() {\r\n    }\r\n\r\n    public int getItemId() {\r\n        return itemId;\r\n    }\r\n\r\n    public void setItemId(int itemId) {\r\n        this.itemId = itemId;\r\n    }\r\n\r\n    public String getItemName() {\r\n        return itemName;\r\n    }\r\n\r\n    public void setItemName(String itemName) {\r\n        this.itemName = itemName;\r\n    }\r\n\r\n    public Date getExpirationDate() {\r\n        return expirationDate;\r\n    }\r\n\r\n    public void setExpirationDate(Date expirationDate) {\r\n        this.expirationDate = expirationDate;\r\n    }\r\n\r\n    public float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(float price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public Date getBatch() {\r\n        return batch;\r\n    }\r\n\r\n    public void setBatch(Date batch) {\r\n        this.batch = batch;\r\n    }\r\n\r\n    public int getAvailableAmount() {\r\n        return availableAmount;\r\n    }\r\n\r\n    public void setAvailableAmount(int availableAmount) {\r\n        this.availableAmount = availableAmount;\r\n    }\r\n\r\n    public String getFlavour() {\r\n        return flavour;\r\n    }\r\n\r\n    public void setFlavour(String flavour) {\r\n        this.flavour = flavour;\r\n    }\r\n\r\n    public float getLiter() {\r\n        return liter;\r\n    }\r\n\r\n    public void setLiter(float liter) {\r\n        this.liter = liter;\r\n    }\r\n\r\n    public String getType() {\r\n        return type;\r\n    }\r\n\r\n    public void setType(String type) {\r\n        this.type = type;\r\n    }\r\n}\r\n\r\n```\r\n\r\nRepository :\r\n```\r\npackage com.app.cashier.repository;\r\n\r\nimport com.app.cashier.model.Items;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface ItemRepository extends JpaRepository&lt;Items, Integer&gt; {\r\n}\r\n```\r\n\r\nResource :\r\n```\r\npackage com.app.cashier.resource;\r\n\r\nimport com.app.cashier.model.Items;\r\nimport com.app.cashier.repository.ItemRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(value = &quot;/rest/items&quot;)\r\npublic class ItemsResource {\r\n\r\n    @Autowired\r\n    ItemRepository itemRepository;\r\n\r\n    @GetMapping(value = &quot;/all&quot;)\r\n    public List&lt;Items&gt; getAll(){\r\n        return itemRepository.findAll();\r\n    }\r\n\r\n    @PostMapping(value = &quot;/load&quot;)\r\n    public List&lt;Items&gt; persist(@RequestBody final Items item){\r\n        itemRepository.save(item);\r\n        return itemRepository.findAll();\r\n    }\r\n}\r\n```\r\n\r\nEven though I removed the `update` method, it continues throwing this exception. How can I fix this?","title":"UnsatisfiedDependencyException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<p>I am trying to implement a server using spring boot and jpa.</p>\n<p>I wanted to add a method to update values in the database (MySQL) and therefore, I added the method by referring <a href=\"https://stackoverflow.com/a/52576978\">this</a> answer. Since then the program does not work and throws this exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerAdapter' parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcValidator' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.validation.Validator]: Factory method 'mvcValidator' threw exception; nested exception is java.lang.NoClassDefFoundError: javax/validation/ParameterNameProvider\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:797) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:538) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at com.app.cashier.CashierApplication.main(CashierApplication.java:12) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcValidator' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.validation.Validator]: Factory method 'mvcValidator' threw exception; nested exception is java.lang.NoClassDefFoundError: javax/validation/ParameterNameProvider\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:635) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:884) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    ... 20 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.validation.Validator]: Factory method 'mvcValidator' threw exception; nested exception is java.lang.NoClassDefFoundError: javax/validation/ParameterNameProvider\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    ... 34 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/validation/ParameterNameProvider\n    at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.create(ValidatorAdapter.java:134) ~[spring-boot-autoconfigure-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.getExistingOrCreate(ValidatorAdapter.java:117) ~[spring-boot-autoconfigure-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.get(ValidatorAdapter.java:109) ~[spring-boot-autoconfigure-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.mvcValidator(WebMvcAutoConfiguration.java:458) ~[spring-boot-autoconfigure-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    ... 35 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.validation.ParameterNameProvider\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 44 common frames omitted\n</code></pre>\n<p>Model class :</p>\n<pre><code>package com.app.cashier.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.validation.constraints.Min;\nimport java.util.Date;\n\n@Entity\npublic class Items {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;itemId&quot;)\n    private int itemId;\n\n    @Column(name = &quot;itemName&quot;)\n    private String itemName;\n\n    @Column(name = &quot;expirationDate&quot;)\n    private Date expirationDate;\n\n    @Column(name = &quot;price&quot;)\n    private float price;\n\n    @Column(name = &quot;batch&quot;)\n    private Date batch;\n\n    @Min(value = 0, message = &quot;Available amount is empty&quot;)\n    @Column(name = &quot;availableAmount&quot;)\n    private int availableAmount;\n\n    @Column(name = &quot;flavour&quot;)\n    private String flavour;\n\n    @Column(name = &quot;liter&quot;)\n    private float liter;\n\n    @Column(name = &quot;type&quot;)\n    private String type;\n\n    public Items() {\n    }\n\n    public int getItemId() {\n        return itemId;\n    }\n\n    public void setItemId(int itemId) {\n        this.itemId = itemId;\n    }\n\n    public String getItemName() {\n        return itemName;\n    }\n\n    public void setItemName(String itemName) {\n        this.itemName = itemName;\n    }\n\n    public Date getExpirationDate() {\n        return expirationDate;\n    }\n\n    public void setExpirationDate(Date expirationDate) {\n        this.expirationDate = expirationDate;\n    }\n\n    public float getPrice() {\n        return price;\n    }\n\n    public void setPrice(float price) {\n        this.price = price;\n    }\n\n    public Date getBatch() {\n        return batch;\n    }\n\n    public void setBatch(Date batch) {\n        this.batch = batch;\n    }\n\n    public int getAvailableAmount() {\n        return availableAmount;\n    }\n\n    public void setAvailableAmount(int availableAmount) {\n        this.availableAmount = availableAmount;\n    }\n\n    public String getFlavour() {\n        return flavour;\n    }\n\n    public void setFlavour(String flavour) {\n        this.flavour = flavour;\n    }\n\n    public float getLiter() {\n        return liter;\n    }\n\n    public void setLiter(float liter) {\n        this.liter = liter;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n}\n\n</code></pre>\n<p>Repository :</p>\n<pre><code>package com.app.cashier.repository;\n\nimport com.app.cashier.model.Items;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface ItemRepository extends JpaRepository&lt;Items, Integer&gt; {\n}\n</code></pre>\n<p>Resource :</p>\n<pre><code>package com.app.cashier.resource;\n\nimport com.app.cashier.model.Items;\nimport com.app.cashier.repository.ItemRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(value = &quot;/rest/items&quot;)\npublic class ItemsResource {\n\n    @Autowired\n    ItemRepository itemRepository;\n\n    @GetMapping(value = &quot;/all&quot;)\n    public List&lt;Items&gt; getAll(){\n        return itemRepository.findAll();\n    }\n\n    @PostMapping(value = &quot;/load&quot;)\n    public List&lt;Items&gt; persist(@RequestBody final Items item){\n        itemRepository.save(item);\n        return itemRepository.findAll();\n    }\n}\n</code></pre>\n<p>Even though I removed the <code>update</code> method, it continues throwing this exception. How can I fix this?</p>\n"},{"tags":["java","jquery","spring-boot","web","websocket"],"owner":{"account_id":24498755,"reputation":11,"user_id":18414637,"display_name":"linxiaoxuan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668673578,"creation_date":1668673578,"question_id":74472240,"body_markdown":"my fornt end is website I am using jquery frame to request a websocket request at web page loads and my server is a springboot application.\r\n\r\nbut the springboot application logs sad &quot;org.springframework.web.servlet.PageNotFound : No mapping for GET&quot;\r\n\r\nThis is my code to implement the websocket request\r\n\r\n```\r\n//刷新页面时创建链接\r\n\t\t$(function(){\r\n\t\t\t//创建webSocket链接\r\n\t\t\tvar ws = new WebSocket(serverWebSocketURL + &quot;/empPoint&quot;);\r\n\t\t\t\r\n\t\t\tws.onopen = function(evt){\r\n\t\t\t\tsend(&quot;Hello world!!!&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tws.onmessage = function(evt){\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tws.onerror = function(evt){\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tws.onclose = function(evt){\r\n\t\t\t\t//关闭链路时打开\r\n\t\t\t}\r\n\t\t});\r\n```\r\nThis is my code from springboot application server\r\n\r\n```\r\npackage com.njustjjy.tpk2.endpoint;\r\n\r\nimport com.njustjjy.tpk2.config.GetHttpSessionConfig;\r\nimport lombok.extern.log4j.Log4j2;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.servlet.http.HttpSession;\r\nimport javax.websocket.*;\r\nimport javax.websocket.server.ServerEndpoint;\r\n\r\n@Log4j2\r\n@ServerEndpoint(value = &quot;/empPoint&quot;,configurator = GetHttpSessionConfig.class)\r\n@Component\r\npublic class EmpEndpoint {\r\n\r\n    //生命session对象\r\n    private Session session;\r\n    //获取session\r\n    private HttpSession httpSession;\r\n\r\n    @OnOpen\r\n    public void onOpen(Session session, EndpointConfig endpointConfig){\r\n        //将局部的session赋值到全局作用域\r\n        this.session = session;\r\n        //获取HttpSession\r\n        this.httpSession = (HttpSession) endpointConfig.getUserProperties().get(HttpSession.class.getName());\r\n\r\n    }\r\n\r\n    @OnMessage\r\n    public void onMessage(String message, Session session){\r\n        System.out.print(message);\r\n    }\r\n\r\n    @OnError\r\n    public void onError(Throwable err){\r\n        log.error(&quot;发生错误：&quot; + err);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is JavaConfig in the springboot\r\n```\r\npackage com.njustjjy.tpk2.config;\r\n\r\nimport com.njustjjy.tpk2.endpoint.EmpEndpoint;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class WebScoketConfig {\r\n    @Bean\r\n    public EmpEndpoint businessEndpoint(){\r\n        return new EmpEndpoint();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI am try some blogs but they are no any way,but I think this problem about tomcat support for websocket protocol.  Do I have any master to help me?","title":"I am using websocket protocol to request my springboot application,but heppened &quot;org.springframework.web.servlet.PageNotFound : No mapping for GET&quot;","body":"<p>my fornt end is website I am using jquery frame to request a websocket request at web page loads and my server is a springboot application.</p>\n<p>but the springboot application logs sad &quot;org.springframework.web.servlet.PageNotFound : No mapping for GET&quot;</p>\n<p>This is my code to implement the websocket request</p>\n<pre><code>//刷新页面时创建链接\n        $(function(){\n            //创建webSocket链接\n            var ws = new WebSocket(serverWebSocketURL + &quot;/empPoint&quot;);\n            \n            ws.onopen = function(evt){\n                send(&quot;Hello world!!!&quot;);\n            }\n            \n            ws.onmessage = function(evt){\n                \n            }\n            \n            ws.onerror = function(evt){\n                \n            }\n            \n            ws.onclose = function(evt){\n                //关闭链路时打开\n            }\n        });\n</code></pre>\n<p>This is my code from springboot application server</p>\n<pre><code>package com.njustjjy.tpk2.endpoint;\n\nimport com.njustjjy.tpk2.config.GetHttpSessionConfig;\nimport lombok.extern.log4j.Log4j2;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.http.HttpSession;\nimport javax.websocket.*;\nimport javax.websocket.server.ServerEndpoint;\n\n@Log4j2\n@ServerEndpoint(value = &quot;/empPoint&quot;,configurator = GetHttpSessionConfig.class)\n@Component\npublic class EmpEndpoint {\n\n    //生命session对象\n    private Session session;\n    //获取session\n    private HttpSession httpSession;\n\n    @OnOpen\n    public void onOpen(Session session, EndpointConfig endpointConfig){\n        //将局部的session赋值到全局作用域\n        this.session = session;\n        //获取HttpSession\n        this.httpSession = (HttpSession) endpointConfig.getUserProperties().get(HttpSession.class.getName());\n\n    }\n\n    @OnMessage\n    public void onMessage(String message, Session session){\n        System.out.print(message);\n    }\n\n    @OnError\n    public void onError(Throwable err){\n        log.error(&quot;发生错误：&quot; + err);\n    }\n}\n\n</code></pre>\n<p>This is JavaConfig in the springboot</p>\n<pre><code>package com.njustjjy.tpk2.config;\n\nimport com.njustjjy.tpk2.endpoint.EmpEndpoint;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class WebScoketConfig {\n    @Bean\n    public EmpEndpoint businessEndpoint(){\n        return new EmpEndpoint();\n    }\n}\n\n</code></pre>\n<p>I am try some blogs but they are no any way,but I think this problem about tomcat support for websocket protocol.  Do I have any master to help me?</p>\n"},{"tags":["java","date","rest-assured","date-formatting"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1660477509,"post_id":73351346,"comment_id":129537858,"body_markdown":"*&quot;I read it is a problem with java date format which is not able the pare old dates&quot;* -- please cite your source? No, Java can parse dates, old and new. The problem is in your code (which for some reason, you&#39;re not showing us). Side note: better to use the newer DateTime library than the old Date library, but not due to this non-issue.","body":"<i>&quot;I read it is a problem with java date format which is not able the pare old dates&quot;</i> -- please cite your source? No, Java can parse dates, old and new. The problem is in your code (which for some reason, you&#39;re not showing us). Side note: better to use the newer DateTime library than the old Date library, but not due to this non-issue."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1660478830,"post_id":73351346,"comment_id":129538159,"body_markdown":"So, the date String is part of a JSON String that you are deserializing? If so, what library are you using to deserialize the JSON?","body":"So, the date String is part of a JSON String that you are deserializing? If so, what library are you using to deserialize the JSON?"},{"owner":{"account_id":15249772,"reputation":333,"user_id":11003553,"display_name":"Noy M"},"score":0,"creation_date":1660478929,"post_id":73351346,"comment_id":129538185,"body_markdown":"I&#39;m using rest assured. \nI tried now to change to DateTime and got the same error, it happens only for the old dates:\n\nno String-argument constructor/factory method to deserialize from String value (&#39;1900-01-01T00:20:40.000+02:20:40&#39;)","body":"I&#39;m using rest assured.  I tried now to change to DateTime and got the same error, it happens only for the old dates:  no String-argument constructor/factory method to deserialize from String value (&#39;1900-01-01T00:20:40.000+02:20:40&#39;)"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1660479490,"post_id":73351346,"comment_id":129538316,"body_markdown":"That&#39;s a very weird timezone. It&#39;s off by 2 hours, 20 minutes and 40 seconds from UTC? I&#39;m not aware of any time parsing code that can handle second-offsets.","body":"That&#39;s a very weird timezone. It&#39;s off by 2 hours, 20 minutes and 40 seconds from UTC? I&#39;m not aware of any time parsing code that can handle second-offsets."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1660479640,"post_id":73351346,"comment_id":129538347,"body_markdown":"I share @knittl’s suspicion: some library you are using (directly or indirectly) does not expect seconds in the offset, `+02:20:40`, as is customary in old dates.","body":"I share @knittl’s suspicion: some library you are using (directly or indirectly) does not expect seconds in the offset, <code>+02:20:40</code>, as is customary in old dates."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1660479805,"post_id":73351346,"comment_id":129538383,"body_markdown":"I strongly recommend you don’t use `Date`. That class is poorly designed and long outdated. Instead use `OffsetDateTime` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). I don’t expect it in itself to solve your problem, but I guess it’s worth trying.","body":"I strongly recommend you don’t use <code>Date</code>. That class is poorly designed and long outdated. Instead use <code>OffsetDateTime</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. I don’t expect it in itself to solve your problem, but I guess it’s worth trying."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1660479961,"post_id":73351346,"comment_id":129538417,"body_markdown":"Both the outdated `SimpleDateFormat` class and the classes of java.time can parse dates in 1901 and earlier (though some funny results come out of it sometimes).","body":"Both the outdated <code>SimpleDateFormat</code> class and the classes of java.time can parse dates in 1901 and earlier (though some funny results come out of it sometimes)."},{"owner":{"account_id":15249772,"reputation":333,"user_id":11003553,"display_name":"Noy M"},"score":1,"creation_date":1660479996,"post_id":73351346,"comment_id":129538421,"body_markdown":"Thank you all for the answers, I&#39;ll try with a valid offset and get back with an answer. Also, I will stop using `Date` and will change my dates to `OffsetDateTime` or `DateTime`","body":"Thank you all for the answers, I&#39;ll try with a valid offset and get back with an answer. Also, I will stop using <code>Date</code> and will change my dates to <code>OffsetDateTime</code> or <code>DateTime</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1660480773,"post_id":73351346,"comment_id":129538546,"body_markdown":"According to [timeanddate.com](https://www.timeanddate.com/time/zone/israel/jerusalem) Jerusalem (in today’s Israel) was at the mentioned offset until Israel Standard Time was introduced from 1918. They refer to the old time as JMT, probably for Jerusalem Mean Time, that is, the mean solar time in Jerusalem.","body":"According to <a href=\"https://www.timeanddate.com/time/zone/israel/jerusalem\" rel=\"nofollow noreferrer\">timeanddate.com</a> Jerusalem (in today’s Israel) was at the mentioned offset until Israel Standard Time was introduced from 1918. They refer to the old time as JMT, probably for Jerusalem Mean Time, that is, the mean solar time in Jerusalem."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1660844287,"post_id":73351346,"comment_id":129635381,"body_markdown":"Correction: Jerusalem on the border between Israel and the occupied territories.","body":"Correction: Jerusalem on the border between Israel and the occupied territories."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1660484756,"post_id":73351656,"comment_id":129539391,"body_markdown":"While it sounds like a way through, I would prefer to parse directly into an `OffsetDateTime` or other date-time type. I would not give up on this possibility until having researched it a lot more.","body":"While it sounds like a way through, I would prefer to parse directly into an <code>OffsetDateTime</code> or other date-time type. I would not give up on this possibility until having researched it a lot more."}],"tags":[],"owner":{"account_id":26060293,"reputation":10,"user_id":19761763,"display_name":"Thanh Nguyen Chi Song"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660480384,"creation_date":1660480384,"answer_id":73351656,"question_id":73351346,"body_markdown":"It should follow steps bellow:\r\n 1. Read it as String (It can work)\r\n \r\n\r\n    private String  published\r\n\r\n 2. List item\r\n 3. Define the date format\r\n 4. Parse it to date by Java\r\n\r\nI think it easier to make your application that can work","title":"Parse an old date in JAVA","body":"<p>It should follow steps bellow:</p>\n<ol>\n<li><p>Read it as String (It can work)</p>\n<p>private String  published</p>\n</li>\n<li><p>List item</p>\n</li>\n<li><p>Define the date format</p>\n</li>\n<li><p>Parse it to date by Java</p>\n</li>\n</ol>\n<p>I think it easier to make your application that can work</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660803926,"creation_date":1660802936,"answer_id":73398191,"question_id":73351346,"body_markdown":"# *java.time*\r\n\r\nNever use the terrible legacy date-time classes such as `Date` &amp; `Calendar`. Use only their successors, the modern *java.time* classes defined in JSR 310. \r\n\r\n# Offset-from-UTC\r\n\r\nYour input is text in standard [ISO 8601][1] format. That text contains a date, a time-of-day, and a number of hours-minutes-seconds offset from the temporal prime meridian of UTC. \r\n\r\n# `OffsetDateTime`\r\n\r\nThe appropriate class for such an input is [`OffsetDateTime`][2]. That class can directly parse inputs in ISO 8601 format. So no need to define a formatting pattern.\r\n\r\n    String input = &quot;1901-01-01T00:20:40.000+02:20:40&quot; ;\r\n    OffsetDateTime odt = OffsetDateTime.parse( input ) ;\r\n\r\nAdjust to an offset of zero.\r\n\r\n    Instant instant = odt.toInstant() ;\r\n\r\nSee this [code run live at Ideone.com][3].\r\n\r\n&gt;odt.toString(): 1901-01-01T00:20:40+02:20:40\r\n&gt;\r\n&gt;instant.toString(): 1900-12-31T22:00:00Z\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [3]: https://ideone.com/lhRG7v","title":"Parse an old date in JAVA","body":"<h1><em>java.time</em></h1>\n<p>Never use the terrible legacy date-time classes such as <code>Date</code> &amp; <code>Calendar</code>. Use only their successors, the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h1>Offset-from-UTC</h1>\n<p>Your input is text in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format. That text contains a date, a time-of-day, and a number of hours-minutes-seconds offset from the temporal prime meridian of UTC.</p>\n<h1><code>OffsetDateTime</code></h1>\n<p>The appropriate class for such an input is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>. That class can directly parse inputs in ISO 8601 format. So no need to define a formatting pattern.</p>\n<pre><code>String input = &quot;1901-01-01T00:20:40.000+02:20:40&quot; ;\nOffsetDateTime odt = OffsetDateTime.parse( input ) ;\n</code></pre>\n<p>Adjust to an offset of zero.</p>\n<pre><code>Instant instant = odt.toInstant() ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/lhRG7v\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<blockquote>\n<p>odt.toString(): 1901-01-01T00:20:40+02:20:40</p>\n<p>instant.toString(): 1900-12-31T22:00:00Z</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668685793,"post_id":74472224,"comment_id":131468780,"body_markdown":"Wrong. The offset is *the* valid offset for Jerusalem back then.","body":"Wrong. The offset is <i>the</i> valid offset for Jerusalem back then."},{"owner":{"account_id":15249772,"reputation":333,"user_id":11003553,"display_name":"Noy M"},"score":0,"creation_date":1668778977,"post_id":74472224,"comment_id":131495371,"body_markdown":"02:20:40? are you sure?","body":"02:20:40? are you sure?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668786177,"post_id":74472224,"comment_id":131498033,"body_markdown":"I gave the link already in a comment under your question. I am repeating it here: [Time Changes in Jerusalem Over the Years](https://www.timeanddate.com/time/zone/israel/jerusalem). In the dropdown select &quot;1900 -- 1924&quot;. Read (quote): *1900 — 1917  No changes, UTC +2:20:40 hours all of the period*.","body":"I gave the link already in a comment under your question. I am repeating it here: <a href=\"https://www.timeanddate.com/time/zone/israel/jerusalem\" rel=\"nofollow noreferrer\">Time Changes in Jerusalem Over the Years</a>. In the dropdown select &quot;1900 -- 1924&quot;. Read (quote): <i>1900 — 1917  No changes, UTC +2:20:40 hours all of the period</i>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668786383,"post_id":74472224,"comment_id":131498109,"body_markdown":"It depends o how you define &quot;valid&quot;, though. Your string attempts to be in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601#Time_offsets_from_UTC) format, but the offset is not valid in ISO 8601. According to the link it should have format `&#177;[hh]:[mm], &#177;[hh][mm], or &#177;[hh]`. So ISO 8601 is in conflict with reality when it comes to historic dates and times.","body":"It depends o how you define &quot;valid&quot;, though. Your string attempts to be in <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Time_offsets_from_UTC\" rel=\"nofollow noreferrer\">ISO 8601</a> format, but the offset is not valid in ISO 8601. According to the link it should have format <code>&#177;[hh]:[mm], &#177;[hh][mm], or &#177;[hh]</code>. So ISO 8601 is in conflict with reality when it comes to historic dates and times."}],"tags":[],"owner":{"account_id":15249772,"reputation":333,"user_id":11003553,"display_name":"Noy M"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668673497,"creation_date":1668673497,"answer_id":74472224,"question_id":73351346,"body_markdown":" &quot;1901-01-01T00:20:40.000+**02:20:40**&quot; is not a valid offset -  2 hours, 20 minutes, and 40 seconds from UTC","title":"Parse an old date in JAVA","body":"<p>&quot;1901-01-01T00:20:40.000+<strong>02:20:40</strong>&quot; is not a valid offset -  2 hours, 20 minutes, and 40 seconds from UTC</p>\n"}],"owner":{"account_id":15249772,"reputation":333,"user_id":11003553,"display_name":"Noy M"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74472224,"answer_count":3,"score":1,"last_activity_date":1668673497,"creation_date":1660477360,"question_id":73351346,"body_markdown":"I&#39;m trying to parse &quot;1901-01-01T00:20:40.000+02:20:40&quot; date but I&#39;m getting the following error:\r\n\r\nCannot deserialize value of type `java.util.Date` from String &quot;1901-01-01T00:20:40.000+02:20:40&quot;: not a valid representation (error: Failed to parse Date value &#39;1901-01-01T00:20:40.000+02:20:40&#39;: Cannot parse date &quot;1901-01-01T00:20:40.000+02:20:40&quot;:\r\n\r\n[I read it is a problem with java date format which is not able the pare old dates][1], is there something that I can do in order to fix this issue? \r\n\r\n**---- edit ----**\r\n\r\nuntil now, i deserialized lots of different dates from the last 20 years, and they all worked fine.\r\nIt is a very simple object:\r\n\r\n    public class Record extends Docs {\r\n        public Date published;\r\n    }\r\n\r\nand\r\n\r\n        results =\r\n                given().\r\n                        config(config).\r\n                        log().ifValidationFails().\r\n                        when().\r\n                        get(lastUrlComponent).\r\n                        then().\r\n                        log().ifValidationFails().\r\n                        statusCode(HttpStatus.SC_OK).\r\n                        contentType(ContentType.JSON).\r\n                        assertThat().body(matchesJsonSchemaInClasspath(jsonSchemaInClasspath)).\r\n                        extract().\r\n                        response().as(resultsClass);\r\n    }\r\n\r\n\r\n  [1]: https://www.google.com/search?q=java%20date%20start%20of%20epoch&amp;oq=java%20date%20start%20ep&amp;aqs=chrome.1.69i57j0i22i30j0i390.6620j0j7&amp;sourceid=chrome&amp;ie=UTF-8","title":"Parse an old date in JAVA","body":"<p>I'm trying to parse &quot;1901-01-01T00:20:40.000+02:20:40&quot; date but I'm getting the following error:</p>\n<p>Cannot deserialize value of type <code>java.util.Date</code> from String &quot;1901-01-01T00:20:40.000+02:20:40&quot;: not a valid representation (error: Failed to parse Date value '1901-01-01T00:20:40.000+02:20:40': Cannot parse date &quot;1901-01-01T00:20:40.000+02:20:40&quot;:</p>\n<p><a href=\"https://www.google.com/search?q=java%20date%20start%20of%20epoch&amp;oq=java%20date%20start%20ep&amp;aqs=chrome.1.69i57j0i22i30j0i390.6620j0j7&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">I read it is a problem with java date format which is not able the pare old dates</a>, is there something that I can do in order to fix this issue?</p>\n<p><strong>---- edit ----</strong></p>\n<p>until now, i deserialized lots of different dates from the last 20 years, and they all worked fine.\nIt is a very simple object:</p>\n<pre><code>public class Record extends Docs {\n    public Date published;\n}\n</code></pre>\n<p>and</p>\n<pre><code>    results =\n            given().\n                    config(config).\n                    log().ifValidationFails().\n                    when().\n                    get(lastUrlComponent).\n                    then().\n                    log().ifValidationFails().\n                    statusCode(HttpStatus.SC_OK).\n                    contentType(ContentType.JSON).\n                    assertThat().body(matchesJsonSchemaInClasspath(jsonSchemaInClasspath)).\n                    extract().\n                    response().as(resultsClass);\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1668585295,"post_id":74456682,"comment_id":131438403,"body_markdown":"Hello, one observation is that this code may send messages more than once: if the system crashes after it has sent a bunch of messages, but before taking note of the `successIds` and committing the transaction with the DB. Make sure the receiver of these messages can handle duplicates!!!","body":"Hello, one observation is that this code may send messages more than once: if the system crashes after it has sent a bunch of messages, but before taking note of the <code>successIds</code> and committing the transaction with the DB. Make sure the receiver of these messages can handle duplicates!!!"},{"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"score":0,"creation_date":1668585542,"post_id":74456682,"comment_id":131438505,"body_markdown":"You are righ. But the system is idempotent, so dublicates are allowed, it is ok.","body":"You are righ. But the system is idempotent, so dublicates are allowed, it is ok."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1668585652,"post_id":74456682,"comment_id":131438536,"body_markdown":"Idempotent, good! Then, you may want to look at the &quot;message to self pattern&quot;. This way you do not delete the db records synchronously. Just iterate over them and send those messages to Kafka. **BUT** add a different consumer that consumes the same messages sent by the code in the question; this consumer will be responsible to delete the records from the DB.","body":"Idempotent, good! Then, you may want to look at the &quot;message to self pattern&quot;. This way you do not delete the db records synchronously. Just iterate over them and send those messages to Kafka. <b>BUT</b> add a different consumer that consumes the same messages sent by the code in the question; this consumer will be responsible to delete the records from the DB."},{"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"score":0,"creation_date":1668594400,"post_id":74456682,"comment_id":131441565,"body_markdown":"Well, that sound good to have a separate consumer to delete messages from the db. Though if that consumer read the messages from kafka, how those messages will be read by a real consumer for business logic? \nIn general, I look for a solution without extra consumer, if possible.","body":"Well, that sound good to have a separate consumer to delete messages from the db. Though if that consumer read the messages from kafka, how those messages will be read by a real consumer for business logic?  In general, I look for a solution without extra consumer, if possible."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1668601859,"post_id":74456682,"comment_id":131444232,"body_markdown":"Hehe, Kafka topics are not queues! Each message is persistent (for the configured time) and is available to all the consumer groups. Just make sure the consumer that deletes from the DB is in a different consumer group than the one executing the rest of your logic. Consumer group id is a simple string!","body":"Hehe, Kafka topics are not queues! Each message is persistent (for the configured time) and is available to all the consumer groups. Just make sure the consumer that deletes from the DB is in a different consumer group than the one executing the rest of your logic. Consumer group id is a simple string!"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1668602049,"post_id":74456682,"comment_id":131444295,"body_markdown":"(This is actually a pattern for implementing event-driven systems; one component publishes a message, e.g. &quot;user created&quot;, and possibly many observers consume it and do their own thing - one observer may create the user&#39;s home folder in the file system, another send a notification email, another initialize user&#39;s DB structures etc)","body":"(This is actually a pattern for implementing event-driven systems; one component publishes a message, e.g. &quot;user created&quot;, and possibly many observers consume it and do their own thing - one observer may create the user&#39;s home folder in the file system, another send a notification email, another initialize user&#39;s DB structures etc)"},{"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"score":0,"creation_date":1668671661,"post_id":74456682,"comment_id":131463657,"body_markdown":"Nikos, thx, for showing this direction to me. I will need some time to learn this appoach.","body":"Nikos, thx, for showing this direction to me. I will need some time to learn this appoach."},{"owner":{"account_id":1664196,"reputation":1353,"user_id":1531945,"accept_rate":50,"display_name":"Konstantin Pelepelin"},"score":0,"creation_date":1670235206,"post_id":74456682,"comment_id":131820939,"body_markdown":"I&#39;m new to kafka, but manuals say you should configure `max.in.flight.requests.per.connection` to 1 to keep ordering, it looks like in that case you can wait for `SendResult`  asynchronously as in answer below.","body":"I&#39;m new to kafka, but manuals say you should configure <code>max.in.flight.requests.per.connection</code> to 1 to keep ordering, it looks like in that case you can wait for <code>SendResult</code>  asynchronously as in answer below."}],"answers":[{"tags":[],"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668671787,"creation_date":1668669212,"answer_id":74471466,"question_id":74456682,"body_markdown":"The following solution below give me much faster productivity (~ 100 times on my test data) comparing with `listenableFuture.get` posted in the question. Here I add a `callback` to `listenableFuture` where in `onSuccess` method I put the successfully sent ids into the list. After the iteration over the list, I call `flush()` on `kafkaTemplate`. \r\n\r\n    @Override\r\n    public List&lt;String&gt; sendMessages(String topicName, List&lt;T&gt; data) {\r\n        List&lt;String&gt; successIds = new ArrayList&lt;&gt;();\r\n        data.forEach(value -&gt;\r\n                kafkaTemplate.send(topicName, value.getSiebelId(), value)\r\n                        .addCallback(new ListenableFutureCallback&lt;&gt;() {\r\n                            @Override\r\n                            public void onSuccess(SendResult&lt;String, Object&gt; result) {\r\n                                successIds.add(value.getId());\r\n                            }\r\n\r\n                            @Override\r\n                            public void onFailure(Throwable exception) {\r\n                                log.warn(&quot;todo&quot;);\r\n                            }\r\n                        }));\r\n        kafkaTemplate.flush();\r\n        return successIds;\r\n    }\r\n\r\nThe output with `successIds` of this solution however might differ from the one in the question. Say, I have 5 messages to send. If 3th message is not delivered (say due to problem with the network), the 4th, 5th will still be sent to the broker and might be delivered (if the network problem is fixed). So `successIds={1,2,4,5}`. Later on `3th` messages will be sent with a new list iteration and therefore might be delivered after `5th` message. So it delivers faster, give the guaranty that no message is lost, but will not give 100% guaranty of keeping the order. This is not ideal, but maybe I will try to use it as a compromise.\r\n\r\nIn the same situation, the solution with `listenableFuture.get` will not even send 4th, 5th messages, and gets `successIds={1,2}`. Not delivered messages `3th, 4th, 5th` will be sent in the proper order in a new list iteration.\r\n\r\nI could not explain properly why I gain much productivity with the presented solution. I guess `kafkaTemplate.flush()` somehow do asych stuff, while `listenableFuture.get` put the request in the sequence to wait the corresponding responses. \r\n\r\nP.S. Interesting to note, that if I use the same code but remove line `kafkaTemplate.flush()` and instead I initialize bean `kafkaTemplate` with `autoflash=true`, then it works again slowly. ","title":"Sending messages from the database to Kafka with the guaranty of not losing them and keeping the order","body":"<p>The following solution below give me much faster productivity (~ 100 times on my test data) comparing with <code>listenableFuture.get</code> posted in the question. Here I add a <code>callback</code> to <code>listenableFuture</code> where in <code>onSuccess</code> method I put the successfully sent ids into the list. After the iteration over the list, I call <code>flush()</code> on <code>kafkaTemplate</code>.</p>\n<pre><code>@Override\npublic List&lt;String&gt; sendMessages(String topicName, List&lt;T&gt; data) {\n    List&lt;String&gt; successIds = new ArrayList&lt;&gt;();\n    data.forEach(value -&gt;\n            kafkaTemplate.send(topicName, value.getSiebelId(), value)\n                    .addCallback(new ListenableFutureCallback&lt;&gt;() {\n                        @Override\n                        public void onSuccess(SendResult&lt;String, Object&gt; result) {\n                            successIds.add(value.getId());\n                        }\n\n                        @Override\n                        public void onFailure(Throwable exception) {\n                            log.warn(&quot;todo&quot;);\n                        }\n                    }));\n    kafkaTemplate.flush();\n    return successIds;\n}\n</code></pre>\n<p>The output with <code>successIds</code> of this solution however might differ from the one in the question. Say, I have 5 messages to send. If 3th message is not delivered (say due to problem with the network), the 4th, 5th will still be sent to the broker and might be delivered (if the network problem is fixed). So <code>successIds={1,2,4,5}</code>. Later on <code>3th</code> messages will be sent with a new list iteration and therefore might be delivered after <code>5th</code> message. So it delivers faster, give the guaranty that no message is lost, but will not give 100% guaranty of keeping the order. This is not ideal, but maybe I will try to use it as a compromise.</p>\n<p>In the same situation, the solution with <code>listenableFuture.get</code> will not even send 4th, 5th messages, and gets <code>successIds={1,2}</code>. Not delivered messages <code>3th, 4th, 5th</code> will be sent in the proper order in a new list iteration.</p>\n<p>I could not explain properly why I gain much productivity with the presented solution. I guess <code>kafkaTemplate.flush()</code> somehow do asych stuff, while <code>listenableFuture.get</code> put the request in the sequence to wait the corresponding responses.</p>\n<p>P.S. Interesting to note, that if I use the same code but remove line <code>kafkaTemplate.flush()</code> and instead I initialize bean <code>kafkaTemplate</code> with <code>autoflash=true</code>, then it works again slowly.</p>\n"}],"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668671787,"creation_date":1668584075,"question_id":74456682,"body_markdown":"I need to send data from database to `Kafka`. Any data should not be lost and the message order should be strictly kept as they are fetched from the database. After the messages are sent, I need to remove them from the database. Once completed, this task will be repeated again and again (it is scheduled via `@Scheduler`).\r\n\r\nI have come to the conclusion that the guaranty of not losing any message and keeping the order of them requires the following: before sending a new message, I need to make sure that the previous one was successfully delivered to the Kafka broker (`Acks=all`, `min.insync.replicas=2`). If a message is not delivered to the broker, there is no point to send the next one. As a result, the solution turns out to be synchronous. Here is my code example:\r\n\r\n    public List&lt;String&gt; sendMessages(String topicName, List&lt;Object&gt; data) {\r\n        List&lt;String&gt; successIds = new ArrayList&lt;&gt;();\r\n        for (Object value : data) {\r\n            ListenableFuture&lt;SendResult&lt;String, Object&gt;&gt; listenableFuture = kafkaTemplate.send(topicName, value.getSiebelId(), value);\r\n            try {\r\n                listenableFuture.get(3, TimeUnit.SECONDS);\r\n            } catch (Exception e) {\r\n                log.warn(&quot;todo&quot;);\r\n                break;\r\n            }\r\n            successIds.add(value.getId());\r\n        }\r\n        return successIds;\r\n    }\r\n\r\n`successIds` contains the id of messages which are successfully delivered to the broker. Next, I use them to delete the corresponding data in the database. If during the operation of sending messages from the `List&lt;Object&gt;` data some message was not delivered to the broker for some reason, then we end the iteration earlier and delete exactly what managed to get into `successIds`. In the next iteration, we will start with those messages that were not included in the `successIds`, because they have not been removed from the database.\r\n\r\nFrom this solution requires the rejection of asynchrony, which will certainly lead to a decrease in the performance. I already tested it and it works very slowly. I am new to `Kafka` so would like an expert opinion. Is this solution optimal?","title":"Sending messages from the database to Kafka with the guaranty of not losing them and keeping the order","body":"<p>I need to send data from database to <code>Kafka</code>. Any data should not be lost and the message order should be strictly kept as they are fetched from the database. After the messages are sent, I need to remove them from the database. Once completed, this task will be repeated again and again (it is scheduled via <code>@Scheduler</code>).</p>\n<p>I have come to the conclusion that the guaranty of not losing any message and keeping the order of them requires the following: before sending a new message, I need to make sure that the previous one was successfully delivered to the Kafka broker (<code>Acks=all</code>, <code>min.insync.replicas=2</code>). If a message is not delivered to the broker, there is no point to send the next one. As a result, the solution turns out to be synchronous. Here is my code example:</p>\n<pre><code>public List&lt;String&gt; sendMessages(String topicName, List&lt;Object&gt; data) {\n    List&lt;String&gt; successIds = new ArrayList&lt;&gt;();\n    for (Object value : data) {\n        ListenableFuture&lt;SendResult&lt;String, Object&gt;&gt; listenableFuture = kafkaTemplate.send(topicName, value.getSiebelId(), value);\n        try {\n            listenableFuture.get(3, TimeUnit.SECONDS);\n        } catch (Exception e) {\n            log.warn(&quot;todo&quot;);\n            break;\n        }\n        successIds.add(value.getId());\n    }\n    return successIds;\n}\n</code></pre>\n<p><code>successIds</code> contains the id of messages which are successfully delivered to the broker. Next, I use them to delete the corresponding data in the database. If during the operation of sending messages from the <code>List&lt;Object&gt;</code> data some message was not delivered to the broker for some reason, then we end the iteration earlier and delete exactly what managed to get into <code>successIds</code>. In the next iteration, we will start with those messages that were not included in the <code>successIds</code>, because they have not been removed from the database.</p>\n<p>From this solution requires the rejection of asynchrony, which will certainly lead to a decrease in the performance. I already tested it and it works very slowly. I am new to <code>Kafka</code> so would like an expert opinion. Is this solution optimal?</p>\n"},{"tags":["java","android","xml","android-linearlayout","visibility"],"comments":[{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1668679064,"post_id":74471775,"comment_id":131466289,"body_markdown":"I bet Exclusive_Login is your activity and you add a fragment component (i.e. Fragment_Home) to it, right?","body":"I bet Exclusive_Login is your activity and you add a fragment component (i.e. Fragment_Home) to it, right?"},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1668679509,"post_id":74471775,"comment_id":131466475,"body_markdown":"In case it is a fragment component, try to locate the fragment first. HomeFragment fragment = (HomeFragment) getFragmentManager().findFragmentById(R.id.Fragment_Home);","body":"In case it is a fragment component, try to locate the fragment first. HomeFragment fragment = (HomeFragment) getFragmentManager().findFragmentById(R.id.Fragment_Home);"}],"answers":[{"tags":[],"owner":{"display_name":"user15660680"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668671510,"creation_date":1668671510,"answer_id":74471882,"question_id":74471775,"body_markdown":"  \r\nTry with declare the layout gobally\r\n````\r\nLinearLayout  btn_publicar;\r\n\r\n btn_publicar = (LinearLayout) findViewById(R.id.btn_publicar);\r\n````\r\nput it on onViewCreated.\r\nAnd in the function\r\n````\r\npublic void showbutton(){\r\n        btn_publicar.setVisibility(View.VISIBLE);\r\n    }\r\n````","title":"&#39;void android.widget.LinearLayout.setVisibility(int)&#39; on a null object reference when i want to display a LinearLayout","body":"<p>Try with declare the layout gobally</p>\n<pre><code>LinearLayout  btn_publicar;\n\n btn_publicar = (LinearLayout) findViewById(R.id.btn_publicar);\n</code></pre>\n<p>put it on onViewCreated.\nAnd in the function</p>\n<pre><code>public void showbutton(){\n        btn_publicar.setVisibility(View.VISIBLE);\n    }\n</code></pre>\n"}],"owner":{"account_id":18476117,"reputation":3,"user_id":13459616,"display_name":"11itachikun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668671510,"creation_date":1668670886,"question_id":74471775,"body_markdown":"I have a problem with a button that modifies the visibility of a LinearLayout\r\nI always get the error\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.LinearLayout.setVisibility(int)&#39; on a null object reference\r\n\r\nI have this function that creates a variable of the LinearLayout that I want to display \r\n&gt; Exclusive_Login.java\r\n\r\n```\r\npublic void showbutton(){\r\n        LinearLayout btn_publicar = (LinearLayout) findViewById(R.id.btn_publicar);\r\n        btn_publicar.setVisibility(View.VISIBLE);\r\n    }\r\n```\r\nAnd it runs on this line\r\n&gt; Exclusive_Login.java\r\n```\r\nini_ses.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String obtusuario = usuario.getText().toString();\r\n                String obtcontra = contrasena.getText().toString();\r\n                if (obtusuario.equals(&quot;ADMIN&quot;) &amp;&amp; obtcontra.equals(&quot;admin&quot;)){\r\n                    showbutton();\r\n                    Toast.makeText(getBaseContext(),&quot;Datos Correctos&quot;,Toast.LENGTH_LONG).show();\r\n                    //Intent accion = new Intent(getBaseContext(), BarraNavegacionDesplegable.class);\r\n                    //startActivity(accion);\r\n\r\n\r\n                }else{\r\n                    Toast.makeText(getBaseContext(),&quot;Introduzca correctamente los datos&quot;,Toast.LENGTH_LONG).show();\r\n                }\r\n\r\n            }\r\n        });\r\n```\r\nThis is Fragment_Home.xml where I reference the LinearLayout\r\n&gt; Fragment_Home.xml\r\n```\r\n&lt;LinearLayout\r\n    android:id=&quot;@+id/btn_publicar&quot;\r\n    android:visibility=&quot;invisible&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;60dp&quot;\r\n    android:layout_margin=&quot;5dp&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:background=&quot;@drawable/public_contenedor1&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView1&quot;\r\n        android:layout_width=&quot;40dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        app:srcCompat=&quot;@drawable/lapiz1&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/publicnotice1&quot;\r\n        android:layout_width=&quot;280dp&quot;\r\n        android:layout_height=&quot;45dp&quot;\r\n        android:background=&quot;@drawable/style_bottom&quot;\r\n        android:text=&quot;Crear publicaciones&quot;\r\n        android:textAllCaps=&quot;false&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;15sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n","title":"&#39;void android.widget.LinearLayout.setVisibility(int)&#39; on a null object reference when i want to display a LinearLayout","body":"<p>I have a problem with a button that modifies the visibility of a LinearLayout\nI always get the error\njava.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.LinearLayout.setVisibility(int)' on a null object reference</p>\n<p>I have this function that creates a variable of the LinearLayout that I want to display</p>\n<blockquote>\n<p>Exclusive_Login.java</p>\n</blockquote>\n<pre><code>public void showbutton(){\n        LinearLayout btn_publicar = (LinearLayout) findViewById(R.id.btn_publicar);\n        btn_publicar.setVisibility(View.VISIBLE);\n    }\n</code></pre>\n<p>And it runs on this line</p>\n<blockquote>\n<p>Exclusive_Login.java</p>\n</blockquote>\n<pre><code>ini_ses.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String obtusuario = usuario.getText().toString();\n                String obtcontra = contrasena.getText().toString();\n                if (obtusuario.equals(&quot;ADMIN&quot;) &amp;&amp; obtcontra.equals(&quot;admin&quot;)){\n                    showbutton();\n                    Toast.makeText(getBaseContext(),&quot;Datos Correctos&quot;,Toast.LENGTH_LONG).show();\n                    //Intent accion = new Intent(getBaseContext(), BarraNavegacionDesplegable.class);\n                    //startActivity(accion);\n\n\n                }else{\n                    Toast.makeText(getBaseContext(),&quot;Introduzca correctamente los datos&quot;,Toast.LENGTH_LONG).show();\n                }\n\n            }\n        });\n</code></pre>\n<p>This is Fragment_Home.xml where I reference the LinearLayout</p>\n<blockquote>\n<p>Fragment_Home.xml</p>\n</blockquote>\n<pre><code>&lt;LinearLayout\n    android:id=&quot;@+id/btn_publicar&quot;\n    android:visibility=&quot;invisible&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;60dp&quot;\n    android:layout_margin=&quot;5dp&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:gravity=&quot;center&quot;\n    android:background=&quot;@drawable/public_contenedor1&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView1&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_marginRight=&quot;20dp&quot;\n        app:srcCompat=&quot;@drawable/lapiz1&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/publicnotice1&quot;\n        android:layout_width=&quot;280dp&quot;\n        android:layout_height=&quot;45dp&quot;\n        android:background=&quot;@drawable/style_bottom&quot;\n        android:text=&quot;Crear publicaciones&quot;\n        android:textAllCaps=&quot;false&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;15sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","rest","maven"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668670872,"post_id":74471696,"comment_id":131463425,"body_markdown":"Since 20th Oct. 2022, 2.7.5 is latest `RELEASE` version. When there is no `SNAPSHOT`, `M` (mile stone) or `RC` (release candidate) in the &quot;version string&quot;, you can assume you have a &quot;release&quot;(d) version...","body":"Since 20th Oct. 2022, 2.7.5 is latest <code>RELEASE</code> version. When there is no <code>SNAPSHOT</code>, <code>M</code> (mile stone) or <code>RC</code> (release candidate) in the &quot;version string&quot;, you can assume you have a &quot;release&quot;(d) version..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668671025,"post_id":74471696,"comment_id":131463460,"body_markdown":"(all) Spring blog (category: releases): https://spring.io/blog/category/releases, spring-boot, github Release notes: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes","body":"(all) Spring blog (category: releases): <a href=\"https://spring.io/blog/category/releases\" rel=\"nofollow noreferrer\">spring.io/blog/category/releases</a>, spring-boot, github Release notes: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668671309,"post_id":74471696,"comment_id":131463540,"body_markdown":"The most recent version can be identified by: https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter-parent Also via the supported version (which is very important): https://spring.io/projects/spring-boot#support","body":"The most recent version can be identified by: <a href=\"https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter-parent\" rel=\"nofollow noreferrer\">search.maven.org/artifact/org.springframework.boot/&hellip;</a> Also via the supported version (which is very important): <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#support</a>"}],"answers":[{"tags":[],"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668670622,"creation_date":1668670622,"answer_id":74471728,"question_id":74471696,"body_markdown":"Yes, it&#39;s the latest stable version on Spring boot. You can see that it&#39;s widely used in the Usege section\r\n[![Maven Artifactory][2]][2]\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/0GRdf.png","title":"Which is the stable version of Spring boot in maven","body":"<p>Yes, it's the latest stable version on Spring boot. You can see that it's widely used in the Usege section\n<a href=\"https://i.stack.imgur.com/0GRdf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0GRdf.png\" alt=\"Maven Artifactory\" /></a></p>\n"},{"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668671386,"post_id":74471795,"comment_id":131463562,"body_markdown":"Spring Boot 3.0.0 will be released on 24.November (https://github.com/spring-projects/spring-boot/milestones)...Very important Spring Boot 3.0.0 requires JDK17+","body":"Spring Boot 3.0.0 will be released on 24.November (<a href=\"https://github.com/spring-projects/spring-boot/milestones)...Very\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/milestones)...Very</a> important Spring Boot 3.0.0 requires JDK17+"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1668672630,"post_id":74471795,"comment_id":131463955,"body_markdown":"And it uses Jakarta EE and there are a few breaking changes. This is why it might be worth to consider for new projects although it isn&#39;t _yet_ released as one doesn&#39;t have to do all the migration work.","body":"And it uses Jakarta EE and there are a few breaking changes. This is why it might be worth to consider for new projects although it isn&#39;t <i>yet</i> released as one doesn&#39;t have to do all the migration work."}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668671484,"creation_date":1668671006,"answer_id":74471795,"question_id":74471696,"body_markdown":"As the time of writing: Yes, 2.7.5 is the latest _release_ version of Spring Boot.\r\n\r\nHowever, it should be noted that Spring Boot 3.0.0 should also be coming out this year.The current latest version there (as of the time of writing is 3.0.0-RC2 as [seen in the release notes](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes).\r\nThis version is a Release Candidate so while it should be almost ready, there might still be a few (breaking) changes and fixes.\r\n\r\nIf you are starting a new project (especially if it won&#39;t release that soon), you _might_ want to use Spring Boot 3 (RC2) now and switch to the proper release version once it comes out.\r\nThis way, you can use Spring 6/Spring Boot 3 without having the migration work.\r\n\r\nIf you want to use Release Candidates, you would need to add the milestone repository to your build configuration (e.g. pom.xml):\r\n```xml\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;spring-milestones&lt;/id&gt;\r\n        &lt;url&gt;https://repo.spring.io/milestone/&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```","title":"Which is the stable version of Spring boot in maven","body":"<p>As the time of writing: Yes, 2.7.5 is the latest <em>release</em> version of Spring Boot.</p>\n<p>However, it should be noted that Spring Boot 3.0.0 should also be coming out this year.The current latest version there (as of the time of writing is 3.0.0-RC2 as <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes\" rel=\"nofollow noreferrer\">seen in the release notes</a>.\nThis version is a Release Candidate so while it should be almost ready, there might still be a few (breaking) changes and fixes.</p>\n<p>If you are starting a new project (especially if it won't release that soon), you <em>might</em> want to use Spring Boot 3 (RC2) now and switch to the proper release version once it comes out.\nThis way, you can use Spring 6/Spring Boot 3 without having the migration work.</p>\n<p>If you want to use Release Candidates, you would need to add the milestone repository to your build configuration (e.g. pom.xml):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/milestone/&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668671484,"creation_date":1668670416,"question_id":74471696,"body_markdown":"The latest version of spring boot is 2.7.5 from the Maven Repo is released .\r\n\r\nhttps://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter\r\n\r\nIs spring boot 2.7.5 version stable version ? Can we use the sprint 2.7.5 version in projects .On what basis we can consider that this version is released and we can go ahead and start using the projects .Could anyone suggest on this please .","title":"Which is the stable version of Spring boot in maven","body":"<p>The latest version of spring boot is 2.7.5 from the Maven Repo is released .</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter</a></p>\n<p>Is spring boot 2.7.5 version stable version ? Can we use the sprint 2.7.5 version in projects .On what basis we can consider that this version is released and we can go ahead and start using the projects .Could anyone suggest on this please .</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668617196,"post_id":74463766,"comment_id":131450650,"body_markdown":"What are you using, Firestore or the Realtime Database?","body":"What are you using, Firestore or the Realtime Database?"},{"owner":{"account_id":26623099,"reputation":13,"user_id":20241570,"display_name":"Paulo Trevor Regacho"},"score":0,"creation_date":1668617276,"post_id":74463766,"comment_id":131450690,"body_markdown":"Im only using realtime database","body":"Im only using realtime database"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668617628,"post_id":74463766,"comment_id":131450821,"body_markdown":"So do you need to perform a query based on two properties? For example, when an offer can be seen by only two users. Something like a join?","body":"So do you need to perform a query based on two properties? For example, when an offer can be seen by only two users. Something like a join?"},{"owner":{"account_id":26623099,"reputation":13,"user_id":20241570,"display_name":"Paulo Trevor Regacho"},"score":0,"creation_date":1668618596,"post_id":74463766,"comment_id":131451189,"body_markdown":"Yes, only two users can see the item, the one that post the item and the offerer","body":"Yes, only two users can see the item, the one that post the item and the offerer"},{"owner":{"account_id":26623099,"reputation":13,"user_id":20241570,"display_name":"Paulo Trevor Regacho"},"score":0,"creation_date":1668618931,"post_id":74463766,"comment_id":131451323,"body_markdown":"You can see my reference that i added in my question","body":"You can see my reference that i added in my question"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668621882,"post_id":74463766,"comment_id":131452375,"body_markdown":"And the last question. So do you want to get all trades where `offereeName` equals `Juan` and `offererName` equals `Pedro`, right?","body":"And the last question. So do you want to get all trades where <code>offereeName</code> equals <code>Juan</code> and <code>offererName</code> equals <code>Pedro</code>, right?"},{"owner":{"account_id":26623099,"reputation":13,"user_id":20241570,"display_name":"Paulo Trevor Regacho"},"score":0,"creation_date":1668622461,"post_id":74463766,"comment_id":131452593,"body_markdown":"Yes that is right","body":"Yes that is right"}],"answers":[{"comments":[{"owner":{"account_id":26623099,"reputation":13,"user_id":20241570,"display_name":"Paulo Trevor Regacho"},"score":0,"creation_date":1668687974,"post_id":74471832,"comment_id":131469541,"body_markdown":"Thank you for the idea i will work on this unfortunately i cant vote for now but thank you for helping","body":"Thank you for the idea i will work on this unfortunately i cant vote for now but thank you for helping"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668703538,"post_id":74471832,"comment_id":131476059,"body_markdown":"Ok, give it a try and tell me if it works.","body":"Ok, give it a try and tell me if it works."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668703571,"post_id":74471832,"comment_id":131476075,"body_markdown":"You&#39;ll be able to do that when you have at least 15 points of reputation.","body":"You&#39;ll be able to do that when you have at least 15 points of reputation."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1669983687,"post_id":74471832,"comment_id":131772620,"body_markdown":"Hey Paulo. Have you tried my solution above, does it work?","body":"Hey Paulo. Have you tried my solution above, does it work?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668671172,"creation_date":1668671172,"answer_id":74471832,"question_id":74463766,"body_markdown":"Unfortunately, the Firebase Realtime database does not support queries on multiple properties. It only supports queries on a single-child property. So there is no way you can get all trades where `offereeName` equals `Juan` and `offererName` equals `Pedro` in a single go.\r\n\r\nTo overcome this situation you&#39;ll have to create an extra field that should hold the value of both fields. So your node should look like this:\r\n\r\n    db-root\r\n     |\r\n     --- Trade\r\n          |\r\n          --- -NH-Y...mH9e\r\n                |\r\n                --- offereeName: &quot;Juan&quot;\r\n                |\r\n                --- offererName: &quot;Pedro&quot;\r\n                |\r\n                --- offereeName_offererName: &quot;Juan_Pedro&quot;\r\n\r\nAs you can see, the `offereeName_offererName` filed combines the values that you want to filter on. So a query that looks like this:\r\n\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference tradeRef = db.child(&quot;Trade&quot;);\r\n    Query query = tradeRef.orderByChild(&quot;offereeName_offererName&quot;).equalTo(&quot;Juan_Pedro&quot;);\r\n\r\nWill work perfectly fine.\r\n\r\nUnlike the Firebase Realtime Database, [Cloud Firestore][1] allows [compound queries][2]. This means that a query such as the one below is allowed without the need to create a combined field:\r\n\r\n    tradeRef.whereEqualTo(&quot;offereeName&quot;, &quot;Juan&quot;).whereEqualTo(&quot;offererName&quot;, &quot;Pedro&quot;);\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/\r\n  [2]: https://firebase.google.com/docs/firestore/query-data/queries#compound_queries","title":"Android Studio: Make the only two user see only the value in firebase realtime database and the others will not","body":"<p>Unfortunately, the Firebase Realtime database does not support queries on multiple properties. It only supports queries on a single-child property. So there is no way you can get all trades where <code>offereeName</code> equals <code>Juan</code> and <code>offererName</code> equals <code>Pedro</code> in a single go.</p>\n<p>To overcome this situation you'll have to create an extra field that should hold the value of both fields. So your node should look like this:</p>\n<pre><code>db-root\n |\n --- Trade\n      |\n      --- -NH-Y...mH9e\n            |\n            --- offereeName: &quot;Juan&quot;\n            |\n            --- offererName: &quot;Pedro&quot;\n            |\n            --- offereeName_offererName: &quot;Juan_Pedro&quot;\n</code></pre>\n<p>As you can see, the <code>offereeName_offererName</code> filed combines the values that you want to filter on. So a query that looks like this:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference tradeRef = db.child(&quot;Trade&quot;);\nQuery query = tradeRef.orderByChild(&quot;offereeName_offererName&quot;).equalTo(&quot;Juan_Pedro&quot;);\n</code></pre>\n<p>Will work perfectly fine.</p>\n<p>Unlike the Firebase Realtime Database, <a href=\"https://firebase.google.com/docs/firestore/\" rel=\"nofollow noreferrer\">Cloud Firestore</a> allows <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#compound_queries\" rel=\"nofollow noreferrer\">compound queries</a>. This means that a query such as the one below is allowed without the need to create a combined field:</p>\n<pre><code>tradeRef.whereEqualTo(&quot;offereeName&quot;, &quot;Juan&quot;).whereEqualTo(&quot;offererName&quot;, &quot;Pedro&quot;);\n</code></pre>\n"}],"owner":{"account_id":26623099,"reputation":13,"user_id":20241570,"display_name":"Paulo Trevor Regacho"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668671208,"creation_date":1668615009,"question_id":74463766,"body_markdown":"I&#39;m trying to make an app that can trade items. Here is the situation, the current user will post an item then the other user will offer the item then if the current user likes the offered item he will take the offer. When the offer is taken I want the current user and other users to see the item. In short two people can only see the post and the other will not. The poster and the offerer can only see their transaction. \r\n\r\nThe poster and the offer can only see the post if the poster takes the offer\r\n\r\nI use this reference but all users can see the post [1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Btcc7.jpg","title":"Android Studio: Make the only two user see only the value in firebase realtime database and the others will not","body":"<p>I'm trying to make an app that can trade items. Here is the situation, the current user will post an item then the other user will offer the item then if the current user likes the offered item he will take the offer. When the offer is taken I want the current user and other users to see the item. In short two people can only see the post and the other will not. The poster and the offerer can only see their transaction.</p>\n<p>The poster and the offer can only see the post if the poster takes the offer</p>\n<p>I use this reference but all users can see the post <a href=\"https://i.stack.imgur.com/Btcc7.jpg\" rel=\"nofollow noreferrer\">1</a></p>\n"},{"tags":["java","owasp"],"comments":[{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":1,"creation_date":1668670615,"post_id":74471693,"comment_id":131463338,"body_markdown":"Welcome to Stack Overflow! Please remember that Stack Overflow is not your favourite Java forum, but rather a question and answer site for all programming related questions. Thus, please always include the tag of the language you are programming in, that way other users familiar with that language can more easily find your question. Take the [tour] and read up on [ask] to get more information on how this site works, then [edit] the question with the relevant tags.","body":"Welcome to Stack Overflow! Please remember that Stack Overflow is not your favourite Java forum, but rather a question and answer site for all programming related questions. Thus, please always include the tag of the language you are programming in, that way other users familiar with that language can more easily find your question. Take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read up on <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to get more information on how this site works, then <a href=\"https://stackoverflow.com/posts/74471693/edit\">edit</a> the question with the relevant tags."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1668698910,"post_id":74471693,"comment_id":131474191,"body_markdown":"Can you please [edit] your question and add a [mcve]?","body":"Can you please <a href=\"https://stackoverflow.com/posts/74471693/edit\">edit</a> your question and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"owner":{"account_id":26959543,"reputation":1,"user_id":20527405,"display_name":"Yogesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668670755,"creation_date":1668670371,"question_id":74471693,"body_markdown":"```none\r\nCaused by: org.owasp.esapi.errors.ConfigurationException: java.lang.ClassNotFoundException: org.owasp.esapi.logging.java.JavaLogFactory  LogFactory class (org.owasp.esapi.logging.java.JavaLogFactory ) must be in class path.\r\n\tat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:108)\r\n\tat org.owasp.esapi.ESAPI.logFactory(ESAPI.java:139)\r\n\tat org.owasp.esapi.ESAPI.getLogger(ESAPI.java:155)\r\n\tat org.owasp.esapi.reference.DefaultEncoder.&lt;init&gt;\r\n(DefaultEncoder.java:83)\r\n\tat org.owasp.esapi.reference.DefaultEncoder.&lt;init&gt;(DefaultEncoder.java:106)\r\n\tat org.owasp.esapi.reference.DefaultEncoder.getInstance(DefaultEncoder.java:67)\r\n\t... 58 more\r\nCaused by: java.lang.ClassNotFoundException: org.owasp.esapi.logging.java.JavaLogFactory \r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\r\n```\r\n\r\n\r\n\r\nI have ESAPI.properties in resourse with these values. \r\n\r\n```\r\nESAPI.printProperties=true\r\nLogLevel=INFO\r\nESAPI.Encoder=org.owasp.esapi.reference.DefaultEncoder\r\nEncoder.AllowMultipleEncoding=false\r\nEncoder.AllowMixedEncoding=false\r\nEncoder.DefaultCodecList=HTMLEntityCodec,PercentCodec,JavaScriptCodec\r\n\r\nLogger.ApplicationName=My Test Application\r\nLogger.LogEncodingRequired=false\r\nLogger.LogApplicationName=true\r\nLogger.LogServerIP=true\r\nLogger.LogFileName=ESAPI_logging_file\r\nLogger.MaxLogFileSize=10000000\r\nLogger.UserInfo=true\r\nLogger.ClientInfo=true\r\nESAPI.Logger=org.owasp.esapi.logging.java.JavaLogFactory \r\n```\r\n\r\nAnd created the  esapi-java-logging.properties as mentioned as [in this url](https://stackoverflow.com/questions/68305702/esapi-getting-classnotfoundexception-with-esapi-2-2-3-1)\r\n \r\nThis is what I&#39;m getting when I try to change the owasp.esapi version for vulnerabilities issues. And I have also changed the spring version to 5.2.30. ","title":"I have changed owasp.esapi 2.2.0.0 to 2.5.0.0 And I&#39;m getting this org.owasp.esapi.logging.java.JavaLogFactory","body":"<pre class=\"lang-none prettyprint-override\"><code>Caused by: org.owasp.esapi.errors.ConfigurationException: java.lang.ClassNotFoundException: org.owasp.esapi.logging.java.JavaLogFactory  LogFactory class (org.owasp.esapi.logging.java.JavaLogFactory ) must be in class path.\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:108)\n    at org.owasp.esapi.ESAPI.logFactory(ESAPI.java:139)\n    at org.owasp.esapi.ESAPI.getLogger(ESAPI.java:155)\n    at org.owasp.esapi.reference.DefaultEncoder.&lt;init&gt;\n(DefaultEncoder.java:83)\n    at org.owasp.esapi.reference.DefaultEncoder.&lt;init&gt;(DefaultEncoder.java:106)\n    at org.owasp.esapi.reference.DefaultEncoder.getInstance(DefaultEncoder.java:67)\n    ... 58 more\nCaused by: java.lang.ClassNotFoundException: org.owasp.esapi.logging.java.JavaLogFactory \n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n\n</code></pre>\n<p>I have ESAPI.properties in resourse with these values.</p>\n<pre><code>ESAPI.printProperties=true\nLogLevel=INFO\nESAPI.Encoder=org.owasp.esapi.reference.DefaultEncoder\nEncoder.AllowMultipleEncoding=false\nEncoder.AllowMixedEncoding=false\nEncoder.DefaultCodecList=HTMLEntityCodec,PercentCodec,JavaScriptCodec\n\nLogger.ApplicationName=My Test Application\nLogger.LogEncodingRequired=false\nLogger.LogApplicationName=true\nLogger.LogServerIP=true\nLogger.LogFileName=ESAPI_logging_file\nLogger.MaxLogFileSize=10000000\nLogger.UserInfo=true\nLogger.ClientInfo=true\nESAPI.Logger=org.owasp.esapi.logging.java.JavaLogFactory \n</code></pre>\n<p>And created the  esapi-java-logging.properties as mentioned as <a href=\"https://stackoverflow.com/questions/68305702/esapi-getting-classnotfoundexception-with-esapi-2-2-3-1\">in this url</a></p>\n<p>This is what I'm getting when I try to change the owasp.esapi version for vulnerabilities issues. And I have also changed the spring version to 5.2.30.</p>\n"},{"tags":["java",".net","r"],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1305704585,"post_id":2297003,"comment_id":6988494,"body_markdown":"Sorry for the downvote, but this is technically no longer correct.","body":"Sorry for the downvote, but this is technically no longer correct."},{"owner":{"account_id":54503,"reputation":98938,"user_id":163053,"accept_rate":84,"display_name":"Shane"},"score":0,"creation_date":1305761516,"post_id":2297003,"comment_id":7003793,"body_markdown":"Thanks @Joachim.  I had seen renjin a while ago, but forgot about this question.  :)","body":"Thanks @Joachim.  I had seen renjin a while ago, but forgot about this question.  :)"}],"tags":[],"owner":{"account_id":54503,"reputation":98938,"user_id":163053,"accept_rate":84,"display_name":"Shane"},"comment_count":2,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1668670639,"creation_date":1266590057,"answer_id":2297003,"question_id":2296694,"body_markdown":"A pure Java implementation of R: https://www.renjin.org/\r\n\r\n[**JRI**][1] allows you to call R from any Java program, so any language on the JVM should be able to call the JRI jars.  See my example of how to use this in this question: [R from within Java][2].  As an example, there is a clojure library that is currently being developed around JRI by [Joel Boehland][3]: [**Rincanter**][4] ([read about it here][5]).\r\n\r\n\r\n  [1]: http://www.rforge.net/JRI/\r\n  [2]: https://stackoverflow.com/questions/2180235/r-from-within-java\r\n  [3]: http://joelboehland.com/\r\n  [4]: http://github.com/jolby/rincanter\r\n  [5]: http://data-sorcery.org/category/rincanter/","title":"Is there an R implementation for Java or .NET?","body":"<p>A pure Java implementation of R: <a href=\"https://www.renjin.org/\" rel=\"nofollow noreferrer\">https://www.renjin.org/</a></p>\n<p><a href=\"http://www.rforge.net/JRI/\" rel=\"nofollow noreferrer\"><strong>JRI</strong></a> allows you to call R from any Java program, so any language on the JVM should be able to call the JRI jars.  See my example of how to use this in this question: <a href=\"https://stackoverflow.com/questions/2180235/r-from-within-java\">R from within Java</a>.  As an example, there is a clojure library that is currently being developed around JRI by <a href=\"http://joelboehland.com/\" rel=\"nofollow noreferrer\">Joel Boehland</a>: <a href=\"http://github.com/jolby/rincanter\" rel=\"nofollow noreferrer\"><strong>Rincanter</strong></a> (<a href=\"http://data-sorcery.org/category/rincanter/\" rel=\"nofollow noreferrer\">read about it here</a>).</p>\n"},{"tags":[],"owner":{"account_id":104423,"reputation":10502,"user_id":279194,"display_name":"Ian Fiske"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1266983749,"creation_date":1266899204,"answer_id":2316106,"question_id":2296694,"body_markdown":"If you needs stats on the pure JVM, you might try Incanter (www.incanter.org).  It&#39;s an R-like library for Clojure, which brings lispy functional programming to the JVM.  It looks like a really cool start-up with some potential.  They have a pretty active user community already on their google group.","title":"Is there an R implementation for Java or .NET?","body":"<p>If you needs stats on the pure JVM, you might try Incanter (www.incanter.org).  It's an R-like library for Clojure, which brings lispy functional programming to the JVM.  It looks like a really cool start-up with some potential.  They have a pretty active user community already on their google group.</p>\n"},{"comments":[{"owner":{"account_id":10716462,"reputation":585,"user_id":7886897,"accept_rate":19,"display_name":"Luckylukee"},"score":0,"creation_date":1521264734,"post_id":5832647,"comment_id":85667492,"body_markdown":"Does REngine support &#39;imputeTS&#39; package in R?","body":"Does REngine support &#39;imputeTS&#39; package in R?"}],"tags":[],"owner":{"account_id":744671,"reputation":156,"user_id":731140,"display_name":"Alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1304083516,"creation_date":1304083516,"answer_id":5832647,"question_id":2296694,"body_markdown":"Renjin is a pure-JVM implementation of the R language.\r\nIt&#39;s very much under development and not production ready, but making good progress.\r\n\r\nhttp://code.google.com/p/renjin","title":"Is there an R implementation for Java or .NET?","body":"<p>Renjin is a pure-JVM implementation of the R language.\nIt's very much under development and not production ready, but making good progress.</p>\n\n<p><a href=\"http://code.google.com/p/renjin\" rel=\"noreferrer\">http://code.google.com/p/renjin</a></p>\n"},{"tags":[],"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448896338,"creation_date":1448895922,"answer_id":34001635,"question_id":2296694,"body_markdown":"There are 2 that I know of.\r\n\r\n[http://www.renjin.org/][1] - Renjin\r\n\r\n[https://github.com/bedatadriven/renjin][2] - Renjin\r\n\r\nand...\r\n\r\n[https://github.com/allr/purdue-fastr][3] - FastR\r\n\r\n[https://bitbucket.org/allr/fastr][4] - FastR\r\n\r\n\r\n  [1]: http://www.renjin.org/\r\n  [2]: https://github.com/bedatadriven/renjin\r\n  [3]: https://github.com/allr/purdue-fastr\r\n  [4]: https://bitbucket.org/allr/fastr","title":"Is there an R implementation for Java or .NET?","body":"<p>There are 2 that I know of.</p>\n\n<p><a href=\"http://www.renjin.org/\" rel=\"nofollow\">http://www.renjin.org/</a> - Renjin</p>\n\n<p><a href=\"https://github.com/bedatadriven/renjin\" rel=\"nofollow\">https://github.com/bedatadriven/renjin</a> - Renjin</p>\n\n<p>and...</p>\n\n<p><a href=\"https://github.com/allr/purdue-fastr\" rel=\"nofollow\">https://github.com/allr/purdue-fastr</a> - FastR</p>\n\n<p><a href=\"https://bitbucket.org/allr/fastr\" rel=\"nofollow\">https://bitbucket.org/allr/fastr</a> - FastR</p>\n"},{"tags":[],"owner":{"account_id":125486,"reputation":2893,"user_id":321302,"accept_rate":100,"display_name":"Steves"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539696375,"creation_date":1539696375,"answer_id":52836544,"question_id":2296694,"body_markdown":"[FastR][1] is a [GraalVM][2] based implementation of R. It runs on any JVM, but with GraalVM you get extra performance with the Graal compiler and Truffle framework.\r\n\r\nOn top of running existing R scripts, it has some additional features w.r.t. embeddability in JVM applications and interoperability with JVM and other GraalVM languages (including JavaScript, Ruby, Python 3).\r\n\r\nMore details in https://medium.com/graalvm/faster-r-with-fastr-4b8db0e0dceb\r\n\r\n  [1]: https://github.com/oracle/fastr\r\n  [2]: http://www.graalvm.org/","title":"Is there an R implementation for Java or .NET?","body":"<p><a href=\"https://github.com/oracle/fastr\" rel=\"nofollow noreferrer\">FastR</a> is a <a href=\"http://www.graalvm.org/\" rel=\"nofollow noreferrer\">GraalVM</a> based implementation of R. It runs on any JVM, but with GraalVM you get extra performance with the Graal compiler and Truffle framework.</p>\n\n<p>On top of running existing R scripts, it has some additional features w.r.t. embeddability in JVM applications and interoperability with JVM and other GraalVM languages (including JavaScript, Ruby, Python 3).</p>\n\n<p>More details in <a href=\"https://medium.com/graalvm/faster-r-with-fastr-4b8db0e0dceb\" rel=\"nofollow noreferrer\">https://medium.com/graalvm/faster-r-with-fastr-4b8db0e0dceb</a></p>\n"}],"owner":{"account_id":98615,"reputation":1206,"user_id":266819,"accept_rate":66,"display_name":"tk."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3091,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":5832647,"answer_count":5,"score":15,"last_activity_date":1668670639,"creation_date":1266587430,"question_id":2296694,"body_markdown":"Is there Java or .NET version of R?\r\n(like Jython / IronPython for the Python language)\r\n\r\nI guess some R-packages which use C or Fortran may not run on Java/.NET version of R, but as long as pure R code can be run, it must be great.\r\n","title":"Is there an R implementation for Java or .NET?","body":"<p>Is there Java or .NET version of R?\n(like Jython / IronPython for the Python language)</p>\n\n<p>I guess some R-packages which use C or Fortran may not run on Java/.NET version of R, but as long as pure R code can be run, it must be great.</p>\n"},{"tags":["java","selenium","selenium-webdriver","drag-and-drop","selenium-chromedriver"],"comments":[{"owner":{"account_id":6836018,"reputation":803,"user_id":5257981,"display_name":"kaweesha"},"score":0,"creation_date":1593075592,"post_id":62571462,"comment_id":110654286,"body_markdown":"Does this answer your question? [Why drag and drop is not working in Selenium Webdriver?](https://stackoverflow.com/questions/39436870/why-drag-and-drop-is-not-working-in-selenium-webdriver)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39436870/why-drag-and-drop-is-not-working-in-selenium-webdriver\">Why drag and drop is not working in Selenium Webdriver?</a>"},{"owner":{"account_id":3850681,"reputation":2684,"user_id":3190953,"accept_rate":62,"display_name":"Wilfred Clement"},"score":0,"creation_date":1593079275,"post_id":62571462,"comment_id":110656249,"body_markdown":"Also check [this](https://stackoverflow.com/questions/62569044/webdriver-drag-and-drop-does-not-work-on-the-page/62569809#62569809)","body":"Also check <a href=\"https://stackoverflow.com/questions/62569044/webdriver-drag-and-drop-does-not-work-on-the-page/62569809#62569809\">this</a>"}],"answers":[{"comments":[{"owner":{"account_id":18927482,"reputation":21,"user_id":13810275,"display_name":"Sri"},"score":0,"creation_date":1593416536,"post_id":62574134,"comment_id":110762515,"body_markdown":"https://react-beautiful-dnd.netlify.app/iframe.html?id=single-vertical-list--basic  Source Element-----&gt;&quot;//*[text()=&#39;Sometimes life is scary and dark&#39;]&quot;, toElement ----&gt;&quot;//*[text()=&#39;Sucking at something is the first step towards being sorta good at something.&#39;]&quot;,                          Its not working on this site,Could you please help me.","body":"<a href=\"https://react-beautiful-dnd.netlify.app/iframe.html?id=single-vertical-list--basic\" rel=\"nofollow noreferrer\">react-beautiful-dnd.netlify.app/&hellip;</a>  Source Element-----&gt;&quot;//*[text()=&#39;Sometimes life is scary and dark&#39;]&quot;, toElement ----&gt;&quot;//*[text()=&#39;Sucking at something is the first step towards being sorta good at something.&#39;]&quot;,                          Its not working on this site,Could you please help me."},{"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"score":0,"creation_date":1593422102,"post_id":62574134,"comment_id":110765244,"body_markdown":"Now it&#39;s working, I have tried different methods, this one is working, it&#39;s too long for a comment, I have updated my answer. Let me know about your result.","body":"Now it&#39;s working, I have tried different methods, this one is working, it&#39;s too long for a comment, I have updated my answer. Let me know about your result."},{"owner":{"account_id":18927482,"reputation":21,"user_id":13810275,"display_name":"Sri"},"score":0,"creation_date":1593671222,"post_id":62574134,"comment_id":110862592,"body_markdown":"its working for me too, but when tried here it is not working https://artoftesting.com/samplesiteforselenium","body":"its working for me too, but when tried here it is not working <a href=\"https://artoftesting.com/samplesiteforselenium\" rel=\"nofollow noreferrer\">artoftesting.com/samplesiteforselenium</a>"},{"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"score":0,"creation_date":1593671712,"post_id":62574134,"comment_id":110862758,"body_markdown":"In this case, you can use the second part from my answer (using JSExecutor)","body":"In this case, you can use the second part from my answer (using JSExecutor)"}],"tags":[],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593422166,"creation_date":1593084030,"answer_id":62574134,"question_id":62571462,"body_markdown":"**This is drag and drop functionality using Actions**\r\n\r\n    public void dragAndDrop(WebElement from, WebElement to) {\r\n            Actions action = new Actions(driver);\r\n            action.dragAndDrop(from,to).perform();\r\n        }\r\n\r\n**This is using JSExecutor:**\r\n\r\n    public void dragAndDrop(WebElement from, WebElement to) {\r\n            JavascriptExecutor js = (JavascriptExecutor)driver;\r\n            js.executeScript(&quot;function createEvent(typeOfEvent) {\\n&quot; + &quot;var event =document.createEvent(\\&quot;CustomEvent\\&quot;);\\n&quot;\r\n                            + &quot;event.initCustomEvent(typeOfEvent,true, true, null);\\n&quot; + &quot;event.dataTransfer = {\\n&quot; + &quot;data: {},\\n&quot;\r\n                            + &quot;setData: function (key, value) {\\n&quot; + &quot;this.data[key] = value;\\n&quot; + &quot;},\\n&quot;\r\n                            + &quot;getData: function (key) {\\n&quot; + &quot;return this.data[key];\\n&quot; + &quot;}\\n&quot; + &quot;};\\n&quot; + &quot;return event;\\n&quot;\r\n                            + &quot;}\\n&quot; + &quot;\\n&quot; + &quot;function dispatchEvent(element, event,transferData) {\\n&quot;\r\n                            + &quot;if (transferData !== undefined) {\\n&quot; + &quot;event.dataTransfer = transferData;\\n&quot; + &quot;}\\n&quot;\r\n                            + &quot;if (element.dispatchEvent) {\\n&quot; + &quot;element.dispatchEvent(event);\\n&quot;\r\n                            + &quot;} else if (element.fireEvent) {\\n&quot; + &quot;element.fireEvent(\\&quot;on\\&quot; + event.type, event);\\n&quot; + &quot;}\\n&quot;\r\n                            + &quot;}\\n&quot; + &quot;\\n&quot; + &quot;function simulateHTML5DragAndDrop(element, destination) {\\n&quot;\r\n                            + &quot;var dragStartEvent =createEvent(&#39;dragstart&#39;);\\n&quot; + &quot;dispatchEvent(element, dragStartEvent);\\n&quot;\r\n                            + &quot;var dropEvent = createEvent(&#39;drop&#39;);\\n&quot;\r\n                            + &quot;dispatchEvent(destination, dropEvent,dragStartEvent.dataTransfer);\\n&quot;\r\n                            + &quot;var dragEndEvent = createEvent(&#39;dragend&#39;);\\n&quot;\r\n                            + &quot;dispatchEvent(element, dragEndEvent,dropEvent.dataTransfer);\\n&quot; + &quot;}\\n&quot; + &quot;\\n&quot;\r\n                            + &quot;var source = arguments[0];\\n&quot; + &quot;var destination = arguments[1];\\n&quot;\r\n                            + &quot;simulateHTML5DragAndDrop(source,destination);&quot;, from, to);\r\n        }\r\n        \r\n\r\n**UPDATE:**\r\n\r\n            WebElement a = driver.findElement(By.cssSelector(&quot;a:nth-child(1)&quot;));\r\n            WebElement b = driver.findElement(By.cssSelector(&quot;a:nth-child(2)&quot;));\r\n    \r\n            int x = b.getLocation().x;\r\n            int y = b.getLocation().y;\r\n    \r\n            Actions actions = new Actions(driver);\r\n            actions.moveToElement(a)\r\n                    .pause(Duration.ofSeconds(1))\r\n                    .clickAndHold(a)\r\n                    .pause(Duration.ofSeconds(1))\r\n                    .moveByOffset(x, y)\r\n                    .moveToElement(b)\r\n                    .moveByOffset(x,y)\r\n                    .pause(Duration.ofSeconds(1))\r\n                    .release().build().perform();\r\n ","title":"Selenium Drag and drop not working with Action methods, Is there any alterative","body":"<p><strong>This is drag and drop functionality using Actions</strong></p>\n<pre><code>public void dragAndDrop(WebElement from, WebElement to) {\n        Actions action = new Actions(driver);\n        action.dragAndDrop(from,to).perform();\n    }\n</code></pre>\n<p><strong>This is using JSExecutor:</strong></p>\n<pre><code>public void dragAndDrop(WebElement from, WebElement to) {\n        JavascriptExecutor js = (JavascriptExecutor)driver;\n        js.executeScript(&quot;function createEvent(typeOfEvent) {\\n&quot; + &quot;var event =document.createEvent(\\&quot;CustomEvent\\&quot;);\\n&quot;\n                        + &quot;event.initCustomEvent(typeOfEvent,true, true, null);\\n&quot; + &quot;event.dataTransfer = {\\n&quot; + &quot;data: {},\\n&quot;\n                        + &quot;setData: function (key, value) {\\n&quot; + &quot;this.data[key] = value;\\n&quot; + &quot;},\\n&quot;\n                        + &quot;getData: function (key) {\\n&quot; + &quot;return this.data[key];\\n&quot; + &quot;}\\n&quot; + &quot;};\\n&quot; + &quot;return event;\\n&quot;\n                        + &quot;}\\n&quot; + &quot;\\n&quot; + &quot;function dispatchEvent(element, event,transferData) {\\n&quot;\n                        + &quot;if (transferData !== undefined) {\\n&quot; + &quot;event.dataTransfer = transferData;\\n&quot; + &quot;}\\n&quot;\n                        + &quot;if (element.dispatchEvent) {\\n&quot; + &quot;element.dispatchEvent(event);\\n&quot;\n                        + &quot;} else if (element.fireEvent) {\\n&quot; + &quot;element.fireEvent(\\&quot;on\\&quot; + event.type, event);\\n&quot; + &quot;}\\n&quot;\n                        + &quot;}\\n&quot; + &quot;\\n&quot; + &quot;function simulateHTML5DragAndDrop(element, destination) {\\n&quot;\n                        + &quot;var dragStartEvent =createEvent('dragstart');\\n&quot; + &quot;dispatchEvent(element, dragStartEvent);\\n&quot;\n                        + &quot;var dropEvent = createEvent('drop');\\n&quot;\n                        + &quot;dispatchEvent(destination, dropEvent,dragStartEvent.dataTransfer);\\n&quot;\n                        + &quot;var dragEndEvent = createEvent('dragend');\\n&quot;\n                        + &quot;dispatchEvent(element, dragEndEvent,dropEvent.dataTransfer);\\n&quot; + &quot;}\\n&quot; + &quot;\\n&quot;\n                        + &quot;var source = arguments[0];\\n&quot; + &quot;var destination = arguments[1];\\n&quot;\n                        + &quot;simulateHTML5DragAndDrop(source,destination);&quot;, from, to);\n    }\n    \n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<pre><code>        WebElement a = driver.findElement(By.cssSelector(&quot;a:nth-child(1)&quot;));\n        WebElement b = driver.findElement(By.cssSelector(&quot;a:nth-child(2)&quot;));\n\n        int x = b.getLocation().x;\n        int y = b.getLocation().y;\n\n        Actions actions = new Actions(driver);\n        actions.moveToElement(a)\n                .pause(Duration.ofSeconds(1))\n                .clickAndHold(a)\n                .pause(Duration.ofSeconds(1))\n                .moveByOffset(x, y)\n                .moveToElement(b)\n                .moveByOffset(x,y)\n                .pause(Duration.ofSeconds(1))\n                .release().build().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23503509,"reputation":53,"user_id":17553090,"display_name":"Kishan Godhani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668670353,"creation_date":1668670353,"answer_id":74471689,"question_id":62571462,"body_markdown":"I tried this one solution it&#39;s working fine on Selenium Automation. \r\n\r\nThe modified Code is here.\r\n\r\n    \r\n        WebElement a = driver.findElement(By.cssSelector(&quot;&quot;));\r\n        WebElement b = driver.findElement(By.cssSelector(&quot;&quot;));\r\n\r\n        int x = a.getLocation().x;\r\n        System.out.println(&quot;Location of X : &quot; +x);\r\n        int y = a.getLocation().y;\r\n        System.out.println(&quot;Location of Y : &quot; +y);\r\n\r\n        System.out.println(&quot;Location of A : &quot; +a.getLocation().x + &quot; &quot; + a.getLocation().y);\r\n\r\n        Actions actions = new Actions(driver);\r\n        actions.moveToElement(a)\r\n                .pause(Duration.ofSeconds(5))\r\n                .clickAndHold(a)\r\n                .pause(Duration.ofSeconds(10))\r\n                .moveByOffset(x, y)\r\n                .moveToElement(b)\r\n                .moveByOffset(x,y)\r\n                .pause(Duration.ofSeconds(5))\r\n                .release().build().perform();`","title":"Selenium Drag and drop not working with Action methods, Is there any alterative","body":"<p>I tried this one solution it's working fine on Selenium Automation.</p>\n<p>The modified Code is here.</p>\n<pre><code>    WebElement a = driver.findElement(By.cssSelector(&quot;&quot;));\n    WebElement b = driver.findElement(By.cssSelector(&quot;&quot;));\n\n    int x = a.getLocation().x;\n    System.out.println(&quot;Location of X : &quot; +x);\n    int y = a.getLocation().y;\n    System.out.println(&quot;Location of Y : &quot; +y);\n\n    System.out.println(&quot;Location of A : &quot; +a.getLocation().x + &quot; &quot; + a.getLocation().y);\n\n    Actions actions = new Actions(driver);\n    actions.moveToElement(a)\n            .pause(Duration.ofSeconds(5))\n            .clickAndHold(a)\n            .pause(Duration.ofSeconds(10))\n            .moveByOffset(x, y)\n            .moveToElement(b)\n            .moveByOffset(x,y)\n            .pause(Duration.ofSeconds(5))\n            .release().build().perform();`\n</code></pre>\n"}],"owner":{"account_id":18927482,"reputation":21,"user_id":13810275,"display_name":"Sri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1668670353,"creation_date":1593075021,"question_id":62571462,"body_markdown":" 1. Drag and Drop Selenium\r\n\r\n\t\tWebElement source = driver.findElement(By.cssSelector(locator1));\r\n\t\tWebElement target = driver.findElement(By.cssSelector(locator2));\r\n\t\tActions act = new Actions(driver);\r\n\r\n\r\n**(Option1)**\r\n\r\n\t\t act.moveToElement(source) .pause(Duration.ofSeconds(1)) .clickAndHold(source)\r\n\t\t  .pause(Duration.ofSeconds(1)) .moveByOffset(1, 0) .moveToElement(target)\r\n\t\t .moveByOffset(1, 0) .pause(Duration.ofSeconds(1)) .release().perform();\r\n\t\t  System.out.println();\r\n\r\n 2. **Option2**\r\n\r\n\t\r\n\r\n    act.clickAndHold(source).pause(2000)\r\n    \t.moveToElement(target)\r\n    \t.release().build().perform();\r\n\r\n\r\nI have tried with both option , I am working on Selenium 3, Is there any other way to achieve it.\r\n\r\n\r\n**Note:** Robot Class not recommended\r\n\t\r\n\t\t ","title":"Selenium Drag and drop not working with Action methods, Is there any alterative","body":"<ol>\n<li><p>Drag and Drop Selenium</p>\n<pre><code>WebElement source = driver.findElement(By.cssSelector(locator1));\nWebElement target = driver.findElement(By.cssSelector(locator2));\nActions act = new Actions(driver);\n</code></pre>\n</li>\n</ol>\n<p><strong>(Option1)</strong></p>\n<pre><code>     act.moveToElement(source) .pause(Duration.ofSeconds(1)) .clickAndHold(source)\n      .pause(Duration.ofSeconds(1)) .moveByOffset(1, 0) .moveToElement(target)\n     .moveByOffset(1, 0) .pause(Duration.ofSeconds(1)) .release().perform();\n      System.out.println();\n</code></pre>\n<ol start=\"2\">\n<li><p><strong>Option2</strong></p>\n<p>act.clickAndHold(source).pause(2000)\n.moveToElement(target)\n.release().build().perform();</p>\n</li>\n</ol>\n<p>I have tried with both option , I am working on Selenium 3, Is there any other way to achieve it.</p>\n<p><strong>Note:</strong> Robot Class not recommended</p>\n"},{"tags":["java","swift"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1668669885,"post_id":74470667,"comment_id":131463087,"body_markdown":"`[B@647aa62` __is not the data__ - it is the result of calling `toString()` on a byte array which provides you `[B@` (`[B` is JVMese for &#39;byte array&#39;) as well as the __system identity hashcode__ of the array, which is, more or less, its memory address (not really - point is, it has nothing to do with the data in it; run the app again and it&#39;ll likely be different; the string serves to differentiate it from others, that&#39;s all). If that&#39;s your confusion (&#39;how do I get 647aa62 out of swing code&#39;), the answer is: You cannot get that. Are you calling `Int(&quot;[B@647aa62&quot;, 2)!`?","body":"<code>[B@647aa62</code> <b>is not the data</b> - it is the result of calling <code>toString()</code> on a byte array which provides you <code>[B@</code> (<code>[B</code> is JVMese for &#39;byte array&#39;) as well as the <b>system identity hashcode</b> of the array, which is, more or less, its memory address (not really - point is, it has nothing to do with the data in it; run the app again and it&#39;ll likely be different; the string serves to differentiate it from others, that&#39;s all). If that&#39;s your confusion (&#39;how do I get 647aa62 out of swing code&#39;), the answer is: You cannot get that. Are you calling <code>Int(&quot;[B@647aa62&quot;, 2)!</code>?"},{"owner":{"account_id":1220712,"reputation":532353,"user_id":1187415,"accept_rate":88,"display_name":"Martin R"},"score":0,"creation_date":1668677041,"post_id":74470667,"comment_id":131465510,"body_markdown":"Possibly helpful: https://stackoverflow.com/q/25531914/1187415","body":"Possibly helpful: <a href=\"https://stackoverflow.com/q/25531914/1187415\">stackoverflow.com/q/25531914/1187415</a>"},{"owner":{"account_id":20397753,"reputation":97,"user_id":14964159,"display_name":"KimJitae"},"score":0,"creation_date":1668678885,"post_id":74470667,"comment_id":131466212,"body_markdown":"@rzwitserloot As I looked at the code more, Java converted the binary String to a decimal BigInteger and converted it to a Byte Array in order to do binary String To Byte Array. So I&#39;m looking for a way to convert the long binary string written above into a byte array by dividing it into 8 digits.","body":"@rzwitserloot As I looked at the code more, Java converted the binary String to a decimal BigInteger and converted it to a Byte Array in order to do binary String To Byte Array. So I&#39;m looking for a way to convert the long binary string written above into a byte array by dividing it into 8 digits."}],"answers":[{"comments":[{"owner":{"account_id":9419546,"reputation":1889,"user_id":7016052,"display_name":"lazarevzubov"},"score":0,"creation_date":1668665048,"post_id":74470809,"comment_id":131461962,"body_markdown":"This is a great hint, but I don&#39;t think it answers the question.","body":"This is a great hint, but I don&#39;t think it answers the question."},{"owner":{"account_id":17805403,"reputation":432,"user_id":12931221,"display_name":"Pierre"},"score":1,"creation_date":1668665665,"post_id":74470809,"comment_id":131462088,"body_markdown":"You are completely right. But that was definitely too long for a comment. So I added that the link I provide will most probably contain the answer he is looking for.","body":"You are completely right. But that was definitely too long for a comment. So I added that the link I provide will most probably contain the answer he is looking for."},{"owner":{"account_id":20397753,"reputation":97,"user_id":14964159,"display_name":"KimJitae"},"score":0,"creation_date":1668674487,"post_id":74470809,"comment_id":131464608,"body_markdown":"It was applied in the process of creating data separately before the existing developer attempted DEFLATE compression to reduce the data to be transmitted to the server. Since the server is also Java, it seems that the data is parsed while applying the logic in reverse. Thanks to everyone who responded and I&#39;ll take note of what you&#39;ve told me.","body":"It was applied in the process of creating data separately before the existing developer attempted DEFLATE compression to reduce the data to be transmitted to the server. Since the server is also Java, it seems that the data is parsed while applying the logic in reverse. Thanks to everyone who responded and I&#39;ll take note of what you&#39;ve told me."},{"owner":{"account_id":17805403,"reputation":432,"user_id":12931221,"display_name":"Pierre"},"score":0,"creation_date":1668674976,"post_id":74470809,"comment_id":131464765,"body_markdown":"Anyway, if you are working with binary data that do not represent numbers, BigInteger is definitely NOT the way you want to go. In Swift that would be `Data`, or maybe `[UInt8]`....","body":"Anyway, if you are working with binary data that do not represent numbers, BigInteger is definitely NOT the way you want to go. In Swift that would be <code>Data</code>, or maybe <code>[UInt8]</code>...."},{"owner":{"account_id":17805403,"reputation":432,"user_id":12931221,"display_name":"Pierre"},"score":0,"creation_date":1668675132,"post_id":74470809,"comment_id":131464826,"body_markdown":"And do not forget that storing binary in a string like the first line of your question is using 196 *bytes* to represent 196 *bits*, which is 8 times more space...","body":"And do not forget that storing binary in a string like the first line of your question is using 196 <i>bytes</i> to represent 196 <i>bits</i>, which is 8 times more space..."}],"tags":[],"owner":{"account_id":17805403,"reputation":432,"user_id":12931221,"display_name":"Pierre"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668665584,"creation_date":1668664898,"answer_id":74470809,"question_id":74470667,"body_markdown":"First, your string is 196 bits long, which cannot fit in `Int` (which is 64 bits - when compiled for 64 bits machine). That is probably why you get nil : it does not fit. If you try with a shorter string, it should work.\r\n\r\nWell that does not solve your problem. \r\nSo the first thing is, we have to find a type that can store your integer. The biggest positive integer in swift is `UInt64`. No fit.\r\n\r\nSo I suggest we refer to [this question][1]. Itcontains references to several libraries allowing to play with big integers in Swift.\r\nBut before, you should wonder what you intend to do with this number ? Calculations ? Display only ? Or storage only (with less bytes than entire string) ? Is approximation enough ?\r\n\r\nIf nothing suits your need, then you will need to write your very own type.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25531914/biginteger-equivalent-in-swift","title":"How can i convert binary string to Int and covert bytes in Swift","body":"<p>First, your string is 196 bits long, which cannot fit in <code>Int</code> (which is 64 bits - when compiled for 64 bits machine). That is probably why you get nil : it does not fit. If you try with a shorter string, it should work.</p>\n<p>Well that does not solve your problem.\nSo the first thing is, we have to find a type that can store your integer. The biggest positive integer in swift is <code>UInt64</code>. No fit.</p>\n<p>So I suggest we refer to <a href=\"https://stackoverflow.com/questions/25531914/biginteger-equivalent-in-swift\">this question</a>. Itcontains references to several libraries allowing to play with big integers in Swift.\nBut before, you should wonder what you intend to do with this number ? Calculations ? Display only ? Or storage only (with less bytes than entire string) ? Is approximation enough ?</p>\n<p>If nothing suits your need, then you will need to write your very own type.</p>\n"},{"comments":[{"owner":{"account_id":20397753,"reputation":97,"user_id":14964159,"display_name":"KimJitae"},"score":0,"creation_date":1668674613,"post_id":74471648,"comment_id":131464645,"body_markdown":"Thanks for correcting my misunderstanding. Your kind reply helped me a lot. I can see where I am missing.","body":"Thanks for correcting my misunderstanding. Your kind reply helped me a lot. I can see where I am missing."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668670148,"creation_date":1668670148,"answer_id":74471648,"question_id":74470667,"body_markdown":"&gt; `[B@647aa62`\r\n\r\nThat __is not the data__ - it is the result of calling `toString()` on a byte array which provides you `[B@` (`[B` is JVMese for &#39;byte array&#39;) as well as the __system identity hashcode__ of the array, which is, more or less, its memory address (not really - point is, it has nothing to do with the data in it; run the app again and it&#39;ll likely be different; the string serves to differentiate it from others, that&#39;s all). If that&#39;s your confusion (&#39;how do I get 647aa62 out of swing code&#39;), the answer is: You cannot get that.\r\n\r\nThere are a ton of questions on SO about &#39;how do I print a byte array&#39;, you can use any of those if you&#39;re interested in actually seeing this data in hexnibble or base64 or decimal form.\r\n\r\n&gt; I know it&#39;s okay to use &#39;BigInteger&#39; as &#39;Int&#39; in Swift.\r\n\r\nThis is __incorrect__. Per the [swift docs](https://developer.apple.com/documentation/swift/int) `Int` is, depending on platform, either 64 or 32 bits large. Your String containing bit values has 192 bits in it. It cannot fit, therefore, the answer to your question of: &quot;How do I get `Int(value, 2)!` to produce the same value as it does in this java code&quot; is: &quot;That is not possible&quot;.\r\n\r\nYou certainly can&#39;t get `[@B@647aa62` out, as that has nothing to do with the data and is effectively a random number. You also can&#39;t get those 192 bits out, no matter what form you wanted them rendered in, because a 64-bit data structure couldn&#39;t possibly contain 192 bits worth of data.\r\n","title":"How can i convert binary string to Int and covert bytes in Swift","body":"<blockquote>\n<p><code>[B@647aa62</code></p>\n</blockquote>\n<p>That <strong>is not the data</strong> - it is the result of calling <code>toString()</code> on a byte array which provides you <code>[B@</code> (<code>[B</code> is JVMese for 'byte array') as well as the <strong>system identity hashcode</strong> of the array, which is, more or less, its memory address (not really - point is, it has nothing to do with the data in it; run the app again and it'll likely be different; the string serves to differentiate it from others, that's all). If that's your confusion ('how do I get 647aa62 out of swing code'), the answer is: You cannot get that.</p>\n<p>There are a ton of questions on SO about 'how do I print a byte array', you can use any of those if you're interested in actually seeing this data in hexnibble or base64 or decimal form.</p>\n<blockquote>\n<p>I know it's okay to use 'BigInteger' as 'Int' in Swift.</p>\n</blockquote>\n<p>This is <strong>incorrect</strong>. Per the <a href=\"https://developer.apple.com/documentation/swift/int\" rel=\"nofollow noreferrer\">swift docs</a> <code>Int</code> is, depending on platform, either 64 or 32 bits large. Your String containing bit values has 192 bits in it. It cannot fit, therefore, the answer to your question of: &quot;How do I get <code>Int(value, 2)!</code> to produce the same value as it does in this java code&quot; is: &quot;That is not possible&quot;.</p>\n<p>You certainly can't get <code>[@B@647aa62</code> out, as that has nothing to do with the data and is effectively a random number. You also can't get those 192 bits out, no matter what form you wanted them rendered in, because a 64-bit data structure couldn't possibly contain 192 bits worth of data.</p>\n"}],"owner":{"account_id":20397753,"reputation":97,"user_id":14964159,"display_name":"KimJitae"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74471648,"answer_count":2,"score":-2,"last_activity_date":1668670148,"creation_date":1668663864,"question_id":74470667,"body_markdown":"    String value = &quot;0001111000010000000100000100100110000000000000101010000101000000011000000010011110011001001101100011101011110110000100001101010111010011101010011001011001100001001000010000000010110001001001001011&quot;\r\n    BigInteger bi = new BigInteger(value, 2);\r\n    // bi : 11794183182202048648710358761397377436458666044077659329099\r\n    byte[] bytes = bi.toByteArray();\r\n    // bytes : [B@647aa62\r\n\r\n\r\nI have Java code like above. Trying to convert this to Swift.\r\n\r\nI wonder how to do the above conversion to get the same result in Swift.\r\n\r\nI know it&#39;s okay to use &#39;BigInteger&#39; as &#39;Int&#39; in Swift.\r\n\r\n    Int(value,radix: 2)!\r\nI found &#39;Int(value,radix: 2)!&#39; in Swift. But this didn&#39;t work.(I got nil as result.\r\n)\r\n\r\nWhat method should I use to get the same result as above java in Swift? And what additional information do I need to get to do this?","title":"How can i convert binary string to Int and covert bytes in Swift","body":"<pre><code>String value = &quot;0001111000010000000100000100100110000000000000101010000101000000011000000010011110011001001101100011101011110110000100001101010111010011101010011001011001100001001000010000000010110001001001001011&quot;\nBigInteger bi = new BigInteger(value, 2);\n// bi : 11794183182202048648710358761397377436458666044077659329099\nbyte[] bytes = bi.toByteArray();\n// bytes : [B@647aa62\n</code></pre>\n<p>I have Java code like above. Trying to convert this to Swift.</p>\n<p>I wonder how to do the above conversion to get the same result in Swift.</p>\n<p>I know it's okay to use 'BigInteger' as 'Int' in Swift.</p>\n<pre><code>Int(value,radix: 2)!\n</code></pre>\n<p>I found 'Int(value,radix: 2)!' in Swift. But this didn't work.(I got nil as result.\n)</p>\n<p>What method should I use to get the same result as above java in Swift? And what additional information do I need to get to do this?</p>\n"},{"tags":["java","text","accessibility","jlabel","bounds"],"comments":[{"owner":{"account_id":1769700,"reputation":412,"user_id":1614775,"display_name":"Zweibieren"},"score":0,"creation_date":1525727048,"post_id":50193933,"comment_id":87462228,"body_markdown":"camickr and MadProgrammer both provided essentially the same excellent answers.  I have aritrarily &quot;accepted&quot; my own answer because it is shorter and its mine. Extra points must be awarded to Mad Programmer for providing an image.","body":"camickr and MadProgrammer both provided essentially the same excellent answers.  I have aritrarily &quot;accepted&quot; my own answer because it is shorter and its mine. Extra points must be awarded to Mad Programmer for providing an image."}],"answers":[{"tags":[],"owner":{"account_id":1769700,"reputation":412,"user_id":1614775,"display_name":"Zweibieren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1525633905,"creation_date":1525554125,"answer_id":50194010,"question_id":50193933,"body_markdown":"To get the bounds of text in a JLabel, we need the accessible context, a protected field. So we extend JLabel.  The accessible context only knows about the text if it is HTML, so I prepend &quot;&amp;lt;html&amp;gt;&quot; in the constructor; a more general version would first check to see if the text already begins with that string. \r\n\r\n       class FieldLabel extends JLabel {\r\n            FieldLabel(String text) {\r\n                super(&quot;&lt;html&gt;&quot;+text);\r\n            }\r\n            Rectangle getTextBounds() {\r\n                JLabel.AccessibleJLabel acclab \r\n                    = (JLabel.AccessibleJLabel) getAccessibleContext();\r\n                if (acclab.getCharCount() &lt;= 0)\r\n                    return null;\r\n                Rectangle r0 = acclab.getCharacterBounds(0);\r\n                Rectangle rn = acclab\r\n                    .getCharacterBounds(acclab.getCharCount()-1);\r\n                \r\n                return new Rectangle(r0.x, r0.y, \r\n                        rn.x+rn.width-r0.x, Math.max(r0.height, rn.height));\r\n            }\r\n        }\r\nOther solutions have the _potential_ advantage of not creating three new Rectangle objects per call. This could be a problem if getTextBounds is called in a MouseMoved event listener. At some cost in complexity, the final Rectangle could be cached along with the JLabel width and height.\r\n","title":"Getting the bounds of the text inside a jlabel","body":"<p>To get the bounds of text in a JLabel, we need the accessible context, a protected field. So we extend JLabel.  The accessible context only knows about the text if it is HTML, so I prepend \"&lt;html&gt;\" in the constructor; a more general version would first check to see if the text already begins with that string. </p>\n\n<pre><code>   class FieldLabel extends JLabel {\n        FieldLabel(String text) {\n            super(\"&lt;html&gt;\"+text);\n        }\n        Rectangle getTextBounds() {\n            JLabel.AccessibleJLabel acclab \n                = (JLabel.AccessibleJLabel) getAccessibleContext();\n            if (acclab.getCharCount() &lt;= 0)\n                return null;\n            Rectangle r0 = acclab.getCharacterBounds(0);\n            Rectangle rn = acclab\n                .getCharacterBounds(acclab.getCharCount()-1);\n\n            return new Rectangle(r0.x, r0.y, \n                    rn.x+rn.width-r0.x, Math.max(r0.height, rn.height));\n        }\n    }\n</code></pre>\n\n<p>Other solutions have the <em>potential</em> advantage of not creating three new Rectangle objects per call. This could be a problem if getTextBounds is called in a MouseMoved event listener. At some cost in complexity, the final Rectangle could be cached along with the JLabel width and height.</p>\n"},{"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1667397807,"post_id":50194325,"comment_id":131157451,"body_markdown":"I do not understand why the call to `layoutCompoundLabel` is necessary if you&#39;re not using the value it returns. Can you explain?","body":"I do not understand why the call to <code>layoutCompoundLabel</code> is necessary if you&#39;re not using the value it returns. Can you explain?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667423622,"post_id":50194325,"comment_id":131166866,"body_markdown":"So, if we read the [JavaDocs](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingUtilities.html#layoutCompoundLabel(java.awt.FontMetrics,java.lang.String,javax.swing.Icon,int,int,int,int,java.awt.Rectangle,java.awt.Rectangle,java.awt.Rectangle,int)), it says `Returns: the possibly clipped version of the compound labels string`, where not really interested in that result.  Where interested in the `paintXxx` values.  Maintaining a reference to `result` is simply to provide a print out of the differences in the values","body":"So, if we read the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingUtilities.html#layoutCompoundLabel(java.awt.FontMetrics,java.lang.String,javax.swing.Icon,int,int,int,int,java.awt.Rectangle,java.awt.Rectangle,java.awt.Rectangle,int)\" rel=\"nofollow noreferrer\">JavaDocs</a>, it says <code>Returns: the possibly clipped version of the compound labels string</code>, where not really interested in that result.  Where interested in the <code>paintXxx</code> values.  Maintaining a reference to <code>result</code> is simply to provide a print out of the differences in the values"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667423660,"post_id":50194325,"comment_id":131166878,"body_markdown":"@CardinalSystem The `paintXxx` values are modified by the call to `layoutCompoundLabel`, which is what we&#39;re interested in","body":"@CardinalSystem The <code>paintXxx</code> values are modified by the call to <code>layoutCompoundLabel</code>, which is what we&#39;re interested in"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1667479442,"post_id":50194325,"comment_id":131179236,"body_markdown":"Aha! I was wondering if there was were changes being made behind the scenes to the pass-by-reference rectangles.","body":"Aha! I was wondering if there was were changes being made behind the scenes to the pass-by-reference rectangles."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668669778,"creation_date":1525557058,"answer_id":50194325,"question_id":50193933,"body_markdown":"The Swing API already provides, if rather verbose, API to perform this operation - [`SwingUtilities#layoutCompoundLabel`](https://docs.oracle.com/javase/7/docs/api/javax/swing/SwingUtilities.html#layoutCompoundLabel(javax.swing.JComponent,%20java.awt.FontMetrics,%20java.lang.String,%20javax.swing.Icon,%20int,%20int,%20int,%20int,%20java.awt.Rectangle,%20java.awt.Rectangle,%20java.awt.Rectangle,%20int))\r\n\r\n    protected TextBounds calculateTextBounds(JLabel label) {\r\n\r\n\t\tRectangle paintIconR = new Rectangle();\r\n\t\tRectangle paintTextR = new Rectangle();\r\n\r\n\t\tDimension size = label.getSize();\r\n\t\tInsets insets = label.getInsets(null);\r\n\t\tString text = label.getText();\r\n\t\tIcon icon = (label.isEnabled()) ? label.getIcon()\r\n\t\t\t\t\t\t: label.getDisabledIcon();\r\n\t\tRectangle paintViewR = new Rectangle();\r\n\t\tpaintViewR.x = insets.left;\r\n\t\tpaintViewR.y = insets.top;\r\n\t\tpaintViewR.width = size.width - (insets.left + insets.right);\r\n\t\tpaintViewR.height = size.height - (insets.top + insets.bottom);\r\n\t\tpaintIconR.x = paintIconR.y = paintIconR.width = paintIconR.height = 0;\r\n\t\tpaintTextR.x = paintTextR.y = paintTextR.width = paintTextR.height = 0;\r\n\r\n\t\tString result = SwingUtilities.layoutCompoundLabel(\r\n\t\t\t\t\t\t(JComponent) label,\r\n\t\t\t\t\t\tlabel.getFontMetrics(label.getFont()),\r\n\t\t\t\t\t\ttext,\r\n\t\t\t\t\t\ticon,\r\n\t\t\t\t\t\tlabel.getVerticalAlignment(),\r\n\t\t\t\t\t\tlabel.getHorizontalAlignment(),\r\n\t\t\t\t\t\tlabel.getVerticalTextPosition(),\r\n\t\t\t\t\t\tlabel.getHorizontalTextPosition(),\r\n\t\t\t\t\t\tpaintViewR,\r\n\t\t\t\t\t\tpaintIconR,\r\n\t\t\t\t\t\tpaintTextR,\r\n\t\t\t\t\t\tlabel.getIconTextGap());\r\n\r\n\t\tTextBounds bounds = new TextBounds(paintViewR, paintTextR, paintIconR);\r\n\r\n\t\treturn bounds;\r\n\t}\r\n\r\nBasically this will provide the &quot;view&quot; bounds (basically the area in which the label can be painted), the &quot;text&quot; bounds and the &quot;icon&quot; bounds, I just wrapped them in an easy to use class\r\n\r\nSo why would you use this approach?\r\n\r\n- This is actually the same work flow that is used to layout the label by the look and feel delegates\r\n- It doesn&#39;t require you to create a custom class, meaning that it can be applied to any instance of `JLabel`\r\n\r\n[![Label text bounds][1]][1]\r\n\r\n\timport java.awt.BorderLayout;\r\n\timport java.awt.Color;\r\n\timport java.awt.Dimension;\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.Graphics;\r\n\timport java.awt.Graphics2D;\r\n\timport java.awt.Insets;\r\n\timport java.awt.Rectangle;\r\n\timport javax.swing.Icon;\r\n\timport javax.swing.JComponent;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.SwingUtilities;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.UnsupportedLookAndFeelException;\r\n\r\n\tpublic class Test {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Test();\r\n\t\t}\r\n\r\n\t\tpublic Test() {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.add(new TestPane());\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic class TextBounds {\r\n\r\n\t\t\tprivate Rectangle paintBounds;\r\n\t\t\tprivate Rectangle textBounds;\r\n\t\t\tprivate Rectangle iconBounds;\r\n\r\n\t\t\tpublic TextBounds(Rectangle paintBounds, Rectangle textBounds, Rectangle iconBounds) {\r\n\t\t\t\tthis.paintBounds = paintBounds;\r\n\t\t\t\tthis.textBounds = textBounds;\r\n\t\t\t\tthis.iconBounds = iconBounds;\r\n\t\t\t}\r\n\r\n\t\t\tpublic Rectangle getPaintBounds() {\r\n\t\t\t\treturn paintBounds;\r\n\t\t\t}\r\n\r\n\t\t\tpublic Rectangle getTextBounds() {\r\n\t\t\t\treturn textBounds;\r\n\t\t\t}\r\n\r\n\t\t\tpublic Rectangle getIconBounds() {\r\n\t\t\t\treturn iconBounds;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tpublic class TestPane extends JPanel {\r\n\r\n\t\t\tprivate JLabel label = new JLabel(&quot;Hello&quot;);\r\n\r\n\t\t\tpublic TestPane() {\r\n\t\t\t\tsetLayout(new BorderLayout());\r\n\t\t\t\tlabel.setHorizontalAlignment(JLabel.CENTER);\r\n\t\t\t\tlabel.setVerticalAlignment(JLabel.CENTER);\r\n\t\t\t\tadd(label);\r\n\t\t\t}\r\n\r\n\t\t\tprotected TextBounds calculateTextBounds(JLabel label) {\r\n\r\n\t\t\t\tRectangle paintIconR = new Rectangle();\r\n\t\t\t\tRectangle paintTextR = new Rectangle();\r\n\r\n\t\t\t\tDimension size = label.getSize();\r\n\t\t\t\tInsets insets = label.getInsets(null);\r\n\t\t\t\tString text = label.getText();\r\n\t\t\t\tIcon icon = (label.isEnabled()) ? label.getIcon()\r\n\t\t\t\t\t\t\t\t: label.getDisabledIcon();\r\n\t\t\t\tRectangle paintViewR = new Rectangle();\r\n\t\t\t\tpaintViewR.x = insets.left;\r\n\t\t\t\tpaintViewR.y = insets.top;\r\n\t\t\t\tpaintViewR.width = size.width - (insets.left + insets.right);\r\n\t\t\t\tpaintViewR.height = size.height - (insets.top + insets.bottom);\r\n\t\t\t\tpaintIconR.x = paintIconR.y = paintIconR.width = paintIconR.height = 0;\r\n\t\t\t\tpaintTextR.x = paintTextR.y = paintTextR.width = paintTextR.height = 0;\r\n\r\n\t\t\t\tString result = SwingUtilities.layoutCompoundLabel(\r\n\t\t\t\t\t\t\t\t(JComponent) label,\r\n\t\t\t\t\t\t\t\tlabel.getFontMetrics(label.getFont()),\r\n\t\t\t\t\t\t\t\ttext,\r\n\t\t\t\t\t\t\t\ticon,\r\n\t\t\t\t\t\t\t\tlabel.getVerticalAlignment(),\r\n\t\t\t\t\t\t\t\tlabel.getHorizontalAlignment(),\r\n\t\t\t\t\t\t\t\tlabel.getVerticalTextPosition(),\r\n\t\t\t\t\t\t\t\tlabel.getHorizontalTextPosition(),\r\n\t\t\t\t\t\t\t\tpaintViewR,\r\n\t\t\t\t\t\t\t\tpaintIconR,\r\n\t\t\t\t\t\t\t\tpaintTextR,\r\n\t\t\t\t\t\t\t\tlabel.getIconTextGap());\r\n\r\n\t\t\t\tTextBounds bounds = new TextBounds(paintViewR, paintTextR, paintIconR);\r\n\r\n\t\t\t\tSystem.out.println(result);\r\n\t\t\t\tSystem.out.println(&quot;view &quot; + paintViewR);\r\n\t\t\t\tSystem.out.println(&quot;paint &quot; + paintIconR);\r\n\t\t\t\tSystem.out.println(&quot;text &quot; + paintTextR);\r\n\r\n\t\t\t\treturn bounds;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Dimension getPreferredSize() {\r\n\t\t\t\treturn new Dimension(200, 200);\r\n\t\t\t}\r\n\r\n\t\t\tprotected void paintComponent(Graphics g) {\r\n\t\t\t\tsuper.paintComponent(g);\r\n\t\t\t\tGraphics2D g2d = (Graphics2D) g.create();\r\n\t\t\t\tTextBounds bounds = calculateTextBounds(label);\r\n\t\t\t\tg2d.setColor(Color.RED);\r\n\t\t\t\tg2d.draw(bounds.getPaintBounds());\r\n\t\t\t\tg2d.setColor(Color.GREEN);\r\n\t\t\t\tg2d.draw(bounds.getTextBounds());\r\n\t\t\t\tg2d.setColor(Color.BLUE);\r\n\t\t\t\tg2d.draw(bounds.getIconBounds());\r\n\t\t\t\tg2d.dispose();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n8snM.png\r\n\r\n&gt; Other solutions have the potential advantage of not creating three new Rectangle objects per call. This could be a problem if getTextBounds is called in a MouseMoved event listener. At some cost in complexity, the final Rectangle could be cached along with the JLabel width and height.\r\n\r\nThe `Rectangle`s only need to be created once, they are passed into the API and the their values applied directly, so you&#39;re not creating new objects each time.\r\n\r\nYou also don&#39;t need to make use of a specialised component and can make use of the workflow on an pre-existing label","title":"Getting the bounds of the text inside a jlabel","body":"<p>The Swing API already provides, if rather verbose, API to perform this operation - <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/SwingUtilities.html#layoutCompoundLabel(javax.swing.JComponent,%20java.awt.FontMetrics,%20java.lang.String,%20javax.swing.Icon,%20int,%20int,%20int,%20int,%20java.awt.Rectangle,%20java.awt.Rectangle,%20java.awt.Rectangle,%20int)\" rel=\"nofollow noreferrer\"><code>SwingUtilities#layoutCompoundLabel</code></a></p>\n<pre><code>protected TextBounds calculateTextBounds(JLabel label) {\n\n    Rectangle paintIconR = new Rectangle();\n    Rectangle paintTextR = new Rectangle();\n\n    Dimension size = label.getSize();\n    Insets insets = label.getInsets(null);\n    String text = label.getText();\n    Icon icon = (label.isEnabled()) ? label.getIcon()\n                    : label.getDisabledIcon();\n    Rectangle paintViewR = new Rectangle();\n    paintViewR.x = insets.left;\n    paintViewR.y = insets.top;\n    paintViewR.width = size.width - (insets.left + insets.right);\n    paintViewR.height = size.height - (insets.top + insets.bottom);\n    paintIconR.x = paintIconR.y = paintIconR.width = paintIconR.height = 0;\n    paintTextR.x = paintTextR.y = paintTextR.width = paintTextR.height = 0;\n\n    String result = SwingUtilities.layoutCompoundLabel(\n                    (JComponent) label,\n                    label.getFontMetrics(label.getFont()),\n                    text,\n                    icon,\n                    label.getVerticalAlignment(),\n                    label.getHorizontalAlignment(),\n                    label.getVerticalTextPosition(),\n                    label.getHorizontalTextPosition(),\n                    paintViewR,\n                    paintIconR,\n                    paintTextR,\n                    label.getIconTextGap());\n\n    TextBounds bounds = new TextBounds(paintViewR, paintTextR, paintIconR);\n\n    return bounds;\n}\n</code></pre>\n<p>Basically this will provide the &quot;view&quot; bounds (basically the area in which the label can be painted), the &quot;text&quot; bounds and the &quot;icon&quot; bounds, I just wrapped them in an easy to use class</p>\n<p>So why would you use this approach?</p>\n<ul>\n<li>This is actually the same work flow that is used to layout the label by the look and feel delegates</li>\n<li>It doesn't require you to create a custom class, meaning that it can be applied to any instance of <code>JLabel</code></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/n8snM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n8snM.png\" alt=\"Label text bounds\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Insets;\nimport java.awt.Rectangle;\nimport javax.swing.Icon;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TextBounds {\n\n        private Rectangle paintBounds;\n        private Rectangle textBounds;\n        private Rectangle iconBounds;\n\n        public TextBounds(Rectangle paintBounds, Rectangle textBounds, Rectangle iconBounds) {\n            this.paintBounds = paintBounds;\n            this.textBounds = textBounds;\n            this.iconBounds = iconBounds;\n        }\n\n        public Rectangle getPaintBounds() {\n            return paintBounds;\n        }\n\n        public Rectangle getTextBounds() {\n            return textBounds;\n        }\n\n        public Rectangle getIconBounds() {\n            return iconBounds;\n        }\n\n    }\n\n    public class TestPane extends JPanel {\n\n        private JLabel label = new JLabel(&quot;Hello&quot;);\n\n        public TestPane() {\n            setLayout(new BorderLayout());\n            label.setHorizontalAlignment(JLabel.CENTER);\n            label.setVerticalAlignment(JLabel.CENTER);\n            add(label);\n        }\n\n        protected TextBounds calculateTextBounds(JLabel label) {\n\n            Rectangle paintIconR = new Rectangle();\n            Rectangle paintTextR = new Rectangle();\n\n            Dimension size = label.getSize();\n            Insets insets = label.getInsets(null);\n            String text = label.getText();\n            Icon icon = (label.isEnabled()) ? label.getIcon()\n                            : label.getDisabledIcon();\n            Rectangle paintViewR = new Rectangle();\n            paintViewR.x = insets.left;\n            paintViewR.y = insets.top;\n            paintViewR.width = size.width - (insets.left + insets.right);\n            paintViewR.height = size.height - (insets.top + insets.bottom);\n            paintIconR.x = paintIconR.y = paintIconR.width = paintIconR.height = 0;\n            paintTextR.x = paintTextR.y = paintTextR.width = paintTextR.height = 0;\n\n            String result = SwingUtilities.layoutCompoundLabel(\n                            (JComponent) label,\n                            label.getFontMetrics(label.getFont()),\n                            text,\n                            icon,\n                            label.getVerticalAlignment(),\n                            label.getHorizontalAlignment(),\n                            label.getVerticalTextPosition(),\n                            label.getHorizontalTextPosition(),\n                            paintViewR,\n                            paintIconR,\n                            paintTextR,\n                            label.getIconTextGap());\n\n            TextBounds bounds = new TextBounds(paintViewR, paintTextR, paintIconR);\n\n            System.out.println(result);\n            System.out.println(&quot;view &quot; + paintViewR);\n            System.out.println(&quot;paint &quot; + paintIconR);\n            System.out.println(&quot;text &quot; + paintTextR);\n\n            return bounds;\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            TextBounds bounds = calculateTextBounds(label);\n            g2d.setColor(Color.RED);\n            g2d.draw(bounds.getPaintBounds());\n            g2d.setColor(Color.GREEN);\n            g2d.draw(bounds.getTextBounds());\n            g2d.setColor(Color.BLUE);\n            g2d.draw(bounds.getIconBounds());\n            g2d.dispose();\n        }\n\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>Other solutions have the potential advantage of not creating three new Rectangle objects per call. This could be a problem if getTextBounds is called in a MouseMoved event listener. At some cost in complexity, the final Rectangle could be cached along with the JLabel width and height.</p>\n</blockquote>\n<p>The <code>Rectangle</code>s only need to be created once, they are passed into the API and the their values applied directly, so you're not creating new objects each time.</p>\n<p>You also don't need to make use of a specialised component and can make use of the workflow on an pre-existing label</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525557253,"creation_date":1525557253,"answer_id":50194342,"question_id":50193933,"body_markdown":"You can use the `SwingUtilities.layoutCompoundLabel`\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    \r\n    public class LabelLayout extends JLabel\r\n    {\r\n    \t@Override\r\n    \tprotected void paintComponent(Graphics g)\r\n    \t{\r\n    \t\tsuper.paintComponent(g);\r\n    \r\n    \t\tGraphics grid = g.create();\r\n    \t\tgrid.setColor( Color.ORANGE );\r\n    \r\n    \t\tRectangle viewR = new Rectangle();\r\n    \t\tviewR.width = getSize().width;\r\n    \t\tviewR.height = getSize().height;\r\n    \t\tRectangle iconR = new Rectangle();\r\n    \t\tRectangle textR = new Rectangle();\r\n    \r\n    \t\tString clippedText = SwingUtilities.layoutCompoundLabel\r\n    \t\t(\r\n    \t\t\tthis,\r\n    \t\t\tgrid.getFontMetrics(),\r\n    \t\t\tgetText(),\r\n    \t\t\tgetIcon(),\r\n    \t\t\tgetVerticalAlignment(),\r\n    \t\t\tgetHorizontalAlignment(),\r\n    \t\t\tgetVerticalTextPosition(),\r\n    \t\t\tgetHorizontalTextPosition(),\r\n    \t\t\tviewR,\r\n    \t\t\ticonR,\r\n    \t\t\ttextR,\r\n    \t\t\tgetIconTextGap()\r\n    \t\t);\r\n    \r\n    \t\tint gridSize = 10;\r\n    \t\tint start = iconR.x;\r\n    \t\tint end = iconR.x + iconR.width;\r\n    \r\n    \t\tSystem.out.println(&quot;Text bounds: &quot; + textR );\r\n    \t\tSystem.out.println(&quot;Icon bounds: &quot; + iconR );\r\n    \r\n    \t\tfor (int i = start; i &lt; end; i += gridSize)\r\n    \t\t{\r\n    \t\t\tgrid.drawLine(i, iconR.y, i, iconR.y + iconR.height);\r\n    \t\t}\r\n    \r\n    \t\tgrid.dispose();\r\n    \t}\r\n    \r\n    \tprivate static void createAndShowGUI()\r\n    \t{\r\n    \t\tLabelLayout label = new LabelLayout();\r\n    \t\tlabel.setBorder( new LineBorder(Color.RED) );\r\n    \t\tlabel.setText( &quot;Some Text&quot; );\r\n    \t\tlabel.setIcon( new ImageIcon( &quot;DukeWaveRed.gif&quot; ) );\r\n    \t\tlabel.setVerticalAlignment( JLabel.CENTER );\r\n    \t\tlabel.setHorizontalAlignment( JLabel.CENTER );\r\n    //\t\tlabel.setVerticalTextPosition( JLabel.BOTTOM );\r\n    \t\tlabel.setVerticalTextPosition( JLabel.TOP );\r\n    \t\tlabel.setHorizontalTextPosition( JLabel.CENTER );\r\n    \r\n    \t\tJFrame frame = new JFrame(&quot;SSCCE&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.add( label );\r\n    \t\tframe.setLocationByPlatform( true );\r\n    \t\tframe.pack();\r\n    \t\tframe.setSize(300, 200);\r\n    \t\tframe.setVisible( true );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tEventQueue.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tcreateAndShowGUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nThis example paints extra lines above the icon in the label.\r\n","title":"Getting the bounds of the text inside a jlabel","body":"<p>You can use the <code>SwingUtilities.layoutCompoundLabel</code></p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\n\npublic class LabelLayout extends JLabel\n{\n    @Override\n    protected void paintComponent(Graphics g)\n    {\n        super.paintComponent(g);\n\n        Graphics grid = g.create();\n        grid.setColor( Color.ORANGE );\n\n        Rectangle viewR = new Rectangle();\n        viewR.width = getSize().width;\n        viewR.height = getSize().height;\n        Rectangle iconR = new Rectangle();\n        Rectangle textR = new Rectangle();\n\n        String clippedText = SwingUtilities.layoutCompoundLabel\n        (\n            this,\n            grid.getFontMetrics(),\n            getText(),\n            getIcon(),\n            getVerticalAlignment(),\n            getHorizontalAlignment(),\n            getVerticalTextPosition(),\n            getHorizontalTextPosition(),\n            viewR,\n            iconR,\n            textR,\n            getIconTextGap()\n        );\n\n        int gridSize = 10;\n        int start = iconR.x;\n        int end = iconR.x + iconR.width;\n\n        System.out.println(\"Text bounds: \" + textR );\n        System.out.println(\"Icon bounds: \" + iconR );\n\n        for (int i = start; i &lt; end; i += gridSize)\n        {\n            grid.drawLine(i, iconR.y, i, iconR.y + iconR.height);\n        }\n\n        grid.dispose();\n    }\n\n    private static void createAndShowGUI()\n    {\n        LabelLayout label = new LabelLayout();\n        label.setBorder( new LineBorder(Color.RED) );\n        label.setText( \"Some Text\" );\n        label.setIcon( new ImageIcon( \"DukeWaveRed.gif\" ) );\n        label.setVerticalAlignment( JLabel.CENTER );\n        label.setHorizontalAlignment( JLabel.CENTER );\n//      label.setVerticalTextPosition( JLabel.BOTTOM );\n        label.setVerticalTextPosition( JLabel.TOP );\n        label.setHorizontalTextPosition( JLabel.CENTER );\n\n        JFrame frame = new JFrame(\"SSCCE\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add( label );\n        frame.setLocationByPlatform( true );\n        frame.pack();\n        frame.setSize(300, 200);\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowGUI();\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>This example paints extra lines above the icon in the label.</p>\n"}],"owner":{"account_id":1769700,"reputation":412,"user_id":1614775,"display_name":"Zweibieren"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1370,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50194010,"answer_count":3,"score":1,"last_activity_date":1668669778,"creation_date":1525553478,"question_id":50193933,"body_markdown":"I want to draw an arrow from the text in a JLabel to a point outside the JLabel. To start the arrow at an appropriate place, I need the bounds of the actual text inside the JLabel. My answer below will show how to get those bounds.","title":"Getting the bounds of the text inside a jlabel","body":"<p>I want to draw an arrow from the text in a JLabel to a point outside the JLabel. To start the arrow at an appropriate place, I need the bounds of the actual text inside the JLabel. My answer below will show how to get those bounds.</p>\n"},{"tags":["java","multithreading","exception","future","guava"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668665992,"post_id":74470936,"comment_id":131462147,"body_markdown":"Why does it matter which thread is running when you handle the exception? What does &quot;throw on the Main thread&quot; mean to you?","body":"Why does it matter which thread is running when you handle the exception? What does &quot;throw on the Main thread&quot; mean to you?"},{"owner":{"account_id":1600176,"reputation":870,"user_id":1481358,"accept_rate":75,"display_name":"ChaoSXDemon"},"score":0,"creation_date":1668666028,"post_id":74470936,"comment_id":131462155,"body_markdown":"Basically I want the application to crash! If I just throw in the callback thread, it won&#39;t cause the application to crash.","body":"Basically I want the application to crash! If I just throw in the callback thread, it won&#39;t cause the application to crash."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668671463,"post_id":74470936,"comment_id":131463593,"body_markdown":"You could call System.exit","body":"You could call System.exit"}],"answers":[{"comments":[{"owner":{"account_id":1600176,"reputation":870,"user_id":1481358,"accept_rate":75,"display_name":"ChaoSXDemon"},"score":0,"creation_date":1668676147,"post_id":74471561,"comment_id":131465204,"body_markdown":"Thanks for that answer. So basically `mainThread.getUncaughtExceptionHandler().uncaughtException(mainThread, t);` doesn&#39;t work right?","body":"Thanks for that answer. So basically <code>mainThread.getUncaughtExceptionHandler().uncaughtException(m&zwnj;&#8203;ainThread, t);</code> doesn&#39;t work right?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1668680312,"post_id":74471561,"comment_id":131466797,"body_markdown":"No, that just asks the uncaught exception handler to do its thing, which is, unless you changed it, &#39;dump the data to syserr&#39;. It doesn&#39;t throw anything. __There is no way__ to throw an exception in the middle of another thread - `Thread.stop` does precisely that, and it was so problematic, it has been retroactively removed from the JDK, which java never does. That just goes to show how utterly impossible it is to do that correctly.","body":"No, that just asks the uncaught exception handler to do its thing, which is, unless you changed it, &#39;dump the data to syserr&#39;. It doesn&#39;t throw anything. <b>There is no way</b> to throw an exception in the middle of another thread - <code>Thread.stop</code> does precisely that, and it was so problematic, it has been retroactively removed from the JDK, which java never does. That just goes to show how utterly impossible it is to do that correctly."},{"owner":{"account_id":1600176,"reputation":870,"user_id":1481358,"accept_rate":75,"display_name":"ChaoSXDemon"},"score":0,"creation_date":1668707302,"post_id":74471561,"comment_id":131477409,"body_markdown":"Yeah so I was thinking if I change the main thread&#39;s uncaught exception handler to just throw ...","body":"Yeah so I was thinking if I change the main thread&#39;s uncaught exception handler to just throw ..."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1668708638,"post_id":74471561,"comment_id":131477824,"body_markdown":"You&#39;re putting the cart before the horse. An exception that bubbles up all the way will &#39;kill&#39; a thread by ending each method as it bubbles to the top. At the very end, it is sent to the uncaught exception handler. So, given that you do not seem to understand, let me write this out in bold, __sending an exception to the uncaught exception handler will print it to syserr and does absolutely NOTHING ELSE WHATSOEVER__. Replacing it would also accomplish __absolutely nothing useful__.","body":"You&#39;re putting the cart before the horse. An exception that bubbles up all the way will &#39;kill&#39; a thread by ending each method as it bubbles to the top. At the very end, it is sent to the uncaught exception handler. So, given that you do not seem to understand, let me write this out in bold, <b>sending an exception to the uncaught exception handler will print it to syserr and does absolutely NOTHING ELSE WHATSOEVER</b>. Replacing it would also accomplish <b>absolutely nothing useful</b>."},{"owner":{"account_id":1600176,"reputation":870,"user_id":1481358,"accept_rate":75,"display_name":"ChaoSXDemon"},"score":0,"creation_date":1668753225,"post_id":74471561,"comment_id":131487359,"body_markdown":"I get that it will just print it as the default handler. That&#39;s why I said if I replace it and in my replacement implementation, I simply `throw t;` right away. That would ensure that I threw it in the main thread right?","body":"I get that it will just print it as the default handler. That&#39;s why I said if I replace it and in my replacement implementation, I simply <code>throw t;</code> right away. That would ensure that I threw it in the main thread right?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1668761568,"post_id":74471561,"comment_id":131489585,"body_markdown":".... man, you just don&#39;t want to hear it, do you. No. Java itself invokes `main` (or `run()` when considering a Thread). It has, essentially: `public class Thread { public void start() { try { runnable.run(); } catch (Throwable t) { uncaughtHandler.handle(t); }}` - that is all. It is not magic.","body":".... man, you just don&#39;t want to hear it, do you. No. Java itself invokes <code>main</code> (or <code>run()</code> when considering a Thread). It has, essentially: <code>public class Thread { public void start() { try { runnable.run(); } catch (Throwable t) { uncaughtHandler.handle(t); }}</code> - that is all. It is not magic."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1668761650,"post_id":74471561,"comment_id":131489612,"body_markdown":"I think we have arrived at the point that there&#39;s something in your head that is so enamoured with a wrong idea, you do not want to hear any retorts. Which, you know, happens. But, the solution is to go experiment and see why it won&#39; work.","body":"I think we have arrived at the point that there&#39;s something in your head that is so enamoured with a wrong idea, you do not want to hear any retorts. Which, you know, happens. But, the solution is to go experiment and see why it won&#39; work."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668669695,"creation_date":1668669695,"answer_id":74471561,"question_id":74470936,"body_markdown":"There is no direct way to do this.&lt;sup&gt;1&lt;/sup&gt;\r\n\r\nHence, this question boils down to a combination of 2 simple things:\r\n\r\n* How do I communicate some data from a submitted task back to the code that is managing the pool itself? Which boils down to: How do I send data from one thread to another, and...\r\n* How do I throw an exception - which is trivial - `throw x;`.\r\n\r\nIn other words, you make the exception in your task, and _do not `throw` it_, instead, you store the object in a place the main thread can see it, and notify the main thread they need to go fetch it and throw it. Your main thread waits for this notification and upon receiving it, fetches it, and throws it.\r\n\r\nA submitted task cannot simply &#39;ask&#39; for its pool or the thread that manages it. However, that is easy enough to solve: Simply _pass_ either the &#39;main thread&#39; itself, or more likely some third object that serves as common communication line between them, to the task itself, so that task knows where to go.\r\n\r\nHere is one simplistic approach based on the raw synchronization primitives baked into java itself:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n  // I am the main thread\r\n  // Fire up the executorservice here and submit tasks to it.\r\n  // then ordinarily you would let this thread end or sleep.\r\n  // instead...\r\n\r\n  ExecutorService service = ...;\r\n  AtomicReference&lt;Throwable&gt; err = new AtomicReference&lt;&gt;();\r\n  Runnable task = () -&gt; doWork(err);\r\n  service.submit(task);\r\n  while (true) {\r\n    synchronized (err) {\r\n      Throwable t = err.get();\r\n      if (t != null) throw t;\r\n      err.wait();\r\n    }\r\n  }\r\n}\r\n\r\npublic void doWork(AtomicReference&lt;Throwable&gt; envelope) {\r\n  try {\r\n    doActualWork();\r\n  catch (Throwable t) {\r\n    synchronized (envelope) {\r\n      envelope.set(t);\r\n      envelope.notifyAll();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThere are many, many ways to send messages from one thread to another and the above is a rather finicky, primitive form. It&#39;ll do fine if you don&#39;t currently have any comms channels already available to you. But, if you already have e.g. a message queue service or the like you should probably use that instead here.\r\n\r\n\r\n[1] `Thread.stop(someThrowable)` literally does this as per its own documentation. However, it doesn&#39;t work - it&#39;s not just deprecated, it has been axed entirely; calling it throws an `UnsupportedOperationException` on modern VMs (I think at this point 10 years worth of releases at least), and is marked deprecated with the rather ominous warning of _This method is inherently unsafe._ and a lot more to boot, it&#39;s not the right answer.","title":"How to throw an exception on another Thread in Java?","body":"<p>There is no direct way to do this.<sup>1</sup></p>\n<p>Hence, this question boils down to a combination of 2 simple things:</p>\n<ul>\n<li>How do I communicate some data from a submitted task back to the code that is managing the pool itself? Which boils down to: How do I send data from one thread to another, and...</li>\n<li>How do I throw an exception - which is trivial - <code>throw x;</code>.</li>\n</ul>\n<p>In other words, you make the exception in your task, and <em>do not <code>throw</code> it</em>, instead, you store the object in a place the main thread can see it, and notify the main thread they need to go fetch it and throw it. Your main thread waits for this notification and upon receiving it, fetches it, and throws it.</p>\n<p>A submitted task cannot simply 'ask' for its pool or the thread that manages it. However, that is easy enough to solve: Simply <em>pass</em> either the 'main thread' itself, or more likely some third object that serves as common communication line between them, to the task itself, so that task knows where to go.</p>\n<p>Here is one simplistic approach based on the raw synchronization primitives baked into java itself:</p>\n<pre><code>public static void main(String[] args) {\n  // I am the main thread\n  // Fire up the executorservice here and submit tasks to it.\n  // then ordinarily you would let this thread end or sleep.\n  // instead...\n\n  ExecutorService service = ...;\n  AtomicReference&lt;Throwable&gt; err = new AtomicReference&lt;&gt;();\n  Runnable task = () -&gt; doWork(err);\n  service.submit(task);\n  while (true) {\n    synchronized (err) {\n      Throwable t = err.get();\n      if (t != null) throw t;\n      err.wait();\n    }\n  }\n}\n\npublic void doWork(AtomicReference&lt;Throwable&gt; envelope) {\n  try {\n    doActualWork();\n  catch (Throwable t) {\n    synchronized (envelope) {\n      envelope.set(t);\n      envelope.notifyAll();\n    }\n  }\n}\n</code></pre>\n<p>There are many, many ways to send messages from one thread to another and the above is a rather finicky, primitive form. It'll do fine if you don't currently have any comms channels already available to you. But, if you already have e.g. a message queue service or the like you should probably use that instead here.</p>\n<p>[1] <code>Thread.stop(someThrowable)</code> literally does this as per its own documentation. However, it doesn't work - it's not just deprecated, it has been axed entirely; calling it throws an <code>UnsupportedOperationException</code> on modern VMs (I think at this point 10 years worth of releases at least), and is marked deprecated with the rather ominous warning of <em>This method is inherently unsafe.</em> and a lot more to boot, it's not the right answer.</p>\n"}],"owner":{"account_id":1600176,"reputation":870,"user_id":1481358,"accept_rate":75,"display_name":"ChaoSXDemon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74471561,"answer_count":1,"score":1,"last_activity_date":1668669695,"creation_date":1668665784,"question_id":74470936,"body_markdown":"So I&#39;m using `ListenableFuture` as a return type for certain operations. I expect the users to add callback to the future and then handle the success and exception cases. Now if the user cannot handle the exception, I want to have the ability to throw that exception onto the main Thread. Here&#39;s some code example:\r\n```\r\npublic class SomeProcessor {\r\n\r\n  ListeningExecutorService executor = MoreExecutors.listeningDecorator(Executors.newSingleThreadExecutor());\r\n\r\n  public ListenableFuture&lt;String&gt; doStringProcessing() {\r\n    return executor.submit(() -&gt; doWork());\r\n  }\r\n\r\n  private String doWork() {\r\n    return &quot;stuff&quot;;\r\n  }\r\n\r\n}\r\n```\r\n\r\nThen in a client class:\r\n```\r\npublic class SomeConsumer {\r\n\r\n  public SomeConsumer (SomeProcessor processor) {\r\n    Futures.addCallback(processor.doStringProcessing(), new FutureCallback&lt;String&gt;() {\r\n      @Override\r\n      public void onSuccess(String result) {\r\n        // do something with result\r\n      }\r\n\r\n      @Override\r\n      public void onFailure(Throwable t) {\r\n        if (t instanceof ExceptionICanHandle) {\r\n          // great, deal with it\r\n        } else {\r\n          // HERE I want to throw on the Main thread, not on the executor&#39;s thread\r\n          // Assume somehow I can get a hold of the main thread object\r\n          mainThread.getUncaughtExceptionHandler().uncaughtException(mainThread, t);\r\n          // This above code seems wrong???\r\n          throw new RuntimeException(&quot;Won&#39;t work as this is not on the mainthread&quot;);\r\n        }\r\n      }\r\n    }, MoreExecutors.directionExecutor());\r\n  }\r\n\r\n}\r\n```","title":"How to throw an exception on another Thread in Java?","body":"<p>So I'm using <code>ListenableFuture</code> as a return type for certain operations. I expect the users to add callback to the future and then handle the success and exception cases. Now if the user cannot handle the exception, I want to have the ability to throw that exception onto the main Thread. Here's some code example:</p>\n<pre><code>public class SomeProcessor {\n\n  ListeningExecutorService executor = MoreExecutors.listeningDecorator(Executors.newSingleThreadExecutor());\n\n  public ListenableFuture&lt;String&gt; doStringProcessing() {\n    return executor.submit(() -&gt; doWork());\n  }\n\n  private String doWork() {\n    return &quot;stuff&quot;;\n  }\n\n}\n</code></pre>\n<p>Then in a client class:</p>\n<pre><code>public class SomeConsumer {\n\n  public SomeConsumer (SomeProcessor processor) {\n    Futures.addCallback(processor.doStringProcessing(), new FutureCallback&lt;String&gt;() {\n      @Override\n      public void onSuccess(String result) {\n        // do something with result\n      }\n\n      @Override\n      public void onFailure(Throwable t) {\n        if (t instanceof ExceptionICanHandle) {\n          // great, deal with it\n        } else {\n          // HERE I want to throw on the Main thread, not on the executor's thread\n          // Assume somehow I can get a hold of the main thread object\n          mainThread.getUncaughtExceptionHandler().uncaughtException(mainThread, t);\n          // This above code seems wrong???\n          throw new RuntimeException(&quot;Won't work as this is not on the mainthread&quot;);\n        }\n      }\n    }, MoreExecutors.directionExecutor());\n  }\n\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668672705,"post_id":74471014,"comment_id":131463983,"body_markdown":"Please edit your question and show us how is `fStore` initialized.","body":"Please edit your question and show us how is <code>fStore</code> initialized."}],"answers":[{"comments":[{"owner":{"account_id":26701063,"reputation":27,"user_id":20308102,"display_name":"Learner"},"score":0,"creation_date":1668683930,"post_id":74471518,"comment_id":131468143,"body_markdown":"my mistakes thought firestore and firestorage is the same thing.. thank you.","body":"my mistakes thought firestore and firestorage is the same thing.. thank you."}],"tags":[],"owner":{"account_id":25404813,"reputation":106,"user_id":19213695,"display_name":"Rahim Virani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668669492,"creation_date":1668669492,"answer_id":74471518,"question_id":74471014,"body_markdown":"Please verify your dataStype for fstore object in both classes or post full code wherever you are declaring the fstore and intializing it","title":"Cannot resolve method &#39;collection&#39; in &#39;FirebaseStorage&#39;","body":"<p>Please verify your dataStype for fstore object in both classes or post full code wherever you are declaring the fstore and intializing it</p>\n"}],"owner":{"account_id":26701063,"reputation":27,"user_id":20308102,"display_name":"Learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74471518,"answer_count":1,"score":0,"last_activity_date":1668669492,"creation_date":1668666254,"question_id":74471014,"body_markdown":"i want to accsess my firebase `collection` but somehow it didnt work on this java file, in otherwise i had another java file on my android project thats containts the same syntax and its actually work.. i dont have any idea to solve this line\r\n\r\non Signupn.java (worked)\r\n\r\n    fAuth.createUserWithEmailAndPassword(email, password)\r\n                        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            Toast.makeText(SignUp.this, &quot;User Created&quot;, Toast.LENGTH_SHORT).show();\r\n                            userId = fAuth.getCurrentUser().getUid();\r\n                            DocumentReference documentReference =fStore.collection(&quot;users&quot;).document(userId);\r\n                            Map&lt;String,Object&gt; user =new HashMap&lt;&gt;();\r\n                            user.put(&quot;fName&quot;,fullName);\r\n                            user.put(&quot;email&quot;,email);\r\n                            user.put(&quot;phone&quot;,phone);\r\n                            documentReference.set(user).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onSuccess(Void unused) {\r\n                                    Log.d(TAG,&quot;onSuccess: user Profile is created for &quot;+ userId);\r\n                                }\r\n                            });\r\n                            startActivity(new Intent(getApplicationContext(), MainActivity.class));\r\n                        }else{\r\n                            Toast.makeText(SignUp.this, &quot;Error!&quot;+task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                            progressBar.setVisibility(View.GONE);\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\non EditProfile.java (error)\r\n\r\n     saveBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (editFullName.getText().toString().isEmpty() || editEmail.getText().toString().isEmpty()\r\n                            || editPhone.getText().toString().isEmpty()) {\r\n                        Toast.makeText(EditProfile.this, &quot;All Fields Are Required.&quot;, Toast.LENGTH_SHORT).show();\r\n                        return;\r\n                    }\r\n    \r\n                    String email = editEmail.getText().toString();\r\n                    user.updateEmail(email).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Void unused) {\r\n                            DocumentReference docRef = fStore.collection(&quot;users&quot;).document(user.getUid());\r\n                            Map&lt;String, Object&gt; edited = new HashMap&lt;&gt;();\r\n                            edited.put(&quot;email&quot;, email);\r\n                            edited.put(&quot;fName&quot;, editFullName.getText().toString());\r\n                            edited.put(&quot;phone&quot;, editPhone.getText().toString());\r\n                            docRef.update(edited);\r\n                            Toast.makeText(EditProfile.this, &quot;Email Changed Successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(EditProfile.this, &quot;Error!&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n    \r\n    here is where the error line\r\n    \r\n    DocumentReference docRef = fStore.collection(&quot;users&quot;).document(user.getUid());\r\n\r\nin `collection` sentence.\r\n\r\n[this picture from editProfile.java][1]\r\n\r\n\r\n[this picture from signup.java][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6tSlJ.png\r\n  [2]: https://i.stack.imgur.com/aU36l.png\r\n\r\nthank you for your value answers, any answer i really apriciate it.\r\n","title":"Cannot resolve method &#39;collection&#39; in &#39;FirebaseStorage&#39;","body":"<p>i want to accsess my firebase <code>collection</code> but somehow it didnt work on this java file, in otherwise i had another java file on my android project thats containts the same syntax and its actually work.. i dont have any idea to solve this line</p>\n<p>on Signupn.java (worked)</p>\n<pre><code>fAuth.createUserWithEmailAndPassword(email, password)\n                    .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                    if (task.isSuccessful()) {\n                        Toast.makeText(SignUp.this, &quot;User Created&quot;, Toast.LENGTH_SHORT).show();\n                        userId = fAuth.getCurrentUser().getUid();\n                        DocumentReference documentReference =fStore.collection(&quot;users&quot;).document(userId);\n                        Map&lt;String,Object&gt; user =new HashMap&lt;&gt;();\n                        user.put(&quot;fName&quot;,fullName);\n                        user.put(&quot;email&quot;,email);\n                        user.put(&quot;phone&quot;,phone);\n                        documentReference.set(user).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                            @Override\n                            public void onSuccess(Void unused) {\n                                Log.d(TAG,&quot;onSuccess: user Profile is created for &quot;+ userId);\n                            }\n                        });\n                        startActivity(new Intent(getApplicationContext(), MainActivity.class));\n                    }else{\n                        Toast.makeText(SignUp.this, &quot;Error!&quot;+task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n                        progressBar.setVisibility(View.GONE);\n                    }\n                }\n            });\n</code></pre>\n<p>on EditProfile.java (error)</p>\n<pre><code> saveBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (editFullName.getText().toString().isEmpty() || editEmail.getText().toString().isEmpty()\n                        || editPhone.getText().toString().isEmpty()) {\n                    Toast.makeText(EditProfile.this, &quot;All Fields Are Required.&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                String email = editEmail.getText().toString();\n                user.updateEmail(email).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void unused) {\n                        DocumentReference docRef = fStore.collection(&quot;users&quot;).document(user.getUid());\n                        Map&lt;String, Object&gt; edited = new HashMap&lt;&gt;();\n                        edited.put(&quot;email&quot;, email);\n                        edited.put(&quot;fName&quot;, editFullName.getText().toString());\n                        edited.put(&quot;phone&quot;, editPhone.getText().toString());\n                        docRef.update(edited);\n                        Toast.makeText(EditProfile.this, &quot;Email Changed Successfully.&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(EditProfile.this, &quot;Error!&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n        });\n\nhere is where the error line\n\nDocumentReference docRef = fStore.collection(&quot;users&quot;).document(user.getUid());\n</code></pre>\n<p>in <code>collection</code> sentence.</p>\n<p><a href=\"https://i.stack.imgur.com/6tSlJ.png\" rel=\"nofollow noreferrer\">this picture from editProfile.java</a></p>\n<p><a href=\"https://i.stack.imgur.com/aU36l.png\" rel=\"nofollow noreferrer\">this picture from signup.java</a></p>\n<p>thank you for your value answers, any answer i really apriciate it.</p>\n"},{"tags":["java","image","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":26958380,"reputation":1,"user_id":20526405,"display_name":"Ilikefun"},"score":0,"creation_date":1668679602,"post_id":74471516,"comment_id":131466515,"body_markdown":"I don&#39;t understand, (/src/main/resources)  part is a bit confusing, Can you elaborate further? The links are a bit confusing so I&#39;ll do some further research into them. Thank you!","body":"I don&#39;t understand, (/src/main/resources)  part is a bit confusing, Can you elaborate further? The links are a bit confusing so I&#39;ll do some further research into them. Thank you!"}],"tags":[],"owner":{"account_id":324951,"reputation":935,"user_id":6722664,"display_name":"Sagar Gandhi"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668669479,"creation_date":1668669479,"answer_id":74471516,"question_id":74470354,"body_markdown":"The location of resources is not correct. It should be under the /src/main/resources\r\n\r\nThen you can use following to read the file.\r\n\r\n      InputStream is = getClass().getClassLoader().getResourceAsStream(&quot;file.txt&quot;);\r\n    \r\n      InputStream is = JavaClassName.class.getClassLoader().getResourceAsStream(&quot;file.txt&quot;);\r\n\r\nReference : \r\nhttps://mkyong.com/java/java-read-a-file-from-resources-folder/\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html\r\n","title":"How to add Images to .jar file in Intellij","body":"<p>The location of resources is not correct. It should be under the /src/main/resources</p>\n<p>Then you can use following to read the file.</p>\n<pre><code>  InputStream is = getClass().getClassLoader().getResourceAsStream(&quot;file.txt&quot;);\n\n  InputStream is = JavaClassName.class.getClassLoader().getResourceAsStream(&quot;file.txt&quot;);\n</code></pre>\n<p>Reference :\n<a href=\"https://mkyong.com/java/java-read-a-file-from-resources-folder/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/java-read-a-file-from-resources-folder/</a>\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html</a></p>\n"}],"owner":{"account_id":26958380,"reputation":1,"user_id":20526405,"display_name":"Ilikefun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668669479,"creation_date":1668660636,"question_id":74470354,"body_markdown":"I&#39;ve been trying to add Images to my jar file for some time now I&#39;ve searched many ways but nothing works. Many threads say various methods that don&#39;t work and its frustrating me.\r\n\r\n*I have the problem where when I run it with Intellij the images render well*, but **when I build it into a .jar file all the images don&#39;t render**\r\n\r\nMy normal code is written like this:\r\n\r\n    &gt; randomIcon = new ImageIcon(&quot;src/&quot;+ randomChoice + &quot;.png&quot;);\r\n\r\nI&#39;ve tried to do this but it returns as a `Exception in thread &quot;main&quot; java.lang.NullPointerException`\r\n\r\n \r\n\r\n    randomIcon = new ImageIcon(getClass().getResourceAsStream(&quot;src/&quot; + randomChoice + &quot;.png&quot;).toString());\r\n\r\n&gt;  I&#39;m not sure what I&#39;m doing, I&#39;m just very confused  \r\n&gt;[This is my\r\n&gt;project folder](https://i.stack.imgur.com/r4AFQ.png)\r\n\r\n**I&#39;d be very happy if someone says a simple solution or tell me what I&#39;m doing wrong!**\r\nThank you!\r\n","title":"How to add Images to .jar file in Intellij","body":"<p>I've been trying to add Images to my jar file for some time now I've searched many ways but nothing works. Many threads say various methods that don't work and its frustrating me.</p>\n<p><em>I have the problem where when I run it with Intellij the images render well</em>, but <strong>when I build it into a .jar file all the images don't render</strong></p>\n<p>My normal code is written like this:</p>\n<pre><code>&gt; randomIcon = new ImageIcon(&quot;src/&quot;+ randomChoice + &quot;.png&quot;);\n</code></pre>\n<p>I've tried to do this but it returns as a <code>Exception in thread &quot;main&quot; java.lang.NullPointerException</code></p>\n<pre><code>randomIcon = new ImageIcon(getClass().getResourceAsStream(&quot;src/&quot; + randomChoice + &quot;.png&quot;).toString());\n</code></pre>\n<blockquote>\n<p>I'm not sure what I'm doing, I'm just very confused<br />\n<a href=\"https://i.stack.imgur.com/r4AFQ.png\" rel=\"nofollow noreferrer\">This is my\nproject folder</a></p>\n</blockquote>\n<p><strong>I'd be very happy if someone says a simple solution or tell me what I'm doing wrong!</strong>\nThank you!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9345,"page":878,"page_size":100}
